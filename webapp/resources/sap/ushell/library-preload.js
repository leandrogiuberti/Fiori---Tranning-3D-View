//@ui5-bundle sap/ushell/library-preload.js
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/AppInfoParameters", ["sap/base/Log","sap/ushell/services/AppConfiguration","sap/ui/thirdparty/hasher","sap/base/util/deepClone","sap/base/util/isPlainObject","sap/base/util/restricted/_curry","sap/base/util/restricted/_zipObject","sap/ui/VersionInfo","sap/ushell/Container"],(t,e,r,a,n,i,s,o,p)=>{"use strict";const u="LAUNCHPAD";const c=["productName","theme","appIntent","url"];const l=["productName","theme","languageTag","appIntent","technicalAppComponentId","appId","appVersion","appSupportInfo","appFrameworkVersion","appFrameworkId","title","applicationParams","shellFrameworkVersion","url","abap.transaction"];class h{#t={theme:this.#e.bind(this,"User.env.sap-theme-NWBC"),languageTag:this.#e.bind(this,"User.env.sap-languagebcp47"),appIntent:this.#r.bind(this),appFrameworkId:this.#a.bind(this),appFrameworkVersion:this.#n.bind(this),appSupportInfo:this.#i.bind(this),technicalAppComponentId:this.#s.bind(this),appId:this.#o.bind(this),appVersion:this.#p.bind(this),productName:i(this.#u.bind(this))("productName"),applicationParams:this.#c.bind(this),url:this.#l.bind(this),"abap.transaction":this.#h.bind(this)};#m={};#f={};#d(t){let e=t.applicationType;if(e==="TR"){e="GUI"}return e}#g(){return e.getCurrentApplication()?.appCapabilities||{}}async#n(e){const r=this.#d(e);if(r==="UI5"){try{const t=await o.load();return`${t.version||""} (${t.buildTimestamp||""})`||""}catch(e){t.error("VersionInfo could not be loaded",e)}}}async#p(t){const e=t.componentInstance;if(e){const t=e.getManifestEntry("/sap.app/applicationVersion/version");return t}}async#i(t){const[e]=await t.getTechnicalParameter("sap-ach")||[];if(e){return e}return this.#g().appSupportInfo}async#s(t){const r=this.#d(t);const a=e.getMetadata();if(r==="UI5"){const e=t.componentInstance;if(e){let t=e.getManifestEntry("/sap.ui5/componentName");if(!t){t=e.getMetadata().getComponentName()}return t}return a.technicalName}if(r==="URL"){const t=e.getCurrentApplication();if(t.appCapabilities.technicalAppComponentId){return t.appCapabilities.technicalAppComponentId}}if(r==="GUI"){return(a.technicalName||"").replace(/ .*/,"").replace(/^\*/,"")}if(r==="WDA"||r==="NWBC"){return a.technicalName}}async#o(t){const[e]=await t.getTechnicalParameter("sap-fiori-id")||[];if(t.homePage){if(e){if(e!==""){return`${u} (${e})`}return u}return u}else if(e){return e}return this.#g().appId||t.inboundPermanentKey}async#e(t){const e=await p.getServiceAsync("ReferenceResolver");const r=await e.resolveReferences([t]);return r[t]}async#a(t){const r=e.getCurrentApplication();let a=this.#d(t);if(a==="URL"){a=r.appCapabilities&&r.appCapabilities.appFrameworkId}const n={NWBC:"WDA",TR:"GUI"};return n[a]||a}async#u(t,e){const r=await e.getSystemContext();return r.getProperty(t)}async#r(){const t=r.getHash();if(!t){throw new Error("Could not identify current application hash")}return t}async#c(t,e){let r={};if(e?.getCurrentAppTargetResolution?.().extendedInfo){r=e.getCurrentAppTargetResolution().extendedInfo.appParams}return r}async getAllAppInfo(t,e,r,a){const n={};const i=Object.keys(this.#t);const s=Object.keys(this.#m);const o=Array.from(new Set([...i,...s]));try{const r=await this.#A(o,e,a);for(const e in r){if(t){n[e]=r[e]}else{n[e]={value:r[e]}}}}catch{}const p=Object.keys(this.#f);try{const r=await this.#A(p,e,a);for(const e in r){if(t){n[e]=r[e].value}else{n[e]=r[e]}}}catch{}return n}async getInfo(t,e,r){if(!e){throw new Error("Parameter application missing")}return this.#A(["appFrameworkId"],e,r).then(()=>this.#A(t,e,r))}async#A(e,r,a){const n=e.map(async e=>{if(l.includes(e)){if(Object.hasOwn(this.#m,e)){return this.#m[e]}if(Object.hasOwn(this.#t,e)){return this.#t[e](r,a)}t.error(`value for parameter '${e}' is not set.`);return}if(Object.hasOwn(this.#f,e)){if(true){const t=this.#f[e];if(t.migrated){return t.value}}return this.#f[e]}if(e.includes(".")){return this.#u(e,r,a)}t.error(`'${e}' is not a valid app info parameter`)});return Promise.allSettled(n).then(t=>{for(let e=0;e<t.length;e++){if(t[e].status==="fulfilled"){t[e]=t[e].value}else{t[e]=undefined}}return s(e,t)})}setCustomAttributes(e){if(e===undefined||Object.keys(e).length===0){this.flush();return}let r=a(e);if(r.info&&Object.keys(r).length===1){t.error("The old interface for setting custom attributes is deprecated and will be removed in future.");r=r.info}const i={};for(const e in r){if(e==="customProperties"){continue}if(c.includes(e)){t.error(`Attribute '${e}' is restricted and will be ignored.`);continue}if(!l.includes(e)){if(true){t.error(`Attribute '${e}' is not supported and will be moved to customProperties instead. This migration will be removed in future.`);i[e]={value:r[e],showInAbout:false,migrated:true};continue}t.error(`Attribute '${e}' is not supported and will be ignored. It should be moved to the customProperties instead.`);continue}const a=r[e];if(typeof a!=="string"){t.error(`Attribute value for '${e}' is not a string and will be ignored.`);continue}this.#m[e]=a}const s={...i,...r.customProperties};for(const e in s){let r=s[e];if(l.includes(e)){this.#m[e]=r;continue}if(!n(r)){t.error(`Custom attribute '${e}' does not have the correct format. This property will be ignored in future.`);r={value:r,showInAbout:false,migrated:true}}if(!this.#b(e,r)){continue}this.#f[e]=r}}#b(e,r){if(!n(r)){t.error(`Custom attribute '${e}' does not have the correct format and will be ignored.`);return false}if(r.showInAbout===false){return true}r.showInAbout=true;if(!r.label){t.error(`Custom attribute '${e}' has no label and will be ignored.`);return false}return true}#l(){return p.getFLPUrl(true)}#h(t,e){return e?.getCurrentAppTargetResolution?.().appInfo?.["abap.transaction"]}store(t={}){t.appInfoParameters={appParameters:a(this.#m),customAppParameters:a(this.#f)}}restore(t={}){const{appParameters:e,customAppParameters:r}=t.appInfoParameters||{};this.#m=e?a(e):{};this.#f=r?a(r):{}}flush(){this.#m={};this.#f={}}}return new h},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ApplicationType", ["sap/ushell/Config"],e=>{"use strict";function t(e,t,n){const s=arguments;return new Promise((e,t)=>{sap.ui.require(["sap/ushell/ApplicationType/wdaResolution"],n=>{n.generateWDAResolutionResult.apply(n,s).then(e).catch(t)})})}function n(){const e=arguments;return new Promise((t,n)=>{sap.ui.require(["sap/ushell/ApplicationType/wdaResolution"],s=>{s.resolveEasyAccessMenuIntentWDA.apply(s,e).then(t).catch(n)})})}function s(e,t,n){return new Promise((s,u)=>{sap.ui.require(["sap/ushell/ApplicationType/guiResolution"],l=>{l.generateTRResolutionResult(e,t,n).then(s).catch(u)})})}function u(){const e=arguments;return new Promise((t,n)=>{sap.ui.require(["sap/ushell/ApplicationType/guiResolution"],s=>{s.resolveEasyAccessMenuIntentWebgui.apply(s,e).then(t).catch(n)})})}function l(e,t,n){const s=arguments;return new Promise((e,t)=>{sap.ui.require(["sap/ushell/ApplicationType/wcfResolution"],n=>{n.generateWCFResolutionResult.apply(n,s).then(e).catch(t)})})}function i(e,t,n){const s=arguments;return new Promise((e,t)=>{sap.ui.require(["sap/ushell/ApplicationType/ui5Resolution"],n=>{n.generateUI5ResolutionResult.apply(n,s).then(e).catch(t)})})}function o(e,t,n){const s=arguments;return new Promise((e,t)=>{sap.ui.require(["sap/ushell/ApplicationType/urlTemplateResolution"],n=>{n.generateURLTemplateResolutionResult.apply(n,s).then(e).catch(t)})})}function r(e,t,n){const s=arguments;return new Promise((e,t)=>{sap.ui.require(["sap/ushell/ApplicationType/urlResolution"],n=>{n.generateURLResolutionResult.apply(n,s).then(e).catch(t)})})}const a={URL:{type:"URL",defaultFullWidthSetting:true,generateResolutionResult:function(e){const t=e.inbound.hasOwnProperty("templateContext");return t?o.apply(null,arguments):r.apply(null,arguments)},easyAccessMenu:{intent:"Shell-startURL",resolver:null,showSystemSelectionInUserMenu:true,showSystemSelectionInSapMenu:false,systemSelectionPriority:1}},WDA:{type:"WDA",defaultFullWidthSetting:true,enableWdaCompatibilityMode:e.last("/core/navigation/enableWdaCompatibilityMode"),generateResolutionResult:t,easyAccessMenu:{intent:"Shell-startWDA",resolver:n,showSystemSelectionInUserMenu:true,showSystemSelectionInSapMenu:true,systemSelectionPriority:2}},TR:{type:"TR",defaultFullWidthSetting:true,generateResolutionResult:s,easyAccessMenu:{intent:"Shell-startGUI",resolver:u,showSystemSelectionInUserMenu:true,showSystemSelectionInSapMenu:true,systemSelectionPriority:3}},NWBC:{type:"NWBC",defaultFullWidthSetting:true},WCF:{type:"WCF",generateResolutionResult:l,defaultFullWidthSetting:true},SAPUI5:{type:"SAPUI5",generateResolutionResult:i,defaultFullWidthSetting:false}};function c(){return Object.keys(a).map(e=>a[e]).filter(e=>typeof e.easyAccessMenu==="object")}function p(){const e={};c().forEach(t=>{e[t.easyAccessMenu.intent]=t.easyAccessMenu.resolver});return function(t,n){if(e[t]&&(!n||n!=="SAPUI5")){return e[t]}return null}}function y(e){return!!a[e]&&a[e].defaultFullWidthSetting}Object.defineProperty(a,"enum",{value:Object.keys(a).reduce((e,t)=>{if(a[t].type){e[t]=a[t].type}return e},{})});const h={getEasyAccessMenuResolver:p(),getEasyAccessMenuDefinitions:c,getDefaultFullWidthSetting:y};Object.keys(h).forEach(e=>{Object.defineProperty(a,e,{value:h[e]})});return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ApplicationType/UrlPostProcessing", ["sap/ui/core/Supportability","sap/ui/thirdparty/hasher","sap/ushell/Config","sap/ushell/Container","sap/ushell/library","sap/ushell/User","sap/ushell/utils","sap/ushell/utils/UriParameters","sap/ushell/utils/UrlParsing"],(e,t,s,i,a,n,r,l,o)=>{"use strict";const c=a.appIntegration.contracts.StatefulType;const p={};p.processUrl=function(e,t,s,i){const a=r.isApplicationTypeEmbeddedInIframe(t,true);const n=i&&r.isApplicationTypeEmbeddedInIframe(i.getFrameworkId());if(!a&&!n){return e}let l;let o;let p;if(i){l=i.getTargetNavigationMode();o=i.getStatefulType()!==c.NotSupported;p=i.getUi5Version()}e=this._processUrl(e,t,l,o,s,p);return e};p._processUrl=function(e,t,i,a,n,l){const o={};o["sap-ie"]="edge";const c=this._getTheme(e);if(c){o["sap-theme"]=c}if(this._getAccessibility()){o["sap-accessibility"]="X"}if(this._getStatistics(e)){o["sap-statistics"]="true"}const p=this._getDensity();if(p&&p.length>0){o["sap-touch"]=p}if(!n){if(i){o["sap-target-navmode"]=i}if(t==="TR"||t==="GUI"){o["sap-keepclientsession"]="2"}else if(a){o["sap-keepclientsession"]="1"}const n=this._getInAppState();if(n&&n.length>0){o["sap-iapp-state"]=n}let c=0;if(s.last("/core/shell/sessionTimeoutIntervalInMinutes")>0){c=s.last("/core/shell/sessionTimeoutIntervalInMinutes")}o["sap-ushell-timeout"]=c;e=this._addSearchOrShellParamsToURL(e,o);return r.appendSapShellParamSync(e,t,l)}return this._addSearchOrShellParamsToURL(e,o)};p._addSearchOrShellParamsToURL=function(e,t){if(e.indexOf("#")===-1){return o.addParamsToUrl(e,t)}return o.addShellParamsToURL(e,t)};p._getAccessibility=function(){const e=r.getParameterValueBoolean("sap-accessibility");if(e!==undefined){return e}return i.getUser().getAccessibilityMode()};p._getTheme=function(e){const t=l.fromURL(e)||{mParams:{}};if(t.mParams["sap-theme"]===undefined){return i.getUser().getTheme(n.prototype.constants.themeFormat.NWBC)}return};p._getStatistics=function(t){let s=false;const i=l.fromURL(t)||{mParams:{}};s=e.isStatisticsEnabled()&&i.mParams["sap-statistics"]===undefined;return s};p._getInAppState=function(){const e=t.getHash();let s="";let i;if(e&&e.length>0&&e.indexOf("sap-iapp-state=")>0){i=/(?:sap-iapp-state=)([^&/]+)/.exec(e);if(i&&i.length===2){s=i[1]}}return s};p._getDensity=function(){let e="";const t=!!document.body?.classList.contains("sapUiSizeCompact");const s=!!document.body?.classList.contains("sapUiSizeCozy");if(t===true){e="0"}else if(s){e="1"}return e};return p});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ApplicationType/guiResolution", ["sap/base/Log","sap/base/util/deepExtend","sap/ui/thirdparty/URI","sap/ushell/ApplicationType/systemAlias","sap/ushell/ApplicationType/utils","sap/ushell/Config","sap/ushell/Container","sap/ushell/services/ClientSideTargetResolution/ParameterMapping","sap/ushell/services/ClientSideTargetResolution/Utils"],(e,t,s,n,a,r,i,o,l)=>{"use strict";function p(e,t){t.forEach(t=>{delete e[t]})}function u(e,t){return t&&t.signature&&t.signature&&t.signature.parameters&&t.signature.parameters[e]&&t.signature.parameters[e].required===true}function c(e,t){let s;if(arguments.length===1){s=e.split(/[=](.+)?/);if(s.length>1){return c.apply(null,s)}}return!(e.indexOf("sap-")===0||e.indexOf("saml")===0||e.charAt(0)==="~")}function m(e){const t=l.filterObject(e,c);return t}function f(e,t){const s=u("DYNP_OKCODE",t)||u("DYNP_NO1ST",t);let n=[];if(s){return[]}const a=m(e);function r(e){return e.toUpperCase()}const i=Object.keys(a).map(r).sort();function o(e,t){if(e.length!==t.length){return false}return e.every((s,n)=>e[n]===t[n])}if(o(["DYNP_NO1ST","DYNP_OKCODE"],i)||o(["DYNP_OKCODE"],i)||o(["DYNP_NO1ST"],i)){n=Object.keys(a)}return n}function d(e,t,a,r){e=encodeURIComponent(e);const i=`/gui/sap/its/webgui?%7etransaction=${e}&%7enosplash=1`;const o=new s(i);return n.spliceSapSystemIntoURI(o,n.LOCAL_SYSTEM_ALIAS,t,a,"NATIVEWEBGUI",n.SYSTEM_ALIAS_SEMANTICS.apply,r)}function y(e){const t="^(.+?)(%20|(%20)(.+))?$";const s=new RegExp(t,"i");const n={hasParameters:null,transactionParamName:"",transactionCode:"",parameters:[]};const a=e.split("=");if(a.length>2){return{error:"Found more than one assignment ('=') in the transaction query parameter",details:`Only one '=' sign is expected in ${e}`}}if(a.length<2||typeof a[1]==="undefined"||a[1].length===0){return{error:"The transaction query parameter must specify at least the transaction name",details:`Got ${e} instead.`}}n.transactionParamName=a[0];const r=a[1];const i=r.match(s);if(!i){return{error:"Cannot parse ~transaction query parameter value.",details:`${r} should match /${t}/`}}n.transactionCode=i[1];if(i[2]&&i[2]!=="%20"){const e=i[4]||"";e.split("%3b").forEach(e=>{const t=e.split("%3d");const s=t[0];if(s&&typeof s==="string"&&s.length>0){n.parameters.push({name:s,value:t[1]})}})}n.hasParameters=false;if(n.parameters.length>0){n.hasParameters=true;n.transactionCode=n.transactionCode.replace(/^[*]/,"")}return n}function P(e){let t="";if(e.hasOwnProperty("DYNP_SKIP_SEL_SCREEN")){const s=e.DYNP_SKIP_SEL_SCREEN[0];delete e.DYNP_SKIP_SEL_SCREEN;if(s===""||s===" "||s==="0"||s===0||typeof s==="string"&&s.toLowerCase()==="false"){t="0"}else if(s==="1"||s===1||typeof s==="string"&&s.toLowerCase()==="true"){t="1"}}return t}function g(t,s){const n=y(t);if(n.error){e.error(n.error,n.details,"sap.ushell.services.ClientSideTargetResolution");return t}const r=n.parameters.map(e=>`${e.name.toUpperCase()}%3d${e.value}`);const i=P(s);const o={};Object.keys(s).forEach(e=>{o[e.toUpperCase()]=s[e]});let l=a.getURLParsing().urlParametersToString(o,"%3b","%3d");if(l){if(Object.keys(s).length>0){l+="%3b"}r.push(l)}const p=r.length>0;return`${n.transactionParamName}=${p&&(i===""||i==="1")?"*":""}${n.transactionCode}${p?"%20":""}${r.join("%3b")}`}function S(e){const t=l.filterObject(e,(e,t)=>!c(e,t));return t}function h(s,n,r){const i={"sap-wd-run-sc":true,"sap-wd-auto-detect":true,"sap-ep-version":true,"sap-system":true};const o={};const l=t({},n);const u=l["sap-system"]&&l["sap-system"][0];const m=l["sap-system-src"]&&l["sap-system-src"][0];o["sap-system"]=u;if(typeof m==="string"){o["sap-system-src"]=m}Object.keys(l).forEach(e=>{if(i[e.toLowerCase()]){delete l[e]}});const d=f(l,s||{});p(l,d);const y=S(l);p(l,Object.keys(y));const P=r.search();let h=P.split("&").map(t=>{let s;if(!c(t)){if(t.indexOf("=")>=0){s=t.split("=");if(!y.hasOwnProperty(s[0])){y[s[0]]=s[1]}}else{e.error("Found no '=' separator of Webgui non-business parameter. Parameter will be skipped.",`'${t}'`,"sap.ushell.services.ClientSideTargetResolution")}return undefined}if(t.indexOf("?%7etransaction")===0||t.indexOf("%7etransaction")===0){return g(t,l)}return t}).filter(e=>typeof e!=="undefined").join("&");const R=a.getURLParsing().paramsToString(y);h=[h,R.replace("~","%7e")].join("&");r.search(h);["additionalInformation","applicationDependencies","sap.platform.runtime"].forEach(e=>{if(s.resolutionResult.hasOwnProperty(e)){o[e]=s.resolutionResult[e]}});o.url=r.toString();o.text=s.title;o.applicationType="TR";a.setSystemAlias(o,s.resolutionResult);return o}function R(e,t,s){const n=e.inbound;const r=n&&n.resolutionResult;const i=e.mappedIntentParamsPlusSimpleDefaults||{};let l=r.systemAlias;if(i["sap-system"]){l=i["sap-system"][0]}let p;if(i["sap-system-src"]){p=i["sap-system-src"][0]}return d(n.resolutionResult["sap.gui"].transaction,l,p,s).then(t=>{o.mapParameterNamesAndRemoveObjects(e);const s=h(e.inbound,e.mappedIntentParamsPlusSimpleDefaults,t);if(s&&e.inbound&&e.inbound.resolutionResult&&e.inbound.resolutionResult["sap.platform.runtime"]){s["sap.platform.runtime"]=e.inbound.resolutionResult["sap.platform.runtime"]}s["sap-system"]=l;a.setSystemAlias(s,n.resolutionResult);return s})}function b(e,r,i){const o=e.inbound;const l=o&&o.resolutionResult;const u={};const c=new s(r);const m=t({},e.mappedIntentParamsPlusSimpleDefaults);const d=m["sap-system"]&&m["sap-system"][0];const y=m["sap-system-src"]&&m["sap-system-src"][0];u["sap-system"]=d;delete m["sap-system"];if(typeof y==="string"){u["sap-system-src"]=y;delete m["sap-system-src"]}const P=f(m,o||{});p(m,P);return n.spliceSapSystemIntoURI(c,l.systemAlias,d,y,"WEBGUI",u.systemAliasSemantics||n.SYSTEM_ALIAS_SEMANTICS.applied,i).then(e=>{const t=a.getURLParsing().paramsToString(m);let s=e.search();if(t){s=s+(s.indexOf("?")<0?"?":"&")+t}e.search(s);["additionalInformation","applicationDependencies"].forEach(e=>{if(o.resolutionResult.hasOwnProperty(e)){u[e]=o.resolutionResult[e]}});u.url=e.toString();u.text=o.title;u.applicationType="NWBC";a.setSystemAlias(u,o.resolutionResult);return u})}function O(e,a,r){const i=e.inbound;const o=i&&i.resolutionResult;const l={"sap-wd-run-sc":true,"sap-wd-auto-detect":true,"sap-ep-version":true,"sap-system":true,"sap-system-src":true};const p=new s(a);const u=t({},e.mappedIntentParamsPlusSimpleDefaults);const c=u["sap-system"]&&u["sap-system"][0];const m=u["sap-system-src"]&&u["sap-system-src"][0];Object.keys(u).forEach(e=>{if(l[e.toLowerCase()]){delete u[e]}});return n.spliceSapSystemIntoURI(p,o.systemAlias,c,m,"NATIVEWEBGUI",o.systemAliasSemantics||n.SYSTEM_ALIAS_SEMANTICS.applied,r).then(t=>{const s=h(e.inbound,e.mappedIntentParamsPlusSimpleDefaults,t);return s})}function T(e,t,s,n,a){let r=false;const i=e+n;const o=t.split(s).map(e=>{if(e.indexOf(i)!==0){return e}r=true;return a(e)}).filter(e=>typeof e!=="undefined").join(s);return{found:r,query:o}}function I(e,t,s,n){const r=`P_OBJECT${n}`;const i=132;let o=a.getURLParsing().urlParametersToString(t,"%25","%21");if(!o){return e}let l="";T("P_OBJECT",e,s,n,e=>{const t=e.replace(r,"");l=decodeURIComponent(t);if(l.length>0){l=`${l}%25`}return r});o=l+o;const p={pObjX:"",pObject:""};o.match(new RegExp(`.{1,${i}}`,"g")).map(e=>encodeURIComponent(e)).forEach((e,t)=>{let a="P_OBJECT";let r="pObject";if(t>0){a=`P_OBJ${t}`;r="pObjX"}const i=p[r].length===0?"":s;p[r]=p[r]+i+a+n+e});const u=[p.pObjX,p.pObject].filter(e=>e.length>0).join(s);const c=T("P_OBJECT",e,s,n,e=>u);if(c.found){return c.query}return e+(e.length===0?"":s)+u}function E(e,r,i){const o=e.inbound;const l=o&&o.resolutionResult;const p={};const u=new s(r);const c=t({},e.mappedIntentParamsPlusSimpleDefaults);const m=c["sap-system"]&&c["sap-system"][0];const f=c["sap-system-src"]&&c["sap-system-src"][0];p["sap-system"]=m;delete c["sap-system"];if(typeof f==="string"){p["sap-system-src"]=f;delete c["sap-system-src"]}return n.spliceSapSystemIntoURI(u,l.systemAlias,m,f,"WEBGUI",l.systemAliasSemantics||n.SYSTEM_ALIAS_SEMANTICS.applied,i).then(e=>{let t=e.search();t=I(t,c,"&","=");e.search(t);["additionalInformation","applicationDependencies"].forEach(e=>{if(o.resolutionResult.hasOwnProperty(e)){p[e]=o.resolutionResult[e]}});p.url=e.toString();p.text=o.title;p.applicationType="NWBC";a.setSystemAlias(p,o.resolutionResult);return p})}function A(e,r,i){const o=e.inbound;const l=o&&o.resolutionResult;const p={};const u=new s(r);const c=t({},e.mappedIntentParamsPlusSimpleDefaults);const m=c["sap-system"]&&c["sap-system"][0];const f=c["sap-system-src"]&&c["sap-system-src"][0];p["sap-system"]=m;delete c["sap-system"];if(typeof f==="string"){p["sap-system-src"]=f;delete c["sap-system-src"]}return n.spliceSapSystemIntoURI(u,l.systemAlias,m,f,"NATIVEWEBGUI",l.systemAliasSemantics||n.SYSTEM_ALIAS_SEMANTICS.applied,i).then(e=>{const t=e.search();const s=t.split("&").map(e=>{let t;if(e.indexOf("?%7etransaction")===0||e.indexOf("%7etransaction")===0){t=I(e,c,"%3b","%3d");return t}return e}).join("&");e.search(s);["additionalInformation","applicationDependencies"].forEach(e=>{if(o.resolutionResult.hasOwnProperty(e)){p[e]=o.resolutionResult[e]}});p.url=e.toString();p.text=o.title;p.applicationType="TR";a.setSystemAlias(p,o.resolutionResult);return p})}function C(e,t,s){const n=e.inbound;const o=n&&n.resolutionResult;let l;if(!(!n||!o||!o["sap.gui"]||!(o.applicationType==="TR"))){l=R(e,t,s)}else if(!(!n||!o||!(o.applicationType==="TR")||!(o.url.indexOf("/~canvas;")>=0)||!(o.url.indexOf("app/transaction/APB_LPD_CALL_")===-1))){l=b(e,t,s)}else if(!(!n||!o||!(o.applicationType==="TR")||!(o.url.indexOf("/~canvas;")>=0)||!(o.url.indexOf("app/transaction/APB_LPD_CALL_")>=0))){l=E(e,t,s)}else if(!(!n||!o||!(o.applicationType==="TR")||!(o.url.indexOf("/its/webgui")>=0)||!(o.url.indexOf("APB_LPD_CALL_")===-1))){l=O(e,t,s)}else if(!(!n||!o||!(o.applicationType==="TR")||!(o.url.indexOf("/its/webgui")>=0)||!(o.url.indexOf("APB_LPD_CALL_")!==-1))){l=A(e,t,s)}if(l){return l.then(async t=>{if(t.url){t.url=a.appendParametersToUrl("sap-iframe-hint=GUI",t.url);if(r.last("/core/extension/dap/enabled")){const e=await i.getServiceAsync("PluginManager");const s=e.isPluginConfigured(r.last("/core/extension/dap/pluginName"));t.url=a.appendParametersToUrl(`sap-load-dap=${s}`,t.url)}else{t.url=a.appendParametersToUrl("sap-load-dap=false",t.url)}}t.extendedInfo=a.getExtendedInfo(e);a.checkOpenWithPost(e,t);a.addKeepAliveToURLTemplateResult(t);return t})}throw new Error("Cannot generate TR resolution result")}function _(e,t,s){return new Promise((n,r)=>{let i;if(e.params["sap-system-src"]){i=e.params["sap-system-src"][0]}const l=e.params["sap-system"]?e.params["sap-system"][0]:undefined;const p=e.params["sap-ui2-tcode"]?e.params["sap-ui2-tcode"][0]:undefined;d(p,l,i,s).then(e=>{delete t.intentParamsPlusAllDefaults["sap-ui2-tcode"];o.mapParameterNamesAndRemoveObjects(t);const s=h(t.inbound,t.mappedIntentParamsPlusSimpleDefaults,e);if(s&&t.inbound&&t.inbound.resolutionResult&&t.inbound.resolutionResult["sap.platform.runtime"]){s["sap.platform.runtime"]=t.inbound.resolutionResult["sap.platform.runtime"]}s["sap-system"]=l;s.text=p;s.url=a.appendParametersToUrl("sap-iframe-hint=GUI",s.url);n(s)}).catch(e=>{r(e)})})}return{generateTRResolutionResult:C,resolveEasyAccessMenuIntentWebgui:_,getUnnecessaryWebguiParameters:f,removeObjectKey:p,getExplicitSkipSelectionScreenParameter:P,injectEffectiveParametersIntoWebguiQueryParam:g,injectEffectiveParametersIntoWebguiPobjectParam:I,amendGuiParam:T,parseWebguiTransactionQueryParam:y,getWebguiNonBusinessParameters:S,getWebguiBusinessParameters:m,isWebguiBusinessParameter:c,buildNativeWebGuiURI:d,constructFullWebguiResolutionResult:R}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ApplicationType/systemAlias", ["sap/ui/thirdparty/URI","sap/ushell/utils","sap/base/util/isPlainObject","sap/base/Log","sap/ushell/Container"],(e,t,n,r,s)=>{"use strict";const i="";const o={apply:"apply",applied:"applied"};function a(e){return(e.protocol()||"").length>0}async function l(e,n,r){const s=typeof n==="string";const i=[e];if(s){i.unshift(n)}const o=t.generateLocalStorageKey("sap-system-data",i);const a=t.getLocalStorage();const l=a.getItem(o);let p={};if(l){try{p=JSON.parse(l)}catch(e){throw new Error(`Cannot parse system data from local storage at key '${o}'. Data: ${l}`)}return p}else if(s){throw new Error(`Cannot find data for system '${e}' in local storage using key '${o}'`)}if(!r){throw new Error("fallback: the adapter does not implement resolveSystemAlias")}return new Promise((t,n)=>{r(e).done(e=>{t(e)}).fail(e=>{n(e)})})}function p(e){r.error(`Invalid system alias definition: ${e.debug}`,`ERRORS:${e.errors.map(e=>`\n - ${e}`).join("")}`,"sap.ushell.ApplicationType")}function c(e){function t(e){const t=[];if(typeof e.host!=="string"){t.push("host field must be a string")}if(typeof e.port!=="number"&&typeof e.port!=="string"){t.push("port field must be a number or a string")}if(typeof e.pathPrefix!=="string"){t.push("pathPrefix field must be a string")}return t}const n=[];const r=e.hasOwnProperty("https");const s=e.hasOwnProperty("http");if(!s&&!r){n.push("at least one of 'http' or 'https' fields must be defined")}if(r){t(e.https).forEach(e=>{n.push(`https>${e}`)})}if(s){t(e.http).forEach(e=>{n.push(`http>${e}`)})}if(n.length>0){return{isValid:false,errors:n,debug:JSON.stringify(e,null,3)}}return{isValid:true}}function f(e,t){if(e.hasOwnProperty("https")){return"https"}if(e.hasOwnProperty("http")){return"http"}r.error("Cannot select which system alias to pick between http/https","make sure they are provided in the given system alias collection","sap.ushell.services.ClientSideTargetResolution");return undefined}function u(t,n,r,s){let i;const o=new Promise(o=>{if(n==="URL"&&r.length===0){o(t);return}o(l("",undefined,s).then(s=>{const o=f(s,new e(window.location.toString()).protocol());const a=s[o].pathPrefix;const l=r===a;if(r.length>0&&!l){if((n==="WDA"||n==="WEBGUI")&&t.path().indexOf("~canvas")>=0){i=t.path();i=`/~canvas${i.split("~canvas")[1]}`;t.path(i)}}function p(e){const n=e+t.path();t.path(n.replace(/\/+/g,"/"));return t}if(r.length===0){if(n==="WCF"&&a==="/sap/bc/"){return p("/sap(====)/bc/")}return p(a)}return p(r)}))});return o}function h(e,t){let n;let s;let i;let o;const a=!!e.loginGroup;if(a){i=[e.systemId&&`~sysid=${e.systemId}`,e.loginGroup&&`~loginGroup=${e.loginGroup}`,e.sncNameR3&&`~messageServer=${encodeURIComponent(e.sncNameR3)}`,e.sncNameR3&&`~sncNameR3=${encodeURIComponent(e.sncNameR3)}`,e.sncQoPR3&&`~sncQoPR3=${e.sncQoPR3}`].filter(e=>typeof e==="string"&&e!=="")}else{o=e.host||"";s=o.toLowerCase()===t.toLowerCase();n=/^[/][HGMR][/].*/.test(o);if(o.length>0&&!s&&!n){r.error("Invalid connect string provided in 'host' field of system alias",`Data for rfc destination provided are: ${JSON.stringify(e,null,3)}`,"sap.ushell.services.ClientSideTargetResolution")}i=[o&&!n&&!s&&`~rfcHostName=${o}`,n&&`~connectString=${encodeURIComponent(o)}`,e.service&&`~service=${e.service}`,e.sncNameR3&&`~sncNameR3=${encodeURIComponent(e.sncNameR3)}`,e.sncQoPR3&&`~sncQoPR3=${e.sncQoPR3}`].filter(e=>typeof e==="string"&&e!=="")}return i.join(";").replace(/(%[A-F0-9]{2})/g,e=>e.toLowerCase())}function d(t,n,o,a,d){const g=o;const m=new Promise((m,y)=>{l(t,n,d).then(n=>{const l=c(n);if(!l.isValid){p(l);throw new Error("Invalid system alias definition")}let y=f(n,new e(window.location.toString()).protocol());const w=n[y];let S;let P;let R;if(t===i&&w.host===""&&(w.port===0||w.port==="")){y=""}g.protocol(y);g.hostname(w.host);g.port(w.port);return u(g,a,w.pathPrefix,d).then(e=>{S=e.query();if(typeof n.client==="string"&&n.client!==""){S=`${S+(S.length>0?"&":"")}sap-client=${n.client}`}if(typeof n.language==="string"&&n.language!==""){P=n.language}else{R=s.getUser();if(!R){r.error("Cannot retieve the User object via sap.ushell.Container while determining sap-language","will default to 'en' language","sap.ushell.services.ClientSideTargetResolution");P="en"}else{P=R.getLanguage()}}S=`${S+(S.length>0?"&":"")}sap-language=${P}`;e.query(S);if(n.hasOwnProperty("rfc")&&a==="NATIVEWEBGUI"){const t=h(n.rfc,w.host);const r=`${e.path()};${t}`;e.path(r);o._parts.path=r}m(e)})}).catch(e=>{y(e)})});return m}function g(e,t){const n={};let r;t.forEach(e=>{n[e]=true});r=e.query();r=r.split("&").filter(e=>{const t=(e.split("=")[0]||"").toLowerCase();return!n.hasOwnProperty(t)}).join("&");e.query(r)}function m(t,n,r,s,o){const p=new Promise((p,c)=>{if(n===i||typeof n==="undefined"){if(a(t)){p(t);return}p(d(r,s,t,"URL",o).then(e=>e))}p(l(n,s,o).then(n=>{const i=f(n,new e(window.location.toString()).protocol());const a=n[i];let l;if((t.protocol()||"").toLowerCase()===i&&(t.hostname()||"")===a.host&&t.path().indexOf(a.pathPrefix)===0){t.protocol("");t.hostname("");l=t.path().replace(a.pathPrefix,"");t.path(l);g(t,["sap-language","sap-client"]);return d(r,s,t,"URL",o).then(e=>e)}return t}).catch(e=>{c(e)}))});return p}function y(t,r,s,i,o){t.protocol("");t.hostname("");t.port("");const a=new Promise(a=>{g(t,["sap-client","sap-language"]);if(!n(i)||typeof r!=="string"){a(t)}const p=f(i,new e(window.location.toString()).protocol());const c=i[p];const u=new Promise((e,t)=>{const n=typeof c.pathPrefix==="string"&&c.pathPrefix;if(n!==""){e(n)}else{l("",undefined,o).then(t=>{const n=t[p];e(n.pathPrefix)}).catch(e=>{t(e)})}}).then(e=>{let n;if(e&&e.length>0){n=t.path();n=n.replace(e,"");if(e==="/sap/bc/"){n=n.replace("/sap(====)/bc/","")}if(n.indexOf("/")!==0){n=`/${n}`}t.path(n)}if(s==="NATIVEWEBGUI"&&i.hasOwnProperty("rfc")){n=t.path();n=n.split(";").filter(e=>e.indexOf("~sysid=")!==0&&e.indexOf("~service=")!==0&&e.indexOf("~loginGroup=")!==0&&e.indexOf("~messageServer=")!==0&&e.indexOf("~sncNameR3=")!==0&&e.indexOf("~sncQoPR3=")!==0).join(";");t.path(n)}return t});a(u)});return a}function w(e,t,n,r,s){const i=new Promise((i,o)=>{if(typeof t==="undefined"){i(y(e,t,r,undefined,s));return}i(l(t,n,s).then(n=>y(e,t,r,n,s)))});return i}function S(e,t,n,r,s,i,a){if(i!==o.apply&&i!==o.applied){throw new Error(`Invalid system alias semantic was provided: '${i}'`)}if(i===o.applied&&(typeof n==="undefined"||t===n)){return Promise.resolve(e)}if(i===o.apply&&typeof t==="undefined"&&typeof n==="undefined"){return Promise.resolve(e)}if(s==="URL"&&i===o.applied){return m(e,t,n,r,a)}const l=new Promise((l,p)=>{if(i===o.apply){l({targetUri:e,alias:n||t,sapSystemSrc:n?r:undefined});return}w(e,t,undefined,s,a).then(e=>{l({targetUri:e,alias:n})}).catch(e=>{p(e)})}).then(e=>d(e.alias,e.sapSystemSrc,e.targetUri,s,a));return l}function P(t,n){const r=n.getCurrentAppTargetResolution()||{};if(n.getFrameworkId()==="WDA"||r?.applicationType==="WDA"){const r=n.getSystemAlias();return new e(t).removeSearch("sap-system").addSearch("sap-system",r===""?"''":r).toString()}return t}function R(e="",t=""){const n=e.split("_");let r="";let s="";while(n.length>0){r+=n.shift();if(r===t){s=n.shift()||"";while(n.length>0){s=`${s}_${n.shift()}`}return s}r+="_"}if(t===""){return e}if(e.startsWith(t)){throw new Error(`Unexpected format for fully qualified systemAlias"${e}": missing underscore delimiter while content provider id is "${t}".`)}return e}return{LOCAL_SYSTEM_ALIAS:i,SYSTEM_ALIAS_SEMANTICS:o,spliceSapSystemIntoURI:S,isAbsoluteURI:a,getSystemAliasInProvider:R,addSystemAlias:P,_stripURI:w,_selectSystemAliasDataName:f,_constructNativeWebguiParameters:h}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ApplicationType/ui5Resolution", ["sap/base/Log","sap/base/util/deepExtend","sap/ushell/ApplicationType/utils"],(e,t,s)=>{"use strict";function a(a,n,i){const r=a.inbound;const o={};["applicationType","additionalInformation","applicationDependencies"].forEach(e=>{if(r.resolutionResult.hasOwnProperty(e)){o[e]=r.resolutionResult[e]}});o.url=n;if(o.applicationDependencies&&typeof o.url==="undefined"){o.url=""}if(typeof o.url==="undefined"){o.url="";e.warning("The component url is undefined. We set it to empty string avoid rejection of the promise")}const p=t({},a.mappedIntentParamsPlusSimpleDefaults);o.reservedParameters={};const u={"sap-ui-fl-max-layer":true,"sap-ui-fl-control-variant-id":true,"sap-ui-fl-version":true};Object.keys(u).forEach(e=>{const t=p[e];if(t){delete p[e];o.reservedParameters[e]=t}});a.mappedDefaultedParamNames=a.mappedDefaultedParamNames.filter(e=>!u[e]);if(a.mappedDefaultedParamNames.length>0){p["sap-ushell-defaultedParameterNames"]=[JSON.stringify(a.mappedDefaultedParamNames)]}const l=p["sap-system"]&&p["sap-system"][0];const m=p["sap-system-src"]&&p["sap-system-src"][0];o["sap-system"]=l;if(typeof m==="string"){o["sap-system-src"]=m}a.effectiveParameters=p;const f=s.getURLParsing().paramsToString(p);if(f){o.url=o.url+(o.url.indexOf("?")<0?"?":"&")+f}if(typeof r.resolutionResult.ui5ComponentName!=="undefined"){o.ui5ComponentName=r.resolutionResult.ui5ComponentName}o.text=r.title;o.extendedInfo=s.getExtendedInfo(a);return Promise.resolve(o)}return{generateUI5ResolutionResult:a}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ApplicationType/urlResolution", ["sap/base/util/deepExtend","sap/ui/thirdparty/URI","sap/ushell/ApplicationType/systemAlias","sap/ushell/ApplicationType/utils","sap/ushell/Config"],(e,s,t,n,a)=>{"use strict";function i(i,p,l){const r=i.inbound;const o=r&&r.resolutionResult;const c={};const u=new s(p);const m=e({},i.mappedIntentParamsPlusSimpleDefaults);if(i.inbound&&i.inbound.action==="launchURL"&&i.inbound.semanticObject==="Shell"){delete m["sap-external-url"]}const y=m["sap-system"]&&m["sap-system"][0];const d=m["sap-system-src"]&&m["sap-system-src"][0];c["sap-system"]=y;delete m["sap-system"];if(typeof d==="string"){c["sap-system-src"]=d;delete m["sap-system-src"]}return new Promise((e,s)=>{if(n.absoluteUrlDefinedByUser(u,o.systemAlias,o.systemAliasSemantics)){e(p)}else{t.spliceSapSystemIntoURI(u,o.systemAlias,y,d,"URL",o.systemAliasSemantics||t.SYSTEM_ALIAS_SEMANTICS.applied,l).then(s=>{const t=s.toString();e(t)}).catch(s)}}).then(e=>{let s=false;const t=a.last("/core/navigation/flpURLDetectionPattern");const i=new RegExp(t);if(m&&m.hasOwnProperty("sap-params-append")){delete m["sap-params-append"];s=true}const p=n.getURLParsing().paramsToString(m);return i.test(e)||s===true?n.appendParametersToIntentURL(m,e):n.appendParametersToUrl(p,e)}).then(e=>{["additionalInformation","applicationDependencies","systemAlias"].forEach(e=>{if(r.resolutionResult.hasOwnProperty(e)){c[e]=r.resolutionResult[e]}});c.url=e;c.text=r.title;c.applicationType="URL";return Promise.resolve(c)})}return{generateURLResolutionResult:i}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ApplicationType/urlTemplateResolution", ["sap/base/Log","sap/base/i18n/Localization","sap/base/util/ObjectPath","sap/ushell/utils","sap/ushell/User","sap/ushell/Config","sap/ui/thirdparty/URI","sap/ui/core/routing/History","sap/ushell/ApplicationType/utils","sap/base/util/deepClone","sap/base/util/isPlainObject","sap/ushell/Container","sap/ushell/ApplicationType/guiResolution","sap/ushell/utils/UrlParsing","sap/ushell/ApplicationType/systemAlias","sap/ushell/appIntegration/ApplicationContainerCache","sap/ushell/URLTemplateProcessor"],(e,t,a,n,r,s,i,p,o,l,u,c,d,m,f,g,h)=>{"use strict";function P(t,a){const n=t.payload;const r=a.indexOf("&/");const s=t.siteAppSection?.["sap.integration"]?.urlTemplateId==="urltemplate.jam";let i=1;let p;if(r>0){if(n?.capabilities?.appFrameworkId==="UI5"){i=2}p=a.substring(r+i);try{if(!s&&p?.length>0){p=decodeURIComponent(p)}}catch(t){e.warning("inner route should be double encoded",t,"sap.ushell.ApplicationType.getInnerAppRoute")}}return p}function A(e){let t=e.targetNavigationMode;if(t===undefined||t===""){if(n.isColdStart()){t="explace"}else{t="inplace"}}return t}function y(e){let t="";if(e.length>0&&e.indexOf("sap-iapp-state=")>0){const a=/(?:sap-iapp-state=)([^&/\\]+)/.exec(e);if(a&&a.length===2){t=a[1]}}return t}function b(e){return Promise.all([c.getServiceAsync("UserInfo"),c.getServiceAsync("PluginManager"),n.getUi5Version()]).then(a=>{const n=a[0];const i=a[1];const o=a[2];const l=n.getUser();const u=l.getContentDensity()||(document.body.classList.contains("sapUiSizeCompact")?"compact":"cozy");let c=l.getTheme();if(c.indexOf("sap_")!==0){const e=r.prototype.constants.themeFormat.THEME_NAME_PLUS_URL;c=l.getTheme(e)}const d=t.getLanguage();const m=t.getSAPLogonLanguage();const f=`${window.location.protocol}//${window.location.host}/comsapuitheming.runtime/themeroot/v1`;let g=0;if(s.last("/core/shell/sessionTimeoutIntervalInMinutes")>0){g=s.last("/core/shell/sessionTimeoutIntervalInMinutes")}let h=false;if(window["sap-ui-debug"]!==false&&window["sap-ui-debug"]!==undefined){h=window["sap-ui-debug"]}const P=s.last("/core/shell/enablePersonalization");return{language:d,logonLanguage:m,theme:c,themeServiceRoot:f,isDebugMode:h,ui5Version:o,contentDensity:u,sapPlugins:i._getNamesOfPluginsWithAgents(),innerAppState:y(e),sessionTimeout:g,historyDirection:p.getInstance().getDirection()||"",enableShellPersonalization:P}})}function S(e,t,a){if(u(t.startupParameter)&&Object.keys(t.startupParameter).length>0){t.startupParameter=l(t.startupParameter);const n={"sap-wd-run-sc":true,"sap-wd-auto-detect":true,"sap-ep-version":true};Object.keys(t.startupParameter).forEach(e=>{if(n[e.toLowerCase()]){delete t.startupParameter[e]}});const r=d.getUnnecessaryWebguiParameters(t.startupParameter,a||{});d.removeObjectKey(t.startupParameter,r);const s=d.getWebguiNonBusinessParameters(t.startupParameter);d.removeObjectKey(t.startupParameter,Object.keys(s));const i=d.getExplicitSkipSelectionScreenParameter(t.startupParameter);if(e?.parameters?.names?.skipScreenChar.length>0){e.parameters.names.skipScreenChar=Object.keys(t.startupParameter).length>0&&(i===""||i==="1")?"*":""}}}function w(e,t,a){try{if(e==="urltemplate.url"&&a.hasOwnProperty("sapit-external-ui5app")){const e=l(t,20);e.urlTemplate=e.urlTemplate.replace(",paramSapLocale",",appStartupParameters,paramSapLocale");e.parameters.names={...e.parameters.names};e.parameters.names.appStartupParameters={renameTo:"sap-startup-params",value:"{*|match(^(?!sap-ushell(-innerAppRoute\\|-navmode)$))|join(&,=)}"};return e}}catch{}return t}function v(e){if(e.url&&typeof e.url==="string"){const t=e.url;const a=s.last("/core/spaces/enabled");const n=t.indexOf("ui5appruntime.html")>-1;const r=t.indexOf("ui5appruntimescube.html")>-1;if(a===true&&(n||r)){o.appParameterToUrl(e,"sap-spaces",a)}}}function T(e,t,n){const r=a.get(["sap.integration","urlTemplateId"],t);if(r==="urltemplate.url-dynamic"&&e.url.includes("sap/bc/bsp/sap/crm_ui_start/")&&!e.url.includes("sap-language=")){o.appParameterToUrl(e,"sap-language",n.env.language)}}function I(e,t,a){return new Promise((n,r)=>{const s=new i(e);const p=s.query(true);let o=true;let l=["sap-language","sap-theme","sap-shell","sap-ui-app-id","transaction","sap-iframe-hint","sap-keep-alive","sap-ui-versionedLibCss","sap-wd-configId","wcf-target-id","sap-ui-version"];if(a&&a.mandatoryUrlParams){l=l.concat(a.mandatoryUrlParams.split(","));l=l.filter((e,t)=>l.indexOf(e)===t)}if(t==="explace"){o=false}c.getServiceAsync("ShellNavigationInternal").then(t=>{t.compactParams(p,l,undefined,o).done(t=>{if(!t.hasOwnProperty("sap-intent-param")){n(e);return}let a;if(t["sap-theme"]){const e=`sap-theme=${t["sap-theme"]}`;t["sap-theme"]="sap-theme-temp-placeholder";s.query(t);a=s.toString();a=a.replace("sap-theme=sap-theme-temp-placeholder",e)}else{s.query(t);a=s.toString()}n(a)}).fail(e=>{r(e)})})})}function R(e,t){if(typeof e.enabled==="boolean"){return e.enabled}const a=h.prepareExpandData({urlTemplate:"",parameters:{names:{enabled:e.enabled}}},{},{},t.siteAppSection,"");return typeof a.oResolvedParameters.enabled==="boolean"?a.oResolvedParameters.enabled:false}function U(t,n,r){return new Promise(s=>{const p=n.urlTransformation||{enabled:false};if(R(p,r)){const n=new i(t);const o=p.transformations[0];const l=o.service.uri;const u=h.prepareExpandData({urlTemplate:"",parameters:{names:l.queryOptions}},{},{urlComponent:{query:n.query(),fragment:n.fragment()}},r.siteAppSection,"");const c=i.expand("{+rootPath}/{+resourcePath}{?queryParams*}",{rootPath:l.rootPath,resourcePath:l.resourcePath,queryParams:u.oResolvedParameters}).toString();sap.ui.require(["sap/ui/thirdparty/datajs"],r=>{r.read({requestUri:c,headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}},r=>{let i=a.get("transformAppLaunchQueryString.value",r);if(i===undefined){i=a.get("transformAppLaunchIntent.value",r)}if(i===undefined){i=a.get("transformAppLaunchQueryString.queryString",r)}e.info("URL Transformation Succeeded",JSON.stringify({URLBeforeTransformation:t,URLAfterTransformation:i}),"sap.ushell.ApplicationType");let p=o.sourceURLComponent;if(p===undefined){p="query"}if(p==="query"||p==="fragment"){t=n[p](i).toString()}else{e.error(`The ${p} component of the URL in URI.js is not transformed`,"","sap.ushell.ApplicationType")}s(t)},a=>{e.error("URL Transformation Failed",JSON.stringify(a.message),"sap.ushell.ApplicationType");s(t)})})}else{s(t)}})}function L(t,a){const r=n.getMember(a,"sap|integration.navMode");switch(r){case"inplace":if(["embedded","inplace","newWindowThenEmbedded"].includes(t)){return"embedded"}e.error("App-defined navigation mode was ignored","Application requests to be opened inplace, but the template's navigation mode doesn't allow it.","sap.ushell.ApplicationType");break;case"explace":if(["embedded","inplace","newWindowThenEmbedded"].includes(t)){return"newWindowThenEmbedded"}if(["standalone","explace","newWindow"].includes(t)){return"newWindow"}e.error("App-defined navigation mode was ignored","Application requests to be opened explace, but the template's navigation mode doesn't allow it.","sap.ushell.ApplicationType");break;default:if(r){e.error("App-defined navigation mode is not valid",r,"Fallback to URL Template's capability","sap.ushell.ApplicationType")}if(["embedded","inplace","newWindowThenEmbedded"].includes(t)){return"embedded"}break}return"newWindow"}function x(e){if(["embedded","inplace","newWindowThenEmbedded"].includes(e)){return"embedded"}if(["standalone","explace","newWindow"].includes(e)){return"standalone"}}function C(e,t,a){const n=l(e);n.navigationMode=L(e.navigationMode,t);n.templateNavigationMode=x(e.navigationMode);n.appId=a(e.appId||"");n.technicalAppComponentId=a(e.technicalAppComponentId||"");n.appSupportInfo=t["sap.app"]&&t["sap.app"].ach;n.appFrameworkId=e.appFrameworkId;delete n.urlTransformation;return n}async function O(t,r,s){const i=t.inbound;const p=i.templateContext;const u=p.payload.capabilities||{};let d=t.fullHash;let y;if(sap?.cf?.config?.siteId!==undefined&&p?.siteAppSection["sap.integration"]?.navMode==="inplace"){e.warning("URL template's navigationMode capability is ignored! navigationMode is forced to 'embedded'.");u.navigationMode="embedded"}if(t.mappedIntentParamsPlusSimpleDefaults&&t.mappedIntentParamsPlusSimpleDefaults.hasOwnProperty("sap-ushell-innerAppRoute")){if(t.mappedIntentParamsPlusSimpleDefaults["sap-ushell-innerAppRoute"].length>0&&d.indexOf("&/")===-1){d+=`&/${t.mappedIntentParamsPlusSimpleDefaults["sap-ushell-innerAppRoute"]}`;y=d}}m.removeParametersWithEmptyValue(t.mappedIntentParamsPlusSimpleDefaults,["sap-system"]);const R={innerAppRoute:P(p,d)||t.parsedIntent.appSpecificRoute,targetNavMode:A(t),defaultParameterNames:t.mappedDefaultedParamNames,startupParameter:t.mappedIntentParamsPlusSimpleDefaults,remoteApplication:{remoteSO:undefined,remoteAction:undefined}};const L=await b(d);R.env=L;const x=a.get(["sap.integration","urlTemplateParams","query"],p.siteAppSection)||{};if(x.hasOwnProperty("sap-cssurl")){R.env.themeServiceRoot=undefined;R.env.theme=undefined}if(u.appFrameworkId==="UI5"&&R.startupParameter){for(const e in R.startupParameter){if(e!=="sap-ushell-innerAppRoute"){R.startupParameter[e][0]=encodeURIComponent(R.startupParameter[e][0])}if(e==="sap-shell-so"){R.remoteApplication.remoteSO=R.startupParameter[e][0]}if(e==="sap-shell-action"){R.remoteApplication.remoteAction=R.startupParameter[e][0]}}if(t.mappedDefaultedParamNames&&t.mappedDefaultedParamNames.length>0){const e=t.mappedDefaultedParamNames.filter(e=>e!=="sap-shell-so"&&e!=="sap-shell-action"&&e!=="sap-system");R.startupParameter["sap-ushell-defaultedParameterNames"]=[JSON.stringify(e)]}delete R.startupParameter["sap-shell-so"];delete R.startupParameter["sap-shell-action"]}const O="/universal_search/search";const E=R.innerAppRoute&&R.innerAppRoute.indexOf(O);let M;if(E===0){M=R.innerAppRoute.substring(1);R.innerAppRoute="/JAMSEARCHPATHH?JAMSEARCHVALUEE=VALUEE"}const k=n.getMember(p.siteAppSection,"sap|integration.urlTemplateId");let D=p.payload;if(k==="urltemplate.gui"){D=l(p.payload,20);S(D,R,i)}D=w(k,D,x);let N=h.expand(D,p.site,R,p.siteAppSection,"startupParameter",d);if(E===0){N=N.replace("/JAMSEARCHPATHH?JAMSEARCHVALUEE=VALUEE",`/${M}`)}if(R.env.theme===undefined){N=N.replace("&sap-theme=","")}if(u.appFrameworkId==="UI5"&&d.length>1){N=N.split("#")[0]+d;e.debug(`- created URL with fixed hash: ${N}`,"sap.ushell.ApplicationType")}function q(e){const t=l(p.payload,20);t.urlTemplate=e;return h.expand(t,p.site,R,p.siteAppSection,"startupParameter",d)}const H=p.siteAppSection["sap.app"]&&p.siteAppSection["sap.app"].destination||p.siteAppSection.destination||"";const W=p?.siteAppSection["sap.app"]?.contentProviderId||"";const j=f.getSystemAliasInProvider(H,W);const F={applicationType:"URL",text:i.title,appCapabilities:C(u,p.siteAppSection,q),url:N,extendedInfo:o.getExtendedInfo(t,p.siteAppSection,p.site),contentProviderId:i.contentProviderId||"",systemAlias:j,replaceHashBeforeOpenAppInplace:y};o.addIframeCacheHintToURL(F,F.appCapabilities.appFrameworkId);o.addKeepAliveToURLTemplateResult(F);v(F);T(F,p.siteAppSection,R);const _=await c.getServiceAsync("URLTemplate");const $=!g.findFreeContainerByUrl(F.url);F.url=await _.handlePostTemplateProcessing(F.url,p.siteAppSection,$);const J=await U(F.url,u,p);F.url=J;if(F.url&&typeof F.url==="string"&&F.url.indexOf("sap-iframe-hint=GUI")>0){return F}try{const e=await I(F.url,R.targetNavMode,u);F.url=e}catch{}return F}const E={generateURLTemplateResolutionResult:O,handleURLTransformation:U,_createEnv:b,_addLanguageToURLTemplateResult:T,compactURLParameters:I};return E});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ApplicationType/utils", ["sap/ushell/utils/UrlParsing","sap/ushell/ApplicationType/systemAlias","sap/ushell/utils","sap/ui/thirdparty/URI","sap/base/util/ObjectPath"],(e,s,t,a,n)=>{"use strict";const i=new a(document.URL).search(true);function r(){return e}function l(e,t,a){if(!a||a===s.SYSTEM_ALIAS_SEMANTICS.applied){return s.isAbsoluteURI(e)&&!t}if(a===s.SYSTEM_ALIAS_SEMANTICS.apply){return s.isAbsoluteURI(e)}throw new Error(`Invalid system alias semantics: '${a}'`)}function p(e,s){let t;let a;let n;if(typeof s==="string"){n=s}else{n=decodeURI(s.toString())}if(e){const s=n.match(/#.*/);if(s){a=s;t=n.replace(s,"")}else{t=n;a=""}n=t+(n.indexOf("?")<0?"?":"&")+e+a}return n}function o(s,t){const a=t.match(/#.*/);const n=a&&a[0];if(!n){const a=e.paramsToString(s);return p(a,t)}const i=e.parseShellHash(n);Object.keys(s).forEach(e=>{const t=s[e];i.params[e]=[t]});const r=Object.keys(i.params).reduce((e,s)=>{const t=i.params[s];const a=t.map(e=>encodeURIComponent(e));e[encodeURIComponent(s)]=a;return e},{});i.params=r;const l=t.replace(n,"");const o=e.constructShellHash(i);return`${l}#${o}`}function f(e,s){if(e["sap-system"]&&e["sap-system"]!==null&&e["sap-system"]!==undefined&&e["sap-system"]!==""){e.systemAlias=e["sap-system"]}else{e.systemAlias=s.systemAlias}if(e.systemAlias===undefined){delete e.systemAlias}}function u(e,s,a){const n={appParams:{},system:undefined};if(e&&e.mappedIntentParamsPlusSimpleDefaults){n.appParams=JSON.parse(JSON.stringify(e.mappedIntentParamsPlusSimpleDefaults))}if(s){const e=t.getMember(s,"sap|app.destination");if(typeof e==="string"&&e.length>0){n.system=a.systemAliases[e]&&JSON.parse(JSON.stringify(a.systemAliases[e]));if(typeof n.system==="object"){n.system.alias=e}}}return n}function c(e,s,t){if(e.url){const a=e.url.indexOf("#");let n=e.url;let i="";if(a>0){n=e.url.slice(0,a);i=e.url.slice(a)}e.url=`${n+(n.indexOf("?")>=0?"&":"?")+s}=${t}${i}`}}function m(e,s){if(s){c(e,"sap-iframe-hint",s)}}function d(e,s){const t=e.intentParamsPlusAllDefaults;if(t&&t["sap-post"]&&t["sap-post"][0]==="false"){s.openWithPostByAppParam=false}}function y(e){let s;if(i&&i.hasOwnProperty("sap-keep-alive")){s=i["sap-keep-alive"]}else{s=n.get("extendedInfo.appParams.sap-keep-alive",e);if(Array.isArray(s)){s=s[0]}}if(s!==undefined){c(e,"sap-keep-alive",s)}}return{getURLParsing:r,appParameterToUrl:c,appendParametersToUrl:p,appendParametersToIntentURL:o,absoluteUrlDefinedByUser:l,setSystemAlias:f,getExtendedInfo:u,addIframeCacheHintToURL:m,checkOpenWithPost:d,addKeepAliveToURLTemplateResult:y}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ApplicationType/wcfResolution", ["sap/base/util/deepExtend","sap/ui/thirdparty/URI","sap/ushell/ApplicationType/systemAlias","sap/ushell/ApplicationType/utils","sap/ushell/Config","sap/ushell/Container"],(e,s,t,a,n,i)=>{"use strict";async function l(l,p,o){const d=new s(p);const r=l.inbound;const c=r&&r.resolutionResult;const u=e({},l.mappedIntentParamsPlusSimpleDefaults);let m;let y;if(u["sap-system"]){m=u["sap-system"][0];delete u["sap-system"]}if(u["sap-system-src"]){y=u["sap-system-src"][0];delete u["sap-system-src"]}if(n.last("/core/extension/dap/enabled")){const e=await i.getServiceAsync("PluginManager");u["sap-load-dap"]=e.isPluginConfigured(n.last("/core/extension/dap/pluginName"))}else{u["sap-load-dap"]=false}const f=await t.spliceSapSystemIntoURI(d,c.systemAlias,m,y,"WCF",c.systemAliasSemantics||t.SYSTEM_ALIAS_SEMANTICS.applied,o);const g=a.getURLParsing().paramsToString(u);const I=a.appendParametersToUrl(g,f);const S={url:I,text:c.text||"",additionalInformation:c.additionalInformation||"",applicationType:"WCF",fullWidth:true,extendedInfo:a.getExtendedInfo(l)};a.checkOpenWithPost(l,S);a.addKeepAliveToURLTemplateResult(S);a.addIframeCacheHintToURL(S,"WCF");return S}return{generateWCFResolutionResult:l}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ApplicationType/wdaResolution", ["sap/base/util/deepExtend","sap/base/util/ObjectPath","sap/ui/thirdparty/URI","sap/ushell/ApplicationType/systemAlias","sap/ushell/ApplicationType/utils","sap/ushell/Config","sap/ushell/Container"],(s,e,t,a,n,i,p)=>{"use strict";async function r(e,t){return new Promise(async(a,r)=>{const o=s({},e);if(t.length>0){o["sap-ushell-defaultedParameterNames"]=[JSON.stringify(t)]}delete o["sap-system"];if(i.last("/core/extension/dap/enabled")){const s=await p.getServiceAsync("PluginManager");o["sap-load-dap"]=s.isPluginConfigured(i.last("/core/extension/dap/pluginName"))}else{o["sap-load-dap"]=false}if(o["sap-xapp-state-data"]){const s=await p.getServiceAsync("AppState");const e=s.createEmptyAppState(undefined,true);e.setData(JSON.parse(o["sap-xapp-state-data"][0]));await e.save();o["sap-xapp-state"]=[e.getKey()];delete o["sap-xapp-state-data"]}const l=await p.getServiceAsync("ShellNavigationInternal");l.compactParams(o,["sap-xapp-state","sap-ushell-defaultedParameterNames","sap-intent-params","sap-iframe-hint","sap-keep-alive","sap-wd-configId"],undefined,true).fail(s=>{r(s)}).then(s=>{const e=n.getURLParsing().paramsToString(s);a(e)})})}function o(s,e){let t=s.search();if(e){t=t+(t.indexOf("?")<0?"?":"&")+e}return s.search(t).toString()}function l(s,e){return`/ui2/nwbc/~canvas;window=app/wda/${s}/?${e}`}function c(s,e){const t=s.indexOf("/")!==0;if(t){s=`sap/${s}`}return`/webdynpro/${s}?${e}`}function u(e,i,p,r,o){let u;let m;let d;const f=s({},r);if(i){f["sap-wd-configId"]=i}if(f["sap-system"]){u=f["sap-system"][0];delete f["sap-system"]}if(f.hasOwnProperty("sap-system-src")){m=f["sap-system-src"][0];delete f["sap-system-src"]}const y=n.getURLParsing().paramsToString(f);if(p){d=l(e,y)}else{d=c(e,y)}const A=new t(d);return a.spliceSapSystemIntoURI(A,a.LOCAL_SYSTEM_ALIAS,u,m,"WDA",a.SYSTEM_ALIAS_SEMANTICS.apply,o)}function m(s,e,t,a){const i={"sap-system":t,url:e,text:s.title,applicationType:"WDA"};if(typeof a==="string"){i["sap-system-src"]=a}n.setSystemAlias(i,s.resolutionResult);["additionalInformation","applicationDependencies"].forEach(e=>{if(s.resolutionResult.hasOwnProperty(e)){i[e]=s.resolutionResult[e]}});i.url=n.appendParametersToUrl(`sap-iframe-hint=${i.url.indexOf("/ui2/nwbc/")>=0?"NWBC":"WDA"}`,i.url);return i}function d(s,t,a){const n=e.get("inbound.resolutionResult",s);const i=s.mappedIntentParamsPlusSimpleDefaults||{};let p=n.systemAlias;if(i["sap-system"]){p=i["sap-system"][0]}let l;if(i["sap-system-src"]){l=i["sap-system-src"][0]}const c={"sap-system":[p]};if(typeof l==="string"){c["sap-system-src"]=[l]}let d=n["sap.wda"].compatibilityMode;if(d===undefined){d=true}return Promise.all([u(n["sap.wda"].applicationId,n["sap.wda"].configId,d,c,a),r(i,s.mappedDefaultedParamNames)]).then(e=>{const t=e[0];const a=e[1];const n=o(t,a);const p=i["sap-system"]&&i["sap-system"][0];const r=i["sap-system-src"]&&i["sap-system-src"][0];const l=m(s.inbound,n,p,r);return l})}function f(s,e,n){const i=s.inbound;const p=i&&i.resolutionResult;const l=s.mappedIntentParamsPlusSimpleDefaults;const c=new t(e);const u=l["sap-system"]&&l["sap-system"][0];const d=l["sap-system-src"]&&l["sap-system-src"][0];return Promise.all([a.spliceSapSystemIntoURI(c,p.systemAlias,u,d,"WDA",p.systemAliasSemantics||a.SYSTEM_ALIAS_SEMANTICS.applied,n),r(l,s.mappedDefaultedParamNames)]).then(s=>{const e=s[0];const t=s[1];const a=o(e,t);const n=m(i,a,u,d);return n})}function y(s,t,a,i){const p=s.params["sap-ui2-wd-app-id"][0];const r=(e.get("params.sap-ui2-wd-conf-id",s)||[])[0];const o=Object.keys(s.params).reduce((e,t)=>{if(t!=="sap-ui2-wd-app-id"&&t!=="sap-ui2-wd-conf-id"){e[t]=s.params[t]}return e},{});return u(p,r,i,o,a).then(e=>{const a=s.params.hasOwnProperty("sap-system-src")&&s.params["sap-system-src"][0];const i=s.params.hasOwnProperty("sap-system")&&s.params["sap-system"][0]||"";const r={url:e.toString(),applicationType:"WDA",text:p,additionalInformation:"","sap-system":i,systemAlias:i};if(typeof a==="string"){r["sap-system-src"]=a}if(t&&t.inbound&&t.inbound.resolutionResult&&t.inbound.resolutionResult["sap.platform.runtime"]){r["sap.platform.runtime"]=t.inbound.resolutionResult["sap.platform.runtime"]}r.url=n.appendParametersToUrl(`sap-iframe-hint=${r.url.indexOf("/ui2/nwbc/")>=0?"NWBC":"WDA"}`,r.url);return r})}function A(s,e,t){return new Promise((a,i)=>{const p=s.inbound;const r=p&&p.resolutionResult;let o;if(p&&r){if(r["sap.wda"]){o=d(s,e,t)}else{o=f(s,e,t)}}if(o){o.then(e=>{e.extendedInfo=n.getExtendedInfo(s);n.checkOpenWithPost(s,e);n.addKeepAliveToURLTemplateResult(e);return e}).then(a).catch(i)}else{a()}})}return{generateWDAResolutionResult:A,resolveEasyAccessMenuIntentWDA:y,constructFullWDAResolutionResult:d,constructWDAResolutionResult:f,constructWDAURLParameters:r}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Config", ["sap/ushell/EventHub","sap/ushell/bootstrap/common/common.create.configcontract.core","sap/ushell/Config/utils"],(e,t,n)=>{"use strict";let r=t.createConfigContract(window["sap-ushell-config"]);let o=e.createChannel(r);const c=Object.keys(o).reduce((t,n)=>{t[n]=function(){if(!o){o=e.createChannel(r)}return o[n].apply(o,arguments)};return t},{_reset:function(){o=null},_resetContract:function(){r=t.createConfigContract(window["sap-ushell-config"]);this._reset()},registerConfiguration:function(e,t){r=t},createModel:function(t,c){if(!o){o=e.createChannel(r)}return n.createModel(o,r,t,c)}});return c},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Config/utils", [],()=>{"use strict";function t(t,n){const r=[];const e=[];let o=n;let c=false;const i=t.split("/");i.shift();i.forEach(t=>{if(!c&&o.hasOwnProperty(t)){o=o[t];r.push(t);return}c=true;e.push(t)});return{contractPart:`/${r.join("/")}`,nonContractPart:e}}function n(t){return t&&t.isA&&t.isA("sap.ui.model.Context")}function r(t,n,r,e){let o=r;n.forEach((r,c)=>{if(c===n.length-1){o[r]=e;return}if(!o.hasOwnProperty(r)){throw new Error(`Cannot find ${r} inside ${t}`)}o=o[r]})}function e(t){if(typeof t==="object"){const n="/";return function r(e){const o=e.split(n);o.shift();const c=o.shift();return t[c]+(o.length>0?n+o.join(n):"")}}return function n(r){return t+r}}function o(t,r,o){const c=e(o);let i=c(t);if(n(r)&&t.charAt(0)!=="/"){const n=`${r.getPath()}/${t}`;i=c(n)}return i}function c(n,e,c,i){c.setData=function(t,n){throw new Error("not yet implemented")};c.setProperty=function(c,a,s){const u=o(c,s,i);const f=t(u,e);if(f.nonContractPart.length===0){n.emit(f.contractPart,a);return}const l=n.last(f.contractPart);r(f.contractPart,f.nonContractPart,l,a);n.emit(f.contractPart,l)};c.getProperty=function(r,c){const a=o(r,c,i);const s=t(a,e);return n.last(s.contractPart)};c.getData=function(t){if(typeof i==="string"){return c.getProperty("/",t)}return Object.keys(i).reduce((n,r)=>{n[r]=this.getProperty(`/${r}`,t);return n},{})};return c}function i(t,n,r,e){let o;let i;let a;let s;if(typeof r==="string"){const i=r;s=i;const u=t.last(i);if(Object.prototype.toString.apply(u)!=="[object Object]"){throw new Error(`Cannot bind on leaf property of Configuration: '${i}'`)}o=new e(u);a=o.setData.bind(o);t.on(i).do(t=>{a(t)});return c(t,n,o,s)}if(Object.prototype.toString.apply(r)==="[object Object]"){const a=r;const s=Object.keys(a).reduce((n,r)=>{const e=a[r];n[r]=t.last(e);t.on(e).do(((t,n)=>{i(`/${t}`,n)}).bind(null,r));return n},{});o=new e(s);i=o.setProperty.bind(o);return c(t,n,o,a)}throw new Error("Invalid parameter provided to createModel. Must be an object or a string.")}return{createModel:i}},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Container", ["sap/base/assert","sap/base/Log","sap/base/util/deepExtend","sap/base/util/extend","sap/base/util/uid","sap/ui/base/EventProvider","sap/ui/core/Control","sap/ui/core/EventBus","sap/ui/core/service/ServiceFactoryRegistry","sap/ui/performance/Measurement","sap/ui/thirdparty/jquery","sap/ui/thirdparty/URI","sap/ui/util/Mobile","sap/ushell/bootstrap/common/common.util","sap/ushell/EventHub","sap/ushell/System","sap/ushell/Ui5ServiceFactory","sap/ushell/utils","sap/ushell/utils/UrlParsing","sap/ushell/renderer/ShellLayout","sap/base/util/Deferred","sap/base/util/ObjectPath","sap/ushell/api/BootstrapObserver","sap/ushell/resources"],(e,t,n,r,i,o,s,a,l,u,jQuery,c,f,d,p,h,g,m,y,v,w,S,C,P)=>{"use strict";const D="sap.ushell.Container";const L="sap.ushell.Container.dirtyState.";const A={};let b;let I;const E=[];let R;const F=[];function M(){close()}function U(){document.location="about:blank"}function N(e){if(I&&I[e]){return I[e]}return`sap.ushell.adapters.${e}`}function T(e){const t=b.services;if(!t){return{}}if(e==="Notifications"||e==="NotificationsV2"){return t.Notifications||t.NotificationsV2||{}}return t[e]||{}}function O(e,t,n,r,i){const o=T(e).adapter||{};let s;async function a(e){let r;try{[r]=await m.requireAsync([e])}catch(t){if(e.endsWith("PersonalizationV2Adapter")){const t=e.replace("PersonalizationV2Adapter","PersonalizationAdapter");return a(t)}if(e.endsWith("FlpLaunchPageAdapter")){const t=e.replace("FlpLaunchPageAdapter","LaunchPageAdapter");return a(t)}throw t}const i=new r(t,n,{config:o.config||{}});return i}if(i===true){s=o.module;if(s===undefined){return r?Promise.resolve():undefined}}else{s=o.module||`${N(t.getPlatform())}.${e}Adapter`}const l=s.replace(/\./g,"/");function u(e){let r;try{r=sap.ui.requireSync(e)}catch(t){if(e.endsWith("PersonalizationV2Adapter")){const t=e.replace("PersonalizationV2Adapter","PersonalizationAdapter");r=sap.ui.requireSync(t)}else{throw t}}return new r(t,n,{config:o.config||{}})}if(!r){return u(l)}return a(l)}function _(e,t){e.forEach(e=>{const n=g.createServiceFactory(e,t);l.register(`sap.ushell.ui5service.${e}`,n)})}function $(){const l=new o;let d=false;let g=[];let N={};let $;const k={};let x;let q;let V=m.getLocalStorage();let Y=new m.Map;let B=new m.Map;let G;const H=this;let z;let K=false;let W=new w;function j(){if(typeof z.logoutRedirect==="function"){q=function(e){function t(){H._closeWindow();H._redirectWindow()}if(R!==H){return}if(e.key.indexOf($)===0&&e.newValue&&e.newValue!==V.getItem(e.key)){m.localStorageSetItem(e.key,e.newValue)}if(e.key===G){if(e.newValue==="pending"){H._suppressOData();if(l.fireEvent("Logout",true)){t()}else{setTimeout(t,1e3)}}}};window.addEventListener("storage",q)}}this.init=async function(e,t){S.set("sap.ushell.Container",R);const n=await Promise.all([this._init(e,t),P.awaitResourceBundle()]);z=n[0];$=`sap.ushell.Container.${z.getSystem().getPlatform()}.remoteSystem.`;G=`sap.ushell.Container.${z.getSystem().getPlatform()}.sessionTermination`;j();K=true;W.resolve();C.resolveBootstrappedContainer(this)};this.isInitialized=function(){return K};this.cancelLogon=function(){if(this.oFrameLogonManager){this.oFrameLogonManager.abortLogon()}};this.createRenderer=function(e,n){if(typeof e==="boolean"){n=e;e=undefined}const r={async:!!n};let i;u.start("FLP:Container.InitLoading","Initial Loading","FLP");m.setPerformanceMark("FLP - renderer created");e=e||b.defaultRenderer;if(!e){throw new Error("Missing renderer name")}const o=b&&b.renderers&&b.renderers[e]||{};i=o.module||(e.indexOf(".")<0?`sap.ushell.renderers.${e}.Renderer`:e);if(i==="sap.ushell.renderers.fiori2.Renderer"){i="sap.ushell.renderer.Renderer"}if(o.componentData&&o.componentData.config){r.config=o.componentData.config}function a(e){e.placeAt=function(e,t){let n=e;const r="canvas";const i=document.body;if(e===i.id){n=document.createElement("div");n.setAttribute("id",r);n.classList.add("sapUShellFullHeight");switch(t){case"first":if(i.firstChild){i.insertBefore(n,i.firstChild);break}case"only":i.innerHTML="";default:i.appendChild(n)}e=r;t=""}v.applyLayout(e);p.emit("ShellLayoutApplied",Date.now());s.prototype.placeAt.call(this,e,t)}}function c(e){const t=e.destroy;e.destroy=function(){if(e.isA("sap.ui.core.ComponentContainer")){return Promise.resolve(e.getComponentInstance().destroy()).then(function(){return t.apply(e,arguments)})}return Promise.resolve(t.apply(e,arguments))}}function f(t){const n=sap.ui.requireSync(t);const i=new n({componentData:r});let o;const u=sap.ui.requireSync("sap/ui/core/UIComponent");if(i instanceof u){const e=sap.ui.requireSync("sap/ui/core/ComponentContainer");o=new e({component:i,height:"100%",width:"100%"})}else{o=i}if(!(o instanceof s)){throw new Error(`Unsupported renderer type for name ${e}`)}a(o);c(o);N[e]=i;l.fireEvent("rendererCreated",{renderer:i});return o}function d(t){return new Promise((n,i)=>{sap.ui.require([t,"sap/ui/core/ComponentContainer","sap/ui/core/UIComponent","sap/ui/core/routing/Router"],(t,o,u)=>{const f=new t({componentData:r});if(f instanceof u){const t=new o({component:f,height:"100%",width:"100%",async:true});a(t);c(t);N[e]=f;f.rootControlLoaded().then(()=>{l.fireEvent("rendererCreated",{renderer:f});n(t)})}else if(f instanceof s){a(f);c(f);N[e]=f;l.fireEvent("rendererCreated",{renderer:f});n(f)}else{i(new Error("Unsupported renderer type!"))}})})}const h=i.replace(/\./g,"/");if(n){return d(h)}t.error("sap.ushell.Container.createRenderer() should always be called with bAsync:true.");return f(h)};this.createRendererInternal=async function(e){const t={async:true};let n;u.start("FLP:Container.InitLoading","Initial Loading","FLP");m.setPerformanceMark("FLP - renderer created");e=e||b.defaultRenderer;if(!e){throw new Error("Missing renderer name")}const r=b.renderers&&b.renderers[e]||{};n=r.module||(e.indexOf(".")<0?`sap.ushell.renderers.${e}.Renderer`:e);if(n==="sap.ushell.renderers.fiori2.Renderer"){n="sap.ushell.renderer.Renderer"}if(r.componentData&&r.componentData.config){t.config=r.componentData.config}function i(e){e.placeAt=function(e,t){let n=e;const r="canvas";const i=document.body;if(e===i.id){n=document.createElement("div");n.setAttribute("id",r);n.classList.add("sapUShellFullHeight");switch(t){case"first":if(i.firstChild){i.insertBefore(n,i.firstChild);break}case"only":i.innerHTML="";default:i.appendChild(n)}e=r;t=""}v.applyLayout(e);p.emit("ShellLayoutApplied",Date.now());s.prototype.placeAt.call(this,e,t)}}function o(e){const t=e.destroy;e.destroy=function(){if(e.isA("sap.ui.core.ComponentContainer")){return Promise.resolve(e.getComponentInstance().destroy()).then(function(){return t.apply(e,arguments)})}return Promise.resolve(t.apply(e,arguments))}}const a=n.replace(/\./g,"/");const[c,f,d]=await m.requireAsync([a,"sap/ui/core/ComponentContainer","sap/ui/core/UIComponent","sap/ui/core/routing/Router"]);const h=new c({componentData:t});if(h instanceof d){const t=new f({component:h,height:"100%",width:"100%",async:true});i(t);o(t);N[e]=h;await h.rootControlLoaded();l.fireEvent("rendererCreated",{renderer:h});return t}else if(h instanceof s){i(h);o(h);N[e]=h;l.fireEvent("rendererCreated",{renderer:h});return h}throw new Error("Unsupported renderer type!")};this.getRenderer=function(e){let n;e=e||b.defaultRenderer;if(e){n=N[e]}else{const e=Object.keys(N);if(e.length===1){n=N[e[0]]}else{t.warning("getRenderer() - cannot determine renderer, because no default renderer is configured and multiple instances exist.",null,D)}}if(n&&n.isA("sap.ui.core.ComponentContainer")){return n.getComponentInstance()}return n};this.getRendererInternal=function(e){let n;e=e||b.defaultRenderer;if(e){n=N[e]}else{const e=Object.keys(N);if(e.length===1){n=N[e[0]]}else{t.warning("getRendererInternal() - cannot determine renderer, because no default renderer is configured and multiple instances exist.",null,D)}}if(n&&n.isA("sap.ui.core.ComponentContainer")){return n.getComponentInstance()}return n};this.DirtyState={CLEAN:"CLEAN",DIRTY:"DIRTY",MAYBE_DIRTY:"MAYBE_DIRTY",PENDING:"PENDING",INITIAL:"INITIAL"};this.getGlobalDirty=function(){const e=new jQuery.Deferred;const n=i();let r=0;let o=this.DirtyState.CLEAN;function s(){if(r===0||o===H.DirtyState.DIRTY){e.resolve(o);t.debug(`getGlobalDirty() Resolving: ${o}`,null,"sap.ushell.Container")}}function a(e){if(e.key.indexOf(L)===0&&e.newValue!==H.DirtyState.INITIAL&&e.newValue!==H.DirtyState.PENDING){t.debug(`getGlobalDirty() Receiving event key: ${e.key} value: ${e.newValue}`,null,"sap.ushell.Container");if(e.newValue===H.DirtyState.DIRTY||e.newValue===H.DirtyState.MAYBE_DIRTY){o=e.newValue}r-=1;s()}}try{V.setItem(n,"CHECK");V.removeItem(n)}catch(n){t.warning("Error calling localStorage.setItem():",n,"sap.ushell.Container");return e.resolve(this.DirtyState.MAYBE_DIRTY).promise()}if(x){throw new Error("getGlobalDirty already called!")}x=e;window.addEventListener("storage",a);e.always(()=>{window.removeEventListener("storage",a);x=undefined});for(let e=V.length-1;e>=0;e-=1){const n=V.key(e);if(n.indexOf(L)===0){if(V.getItem(n)==="PENDING"){V.removeItem(n);t.debug(`getGlobalDirty() Cleanup of unresolved 'PENDINGS':${n}`,null,"sap.ushell.Container")}else{r+=1;m.localStorageSetItem(n,this.DirtyState.PENDING,true);t.debug(`getGlobalDirty() Requesting status for: ${n}`,null,"sap.ushell.Container")}}}s();setTimeout(()=>{if(e.state()!=="resolved"){e.resolve("MAYBE_DIRTY");t.debug("getGlobalDirty() Timeout reached, - resolved 'MAYBE_DIRTY'",null,"sap.ushell.Container")}},r*2e3);return e.promise()};this.getLogonSystem=function(){if(!z){t.error("getLogonSystem: Container is not yet initialized - system cannot be determined!")}return z.getSystem()};this.ready=function(){return W.promise};this.getUser=function(){return z.getUser()};this.getDirtyFlag=function(){let e=d;const t=this._oShellNavigationInternal.getNavigationContext();for(let n=0;n<g.length;n++){e=e||g[n](t)}return e};this.fnAsyncDirtyStateProvider=null;this.getDirtyFlagsAsync=function(){if(!this.fnAsyncDirtyStateProvider){return Promise.resolve(this.getDirtyFlag())}const e=this._oShellNavigationInternal.getNavigationContext();return this.fnAsyncDirtyStateProvider(e).then(e=>e||this.getDirtyFlag())};this.isAsyncDirtyStateProviderSet=function(){return typeof this.fnAsyncDirtyStateProvider==="function"};this.setAsyncDirtyStateProvider=function(e){this.fnAsyncDirtyStateProvider=e};this.setDirtyFlag=function(e){d=e};this.sessionKeepAlive=function(){if(z.sessionKeepAlive){z.sessionKeepAlive()}};this.extendSession=function(){p.emit("nwbcUserIsActive",Date.now())};this.registerDirtyStateProvider=function(e){if(typeof e!=="function"){throw new Error("fnDirty must be a function")}g.push(e)};this.deregisterDirtyStateProvider=function(e){if(typeof e!=="function"){throw new Error("fnDirty must be a function")}let t=-1;for(let n=g.length-1;n>=0;n--){if(g[n]===e){t=n;break}}if(t===-1){return}g.splice(t,1)};this.getService=function(e,t,n){return H._getServiceSync.apply(H,arguments)};this.getServiceAsync=function(e,t){return H._getServiceAsync(e,t)};this._getServiceSync=function(e,n,r){const i={};function o(t){if(!t){throw new Error("Missing system")}const r=O(e,t,n);R.addRemoteSystem(t);return m.toDeferred(r)}if(!e){throw new Error("Missing service name")}if(e.indexOf(".")>=0){throw new Error("Unsupported service name")}const s=T(e);const a=s.module||`sap.ushell.services.${e}`;const l=`${a}/${n||""}`;const u={config:s.config||{}};function c(e,t){i.createAdapter=o;return new e(t,i,n,u)}function f(t,r){let o;if(Y.containsKey(l)){o=Y.get(l)}else if(t.hasNoAdapter){o=new t(i,n,u)}else{const i=O(e,z.getSystem(),n,r,t.useConfiguredAdapterOnly);if(r){return i.then(e=>{const n=c(t,e);Y.put(l,n);return n})}o=c(t,i)}Y.put(l,o);return r?Promise.resolve(o):o}if(!Y.containsKey(l)){if(!r){t.error("Deprecated API call of 'sap.ushell.Container.getService'. Please use 'getServiceAsync' instead",null,"sap.ushell.Container");const e=sap.ui.requireSync(a.replace(/[.]/g,"/"));return f(e)}if(!B.containsKey(l)){const e=new Promise((e,t)=>{sap.ui.require([a.replace(/[.]/g,"/")],t=>{e(f(t,true))},t)});B.put(l,e);return e}return B.get(l)}if(r){return Promise.resolve(Y.get(l))}return Y.get(l)};this._getServiceAsync=function(e,t){const n={};function r(n){if(!n){throw new Error("Missing system")}const r=O(e,n,t);R.addRemoteSystem(n);return m.toDeferred(r)}if(!e){throw new Error("Missing service name")}if(e.indexOf(".")>=0){throw new Error("Unsupported service name")}const i=T(e);const o=i.module||`sap.ushell.services.${e}`;const s=`${o}/${t||""}`;const a={config:i.config||{}};function l(e,i){n.createAdapter=r;return new e(i,n,t,a)}function u(r){let i;if(Y.containsKey(s)){i=Y.get(s)}else if(r.hasNoAdapter){i=new r(n,t,a)}else{const n=O(e,z.getSystem(),t,true,r.useConfiguredAdapterOnly);return n.then(e=>{const t=l(r,e);Y.put(s,t);return t})}Y.put(s,i);return Promise.resolve(i)}if(!Y.containsKey(s)){if(!B.containsKey(s)){const e=new Promise((e,t)=>{sap.ui.require([o.replace(/[.]/g,"/")],t=>{e(u(t))},t)});B.put(s,e);return e}return B.get(s)}return Promise.resolve(Y.get(s))};function J(){for(let e=V.length-1;e>=0;e-=1){const t=V.key(e);if(t.indexOf($)===0){try{const e=t.substring($.length);const n=JSON.parse(V.getItem(t));k[e]=new h(n)}catch{V.removeItem(t)}}}return k}function X(){if(typeof OData==="undefined"){return}function e(e,n,r){t.warning(e,null,"sap.ushell.Container");if(r){setTimeout(r.bind(null,e),5e3)}return{abort:function(){return}}}OData.read=function(t,n,r){return e(`OData.read('${t&&t.Uri?t.requestUri:t}') disabled during logout processing`,n,r)};OData.request=function(t,n,r){return e(`OData.request('${t?t.requestUri:""}') disabled during logout processing`,n,r)}}this.addRemoteSystem=function(e){const n=e.getAlias();const r=k[n];if(this._isLocalSystem(e)){return}if(r){if(r.toString()===e.toString()){return}t.warning(`Replacing ${r} by ${e}`,null,"sap.ushell.Container")}else{t.debug(`Added ${e}`,null,"sap.ushell.Container")}k[n]=e;m.localStorageSetItem($+n,e)};this._isLocalSystem=function(e){const t=e.getAlias();if(t&&t.toUpperCase()==="LOCAL"){return true}const n=new c(m.getLocationHref());const r=this.getLogonSystem().getClient()||"";if(e.getBaseUrl()===n.origin()&&e.getClient()===r){return true}return false};this.addRemoteSystemForServiceUrl=function(e){const t={baseUrl:";o="};if(!e||e.charAt(0)!=="/"||e.indexOf("//")===0){return}const n=/^[^?]*;o=([^/;?]*)/.exec(e);if(n&&n.length>=2){t.alias=n[1]}e=e.replace(/;[^/?]*/g,"");if(/^\/sap\/(bi|hana|hba)\//.test(e)){t.platform="hana";t.alias=t.alias||"hana"}else if(/^\/sap\/opu\//.test(e)){t.platform="abap"}if(t.alias&&t.platform){this.addRemoteSystem(new h(t))}};this.attachLogoutEvent=function(t,n){let r=false;if(n===true){e(typeof t==="function","Container.attachLogoutEvent: fnFunction must be a function");for(let e=0;e<E.length;e++){if(E[e]===t){r=true;break}}if(!r){E.push(t)}}else{l.attachEvent("Logout",t)}};this.detachLogoutEvent=function(e){l.detachEvent("Logout",e);for(let t=0;t<E.length;t++){if(E[t]===e){E.splice(t,1);break}}};this.attachRendererCreatedEvent=function(e){l.attachEvent("rendererCreated",e)};this.detachRendererCreatedEvent=function(e){l.detachEvent("rendererCreated",e)};this.defaultLogout=function(){return this.callRegisteredLogoutHandlers().then(async()=>{async function e(){const e=new w;const t=[];if(E.length>0){for(let e=0;e<E.length;e++){t.push(E[e]())}Promise.all(t).then(e.resolve);setTimeout(e.resolve,4e3)}else{e.resolve()}return e.promise.then(()=>{if(l.fireEvent("Logout",true)){return}return m.awaitTimeout(1e3)}).then(()=>m.promisify(z.logout(true)))}async function n(){const n=[];if(q){window.removeEventListener("storage",q)}m.localStorageSetItem(G,"pending");H._suppressOData();const r=H._getRemoteSystems();Object.keys(r).forEach(e=>{try{n.push(m.promisify(O("Container",r[e]).logout(false)))}catch(n){t.warning(`Could not create adapter for ${e}`,n,"sap.ushell.Container")}V.removeItem($+e)});return Promise.allSettled(n).then(e).catch(()=>{}).then(()=>{V.removeItem(G)})}if(typeof z.addFurtherRemoteSystems==="function"){await m.promisify(z.addFurtherRemoteSystems()).catch(()=>{})}return n()})};this.logout=function(){return m.toDeferred(this.defaultLogout())};this.registerLogout=function(e){if(typeof e!=="function"){t.error("Container.registerLogout - Invalid logout handler function.");return false}if(F.includes(e)){t.warning("Container.registerLogout - This logout handler is already registered. Ignoring.");return false}F.push(e);return true};this.deRegisterLogout=function(e){const n=F.indexOf(e);if(n===-1){t.error("Container.deRegisterLogout - Attempted to de-register a logout handler that was not registered.");return false}F.splice(n,1);return true};this.isLogoutRegistered=function(e){return F.includes(e)};this.callRegisteredLogoutHandlers=async function(){if(F.length>0){for(const e of F){try{await m.promisify(e())}catch(e){t.error("Error executing logout handler:",e)}}}};this.setLogonFrameProvider=function(e){if(this.oFrameLogonManager){this.oFrameLogonManager.logonFrameProvider=e}};this.setXhrLogonTimeout=function(e,t){if(this.oFrameLogonManager){this.oFrameLogonManager.setTimeout(e,t)}};this.getFLPConfig=function(){const e=new Promise((e,t)=>{const n={URL:this.getFLPUrl()};if(A.CDMPromise){A.CDMPromise.then(t=>{t.getSiteWithoutPersonalization().then(t=>{n.scopeId=t.site.identification.id;e(n)})})}else{e(n)}});return e};this.getFLPUrl=function(e){const t=m.getLocationHref();const n=t.indexOf(y.getShellHash(t));if(n===-1||e===true){return t}return t.substr(0,n-1)};this.getFLPUrlAsync=function(e){return m.toDeferred(H.getFLPUrl(e))};this.inAppRuntime=function(){return false};this.runningInIframe=this.inAppRuntime;this._getAdapter=function(){return z};this.getFLPPlatform=function(e){if(e===true){return b.flpPlatform}return Promise.resolve(b.flpPlatform)};this._closeWindow=M;this._redirectWindow=U;this._getRemoteSystems=J;this._suppressOData=X;a.getInstance().subscribe("sap.ushell.Container","addRemoteSystemForServiceUrl",(e,t,n)=>{H.addRemoteSystemForServiceUrl(n)});this._init=function(e,i){const o=new Promise(o=>{f.init();b=r({},window["sap-ushell-config"]);I=i;if(typeof window["sap.ushell.bootstrap.callback"]==="function"){setTimeout(window["sap.ushell.bootstrap.callback"])}_(["Personalization","URLParsing","CrossApplicationNavigation"],true);_(["Configuration"],false);const s=new h({alias:"",platform:b.platform||e});function a(e){const t=e[0];const r=e[1];const i=r?r.getPlugins():jQuery.when({});i.then(e=>{const r=n({},b.bootstrapPlugins,e);t.registerPlugins(r)})}function l(){if(m.hasFLPReady2NotificationCapability()){sap.ui.require(["sap/ushell/NWBCInterface"],e=>{m.getPrivateEpcm().doEventFlpReady2(e)})}else if(m.hasFLPReadyNotificationCapability()){m.getPrivateEpcm().doEventFlpReady()}}function u(e){if(e.last("/core/darkMode/enabled")){R.getServiceAsync("DarkModeSupport").then(e=>{if(e&&e.setup){e.setup()}})}}function c(e){const t=!!new URLSearchParams(window.location.search).get("sap-ui-xx-ushell-UITraceEnabled");if(e.last("/core/uiTracer/enabled")||t){R.getServiceAsync("UITracer")}}function d(){l();sap.ui.require(["sap/ushell/Config"],e=>{u(e);c(e)})}O("Container",s,null,true).then(e=>{z=e;return z.load()}).then(()=>{function e(){const e=window["sap-ushell-config"];if(!e||!e.services){return false}const t=e.services.PluginManager;const n=t&&t.config;return n&&n.loadPluginsFromSite}const n=[this.getServiceAsync("PluginManager")];if(e()){A.CDMPromise=this.getServiceAsync("CommonDataModel");n.push(A.CDMPromise)}Promise.all(n).then(e=>{a(e)}).then(d);const r=[];if(b.preloadServices!==undefined&&Array.isArray(b.preloadServices)){b.preloadServices.forEach(e=>{r.push(this.getServiceAsync(e))});t.error("Ushell Config's preloadServices should not be used!")}const i=this.getServiceAsync("ShellNavigationInternal").then(e=>{this._oShellNavigationInternal=e});r.push(i);Promise.all(r).then(()=>{o(z)})})});return o};this._getFunctionsForUnitTest=function(){return{createAdapter:O}};this.resetServices=function(){Y=new m.Map;B=new m.Map};this.reset=function(){this.resetServices();V=m.getLocalStorage();d=false;g=[];N={};this.fnAsyncDirtyStateProvider=undefined;K=false;W=new w}}R=new $;sap.ushell.bootstrap=function(e,n){if(!window["sap-ushell-config-migration"]){if(e==="local"){t.error("Deprecated usage of the 'local' platform! Please replace it with the 'sandbox' scenario.",null,"sap.ushell.bootstrap")}else{t.error(`Deprecated API call of sap.ushell.bootstrap. Please adapt the platform '${e}' accordingly.`,null,"sap.ushell.bootstrap")}d.migrateV2ServiceConfig(window["sap-ushell-config"])}const r=R.init(e,n);return m.toDeferred(r)};return R});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/EventHub", ["sap/base/Log"],e=>{"use strict";function n(){return{nextKey:0,objectToKey:new window.WeakMap,keyToObject:{}}}const t={pendingEvents:{},subscribers:{},dispatchOperations:{},store:n()};function r(n,t,r){e.error(n,t,"sap.ushell.EventHub");return}function o(e){const n=`An exception was raised while executing a registered callback on event '${e.eventName}'`;let t=`Data passed to the event were: '${e.eventData}'`;if(e.error.stack){t+=` Error details: ${e.error.stack}`}r(n,t,e.fnCausedBy)}function s(e,n,t){let r;try{r=n(t)}catch(r){o({eventName:e,eventData:t,fnCausedBy:n,error:r})}return r}function c(e,n){if(e.store.objectToKey.has(n)){return e.store.objectToKey.get(n)}e.store.nextKey++;const t=`<${typeof n}>#${e.store.nextKey}`;e.store.keyToObject[t]=n;e.store.objectToKey.set(n,t);return t}function i(e){if(typeof arguments[2]==="function"){return c(e,arguments[2])}return arguments[2]}function u(e,n){return e.store.keyToObject[n]}function a(e){if(typeof arguments[2]==="string"&&arguments[2].indexOf("<function")===0){return u(e,arguments[2])}return arguments[2]}function f(e,n,t){if(typeof n==="object"||typeof n==="function"){try{const r=[n,i.bind(null,e)];if(t){r.push(3)}return JSON.stringify.apply(JSON,r)}catch(e){r("serialize failed:",e,f)}}return n}function l(e,n){try{return JSON.parse(n,a.bind(null,e))}catch(e){return n}}function p(e,n,t){if(!e.subscribers[n]){e.subscribers[n]=[]}e.subscribers[n].push(t)}function h(e,n,t){e.subscribers[n]=(e.subscribers[n]||[]).map(e=>e.filter(e=>e.fn!==t)).filter(e=>e.length>0)}function d(){let e;const n=new Promise(n=>{e=n});const t={dispatching:n,cancelled:false,cancel:function(){t.cancelled=true},complete:function(){e()}};return t}function b(e,n,t,r){const o=l(e,e.pendingEvents[n]);return Promise.resolve().then(()=>{if(t.called&&r.offed){return false}t.called=true;const c=r.offed;s(n,t.fn,o);const i=r.offed;if(i){h(e,n,t.fn)}return!c&&i})}function y(e,n,t,r,o){const s=t.length;const c=t.slice(o);return c.reduce((o,s)=>o.then(o=>{if(r.cancelled){if(o){h(e,n,s.fn)}return o}return b(e,n,s,t).then(e=>{if(e){r.cancelled=true}return e})}),Promise.resolve(false)).then(o=>{if(!o&&s<t.length){return y(e,n,t,r,s)}return o})}function v(e,n){if(!e.subscribers.hasOwnProperty(n)){return null}const t=d();const r=e.subscribers[n];const o=r.map(r=>y(e,n,r,t,0));Promise.all(o).finally(t.complete);return t}function m(e,n,t){return function(){t.forEach(t=>{h(e,n,t.fn)});t.offed=true;return{off:m(e,n,[])}}}function g(e,n,t){return function(r){const o={fn:r,called:false};t.push(o);if(e.pendingEvents.hasOwnProperty(n)){const r=e.dispatchOperations[n];if(!r){b(e,n,o,t)}else{r.dispatching.then(()=>{if(!o.called){b(e,n,o,t)}})}}return{do:g(e,n,t),off:m(e,n,t)}}}function O(e,n){const t=[];p(e,n,t);return{do:g(e,n,t),off:m(e,n,t)}}function w(e,n){const t=O(e,n);t.off();return t}function j(e,n,t,r){const o=f(e,t);if(!r&&e.pendingEvents.hasOwnProperty(n)&&e.pendingEvents[n]===o){return this}e.pendingEvents[n]=o;const s=e.dispatchOperations[n];if(s){s.cancel()}const c=v(e,n);e.dispatchOperations[n]=c;return this}function P(e,n){return l(e,e.pendingEvents[n])}function $(){const e=Array.prototype.slice.call(arguments);e.shift();let n=0;const t=new Array(e.length).join(",").split(",").map(()=>1);const r=[];const o={do:function(s){e.forEach((o,c)=>{o.do(((o,c)=>{r[o]=c;n+=t[o];t[o]=0;if(n===e.length){s.apply(null,r)}}).bind(null,c))});return{off:o.off}},off:function(){const n=e.reduce((e,n)=>n.off(),()=>{});return{off:n}}};return o}function E(e,n){const t=e.dispatchOperations[n];return t?t.dispatching:Promise.resolve()}function k(e){const t={};t.emit=j.bind(t,e);t.on=O.bind(null,e);t.once=w.bind(null,e);t.last=P.bind(null,e);t.join=$.bind(null,e);t.wait=E.bind(null,e);t._reset=function(e){e.pendingEvents={};e.subscribers={};e.dispatchOperations={};e.store=n()}.bind(null,e);return t}function x(e){const t={pendingEvents:{},subscribers:{},dispatchOperations:{},store:n()};const r=k(t);const o=l(t,f(t,e));function s(e){const n=e.charAt(0);if(n.match(/[a-zA-Z0-9]/)){throw new Error(`Invalid path separator '${n}'. Please ensure path starts with a non alphanumeric character`)}const t=e.split(n);t.shift();return t}function c(e,n){let t=e;let r="";if(arguments.length===2){t=n;r=e}return`${r}/${t.join("/")}`}function i(e){return Object.prototype.toString.apply(e)==="[object Array]"}function u(e){return Object(e)!==e}function a(e){return(i(e)?e.length:Object.keys(e).length)===0}function p(e,n,r,o){let s="";let a=e;const l=[];r.reduce((e,n,p)=>{s=c(s,[n]);a=a[n];if(p===r.length-1){if(!u(o)&&!u(a)&&Object.keys(a).length>0){let e;const n=Object.keys(a).reduce((e,n)=>{e[n]=true;return e},{});const r=Object.keys(o).some(t=>{e=t;const r=n.hasOwnProperty(t);delete n[t];const o=!u(a[t])&&Object.keys(a[t]).length>0;return!r||o});const i=Object.keys(n).length>0;const p=r||i;if(p){const c=r?`One or more values are not defined in the channel contract or are defined as a non-empty object/array, for example, check '${e}'.`:`Some keys are missing in the event data: ${Object.keys(n).join(", ")}.`;throw new Error(`Cannot write value '${f(t,o,true)}' to path '${s}'. ${c} All childrens in the value must appear in the channel contract and must have a simple value or should be defined as an empty complex value`)}const h=Object.keys(o).map(e=>({serializedPath:c(s,[e]),value:o[e]}));Array.prototype.push.apply(l,h)}e[n]=o}else if(!e.hasOwnProperty(n)){e[n]=i(a)?[]:{}}l.push({serializedPath:s,value:e[n]});return e[n]},n);return l}function h(e,n){let r="";const o=n.reduce((e,n)=>{r+=`/${n}`;if(i(e)&&!n.match(/^[0-9]+$/)){throw new Error(`Invalid array index '${n}' provided in path '${r}'`)}if(!e.hasOwnProperty(n)){throw new Error(`The item '${n}' from path ${r} cannot be accessed in the object: ${f(t,e)}`)}return e[n]},e);return o}function d(e,n,t){return n.reduce((e,r,o)=>{const s=o===n.length-1;if(e.hasOwnProperty(r)){return e[r]}return s?t:{}},e)}function b(e,n){n.pop();let t=e;const r=[];return n.reduce((e,n)=>{t=t[n];r.push(n);e.push({serializedPath:c(r),value:t});return e},[])}function y(e){return e.map(e=>{const n=e.serializedPath;if(!t.subscribers.hasOwnProperty(n)||t.subscribers[n].length===0){return null}return{path:n,value:e.value}}).filter(e=>!!e)}function v(n,t){const c=s(n);h(e,c);const i=p(e,o,c,t);i.forEach(e=>{r.emit(e.serializedPath,e.value)})}function m(n){const t=s(n);const r=h(e,t);return d(o,t,r)}function g(n){const o=s(n);const i=c(o);let p=r.last(i);const d=t.pendingEvents.hasOwnProperty(i);if(d){return r.on(i)}p=h(e,o);if(typeof p!=="undefined"&&(u(p)||!a(l(r,f(r,p))))){r.emit(i,p)}return r.on(i)}function O(e){const n=g(e);n.off();return n}function w(e){const n=s(e);const t=b(o,n);const c=y(t).map(e=>r.wait(e.path,e.value));return Promise.all(c.concat(r.wait(e)))}return{emit:v,on:g,once:O,last:m,wait:w,join:$.bind(null,r)}}const A=k(t);A.createChannel=x.bind(null);return A});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Fiori20Adapter", ["sap/ui/base/Object","sap/ui/core/Component","sap/ui/core/UIComponent","sap/ui/core/ComponentHooks","sap/ui/model/resource/ResourceModel","sap/m/Fiori20Adapter","sap/ui/thirdparty/hasher","sap/base/util/extend","sap/ushell/utils/CallbackQueue"],(e,t,i,n,o,r,s,a,c)=>{"use strict";n.onUIComponentInstanceDestroy.register(e=>{if(e._fioriAdapter){e._fioriAdapter.destroy()}if(e._oShellUIService){e._oShellUIService.destroy()}});const h=e.extend("AppInfo",{constructor:function(t){e.call(this);this._oComponent=t},getDefaultTitle:async function(){const e=this._oComponent.getManifestEntry("sap.app");if(e&&e.title){const t=e.title;if(this._isLocalizationKey(t)){const i=e.i18n||"i18n/i18n.properties";return this._getLocalized(t,i)}return t}const t=this._oComponent.getManifestEntry("sap.ui5");if(t?.config?.resourceBundle&&t.config.titleResource){const e=t.config.titleResource;const i=t.config.resourceBundle;return this._getLocalized(e,i)}},_getLocalized:async function(e,t){const i=new o({async:true,bundleUrl:`${sap.ui.require.toUrl(this._oComponent.getMetadata().getComponentName())}/${t}`});const n=await i.getResourceBundle();return n.getText(e.replace(/^{{/,"").replace(/}}$/,""))},_isLocalizationKey:function(e){return e.indexOf("{{")===0&&e.indexOf("}}")>0}});const l=e.extend("HeaderInfo",{constructor:function(t,i,n){e.call(this);this._oConfig=i;this._oAppInfo=n;this._oShellUIService=t._oShellUIService;this._aHierarchy=[];this._pInit=this._oAppInfo.getDefaultTitle().then(e=>{this._sDefaultTitle=e})},registerView:async function(e,t){if(this._oConfig.bMoveTitle===true){if(!e.oTitleInfo&&e.oSubTitleInfo){e.oTitleInfo=e.oSubTitleInfo}this._oCurrentViewInfo=e;const i=e.oTitleInfo?e.oTitleInfo.text:undefined;if(i!==this._oShellUIService.getTitle()){try{this._oShellUIService.setTitle(i)}catch{}}await this._updateHierarchy(e,t)}this._setBackNavigation(e.oBackButton,e.oAdaptOptions)},_setBackNavigation:function(e,t){if(t&&t.bHideBackButton===false){return}let i;if(e){i=e.firePress.bind(e)}this._oShellUIService.setBackNavigation(i)},_updateHierarchy:async function(e,t){if(this._oConfig.bHierarchy===false){return}await this._pInit;if(!e){return}let i=true;for(let n=this._aHierarchy.length-1;n>=0;n--){let o=this._aHierarchy[n];const r=o.id===e.sViewId;const s=o.intent===t;if(r||s){i=false;o=this._updateHierarchyEntry(o,e);this._aHierarchy[n]=o;this._aHierarchy=this._aHierarchy.slice(0,n+1);if(r){o.intent=t}break}}if(i){const i=this._createHierarchyEntry(e,t);this._aHierarchy.push(i)}const n=[];for(let e=this._aHierarchy.length-2;e>=0;e--){n.push(this._aHierarchy[e])}try{this._oShellUIService.setHierarchy(this._deleteUndefinedProperties(n))}catch{}},_createHierarchyEntry:function(e,t){return{id:e.sViewId,title:e.oTitleInfo?e.oTitleInfo.text:this._sDefaultTitle,subtitle:e.oSubTitleInfo?e.oSubTitleInfo.text:undefined,intent:t}},_updateHierarchyEntry:function(e,t){e.id=t.sViewId;e.title=t.oTitleInfo?t.oTitleInfo.text:this._sDefaultTitle;e.subtitle=t.oSubTitleInfo?t.oSubTitleInfo.text:undefined;return e},_deleteUndefinedProperties:function(e){e.forEach(e=>{for(const t in e){if(e.hasOwnProperty(t)&&!e[t]&&t!=="title"){delete e[t]}}});return e}});const f=e.extend("sap.ushell.Fiori20Adapter",{constructor:function(t,i){e.call(this);this._oComponent=t;this._oConfig=i;this._oHeaderInfo=new l(t,i,new h(t));if(r){r.attachViewChange(this._onViewChange,this)}this._oViewChangeQueue=new c},init:function(){if(!r){return}const e=a({},this._oConfig);r.traverse(this._oComponent.getAggregation("rootControl"),e)},destroy:function(){if(r){r.detachViewChange(this._onViewChange,this)}},_onViewChange:async function(e){const t=`#${s.getHash()}`;await this._oViewChangeQueue.push(async()=>{await this._oHeaderInfo.registerView(e.getParameters(),t)})}});f.applyTo=function(e,n,o,r){let s=e instanceof i?e:t.getOwnerComponentFor(e);if(!s){s=n}if(!s){return}s._oShellUIService=r;if(!s._fioriAdapter){s._fioriAdapter=new f(s,o);s._fioriAdapter.init()}};return f});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Fiori20AdapterTest", ["sap/base/Log","sap/base/util/isEmptyObject","sap/base/util/Version","sap/ui/core/Configuration","sap/ui/core/library","sap/ui/core/service/ServiceFactoryRegistry","sap/ui/core/UIComponent","sap/ui/core/ComponentHooks","sap/ushell/Fiori20Adapter"],(e,i,t,n,s,a,r,o,u)=>{"use strict";const c={I_DEFAULT_SEARCH_DEPTH:5,B_DEFAULT_LATE_ADAPTATION:false,S_FIORI20ADAPTER_URL_PARAM_NAME:"sap-ui-xx-fiori2Adaptation",S_FIORI20ADAPTER_METADATA_PARAM_NAME:"sapFiori2Adaptation",A_ALLOWLIST:["fin.*","ssuite.fin.*","fscm.*","sap.fin.*","cus.sd.*","cus.o2c.*","sap.apf.*","tl.ibp.*","ux.fnd.apf.o2c.*","fnd.apf.*","fnd.pob.o2c.*","fcg.sll.*","ux.fnd.generic-apf-application.*","hpa.cei.*","query.viewbrowser.s1.*","ssuite.vdm.viewbrowser.s1.*","ssuite.smartbusiness.kpi.s1.*","ssuite.smartbusiness.evaluation.s1.*","ssuite.smartbusiness.association.s1.*","ssuite.smartbusiness.drilldown.s1.*","ssuite.smartbusiness.tile.s1.*","ssuite.smartbusiness.tile.ce.s1.*","ssuite.smartbusiness.workspace.s1.*","ssuite.smartbusiness.runtime.s1.*","gs.fin.customersummarycn.display.*","gs.fin.financialstatement.structure.manage.*","gs.fin.financialstatement.display.*","uipsm.*","publicservices.her.*"],getConfiguration:function(e){let i;i=this._getURLParamConfiguration();if(!i){i=this._getMetadataConfiguration(e)}if(!i){i=this._getDefaultConfiguration(e)}i.iSearchDepth=i.iSearchDepth||c.I_DEFAULT_SEARCH_DEPTH;if(typeof i.iSearchDepth==="string"&&!isNaN(i.iSearchDepth)){i.iSearchDepth=parseInt(i.iSearchDepth,10)}return i},_getURLParamConfiguration:function(){if(!n||typeof n.getFiori2Adaptation!=="function"){return}const e=new URLSearchParams(window.location.search);if(!e.get(c.S_FIORI20ADAPTER_URL_PARAM_NAME)){return}const i=n.getFiori2Adaptation();let t;let s;if(typeof i==="boolean"){t=i}else if(i&&i.length>=1){s=i}if(!s&&t===undefined){return}return{bStylePage:s?s.indexOf("style")>-1:t,bMoveTitle:s?s.indexOf("title")>-1:t,bHideBackButton:s?s.indexOf("back")>-1:t,bCollapseHeader:s?s.indexOf("collapse")>-1:t,bHierarchy:s?s.indexOf("hierarchy")>-1:t}},_getMetadataConfiguration:function(e){const t=e.getManifestEntry("/sap.ui5/config")||{};const n=t[c.S_FIORI20ADAPTER_METADATA_PARAM_NAME];let s;let a;if(typeof n==="boolean"){s=n}else if(typeof n==="object"&&!i(n)){a=n}if(!a&&s===undefined){return}return{bStylePage:a?this._isSgnTrue(a.style):s,bMoveTitle:a?this._isSgnTrue(a.title):s,bHideBackButton:a?this._isSgnTrue(a.back):s,bCollapseHeader:a?this._isSgnTrue(a.collapse):s,bHierarchy:a?this._isSgnTrue(a.hierarchy):s,bLateAdaptation:a?this._isSgnTrue(a.lateAdaptation):c.B_DEFAULT_LATE_ADAPTATION}},_getDefaultConfiguration:function(e){const i=this._hasMinVersionSmallerThan(e,"1.42")&&this._isAllowed(e);return{bStylePage:i,bMoveTitle:i,bHideBackButton:i,bCollapseHeader:i,bHierarchy:i}},_isAllowed:function(e){const i=e.getMetadata().getName();for(let e=0;e<c.A_ALLOWLIST.length;e++){const t=c.A_ALLOWLIST[e].substring(0,c.A_ALLOWLIST[e].length-2);if(this._isPrefixedString(i,t)){return true}}return false},_isAdaptationRequired:function(e){for(const i in e){if(e[i]===true){return true}}return false},_isPrefixedString:function(e,i){return e&&i&&e.substring(0,i.length)===i},_hasMinVersionSmallerThan:function(e,i){const n=e.getManifestEntry("sap.ui5");let s=true;if(n&&n.dependencies&&n.dependencies.minUI5Version){const e=new t(n.dependencies.minUI5Version);s=e.compareTo(new t(i))<0}return s},_isSgnTrue:function(e){return e===true||e==="true"}};o.onUIComponentInstanceInitialized.register(i=>{const t=i.getAggregation("rootControl");if(!t||t.getId()==="navContainerFlp"||i.getId().indexOf("application-")!==0){return}const n=c.getConfiguration(i);if(!c._isAdaptationRequired(n)){return}if(!s.service||!a||typeof a.get!=="function"){e.warning("Fiori20Adapter not loaded because static FactoryRegistry is not available","sap.ui.core.service.ServiceFactoryRegistry should be a function","sap.ushell.Fiori20AdapterTest");return}const r={onBeforeRendering:function(){t.removeEventDelegate(r);const s=a.get("sap.ushell.ui5service.ShellUIService");const o=s&&s.createInstance({scopeObject:i,scopeType:"component"});if(!s||!o){e.warning("Fiori20Adapter not loaded because ShellUIService is not available","sap.ushell.ui5service.ShellUIService should be declared by configuration","sap.ushell.Fiori20AdapterTest");return}o.then(e=>u.applyTo(t,i,n,e)).catch(i=>{e.warning("Fiori20Adapter not loaded as ShellUIService is not available",i,"sap.ushell.Fiori20AdapterTest")})}};t.addEventDelegate(r)})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Layout", ["sap/base/i18n/Localization","sap/base/util/extend","sap/ui/Device","sap/ui/core/Element","sap/ui/core/EventBus","sap/ui/thirdparty/jquery","sap/ushell/Config","sap/ushell/Container"],(t,e,i,s,n,jQuery,o,r)=>{"use strict";function l(t){this.init(t)}l.prototype={settings:null,tileWidth:0,tileHeight:0,tileMargin:0,curTouchMatrixCords:null,tilesInRow:null,groupsList:null,item:null,matrix:null,tiles:null,collisionLeft:false,startGroup:null,currentGroup:null,endGroup:null,init:function(i){this.curTouchMatrixCords={column:null,row:null};this.endGroup=null;this.groupSwitched=false;this.item=null;this.matrix=null;this.tiles=null;this.collisionLeft=false;this.startArea=null;this.currentArea=null;this.endArea=undefined;this.startGroup=null;this.draggedTileDomRef=null;this.sDragStartGroupModelId=undefined;this.sDragTargetGroupModelId=undefined;this.currentGroup=null;this.groupsList=null;this.allGroups=null;this.settings=this.settings||i;e(this,this.settings);this.tileWidth=this.thisLayout.styleInfo.tileWidth;this.tileHeight=this.thisLayout.styleInfo.tileHeight;this.tileMargin=this.thisLayout.styleInfo.tileMarginWidth;this.aExcludedControlClass=this.aExcludedControlClass||[];this.reorderElementsCallback=this.reorderElementsCallback||function(){};this.rightToLeft=t.getRTL();this.tabBarArrowCollisionRight=false;this.tabBarArrowCollisionLeft=false;this.collidedLinkAreas=[];this.intersectedLink=null;this.aLinksBoundingRects=[];this.intersectedLinkPlaceHolder=undefined;this.isLinkPersonalizationSupported=this.thisLayout.oLaunchPageService?this.thisLayout.oLaunchPageService.isLinkPersonalizationSupported():null;this.isLinkMarkerShown=false;this.bIsTabBarCollision=false},moveDraggable:function(t,e,i){const s=this.getCollisionObject(t,e,i);let n;if(s){this._toggleAnchorItemHighlighting(false);if(s.collidedObjectType!=="TabBar"){this._toggleTabBarOverflowArrows(false);this.thisLayout.setOnTabBarElement(false);this._resetOverFlowButtonElements();this.bIsTabBarCollision=false}else{this.bIsTabBarCollision=true;this._toggleTabBarOverflowArrows(true);this.removePlaceHolders();this._handleTabBarCollision(t,i)}if(this.isLinkPersonalizationSupported&&s.collidedObjectType==="Group-link"){n=this._handleLinkAreaIntersection(s.collidedObject,t,e)}else if(s.collidedObjectType==="Group-tile"){n=this._handleTileAreaIntersection(s.collidedObject,t,e);this._toggleTileCloneHoverOpacity(false)}if(n||this.endAreaChanged){this.handlePlaceHolder(s.collidedObject)}}else{this._removeEmptyLinkAreaMark()}},_toggleAnchorItemHighlighting:function(t){if(this.targetGroup){this.targetGroup.classList.toggle("sapUshellAnchorItemDropCollision",t);this.targetGroup.firstElementChild.classList.toggle("sapUshellAnchorInnerMarker",t)}},removePlaceHolders:function(){this._removeLinkDropMarker();this._removeEmptyLinkAreaMark();this._handleChangedGroup(this.currentGroup)},handlePlaceHolder:function(t){if(this.endArea==="tiles"){if(this.endAreaChanged){this._removeLinkDropMarker()}this.handlePlaceholderChange()}else if(this.endArea==="links"&&this.intersectedLink){this._changeLinkPlaceholder(this.intersectedLink,t);if(this.endAreaChanged){this.handlePlaceholderChange()}}},switchLinkWithClone:function(t){if(t){this.intersectedLinkPlaceHolder=t.getDomRef().cloneNode(true);this.intersectedLinkPlaceHolder.setAttribute("id","sapUshellIntersectedLinkPlaceHolder");t.$().replaceWith(this.intersectedLinkPlaceHolder)}},_removeLinkDropMarker:function(){jQuery("#sapUshellLinkDropMarker").remove();this.isLinkMarkerShown=false},saveLinkBoundingRects:function(t){const e=s.getElementById(t.getAttribute("id"));this.draggedLinkBoundingRects=e.getBoundingRects()},_getMarkerOffset:function(t,e){const i=e.getDomRef().getElementsByClassName("sapUshellLineModeContainer")[0].getBoundingClientRect();const s=i.left;const n=i.top;const o=this.rightToLeft?20:-1;const r=this.rightToLeft?42:21;let l=t[t.length-1].offset.x-s+t[t.length-1].width-o;let a=t[this.rightToLeft?t.length-1:0].offset.x-s-r;let h=t[this.rightToLeft?t.length-1:0].offset.y-n;let u=t[this.rightToLeft?0:t.length-1].offset.y-n;if(document.body.classList.contains("sapUiSizeCompact")){h-=6;u-=6}if(this.rightToLeft){if(i.right-t[t.length-1].offset.x-t[t.length-1].width<16){l=l-8}}else if(a<16){a=0}return{right:l,left:a,topLeft:h,topRight:u}},_changeLinkPlaceholder:function(t,e){const i=this.aLinksBoundingRects[t.link.getId()];const s=i.left;const n=i.topLeft;const o=i.topRight;const r=i.right;if(!e.getDomRef().querySelector("#sapUshellLinkDropMarker")){this._removeLinkDropMarker();const t=e.getDomRef().getElementsByClassName("sapUshellLinksInnerContainer")[0];jQuery(t).prepend(this.LinkDropMarker)}this.LinkDropMarker.style.left=`${t.leftSide?s:r}px`;this.LinkDropMarker.style.top=`${t.leftSide?n:o}px`;this.isLinkMarkerShown=true},showTilePlaceholder:function(t,e,i){const s=this.curTouchMatrixCords.row;const n=this.curTouchMatrixCords.column;this.domRef=this.item.getDomRef()?this.item.getDomRef():this.domRef;this.domRef.style.display="";this.removeExcludedElementsFromMatrix(this.aExcludedControlClass);const o=this.tiles||this.thisLayout.getGroupTiles(this.endGroup).slice(0);if(this.matrix[s]&&typeof this.matrix[s][n]==="object"){this.handleMatrixCollision(o,t,e,i);return}this._handleMoveOutOfBorders(o,t)},removeTilePlaceholder:function(){this.domRef=this.item.getDomRef()||this.domRef;let t=this.thisLayout.getGroupTiles(this.currentGroup);t=t.slice(0);if(this.startArea!=="links"&&t.indexOf(this.item)>-1){t.splice(t.indexOf(this.item),1)}if(!this.domRef.parentNode.contains("sapUshellLinksInnerContainer")){this.domRef.style.display="none"}this.thisLayout.initGroupDragMode(this.endGroup);const e=this.thisLayout.organizeGroup(t);this.thisLayout.renderLayoutGroup(this.currentGroup,e)},handlePlaceholderChange:function(){const t=this.currentGroup;const e=this.endGroup!==this.currentGroup;const i=this.endAreaChanged&&this.endArea==="links";const s=this.thisLayout.isTabBarActive()&&this.groupSwitched;this.tiles=this.thisLayout.getGroupTiles(this.endGroup).slice(0);this.matrix=this.thisLayout.organizeGroup(this.tiles);if(s){this.handleTabBarSwitch(t)}if(e){this._handleChangedGroup(t)}else if(i){this.removeTilePlaceholder()}if(!i){this.showTilePlaceholder(t,e,i)}},handleMatrixCollision:function(t,e,i,s){let n=this.matrix[this.curTouchMatrixCords.row][this.curTouchMatrixCords.column];const o=t.indexOf(n);const r=t.indexOf(this.item);if(this.rightToLeft){this.collisionLeft=!this.collisionLeft}if(r>-1&&r<o){n=t[o+1]}if(n===this.item){if(i||s){t.splice(t.indexOf(this.item),1)}this._handleTileReplace(t,e);return}const l=this.changeTilesOrder(this.item,n,t,this.matrix);if(l&&!this.isLinkMarkerShown){this._handleTileReplace(l,e)}},handleTabBarSwitch:function(t){this._appendTargetGroupDomRefWithDraggedTile();if(!this.item.getDomRef()){this.endGroup.getInnerContainersDomRefs()[0].appendChild(this.draggedTileDomRef)}else{this.endGroup.getInnerContainersDomRefs()[0].appendChild(this.item.getDomRef())}this.currentGroup=this.endGroup;const e=this.thisLayout.getGroupTiles(t);this.thisLayout.initGroupDragMode(this.endGroup);const i=this.thisLayout.organizeGroup(e);this.thisLayout.renderLayoutGroup(t,i)},_handleMoveOutOfBorders:function(t,e){const i=this.findTileToPlaceAfter(this.matrix,t);if(t[i+1]===this.item){return}let s;if(t[i+1]){s=t[i+1]}else if(this.currentGroup.getShowPlaceholder()){s=t[0]}const n=this.changeTilesOrder(this.item,s,t,this.matrix);if(n){this._handleTileReplace(n,e)}},_handleChangedGroup:function(t){let e=this.thisLayout.getGroupTiles(this.currentGroup);if(this.currentGroup===this.startGroup&&(this.startArea==="tiles"||this.intersectedLinkPlaceHolder)){e=e.slice(0);if(e.indexOf(this.item)>-1){e.splice(e.indexOf(this.item),1)}}if(this.startGroup===this.endGroup&&this.startArea==="tiles"){this.tiles.splice(this.tiles.indexOf(this.item),1)}const i=this.item.getDomRef()||this.domRef;if(this.startArea==="links"&&!this.intersectedLinkPlaceHolder){this.switchLinkWithClone(this.item)}if(this.endArea==="tiles"){this.endGroup.getInnerContainersDomRefs()[0].appendChild(i)}if(!i.parentNode.contains("sapUshellLinksInnerContainer")){i.style.display="none"}this.currentGroup=this.endGroup;this.thisLayout.initGroupDragMode(this.endGroup);const s=this.thisLayout.organizeGroup(e);this.thisLayout.renderLayoutGroup(t,s)},_handleTileReplace:function(t,e){this.reorderElementsCallback({currentGroup:e,endGroup:this.endGroup,tiles:t,item:this.item});this.reorderTilesView(t,this.endGroup);this.reorderTilesInDom();this.thisLayout.renderLayoutGroup(this.endGroup,this.matrix)},_getIntersectedLink:function(t,e,i){const s=document.getElementsByClassName("sapUshellLinkTile")[0];if(!s){return}const n=t.getDomRef().querySelector(".sapUshellLineModeContainer").getBoundingClientRect();const o=!document.body.classList.contains("sapUiSizeCompact");let r=Math.floor((i-n.top)/(o?45:31));const l=this.collidedLinkAreas[t.getId()];let a;if(this.rightToLeft){a=Math.floor((n.right-e)/20)}else{a=Math.floor((e-n.left)/20)}if(r<l.length&&l[r]&&a<l[r].length){return l[r][a]}else if(l.length){const e=l.length;if(r>=e){r=e-1}if(!this.collidedLinkAreas[t.getId()][r]){return}a=this.collidedLinkAreas[t.getId()][r].length;return this.collidedLinkAreas[t.getId()][r][a-1]}},_mapGroupLinks:function(t){const e=t.getId();if(!this.collidedLinkAreas[e]||this.bElapseGroupLinksMap){this.bElapseGroupLinksMap=false;const i=t.getLinks();const s=[];let n;let o;let r=0;this.collidedLinkAreas.push(t.getId());i.forEach(e=>{o=this._getLinkBoundingRects(e,t);o.forEach(i=>{if(i.offset.y>n){r++}n=i.offset.y;this._addLinkToHashMap(s,t,i,r,e)})});this.collidedLinkAreas[e]=s}},_getLinkBoundingRects:function(t,e){let i=t.getBoundingRects();if(this.item&&this.item.getId()===t.getId()){i=this.draggedLinkBoundingRects}if(i.length){this.aLinksBoundingRects[t.getId()]=this._getMarkerOffset(i,e)}return i},_addLinkToHashMap:function(t,e,i,s,n){if(!t[s]){t[s]=[]}for(let e=0;e<=(i.width+20)/20;e++){const o={link:n,leftSide:!this.rightToLeft};if(e>(i.width+20)/20/2){o.leftSide=this.rightToLeft}t[s].push(o)}},_isLinkAreaIntersection:function(t,e,i){const s=t.getInnerContainersDomRefs();if(s[1]){return this._isElementCollideByGivenCordinates(s[1],e,i)}return false},_isLinksEquals:function(t,e){if(!t||!e){return false}if(t.link.getId()!==e.link.getId()){return false}return t.link.leftSide===e.link.leftSide},_toggleTileCloneHoverOpacity:function(t){const e=document.getElementsByClassName("sapUshellTile-clone");for(let i=0;i<e.length;++i){e[i].classList.toggle("sapUshellTileDragOpacity",t)}},_handleLinkAreaIntersection:function(t,e,i){if(this.isLinkPersonalizationSupported){this._toggleTileCloneHoverOpacity(true)}this._mapGroupLinks(t);this.matrix=this.matrix||this.thisLayout.organizeGroup(this.thisLayout.getGroupTiles(t));const s=this._getIntersectedLink(t,e,i);let n=false;if(s){n=this._isLinksEquals(this.intersectedLink,s);this.intersectedLink=s}else{this.removeTilePlaceholder()}this._markEmptyLinkArea(t);return n},_markEmptyLinkArea:function(t){if(!t.getLinks().length){const e=t.getDomRef();if(e){const t=e.getElementsByClassName("sapUshellLineModeContainer");for(let e=0;e<t.length;++e){t[e].classList.add("sapUshellEmptyLinkAreaHover")}}}},_removeEmptyLinkAreaMark:function(){const t=document.getElementsByClassName("sapUshellLineModeContainer");for(let e=0;e<t.length;++e){t[e].classList.remove("sapUshellEmptyLinkAreaHover")}},reorderTilesInDom:function(){const t=this.item.getDomRef()?this.item.getDomRef():this.domRef;const e=jQuery(t).index();const i=jQuery(t).closest(".sapUshellTilesContainer-sortable");const s=this.calcDestIndexInGroup();const n=jQuery(this.endGroup.getDomRef()).find(".sapUshellTilesContainer-sortable");let o=n.find(".sapUshellTile");if(this.startArea==="tiles"){i.find(o[e]).remove()}else if(!this.intersectedLinkPlaceHolder){this.switchLinkWithClone(this.item)}if(this.endArea!=="links"){o=n.find(".sapUshellTile");n[0].insertBefore(t,o[s])}},isLinkIntersected:function(){return this.intersectedLink!==undefined},calcDestIndexInGroup:function(){let t;let e=0;let i;let s;let n=false;for(i=0;i<this.matrix.length&&!n;i++){for(s=0;s<this.matrix[i].length;s++){if(this.matrix[i][s]!==undefined){if(this.item.sId!==this.matrix[i][s].sId){if(t!==this.matrix[i][s].sId){t=this.matrix[i][s].sId;e++}}else{n=true;break}}}}return e},layoutStartCallback:function(t){this.init();this.item=s.getElementById(t.getAttribute("id"));this.tilesInRow=this.thisLayout.getTilesInRow();this.groupsList=this.thisLayout.getGroups();this.allGroups=this.thisLayout.getAllGroups();this.startGroup=this.currentGroup=this.item.getParent();this.groupSwitched=false;this.startArea=this.isLinkPersonalizationSupported&&this.item.getMode&&this.item.getMode()==="LineMode"?"links":"tiles";this.currentArea=this.startArea;this.thisLayout.initDragMode();if(this.isLinkPersonalizationSupported){this.LinkDropMarker=this._getLinkDropMarkerElement()}},_getLinkDropMarkerElement:function(){const t=document.createElement("DIV");const e=document.createElement("DIV");const i=document.createElement("DIV");t.setAttribute("id","sapUshellLinkDropMarker");e.setAttribute("id","sapUshellLinkDropMarkerDot");i.setAttribute("id","sapUshellLinkDropMarkerLine");t.appendChild(e);t.appendChild(i);return t},isAreaChanged:function(){return this.currentArea&&this.endArea?this.currentArea!==this.endArea:false},isOriginalAreaChanged:function(){return this.startArea&&this.endArea?this.startArea!==this.endArea:false},_getDestinationIndex:function(t){if(t==="links"){if(this.intersectedLink){let t=this.endGroup.getLinks().indexOf(this.intersectedLink.link);const e=this.endGroup.getLinks().indexOf(this.item);if(this.intersectedLink.leftSide){t=this.rightToLeft?t+1:t-1}if(e<0||e>t){t=this.rightToLeft?t:t+1}return t}return this.endGroup.getLinks().length}return this._getDestinationTileIndex()},layoutEndCallback:function(){this._removeLinkDropMarker();if(this.endArea!=="links"&&!this.tiles){return{tile:this.item}}const t=this._getDragSourceGroup();if(!u.isTabBarActive()||!this.bIsTabBarCollision){this.targetGroup=""}const e=this._getDestGroupObject(this.targetGroup);const i={srcGroup:t,dstGroup:e,dstGroupData:this._getDropTargetGroup(),tile:this.item,dstTileIndex:this._getDestinationIndex(this.endArea),tileMovedFlag:true,srcArea:this.startArea,dstArea:this.bIsTabBarCollision?undefined:this.endArea};return i},_getDestGroupObject:function(t){return t?s.getElementById(t.getAttribute("id")):this.endGroup},_getDragSourceGroup:function(){let t;t=this.startGroup;if(this.thisLayout.isTabBarActive()&&this.groupSwitched===true){t={groupId:this.sDragStartGroupModelId}}return t},_getDropTargetGroup:function(){let t;if(this.thisLayout.isTabBarActive()&&this.thisLayout.isOnTabBarElement()){t={groupId:this.sDragTargetGroupModelId}}else{t=this.endGroup}return t},_getDestinationTileIndex:function(){let t;let e;if(this.thisLayout.isTabBarActive()&&this.thisLayout.isOnTabBarElement()){t=this._getDropTargetGroup().groupId;e=this._getModelGroupById(t);return e.tiles.length}return this.tiles.indexOf(this.item)},compareArrays:function(t,e){if(t.length!==e.length){return false}for(let i=0;i<t.length;i++){if(t[i]!==e[i]){return false}}return true},reorderTilesView:function(t){this.tiles=t;this.matrix=this.thisLayout.organizeGroup(t)},changeTilesOrder:function(t,e,i,s){const n=i.slice(0);const o=n.indexOf(t);let r;let l;let a;if(o>-1){n.splice(o,1)}if(e){n.splice(n.indexOf(e),0,this.item)}else{n.push(t)}if(this.currentGroup===this.endGroup){if(this.compareArrays(i,n)){return false}r=this.thisLayout.organizeGroup(n);l=this.thisLayout.getTilePositionInMatrix(t,s);a=this.thisLayout.getTilePositionInMatrix(t,r);if(l.row===a.row&&l.col===a.col){return false}}this.tiles=n;this.currentGroup=this.endGroup;return n},setMatrix:function(t){this.matrix=t},findTileToPlaceAfter:function(t,e){let i=this.thisLayout.rightToLeft?0:this.curTouchMatrixCords.column;const s=this.thisLayout.rightToLeft?1:-1;let n=0;let o;let r;let l;const a=t[0].length;for(o=this.curTouchMatrixCords.row;o>=0;o--){for(r=i;r>=0&&r<a;r+=s){if(!t[o]||typeof t[o][r]!=="object"){continue}l=e.indexOf(t[o][r]);n=l>n?l:n}i=t[0].length-1}return n||e.length-1},_isElementCollideByGivenCordinates:function(t,e,i){let s=t.getBoundingClientRect();let n=false;let o=false;if(s.height===0&&!t.classList.contains("sapUshellNoLinksAreaPresent")){s=t.parentNode.getBoundingClientRect()}n=s.right>=e&&s.left<=e;o=s.bottom>=i&&s.top<=i;return n&&o},_getMatrixCordinatesOfTouchedTile:function(t,i,s){let n=e({},this.curTouchMatrixCords);const o=t.getInnerContainersDomRefs()[0].getBoundingClientRect();this.matrix=this.matrix||this.thisLayout.organizeGroup(this.thisLayout.getGroupTiles(t));const r=this.rightToLeft?o.right+-1*i:o.left*-1+i;const l=(o.top*-1+s)/(this.tileHeight+this.tileMargin);const a=r/(this.tileWidth+this.tileMargin);n={row:Math.floor(l),column:Math.floor(a)};return n},_getCollidedGroup:function(t,e){for(let i=0;i<this.groupsList.length;i++){const s=this.groupsList[i];const n=s.getInnerContainersDomRefs();if(!n){continue}for(let o=0;o<n.length;o++){if(n[o]&&this._isElementCollideByGivenCordinates(n[o],t,e)){const t=!s.groupHasTiles();for(let e=this.groupsList.length-1;e>=i;e--){if(t){break}if(!this.groupsList[e].groupHasTiles()){const t=this.groupsList[e].getDomRef();if(!t||!t.classList.contains("sapUshellInDragMode")){continue}const i=t.getElementsByClassName("sapUshellInner");for(let t=0;t<i.length;t++){i[t].removeAttribute("style")}}}return s}}}},_handleTileAreaIntersection:function(t,i,s){const n=this._getMatrixCordinatesOfTouchedTile(t,i,s);if(t===this.endGroup&&n.column===this.curTouchMatrixCords.column&&n.row===this.curTouchMatrixCords.row){return false}if(this.rightToLeft){this.collisionLeft=this.curTouchMatrixCords.column-n.column>0}else{this.collisionLeft=n.column-this.curTouchMatrixCords.column>0}if(n.column===this.curTouchMatrixCords.column){this.collisionLeft=false}e(this.curTouchMatrixCords,n);return true},_getGroupCollisionObject:function(t,e){const i=this._getCollidedGroup(t,e);if(!i||i.getIsGroupLocked()){return undefined}const s=this._isLinkAreaIntersection(i,t,e);this.endGroup=i;if(!this.tiles){this.tiles=this.thisLayout.getGroupTiles(this.endGroup).slice(0)}this.endArea=s?"links":"tiles";this.endAreaChanged=this.isAreaChanged();this.currentArea=this.endArea;return{collidedObjectType:s?"Group-link":"Group-tile",collidedObject:i}},getCollisionObject:function(t,e){if(this.thisLayout.oTabBarItemClickTimer){clearTimeout(this.thisLayout.oTabBarItemClickTimer)}if(this.thisLayout.isTabBarActive()&&this._isTabBarCollision(e)){return{collidedObjectType:"TabBar"}}return this._getGroupCollisionObject(t,e)},_isTabBarScrollArea:function(t){const e=jQuery("#anchorNavigationBar").height()||0;const i=jQuery("#anchorNavigationBar").offset();const s=i?i.top:0;const n=e+s;return e>0&&t>n&&t<n+30},_cancelLongDropTimmer:function(){clearTimeout(this.thisLayout.oTabBarItemClickTimer)},_isTabBarCollision:function(t){const e=jQuery("#anchorNavigationBar").height()||0;const i=jQuery("#anchorNavigationBar").offset();const s=i?i.top:0;return t<e+s&&t>s},_handleTabBarCollision:function(t,e){const i=this._getTabBarHoverItem(t,e);if(u.isTabBarActive()){this._toggleTileCloneHoverOpacity(true)}this.lastHighlitedTabItem=i;this.thisLayout.setOnTabBarElement(true);const s=this._handleOverflowCollision(t);if(s){return}if(!i){return}this.targetGroup=i;this.sDragTargetGroupModelId=i.getAttribute("modelGroupId");const o=this._getTabBarGroupIndexByModelId(this.sDragTargetGroupModelId);if(this.thisLayout.oTabBarItemClickTimer){clearTimeout(this.thisLayout.oTabBarItemClickTimer)}const r=this._getModelGroupById(this._getDropTargetGroup().groupId);if(r.isGroupLocked){this._toggleTabBarOverflowArrows(false);this.thisLayout.setOnTabBarElement(false);this._resetOverFlowButtonElements();return}this._toggleAnchorItemHighlighting(true);if(!this.sDragStartGroupModelId){this.sDragStartGroupModelId=this.startGroup.getGroupId()}this.thisLayout.oTabBarItemClickTimer=setTimeout(()=>{const t=this._getSelectedTabBarItem();if(this.lastHighlitedTabItem===t){return}this.draggedTileModelPath=this.item.getBindingContext().getPath();this._prepareDomForDragAndDrop();this.startGroup.removeAggregation("tiles",this.item,true);const e=this.sDragStartGroupModelId===this.sDragTargetGroupModelId;this.item.getBindingContext().oModel.setProperty(`${this.draggedTileModelPath}/draggedInTabBarToSourceGroup`,e);this.groupSwitched=true;n.getInstance().publish("launchpad","switchTabBarItem",{iGroupIndex:o});const i=this.thisLayout.getGroups();this.endGroup=i[0];this.bElapseGroupLinksMap=true},800);if(this.tiles===null&&this.endGroup){this.tiles=this.thisLayout.getGroupTiles(this.endGroup).slice(0)}const l=document.getElementsByClassName("sapUshellTabBarHoverOn");for(let t=l.length-1;t>=0;--t){l[t].classList.remove("sapUshellTabBarHoverOn")}i.classList.add("sapUshellTabBarHoverOn");return true},_prepareDomForDragAndDrop:function(){const t=this.item.getDomRef();if(i.system.tablet){const e=t.cloneNode(true);const i=t.parentNode;this.origItemId=t.getAttribute("id");this.origItemDataSapUi=t.getAttribute("data-sap-ui");t.removeAttribute("id");t.removeAttribute("data-sap-ui");t.style.display="none";e.style.display="none";const s=document.getElementById("dashboardGroups");s.parentNode.appendChild(t);i.appendChild(e);this.draggedTileDomRef=t}else if(!this.draggedTileDomRef){this.draggedTileDomRef=t}},_appendTargetGroupDomRefWithDraggedTile:function(){const t=this.endGroup.getInnerContainerDomRefs()?this.endGroup.getInnerContainerDomRefs()[0]:null;if(!this.item.getDomRef()){if(i.system.tablet){this.draggedTileDomRef.setAttribute("id",this.origItemId);this.draggedTileDomRef.setAttribute("data-sap-ui",this.origItemDataSapUi);this.draggedTileDomRef.style.display=""}if(t){t.appendChild(this.draggedTileDomRef)}}else{if(t){t.appendChild(this.item.getDomRef())}if(i.system.tablet){this.item.getDomRef().style.display=""}}},_getSelectedTabBarItem:function(){return document.getElementsByClassName("sapUshellAnchorItemSelected")[0]},_getTabBarGroupIndexByModelId:function(t){let e;for(let i=0;i<this.allGroups.length;++i){e=this.allGroups[i].groupId;if(t===e){return i}}},_getModelGroupById:function(t){const e=this.thisLayout.getAllGroups();let i;let s;for(let n=0;n<e.length;++n){i=e[n];s=i.groupId;if(s===t){return i}}},_handleOverflowCollision:function(t){const e=s.getElementById("anchorNavigationBar");const i=this._calculateOverflowButtonSideCollision(t);if(i==="right"){if(!this.tabBarArrowCollisionRight){e._scrollToGroupByGroupIndex(e.anchorItems.length-1,5e3);this.tabBarArrowCollisionRight=true}return true}else if(i==="left"){if(!this.tabBarArrowCollisionLeft){e._scrollToGroupByGroupIndex(0,5e3);this.tabBarArrowCollisionLeft=true}return true}this._resetOverFlowButtonElements();return false},_calculateOverflowButtonSideCollision:function(t){const e=jQuery(".sapUshellAnchorRightOverFlowButton");const i=e.offset().left;const s=jQuery(".sapUshellAnchorItemOverFlow");const n=s.offset().left;const o=jQuery(".sapUshellAnchorLeftOverFlowButton");const r=o.offset().left;const l=32;const a=jQuery("#anchorNavigationBar");const h=a.offset().left;if(t>i&&t<n){return"right"}if(t>h&&t<r+l){return"left"}},_resetOverFlowButtonElements:function(){const t=i.system.tablet;const e=jQuery(t?".sapUshellAnchorNavigationBarItemsScroll":".sapUshellAnchorNavigationBarItems");e.stop();this.tabBarArrowCollisionRight=false;this.tabBarArrowCollisionLeft=false},_toggleTabBarOverflowArrows:function(t){const e=document.getElementsByClassName("sapUshellAnchorRightOverFlowButton");const i=document.getElementsByClassName("sapUshellAnchorLeftOverFlowButton");for(let i=0;i<e.length;++i){e[i].classList.toggle("sapUshellTabBarOverflowButton",t)}for(let e=0;e<i.length;++e){i[e].classList.toggle("sapUshellTabBarOverflowButton",t)}},_getTabBarHoverItem:function(t,e){const i=jQuery(".sapUshellAnchorItem:not(.sapUshellShellHidden)").eq(0).offset().left;if(t-i<=0){return}let s=Math.round((t-i)/10);if(s>=e.length){s=e.length-1}const n=e[s];const o=document.getElementsByClassName("sapUshellAnchorItem");return o[n]},removeExcludedElementsFromMatrix:function(t){if(!t.length){return}if(!this.matrix){return}const e=this.matrix.map(e=>e.map(e=>{const i=t.some(t=>e instanceof t);return i?undefined:e}));this.setMatrix(e)},setExcludedControl:function(t){if(t){this.aExcludedControlClass.push(t)}},setReorderTilesCallback:function(t){if(typeof t==="function"){this.reorderElementsCallback=t}}};function a(){}let h;a.prototype={_initDeferred:new Promise(t=>{h=t}),init:function(t){const e=function(){const t=this.container&&this.container.getAttribute("id")||"";if(t.includes("destroyed")){return}const i=this.getStyleInfo(this.container);if(i.tileWidth>0){this.isInited=true;this.reRenderGroupsLayout();this.layoutEngine=new l({thisLayout:this});h();return}setTimeout(e,100)}.bind(this);this.cfg=t||this.cfg;this.minTilesinRow=2;this.container=this.cfg.container||document.getElementById("dashboardGroups");this.oTabBarItemClickTimer=new Date;this.bTabBarModeActive=false;this.bOnTabBarElement=false;const i=r.getServiceAsync("FlpLaunchPage");if(i){i.then(t=>{this.oLaunchPageService=t;e()})}else{e()}n.getInstance().subscribe("launchpad","tabBarChange",this._onTabBarChange,this);return this.getInitPromise()},setOnTabBarElement:function(t){this.bOnTabBarElement=t},isOnTabBarElement:function(){return this.bOnTabBarElement},_onTabBarChange:function(t,e,i){if(i==="tabs"){this.bTabBarModeActive=true}else{this.bTabBarModeActive=false}},tabBarTileDropped:function(){if(this.oTabBarItemClickTimer){clearTimeout(this.oTabBarItemClickTimer)}},getInitPromise:function(){return this._initDeferred},getLayoutEngine:function(){return this.layoutEngine},getStyleInfo:function(t){const e=document.createElement("div");const i=t.getAttribute("id");t=i?document.getElementById(i):t;if(!t){return{}}e.className="sapUshellTile";const s=o.last("/core/home/sizeBehavior");if(s==="Small"){e.classList.add("sapUshellSmall")}e.style.position="absolute";e.style.visibility="hidden";t.appendChild(e);const n=window.getComputedStyle(e);const r=window.getComputedStyle(t);const l={tileMarginHeight:parseFloat(n.marginBottom,10)+parseFloat(n.marginTop,10),tileMarginWidth:parseFloat(n.marginLeft,10)+parseFloat(n.marginRight,10),tileWidth:e.offsetWidth,tileHeight:e.offsetHeight,containerWidth:r.width?parseInt(r.width,10):t.offsetWidth};t.removeChild(e);return l},getGroups:function(){return this.cfg.getGroups()},getAllGroups:function(){return this.cfg.getAllGroups?this.cfg.getAllGroups():[]},isTabBarActive:function(){return this.cfg.isTabBarActive?this.cfg.isTabBarActive():false},getTilesInRow:function(){return this.tilesInRow},setTilesInRow:function(t){this.tilesInRow=t},checkPlaceForTile:function(t,i,s,n,o){if(typeof i[s.y]==="undefined"){i.push(new Array(i[0].length))}if(typeof i[s.y+1]==="undefined"){i.push(new Array(i[0].length))}if(typeof i[s.y][s.x]!=="undefined"){return false}const r=e({},s);if(o||t&&t.getLong&&!t.getLong()){return[r]}const l=[r];if(t&&t.getLong&&t.getLong()){if(s.x+1>=i[0].length||typeof i[r.y][r.x+1]!=="undefined"){return false}l.push({y:r.y,x:r.x+1})}return l},placeTile:function(t,e,i){for(let s=0;s<i.length;s++){e[i[s].y][i[s].x]=t}},getTilePositionInMatrix:function(t,e){for(let i=0;i<e.length;i++){for(let s=0;s<e[i].length;s++){if(e[i][s]===t){return{row:i,col:s}}}}return false},fillRowsInLine:function(t,e,i,s){if(!e.length){return 0}let n;for(let o=0;o<t[0].length&&e.length;o++){n=this.checkPlaceForTile(e[0],t,{x:o,y:i},s);if(n){this.placeTile(e[0],t,n);e.shift()}}},organizeGroup:function(t,e){const i=t.slice(0);let s=[];let n=0;s.push(new Array(e?Math.floor(this.tilesInRow/2):this.tilesInRow));while(i.length){this.fillRowsInLine(s,i,n,e);n++}if(this.rightToLeft){for(let t=0;t<s.length;t++){s[t].reverse()}}s=this.cleanRows(s);return s},cleanRows:function(t){let e=false;for(let i=t.length-1;i>0&&!e;i--){for(let s=0;s<t[i].length&&!e;s++){if(typeof t[i][s]==="object"){e=true}}if(!e){t.pop()}}return t},setGroupsLayout:function(t,e){if(t.getIsGroupLocked()&&e.length>0){const e=t.getDomRef().parentElement;t.getDomRef().style.width="";e.style.width="";e.style.display=""}},calcTilesInRow:function(t,e,i){let s=Math.floor(t/(e+i));s=s<this.minTilesinRow?this.minTilesinRow:s;return s},getGroupTiles:function(t){const e=t.getTiles();if(t.getShowPlaceholder()){e.push(t.oPlusTile)}return e},reRenderGroupsLayout:function(t){if(!this.isInited){return}const e=this.getStyleInfo(this.container);if(!e.tileWidth){return}this.styleInfo=e;this.tilesInRow=this.calcTilesInRow(e.containerWidth,e.tileWidth,e.tileMarginWidth);t=t||this.getGroups();for(let e=0;e<t.length;e++){if(t[e].getDomRef&&!t[e].getDomRef()){continue}const i=this.getGroupTiles(t[e]);const s=this.organizeGroup(i);this.setGroupsLayout(t[e],s)}},initDragMode:function(){this.initGroupDragMode(this.layoutEngine.currentGroup)},endDragMode:function(){const t=this.getGroups();for(let e=0;e<t.length;e++){const i=t[e].getDomRef();if(!i||!i.classList.contains("sapUshellInDragMode")){continue}i.classList.remove("sapUshellInDragMode");const s=this.getGroupTiles(t[e]);for(let t=0;t<s.length;t++){s[t].getDomRef().removeAttribute("style")}const n=i.getElementsByClassName("sapUshellInner");for(let t=0;t<n.length;t++){n[t].removeAttribute("style")}}},initGroupDragMode:function(t){if(t.$().hasClass("sapUshellInDragMode")){return}const e=this.getGroupTiles(t);const i=this.organizeGroup(e);t.$().addClass("sapUshellInDragMode");this.renderLayoutGroup(t,i)},calcTranslate:function(t,e){let i=e*(this.styleInfo.tileWidth+this.styleInfo.tileMarginWidth);const s=t*(this.styleInfo.tileHeight+this.styleInfo.tileMarginHeight);if(this.layoutEngine.rightToLeft){i=-i}return{x:i,y:s}},renderLayoutGroup:function(t,e){let i;this.styleInfo=this.getStyleInfo(this.container);for(let t=0;t<e.length;t++){for(let s=0;s<e[t].length;s++){if(i===e[t][s]){continue}else{i=e[t][s]}if(typeof i==="undefined"){break}}}}};const u=new a;return u});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/NWBCInterface", ["sap/ushell/EventHub","sap/ushell/Config"],(e,s)=>{"use strict";const t={};t.notifyUserActivity=function(){e.emit("nwbcUserIsActive",Date.now())};t.getSessionTimeoutMinutes=function(){let e=0;if(s.last("/core/shell/sessionTimeoutIntervalInMinutes")>0){e=s.last("/core/shell/sessionTimeoutIntervalInMinutes")}return e};t.isAnyAppKeptAlive=function(){return new Promise(e=>{sap.ui.require(["sap/ushell/appIntegration/KeepAliveApps"],s=>{e(s.length()>0)})})};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/SessionHandler", ["sap/ui/core/EventBus","sap/ushell/resources","sap/ushell/Config","sap/ushell/utils","sap/m/Dialog","sap/m/Button","sap/m/Text","sap/ui/model/json/JSONModel","sap/m/VBox","sap/ui/core/library","sap/m/library","sap/ushell/ui/launchpad/LoadingDialog","sap/ui/thirdparty/jquery","sap/ui/util/Storage","sap/base/Log","sap/ushell/appIntegration/PostMessageManager","sap/ushell/EventHub","sap/ushell/Container"],(e,i,t,s,n,o,a,r,u,l,d,c,jQuery,h,m,g,f,p)=>{"use strict";const S=d.ButtonType;const T=l.ValueState;let v=false;function I(){const l=this;let d=false;let I=false;this.init=function(e){m.debug(`SessionHandler.oConfig.sessionTimeoutIntervalInMinutes: ${e.sessionTimeoutIntervalInMinutes}`,"","SessionHandler");m.debug(`SessionHandler.oConfig.sessionTimeoutReminderInMinutes: ${e.sessionTimeoutReminderInMinutes}`,"","SessionHandler");m.debug(`SessionHandler.oConfig.enableAutomaticSignout: ${e.enableAutomaticSignout}`,"","SessionHandler");if(e.enableAutomaticSignout===undefined){e.enableAutomaticSignout=false}if(e.sessionTimeoutReminderInMinutes===undefined){e.sessionTimeoutReminderInMinutes=0}if(e.sessionTimeoutIntervalInMinutes<-1){e.sessionTimeoutIntervalInMinutes=-1;m.warning("sessionTimeoutIntervalInMinutes was invalid and has been set to -1","SessionHandler")}if(e.sessionTimeoutReminderInMinutes<0){e.sessionTimeoutReminderInMinutes=0;m.warning("sessionTimeoutReminderInMinutes was negative and has been set to 0","SessionHandler")}if(e.sessionTimeoutIntervalInMinutes<=0){e.sessionTimeoutReminderInMinutes=0}else if(e.sessionTimeoutIntervalInMinutes<=e.sessionTimeoutReminderInMinutes){e.sessionTimeoutReminderInMinutes=e.sessionTimeoutIntervalInMinutes-1<0?0:e.sessionTimeoutIntervalInMinutes-1;m.error("sessionTimeoutReminderInMinutes needs to be smaller than sessionTimeoutIntervalInMinutes."+`sessionTimeoutReminderInMinutes adapted to: ${e.sessionTimeoutReminderInMinutes}`,"SessionHandler")}this.oConfig=e;this.oModel=new r;this.putTimestampInStorage(this._getCurrentDate());this.initLogout();this._fnOnVisibilityChange=this.onVisibilityChange.bind(this);p.getServiceAsync("AppLifeCycle").then(i=>{this.oAppLifeCycleService=i;this.attachUserEvents();if(e.sessionTimeoutIntervalInMinutes>0){this.attachVisibilityEvents();this.initSessionTimeout()}if(e.sessionTimeoutTileStopRefreshIntervalInMinutes>0){this.initTileRequestTimeout()}f.on("nwbcUserIsActive").do(this.userActivityHandler.bind(this));d=true})};this.isInitialized=function(){return d};this.initLogout=function(){if(I===false){p.registerLogout(this.logout);I=true}};this.initSessionTimeout=function(){this.oModel.setProperty("/SessionRemainingTimeInSeconds",this.oConfig.sessionTimeoutReminderInMinutes*60);this.counter=0;this.oKeepAliveDialog=undefined;this.notifyServer();this.monitorUserIsInactive()};this.monitorUserIsInactive=function(e){m.debug("SessionHandler.monitorInactiveUser : Check started","*****","SessionHandler");e=typeof e!=="undefined"?e:true;const i=this.timeLastInteraction();const t=this.timePopup();const s=this.timeNow();const n=this.timeOver();const o=t-s;const a=s-i;m.debug(`SessionHandler.monitorUserIsInactive :: time since last interaction : ${a}`,"","SessionHandler");m.debug(`SessionHandler.monitorUserIsInactive :: remaining time until dialog : ${o}`,"","SessionHandler");if(s<t&&e){const e=setTimeout(this.monitorUserIsInactive.bind(this),o*1e3);this.oMonitorUserIsInactiveTimer=this.oMonitorUserIsInactiveTimer||e;return}if(s>=t&&s<n&&this.oConfig.sessionTimeoutReminderInMinutes>0){this.detachUserEvents();this.detachVisibilityEvents();this.oContinueWorkingDialog=this.createContinueWorkingDialog();this.oContinueWorkingDialog.open();m.debug("SessionHandler.monitorUserIsInactive :: Dialog opened","","SessionHandler");this.monitorCountdown(true);this._createSystemNotification()}if(s>=n){m.debug("SessionHandler.monitorUserIsInactive :: Session over detected","","SessionHandler");this.handleSessionOver();return}m.debug("SessionHandler.monitorInactiveUser :: Check done","*****","SessionHandler")};this.handleSessionOver=function(){clearTimeout(this.notifyServerTimer);e.getInstance().publish("launchpad","sessionTimeout");if(this.oConfig.enableAutomaticSignout===true){m.debug("SessionHandler.handleSessionOver :: Automatic signout gets initiated","","SessionHandler");p.defaultLogout()}else{m.debug("SessionHandler.handleSessionOver :: Session expired dialog gets opened","","SessionHandler");this.createSessionExpiredDialog().open()}};this.notifyServer=async function(){const e=this._getCurrentDate()-new Date(this.getTimestampFromStorage());const i=e/(1e3*60);const t=this.oConfig.sessionTimeoutIntervalInMinutes*30*1e3;if(i<=this.oConfig.sessionTimeoutIntervalInMinutes){p.sessionKeepAlive();g.sendRequestToAllApplications("sap.ushell.sessionHandler.extendSessionEvent",{},false)}else{}this.notifyServerTimer=setTimeout(this.notifyServer.bind(this),s.sanitizeTimeoutDelay(t))};this.monitorCountdown=function(e){if(e){m.debug("SessionHandler.monitorCountdown :: Initiated from outside","*****","SessionHandler")}else{m.debug("SessionHandler.monitorCountdown :: Initiated from internal call","**","SessionHandler")}const i=this.timeLastInteraction();const t=this.timePopup();const s=this.timeNow();const n=this.timeOver();const o=s-i;m.debug(`SessionHandler.monitorCountdown :: timeNow : ${s}`,"","SessionHandler");m.debug(`SessionHandler.monitorCountdown :: iTimeLastInteraction : ${i}`,"","SessionHandler");m.debug(`SessionHandler.monitorCountdown :: timeSinceLastInteraction : ${o}`,"","SessionHandler");m.debug(`SessionHandler.monitorCountdown :: iTimeOver : ${n}`,"","SessionHandler");if(s<t){m.debug("SessionHandler.monitorCountdown :: Auto-click","<=","SessionHandler");this.continueWorkingButtonPressHandler(true);return}const a=n-s;if(a>0){m.debug(`SessionHandler.monitorCountdown :: Remaining seconds : ${a} - iTimeOver : ${n}`,"","SessionHandler");this.oModel.setProperty("/SessionRemainingTimeInSeconds",a);this.remainingTimer=setTimeout(this.monitorCountdown.bind(this,false),500);return}if(a<=0){if(this.oSessionKeepAliveDialog){this.oSessionKeepAliveDialog.close()}this.handleSessionOver()}};this.initTileRequestTimeout=function(){this.checkStopBackendRequestRemainingTime();this.bBackendRequestsActive=true};this.checkStopBackendRequestRemainingTime=function(){const e=this._getCurrentDate()-new Date(this.getTimestampFromStorage());const i=e/(1e3*60);const t=this.oConfig.sessionTimeoutTileStopRefreshIntervalInMinutes;const n=(t-i)*60*1e3;if(i<t){setTimeout(this.checkStopBackendRequestRemainingTime.bind(this),s.sanitizeTimeoutDelay(n))}else if(t>0){this._setConnectionActive(false)}};this._setConnectionActive=function(i){if(i){setTimeout(this.checkStopBackendRequestRemainingTime.bind(this),0)}if(this.bBackendRequestsActive===i){return}e.getInstance().publish("launchpad","setConnectionToServer",{active:i});if(!t.last("/core/spaces/enabled")){if(i){this._setTilesVisibleOnHomepage()}else{this._setTilesInvisibleOnHomepage()}}this.bBackendRequestsActive=i};this._setTilesVisibleOnHomepage=function(){sap.ui.require(["sap/ushell/utils"],e=>{e.handleTilesVisibility()})};this._setTilesInvisibleOnHomepage=function(){return new Promise((i,t)=>p.getServiceAsync("FlpLaunchPage").then(t=>{t.getGroups().then(s=>{const n=e.getInstance();s.forEach(e=>{t.getGroupTiles(e).forEach(e=>{t.setTileVisible(e,false)})});n.publish("launchpad","visibleTilesChanged",[]);i()})}))};this.getLocalStorage=function(){if(this.oLocalStorage===undefined){const e=new h(this.oConfig&&this.oConfig.sessionType||h.Type.local);if(this._isLocalStorageSupported(e)){this.oLocalStorage=e}else{this.oLocalStorage=false}}return this.oLocalStorage};this._isLocalStorageSupported=function(e){let i;try{i=e.isSupported()}catch(e){i=false}if(!i){m.warning("SessionHandler._isLocalStorageSupported :: Failed to instantiate local storage handler: "+"Might be disabled by the browser!","","SessionHandler")}return i};this._createSystemNotification=function(){const e=function(){const e=this.oModel.getProperty("/SessionRemainingTimeInSeconds");const t=new Notification(i.i18n.getText("sessionTimeoutMessage_title"),{body:this.continueWorkingFormatter(e)});t.onclick=function(e){window.focus()}}.bind(this);if(!("Notification"in window)){return}else if(Notification.permission==="granted"){e()}else if(Notification.permission!=="denied"){Notification.requestPermission().then(i=>{if(i==="granted"){e()}})}};this.continueWorkingFormatter=function(e){const t=e>60;let s;const n=t?i.i18n.getText("sessionTimeoutMessage_units_minutes"):i.i18n.getText("sessionTimeoutMessage_units_seconds");const o=t?Math.ceil(e/60):e;if(l.oConfig.enableAutomaticSignout){s=i.i18n.getText("sessionTimeoutMessage_kioskMode_main",[o,n])}else{s=i.i18n.getText("sessionTimeoutMessage_main",[o,n])}return s};this.createContinueWorkingDialog=function(){m.debug("SessionHandler.createContinueWorkingDialog :: Continue working dialog being created","","SessionHandler");this.oMessageVBox=new u;this.oSessionKeepAliveLabel=new a({text:{parts:["/SessionRemainingTimeInSeconds"],formatter:this.continueWorkingFormatter}});this.oMessageVBox.addItem(this.oSessionKeepAliveLabel);if(this.oConfig.enableAutomaticSignout===false){this.oLostDataReminder=new a({text:i.i18n.getText("sessionTimeoutMessage_unsavedData")});this.oMessageVBox.addItem(this.oLostDataReminder)}this.oSessionKeepAliveLabel.setModel(this.oModel);this.oSessionKeepAliveDialog=new n("sapUshellKeepAliveDialog",{title:i.i18n.getText("sessionTimeoutMessage_title"),type:"Message",state:T.Warning,content:this.oMessageVBox,beginButton:this.createContinueWorkingButton(),afterClose:function(){this.oSessionKeepAliveDialog.destroy()}.bind(this)}).addStyleClass("sapContrastPlus");if(this.oConfig.enableAutomaticSignout===true){this.oSignOutButton=new o({text:i.i18n.getText("logoutBtn_title"),tooltip:i.i18n.getText("logoutBtn_tooltip"),press:p.defaultLogout.bind(p)});this.oSessionKeepAliveDialog.setEndButton(this.oSignOutButton)}return this.oSessionKeepAliveDialog};this.createContinueWorkingButton=function(){return new o({text:i.i18n.getText("sessionTimeoutMessage_continue_button_title"),type:S.Emphasized,press:l.continueWorkingButtonPressHandler.bind(l,false)})};this.continueWorkingButtonPressHandler=async function(e){m.debug(`SessionHandler.continueWorkingButtonPressHandler :: Session was extended ${e?"automatically":"by user"}`,"","SessionHandler");if(this.oSessionKeepAliveDialog){this.oSessionKeepAliveDialog.close()}clearTimeout(this.remainingTimer);if(!e){this.putTimestampInStorage(this._getCurrentDate())}this.monitorUserIsInactive();this.attachUserEvents();this.attachVisibilityEvents();g.sendRequestToAllApplications("sap.ushell.sessionHandler.extendSessionEvent",{},false)};this.createSessionExpiredDialog=function(){this.oSessionExpiredDialog=new n("sapUshellSessionTimedOutDialog",{title:i.i18n.getText("sessionExpiredMessage_title"),type:"Message",state:T.Warning,content:new a({text:i.i18n.getText("sessionExpiredMessage_main")}),beginButton:this.createReloadButton(),afterClose:function(){this.oSessionExpiredDialog.destroy()}.bind(this)}).addStyleClass("sapContrastPlus");return this.oSessionExpiredDialog};this.createReloadButton=function(){return new o({text:i.i18n.getText("sessionExpiredMessage_reloadPage_button_title"),press:function(){l.oSessionExpiredDialog.close();location.reload()}})};this.attachUserEvents=function(){jQuery(document).on("mousedown.sessionTimeout mousemove.sessionTimeout",this.userActivityHandler.bind(this));jQuery(document).on("keyup.sessionTimeout",this.userActivityHandler.bind(this));jQuery(document).on("touchstart.sessionTimeout",this.userActivityHandler.bind(this));this.oAppLifeCycleService.attachAppLoaded({},this.userActivityHandler,this)};this.detachUserEvents=function(){jQuery(document).off("mousedown.sessionTimeout mousemove.sessionTimeout");jQuery(document).off("keydown.sessionTimeout");jQuery(document).off("touchstart.sessionTimeout");this.oAppLifeCycleService.detachAppLoaded(this.userActivityHandler,this)};this.onVisibilityChange=function(e){if(e.target&&e.target.visibilityState==="visible"){this.monitorUserIsInactive(false)}};this.attachVisibilityEvents=function(){document.addEventListener("visibilitychange",this._fnOnVisibilityChange)};this.detachVisibilityEvents=function(){document.removeEventListener("visibilitychange",this._fnOnVisibilityChange)};this.putTimestampInStorage=function(e){m.debug(`SessionHandler.putTimestampInStorage :: Timestamp is ${e}`,"","SessionHandler");const i=this.getLocalStorage();if(i){i.put("lastActivityTime",e);if(this.bBackendRequestsActive===false){this._setConnectionActive(true)}}};this.getTimestampFromStorage=function(){const e=this.getLocalStorage();if(e){return e.get("lastActivityTime")}return null};this.timeNow=function(){return Math.floor(Date.now()/1e3)};this.timeLastInteraction=function(){return Math.floor(new Date(this.getTimestampFromStorage()).getTime()/1e3)};this.timeOver=function(){return Math.floor(this.timeLastInteraction()+this.oConfig.sessionTimeoutIntervalInMinutes*60)};this.timePopup=function(){return Math.floor(this.timeLastInteraction()+this.oConfig.sessionTimeoutIntervalInMinutes*60-this.oConfig.sessionTimeoutReminderInMinutes*60)};this.userActivityHandler=function(){if(this.oUserActivityTimer!==undefined){return}this.oUserActivityTimer=setTimeout(()=>{m.debug("SessionHandler.userActivityHandler :: Timed time stamp update","","SessionHandler");l.putTimestampInStorage(l._getCurrentDate());l.oUserActivityTimer=undefined},1e3)};this._getCurrentDate=function(){return new Date};this.logout=function(){return new Promise(async e=>{m.debug("SessionHandler.logout :: Logout initiated","","SessionHandler");function t(t){if(d===true){l.detachUserEvents();l.detachVisibilityEvents()}if(l.oUserActivityTimer){clearTimeout(l.oUserActivityTimer)}if(l.remainingTimer){clearTimeout(l.remainingTimer)}if(l.notifyServerTimer){clearTimeout(l.notifyServerTimer)}t.openLoadingScreen();t.showAppInfo(i.i18n.getText("beforeLogoutMsg"),null);p.setDirtyFlag(false);e()}const s=new c({text:""});const n=window.setTimeout(async()=>{v=true;t(s)},4e3);g.sendRequestToAllApplications("sap.ushell.sessionHandler.logout",{},true).then(async()=>{if(v===false){v=true;window.clearTimeout(n);t(s)}})})}}return I},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/System", [],()=>{"use strict";function t(t){this._oData=t}t.prototype.getAlias=function(){return this._oData.alias};t.prototype.getBaseUrl=function(){return this._oData.baseUrl};t.prototype.getClient=function(){return this._oData.client};t.prototype.getClientRole=function(){return this._oData.clientRole};t.prototype.getName=function(){return this._oData.system};t.prototype.getPlatform=function(){return this._oData.platform};t.prototype.getProductVersion=function(){return this._oData.productVersion};t.prototype.getProductName=function(){return this._oData.productName};t.prototype.getSystemName=function(){return this._oData.systemName};t.prototype.getSystemRole=function(){return this._oData.systemRole};t.prototype.getTenantRole=function(){return this._oData.tenantRole};t.prototype.isTrial=function(){return!!this._oData.isTrialSystem};t.prototype.getSysInfoBar=function(){return!!this._oData.sysInfoBar};t.prototype.getSysInfoBarColor=function(){return this._oData.sysInfoBarColor};t.prototype.getSysInfoBarMainText=function(){return this._oData.sysInfoBarMainText};t.prototype.getSysInfoBarSecondaryText=function(){return this._oData.sysInfoBarSecondaryText};t.prototype.getSysInfoBarIcon=function(){return this._oData.sysInfoBarIcon};t.prototype.adjustUrl=function(t){if(t.indexOf("/")!==0||t==="/"){throw new Error(`Invalid URL: ${t}`)}if(this._oData.baseUrl===";o="){if(this._oData.alias){t=`${t};o=${this._oData.alias}`}}else if(this._oData.baseUrl){t=this._oData.baseUrl.replace(/\/$/,"")+t}if(this._oData.client){t+=`${t.indexOf("?")>=0?"&":"?"}sap-client=${this._oData.client}`}return t};t.prototype.toString=function(){return JSON.stringify(this._oData)};return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/TechnicalParameters", ["sap/ushell/utils/type"],e=>{"use strict";async function t(e){throw new Error(`${e} is reserved for shell internal usage only`)}function r(e,t){if(t){const r=t.getComponentData()||{};const n=r.technicalParameters||{};return n[e]}return undefined}function n(t,r){let n=r.getManifestEntry(t);if(n&&!e.isArray(n)){n=[n]}return n}function a(e,t){const r=t.getReservedParameters();return r&&r[e]}const i={"sap-navigation-scope":{injectFrom:"inboundParameter",sticky:true,stickyName:"sap-navigation-scope-filter",isIntentParameter:true,getValue:function(e,t,n,i){return new Promise((s,u)=>{if(i==="UI5"){s(r(e,t))}else{s(a(e,n))}})}},"sap-fiori-id":{injectFrom:"startupParameter",isIntentParameter:true,getValue:function(e,t,i,s){return new Promise((u,o)=>{if(s==="UI5"){u(r(e,t)||n("/sap.fiori/registrationIds",t))}else{u(a(e,i))}})}},"sap-ui-fl-max-layer":{injectFrom:"startupParameter",isIntentParameter:true,getValue:function(e,t){return Promise.resolve().then(r.bind(null,e,t))}},"sap-ui-fl-control-variant-id":{injectFrom:"startupParameter",isIntentParameter:false,getValue:function(e,t){return Promise.resolve().then(r.bind(null,e,t))}},"sap-ui-fl-version":{injectFrom:"startupParameter",isIntentParameter:true,getValue:function(e,t){return Promise.resolve().then(r.bind(null,e,t))}},"sap-ui-app-id-hint":{injectFrom:"startupParameter",isIntentParameter:true,getValue:t},"sap-ach":{injectFrom:"startupParameter",isIntentParameter:true,getValue:function(e,t,i,s){return new Promise((u,o)=>{if(s==="UI5"){u(r(e,t)||n("/sap.app/ach",t))}else{u(a(e,i))}})}},"sap-prelaunch-operations":{injectFrom:"inboundParameter",isIntentParameter:true,getValue:t},"sap-app-origin-hint":{injectFrom:"startupParameter",isIntentParameter:false,getValue:t},"sap-app-origin":{injectFrom:"startupParameter",isIntentParameter:false,getValue:t}};async function s(e,t,r,n){if(!i[e]){throw new Error(`${e} is not a known technical parameter`)}return i[e].getValue(e,t,r,n)}function u(e){if(!e){e={}}return Object.keys(i).filter(t=>{const r=i[t];return Object.keys(e).every(t=>{const n=e[t];const a=r.hasOwnProperty(t);if(a){return r[t]===n}return false})}).map(e=>Object.keys(i[e]).reduce((t,r)=>{t[r]=i[e][r];return t},{name:e}))}function o(){return Object.keys(i)}function c(e){return i.hasOwnProperty(e)}function m(e,t,n,i){if(i==="UI5"){return r(e,t)}return a(e,n)}return{getParameterValue:s,getParameterValueSync:m,getParameters:u,getParameterNames:o,isTechnicalParameter:c}},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/UI5ComponentType", [],()=>{"use strict";return{Application:"Application",Plugin:"Plugin",Visualization:"Visualization"}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/UIActions", ["sap/ui/core/Element","sap/ui/thirdparty/jquery","sap/base/Log"],(e,jQuery,t)=>{"use strict";function l(){const e=document.activeElement?document.activeElement.tagName:"";return e==="INPUT"||e==="TEXTAREA"}function s(s){if(!s||!s.rootSelector||!s.containerSelector||!s.draggableSelector){throw new Error("No configuration object to initialize User Interaction module.")}this.captureStart=null;this.captureMove=null;this.captureEnd=null;this.clickCallback=null;this.clickEvent=null;this.clickHandler=null;this.clone=null;this.cloneClass=null;this.container=null;this.contextMenuEvent=null;this.debug=null;this.defaultMouseMoveEvent=null;this.deltaTop=0;this.disabledDraggableSelector=null;this.dragAndScrollCallback=null;this.dragAndScrollDuration=null;this.dragAndScrollTimer=null;this.draggable=null;this.placeHolderClass=null;this.draggableSelector=null;this.draggableSelectorExclude=null;this.doubleTapCallback=null;this.doubleTapDelay=null;this.element=null;this.endDragAndScrollCallback=null;this.endX=null;this.endY=null;this.isLayoutEngine=null;this.isTouch=null;this.isCombi=null;this.lastElement=null;this.lastTapTime=null;this.lockMode=null;this.log=null;this.mode=null;this.mouseDownEvent=null;this.mouseMoveEvent=null;this.mouseUpEvent=null;this.moveTolerance=null;this.moveX=null;this.moveY=null;this.noop=null;this.onDragStartUIHandler=null;this.onDragEndUIHandler=null;this.preventClickFlag=null;this.preventClickTimeoutId=null;this.scrollContainer=null;this.scrollContainerSelector=null;this.scrollEvent=null;this.scrollTimer=null;this.startX=null;this.startY=null;this.switchModeDelay=null;this.tapsNumber=null;this.timer=null;this.scrollHandler=null;this.touchCancelEvent=null;this.dragCallback=null;this.onBeforeCreateClone=null;this.endCallback=null;this.touchEndEvent=null;this.touchMoveEvent=null;this.startCallback=null;this.touchStartEvent=null;this.wrapper=null;this.wrapperRect=null;this.scrollCallback=null;this.draggableElement=null;this.offsetLeft=0;this.elementsToCapture=null;this.init=function(e){this.startX=-1;this.startY=-1;this.moveX=-1;this.moveY=-1;this.endX=-1;this.endY=-1;this.noop=function(){};this.isLayoutEngine=e.isLayoutEngine||false;if(this.isLayoutEngine){this.moveDraggable=this.noop}this.isTouch=e.isTouch?!!e.isTouch:false;this.isCombi=e.isCombi?!!e.isCombi:false;this.container=document.querySelector(e.containerSelector);this.scrollContainerSelector=e.scrollContainerSelector||e.containerSelector;this.switchModeDelay=e.switchModeDelay||1500;this.dragAndScrollDuration=e.dragAndScrollDuration||160;this.moveTolerance=e.moveTolerance===0?0:e.moveTolerance||16;this.draggableSelector=e.draggableSelector;this.draggableSelectorBlocker=e.draggableSelectorBlocker||e.rootSelector;this.draggableSelectorExclude=e.draggableSelectorExclude;this.mode="normal";this.debug=e.debug||false;this.root=document.querySelector(e.rootSelector)||document.querySelector("#canvas");this.tapsNumber=0;this.lastTapTime=0;this.log=this.debug?t.debug:this.noop;this.lockMode=false;this.placeHolderClass=e.placeHolderClass||"";this.cloneClass=e.cloneClass||"";this.deltaTop=e.deltaTop||0;this.wrapper=e.wrapperSelector?document.querySelector(e.wrapperSelector):this.container.parentNode;this.clickCallback=typeof e.clickCallback==="function"?e.clickCallback:this.noop;this.startCallback=typeof e.startCallback==="function"?e.startCallback:this.noop;this.doubleTapCallback=typeof e.doubleTapCallback==="function"?e.doubleTapCallback:this.noop;this.endCallback=typeof e.endCallback==="function"?e.endCallback:this.noop;this.dragCallback=typeof e.dragCallback==="function"?e.dragCallback:this.noop;this.onBeforeCreateClone=typeof e.onBeforeCreateClone==="function"?e.onBeforeCreateClone:this.noop;this.dragAndScrollCallback=typeof e.dragAndScrollCallback==="function"?e.dragAndScrollCallback:this.noop;this.endDragAndScrollCallback=typeof e.endDragAndScrollCallback==="function"?e.endDragAndScrollCallback:this.noop;this.scrollCallback=typeof e.scrollCallback==="function"?e.scrollCallback:this.noop;this.doubleTapDelay=e.doubleTapDelay||500;this.wrapperRect=this.wrapper.getBoundingClientRect();this.scrollEvent="scroll";this.touchStartEvent="touchstart";this.touchMoveEvent="touchmove";this.touchEndEvent="touchend";this.mouseDownEvent="mousedown";this.mouseMoveEvent="mousemove";this.mouseUpEvent="mouseup";this.contextMenuEvent="contextmenu";this.touchCancelEvent="touchcancel";this.defaultMouseMoveEvent="mousemove";this.clickEvent="click";this.isVerticalDragOnly=e.isVerticalDragOnly||false;this.draggableElement=e.draggableElement;this.offsetLeft=e.offsetLeft;this.elementsToCapture=e.elementToCapture?jQuery(e.elementToCapture):this.root;this.disabledDraggableSelector=e.disabledDraggableSelector;this.onDragStartUIHandler=typeof e.onDragStartUIHandler==="function"?e.onDragStartUIHandler:this.noop;this.onDragEndUIHandler=typeof e.onDragEndUIHandler==="function"?e.onDragEndUIHandler:this.noop;this.defaultMouseMoveHandler=e.defaultMouseMoveHandler||this.noop};this.forEach=function(e,t){return Array.prototype.forEach.call(e,t)};this.indexOf=function(e,t){return Array.prototype.indexOf.call(e,t)};this.insertBefore=function(e,t,l){const s=Array.prototype.splice;const i=this.indexOf(e,t);const n=this.indexOf(e,l);s.call(e,n-(i<n?1:0),0,s.call(e,i,1)[0])};this.getDraggableElement=function(e){let t;let l=false;let s=false;this.draggable=jQuery(this.draggableSelector,this.container);while(typeof t==="undefined"&&e!==this.root&&!jQuery(e).is(this.draggableSelectorBlocker)){l=l||jQuery(e).is(this.draggableElement)||this.draggableElement===undefined;if(!(jQuery(e).not(this.draggableSelectorExclude).length>0)){s=true}if(!s&&l&&this.indexOf(this.draggable,e)>=0){t=e}e=e.parentNode}return t};this.captureStart=function(e){let t;if(e.type==="touchstart"&&e.touches.length===1){t=e.touches[0]}else if(e.type==="mousedown"){t=e;if(e.which!==1){return}}if(t){this.element=this.getDraggableElement(t.target);this.startX=this.moveX=t.pageX;this.startY=this.moveY=t.pageY;this.lastMoveX=0;this.lastMoveY=0;if(this.lastTapTime&&this.lastElement&&this.element&&this.lastElement===this.element&&Math.abs(Date.now()-this.lastTapTime)<this.doubleTapDelay){this.lastTapTime=0;this.tapsNumber=2}else{this.lastTapTime=Date.now();this.tapsNumber=1;this.lastElement=this.element}this.log(`captureStart(${this.startX}, ${this.startY})`)}};this.startHandler=function(e){this.log("startHandler");if(this.isCombi&&!(e instanceof MouseEvent)){this.isTouchEvent=true}clearTimeout(this.timer);delete this.timer;this.captureStart(e);if(this.element){this.startCallback(e,this.element);if(this.lockMode===false){if(this.tapsNumber===2){this.mode="double-tap";return}if(this.isTouch||this.isTouchEvent){this.timer=setTimeout(()=>{if(!jQuery(this.element).hasClass(this.disabledDraggableSelector)){this.log("mode switched to drag");this.mode="drag";this.onBeforeCreateClone(e,this.element);this.createClone();this.dragCallback(e,this.element)}else{this.onDragStartUIHandler()}this.isTouchEvent=false},this.switchModeDelay)}}}}.bind(this);this.captureMove=function(e){let t;if(e.type==="touchmove"&&e.touches.length===1){t=e.touches[0]}else if(e.type==="mousemove"){t=e}if(t){this.moveX=t.pageX;this.moveY=t.pageY;this.log(`captureMove(${this.moveX}, ${this.moveY})`)}};this.moveHandler=function(e){if(l()){return}let t;this.log("moveHandler");this.captureMove(e);if(this.element&&e.type==="mousemove"&&e.buttons===0){this.endHandler(e);return}switch(this.mode){case"normal":if(Math.abs(this.startX-this.moveX)>this.moveTolerance||Math.abs(this.startY-this.moveY)>this.moveTolerance){if(this.isTouch||this.isTouchEvent){this.log("-> normal");clearTimeout(this.timer);delete this.timer}else if(this.element){this.onDragStartUIHandler();if(!jQuery(this.element).hasClass(this.disabledDraggableSelector)){this.log("mode switched to drag");this.mode="drag";this.onBeforeCreateClone(e,this.element);this.createClone()}else{this.preventClick();this.element=null}}}break;case"drag":e.preventDefault();this.onDragStartUIHandler();this.log("-> drag");if(this.isVerticalDragOnly){this.mode="vertical-drag"}else{this.mode="drag-and-scroll"}window.addEventListener(this.mouseUpEvent,this.endHandler,true);this.translateClone();this.scrollContainer=document.querySelector(this.scrollContainerSelector);this.dragAndScroll();if(!this.isTouch){this.dragCallback(e,this.element)}break;case"drag-and-scroll":e.stopPropagation();e.preventDefault();this.log("-> drag-and-scroll");t=this.dragAndScroll();this.translateClone();if(!t){this.moveDraggable()}this.dragAndScrollCallback({evt:e,clone:this.clone,isScrolling:t,moveX:this.moveX,moveY:this.moveY});break;case"vertical-drag":e.stopPropagation();e.preventDefault();t=this.dragAndScroll();this.translateClone();if(!t){this.moveDraggableVerticalOnly(this.moveX,this.moveY)}this.dragAndScrollCallback({evt:e,clone:this.clone,isScrolling:t,moveX:this.moveX,moveY:this.moveY});break;default:break}}.bind(this);this.captureEnd=function(e){let t;if((e.type==="touchend"||e.type==="touchcancel")&&e.changedTouches.length===1){t=e.changedTouches[0]}else if(e.type==="mouseup"){t=e}if(t){this.endX=t.pageX;this.endY=t.pageY;this.log(`captureEnd(${this.endX}, ${this.endY})`)}};this.contextMenuHandler=function(e){if(this.isTouch){e.preventDefault()}}.bind(this);this.clickHandler=function(e){if(this.preventClickFlag){this.preventClickFlag=false;e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();clearTimeout(this.preventClickTimeoutId)}this.clickCallback()}.bind(this);this.preventClick=function(){this.preventClickFlag=true;this.preventClickTimeoutId=setTimeout(()=>{this.preventClickFlag=false},100)};this.endCallbackAdapter=function(e,t,l){const s=this.endCallback.apply(null,arguments);jQuery.when(s).then(()=>{this.removeClone(t,l.clone);this.onDragEndUIHandler(e)});this.preventClick()};this.endHandler=function(e){this.log("endHandler");this.captureEnd(e);switch(this.mode){case"normal":this.onDragEndUIHandler(e);this.log("-> normal");break;case"drag":this.log("-> drag");this.endCallbackAdapter(e,this.element,{clone:this.clone});break;case"drag-and-scroll":this.log("-> drag-and-scroll");window.removeEventListener(this.mouseUpEvent,this.endHandler,true);this.endCallbackAdapter(e,this.element,{deltaX:this.moveX-this.startX,deltaY:this.moveY-this.startY,clone:this.clone});e.stopPropagation();e.preventDefault();break;case"vertical-drag":this.log("-> vertical-drag");window.removeEventListener(this.mouseUpEvent,this.endHandler,true);this.endCallbackAdapter(e,this.element,{clone:this.clone});e.stopPropagation();e.preventDefault();break;case"double-tap":this.log("-> double-tap");this.doubleTapCallback(e,this.element);break;default:break}clearTimeout(this.timer);delete this.timer;this.lastMoveX=0;this.lastMoveY=0;this.element=null;this.clone=null;this.mode="normal"}.bind(this);this.scrollHandler=function(){clearTimeout(this.scrollTimer);this.lockMode=true;this.scrollTimer=setTimeout(()=>{this.lockMode=false},500)}.bind(this);this.createClone=function(){let t;this.preventClickFlag=true;if(e.getElementById(this.element.id)&&e.getElementById(this.element.id).getBoundingRects){t=e.getElementById(this.element.id).getBoundingRects()[0];t.top=t.offset.y;t.left=t.offset.x;t.width+=5}else{t=this.element.getBoundingClientRect()}this.clone=this.element.cloneNode(true);this.clone.removeAttribute("id");this.clone.removeAttribute("data-sap-ui");this.clone.className+=` ${this.cloneClass}`;this.element.className+=` ${this.placeHolderClass}`;const l=this.clone.style;l.position="fixed";l.display="block";l.top=`${t.top+this.deltaTop}px`;l.left=`${t.left}px`;l.width=`${t.width}px`;l.zIndex="100";this.root.appendChild(this.clone);this.log("createClone")};this.removeClone=function(e,t){this.preventClick();e.className=e.className.split(` ${this.placeHolderClass}`).join(" ");t.parentElement.removeChild(t);this.log("removeClone")};this.translateClone=function(){const e=this.moveX-this.startX;const t=this.moveY-this.startY;this.clone.style.webkitTransform=`translate3d(${e}px, ${t}px, 0px)`;this.clone.style.mozTransform=`translate3d(${e}px, ${t}px, 0px)`;this.clone.style.msTransform=`translate(${e}px, ${t}px)`;this.clone.style.transform=`translate3d(${e}px, ${t}px, 0px)`;this.log(`translateClone (${e}, ${t})`)};this.dragAndScroll=function(){let e;let t;const l=this;function s(){let e;let t;if(l.clone){e=l.clone.getBoundingClientRect();t=l.wrapperRect.top-e.top;if(t>0){return t}t=l.wrapper.offsetTop+l.wrapper.offsetHeight-(e.top+l.clone.offsetHeight);if(t<0){return t}}return 0}function i(){if(l.endDragAndScrollCallback(l.moveY)){return false}if(e<0){return l.wrapper.getBoundingClientRect().top-(l.container.getBoundingClientRect().top+l.container.offsetHeight)+l.wrapper.offsetHeight<0}return l.container.getBoundingClientRect().top-(l.wrapper.getBoundingClientRect().top+l.container.offsetTop)<0}function n(){l.dragAndScrollTimer=setTimeout(()=>{l.wrapper.scrollTop-=e;l.dragAndScrollTimer=undefined;if((e=s())!==0&&i()){n()}l.scrollCallback()},t)}e=s();if(e!==0&&!this.dragAndScrollTimer&&i()){t=this.dragAndScrollDuration;this.scrollContainer=this.scrollContainer||document.querySelector(this.scrollContainerSelector);n()}this.log(`dragAndScroll (${e})`);return e!==0&&i()};this.moveDraggableVerticalOnly=function(){let e;let t;let l;let s=true;this.forEach(this.draggable,(i,n)=>{if(!e){l=i.getBoundingClientRect();t=!(l.bottom<this.moveY||l.top>this.moveY);if(t){e=i;if(l.top+l.height/2<this.moveY){s=false}}}});if(e&&this.element!==e){if(s){this.insertBefore(this.draggable,this.element,e);e.parentNode.insertBefore(this.element,e)}else{this.insertBefore(this.draggable,this.element,e.nextSibling);e.parentNode.insertBefore(this.element,e.nextSibling)}this.lastMoveX=this.moveX;this.lastMoveY=this.moveY}this.log("moveDraggableVerticalOnly")};this.moveDraggable=function(e,t){let l;let s;let i;let n;let o;let a;this.forEach(this.draggable,(e,t)=>{if(!s){a=e.getBoundingClientRect();n=!(a.right<this.moveX||a.left>this.moveX);o=!(a.bottom<this.moveY||a.top>this.moveY);if(n&&o){s=e;i=t}}});if(s&&this.element!==s){l=this.indexOf(this.draggable,this.element);if(Math.abs(this.lastMoveX-this.moveX)>=this.moveTolerance||Math.abs(this.lastMoveY-this.moveY)>=this.moveTolerance){if(i<=l){s.parentNode.insertBefore(this.element,s);this.insertBefore(this.draggable,this.element,s)}else if(i>l){s.parentNode.insertBefore(this.element,s.nextSibling);this.insertBefore(this.draggable,this.element,this.draggable[i+1])}this.lastMoveX=this.moveX;this.lastMoveY=this.moveY}}this.log("moveDraggable")};this.enable=function(){this.log("enable");this.root.addEventListener(this.touchMoveEvent,this.moveHandler,true);this.root.addEventListener(this.mouseMoveEvent,this.moveHandler,true);this.root.addEventListener(this.contextMenuEvent,this.contextMenuHandler,false);this.root.addEventListener(this.clickEvent,this.clickHandler,true);this.root.addEventListener(this.defaultMouseMoveEvent,this.defaultMouseMoveHandler,true);this.wrapper.addEventListener(this.scrollEvent,this.scrollHandler,false);if(this.elementsToCapture.length){const e=this;this.elementsToCapture.each(function(){this.addEventListener(e.touchStartEvent,e.startHandler,false);this.addEventListener(e.touchEndEvent,e.endHandler,false);this.addEventListener(e.touchCancelEvent,e.endHandler,false);this.addEventListener(e.mouseDownEvent,e.startHandler,false);this.addEventListener(e.mouseUpEvent,e.endHandler,false)})}else{this.elementsToCapture.addEventListener(this.touchStartEvent,this.startHandler,false);this.elementsToCapture.addEventListener(this.touchEndEvent,this.endHandler,false);this.elementsToCapture.addEventListener(this.touchCancelEvent,this.endHandler,false);this.elementsToCapture.addEventListener(this.mouseDownEvent,this.startHandler,false);this.elementsToCapture.addEventListener(this.mouseUpEvent,this.endHandler,false)}return this};this.delete=function(){this.log("delete");this.disable();this.dragCallback=null;this.onBeforeCreateClone=null;this.endCallback=null;this.startCallback=null;this.scrollCallback=null;this.doubleTapCallback=null;this.clickCallback=null;this.dragAndScrollCallback=null;delete this};this.disable=function(){this.log("disable");if(this.elementsToCapture.length){const e=this;this.elementsToCapture.each(function(){this.removeEventListener(e.touchStartEvent,e.startHandler,false);this.removeEventListener(e.touchEndEvent,e.endHandler,false);this.removeEventListener(e.touchCancelEvent,e.endHandler,false);this.removeEventListener(e.mouseDownEvent,e.startHandler,false);this.removeEventListener(e.mouseUpEvent,e.endHandler,false)})}else{this.elementsToCapture.removeEventListener(this.touchStartEvent,this.startHandler,false);this.elementsToCapture.removeEventListener(this.touchEndEvent,this.endHandler,false);this.elementsToCapture.removeEventListener(this.touchCancelEvent,this.endHandler,false);this.elementsToCapture.removeEventListener(this.mouseDownEvent,this.startHandler,false);this.elementsToCapture.removeEventListener(this.mouseUpEvent,this.endHandler,false)}this.root.removeEventListener(this.touchMoveEvent,this.moveHandler,true);this.root.removeEventListener(this.mouseMoveEvent,this.moveHandler,true);this.root.removeEventListener(this.contextMenuEvent,this.contextMenuHandler,false);this.root.removeEventListener(this.clickEvent,this.clickHandler,true);this.root.removeEventListener(this.defaultMouseMoveEvent,this.defaultMouseMoveHandler,true);this.wrapper.removeEventListener(this.scrollEvent,this.scrollHandler,false);return this};this.setElementsToCapture=function(e){this.elementsToCapture=jQuery(e)};this.init(s);this.getMove=function(){return{x:this.moveX,y:this.moveY}}}return s},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/URLTemplateProcessor", ["sap/base/Log","sap/ui/thirdparty/URI","sap/ui/thirdparty/URITemplate","sap/ushell/URLTemplateProcessor/DefinitionParameterSetBuilder","sap/ushell/URLTemplateProcessor/DependencyGraph","sap/ushell/URLTemplateProcessor/Resolvers","sap/ushell/URLTemplateProcessor/TemplateParameterParser","sap/ushell/URLTemplateProcessor/utils"],(e,t,r,n,s,a,o,i)=>{"use strict";function p(t){e.debug(t,"sap.ushell.URLTemplateProcessor")}function l(e){if(typeof e==="undefined"){return"<undefined>"}if(typeof e==="string"){if(e===""){return"<empty string>"}return`'${e}'`}if(typeof e==="number"){return`(number) ${e}`}if(typeof e==="boolean"){return`(bool) ${e}`}let t;if(typeof e==="object"){t=JSON.stringify(e);if(t.length>255){t=`${t.substr(0,255)}...`}}else{t="{other type}"}return t}function c(e){const t=Object.keys(e).filter(t=>typeof e[t]==="object"&&e[t].hasOwnProperty("renameTo"));const r=[];t.forEach(t=>{const n=e[t];if(n.hasOwnProperty("renameTo")){r.push((e,r)=>{let s=r;s=r.replace(new RegExp(`${t}=`,"g"),`${n.renameTo}=`);return s})}});return r}function u(e,t,r,c,u){p(`[TEMPLATE EXPANSION] ${e.urlTemplate}`);const f=n.buildDefinitionParameterSet(e.parameters,t,u)||{};const m=i.removeArrayParameterNotation(r[u]||{});const d=o.parseTemplateParameterSet(f,u);const h=o.parseTemplateParameterSetAsLiterals(m);const y=i.mergeObject(h,d);p(`- parsed template parameters: ${JSON.stringify(y,null,3)}`);const P=s.buildDependencyGraph(y);p(`- created dependency graph: ${JSON.stringify(P,null,3)}`);const R=s.getDependencyResolutionOrder(P);p(`- resolving in order: ${R.join(" > ")}`);const T=a.resolveAllParameters(y,R,t,r,c,u);Object.keys(T).forEach(e=>{const t=T[e];p(`${e} --\x3e ${l(t)}`)});return{oDefinitionParamsSet:f,oResolvedParameters:T}}function f(e,r){const n=c(r.oDefinitionParamsSet||{});const s=e.urlTemplate;let a=t.expand(s,r.oResolvedParameters).toString();p(`- created URL: ${a}`);n.forEach(e=>{a=e(s,a)});if(n.length>0){p(`- created URL (post expansion): ${a}`)}return a}function m(e,t,r,n,s,a){i.setURIHashContext(a);const o=u(e,t,r,n,s);const p=f(e,o);i.setURIHashContext(undefined);return p}return{prepareExpandData:u,expand:m}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/URLTemplateProcessor/DefinitionParameterSetBuilder", ["sap/ushell/URLTemplateProcessor/TemplateParameterParser","sap/ushell/URLTemplateProcessor/Resolvers","sap/ushell/URLTemplateProcessor/utils","sap/ushell/utils/type"],(e,r,t,s)=>{"use strict";const a="/payload/parameters/names";function o(a,o,l){if(!a||!a.names){return{}}if(!a.hasOwnProperty("mergeWith")){return a.names}const p=a&&a.mergeWith;if(Array.isArray(p)===false&&typeof p!=="string"){throw new Error("The value of 'mergeWith' can only be a string or an array")}const c=a&&a.names;const h=i(a.mergeWith,o,l,{});const u=h.map(t=>{const a=e.parsePath(l,t);n(a);const i=r.resolvePath(a,{},o,{},{});if(!s.isPlainObject(i)){throw new Error(`Cannot merge parameters from '${t}'. The path must point to an object`)}return i}).reduce((e,r)=>{e=t.mergeObject(e,r);return e},{});return t.mergeObject(u,c)}function n(e){if(e.pathType==="relative"){throw new Error("Please only specify absolute paths via mergeWith")}e.value.forEach(e=>{if(e.type!=="literal"){throw new Error("Please do not specify references in mergeWith paths")}})}function i(t,s,o,l){if(Array.isArray(t)){return t.slice().reverse()}if(typeof t==="string"){if(l[t]){throw new Error("Detected circular dependency of templates caused by mergeWith statements: ensure the template merges its parameters with a base template.")}l[t]=true;const p=e.parsePath(o,t);n(p);const c=r.resolvePath(p,{},s,{},{});if(!c){throw new Error(`The specified mergeWith path does cannot be resolved: '${t}'`)}const h=a.split("/").slice(1).reduce((e,r)=>{if(e.result&&e.obj&&e.obj.hasOwnProperty(r)){e.obj=e.obj[r]}else{e.result=false}return e},{obj:c,result:true}).result;if(!h){throw new Error(`${t} does not contain ${a}. Please make sure ${t} points to the root of a URL template.`)}return i(c.payload.parameters.mergeWith,s,o,l).concat([t+a])}return[]}return{buildDefinitionParameterSet:o}},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/URLTemplateProcessor/DependencyGraph", ["sap/base/util/deepExtend"],e=>{"use strict";function n(e){return typeof e==="string"||e.type==="wildcard"||e.type==="literal"||e.type==="intentParameter"||e.type==="reference"}function t(e){return e.type==="reference"&&!e.namespace}function r(e,n,r){if(!e.hasOwnProperty(n)){e[n]=[]}if(t(r)){e[n].push(r.value)}}function c(e){const n=e.type;if(n==="expression"){return[e.value]}if(n==="function"){return(e.args||[]).concat(e.params||[])}if(n==="pipe"||n==="path"){return e.value}throw new Error(`Unknown type encountered while building dependency graph: '${n}'`)}function i(e,t,r){r(t,e);if(n(e)){return}const o=c(e);o.forEach(e=>{i(e,t,r)})}function o(e){const n={};const t=r.bind(null,n);Object.keys(e).forEach(n=>{const r=e[n];i(r,n,t)});return n}function s(n){const t=e({},n);let r;let c;const i=[];const o={};do{const e=Object.keys(t);r=e.length;e.forEach(e=>{if(t[e].length>0){t[e]=t[e].filter(e=>{const n=!o[e];const r=t.hasOwnProperty(e);return n&&r})}if(t[e].length===0){delete t[e];i.push(e);o[e]=true}});c=Object.keys(t).length}while(r!==c);if(c!==0){throw new Error("Graph of dependencies contains cyclic references")}return i}return{buildDependencyGraph:o,getDependencyResolutionOrder:s}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/URLTemplateProcessor/Functions", ["sap/base/util/deepExtend","sap/ui/thirdparty/URI","sap/ushell/URLTemplateProcessor/utils","sap/ushell/utils/type"],(e,n,t,r)=>{"use strict";function i(e){if(typeof e==="undefined"){return true}if(typeof e==="string"){return e===""}if(typeof e==="object"){return Object.keys(e).length===0}if(typeof e==="number"){return e===0}if(typeof e==="boolean"){return e===false}throw new Error("Unexpected type for value")}function o(e){let n;if(r.isArray(e)){n=e}else if(r.isPlainObject(e)){n=[e]}else if(e===undefined){return[]}else{throw new Error("Unexpected type")}return n}const u={url:{args:["urlPart?"],minValues:0,maxValues:0,fn:function(e){let r;const i=t.getURIHashContext();if(typeof i==="string"){const e=location.hash?location.href.split(location.hash)[0]:location.href;r=new n(e+i)}else{r=new n}const o=["protocol","scheme","username","password","hostname","port","host","userinfo","authority","origin","subdomain","domain","tld","pathname","path","directory","filename","suffix","search","query","hash","fragment","resource"];let u="toString";if(e.urlPart){if(o.indexOf(e.urlPart)===-1){throw new Error(`The URL part '${e.urlPart}' is not valid. Please use one of ${o.join(", ")}`)}u=e.urlPart}return r[u]()}},if:{args:["trueCondition"],minValues:1,maxValues:2,fn:function(e,n){const t=o(n);if(i(e.trueCondition)){return t.length===1?undefined:t.pop()}return t[0]}},and:{args:["emptyCondition?"],minValues:1,fn:function(e,n){const r=o(n);if(typeof e.emptyCondition==="undefined"&&e.length>0){return undefined}if(typeof e.emptyCondition!=="undefined"&&i(e.emptyCondition)){return undefined}const u=r.pop();const s=r.every(t.hasValue);return s?u:undefined}},or:{args:["emptyCondition?"],minValues:1,fn:function(e,n){const r=o(n);if(typeof e.emptyCondition==="undefined"&&e.length>0){return undefined}if(typeof e.emptyCondition!=="undefined"&&i(e.emptyCondition)){return undefined}return r.reduce((e,n)=>{if(t.hasValue(e)){return e}return t.hasValue(n)?n:undefined})}},replace:{args:["strRegExp","strReplace","flags?"],minValues:1,maxValues:1,fn:function(e,n){const t=new RegExp(e.strRegExp,e.flags);const i=e.strReplace||"";if(typeof n===undefined||n===null){return n}if(r.isArray(n)){if(n.length===1){return u.replace.fn.call(this,e,n[0])}return n.map(function(n){return u.replace.fn.call(this,e,n)})}if(r.isPlainObject(n)){return Object.keys(n).reduce(function(t,r){const i=n[r];t[r]=u.replace.fn.call(this,e,i);return t},{})}if(typeof n==="string"){return n.replace(t,i)}return u.replace.fn.call(this,e,`${n}`)}},join:{args:["macroSeparator?","microSeparator?"],minValues:1,fnPipe:function(e,n){const t=[n];return u.join.fn.call(this,e,t)},fn:function(e,n){const i=e.macroSeparator||"";const o=e.microSeparator||"";n=n.map(e=>{if(!r.isPlainObject(e)&&!r.isArray(e)){return e}const n=Object.prototype.toString.apply(e);if(n==="[object Object]"){const n=t.removeArrayParameterNotation(e);return Object.keys(n).sort().map(n=>n+o+e[n]).join(i)}if(n==="[object Array]"){return e.join(i)}});return n.join(i)}},match:{args:["strRegex"],minValues:1,fnPipe:function(e,n){const t=e.strRegex;const r=new RegExp(t);return Object.keys(n).reduce((e,t)=>{if(r.exec(t)){e[t]=n[t]}return e},{})},fn:function(e,n){if(n===undefined){return undefined}const t=e.strRegex;const i=new RegExp(t);const o=n.filter(e=>{let n;if(r.isPlainObject(e)){n=Object.keys(e)}else if(r.isArray(e)){n=e}else{n=[`${e}`]}return n.some(i.exec.bind(i))});return o.length===n.length?true:undefined}},value:{args:["name"],minValues:1,fnPipe:function(e,n){if(r.isPlainObject(n)&&n.hasOwnProperty(e.name)){const t=n[e.name];return r.isArray(t)&&t.length>0&&t[0]}return undefined}},not:{args:[],minValues:1,fnPipe:function(e,n){return Object.keys(n).length>0?undefined:""},fn:function(e,n){const t=u.and.fn(e,n);return t===undefined?"":undefined}},stringify:{args:[],minValues:1,fn:function(e,n){if(r.isArray(n)){if(n.length===0){return""}if(n.length===1){n=n[0]}}if(typeof n==="string"){return n}return JSON.stringify(n)}},encodeURIComponent:{args:[],minValues:1,maxValues:1,fnPipe:function(e,n){return Object.keys(n).reduce((e,t)=>{e[t]=encodeURIComponent(n[t]);return e},{})},fn:function(e,n){const t=n[0];if(typeof t!=="string"){return t}return encodeURIComponent(t)}}};function s(e,n,t){if(t!==undefined&&!r.isPlainObject(t)){throw new Error(`Invalid value type passed to '${e}' in pipe context. An object is expected.`)}}function a(e,n,i){if(i!==undefined&&!r.isArray(i)){throw new Error(`Invalid value type passed to '${e}' in value context. An array is expected.`)}const o=r.isArray(i)?i.length:0;if(t.hasValue(n.maxValues)&&o>n.maxValues){throw new Error(`Too many values were passed to '${e}'. Please pass maximum ${n.maxValues} values.`)}if(t.hasValue(n.minValues)&&o<n.minValues){throw new Error(`Too few values were passed to '${e}'. Please pass minimum ${n.minValues} values.`)}}function f(e){return e.charAt(e.length-1)!=="?"}function l(e){let n=false;e.map(f).reduce((e,t)=>{if(!e&&t){n=true}return t},true);return n}function c(e){return e.substr(0,e.length-1)}function p(n,t){const r=e([],u[n].args);if(l(r)){throw new Error("Invalid argument signature. Make sure all optional arguments appear in the end.")}const i={length:t.length};const o=r.filter(f);const s=o>t.length;if(s){throw new Error(`${n} requires ${o} arguments but ${t.length} was specified`)}t.forEach(e=>{let n=r.shift();const o=!f(n);if(o){n=c(n)}if(t.length>0){i[n]=e}});return i}function d(e,n,t,r){if(!u.hasOwnProperty(n)){throw new Error(`Invalid function: ${n}`)}const i=p(n,t);if(e){s(n,u[n],r)}else{a(n,u[n],r)}if(e){if(!u[n].fnPipe){throw new Error(`The function '${n}' cannot be executed in pipe context`)}return u[n].fnPipe(i,r)}return u[n].fn(i,r)}function m(e){return e.split("").map(e=>{if(e==="["){return"[\\[]"}return`[${e}]`}).join("")}function h(){const e=Object.keys(u);return e.map(m).join("|")}return{getPossibleFunctionsRegExpString:h,applyFunctionInValueContext:d.bind(null,false),applyFunctionInPipeContext:d.bind(null,true),_setURIDependency:function(e){n=e}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/URLTemplateProcessor/Resolvers", ["sap/base/util/deepExtend","sap/ushell/URLTemplateProcessor/Functions","sap/ushell/URLTemplateProcessor/utils"],(e,n,t)=>{"use strict";let r;function o(e,n,t){let r=null;const o=[];let s=false;const a=n.join("/");r=e;if(typeof r==="undefined"){s=true}n.forEach((e,n)=>{if(s){return}o.push(e);if(!r.hasOwnProperty(e)){r=undefined;s=true;return}if(!r.hasOwnProperty(e)){throw new Error(`Cannot find path '${a}' in given structure: '${e}' seems to be missing in the object.`)}r=r[e]});return r}function s(e){return e.value}function a(e,n,t,o,s,a){const i=e.type;if(r[i]){return r[i](e,n,t,o,s,a)}throw new Error(`Cannot resolve unknown parameter type: '${i}'`)}function i(e,n,t,r,s,i){const u=e.value.map(e=>a(e,n,t,r,s,i));const c=e.pathType==="relative";const p=c?r:t;return o(p,u,n)}function u(t,r,o,s,i,u){const c=t.value;if(c[0].type!=="wildcard"){throw new Error("Leading wildcard expected in pipe expression")}if(c[0].value!=="*"){throw new Error(`Unsupported wildcard expression: ${c[0].value}`)}return c.slice(1).reduce((e,t)=>{if(t.type!=="function"){throw new Error("Invalid operation specified in pipe expression")}return n.applyFunctionInPipeContext(t.name,t.args.map(e=>a(e,r,o,s,i,u)),e)},e({},i[u]||{}))}function c(e,t,r,o,s,i){const u=e.name;const c=e.args.map(e=>a(e,t,r,o,s,i));const p=e.params.map(e=>a(e,t,r,o,s,i));return n.applyFunctionInValueContext(u,c,p)}function p(e,n,t,o,s,i){const u=e.value;if(r[u.type]){return a(u,n,t,o,s,i)}throw new Error(`unknown expression type: ${u.type}`)}function l(e,n,t,r,o,s){const a=e.value;if(!e.hasOwnProperty("namespace")){return n[a]}const i=e.namespace;const u=`The template attemps to take the value '${a}' from '${i}' namespace.`;if(!o.hasOwnProperty(i)){throw new Error(`${u} However this value was not defined at runtime. The template should reference only defined values.`)}const c=o[i];const p=a===".";if(p){return c}if(typeof c!=="object"){throw new Error(`${u} However the runtime did not define the namespace as an object. The template cannot access the desired value using the object notation in this case.`)}return c[a]}r={literal:s,expression:p,reference:l,function:c,path:i,pipe:u};function f(e,n,t,r,o,s){const i={};n.forEach(n=>{const u=e[n];const c=a(u,i,t,o,r,s);i[n]=c});return i}return{resolveLiteral:s,resolveExpression:p,resolveReference:l,resolveFunction:c,resolvePath:i,resolvePipe:u,resolveParameterValue:a,resolveAllParameters:f}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/URLTemplateProcessor/TemplateParameterParser", ["sap/ushell/URLTemplateProcessor/Functions"],t=>{"use strict";function n(){const n="[a-zA-Z0-9]+?:";const e=`((&(${n})?)?[.a-zA-Z0-9_-]+?)`;const r="('(.*?)')";const s="([^' ]*?)";const o=`{(${e})}`;const c="("+`[.]?([/](${e}|${o}))+`+")";const i=`(${c}|${r}|${e}|${o})`;const u=`(${i}(,${i})*)`;const a=`(${s}|${o})`;const l=`(${a}(,${a})*)`;const p="("+`[(]${l}[)]`+")?";const f=t.getPossibleFunctionsRegExpString();const h="("+`(${f})`+`(${p})`+")";const $=`([*]([|]${h})*)`;const d=`^{(${$}|`+`((${h})([ ](${u}))?)`+"|"+`(${i})`+")}$";const g=new RegExp(d);return g}function e(t){const n=t.split("");n.shift();n.pop();return n.join("")}function r(t,n,e){if(!n){return[]}const r=n.split(e).reduce((t,n,r)=>{if(r===0){t.push(n);return t}const s=t.length-1;const o=t[s];const c=o.length>0&&o.charAt(o.length-1)==="\\";let i="";if(c){i=t.pop();i=i.substr(0,i.length-1)+e}t.push(i+n);return t},[]);return r}function s(t,n){if(t.indexOf(n)===0){return t.substr(n.length)}throw new Error(`Given string does not start with prefix '${n}'`)}function o(t){return{type:"literal",value:t}}function c(t,n){if(n.charAt(0)==="{"&&n.charAt(n.length-1)==="}"){return a(t,e(n))}return{type:"literal",value:n}}function i(t,n){const e=n.split("/");let r="relative";if(e[0]===""){r="absolute";e.shift()}if(e[0]==="."){e.shift()}return{type:"path",pathType:r,value:e.map(c.bind(null,t))}}function u(t){let n=t.substr(1);let e;if(n.indexOf(":")>=0){const t=n.split(":");e=t[0];n=t[1]}const r={type:"reference",value:n};if(e){r.namespace=e}return r}function a(t,n){if(n.charAt(0)==="{"&&n.charAt(n.length-1)==="}"){return a(t,e(n))}if(n.indexOf(".")===0||n.indexOf("/")===0){return i(t,n)}if(n.charAt(0)==="'"&&n.charAt(n.length-1)==="'"){return o(e(n))}if(n.charAt(0)==="&"){return u(n)}return{type:"reference",value:n,namespace:t}}function l(t,n){const o=n.split(/[(\s]/)[0];let c=s(n,o);c=c.replace(/^\s+/,"");let i="";if(c.charAt(0)==="("){const t=c.search(/([)]\s)|([)]$)/);if(t===-1){throw new Error(`Cannot find termination of function '${c}' in '${n}'`)}i=c.substr(1,t-1);c=s(c,`(${i})`);c=c.replace(/^\s+/,"")}const u=c;return{type:"function",name:o,args:r(t,i,",").map(t=>t.charAt(0)==="{"?e(t):`'${t}'`).map(a.bind(null,t)),params:r(t,u,",").map(a.bind(null,t))}}function p(t,n){const e=r(t,n,"|");const s=e.shift();return{type:"pipe",value:[{type:"wildcard",value:s}].concat(e.map(l.bind(null,t)))}}function f(r,s){const o=n();const c=o.exec(s);if(c===null){throw new Error(`Cannot parse expression: '${s}'`)}const i=e(s);if(i.indexOf("*")===0){return p(r,i)}const u=`^(${t.getPossibleFunctionsRegExpString()})[^a-z]`;const f=new RegExp(u);if(f.exec(i)){return l(r,i)}return a(r,i)}function h(t){const e=t.indexOf("{")===0;const r=n();const s=r.exec(t);if(!s){if(e){throw new Error(`Expression was expected. But ${t} does not look like a valid expression`)}return null}return s[1]}function $(t){return h(t)!==null}function d(t){return typeof t==="string"&&!$(t)}function g(t,n){let e=n;let r=null;if(Object.prototype.toString.apply(n)==="[object Object]"){e=n.value;r=n.renameTo}const s=d(e);if(s){return o(e)}const c="expression";const i=f(t,e);const u={type:c,value:i};if(r){i.renameTo=r}return u}function x(t,n){return Object.keys(t).reduce((e,r)=>{const s=t[r];e[r]=g(n,s);return e},{})}function m(t,n){return Object.keys(t).reduce((n,e)=>{const r=t[e];n[e]=o(r);return n},{})}return{parseTemplateParameterSet:x,parseTemplateParameterSetAsLiterals:m,parsePath:i,_isExpression:$,_parseList:r,_parseParameterValue:g}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/URLTemplateProcessor/utils", ["sap/base/util/deepExtend"],e=>{"use strict";let t;function r(){return t}function n(e){t=e}function s(e){return e!==null&&typeof e!=="undefined"}function o(e){return Object.keys(e).reduce((t,r)=>{const n=e[r];if(Object.prototype.toString.apply(n)==="[object Array]"){t[r]=n[0]}else if(typeof n==="string"){t[r]=n}else{throw new Error("Parameters should be passed as strings or array of strings")}return t},{})}function u(t,r){const n=e({},t);const s=e({},r);return Object.keys(s).reduce((e,t)=>{e[t]=s[t];return e},n)}return{mergeObject:u,hasValue:s,removeArrayParameterNotation:o,getURIHashContext:r,setURIHashContext:n}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Ui5NativeServiceFactory", ["sap/ui/core/service/ServiceFactory"],e=>{"use strict";const r={_servicePromises:{},createServiceFactory:function(r){const i=this._servicePromises;const s=e.extend(`sap.ushell.ui5Service.${r}Factory`,{createInstance:function(){let e=i[r];if(!e){e=new Promise((e,i)=>{sap.ui.require([`sap/ushell/ui5service/${r}`],s=>{if(!s){i(new Error(`Failed to load UI5 service ${r}`))}const c=new s;e(c)},()=>{i(new Error(`Failed to load UI5 service ${r}`))})});i[r]=e}return e}});return new s}};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Ui5ServiceFactory", ["sap/ui/core/service/ServiceFactory","sap/ui/core/service/Service","sap/base/Log","sap/base/util/ObjectPath","sap/base/util/isPlainObject"],(e,t,n,r,c)=>{"use strict";let o;function i(e){o=e}function s(){return o}function u(e){return!!/^[^_].+/.test(e)}function a(e){let t;const n=[];for(t in e){n.push(t)}return n}function f(e,t,r){const c=t[r];t[r]=function(){let o;const i=s();if(!e||e.scopeObject.getId()!==i){n.warning(`Call to ${r} is not allowed`,`This may be caused by an app component other than the active '${i}' that tries to call the method`,"sap.ushell.Ui5ServiceFactory");return undefined}const u=new Array(arguments.length);for(o=0;o<u.length;++o){u[o]=arguments[o]}return c.apply(t,u)}}function p(e,t,n,r){a(e).filter(u).filter(n=>{const r=e[n];t[n]=r;return typeof r==="function"}).forEach(c=>{t[c]=t[c].bind(e);if(r){f(n,t,c)}})}function l(e){if(typeof e==="undefined"){return true}if(!c(e)){return false}if(!e.scopeType){return false}const t=r.get("scopeObject.getId",e);if(typeof t!=="function"){return false}return true}function h(e,t,n){const r={};if(n){n=typeof e==="object"}p(t,r,e,n);if(n&&e.scopeType==="component"&&e.scopeObject&&e.scopeObject.getId){i(e.scopeObject.getId())}return r}function y(e){return new Promise((t,n)=>{sap.ui.require(["sap/ushell/Container"],n=>{n.getServiceAsync(e).then(e=>{t(e)})})})}function b(r,c){const o=e.extend(`sap.ushell.ui5service.${r}Factory`,{createInstance:function(e){return new Promise((o,i)=>{y(r).then(s=>{if(!l(e)){n.error(`Invalid context for ${r} service interface`,"The context must be empty or an object like { scopeType: ..., scopeObject: ... }","sap.ushell.Ui5ServiceFactory");i(new Error(`Invalid Context for ${r} service`));return}const u=h(e,s,c);const a=t.extend(`sap.ushell.ui5service.${r}`,{getInterface:function(){return u}});const f=new a(e);o(f)}).catch(e=>{i(e)})})}});return new o}return{createServiceFactory:b}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/User", ["sap/base/Log","sap/base/i18n/Localization","sap/base/util/deepExtend","sap/ui/base/EventProvider","sap/ui/core/Locale","sap/ui/core/LocaleData","sap/ui/thirdparty/URI","sap/ushell/utils","sap/ui/core/Theming"],(e,t,n,i,o,r,s,a,h)=>{"use strict";function m(e){if(e===undefined){return undefined}return n({},e)}function u(e){let t;if(e.host&&typeof e.host==="function"&&e.host()){t=e.host();if(typeof e.protocol==="function"&&e.protocol()){t=`${e.protocol()}://${t}`}return t}return""}function c(e){return e.indexOf("sap_")===0}function g(m={}){let l=[];let p;let f;const d=new i;const T={};m.userProfile?.forEach?.(e=>{if(e.id&&e.editState){T[e.id]=e.editState}});let y=m.userProfile?.find?.(e=>e.id==="THEME_SET")?.value||"";this.getEditState=function(e){return T[e]};this.getEmail=function(){return m.email};this.getFirstName=function(){return m.firstName};this.getFullName=function(){return m.fullName};this.getTimeZone=function(){return m.timeZone};this.getLanguageAndRegionSettingsEntry=async()=>{if(m.getLanguageAndRegionSettingsEntry){const e=await m.getLanguageAndRegionSettingsEntry();return e}const[e]=await a.requireAsync(["sap/ushell/components/shell/Settings/userLanguageRegion/UserLanguageRegionEntry"]);return e};this.getInitials=function(){const e=m.fullName||"";let t="";let n=true;for(let i=0,o=e.length;i<o;++i){if(e[i]===" "){n=true}else if(n){n=false;t+=e[i]}}return t};this.getId=function(){return m.id};this.getLanguage=function(){return m.language};this.getLanguageBcp47=function(){return m.languageBcp47};this.getLanguageText=function(){const e=new o(t.getLanguageTag());const n=new r(e);const i=t.getLanguageTag().toString();return n.getLanguageName(i)||this.getLanguage()};this.getLastName=function(){return m.lastName};this.getImage=function(){return m.image};this.getCalendarWeekNumbering=function(){return m.calendarWeekNumbering||"Default"};this.setImage=function(e){m.image=e;d.fireEvent("onSetImage",e)};this.attachOnSetImage=function(e,t){d.attachEvent("onSetImage",e,t)};this.isJamActive=function(){return m.isJamActive===true};this.isLanguagePersonalized=function(){return m.isLanguagePersonalized===true};this.getTheme=function(e){if(e===g.prototype.constants.themeFormat.ORIGINAL_THEME){return f.originalTheme.theme}if(e===g.prototype.constants.themeFormat.THEME_NAME_PLUS_URL){return p.theme+(p.locationPath?`@${p.locationOrigin}${p.locationPath}`:"")}if(e===g.prototype.constants.themeFormat.NWBC){if(c(p.theme)){return p.theme}return this.getTheme(g.prototype.constants.themeFormat.THEME_NAME_PLUS_URL)}return p.theme};this.getThemeSet=function(){return y};this.getThemeRoot=function(e){if(m.ranges&&m.ranges.theme&&m.ranges.theme[e]&&m.ranges.theme[e].themeRoot){return m.ranges.theme[e].themeRoot}return""};this.addThemeRootForTheme=function(e){if(m.ranges.theme[e.id]){m.ranges.theme[e.id].themeRoot=e.root}else{m.ranges.theme[e.id].displayName="";m.ranges.theme[e.id].themeRoot=e.root}};this.setThemeSet=function(t){if(this.isSetThemePermitted()===false){const t="setThemeSet is not permitted";e.error(t);throw new Error(t)}if(t!==y){this.setChangedProperties({propertyName:"themeSet",name:"THEME_SET"},y,t);y=t}};this.setLanguage=function(e){if(e){this.setChangedProperties({propertyName:"language",name:"LANGUAGE"},m.language,e);m.language=e}};this.getAccessibilityMode=function(){return m.accessibility};this.setAccessibilityMode=function(t){if(this.isSetAccessibilityPermitted()===false){const t="setAccessibilityMode not permitted";e.error(t);throw new Error(t)}m.accessibility=t};this.isAdminUser=function(){return m.isAdminUser===true};this.isSetAccessibilityPermitted=function(){return m.setAccessibilityPermitted};this.isSetThemePermitted=function(){return m.setThemePermitted};this.getContentDensity=function(){return m.contentDensity};this.setContentDensity=function(t){if(this.isSetContentDensityPermitted()===false){const t="setContentDensity not permitted";e.error(t);throw new Error(t)}e.debug("[000] setContentDensity",t,"User");this.setChangedProperties({propertyName:"contentDensity",name:"CONTENT_DENSITY"},m.contentDensity,t);m.contentDensity=t};this.isSetContentDensityPermitted=function(){return m.setContentDensityPermitted};this.getChangedProperties=function(){e.debug("[000] user: getChangedProperties: aChangedProperties",JSON.stringify(l),"User");return n([],l)};this.setChangedProperties=function(t,n,i){e.debug("[000] setChangedProperties",[t.name,n,i],"User");l.push({propertyName:t.propertyName,name:t.name,oldValue:n,newValue:i})};this.resetChangedProperties=function(){e.debug("[000] resetChangedProperties","User");l=[]};this.resetChangedProperty=function(t){e.debug("[000] resetChangedProperty: sPropertyName:",t,"User");l=l.filter(e=>!(t===e.propertyName))};this.getTrackUsageAnalytics=function(){return m.trackUsageAnalytics};this.setTrackUsageAnalytics=function(e){this.setChangedProperties({propertyName:"trackUsageAnalytics",name:"TRACKING_USAGE_ANALYTICS"},m.trackUsageAnalytics,e);m.trackUsageAnalytics=e};this.setImageConsent=function(e){this.setChangedProperties({propertyName:"isImageConsent",name:"ISIMAGECONSENT"},m.isImageConsent,e);m.isImageConsent=e};this.getImageConsent=function(){return m.isImageConsent};this.getImportBookmarksFlag=function(){return m.importBookmarks||null};this.setImportBookmarksFlag=function(e){this.setChangedProperties({propertyName:"importBookmarks",name:"MYHOME_IMPORT_FROM_CLASSIC"},this.getImportBookmarksFlag()||"",e);m.importBookmarks=e};this.getShowMyHome=function(){return m.showMyHome!==false};this.setShowMyHome=function(e){e=!!e;this.setChangedProperties({propertyName:"showMyHome",name:"MYHOME_ENABLEMENT"},m.showMyHome,e);m.showMyHome=e};this.getDetectDarkMode=function(){return m.detectDarkMode!==false};this.setDetectDarkMode=function(e){e=!!e;this.setChangedProperties({propertyName:"detectDarkMode",name:"THEME_DARKMODE_AUTO_DETECTION"},m.detectDarkMode,e);m.detectDarkMode=e};const P={locationPathUi5:new s(sap.ui.require.toUrl("")).absoluteTo(document.location).pathname(),locationPathCustom:m.themeRoot||"",locationOrigin:u(new s(document.location))};if(!P.locationPathUi5){e.warning("User: Could not set UI5 location path")}if(!P.locationPathCustom){e.warning("User: Could not set location path for custom themes")}if(!P.locationOrigin){e.warning("User: Could not set front-end server location origin")}const E=m.bootTheme||{theme:"",root:""};p=this._amendTheme(E,P);f=p;this.setTheme=function(t){if(this.isSetThemePermitted()===false){const t="setTheme not permitted";e.error(t);throw new Error(t)}p=this._amendTheme({theme:t,root:this.getThemeRoot(t)},P);if(t!==f.originalTheme.theme){this.setChangedProperties({propertyName:"theme",name:"THEME"},f.originalTheme.theme,t);f=p}this.applyTheme(t)};this.applyTheme=function(e){const t=this._amendTheme({theme:e,root:this.getThemeRoot(e)},P);p=t;if(t.suppliedRoot){h.setThemeRoot(t.theme,`${t.suppliedRoot}/UI5/`)}else if(t.path){h.setThemeRoot(t.theme,`${t.path}/UI5/`)}h.setTheme(t.theme);sap.ui.require(["sap/ushell/appIntegration/PostMessageManager"],e=>{e.sendRequestToAllApplications("sap.ushell.appRuntime.themeChange",{currentThemeId:this.getTheme(g.prototype.constants.themeFormat.NWBC),themeServiceRoute:`${window.location.protocol}//${window.location.host}/comsapuitheming.runtime/themeroot/v1`},false)})}}g.prototype._amendTheme=function(e,t){if(!e||!e.theme||!t){return{originalTheme:{theme:"",root:""},theme:"",suppliedRoot:"",path:"",locationPath:"",locationOrigin:""}}function n(e,t){const n=new s(e);const i=u(n);return{locationOrigin:i||t.locationOrigin,locationPath:i?n.path():e}}const i={originalTheme:m(e)};let o;if(i.originalTheme.theme.indexOf("@")>0){const e=i.originalTheme.theme.split("@",2);i.theme=e[0];i.suppliedRoot=e[1];o=n(e[1],t);i.locationPath=o.locationPath;i.path=i.locationPath;i.locationOrigin=o.locationOrigin;return i}i.theme=i.originalTheme.theme;if(i.originalTheme.root){i.suppliedRoot=i.originalTheme.root;o=n(i.originalTheme.root,t);i.locationPath=o.locationPath;i.path=i.locationPath;i.locationOrigin=o.locationOrigin;return i}i.suppliedRoot="";if(c(i.theme)){i.locationOrigin=t.locationOrigin;i.locationPath=t.locationPathUi5;i.path="";return i}i.locationOrigin=t.locationOrigin;i.locationPath=t.locationPathCustom;i.path=i.locationPath;return i};g.prototype.constants={themeFormat:{ORIGINAL_THEME:"O",THEME_NAME_PLUS_URL:"N+U",NWBC:"NWBC"}};return g},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/UserActivityLog", ["sap/base/Log","sap/base/util/extend","sap/ui/core/Element","sap/ui/core/EventBus","sap/ui/thirdparty/hasher","sap/ushell/EventHub","sap/ushell/ui/launchpad/Tile","sap/ushell/utils","sap/ushell/utils/UrlParsing","sap/ushell/Container","sap/ushell/state/StateManager"],(e,t,s,i,a,n,o,r,l,g,u)=>{"use strict";function c(){}c.prototype={_maxLoggedMessages:50,_maxMessageByteSize:2048,_maxQueueByteSize:30720,_isActive:false,_observedLaunchpadActions:["createGroupAt","deleteGroup","resetGroup","changeGroupTitle","moveGroup","addTile","deleteTile","movetile","externalSearch","addBookmarkTile"],_observedGeneralActions:["openApp"],_observedEventHubEvents:["showCatalog"],_aDoables:[],messageType:{ACTION:0,ERROR:1},_tileOntapOrigFunc:undefined,activate:function(){if(this._isActive){return}this._isActive=true;const t=i.getInstance();this._observedLaunchpadActions.forEach(e=>{t.subscribe("launchpad",e,this._handleAction,this)});t.subscribe("sap.ushell","appOpened",this._handleAction,this);this._observedGeneralActions.forEach(e=>{t.subscribe(e,this._handleAction,this)});this._observedEventHubEvents.forEach(e=>{this._aDoables.push(n.on(e).do(this._handleActionEventHub.bind(this)))});e.addLogListener(this);this._tileOntapOrigFunc=o.prototype.ontap;o.prototype.ontap=this._tileOnTapDecorator(this._tileOntapOrigFunc)},deactivate:function(){if(!this._isActive){return}this._isActive=false;const t=i.getInstance();this._observedLaunchpadActions.forEach((e,s,i)=>{t.unsubscribe("launchpad",e,this._handleAction,this)});t.unsubscribe("sap.ushell","appOpened",this._handleAction,this);this._observedGeneralActions.forEach((e,s,i)=>{t.unsubscribe(e,this._handleAction,this)});this._aDoables.forEach(e=>{e.off()});this._aDoables=[];e.removeLogListener(this);o.prototype.ontap=this._tileOntapOrigFunc},addMessage:function(e,t,s){if(this._isActive){this._addMessageInternal(e,t,s)}},getLog:function(){return this._getLoggingQueueFromStorage()},getMessageInfo:function(){return{userDetails:this._getUserDetails(),shellState:this._getShellState(),navigationData:this._getLastNavActionFromStorage(),userLog:this.getLog(),formFactor:r.getFormFactor()}},getMessageInfoAsString:function(e){return JSON.stringify(this.getMessageInfo(e))},onLogEntry:function(e){if(e.level<=2){let t=e.message;if(typeof e.details!=="undefined"&&e.details!==""){t=`${t}, ${e.details}`}this.addMessage(this.messageType.ERROR,t)}},onAttachToLog:function(){},onDetachFromLog:function(){},_tileOnTapDecorator:function(e){const t=this;return function(){if(this.isA("sap.ushell.ui.launchpad.PlusTile")){t.addMessage(t.messageType.ACTION,`Open Catalog for empty group ${this.getGroupId()}`)}else if(this.isA("sap.ushell.ui.launchpad.Tile")){let e=a.getHash();if(e){const t=l.parseShellHash(e);e=`#${l.constructShellHash({target:{semanticObject:t.semanticObject,action:t.action}})}`}const i=t._getLastNavActionFromStorage();i.time=new Date;i.navigationHash=e;i.tileDebugInfo=this.getDebugInfo();const n=s.getElementById(this.getId());const o=n.getModel();const r=this.getBindingContext();const g=r.getPath();i.tileTitle=r.getModel().getProperty(g).title;t._putInSessionStorage("sap.ushell.UserActivityLog.lastNavigationActionData",JSON.stringify(i));t.addMessage(t.messageType.ACTION,`Click on Tile: ${o.getData().title} Tile debugInfo: ${this.getDebugInfo()}`)}e.apply(this,arguments)}},_addMessageInternal:function(e,s,i){const a=this._getLoggingQueueFromStorage();const n={type:null};for(const t in this.messageType){if(e===this.messageType[t]){n.type=t;break}}if(n.type===null){return}t(n,{messageID:i,messageText:s,time:new Date,toString:function(){const e=[this.type,this.time];if(typeof this.messageID!=="undefined"){e.push(this.messageID)}e.push(this.messageText);return e.join(" :: ")}});a.push(n);if(a.length>this._maxLoggedMessages){a.shift()}this._putInSessionStorage("sap.ushell.UserActivityLog.loggingQueue",JSON.stringify(a))},_handleActionEventHub:function(e){this._handleAction("",e.sId,e.oData)},_handleAction:function(e,t,s){let i;switch(t){case"deleteTile":i=`Delete Tile ${s.tileId||""}`;break;case"moveTile":i=`Move Tile ${s.sTileId||""} to Group ${s.toGroupId||""}`;break;case"createGroupAt":i="Create Group";break;case"changeGroupTitle":i=`Change Group Title of ${s.groupId||""} to ${s.newTitle||""}`;break;case"deleteGroup":i=`Delete Group ${s.groupId||""}`;break;case"addTile":const e=s.catalogTileContext.oModel;const t=s.catalogTileContext.sPath;const a=e.getProperty(t);const n=a&&a.id||"";const o=s.groupContext.getObject();const r=o&&o.id||"";i=`Add Tile ${n} to Group ${r}`;break;case"moveGroup":i=`Move Group from index ${s.fromIndex||""} to index ${s.toIndex||""}`;break;case"appOpened":i=`Open application ${s.action}`;const l=this._getLastNavActionFromStorage();l.applicationInformation={};["applicationType","ui5ComponentName","url","additionalInformation","text"].forEach(e=>{l.applicationInformation[e]=s[e]});if(!this._hashSegmentsEqual(l.navigationHash,s.sShellHash)){l.tileDebugInfo=""}l.navigationHash=s.sShellHash;this._putInSessionStorage("sap.ushell.UserActivityLog.lastNavigationActionData",JSON.stringify(l));break;case"addBookmarkTile":i=`Add Bookmark ${s.title||""} ${s.subtitle||""} for URL: ${s.url||""}`;break;case"showCatalog":i="Show Catalog";break;default:break}this.addMessage(this.messageType.ACTION,i)},_getUserDetails:function(){const e=g.getUser();return{fullName:e.getFullName()||"",userId:e.getId()||"",eMail:e.getEmail()||"",Language:e.getLanguage()||""}},_getShellState:function(){const e=u.getShellMode()||"default";return`${e}-${u.getLaunchpadState()}`},_getLoggingQueueFromStorage:function(){const e=this._getFromSessionStorage("sap.ushell.UserActivityLog.loggingQueue");let t=[];if(e){try{t=JSON.parse(e)}catch{}}return t},_getLastNavActionFromStorage:function(){const e=this._getFromSessionStorage("sap.ushell.UserActivityLog.lastNavigationActionData");return e?JSON.parse(e):{}},_hashSegmentsEqual:function(e,t){if(!e||!t){return false}return this._getHashSegment(e)===this._getHashSegment(t)},_getHashSegment:function(e){let t=e.split("~");if(t.length>1){return t[0]}t=e.split("?");if(t.length>1){return t[0]}return e},_getFromSessionStorage:function(e){let t=null;try{t=sessionStorage.getItem(e)}catch{}return t},_putInSessionStorage:function(e,t){try{sessionStorage.setItem(e,t)}catch{}}};const h=new c;return h});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/AppVariantPersonalizationAdapter", ["sap/ui/core/Lib","sap/ushell/services/PersonalizationV2/constants","sap/ui/fl/apply/api/UI2PersonalizationApplyAPI","sap/base/Log","sap/ui/thirdparty/jquery"],(e,t,n,i,jQuery)=>{"use strict";function o(e){const t="sap.ushell.personalization#";if(e.substring(0,t.length)!==t){i.error(`Unexpected ContainerKey ${e}`);return e}let n=e.substring(t.length);n=n.split("#")[0];return n}function r(e,t,n,i){this._oService=t;this._oScope=n;this._sAppVarId=n.appVarId;this._sAppVersion=n.appVersion;this._oComponent=n.component;this._sContainerKey=o(e);this._sAppName=i||"";this._category=this._determineCategory(n);this._aJSONContainer=[];this._oChangedKeys={};this._oDeletedKeys={}}r.prototype._determineCategory=function(e){if(!e){return"U"}if(e.keyCategory&&e.keyCategory===t.keyCategory.FIXED_KEY&&e.writeFrequency&&e.writeFrequency===t.writeFrequency.LOW&&e.clientStorageAllowed&&e.clientStorageAllowed===true){return"P"}return"U"};r.prototype.getMap=function(){return{category:this._category,service:this._oService,changedKeys:this._oChangedKeys,component:this._oComponent,deletedKeys:this._oDeletedKeys,container:this._aJSONContainer,scope:this._oScope,appName:this._sAppName,appVarId:this._sAppVarId,appVersion:this._sAppVersion,containerKey:this._sContainerKey}};r.prototype._reset=function(){this._aJSONContainer=[]};r.prototype.load=function(){const t=new jQuery.Deferred;e.load("sap/ui/fl").then(()=>n.load({selector:this._oComponent,containerKey:this._sContainerKey})).then(e=>{this._aJSONContainer=e||[];t.resolve(e)}).catch(e=>{i.warning("Failed to load personalization container",e);this._reset();t.reject(e)});return t.promise()};r.prototype.save=function(){const e=[];const t=new jQuery.Deferred;sap.ui.require(["sap/ui/fl/write/api/UI2PersonalizationWriteAPI"],n=>{Object.keys(this._oChangedKeys).forEach(function(t){const i=this._oChangedKeys[t];const o=Object.assign({selector:this._oComponent},i);e.push(n.create(o))},this);Object.keys(this._oDeletedKeys).forEach(function(t){e.push(n.deletePersonalization({selector:this._oComponent,containerKey:this._sContainerKey,itemName:t}))},this);Promise.all(e).then(e=>{this._oChangedKeys={};this._oDeletedKeys={};t.resolve()}).catch(e=>{t.reject(e)})});return t.promise()};r.prototype.del=function(){const e=new jQuery.Deferred;sap.ui.require(["sap/ui/fl/write/api/UI2PersonalizationWriteAPI"],t=>{this.load().then(()=>{const n=[];this._aJSONContainer.forEach(function(e){n.push(t.deletePersonalization({selector:this._oComponent,containerKey:this._sContainerKey,itemName:e.itemName}))},this);Promise.all(n).then(t=>{e.resolve()}).catch(t=>{e.reject(t)})})});return e.promise()};r.prototype.getItemKeys=function(){const e=[];this._aJSONContainer.forEach(t=>{if(t.category==="V"){e.push(`VARIANTSET#${t.itemName}`)}else if(t.category==="I"){e.push(`ITEM#${t.itemName}`)}});return e};r.prototype.containsItem=function(e){return this.getItemKeys().indexOf(e)>=0};r.prototype._findItemIndex=function(e,t){let n;for(n=0;n<this._aJSONContainer.length;n=n+1){if(this._aJSONContainer[n].itemName===e&&this._aJSONContainer[n].category===t){return n}}};r.prototype._locateItem=function(e){const t={index:-1};if(e.indexOf("ITEM#")===0){t.trueItemKey=e.substring("ITEM#".length,"ITEM#".length+40);t.category="I"}else if(e.indexOf("VARIANTSET#")===0){t.trueItemKey=e.substring("VARIANTSET#".length,"VARIANTSET#".length+40);t.category="V"}else if(e.indexOf("ADMIN#")!==0){i.error(`Unknown itemkey prefix${e}`)}t.index=this._findItemIndex(t.trueItemKey,t.category);return t};r.prototype.getItemValue=function(e){let t="";let n;const i=this._locateItem(e);if(i.index>=0){t=this._aJSONContainer[i.index].content;n=t}return n};r.prototype.setItemValue=function(e,t){const n=this._locateItem(e);let i;if(n.index>=0){i=this._aJSONContainer[n.index];i.content=t}else{i={reference:this._sAppVarId,content:t,itemName:n.trueItemKey,category:n.category,containerKey:this._sContainerKey,containerCategory:this._category};this._aJSONContainer.push(i)}this._oChangedKeys[n.trueItemKey]=i;delete this._oDeletedKeys[n.trueItemKey]};r.prototype.delItem=function(e){const t=this._locateItem(e);if(t.index>=0){this._aJSONContainer.splice(t.index,1);this._oDeletedKeys[t.trueItemKey]=true}};function s(){}s.prototype.getAdapterContainer=function(e,t,n){return new r(e,this,t,n)};s.prototype.delAdapterContainer=function(e,t){return this.getAdapterContainer(e,t).del()};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/ClientSideTargetResolutionAdapter", ["sap/base/util/Version","sap/ui/thirdparty/jquery","sap/base/util/deepExtend","sap/base/Log","sap/ushell/Container"],(e,jQuery,t,s,r)=>{"use strict";function i(i,o,n){this._oAdapterConfig=n&&n.config;let a="";if(r.isInitialized()){a=r.getLogonSystem().getProductName()||""}this._oLocalSystemAlias={http:{host:"",port:0,pathPrefix:"/sap/bc/"},https:{host:"",port:0,pathPrefix:"/sap/bc/"},rfc:{systemId:"",host:"",service:0,loginGroup:"",sncNameR3:"",sncQoPR3:""},id:"",label:"local",client:"",language:"",properties:{productName:a}};this.getInbounds=function(){const t=this;if(!this._getInboundsDeferred){this._getInboundsDeferred=new jQuery.Deferred;r.getServiceAsync("CommonDataModel").then(e=>e.getSiteWithoutPersonalization()).then(s=>{const r=s._version&&e(s._version).getMajor()===3?"sap/ushell/adapters/cdm/v3/utilsCdm":"sap/ushell/utils/utilsCdm";sap.ui.require([r],e=>{const r=e.formatSite(s)||[];t._getInboundsDeferred.resolve(r)})}).catch(e=>{t._getInboundsDeferred.reject(e)})}return this._getInboundsDeferred.promise()};this._createSIDMap=function(e){return Object.keys(e).sort().reduce((t,s)=>{const r=e[s];const i=`SID(${r.systemId}.${r.client})`;if(!t.hasOwnProperty(i)&&r.hasOwnProperty("systemId")&&r.hasOwnProperty("client")){t[i]=s}return t},{})};this._getSystemAliases=function(){const e=this;if(!this.oSystemAliasesDeferred){this.oSystemAliasesDeferred=new jQuery.Deferred;r.getServiceAsync("CommonDataModel").then(e=>e.getSiteWithoutPersonalization()).then(s=>{const r=t({},s.systemAliases||{});Object.keys(r).forEach(e=>{r[e].id=e});e.oSystemAliasesDeferred.resolve(r)}).catch(t=>{e.oSystemAliasesDeferred.reject(t)})}return this.oSystemAliasesDeferred.promise()};this.resolveSystemAlias=function(e){const r=new jQuery.Deferred;const i=this;this._getSystemAliases().done(o=>{let n;if(o.hasOwnProperty(e)){n=o[e];if(e===""){n.properties=t({},i._oLocalSystemAlias.properties,n.properties||{})}r.resolve(n);return}if(e===""){r.resolve(i._oLocalSystemAlias);return}e=e.toUpperCase(e);if(!i._oSIDMap){i._oSIDMap=i._createSIDMap(o)}if(i._oSIDMap.hasOwnProperty(e)){const t=o[i._oSIDMap[e]];r.resolve(t);return}const a=`Cannot resolve system alias ${e}`;s.warning(a,"The system alias cannot be found in the site response","sap.ushell.adapters.cdm.ClientSideTargetResolutionAdapter");r.reject(new Error(a))}).fail(e=>{r.reject(e)});return r.promise()};this.getContentProviderDataOriginsLookup=function(){const e=this;if(!this.oContentProviderDataOriginsDeferred){this.oContentProviderDataOriginsDeferred=new jQuery.Deferred;r.getServiceAsync("CommonDataModel").then(e=>e.getSiteWithoutPersonalization()).then(s=>{let r=null;if(s.contentProviderDataOrigins){r=t({},s.contentProviderDataOrigins)}e.oContentProviderDataOriginsDeferred.resolve(r)}).catch(t=>{e.oContentProviderDataOriginsDeferred.reject(t)})}return this.oContentProviderDataOriginsDeferred.promise()}}return i},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/CommonDataModelAdapter", ["sap/base/Log","sap/base/util/extend","sap/base/util/Version","sap/ui/thirdparty/URI","sap/ui/thirdparty/jquery","sap/ushell/Container"],(e,t,o,i,jQuery,n)=>{"use strict";function r(e,t,o){this.oAdapterConfiguration=o;if(o&&o.config&&o.config.siteData){this.oCdmSiteDataRequestPromise=(new jQuery.Deferred).resolve(o.config.siteData)}else if(o&&o.config&&o.config.siteDataPromise){this.oCdmSiteDataRequestPromise=o.config.siteDataPromise}else{const e=this._identifySiteUrlFromConfig(o);const t=this._normalizeUrl(e,location.href);this.oCdmSiteDataRequestPromise=this._requestSiteData(t)}}r.prototype._requestSiteData=function(t){const o=new jQuery.Deferred;if(!t){return o.reject(new Error("Cannot load site: configuration property 'siteDataUrl' is missing for CommonDataModelAdapter."))}jQuery.ajax({type:"GET",dataType:"json",url:t}).done(e=>{o.resolve(e)}).fail(t=>{e.error(t.responseText);o.reject(new Error("CDM Site was requested but could not be loaded."))});return o.promise()};r.prototype._normalizeUrl=function(e,t){if(typeof e!=="string"){return e}if(e.indexOf("http")===0){return e}const o=document.getElementsByTagName("base")[0];return new i(e,o).absoluteTo(t).toString()};r.prototype.getSite=function(){const e=new jQuery.Deferred;this.oCdmSiteDataRequestPromise.done(o=>{const i=t({},o);delete i.personalization;e.resolve(i)}).fail(t=>{e.reject(t)});return e.promise()};r.prototype.getPersonalization=function(){const o=new jQuery.Deferred;const i=this;this.oCdmSiteDataRequestPromise.done(n=>{const r=t({},n);const a=r._version;let s;if(i.oAdapterConfiguration&&i.oAdapterConfiguration.config&&i.oAdapterConfiguration.config.ignoreSiteDataPersonalization){delete r.personalization}if(r.personalization){s=r.personalization._version;if(Object.keys(r.personalization).length>0&&!i._isPersonalizationVersionValid(a,s)){e.error("Personalization version is not compatible to the site version and will not be loaded."+` Please proceed to personalize the homepage again if needed. Personalization version: ${s}; Site version: ${a}`);o.resolve();return}o.resolve(r.personalization)}else{i._readPersonalizationDataFromStorage(a).done(t=>{s=t._version;if(Object.keys(t).length>0&&!i._isPersonalizationVersionValid(a,s)){e.error("Personalization version is not compatible to the site version and will not be loaded."+` Please proceed to personalize the homepage again if needed. Personalization version: ${s}; Site version: ${a}`);o.resolve();return}o.resolve(t)}).fail(e=>{o.reject(e)})}}).fail(e=>{o.reject(e)});return o.promise()};r.prototype._isPersonalizationVersionValid=function(e,t){if(!e){return false}const i=new o(e).getMajor();const n=new o(t);if(i>=3){return n.getMajor()===i}return n.getMajor()<3};r.prototype.setPersonalization=function(t){const i=new jQuery.Deferred;n.getServiceAsync("PersonalizationV2").then(async n=>{let r;const a={keyCategory:n.KeyCategory.FIXED_KEY,writeFrequency:n.WriteFrequency.LOW,clientStorageAllowed:true};let s={container:"sap.ushell.cdm.personalization",item:"data"};const l=new o(t.version);if(l.inRange("3.1.0","4.0.0")){s={container:"sap.ushell.cdm3-1.personalization",item:"data"}}const c=await n.getPersonalizer(s,a,r);c.setPersData(t).then(()=>{e.info("Personalization data has been stored successfully.");i.resolve()}).catch(t=>{e.error("Writing personalization data failed.",t);i.reject(t)})});return i.promise()};r.prototype._readPersonalizationDataFromStorage=function(t){const i=new jQuery.Deferred;n.getServiceAsync("PersonalizationV2").then(async n=>{const r={keyCategory:n.KeyCategory.FIXED_KEY,writeFrequency:n.WriteFrequency.LOW,clientStorageAllowed:true};let a={container:"sap.ushell.cdm.personalization",item:"data"};if(t){const e=new o(t);if(e&&e.inRange("3.1.0","4.0.0")){a={container:"sap.ushell.cdm3-1.personalization",item:"data"}}}const s=await n.getPersonalizer(a,r);s.getPersData().then(e=>{i.resolve(e||{})}).catch(t=>{e.error("Fetching personalization data failed.",t);i.reject(t)})});return i.promise()};r.prototype._identifySiteUrlFromConfig=function(e){const t=new URLSearchParams(window.location.search);let o=t.get("sap-ushell-cdm-site-url");const i=e&&e.config;if(i&&!i.allowSiteSourceFromURLParameter&&o){o=null}if(i&&!o){o=i.siteDataUrl||i.cdmSiteUrl}this.sCdmSiteUrl=o;return o};return r},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/ConfigurationDefaultsAdapter", ["sap/ushell/bootstrap/cdm/cdm.constants","sap/base/util/deepClone"],(e,t)=>{"use strict";return function(){this.getDefaultConfig=function(){return Promise.resolve(t(e.defaultConfig))}}},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/ContainerAdapter", ["sap/base/Log","sap/base/util/deepClone","sap/base/util/extend","sap/base/util/ObjectPath","sap/ui/thirdparty/URI","sap/ui/thirdparty/jquery","sap/ushell/System","sap/ushell/User","sap/ushell/utils","sap/ushell/Container","sap/ushell/resources","sap/ushell/Config"],(e,t,s,n,i,jQuery,o,r,a,l,c,u)=>{"use strict";const d=e.getLogger("sap/ushell/adapters/cdm/ContainerAdapter",e.Level.INFO);function f(u,f,g){function m(e,t){if(e.systemProperties&&e.systemProperties.logoutUrl){return e.systemProperties.logoutUrl}return t}function h(){return{setThemePermitted:false,setAccessibilityPermitted:false,setContentDensityPermitted:false,getLanguageAndRegionSettingsEntry:async function(){const[e]=await a.requireAsync(["sap/ushell/adapters/cdm/Settings/UserLanguageAndRegion/UserLanguageAndRegionEntry"]);return e}}}function p(e,t,n){const i=s(h(),e,t);i.bootTheme=i.bootTheme||{theme:i.theme,root:""};delete i.theme;if(n){if(n.editablePropterties){i.setThemePermitted=n.editablePropterties.indexOf("theme")>-1;i.setAccessibilityPermitted=n.editablePropterties.indexOf("accessibility")>-1;i.setContentDensityPermitted=n.editablePropterties.indexOf("contentDensity")>-1}if(n.ranges){i.ranges=n.ranges}}return i}function y(e){const s=t(e);const n=["id","email","firstName","lastName","fullName","isJamActive","isAdminUser","timeZone","language","languageBcp47","image","isImageConsent","isLanguagePersonalized","calendarWeekNumbering","trackUsageAnalytics","contentDensity","setContentDensityPermitted","accessibility","setAccessibilityPermitted","bootTheme","themeRoot","ranges","setThemePermitted","importBookmarks","showMyHome","detectDarkMode","getLanguageAndRegionSettingsEntry"];Object.keys(s).forEach(e=>{if(!n.includes(e)){delete s[e]}});return s}function P(e){let t;const s=e.userProfile;if(s){t=p(s.defaults,e.userProfilePersonalization,s.metadata)}const n=y(t||h());return new r(n)}function A(e,t){const s=t.systemProperties;let n=e.getAlias();let i=e.getPlatform();const r=e.getBaseUrl();let a;let l;let c;let u;let d;let f;let g;if(s){n=s.alias||n;i=s.platform||i;a=s.SID;l=s.client;c=s.productName;u=s.productVersion;d=s.systemName;f=s.systemRole;g=s.tenantRole}return new o({alias:n,platform:i,baseUrl:r,system:a,client:l,productName:c,productVersion:u,systemName:d,systemRole:f,tenantRole:g})}function b(e){const t=e&&e.systemProperties&&e.systemProperties.sessionKeepAlive;if(!t){return null}if(!t.url){d.error("Mandatory parameter 'url' missing in 'sessionKeepAlive' configuration.");return null}if(t.method!=="HEAD"&&t.method!=="GET"){t.method="HEAD"}return t}const R="/sap/public/bc/icf/logoff";const w=m(g.config,R);const T=n.get("systemProperties.logoutMethod",g.config)||"GET";const C=n.get("systemProperties.csrfTokenUrl",g.config);const S=P(g.config);const L=A(u,g.config);const U=b(g.config);this._getLogoutUrl=function(){return w};this._setDocumentLocation=function(e){document.location=e};this._setWindowLocation=function(e){window.location.href=e};this.getSystem=function(){return L};this.getUser=function(){return S};this.load=function(){return jQuery.when()};this.getCurrentUrl=function(){return window.location.href};this.logout=async function(e){let t;if(!e){throw new Error("Not implemented")}if(a.hasNativeLogoutCapability()){t=new i(this._getLogoutUrl()).absoluteTo(this.getCurrentUrl()).search("").toString();a.getPrivateEpcm().doLogOff(t)}else{await this.logoutRedirect()}};this.logoutRedirect=async function(){const t=L.adjustUrl(this._getLogoutUrl());if(T==="POST"){e.info("performing logout from system via POST",undefined,"sap.ushell.adapters.cdm.ContainerAdapter::logoutRedirect");let s=false;let n;try{n=await fetch(C,{method:"HEAD",headers:{"X-CSRF-Token":"Fetch"}})}catch(e){s=true}if(s||!n.ok){e.error(`fetching X-CSRF-Token for logout via POST failed for system: ${L.getAlias()}`,undefined,"sap.ushell.adapters.cdm.ContainerAdapter::logoutRedirect");if(n.status===401){a.reload();return}const t=await l.getServiceAsync("MessageInternal");t.show(t.Type.ERROR,c.i18n.getText("LogoutFailed"),{callback:a.reload});return}let i;try{i=await fetch(t,{method:"POST",headers:{"X-CSRF-Token":n.headers.get("X-CSRF-Token")}});const e=await i.text();this._setWindowLocation(e)}catch(e){s=true}if(s||!i.ok){e.error(`logout via POST failed for system: ${L.getAlias()}`,undefined,"sap.ushell.adapters.cdm.ContainerAdapter::logoutRedirect")}}else{e.info("performing logout from system via GET (redirect)",undefined,"sap.ushell.adapters.cdm.ContainerAdapter::logoutRedirect");this._setDocumentLocation(t)}};this.sessionKeepAlive=function(){if(!U){return}const e=new XMLHttpRequest;e.open(U.method,U.url,true);e.onreadystatechange=function(){if(this.readyState===4){d.debug("Server session was extended")}};e.send()};this._getSessionKeepAliveConfig=function(){return U}}return f},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/LaunchPageAdapter", ["sap/ushell/adapters/cdm/_LaunchPage/readHome","sap/ushell/adapters/cdm/_LaunchPage/modifyHome","sap/ushell/adapters/cdm/_LaunchPage/readCatalogs","sap/m/GenericTile","sap/m/library","sap/ui/core/ComponentContainer","sap/ushell/adapters/cdm/_LaunchPage/uri.transform","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/navigationMode","sap/ushell/resources","sap/ushell/utils","sap/ushell/utils/utilsCdm","sap/ushell/utils/WindowUtils","sap/ushell/utils/UrlParsing","sap/ushell/components/tiles/utils","sap/base/util/Version","sap/ui/model/json/JSONModel","sap/ui/thirdparty/jquery","sap/base/util/deepExtend","sap/base/util/isPlainObject","sap/base/util/isEmptyObject","sap/base/util/ObjectPath","sap/base/Log","sap/ushell/UI5ComponentType","sap/ushell/EventHub","sap/ushell/Container","sap/ushell/utils/LaunchpadError"],(e,t,i,o,r,n,s,l,a,u,c,d,p,f,h,g,m,T,jQuery,v,R,_,b,S,C,y,I,w)=>{"use strict";const D=r.GenericTileMode;const j=S.getLogger("sap/ushell/adapters/cdm/LaunchPageAdapter");const L=S.Level;function G(r,G,k){let F;const O="sap.ushell.components.tiles.cdm.applauncher";const P="sap.ushell.components.tiles.cdm.applauncherdynamic";this._mResolvedTiles={};this._mCatalogTilePromises={};this._mFailedResolvedCatalogTiles={};this._mFailedResolvedTiles={};Promise.all([I.getServiceAsync("URLParsing"),I.getServiceAsync("CommonDataModel")]).then(e=>{this.oURLParsingService=e[0];this.oCDMService=e[1]});this.getCdmVersionsSupported=function(){return{min:m("0"),max:m("2.0.0")}};this.isSiteSupported=function(e){if(e._version&&m(e._version).compareTo(this.getCdmVersionsSupported().max)>0){S.fatal("Invalid CDM site version: Only sites up to version 2.0.0 are supported");return false}return true};this.TileType={Tile:"tile",Link:"link"};this.getGroups=function(){const e=new jQuery.Deferred;this._assureLoaded().done(t=>{d.setPerformanceMark("FLP - homepage groups processed");e.resolve(t)}).fail(()=>{e.resolve([])});return e.promise()};this._getTileFromHashInContextOfSite=function(e,t,i){const o=new jQuery.Deferred;let r=t[i];if(!r){r=e(i);t[i]=r}r.done(e=>{const t={tileIntent:i,tileResolutionResult:e};o.resolve(t)}).fail(e=>{S.error(`Hash '${i}' could not be resolved to a tile.`,e);o.reject(e)});return o.promise()};this._getTileFromHash=function(e){const t=new jQuery.Deferred;I.getServiceAsync("ClientSideTargetResolution").then(i=>{function o(...e){const t=new jQuery.Deferred;i.resolveTileIntent(...e).then(e=>{t.resolve(e)}).catch(e=>{t.reject(e)});return t.promise()}this._getTileFromHashInContextOfSite(o,this._mCatalogTilePromises,e).done(t.resolve).fail(t.reject)});return t.promise()};this._getTileForUrl=function(e){const t=e.indicatorDataSource?"#Shell-dynamicTile":"#Shell-staticTile";return{tileIntent:"#",tileResolutionResult:{tileComponentLoadInfo:t,isCustomTile:false}}};this._assureGroupItemsResolved=function(e,t){const i=[];let o;let r;if(e.payload&&e.payload.tiles){o=this._assureGroupTilesResolved(e.payload.tiles,t);Array.prototype.push.apply(i,o)}if(e.payload&&e.payload.links){r=this._assureGroupLinksResolved(e.payload.links,t);Array.prototype.push.apply(i,r)}return i};this._assureGroupTilesResolved=function(e,t){return(e||[]).map(function(e,i){return this._resolveGroupTile(e,t).then(e=>{e.isLink=false;return e})},this)};this._assureGroupLinksResolved=function(e,t){return(e||[]).map(function(e){return this._resolveGroupTile(e,t).then(e=>{e.isLink=true;return e})},this)};this._resolveGroupTile=function(e,t){const i=this._mResolvedTiles;const o=this._mFailedResolvedTiles;let r;function n(t){i[e.id]=t;if(o[e.id]){delete o[e.id]}return t}function s(e){const t=e.target;return t&&t.semanticObject==="Shell"&&t.action==="launchURL"}if(i[e.id]){return(new jQuery.Deferred).resolve(i[e.id]).promise()}if(e.target&&e.target.url){r=jQuery.when(this._getTileForUrl(e))}else if(e.isBookmark){r=this._resolveTileByIntent(e,t)}else if(s(e)){r=this._resolveTileByIntent(e,t)}else{r=this._resolveTileByAppId(e,t)}r.done(e=>{n(e)}).fail(t=>{if(t instanceof w){o[e.id]={logLevel:t.details?.logLevel||L.ERROR,message:t.message}}else{o[e.id]={logLevel:L.ERROR,message:t.toString()}}});return r};this._resolveTileByAppId=function(e,t){function i(e,t){const i=new w(t,{logLevel:e});return(new jQuery.Deferred).reject(i).promise()}if(!R(e)){return i(L.ERROR,"Cannot resolve tile: oTile must be an object")}if(!R(t)){return i(L.ERROR,"Cannot resolve tile: oSite must be an object")}const o=e.appId||e.appIDHint;if(!o){return i(L.ERROR,["Cannot resolve tile '",e.id,"': either appId or appIDHint must be specified"].join(""))}const r=t.applications&&t.applications[o];if(!r){return i(L.INFO,["Tile '",e.id,"' filtered from result: no app found for appId '",o,"' (dangling app reference)"].join(""))}const n=this._getFirstInbound(r);if(!n){return i(L.ERROR,["Cannot resolve tile '",e.id,"': app '",o,"' has no navigation inbound"].join(""))}const s=p.mapOne(n.key,n.inbound,r);const a=s.resolutionResult.applicationType;const c=s.resolutionResult.additionalInformation;const d=l.last("/core/navigation/enableInPlaceForClassicUIs");const f=d?d[a]:false;const h=s.tileResolutionResult;h.navigationMode=u.computeNavigationModeForHomepageTiles(a,c,f);h.isLink=false;if(!this._isFormFactorSupported(h)){return i(L.INFO,["Tile '",e.id,"' filtered from result: form factor not supported"].join(""))}const g=this._toHashFromInbound(n.inbound);return jQuery.when({tileResolutionResult:h,tileIntent:g})};this._isFormFactorSupported=function(t){const i=d.getFormFactor();return e.supportsFormFactor(t,i)};this._getFirstInbound=function(e){const t=Object.keys(e["sap.app"].crossNavigation.inbounds).shift();const i=e["sap.app"].crossNavigation.inbounds[t];return{key:t,inbound:i}};this._resolveTileByIntent=function(e,t){const i=this._prepareTileHash(e);return this._getTileFromHash(i)};this._prepareTileHash=function(e){const t={};let i;let o;if(this._isCatalogTile(e)){return e.tileIntent}if(this._isGroupTile(e)&&e.target){o=e.target.parameters||[];o.forEach(e=>{if(e.name&&e.value){t[e.name]=[e.value]}});i={target:{semanticObject:e.target.semanticObject,action:e.target.action},params:t,appSpecificRoute:e.target.appSpecificRoute};return`#${h.constructShellHash(i)}`}return undefined};this._allPromisesDone=function(e){const t=new jQuery.Deferred;let i;if(e.length===0){t.resolve([])}else{const o=e.map(e=>{i=new jQuery.Deferred;e.always(i.resolve.bind(i));return i.promise()});jQuery.when.apply(this,o).done(function(){const e=Array.prototype.slice.call(arguments);t.resolve(e)})}return t.promise()};this._assureLoaded=function(){const i=this;if(this._assureLoadedDeferred){return this._assureLoadedDeferred.promise()}const o=new jQuery.Deferred;this._assureLoadedDeferred=o;I.getServiceAsync("CommonDataModel").then(o=>{o.getSite().done(o=>{if(!i.isSiteSupported(o)){throw new Error("Invalid CDM site version: Check configuration of launchpage adapter and version of FLP site")}let r=[];let n=e.getGroupsArrayFromSite(o);let s=e.getDefaultGroup(n);if(!s){s=t.createDefaultGroup(d.generateUniqueId(e.getGroupIdsFromSite(o)));o=t.addGroupToSite(o,s,0);n=e.getGroupsArrayFromSite(o)}F=s;n.forEach(e=>{r=i._assureGroupItemsResolved(e,o).concat(r)});i._allPromisesDone(r).done(()=>{i._assureLoadedDeferred.resolve(n);delete i._assureLoadedDeferred;i._logTileResolutionFailures(i._mFailedResolvedTiles)})}).fail(e=>{S.error("Delivering homepage groups failed",e);i._assureLoadedDeferred.resolve([]);delete i._assureLoadedDeferred})});return o.promise()};this._logTileResolutionFailures=function(e){const t={};if(!e){return}Object.keys(L).filter(e=>{const t=L[e];return t>=L.FATAL&&t<=L.ALL}).forEach(e=>{t[L[e]]=""});Object.keys(e).forEach(i=>{const o=e[i];if(o.logLevel){t[o.logLevel]=t[o.logLevel].concat(o.message).concat("\n")}});if(t[L.FATAL]){j.fatal(t[L.FATAL])}if(t[L.ERROR]){j.error(t[L.ERROR])}if(t[L.WARNING]){j.warning(t[L.WARNING])}if(t[L.INFO]){j.info(t[L.INFO])}if(t[L.DEBUG]){j.debug(t[L.DEBUG])}if(t[L.TRACE]){j.trace(t[L.TRACE])}};this.getDefaultGroup=function(){const e=new jQuery.Deferred;let t;if(!F){t=this._assureLoaded()}if(t){t.done(()=>{e.resolve(F)}).fail(t=>{S.error("Failed to access default group.",t);e.reject(t)})}else{e.resolve(F)}return e.promise()};this._isValidTitle=function(e){if(typeof e!=="string"||!e){return false}return true};this._isGroupPreset=function(t){return e.isGroupPreset(t)};this._isGroupLocked=function(t){return e.isGroupLocked(t)};this.addGroup=function(i){const o=new jQuery.Deferred;const r=this.oCDMService;let n;const s=this;if(!this._isValidTitle(i)){return o.reject(new Error("No valid group title")).promise()}const l=`Failed to add the group with title '${i}' to the homepage. `;r.getSite().done(l=>{n=d.generateUniqueId(e.getGroupIdsFromSite(l));t.addGroupToSite(l,t.createEmptyGroup(n,i));r.save().done(()=>{delete s._assureLoadedDeferred;o.resolve(l.groups[n],n)}).fail(e=>{o.reject(e)})}).fail(e=>{S.error(l,e);o.reject(e)});return o.promise()};this.getGroupTitle=function(t){return e.getGroupTitle(t)};this.setGroupTitle=function(i,o){const r=this;const n=new jQuery.Deferred;const s=this.oCDMService;if(typeof i!=="object"||!e.getGroupId(i)){return n.reject(new Error("Unexpected group value")).promise()}if(!r._isValidTitle(o)){return n.reject(new Error("Unexpected oGroup title value")).promise()}const l=`Failed to set new title for group with id '${e.getGroupId(i)}'. `;const a=e.getGroupTitle(i);s.getSite().done(e=>{if(i){t.setGroupTitle(i,o)}s.save().done(()=>{n.resolve()}).fail(e=>{S.error("Failed to update the group title",e);n.reject(e,a)})}).fail(e=>{S.error(l,e);n.reject(e,a)});return n.promise()};this.getGroupId=function(t){return e.getGroupId(t)};this.hideGroups=function(i){const o=new jQuery.Deferred;const r=this.oCDMService;let n;if(i&&Array.isArray(i)){n="Failed to hide group. ";r.getSite().done(n=>{e.getGroupsArrayFromSite(n).forEach(o=>{t.setGroupVisibility(o,i&&Array.prototype.indexOf.call(i,e.getGroupId(o))===-1)});r.save().done(()=>{o.resolve()}).fail(e=>{S.error("Hiding of groups did not work as expected",e);o.reject(e)})}).fail(e=>{S.error(n,e);o.reject(e)})}else{o.reject(new Error("Invalid input parameter aHiddenGroupIds. Please pass a valid input parameter."))}return o.promise()};this.isGroupVisible=function(t){return e.isGroupVisible(t)};this.moveGroup=function(i,o){const r=new jQuery.Deferred;const n=this.oCDMService;if(!i||!e.getGroupId(i)||o<0){return r.reject(new Error("Unable to move groups - invalid parameters")).promise()}const s=`Failed to move group with id '${i.identification.id}'. `;n.getSite().done(s=>{const l=e.getGroupIdsFromSite(s);const a=e.getGroupId(i);if(!l){return r.reject(new Error("groupsOrder not found - abort operation of adding a group.")).promise()}else if(l.indexOf(a)===o){return r.resolve()}const u=d.moveElementInsideOfArray(l,l.indexOf(a),o);if(!u){return r.reject(new Error("invalid move group operation - abort.")).promise()}t.setGroupsOrder(s,u);n.save().done(()=>{r.resolve()}).fail(e=>{r.reject(e)});return undefined}).fail(e=>{S.error(s,e);r.reject(e)});return r.promise()};this.removeGroup=function(i){const o=new jQuery.Deferred;const r=this.oCDMService;if(typeof i!=="object"){return o.reject(new Error("invalid group parameter")).promise()}const n=e.getGroupId(i);if(!n){return o.reject(new Error("group without id given")).promise()}const s=`Failed to remove group with id '${n}'. `;r.getSite().done(e=>{t.removeGroupFromSite(e,i);r.save().done(()=>{o.resolve()}).fail(e=>{o.reject(e)})}).fail(e=>{S.error(s,e);o.reject(e)});return o.promise()};this.resetGroup=function(i){const o=new jQuery.Deferred;const r=this.oCDMService;const n=[];const s=this;let l;let a;if(typeof i==="object"&&e.getGroupId(i)){a=e.getGroupId(i);l=`Failed to reset group with id '${a}'. `;r.getSite().done(l=>{v(n,e.getGroupsArrayFromSite(l));if(s.isGroupRemovable(i)===false){r.getGroupFromOriginalSite(a).done(i=>{if(typeof l==="object"&&e.getGroupFromSite(l,a)){t.overwriteGroup(l,i,a)}r.save().done(()=>{o.resolve(i)}).fail(e=>{S.error("Group could not be reset",e);o.reject(e,n)})}).fail(e=>{S.error("Group could not be reset",e);o.reject(e,n)})}else{o.reject(new Error("Group could not be reset as it was created by the user"),n)}}).fail(e=>{S.error(l,e);o.reject(e,[])})}return o.promise()};this.getTileTitle=function(t){return e.getTileTitle(this._mResolvedTiles,t)};this.getTileSubtitle=function(t){return e.getTileSubtitle(this._mResolvedTiles,t)};this.getTileIcon=function(t){return e.getTileIcon(this._mResolvedTiles,t)};this.getTileInfo=function(t){return e.getTileInfo(this._mResolvedTiles,t)};this.getTileIndicatorDataSource=function(e){const t=this._mResolvedTiles[e.id];const i={};if(e.indicatorDataSource){i.indicatorDataSource=v({},e.indicatorDataSource);if(e.dataSource){i.dataSource=v({},e.dataSource)}return i}if(!t){return i}const o=t.tileResolutionResult;if(o.indicatorDataSource){i.indicatorDataSource=v({},o.indicatorDataSource);if(o.indicatorDataSource.hasOwnProperty("dataSource")){const e=o.indicatorDataSource.dataSource;const r=o.dataSources;if(r&&r.hasOwnProperty(e)){i.dataSource=v({},r[e])}else{S.warning(`datasource referenced but not found for tile: ${t.tileIntent}`)}}if(d.getMember(o,"runtimeInformation.componentProperties.url")){const e=d.getMember(i,"indicatorDataSource.path");const t=d.getMember(i,"dataSource.uri");const r=d.getMember(o,"runtimeInformation.componentProperties.url");const n=s(e,t,r,this.getWindowLocationHref());if(!n.error){if(e){i.indicatorDataSource.path=n.uri}if(t){i.dataSource.uri=n.uriParent}}}}return i};this.getWindowLocationHref=function(){return window.location.href};this.isGroupRemovable=function(e){return!this._isGroupPreset(e)};this.isGroupLocked=function(e){return this._isGroupLocked(e)};this.getGroupTiles=function(t){return e.getGroupTiles(t).concat(e.getGroupLinks(t))};this.getLinkTiles=function(t){return e.getGroupLinks(t)};this.getTileType=function(t){if(e.isLink(this._mResolvedTiles,t)){return this.TileType.Link}return this.TileType.Tile};this.getTileId=function(t){return e.getTileId(t)};this.getTileSize=function(t){return e.getTileSize(this._mResolvedTiles,t)||"1x1"};this.getTileTarget=function(t){let i;const o=e.getTileId(t);const r=this._mResolvedTiles[o];let n;if(t.target&&t.target.url){return t.target.url}if(r&&r.tileResolutionResult){i=r.tileResolutionResult;if(i.isCustomTile!==true){return r.tileIntent}if(i&&typeof i.targetOutbound==="object"){n=this._toHashFromOutbound(i.targetOutbound);if(n){return n}}}S.warning(`Could not find a target for Tile with id '${o}'`,"sap.ushell.adapters.cdm.LaunchPageAdapter");return""};this.isLinkPersonalizationSupported=function(e){return true};this.isTileIntentSupported=function(e){return this._mFailedResolvedTiles[e.id]===undefined};this.isTileIntentSupportedAsync=function(e){return Promise.resolve(this.isTileIntentSupported(e))};this._notifyTileAboutRefresh=function(e){if(typeof e.tileRefresh==="function"){e.tileRefresh()}};this.refreshTile=function(e){const t=this._mResolvedTiles[e.id];if(t){if(t.tileComponent){this._notifyTileAboutRefresh(t.tileComponent)}}};this._notifyTileAboutVisibility=function(e,t,i){if(typeof e.tileSetVisible==="function"&&i!==t){e.tileSetVisible(t)}};this.setTileVisible=function(e,t){const i=this._mResolvedTiles[e.id];if(i){if(i.tileComponent){this._notifyTileAboutVisibility(i.tileComponent,t,i.visibility)}i.visibility=t}};this.getTileView=function(e){const t=this;return new jQuery.Deferred(i=>t._getTileView(e,false).then(e=>{i.resolve(e)}).catch(t=>{S.error(`Tile with ID '${e.id}' could not be initialized`,t,e.tileType);i.reject(t)})).promise()};this._getTileUiComponentContainerSync=function(e,t,i){const r=this;let s;let l;let a;let u={};if(i===true){s=r._createTileComponentData(e,true,t)}else{s=r._createTileComponentData(e,false,t)}const d=t.tileResolutionResult;if(t.isLink){l=d.navigationMode;return r._createLinkInstance(e,i,l,o,c)}if(typeof d.tileComponentLoadInfo==="string"){if(s.properties.indicatorDataSource&&s.properties.indicatorDataSource.path){u.name="sap.ushell.components.tiles.cdm.applauncherdynamic"}else{u.name="sap.ushell.components.tiles.cdm.applauncher"}}else if(typeof d.tileComponentLoadInfo==="object"&&d.tileComponentLoadInfo!==null){u=d.tileComponentLoadInfo.componentProperties||{};u.name=d.tileComponentLoadInfo.componentName}u.componentData=s;if(u.manifest){u.componentData.properties=u.componentData.properties||{};u.componentData.properties.manifest=u.manifest}if(u.name){u.async=false;try{a=sap.ui.component(u)}catch(e){S.error(`${e.message}\n-- An error occurred while instantiating `+`the tile component for ${u.name}`,e.stack?e.stack:"","sap.ushell.adapters.cdm.LaunchPageAdapter");return null}const t=new n({component:a,height:"100%"});if(!i){r._mResolvedTiles[e.id].tileComponent=a}return t}return null};this._getTileUiComponentContainer=function(e,t,i){const r=this;let s;let l;let u;let d;const p=new jQuery.Deferred;if(i===true){s=r._createTileComponentData(e,true,t)}else{s=r._createTileComponentData(e,false,t)}const f=t.tileResolutionResult;if(t.isLink){l=f.navigationMode;p.resolve(r._createLinkInstance(e,i,l,o,c));return p.promise()}const h=this._createTileComponentProperties(s,f.tileComponentLoadInfo);if(!h.name){return p.reject(new Error(`Cannot find name of tile component for tile with id: '${e.id}'`)).promise()}if(h.manifest){s.properties=s.properties||{};s.properties.manifest=h.manifest}const g=this.isCustomTile(h.name);function m(t){let o;u=t.componentHandle.getInstance();d=new n({component:u,height:"100%"});if(!i){o=r._mResolvedTiles[e.id];o.tileComponent=u;if(typeof o.visibility==="boolean"){r._notifyTileAboutVisibility(u,o.visibility)}}return d}function T(e){const t=new jQuery.Deferred;e.createComponent({loadCoreExt:g,loadDefaultDependencies:false,componentData:s,url:h.url,applicationConfiguration:{},reservedParameters:{},applicationDependencies:h,ui5ComponentName:h.name},{},[],C.Visualization).then(e=>{const i=m(e);t.resolve(i)}).catch(e=>{t.reject(e)});return t.promise()}function v(){const e={componentData:s,url:h.url,name:h.name,async:false};u=sap.ui.component(e);const t={componentHandle:{getInstance:function(){return u}}};return m(t)}if(g){a.once("CoreResourcesComplementLoaded").do(()=>{I.getServiceAsync("Ui5ComponentLoader").then(e=>{T(e).done(e=>{p.resolve(e)}).fail(e=>{p.reject(e)})})})}else{const e=v();p.resolve(e)}return p.promise()};this._createTileComponentProperties=function(e,t){let i={};if(typeof t==="string"){if(e.properties.indicatorDataSource&&e.properties.indicatorDataSource.path){i.name=P}else{i.name=O}return i}if(typeof t==="object"&&t!==null){i=t.componentProperties||{};i.name=t.componentName}return i};this._getTileView=function(e){let t;const i=new jQuery.Deferred;if(typeof e!=="object"||!e.id){t=`Invalid input parameter passed to _getTileView: ${e}`;S.error(t);return i.reject(new Error(t)).promise()}const o=this._mResolvedTiles[e.id];if(o){return this._getTileUiComponentContainer(e,o,false)}t=`No resolved tile found for tile ID: ${e.id}`;S.error(t);return i.reject(new Error(t)).promise()};this._getCatalogTileView=function(e){if(typeof e!=="object"){throw new Error(e)}return this._getTileUiComponentContainerSync(e,e,true)};this._getCatalogTileViewControl=function(e){const t=new jQuery.Deferred;if(typeof e!=="object"){const i=`Invalid input parameter passed to _getCatalogTileView: ${e}`;S.error(i);return t.reject(new Error(i)).promise()}return this._getTileUiComponentContainer(e,e,true)};this._createTileComponentData=function(e,t,i){const o=t?this.getCatalogTileTitle(e):this.getTileTitle(e);const r=t?this.getCatalogTilePreviewSubtitle(e):this.getTileSubtitle(e);const n=t?this.getCatalogTilePreviewIcon(e):this.getTileIcon(e);const s=t?this.getCatalogTilePreviewInfo(e):this.getTileInfo(e);const l=t?this.getCatalogTileTargetURL(e):this.getTileTarget(e);const a=this.getTileIndicatorDataSource(e);const u={properties:{},startupParameters:{}};if(i.tileResolutionResult.isCustomTile===true&&i.tileResolutionResult.startupParameters){u.startupParameters=i.tileResolutionResult.startupParameters}if(o){u.properties.title=o}if(s){u.properties.info=s}if(r){u.properties.subtitle=r}if(n){u.properties.icon=n}if(l){u.properties.targetURL=l}if(a.indicatorDataSource){u.properties.indicatorDataSource=a.indicatorDataSource;if(a.dataSource){u.properties.dataSource=a.dataSource}}if(i.tileResolutionResult){u.properties.navigationMode=i.tileResolutionResult.navigationMode}return u};this._createLinkInstance=function(e,t,i,o,r){let n;let s;const l=this.getTileSubtitle(e);const a=o;if(t===true){n=this.getCatalogTileTitle(e)}else{n=this.getTileTitle(e)}const u=new a({mode:D.LineMode,subheader:l,header:n,url:f.getLeanURL(this.getTileTarget(e)),press:function(t){this._genericTilePressHandler(e,t)}.bind(this)});if(i){s=r.i18n.getText(`${i}NavigationMode`);u.setAriaLabel(`${s} ${n} ${l}`)}this._mResolvedTiles[e.id].linkTileControl=u;return u};this._genericTilePressHandler=function(e,t){let i;if(t.getSource().getScope&&t.getSource().getScope()==="Display"){i=this.getTileTarget(e);y.emit("UITracer.trace",{reason:"LaunchApp",source:"Tile",data:{targetUrl:i}});if(i){if(i[0]==="#"){hasher.setHash(i)}else{f.openURL(i,"_blank")}}}};function E(e){return Object.keys(e).map(t=>{const i=e[t]&&e[t][0];return{name:t,value:i||""}})}function A(e){const t={semanticObject:e.semanticObject,action:e.action,parameters:E(e.params)};if(e.appSpecificRoute){t.appSpecificRoute=e.appSpecificRoute}return t}this._addTileToSite=function(e,t,i,o){const r=this;const n=new jQuery.Deferred;const s=h.parseShellHash(i.properties.targetURL);const l={id:r.getTileId(i),target:{semanticObject:s.semanticObject,action:s.action,parameters:E(s.params)}};e.groups[t.identification.id].payload.tiles.push(l);o.save().done(()=>{n.resolve(l)}).fail(e=>{n.reject(e)});return n.promise()};function M(e,t,i){t=v({},t);if(i){e.target=i}if(t.title||t.title===""){e.title=t.title}if(t.icon||t.icon===""){e.icon=t.icon}if(t.subtitle||t.subtitle===""){e.subTitle=t.subtitle}if(t.info||t.info===""){e.info=t.info}if(t.dataSource){e.dataSource={};v(e.dataSource,t.dataSource)}if(t.serviceUrl||t.serviceUrl===""){e.indicatorDataSource={path:t.serviceUrl}}if(e.indicatorDataSource&&(t.serviceRefreshInterval||t.serviceRefreshInterval===0)){e.indicatorDataSource.refresh=t.serviceRefreshInterval}}function H(e,t){const i={id:d.generateUniqueId([])};M(i,e,t);return i}function U(e,t){const i=H(e,t);i.isBookmark=true;return i}this.addTile=function(e,t){const i=new jQuery.Deferred;const o=this.oCDMService;if(!t){t=F}const r=H();r.appId=e.tileResolutionResult.appId;this._mResolvedTiles[r.id]={tileIntent:e.tileIntent,tileResolutionResult:e.tileResolutionResult,isLink:false};o.getSite().done(e=>{e.groups[t.identification.id].payload.tiles.push(r);o.save().done(()=>{i.resolve(r)}).fail(e=>{i.reject(e)})}).fail(e=>{S.error(`Failed to add tile with id '${r.id}' to group with id '${t.identification.id}'. `,e);i.reject(e)});return i.promise()};this.removeTile=function(e,t,i){const o=this.oCDMService;const r=new jQuery.Deferred;const n=this;if(!e||typeof e!=="object"||!e.identification||!e.identification.id||!t||typeof t!=="object"||!t.id){return r.reject(new Error("Failed to remove tile. No valid input parameters passed to removeTile method."),{}).promise()}const s=`Failed to remove tile with id '${t.id}' from group with id '${e.identification.id}'. `;o.getSite().done(l=>{let a;i=+i;try{a=l.groups[e.identification.id].payload}catch(t){S.error(s,t);r.reject(t,l.groups[e.identification.id])}const u=n.getTileType(t)===n.TileType.Link?"links":"tiles";if(n.getTileType(t)===n.TileType.Link){i-=a.tiles.length}if(i>=0){a[u].splice(i,1)}else{a[u]=a[u].filter(e=>e.id!==t.id)}o.save().done(()=>{r.resolve()}).fail(t=>{S.error("Failed to remove tile",t);r.reject(t,l.groups[e.identification.id])})}).fail(e=>{S.error(s,e);r.reject(e,{})});return r.promise()};this.moveTile=function(e,t,i,o,r,n){const s=new jQuery.Deferred;const l=this.oCDMService;const a=this;if(!e||_(e)||t===undefined||t<0||i===undefined||i<0||!o||!o.identification||!o.identification.id||!r||!r.identification||!r.identification.id){return s.reject(new Error("Invalid input parameters")).promise()}const u=`Failed to move tile with id '${e.id}'. `;l.getSite().done(c=>{let d;const p=a.getTileType(e)===a.TileType.Link?"links":"tiles";if(!n){n=a._mResolvedTiles[e.id].isLink?"link":"tile"}const f=n==="link"?"links":"tiles";if(p!==f&&a._mResolvedTiles[e.id]){a._mResolvedTiles[e.id].isLink=n==="link"}if(f==="links"){i-=c.groups[r.identification.id].payload.tiles.length}if(p==="links"){t-=c.groups[o.identification.id].payload.tiles.length}if(o.identification.id===r.identification.id){if(t!==i||p!==f){d=c.groups[r.identification.id].payload;d[p].splice(t,1);d[f].splice(i,0,e)}else{return s.resolve(e).promise()}}else{c.groups[o.identification.id].payload[p].splice(t,1);c.groups[r.identification.id].payload[f].splice(i,0,e)}l.save().done(()=>{s.resolve(e)}).fail(e=>{S.error(u,e);s.reject(e)});return undefined}).fail(e=>{S.error(u,e);s.reject(e)});return s.promise()};this._compareCatalogs=function(e,t){if(e.identification.id>t.identification.id){return 1}return-1};this.getCatalogs=function(){const e=this;const t=new jQuery.Deferred;const i=[];function o(e,t,i,o){const r=e.catalogs[t];i.push(r);o.notify(r)}I.getServiceAsync("CommonDataModel").then(r=>{r.getSite().done(r=>{Object.keys(r.catalogs).forEach(e=>{o(r,e,i,t)});t.resolve(i.sort(e._compareCatalogs))})}).catch(t.reject);return t.promise()};this._isStartableInbound=function(e){const t=["Shell-plugin","Shell-bootConfig"];if(!e.semanticObject||!e.action){return false}if(t.indexOf(`${e.semanticObject}-${e.action}`)>-1){return false}if(!b.get("signature.parameters",e)){return true}const i=Object.keys(e.signature.parameters).every(t=>!e.signature.parameters[t].filter||(!!e.signature.parameters[t].launcherValue||t==="sap-external-url"));return i};this._isHiddenInbound=function(e){return!!e.hideLauncher};this._toHashFromInbound=function(e){const t=p.toHashFromInbound(e);if(!t){return undefined}return`#${t}`};this._getExternalUrlFromInbound=function(e){return b.get("signature.parameters.sap-external-url.launcherValue.value",e)||null};this._toHashFromOutbound=function(e){const t=p.toHashFromOutbound(e);if(!t){return undefined}return`#${t}`};this._isCustomTile=function(e){if(d.getMember(e,"sap|flp.type")==="tile"){return true}return false};function V(e,t){const i=this;const o=new jQuery.Deferred;setTimeout(()=>{const r=(e.payload&&e.payload.appDescriptors||[]).reduce((e,o)=>{const r=t.applications[o.id];let n;let s;let a;let c;let d;let f;let h;if(!r){return e}const g=i._getMember(r,"sap|app.crossNavigation.inbounds");if(!g||Object.keys(g).length===0){return e}const m=Object.keys(g)[0];const T=g[m];if(i._isStartableInbound(T)&&!i._isHiddenInbound(T)){const t=p.mapOne(m,T,r);if(!t||!t.tileResolutionResult){return e}c=t.resolutionResult.applicationType;h=l.last("/core/navigation/enableInPlaceForClassicUIs");f=h?h[c]:false;d=t.resolutionResult.additionalInformation;t.tileResolutionResult.navigationMode=u.computeNavigationModeForHomepageTiles(c,d,f);s=t.tileResolutionResult;n=i._toHashFromInbound(T);a={id:n,tileIntent:n,tileResolutionResult:s,isCatalogTile:true};e.push(a)}return e},[]);o.resolve(r)},0);return o.promise()}this.getCatalogTiles=function(e){const t=this;const i=new jQuery.Deferred;if(typeof e!=="object"||e===null){return i.reject(new Error(`Invalid input parameter '${e}' passed to getCatalogTiles.`)).promise()}t.oCDMService.getSite().done(o=>{V.call(t,e,o).done(i.resolve).fail(i.reject)}).fail(e=>{S.error("Failed to get site",e);i.reject(e)});return i.promise()};this.isCustomTile=function(e){return!(e===O||e===P)};this.getCatalogError=function(e){if(e.error){return e.error}return undefined};this.getCatalogId=function(e){return i.getCatalogId(e)};this.getCatalogTitle=function(e){return i.getCatalogTitle(e)};this._isGroupTile=function(t){return e.isGroupTile(t)};this._isCatalogTile=function(e){return!!(e&&e.isCatalogTile)};this._isFailedGroupTile=function(t){return!!(t&&this._mFailedResolvedTiles&&this._mFailedResolvedTiles[e.getTileId(t)])};this._isFailedCatalogTile=function(t){return!!(t&&this._mFailedResolvedCatalogTiles&&this._mFailedResolvedCatalogTiles[e.getTileId(t)])};this.getCatalogTileId=function(t){if(this._isGroupTile(t)){if(this._isFailedGroupTile(t)){return undefined}if(t.isBookmark&&b.get("target.url",t)){return t.target.url}return(this._mResolvedTiles[e.getTileId(t)]||{}).tileIntent}if(this._isCatalogTile(t)){return t.id}return undefined};this.getCatalogTileTitle=function(e){if(this._isGroupTile(e)){if(this._isFailedGroupTile(e)){return""}return this._mResolvedTiles[e.id].tileResolutionResult.title}if(this._isCatalogTile(e)){if(this._isFailedCatalogTile(e)){return undefined}return e.tileResolutionResult.title}return undefined};this.getCatalogTileSize=function(e){return e.tileResolutionResult.size||"1x1"};this.getCatalogTileView=function(e){return this._getCatalogTileView(e)};this.getCatalogTileViewControl=function(e){return this._getCatalogTileViewControl(e)};this.getCatalogTileTargetURL=function(e){if(!e){throw new Error("The given tile is falsy")}if(this._isCatalogTile(e)){if(e.tileResolutionResult&&e.tileResolutionResult.isCustomTile){if(!e.tileResolutionResult.targetOutbound){return""}return this._toHashFromOutbound(e.tileResolutionResult.targetOutbound)}return e.tileIntent||""}return this.getTileTarget(e)};this.getCatalogTilePreviewTitle=function(e){if(this._isGroupTile(e)){return this.getTileTitle(e)}return e.tileResolutionResult&&e.tileResolutionResult.title||""};this.getCatalogTilePreviewSubtitle=function(e){if(this._isGroupTile(e)){return this.getTileSubtitle(e)}return e.tileResolutionResult&&e.tileResolutionResult.subTitle||""};this.getCatalogTilePreviewIcon=function(e){if(this._isGroupTile(e)){return this.getTileIcon(e)}return e.tileResolutionResult&&e.tileResolutionResult.icon||""};this.getCatalogTilePreviewInfo=function(e){if(this._isGroupTile(e)){return this.getTileInfo(e)}return e.tileResolutionResult&&e.tileResolutionResult.info||""};this.getCatalogTileKeywords=function(e){const t=[];let i=e;if(!i){S.error("Could not find the Tile","sap.ushell.adapters.cdm.LaunchPageAdapter");return t}if(this._mResolvedTiles&&this._mResolvedTiles[e.id]){i=this._mResolvedTiles[e.id]}if(i&&i.tileResolutionResult&&i.tileResolutionResult.title){t.push(i.tileResolutionResult.title)}if(i&&i.tileResolutionResult&&i.tileResolutionResult.subTitle){t.push(i.tileResolutionResult.subTitle)}return t};function $(e){return{url:e}}function x(e){return e.map(e=>e.name+e.value).sort().join()}function N(e,t){let i;let o;e=e||[];t=t||[];if(e.length===t.length){i=x(e);o=x(t);return i===o}return false}function B(e,t){if(e&&t){if(e.url){return e.url===t.url}return e.semanticObject===t.semanticObject&&e.action===t.action&&N(e.parameters,t.parameters)&&e.appSpecificRoute===t.appSpecificRoute}return e===t}this._visitBookmarks=function(e,t){const i=this.oCDMService;let o;const r=h.parseShellHash(e);if(r){o=A(r)}else{o=$(e)}return i.getSite().then(e=>{const i=e.groups;const r=Object.keys(i).filter(e=>!i[e].payload.locked).map(e=>i[e].payload.tiles.filter(e=>e.isBookmark&&B(o,e.target))).reduce((e,t)=>{Array.prototype.push.apply(e,t);return e},[]);if(!t){return r.length}return jQuery.when(r.map(t)).then(()=>r.length)})};this.addBookmark=function(e,t){const i=this;return new jQuery.Deferred(o=>{const r=i.oCDMService;jQuery.when(t||i.getDefaultGroup(),r.getSite()).done((t,n)=>{let s;const l=h.parseShellHash(e.url);let a;let u=false;if(!l){s=$(e.url);u=true}else{s=A(l)}const c=U(e,s);if(u){a=new jQuery.Deferred;a.resolve(i._getTileForUrl(c))}else{a=i._getTileFromHash(e.url)}a.done(e=>{e.isLink=false;i._mResolvedTiles[c.id]=e;n.groups[t.identification.id].payload.tiles.push(c);r.save().done(()=>{o.resolve(c)}).fail(e=>{o.reject(e)})}).fail(e=>{S.error("Bookmark creation failed because:",e);o.reject(e)})}).fail(e=>{o.reject(e)})}).promise()};this.countBookmarks=function(e){return this._visitBookmarks(e)};this.updateBookmarks=function(e,t){const i=this.oCDMService;const o=this._mResolvedTiles;function r(i){return new jQuery.Deferred(r=>{let n;let s;let l;let a=false;const u={};if(t.url||t.url===""){n=h.parseShellHash(t.url);if(!n){s=$(t.url)}else{s=A(n)}}if(i.icon!==t.icon){u.icon=t.icon;a=true}if(i.title!==t.title){u.title=t.title;a=true}if(i.subTitle!==t.subtitle){u.subtitle=t.subtitle;a=true}if(t.url&&e!==t.url){u.targetURL=t.url;a=true}if(i.info!==t.info){u.info=t.info;a=true}M(i,t,s);if(a&&o[i.id]){l=o[i.id].tileComponent;if(l){l.tileSetVisualProperties(u)}}r.resolve(i)}).promise()}return this._visitBookmarks(e,r).then(e=>i.save().then(()=>e))};this.deleteBookmarks=function(e){const t=this.oCDMService;const i=h.parseShellHash(e);let o;if(i){o=A(i)}else{o=$(e)}return t.getSite().then(e=>{const i=e.groups;const r=Object.keys(i).map(e=>{const t=i[e].payload;let r=0;t.tiles=t.tiles.filter(e=>{if(e.isBookmark&&B(o,e.target)){++r;return false}return true});return r}).reduce((e,t)=>{e+=t;return e},0);return t.save().then(()=>r)})};this.onCatalogTileAdded=function(e){};this._onTileSettingsSave=function(e,t){const i=new jQuery.Deferred;if(!e||!e.id||!t){return i.reject(new Error("Invalid tile or settings view")).promise()}const o=t.oTitleInput.getValue();const r=t.oSubTitleInput.getValue();const n=t.oInfoInput.getValue();const s=this.getTileTitle(e);const l=this.getTileInfo(e);const a=this.getTileSubtitle(e);if(s===o&&a===r&&l===n){return i.resolve().promise()}const u={};if(s!==o){u.title=o;e.title=o}if(a!==r){u.subtitle=r;e.subTitle=r}if(l!==n){u.info=n;e.info=n}if(this._mResolvedTiles[e.id].tileComponent){this._mResolvedTiles[e.id].tileComponent.tileSetVisualProperties(u)}else if(this._mResolvedTiles[e.id].linkTileControl){if(u.title){this._mResolvedTiles[e.id].linkTileControl.setHeader(u.title)}if(u.subtitle){this._mResolvedTiles[e.id].linkTileControl.setSubheader(u.subtitle)}if(u.title||u.subtitle){this._mResolvedTiles[e.id].linkTileControl.rerender()}}I.getServiceAsync("CommonDataModel").then(e=>{e.save().fail(e=>{S.error("Could not save personalization changes:",e);i.reject(e)}).done(()=>{i.resolve()})});return i.promise()};this.getTileActions=function(e){const t=[];let i;let o;if(this._isGroupTile(e)&&!this._isFailedGroupTile(e)){o=new T({config:{display_title_text:this.getTileTitle(e),display_subtitle_text:this.getTileSubtitle(e),display_info_text:this.getTileInfo(e)}});i=g.getTileSettingsAction(o,this._onTileSettingsSave.bind(this,e),this.getTileType(e));t.push(i)}return t}}G.prototype._getMember=function(e,t){return d.getMember(e,t)};return G},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/MenuAdapter", ["sap/ushell/library","sap/ushell/Config","sap/ushell/Container"],(e,t,n)=>{"use strict";const r=e.ContentNodeType;function i(){}i.prototype.isMenuEnabled=function(){if(!t.last("/core/menu/enabled")){return Promise.resolve(false)}return n.getServiceAsync("CommonDataModel").then(e=>e.getMenuEntries("main").then(e=>e.length>0))};i.prototype.getMenuEntries=function(){return n.getServiceAsync("CommonDataModel").then(e=>e.getMenuEntries("main"))};i.prototype.getContentNodes=function(){return this.getMenuEntries().then(this._normalizeMenuEntries.bind(this)).then(this._buildContentNodes.bind(this))};i.prototype._normalizeMenuEntries=function(e){const t=[];return n.getServiceAsync("CommonDataModel").then(n=>{e.forEach(e=>{if(this._isSpaceOrPage(e)&&e.menuEntries===undefined){const r=e.target.parameters.find(e=>e.name==="pageId");const i=r&&r.value;e.menuEntries=[{title:i,type:"IBN",target:e.target}];t.push(n.getPage(i).then(t=>{e.menuEntries[0].title=t.identification.title}))}});return Promise.allSettled(t)}).then(()=>e)};i.prototype._buildContentNodes=function(e){return e.filter(this._isSpaceOrPage).map(e=>{const t=e.target.parameters.find(e=>e.name==="spaceId").value;const n={id:t,label:e.title,type:r.Space,isContainer:false};n.children=e.menuEntries.filter(this._isSpaceOrPage).map(e=>{const t=e.target.parameters.find(e=>e.name==="pageId");const n=t&&t.value;if(!n){return null}return{id:n,label:e.title,type:r.Page,isContainer:true,children:[]}}).filter(e=>!!e);return n})};i.prototype._isSpaceOrPage=function(e){return e.type==="IBN"&&e.target&&e.target.semanticObject==="Launchpad"&&e.target.action==="openFLPPage"&&Array.isArray(e.target.parameters)};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/PagesCommonDataModelAdapter", ["sap/base/Log","sap/base/util/deepExtend","sap/ushell/adapters/cdm/util/cdmSiteUtils","sap/base/util/extend","sap/base/util/Version","sap/ui/thirdparty/jquery","sap/ushell/Config","sap/ushell/Container"],(e,t,i,s,n,jQuery,o,a)=>{"use strict";function r(){this._oCDMPagesRequests={};this._oUnstableVisualizations={};this._sComponent="sap.ushell.adapters.cdm.PagesCommonDataModelAdapter";this.oSitePromise=new Promise((e,t)=>{this.fnSiteResolve=e;this.fnSiteReject=t})}r.prototype.getSite=function(){const e=new jQuery.Deferred;a.getServiceAsync("NavigationDataProvider").then(e=>e.getNavigationData()).then(e=>{const s={};const n=e.inbounds;for(let e=0;e<n.length;e++){const t=n[e].permanentKey||n[e].id;s[t]=n[e]}const o={_version:"3.1.0",site:{},catalogs:{},groups:{},visualizations:{},applications:i.getApplications(s),vizTypes:{},systemAliases:t({},e.systemAliases),pages:{}};this.fnSiteResolve(o);return o}).then(e.resolve).catch(t=>{e.reject(t);this.fnSiteReject(t)});return e.promise()};r.prototype.getPage=async function(t){if(!t){const t="PagesCommonDataModelAdapter: getPage was called without a pageId";e.fatal(t,null,this._sComponent);throw new Error(t)}return this.oSitePromise.then(i=>{if(i.pages[t]){return i.pages[t]}return Promise.all([a.getServiceAsync("PagePersistence"),a.getServiceAsync("NavigationDataProvider")]).then(e=>{const i=e[0];const s=e[1];return Promise.all([i.getPage(t),s.getNavigationData()])}).then(e=>{const t=e[0];const s=e[1];this._addVisualizationsToSite(i,t.visualizations);this._addVizTypesToSite(i,t);this._addPageToSite(i,t.page,s);this._storeUnstableVisualizations(t.page.id,t.unstableVisualizations);return i.pages[t.page.id]}).catch(t=>{e.fatal("PagesCommonDataModelAdapter encountered an error while fetching required services: ",t,this._sComponent);throw t})})};r.prototype._storeUnstableVisualizations=function(e,t){if(!t){return}this._oUnstableVisualizations[e]=t};r.prototype._addVizTypesToSite=function(e,t){const n={};Object.keys(t.vizTypes).forEach(i=>{if(!e.vizTypes[i]){n[i]=t.vizTypes[i]}});s(e.vizTypes,i.getVizTypes(n))};r.prototype._addVisualizationsToSite=function(e,t,n){let o;if(n){o={};Object.keys(t).forEach(i=>{if(!e.visualizations[i]){o[i]=t[i]}})}else{o=t}s(e.visualizations,i.getVisualizations(o))};r.prototype._addPageToSite=function(t,i,s){const n={};const o=s.inbounds;for(let e=0;e<o.length;e++){const t=o[e].permanentKey||o[e].id;n[t]=o[e]}const a=t.pages[i.id]={identification:{id:i.id,title:i.title},payload:{layout:{sectionOrder:i.sections.map(e=>e.id)},sections:{}}};let r;let l;for(let s=0;s<i.sections.length;s++){r=i.sections[s];l=a.payload.sections[r.id]={id:r.id,title:r.title,layout:{vizOrder:r.viz.map(e=>e.id)},viz:{}};let n;let o;for(let i=0;i<r.viz.length;i++){n=r.viz[i];o=!t.visualizations[n.vizId];if(o){const t=l.layout.vizOrder;t.splice(t.indexOf(n.id),1);if(o){e.error(`Tile '${n.id}' with vizId '${n.vizId}' has no matching visualization. As the tile cannot be used to start an app it is removed from the page.`,null,this._sComponent)}continue}l.viz[n.id]={id:n.id,vizId:n.vizId,displayFormatHint:n.displayFormatHint}}}};r.prototype.getPages=async function(t){if(!(t&&Array.isArray(t)&&t.length!==0)){const t="PagesCommonDataModelAdapter: getPages is not an array or does not contain any Page id";e.fatal(t,null,this._sComponent);throw new Error(t)}return this.oSitePromise.then(i=>{let s;const n=[];for(let e=0;e<t.length;e++){s=t[e];if(!i.pages[s]){n.push(t[e])}}if(n.length===0){return i.pages}return Promise.all([a.getServiceAsync("PagePersistence"),a.getServiceAsync("NavigationDataProvider")]).then(e=>{const t=e[0];const i=e[1];return Promise.all([t.getPages(n),i.getNavigationData()])}).then(e=>{const t=e[0];const s=e[1];for(let e=0;e<t.length;e++){this._addVisualizationsToSite(i,t[e].visualizations,true);this._addVizTypesToSite(i,t[e]);this._addPageToSite(i,t[e].page,s);this._storeUnstableVisualizations(t[e].page.id,t[e].unstableVisualizations)}return i.pages}).catch(t=>{e.fatal("PagesCommonDataModelAdapter encountered an error while fetching required services: ",t,this._sComponent);throw t})}).then(e=>{const i={};t.forEach(t=>{const s=e[t];if(s){i[t]=s}});return i})};r.prototype.getPersonalization=function(t){const i=new jQuery.Deferred;a.getServiceAsync("PersonalizationV2").then(async s=>{let o;const a=new n(t);o={container:"sap.ushell.cdm.personalization",item:"data"};if(a.inRange("3.1.0","4.0.0")){o={container:"sap.ushell.cdm3-1.personalization",item:"data"}}const r={validity:"Infinity",keyCategory:s.KeyCategory.GENERATED_KEY,writeFrequency:s.WriteFrequency.HIGH,clientStorageAllowed:false};const l=await s.getPersonalizer(o,r);l.getPersData().then(e=>{i.resolve(e||{})}).catch(t=>{e.error("Could not load page personalization",t,this._sComponent);i.reject(t)})}).catch(t=>{e.error("Personalization Service could not be loaded",t,this._sComponent);i.reject(t)});return i.promise()};r.prototype.setPersonalization=function(t){const i=new jQuery.Deferred;a.getServiceAsync("PersonalizationV2").then(async e=>{let s;const o=new n(t.version);s={container:"sap.ushell.cdm.personalization",item:"data"};if(o.inRange("3.1.0","4.0.0")){s={container:"sap.ushell.cdm3-1.personalization",item:"data"}}const a={validity:"Infinity",keyCategory:e.KeyCategory.GENERATED_KEY,writeFrequency:e.WriteFrequency.HIGH,clientStorageAllowed:false};const r=await e.getPersonalizer(s,a);r.setPersData(t).then(()=>{i.resolve(t)}).catch(e=>{i.reject(e)})}).catch(t=>{e.error("Personalization Service could not be loaded",t,this._sComponent);i.reject(t)});return i.promise()};r.prototype.getVisualizations=function(){return a.getServiceAsync("VisualizationDataProvider").then(e=>Promise.all([e.getVisualizationData(),this.oSitePromise]).then(e=>{const t=e[0];const i=e[1];this._addVisualizationsToSite(i,t.visualizations);return i.visualizations}))};r.prototype.getVizTypes=function(){return a.getServiceAsync("VisualizationDataProvider").then(e=>Promise.all([e.getVisualizationData(),this.oSitePromise]).then(e=>{const t=e[0];const i=e[1];this._addVizTypesToSite(i,t);return i.vizTypes}))};r.prototype.getVizType=function(e){return this.oSitePromise.then(t=>{const n=t.vizTypes[e];if(n){return n}if(!e.startsWith("X-SAP-UI2-CHIP:")){return}return a.getServiceAsync("VisualizationDataProvider").then(t=>t.loadVizType(e)).then(n=>{if(!n){return}const o={};o[e]=n;s(t.vizTypes,i.getVizTypes(o));return t.vizTypes[e]})})};r.prototype.getCachedVisualizations=function(){return this.oSitePromise.then(e=>e.visualizations)};r.prototype.getCachedVizTypes=function(){return this.oSitePromise.then(e=>e.vizTypes)};r.prototype.migratePersonalizedPages=function(e){const t=[];e.forEach(e=>{const i=e.identification.id;const s=this._oUnstableVisualizations[i];if(!s){return}Object.keys(e.payload.sections).forEach(n=>{const o=e.payload.sections[n];Object.keys(o.viz).forEach(e=>{const n=o.viz[e];const a=s[n.vizId];if(a){n.vizId=a.vizId;if(!t.includes(i)){t.push(i)}}})});this._oUnstableVisualizations[i]=null});return Promise.resolve(t)};return r},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/PersonalizationAdapter", ["sap/ushell/adapters/cdm/_Personalization/internals","sap/ushell/utils/HttpClient"],(l,e)=>{"use strict";return l.PersonalizationAdapter.bind(null,e,null)},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/PersonalizationV2Adapter", ["./PersonalizationAdapter"],e=>{"use strict";return e},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/Settings/UserLanguageAndRegion/UserLanguageAndRegion.controller", ["sap/base/Log","sap/base/i18n/Formatting","sap/ui/core/Locale","sap/ui/core/LocaleData","sap/ui/core/format/DateFormat","sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ui/performance/Measurement","sap/ushell/Container","sap/ui/core/format/NumberFormat","sap/base/i18n/Localization","sap/ushell/resources"],(e,t,a,n,s,g,o,r,i,u,l,c)=>{"use strict";return g.extend("sap.ushell.adapters.cdm.Settings.UserLanguageAndRegion.UserLanguageAndRegion",{onInit:function(){this.oUser=i.getUser();const e=new a(t.getLanguageTag());const n=i.getRendererInternal("fiori2").getShellConfig().enableSetLanguage||false;const s=this.oUser.isLanguagePersonalized();const{sTimeFormat:g,sExampleDate:r,sDecimalFormat:u,sWorkWeek:l,sTimeZone:c}=this._getParsedLocaleProperties(e);const d=new o({languageList:null,selectedLanguage:this.oUser.getLanguage(),selectedLanguageText:this.oUser.getLanguageText(),selectedDateFormat:r,selectedTimeFormat:g,selectedDecimalFormat:u,selectedTimeZone:c,isLanguagePersonalized:s,selectedWorkWeek:l});if(n){this.getView().setBusy(true);this._loadLanguagesList().then(e=>{if(e?.length>1){d.setProperty("/languageList",e);if(!s){const t=e.some(e=>e.key==="default");if(t){d.setProperty("/selectedLanguage","default")}}}this.getView().setBusy(false)})}this.oView.setModel(d)},_loadLanguagesList:function(){r.start("FLP:UserLanguageAndRegion._getLanguagesList","_getLanguagesList","FLP");return i.getServiceAsync("UserInfo").then(t=>new Promise(a=>{r.start("FLP:UserLanguageAndRegion._getLanguagesList","_getLanguagesList","FLP");t.getLanguageList().done(e=>{r.end("FLP:UserLanguageAndRegion._getLanguagesList");a(e)}).fail(t=>{r.end("FLP:UserLanguageAndRegion._getLanguagesList");e.error("Failed to load language list.",t,"sap.ushell.components.ushell.settings.UserLanguageAndRegion.UserLanguageAndRegion.controller");a(null)})}))},_resetLanguage:function(){const e=this.oUser.getLanguage();const t=this.getView().getModel();const a=t.getData();const n=a.isLanguagePersonalized?e:"default";t.setProperty("/selectedLanguage",n);this._updateTextFields(n)},onCancel:function(){const e=this.getView().getModel();const t=e.getData();const a=t.languageList;if(a&&a.length>0){this._resetLanguage()}},onSaveSuccess:function(t){const a={refresh:true};e.debug("[000] onSaveSuccess: oUser.resetChangedPropertyLanguage:","UserLanguageAndRegion.controller");t.resetChangedProperty("language");a.obsoleteUrlParams=["sap-language"];a.clearSapUserContextCookie=true;return a},onSave:function(t){const a=this.oUser;const n=this.getView().getModel().getData();const s=n.selectedLanguage;const g=a.getLanguage();const o=s&&s!==(n.isLanguagePersonalized?g:"default");const r=n.languageList&&n.languageList.length>0&&o;e.debug("[000] UserLanguageAndRegion:onSave:bUpdateLanguage:",r,"UserLanguageAndRegion.controller");if(r){e.debug("[000] UserLanguageAndRegion:onSave:UserInfo: oUser.setLanguage:",s,"UserLanguageAndRegion.controller");a.setLanguage(s);return t().then(()=>{e.debug("[000] onSave:fnUpdateUserPreferences","UserLanguageAndRegion.controller");return this.onSaveSuccess(a)}).catch(t=>{e.debug("[000] onSave:catch:errorMessage",t,"UserLanguageAndRegion.controller");a.setLanguage(g);a.resetChangedProperty("language");this._updateTextFields(g);e.error("Failed to save Language and Region Settings",t,"sap.ushell.adapters.cdm.Settings.cdmUserLanguageRegion.UserLanguageAndRegion.controller");throw t})}this._resetLanguage();return Promise.resolve()},_handleLanguageSelectChange:function(e){const t=e.getSource().getSelectedKey();if(t){this._updateTextFields(t)}},_updateTextFields:function(e){t.setLanguageTag(e);const n=new a(e);const{sTimeFormat:s,sExampleDate:g,sDecimalFormat:o,sWorkWeek:r,sTimeZone:i}=this._getParsedLocaleProperties(n);const u=this.getView().getModel();u.setProperty("/selectedTimeFormat",s);u.setProperty("/selectedDateFormat",g);u.setProperty("/selectedDecimalFormat",o);u.setProperty("/selectedWorkWeek",r);u.setProperty("/selectedTimeZone",i)},_getParsedLocaleProperties:function(e){const t=n.getInstance(e);const a=t.getDatePattern("medium");const g=t.getTimePattern("medium");const o=s.getDateInstance({pattern:a});const r=t.getDecimalPattern();const i=u.getInstance({pattern:r});const d=t.getWeekendStart();const L=t.getWeekendEnd();const m=t.getDaysStandAlone("wide").filter((e,t)=>t!==d&&t!==L);return{sTimeFormat:g.indexOf("H")===-1?c.i18n.getText("fld12h"):c.i18n.getText("fld24h"),sExampleDate:o.format(new Date),sDecimalFormat:i.format(1000.2),sWorkWeek:`${m[0]} - ${m[m.length-1]}`,sTimeZone:l.getTimezone()}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/Settings/UserLanguageAndRegion/UserLanguageAndRegionEntry", ["sap/base/Log","sap/ui/core/mvc/XMLView","sap/ushell/resources","sap/ushell/Container"],(e,n,t,a)=>{"use strict";function i(){let i;const r={id:"language",entryHelpID:"language",title:t.i18n.getText("languageAndRegionTit"),valueResult:null,contentResult:null,icon:"sap-icon://map",valueArgument:function(){let e=a.getUser().getLanguageText();if(e.indexOf("-")>-1){e=e.replace("-"," (").concat(")")}return Promise.resolve(e)},contentFunc:function(){return n.create({id:"userLanguageAndRegion",viewName:"sap.ushell.adapters.cdm.Settings.UserLanguageAndRegion.UserLanguageAndRegion"}).then(e=>{i=e;return i})},onSave:function(n){if(i){return i.getController().onSave(n)}e.warning("Save operation for language settings was not executed, because the userLanguageAndRegion view was not initialized");return Promise.resolve()},onCancel:function(){if(i){i.getController().onCancel();return}e.warning("Cancel operation for language settings was not executed, because the userLanguageAndRegion view was not initialized")}};return r}return{getEntry:i}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/Ui5ComponentLoaderAdapter", [],()=>{"use strict";function e(){}return e},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/_LaunchPage/modifyHome", ["sap/ushell/adapters/cdm/_LaunchPage/readHome"],e=>{"use strict";function i(e,i,t){const r={identification:{id:e,namespace:"",title:i},payload:{isPreset:false,locked:false,tiles:[],links:[],groups:[]}};if(t){r.payload.isDefaultGroup=true}return r}function t(e){return i(e,"Home",true)}function r(i,t,r){const o=e.getGroupId(t);i.groups[o]=t;if(r!==undefined){i.site.payload.groupsOrder.splice(r,0,o)}else{i.site.payload.groupsOrder.push(o)}return i}function o(e,i,t){if(e&&e.groups&&e.groups[t]){e.groups[t]=i}return e}function s(e,i){if(e&&e.groups&&e.groups[i.identification.id]){delete e.groups[i.identification.id]}if(e&&e.site&&e.site.payload&&e.site.payload.groupsOrder){e.site.payload.groupsOrder=e.site.payload.groupsOrder.filter(e=>e!==i.identification.id)}return e}function u(e,i){e.site.payload.groupsOrder=i;return e}function n(e,i){e.identification.title=i}function a(e,i){if(i){delete e.identification.isVisible}else{e.identification.isVisible=false}}return{createDefaultGroup:t,createEmptyGroup:i,addGroupToSite:r,overwriteGroup:o,removeGroupFromSite:s,setGroupsOrder:u,setGroupTitle:n,setGroupVisibility:a}},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/_LaunchPage/readCatalogs", [],()=>{"use strict";function t(t){return t.identification.id}function i(t){return t.identification.title}return{getCatalogId:t,getCatalogTitle:i}},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/_LaunchPage/readHome", ["sap/ushell/utils/type"],i=>{"use strict";function t(i){const t=[];i.site.payload.groupsOrder.forEach((e,n)=>{const r=i.groups[e];if(r){r.payload=r.payload||{};t.push(r)}});return t}function e(i){return i.groups}function n(i){return i.site.payload.groupsOrder}function r(i,t){return i.groups[t]}function o(i){const t=i.filter(i=>i.payload.hasOwnProperty("isDefaultGroup"));if(t.length>0){return t[0]}return undefined}function u(i){return i.identification&&i.identification.id}function s(i){return i.identification.title}function l(i){if(!i.payload.hasOwnProperty("isPreset")){return true}return!!i.payload.isPreset}function a(i){return!!i.payload.locked}function f(i){return!!(i.identification.isVisible===undefined||i.identification.isVisible===true)}function d(t){if(t.payload.tiles&&i.isArray(t.payload.tiles)&&t.payload.tiles.length>0){return t.payload.tiles}return[]}function c(t){if(t.payload.links&&i.isArray(t.payload.links)&&t.payload.links.length>0){return t.payload.links}return[]}function p(i){return i.id}function g(i,t){if(t&&t.isBookmark){return t.title}const e=i[t.id];if(e){return t.title||e.tileResolutionResult.title}return undefined}function y(i,t){if(t.isBookmark){return t.subTitle}const e=i[t.id];if(e){return t.subTitle||e.tileResolutionResult.subTitle}return undefined}function k(i,t){if(t.isBookmark){return t.info}const e=i[t.id];return t.info||e.tileResolutionResult.info}function T(i,t){if(t.isBookmark){return t.icon}const e=i[t.id];if(e){return t.icon||e.tileResolutionResult.icon}return undefined}function R(i,t){if(t.isBookmark){return t.icon}const e=i[t.id];if(e){return t.icon||e.tileResolutionResult.icon}return undefined}function G(i,t){const e=i[t.id];if(e&&e.tileResolutionResult&&e.tileResolutionResult.size){return e.tileResolutionResult.size}}function m(i,t){const e=i[t.id];if(e){return!!e.isLink}return false}function h(i){return!!(i&&i.id&&!i.isCatalogTile)}function b(i,t){return i.deviceTypes&&i.deviceTypes[t]}return{getGroupsArrayFromSite:t,getGroupsMapFromSite:e,getGroupIdsFromSite:n,getGroupFromSite:r,getDefaultGroup:o,getGroupId:u,getGroupTitle:s,isGroupPreset:l,isGroupLocked:a,isGroupVisible:f,getGroupTiles:d,getGroupLinks:c,getTileId:p,getTileTitle:g,getTileSubtitle:y,getTileInfo:k,getTileIcon:T,getTileIndicatorDataSource:R,getTileSize:G,isLink:m,isGroupTile:h,supportsFormFactor:b}},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/_LaunchPage/uri.transform", ["sap/ui/thirdparty/URI"],r=>{"use strict";function t(r){if(!r.is("relative")){return false}return r.toString()[0]==="/"}function e(r){return!r.is("absolute")&&!t(r)}function n(r){return r&&typeof r==="string"}function o(r,t,e,n,o){const i={};if(r){i.uri=r.toString()}if(t){i.uriParent=t.toString()}if(e){i.uriRelative=e.toString()}if(n){i.uriBase=n.toString()}if(o){i.uriAbsolute=o.toString()}return i}function i(){const t=new r("/1/2/3/4/5/6/7/8/9/");let e=t;for(let t=0;t<arguments.length;t++){e=r.joinPaths(e,arguments[t])}return e.relativeTo(t)}function s(r){return r.filename("").search("").fragment("")}function u(t){const e=t.directory();if(e==="/"){return"/"}return r.joinPaths(e,"/").toString()}function a(t){let e=t;if(t){const n=new r(t);if(n.filename()&&n.filename().indexOf(".")===-1&&n.filename().slice(-1)!=="/"){e+="/"}}return e}function l(t,l,f,c){const h=n(t)?new r(t):null;if(!h){return{error:"Error: Parameter sUri is empty or not a string, use case not supported."}}if(!e(h)){return o(t,null,null,null,t)}const m=n(l)?new r(l):null;if(m&&!e(m)){return o(t,l,null,null,h.absoluteTo(m))}let p=(new r).search("");if(p.toString()===""){p=new r("https://x.y.z:8443/sap/bc/ui5_ui5/ui2/ushell/test-resources/sap/ushell/shells/cdm/fioriCDM.html?params")}let b=n(f)?new r(a(f)):p;if(!e(b)&&!c){return o(t,l,r.joinPaths(m,h),s(b),r.joinPaths(m,h).absoluteTo(b))}const g=n(c)?new r(c):p;if(!b||!g.toString()){return{error:"Error: Parameter sUriNewBase is empty or not a string, use case not supported."}}if(e(g)){return{error:"Error: Parameter sUriNewBase is a relative uri, but must be absolute."}}if(e(b)&&!e(g)){b=b.absoluteTo(g)}if(!e(b)&&!e(g)){if(b.host()&&g.host()&&b.host()!=g.host()){return{error:"Error: Hosts of the parameters sUriBase and sUriNewBase are given but do not match."}}const t=new r(u(b)).relativeTo(u(g));let e;if(n(l)){e=h.absoluteTo(m.absoluteTo(t.absoluteTo(g)));const r=i(t,m);const n=i(r,h);return o(h,r,n,s(g),e)}e=h.absoluteTo(t.absoluteTo(g));const a=i(t,h);a.query(h.query());return o(a,null,a,s(g),e)}return{error:"Error: Parameter combination not supported."}}return l});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/_Personalization/internals", ["sap/ushell/services/_Personalization/constants","sap/ushell/services/_Personalization/constants.private","sap/ui/thirdparty/jquery","sap/base/Log"],(e,t,jQuery,n)=>{"use strict";function r(e){const t=!e||!e.storageResourceRoot;if(t){throw new Error("Configuration error: storage resource root is not defined.")}return e.storageResourceRoot}function i(e){const t=!e||!e.relativeUrlReadOptimized;if(t){throw new Error("Configuration error: relative URL for read optimization is not defined.")}return e.relativeUrlReadOptimized}function a(e){const t=!e||!e.relativeUrlWriteOptimized;if(t){throw new Error("Configuration error: relative URL for write optimization is not defined.")}return e.relativeUrlWriteOptimized}function o(t){return t&&t.keyCategory===e.keyCategory.FIXED_KEY&&t.writeFrequency===e.writeFrequency.LOW&&t.clientStorageAllowed}function s(e){return o(e)?"p":"u"}function l(e,t){return o(t)?i(e):a(e)}function u(e){const r=t.S_CONTAINER_PREFIX;let i;let a;if(typeof e!=="string"||e.length===0){throw new Error("Personalization container key must be a non-empty string")}if(e.substring(0,r.length)===r){i=e.substring(r.length)}else{n.error(`Unexpected personalization container key: ${e}`,`should always be prefixed with ${r}`,"sap.ushell.adapters.cdm.PersonalizationAdapter");i=e}if(i.length<=40){a=i}else{a=i.substring(0,40);n.error(`Invalid personalization container key: '${i}'`+` exceeds maximum key length (40 characters) and is shortened to '${a}'`,undefined,"sap.ushell.adapters.cdm.PersonalizationAdapter")}return a}function d(e,t,n){return`${l(e,t)}/${encodeURIComponent(u(n))}.json`}function c(){return{validity:Infinity,keyCategory:e.keyCategory.GENERATED_KEY,writeFrequency:e.writeFrequency.HIGH,clientStorageAllowed:false}}function f(e,t){if(!t&&t!==""||t.constructor!==String){n.warning("Personalization container has an invalid app name; must be a non-empty string",null,"sap.ushell.adapters.cdm.PersonalizationAdapter")}if(!e){e=c()}const r={items:{},__metadata:{appName:t,expiry:Date.now()+e.validity*60*1e3,validity:e.validity,category:s(e)}};return r}function p(e,t,r){return new jQuery.Deferred(i=>{e.put(r,{data:t}).then(e=>{i.resolve()}).catch(e=>{n.error("Failed to save personalization container; response:",e,"sap.ushell.adapters.cdm.PersonalizationAdapter");i.reject(e)})}).promise()}function m(e){Object.keys(e).forEach(t=>{delete e[t]})}function g(e,t){const n=e&&e.filter(e=>e.name.toLowerCase()===t);return n&&n[0]&&n[0].value}function y(e,t,n){function r(e){m(e.items)}return new jQuery.Deferred(i=>{e.get(n).then(e=>{let n;let a;if(e.status===200&&g(e.responseHeaders,"content-length")==="0"&&g(e.responseHeaders,"content-type").indexOf("text/plain")===0){r(t)}else{n=JSON.parse(e.responseText);if(n.data){n.items=n.data;delete n.data;n.__metadata=t.__metadata}a=n.items;m(t.items);Object.keys(a).forEach(e=>{t.items[e]=a[e]});t.__metadata=n.__metadata}i.resolve()}).catch(e=>{if(e.details?.status===404){r(t);i.resolve()}else{m(t.items);i.reject(e)}})}).promise()}function I(e,t){return new jQuery.Deferred(n=>{e.delete(t).then(()=>{n.resolve()}).catch(e=>{n.reject(e)})}).promise()}function h(e,t,n,r,i){const a=d(e,i,r);const o=t&&t[a];if(o){delete t[a]}return I(n,a)}function _(e){if(e==="__metadata"){return undefined}else if(e.indexOf(t.S_VARIANT_PREFIX)===0||e.indexOf(t.S_ADMIN_PREFIX)===0){return e}return t.S_ITEM_PREFIX+e}function w(e){if(e.indexOf(t.S_ITEM_PREFIX)===0){return e.substring(t.S_ITEM_PREFIX.length)}else if(e.indexOf(t.S_VARIANT_PREFIX)===0||e.indexOf(t.S_ADMIN_PREFIX)===0){return e}throw new Error(`Illegal item key for personalization container: '${e}'; must be prefixed with one of the following: [${t.S_ITEM_PREFIX}, ${t.S_VARIANT_PREFIX}, ${t.S_ADMIN_PREFIX}] `)}function E(e){return Object.keys(e).map(_).filter(e=>!!e)}function R(e,t){return e.hasOwnProperty(w(t))}function P(e,t,n){e[w(t)]=n}function v(e,t){return e[w(t)]}function A(e,t){delete e[w(t)]}function C(e,t,n,r,i,a){const o=d(e,i,r);if(t&&t[o]){return t[o]}const s=f(i,a);const l=s.items;return{save:p.bind(null,n,s,o),load:y.bind(null,n,s,o),del:I.bind(null,n,s,o),setItemValue:P.bind(null,l),getItemValue:v.bind(null,l),getItemKeys:E.bind(null,l),containsItem:R.bind(null,l),delItem:A.bind(null,l)}}function b(e,t,n,i,a){const o={cache:{},headers:{"sap-client":n.getClient()}};a=a&&a.config;if(!a){throw new Error("PersonalizationAdapter: missing configuration.")}if(!t){t={}}const s=r(a);const l=new e(s,o);return{getAdapterContainer:C.bind(null,a,t,l),delAdapterContainer:h.bind(null,a,t,l)}}return{PersonalizationAdapter:b,getStorageResourceRoot:r,getContainerPath:d,delAdapterContainer:h,createContainerData:f,getAdapterContainer:C,getContainerCategory:s,isCategoryPContainer:o,trimContainerKey:u,save:p,load:y,del:I,clearContainerData:m,getItemKeys:E,containsItem:R,setItemValue:P,getItemValue:v,delItem:A,addPrefixToItemKey:_,stripPrefixFromItemKey:w,getHttpHeaderValue:g}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/util/AppForInbound", ["sap/base/util/ObjectPath","sap/base/Log"],(e,t)=>{"use strict";const i={};i.get=function(i,n){let s={};switch(n.resolutionResult.applicationType){case"SAPUI5":s=this._getUI5App(i,n);break;case"TR":s=this._getTRApp(i,n);break;case"WDA":s=this._getWDAApp(i,n);break;case"URL":s=this._getURLApp(i,n);break;case"WCF":s=this._getWCFApp(i,n);break;default:t.error(`Unable to get CDM app for inbound: Application type '${n.resolutionResult.applicationType}' of app '${i}' is unknown and not supported.`);throw new Error(`Unknown application type: ${n.applicationType}`)}if(n.resolutionResult.systemAlias){e.set(["sap.app","destination"],{name:n.resolutionResult.systemAlias,semantics:"applied"},s)}return s};i._getURLApp=function(e,t){return{"sap.app":{id:e,crossNavigation:{inbounds:{"Shell-launchURL":{semanticObject:"Shell",action:"launchURL",signature:{parameters:{"sap-external-url":{required:true,filter:{value:t.resolutionResult.url,format:"plain"}}}}}}}},"sap.ui":{technology:"URL",deviceTypes:t.deviceTypes},"sap.url":{uri:t.resolutionResult.url}}};i._getUI5App=function(e,t){return{"sap.app":{id:e,title:t.resolutionResult.text,subTitle:t.resolutionResult.information,crossNavigation:{inbounds:this._getApplicationInbound(t)}},"sap.ui5":{componentName:t.resolutionResult.ui5ComponentName},"sap.ui":{technology:"UI5",deviceTypes:t.deviceTypes},"sap.platform.runtime":{componentProperties:{url:t.resolutionResult.url}}}};i._getApplicationInbound=function(e){const t={};t[e.id]={semanticObject:e.semanticObject,action:e.action,signature:e.signature};return t};i._getTRApp=function(e,i){let n;const s=i.resolutionResult.url.match(/transaction=(.+?)[&?]/);if(s){n=s[1]}else{t.error(`Unable to determine ABAP transaction from inbound URL of app '${e}': ${i.resolutionResult.url}.`)}return{"sap.app":{id:e,title:i.resolutionResult.text,subTitle:i.resolutionResult.information,crossNavigation:{inbounds:this._getApplicationInbound(i)}},"sap.ui":{technology:"GUI",deviceTypes:i.deviceTypes},"sap.flp":{type:"application"},"sap.gui":{transaction:n}}};i._getWDAApp=function(e,t){return{"sap.app":{id:e,title:t.resolutionResult.text,subTitle:t.resolutionResult.information,crossNavigation:{inbounds:this._getApplicationInbound(t)}},"sap.ui":{technology:"URL",deviceTypes:t.deviceTypes},"sap.url":{uri:t.resolutionResult.url}}};i._getWCFApp=function(e,t){return{"sap.app":{id:e,title:t.resolutionResult.text,subTitle:t.resolutionResult.information,crossNavigation:{inbounds:this._getApplicationInbound(t)}},"sap.ui":{technology:"URL",deviceTypes:t.deviceTypes},"sap.url":{uri:t.resolutionResult.url}}};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/util/cdmSiteUtils", ["sap/ushell/adapters/cdm/util/AppForInbound","sap/base/Log","sap/ushell/adapters/cdm/v3/utilsCdm"],(i,e,t)=>{"use strict";const s={_VISUALIZATION_TYPES:{STATIC_TILE:"sap.ushell.StaticAppLauncher",DYNAMIC_TILE:"sap.ushell.DynamicAppLauncher"}};s.getVisualizations=function(i){const s={};Object.keys(i).forEach(n=>{const a=i[n];let o;if(a.isCustomTile){o=a.vizType}else if(a.vizType==="X-SAP-UI2-CHIP:/UI2/STATIC_APPLAUNCHER"){o=this._VISUALIZATION_TYPES.STATIC_TILE}else if(a.vizType==="X-SAP-UI2-CHIP:/UI2/DYNAMIC_APPLAUNCHER"){o=this._VISUALIZATION_TYPES.DYNAMIC_TILE}else{e.warning(`Visualization with key '${n}' has no known vizType and is not a custom tile. Using fall back instead.`);o=this._VISUALIZATION_TYPES.STATIC_TILE}const p={vizType:o,vizConfig:{"sap.app":{title:a.title,subTitle:a.subTitle,info:a.info,tags:{keywords:a.keywords}},"sap.ui":{icons:{icon:a.icon}},"sap.flp":{tileSize:a.size,indicatorDataSource:a.indicatorDataSource,numberUnit:a.numberUnit,target:t.toTargetFromHash(a.url)}}};if(a.isCustomTile){p.vizConfig["sap.flp"]._instantiationData=a._instantiationData}s[n]=p});return s};s.getApplications=function(t){return Object.keys(t).reduce((s,n)=>{const a=t[n];const o=a.permanentKey||a.id;try{s[o]=i.get(n,a)}catch(i){e.error(`Unable to dereference app '${n}' of CDM page.`);s[n]={}}return s},{})};s.getVizTypes=function(i){return Object.keys(i).reduce((e,t)=>{const s=i[t].id;if(!e[s]){e[s]={"sap.app":{id:s,type:"chipVizType"},"sap.flp":{vizOptions:i[t].vizOptions,tileSize:i[t].tileSize}}}return e},{})};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/v3/AdapterBase", ["sap/ushell/adapters/cdm/v3/_LaunchPage/readHome","sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations","sap/ushell/adapters/cdm/v3/_LaunchPage/readUtils","sap/m/GenericTile","sap/ui/core/ComponentContainer","sap/ushell/adapters/cdm/_LaunchPage/uri.transform","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/navigationMode","sap/ushell/resources","sap/ushell/utils","sap/ushell/adapters/cdm/v3/utilsCdm","sap/base/util/Version","sap/ui/thirdparty/jquery","sap/base/util/isPlainObject","sap/base/util/isEmptyObject","sap/base/util/ObjectPath","sap/base/util/deepExtend","sap/base/util/deepClone","sap/base/Log","sap/ushell/UI5ComponentType","sap/ushell/Container","sap/ushell/utils/LaunchpadError"],(e,t,i,o,r,n,s,l,a,u,p,c,d,jQuery,f,g,h,m,T,v,y,R,_)=>{"use strict";const C=v.getLogger("sap/ushell/adapters/cdm/LaunchPageAdapter");const b=v.Level;const I="sap.ushell.components.tiles.cdm.applauncher";const S="sap.ushell.components.tiles.cdm.applauncherdynamic";function D(e,t,i){this.oAdapterConfiguration=i;this._mResolvedTiles={};this._mCatalogTilePromises={};this._mFailedResolvedCatalogTiles={};this._mFailedResolvedTiles={};this.TileType={Tile:"tile",Link:"link",Card:"card"}}D.prototype.getGroups=function(){const e=new jQuery.Deferred;this._ensureLoaded().then(t=>{p.setPerformanceMark("FLP - homepage groups processed");e.resolve(t)}).catch(()=>{e.resolve([])});return e.promise()};D.prototype._ensureLoaded=function(){const t=this;if(this._loaded){return this._loaded}const i=new jQuery.Deferred;this._ensureLoadedDeferred=i;this._loaded=new Promise((i,o)=>{this._getSiteData().then(o=>{if(!t.isSiteSupported(o)){throw new Error("Invalid CDM site version: Check the configuration of the launchpage adapter and the version of the FLP site")}let r=[];let n=e.getGroupsArrayFromSite(o);n=t._addDefaultGroup(n,o);n.forEach(e=>{r=t._ensureGroupItemsResolved(e,o).concat(r)});t._allPromisesDone(r).done(()=>{i(n);delete t._loaded;t._logTileResolutionFailures(t._mFailedResolvedTiles)})}).catch(e=>{C.error("Delivering homepage groups failed",e);i([]);delete t._loaded})});return this._loaded};D.prototype._ensureGroupItemsResolved=function(e,t){const i=[];let o;let r;if(e.payload&&e.payload.tiles){o=this._ensureGroupTilesResolved(e.payload.tiles,t);Array.prototype.push.apply(i,o)}if(e.payload&&e.payload.links){r=this._ensureGroupLinksResolved(e.payload.links,t);Array.prototype.push.apply(i,r)}return i};D.prototype._ensureGroupTilesResolved=function(e,t){return(e||[]).map(function(e,i){return this._resolveGroupTile(e,t).then(e=>{e.isLink=false;return e})},this)};D.prototype._ensureGroupLinksResolved=function(e,t){return(e||[]).map(function(e){return this._resolveGroupTile(e,t).then(e=>{e.isLink=true;return e})},this)};D.prototype._resolveGroupTile=function(e,t){const i=this._mResolvedTiles;const o=this._mFailedResolvedTiles;let r;function n(t){i[e.id]=t;if(o[e.id]){delete o[e.id]}return t}function s(e){const t=e.target;return t&&t.semanticObject==="Shell"&&t.action==="launchURL"}if(i[e.id]){return(new jQuery.Deferred).resolve(i[e.id]).promise()}if(e.target&&e.target.url){r=jQuery.when(this._getTileForUrl(e))}else if(e.isBookmark&&e.vizType===undefined){r=this._resolveTileByIntent(e,t)}else if(s(e)){r=this._resolveTileByIntent(e,t)}else{r=this._resolveTileByVizId(e,t)}const l=new jQuery.Deferred;r.done(e=>{l.resolve(n(e))}).fail(t=>{if(t instanceof _){o[e.id]={logLevel:t.details?.logLevel||b.ERROR,message:t.message}}else{o[e.id]={logLevel:b.ERROR,message:t.toString()}}l.reject(t)});return l.promise()};D.prototype._resolveTileByVizId=function(o,r){let n;let l;let u;let d;let g;let h;let v;let y;function R(e,t){const i=new _(t,{logLevel:e});return(new jQuery.Deferred).reject(i).promise()}const C=new jQuery.Deferred;if(!f(r)){return R(b.ERROR,"Cannot resolve tile: oSite must be an object")}if(!f(o)){return R(b.ERROR,"Cannot resolve tile: oTile must be an object")}const I=o.vizId;const S=T(t.get(r,I||"")||{});const D=o.vizType||t.getTypeId(S);const L=t.getType(r,D);if(!L){return R(b.ERROR,`Cannot resolve tile '${o.id}': no visualization type found for vizTypeId '${D}'`)}const w=t.getAppId(S);if(w){n=t.getAppDescriptor(r,w);if(!n){return R(b.INFO,`Tile '${o.id}' filtered from result: no app descriptor found for appId '${w}' (dangling app reference)`)}l=e.getInbound(n,t.getTarget(S).inboundId);if(!l){return R(b.ERROR,`Cannot resolve tile '${o.id}': app '${w}' has no navigation inbound`)}u=c.mapOne(l.key,l.inbound,n,S,L,r);const p=u.resolutionResult.applicationType;const f=u.resolutionResult.additionalInformation;const m=s.last("/core/navigation/enableInPlaceForClassicUIs");const T=m?m[p]:false;d=a.computeNavigationModeForHomepageTiles(p,f,T);h=t.getOutbound(S,l.inbound);y=i.harmonizeTarget(h);g=this._toHashFromOutbound(y)}else{S.vizConfig=m({},S.vizConfig,o.vizConfig);u=c.mapOne(undefined,undefined,undefined,S,L,r);if(t.startsExternalUrl(S)){v=p.getMember(S.vizConfig,"sap|flp.target.url")}}const P=u.tileResolutionResult;P.navigationMode=d;P.isLink=false;if(!this._isFormFactorSupported(P)){return R(b.INFO,`Tile '${o.id}' filtered from result: form factor not supported`)}if(v||g){C.resolve({tileResolutionResult:P,tileIntent:v||g})}else{if(o.target){const e=T(o.target);g=c.toHashFromTarget(i.harmonizeTarget(e))}C.resolve({tileResolutionResult:P,tileIntent:g})}return C.promise()};D.prototype._isFormFactorSupported=function(t){const i=p.getFormFactor();return e.supportsFormFactor(t,i)};D.prototype._getFirstInbound=function(e){const t=Object.keys(e["sap.app"].crossNavigation.inbounds).shift();const i=e["sap.app"].crossNavigation.inbounds[t];return{key:t,inbound:i}};D.prototype._resolveTileByIntent=function(e){const t=this._prepareTileHash(e);return this._getTileFromHash(t)};D.prototype._allPromisesDone=function(e){const t=new jQuery.Deferred;if(e.length===0){t.resolve([])}else{const i=e.map(e=>{const t=new jQuery.Deferred;e.always(t.resolve.bind(t));return t.promise()});jQuery.when.apply(this,i).done(function(){const e=Array.prototype.slice.call(arguments);t.resolve(e)})}return t.promise()};D.prototype._logTileResolutionFailures=function(e){const t={};if(!e){return}Object.keys(b).filter(e=>{const t=b[e];return t>=b.FATAL&&t<=b.ALL}).forEach(e=>{t[b[e]]=""});Object.keys(e).forEach(i=>{const o=e[i];if(o.logLevel){t[o.logLevel]=t[o.logLevel].concat(o.message).concat("\n")}});if(t[b.FATAL]){C.fatal(t[b.FATAL])}if(t[b.ERROR]){C.error(t[b.ERROR])}if(t[b.WARNING]){C.warning(t[b.WARNING])}if(t[b.INFO]){C.info(t[b.INFO])}if(t[b.DEBUG]){C.debug(t[b.DEBUG])}if(t[b.TRACE]){C.trace(t[b.TRACE])}};D.prototype._isValidTitle=function(e){return typeof e==="string"&&e};D.prototype._isGroupPreset=function(t){return e.isGroupPreset(t)};D.prototype._isGroupLocked=function(t){return e.isGroupLocked(t)};D.prototype.getGroupTitle=function(t){return e.getGroupTitle(t)};D.prototype.getGroupId=function(t){return e.getGroupId(t)};D.prototype.isGroupVisible=function(t){return e.isGroupVisible(t)};D.prototype.getTileTitle=function(t){return e.getTileTitle(this._mResolvedTiles,t)};D.prototype.getTileContentProviderId=function(t){return e.getContentProviderId(t)};D.prototype.getTileSubtitle=function(t){return e.getTileSubtitle(this._mResolvedTiles,t)};D.prototype.getTileIcon=function(t){return e.getTileIcon(this._mResolvedTiles,t)};D.prototype.getTileInfo=function(t){return e.getTileInfo(this._mResolvedTiles,t)};D.prototype.getTileIndicatorDataSource=function(e){const t=this._mResolvedTiles[e.id];const i={};if(e.indicatorDataSource){i.indicatorDataSource=m({},e.indicatorDataSource);if(e.dataSource){i.dataSource=m({},e.dataSource)}return i}if(!t){return i}const o=t.tileResolutionResult;if(o.indicatorDataSource){i.indicatorDataSource=m({},o.indicatorDataSource);if(o.indicatorDataSource.hasOwnProperty("dataSource")){const e=o.indicatorDataSource.dataSource;const r=o.dataSources;if(r&&r.hasOwnProperty(e)){i.dataSource=m({},r[e])}else{v.warning(`datasource referenced but not found for tile: ${t.tileIntent}`)}}if(p.getMember(o,"runtimeInformation.componentProperties.url")){const e=p.getMember(i,"indicatorDataSource.path");const t=p.getMember(i,"dataSource.uri");const r=p.getMember(o,"runtimeInformation.componentProperties.url");const s=n(e,t,r,this.getWindowLocationHref());if(!s.error){if(e){i.indicatorDataSource.path=s.uri}if(t){i.dataSource.uri=s.uriParent}}}}return i};D.prototype.getWindowLocationHref=function(){return window.location.href};D.prototype.isGroupRemovable=function(e){return!this._isGroupPreset(e)};D.prototype.isGroupLocked=function(e){return this._isGroupLocked(e)};D.prototype.getGroupTiles=function(t){return e.getGroupTiles(t).concat(e.getGroupLinks(t))};D.prototype.getTileType=function(t){if(e.isLink(this._mResolvedTiles,t)){return this.TileType.Link}if(e.isCard(this._mResolvedTiles,t)){return this.TileType.Card}return this.TileType.Tile};D.prototype.getTileId=function(t){return e.getTileId(t)};D.prototype.getTileSize=function(t){return e.getTileSize(this._mResolvedTiles,t)||"1x1"};D.prototype.getTileTarget=function(t){const i=e.getTileId(t);const o=this._mResolvedTiles[i];if(t.target&&t.target.url){return t.target.url}if(o){return o.tileIntent}v.warning(`Could not find a target for Tile with id '${i}'`,"sap.ushell.adapters.cdm.LaunchPageAdapter");return""};D.prototype.isTileIntentSupported=function(e){return this._mFailedResolvedTiles[e.id]===undefined};D.prototype.setTileVisible=function(e,t){const i=this._mResolvedTiles[e.id];if(i){if(i.tileComponent){this._notifyTileAboutVisibility(i.tileComponent,t,i.visibility)}i.visibility=t}};D.prototype.getCardManifest=function(e){const t=this._mResolvedTiles[e.id];const i=t.tileResolutionResult;return i.tileComponentLoadInfo};D.prototype._getTileUiComponentContainer=function(e,t,i){const n=this;let s;let a;let p;let c;let d;let f;const g=new jQuery.Deferred;R.getServiceAsync("Ui5ComponentLoader").then(o=>{a=o;const r=this._createTileComponentData(e,i,t);return r}).then(t=>this._enhanceTileComponentData(e,t)).then(h=>{s=t.tileResolutionResult;if(t.isLink){p=s.navigationMode;g.resolve(n._createLinkInstance(e,i,p,o,u));return}const m=this._createTileComponentProperties(h,s.tileComponentLoadInfo);if(!m.name){throw new Error(`Cannot find name of tile component for tile with id: '${e.id}'`)}if(m.manifest){h.properties=h.properties||{};h.properties.manifest=m.manifest}f=this._isCustomTileComponent(m.name);function T(t){let o;c=t.componentHandle.getInstance();d=new r({component:c,height:"100%"});if(!i){o=n._mResolvedTiles[e.id];o.tileComponent=c;if(typeof o.visibility==="boolean"){n._notifyTileAboutVisibility(c,o.visibility)}}return d}function v(){const e=new jQuery.Deferred;a.createComponent({loadCoreExt:f,loadDefaultDependencies:false,componentData:h,url:m.url,applicationConfiguration:{},reservedParameters:{},applicationDependencies:m,ui5ComponentName:m.name},{},[],y.Visualization).then(t=>{const i=T(t);e.resolve(i)}).catch(t=>{e.reject(t)});return e.promise()}if(f){l.once("CoreResourcesComplementLoaded").do(()=>{v().then(e=>{g.resolve(e)}).fail(e=>{g.reject(e)})})}else{v().then(e=>{g.resolve(e)}).fail(e=>{g.reject(e)})}}).catch(e=>{g.reject(e)});return g.promise()};D.prototype._createTileComponentProperties=function(e,t){let i={};if(!t||g(t)){if(e.properties.indicatorDataSource&&e.properties.indicatorDataSource.path){i.name=S}else{i.name=I}}else{i=t.componentProperties||{};i.name=t.componentName}return i};D.prototype.getTileView=function(e){const t=this;return new jQuery.Deferred(i=>t._getTileView(e,false).then(e=>{i.resolve(e)}).catch(t=>{v.error(`Tile with ID '${e.id}' of type '${e.tileType}' could not be initialized:`,t);i.reject(t)})).promise()};D.prototype._getTileView=function(e){let t;const i=new jQuery.Deferred;if(typeof e!=="object"||!e.id){t=`Invalid input parameter passed to _getTileView: ${e}`;v.error(t);return i.reject(new Error(t)).promise()}const o=this._mResolvedTiles[e.id];if(!o){t=`No resolved tile found for tile ID: ${e.id}`;v.error(t);return i.reject(new Error(t)).promise()}return this._getTileUiComponentContainer(e,o,false)};D.prototype._createTileComponentData=function(e,t,i){const o=t?this.getCatalogTileTitle(e):this.getTileTitle(e);const r=t?this.getCatalogTilePreviewSubtitle(e):this.getTileSubtitle(e);const n=t?this.getCatalogTilePreviewIcon(e):this.getTileIcon(e);const s=t?this.getCatalogTilePreviewInfo(e):this.getTileInfo(e);const l=t?this.getCatalogTileTargetURL(e):this.getTileTarget(e);const a=this.getTileIndicatorDataSource(e);const u=e.numberUnit||i.tileResolutionResult&&i.tileResolutionResult.numberUnit;const p={properties:{},startupParameters:{}};if(i.tileResolutionResult&&i.tileResolutionResult.isCustomTile===true&&i.tileResolutionResult.startupParameters){p.startupParameters=i.tileResolutionResult.startupParameters}if(o){p.properties.title=o}if(s){p.properties.info=s}if(r){p.properties.subtitle=r}if(n){p.properties.icon=n}if(l){p.properties.targetURL=l}if(u){p.properties.numberUnit=u}if(a.indicatorDataSource){p.properties.indicatorDataSource=a.indicatorDataSource;if(a.dataSource){p.properties.dataSource=a.dataSource}}if(i.tileResolutionResult){p.properties.navigationMode=i.tileResolutionResult.navigationMode;p.properties.contentProviderId=i.tileResolutionResult.contentProviderId||""}return p};D.prototype._enhanceTileComponentData=function(e,t){let i=Promise.resolve();const o=this.getTileContentProviderId(e);if(o){i=R.getServiceAsync("ClientSideTargetResolution").then(e=>e.getSystemContext(o)).then(e=>{t.properties.indicatorDataSource.path=e.getFullyQualifiedXhrUrl(t.properties.indicatorDataSource.path)}).catch(()=>{v.error("System Context not available")})}return i.then(()=>t)};D.prototype._isGroupTile=function(t){return e.isGroupTile(t)};D.prototype._isCatalogTile=function(e){return!!(e&&e.isCatalogTile)};D.prototype._isFailedGroupTile=function(t){return!!(t&&this._mFailedResolvedTiles&&this._mFailedResolvedTiles[e.getTileId(t)])};D.prototype.getCatalogTileId=function(e){if(this._isGroupTile(e)){if(this._isFailedGroupTile(e)){return undefined}if(e.isBookmark&&h.get("target.url",e)){return e.target.url}return e.vizId||e.target&&e.target.url}if(this._isCatalogTile(e)){return e.id}return undefined};D.prototype.getCatalogTilePreviewTitle=function(e){if(this._isGroupTile(e)){return this.getTileTitle(e)}return e.tileResolutionResult&&e.tileResolutionResult.title||""};D.prototype.getCatalogTileTargetURL=function(e){if(!e){throw new Error("The given tile is falsy")}if(this._isCatalogTile(e)){if(e.tileResolutionResult&&e.tileResolutionResult.isCustomTile){if(!e.tileResolutionResult.targetOutbound){return""}return this._toHashFromOutbound(e.tileResolutionResult.targetOutbound)}return e.tileIntent||""}return this.getTileTarget(e)};D.prototype.isGroupFeatured=function(e){return!!e.isFeatured};D.prototype._getMember=function(e,t){return p.getMember(e,t)};D.prototype.getCdmVersionsSupported=function(){return{min:new d("3.0.0"),max:new d("3.1.0")}};D.prototype.isSiteSupported=function(e){if(!e._version||new d(e._version).compareTo(this.getCdmVersionsSupported().min)<0||new d(e._version).compareTo(this.getCdmVersionsSupported().max)>0){v.fatal("Invalid CDM site version: Only version 3.0.0 is supported");return false}return true};D.prototype._isCustomTileComponent=function(e){return!(e===I||e===S)};return D});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/v3/FlpLaunchPageAdapter", ["sap/ushell/adapters/cdm/v3/_LaunchPage/readHome","sap/ushell/adapters/cdm/_LaunchPage/modifyHome","sap/ushell/adapters/cdm/v3/_LaunchPage/readCatalogs","sap/m/library","sap/ushell/utils","sap/ushell/utils/WindowUtils","sap/ushell/utils/UrlParsing","sap/ushell/adapters/cdm/v3/utilsCdm","sap/ushell/components/tiles/utils","sap/ushell/adapters/cdm/v3/AdapterBase","sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations","sap/ushell/adapters/cdm/v3/_LaunchPage/readApplications","sap/ushell/navigationMode","sap/ushell/Config","sap/ui/model/json/JSONModel","sap/ui/thirdparty/jquery","sap/base/util/deepExtend","sap/base/util/isEmptyObject","sap/base/util/ObjectPath","sap/base/Log","sap/ushell/EventHub","sap/ushell/Container"],(e,t,i,r,o,n,s,l,a,u,c,d,f,p,h,jQuery,g,m,v,T,b,y)=>{"use strict";const R=r.GenericTileMode;const S="sap.ushell.components.tiles.cdm.applauncher";const C="sap.ushell.components.tiles.cdm.applauncherdynamic";function _(r,_,w){u.call(this,r,_,w);this.oCDMServicePromise=y.getServiceAsync("CommonDataModel");Promise.all([y.getServiceAsync("URLParsing"),this.oCDMServicePromise]).then(e=>{this.oURLParsingService=e[0];this.oCDMService=e[1]});this._getTileFromHashInContextOfSite=function(e,t,i){const r=new jQuery.Deferred;let o=t[i];if(!o){o=e(i);t[i]=o}o.done(e=>{const t={tileIntent:i,tileResolutionResult:e};r.resolve(t)}).fail(e=>{T.error(`Hash '${i}' could not be resolved to a tile.`,e);r.reject(e)});return r.promise()};this._getTileFromHash=function(e){const t=new jQuery.Deferred;y.getServiceAsync("ClientSideTargetResolution").then(i=>{function r(...e){const t=new jQuery.Deferred;i.resolveTileIntent(...e).then(e=>{t.resolve(e)}).catch(e=>{t.reject(e)});return t.promise()}this._getTileFromHashInContextOfSite(r,this._mCatalogTilePromises,e).done(t.resolve).fail(t.reject)});return t.promise()};this._getTileForUrl=function(e){const t={componentName:e.indicatorDataSource?C:S};return{tileIntent:"#",tileResolutionResult:{tileComponentLoadInfo:t,isCustomTile:false}}};this._prepareTileHash=function(e){const t={};if(this._isCatalogTile(e)){return e.tileIntent}if(this._isGroupTile(e)&&e.target){const i=e.target.parameters||[];i.forEach(e=>{if(e.name&&e.value){t[e.name]=[e.value]}});const r={target:{semanticObject:e.target.semanticObject,action:e.target.action},params:t,appSpecificRoute:e.target.appSpecificRoute};return`#${s.constructShellHash(r)}`}return undefined};this.getDefaultGroup=function(){const e=new jQuery.Deferred;let t;const i=this;if(!this._oDefaultGroup){t=this._ensureLoaded()}if(t){t.then(()=>{e.resolve(i._oDefaultGroup)}).catch(t=>{T.error("Failed to access default group.",t);e.reject(t)})}else{e.resolve(i._oDefaultGroup)}return e.promise()};this.addGroup=function(i){const r=new jQuery.Deferred;let n;const s=this;if(!this._isValidTitle(i)){return r.reject(new Error("No valid group title")).promise()}const l=`Failed to add the group with title '${i}' to the homepage. `;this.oCDMService.getSite().done(l=>{n=o.generateUniqueId(e.getGroupIdsFromSite(l));t.addGroupToSite(l,t.createEmptyGroup(n,i));s.oCDMService.save().done(()=>{delete s._ensureLoadedDeferred;r.resolve(l.groups[n],n)}).fail(e=>{r.reject(e)})}).fail(e=>{T.error(l,e);r.reject(e)});return r.promise()};this.setGroupTitle=function(i,r){const o=this;const n=new jQuery.Deferred;if(typeof i!=="object"||!e.getGroupId(i)){return n.reject(new Error("Unexpected group value")).promise()}if(!o._isValidTitle(r)){return n.reject(new Error("Unexpected oGroup title value")).promise()}const s=`Failed to set new title for group with id '${e.getGroupId(i)}'. `;const l=e.getGroupTitle(i);this.oCDMService.getSite().done(e=>{if(i){t.setGroupTitle(i,r)}o.oCDMService.save().done(()=>{n.resolve()}).fail(e=>{T.error("Failed to set new title for group",e);n.reject(e,l)})}).fail(e=>{T.error(s,e);n.reject(e,l)});return n.promise()};this.hideGroups=function(i){const r=new jQuery.Deferred;const o=this.oCDMService;if(i&&Array.isArray(i)){const n="Failed to hide group. ";o.getSite().done(n=>{e.getGroupsArrayFromSite(n).forEach(r=>{const o=Array.prototype.indexOf.call(i,e.getGroupId(r))===-1;t.setGroupVisibility(r,o)});o.save().done(()=>{r.resolve()}).fail(e=>{T.error("Hiding of groups did not work as expected",e);r.reject(e)})}).fail(e=>{T.error(n,e);r.reject(e)})}else{r.reject(new Error("Invalid input parameter aHiddenGroupIds. Please pass a valid input parameter."))}return r.promise()};this.moveGroup=function(i,r){const n=new jQuery.Deferred;const s=this.oCDMService;if(!i||!e.getGroupId(i)||r<0){return n.reject(new Error("Unable to move groups - invalid parameters")).promise()}const l=`Failed to move group with id '${i.identification.id}'. `;s.getSite().done(l=>{const a=e.getGroupIdsFromSite(l);const u=e.getGroupId(i);if(!a){return n.reject(new Error("groupsOrder not found - abort operation of adding a group."))}if(a.indexOf(u)===r){return n.resolve()}const c=o.moveElementInsideOfArray(a,a.indexOf(u),r);if(!c){return n.reject(new Error("invalid move group operation - abort."))}t.setGroupsOrder(l,c);s.save().done(()=>{n.resolve()}).fail(e=>{n.reject(e)});return undefined}).fail(e=>{T.error(l,e);n.reject(e)});return n.promise()};this.removeGroup=function(i){const r=new jQuery.Deferred;const o=this.oCDMService;if(typeof i!=="object"){return r.reject(new Error("invalid group parameter")).promise()}const n=e.getGroupId(i);if(!n){return r.reject(new Error("group without id given")).promise()}const s=`Failed to remove group with id '${n}'. `;o.getSite().done(e=>{t.removeGroupFromSite(e,i);o.save().done(()=>{r.resolve()}).fail(e=>{r.reject(e)})}).fail(e=>{T.error(s,e);r.reject(e)});return r.promise()};this.resetGroup=function(i){const r=new jQuery.Deferred;const o=this.oCDMService;const n=[];const s=this;if(typeof i==="object"&&e.getGroupId(i)){const l=e.getGroupId(i);const a=`Failed to reset group with id '${l}'. `;o.getSite().done(a=>{g(n,e.getGroupsArrayFromSite(a));if(s.isGroupRemovable(i)===false){o.getGroupFromOriginalSite(l).done(i=>{if(typeof a==="object"&&e.getGroupFromSite(a,l)){t.overwriteGroup(a,i,l)}o.save().done(()=>{r.resolve(i)}).fail(e=>{T.error("Group could not be reset",e);r.reject(e,n)})}).fail(e=>{T.error("Group could not be reset",e);r.reject(e,n)})}else{r.reject(new Error("Group could not be reset as it was created by the user"),n)}}).fail(e=>{T.error(a,e);r.reject(e,[])})}return r.promise()};this.getLinkTiles=function(t){return e.getGroupLinks(t)};this.isLinkPersonalizationSupported=function(){return true};this._notifyTileAboutRefresh=function(e){if(typeof e.tileRefresh==="function"){e.tileRefresh()}};this.refreshTile=function(e){const t=this._mResolvedTiles[e.id];if(t){if(t.tileComponent){this._notifyTileAboutRefresh(t.tileComponent)}}};this._notifyTileAboutVisibility=function(e,t,i){if(typeof e.tileSetVisible==="function"&&i!==t){e.tileSetVisible(t)}};this.getTileView=function(e){const t=this;return new jQuery.Deferred(i=>t._getTileView(e,false).then(e=>{i.resolve(e)}).catch(t=>{T.error(`Tile with ID '${e.id}' of type '${e.tileType}' could not be initialized`,t);i.reject(t)})).promise()};this._getCatalogTileViewControl=function(e){const t=new jQuery.Deferred;if(typeof e!=="object"){const i=`Invalid input parameter passed to _getCatalogTileView: ${e}`;T.error(i);return t.reject(new Error(i)).promise()}return this._getTileUiComponentContainer(e,e,true)};this._createLinkInstance=function(e,t,i,r,o){let s;const l=this.getTileSubtitle(e);const a=r;if(t===true){s=this.getCatalogTileTitle(e)}else{s=this.getTileTitle(e)}const u=new a({mode:R.LineMode,subheader:l,header:s,url:n.getLeanURL(this.getTileTarget(e)),press:function(t){this._genericTilePressHandler(e,t)}.bind(this)});if(i){const e=o.i18n.getText(`${i}NavigationMode`);u.setAriaLabel(`${e} ${s} ${l}`)}this._mResolvedTiles[e.id].linkTileControl=u;return u};this._genericTilePressHandler=function(e,t){let i;if(t.getSource().getScope&&t.getSource().getScope()==="Display"){i=this.getTileTarget(e);if(i){b.emit("UITracer.trace",{reason:"LaunchApp",source:"Tile",data:{targetUrl:i}});if(i[0]==="#"){hasher.setHash(i)}else{n.openURL(i,"_blank")}}}};function k(e,t,i){t=g({},t);if(i){e.target=i}if(t.title||t.title===""){e.title=t.title}if(t.icon||t.icon===""){e.icon=t.icon}if(t.subtitle||t.subtitle===""){e.subTitle=t.subtitle}if(t.info||t.info===""){e.info=t.info}if(t.numberUnit||t.numberUnit===""){e.numberUnit=t.numberUnit}if(t.dataSource){e.dataSource={type:t.dataSource.type,settings:{odataVersion:v.get(["dataSource","settings","odataVersion"],t)}}}if(t.serviceUrl){e.indicatorDataSource={path:t.serviceUrl}}if(e.indicatorDataSource&&(t.serviceRefreshInterval||t.serviceRefreshInterval===0)){e.indicatorDataSource.refresh=t.serviceRefreshInterval}if(t.vizConfig){e.vizConfig=t.vizConfig}}function I(e,t){const i={id:o.generateUniqueId([])};k(i,e,t);return i}this.addTile=function(e,t){const i=new jQuery.Deferred;const r=this.oCDMService;if(!t){t=this._oDefaultGroup}const o=I();o.vizId=e.vizId;this._mResolvedTiles[o.id]={tileIntent:e.tileIntent,tileResolutionResult:e.tileResolutionResult,isLink:false};r.getSite().done(e=>{e.groups[t.identification.id].payload.tiles.push(o);r.save().done(()=>{i.resolve(o)}).fail(e=>{i.reject(e)})}).fail(e=>{T.error(`Failed to add tile with id '${o.id}' to group with id '${t.identification.id}'. `,e);i.reject(e)});return i.promise()};this.removeTile=function(e,t,i){const r=this.oCDMService;const o=new jQuery.Deferred;const n=this;if(!e||typeof e!=="object"||!e.identification||!e.identification.id||!t||typeof t!=="object"||!t.id){return o.reject(new Error("Failed to remove tile. No valid input parameters passed to removeTile method."),{}).promise()}const s=`Failed to remove tile with id '${t.id}' from group with id '${e.identification.id}'. `;r.getSite().done(l=>{let a;i=+i;try{a=l.groups[e.identification.id].payload}catch(t){T.error(s,t);o.reject(t,l.groups[e.identification.id])}const u=n.getTileType(t)===n.TileType.Link?"links":"tiles";if(n.getTileType(t)===n.TileType.Link){i-=a.tiles.length}if(i>=0){a[u].splice(i,1)}else{a[u]=a[u].filter(e=>e.id!==t.id)}r.save().done(()=>{o.resolve()}).fail(t=>{T.error(s,t);o.reject(t,l.groups[e.identification.id])})}).fail(e=>{T.error(s,e);o.reject(e,{})});return o.promise()};this.moveTile=function(e,t,i,r,o,n){const s=new jQuery.Deferred;const l=this.oCDMService;const a=this;if(!e||m(e)||t===undefined||t<0||i===undefined||i<0||!r||!r.identification||!r.identification.id||!o||!o.identification||!o.identification.id){return s.reject(new Error("Invalid input parameters")).promise()}const u=`Failed to move tile with id '${e.id}'. `;l.getSite().done(c=>{const d=a.getTileType(e)===a.TileType.Link?"links":"tiles";if(!n){n=a._mResolvedTiles[e.id].isLink?"link":"tile"}const f=n==="link"?"links":"tiles";if(d!==f&&a._mResolvedTiles[e.id]){a._mResolvedTiles[e.id].isLink=n==="link"}if(f==="links"){i-=c.groups[o.identification.id].payload.tiles.length}if(d==="links"){t-=c.groups[r.identification.id].payload.tiles.length}if(r.identification.id===o.identification.id){if(t!==i||d!==f){const r=c.groups[o.identification.id].payload;r[d].splice(t,1);r[f].splice(i,0,e)}else{return s.resolve(e).promise()}}else{c.groups[r.identification.id].payload[d].splice(t,1);c.groups[o.identification.id].payload[f].splice(i,0,e)}l.save().done(()=>{s.resolve(e)}).fail(e=>{T.error(u,e);s.reject(e)});return undefined}).fail(e=>{T.error(u,e);s.reject(e)});return s.promise()};this._compareCatalogs=function(e,t){return(e.identification.title||"").toLowerCase()>(t.identification.title||"").toLowerCase()?1:-1};this.getCatalogs=function(){const e=this;const t=new jQuery.Deferred;const i=[];function r(e,t,i,r){const o=e.catalogs[t];i.push(o);r.notify(o)}y.getServiceAsync("CommonDataModel").then(o=>{o.getSite().done(o=>{Object.keys(o.catalogs).forEach(e=>{r(o,e,i,t)});t.resolve(i.sort(e._compareCatalogs))})});return t.promise()};this._isStartableInbound=function(e){if(!e.semanticObject||!e.action){return false}const t=["Shell-plugin","Shell-bootConfig"];if(t.indexOf(`${e.semanticObject}-${e.action}`)>-1){return false}return true};this._isStartableVisualization=function(e,t){const i=v.get("signature.parameters",t);if(!i){return true}const r=v.get("parameters",c.getTarget(e));return Object.keys(i).every(e=>{const t=i[e];if(e==="sap-external-url"){return true}if(!t.filter||t.filter.format!=="plain"){return true}const o=t.filter.value;const n=v.get([e,"value","value"],r);if(o!==n){return false}return true})};this._isHiddenInbound=function(e){return!!e.hideLauncher};this._toHashFromInbound=function(e){const t=l.toHashFromInbound(e);if(!t){return undefined}return`#${t}`};this._getExternalUrlFromInbound=function(e){return v.get("signature.parameters.sap-external-url.launcherValue.value",e)||null};this._toHashFromOutbound=function(e){const t=l.toHashFromOutbound(e);if(!t){return undefined}return`#${t}`};function j(t,i){const r=this;const n=new jQuery.Deferred;setTimeout(()=>{const s=(t.payload&&t.payload.viz||[]).reduce((n,s)=>{let a;let u;let h;let g;let m;let v;let T;let b;let y;let R;let S;let C;if(!s){return n}const _=c.get(i,s);if(!_){return n}const w=c.getTypeId(_);const k=c.getType(i,w);const I=c.getAppId(_);if(I){a=c.getAppDescriptor(i,I);if(!a){return n}u=e.getInbound(a,c.getTarget(_).inboundId);if(!u){return n}if(!r._isStartableInbound(u.inbound)||!r._isStartableVisualization(_,u.inbound)||r._isHiddenInbound(u.inbound)){return n}g=l.mapOne(u.key,u.inbound,a,_,k,i);if(!g||!g.tileResolutionResult){return n}b=g.resolutionResult.applicationType;y=g.resolutionResult.additionalInformation;S=p.last("/core/navigation/enableInPlaceForClassicUIs");R=S?S[b]:false;m=f.computeNavigationModeForHomepageTiles(b,y,R);v=c.getOutbound(_,u.inbound);h=r._toHashFromOutbound(v);C=d.getTechnicalAttributes(a)}else{const e=c.getConfig(_);if(e===undefined){return n}g=l.mapOne(undefined,undefined,undefined,_,k,i);if(o.getMember(e,"sap|flp.target.type")==="URL"){T=o.getMember(e,"sap|flp.target.url")}}const j=g.tileResolutionResult;j.navigationMode=m;j.technicalAttributes=C;if(!r._isFormFactorSupported(j)){return n}if(t.contentProviderId){T=r._getMember(a,"sap|app.crossNavigation.inbounds.Shell-launchURL.signature.parameters.sap-external-url.launcherValue.value")}const D={id:s,vizId:s,tileIntent:T||h,tileResolutionResult:j,isCatalogTile:true};if(t.contentProviderId&&T){D.contentProviderId=t.contentProviderId;D.externalUrl=T}n.push(D);return n},[]);n.resolve(s)},0);return n.promise()}this.getCatalogTiles=function(e){const t=this;const i=new jQuery.Deferred;if(typeof e!=="object"||e===null){return i.reject(new Error(`Invalid input parameter '${e}' passed to getCatalogTiles.`)).promise()}this.oCDMServicePromise.then(r=>{r.getSite().done(r=>{j.call(t,e,r).done(i.resolve).fail(i.reject)}).fail(e=>{T.error("Failed to get site:",e);i.reject(e)})});return i.promise()};this.getCatalogError=function(e){if(e.error){return e.error}return undefined};this.getCatalogId=function(e){return i.getId(e)};this.getCatalogTitle=function(e){return i.getTitle(e)};this._isFailedCatalogTile=function(t){return!!(t&&this._mFailedResolvedCatalogTiles&&this._mFailedResolvedCatalogTiles[e.getTileId(t)])};this.getCatalogTileTitle=function(e){if(this._isGroupTile(e)){if(this._isFailedGroupTile(e)){return""}return this._mResolvedTiles[e.id].tileResolutionResult.title}if(this._isCatalogTile(e)){if(this._isFailedCatalogTile(e)){return undefined}return e.tileResolutionResult.title}return undefined};this.getCatalogTileContentProviderId=function(e){return e.tileResolutionResult.contentProviderId||""};this.getCatalogTileSize=function(e){return e.tileResolutionResult.size||"1x1"};this.getCatalogTileViewControl=function(e){return this._getCatalogTileViewControl(e)};this.getCatalogTilePreviewSubtitle=function(e){if(this._isGroupTile(e)){return this.getTileSubtitle(e)}return e.tileResolutionResult&&e.tileResolutionResult.subTitle||""};this.getCatalogTilePreviewIcon=function(e){if(this._isGroupTile(e)){return this.getTileIcon(e)}return e.tileResolutionResult&&e.tileResolutionResult.icon||""};this.getCatalogTilePreviewInfo=function(e){if(this._isGroupTile(e)){return this.getTileInfo(e)}return e.tileResolutionResult&&e.tileResolutionResult.info||""};this.getCatalogTilePreviewIndicatorDataSource=function(e){return e.tileResolutionResult&&e.tileResolutionResult.indicatorDataSource};this.getCatalogTileKeywords=function(e){const t=[];let i=e;if(!i){T.error("Could not find the Tile","sap.ushell.adapters.cdm.LaunchPageAdapter");return t}if(this._mResolvedTiles&&this._mResolvedTiles[e.id]){i=this._mResolvedTiles[e.id]}if(i&&i.tileResolutionResult&&Array.isArray(i.tileResolutionResult.keywords)){Array.prototype.push.apply(t,i.tileResolutionResult.keywords)}if(i&&i.tileResolutionResult&&i.tileResolutionResult.title){t.push(i.tileResolutionResult.title)}if(i&&i.tileResolutionResult&&i.tileResolutionResult.subTitle){t.push(i.tileResolutionResult.subTitle)}return t};this.getCatalogTileTechnicalAttributes=function(e){const t=[];let i=e;if(!i){T.error("Could not find the Tile","sap.ushell.adapters.cdm.LaunchPageAdapter");return[]}if(this._mResolvedTiles&&this._mResolvedTiles[e.id]){i=this._mResolvedTiles[e.id]}if(i&&i.tileResolutionResult&&Array.isArray(i.tileResolutionResult.technicalAttributes)){Array.prototype.push.apply(t,i.tileResolutionResult.technicalAttributes)}return t};function D(e){return Object.keys(e).map(t=>{const i=e[t]&&e[t][0];return{name:t,value:i||""}})}function G(e){const t={semanticObject:e.semanticObject,action:e.action,parameters:D(e.params)};if(e.appSpecificRoute){t.appSpecificRoute=e.appSpecificRoute}return t}function P(e){return{url:e}}function F(e){return e.map(e=>e.name+e.value).sort().join()}function A(e,t){e=e||[];t=t||[];if(e.length===t.length){const i=F(e);const r=F(t);return i===r}return false}function L(e,t){if(e&&t){if(e.url){return e.url===t.url}return e.semanticObject===t.semanticObject&&e.action===t.action&&A(e.parameters,t.parameters)&&e.appSpecificRoute===t.appSpecificRoute}return e===t}this._visitBookmarks=function(e,t,i,r){let o;const n=s.parseShellHash(e);if(n){o=G(n)}else{o=P(e)}return this.oCDMService.getSite().then(e=>{const n=e.groups;const s=Object.keys(n).filter(e=>!n[e].payload.locked).map(e=>n[e].payload.tiles.filter(e=>e.isBookmark&&e.vizType===i&&(e.contentProvider||"")===(r||"")&&L(o,e.target))).reduce((e,t)=>{Array.prototype.push.apply(e,t);return e},[]);if(!t){return s.length}return jQuery.when(s.map(t)).then(()=>s.length)})};function M(e,t,i){const r=I(e,t);r.isBookmark=true;if(i){r.contentProvider=i}return r}this.addBookmark=function(e,t,i){const r=this;return new jQuery.Deferred(o=>{const n=r.oCDMService;jQuery.when(t||r.getDefaultGroup(),n.getSite()).done((t,l)=>{let a;const u=s.parseShellHash(e.url);let c;let d=false;if(!u){a=P(e.url);d=true}else{a=G(u)}const f=M(e,a,i);if(d){c=new jQuery.Deferred;c.resolve(r._getTileForUrl(f))}else{c=r._getTileFromHash(e.url)}c.done(e=>{e.isLink=false;r._mResolvedTiles[f.id]=e;l.groups[t.identification.id].payload.tiles.push(f);n.save().done(()=>{o.resolve(f)}).fail(e=>{o.reject(e)})}).fail(e=>{T.error("Bookmark creation failed:",e);o.reject(e)})}).fail(e=>{o.reject(e)})}).promise()};this.addCustomBookmark=function(e,t,i){const r=new jQuery.Deferred;Promise.all([y.getServiceAsync("URLParsing"),y.getServiceAsync("CommonDataModel")]).then(n=>{const s=n[0];const l=n[1];jQuery.when(t||this.getDefaultGroup(),l.getSite()).done((t,n)=>{const a=s.parseShellHash(e.url);const u=a===undefined;const c=u?P(e.url):G(a);const d={id:o.generateUniqueId([]),vizType:e.vizType,title:e.title,subTitle:e.subtitle,icon:e.icon,info:e.info,numberUnit:e.numberUnit,target:c,indicatorDataSource:{path:e.serviceUrl,refresh:e.serviceRefreshInterval},vizConfig:e.vizConfig,isBookmark:true};if(i){d.contentProvider=i}this._resolveTileByVizId(d,n).done(e=>{e.isLink=false;this._mResolvedTiles[d.id]=e;n.groups[t.identification.id].payload.tiles.push(d);l.save().done(()=>{r.resolve(d)}).fail(r.reject)}).fail(e=>{T.error("Bookmark creation failed:",e);r.reject(e)})}).fail(r.reject)});return r.promise()};this.countBookmarks=function(e,t){return this._visitBookmarks(e,undefined,undefined,t)};this.countCustomBookmarks=async function(e){if(!e.vizType){throw new Error("countCustomBookmarks: Required parameter is missing: oIdentifier.vizType")}return new Promise((t,i)=>{this._visitBookmarks(e.url,undefined,e.vizType,e.contentProviderId).done(t).fail(i)})};this.updateBookmarks=function(e,t,i,r){const o=this.oCDMService;const n=this._mResolvedTiles;function l(i){return new jQuery.Deferred(r=>{let o;let l=false;const a={};if(t.url||t.url===""){const e=s.parseShellHash(t.url);if(!e){o=P(t.url)}else{o=G(e)}}if(i.icon!==t.icon){a.icon=t.icon;l=true}if(i.title!==t.title){a.title=t.title;l=true}if(i.subTitle!==t.subtitle){a.subtitle=t.subtitle;l=true}if(t.url&&e!==t.url){a.targetURL=t.url;l=true}if(i.info!==t.info){a.info=t.info;l=true}k(i,t,o);if(l&&n[i.id]){const e=n[i.id].tileComponent;if(e){e.tileSetVisualProperties(a)}}r.resolve(i)}).promise()}return this._visitBookmarks(e,l,i,r).then(e=>o.save().then(()=>e))};this.updateCustomBookmarks=async function(e,t){if(!e.vizType){throw new Error("updateCustomBookmarks: Required parameter is missing: oIdentifier.vizType")}if(t.title===""){throw new Error("updateCustomBookmarks: The bookmark title cannot be an empty string")}if(t.url===""){throw new Error("updateCustomBookmarks: The bookmark url cannot be an empty string")}return new Promise((i,r)=>{this.updateBookmarks(e.url,t,e.vizType,e.contentProviderId).done(i).fail(r)})};this.deleteBookmarks=function(e,t,i){const r=this.oCDMService;const o=s.parseShellHash(e);let n;if(o){n=G(o)}else{n=P(e)}return r.getSite().then(e=>{const o=e.groups;const s=Object.keys(o).map(e=>{const r=o[e].payload;let s=0;r.tiles=r.tiles.filter(e=>{if(e.isBookmark&&e.vizType===t&&(e.contentProvider||"")===(i||"")&&L(n,e.target)){++s;return false}return true});return s}).reduce((e,t)=>{e+=t;return e},0);return r.save().then(()=>s)})};this.deleteCustomBookmarks=async function(e){if(!e.vizType){throw new Error("deleteCustomBookmarks: Required parameter is missing: oIdentifier.vizType")}return new Promise((t,i)=>{this.deleteBookmarks(e.url,e.vizType,e.contentProviderId).done(t).fail(i)})};this.onCatalogTileAdded=function(e){};this._onTileSettingsSave=function(e,t){const i=new jQuery.Deferred;if(!e||!e.id||!t){return i.reject(new Error("Invalid tile or settings view")).promise()}const r=t.oTitleInput.getValue();const o=t.oSubTitleInput.getValue();const n=t.oInfoInput.getValue();const s=this.getTileTitle(e);const l=this.getTileInfo(e);const a=this.getTileSubtitle(e);if(s===r&&a===o&&l===n){return i.resolve().promise()}const u={};if(s!==r){u.title=r;e.title=r}if(a!==o){u.subtitle=o;e.subTitle=o}if(l!==n){u.info=n;e.info=n}if(this._mResolvedTiles[e.id].tileComponent){this._mResolvedTiles[e.id].tileComponent.tileSetVisualProperties(u)}else if(this._mResolvedTiles[e.id].linkTileControl){if(u.title){this._mResolvedTiles[e.id].linkTileControl.setHeader(u.title)}if(u.subtitle){this._mResolvedTiles[e.id].linkTileControl.setSubheader(u.subtitle)}if(u.title||u.subtitle){this._mResolvedTiles[e.id].linkTileControl.invalidate()}}y.getServiceAsync("CommonDataModel").then(e=>{e.save().fail(e=>{T.error("Could not save personalization changes:",e);i.reject(e)}).done(()=>{i.resolve()})});return i.promise()};this.getTileActions=function(e){const t=[];if(this._isGroupTile(e)&&!this._isFailedGroupTile(e)){const i=new h({config:{display_title_text:this.getTileTitle(e),display_subtitle_text:this.getTileSubtitle(e),display_info_text:this.getTileInfo(e)}});const r=a.getTileSettingsAction(i,this._onTileSettingsSave.bind(this,e),this.getTileType(e));t.push(r)}return t};this._getSiteData=function(){const e=new Promise((e,t)=>{y.getServiceAsync("CommonDataModel").then(i=>{i.getSite().done(e).fail(t)})});return e};this._addDefaultGroup=function(i,r){let n=e.getDefaultGroup(i);if(!n){n=t.createDefaultGroup(o.generateUniqueId(e.getGroupIdsFromSite(r)));r=t.addGroupToSite(r,n,0);i=e.getGroupsArrayFromSite(r)}this._oDefaultGroup=n;return i}}_.prototype=u.prototype;return _});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/v3/LaunchPageAdapter", ["sap/ushell/adapters/cdm/v3/FlpLaunchPageAdapter"],e=>{"use strict";return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/v3/StaticGroupsAdapter", ["sap/ushell/adapters/cdm/v3/AdapterBase"],t=>{"use strict";function e(e,o,r){t.call(this,e,o,r)}e.prototype=t.prototype;e.prototype._addDefaultGroup=function(t,e){return t};e.prototype._getSiteData=function(){return Promise.resolve(this.oAdapterConfiguration.config)};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/v3/_LaunchPage/readApplications", ["sap/base/util/ObjectPath"],t=>{"use strict";const n={};n.getId=function(n){return t.get(["sap.app","id"],n)};n.getTitle=function(n){return t.get(["sap.app","title"],n)};n.getSubTitle=function(n){return t.get(["sap.app","subTitle"],n)};n.getIcon=function(n){return t.get(["sap.ui","icons","icon"],n)};n.getInfo=function(n){return t.get(["sap.app","info"],n)};n.getKeywords=function(n){return t.get(["sap.app","tags","keywords"],n)};n.getContentProviderId=function(n){return t.get(["sap.app","contentProviderId"],n)};n.getInbounds=function(n){return t.get(["sap.app","crossNavigation","inbounds"],n)};n.getInbound=function(n,e){return t.get(["sap.app","crossNavigation","inbounds",e],n)};n.getInboundTarget=function(n,e,i){const r=t.get([e],n)||{};const u=this.getInbound(r,i);if(!r||!u){return}return{semanticObject:u.semanticObject,action:u.action}};n.getTechnicalAttributes=function(n){return t.get(["sap.app","tags","technicalAttributes"],n)};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/v3/_LaunchPage/readCatalogs", [],()=>{"use strict";function i(i){return i.identification.id}function t(i){return i.identification.title}return{getId:i,getTitle:t}},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/v3/_LaunchPage/readHome", ["sap/ushell/utils/type","sap/ushell/adapters/cdm/v3/_LaunchPage/readApplications"],(i,t)=>{"use strict";const e={};e.getGroupsArrayFromSite=function(i){const t=[];i.site.payload.groupsOrder.forEach((e,n)=>{const o=i.groups[e];if(o){o.payload=o.payload||{};t.push(o)}});return t};e.getGroupsMapFromSite=function(i){return i.groups};e.getGroupIdsFromSite=function(i){return i.site.payload.groupsOrder};e.getGroupFromSite=function(i,t){return i.groups[t]};e.getDefaultGroup=function(i){const t=i.filter(i=>i.payload.hasOwnProperty("isDefaultGroup"));if(t.length>0){return t[0]}};e.getGroupId=function(i){return i.identification&&i.identification.id};e.getGroupTitle=function(i){return i.identification.title};e.isGroupPreset=function(i){if(!i.payload.hasOwnProperty("isPreset")){return true}return!!i.payload.isPreset};e.isGroupLocked=function(i){return!!i.payload.locked};e.isGroupVisible=function(i){return!!(i.identification.isVisible===undefined||i.identification.isVisible===true)};e.getGroupTiles=function(t){if(t.payload.tiles&&i.isArray(t.payload.tiles)&&t.payload.tiles.length>0){return t.payload.tiles}return[]};e.getGroupLinks=function(t){if(t.payload.links&&i.isArray(t.payload.links)&&t.payload.links.length>0){return t.payload.links}return[]};e.getTileId=function(i){return i.id};e.getTileVizId=function(i){return i.vizId};e.getTileTitle=function(i,t){if(t&&t.isBookmark){return t.title}const e=i[t.id];if(e){return t.title||e.tileResolutionResult.title}};e.getContentProviderId=function(i){return i.contentProvider||undefined};e.getTileSubtitle=function(i,t){if(t.isBookmark){return t.subTitle}const e=i[t.id];if(e){return t.subTitle||e.tileResolutionResult.subTitle}};e.getTileInfo=function(i,t){if(t.isBookmark){return t.info}const e=i[t.id];if(e){return t.info||e.tileResolutionResult.info}};e.getTileIcon=function(i,t){if(t.isBookmark){return t.icon}const e=i[t.id];if(e){return t.icon||e.tileResolutionResult.icon}};e.getTileIndicatorDataSource=function(i,t){if(t.isBookmark){return t.icon}const e=i[t.id];if(e){return t.icon||e.tileResolutionResult.icon}};e.getTileSize=function(i,t){const e=i[t.id];if(e&&e.tileResolutionResult&&e.tileResolutionResult.size){return e.tileResolutionResult.size}};e.isLink=function(i,t){const e=i[t.id];if(e){return!!e.isLink}return false};e.isCard=function(i,t){const e=i[t.id];if(e){return!!e.tileResolutionResult.isCard}return false};e.isGroupTile=function(i){return!!(i&&i.id&&!i.isCatalogTile)};e.supportsFormFactor=function(i,t){return i.deviceTypes&&i.deviceTypes[t]};e.getInbound=function(i,e){const n=t.getInbound(i,e);return n&&{key:e,inbound:n}};return e},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/v3/_LaunchPage/readPages", ["sap/base/util/ObjectPath","sap/base/util/values"],(e,t)=>{"use strict";const s={};s.getVisualizationReferences=function(s){let a;const i=[];const n=e.get("payload.sections",s)||{};t(n).forEach(t=>{a=e.get("layout.vizOrder",t)||[];a.forEach(e=>{if(t.viz[e]){i.push(t.viz[e])}})});return i};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/v3/_LaunchPage/readUtils", ["sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations","sap/ushell/adapters/cdm/v3/_LaunchPage/readApplications","sap/ushell/adapters/cdm/v3/_LaunchPage/readHome","sap/ushell/adapters/cdm/v3/utilsCdm","sap/ushell/Config","sap/ushell/Container","sap/base/util/deepClone","sap/base/util/isPlainObject","sap/base/util/ObjectPath","sap/base/util/deepExtend","sap/base/util/isEmptyObject","sap/ushell/library"],(t,a,e,i,n,o,r,s,c,u,d,l)=>{"use strict";const p={};const g=l.DisplayFormat;const m={};p.getVizData=async function(n,o,s){if(o.isBookmark&&o.url){o=r(o);o.subTitle=o.subtitle;o.target=i.toTargetFromHash(o.url)}const c=this.getCdmParts(n,o);const d=c&&c[1]||{};const l=c&&c[3]||{};const p=t.get(n,e.getTileVizId(o))||{};const g={id:e.getTileId(o),vizId:e.getTileVizId(o)||"",vizType:o.vizType||t.getTypeId(p)||"",vizConfig:u({},d,o.vizConfig),title:t.getTitle(c)||"",subtitle:t.getSubTitle(c)||"",icon:t.getIcon(c)||"",keywords:t.getKeywords(c)||[],info:t.getInfo(c)||"",target:o.target||t.getTarget(p)||{},indicatorDataSource:this._getIndicatorDataSource(o,p,s),isBookmark:o.isBookmark||false,contentProviderId:o.contentProviderId||a.getContentProviderId(l)||"",displayFormatHint:o.displayFormatHint,numberUnit:t.getNumberUnit(c),_instantiationData:t.getInstantiationData(p)};g.target=this.harmonizeTarget(g.target);g.targetURL=i.toHashFromVizData(g,n.applications);g.contentProviderLabel=await this.getContentProviderLabel(g.contentProviderId);if(g.indicatorDataSource){if(g.indicatorDataSource.dataSource){g.dataSource=t.getDataSource(c,g.indicatorDataSource.dataSource)}else if(o.isBookmark&&o.dataSource){g.dataSource=o.dataSource}}if(o.isBookmark){this._addBookmarkInstantiationData(g,n)}if(!g._instantiationData||!Object.keys(g._instantiationData)){g._instantiationData={platform:"CDM",vizType:t.getType(n,g.vizType)}}this._evaluateDisplayFormat(g,n);return g};p.getContentProviderLabel=function(t){if(Object.hasOwn(m,t)){return m[t]}m[t]=new Promise(async a=>{try{const e=await o.getServiceAsync("ClientSideTargetResolution");const i=await e.getSystemContext(t);a(i?.label)}catch(e){a(t)}});return m[t]};p._getIndicatorDataSource=function(a,e,i){if(a.indicatorDataSource&&a.indicatorDataSource.path){if(a.contentProviderId&&i){a.indicatorDataSource.path=i.getFullyQualifiedXhrUrl(a.indicatorDataSource.path)}return a.indicatorDataSource}return t.getIndicatorDataSource(e)};p.getVizRef=function(t){const a={id:t.id,vizId:t.vizId,title:t.title,subTitle:t.subtitle,icon:t.icon,keywords:t.keywords,info:t.info,target:t.target,indicatorDataSource:t.indicatorDataSource,dataSource:t.dataSource,contentProviderId:t.contentProviderId,displayFormatHint:t.displayFormatHint,numberUnit:t.numberUnit};if(a.indicatorDataSource&&a.indicatorDataSource.originalPath){a.indicatorDataSource.path=a.indicatorDataSource.originalPath;delete a.indicatorDataSource.originalPath}if(t.isBookmark){a.isBookmark=t.isBookmark;if(t.vizConfig!==undefined&&!d(t.vizConfig)){a.vizType=t.vizType;if(t.cdmVizType){a.vizType=t.cdmVizType}a.vizConfig=t.vizConfig}}return a};p.getCdmParts=function(i,n){const o=t.get(i,e.getTileVizId(n))||{};const r=t.getConfig(o);const s=t.getAppDescriptor(i,t.getAppId(o));const c=a.getInbound(s,t.getInboundId(o));return[n,r,c,s]};p.harmonizeTarget=function(t){const a=t.parameters;let e={};if(!a){return t}if(Array.isArray(a)){a.forEach(t=>{if(e[t.name]){if(!Array.isArray(e[t.name].value.value)){e[t.name].value.value=[e[t.name].value.value]}e[t.name].value.value.push(t.value)}else{e[t.name]={value:{value:t.value,format:"plain"}}}})}else{e=Object.keys(a).reduce((t,e)=>{if(!a[e].value||!a[e].value.hasOwnProperty("value")){a[e]={value:a[e]}}return{...t,[e]:a[e]}},{})}t.parameters=e;return t};p._evaluateDisplayFormat=function(a,e){const i=a.displayFormatHint;const n=t.getType(e,a.vizType);const o=t.getTileSize(n);const r=o==="1x2"?g.StandardWide:g.Standard;const s=[r,g.Compact];a.supportedDisplayFormats=t.getSupportedDisplayFormats(n)||s;const c=t.getDefaultDisplayFormat(n)||r;if(a.supportedDisplayFormats.indexOf(i)===-1){a.displayFormatHint=c}};p._addBookmarkInstantiationData=function(a,e){if(a.vizType){const i=t.getType(e,a.vizType);const n=c.get(["sap.app","type"],i||{});if(i&&n!=="chipVizType"){a._instantiationData={platform:"CDM",vizType:i}}else{const e=t.getChipConfigFromVizReference(a);a._instantiationData={platform:"ABAP",chip:r(e),simplifiedChipFormat:true};a.cdmVizType=a.vizType;a.vizType=e.chipId}}else if(a.indicatorDataSource&&a.indicatorDataSource.path){a.vizType="sap.ushell.DynamicAppLauncher"}else{a.vizType="sap.ushell.StaticAppLauncher"}};p.getBookmarkVizTypeIds=function(a){const e=["sap.ushell.StaticAppLauncher","sap.ushell.DynamicAppLauncher"];const i=a.vizType;if(i&&!e.includes(i)){e.push(i)}const n=t.getChipConfigFromVizReference(a);const o=n&&n.chipId;if(o&&!e.includes(o)){e.push(o)}return e};return p});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations", ["sap/ushell/utils","sap/base/util/ObjectPath","sap/base/util/deepClone"],(t,e,n)=>{"use strict";const i={};i.getMap=function(t){return t.visualizations};i.get=function(t,n){return e.get(["visualizations",n],t)};i.getTypeMap=function(t){return t.vizTypes};i.getType=function(t,n){return e.get(["vizTypes",n],t)};i.getTypeId=function(t){return e.get("vizType",t||{})};i.isStandardVizType=function(t){return t==="sap.ushell.StaticAppLauncher"||t==="sap.ushell.DynamicAppLauncher"};i.getSupportedDisplayFormats=function(t){return e.get(["sap.flp","vizOptions","displayFormats","supported"],t||{})};i.getDefaultDisplayFormat=function(t){return e.get(["sap.flp","vizOptions","displayFormats","default"],t||{})};i.getTileSize=function(t){return e.get(["sap.flp","tileSize"],t||{})};i.getConfig=function(t){return e.get("vizConfig",t||{})};i.getTarget=function(t){const n=this.getConfig(t);return e.get(["sap.flp","target"],n||{})};i.getAppId=function(t){const n=this.getTarget(t);return e.get("appId",n||{})};i.getInboundId=function(t){const n=this.getTarget(t);return e.get("inboundId",n||{})};i.getOutbound=function(t,e){const n={semanticObject:e.semanticObject,action:e.action,parameters:this.getTarget(t).parameters||{}};n.parameters["sap-ui-app-id-hint"]={value:{format:"plain",value:this.getAppId(t)}};return n};i.startsExternalUrl=function(t){const e=this.getTarget(t);return e&&e.type==="URL"};i.getAppDescriptor=function(t,n){return e.get(["applications",n],t)};i.getKeywords=function(e){const i=n(e,20);i.splice(2,1);i.splice(0,1);return t.getNestedObjectProperty(i,["sap|app.tags.keywords","sap|app.tags.keywords"])};i.getTitle=function(e){return t.getNestedObjectProperty(e,["title","sap|app.title","title","sap|app.title"])};i.getSubTitle=function(e){return t.getNestedObjectProperty(e,["subTitle","sap|app.subTitle","subTitle","sap|app.subTitle"])};i.getIcon=function(e){return t.getNestedObjectProperty(e,["icon","sap|ui.icons.icon","icon","sap|ui.icons.icon"])};i.getNumberUnit=function(e){const i=n(e,20);i.splice(2,2);return t.getNestedObjectProperty(i,["numberUnit","sap|flp.numberUnit"])};i.getInfo=function(e){return t.getNestedObjectProperty(e,["info","sap|app.info","info","sap|app.info"])};i.getShortTitle=function(e){const i=n(e,20);i.splice(0,1);return t.getNestedObjectProperty(i,["sap|app.shortTitle","shortTitle","sap|app.shortTitle"])};i.getInstantiationData=function(t){return e.get(["vizConfig","sap.flp","_instantiationData"],t)};i.getIndicatorDataSource=function(t){return e.get(["vizConfig","sap.flp","indicatorDataSource"],t)};i.getDataSource=function(e,i){const p=n(e,20);p.splice(2,1);p.splice(0,1);const r=t.getNestedObjectProperty(p,["sap|app.dataSources","sap|app.dataSources"])||{};return r[i]};i.getChipConfigFromVizReference=function(t){return e.get(["vizConfig","sap.flp","chipConfig"],t)};return i},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/v3/utilsCdm", ["sap/ushell/utils","sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations","sap/base/util/deepExtend","sap/base/util/isEmptyObject","sap/base/util/ObjectPath","sap/base/util/merge","sap/base/util/deepEqual","sap/ushell/adapters/cdm/v3/_LaunchPage/readApplications","sap/ushell/utils/UrlParsing","sap/base/Log"],(e,t,i,a,s,r,n,o,p,u)=>{"use strict";const c={};c.getMember=function(t,i){return e.getMember(t,i)};c.getNestedObjectProperty=function(t,i,a){return e.getNestedObjectProperty(t,i,a)};c.mapOne=function(e,s,n,p,u,c){let l=false;s=i({},s);n=i({},n);p=i({},p);u=i({},u);p=p||{};u=u||{};const m={};m.semanticObject=this.getMember(s,"semanticObject");m.action=this.getMember(s,"action");const f=t.getConfig(p);m.title=t.getTitle([undefined,f,s,n]);m.info=t.getInfo([undefined,f,s,n]);m.icon=t.getIcon([undefined,f,s,n]);m.subTitle=t.getSubTitle([undefined,f,s,n]);m.shortTitle=t.getShortTitle([undefined,f,s,n]);m.keywords=t.getKeywords([undefined,f,s,n]);m.numberUnit=t.getNumberUnit([undefined,f,undefined,undefined]);m.deviceTypes=this.getMember(n,"sap|ui.deviceTypes")||{};["desktop","tablet","phone"].forEach(e=>{if(Object.prototype.hasOwnProperty.call(this.getMember(s,"deviceTypes")||{},e)){m.deviceTypes[e]=s.deviceTypes[e]}if(!Object.prototype.hasOwnProperty.call(m.deviceTypes,e)){m.deviceTypes[e]=true}m.deviceTypes[e]=!!m.deviceTypes[e]});m.signature=this.getMember(s,"signature")||{};m.signature.parameters=this.getMember(m,"signature.parameters")||{};m.signature.additionalParameters=this.getMember(s,"signature.additionalParameters")||"allowed";const d=this.getMember(m,"signature.parameters.sap-hide-intent-link");if(d&&d.hasOwnProperty("defaultValue")){m.hideIntentLink=d.defaultValue.value==="true"}if(d&&!d.required&&d.hasOwnProperty("defaultValue")){delete m.signature.parameters["sap-hide-intent-link"]}const h=this.getMember(n,"sap|platform|runtime");m.resolutionResult=i({},h);if(h){m.resolutionResult["sap.platform.runtime"]=i({},h)}if(this.getMember(n,"sap|ui.technology")==="GUI"){m.resolutionResult["sap.gui"]=this.getMember(n,"sap|gui")}if(this.getMember(n,"sap|ui.technology")==="WDA"){m.resolutionResult["sap.wda"]=this.getMember(n,"sap|wda")}if(this.getMember(n,"sap|ui.technology")==="URL"){if(n["sap.url"]){m.resolutionResult["sap.platform.runtime"]=m.resolutionResult["sap.platform.runtime"]||{};m.resolutionResult.url=n["sap.url"].uri;m.resolutionResult["sap.platform.runtime"].url=n["sap.url"].uri}else if(h&&h.uri){m.resolutionResult["sap.platform.runtime"].url=h.uri;m.resolutionResult.url=h.uri}}if(!m.resolutionResult["sap.ui"]){m.resolutionResult["sap.ui"]={}}m.resolutionResult["sap.ui"].technology=this.getMember(n,"sap|ui.technology");m.resolutionResult.applicationType=this._formatApplicationType(m.resolutionResult,n);m.resolutionResult.systemAlias=m.resolutionResult.systemAlias||this.getMember(s,"systemAlias");m.resolutionResult.systemAliasSemantics="apply";m.resolutionResult.text=m.title;m.resolutionResult.appId=this.getMember(n,"sap|app.id");let g;let b;const y=this.getMember(p,"vizConfig.sap|flp.indicatorDataSource");let M={};if(!a(u)){const e=this.getMember(u,"sap|app.type");if(e==="card"){l=true;M=r({},u,p.vizConfig)}else{M.componentName=this.getMember(u,"sap|ui5.componentName");const e=this.getMember(u,"sap|platform|runtime.componentProperties");if(e){M.componentProperties=e}if(this.getMember(u,"sap|platform|runtime.includeManifest")){M.componentProperties=M.componentProperties||{};M.componentProperties.manifest=r({},u,p.vizConfig);delete M.componentProperties.manifest["sap.platform.runtime"]}}}if(this.getMember(n,"sap|app.type")==="plugin"||this.getMember(n,"sap|flp.type")==="plugin"){return undefined}const O=this.getNestedObjectProperty([f,n,u],"sap|flp.tileSize");const v=this.getNestedObjectProperty([f,n,u],"sap|app.description");if(this.getMember(n,"sap|ui.technology")==="GUI"&&this.getMember(n,"sap|gui.transaction")){g=this.getMember(n,"sap|gui.transaction")}if(this.getMember(n,"sap|ui.technology")==="WDA"&&this.getMember(n,"sap|wda.applicationId")){g=this.getMember(n,"sap|wda.applicationId")}const R=this.getNestedObjectProperty([f,n,u],"sap|app.dataSources");if(this.getMember(n,"sap|app.id")){b=this.getMember(n,"sap|app.id")}const T=o.getContentProviderId(n)||"";m.tileResolutionResult={appId:b,title:m.title,subTitle:m.subTitle,icon:m.icon,size:O,info:m.info,keywords:m.keywords,tileComponentLoadInfo:M,indicatorDataSource:y,dataSources:R,description:v,runtimeInformation:h,technicalInformation:g,deviceTypes:m.deviceTypes,isCard:l,contentProviderId:T,numberUnit:m.numberUnit};const P=this.getMember(n,"sap|integration.urlTemplateId");const j=this.getTemplatePayloadFromSite(P,c);if(j){m.templateContext={payload:j,site:c,siteAppSection:n}}return m};c.getTemplatePayloadFromSite=function(e,t){if(!t||typeof e!=="string"){return null}const i=e.replace(/[.]/g,"|");return this.getMember(t.urlTemplates,`${i}.payload`)};c._formatApplicationType=function(e,t){const i=e.applicationType;if(i){return i}const a=this.getMember(t,"sap|platform|runtime.componentProperties.name")||this.getMember(t,"sap|ui5.componentName");if(this.getMember(t,"sap|flp.appType")==="UI5"||this.getMember(t,"sap|ui.technology")==="UI5"){e.applicationType="SAPUI5";e.additionalInformation=`SAPUI5.Component=${a}`;e.url=this.getMember(t,"sap|platform|runtime.componentProperties.url");e.applicationDependencies=this.getMember(t,"sap|platform|runtime.componentProperties");return"SAPUI5"}if(this.getMember(t,"sap|ui.technology")==="GUI"){e.applicationType="TR";e["sap.gui"]=this.getMember(t,"sap|gui");e.systemAlias=this.getMember(t,"sap|app.destination.name");return"TR"}if(this.getMember(t,"sap|ui.technology")==="WDA"){e.applicationType="WDA";e["sap.wda"]=this.getMember(t,"sap|wda");e.systemAlias=this.getMember(t,"sap|app.destination.name");return"WDA"}if(this.getMember(t,"sap|ui.technology")==="URL"){e.applicationType="URL";e.systemAlias=this.getMember(t,"sap|app.destination.name")}return"URL"};c.formatSite=function(e){const t=this;if(!e){return[]}const i=[];try{const a=Object.keys(e.applications||{}).sort();a.forEach(a=>{try{const s=e.applications[a];const r=this.getMember(s,"sap|app.crossNavigation.inbounds");if(r){const a=Object.keys(r).sort();a.forEach(a=>{const n=r[a];const p=t.mapOne(a,n,s,undefined,undefined,e);if(p){p.contentProviderId=o.getContentProviderId(s)||"";i.push(p)}})}}catch(e){u.error(`Error in application ${a}:`,e)}})}catch(e){u.error("FormatSite failed",e);return[]}return i};c.toHashFromInbound=function(e,t){const i={target:{semanticObject:e.semanticObject,action:e.action},params:{}};if(t){i.params["sap-ui-app-id-hint"]=t}const a=s.get("signature.parameters",e)||{};Object.keys(a).forEach(e=>{if(a[e].filter&&Object.prototype.hasOwnProperty.call(a[e].filter,"value")&&(a[e].filter.format===undefined||a[e].filter.format==="plain")){i.params[e]=[a[e].filter.value]}if(a[e].launcherValue&&Object.prototype.hasOwnProperty.call(a[e].launcherValue,"value")&&(a[e].launcherValue.format===undefined||a[e].launcherValue.format==="plain")){i.params[e]=[a[e].launcherValue.value]}});const r=p.constructShellHash(i);if(!r){return undefined}return r};c.toHashFromOutbound=function(e){const t={target:{semanticObject:e.semanticObject,action:e.action},params:{}};const i=e.parameters||{};Object.keys(i).forEach(e=>{if(i.hasOwnProperty(e)&&typeof i[e].value==="object"){t.params[e]=[i[e].value.value]}});const a=p.constructShellHash(t);if(!a){return undefined}return a};c.toHashFromVizData=function(e,t){if(!e.target){return undefined}const i=e.target;if(i.type==="URL"){return i.url}const a=i.appId;const s=i.inboundId;let r;if(a&&s){const e=o.getInboundTarget(t,a,s);r={};if(e){r.semanticObject=e.semanticObject;r.action=e.action;r.parameters=i.parameters||{};r.parameters["sap-ui-app-id-hint"]={value:{value:a,format:"plain"}};r.appSpecificRoute=i.appSpecificRoute||""}}else if(i.semanticObject&&i.action){r=i}return c.toHashFromTarget(r)};c.toHashFromTargetIntent=function(e,t){try{if(t.type==="URL"){return t.url}const i={};i.semanticObject=e.semanticObject;i.action=e.action;i.parameters=t.parameters||{};i.parameters["sap-ui-app-id-hint"]={value:{value:e.businessAppId,format:"plain"}};i.appSpecificRoute=t.appSpecificRoute||"";return c.toHashFromTarget(i)}catch(e){return undefined}};c.toHashFromTarget=function(e){try{const t={};const i=s.get("parameters",e)||{};Object.keys(i).forEach(e=>{t[e]=Array.isArray(i[e].value.value)?i[e].value.value:[i[e].value.value]});const a={target:{semanticObject:e.semanticObject,action:e.action},params:t,appSpecificRoute:e.appSpecificRoute};return`#${p.constructShellHash(a)}`}catch(e){return undefined}};c.toTargetFromHash=function(e){let t=p.parseShellHash(e);if(t!==undefined){const e=t.params||{};if(Object.keys(e).length>0){t.parameters=[];Object.keys(e).forEach(i=>{const a=Array.isArray(e[i])?e[i]:[e[i]];a.forEach(e=>{const a={name:i,value:e};t.parameters.push(a)})})}delete t.params}else{t={type:"URL",url:e}}return t};c.isSameTarget=function(e,t){let i;if(e.type!==t.type){return false}if(e.type==="URL"){i=e.url===t.url}else{i=e.semanticObject===t.semanticObject&&e.action===t.action&&e.appSpecificRoute===t.appSpecificRoute&&n(e.parameters,t.parameters)}return i};return c});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cep/MenuAdapter", ["sap/base/Log","sap/base/i18n/Localization","sap/ushell/components/tiles/utils","sap/ushell/Config","sap/ushell/library","sap/ushell/utils/HttpClient","sap/ushell/utils/workpage/WorkPageService"],(t,e,n,i,s,a,o)=>{"use strict";const r=s.ContentNodeType;const u="sap.ushell.adapters.cep.MenuAdapter";const p={Workpage:"workpage",Visualization:"visualization"};const l={workpage:"workpage",page:"page"};const c={Menu:"FLP menu",ContentNodes:"content nodes"};function d(e,n,i){if(i&&i.config&&i.config.serviceUrl&&i.config.siteId){this.httpClient=new a;this.serviceUrl=i.config.serviceUrl;this.siteId=i.config.siteId;this.oWorkPageService=new o;this.oSiteDataPromise=this._doRequest(this.serviceUrl,this.siteId);this.oVizDataPromise=this._loadVisualizations()}else{t.error("Invalid configuration provided.","",u)}}d.prototype._loadVisualizations=async function(){const t=await this._getVisualizationIds();if(t.length>0){const e={filter:[{id:{in:t}}]};return this.oWorkPageService.loadVisualizations(e,true)}};d.prototype.isMenuEnabled=function(){if(!i.last("/core/menu/enabled")){return Promise.resolve(false)}return this.getMenuEntries().then(t=>t.length>0)};d.prototype.isSideNavigationEnabled=async function(){if(!i.last("/core/sideNavigation/enabled")){return false}const t=await this.getMenuEntries();return t.length>0};d.prototype.getMenuEntries=async function(){const[t,e]=await Promise.all([this._getMenu(),this._getVisualizations()]);return this._buildMenuEntries(t,e)};d.prototype.getContentNodes=async function(){const t=await this._getMenu();return this._buildContentNodes(t)};d.prototype._getVisualizationIds=async function(){const e=new Set;const n=await this._getMenu();n.forEach(n=>{if(!Array.isArray(n?.subMenu)){t.warning(`Menu entry ${n.id} does not contain a sub menu array for site-id: ${this.siteId}, ${u}`);return}n.subMenu.forEach(t=>{if(t.type===p.Visualization&&t.id){e.add(t.id)}})});return[...e]};d.prototype._buildMenuEntries=function(t,e){return t.filter(this._isSpaceNotEmpty.bind(null,c.Menu)).map(t=>{const n=this._buildMenuEntry(t,e);const i=[];t.subMenu.forEach(n=>{n.spaceid=t.id;const s=this._buildMenuEntry(n,e);i.push(s)});if(i.length>1){n.menuEntries=i}return n})};d.prototype._buildMenuEntry=function(e,i){let s=e;let a=e.title;let o=e.icon;let r="Page-";let l="Launchpad";let c="openFLPPage";let d="pageId";let g=e.id;if(Array.isArray(e?.subMenu)&&e.subMenu.length>0){s=e.subMenu[0];r="Space-";g=s.id;if(e.subMenu.length===1&&s.type===p.Visualization){a=s.title;o=s.icon}}const h=i.find(t=>t.id===s?.id);if(h&&h!==undefined){r="App-";d="sap-ui-app-id-hint";if(h.targetAppIntent){g=h.targetAppIntent.businessAppId;l=h.targetAppIntent.semanticObject;c=h.targetAppIntent.action}else{t.warning(`Visualization ${h.id} does not contain a targetAppIntent for site-id: ${this.siteId}, ${u}`)}}if(!n.isIconURIValid(o)){o=undefined}return{title:a,"help-id":r+e.id,description:"",icon:o,type:"IBN",target:{semanticObject:l,action:c,parameters:[{name:"spaceId",value:e.spaceid||e.id},{name:d,value:g}],innerAppRoute:undefined},menuEntries:[]}};d.prototype._buildContentNodes=function(t){return t.filter(this._isSpaceNotEmpty.bind(null,c.ContentNodes)).map(t=>({id:t.id,label:t.title||t.id,type:r.Space,isContainer:false,children:t.subMenu.map(t=>{const e=t.type===p.Workpage;return{id:t.id,label:t.title||t.id,type:e?r.Page:r.Visualization,isContainer:t?.pageType===l.page,children:[]}})}))};d.prototype.isWorkPage=async function(t){const e=await this._getMenu();const n=e.flatMap(t=>t.subMenu||[]).filter(t=>t.pageType===l.workpage&&t.type===p.Workpage).find(e=>e.id===t);return!!n};d.prototype._doRequest=function(n,s){let a=`{\n            menu(siteId: "${s}")\n        }`;a=a.replace(/\n/g,"").replace(/ /g,"");const o={"Content-Type":"application/json",Accept:"application/json","Accept-Language":e.getLanguageTag().toString()};if(i.last("/core/site/sapCdmVersion")){o["sap-cdm-content-version"]=i.last("/core/site/sapCdmVersion")}return this.httpClient.get(`${n}?query=${encodeURIComponent(a)}`,{headers:o}).then(e=>{if(e.status<200||e.status>=300){t.error(e.responseText,"",u);throw new Error(`HTTP request to GraphQL service failed with status: ${e.status} - ${e.statusText}`)}return JSON.parse(e.responseText||"{}")}).then(t=>{try{t.data.menu=t.data.menu.filter(t=>t.id!=="default_space")}catch{}return t})};d.prototype._getMenu=async function(){const e=await this.oSiteDataPromise;if(Array.isArray(e?.data?.menu)&&e.data.menu.length>0){return e.data.menu}t.warning(`No menu found for site-id: ${this.siteId}`,"",u);return[]};d.prototype._getVisualizations=async function(){const e=await this.oVizDataPromise;if(Array.isArray(e?.visualizations?.nodes)&&e.visualizations.nodes.length>0){return e.visualizations.nodes}t.info(`No visualizations found for site-id: ${this.siteId}`,"",u);return[]};d.prototype._isSpaceNotEmpty=function(e,n){if(!(Array.isArray(n?.subMenu)&&n.subMenu.length>0)||!n.subMenu?.some(t=>Object.keys(t).length>0)){t.warning(`FLP space ${n.id} without sub menu content omitted in ${e}.`,"",u);return false}return true};return d});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cep/NavTargetResolutionAdapter", ["sap/ushell/adapters/cep/NavTargetResolutionInternalAdapter"],e=>{"use strict";return e},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cep/NavTargetResolutionInternalAdapter", ["sap/base/i18n/Localization","sap/base/util/ObjectPath","sap/ui/thirdparty/jquery","sap/ushell/Container","sap/ushell/services/ClientSideTargetResolution/VirtualInbounds","sap/ushell/utils/HttpClient","sap/ushell/Config"],(t,e,jQuery,n,i,s,o)=>{"use strict";function r(t,e,n){this.oAdapterConfiguration=n;this._addVirtualInboundsToApplications();this._initializeHttpClient()}r.prototype._addVirtualInboundsToApplications=function(){const t=e.create("config.applications",this.oAdapterConfiguration);const n=i.getInbounds();n.forEach(e=>{const n=`${e.semanticObject}-${e.action}`;t[n]=e.resolutionResult})};r.prototype._getIntentForService=function(t){return n.getServiceAsync("URLParsing").then(e=>{const n=e.parseShellHash(t);return{semanticObject:n.semanticObject,semanticObjectAction:n.action,intentParameters:n.params,queryParameters:{siteId:o.last("/core/site/siteId")||""}}})};r.prototype._initializeHttpClient=function(){const e={"Content-Type":"application/json; charset=utf-8",Accept:"application/json","Accept-Language":t.getLanguageTag().toString()||""};const n=`${this.oAdapterConfiguration.config.navServiceUrl}/`;this.oHttpClient=new s(n,{headers:e})};r.prototype.toPromise=function(t){const e=this;return function(n){const i=new jQuery.Deferred;t.call(e,n).then(i.resolve).catch(i.reject).finally(i.always);return i.promise()}};r.prototype.resolveHashFragment=function(t){return this.toPromise(this._resolveHashFragment).call(this,t)};r.prototype._resolveHashFragment=function(t){return this._getIntentForService(t).then(t=>{const e=`${this.oAdapterConfiguration.config.navServiceUrl}/resolve`;return this.oHttpClient.post(e,{data:JSON.stringify(t)}).then(t=>{if(t.status<200||t.status>=300){throw new Error(`HTTP request to navigation service failed with status: ${t.status} - ${t.statusText}`)}return JSON.parse(t.responseText)}).then(t=>{const e=t.value||t;const n=Array.isArray(e)?e[0].url:e.url;return{additionalInformation:"",url:n,applicationType:"URL",navigationMode:"newWindow"}})})};r.prototype.isIntentSupported=function(t){const e={};const n=t.map(async t=>{const n=await this._resolveHashFragment(t).catch(()=>{});e[t]={supported:!!n}});const i=new jQuery.Deferred;Promise.all(n).then(()=>{i.resolve(e)});return i.promise()};return r},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cep/SearchCEPAdapter", ["sap/ui/core/Lib","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/Sorter","sap/ushell/Container"],(e,t,i,r,o)=>{"use strict";function n(e,t,i){}n.prototype.search=function(e){return this._searchWithSearchableContentAndJsSearch(e)};n.prototype._searchWithSearchableContentAndJsSearch=function(e){return Promise.all([this._getNormalizedSearchableContentApps(e),this._loadJsSearchModule()]).then(t=>{const i=t[0];const r=t[1];const o=new r({objects:i,fields:["title","label","contentProviderLabel","description","keywords","fioriAppId"],shouldNormalize:!String.prototype.normalize,algorithm:{id:"contains-ranked",options:[50,49,40,39,5,4,51]}});const n={searchFor:e?.searchTerm||"*",top:Number.MAX_SAFE_INTEGER,skip:0};const s=o.search(n);const a=s.results.map(e=>e.object);return this._getPaginatedResult(this._applyFiltersAndSorter(a,e.filter,e.sort),e.skip||0,e.top||10)})};n.prototype._getPaginatedResult=function(e,t,i){return{data:e.slice(t,t+i),count:e.length}};n.prototype._getSearchableContent=function(e){const t=e&&{includeAppsWithoutVisualizations:!!e.includeAppsWithoutVisualizations,enableVisualizationPreview:e.enableVisualizationPreview!==false};return o.getServiceAsync("SearchableContent").then(e=>e.getApps(t))};n.prototype._getNormalizedSearchableContentApps=function(e){return this._getSearchableContent(e).then(e=>this._normalizeSearchableContentServiceResult(e))};n.prototype._normalizeSearchableContentServiceResult=function(e){if(!Array.isArray(e)){e=[]}const t=[];let i;let r;let o;let n;let s;e.forEach(e=>{if(e.visualizations&&e.visualizations.length>0){e.visualizations.forEach(a=>{i=a.vizConfig&&a.vizConfig["sap.app"]&&a.vizConfig["sap.app"].title||a.title||e.title;r=a.vizConfig&&a.vizConfig["sap.app"]&&a.vizConfig["sap.app"].subTitle||a.subtitle||e.subtitle;o=a.vizConfig&&a.vizConfig["sap.app"]&&a.vizConfig["sap.app"].description||a.description||e.description;s=a?.vizConfig?.["sap.fiori"]?.registrationIds||[];n=r?`${i} - ${r}`:i;t.push({fioriAppId:s.join(" "),title:i,description:r,longDescription:o||"",keywords:Array.isArray(a.keywords)?a.keywords.join(" "):"",icon:a.icon||"",label:n,contentProviderLabel:a.contentProviderLabel||"",visualization:a,url:a.targetURL,technicalAttributes:Array.isArray(e.technicalAttributes)?e.technicalAttributes.join(" "):""})})}else{i=e.title;r=e.subtitle;n=r?`${i} - ${r}`:i;t.push({title:i,description:r,longDescription:e.description||"",keywords:Array.isArray(e.keywords)?e.keywords.join(" "):"",icon:e.icon||"",label:n,url:e.targetURL,technicalAttributes:Array.isArray(e.technicalAttributes)?e.technicalAttributes.join(" "):""})}});return t};n.prototype._loadJsSearchModule=function(){this._loadJsSearchModulePromise=new Promise(t=>{e.load("sap.esh.search.ui").then(()=>{sap.ui.require(["sap/esh/search/ui/appsearch/JsSearch"],e=>{t(e)})})});return this._loadJsSearchModulePromise};n.prototype._createFilters=function(e){let t=null;if(e){if(typeof e==="object"){if(Array.isArray(e.filters)){e.filters=e.filters.map(e=>e instanceof i?e:new i(e))}t=[e instanceof i?e:new i(e)]}}return t};n.prototype._createSorters=function(e){let t=null;if(e){if(typeof e==="object"&&!Array.isArray(e)){e=[e]}if(Array.isArray(e)){t=e.map(e=>e instanceof r?e:new r(e))}}return t};n.prototype._applyFiltersAndSorter=function(e,i,r){if(!i&&!r){return e}const o=this._createFilters(i);const n=this._createSorters(r);const s=new t;s.setSizeLimit(Number.MAX_SAFE_INTEGER);s.setData(e);return s.bindList("/",null,n,o).getContexts().map(e=>e.getObject())};return n},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cflp/UserDefaultParameterPersistenceAdapter", ["sap/ushell/utils/HttpClient","sap/ui/thirdparty/jquery","sap/base/Log","sap/base/util/ObjectPath","sap/ushell/Container"],(e,jQuery,t,r,a)=>{"use strict";function s(e,t,r){this.sBaseServicePath="/sap/opu/odata/UI2/INTEROP/";this.oConfig={};if(r&&r.userBaseServicePath!==undefined){this.oConfig.sBaseServicePath=r.userBaseServicePath}else{this.oConfig.sBaseServicePath=this.sBaseServicePath}this.oConfig.oHttpClientConfig={"sap-language":a.getUser().getLanguage(),"sap-client":a.getLogonSystem().getClient(),"sap-statistics":true,headers:{Accept:"application/json"},data:{}};this._mSystems={}}s.prototype.loadParameterValue=function(e,t){const r=new jQuery.Deferred;const a=this._isValidParameterName(e);if(a){this._getUserDefaultParameterContainer(t).done(t=>{const a=t.find(t=>t.id===e);if(a!==undefined){const e=JSON.parse(a.value);r.resolve(e)}else{r.reject(new Error(`Parameter does not exist: ${e}`))}}).fail(e=>{r.reject(e)})}else{r.reject(new Error(`Illegal Parameter Key. Parameter must be less than 40 characters and [A-Za-z0-9.-_]+ :"${e}"`))}return r.promise()};s.prototype._createRequest=function(e){return{data:{PersContainerItems:e,appName:"",category:"P",component:"",id:"sap.ushell.UserDefaultParameter"},headers:{"content-type":"application/json",accept:"application/json"}}};s.prototype.saveParameterValue=function(e,t,r){const a=new jQuery.Deferred;const s=this._isValidParameterName(e);if(s){const s=this._getXHttpWrapper(r);this._getUserDefaultParameterContainer(r).done(r=>{const n=r.findIndex(t=>t.id===e);if(n>-1){r[n].value=JSON.stringify(t)}else{const a={category:"I",containerCategory:"P",containerId:"sap.ushell.UserDefaultParameter",id:e,value:JSON.stringify(t)};r.push(a)}s.post("PersContainers",this._createRequest(r)).then(a.resolve).catch(a.reject)}).fail(a.reject)}else{a.reject(new Error(`Illegal Parameter Key. Parameter must be less than 40 characters and [A-Za-z0-9.-_]+ :"${e}"`))}return a.promise()};s.prototype.deleteParameter=function(e,t){const r=new jQuery.Deferred;const a=this._isValidParameterName(e);if(a){const a=this._getXHttpWrapper(t);this._getUserDefaultParameterContainer(t).done(t=>{const s=t.findIndex(t=>t.id===e);if(s>-1){t.splice(s,1);a.post("PersContainers",this._createRequest(t)).then(r.resolve).catch(r.reject)}else{r.resolve()}}).fail(r.reject)}else{r.reject(new Error(`Illegal Parameter Key. Parameter must be less than 40 characters and [A-Za-z0-9.-_]+ :"${e}"`))}return r.promise()};s.prototype.getStoredParameterNames=function(e){const t=new jQuery.Deferred;this._getUserDefaultParameterContainer(e).done(e=>{const r=e.map(e=>e.id);r.sort();t.resolve(r)}).fail(e=>{t.reject(e)});return t.promise()};s.prototype._getXHttpWrapper=function(t){if(!this._mSystems[t.id]){this._mSystems[t.id]={}}if(!this._mSystems[t.id].oHttpWrapper){const r=t.getFullyQualifiedXhrUrl(this.oConfig.sBaseServicePath);this._mSystems[t.id].oHttpWrapper=new e(r,this.oConfig.oHttpClientConfig)}return this._mSystems[t.id].oHttpWrapper};s.prototype._isValidParameterName=function(e){const r=!!(typeof e==="string"&&e.length<=40&&/^[A-Za-z0-9.-_]+$/.exec(e));if(!r){t.error(`Illegal Parameter Key. Parameter must be less than 40 characters and [A-Za-z0-9.-_]+ :"${e}"`)}return r};s.prototype._getUserDefaultParameterContainer=function(e){const a=new jQuery.Deferred;let s;try{s=this._getXHttpWrapper(e)}catch(e){a.reject(e);return a.promise()}const n=this._mSystems[e.id];if(!n.oContainerCache){n.oContainerCache=a;const e=s.get("PersContainers(category='P',id='sap.ushell.UserDefaultParameter')?$expand=PersContainerItems");e.then(e=>{n.bDataReceived=true;const t=e.responseText?JSON.parse(e.responseText):{};const a=r.get("d.PersContainerItems.results",t)||[];n.oContainerCache.resolve(a)}).catch(e=>{if(e.details?.status===404){n.oContainerCache.resolve([])}else{t.error("Server error:",e);n.oContainerCache.reject(e)}})}return n.oContainerCache.promise()};return s},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/local/AdapterContainer", ["sap/ui/thirdparty/jquery","sap/ui/util/Storage","sap/ushell/utils"],(jQuery,e,t)=>{"use strict";let s;function n(){return new e(e.Type.local,"com.sap.ushell.adapters.sandbox.Personalization")}function o(e){try{return JSON.parse(e)}catch{return undefined}}function r(e){return JSON.stringify(e)}function i(e){if(e===undefined){return undefined}try{return JSON.parse(JSON.stringify(e))}catch{return undefined}}function a(e,n,o){s=o;this._sContainerKey=e;this._sStorageType=n;this._oItemMap=new t.Map}a.prototype.constants={storage:{MEMORY:"MEMORY",LOCAL_STORAGE:"LOCAL_STORAGE"}};a.prototype.load=function(){const e=new jQuery.Deferred;switch(this._sStorageType){case this.constants.storage.LOCAL_STORAGE:const t=n();setTimeout(()=>{const s=t.get(this._sContainerKey);this._oItemMap.entries=o(s)||{};e.resolve(this)},0);break;case this.constants.storage.MEMORY:setTimeout(()=>{this._oItemMap.entries=i(s[this._sContainerKey])||{};e.resolve(this)},0);break;default:setTimeout(()=>{e.reject(new Error("unknown storage type"))},0)}return e.promise()};a.prototype.save=function(){const e=new jQuery.Deferred;switch(this._sStorageType){case this.constants.storage.LOCAL_STORAGE:const t=n();setTimeout(()=>{const s=r(this._oItemMap.entries);t.put(this._sContainerKey,s);e.resolve()},0);break;case this.constants.storage.MEMORY:setTimeout(()=>{s[this._sContainerKey]=i(this._oItemMap.entries);e.resolve()},0);break;default:setTimeout(()=>{e.reject(new Error("unknown storage type"))},0)}return e.promise()};a.prototype.del=function(){const e=new jQuery.Deferred;switch(this._sStorageType){case this.constants.storage.LOCAL_STORAGE:const t=n();setTimeout(()=>{t.remove(this._sContainerKey);this._oItemMap.entries={};e.resolve()},0);break;case this.constants.storage.MEMORY:setTimeout(()=>{if(s&&s[this._sContainerKey]){delete s[this._sContainerKey]}this._oItemMap.entries={};e.resolve()},0);break;default:setTimeout(()=>{e.reject(new Error("unknown storage type"))},0)}return e.promise()};a.prototype.getItemKeys=function(){return this._oItemMap.keys()};a.prototype.containsItem=function(e){return this._oItemMap.containsKey(e)};a.prototype.getItemValue=function(e){return this._oItemMap.get(e)};a.prototype.setItemValue=function(e,t){this._oItemMap.put(e,t)};a.prototype.delItem=function(e){this._oItemMap.remove(e)};return a},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/local/AppStateAdapter", ["sap/ushell/services/appstate/AppStatePersistencyMethod","sap/ui/thirdparty/jquery","sap/base/Log","sap/ushell/Container"],(e,jQuery,t,r)=>{"use strict";function n(e,t,r){this._oConfig=r&&r.config}n.prototype._getPersonalizationService=function(){return r.getServiceAsync("PersonalizationV2")};n.prototype.saveAppState=function(e,n,o,s,a,i,c){const p=new jQuery.Deferred;this._getPersonalizationService().then(n=>{n.createEmptyContainer(e,{keyCategory:n.KeyCategory.GENERATED_KEY,writeFrequency:n.WriteFrequency.HIGH,clientStorageAllowed:false}).then(e=>{e.setItemValue("appStateData",o);e.setItemValue("persistencyMethod",i);e.setItemValue("persistencySettings",c);e.setItemValue("createdBy",r&&r.getUser&&r.getUser().getId());e.save().then(()=>{p.resolve()}).catch(e=>{t.error("AppState save failed",e);p.reject(e)})}).catch(e=>{t.error("AppState save failed",e);p.reject(e)})});return p.promise()};n.prototype.loadAppState=function(r){const n=new jQuery.Deferred;const o=this;this._getPersonalizationService().then(s=>{s.getContainer(r,{keyCategory:s.KeyCategory.GENERATED_KEY,writeFrequency:s.WriteFrequency.HIGH,clientStorageAllowed:false}).then(t=>{const s=t.getItemValue("appStateData");const a=t.getItemValue("persistencyMethod");const i=t.getItemValue("persistencySettings");const c=t.getItemValue("createdBy");if(a===undefined){n.resolve(r,s)}else if(a===e.PersonalState){if(o.getCurrentUserForTesting()===""||o.getCurrentUserForTesting()===c){n.resolve(r,s,a,i)}else{n.reject(new Error("Unauthorized User ID"))}}}).catch(e=>{t.error("AppState load failed",e);n.reject(e)})});return n.promise()};n.prototype.deleteAppState=function(e){const r=new jQuery.Deferred;this._getPersonalizationService().then(n=>{n.deleteContainer(e).then(()=>{r.resolve()}).catch(e=>{t.error("AppState delete failed",e);r.reject(e)})});return r.promise()};n.prototype.getCurrentUserForTesting=function(){return""};n.prototype.getSupportedPersistencyMethods=function(){return[]};return n},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/local/ClientSideTargetResolutionAdapter", ["sap/ui/thirdparty/jquery","sap/base/Log","sap/ushell/Container"],(jQuery,e,t)=>{"use strict";function n(n,o,i){this._oConfig=i&&i.config;this._aInbounds=[];if(!this._oConfig){this._oSystemAliases={};e.warning("No configuration supplied!","","sap.ushell.adapters.local.ClientSideTargetResolutionAdapter")}else{if(this._oConfig.inbounds){this._aInbounds=this._transformInboundsObjectToInboundsArray(this._oConfig.inbounds)}if(this._oConfig.applications){Array.prototype.push.apply(this._aInbounds,this._transformApplicationsToInbounds(this._oConfig.applications))}if(this._aInbounds.length===0){e.warning("Adapter got no inbounds via configuration!","","sap.ushell.adapters.local.ClientSideTargetResolutionAdapter")}this._oSystemAliases=this._oConfig.systemAliases||{};e.debug("Adapter got no system aliases via configuration","","sap.ushell.adapters.local.ClientSideTargetResolutionAdapter")}const s=t.getLogonSystem().getProductName()||"";this._oLocalSystemAlias={http:{host:"",port:0,pathPrefix:"/sap/bc/"},https:{host:"",port:0,pathPrefix:"/sap/bc/"},rfc:{systemId:"",host:"",service:0,loginGroup:"",sncNameR3:"",sncQoPR3:""},id:"",label:"local",client:"",language:"",properties:{productName:s}}}n.prototype.getInbounds=function(){const e=new jQuery.Deferred;const t=this;setTimeout(()=>{e.resolve(t._aInbounds)},0);return e.promise()};n.prototype.resolveSystemAlias=function(e){const t=new jQuery.Deferred;setTimeout(()=>{if(this._oSystemAliases.hasOwnProperty(e)){t.resolve(this._oSystemAliases[e])}else if(e===""){t.resolve(this._oLocalSystemAlias)}else{t.reject(new Error("No system alias value available"))}},0);return t.promise()};n.prototype._transformApplicationsToInbounds=function(t){let n;const o=[];let i;let s;let a;function l(e,t){if(e==="NWBC"&&t){if(t.indexOf("/~canvas;window=app/wda")>=0){return"WDA"}return"TR"}return e}for(n in t){if(t.hasOwnProperty(n)&&n.indexOf("_")!==0){s={};if(n.indexOf("-")>-1){a=n.split("-",2);s.semanticObject=a[0];s.action=a[1]}else if(n===""){s.semanticObject="";s.action=""}else{e.warning(`Excluded syntactically incorrect intent '${n}' from inbounds array`,"","sap.ushell.adapters.local.ClientSideTargetResolutionAdapter");continue}i=t[n];s.title=i.description||"";s.signature={parameters:{}};s.signature.additionalParameters="allowed";s.resolutionResult={};s.resolutionResult.applicationType=l(i.applicationType,i.url);s.resolutionResult.additionalInformation=i.additionalInformation||"";if(s.resolutionResult.additionalInformation&&s.resolutionResult.additionalInformation.indexOf("SAPUI5.Component=")!==-1){s.resolutionResult.applicationType="SAPUI5";s.resolutionResult.ui5ComponentName=s.resolutionResult.additionalInformation.split("SAPUI5.Component=",2)[1];if(i.applicationDependencies){s.resolutionResult.applicationDependencies=i.applicationDependencies}else{s.resolutionResult.applicationDependencies={self:{name:s.resolutionResult.ui5ComponentName},asyncHints:{libs:[{name:"sap.ui.core"},{name:"sap.ui.unified"}]}}}}s.resolutionResult.url=i.url;o.push(s)}}return o};n.prototype._transformInboundsObjectToInboundsArray=function(e){let t;const n=[];let o;for(t in e){if(e.hasOwnProperty(t)){o=e[t];if(o.resolutionResult.additionalInformation&&o.resolutionResult.additionalInformation.indexOf("SAPUI5.Component=")!==-1){o.resolutionResult.ui5ComponentName=o.resolutionResult.additionalInformation.split("SAPUI5.Component=",2)[1];if(!o.resolutionResult.hasOwnProperty("applicationDependencies")){o.resolutionResult.applicationDependencies={self:{name:o.resolutionResult.ui5ComponentName},asyncHints:{libs:[{name:"sap.ui.core"},{name:"sap.ui.unified"}]}}}}n.push(e[t])}}return n};return n},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/local/ContainerAdapter", ["sap/base/Log","sap/base/i18n/Localization","sap/base/util/deepClone","sap/base/util/ObjectPath","sap/ui/thirdparty/jquery","sap/ushell/System","sap/ushell/User","sap/ushell/utils"],(e,t,s,a,jQuery,i,n,o)=>{"use strict";function r(r,l,c){let m;const u=a.create("config",c);const p={id:"DEFAULT_USER",firstName:"Default",lastName:"User",fullName:"Default User",accessibility:false,isJamActive:false,language:t.getLanguage()||"en",bootTheme:{theme:"sap_horizon",root:""},themeRoot:"/sap/public/bc/themes/",setAccessibilityPermitted:true,setThemePermitted:true,isLanguagePersonalized:false,setContentDensityPermitted:true,trackUsageAnalytics:null};for(const e in u){if(u.hasOwnProperty(e)){p[e]=u[e]}}r=new i({alias:r.getAlias(),platform:r.getPlatform(),productName:a.get("systemProperties.productName",u),productVersion:a.get("systemProperties.productVersion",u),systemName:a.get("systemProperties.systemName",u),systemRole:a.get("systemProperties.systemRole",u),tenantRole:a.get("systemProperties.tenantRole",u)});this.getSystem=function(){return r};this.getUser=function(){return m};this.sessionKeepAlive=function(){e.warn("Demo container adapter sessionKeepAlive called")};function f(e){const t=s(e);const a=["id","email","firstName","lastName","fullName","isJamActive","isAdminUser","timeZone","language","languageBcp47","image","isImageConsent","isLanguagePersonalized","calendarWeekNumbering","trackUsageAnalytics","contentDensity","setContentDensityPermitted","accessibility","setAccessibilityPermitted","bootTheme","themeRoot","ranges","setThemePermitted","importBookmarks","showMyHome","detectDarkMode"];Object.keys(t).forEach(e=>{if(!a.includes(e)){delete t[e]}});return t}this.load=function(){const e=new jQuery.Deferred;if(u&&typeof u.setUserCallback==="string"){const t=new jQuery.Deferred;const s=u.setUserCallback.split(".");const i=s.pop();let r;if(s.length===0){r=window}else{r=a.get(s.join("."))}if(r&&typeof r[i]==="function"){r[i](t)}else{throw new o.Error(`ContainerAdapter local platform: Cannot execute setUserCallback - ${u.setUserCallback}`)}t.done(t=>{["id","firstName","lastName","fullName"].forEach(e=>{if(t[e]&&typeof u.setUserCallback!=="function"){p[e]=t[e]}});const s=f(p);m=new n(s);e.resolve()})}else{const t=f(p);m=new n(t);e.resolve()}return e.promise()};this.logout=async function(){e.info(`Demo system logged out: ${r.getAlias()}`,null,"sap.ushell.adapters.local.ContainerAdapter");o.reload()}}return r},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/local/FlpLaunchPageAdapter", ["sap/base/Log","sap/base/i18n/Localization","sap/base/util/deepExtend","sap/base/util/ObjectPath","sap/m/GenericTile","sap/m/ImageContent","sap/m/library","sap/m/NumericContent","sap/m/TileContent","sap/ui/core/ComponentContainer","sap/ui/core/Component","sap/ui/core/library","sap/ui/core/mvc/View","sap/ui/Device","sap/ui/model/resource/ResourceModel","sap/ui/thirdparty/datajs","sap/ui/thirdparty/hasher","sap/ui/thirdparty/jquery","sap/ushell/Config","sap/ushell/library","sap/ushell/resources","sap/ushell/utils","sap/ushell/utils/WindowUtils","sap/ushell/EventHub","sap/ushell/Container"],(e,t,i,r,s,n,o,l,a,p,u,c,d,f,h,T,g,jQuery,m,w,y,v,b,L,C)=>{"use strict";const _=c.mvc.ViewType;const R=o.GenericTileMode;const U=w.AppType;function P(e){const t={};t[e.namespace.replace(/\./g,"/")]=e.path||".";sap.ui.loader.config({paths:t})}function k(t,i){if(t.tileType!=="sap.ushell.ui.tile.DynamicTile"||!t.properties||!t.properties.serviceUrl){return}if(t.intervalTimer){window.clearInterval(t.intervalTimer);t.intervalTimer=undefined}if(i){let i=t.serviceRefreshInterval;if(i){i=i*1e3}else{i=1e4}t.intervalTimer=window.setInterval(()=>{T.read(`${t.properties.serviceUrl}?id=${t.id}&t=${(new Date).getTime()}`,()=>{e.debug(`Dynamic tile service call succeed for tile ${t.id}`)},i=>{e.debug(`Dynamic tile service call failed for tile ${t.id}, error message:${i.message}`)})},v.sanitizeTimeoutDelay(i))}}function I(o,c,T){const w=i([],T.config.groups);const v=0;const S=10;const z=10;const D=10;let G;const F={};for(let e=0;e<w.length;e++){if(w[e].isDefaultGroup===true){G=w[e];break}}if(!G&&w.length>0){G=w[0];G.isDefaultGroup=true}this.translationBundle=y.i18n;this.TileType={Tile:"tile",Link:"link",Card:"card"};let B;this.oResourceBundlePromise=Promise.resolve();if(T.config.pathToLocalizedContentResources){const e=new h({async:true,bundleUrl:T.config.pathToLocalizedContentResources,bundleLocale:t.getLanguage()});this.oResourceBundlePromise=e.getResourceBundle();this.oResourceBundlePromise.then(e=>{B=e})}function V(e){if(B){return B.getText(e)}return e}const j=T.config.catalogs||[];this.oResourceBundlePromise.then(()=>{j.forEach(e=>{if(B){e.title=V(e.title)}e.tiles.forEach(e=>{e.getTitle=()=>e.title;e.getChip=()=>({getBaseChipId:()=>e.chipId})})});w.forEach(e=>{if(B){e.title=V(e.title)}e.tiles.forEach(e=>{k(e,true)})})});function A(){return 100*Math.random()<v}function M(){return 100*Math.random()<S}function N(){return z+D*Math.random()}function E(e,t){let i;for(i=0;i<e.tiles.length;i=i+1){if(t.id===e.tiles[i].id){return i}}return-1}function H(e,t){let i;for(i=0;i<e.length;i=i+1){if(t.id===e[i].id){return i}}return-1}function $(e){const t=new jQuery.Deferred;window.setTimeout(()=>{t.resolve(e)},N());return t.promise()}this.getGroups=function(){const e=new jQuery.Deferred;window.setTimeout(async()=>{await this.oResourceBundlePromise;e.resolve(w.slice(0))},N());return e.promise()};this.getDefaultGroup=function(){const e=new jQuery.Deferred;e.resolve(G);return e.promise()};this.addGroup=function(e){const t=new jQuery.Deferred;const i=A();window.setTimeout(async()=>{await this.oResourceBundlePromise;if(!i){const i={id:`group_${w.length}`,title:e,tiles:[]};w.push(i);t.resolve(i)}else{this.getGroups().done(t.reject).fail(t.reject)}},N());return t.promise()};this.getGroupTitle=function(e){return e.title};this.setGroupTitle=function(e,t){const i=new jQuery.Deferred;const r=A();window.setTimeout(()=>{if(!r){e.title=t;i.resolve()}else{$(e).done(e=>{i.reject(new Error("Failed to set group title"),e.title)}).fail(i.reject)}},N());return i.promise()};this.getGroupId=function(e){return e.id};this.hideGroups=function(e){const t=new jQuery.Deferred;this.oResourceBundlePromise.then(()=>{if(e&&w){for(let t=0;t<w.length;t++){if(e.indexOf(w[t].id)!==-1){w[t].isVisible=false}else{w[t].isVisible=true}}}t.resolve()});return t.promise()};this.isGroupVisible=function(e){return e&&(e.isVisible===undefined?true:e.isVisible)};this.moveGroup=function(e,t){const i=new jQuery.Deferred;const r=A();window.setTimeout(async()=>{await this.oResourceBundlePromise;if(!r){w.splice(t,0,w.splice(H(w,e),1)[0]);i.resolve()}else{this.getGroups().done(i.reject).fail(i.reject)}},N());return i.promise()};this.removeGroup=function(e){const t=new jQuery.Deferred;const i=A();window.setTimeout(async()=>{await this.oResourceBundlePromise;if(!i){w.splice(H(w,e),1);e.tiles.forEach(e=>{k(e,false)});t.resolve()}else{this.getGroups().done(t.reject).fail(t.reject)}},N());return t.promise()};this.resetGroup=function(e){const t=new jQuery.Deferred;const r=A();window.setTimeout(async()=>{await this.oResourceBundlePromise;if(!r){e.tiles.forEach(e=>{k(e,false)});e=i({},T.config.groups[H(T.config.groups,e)]);w.splice(H(w,e),1,e);e.tiles.forEach(e=>{k(e,true)});t.resolve(e)}else{this.getGroups().done(t.reject).fail(t.reject)}},N());return t.promise()};this.isGroupRemovable=function(e){return e&&!e.isPreset};this.isGroupLocked=function(e){return e.isGroupLocked};this.isGroupFeatured=function(e){return e.isFeatured};this.getGroupTiles=function(e){return e.tiles};this.getLinkTiles=function(e){return e.links};this.getTileTitle=function(e){return e.title};this.getTileType=function(e){if(e.isLink){return this.TileType.Link}if(e.isCard){return this.TileType.Card}return this.TileType.Tile};this.getTileId=function(e){return e.id};this.getTileSize=function(e){return e.size};this.getTileTarget=function(e){let t;if(e.properties){t=e.properties.href||e.properties.targetURL}return e.target_url||t||""};this.isTileIntentSupported=function(e){if(e&&e.formFactor){let t;const i=e.formFactor;const r=f.system;if(r.desktop){t="Desktop"}else if(r.tablet){t="Tablet"}else if(r.phone){t="Phone"}if(i.indexOf(t)===-1){return false}}return true};this.isTileIntentSupportedAsync=function(e){return Promise.resolve(this.isTileIntentSupported(e))};this.isLinkPersonalizationSupported=function(e){if(e){return e.isLinkPersonalizationSupported}return true};this.getTileView=function(e){const t=new jQuery.Deferred;const i=A();if(M()){window.setTimeout(()=>{if(!i){this._getTileView(e).done(t.resolve)}else{t.reject(new Error("Failed to get tile view"))}},N())}else if(!i){this._getTileView(e).done(t.resolve)}else{t.reject(new Error("Failed to get tile view"))}return t.promise()};this._getTileView=function(e){let t="unknown error";const i=this.getTileType(e)==="link";const r=new jQuery.Deferred;Promise.resolve().then(async()=>{await this._translateTileProperties(e);if(e.namespace&&e.path&&e.moduleType){P(e);if(e.moduleType==="UIComponent"){u.create({componentData:{properties:e.properties},name:e.moduleName}).then(e=>{const t=new p({component:e,height:"100%",width:"100%"});r.resolve(t)})}else{d.create({viewName:e.moduleName,type:_[e.moduleType],viewData:{properties:e.properties},height:"100%"}).then(r.resolve)}return}else if(e.tileType){const n=i?"Link":e.tileType;if(n){try{this._createTileInstance(e,n).done(e=>{this._handleTilePress(e);this._applyDynamicTileInfoState(e);r.resolve(e)})}catch(t){r.resolve(new s({header:t&&`${t.name}: ${t.message}`||this.translationBundle.getText("failedTileCreationMsg"),frameType:this._parseTileSizeToGenericTileFormat(e.size)}))}return}t=`TileType: ${e.tileType} not found!`}else{t="No TileType defined!"}r.resolve(new s({header:t,frameType:this._parseTileSizeToGenericTileFormat(e.size)}))});return r.promise()};this._getCatalogTileViewAsync=function(e){const t=new jQuery.Deferred;Promise.resolve().then(async()=>{let i;let r="unknown error";const n=this.getTileType(e)==="link";await this._translateTileProperties(e);if(e.namespace&&e.path&&e.moduleType){P(e);if(e.moduleType==="UIComponent"){u.create({componentData:{properties:e.properties},name:e.moduleName}).then(e=>{const i=new p({component:e,height:"100%",width:"100%"});t.resolve(i)})}else{d.create({viewName:e.moduleName,type:_[e.moduleType],viewData:{properties:e.properties},height:"100%"}).then(t.resolve)}return}else if(e.tileType){const o=n?"Link":e.tileType;if(o){try{i=this._createCatalogTileInstanceAsync(e,o);i.done(e=>{this._handleTilePress(e);this._applyDynamicTileInfoState(e);t.resolve(e)})}catch(i){t.resolve(new s({header:i&&`${i.name}: ${i.message}`||this.translationBundle.getText("failedTileCreationMsg"),frameType:this._parseTileSizeToGenericTileFormat(e.size)}))}return}r=`TileType: ${e.tileType} not found!`}r="No TileType defined!";t.resolve(new s({header:r,frameType:this._parseTileSizeToGenericTileFormat(e.size)}))});return t.promise()};this._createTileInstance=function(e,t){let i;const n=new jQuery.Deferred;const o=this._getImageContent({src:e.properties.icon});o.addStyleClass("sapUshellFullWidth");switch(t){case"sap.ushell.ui.tile.DynamicTile":i=new s({header:e.properties.title,subheader:e.properties.subtitle,frameType:this._parseTileSizeToGenericTileFormat(e.size),url:b.getLeanURL(e.properties.targetURL),tileContent:new a({frameType:this._parseTileSizeToGenericTileFormat(e.size),footer:e.properties.info,unit:e.properties.numberUnit,content:new l({scale:e.properties.numberFactor,value:e.properties.numberValue,truncateValueTo:5,indicator:e.properties.stateArrow,valueColor:this._parseTileValueColor(e.properties.numberState),icon:e.properties.icon,width:"100%"})}),press:this._genericTilePressHandler.bind(this,e)});F[e.id]=i;n.resolve(i);break;case"sap.ushell.ui.tile.StaticTile":i=new s({mode:e.mode||(e.properties.icon?R.ContentMode:R.HeaderMode),header:e.properties.title,subheader:e.properties.subtitle,frameType:this._parseTileSizeToGenericTileFormat(e.size),url:b.getLeanURL(e.properties.targetURL),tileContent:new a({frameType:this._parseTileSizeToGenericTileFormat(e.size),footer:e.properties.info,content:o}),press:this._genericTilePressHandler.bind(this,e)});F[e.id]=i;n.resolve(i);break;case"Link":i=new s({mode:R.LineMode,subheader:e.properties.subtitle,header:e.properties.title,url:b.getLeanURL(e.properties.targetURL,e.properties.href),press:t=>{this._genericTilePressHandler(e,t)}});F[e.id]=i;n.resolve(i);break;default:const t=e.tileType.replace(/\./g,"/");sap.ui.require([t],()=>{const t=r.get(e.tileType);i=new t(e.properties||{});F[e.id]=i;n.resolve(i)})}return n.promise()};this.getCardManifest=function(e){const t=JSON.parse(JSON.stringify(e.manifest));return t};this._createCatalogTileInstanceAsync=function(e,t){const i=new jQuery.Deferred;let r;const n=this._getImageContent({src:e.properties.icon});n.addStyleClass("sapUshellFullWidth");switch(t){case"sap.ushell.ui.tile.DynamicTile":r=new s({header:e.properties.title,subheader:e.properties.subtitle,frameType:this._parseTileSizeToGenericTileFormat(e.size),url:b.getLeanURL(e.properties.targetURL),tileContent:new a({frameType:this._parseTileSizeToGenericTileFormat(e.size),footer:e.properties.info,unit:e.properties.numberUnit,content:new l({scale:e.properties.numberFactor,value:e.properties.numberValue,truncateValueTo:5,indicator:e.properties.stateArrow,valueColor:this._parseTileValueColor(e.properties.numberState),icon:e.properties.icon,width:"100%"})}),press:t=>{this._genericTilePressHandler(e,t)}});break;case"sap.ushell.ui.tile.StaticTile":r=new s({mode:e.mode||(e.properties.icon?R.ContentMode:R.HeaderMode),header:e.properties.title,subheader:e.properties.subtitle,frameType:this._parseTileSizeToGenericTileFormat(e.size),url:b.getLeanURL(e.properties.targetURL),tileContent:new a({frameType:this._parseTileSizeToGenericTileFormat(e.size),footer:e.properties.info,content:n}),press:t=>{this._genericTilePressHandler(e,t)}});break;case"Link":r=new s({mode:R.LineMode,subheader:e.properties.subtitle,header:e.properties.title,url:b.getLeanURL(e.properties.targetURL,e.properties.href),press:t=>{this._genericTilePressHandler(e,t)}});break;default:t=e.tileType&&e.tileType.replace(/\./g,"/");sap.ui.require([t],t=>{r=new t(e.properties||{});i.resolve(r)})}i.resolve(r);return i.promise()};this._createCatalogTileInstance=function(t,i){let n;let o;let p;const u=this._getImageContent({src:t.properties.icon});u.addStyleClass("sapUshellFullWidth");switch(i){case"sap.ushell.ui.tile.DynamicTile":n=new s({header:t.properties.title,subheader:t.properties.subtitle,frameType:this._parseTileSizeToGenericTileFormat(t.size),url:b.getLeanURL(t.properties.targetURL),tileContent:new a({frameType:this._parseTileSizeToGenericTileFormat(t.size),footer:t.properties.info,unit:t.properties.numberUnit,content:new l({scale:t.properties.numberFactor,value:t.properties.numberValue,truncateValueTo:5,indicator:t.properties.stateArrow,valueColor:this._parseTileValueColor(t.properties.numberState),icon:t.properties.icon,width:"100%"})}),press:e=>{this._genericTilePressHandler(t,e)}});break;case"sap.ushell.ui.tile.StaticTile":n=new s({mode:t.mode||(t.properties.icon?R.ContentMode:R.HeaderMode),header:t.properties.title,subheader:t.properties.subtitle,frameType:this._parseTileSizeToGenericTileFormat(t.size),url:b.getLeanURL(t.properties.targetURL),tileContent:new a({frameType:this._parseTileSizeToGenericTileFormat(t.size),footer:t.properties.info,content:u}),press:e=>{this._genericTilePressHandler(t,e)}});break;case"Link":n=new s({mode:R.LineMode,subheader:t.properties.subtitle,header:t.properties.title,url:b.getLeanURL(t.properties.targetURL,t.properties.href),press:e=>{this._genericTilePressHandler(t,e)}});break;default:o=t.tileType.replace(/\./g,"/");p=sap.ui.require(o);if(!p){if(!r.get(t.tileType)){e.warning(`FLP: local LaunchPageAdapter. The resource is used before being loaded: ${o}`);sap.ui.requireSync(o)}p=r.get(t.tileType)}n=new p(t.properties||{})}return n};this._genericTilePressHandler=function(e,t){if(t.getSource().getScope&&t.getSource().getScope()==="Display"){if(e.properties.targetURL){L.emit("UITracer.trace",{reason:"LaunchApp",source:"Tile",data:{targetUrl:e.properties.targetURL}});if(e.properties.targetURL[0]==="#"){g.setHash(e.properties.targetURL)}else{const t=m.last("/core/shell/enableRecentActivity")&&m.last("/core/shell/enableRecentActivityLogging");if(t){const t={title:e.properties.title,appType:U.URL,url:e.properties.targetURL,appId:e.properties.targetURL};C.getRendererInternal("fiori2").logRecentActivity(t)}b.openURL(e.properties.targetURL,"_blank")}}}};this._parseTileSizeToGenericTileFormat=function(e){return e==="1x2"?"TwoByOne":"OneByOne"};this._parseTileValueColor=function(e){if(e==="Positive"){return"Good"}if(e==="Negative"){return"Critical"}return e};this._applyDynamicTileInfoState=function(e){const t=e.onAfterRendering;e.onAfterRendering=()=>{if(t){t.apply(e,arguments)}const i=e.getModel();if(!i){return}const r=i.getProperty("/data/display_info_state");const s=e.getDomRef();const n=s.getElementsByClassName("sapMTileCntFtrTxt")[0];switch(r){case"Negative":n.classList.add("sapUshellTileFooterInfoNegative");break;case"Neutral":n.classList.add("sapUshellTileFooterInfoNeutral");break;case"Positive":n.classList.add("sapUshellTileFooterInfoPositive");break;case"Critical":n.classList.add("sapUshellTileFooterInfoCritical");break;default:return}}};this._handleTilePress=function(e){if(typeof e.attachPress==="function"){e.attachPress(()=>{if(typeof e.getTargetURL==="function"){const t=e.getTargetURL();L.emit("UITracer.trace",{reason:"LaunchApp",source:"Tile",data:{targetUrl:t}});if(t){if(t[0]==="#"){g.setHash(t)}else{b.openURL(t,"_blank")}}}})}};this._translateTileProperties=async function(e){await this.oResourceBundlePromise;if(this.translationBundle&&B&&!e._isTranslated){const t=e.properties;const i=e.keywords;t.title=V(t.title);t.subtitle=V(t.subtitle);t.info=V(t.info);if(i){for(let e=0;e<i.length;e++){i[e]=V(i[e])}}e._isTranslated=true}};this.refreshTile=function(){};this.setTileVisible=function(e,t){k(e,t)};this.addTile=function(e,t){if(!t){t=G}const r=new jQuery.Deferred;const s=A();window.setTimeout(()=>{if(!s){const s=i({title:"A new tile was added",size:"1x1"},e,{id:`tile_0${e.chipId}`});t.tiles.push(s);k(s,true);r.resolve(s)}else{this.getGroups().done(r.reject).fail(r.reject)}},N());return r.promise()};this.removeTile=function(e,t){const i=new jQuery.Deferred;const r=A();window.setTimeout(()=>{if(!r){e.tiles.splice(E(e,t),1);k(t,false);i.resolve()}else{this.getGroups().done(i.reject).fail(i.reject)}},N());return i.promise()};this.moveTile=function(e,t,i,r,s,n){const o=new jQuery.Deferred;const l=A();window.setTimeout(()=>{if(!l){if(s===undefined){s=r}e.isLink=n?n===this.TileType.Link:e.isLink;r.tiles.splice(t,1);s.tiles.splice(i,0,e);o.resolve(e)}else{this.getGroups().done(o.reject).fail(o.reject)}},N());return o.promise()};this.getTile=function(){const e=new jQuery.Deferred;return e.promise()};this.getCatalogs=function(){const e=new jQuery.Deferred;this.oResourceBundlePromise.then(()=>{j.forEach(t=>{window.setTimeout(()=>{e.notify(t)},300)});window.setTimeout(()=>{e.resolve(j)},1500)});return e.promise()};this.isCatalogsValid=function(){return true};this.getCatalogError=function(){return};this.getCatalogId=function(e){return e.id};this.getCatalogTitle=function(e){return e.title};this.getCatalogTiles=function(e){const t=new jQuery.Deferred;window.setTimeout(()=>{t.resolve(e.tiles)},N());return t.promise()};this.getCatalogTileId=function(e){if(e.chipId){return e.chipId}return"UnknownCatalogTileId"};this.getStableCatalogTileId=function(e){if(e.referenceChipId){return e.referenceChipId}if(e.chipId){return e.chipId}return"UnknownCatalogTileId"};this.getCatalogTileTitle=function(e){return e.title};this.getCatalogTileSize=function(e){return e.size};this.getCatalogTileViewControl=function(e){return this._getCatalogTileViewAsync(e)};this.getCatalogTileTargetURL=function(e){return e.properties&&e.properties.targetURL||null};this.getCatalogTilePreviewTitle=function(e){return e.properties&&e.properties.title||null};this.getCatalogTilePreviewInfo=function(e){return e.properties&&e.properties.info||null};this.getCatalogTilePreviewIndicatorDataSource=function(e){let t;if(e.properties&&e.properties.serviceUrl){t={path:e.properties.serviceUrl,refresh:e.properties.serviceRefreshInterval}}return t};this.getCatalogTilePreviewSubtitle=function(e){return e.properties&&e.properties.subtitle||null};this.getCatalogTilePreviewIcon=function(e){return e.properties&&e.properties.icon||null};this.getCatalogTileKeywords=function(e){return[e.title,e.properties&&e.properties.subtitle,e.properties&&e.properties.info,e.keywords].flat().filter(e=>e)};this.getCatalogTileTags=function(e){return e&&e.tags||[]};this.addBookmark=function(e,t){const i=t||G;const r=new jQuery.Deferred;const s=A();const n=e.title;const o=e.subtitle;const l=e.info;const a=e.url;const p=this.isLinkPersonalizationSupported();window.setTimeout(()=>{if(!s){const e={title:n,size:"1x1",chipId:`tile_0${i.tiles.length}`,tileType:"sap.ushell.ui.tile.StaticTile",id:`tile_0${i.tiles.length}`,isLinkPersonalizationSupported:p,keywords:[],properties:{icon:"sap-icon://time-entry-request",info:l,subtitle:o,title:n,targetURL:a}};i.tiles.push(e);k(e,true);r.resolve(e)}else{this.getGroups().done(r.reject).fail(r.reject)}},N());return r.promise()};this.updateBookmarks=function(e,t){const i=new jQuery.Deferred;let r=0;const s=this.getGroups();s.done(s=>{s.forEach(i=>{i.tiles.forEach(i=>{if(i.properties&&i.properties.targetURL===e){for(const e in t){if(t.hasOwnProperty(e)){i.properties[e]=t[e]}}const e=F[i.id];if(e!==undefined){e.setHeader(i.properties.title);e.setSubheader(i.properties.subtitle)}r++}})});i.resolve(r)});s.fail(e=>{i.reject(e)});return i.promise()};this.deleteBookmarks=function(e){const t=new jQuery.Deferred;this.oResourceBundlePromise.then(()=>{let i=0;let r;let s;for(let t=0;t<w.length;t++){r=w[t];for(let t=r.tiles.length-1;t>=0;t--){s=r.tiles[t];if(s.properties.targetURL===e){r.tiles.splice(t,1);i++}}}t.resolve(i)});return t.promise()};this.countBookmarks=function(e){const t=new jQuery.Deferred;this.oResourceBundlePromise.then(()=>{let i=0;let r;let s;for(let t=0;t<w.length;t++){r=w[t];for(let t=0;t<r.tiles.length;t++){s=r.tiles[t];if(s.properties.targetURL===e){i++}}}t.resolve(i)});return t.promise()};this._getImageContent=function(e){return new n(e)};this.onCatalogTileAdded=function(){};this.getTileActions=function(e){return e&&e.actions||null};I.prototype._getCatalogTileIndex=function(){const e={};return Promise.resolve(e)};this.getCatalogTileNumberUnit=function(e){return e.properties?e.properties.numberUnit:undefined}}return I});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/local/LaunchPageAdapter", ["sap/ushell/adapters/local/FlpLaunchPageAdapter"],a=>{"use strict";return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/local/MenuAdapter", ["sap/base/Log","sap/base/i18n/Localization","sap/base/util/ObjectPath","sap/ushell/library","sap/ushell/Container"],(e,t,n,a,r)=>{"use strict";const i=a.ContentNodeType;function o(e,t,a){this._oAdapterConfig=n.get("config",a)}o.prototype.isMenuEnabled=function(){return Promise.resolve(!!this._oAdapterConfig.enabled)};o.prototype.getContentNodes=async function(){const n=this._oAdapterConfig.menuData;if(!n){e.error("No menuData specified in the adapter configuration.",null,"sap.ushell.adapters.local.MenuAdapter");throw new Error("No menuData specified in the adapter configuration.")}if(typeof n==="object"){return n}return fetch(n,{headers:{Accept:"application/json","Accept-Language":t.getLanguageTag().toString()}}).then(e=>e.json()).catch(t=>{e.error("Menu entries were requested but could not be loaded from JSON file",t);throw new Error("Menu entries could not be fetched")})};o.prototype.getMenuEntries=function(){return this.getContentNodes().then(e=>e.map(e=>{const t=e.children[0];const n=this._buildMenuEntry(e,e.id,t.id);if(e.children.length>1){n.menuEntries=e.children.map(t=>this._buildMenuEntry(t,e.id,t.id))}return n}))};o.prototype.getMenuPersonalization=function(){return r.getServiceAsync("PersonalizationV2").then(async e=>{const t={container:"sap.ushell.menuPersonalization",item:"data"};const n={validity:"Infinity",keyCategory:e.KeyCategory.FIXED_KEY,writeFrequency:e.WriteFrequency.HIGH,clientStorageAllowed:false};const a=await e.getPersonalizer(t,n);return a.getPersData()})};o.prototype._buildMenuEntry=function(e,t,n){const a=e.type===i.Space?"Space-":"Page-";return{id:e.id,"help-id":a+e.id,title:e.label,type:"IBN",target:{semanticObject:"Launchpad",action:"openFLPPage",parameters:[{name:"spaceId",value:t},{name:"pageId",value:n}]},isHomeEntry:false,menuEntries:[]}};return o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/local/NavTargetResolutionAdapter", ["sap/ushell/adapters/local/NavTargetResolutionInternalAdapter"],e=>{"use strict";return e},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/local/NavTargetResolutionInternalAdapter", ["sap/ushell/services/ClientSideTargetResolution/VirtualInbounds","sap/base/util/ObjectPath","sap/ui/thirdparty/jquery","sap/base/Log","sap/ushell/utils","sap/ushell/Container"],(e,n,jQuery,t,i,s)=>{"use strict";function o(o,r,l){function a(e,n){e.forEach(e=>{const t=`${e.semanticObject}-${e.action}`;n[t]=e.resolutionResult})}const c=n.create("config.applications",l);const f=e.getInbounds();a(f,c);this.resolveHashFragment=function(e){const n=new jQuery.Deferred;let s;if(e&&e.charAt(0)!=="#"){throw new i.Error("Hash fragment expected","sap.ushell.renderers.minimal.Shell")}e=e.substring(1);if(!e&&!c[e]){n.resolve(undefined)}else{t.info(`Hash Fragment: ${e}`);let i=e.indexOf("&/");if(i>=0){e=e.slice(0,i)}i=e.indexOf("?");if(i>=0){s=e.slice(i+1);e=e.slice(0,i)}const o=c[e];if(o){const e={additionalInformation:o.additionalInformation,applicationType:o.applicationType,url:o.url,text:o.text,fullWidth:o.fullWidth,navigationMode:"embedded"};if(s){e.url+=e.url.indexOf("?")<0?"?":"&";e.url+=s}if(o.navigationMode!==undefined){e.navigationMode=o.navigationMode}n.resolve(e)}else{n.reject(new Error(`Could not resolve link '${e}'`))}}return n.promise()};this.getSemanticObjectLinks=function(e,n){const i=[];let o=0;const r=new jQuery.Deferred;if(!e){setTimeout(()=>{r.resolve([])},0)}else{s.getServiceAsync("URLParsing").then(s=>{const l=s.paramsToString(n);t.info(`getSemanticObjectLinks: ${e}`);for(const n in c){if(c.hasOwnProperty(n)&&n.substring(0,n.indexOf("-"))===e){i[o]=c[n];i[o].id=n;i[o].text=i[o].text||i[o].description||"no text";i[o].intent=`#${n}`;if(l!==""){if(i[o].intent.indexOf("?")!==-1){i[o].intent+=`&${l}`}else{i[o].intent+=`?${l}`}}o+=1}}if(i){r.resolve(i)}else{r.reject(new Error(`Could not get links for '${e}'`))}})}return r.promise()};this.isIntentSupported=function(e){const n=new jQuery.Deferred;const t={};const i=[];const s=this;function o(e,n){t[e]={supported:n}}e.forEach((e,n)=>{const t=new jQuery.Deferred;i.push(t.promise());s.resolveHashFragment(e).fail(n=>{o(e,false);t.resolve()}).done(n=>{o(e,true);t.resolve()})});if(e.length>0){jQuery.when.apply(jQuery,i).always(()=>{n.resolve(t)})}else{n.resolve(t)}return n.promise()}}return o},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/local/PageBuildingAdapter", ["sap/ui/core/ComponentContainer","sap/ui/core/Component"],(t,n)=>{"use strict";function e(t,n,e){this.oCache=e&&e.config&&e.config.tiles||{}}e.prototype.getFactory=function(){return this};e.prototype.createChipInstance=function(e){const o=this.oCache[e.chipId];const i=e;i.configuration=i.configuration?JSON.parse(i.configuration):{};i.bags=i.bags?i.bags:{};let r=function(){};const c={types:{setType:function(t){r(t)},attachSetType:function(t){r=t}},visible:{setVisible:function(){}},url:{getApplicationSystem:function(){}},configurationUi:{isEnabled:function(){return false}},configuration:{getParameterValueAsString:function(t){return i.configuration[t]}},bag:{getBag:function(t){let n=i.bags[t];if(!n){n={};i.bags[t]=n}n.properties=n.properties?n.properties:{};n.texts=n.texts?n.texts:{};return{getPropertyNames:function(){return Object.keys(n.properties)},getProperty:function(t){return n.properties[t]},setProperty:function(t,e){n.properties[t]=e},getTextNames:function(){return Object.keys(n.texts)},getText:function(t){return n.texts[t]},setText:function(t,e){n.texts[t]=e}}}}};return{load:function(t,n){t()},isStub:function(){return false},refresh:function(){},getBag:c.bag.getBag,getContract:function(t){return c[t]||{}},configurationUi:c.configurationUi,configuration:c.configuration,bag:c.bag,url:c.url,types:c.types,getImplementationAsSapui5Async:function(){const e={chip:this};return n.create({componentData:e,name:o.componentName}).then(n=>new t({component:n}))}}};return e},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/local/PagePersistenceAdapter", ["sap/ushell/utils","sap/ui/util/Storage","sap/base/util/ObjectPath"],(t,e,o)=>{"use strict";function a(a,r,i){const n=o.get("config.storageType",i)||e.Type.local;if(n!==e.Type.local&&n!==e.Type.session){throw new t.Error(`PagePersistence Adapter Local Platform: unsupported storage type: '${n}'`)}this._oAdapterConfiguration=i}a.prototype.getPage=function(t){const e=this;return new Promise((o,a)=>{const r=e._oAdapterConfiguration.config.dataLoad[t]||{};if(r.page.id===t){o(r)}a(new Error(`No page with id '${t}' was found.`))})};a.prototype.getPages=function(t){const e=this._oAdapterConfiguration.config.dataLoad||{};return Promise.resolve(t.map(t=>e[t]).filter(t=>!!t))};return a},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/local/PersonalizationAdapter", ["sap/ushell/utils","sap/base/util/ObjectPath","sap/ui/util/Storage","sap/ushell/adapters/local/AdapterContainer"],(t,e,o,r)=>{"use strict";let a;function n(o,n,s){this._sStorageType=e.get("config.storageType",s)||r.prototype.constants.storage.LOCAL_STORAGE;switch(this._sStorageType){case r.prototype.constants.storage.LOCAL_STORAGE:break;case r.prototype.constants.storage.MEMORY:a=e.get("config.personalizationData",s)||{};break;default:throw new t.Error(`Personalization Adapter Local Platform: unsupported storage type '${this._sStorageType}'`)}}n.prototype.getAdapterContainer=function(t){return new r(t,this._sStorageType,a)};n.prototype.resetEntirePersonalization=function(){return new Promise((t,e)=>{const o=this._getLocalStorage();setTimeout(()=>{const r=o.removeAll();if(r){t()}else{e(new Error("could not delete personalization"))}},0)})};n.prototype.isResetEntirePersonalizationSupported=function(){return new Promise((t,e)=>{setTimeout(()=>{t(true)},0)})};n.prototype.delAdapterContainer=function(t){return this.getAdapterContainer(t).del()};function s(){return new o(o.Type.local,"com.sap.ushell.adapters.sandbox.Personalization")}n.prototype._getLocalStorage=s;return n},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/local/PersonalizationV2Adapter", ["./PersonalizationAdapter"],e=>{"use strict";return e},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/local/SearchAdapter", [],()=>{"use strict";function e(e,i,r){this.isSearchAvailable=function(){return Promise.resolve(true)}}return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/local/SearchCEPAdapter", [],()=>{"use strict";function e(e,p,a){this._oConfig=a&&a.config||{}}e.prototype.search=function(e){const p=[{title:"App For On Close",description:"",keywords:"App For On Close",icon:"sap-icon://business-objects-experience",label:"App For On Close",visualization:{id:"demoapps.AppBeforeCloseEvent.AppBeforeCloseEvent",vizId:"demoapps.AppBeforeCloseEvent.AppBeforeCloseEvent",vizType:"",title:"App For On Close",subtitle:"",icon:"sap-icon://business-objects-experience",info:"iframe",keywords:["App For On Close"],technicalAttributes:[],target:{type:"URL",url:"#AppBeforeCloseEvent-Action?sap-ui-app-id-hint=demoapps.AppBeforeCloseEvent.AppBeforeCloseEvent"},targetURL:"#AppBeforeCloseEvent-Action?sap-ui-app-id-hint=demoapps.AppBeforeCloseEvent.AppBeforeCloseEvent",_instantiationData:{platform:"CDM",vizType:{"sap.ui5":{componentName:"sap.ushell.components.tiles.cdm.applauncher"}}}},url:"#AppBeforeCloseEvent-Action?sap-ui-app-id-hint=demoapps.AppBeforeCloseEvent.AppBeforeCloseEvent",technicalAttributes:"",text:"App For On Close"},{title:"App Nav Sample",description:"",keywords:"App Nav Sample",icon:"sap-icon://business-objects-experience",label:"App Nav Sample",visualization:{id:"sap.ushell.demo.AppNavSample",vizId:"sap.ushell.demo.AppNavSample",vizType:"",title:"App Nav Sample",subtitle:"",icon:"sap-icon://business-objects-experience",info:"iframe",keywords:["App Nav Sample"],technicalAttributes:[],target:{type:"URL",url:"#Action-toappnavsample?sap-ui-app-id-hint=sap.ushell.demo.AppNavSample"},targetURL:"#Action-toappnavsample?sap-ui-app-id-hint=sap.ushell.demo.AppNavSample",_instantiationData:{platform:"CDM",vizType:{"sap.ui5":{componentName:"sap.ushell.components.tiles.cdm.applauncher"}}}},url:"#Action-toappnavsample?sap-ui-app-id-hint=sap.ushell.demo.AppNavSample",technicalAttributes:"",text:"App Nav Sample"},{title:"App Nav Sample - With Transformation",description:"",keywords:"App Nav Sample - With Transformation",icon:"sap-icon://business-objects-experience",label:"App Nav Sample - With Transformation",visualization:{id:"sap.ushell.demo.AppNavSampleT",vizId:"sap.ushell.demo.AppNavSampleT",vizType:"",title:"App Nav Sample - With Transformation",subtitle:"",icon:"sap-icon://business-objects-experience",info:"iframe",keywords:["App Nav Sample - With Transformation"],technicalAttributes:[],target:{type:"URL",url:"#ActionT-toappnavsampleT?sap-ui-app-id-hint=sap.ushell.demo.AppNavSampleT"},targetURL:"#ActionT-toappnavsampleT?sap-ui-app-id-hint=sap.ushell.demo.AppNavSampleT",_instantiationData:{platform:"CDM",vizType:{"sap.ui5":{componentName:"sap.ushell.components.tiles.cdm.applauncher"}}}},url:"#ActionT-toappnavsampleT?sap-ui-app-id-hint=sap.ushell.demo.AppNavSampleT",technicalAttributes:"",text:"App Nav Sample - With Transformation"},{title:"App Nav Sample SPA1",description:"",keywords:"App Nav Sample SPA1",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-marked-for-deletion",label:"App Nav Sample SPA1",visualization:{id:"sap.ushell.demo.AppNavSample-SAP1",vizId:"sap.ushell.demo.AppNavSample-SAP1",vizType:"",title:"App Nav Sample SPA1",subtitle:"",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-marked-for-deletion",info:"SPA",keywords:["App Nav Sample SPA1"],technicalAttributes:[],target:{type:"URL",url:"#AppNav-SAP1?sap-ui-app-id-hint=sap.ushell.demo.AppNavSample-SAP1"},targetURL:"#AppNav-SAP1?sap-ui-app-id-hint=sap.ushell.demo.AppNavSample-SAP1",_instantiationData:{platform:"CDM",vizType:{"sap.ui5":{componentName:"sap.ushell.components.tiles.cdm.applauncher"}}}},url:"#AppNav-SAP1?sap-ui-app-id-hint=sap.ushell.demo.AppNavSample-SAP1",technicalAttributes:"",text:"App Nav Sample SPA1"},{title:"App Nav Sample SPA2",description:"",keywords:"App Nav Sample SPA2",icon:"sap-icon://business-objects-experience",label:"App Nav Sample SPA2",visualization:{id:"sap.ushell.demo.AppNavSample-SAP2",vizId:"sap.ushell.demo.AppNavSample-SAP2",vizType:"",title:"App Nav Sample SPA2",subtitle:"",icon:"sap-icon://business-objects-experience",info:"SPA",keywords:["App Nav Sample SPA2"],technicalAttributes:[],target:{type:"URL",url:"#AppNav-SAP2?sap-ui-app-id-hint=sap.ushell.demo.AppNavSample-SAP2"},targetURL:"#AppNav-SAP2?sap-ui-app-id-hint=sap.ushell.demo.AppNavSample-SAP2",_instantiationData:{platform:"CDM",vizType:{"sap.ui5":{componentName:"sap.ushell.components.tiles.cdm.applauncher"}}}},url:"#AppNav-SAP2?sap-ui-app-id-hint=sap.ushell.demo.AppNavSample-SAP2",technicalAttributes:"",text:"App Nav Sample SPA2"},{title:"App Nav Sample ui5appruntime min (ABAP)",description:"",keywords:"App Nav Sample ui5appruntime min (ABAP)",icon:"sap-icon://business-objects-experience",label:"App Nav Sample ui5appruntime min (ABAP)",visualization:{id:"sap.ushell.demo.AppNavSample4",vizId:"sap.ushell.demo.AppNavSample4",vizType:"",title:"App Nav Sample ui5appruntime min (ABAP)",subtitle:"",icon:"sap-icon://business-objects-experience",info:"iframe",keywords:["App Nav Sample ui5appruntime min (ABAP)"],technicalAttributes:[],target:{type:"URL",url:"#AppNavSample-MinABAP?sap-ui-app-id-hint=sap.ushell.demo.AppNavSample4"},targetURL:"#AppNavSample-MinABAP?sap-ui-app-id-hint=sap.ushell.demo.AppNavSample4",_instantiationData:{platform:"CDM",vizType:{"sap.ui5":{componentName:"sap.ushell.components.tiles.cdm.applauncher"}}}},url:"#AppNavSample-MinABAP?sap-ui-app-id-hint=sap.ushell.demo.AppNavSample4",technicalAttributes:"",text:"App Nav Sample ui5appruntime min (ABAP)"},{title:"App Nav Sample ui5appruntime min (CF)",description:"",keywords:"App Nav Sample ui5appruntime min (CF)",icon:"sap-icon://business-objects-experience",label:"App Nav Sample ui5appruntime min (CF)",visualization:{id:"sap.ushell.demo.AppNavSample3",vizId:"sap.ushell.demo.AppNavSample3",vizType:"",title:"App Nav Sample ui5appruntime min (CF)",subtitle:"",icon:"sap-icon://business-objects-experience",info:"iframe",keywords:["App Nav Sample ui5appruntime min (CF)"],technicalAttributes:[],target:{type:"URL",url:"#Action-toappnavsample?sap-ui-app-id-hint=sap.ushell.demo.AppNavSample3"},targetURL:"#Action-toappnavsample?sap-ui-app-id-hint=sap.ushell.demo.AppNavSample3",_instantiationData:{platform:"CDM",vizType:{"sap.ui5":{componentName:"sap.ushell.components.tiles.cdm.applauncher"}}}},url:"#Action-toappnavsample?sap-ui-app-id-hint=sap.ushell.demo.AppNavSample3",technicalAttributes:"",text:"App Nav Sample ui5appruntime min (CF)"},{title:"App Runtime Renderer API Sample",description:"",keywords:"App Runtime Renderer API Sample",icon:"sap-icon://business-objects-experience",label:"App Runtime Renderer API Sample",visualization:{id:"sap.ushell.demo.AppRuntimeRendererSample",vizId:"sap.ushell.demo.AppRuntimeRendererSample",vizType:"",title:"App Runtime Renderer API Sample",subtitle:"",icon:"sap-icon://business-objects-experience",info:"iframe",keywords:["App Runtime Renderer API Sample"],technicalAttributes:[],target:{type:"URL",url:"#Renderer-Sample?sap-ui-app-id-hint=sap.ushell.demo.AppRuntimeRendererSample"},targetURL:"#Renderer-Sample?sap-ui-app-id-hint=sap.ushell.demo.AppRuntimeRendererSample",_instantiationData:{platform:"CDM",vizType:{"sap.ui5":{componentName:"sap.ushell.components.tiles.cdm.applauncher"}}}},url:"#Renderer-Sample?sap-ui-app-id-hint=sap.ushell.demo.AppRuntimeRendererSample",technicalAttributes:"",text:"App Runtime Renderer API Sample"},{title:"BB1 Application A",description:"",keywords:"BB1 Application A",icon:"sap-icon://business-objects-experience",label:"BB1 Application A",visualization:{id:"demoapps.IframeReuseSample.IframeReuseSampleA",vizId:"demoapps.IframeReuseSample.IframeReuseSampleA",vizType:"",title:"BB1 Application A",subtitle:"",icon:"sap-icon://business-objects-experience",info:"iframe",keywords:["BB1 Application A"],technicalAttributes:[],target:{type:"URL",url:"#Application-A?sap-ui-app-id-hint=demoapps.IframeReuseSample.IframeReuseSampleA"},targetURL:"#Application-A?sap-ui-app-id-hint=demoapps.IframeReuseSample.IframeReuseSampleA",_instantiationData:{platform:"CDM",vizType:{"sap.ui5":{componentName:"sap.ushell.components.tiles.cdm.applauncher"}}}},url:"#Application-A?sap-ui-app-id-hint=demoapps.IframeReuseSample.IframeReuseSampleA",technicalAttributes:"",text:"BB1 Application A"},{title:"BB1 Application B",description:"",keywords:"BB1 Application B",icon:"sap-icon://business-objects-experience",label:"BB1 Application B",visualization:{id:"demoapps.IframeReuseSample.IframeReuseSampleB",vizId:"demoapps.IframeReuseSample.IframeReuseSampleB",vizType:"",title:"BB1 Application B",subtitle:"",icon:"sap-icon://business-objects-experience",info:"iframe",keywords:["BB1 Application B"],technicalAttributes:[],target:{type:"URL",url:"#Application-B?sap-ui-app-id-hint=demoapps.IframeReuseSample.IframeReuseSampleB"},targetURL:"#Application-B?sap-ui-app-id-hint=demoapps.IframeReuseSample.IframeReuseSampleB",_instantiationData:{platform:"CDM",vizType:{"sap.ui5":{componentName:"sap.ushell.components.tiles.cdm.applauncher"}}}},url:"#Application-B?sap-ui-app-id-hint=demoapps.IframeReuseSample.IframeReuseSampleB",technicalAttributes:"",text:"BB1 Application B"},{title:"BB1 Application C",description:"",keywords:"BB1 Application C",icon:"sap-icon://business-objects-experience",label:"BB1 Application C",visualization:{id:"demoapps.IframeReuseSample.IframeReuseSampleC",vizId:"demoapps.IframeReuseSample.IframeReuseSampleC",vizType:"",title:"BB1 Application C",subtitle:"",icon:"sap-icon://business-objects-experience",info:"iframe",keywords:["BB1 Application C"],technicalAttributes:[],target:{type:"URL",url:"#Application-C?sap-ui-app-id-hint=demoapps.IframeReuseSample.IframeReuseSampleC"},targetURL:"#Application-C?sap-ui-app-id-hint=demoapps.IframeReuseSample.IframeReuseSampleC",_instantiationData:{platform:"CDM",vizType:{"sap.ui5":{componentName:"sap.ushell.components.tiles.cdm.applauncher"}}}},url:"#Application-C?sap-ui-app-id-hint=demoapps.IframeReuseSample.IframeReuseSampleC",technicalAttributes:"",text:"BB1 Application C"},{title:"Fiori Elements App",description:"",keywords:"Fiori Elements App",icon:"sap-icon://business-objects-experience",label:"Fiori Elements App",visualization:{id:"sap.ushell.demo.FE1Iframe",vizId:"sap.ushell.demo.FE1Iframe",vizType:"",title:"Fiori Elements App",subtitle:"",icon:"sap-icon://business-objects-experience",info:"iframe",keywords:["Fiori Elements App"],technicalAttributes:[],target:{type:"URL",url:"#FE1-iframe?sap-ui-app-id-hint=sap.ushell.demo.FE1Iframe"},targetURL:"#FE1-iframe?sap-ui-app-id-hint=sap.ushell.demo.FE1Iframe",_instantiationData:{platform:"CDM",vizType:{"sap.ui5":{componentName:"sap.ushell.components.tiles.cdm.applauncher"}}}},url:"#FE1-iframe?sap-ui-app-id-hint=sap.ushell.demo.FE1Iframe",technicalAttributes:"",text:"Fiori Elements App"}];const a=[{title:"Google.com",description:"",keywords:"Google.com",icon:"sap-icon://nutrition-activity",label:"Google.com",visualization:{id:"search_providers_mainline.search.provider.google#defaultLauncher",vizId:"search_providers_mainline.search.provider.google#defaultLauncher",vizType:"",title:"Google.com",subtitle:"",icon:"sap-icon://nutrition-activity",info:"Google.com (New Tab)",keywords:["Google.com"],technicalAttributes:["APPTYPE_SEARCHAPP","APPTYPE_HOMEPAGE"],target:{type:"URL",url:"#google-search?sap-ui-app-id-hint=search_providers_mainline.search.provider.google"},targetURL:"#google-search?sap-ui-app-id-hint=search_providers_mainline.search.provider.google",_instantiationData:{platform:"CDM",vizType:{"sap.ui5":{componentName:"sap.ushell.components.tiles.cdm.applauncher"}}}},url:"#google-search?sap-ui-app-id-hint=search_providers_mainline.search.provider.google",technicalAttributes:"APPTYPE_SEARCHAPP APPTYPE_HOMEPAGE",text:"Google.com"},{title:"Office.com",description:"",keywords:"Office.com",icon:"sap-icon://nutrition-activity",label:"Office.com",visualization:{id:"search_providers_mainline.search.provider.office#defaultLauncher",vizId:"search_providers_mainline.search.provider.office#defaultLauncher",vizType:"",title:"Office.com",subtitle:"",icon:"sap-icon://nutrition-activity",info:"Office.com (New Tab)",keywords:["Office.com"],technicalAttributes:["APPTYPE_SEARCHAPP"],target:{type:"URL",url:"#office-search?sap-ui-app-id-hint=search_providers_mainline.search.provider.office"},targetURL:"#office-search?sap-ui-app-id-hint=search_providers_mainline.search.provider.office",_instantiationData:{platform:"CDM",vizType:{"sap.ui5":{componentName:"sap.ushell.components.tiles.cdm.applauncher"}}}},url:"#office-search?sap-ui-app-id-hint=search_providers_mainline.search.provider.office",technicalAttributes:"APPTYPE_SEARCHAPP",text:"Office.com"},{text:"Enterprise Search",description:"Enterprise Search",icon:"sap-icon://search",inboundIdentifier:"38cd162a-e185-448c-9c37-a4fc02b3d39d___GenericDefaultSemantic-__GenericDefaultAction",url:'http://localhost:8080/ushell/test-resources/sap/ushell/shells/demo/FioriLaunchpad.Isolation.html?sap-ui-debug=true#Action-search&/top=20&filter={"dataSource":{"type":"Category","id":"All","label":"All","labelPlural":"All"},"searchTerm":"app","rootCondition":{"type":"Complex","operator":"And","conditions":[]}}',target:"_blank",recent:false,semanticObject:"Action",semanticObjectAction:"search",_type:"app",isEnterpriseSearch:true}];const i=[{title:"Google.com",description:"",keywords:"Google.com",icon:"sap-icon://nutrition-activity",label:"Google.com",visualization:{id:"search_providers_mainline.search.provider.google#defaultLauncher",vizId:"search_providers_mainline.search.provider.google#defaultLauncher",vizType:"",title:"Google.com",subtitle:"",icon:"sap-icon://nutrition-activity",info:"Google.com (New Tab)",keywords:["Google.com"],technicalAttributes:["APPTYPE_SEARCHAPP","APPTYPE_HOMEPAGE"],target:{type:"URL",url:"#google-search?sap-ui-app-id-hint=search_providers_mainline.search.provider.google"},targetURL:"#google-search?sap-ui-app-id-hint=search_providers_mainline.search.provider.google",_instantiationData:{platform:"CDM",vizType:{"sap.ui5":{componentName:"sap.ushell.components.tiles.cdm.applauncher"}}}},url:"#google-search?sap-ui-app-id-hint=search_providers_mainline.search.provider.google",technicalAttributes:"APPTYPE_SEARCHAPP APPTYPE_HOMEPAGE",text:"Google.com"},{title:"Homepage Application cc8",description:"",keywords:"Homepage Application cc8",icon:"sap-icon://nutrition-activity",label:"Homepage Application cc8",visualization:{id:"search_providers_mainline.search.provider.cc8#defaultLauncher",vizId:"search_providers_mainline.search.provider.cc8#defaultLauncher",vizType:"",title:"Homepage Application cc8",subtitle:"",icon:"sap-icon://nutrition-activity",info:"CC8 Homepage (New Tab)",keywords:["Homepage Application cc8"],technicalAttributes:["APPTYPE_HOMEPAGE"],target:{type:"URL",url:"#cc8-homepage?sap-ui-app-id-hint=search_providers_mainline.search.provider.cc8"},targetURL:"#cc8-homepage?sap-ui-app-id-hint=search_providers_mainline.search.provider.cc8",_instantiationData:{platform:"CDM",vizType:{"sap.ui5":{componentName:"sap.ushell.components.tiles.cdm.applauncher"}}}},url:"#cc8-homepage?sap-ui-app-id-hint=search_providers_mainline.search.provider.cc8",technicalAttributes:"APPTYPE_HOMEPAGE",text:"Homepage Application cc8"},{title:"Homepage Sample Application",description:"",keywords:"Homepage Sample Application",icon:"sap-icon://nutrition-activity",label:"Homepage Sample Application",visualization:{id:"search_providers_mainline.search.provider.homepageSampleApp#defaultLauncher",vizId:"search_providers_mainline.search.provider.homepageSampleApp#defaultLauncher",vizType:"",title:"Homepage Sample Application",subtitle:"",icon:"sap-icon://nutrition-activity",info:"Homepage Sample (New Tab)",keywords:["Homepage Sample Application"],technicalAttributes:["APPTYPE_HOMEPAGE"],target:{type:"URL",url:"#sample-homepage?sap-ui-app-id-hint=search_providers_mainline.search.provider.homepageSampleApp"},targetURL:"#sample-homepage?sap-ui-app-id-hint=search_providers_mainline.search.provider.homepageSampleApp",_instantiationData:{platform:"CDM",vizType:{"sap.ui5":{componentName:"sap.ushell.components.tiles.cdm.applauncher"}}}},url:"#sample-homepage?sap-ui-app-id-hint=search_providers_mainline.search.provider.homepageSampleApp",technicalAttributes:"APPTYPE_HOMEPAGE",text:"Homepage Sample Application"},{title:"Homepage Sample Application 2",description:"",keywords:"Homepage Sample Application 2",icon:"sap-icon://nutrition-activity",label:"Homepage Sample Application 2",visualization:{id:"search_providers_mainline.search.provider.homepageSampleApp2#defaultLauncher",vizId:"search_providers_mainline.search.provider.homepageSampleApp2#defaultLauncher",vizType:"",title:"Homepage Sample Application 2",subtitle:"",icon:"sap-icon://nutrition-activity",info:"Homepage Sample (New Tab)",keywords:["Homepage Sample Application 2"],technicalAttributes:["APPTYPE_HOMEPAGE"],target:{type:"URL",url:"#sample-homepage?sap-ui-app-id-hint=search_providers_mainline.search.provider.homepageSampleApp2"},targetURL:"#sample-homepage?sap-ui-app-id-hint=search_providers_mainline.search.provider.homepageSampleApp2",_instantiationData:{platform:"CDM",vizType:{"sap.ui5":{componentName:"sap.ushell.components.tiles.cdm.applauncher"}}}},url:"#sample-homepage?sap-ui-app-id-hint=search_providers_mainline.search.provider.homepageSampleApp2",technicalAttributes:"APPTYPE_HOMEPAGE",text:"Homepage Sample Application 2"},{title:"Homepage Sample Application 3",description:"",keywords:"Homepage Sample Application 3",icon:"sap-icon://nutrition-activity",label:"Homepage Sample Application 3",visualization:{id:"search_providers_mainline.search.provider.homepageSampleApp3#defaultLauncher",vizId:"search_providers_mainline.search.provider.homepageSampleApp3#defaultLauncher",vizType:"",title:"Homepage Sample Application 3",subtitle:"",icon:"sap-icon://nutrition-activity",info:"Homepage Sample (New Tab)",keywords:["Homepage Sample Application 3"],technicalAttributes:["APPTYPE_HOMEPAGE"],target:{type:"URL",url:"#sample-homepage?sap-ui-app-id-hint=search_providers_mainline.search.provider.homepageSampleApp3"},targetURL:"#sample-homepage?sap-ui-app-id-hint=search_providers_mainline.search.provider.homepageSampleApp3",_instantiationData:{platform:"CDM",vizType:{"sap.ui5":{componentName:"sap.ushell.components.tiles.cdm.applauncher"}}}},url:"#sample-homepage?sap-ui-app-id-hint=search_providers_mainline.search.provider.homepageSampleApp3",technicalAttributes:"APPTYPE_HOMEPAGE",text:"Homepage Sample Application 3"},{title:"Homepage Sample Application 4",description:"",keywords:"Homepage Sample Application 4",icon:"sap-icon://nutrition-activity",label:"Homepage Sample Application 4",visualization:{id:"search_providers_mainline.search.provider.homepageSampleApp4#defaultLauncher",vizId:"search_providers_mainline.search.provider.homepageSampleApp4#defaultLauncher",vizType:"",title:"Homepage Sample Application 4",subtitle:"",icon:"sap-icon://nutrition-activity",info:"Homepage Sample (New Tab)",keywords:["Homepage Sample Application 4"],technicalAttributes:["APPTYPE_HOMEPAGE"],target:{type:"URL",url:"#sample-homepage?sap-ui-app-id-hint=search_providers_mainline.search.provider.homepageSampleApp4"},targetURL:"#sample-homepage?sap-ui-app-id-hint=search_providers_mainline.search.provider.homepageSampleApp4",_instantiationData:{platform:"CDM",vizType:{"sap.ui5":{componentName:"sap.ushell.components.tiles.cdm.applauncher"}}}},url:"#sample-homepage?sap-ui-app-id-hint=search_providers_mainline.search.provider.homepageSampleApp4",technicalAttributes:"APPTYPE_HOMEPAGE",text:"Homepage Sample Application 4"},{title:"Homepage Sample Application 5",description:"",keywords:"Homepage Sample Application 5",icon:"sap-icon://nutrition-activity",label:"Homepage Sample Application 5",visualization:{id:"search_providers_mainline.search.provider.homepageSampleApp5#defaultLauncher",vizId:"search_providers_mainline.search.provider.homepageSampleApp5#defaultLauncher",vizType:"",title:"Homepage Sample Application 5",subtitle:"",icon:"sap-icon://nutrition-activity",info:"Homepage Sample (New Tab)",keywords:["Homepage Sample Application 5"],technicalAttributes:["APPTYPE_HOMEPAGE"],target:{type:"URL",url:"#sample-homepage?sap-ui-app-id-hint=search_providers_mainline.search.provider.homepageSampleApp5"},targetURL:"#sample-homepage?sap-ui-app-id-hint=search_providers_mainline.search.provider.homepageSampleApp5",_instantiationData:{platform:"CDM",vizType:{"sap.ui5":{componentName:"sap.ushell.components.tiles.cdm.applauncher"}}}},url:"#sample-homepage?sap-ui-app-id-hint=search_providers_mainline.search.provider.homepageSampleApp5",technicalAttributes:"APPTYPE_HOMEPAGE",text:"Homepage Sample Application 5"},{title:"Homepage Sample Application 6",description:"",keywords:"Homepage Sample Application 6",icon:"sap-icon://nutrition-activity",label:"Homepage Sample Application 6",visualization:{id:"search_providers_mainline.search.provider.homepageSampleApp6#defaultLauncher",vizId:"search_providers_mainline.search.provider.homepageSampleApp6#defaultLauncher",vizType:"",title:"Homepage Sample Application 6",subtitle:"",icon:"sap-icon://nutrition-activity",info:"Homepage Sample (New Tab)",keywords:["Homepage Sample Application 6"],technicalAttributes:["APPTYPE_HOMEPAGE"],target:{type:"URL",url:"#sample-homepage?sap-ui-app-id-hint=search_providers_mainline.search.provider.homepageSampleApp6"},targetURL:"#sample-homepage?sap-ui-app-id-hint=search_providers_mainline.search.provider.homepageSampleApp6",_instantiationData:{platform:"CDM",vizType:{"sap.ui5":{componentName:"sap.ushell.components.tiles.cdm.applauncher"}}}},url:"#sample-homepage?sap-ui-app-id-hint=search_providers_mainline.search.provider.homepageSampleApp6",technicalAttributes:"APPTYPE_HOMEPAGE",text:"Homepage Sample Application 6"},{title:"Homepage Sample Application 7",description:"",keywords:"Homepage Sample Application 7",icon:"sap-icon://nutrition-activity",label:"Homepage Sample Application 7",visualization:{id:"search_providers_mainline.search.provider.homepageSampleApp7#defaultLauncher",vizId:"search_providers_mainline.search.provider.homepageSampleApp7#defaultLauncher",vizType:"",title:"Homepage Sample Application 7",subtitle:"",icon:"sap-icon://nutrition-activity",info:"Homepage Sample (New Tab)",keywords:["Homepage Sample Application 7"],technicalAttributes:["APPTYPE_HOMEPAGE"],target:{type:"URL",url:"#sample-homepage?sap-ui-app-id-hint=search_providers_mainline.search.provider.homepageSampleApp7"},targetURL:"#sample-homepage?sap-ui-app-id-hint=search_providers_mainline.search.provider.homepageSampleApp7",_instantiationData:{platform:"CDM",vizType:{"sap.ui5":{componentName:"sap.ushell.components.tiles.cdm.applauncher"}}}},url:"#sample-homepage?sap-ui-app-id-hint=search_providers_mainline.search.provider.homepageSampleApp7",technicalAttributes:"APPTYPE_HOMEPAGE",text:"Homepage Sample Application 7"},{title:"Homepage Sample Application 8",description:"",keywords:"Homepage Sample Application 8",icon:"sap-icon://nutrition-activity",label:"Homepage Sample Application 8",visualization:{id:"search_providers_mainline.search.provider.homepageSampleApp8#defaultLauncher",vizId:"search_providers_mainline.search.provider.homepageSampleApp8#defaultLauncher",vizType:"",title:"Homepage Sample Application 8",subtitle:"",icon:"sap-icon://nutrition-activity",info:"Homepage Sample (New Tab)",keywords:["Homepage Sample Application 8"],technicalAttributes:["APPTYPE_HOMEPAGE"],target:{type:"URL",url:"#sample-homepage?sap-ui-app-id-hint=search_providers_mainline.search.provider.homepageSampleApp8"},targetURL:"#sample-homepage?sap-ui-app-id-hint=search_providers_mainline.search.provider.homepageSampleApp8",_instantiationData:{platform:"CDM",vizType:{"sap.ui5":{componentName:"sap.ushell.components.tiles.cdm.applauncher"}}}},url:"#sample-homepage?sap-ui-app-id-hint=search_providers_mainline.search.provider.homepageSampleApp8",technicalAttributes:"APPTYPE_HOMEPAGE",text:"Homepage Sample Application 8"}];const t={};if(e.filter.value1&&e.filter.value1==="APPTYPE_HOMEPAGE"){t.data=i}else if(e.filter.value1&&e.filter.value1==="APPTYPE_SEARCHAPP"){t.data=a}else{t.data=p}return Promise.resolve(t)};return e},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/local/SupportTicketAdapter", [],()=>{"use strict";function e(e,t,i){this.createTicket=function(e){const t="1234567";return Promise.resolve(t)}}return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/local/Ui5ComponentLoaderAdapter", [],()=>{"use strict";function e(){}return e},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/local/UserDefaultParameterPersistenceAdapter", ["sap/ui/thirdparty/jquery","sap/base/Log","sap/ushell/Container"],(jQuery,e,r)=>{"use strict";function t(e,r,t){this._oConfig=t&&t.config;this._oContainerPromises={}}t.prototype._getPersonalizationService=function(){return r.getServiceAsync("PersonalizationV2")};t.prototype.saveParameterValue=function(r,t,n){const a=new jQuery.Deferred;if(!(typeof r==="string"&&r.length<=40&&/^[A-Za-z0-9.-_]+$/.exec(r))){e.error(`Illegal Parameter Key, less than 40 characters and [A-Za-z0-9.-_]+ :"${r}"`)}this._getUDContainer(n).done(e=>{e.setItemValue(r,t);e.save(50).then(a.resolve.bind(a)).catch(a.reject.bind(a))}).fail(r=>{e.error("Parameter save failed",r);a.reject(r)});return a.promise()};t.prototype.deleteParameter=function(r,t){const n=new jQuery.Deferred;if(!(typeof r==="string"&&r.length<=40&&/^[A-Za-z0-9.-_]+$/.exec(r))){e.error(`Illegal Parameter Key, less than 40 characters and [A-Za-z0-9.-_]+ :"${r}"`)}this._getUDContainer(t).done(e=>{e.deleteItem(r);e.save().then(n.resolve.bind(n)).catch(n.reject.bind(n))}).fail(r=>{e.error("Parameter delete failed",r);n.reject(r)});return n.promise()};t.prototype.loadParameterValue=function(r,t){const n=new jQuery.Deferred;this._getUDContainer(t).done(e=>{const t=e.getItemValue(r);if(t){n.resolve(t)}else{n.reject(new Error("no value "))}}).fail(r=>{e.error("Parameter load failed",r);n.reject(r)});return n.promise()};t.prototype.getStoredParameterNames=function(r){const t=new jQuery.Deferred;this._getUDContainer(r).done(e=>{const r=e.getItemKeys();t.resolve(r)}).fail(r=>{e.error("Parameter load failed",r);t.reject(r)});return t.promise()};t.prototype._getUDContainer=function(e){let r=e.id;if(r!==""){r=`.${r}`}if(!this._oContainerPromises[e.id]){const t=new jQuery.Deferred;this._oContainerPromises[e.id]=t.promise();this._getPersonalizationService().then(e=>{e.getContainer(`sap.ushell.UserDefaultParameter${r}`,{keyCategory:e.KeyCategory.FIXED_KEY,writeFrequency:e.WriteFrequency.LOW,clientStorageAllowed:true}).then(t.resolve).catch(t.reject)})}return this._oContainerPromises[e.id]};return t},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/local/UserInfoAdapter", ["sap/ui/thirdparty/jquery","sap/base/util/ObjectPath","sap/base/Log","sap/ushell/Container"],(jQuery,e,r,t)=>{"use strict";function n(n,i,a){let o;function s(r){const t=[{id:"sap_horizon",name:"SAP Morning Horizon"},{id:"sap_horizon_dark",name:"SAP Evening Horizon"},{id:"sap_horizon_hcb",name:"SAP High Contrast Black (SAP Horizon)"},{id:"sap_horizon_hcw",name:"SAP High Contrast White (SAP Horizon)"},{id:"sap_fiori_3",name:"SAP Quartz Light"},{id:"sap_fiori_3_dark",name:"SAP Quartz Dark"},{id:"sap_fiori_3_hcb",name:"SAP Quartz High Contrast Black"},{id:"sap_fiori_3_hcw",name:"SAP Quartz High Contrast White"},{id:"theme1_id",name:"Custom Theme"}];const n=e.get("config.themes",r);return n===undefined?t:n}this.updateUserPreferences=function(e){const n=new jQuery.Deferred;t.getServiceAsync("PersonalizationV2").then(t=>{const i={keyCategory:t.KeyCategory.FIXED_KEY,writeFrequency:t.WriteFrequency.LOW,clientStorageAllowed:true};function a(e,r){const t=r.getChangedProperties()||[];t.forEach(r=>{e.setItemValue(r.propertyName,r.newValue)})}t.getContainer("sap.ushell.UserProfile",i,undefined).then(t=>{a(t,e);t.save().then(()=>{n.resolve()}).catch(e=>{r.error("Failed to update user preferences:",e,"com.sap.ushell.adapters.local.UserInfo");n.reject(e)})}).catch(e=>{r.error("Failed to update user preferences:",e,"com.sap.ushell.adapters.local.UserInfo");n.reject(e)})});return n.promise()};this.getThemeList=function(){const e=new jQuery.Deferred;if(o===undefined){o=s(a)}if(o.length===0){e.reject(new Error("no themes were configured"))}else{e.resolve({options:o})}return e.promise()};this.getLanguageList=function(){const e=new jQuery.Deferred;e.resolve([{text:"Browser Language",key:"default"},{text:"American English",key:"en-US"},{text:"British English",key:"en-GB"},{text:"English",key:"en"},{text:"German",key:"de"},{text:"Hebrew",key:"he"},{text:"Russian",key:"ru"}]);return e.promise()}}return n},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/api/BootstrapObserver", ["sap/base/util/Deferred"],e=>{"use strict";class r{static#e=new e;static resolveBootstrappedContainer(e){r.#e.resolve(e)}static async ready(){return r.#e.promise}static __reset(){r.#e=new e}}return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/api/Copilot", ["sap/ushell/api/common/ComponentInstantiation"],n=>{"use strict";class e{async createComponentInstance(e){return n.createComponentInstance(e)}}return new e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/api/DWS", ["sap/ushell/appIntegration/ApplicationContainerCache","sap/ushell/appIntegration/AppLifeCycle"],(e,t)=>{"use strict";const r={};r.getCurrentApplicationIframe=function(){const e=t.getCurrentApplication()?.container;if(!e){return null}const r=e.getPostMessageTarget();if(!r){return null}return{iframe:r,origin:e.getPostMessageTargetOrigin()}};r.getAllApplicationIframes=function(){const t=e.getAll();return t.filter(e=>{if(!e){return false}if(!e.isA("sap.ushell.appIntegration.IframeApplicationContainer")){return false}if(!e.getPostMessageTarget()){return false}return true}).map(e=>({iframe:e.getPostMessageTarget(),origin:e.getPostMessageTargetOrigin()}))};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/api/Inbox", ["sap/ushell/api/common/ComponentInstantiation"],n=>{"use strict";class t{async createComponentInstance(t,e,a){return n.createComponentInstance(t,e,a)}async createComponentInstantiationData(t,e){return n.createComponentInstantiationData(t,e)}}return new t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/api/NewExperience", ["sap/ui/base/EventProvider","sap/ui/model/json/JSONModel","sap/ushell/api/NewExperience/CustomOverflowListItem","sap/ushell/Config"],(e,t,i,l)=>{"use strict";const r={Header:"Header",Overflow:"Overflow"};class s{#e=new e;#t=null;#i=null;#l=null;#r=null;constructor(){this.#s();this.#i=this.#o()}reset(){this.#l.destroy();this.#e.destroy();this.#i.destroy();this.#e=new e;this.#t=null;this.#s();this.#i=this.#o()}#s(){this.#l=new t({active:false,isVisible:false,currentState:r.Header,shellHeaderControlId:null,showInShellHeader:false})}#o(){return new i({visible:{parts:["/isVisible","/currentState"],formatter:(e,t)=>e&&t===r.Overflow},contentId:"{/shellHeaderControlId}"}).addStyleClass("newExperienceSwitchListItem").setModel(this.#l).data("help-id","ushell-new-experience-switch",true)}getModel(){return this.#l}getOverflowItemId(){return this.#i.getId()}isActive(){return this.#l.getProperty("/active")}getShellHeaderControl(){return this.#t}getOverflowItemControl(){return this.#i}showInOverflow(){this.#l.setProperty("/currentState",r.Overflow);this.#n()}showInShellHeader(){this.#l.setProperty("/currentState",r.Header);this.#n()}attachActiveChanged(...e){this.#e.attachEvent("activeChanged",...e)}detachActiveChanged(...e){this.#e.detachEvent("activeChanged",...e)}#n(){const e=this.isActive();const t=this.#l.getProperty("/currentState")===r.Header;if(e){this.#l.setProperty("/showInShellHeader",t)}else{this.#l.setProperty("/showInShellHeader",false)}}setSwitchControl(e){const t=this.isActive();if(e&&!e.hasStyleClass("sapUshellShellNewExperienceSwitch")){e.addStyleClass("sapUshellShellNewExperienceSwitch")}this.#t=e;this.#l.setProperty("/shellHeaderControlId",e?.getId?.());this.#l.setProperty("/active",!!e);this.#l.setProperty("/isVisible",!!e);if(t!==this.isActive()){this.#e.fireEvent("activeChanged",{active:this.isActive()})}if(l.last("/core/shellBar/enabled")){if(e){if(!e.data("help-id")){e.data("help-id","ushell-new-experience-switch",true)}const t=sap.ui.require("sap/ushell/Container");t.getServiceAsync("FrameBoundExtension").then(async t=>{this.#r=await t.createHeaderItem({id:e.getId()});this.#r.showForAllApps();this.#r.showOnHome()})}else{this.#r?.hideForAllApps();this.#r?.hideOnHome()}}this.#n()}setSwitchVisibility(e){this.#l.setProperty("/isVisible",e)}}const o=new s;return o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/api/NewExperience/CustomOverflowListItem", ["sap/m/CustomListItem","sap/m/CustomListItemRenderer","sap/ui/core/Element"],(e,t,s)=>{"use strict";const n=e.extend("sap.ushell.api.NewExperience.CustomOverflowListItem",{metadata:{library:"sap.ushell",properties:{contentId:{type:"string",group:"Misc",defaultValue:null}}},renderer:t});n.prototype.getContent=function(){const e=s.getElementById(this.getContentId());return[e]};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/api/RTA", ["sap/ushell/Config","sap/ushell/Container","sap/ushell/EventHub","sap/ushell/state/ShellModel"],(e,t,n,o)=>{"use strict";const r={};r.getLogo=function(){return o.getModel().getProperty("/header/logo/src")};r.getLogoDomRef=function(){const e=this.getLogo();const n=t.getRendererInternal();const o=n.getRootControl().getShellHeader()?.getDomRef();if(!o){return}const r=o.querySelectorAll("img");const l=Array.from(r).find(t=>t.src.includes(e));return l};r.setShellHeaderVisibility=function(e){const n=t.getRendererInternal();n.setHeaderVisibility(e,false)};r.addTopHeaderPlaceHolder=function(){const e=t.getRendererInternal();e.addTopHeaderPlaceHolder()};r.removeTopHeaderPlaceHolder=function(){const e=t.getRendererInternal();e.removeTopHeaderPlaceHolder()};r.setNavigationBarEnabled=function(e){n.emit("enableMenuBarNavigation",e)};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/api/S4MyHome", ["sap/ui/base/EventProvider","sap/ui/core/EventBus","sap/ui/thirdparty/hasher","sap/ushell/Container","sap/ushell/utils","sap/ushell/resources"],(e,t,i,s,a)=>{"use strict";const h="home";const o="Shell-home";const r=t.getInstance();class n{#e;#t=false;#i=new e;#s(){if(this.#t){return}this.#t=true;this.#e=s.getRendererInternal("fiori2").getRouter();this.#e.attachRouteMatched(this.#a.bind(this));r.subscribe("sap.ushell","navigated",this.#h,this)}#a(e){const t=e.getParameter("name")===h;this.#i.fireEvent("routeMatched",{isMyHomeRoute:t})}#h(){const e=i.getHash();const t=e===o;const s=this.#e.match(e);if(!t&&!s){this.#i.fireEvent("routeMatched",{isMyHomeRoute:false})}}attachRouteMatched(...e){this.#s();this.#i.attachEvent("routeMatched",...e)}detachRouteMatched(...e){this.#s();this.#i.detachEvent("routeMatched",...e)}formatDate(e){return a.formatDate(e)}reset(){r.unsubscribe("sap.ushell","navigated",this.#h,this);this.#i.destroy();this.#i=new e;this.#t=false;this.#e=null}}return new n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/api/SAPBusinessClient", ["sap/base/util/deepExtend","sap/ushell/Container","sap/ushell/services/NavTargetResolutionInternal","sap/ushell/state/ShellModel","sap/ushell/utils","sap/ushell/utils/UrlParsing"],(e,t,s,a,r,l)=>{"use strict";class n{getTheme(){const e=t.getUser();return e.getTheme(e.constants.themeFormat.THEME_NAME_PLUS_URL)}async resolveNavigationTarget(s){const a=e({},s);const n=l.constructShellHash(a);const o=await t.getServiceAsync("NavTargetResolutionInternal");const u=await r.promisify(o.resolveHashFragment(`#${n}`));return{url:u.url,text:u.text}}getLogo(){return a.getModel().getProperty("/header/logo/src")}}return new n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/api/common/ComponentInstantiation", ["sap/base/Log","sap/base/util/deepExtend","sap/ushell/ApplicationType","sap/ushell/Container","sap/ushell/UI5ComponentType","sap/ushell/utils","sap/ushell/utils/UrlParsing"],(e,t,a,n,o,i,s)=>{"use strict";class r{async createComponentInstance(e,t,a){const i=await n.getServiceAsync("Ui5ComponentLoader");let s=await this.createComponentInstantiationData(e,t);s=await i.modifyComponentProperties(s,o.Application);s.loadDefaultDependencies=false;if(a){return new Promise((e,t)=>{a.runAsOwner(()=>{this.#e(s,i).then(e).catch(t)})})}return this.#e(s,i)}async#e(t,a){try{const e=await a.instantiateComponent(t);return e.componentHandle.getInstance()}catch(t){e.error(`Cannot create UI5 component: ${t.toString()}`,t.stack,"sap.ushell.api.common.ComponentInstantiation");throw t}}async createComponentInstantiationData(e,t){const o={componentData:t};if(o.componentData){delete o.componentData.startupParameters;delete o.componentData.config;delete o.componentData["sap-xapp-state"]}const r=s.constructShellHash(s.parseShellHash(e));if(!r){throw new Error("Navigation intent invalid!")}const p=await n.getServiceAsync("NavTargetResolutionInternal");const c=await p.resolveHashFragment(`#${r}`);if(c.applicationType===a.URL.type&&c.appCapabilities&&c.appCapabilities.appFrameworkId==="UI5"&&n.inAppRuntime()){const[t]=await i.requireAsync(["sap/ushell/appRuntime/ui5/services/AppLifeCycleAgent"]);let a;try{const e=new URL(c.url);const t=new URLSearchParams(e.search);a=t.get("sap-ui-app-id")}catch(e){a=c.url.match(/[?&]sap-ui-app-id=([^&]+)/)[1]}let n=await t.getAppInfo(a);if(n.hasOwnProperty("oResolvedHashFragment")){n=n.oResolvedHashFragment}n=this.#t(n,o);if(n.url&&e.indexOf("?")>0){n.url+=`?${e.split("?")[1]}`}return this.#a({ui5ComponentName:a,applicationDependencies:n,url:n.url},o)}else if(c.applicationType!==a.URL.type&&!/^SAPUI5\.Component=/.test(c.additionalInformation)){throw new Error("The resolved target mapping is not of type UI5 component.")}return this.#a(c,o)}async#a(t,a){try{t=this.#t(t,a);t.loadDefaultDependencies=false;const e=await n.getServiceAsync("Ui5ComponentLoader");return e.createComponentData(t)}catch(t){e.error("Cannot get UI5 component data:",t,"sap.ushell.api.common.ComponentInstantiation");throw t}}#t(e,a){e=t({},e,a);if(!e.ui5ComponentName){if(e.additionalInformation){e.ui5ComponentName=e.additionalInformation.replace(/^SAPUI5\.Component=/,"")}else if(e.name){e.ui5ComponentName=e.name}}return e}}return new r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/api/performance/Extension", ["sap/base/Log","sap/ushell/api/performance/NavigationSource"],(i,a)=>{"use strict";class e{#i=[];#a="sap.ushell.api.performance.Extension";static#e=[];constructor(){this.#i=this.#o();this.#a="sap.ushell.api.performance.Extension"}#o(){return Object.keys(a).reduce((i,e)=>i.concat({id:e,abbreviation:a[e]}),[])}formatNavigationSource(a){if(!this.#i.some(i=>i.id===a.id)){i.warning("navigation source not known",a.id,this.#a)}return a.abbreviation.length>4?a.abbreviation.substring(0,4):a.abbreviation}getNavigationSource(){let a;switch(e.#e.length){case 0:return undefined;case 1:a=e.#e.pop();return{id:this.formatNavigationSource(a),abbreviation:a.abbreviation};default:a=e.#e.pop();i.warning("Multiple navigation sources found in stack, returning last one",null,this.#a);return{id:a.id,abbreviation:this.formatNavigationSource(a)}}}addNavigationSource(a){let o={};if(typeof a==="string"){o={id:a,abbreviation:a}}else if(typeof a==="object"){if(!a||!a.id||!a.abbreviation){i.error("Invalid navigation source",a,this.#a);return}o={id:a.id,abbreviation:a.abbreviation}}e.#e.push(o)}}return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/api/performance/NavigationSource", [],()=>{"use strict";this.oNavigationSource={AppFinder:"apFi",Application:"appl",FrequentlyUsed:"frUs",RecentlyUsed:"reUs",Situation:"situ",SearchCEP:"seCP",SearchDirectLaunch:"seDL",SearchEnterprise:"seEP",SideBar:"siBa",Task:"task",Todo:"toDo"};return Object.freeze(this.oNavigationSource)});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/api/workpage/Designtime", ["sap/ushell/utils/workpage/WorkPageVizInstantiation","sap/base/util/extend"],(t,e)=>{"use strict";class i{static#t;_oWorkPageVizInstantiation;_bPreviewMode;static async getInstance(){if(!i.#t){const e=await t.getInstance();i.#t=new i(e)}return i.#t}constructor(t){this._oWorkPageVizInstantiation=t;this._bPreviewMode=true}createVizInstance(t){const i=e({},t,{preview:this._bPreviewMode});return this._oWorkPageVizInstantiation.createVizInstance(i)}createTileCardConfiguration(t){const i=e({},t,{preview:this._bPreviewMode});return this._oWorkPageVizInstantiation.createTileCardConfiguration(i)}}return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/api/workpage/Runtime", ["./Designtime","sap/ushell/utils/workpage/WorkPageVizInstantiation","sap/ushell/utils/workpage/WorkPageService","sap/ushell/utils/workpage/WorkPageHost","sap/ushell/EventHub"],(e,t,s,n,a)=>{"use strict";class i extends e{static#e;_oWorkPageService;static async getInstance(){if(!i.#e){const e=await t.getInstance();i.#e=new i(e,new s)}return i.#e}constructor(e,t){super(e);this._oWorkPageService=t;this._bPreviewMode=false}fetchPageData(e){return this._oWorkPageService.loadWorkPageAndVisualizations(e,true)}fireAfterContentAdded(){a.emit("CenterViewPointContentRendered")}createHost(e,t){return new n(e,t)}}return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/AppLifeCycle", ["sap/base/util/Deferred","sap/ui/Device","sap/ui/core/Element","sap/ui/core/EventBus","sap/ushell/appIntegration/KeepAliveApps","sap/ushell/state/modules/BackNavigation","sap/ushell/state/modules/ContentDensity","sap/ushell/state/modules/Favicon","sap/ushell/state/modules/HeaderLogo","sap/ushell/appIntegration/contracts/EmbeddedUI5Handler","sap/ushell/appIntegration/contracts/StatefulContainerV1Handler","sap/ushell/appIntegration/contracts/StatefulContainerV2Handler","sap/ushell/appIntegration/ApplicationContainerCache","sap/ushell/appIntegration/ApplicationHandle","sap/ushell/appIntegration/AppLifeCycle/KeepAliveMode","sap/ushell/appIntegration/PostMessageHandler","sap/ushell/appIntegration/PostMessageManager","sap/ushell/appIntegration/PostMessagePluginInterface","sap/ushell/appIntegration/IframeApplicationContainer","sap/ushell/appIntegration/UI5ApplicationContainer","sap/ushell/services/AppConfiguration","sap/ushell/utils","sap/ushell/Config","sap/ushell/ApplicationType","sap/ushell/utils/UriParameters","sap/base/Log","sap/ushell/EventHub","sap/ushell/utils/UrlParsing","sap/ui/thirdparty/hasher","sap/ushell/renderer/utils","sap/m/library","sap/ushell/AppInfoParameters","sap/ushell/Container","sap/ushell/resources","sap/ushell/state/ShellModel","sap/ushell/state/StateManager","sap/ushell/state/KeepAlive","sap/ushell/ui5service/ShellUIServiceFactory","sap/ui/core/service/ServiceFactoryRegistry","sap/ushell/library","sap/ushell/renderer/RendererManagedComponents"],(e,t,i,n,a,o,s,p,r,l,c,u,h,d,f,g,A,y,C,I,m,v,_,S,w,b,F,R,N,H,P,T,L,U,M,E,D,x,B,W,k)=>{"use strict";const K=W.appIntegration.contracts.StatefulType;const $=E.ShellMode;const O=E.LaunchpadState;const V=E.Operation;const G=P.URLHelper;function q(){this._bDisableHomeAppCache=false;this._bUseLegacyRestoreFlowForNextApp=false;this._oCurrentApplication={};this._oGlobalShellUIService=null;this._oNavContainer=null;this._oInitDeferred=new e;this._pLastApplicationStart=this._oInitDeferred.promise;this._oStorageAppIdMap={};this._oStorageAppIdNextIndex={};this._aDoables=[]}q.prototype.KeepAliveMode=f;q.prototype.init=function(e,t){const i=[];if(_.last("/core/shell/enablePersistantAppstateWhenSharing")){L.getServiceAsync("AppState").then(e=>{const t=G.triggerEmail.bind(G);G.triggerEmail=function(i,n,a,o,s){const p=document.URL;e.setAppStateToPublic(p).done((e,p,r,l,c)=>{n=n&&p&&l&&n.includes(p)?n.replace(p,l):n;n=n&&r&&c&&n.includes(r)?n.replace(r,c):n;a=a&&p&&l&&a.includes(p)?a.replace(p,l):a;a=a&&r&&c&&a.includes(r)?a.replace(r,c):a;t(i,n,a,o,s)}).fail(t)}})}this._startPostMessageHandling();i.push(x.init().then(()=>{B.register("sap.ushell.ui5service.ShellUIService",x)}));i.push(this._createGlobalShellUIService());this._oNavContainer=e;this._bDisableHomeAppCache=t;n.getInstance().subscribe("sap.ushell","getAppLifeCycle",this._onGetAppLifeCycle,this);this._addEvents();i.push(s.init());p.init();r.init();d.init(this,this._oNavContainer);this._oNavContainer.attachAfterNavigate(this.onAfterNavigate.bind(this));this._oNavContainer.attachBeforeNavigate(this.onBeforeNavigate.bind(this));return Promise.allSettled(i).then(()=>{this._oInitDeferred.resolve()})};q.prototype._onGetAppLifeCycle=function(e,t,i){b.error("the EventBus channel 'sap.ushell.getAppLifeCycle' is private and was discontinued.")};q.prototype._addEvents=function(){this._aDoables.push(F.on("disableKeepAliveRestoreRouterRetrigger").do(this._useLegacyRestoreFlowForCurrentApplication.bind(this)));this._aDoables.push(F.on("setApplicationFullWidth").do(e=>{this._setApplicationFullWidth(e.bValue)}));this._aDoables.push(F.on("reloadCurrentApp").do(e=>{this._reloadCurrentApp(e)}))};q.prototype._startPostMessageHandling=function(){A.init({getCurrentApplication:()=>this.getCurrentApplication()?.container,getAllApplications:()=>h.getAll()});g.register();this._waitForPluginsAndReplayPostMessages();y.init(async(e,t)=>{const i=await A.sendRequestToAllApplications(e,t,true);return i[0]?.result},A.setRequestHandler.bind(A),A.setDistributionPolicy.bind(A),true)};q.prototype._waitForPluginsAndReplayPostMessages=async function(){const e=await L.getServiceAsync("PluginManager");const t=e.getPluginLoadingPromise("RendererExtensions");await v.promisify(t);A.replayStoredMessages()};q.prototype.registerHandleHashChange=function(e){e.hashChanger.attachEvent("hashChanged",t=>{if(N.disableBlueBoxHashChangeTrigger){return}const i=t.getParameters();if(i&&e.hashChanger.isInnerAppNavigation(i.newHash,i.oldHash)){A.sendRequestToAllApplications("sap.ushell.appRuntime.innerAppRouteChange",{oHash:i},false)}A.sendRequestToAllApplications("sap.ushell.appRuntime.hashChange",{sHash:i.fullHash},false)})};q.prototype.getCurrentApplication=function(){return this._oCurrentApplication};q.prototype._useLegacyRestoreFlowForCurrentApplication=function(){if(!this.getCurrentApplication()?.appId){this._bUseLegacyRestoreFlowForNextApp=true;return}const e=this.getCurrentApplication().appId;const t=a.get(e);if(t){t.useLegacyRestoreFlow=true}};q.prototype._setApplicationFullWidth=function(e){const t=this.getCurrentApplication();if(t.container){t.container.toggleStyleClass("sapUShellApplicationContainerLimitedWidth",!e)}};q.prototype.getShellUIService=function(){return this._oGlobalShellUIService};q.prototype.resetGlobalShellUIService=function(){if(this._oGlobalShellUIService){this._oGlobalShellUIService.resetService()}};q.prototype._createGlobalShellUIService=async function(){this._oGlobalShellUIService=await x.createInstanceInternal()};q.prototype.onBeforeNavigate=function(e){const t=e.getParameter("fromId")||"";const i=e.getParameter("from");const n=e.getParameter("toId")||"";if(n===t){return}if(t&&i&&i.isA("sap.ushell.appIntegration.IframeApplicationContainer")){const e=i;const t=e.getCurrentAppId();const n=e.getStatefulType()!==K.NotSupported;const o=!!a.get(t);if(o||n){e.sendRequest("sap.ushell.sessionHandler.beforeApplicationHide",{},false)}}};q.prototype.onAfterNavigate=async function(e){const t=e.getParameter("fromId")||"";const i=e.getParameter("from");const o=e.getParameter("toId")||"";const s=e.getParameter("to");const p=t===o;const r=k.isManagedComponentInstance(s);if(t&&i){if(i.isA("sap.ushell.appIntegration.ApplicationContainer")){const e=i;if(!p){await this._handleExitApplication(e,r)}}else{const e=t;const a=i;if(p){return}if(o.indexOf("Shell-appfinder-component")>0){n.getInstance().publish("sap.ushell","appFinderAfterNavigate")}if(this._bDisableHomeAppCache){try{this._removeApplicationContainerFromNavContainer(a);a.destroy()}catch(t){b.error(`Error when trying to destroy the home component: '${e}'`,t)}}}}if(o&&s){if(s.isA("sap.ushell.appIntegration.ApplicationContainer")){const e=s;const t=e.getCurrentAppId();const i=e.getIsFetchedFromCache();if(i&&e.isA("sap.ushell.appIntegration.IframeApplicationContainer")){e.sendRequest("sap.ushell.sessionHandler.afterApplicationShow",{},false)}if(a.get(t)){await this._restoreApplication(t)}}else{if(r){await this._destroyKeepAliveApps(e=>e.keepAliveMode===f.Restricted)}T.flush()}}};q.prototype._storeApplication=async function(e){const t=a.get(e);if(t){const e=t.container;const i=e.getIsKeepAlive();if(!i){b.error("Application should be kept alive but the flag is not set",null,"sap.ushell.appIntegration.AppLifeCycle");return}if(e.isA("sap.ushell.appIntegration.IframeApplicationContainer")){e.setDataHelpId("");if(e.getStatefulType()===K.ContractV2){const t=u.isStatefulContainerSupportingKeepAlive(e);if(t){const t=e.getCurrentAppId();if(!t){return}this._setContainerReadyForReuse(e);await u.storeAppWithinSameFrame(e,t)}}await e.sendRequest("sap.ushell.appRuntime.keepAliveAppHide",{},false)}else if(e.isA("sap.ushell.appIntegration.UI5ApplicationContainer")){await l.storeApp(e,t)}t.stateStored=true;const n=e.getCurrentAppTargetResolution();this._publishAppClosedEvent(n)}};q.prototype.destroyApplication=async function(e,t,i){if(typeof e!=="string"&&i){e="dummy-id"}if(typeof e!=="string"||!t){return}const n=a.get(e);const o=!!n;if(!t.getCurrentAppId()&&!i&&!o){return}const s=t.getCurrentAppTargetResolution();a.removeById(e);D.destroy(n);const p=t.getStatefulType()!==K.NotSupported;if(!i&&p){t.setDataHelpId("");this._setContainerReadyForReuse(t);if(t.getStatefulType()===K.ContractV2){await u.destroyApp(t,e)}else if(t.getStatefulType()===K.ContractV1){await c.destroyApp(t,e)}this._publishAppClosedEvent(s);return}if(t.getStatefulType()===K.ContractV2){await u.destroyApp(t,e)}else if(t.getStatefulType()===K.ContractV1){await c.destroyApp(t,e)}a.removeByContainer(t,e=>{D.destroy(e)});try{const e=t.sendBeforeAppCloseEvent();await v.promisify(e)}catch(e){b.error("FLP got a failed response from the iframe for the 'sap.ushell.services.CrossApplicationNavigation.beforeAppCloseEvent' message sent",e,"sap.ushell.appIntegration.AppLifeCycle.js")}h.removeByContainer(t);this._removeApplicationContainerFromNavContainer(t);try{t.destroy()}catch(e){b.error(`Exception when trying to close application with id '${t.getId()}'. This error must be fixed in order for FLP to operate properly.`,e,"sap.ushell.appIntegration.AppLifeCycle")}this._publishAppClosedEvent(s)};q.prototype._restoreApplication=async function(e){const t=a.get(e);if(t?.stateStored){o.restore(t.service);x.restore(t);const e=t.container;if(e.isA("sap.ushell.appIntegration.IframeApplicationContainer")){await e.sendRequest("sap.ushell.appRuntime.keepAliveAppShow",{},false)}else if(e.isA("sap.ushell.appIntegration.UI5ApplicationContainer")){await l.restoreAppAfterNavigate(e,t)}}};q.prototype._handleExitApplication=async function(e,t){if(!e){return}const i=e.getCurrentAppId();if(!i){return}const n=o.isBackNavigation()&&!t;if(n){await this.destroyApplication(i,e)}else{if(e.getIsKeepAlive()){return this._storeApplication(i)}return this.destroyApplication(i,e)}};q.prototype._destroyKeepAliveApps=async function(e,t){try{const i=[];a.forEach(t=>{if(e(t)){i.push(t)}});const n=i.map(e=>this.destroyApplication(e.appId,e.container,t));await Promise.allSettled(n)}catch(e){b.error("_destroyKeepAliveApps call failed",e)}};q.prototype._addStorageEntry=function(e,t,i,n,o){const s=a.get(e);if(s){return s}const p={service:{},shellHash:`#${R.constructShellHash(n)}`,appId:e,stt:"loading",currentState:null,controlManager:null,container:t,meta:undefined,app:undefined,keepAliveMode:o,appTarget:i,ui5ComponentName:i.ui5ComponentName,useLegacyRestoreFlow:this._bUseLegacyRestoreFlowForNextApp??false,stateStored:false};a.set(e,p);return p};q.prototype.storeAppExtensions=async function(){const e=this.getCurrentApplication();if(!e){return}const t=e.appId;const i=a.get(t);if(!i){return}o.store(i.service);D.store(i);T.store(i)};q.prototype._calculateKeepAliveMode=function(e,t,i){const n=Object.values(f);if(e.startsWith("application-Shell-startIntent")||e.startsWith("application-Shell-startGUI")||e.startsWith("application-Shell-startWDA")){return f.False}let a=new URLSearchParams(window.location.search).get("sap-keep-alive");if(n.includes(a)){return a}a=i.params?.["sap-keep-alive"];if(n.includes(a)){return a}if(t.url){a=w.fromURL(t.url).get("sap-keep-alive");if(n.includes(a)){return a}}const o=R.constructShellHash(i);if(o&&v.isRootIntent(o)){return f.True}return f.False};q.prototype._calculateAppType=function(e){if(e.applicationType==="URL"&&e.additionalInformation?.startsWith?.("SAPUI5.Component=")){return"SAPUI5"}return e.applicationType};q.prototype._reloadCurrentApp=async function(e){const t=h.getById(e.sAppContainerId);if(t){await this.destroyApplication(t.getCurrentAppId(),t)}const i=await L.getServiceAsync("ShellNavigationInternal");try{i.hashChanger.treatHashChanged(e.sCurrentHash)}catch(e){b.error("Error when trying to re-load the current displayed application",e,"sap.ushell.services.AppLifeCycle")}};q.prototype._createOrReuseApplicationContainer=function(e,t,i,n){let o;const s=a.get(e);if(s&&s.container){o=s.container}if(!o){const e=h.findFreeContainerByUrl(i.url);const t=e?.getStatefulType()!==K.NotSupported;if(t){o=e}}if(!o){i.shellUIService=this._oGlobalShellUIService.getInterface();const n=i?.ui5ComponentName;const a=!!n;const s={dataHelpId:t,initialAppId:e,currentAppId:e,currentAppUrl:i.url,shellUIService:i.shellUIService,currentAppTargetResolution:i,applicationType:i.applicationType,openWithPostByAppParam:i.openWithPostByAppParam,reservedParameters:i.reservedParameters,systemAlias:i.systemAlias,targetNavigationMode:i.targetNavigationMode,url:i.url,frameworkId:i.appCapabilities?.appFrameworkId};if(a){o=new I({...s,ui5ComponentName:i.ui5ComponentName})}else{o=new C({...s})}this._oNavContainer.addPage(o)}else{o.setIsFetchedFromCache(true);o.setDataHelpId(t)}h.setContainerActive(o);o.setIsKeepAlive(n);return o};q.prototype._removeApplicationContainerFromNavContainer=function(e){this._oNavContainer.removePage(e.getId(),true)};q.prototype._setApplicationContainerActive=async function(e){h.forEach(t=>{if(t&&t!==e){try{b.info(`Deactivating container ${t.getId()}`);t.setActive(false)}catch{}}});if(e){b.info(`Activating container "${e.getId()}"`);e.setActive(true)}};q.prototype._openApp=async function(e,t,i,n,o){const s=t.getIsFetchedFromCache();if(o&&s&&u.isStatefulContainerSupportingKeepAlive(t)){return u.restoreAppWithinSameFrame(t,e,i)}if(t.getStatefulType()===K.ContractV2){if(s&&t.getCurrentAppId()===e){return}const n=await u.createApp(t,e,i);if(n?.deletedKeepAliveId){const e=a.get(n.deletedKeepAliveId);if(e){a.removeById(n.deletedKeepAliveId);D.destroy(e)}}return}if(t.getStatefulType()===K.ContractV1){if(s&&t.getCurrentAppId()===e){return}await c.createApp(t,e,i);return}const p=i?.ui5ComponentName;const r=!!p;if(r&&!o){const a=!!i?.componentHandle;if(!a){m.setApplicationInInitMode();await l.createApp(t,i,n)}const o=i.componentHandle;const s=o.getInstance();t.setUi5ComponentId(i.ui5ComponentId);t.setComponentHandle(o);this._oCurrentApplication.app=s;const p=await l.getNavigationRedirectHash(t);if(typeof p==="string"){await this.destroyApplication(e,t);return p}if(typeof s.active==="function"){s.active()}}};q.prototype._announceAppOpening=function(e){window.setTimeout(()=>{const e=document.getElementById("sapUshellLoadingAccessibilityHelper-loadingComplete");if(e){e.setAttribute("aria-live","polite");e.innerHTML=U.i18n.getText("loadingComplete");window.setTimeout(()=>{e.setAttribute("aria-live","off");e.innerHTML=""},0)}},600)};q.prototype.publishAppOpeningEvent=function(e){window.setTimeout(()=>{n.getInstance().publish("launchpad","appOpening",e)},0)};q.prototype.publishAppOpenedEvent=function(e){v.setPerformanceMark("FLP.appOpened");window.setTimeout(()=>{n.getInstance().publish("sap.ushell","appOpened",e)},0);const t=this._publicEventDataFromResolutionResult(e);F.emit("AppRendered",t,true);H.publishExternalEvent("appOpened",t)};q.prototype._publishAppClosedEvent=function(e){window.setTimeout(()=>{n.getInstance().publish("sap.ushell","appClosed",e)},0);const t=this._publicEventDataFromResolutionResult(e);H.publishExternalEvent("appClosed",t)};q.prototype._publicEventDataFromResolutionResult=function(e){const t={};if(!e){return e}["applicationType","ui5ComponentName","url","additionalInformation","text"].forEach(i=>{t[i]=e[i]});Object.freeze(t);return t};q.prototype._isFullWidth=function(e,t){let i;const n=this._calculateAppType(e);const a=S.getDefaultFullWidthSetting(n);const o=e.appCapabilities?.fullWidth;if(a){if(e.fullWidth===false||e.fullWidth==="false"||t.fullWidth===false||t.fullWidth==="false"||o===false){i=false}}else if(e.fullWidth||e.fullWidth==="true"||t.fullWidth||t.fullWidth==="true"){i=true}if(i===undefined){i=a}return i};q.prototype._getBaseAppId=function(e){const t=R.getStableIntent(e);const i=R.getBasicHash(t);const n=`application-${i}`;return n};q.prototype._getStorageAppId=function(e,t){const i=R.getStableIntent(e);if(this._oStorageAppIdMap[i]){return this._oStorageAppIdMap[i]}let n;if(!this._oStorageAppIdNextIndex[t]){this._oStorageAppIdNextIndex[t]=0;n=t}if(!n){n=`${t}-${this._oStorageAppIdNextIndex[t]}`}this._oStorageAppIdMap[i]=n;this._oStorageAppIdNextIndex[t]++;return n};q.prototype._awaitLastApplicationStart=async function(){const t=new e;const i=this._pLastApplicationStart;this._pLastApplicationStart=this._pLastApplicationStart.then(()=>t.promise);await i;return t};q.prototype._startApplication=async function(e,t,i,n){const o=this._getBaseAppId(t.sFixedShellHash);const s=this._getStorageAppId(t.sFixedShellHash,o);await this._cleanupBeforeNewApp(s,e,t,i,n);this._sendFocusBackToShell();this.publishAppOpeningEvent(t);this._announceAppOpening(t);const p=this._calculateKeepAliveMode(s,t,e);const r=p!==f.False;const l=this._createOrReuseApplicationContainer(s,o,t,r);const c=!!a.get(s);if(r){this._oCurrentApplication=this._addStorageEntry(s,l,t,e,p)}else{this._oCurrentApplication={appId:s,stt:"loading",container:l,meta:undefined,app:undefined}}this._bUseLegacyRestoreFlowForNextApp=false;v.setPerformanceMark("FLP - addAppContainer");const u=a.get(s);if(u){T.restore(u)}else{T.flush()}this._setApplicationContainerActive(l);const h=await this._openApp(s,l,t,e,c);const g=new d(s,t,l,h);if(typeof h==="string"){return g}this._initializeAppWithMetadata(l,t);l.setReadyForRendering(true);v.setPerformanceMark("FLP -- centerViewPort");this.publishAppOpenedEvent(t);return g};q.prototype.startApplication=async function(e,t,i,n){const a=await this._awaitLastApplicationStart();const o=this._oCurrentApplication;this._oNavContainer.setBusy(true);try{const o=await this._startApplication(e,t,i,n);a.resolve();return o}catch(e){const t=!!this._oCurrentApplication?.appId;const i=t&&this._oCurrentApplication.appId!==o?.appId;if(i){const e=this._oCurrentApplication.container;if(e){await this.destroyApplication(e.getCurrentAppId(),e,true)}const t=o?.container?.isDestroyed()??true;if(t){this._oCurrentApplication={}}else{this._oCurrentApplication=o}}this._oNavContainer.setBusy(false);a.resolve();throw e}};q.prototype.switchViewState=function(e,t,i,n){const o=a.get(this._oCurrentApplication.appId);if(!o){E.destroyManagedControls()}const s=E.getShellMode();const p={TR:{headerless:$.Minimal}};let r;if(!n){r=p[i]?.[s]}E.switchState(e,r);const l=a.get(t);if(l){D.restore(l)}else{D.flush()}E.applyStalledChanges()};q.prototype._isFloatingContainerDocked=function(){const e=M.getModel().getProperty("/floatingContainer/state").includes("docked");const t=M.getModel().getProperty("/floatingContainer/visible");return e&&t};q.prototype._sendFocusBackToShell=function(){if(!t.system.desktop){return}sap.ui.require(["sap/ushell/renderer/AccessKeysHandler"],e=>{const t=E.getLaunchpadState();const n=E.getShellMode()===$.Default;const a=i.getElementById("shellAppTitle");if(a&&t===O.App&&n){const t=a.getFocusDomRef();if(t){e.sendFocusBackToShell(t.getAttribute("id"))}}})};q.prototype._initializeAppWithMetadata=function(e,t){const i=m.getMetadata(t,t?.sFixedShellHash);this._oCurrentApplication.meta=i;if(!e.getIsFetchedFromCache()){e.toggleStyleClass("sapUshellDefaultBackground",!i.hideLightBackground);const n=this._isFullWidth(t,i);if(!n){e.addStyleClass("sapUShellApplicationContainerLimitedWidth")}if(this._isFloatingContainerDocked()&&window.matchMedia("(min-width: 106.4rem)").matches){e.addStyleClass("sapUShellDockingContainer");e.removeStyleClass("sapUShellApplicationContainerLimitedWidth")}else if(this._isFloatingContainerDocked()){e.removeStyleClass("sapUShellApplicationContainerLimitedWidth")}}let n="sap-icon://folder";if(i&&i.icon){n=i.icon}E.updateCurrentState("application.icon",V.Set,n)};q.prototype._cleanupBeforeNewApp=async function(e,t,i,n,o){const s=this.getCurrentApplication()?.container;const p=s&&s.getStatefulType()!==K.NotSupported;if(p){await this._handleExitApplication(s,false)}const r=a.get(e);const l=!!r;const c=r?.container;const u=!!i?.ui5ComponentName;if(l){const i=`#${R.constructShellHash(t)}`;const a=R.compareHashes(i,r.shellHash);const s=a.sameIntent&&a.sameParameters;const p=!!n;if(!s){b.warning(`The keepAlive app '${e}' has to be destroyed because of id clashes.`);await this.destroyApplication(e,c)}else if(o&&p){b.warning(`The keepAlive app '${e}' has to be destroyed because of a bookmark start.`);await this.destroyApplication(e,c)}}if(u&&!l){const t=R.getBasicHash(i.sFixedShellHash);const n=`application-${t}-component`;if(s&&s.isA("sap.ushell.appIntegration.UI5ApplicationContainer")){if(s.getUi5ComponentName()===i.ui5ComponentName){b.warning(`The app '${s.getCurrentAppId()}' has to be destroyed because of component name clashes.`);await this.destroyApplication(s.getCurrentAppId(),s,true)}else if(s.getUi5ComponentId()===n){b.warning(`The app '${s.getCurrentAppId()}' has to be destroyed because of component id clashes.`);await this.destroyApplication(s.getCurrentAppId(),s,true)}}await this._destroyKeepAliveApps(t=>{if(t.appId===e){return false}if(t.ui5ComponentName===i.ui5ComponentName){b.warning(`The app '${t.appId}' has to be destroyed because of component name clashes.`);return true}if(t.appTarget?.ui5ComponentId===n){b.warning(`The app '${t.appId}' has to be destroyed because of component id clashes.`);return true}return false},true)}await h.forEach(async t=>{if(t.getStatefulType()!==K.ContractV2){return}try{t.isValid();return}catch(i){b.warning(`Destroying stateful container iframe due to unresponsiveness (${t.getId()})`,`reason: ${i.message}`,"sap.ushell.appIntegration.AppLifeCycle");return this.destroyApplication(e,t,true)}})};q.prototype.setNavContainer=function(e){this._oNavContainer=e};q.prototype._setContainerReadyForReuse=function(e){if(!e){return}h.setContainerReadyForReuse(e,e.getCurrentAppUrl());e.setIsKeepAlive(false);e.setCurrentAppUrl("");e.setIsFetchedFromCache(false)};q.prototype.reset=function(){this._aDoables.forEach(e=>{e.off()});this._aDoables=[];a.reset();h.destroyAllContainers();A.reset();this._oStorageAppIdMap={};this._oStorageAppIdNextIndex={};this._bDisableHomeAppCache=false;this._bUseLegacyRestoreFlowForNextApp=false;this._oCurrentApplication={};this._oNavContainer=null;this._oInitDeferred=new e;this._pLastApplicationStart=this._oInitDeferred.promise;this._oStorageAppIdMap={};this._oStorageAppIdNextIndex={}};return new q});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/AppLifeCycle/KeepAliveMode", [],()=>{"use strict";const e={True:"true",Restricted:"restricted",False:""};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/ApplicationContainer", ["sap/base/Log","sap/ui/core/Control","sap/ushell/appIntegration/ApplicationContainerRenderer","sap/ushell/library","sap/ushell/utils"],(e,t,i,r,a)=>{"use strict";const s=r.appIntegration.contracts.StatefulType;const o=r.components.container.ApplicationType;const n=t.extend("sap.ushell.appIntegration.ApplicationContainer",{metadata:{library:"sap.ushell",properties:{visible:{type:"boolean",defaultValue:true},height:{defaultValue:"100%",type:"sap.ui.core.CSSSize"},width:{defaultValue:"100%",type:"sap.ui.core.CSSSize"},active:{defaultValue:true,type:"boolean"},initialAppId:{defaultValue:"",type:"string"},currentAppId:{defaultValue:"",type:"string"},currentAppUrl:{defaultValue:"",type:"string"},shellUIService:{type:"object"},statefulType:{defaultValue:s.NotSupported,type:"sap.ushell.appIntegration.contracts.StatefulType"},beforeAppCloseEvent:{type:"object"},isKeepAlive:{defaultValue:false,type:"boolean"},isFetchedFromCache:{defaultValue:false,type:"boolean"},capabilities:{defaultValue:{},type:"object"},currentAppTargetResolution:{type:"object"},readyForRendering:{defaultValue:false,type:"boolean"},renderComplete:{defaultValue:false,type:"boolean"},frameworkId:{defaultValue:"",type:"string"},applicationType:{defaultValue:o.URL,type:"sap.ushell.components.container.ApplicationType"},openWithPostByAppParam:{defaultValue:true,type:"boolean"},reservedParameters:{type:"object"},systemAlias:{defaultValue:"",type:"string"},targetNavigationMode:{defaultValue:"",type:"string"},url:{defaultValue:"",type:"string"},dataHelpId:{type:"string",defaultValue:""}},interfaces:["sap.ushell.renderer.INavContainerPage"]},renderer:i});n.ui5version=null;n.ui5versionPromise=a.getUi5Version().then(t=>{e.debug(`Using ui5-version: ${t}`,null,"sap.ushell.appIntegration.ApplicationContainer");n.ui5version=t});n.prototype.getUi5Version=function(){return n.ui5version};n.prototype.init=function(){this.setProperty("capabilities",{},true)};n.prototype.invalidate=function(){if(this.getRenderComplete()){return this}return t.prototype.invalidate.apply(this,arguments)};n.prototype.setVisibility=function(e){this.setProperty("visible",e,true);if(e){this.removeStyleClass("sapUShellApplicationContainerHidden")}else{this.addStyleClass("sapUShellApplicationContainerHidden")}const t=this.getDomRef();if(t){t.setAttribute("aria-hidden",!e)}};n.prototype.setDataHelpId=function(e){this.setProperty("dataHelpId",e);const t=this.getDomRef();if(t){t.setAttribute("data-help-id",e)}return this};n.prototype.setActive=function(e){this.setProperty("active",e);const t=this.getDomRef();if(t){t.setAttribute("data-sap-ushell-active",e)}return this};n.prototype.setInitialAppId=function(e){this.setProperty("initialAppId",e);const t=this.getDomRef();if(t){t.setAttribute("data-sap-ushell-initial-app-id",e)}return this};n.prototype.setCurrentAppId=function(e){this.setProperty("currentAppId",e);const t=this.getDomRef();if(t){t.setAttribute("data-sap-ushell-current-app-id",e)}return this};n.prototype.setStatefulType=function(e){this.setProperty("statefulType",e);const t=this.getDomRef();if(t){t.setAttribute("data-sap-ushell-stateful-type",e)}return this};n.prototype.setFrameworkId=function(e){this.setProperty("frameworkId",e);const t=this.getDomRef();if(t){t.setAttribute("data-sap-ushell-framework-id",e)}return this};n.prototype.sendBeforeAppCloseEvent=async function(){};n.prototype.isTrustedPostMessageSource=function(e){return false};n.prototype.getPostMessageTarget=function(){throw new Error("getPostMessageTarget is not implemented in ApplicationContainer")};n.prototype.getPostMessageTargetOrigin=function(){throw new Error("getPostMessageTargetOrigin is not implemented in ApplicationContainer")};n.prototype.addCapabilities=function(e){const t=this.getCapabilities();e.forEach(e=>{t[`${e}`.toLowerCase()]=true});return this};n.prototype.removeCapabilities=function(e){const t=this.getCapabilities();if(!e){this.setProperty("capabilities",{},true);return this}e.forEach(e=>{delete t[`${e}`.toLowerCase()]});return this};n.prototype.supportsCapabilities=function(e){const t=this.getCapabilities();return e.every(e=>t[`${e}`.toLowerCase()])};n.prototype.isValid=function(){return true};n._setCachedUI5Version=function(e){n.ui5version=e;n.ui5versionPromise=n.ui5versionPromise.then(()=>{n.ui5version=e})};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/ApplicationContainerCache", ["sap/base/Log"],e=>{"use strict";class t{#e=[];#t={};constructor(){this.init()}init(){this.#e=[];this.#t=[]}setContainerActive(t){if(!t){return}if(this.#e.includes(t)){e.warning("The container is already active");return}this.removeByContainer(t);this.#e.push(t)}setContainerReadyForReuse(t,n){if(!t){return}if(!this.#e.includes(t)&&this.getById(t.getId())){e.warning("The container is already in pool");return}this.removeByContainer(t);this.#t.push({url:n,key:this.#n(n),container:t})}findFreeContainerByUrl(e){const t=this.#n(e);const n=this.#t.reverse().find(e=>e.key===t);if(n){return n.container}}canBeReused(e,t){if(!e){return false}if(this.#e.includes(e)){return false}const n=this.#n(t);const i=this.#t.find(t=>t.container===e);return!!i&&i.key===n}getLength(){return this.#e.length}getPoolLength(){return this.#t.length}removeByContainer(e){if(!e){return}this.#e=this.#e.filter(t=>t!==e);this.#t=this.#t.filter(t=>t.container!==e)}getById(e){let t;this.forEach(n=>{if(n.getId()===e){t=n}});return t}getAll(){return[...this.#e,...this.#t.map(e=>e.container)]}forEach(e){const t=[];for(const n of this.#e){t.push(e(n))}for(const n of this.#t){t.push(e(n.container))}return Promise.allSettled(t)}#n(e){let t;let n="";let i="";let s="";let a="";let r="";const o=new URL(e,this._getWindowLocationHref());t=o.origin;if(o.port===""){if(o.protocol==="https:"){t=`${t}:443`}else if(o.protocol==="http:"){t=`${t}:80`}}const l=o.searchParams;if(l.has("sap-iframe-hint")){n=`@hint:${l.get("sap-iframe-hint")}`}if(l.has("sap-ui-version")){i=`@uiver:${l.get("sap-ui-version")}`}if(l.has("sap-async-loading")&&l.get("sap-async-loading")!=="true"){s=`@async:${l.get("sap-async-loading")}`}if(l.has("sap-enable-fesr")&&l.get("sap-enable-fesr")!=="false"){a=`@fesr:${l.get("sap-enable-fesr")}`}if(l.has("sap-testcflp-iframeid")){r=`@testid:${l.get("sap-testcflp-iframeid")}`}return t.toLowerCase()+n+i+s+a+r}_getWindowLocationHref(){return window.location.href}_getStorageForDebug(){return{activeContainers:this.#e,reusableContainers:this.#t}}destroyAllContainers(){this.forEach(e=>{this.removeByContainer(e);e.destroy()})}}return new t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/ApplicationContainerRenderer", [],()=>{"use strict";const t={apiVersion:2};t.waitForUI5Version=function(t){const e=t.getMetadata().getClass();if(e.ui5version===null){e.ui5versionPromise.then(()=>{t.invalidate()});return true}};t.render=function(t,e){t.openStart("div",e);t.accessibilityState(e);t.attr("data-help-id",e.getDataHelpId());t.attr("data-sap-ushell-active",e.getActive());t.attr("data-sap-ushell-initial-app-id",e.getInitialAppId());t.attr("data-sap-ushell-current-app-id",e.getCurrentAppId());t.attr("data-sap-ushell-stateful-type",e.getStatefulType());t.attr("data-sap-ushell-framework-id",e.getFrameworkId());t.class("sapUShellApplicationContainer");t.style("height",e.getHeight());t.style("width",e.getWidth());t.openEnd();t.close("div")};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/ApplicationHandle", ["sap/ushell/state/StateManager","sap/ushell/utils"],(t,a)=>{"use strict";const i=t.LaunchpadState;class e{static#t=null;static#a=null;#i=null;#e=null;#s=null;#o=null;constructor(t,a,i,e){this.#i=t;this.#e=a;this.#s=i;this.#o=e}static init(t,a){this.#a=t;this.#t=a}async navTo(t){const s=this.#s.getId();e.#t.navTo(s);e.#a.switchViewState(t?i.Home:i.App,this.#i,this.#e.applicationType,this.#e.explicitNavMode);await a.awaitTimeout(0)}getNavigationRedirectHash(){return this.#o}}return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/IframeApplicationContainer", ["sap/base/Log","sap/base/util/uid","sap/ui/Device","sap/ui/thirdparty/URI","sap/ushell/appIntegration/ApplicationContainer","sap/ushell/appIntegration/IframeApplicationContainerRenderer","sap/ushell/appIntegration/PostMessageManager","sap/ushell/ApplicationType/UrlPostProcessing","sap/ushell/ApplicationType/systemAlias","sap/ushell/Config","sap/ushell/Container","sap/ushell/library","sap/ushell/System","sap/ushell/utils","sap/ushell/utils/UriParameters"],(t,e,i,s,r,a,n,o,l,p,u,h,g,f,c)=>{"use strict";const d=3500;const m=r.extend("sap.ushell.appIntegration.IframeApplicationContainer",{metadata:{library:"sap.ushell",properties:{visible:{type:"boolean",defaultValue:true},globalDirtyStorageKey:{defaultValue:"",type:"string"},iframeUrl:{defaultValue:"",type:"string",visibility:"hidden"},iframePostAllParams:{defaultValue:false,type:"boolean"},iframeWithPost:{defaultValue:false,type:"boolean"},iframeIsValidSupport:{defaultValue:false,type:"boolean"},lastIframeIsValidTime:{defaultValue:0,type:"int"}},interfaces:["sap.ushell.renderer.INavContainerPage"]},renderer:a});m.prototype.init=function(){r.prototype.init.apply(this,arguments);this._aPendingRequestsWaitingForResponse=[];this.setProperty("lastIframeIsValidTime",Date.now(),true);const t=`sap.ushell.Container.dirtyState.${e()}`;this.setProperty("globalDirtyStorageKey",t,true);localStorage.removeItem(this.getGlobalDirtyStorageKey());this._fnStorageEventListener=this._handleStorageEvent.bind(this);addEventListener("storage",this._fnStorageEventListener);this._fnPagehideEventListener=this.exit.bind(this);addEventListener("pagehide",this._fnPagehideEventListener)};m.prototype.onBeforeRendering=function(){if(!this.getReadyForRendering()){return}this._attachLogoutEvent();this._initNWBCStorage();this._addRemoteSystemForUrl();this._calculateIframeUrl();this._calculateIframeWithPost();if(!this.getProperty("iframeWithPost")){const t=this.getProperty("iframeUrl");const e=l.addSystemAlias(t,this);this.setProperty("iframeUrl",e,true)}};m.prototype.onAfterRendering=async function(){if(!this.getReadyForRendering()){return}const t=await u.getServiceAsync("MessageBroker");const e=this.getPostMessageTargetOrigin();t.addAcceptedOrigin(e);if(i.os.ios&&this.$().prop("tagName")==="IFRAME"){this.$().parent().css("overflow","auto")}};m.prototype.setVisibility=function(t){this.setProperty("visible",t,true);const e=this.getDomRef();if(e){e.setAttribute("aria-hidden",!t)}if(t){this.removeStyleClass("sapUShellApplicationContainerIframeHidden");this.removeStyleClass("sapUShellApplicationContainerIframeHiddenButActive");return}if(this._aPendingRequestsWaitingForResponse.length>0){this.addStyleClass("sapUShellApplicationContainerIframeHiddenButActive")}else{this.addStyleClass("sapUShellApplicationContainerIframeHidden")}};m.prototype.setDataHelpId=function(t){r.prototype.setDataHelpId.apply(this,arguments);if(!this.getDomRef()||!this.getIframeWithPost()){return this}const e=this._getIframe();if(e){e.setAttribute("data-help-id",`${t}-iframe`)}return this};m.prototype._attachLogoutEvent=function(){const t=this.getApplicationType();if(f.isApplicationTypeEmbeddedInIframe(t)){this._fnLogout=this._handleLogout.bind(this);u.attachLogoutEvent(this._fnLogout)}};m.prototype._initNWBCStorage=function(){const t=this.getApplicationType();if(f.isApplicationTypeEmbeddedInIframe(t,true)||f.isApplicationTypeEmbeddedInIframe(this.getFrameworkId())){f.localStorageSetItem(this.getGlobalDirtyStorageKey(),u.DirtyState.INITIAL)}};m.prototype._getDocumentUrl=function(){return document.URL};m.prototype._calculateIframeWithPost=function(){const t=c.fromURL(this._getDocumentUrl());const e=this.getApplicationType();const i=p.last("/core/shell/enableOpenIframeWithPost")??true;const s=t.get("sap-post")==="false";const r=t.get("sap-post")==="true";const a=this.getOpenWithPostByAppParam()===false;const n=["NWBC","TR","WDA","WCF"].includes(e);let o;if(r){o=true}else if(s){o=false}else if(a){o=false}else{o=i&&n}if(o&&e==="TR"){this.setProperty("iframePostAllParams",true,true)}this.setProperty("iframeWithPost",o,true)};m.prototype._calculateIframeUrl=function(){const t=this.getApplicationType();let e=this.getUrl();e=o.processUrl(e,t,false,this);e=this._injectParametersFromDocumentUrl(e);this.setProperty("iframeUrl",e,true)};m.prototype._injectParametersFromDocumentUrl=function(t){const e=c.fromURL(this._getDocumentUrl());if(!e.has("sap-iframe-params")){return t}const i=e.get("sap-iframe-params")||"";const r=i.split(",");const a=new s(t);r.forEach(t=>{if(t&&e.has(t)){a.addQuery(t,e.get(t))}});t=a.toString();return t};m.prototype._addRemoteSystemForUrl=function(){if(this._oSystem){return}const t=this.getUrl();const e=document.createElement("a");const i=c.fromURL(t).get("sap-client");e.href=t;const s=`${e.protocol}//${e.host}`;this._oSystem=new g({alias:i?`${s}?sap-client=${i}`:s,baseUrl:s,client:i||undefined,platform:"abap"});u.addRemoteSystem(this._oSystem)};m.prototype._handleStorageEvent=function(e){if(e.key!==this.getGlobalDirtyStorageKey()){return}if(e.newValue!==u.DirtyState.PENDING){return}const i=this.getPostMessageTarget();if(!i){return}t.debug("getGlobalDirty() send pro54_getGlobalDirty ",null,"sap.ushell.appIntegration.ApplicationContainer");const s=this.getPostMessageTargetOrigin();const r=JSON.stringify({action:"pro54_getGlobalDirty"});i.postMessage(r,s)};m.prototype._handleLogout=function(t){const e=this.getPostMessageTarget();const i=this.getApplicationType();if(e&&f.isApplicationTypeEmbeddedInIframe(i)){const i=this.getPostMessageTargetOrigin();e.postMessage(JSON.stringify({action:"pro54_disableDirtyHandler"}),i);t.preventDefault()}};m.prototype._getIframe=function(){const t=this.getDomRef();if(!t||t.tagName!=="IFRAME"){if(this.getIframeWithPost()===true&&t&&t.getAttribute&&t.getAttribute("data-sap-ushell-iframe-app")==="true"){return document.getElementById(`${t.getAttribute("id")}-iframe`)}return null}return t};m.prototype.getPostMessageTarget=function(){const t=this._getIframe();return t?.contentWindow};m.prototype.getPostMessageTargetOrigin=function(){let t;const e=this._getIframe();if(!e){return""}if(this.getIframeWithPost()===true){const i=`${e.getAttribute("id").replace("-iframe","-form")}`;const s=document.getElementById(i);t=s?.action}else{t=e.src}const i=new s(t);const r=`${i.protocol()}://${i.host()}`;return r};m.prototype.isTrustedPostMessageSource=function(t){if(!t){return false}if(t.source&&t.source===this.getPostMessageTarget()){return true}if(t.origin&&t.origin===this.getPostMessageTargetOrigin()){return true}return false};m.prototype.sendRequest=async function(t,e,i=false){if(!i){return n.sendRequestToApplication(t,e,this,false)}if(!this.getProperty("visible")){this.addStyleClass("sapUShellApplicationContainerIframeHiddenButActive");this.removeStyleClass("sapUShellApplicationContainerIframeHidden")}const s=n.sendRequestToApplication(t,e,this,true);this._aPendingRequestsWaitingForResponse.push(s);const r=await s;this._aPendingRequestsWaitingForResponse=this._aPendingRequestsWaitingForResponse.filter(t=>t!==s);if(this._aPendingRequestsWaitingForResponse.length===0&&!this.getProperty("visible")){this.addStyleClass("sapUShellApplicationContainerIframeHidden");this.removeStyleClass("sapUShellApplicationContainerIframeHiddenButActive")}return r};m.prototype.sendBeforeAppCloseEvent=async function(){const t=this.getBeforeAppCloseEvent();if(t?.enabled===true){return this.sendRequest("sap.ushell.services.CrossApplicationNavigation.beforeAppCloseEvent",t.params,true)}};m.prototype.isValid=function(){if(!this.getIframeIsValidSupport()){return true}const t=Date.now()-this.getLastIframeIsValidTime();const e=t>=d;const i=`iframe did not ping in the last '${t}' ms`;if(e){throw new Error(i)}return true};m.prototype.exit=function(){localStorage.removeItem(this.getGlobalDirtyStorageKey());if(this._fnStorageEventListener){removeEventListener("storage",this._fnStorageEventListener)}if(this._fnPagehideEventListener){removeEventListener("pagehide",this._fnPagehideEventListener)}if(this._fnLogout){u.detachLogoutEvent(this._fnLogout)}r.prototype.exit.apply(this,arguments)};return m});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/IframeApplicationContainerRenderer", ["sap/base/Log","sap/ui/core/Renderer","sap/ui/core/RenderManager","sap/ui/thirdparty/URI","sap/ushell/appIntegration/ApplicationContainerRenderer","sap/ushell/ApplicationType/systemAlias","sap/ushell/Config","sap/ushell/Container","sap/ushell/resources","sap/ushell/utils","sap/ushell/utils/UriParameters"],(t,e,a,r,i,s,n,l,o,p,d)=>{"use strict";let c=0;const f=e.extend(i);f.render=function(t,e){if(!e.getReadyForRendering()){i.render(t,e);return}if(this.waitForUI5Version(e)){return}if(e.getProperty("iframeWithPost")){const a=e.getProperty("iframeUrl");this._renderIframeWithPOST(t,e,a,++c)}else{this._renderIframe(t,e)}e.setRenderComplete(true)};f._renderIframe=function(t,e){const a=e.getProperty("iframeUrl");t.openStart("iframe",e);t.accessibilityState(e);t.attr("src",a);t.attr("title",o.i18n.getText("AppilcationContainer.IframeTitle"));t.attr("data-help-id",e.getDataHelpId());t.attr("data-sap-ushell-active",e.getActive());t.attr("data-sap-ushell-iframe-idx",++c);t.attr("data-sap-ushell-initial-app-id",e.getInitialAppId());t.attr("data-sap-ushell-current-app-id",e.getCurrentAppId());t.attr("data-sap-ushell-stateful-type",e.getStatefulType());t.attr("data-sap-ushell-framework-id",e.getFrameworkId());t.class("sapUShellApplicationContainer");t.style("height",e.getHeight());t.style("width",e.getWidth());if(n.last("/core/shell/enableFeaturePolicyInIframes")===true){t.attr("allow",p.getIframeFeaturePolicies())}t.openEnd();t.close("iframe")};f._renderIframeWithPOST=function(e,r,i,s){const n=p.filterOutParamsFromLegacyAppURL(i);this._renderPostWrapper(e,r);this._getAdditionalDataForPost(r,n).then(async t=>{const e=new a;const i=`${r.getId()}-form`;const l=`${r.getId()}-iframe`;const o=this._calculatePostUrls(r,n);this._renderPostForm(e,r,i,l,t,o.form,`${r.getDataHelpId()}-form`,o.iframeWithoutSystemAlias);this._renderPostIframe(e,r,l,o.iframe,o.form,`${r.getDataHelpId()}-iframe`,s);e.flush(r.getDomRef());e.destroy();await p.awaitTimeout(0);return i}).then(e=>{const a=document.getElementById(e);if(a){a.submit()}else{t.error("Form element not found")}})};f._renderPostWrapper=function(t,e){t.openStart("div",e);t.attr("data-help-id",e.getDataHelpId());t.attr("data-sap-ushell-active",e.getActive());t.attr("data-sap-ushell-iframe-app","true");t.attr("data-sap-ushell-initial-app-id",e.getInitialAppId());t.attr("data-sap-ushell-current-app-id",e.getCurrentAppId());t.attr("data-sap-ushell-stateful-type",e.getStatefulType());t.attr("data-sap-ushell-framework-id",e.getFrameworkId());t.class("sapUShellApplicationContainer");t.style("height",e.getHeight());t.style("width",e.getWidth());t.openEnd();t.close("div")};f._calculatePostUrls=function(t,e){const a=d.fromURL(e);const i=e;const n=s.addSystemAlias(i,t);let l=e;if(t.getIframePostAllParams()){if(this._getPostParameters(t,i).length){const t=a.get("sap-iframe-hint");const i=a.get("sap-keep-alive");const s=new r(e).query("");if(typeof t==="string"){s.addSearch("sap-iframe-hint",t)}if(typeof i==="string"){s.addSearch("sap-keep-alive",i)}l=s.toString()}}return{iframeWithoutSystemAlias:i,iframe:n,form:l}};f._getAdditionalDataForPost=async function(t,e){let a=[];let r=[];const i=p.getParamKeys(e);if(i.aAppStateNamesArray.length){const t=await l.getServiceAsync("Navigation");try{const e=await t.getAppStateData(i.aAppStateKeysArray);if(e){a=[...i.aAppStateNamesArray];r=[...e]}}catch{}}a.push("sap-flp-url");r.push(l.getFLPUrl(true));a.push("system-alias");r.push(t.getSystemAlias());const s={};a.forEach((t,e)=>{if(r[e]||t==="system-alias"){s[t]=r[e]}});return s};f._renderPostForm=function(t,e,a,r,i,s,n,l){const o=JSON.stringify(i);t.openStart("form");t.attr("id",a);t.attr("method","post");t.attr("name",a);t.attr("target",r);t.attr("action",s);t.attr("data-help-id",n);t.style("display","none");t.openEnd();t.voidStart("input");t.attr("name","sap-flp-params");t.attr("value",o);t.voidEnd();if(e.getIframePostAllParams()){const a=this._getPostParameters(e,l);a.forEach(e=>{t.voidStart("input");t.attr("name",e.key);t.attr("value",e.value);t.voidEnd()})}t.close("form")};f._renderPostIframe=function(t,e,a,i,s,l,d){t.openStart("iframe",a);t.attr("name",a);t.accessibilityState(e);t.attr("sap-orig-src",i);t.attr("title",o.i18n.getText("AppilcationContainer.IframeTitle"));t.attr("data-help-id",l);t.attr("data-sap-ushell-iframe-idx",d);t.class("sapUShellApplicationContainer");t.style("height",e.getHeight());t.style("width",e.getWidth());if(n.last("/core/shell/enableFeaturePolicyInIframes")){t.attr("allow",p.getIframeFeaturePolicies().replaceAll(";",` ${new r(s).origin()};`))}t.openEnd();t.close("iframe")};f._getPostParameters=function(t,e){const a=d.fromURL(e);const r=[];let i="";if(a.has("sap-iframe-hint")){i=a.get("sap-iframe-hint")}const s=a.mParams;if(t.getApplicationType()==="TR"||i==="GUI"){for(const t in s){if(t==="sap-iframe-hint"||t==="sap-keep-alive"){continue}r.push({key:t,value:s[t][0]})}}return r};return f});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/KeepAliveApps", [],()=>{"use strict";class e{#e={};get(e){if(!e||!Object.hasOwn(this.#e,e)){return}return this.#e[e]}set(e,t){if(!e){return}this.#e[e]=t}removeById(e){if(!e||!Object.hasOwn(this.#e,e)){return}delete this.#e[e]}removeByContainer(e,t){this.forEach((r,i)=>{if(r.container===e){if(t){t(r)}this.removeById(i)}})}forEach(e){Object.keys(this.#e).forEach(t=>{const r=this.#e[t];e(r,t)})}length(){return Object.keys(this.#e).length}reset(){this.#e={}}}return new e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessageHandler", ["sap/base/util/deepClone","sap/ushell/appIntegration/PostMessageHandler/AppInfoHandler","sap/ushell/appIntegration/PostMessageHandler/AppStateHandler","sap/ushell/appIntegration/PostMessageHandler/BookmarkHandler","sap/ushell/appIntegration/PostMessageHandler/EnvironmentHandler","sap/ushell/appIntegration/PostMessageHandler/ExtensionHandler","sap/ushell/appIntegration/PostMessageHandler/LifecycleHandler","sap/ushell/appIntegration/PostMessageHandler/MessageBrokerHandler","sap/ushell/appIntegration/PostMessageHandler/NavigationHandler","sap/ushell/appIntegration/PostMessageHandler/NWBCHandler","sap/ushell/appIntegration/PostMessageHandler/SessionHandler","sap/ushell/appIntegration/PostMessageManager"],(e,s,a,r,n,t,l,i,p,g,o,d)=>{"use strict";const H=[(s,a)=>{if(a.service?.startsWith("sap.ushell.services.appLifeCycle")){const r=e(a);r.service=r.service.replace(/appLifeCycle/gi,"AppLifeCycle");r.originalMessage=a;const n=new MessageEvent("message",{data:JSON.stringify(r),origin:s.origin,source:s.source});n.originalMessageEvent=s;return{event:n,message:r}}}];return{register(){H.forEach(e=>{d.addEventPreprocessor(e)});s.register();a.register();r.register();n.register();t.register();l.register();i.register();p.register();g.register();o.register()}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessageHandler/AppInfoHandler", ["sap/base/util/Deferred","sap/ushell/appIntegration/PostMessageManager","sap/ushell/Container","sap/ushell/utils"],(e,s,t,i)=>{"use strict";const l={};const a={"sap.ushell.ui5service.ShellUIService.setBackNavigation":{async handler(e,t,i){const l=t.getShellUIService();let a;if(e.callbackMessage?.service){a=()=>{s.sendRequest(e.callbackMessage.service,null,i.source,i.origin,false)}}l.setBackNavigation(a)},options:{provideApplicationContext:true}},"sap.ushell.ui5service.ShellUIService.setTitle":{async handler(e,s,t){const{sTitle:i,oAdditionalInformation:l}=e;const a=s.getShellUIService();a.setTitle(i,l)},options:{provideApplicationContext:true}},"sap.ushell.services.ShellUIService.setTitle":{async handler(e,s,t){const{sTitle:i,oAdditionalInformation:l}=e;const a=s.getShellUIService();a.setTitle(i,l)},options:{provideApplicationContext:true}},"sap.ushell.services.ShellUIService.setHierarchy":{async handler(e,s,t){const{aHierarchyLevels:i}=e;const l=s.getShellUIService();l.setHierarchy(i)},options:{provideApplicationContext:true}},"sap.ushell.services.ShellUIService.setRelatedApps":{async handler(e,s,t){const{aRelatedApps:i}=e;const l=s.getShellUIService();l.setRelatedApps(i)},options:{provideApplicationContext:true}},"sap.ushell.services.AppLifeCycle.setNewAppInfo":{async handler(e,s){const i=e;const l=await t.getServiceAsync("AppLifeCycle");l.setAppInfo(i,true)}},"sap.ushell.services.AppLifeCycle.updateCurrentAppInfo":{async handler(e,s){const i=e;const l=await t.getServiceAsync("AppLifeCycle");l.setAppInfo(i,false)}},"sap.ushell.services.AppConfiguration.setApplicationFullWidth":{async handler(e,s){const{bValue:t}=e;const[l]=await i.requireAsync(["sap/ushell/services/AppConfiguration"]);l.setApplicationFullWidthInternal(t)}},"sap.ushell.services.ShellUIService.setDirtyFlag":{async handler(e,s){const{bIsDirty:i}=e;t.setDirtyFlag(i)}},"sap.ushell.services.Container.setDirtyFlag":{async handler(e,s){const{bIsDirty:i}=e;t.setDirtyFlag(i)}},"sap.ushell.services.Container.registerDirtyStateProvider":{async handler(s,i,l){const{bRegister:a}=s;if(a){i.addCapabilities(["sap.ushell.appRuntime.handleDirtyStateProvider"]);t.setAsyncDirtyStateProvider(async s=>{const t=new e;const l=setTimeout(()=>{t.resolve(false)},2500);i.sendRequest("sap.ushell.appRuntime.handleDirtyStateProvider",{oNavigationContext:s},true).then(e=>{if(l){clearTimeout(l)}t.resolve(e.result??false)});return t.promise})}else{t.setAsyncDirtyStateProvider()}},options:{provideApplicationContext:true}}};return{register(){Object.keys(l).forEach(e=>{const t=l[e];s.setDistributionPolicy(e,t)});Object.keys(a).forEach(e=>{const t=a[e];s.setRequestHandler(e,t.handler,t.options)})}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessageHandler/AppStateHandler", ["sap/ui/core/UIComponent","sap/ui/thirdparty/hasher","sap/ushell/appIntegration/PostMessageManager","sap/ushell/Container","sap/ushell/services/Navigation/compatibility","sap/ushell/utils"],(e,t,s,a,n,i)=>{"use strict";const p=new e;const c={};const r={"sap.ushell.services.AppState.getAppState":{async handler(e,t){const{sKey:s}=e;const n=await a.getServiceAsync("AppState");const p=n.getAppState(s);const c=await i.promisify(p);delete c._oServiceInstance;return c}},"sap.ushell.services.AppState._saveAppState":{async handler(e,t){const{sKey:s,sData:n,sAppName:p,sComponent:c,bTransient:r,iPersistencyMethod:o,oPersistencySettings:l}=e;const S=await a.getServiceAsync("AppState");const y=S._saveAppState(s,n,p,c,r,o,l);await i.promisify(y)}},"sap.ushell.services.AppState.deleteAppState":{async handler(e,t){const{sKey:s}=e;const n=await a.getServiceAsync("AppState");const p=n.deleteAppState(s);await i.promisify(p)}},"sap.ushell.services.AppState.makeStatePersistent":{async handler(e,t){const{sKey:s,iPersistencyMethod:n,oPersistencySettings:p}=e;const c=await a.getServiceAsync("AppState");const r=c.makeStatePersistent(s,n,p);return i.promisify(r)}},"sap.ushell.services.Navigation.getAppState":{async handler(e,t){const{sAppStateKey:s}=e;const n=await a.getServiceAsync("Navigation");const i=await n.getAppState(p,s);delete i._oServiceInstance;return i}},"sap.ushell.services.CrossApplicationNavigation.getAppState":{async handler(e,t){const{sAppStateKey:s}=e;const n=await a.getServiceAsync("Navigation");const i=await n.getAppState(p,s);delete i._oServiceInstance;return i}},"sap.ushell.services.CrossApplicationNavigation.getAppStateData":{async handler(e,t){const{sAppStateKey:s}=e;return n.getAppStateData(s)}},"sap.ushell.services.CrossApplicationNavigation.setInnerAppStateData":{handler:async e=>{const{sData:s}=e;let n;if(s!==undefined){try{n=JSON.parse(s)}catch{n=s}}else{n={}}const p=await a.getServiceAsync("AppState");const c=p.createEmptyAppState();c.setData(n);await i.promisify(c.save());const r=c.getKey();let o=t.getHash();if(o.indexOf("&/")>0){if(o.indexOf("sap-iapp-state=")>0){const e=/(?:sap-iapp-state=)([^&/]+)/.exec(o)[1];o=o.replace(e,r)}else{o=`${o}/sap-iapp-state=${r}`}}else{o=`${o}&/sap-iapp-state=${r}`}t.disableBlueBoxHashChangeTrigger=true;t.replaceHash(o);t.disableBlueBoxHashChangeTrigger=false;return r}}};return{register(){Object.keys(c).forEach(e=>{const t=c[e];s.setDistributionPolicy(e,t)});Object.keys(r).forEach(e=>{const t=r[e];s.setRequestHandler(e,t.handler,t.options)})}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessageHandler/BookmarkHandler", ["sap/base/Log","sap/m/library","sap/ushell/appIntegration/PostMessageManager","sap/ushell/Container","sap/ushell/library","sap/ushell/resources","sap/ushell/state/ShellModel","sap/ushell/utils"],(e,t,o,a,s,r,n,c)=>{"use strict";const i=t.URLHelper;const l=s.ContentNodeType;function k(t,o){if(!t||!t.serviceUrl||!o){return}if(o.id===""||o.id==="saas_approuter"){t.serviceUrl=undefined;e.warning("Dynamic data bookmarks tiles are not supported for local content providers")}}async function d(t="",o="",s="",r="",n="",l,k){let d=c.getDocumentUrl();function p(e,t,a,r,n,c){o=o.includes(e)?o.replace(e,t):o;s=s.includes(e)?s.replace(e,t):s;if(a&&n){o=o.includes(a)?o.replaceAll(a,n):o;s=s.includes(a)?s.replaceAll(a,n):s}if(r&&c){o=o.includes(r)?o.replaceAll(r,c):o;s=s.includes(r)?s.replaceAll(r,c):s}}if(k){const c=await a.getServiceAsync("AppState");c.setAppStateToPublic(l).then((e,a,c,k="",u="")=>{if(k){d=d.replace(a,k)}if(u){d=d.replace(c,u)}p(l,d,a,c,k,u);i.triggerEmail(t,o,s,r,n)}).catch(t=>{e.error("Failed to set app state to public:",t)})}else{p(l,d);i.triggerEmail(t,o,s,r,n)}}const p={};const u={"sap.ushell.services.Bookmark.addBookmarkUI5":{async handler(e,t){const{oParameters:o,vContainer:s}=e;const r=await a.getServiceAsync("AppLifeCycle");const n=await r.getCurrentApplication().getSystemContext();k(o,n);const c=await a.getServiceAsync("BookmarkV2");await c.addBookmark(o,s,n.id)}},"sap.ushell.services.Bookmark.addBookmark":{async handler(e,t){if(true){const{oParameters:t,groupId:o}=e;const s=await a.getServiceAsync("AppLifeCycle");const r=await s.getCurrentApplication().getSystemContext();const n=await a.getServiceAsync("BookmarkV2");await n.addBookmarkByGroupId(t,o,r.id);return}throw new Error("Bookmark.addBookmarkByGroupId is deprecated. Please use BookmarkV2.addBookmark instead.")}},"sap.ushell.services.Bookmark.getShellGroupIDs":{async handler(e,t){if(true){const e=await a.getServiceAsync("BookmarkV2");return e.getShellGroupIDs()}throw new Error("Bookmark.getShellGroupIDs is deprecated. Please use BookmarkV2.getContentNodes instead.")}},"sap.ushell.services.Bookmark.addCatalogTileToGroup":{async handler(t,o){e.error("Bookmark.addCatalogTileToGroup is deprecated. Please use BookmarkV2.addBookmark instead.");if(true){const{sCatalogTileId:e,sGroupId:o,oCatalogData:s}=t;const r=await a.getServiceAsync("Bookmark");const n=r.addCatalogTileToGroup(e,o,s);await c.promisify(n);return}throw new Error("Bookmark.addCatalogTileToGroup is deprecated. Please use BookmarkV2.addBookmark instead.")}},"sap.ushell.services.Bookmark.countBookmarks":{async handler(e,t){const{sUrl:o}=e;const s=await a.getServiceAsync("AppLifeCycle");const r=await s.getCurrentApplication().getSystemContext();const n=await a.getServiceAsync("BookmarkV2");return n.countBookmarks(o,r.id)}},"sap.ushell.services.Bookmark.deleteBookmarks":{async handler(e,t){const{sUrl:o}=e;const s=await a.getServiceAsync("AppLifeCycle");const r=await s.getCurrentApplication().getSystemContext();const n=await a.getServiceAsync("BookmarkV2");return n.deleteBookmarks(o,r.id)}},"sap.ushell.services.Bookmark.updateBookmarks":{async handler(e,t){const{sUrl:o,oParameters:s}=e;const r=await a.getServiceAsync("AppLifeCycle");const n=await r.getCurrentApplication().getSystemContext();const c=await a.getServiceAsync("BookmarkV2");return c.updateBookmarks(o,s,n.id)}},"sap.ushell.services.Bookmark.getContentNodes":{async handler(e,t){const o=await a.getServiceAsync("BookmarkV2");return o.getContentNodes()}},"sap.ushell.services.Bookmark.addCustomBookmark":{async handler(e,t){const{sVizType:o,oConfig:s,vContentNodes:r}=e;const n=await a.getServiceAsync("AppLifeCycle");const c=await n.getCurrentApplication().getSystemContext();const i=await a.getServiceAsync("BookmarkV2");await i.addCustomBookmark(o,s,r,c.id)}},"sap.ushell.services.Bookmark.countCustomBookmarks":{async handler(e,t){const{oIdentifier:o}=e;const s=await a.getServiceAsync("AppLifeCycle");const r=await s.getCurrentApplication().getSystemContext();o.contentProviderId=r.id;const n=await a.getServiceAsync("BookmarkV2");return n.countCustomBookmarks(o)}},"sap.ushell.services.Bookmark.updateCustomBookmarks":{async handler(e,t){const{oIdentifier:o,oConfig:s}=e;const r=await a.getServiceAsync("AppLifeCycle");const n=await r.getCurrentApplication().getSystemContext();o.contentProviderId=n.id;const c=await a.getServiceAsync("BookmarkV2");return c.updateCustomBookmarks(o,s)}},"sap.ushell.services.Bookmark.deleteCustomBookmarks":{async handler(e,t){const{oIdentifier:o}=e;const s=await a.getServiceAsync("AppLifeCycle");const r=await s.getCurrentApplication().getSystemContext();o.contentProviderId=r.id;const n=await a.getServiceAsync("BookmarkV2");return n.deleteCustomBookmarks(o)}},"sap.ushell.services.Bookmark.addBookmarkToPage":{async handler(e,t){const{oParameters:o,sPageId:s}=e;const r=await a.getServiceAsync("AppLifeCycle");const n=await r.getCurrentApplication().getSystemContext();const c=await a.getServiceAsync("BookmarkV2");await c.addBookmarkToPage(o,s,n.id)}},"sap.ushell.services.BookmarkV2.addBookmarkUI5":{async handler(e,t){const{oParameters:o,vContainer:s}=e;const r=await a.getServiceAsync("AppLifeCycle");const n=await r.getCurrentApplication().getSystemContext();k(o,n);const c=await a.getServiceAsync("BookmarkV2");return c.addBookmark(o,s,n.id)}},"sap.ushell.services.BookmarkV2.addBookmark":{async handler(e,t){if(true){const{oParameters:t,groupId:o}=e;const s=await a.getServiceAsync("AppLifeCycle");const r=await s.getCurrentApplication().getSystemContext();const n=await a.getServiceAsync("BookmarkV2");await n.addBookmarkByGroupId(t,o,r.id);return}throw new Error("BookmarkV2.addBookmarkByGroupId is deprecated. Please use BookmarkV2.addBookmark instead.")}},"sap.ushell.services.BookmarkV2.getShellGroupIDs":{async handler(e,t){if(true){const e=await a.getServiceAsync("BookmarkV2");return e.getShellGroupIDs()}throw new Error("BookmarkV2.getShellGroupIDs is deprecated. Please use BookmarkV2.getContentNodes instead.")}},"sap.ushell.services.BookmarkV2.countBookmarks":{async handler(e,t){const{sUrl:o}=e;const s=await a.getServiceAsync("AppLifeCycle");const r=await s.getCurrentApplication().getSystemContext();const n=await a.getServiceAsync("BookmarkV2");return n.countBookmarks(o,r.id)}},"sap.ushell.services.BookmarkV2.deleteBookmarks":{async handler(e,t){const{sUrl:o}=e;const s=await a.getServiceAsync("AppLifeCycle");const r=await s.getCurrentApplication().getSystemContext();const n=await a.getServiceAsync("BookmarkV2");return n.deleteBookmarks(o,r.id)}},"sap.ushell.services.BookmarkV2.updateBookmarks":{async handler(e,t){const{sUrl:o,oParameters:s}=e;const r=await a.getServiceAsync("AppLifeCycle");const n=await r.getCurrentApplication().getSystemContext();const c=await a.getServiceAsync("BookmarkV2");return c.updateBookmarks(o,s,n.id)}},"sap.ushell.services.BookmarkV2.getContentNodes":{async handler(e,t){const o=await a.getServiceAsync("BookmarkV2");return o.getContentNodes()}},"sap.ushell.services.BookmarkV2.addCustomBookmark":{async handler(e,t){const{sVizType:o,oConfig:s,vContentNodes:r}=e;const n=await a.getServiceAsync("AppLifeCycle");const c=await n.getCurrentApplication().getSystemContext();const i=await a.getServiceAsync("BookmarkV2");await i.addCustomBookmark(o,s,r,c.id)}},"sap.ushell.services.BookmarkV2.countCustomBookmarks":{async handler(e,t){const{oIdentifier:o}=e;const s=await a.getServiceAsync("AppLifeCycle");const r=await s.getCurrentApplication().getSystemContext();o.contentProviderId=r.id;const n=await a.getServiceAsync("BookmarkV2");return n.countCustomBookmarks(o)}},"sap.ushell.services.BookmarkV2.updateCustomBookmarks":{async handler(e,t){const{oIdentifier:o,oConfig:s}=e;const r=await a.getServiceAsync("AppLifeCycle");const n=await r.getCurrentApplication().getSystemContext();o.contentProviderId=n.id;const c=await a.getServiceAsync("BookmarkV2");return c.updateCustomBookmarks(o,s)}},"sap.ushell.services.BookmarkV2.deleteCustomBookmarks":{async handler(e,t){const{oIdentifier:o}=e;const s=await a.getServiceAsync("AppLifeCycle");const r=await s.getCurrentApplication().getSystemContext();o.contentProviderId=r.id;const n=await a.getServiceAsync("BookmarkV2");return n.deleteCustomBookmarks(o)}},"sap.ushell.services.BookmarkV2.addBookmarkToPage":{async handler(e,t){const{oParameters:o,sPageId:s}=e;const r=await a.getServiceAsync("AppLifeCycle");const n=await r.getCurrentApplication().getSystemContext();const c=await a.getServiceAsync("BookmarkV2");await c.addBookmarkToPage(o,s,n.id)}},"sap.ushell.services.LaunchPage.getGroupsForBookmarks":{async handler(e,t){if(true){const e=await a.getServiceAsync("FlpLaunchPage");const t=e.getGroupsForBookmarks();return c.promisify(t)}throw new Error("LaunchPage.getGroupsForBookmarks is deprecated. Please use BookmarkV2.getContentNodes instead.")}},"sap.ushell.services.Menu.getSpacesPagesHierarchy":{async handler(e,t){const o=await a.getServiceAsync("Menu");const s=await o.getContentNodes([l.Space,l.Page]);return s.map(({id:e,label:t,children:o})=>({id:e,title:t,pages:(o||[]).map(({id:e,label:t})=>({id:e,title:t}))}))}},"sap.ushell.services.CommonDataModel.getAllPages":{async handler(e,t){const o=await a.getServiceAsync("CommonDataModel");return o.getAllPages()}},"sap.ushell.services.ShellUIService.getShellGroupIDs":{async handler(e,t){if(true){const{bGetAll:t}=e;const o=await a.getServiceAsync("BookmarkV2");return o.getShellGroupIDs(t)}throw new Error("Bookmark.getShellGroupIDs is deprecated. Use BookmarkV2.getContentNodes instead.")}},"sap.ushell.services.ShellUIService.addBookmark":{async handler(e,t){if(true){const{oParameters:t,groupId:o}=e;const s=await a.getServiceAsync("AppLifeCycle");const r=await s.getCurrentApplication().getSystemContext();const n=await a.getServiceAsync("BookmarkV2");return n.addBookmarkByGroupId(t,o,r.id)}throw new Error("Bookmark.addBookmarkByGroupId is deprecated. Use BookmarkV2.addBookmark instead.")}},"sap.ushell.services.ShellUIService.addBookmarkDialog":{async handler(e,t){const[o]=await c.requireAsync(["sap/ushell/ui/footerbar/AddBookmarkButton"]);const a=new o;a.firePress({})}},"sap.ushell.services.ShellUIService.getShellGroupTiles":{async handler(e,t){if(true){const{groupId:t}=e;const o=await a.getServiceAsync("FlpLaunchPage");const s=o.getTilesByGroupId(t);return c.promisify(s)}throw new Error("Classic homepage is deprecated.")}},"sap.ushell.services.ShellUIService.sendUrlAsEmail":{async handler(e,t){const o=n.getModel().getProperty("/application/title");let a;if(o===undefined){a=r.i18n.getText("linkToApplication")}else{a=`${r.i18n.getText("linkTo")} '${o}'`}d("",a,document.URL,"","",document.URL,true)}},"sap.ushell.services.ShellUIService.sendEmailWithFLPButton":{async handler(e,t){const{bSetAppStateToPublic:o}=e;const a=n.getModel().getProperty("/application/title");let s;if(a===undefined){s=r.i18n.getText("linkToApplication")}else{s=`${r.i18n.getText("linkTo")} '${a}'`}d("",s,document.URL,"","",document.URL,o)}},"sap.ushell.services.ShellUIService.sendEmail":{async handler(e,t){const{sTo:o,sSubject:a,sBody:s,sCc:r,sBcc:n,sIFrameURL:c,bSetAppStateToPublic:i}=e;d(o,a,s,r,n,c,i)}}};return{register(){Object.keys(p).forEach(e=>{const t=p[e];o.setDistributionPolicy(e,t)});Object.keys(u).forEach(e=>{const t=u[e];o.setRequestHandler(e,t.handler,t.options)})},stripBookmarkServiceUrlForLocalContentProvider:k,sendEmail:d}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessageHandler/EnvironmentHandler", ["sap/base/i18n/Formatting","sap/base/i18n/Localization","sap/base/Log","sap/ui/thirdparty/hasher","sap/ushell/appIntegration/PostMessageManager","sap/ushell/Container","sap/ushell/EventHub","sap/ushell/utils"],(e,s,a,t,r,n,i,l)=>{"use strict";const c={"sap.ushell.appRuntime.innerAppRouteChange":{onlyCurrentApplication:true,ignoreCapabilities:true},"sap.ushell.appRuntime.hashChange":{onlyCurrentApplication:true,ignoreCapabilities:true},"sap.ushell.appRuntime.themeChange":{ignoreCapabilities:true},"sap.ushell.appRuntime.uiDensityChange":{ignoreCapabilities:true}};const o={"sap.ushell.services.AppLifeCycle.subscribe":{async handler(e,s,t){const r=e;if(!Array.isArray(r)){a.error("subscribe service call failed: capabilities must be an array");throw new Error("subscribe service call failed: capabilities must be an array")}const n=r.map(e=>`${e.service}.${e.action}`);s.addCapabilities(n)},options:{provideApplicationContext:true,allowInactive:true}},"sap.ushell.appRuntime.hashChange":{async handler(e,s){const{newHash:r,direction:i}=e;t.disableBlueBoxHashChangeTrigger=true;t.replaceHash(r);t.disableBlueBoxHashChangeTrigger=false;if(i){const e=await n.getServiceAsync("ShellNavigationInternal");e.hashChanger.fireEvent("hashReplaced",{hash:e.hashChanger.getHash(),direction:i});a.debug(`PostMessageAPI.hashChange :: Informed by the Iframe, to change the History direction property in FLP to: ${i}`)}}},"sap.ushell.services.ShellUIService.getFLPUrl":{async handler(e,s){const a=e.bIncludeHash;return n.getFLPUrlAsync(a)}},"sap.ushell.services.Container.getFLPUrl":{async handler(e,s){const a=e.bIncludeHash;return n.getFLPUrlAsync(a)}},"sap.ushell.services.Container.getFLPConfig":{async handler(e,s){return n.getFLPConfig()}},"sap.ushell.services.Container.getFLPPlatform":{async handler(e,s){return n.getFLPPlatform()}},"sap.ushell.services.ShellUIService.processHotKey":{async handler(e,s){const{altKey:a,ctrlKey:t,shiftKey:r,key:n,keyCode:i}=e;const l=new KeyboardEvent("keydown",{altKey:a,ctrlKey:t,shiftKey:r,key:n,keyCode:i});document.dispatchEvent(l)}},"sap.ushell.services.ShellUIService.showShellUIBlocker":{async handler(e,s){}},"sap.ushell.services.UserInfo.getThemeList":{async handler(e,s){const a=await n.getServiceAsync("UserInfo");const t=a.getThemeList();return l.promisify(t)}},"sap.ushell.services.UserInfo.getShellUserInfo":{async handler(e,s){const a=await n.getServiceAsync("UserInfo");return a.getShellUserInfo()}},"sap.ushell.services.UserInfo.getLanguageList":{async handler(e,s){const a=await n.getServiceAsync("UserInfo");const t=a.getLanguageList();return l.promisify(t)}},"sap.ushell.services.UserInfo.updateUserPreferences":{async handler(e,s){const{language:a}=e;if(!a){return}const t=n.getUser();t.setLanguage(a);const r=await n.getServiceAsync("UserInfo");const i=r.updateUserPreferences();await l.promisify(i);t.resetChangedProperty("language")}},"sap.ushell.services.UserInfo.openThemeManager":{async handler(e,s){i.emit("openThemeManager",Date.now())}},"sap.ushell.services.UserInfo.getLocaleData":{async handler(a,t){const r={calendarType:e.getCalendarType(),dateFormatShort:e.getDatePattern("short"),dateFormatMedium:e.getDatePattern("medium"),numberFormatGroup:e.getNumberSymbol("group"),numberFormatDecimal:e.getNumberSymbol("decimal"),timeFormatShort:e.getTimePattern("short"),timeFormatMedium:e.getTimePattern("medium"),calendarMapping:e.getCustomIslamicCalendarData(),timeZone:s.getTimezone(),currencyFormats:e.getCustomCurrencies()};return r}},"sap.ushell.services.UITracer.trace":{async handler(e,s){const{trace:a}=e;await n.getServiceAsync("UITracer");i.emit("UITracer.trace",a)}},"sap.ushell.services.SearchableContent.getApps":{async handler(e,s){const a=e.oOptions||{};const t=await n.getServiceAsync("SearchableContent");return t.getApps(a)}},"sap.ushell.services.Extension.setSecondTitle":{async handler(e,s){const{title:a}=e;const t=await n.getServiceAsync("Extension");return t.setSecondTitle(a)}},"sap.ushell.services.Renderer.setHeaderTitle":{async handler(e,s){const{sTitle:a}=e;const t=await n.getServiceAsync("Extension");t.setSecondTitle(a)}}};return{register(){Object.keys(c).forEach(e=>{const s=c[e];r.setDistributionPolicy(e,s)});Object.keys(o).forEach(e=>{const s=o[e];r.setRequestHandler(e,s.handler,s.options)})}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessageHandler/ExtensionHandler", ["sap/base/Log","sap/ui/core/Element","sap/ushell/appIntegration/PostMessageManager","sap/ushell/Container","sap/ushell/appIntegration/PostMessageHandler/ExtensionItems","sap/ushell/utils"],(e,t,s,n,i,r)=>{"use strict";let o;function a(e){o.removeItem(e);const s=t.getElementById(e);if(s?.destroy){s.destroy()}}const c={};const l={"sap.ushell.services.Renderer.addHeaderItem":{async handler(e,t,i){const{sId:r,sTooltip:a,sIcon:c,iFloatingNumber:l,bVisible:d}=e;const p=await n.getServiceAsync("FrameBoundExtension");const u=await p.createHeaderItem({id:r,tooltip:a,icon:c,floatingNumber:l,press:function(){s.sendRequest("sap.ushell.appRuntime.buttonClick",{buttonId:r},t.getPostMessageTarget(),t.getPostMessageTargetOrigin(),false)}},{position:"begin"});o.storeItem(r,u);o.applyItemVisibility(u,d)},options:{provideApplicationContext:true}},"sap.ushell.services.Renderer.showHeaderItem":{async handler(e,t){const{aIds:s}=e;const n=Array.isArray(s)?s:[s];o.visitItems(n,e=>{o.applyItemVisibility(e,true)})}},"sap.ushell.services.Renderer.hideHeaderItem":{async handler(e,t){const{aIds:s}=e;const n=Array.isArray(s)?s:[s];o.visitItems(n,e=>{o.applyItemVisibility(e,false)})}},"sap.ushell.services.Renderer.updateHeaderItem":{async handler(e,t){const{sId:s,oControlProperties:n}=e;if(!Object.hasOwn(n,"floatingNumber")){return}const i=o.getItem(s);if(i?.getControl){const e=await i.getControl();e?.setFloatingNumber?.(n.floatingNumber)}}},"sap.ushell.services.Renderer.addHeaderEndItem":{async handler(e,t,i){const{sId:r,sTooltip:a,sIcon:c,iFloatingNumber:l,bVisible:d}=e;const p=await n.getServiceAsync("FrameBoundExtension");const u=await p.createHeaderItem({id:r,tooltip:a,icon:c,floatingNumber:l,press:function(){s.sendRequest("sap.ushell.appRuntime.buttonClick",{buttonId:r},t.getPostMessageTarget(),t.getPostMessageTargetOrigin(),false)}},{position:"end"});o.storeItem(r,u);o.applyItemVisibility(u,d)},options:{provideApplicationContext:true}},"sap.ushell.services.Renderer.showHeaderEndItem":{async handler(e,t){const{aIds:s}=e;const n=Array.isArray(s)?s:[s];o.visitItems(n,e=>{o.applyItemVisibility(e,true)})}},"sap.ushell.services.Renderer.hideHeaderEndItem":{async handler(e,t){const{aIds:s}=e;const n=Array.isArray(s)?s:[s];o.visitItems(n,e=>{o.applyItemVisibility(e,false)})}},"sap.ushell.services.Renderer.addUserAction":{async handler(e,t,i){const{controlType:r,oControlProperties:a,bIsVisible:c}=e.oParameters;const l=await n.getServiceAsync("FrameBoundExtension");a.press=async function(){s.sendRequest("sap.ushell.appRuntime.buttonClick",{buttonId:a.id},t.getPostMessageTarget(),t.getPostMessageTargetOrigin(),false)};const d=await l.createUserAction(a,{controlType:r});o.storeItem(a.id,d);o.applyItemVisibility(d,c)},options:{provideApplicationContext:true}},"sap.ushell.services.Renderer.showActionButton":{async handler(e,t){const{aIds:s}=e;const n=Array.isArray(s)?s:[s];o.visitItems(n,e=>{o.applyItemVisibility(e,true)})}},"sap.ushell.services.Renderer.hideActionButton":{async handler(e,t){const{aIds:s}=e;const n=Array.isArray(s)?s:[s];o.visitItems(n,e=>{o.applyItemVisibility(e,false)})}},"sap.ushell.services.Renderer.addOptionsActionSheetButton":{async handler(e,t,i){const c=e;const[l]=await r.requireAsync(["sap/m/Button"]);const d=await n.getServiceAsync("FrameBoundExtension");const p=Array.isArray(c)?c:[c];p.forEach(async e=>{a(e.id);new l({id:e.id,text:e.text,icon:e.icon,tooltip:e.tooltip,press:async function(){s.sendRequest("sap.ushell.appRuntime.buttonClick",{buttonId:e.id},t.getPostMessageTarget(),t.getPostMessageTargetOrigin(),false)}});const n=await d.createUserAction({id:e.id});o.storeItem(e.id,n);o.applyItemVisibility(n,true)})},options:{provideApplicationContext:true}},"sap.ushell.services.Renderer.removeOptionsActionSheetButton":{async handler(t,s){const n=t;const i=Array.isArray(n)?n:[n];i.forEach(t=>{const s=o.getItem(t.id);if(!s){e.warning(`User action with id ${t.id} not found`);return}o.applyItemVisibility(s,false);return a(t.id)})}},"sap.ushell.services.Renderer.destroyButton":{async handler(e,t){const{aIds:s}=e;const n=Array.isArray(s)?s:[s];n.forEach(e=>{a(e)})}},"sap.ushell.services.Renderer.createShellHeadItem":{async handler(e,t,n){const{params:i}=e;i.press=async function(){s.sendRequest("sap.ushell.appRuntime.buttonClick",{buttonId:i.id},t.getPostMessageTarget(),t.getPostMessageTargetOrigin(),false)};const[o]=await r.requireAsync(["sap/ushell/ui/shell/ShellHeadItem"]);new o(i)},options:{provideApplicationContext:true}},"sap.ushell.services.Renderer.setHeaderVisibility":{async handler(e,t){const{bVisible:s,bCurrentState:i,aStates:r}=e;const o=n.getRendererInternal("fiori2");o.setHeaderVisibility(s,!!i,r)}},"sap.ushell.services.Extension.createHeaderItem":{async handler(e,t,i){const{controlProperties:r,events:a,parameters:c}=e;const l=o.generateItemId();a.forEach(e=>{r[e]=async function(){s.sendRequest("sap.ushell.services.Extension.handleControlEvent",{eventName:e,itemId:l},t.getPostMessageTarget(),t.getPostMessageTargetOrigin(),false)}});const d=await n.getServiceAsync("Extension");const p=await d.createHeaderItem(r,c);o.storeItem(l,p);return{itemId:l}},options:{provideApplicationContext:true}},"sap.ushell.services.Extension.createUserAction":{async handler(e,t,i){const{controlProperties:r,events:a,parameters:c}=e;const l=o.generateItemId();a.forEach(e=>{r[e]=async function(){s.sendRequest("sap.ushell.services.Extension.handleControlEvent",{eventName:e,itemId:l},t.getPostMessageTarget(),t.getPostMessageTargetOrigin(),false)}});const d=await n.getServiceAsync("Extension");const p=await d.createUserAction(r,c);o.storeItem(l,p);return{itemId:l}},options:{provideApplicationContext:true}},"sap.ushell.services.Extension.Item.destroy":{async handler(t,s){const{itemId:n}=t;const i=o.getItem(n);if(!i){e.error(`Extension item with id ${n} not found - cannot destroy it.`);return}o.removeItem(n);i.destroy()}},"sap.ushell.services.Extension.Item.showForCurrentApp":{async handler(t,s){const{itemId:n}=t;const i=o.getItem(n);if(!i){e.error(`Extension item with id ${n} not found - cannot update its visibility.`);return}i.showForCurrentApp()}},"sap.ushell.services.Extension.Item.hideForCurrentApp":{async handler(t,s){const{itemId:n}=t;const i=o.getItem(n);if(!i){e.error(`Extension item with id ${n} not found - cannot update its visibility.`);return}i.hideForCurrentApp()}},"sap.ushell.services.Extension.Item.showForAllApps":{async handler(t,s){const{itemId:n}=t;const i=o.getItem(n);if(!i){e.error(`Extension item with id ${n} not found - cannot update its visibility.`);return}i.showForAllApps()}},"sap.ushell.services.Extension.Item.hideForAllApps":{async handler(t,s){const{itemId:n}=t;const i=o.getItem(n);if(!i){e.error(`Extension item with id ${n} not found - cannot update its visibility.`);return}i.hideForAllApps()}},"sap.ushell.services.Extension.Item.showOnHome":{async handler(t,s){const{itemId:n}=t;const i=o.getItem(n);if(!i){e.error(`Extension item with id ${n} not found - cannot update its visibility.`);return}i.showOnHome()}},"sap.ushell.services.Extension.Item.hideOnHome":{async handler(t,s){const{itemId:n}=t;const i=o.getItem(n);if(!i){e.error(`Extension item with id ${n} not found - cannot update its visibility.`);return}i.hideOnHome()}}};return{register(){o=new i;Object.keys(c).forEach(e=>{const t=c[e];s.setDistributionPolicy(e,t)});Object.keys(l).forEach(e=>{const t=l[e];s.setRequestHandler(e,t.handler,t.options)})},getExtensionItems(){return o}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessageHandler/ExtensionItems", ["sap/base/Log","sap/base/util/uid"],(e,t)=>{"use strict";class s{#e={};generateItemId(){const e=t();if(Object.hasOwn(this.#e,e)){return this.generateItemId()}this.#e[e]=null;return e}storeItem(e,t){this.#e[e]=t}getItem(e){return this.#e[e]}removeItem(e){delete this.#e[e]}visitItems(t,s){t.forEach(t=>{const i=this.getItem(t);if(i){s(i)}else{e.warning(`Item with id ${t} not found`)}})}applyItemVisibility(e,t){if(t){e.showForCurrentApp()}else{e.hideForCurrentApp()}}}return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessageHandler/LifecycleHandler", ["sap/ui/thirdparty/hasher","sap/ushell/appIntegration/PostMessageManager","sap/ushell/EventHub","sap/ushell/library","sap/ushell/utils"],(e,s,t,a,p)=>{"use strict";const i=a.appIntegration.contracts.StatefulType;const r={"sap.ushell.services.appLifeCycle.create":{preventBroadcast:true},"sap.ushell.services.appLifeCycle.destroy":{preventBroadcast:true},"sap.ushell.services.appLifeCycle.store":{preventBroadcast:true},"sap.ushell.services.appLifeCycle.restore":{preventBroadcast:true},"sap.ushell.appRuntime.keepAliveAppHide":{preventBroadcast:true,ignoreCapabilities:true},"sap.ushell.appRuntime.keepAliveAppShow":{preventBroadcast:true,ignoreCapabilities:true},"sap.ushell.sessionHandler.beforeApplicationHide":{preventBroadcast:true,ignoreCapabilities:true},"sap.ushell.sessionHandler.afterApplicationShow":{preventBroadcast:true,ignoreCapabilities:true}};const l={"sap.gui.loadFinished":{async handler(e,s,t){s.setStatefulType(i.ContractV1);s.addCapabilities(["sap.its.startService","sap.gui.triggerCloseSession"])},options:{provideApplicationContext:true,allowInactive:true}},"sap.ushell.services.AppLifeCycle.setup":{async handler(e,s,t){const a=e;const r=[];if(a){if(a.isStateful){s.setStatefulType(i.ContractV2);r.push("sap.ushell.services.appLifeCycle.create");r.push("sap.ushell.services.appLifeCycle.destroy");const e=!p.isSAPLegacyApplicationType(s.getApplicationType(),s.getFrameworkId());if(e){r.push("sap.ushell.services.appLifeCycle.store");r.push("sap.ushell.services.appLifeCycle.restore")}}if(a.isIframeValid){s.setIframeIsValidSupport(true)}if(a.session?.bLogoutSupport){r.push("sap.ushell.sessionHandler.logout")}s.addCapabilities(r)}},options:{provideApplicationContext:true,allowInactive:true}},"sap.ushell.services.CrossApplicationNavigation.registerBeforeAppCloseEvent":{async handler(e,s,t){const a=e;s.addCapabilities(["sap.ushell.services.CrossApplicationNavigation.beforeAppCloseEvent"]);s.setBeforeAppCloseEvent({enabled:true,params:a})},options:{provideApplicationContext:true,allowInactive:true}},"sap.ushell.services.AppLifeCycle.reloadCurrentApp":{async handler(s,a){t.emit("reloadCurrentApp",{sCurrentHash:e.getHash(),date:Date.now()})}},"sap.ushell.services.AppLifeCycle.destroy":{async handler(e,s,t){const[a]=await p.requireAsync(["sap/ushell/appIntegration/AppLifeCycle"]);const i=s.getCurrentAppId();await a.destroyApplication(i,s)},options:{provideApplicationContext:true,allowInactive:true}}};return{register(){Object.keys(r).forEach(e=>{const t=r[e];s.setDistributionPolicy(e,t)});Object.keys(l).forEach(e=>{const t=l[e];s.setRequestHandler(e,t.handler,t.options)})}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessageHandler/MessageBrokerHandler", ["sap/base/Log","sap/ushell/appIntegration/PostMessageManager","sap/ushell/Config","sap/ushell/Container"],(e,s,a,n)=>{"use strict";const{DoNotReply:t}=s.BuiltInResponses;const r={};const i={"sap.ushell.services.MessageBroker":{async handler(e,a){if(a.source===window){throw new Error(`MessageBrokerHandler: Message received from FLP window by client '${e.clientId}' instead of an iframe. This scenario is not supported!`)}const r=await n.getServiceAsync("MessageBroker");const i=s.getRequestId(a);if(!e.channelId){throw new Error(`MessageBroker: No channelId provided in message body by client '${e.clientId}'`)}if(e.channelId==="sap.ushell.MessageBroker"){let n=true;switch(e.messageName){case"connect":await r.connect(e.clientId,(n,t,r)=>s.sendRequest("sap.ushell.services.MessageBroker",{targetClientId:e.clientId,channelId:e.channelId,messageName:n,clientId:t,channels:r},a.source,a.origin,false));break;case"disconnect":await r.disconnect(e.clientId);break;case"subscribe":await r.subscribe(e.clientId,e.subscribedChannels,(n,t,r,i)=>s.sendRequest("sap.ushell.services.MessageBroker",{targetClientId:e.clientId,channelId:t,messageName:r,clientId:n,data:i},a.source,a.origin,false));break;case"unsubscribe":await r.unsubscribe(e.clientId,e.subscribedChannels);break;default:n=false}if(n){await s.sendResponse(i,"sap.ushell.services.MessageBroker",{channelId:e.channelId,messageName:e.messageName,clientId:e.clientId,correlationMessageId:i,status:"accepted"},true,a.source,a.origin);return t}}await r.publish(e.channelId,e.clientId,e.messageName,e.targetClientIds,e.data);return t},options:{async isValidRequest(e){const s=await n.getServiceAsync("MessageBroker");const a=s.getAcceptedOrigins().some(s=>s===e.origin);return a}}}};return{register(){if(!a.last("/core/shell/enableMessageBroker")){return}Object.keys(r).forEach(e=>{const a=r[e];s.setDistributionPolicy(e,a)});Object.keys(i).forEach(e=>{const a=i[e];s.setRequestHandler(e,a.handler,a.options)})}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessageHandler/NWBCHandler", ["sap/base/Log","sap/base/util/deepClone","sap/base/util/uid","sap/ushell/appIntegration/PostMessageManager","sap/ushell/Container","sap/ushell/utils"],(e,t,a,s,r,o)=>{"use strict";const i=[(e,s)=>{if(s.action==="pro54_setGlobalDirty"){const r=t(s);r.service="sap.ushell.appIntegration.PostMessageManager.NWBCHandler.pro54_setGlobalDirty";delete r.action;r.body=r.parameters;delete r.parameters;if(!r.request_id){r.request_id=a()}if(!r.type){r.type="request"}const o=new MessageEvent("message",{data:JSON.stringify(r),origin:e.origin,source:e.source});return{event:o,message:r}}}];const l={};const n={"sap.ushell.appIntegration.PostMessageManager.NWBCHandler.pro54_setGlobalDirty":{async handler(t,a,s){const i=a.getGlobalDirtyStorageKey();if(localStorage.getItem(i)===r.DirtyState.PENDING){e.debug(`getGlobalDirty() pro54_setGlobalDirty SetItem key:${i} value: ${t.globalDirty}`,null,"sap.ushell.appIntegration.ApplicationContainer");o.localStorageSetItem(i,t.globalDirty,true)}},options:{provideApplicationContext:true}}};return{register(){i.forEach(e=>{s.addEventPreprocessor(e)});Object.keys(l).forEach(e=>{const t=l[e];s.setDistributionPolicy(e,t)});Object.keys(n).forEach(e=>{const t=n[e];s.setRequestHandler(e,t.handler,t.options)})}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessageHandler/NavigationHandler", ["sap/base/util/deepExtend","sap/ui/thirdparty/hasher","sap/ui/thirdparty/URI","sap/ushell/appIntegration/PostMessageManager","sap/ushell/Container","sap/ushell/services/Navigation/compatibility","sap/ushell/utils","sap/ushell/utils/UrlParsing"],(e,t,s,a,n,i,r,o)=>{"use strict";const c={};const l={"sap.ushell.services.Navigation.getHref":{async handler(e,t){const{oTarget:s}=e;const a=await n.getServiceAsync("Navigation");return a.getHref(s)}},"sap.ushell.services.Navigation.backToPreviousApp":{async handler(e,t){const s=await n.getServiceAsync("Navigation");await s.backToPreviousApp()}},"sap.ushell.services.Navigation.historyBack":{async handler(e,t){const{iSteps:s}=e;const a=await n.getServiceAsync("Navigation");a.historyBack(s)}},"sap.ushell.services.Navigation.isInitialNavigation":{async handler(e,t){const s=await n.getServiceAsync("Navigation");return s.isInitialNavigation()}},"sap.ushell.services.Navigation.navigate":{async handler(t,s){const{oTarget:a}=t;const i=await n.getServiceAsync("Navigation");const o=e({},a);r.storeSapSystemToLocalStorage(o);await i.navigate(o)}},"sap.ushell.services.Navigation.getPrimaryIntent":{async handler(e,t){const{sSemanticObject:s,oLinkFilter:a}=e;const i=await n.getServiceAsync("Navigation");return i.getPrimaryIntent(s,a)}},"sap.ushell.services.Navigation.getLinks":{async handler(e,t){const s=e;const a=await n.getServiceAsync("Navigation");return a.getLinks(s)}},"sap.ushell.services.Navigation.getSemanticObjects":{async handler(e,t){const s=await n.getServiceAsync("Navigation");return s.getSemanticObjects()}},"sap.ushell.services.Navigation.isNavigationSupported":{async handler(e,t){const{aTargets:s}=e;const a=await n.getServiceAsync("Navigation");return a.isNavigationSupported(s)}},"sap.ushell.services.Navigation.resolveIntent":{async handler(e,t){const{sHashFragment:s}=e;const a=await n.getServiceAsync("Navigation");return a.resolveIntent(s)}},"sap.ushell.services.Navigation.isUrlSupported":{async handler(e,t){const{sUrl:s}=e;const a=await n.getServiceAsync("Navigation");await a.isUrlSupported(s)}},"sap.ushell.services.CrossApplicationNavigation.hrefForExternal":{async handler(e,t){const{oArgs:s}=e;const a=await n.getServiceAsync("Navigation");return a.getHref(s)}},"sap.ushell.services.CrossApplicationNavigation.getSemanticObjectLinks":{async handler(e,t){const{sSemanticObject:s,mParameters:a,bIgnoreFormFactors:n,sAppStateKey:r,bCompactIntents:o}=e;return i.getSemanticObjectLinks(s,a,n,undefined,r,o)}},"sap.ushell.services.CrossApplicationNavigation.isIntentSupported":{async handler(e,t){const{aIntents:s}=e;return i.isIntentSupported(s)}},"sap.ushell.services.CrossApplicationNavigation.isNavigationSupported":{async handler(e,t){const{aIntents:s}=e;const a=await n.getServiceAsync("Navigation");return a.isNavigationSupported(s)}},"sap.ushell.services.CrossApplicationNavigation.backToPreviousApp":{async handler(e,t){const s=await n.getServiceAsync("Navigation");return s.backToPreviousApp()}},"sap.ushell.services.CrossApplicationNavigation.historyBack":{async handler(e,t){const{iSteps:s}=e;const a=await n.getServiceAsync("Navigation");return a.historyBack(s)}},"sap.ushell.services.CrossApplicationNavigation.toExternal":{async handler(t,s){const{oArgs:a}=t;const i=await n.getServiceAsync("Navigation");const o=e({},a);r.storeSapSystemToLocalStorage(o);await i.navigate(o)}},"sap.ushell.services.CrossApplicationNavigation.expandCompactHash":{async handler(e,t){const{sHashFragment:s}=e;const a=await n.getServiceAsync("NavTargetResolutionInternal");const i=a.expandCompactHash(s);return r.promisify(i)}},"sap.ushell.services.CrossApplicationNavigation.getDistinctSemanticObjects":{async handler(e,t){const s=await n.getServiceAsync("Navigation");return s.getSemanticObjects()}},"sap.ushell.services.CrossApplicationNavigation.getLinks":{async handler(e,t){const s=e;return i.getLinks(s)}},"sap.ushell.services.CrossApplicationNavigation.getPrimaryIntent":{async handler(e,t){const{sSemanticObject:s,mParameters:a}=e;const i=await n.getServiceAsync("Navigation");return i.getPrimaryIntent(s,a)}},"sap.ushell.services.CrossApplicationNavigation.hrefForAppSpecificHash":{async handler(e,t){const{sAppHash:s}=e;const a=await n.getServiceAsync("Navigation");return a.getHref({appSpecificRoute:s})}},"sap.ushell.services.CrossApplicationNavigation.isInitialNavigation":{async handler(e,t){const s=await n.getServiceAsync("Navigation");return s.isInitialNavigation()}},"sap.ushell.services.CrossApplicationNavigation.setInnerAppRoute":{async handler(e,s){const{appSpecificRoute:a,writeHistory:n}=e;const i=o.parseShellHash(t.getHash());if(i.appSpecificRoute===a){return}i.appSpecificRoute=a;const r=`#${o.constructShellHash(i)}`;t.disableBlueBoxHashChangeTrigger=true;if(n===true||n==="true"){t.setHash(r)}else{t.replaceHash(r)}t.disableBlueBoxHashChangeTrigger=false}},"sap.ushell.services.CrossApplicationNavigation.resolveIntent":{async handler(e,t){const{sHashFragment:s}=e;const a=await n.getServiceAsync("Navigation");return a.resolveIntent(s)}},"sap.ushell.services.ShellNavigation.toExternal":{async handler(e,t){const{oArgs:s,bWriteHistory:a}=e;const i=await n.getServiceAsync("ShellNavigationInternal");i.toExternal(s,undefined,a)}},"sap.ushell.services.ShellNavigation.toAppHash":{async handler(e,t){const{sAppHash:s,bWriteHistory:a}=e;const i=await n.getServiceAsync("ShellNavigationInternal");i.toAppHash(s,a)}},"sap.ushell.services.ShellNavigationInternal.toExternal":{async handler(e,t){const{oArgs:s,bWriteHistory:a}=e;const i=await n.getServiceAsync("ShellNavigationInternal");i.toExternal(s,undefined,a)}},"sap.ushell.services.ShellNavigationInternal.toAppHash":{async handler(e,t){const{sAppHash:s,bWriteHistory:a}=e;const i=await n.getServiceAsync("ShellNavigationInternal");i.toAppHash(s,a)}},"sap.ushell.services.NavTargetResolution.getDistinctSemanticObjects":{async handler(e,t){const s=await n.getServiceAsync("NavTargetResolutionInternal");const a=s.getDistinctSemanticObjects();return r.promisify(a)}},"sap.ushell.services.NavTargetResolution.expandCompactHash":{async handler(e,t){const{sHashFragment:s}=e;const a=await n.getServiceAsync("NavTargetResolutionInternal");const i=a.expandCompactHash(s);return r.promisify(i)}},"sap.ushell.services.NavTargetResolution.resolveHashFragment":{async handler(e,t){const{sHashFragment:s}=e;const a=await n.getServiceAsync("NavTargetResolutionInternal");const i=a.resolveHashFragment(s);return r.promisify(i)}},"sap.ushell.services.NavTargetResolution.isIntentSupported":{async handler(e,t){const{aIntents:s}=e;const a=await n.getServiceAsync("NavTargetResolutionInternal");const i=a.isNavigationSupported(s);const o=await r.promisify(i);return o.reduce((e,t,a)=>{const n=s[a];e[n]=t;return e},{})}},"sap.ushell.services.NavTargetResolution.isNavigationSupported":{async handler(e,t){const{aIntents:s}=e;const a=await n.getServiceAsync("NavTargetResolutionInternal");const i=a.isNavigationSupported(s);return r.promisify(i)}},"sap.ushell.services.NavTargetResolutionInternal.getDistinctSemanticObjects":{async handler(e,t){const s=await n.getServiceAsync("NavTargetResolutionInternal");const a=s.getDistinctSemanticObjects();return r.promisify(a)}},"sap.ushell.services.NavTargetResolutionInternal.expandCompactHash":{async handler(e,t){const{sHashFragment:s}=e;const a=await n.getServiceAsync("NavTargetResolutionInternal");const i=a.expandCompactHash(s);return r.promisify(i)}},"sap.ushell.services.NavTargetResolutionInternal.resolveHashFragment":{async handler(e,t){const{sHashFragment:s}=e;const a=await n.getServiceAsync("NavTargetResolutionInternal");const i=a.resolveHashFragment(s);return r.promisify(i)}},"sap.ushell.services.NavTargetResolutionInternal.isIntentSupported":{async handler(e,t){const{aIntents:s}=e;const a=await n.getServiceAsync("NavTargetResolutionInternal");const i=a.isNavigationSupported(s);const o=await r.promisify(i);return o.reduce((e,t,a)=>{const n=s[a];e[n]=t;return e},{})}},"sap.ushell.services.NavTargetResolutionInternal.isNavigationSupported":{async handler(e,t){const{aIntents:s}=e;const a=await n.getServiceAsync("NavTargetResolutionInternal");const i=a.isNavigationSupported(s);return r.promisify(i)}},"sap.ushell.services.UserDefaultParameters.getValue":{async handler(e,t){const{sParameterName:s}=e;const[a,i]=await Promise.all([n.getServiceAsync("AppLifeCycle"),n.getServiceAsync("UserDefaultParameters")]);const r=await a.getCurrentApplication().getSystemContext();return i.getValue(s,r)}},"sap.ushell.services.ReferenceResolver.resolveReferences":{async handler(e,t){const{aReferences:s}=e;const a=await n.getServiceAsync("ReferenceResolver");return a.resolveReferences(s)}},"sap.ushell.services.AppLifeCycle.getFullyQualifiedXhrUrl":{async handler(e,t){const{path:a}=e;if(!a){return}const i=await n.getServiceAsync("AppLifeCycle");const r=await i.getCurrentApplication().getSystemContext();const o=r.getFullyQualifiedXhrUrl(a);let c="";let l="";let p="";const g=n.getFLPUrl(true);const v=new s(g);if(v.protocol()){l=`${v.protocol()}://`}if(v.hostname()){c=v.hostname()}if(v.port()){p=`:${v.port()}`}const u=l+c+p+o;return u}},"sap.ushell.services.AppLifeCycle.getSystemAlias":{async handler(e,t,s){const a=t.getCurrentAppTargetResolution();const n=a.systemAlias;const i=a.contentProviderId;const[o]=await r.requireAsync(["sap/ushell/ApplicationType/systemAlias"]);return o.getSystemAliasInProvider(n,i)},options:{provideApplicationContext:true}}};return{register(){Object.keys(c).forEach(e=>{const t=c[e];a.setDistributionPolicy(e,t)});Object.keys(l).forEach(e=>{const t=l[e];a.setRequestHandler(e,t.handler,t.options)})}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessageHandler/SessionHandler", ["sap/ushell/appIntegration/PostMessageManager","sap/ushell/Container","sap/ushell/utils"],(e,t,s)=>{"use strict";const n={"sap.ushell.sessionHandler.extendSessionEvent":{ignoreCapabilities:true},"sap.ushell.sessionHandler.logout":{isValidRequestTarget(e){if(",WCF,TR,WDA,".includes(e.getApplicationType())){return false}return true}}};const a={"sap.ushell.sessionHandler.notifyUserActive":{async handler(e,s){const n=t.getRenderer().getShellController();const a=n._getSessionHandler();if(a?.isInitialized?.()){a.userActivityHandler()}}},"sap.ushell.sessionHandler.extendSessionEvent":{async handler(e,s){const n=t.getRenderer().getShellController();const a=n._getSessionHandler();if(a?.isInitialized?.()){a.userActivityHandler()}}},"sap.ushell.services.Container.attachLogoutEvent":{async handler(e,s,n){s.addCapabilities(["sap.ushell.appRuntime.executeLogoutFunctions"]);t.attachLogoutEvent(async()=>s.sendRequest("sap.ushell.appRuntime.executeLogoutFunctions",{},true),true)},options:{provideApplicationContext:true}},"sap.ushell.appRuntime.iframeIsValid":{async handler(e,t,s){t.setLastIframeIsValidTime(Date.now())},options:{provideApplicationContext:true,allowInactive:true}},"sap.ushell.appRuntime.iframeIsBusy":{async handler(e,t){}},"sap.ushell.appRuntime.isInvalidIframe":{async handler(e,n,a){if(!e.bValue){return}const[i]=await s.requireAsync(["sap/ushell/appIntegration/AppLifeCycle"]);const l=i.getCurrentApplication().container===n;await i.destroyApplication(null,n,true);if(l){const e=await t.getServiceAsync("Navigation");await e.navigate({target:{shellHash:"#"}})}},options:{provideApplicationContext:true,allowInactive:true}}};return{register(){Object.keys(n).forEach(t=>{const s=n[t];e.setDistributionPolicy(t,s)});Object.keys(a).forEach(t=>{const s=a[t];e.setRequestHandler(t,s.handler,s.options)})}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessageManager", ["sap/base/Log","sap/base/util/Deferred","sap/base/util/isPlainObject","sap/base/util/ObjectPath","sap/base/util/uid"],(e,s,t,i,r)=>{"use strict";const n={provideApplicationContext:false,allowInactive:false};const a={preventBroadcast:false,onlyCurrentApplication:false,ignoreCapabilities:false};const o=Symbol("DoNotReply");const l=e.getLogger("sap.ushell.appIntegration.PostMessageManager");class c{#e=()=>{throw new Error("PostMessageManager is not initialized")};#s=()=>{throw new Error("PostMessageManager is not initialized")};#t=()=>{throw new Error("PostMessageManager is not initialized")};#i=false;#r=false;#n=[];#a=[];#o={};#l={};#c=true;#d=[];BuiltInResponses={DoNotReply:o};init(e={}){if(this.#i){throw new Error("PostMessageManager is already initialized.")}const s=i.get("sap-ushell-config.services.PostMessage.config")||{};if(s.enabled===false){this.#r=true;this.#i=true;l.warning("PostMessageAPI is disabled by configuration.");return}const t=e.getCurrentApplication||function(){};this.#s=t;const r=e.getAllApplications||function(){return[]};this.#t=r;if(e.skipReplay){this.#c=false}this.#e=this.#u.bind(this);addEventListener("message",this.#e);this.#i=true}async#u(e){let s;try{s=this.#p(e)}catch{l.debug("Received Post Message with invalid JSON. Ignoring the message.",e.data);return}const t=this.#g(e,s);e=t.event;s=t.message;if(!s.service){l.debug("Received Post Message without a service name. Ignoring the message.");return}if(!["response","request"].includes(s.type)){l.warning(`Received Post Message with an invalid type: '${s.type}'. Ignoring the message.`);return}const i=e.source;const r=e.origin;l.debug(`Received postMessage ${s.service} (${s.request_id}) from iframe with domain '${r}'`,JSON.stringify(s,null,2));if(!s.request_id){l.debug("Received Post Message without a request_id. Message might be not handled correctly.")}if(s.type==="response"){const t=this.#h(e,s);if(t){l.debug(`Response for ${s.service} (${s.request_id}) was handled by a response handler.`)}return}s.body=s.body||{};let n;let a=true;try{const t=await this.#f(s,i,r,e);l.debug(`Service request for ${s.service} (${s.request_id}) was handled successfully.`);if(t===o){l.debug(`Service request for ${s.service} (${s.request_id}) was handled successfully, but no response is needed.`);return}n={result:t}}catch(e){a=false;l.error(`Service request for ${s.service} (${s.request_id}) failed.`,e);let t;let i=e.toString();if(e instanceof Error){i=e.message;t=e.stack}n={message:i,stack:t}}const c=s.originalMessage?.service||s.service;return this.sendResponse(s.request_id,c,n,a,i,r)}#p(e){let s;if(typeof e.data==="string"){s=JSON.parse(e.data)}else if(t(e.data)){s=e.data}else{throw new Error("Invalid message format")}return s}getRequestId(e){try{const s=this.#p(e);return s.request_id}catch{}}#g(e,s){let t;this.#n.forEach(i=>{if(t){return}t=i(e,s)});return{event:t?.event||e,message:t?.message||s}}#h(e,s){let t=false;this.#a.forEach(i=>{if(t){return}t=i(e,s)});return t}async#f(e,s,t,i){const r=e.service;const n=this.#b(r);if(!n){if(this.#c){this.#d.push(i);return o}await this.sendResponse(e.request_id,r,{code:-1,message:`Unknown service name: '${r}'`},false,s,t);return o}const a=this.#v(r);if(typeof a?.isValidRequest==="function"){const e=await a.isValidRequest(i);if(!e){throw new Error(`Invalid request for service ${r}.`)}}if(a.provideApplicationContext){const t=this.#w(s);if(!t){throw new Error("Cannot find the related application for the service request.")}if(!t.getActive()&&!a?.allowInactive){throw new Error("Received Post Message from an inactive application.")}if(!t.isTrustedPostMessageSource(i)){throw new Error("Received Post Message from an untrusted source.")}l.debug(`Handling service request for ${r} (${e.request_id}) with application context ${t.getId()}.`);return n(e.body,t,i)}l.debug(`Handling service request for ${r} (${e.request_id}) without application context.`);return n(e.body,i)}#b(e){return this.#o[e]?.handler}#v(e){return this.#o[e]?.options}#w(e){let s;this.#t().forEach(t=>{if(s||!t.isA("sap.ushell.appIntegration.IframeApplicationContainer")){return}const i=t.getPostMessageTarget();if(i===e){s=t}});if(s){return s}l.error("Cannot find the related application for the service request; using the current application as fallback. This fallback will be removed in future");const t=this.#s();if(t&&t.isA("sap.ushell.appIntegration.IframeApplicationContainer")){return t}}addEventPreprocessor(e){this.#n.push(e)}setRequestHandler(e,s,t={}){if(this.#o[e]){l.error(`Request handler for service ${e} is already defined. Overwriting the existing handler.`)}this.#o[e]={handler:s,options:{...n,...t}}}async sendRequest(e,s,t,i,n){if(this.#r){throw new Error("PostMessageAPI is disabled by configuration.")}if(!this.#i){throw new Error("PostMessageManager is not initialized.")}const a=r();const o={type:"request",request_id:a,service:e,body:s||{}};return this.#M(o,t,i,n)}async sendResponse(e,s,t,i,r,n){if(this.#r){throw new Error("PostMessageAPI is disabled by configuration.")}if(!this.#i){throw new Error("PostMessageManager is not initialized.")}const a={type:"response",request_id:e,service:s,status:i?"success":"error",body:t||{}};return this.#M(a,r,n,false)}async#M(e,s,t,i){if(!s){throw new Error("No content window provided.")}const r=e.request_id;let n=Promise.resolve();if(i){l.debug(`Waiting for response on ${e.service} (${e.request_id}) from iframe with domain '${t}'`);n=this.#P(r,s)}const a=JSON.stringify(e);l.debug(`Sending post message on ${e.service} (${e.request_id}) to iframe with domain '${t}'`,JSON.stringify(e,null,2));s.postMessage(a,t);return n}#P(e,t){const i=new s;const r=this.#y.bind(this,i,e,t);this.#a.push(r);return i.promise}#y(e,s,t,i,r){if(t!==i.source){return false}if(r?.request_id!==s){return false}l.debug(`Received response for ${r.service} (${r.request_id}) from iframe with domain '${i.origin}'`);if(r.status==="success"){e.resolve(r.body)}else{let s;if(r.body?.message){s=new Error(r.body.message)}else{s=new Error("Unknown error")}if(r.body?.stack){s.stack=r.body.stack}e.reject(s)}return true}async sendRequestToApplication(e,s,t,i){if(this.#r){throw new Error("PostMessageAPI is disabled by configuration.")}if(!this.#i){throw new Error("PostMessageManager is not initialized.")}const r=this.#q(e);if(r.onlyCurrentApplication){const e=this.#s();if(t!==e){throw new Error("Application is not the current application.")}}const n=r.ignoreCapabilities||t.supportsCapabilities([e]);if(!n){throw new Error(`Application does not support the service request: ${e}`)}if(typeof r?.isValidRequestTarget==="function"){const e=r.isValidRequestTarget(t);if(!e){throw new Error("Application is not a valid request target.")}}return this.sendRequest(e,s,t.getPostMessageTarget(),t.getPostMessageTargetOrigin(),i)}async sendRequestToAllApplications(e,s,t){if(this.#r){throw new Error("PostMessageAPI is disabled by configuration.")}if(!this.#i){throw new Error("PostMessageManager is not initialized.")}const i=this.#q(e);if(i.preventBroadcast){throw new Error(`Cannot send request to all applications for service request: ${e}. The distribution policy prevents broadcasting.`)}const r=[];if(i.onlyCurrentApplication){const e=this.#s();if(!e){return[]}r.push(e)}else{this.#t().forEach(e=>{r.push(e)})}const n=r.filter(s=>{if(!s.isA("sap.ushell.appIntegration.IframeApplicationContainer")){return false}const t=i.ignoreCapabilities||s.supportsCapabilities([e]);if(!t){return false}if(typeof i?.isValidRequestTarget==="function"){const e=i.isValidRequestTarget(s);return e}return true});const a=n.map(i=>this.sendRequest(e,s,i.getPostMessageTarget(),i.getPostMessageTargetOrigin(),t));return Promise.allSettled(a).then(e=>{const s=e.filter(e=>e.status==="rejected").map(e=>e.reason);if(s.length>0){throw new Error(`Some requests failed: ${s.map(e=>e.message).join(", ")}`)}return e.map(e=>e.value)})}#q(e){return this.#l[e]||a}setDistributionPolicy(e,s){if(this.#l[e]){l.error(`Distribution policy for service ${e} is already defined. Overwriting the existing policy.`)}this.#l[e]={...a,...s}}replayStoredMessages(){this.#c=false;this.#d.forEach(e=>{this.#u(e)});this.#d=[]}reset(){removeEventListener("message",this.#e);this.#e=()=>{throw new Error("PostMessageManager is not initialized")};this.#s=()=>{throw new Error("PostMessageManager is not initialized")};this.#t=()=>{throw new Error("PostMessageManager is not initialized")};this.#i=false;this.#r=false;this.#n=[];this.#o={};this.#a=[];this.#l={};this.#c=true;this.#d=[]}}return new c});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessagePluginInterface", ["sap/base/util/deepEqual","sap/ui/thirdparty/jquery","sap/ui/base/Object","sap/ushell/utils"],(e,jQuery,t,s)=>{"use strict";const o="user.postapi.";const r=t.extend("sap.ushell.appIntegration.PostMessagePluginInterface",{metadata:{publicMethods:["registerPostMessageAPIs","createPostMessageResult","postMessageToApp","postMessageToFlp"]}});r.prototype.init=function(e,t,s,o){this._fnSendPostMessage=e;this._fnSetRequestHandler=t;this._fnSetDistributionPolicy=s;this._bRunsInOuterShell=o};r.prototype.getInterface=function(){const e=t.prototype.getInterface.call(this);if(this._bRunsInOuterShell){delete e.postMessageToFlp}else{delete e.postMessageToApp}return e};r.prototype.registerPostMessageAPIs=function(e,t=false){const s={status:"success",desc:""};try{this._validateCommunicationObject(e,t);this._fnAddCommunicationObject(e)}catch(e){s.status="error";s.desc=e.message}return s};r.prototype._validateCommunicationObject=function(t,s){if(t===undefined||Object.keys(t).length<=0){throw new Error("No handler was found to register")}for(const[r,n]of Object.entries(t)){if(typeof r!=="string"){throw new Error("oPostMessageAPIs should contain only string keys")}if(!s&&!r.startsWith(o)){throw new Error(`all user custom Message APIs must start with '${o}'`)}for(const[t,s]of Object.entries(n)){if(!["inCalls","outCalls"].includes(t)){throw new Error("api should contain either 'inCalls' or 'outCalls'")}for(const[o,n]of Object.entries(s)){if(t==="inCalls"){if(typeof n.executeServiceCallFn!=="function"){throw new Error(`executeServiceCallFn for '${r}.${o}' must be a function`)}}else if(t==="outCalls"){if(Object.hasOwn(n,"distributionType")){if(!Array.isArray(n.distributionType)){throw new Error(`distributionType for '${r}.${o}' must be an array. Remove it from the definition to apply the default.`)}if(!e(n.distributionType,["all"])){throw new Error(`distributionType for '${r}.${o}' must be 'all'. Remove it from the definition to apply the default.`)}}}}}}};r.prototype._fnAddCommunicationObject=function(e){for(const[t,o]of Object.entries(e)){for(const[e,r]of Object.entries(o)){for(const[o,n]of Object.entries(r)){if(e==="inCalls"){this._fnSetRequestHandler(`${t}.${o}`,async(e,t)=>{const o={oMessageData:JSON.parse(t.data),oMessage:t};return s.promisify(n.executeServiceCallFn(o))})}else if(e==="outCalls"){const e={ignoreCapabilities:true,onlyCurrentApplication:true};if(Object.hasOwn(n,"isActiveOnly")){e.onlyCurrentApplication=!!n.isActiveOnly}this._fnSetDistributionPolicy(`${t}.${o}`,e)}}}}};r.prototype.postMessageToApp=function(e,t,s){const o=new jQuery.Deferred;this._fnSendPostMessage(`${e}.${t}`,s).then(e=>{o.resolve(e)}).catch(e=>{o.reject(e)});return o.promise()};r.prototype.postMessageToFlp=function(e,t,s){const o=new jQuery.Deferred;this._fnSendPostMessage(`${e}.${t}`,s).then(e=>{o.resolve(e)}).catch(e=>{o.reject(e)});return o.promise()};r.prototype.createPostMessageResult=function(e={}){return(new jQuery.Deferred).resolve(e).promise()};return new r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/UI5ApplicationContainer", ["sap/base/Log","sap/ui/core/ComponentContainer","sap/ui/core/EventBus","sap/ushell/appIntegration/ApplicationContainer","sap/ushell/appIntegration/UI5ApplicationContainerRenderer","sap/ushell/Container","sap/ushell/library","sap/ushell/utils"],(t,e,n,o,i,s,p,a)=>{"use strict";const r=o.extend("sap.ushell.appIntegration.UI5ApplicationContainer",{metadata:{library:"sap.ushell",properties:{componentHandle:{type:"object"},ui5ComponentId:{type:"string"},ui5ComponentName:{type:"string"}},aggregations:{child:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}}},renderer:i});r.prototype.init=function(){o.prototype.init.apply(this,arguments)};r.prototype.onBeforeRendering=function(){if(!this.getReadyForRendering()){return}this._createComponentContainer()};r.prototype._createComponentContainer=function(){if(this.getAggregation("child")){return}n.getInstance().publish("sap.ushell.components.container.ApplicationContainer","_prior.newUI5ComponentInstantion",{name:this.getUi5ComponentName()});const t=this.getComponentHandle().getInstance();const o=new e({id:this.getUi5ComponentId().replace("-component","-content"),component:t});o.setHeight(this.getHeight());o.setWidth(this.getWidth());o.addStyleClass("sapUShellApplicationContainer");this._fnDisableRouterEventHandler=this._disableRouter.bind(this);n.getInstance().subscribe("sap.ushell.components.container.ApplicationContainer","_prior.newUI5ComponentInstantion",this._fnDisableRouterEventHandler);this.setAggregation("child",o);return this._publishAppComponentLoaded(t)};r.prototype.setReadyForRendering=function(t){o.prototype.setReadyForRendering.apply(this,arguments);if(!this.getRenderComplete()){this.rerender()}return this};r.prototype._publishAppComponentLoaded=async function(t){const e=await s.getServiceAsync("PluginManager");await a.promisify(e.getPluginLoadingPromise("RendererExtensions"));await a.awaitTimeout(0);n.getInstance().publish("sap.ushell","appComponentLoaded",{component:t})};r.prototype._disableRouter=function(){const e=this.getComponentHandle().getInstance();if(!e||!e.isA("sap.ui.core.UIComponent")){return}const n=e.getRouter();if(!n){return}t.info(`router stopped for instance ${e.getId()}`);n.stop()};r.prototype._destroyChild=function(){const e=this.getAggregation("child");if(!e){return}const n=e.getComponentInstance().getMetadata().getComponentName();t.debug(`unloading component ${n}`,null,"sap.ushell.appIntegration.ApplicationContainer");this.destroyAggregation("child")};r.prototype.exit=function(){if(this._fnDisableRouterEventHandler){n.getInstance().unsubscribe("sap.ushell.components.container.ApplicationContainer","_prior.newUI5ComponentInstantion",this._fnDisableRouterEventHandler)}this._destroyChild();const t=this.getComponentHandle();if(t){t.destroy()}o.prototype.exit.apply(this,arguments)};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/UI5ApplicationContainerRenderer", ["sap/ui/core/Renderer","sap/ushell/appIntegration/ApplicationContainerRenderer"],(e,t)=>{"use strict";const a=e.extend(t);a.render=function(e,a){if(!a.getReadyForRendering()){t.render(e,a);return}const r=a.getAggregation("child");if(!r){return}e.openStart("div",a);e.accessibilityState(a);e.attr("data-help-id",a.getDataHelpId());e.attr("data-sap-ushell-active",a.getActive());e.attr("data-sap-ushell-initial-app-id",a.getInitialAppId());e.attr("data-sap-ushell-current-app-id",a.getCurrentAppId());e.attr("data-sap-ushell-stateful-type",a.getStatefulType());e.attr("data-sap-ushell-framework-id",a.getFrameworkId());e.class("sapUShellApplicationContainer");e.style("height",a.getHeight());e.style("width",a.getWidth());e.openEnd();e.renderControl(r);e.close("div");a.setRenderComplete(true)};return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/contracts/EmbeddedUI5Handler", ["sap/base/Log","sap/base/util/Deferred","sap/ui/core/EventBus","sap/ushell/Container","sap/ushell/UI5ComponentType","sap/ushell/utils","sap/ushell/utils/UrlParsing"],(e,t,n,o,i,s,a)=>{"use strict";class p{async createApp(e,t,s){const p=t?.ui5ComponentName;n.getInstance().publish("ApplicationContainer","_prior.newUI5ComponentInstantion",{name:p});const c=await o.getServiceAsync("Ui5ComponentLoader");const r=a.getBasicHash(t.sFixedShellHash);t.ui5ComponentId=`application-${r}-component`;e.setUi5ComponentId(t.ui5ComponentId);await c.createComponent(t,s,[],i.Application)}async getNavigationRedirectHash(e){const t=e.getComponentHandle();if(!t){return}const n=t.getInstance({});if(!n){return}if(typeof n.navigationRedirect!=="function"){return}const o=n.navigationRedirect();if(!o||typeof o.then!=="function"){return}try{const e=await s.promisify(o);return e}catch{}}async storeApp(e){const t=e.getCurrentAppTargetResolution();n.getInstance().publish("sap.ushell","appKeepAliveDeactivate",t);const o=e.getComponentHandle();const i=o.getInstance();if(i.isKeepAliveSupported?.()){i.deactivate();return}if(typeof i.suspend==="function"){i.suspend()}const s=i.getRouter?.();if(s&&typeof s.stop==="function"){s.stop()}}async restoreAppAfterNavigate(e,t){const o=e.getCurrentAppTargetResolution();n.getInstance().publish("sap.ushell","appKeepAliveActivate",o);const i=e.getComponentHandle();const s=i.getInstance();if(s.isKeepAliveSupported?.()){s.activate();return}if(typeof s.restore==="function"){s.restore()}const a=s.getRouter?.();if(a&&typeof a.initialize==="function"){const e=!t.useLegacyRestoreFlow;a.initialize(e)}}}return new p});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/contracts/StatefulContainerV1Handler", ["sap/ushell/utils","sap/ushell/Container"],(t,a)=>{"use strict";class e{async createApp(t,a,e){t.setCurrentAppId(a);t.setCurrentAppUrl(e.url);t.setCurrentAppTargetResolution(e);const s=await this.#t(t,e);await t.sendRequest("sap.its.startService",s,true)}async#t(e,s){let r=s.url;r=await t.appendSapShellParam(r);r=t.filterOutParamsFromLegacyAppURL(r);const p={url:r};if(e.getIframeWithPost()){const s=t.getParamKeys(r);const i={};if(s.aAppStateNamesArray.length>0){const t=await a.getServiceAsync("Navigation");try{const a=await t.getAppStateData(s.aAppStateKeysArray);s.aAppStateNamesArray.forEach((t,e)=>{if(a[e]){i[t]=a[e]}})}catch{}}p["sap-flp-params"]={...i,"sap-flp-url":a.getFLPUrl(true),"system-alias":e.getSystemAlias()}}return p}async destroyApp(t){t.setCurrentAppId("");await t.sendRequest("sap.gui.triggerCloseSession",{},false)}}return new e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/contracts/StatefulContainerV2Handler", ["sap/ushell/ApplicationType/UrlPostProcessing","sap/ui/thirdparty/hasher","sap/ushell/utils","sap/ushell/Container"],(e,s,t,r)=>{"use strict";class a{async createApp(e,s,t){e.setReservedParameters(t.reservedParameters);e.setCurrentAppUrl(t.url);e.setCurrentAppId(s);e.setCurrentAppTargetResolution(t);const r=await this.#e(e,s,t);const a=await e.sendRequest("sap.ushell.services.appLifeCycle.create",r,true);return a?.result}async#e(a,p,i){const n=e.processUrl(i.url,i.applicationType,false,a);const l={sCacheId:p,sHash:s.getHash(),sUrl:n};if(n.indexOf("sap-iframe-hint=GUI")>0||n.indexOf("sap-iframe-hint=WDA")>0||n.indexOf("sap-iframe-hint=WCF")>0){const e=t.getParamKeys(n);const s={};if(e.aAppStateNamesArray.length>0){try{const t=await r.getServiceAsync("Navigation");const a=await t.getAppStateData(e.aAppStateKeysArray);e.aAppStateNamesArray.forEach((e,t)=>{if(a[t]){s[e]=a[t]}})}catch{}}l["sap-flp-params"]={...s,"sap-flp-url":r.getFLPUrl(true),"system-alias":a.getSystemAlias()}}return l}async destroyApp(e,s){const t=e.getCurrentAppId()===s;if(t){e.setCurrentAppUrl("");e.setCurrentAppId("");e.setCurrentAppTargetResolution(undefined);r.setAsyncDirtyStateProvider(undefined)}await e.sendRequest("sap.ushell.services.appLifeCycle.destroy",{sCacheId:s},true)}async storeAppWithinSameFrame(e,s){const t=e.getCurrentAppId()===s;if(!t){throw new Error("Cannot store an already stored/destroyed app")}e.setCurrentAppUrl("");e.setCurrentAppId("");e.setCurrentAppTargetResolution(undefined);r.setAsyncDirtyStateProvider(undefined);await e.sendRequest("sap.ushell.services.appLifeCycle.store",{sCacheId:s},true)}async restoreAppWithinSameFrame(e,t,r){e.setCurrentAppUrl(r.url);e.setCurrentAppId(t);e.setCurrentAppTargetResolution(r);await e.sendRequest("sap.ushell.services.appLifeCycle.restore",{sCacheId:t,sUrl:r.url,sHash:s.getHash()},true)}isStatefulContainerSupportingKeepAlive(e){return e.supportsCapabilities(["sap.ushell.services.AppLifeCycle.create","sap.ushell.services.appLifeCycle.destroy","sap.ushell.services.appLifeCycle.store","sap.ushell.services.appLifeCycle.restore"])}}return new a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/neo/AppInfoService", ["sap/ui/thirdparty/jquery","sap/ui/thirdparty/URI","sap/ui/model/resource/ResourceModel","sap/m/Dialog","sap/m/DialogType","sap/m/Button","sap/m/ButtonType","sap/m/Text","sap/ushell/Container","sap/ui/core/library"],(jQuery,e,t,r,s,i,a,n,o,p)=>{"use strict";const c=p.ValueState;const l=(new e).search(true);const u="/sap/fiori";const f="sap-ui-app-id";const g="/sap/bc";const d=/sv\/.+\/manifest/;let m;function h(e){return`${g}/ui2/app_index/ui5_app_info_json?id=${e}`}function y(t){const r={};const s=t||document.URL;const i=new e(s);const a=i.query(true)["sap-startup-params"];const n=new e(`?${a}`).query(true);let o;Object.keys(n).forEach(e=>{r[e.toLowerCase()]=n[e]});if(r["sap-app-uri"]&&r["sap-app-name"]){const e=r["sap-app-uri"].replace(/\/$/,"");const t=r["sap-app-name"];m=`${u}/${t}/`;o=`${u}/${t}${e}`}if(o){o=o.replace(".webapp","/webapp")}return o}function E(e,t,r){if(m){const s=sap.ushell.cloudServices.interceptor.FilterManager.getInstance();const i=e.getFilter("sap.ushell.cloudServices.interceptor.filter.DoorWayMappingFilter");if(!s.isRegistered("sap.ushell.cloudServices.interceptor.filter.DoorWayMappingFilter")){s.register("sap.ushell.cloudServices.interceptor.filter.DoorWayMappingFilter")}i.addAppToStack(r,m);t.addAppToStack(r,m)}}function w(e,p){const g=new jQuery.Deferred;e=e||l[f];jQuery.ajax(h(e)).then(async l=>{if(l&&!(Object.keys(l).length===0)){l=e in l?l[e]:l;const f=l?.asyncHints?.libs||[];f.forEach(e=>{if(e?.url?.final){e.url.url=u+e.url.url}});const h=l?.asyncHints?.components||[];h.forEach(e=>{if(e?.url?.final){e.url.url=u+e.url.url}});if("url"in l){l.url=u+l.url;m=l.url}else{l.url=y(p)}if(!l.url){if(!this.oErrorMessageDialog){const e=new t({async:true,bundleUrl:"/sap/fiori/appruntime/i18n/i18nApp.properties"});const p=await e.getResourceBundle();this.oErrorMessageDialog=new r({type:s.Message,title:p.getText("ERROR_DIALOG_TITLE"),state:c.Error,content:new n({text:p.getText("MISSING_PARAMETERS_ERROR")}),contentWidth:"30%",beginButton:new i({type:a.Emphasized,text:p.getText("OK_BUTTON"),press:async()=>{this.oErrorMessageDialog.close();const e=await o.getServiceAsync("Navigation");e.toExternal({target:{semanticObject:"Shell",action:"home"}})}})})}this.oErrorMessageDialog.open();return g.reject(new Error("sap-app-uri & sap-app-name parameters were not provided"))}let w;const S=sap.ushell.cloudServices.interceptor.FilterFactory.getInstance();const T=S.getFilter("sap.ushell.cloudServices.interceptor.filter.CacheBusterFilter");if("manifestUrl"in l){if(d.test(l.manifestUrl)){const e=d.exec(l.manifestUrl);const t=e[0].split("/");w=t[1]}}if(w){T.setTimestamp(w)}else{T.setTimestamp()}E(S,T,e);return g.resolve(l)}return g.reject(new Error("AppInfo from AppIndex is empty"))}).fail(g.reject);return g.promise()}sap.ui.define("appInfoService",[],()=>({getAppInfo:w}))});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/neo/AppRuntimeNeo", [],()=>{"use strict";sap.ui.require(["sap/ushell/appRuntime/neo/ProxyAppUtils","sap/ushell/appRuntime/neo/AppInfoService"],e=>{e.initRequestInterceptionFramework().then(()=>{sap.ui.require(["sap/ushell/appRuntime/ui5/AppRuntime"],Function.prototype)})})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/neo/ProxyAppUtils", [],()=>{"use strict";function e(){}const t={localAccess:false};if(!window.sap){window.sap={}}if(!window.sap.flp){window.sap.flp={}}if(!window.sap.hana){window.sap.hana={uis:{flp:{model:{UISFioriModel:{getGlobalSiteProperty:function(e){return t[e]}}}}}}}window.sap.hana.uis.flp.SessionTimeoutHandler={resetLastServerPing:function(){}};window["sap-hana-uis-fiori-model"]={};e.prototype.getDesignerSiteIds=function e(){return{FCC_ON_FCC:"5a539884-5a0a-4a2e-bcc8-c5d956dcdb18"}};e.prototype.initRequestInterceptionFramework=function(){const e=this;return new Promise(t=>{sap.ui.require(["sap/ushell/cloudServices/interceptor/InterceptService","sap/ushell/cloudServices/interceptor/FilterManager"],i=>{const r=window.sap.ushell.cloudServices.interceptor.InterceptService.getInstance();r.start();e.registerDefaultFilters();t()})})};e.prototype.registerDefaultFilters=function(){const e=window.sap.ushell.cloudServices.interceptor.FilterManager.getInstance();e.register("sap.ushell.cloudServices.interceptor.filter.CacheBusterFilter");e.register("sap.ushell.cloudServices.interceptor.filter.UShellPluginDoorWayMappingFilter");e.register("sap.ushell.cloudServices.interceptor.filter.CDNUI5Filter")};const i=new e;window.sap.flp.FaasInitUtils=i;return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/AppCommunicationMgr", ["sap/base/util/Deferred","sap/base/util/ObjectPath","sap/base/Log","sap/ui/thirdparty/jquery","sap/ushell/appIntegration/PostMessagePluginInterface","sap/ushell/utils"],(e,s,t,jQuery,n,i)=>{"use strict";const r="sap.ushell.appRuntime.ui5.AppCommunicationMgr";const a={};const o=[];let u=0;function d(){this.init=async function(e){this._fnHandleMessageEvent=this._handleMessageEvent.bind(this);addEventListener("message",this._fnHandleMessageEvent);if(e===true){this._sendMessageToOuterShell("sap.ushell.appRuntime.iframeIsValid");setInterval(()=>{this._sendMessageToOuterShell("sap.ushell.appRuntime.iframeIsValid")},2500)}n.init(this._sendMessageToOuterShell.bind(this),this.setRequestHandler.bind(this),()=>{},false)};this.destroy=function(){removeEventListener("message",this._fnHandleMessageEvent)};this.setRequestHandler=function(e,s){if(a[e]){t.error(`Request handler for service ${e} is already defined. Overwriting the existing handler.`)}a[e]={handler:s}};this._handleMessageResponse=function(e){if(e.request_id&&o[e.request_id]){const s=o[e.request_id];delete o[e.request_id];if(e.status==="success"){s.resolve(e.body.result)}else{let t;if(e?.body?.message){t=new Error(e.body.message)}else{t=new Error("Unknown error")}if(e?.body?.stack){t.stack=e.body.stack}s.reject(t)}}};this._handleMessageRequest=async function(e,n){const o=s.create("sap-ushell-config.services.PostMessage.config");let u=n&&n.service;let d;let l;let g;t.debug(`App Runtime received post message request from origin '${e.origin}': ${JSON.stringify(n)}`,null,r);if(!u){return}if(o&&o.enabled===false){t.warning(`App Runtime received message for ${l}, but this `+"feature is disabled. It can be enabled via launchpad configuration "+"property 'services.PostMessage.config.enabled: true'",undefined,r);return}if(!this._isTrustedPostMessageSource(e)){t.warning(`App Runtime received message from untrusted origin '${e.origin}': ${JSON.stringify(e.data)}`,null,r);return}if(u==="sap.ushell.services.MessageBroker"){u=u.concat("._execute")}if(u.indexOf(".")>0){d=u.split(".");g=d[d.length-1];l=u.substr(0,u.length-g.length-1)}else{t.warning(`App Runtime received message with invalid service name (${u}) :${JSON.stringify(e.data)}`,null,r);return}try{const s=a[`${l}.${g}`];if(!s||!s.handler){t.warning(`App Runtime received message with unknown service name (${n.service}) :${JSON.stringify(e.data)}`,null,r);return}try{await i.promisify(s.handler(n.body||{},e)).then(s=>{const t=s&&s.hasOwnProperty("_noresponse_")?true:false;if(!t){this.sendResponseMessage(e,n,"success",{result:s})}})}catch(s){let t;let i=s.toString();if(s instanceof Error){i=s.message;t=s.stack}this.sendResponseMessage(e,n,"error",{message:i,stack:t})}}catch(s){t.warning(`Error in processing message: ${s.message}) :${JSON.stringify(e.data)}`,null,r)}};this._getCFLPWindow=function(){return window.parent};this._isTrustedPostMessageSource=function(e){let s=false;const t=this._getCFLPWindow();if(t){s=e.source===t}return s};this.sendResponseMessage=function(e,s,n,i){const a=JSON.stringify({type:"response",service:s.service,request_id:s.request_id,status:n,body:i});t.debug(`Sending post message response to origin ' ${e.origin}': ${a}`,null,r);if(typeof e.source!=="object"||e.source===null){t.debug(`Cannot send response message to origin ' ${e.origin}`,"`source` member of request message is not an object",r);return}e.source.postMessage(a,e.origin)};this._getTargetWindow=function(){return window.parent};this.postMessage=function(e){let s;const n=this._getTargetWindow();if(e){try{if(e.type==="request"&&!e.request_id){e.request_id=this.getId()}s=JSON.stringify(e);n.postMessage(s,"*")}catch(s){t.error(`Message '${e}' cannot be posted:`,s,"sap.ui5Isolation.AppCommunicationMgr")}}};this._sendMessageToOuterShell=function(s,t,n,i,r){const a=new e;const u={type:"request",service:s,body:t||{},request_id:n};this.postMessage(u);o[u.request_id]=a;if(i){setTimeout(()=>{a.resolve(r)},i)}return a.promise};this.sendMessageToOuterShell=function(e,s,t,n,i){const r=new jQuery.Deferred;this._sendMessageToOuterShell(e,s,t,n,i).then(r.resolve.bind(r)).catch(r.reject.bind(r));return r.promise()};this.postMessageToFLP=function(e,s,t,n,i){return this._sendMessageToOuterShell(e,s,t,n,i)};this.getId=function(){return`SAPUI5_APPRUNTIME_MSGID_${++u}`}}d.prototype._handleMessageEvent=function(e){if(!e&&!e?.data){return}let s=e.data;if(typeof s==="string"){try{s=JSON.parse(e.data,this)}catch(s){t.debug(`Message received from origin '${e.origin}' cannot be parsed:`,s,r);return}}if(s.type==="request"){return this._handleMessageRequest(e,s)}else if(s.type==="response"){return this._handleMessageResponse(s)}};return new d});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/AppRuntimeContext", ["sap/base/assert","sap/ushell/utils/UrlParsing","sap/base/util/deepClone","sap/ushell/appRuntime/ui5/services/Container"],(e,t,s,n)=>{"use strict";function i(){let e=false;let i="";let a;this.setAppLifeCycleAgent=function(e){a=e};this.setIsScube=function(t){e=t};this.getIsScube=function(){return e};this.setRemoteSystemId=function(e){i=e};this.getRemoteSystemId=function(){return i};this.checkDataLossAndContinue=function(){return a?a.checkDataLossAndContinue():true};this.checkIntentsConversionForScube=function(e){const i=this;if(!this.getIsScube()||!e||e.length===0){return Promise.resolve(e)}return new Promise(a=>{const r=s(e);let o=[];let c;o=r.map(e=>({target:{shellHash:e.intent}}));n.getServiceAsync("Navigation").then(e=>{e.isNavigationSupported(o,undefined,true).then(e=>{for(let s=0;s<e.length;s++){if(!e[s].supported){c=t.parseShellHash(r[s].intent);c.params["sap-shell-so"]=c.semanticObject;c.params["sap-shell-action"]=c.action;c.params["sap-remote-system"]=i.getRemoteSystemId();c.semanticObject="Shell";c.action="startIntent";r[s].intent=`#${t.constructShellHash(c)}`}}a(r)})})})}}return new i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/SessionHandlerAgent", ["sap/ushell/appRuntime/ui5/services/Container","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ui/thirdparty/URI","sap/base/Log"],(e,t,n,s)=>{"use strict";function i(){this.init=function(){const e={"sap.ushell.sessionHandler.beforeApplicationHide":{async handler(e,t){}},"sap.ushell.sessionHandler.afterApplicationShow":{async handler(e,t){}},"sap.ushell.sessionHandler.logout":{async handler(e,t){return this.handleLogoutEvent()}},"sap.ushell.sessionHandler.extendSessionEvent":{async handler(e,t){return this.handleExtendSessionEvent()}}};Object.keys(e).forEach(n=>{t.setRequestHandler(n,e[n].handler)});this.attachUserEvents();this.userActivityHandler()};this.handleLogoutEvent=function(){return new Promise((t,n)=>{this.detachUserEvents();e.getFLPUrlAsync(true).then(s=>{if(this.isSameDomain(s,document.URL)===false){e.logout().then(t).catch(n)}else{t()}})})};this.isSameDomain=function(e,t){let i;let r;let a=false;if(e===undefined||t===undefined){return false}try{i=new n(e);r=new n(t);if(i.origin()===r.origin()){a=true}}catch(n){s.error(`Check for same domain of iframe and FLP failed: ${e} ${t}`,n,"sap.ushell.appRuntime.ui5.SessionHandlerAgent")}return a};this.handleExtendSessionEvent=function(){e.sessionKeepAlive();return Promise.resolve()};this.attachUserEvents=function(){document.addEventListener("mousedown",this.userActivityHandler);document.addEventListener("mousemove",this.userActivityHandler);document.addEventListener("keyup",this.userActivityHandler);document.addEventListener("touchstart",this.userActivityHandler)};this.detachUserEvents=function(){document.removeEventListener("mousedown",this.userActivityHandler);document.removeEventListener("mousemove",this.userActivityHandler);document.removeEventListener("keyup",this.userActivityHandler);document.removeEventListener("touchstart",this.userActivityHandler)};this.userActivityHandler=function(e){if(this.oUserActivityTimer!==undefined){return}this.oUserActivityTimer=setTimeout(()=>{t.postMessageToFLP("sap.ushell.sessionHandler.notifyUserActive",{});this.oUserActivityTimer=undefined},1e4)}}return new i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/performance/FesrEnhancer", ["sap/ui/performance/trace/FESR","sap/ui/performance/trace/Interaction","sap/ushell/utils/type"],(e,t,r)=>{"use strict";const n={_fnOriginalOnBeforeCreated:undefined,_currentAppShortId:undefined,init:function(){if(e.getActive()){this._fnOriginalOnBeforeCreated=e.onBeforeCreated;e.onBeforeCreated=this._onBeforeCreatedHandler.bind(this)}},_onBeforeCreatedHandler:function(e,t){if(this._currentAppShortId){e.appNameShort=this._currentAppShortId}if(e.interactionType===1&&(e.stepName==="undetermined_startup"||e.stepName==="undetermined_appruntime_app_startup")){e.stepName="APPRT@APP_START"}return e},reset:function(){if(e.getActive()){e.onBeforeCreated=this._fnOriginalOnBeforeCreated;this.setAppShortId()}},startInteraction:function(){if(e.getActive()){t.start("appruntime_app_startup")}},setAppShortId:function(t){function n(e,t){let n=e.getManifestEntry(t)||[];if(!r.isArray(n)){n=[n]}return typeof n[0]==="string"?n[0]:undefined}if(e.getActive()){try{if(t){const e=t.getInstance().getComponentData().technicalParameters||{};this._currentAppShortId=e["sap-fiori-id"]||n(t,"/sap.fiori/registrationIds")}else{this._currentAppShortId=undefined}}catch{this._currentAppShortId=undefined}}}};return n},true);
/* !
 * Copyright (c) 2009-2025 SAP SE, All Rights Reserved
 */
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils", [],()=>{"use strict";const e={getAppLifeCycleService:function(){const t=e.getContainer();return t.getServiceAsync("AppLifeCycle").catch(e=>{const t=`Error getting AppLifeCycle service from ushell container: ${e}`;throw new Error(t)})},getContainer:function(){const e=sap.ui.require("sap/ushell/Container");if(!e){throw new Error("Illegal state: shell container not available; this component must be executed in a unified shell runtime context.")}return e},getCurrentRunningApplication:function(){return e.getAppLifeCycleService().then(e=>e.getCurrentApplication())}};return e});
/* !
 * Copyright (c) 2009-2025 SAP SE, All Rights Reserved
 */
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/baseRta/BaseRTAPluginStatus", [],()=>{"use strict";return{STATUS_STARTING:"starting",STATUS_STARTED:"started",STATUS_STOPPING:"stopping",STATUS_STOPPED:"stopped"}},true);
/* !
 * Copyright (c) 2009-2025 SAP SE, All Rights Reserved
 */
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/baseRta/CheckConditions", ["sap/ui/core/Lib","sap/ui/Device","sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils"],(e,t,n)=>{"use strict";const i={_getAppDescriptor:function(e){if(e&&e.getMetadata){const t=e.getMetadata();if(t&&t.getManifest){return t.getManifest()}}return{}},checkRestartRTA:function(e){const t=new URLSearchParams(window.location.search);const n=t.get("sap-ui-layer");e=n||e;return!!window.sessionStorage.getItem(`sap.ui.rta.restart.${e}`)},checkRtaPrerequisites:async function(){await e.load("sap/ui/fl");const{promise:t,resolve:n,reject:i}=Promise.withResolvers();sap.ui.require(["sap/ui/fl/initial/api/InitialFlexAPI"],(...e)=>{n(e)},i);const[s]=await t;const a=await Promise.all([this.checkUI5App(),s.isKeyUser(),this.checkDesktopDevice()]);return a.every(e=>e)},checkUI5App:async function(){const e=await n.getCurrentRunningApplication();if(e){const t=e.applicationType==="UI5";if(t&&e.componentInstance&&e.componentInstance.getManifestEntry){const t=e.componentInstance.getManifestEntry("sap.app").type==="application";const n=e.componentInstance.getManifestEntry("sap.ui5")?.flexEnabled===false;return t&&!n}}return false},checkDesktopDevice:function(){return t.system.desktop}};return i},true);
/* !
 * Copyright (c) 2009-2025 SAP SE, All Rights Reserved
 */
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/baseRta/Renderer", ["sap/base/Log","sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils"],(e,n)=>{"use strict";const t={createActionButton:async function(t,i,o){const s=n.getContainer();const c=await s.getServiceAsync("FrameBoundExtension");try{const e=await c.createUserAction({id:t.mConfig.id,text:t.mConfig.i18n.getText(t.mConfig.text),icon:t.mConfig.icon,press:i},{controlType:"sap.ushell.ui.launchpad.ActionItem"});if(o){e.showForAllApps();e.showOnHome()}else{e.hideForAllApps();e.hideOnHome()}return e}catch(n){e.error(n,undefined,t.mConfig.sComponentName)}},exit:function(){}};return t},true);
/* !
 * Copyright (c) 2009-2025 SAP SE, All Rights Reserved
 */
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/baseRta/Trigger", ["sap/ui/thirdparty/hasher","sap/ui/core/BusyIndicator","sap/ui/core/EventBus","sap/ui/core/Lib","sap/ushell/appRuntime/ui5/plugins/baseRta/BaseRTAPluginStatus","sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils"],(t,i,s,e,o,n)=>{"use strict";const r=o.STATUS_STARTING;const a=o.STATUS_STARTED;const h=o.STATUS_STOPPING;const p=o.STATUS_STOPPED;function u(t){this.mConfig=t;this.sStatus=o.STATUS_STOPPED;this.oStartingPromise=null;this.oStoppingPromise=null;const i=n.getContainer();i.registerDirtyStateProvider(this._dirtyStateProvider.bind(this));this.oInitPromise=i.getServiceAsync("URLParsing").then(t=>{this.oURLParsingService=t}).catch(t=>{throw new Error(`Error during retrieval of URLParsing ushell service: ${t}`)})}function l(){return new Promise((t,i)=>{sap.ui.require(["sap/ui/rta/api/startAdaptation"],t,i)})}function c(){return n.getCurrentRunningApplication().then(t=>t.componentInstance)}u.prototype.getInitPromise=function(){return this.oInitPromise};u.prototype._onRtaFailed=function(t){i.hide();this._oRTA=t.getSource();this.mConfig.onErrorHandler()};u.prototype._startRta=function(){this.sStatus=r;s.getInstance().subscribe("sap.ushell.renderers.fiori2.Renderer","appClosed",this._onAppClosed,this);s.getInstance().subscribe("sap.ushell","appKeepAliveDeactivate",this._onAppClosed,this);i.show(0);let o;return c().then(t=>{o=t;return e.load({name:"sap.ui.rta"})}).then(l.bind(this)).then(i=>{this.sOldHash=t.getHash();const s={rootControl:o,flexSettings:{layer:this.mConfig.layer,developerMode:this.mConfig.developerMode}};return i(s,this.mConfig.loadPlugins,this.mConfig.onStartHandler,this._onRtaFailed.bind(this),this.mConfig.onStopHandler)}).then(t=>{i.hide();this._oRTA=t;this.sStatus=a}).catch(t=>{i.hide();if(t.reason==="flexEnabled"){this.handleFlexDisabledOnStart()}this.sStatus=p})};u.prototype._stopRta=function(){this.sStatus=h;return this._oRTA.stop.apply(this._oRTA,arguments).then(()=>{this.exitRta()})};u.prototype.triggerStartRta=function(){const t=this.sStatus;switch(t){case r:break;case a:this.oStartingPromise=Promise.resolve();break;case h:this.oStartingPromise=this.oStoppingPromise.then(()=>this._startRta());break;case p:this.oStartingPromise=this._startRta();break;default:}if(t!==r){this.oStartingPromise.then(()=>{this.oStartingPromise=null})}return this.oStartingPromise};u.prototype.triggerStopRta=function(){const t=this.sStatus;switch(t){case r:this.oStoppingPromise=this.oStartingPromise.then(function(){return this._stopRta.apply(this,arguments)}.bind(this));break;case a:this.oStoppingPromise=this._stopRta.apply(this,arguments);break;case h:break;case p:this.oStoppingPromise=Promise.resolve();break;default:}if(t!==h){this.oStoppingPromise.then(()=>{this.oStoppingPromise=null})}return this.oStoppingPromise};u.prototype.handleFlexDisabledOnStart=function(){sap.ui.require(["sap/ui/rta/util/showMessageBox","sap/m/MessageBox"],(t,i)=>{t(this.mConfig.i18n.getText("MSG_FLEX_DISABLED"),{icon:i.Icon.INFORMATION,title:this.mConfig.i18n.getText("HEADER_FLEX_DISABLED"),actions:[i.Action.OK],initialFocus:null,isCustomAction:false})})};u.prototype._dirtyStateProvider=function(){if(this._oRTA&&this.sStatus===a){const i=t.getHash();const s=this.oURLParsingService.parseShellHash(i);const e=this.oURLParsingService.parseShellHash(this.sOldHash);this.sOldHash=i;if(s.semanticObject===e.semanticObject&&s.action===e.action&&s.appSpecificRoute!==e.appSpecificRoute){return false}return this._oRTA.canSave()}return false};u.prototype.exitRta=function(){if(this._oRTA){this._oRTA.destroy();this.sStatus=p;this.oStartingPromise=null;this.oStoppingPromise=null;this._oRTA=null}s.getInstance().unsubscribe("sap.ushell.renderers.fiori2.Renderer","appClosed",this._onAppClosed,this);s.getInstance().unsubscribe("sap.ushell","appKeepAliveDeactivate",this._onAppClosed,this)};u.prototype._onAppClosed=function(){this.triggerStopRta(true,true)};return u},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/rtaAgent/Component", ["sap/base/Log","sap/ui/core/Component","sap/ui/core/EventBus","sap/ui/fl/initial/api/InitialFlexAPI","sap/ushell/api/RTA","sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils","sap/ushell/appRuntime/ui5/plugins/baseRta/CheckConditions","sap/ushell/appRuntime/ui5/plugins/baseRta/Trigger"],(e,t,i,n,s,r,a,o)=>{"use strict";let u;function p(){return{sComponentName:"sap.ushell.appRuntime.ui5.plugins.rtaAgent",layer:"CUSTOMER",developerMode:false}}function l(e){return new Promise((t,i)=>{u.postMessageToFlp("user.postapi.rtaPlugin","switchToolbarVisibility",{visible:e}).done(t).fail(i)})}function h(){return new Promise((e,t)=>{u.postMessageToFlp("user.postapi.rtaPlugin","activatePlugin").done(e).fail(t)})}function g(){return a.checkUI5App().then(e=>{if(e){u.postMessageToFlp("user.postapi.rtaPlugin","showAdaptUI").fail(e=>{throw new Error(e)})}})}function d(){u.postMessageToFlp("user.postapi.rtaPlugin","hideAdaptUI").fail(e=>{throw new Error(e)})}function c(){this.oTrigger.triggerStopRta(true,true)}return t.extend("sap.ushell.appRuntime.ui5.plugins.rtaAgent.Component",{metadata:{manifest:"json"},init:function(){this.mConfig=p();this._oPluginPromise=Promise.resolve();u=this.getComponentData().oPostMessageInterface;n.isKeyUser().then(e=>{if(e){return h()}return Promise.reject()}).then(()=>{this.mConfig.i18n=this.getModel("i18n").getResourceBundle();this.mConfig.onStartHandler=this._onStartHandler.bind(this);this.mConfig.onErrorHandler=this._onErrorHandler.bind(this);this.mConfig.onStopHandler=this._onStopHandler.bind(this);this.oTrigger=new o(this.mConfig);return this.oTrigger.getInitPromise()}).then(()=>{this._registerPostMessages();return this._restartRtaIfRequired()}).then(()=>r.getAppLifeCycleService()).then(e=>{e.attachAppLoaded(this._onAppLoaded,this)}).then(g).catch(t=>{if(t){e.error(t)}})},getPluginPromise:function(){return this._oPluginPromise},_registerPostMessages:function(){u.registerPostMessageAPIs({"user.postapi.rtaPlugin":{inCalls:{startUIAdaptation:{executeServiceCallFn:async function(){i.getInstance().subscribe("sap.ushell","appClosed",c.bind(this));s.addTopHeaderPlaceHolder();await this.oTrigger.triggerStartRta(this);return u.createPostMessageResult(this.oTrigger.sStatus)}.bind(this)}},outCalls:{activatePlugin:{},showAdaptUI:{}}}})},_restartRtaIfRequired:function(){return a.checkUI5App().then(e=>{if(e){if(a.checkRestartRTA(this.mConfig.layer)){return l(false).then(()=>{s.addTopHeaderPlaceHolder();return this.oTrigger.triggerStartRta(this)})}}return undefined})},_onAppLoaded:async function(){const e=await a.checkUI5App();if(e){await this._restartRtaIfRequired();return g()}return d()},_onStopHandler:function(){this._exitAdaptation()},_onStartHandler:function(){},_onErrorHandler:function(){this._exitAdaptation()},_exitAdaptation:function(){i.getInstance().unsubscribe("sap.ushell","appClosed",c.bind(this));l(true);this.oTrigger.exitRta();s.removeTopHeaderPlaceHolder()},exit:function(){i.getInstance().unsubscribe("sap.ushell","appClosed",c.bind(this));l(true);this._oPluginPromise=this._oPluginPromise.then(r.getAppLifeCycleService.bind(r)).then(e=>{e.detachAppLoaded(this._onAppLoaded,this)})}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/rtaShell/Component", ["sap/ui/core/Component","sap/ui/thirdparty/jquery","sap/ushell/api/RTA","sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils","sap/ushell/appRuntime/ui5/plugins/baseRta/Renderer"],(e,jQuery,t,i,s)=>{"use strict";let n;function a(){return{sComponentName:"sap.ushell.appRuntime.ui5.plugins.rtaShell",layer:"CUSTOMER",id:"RTA_AppRuntime_Plugin_ActionButton",text:"RTA_BUTTON_TEXT",icon:"sap-icon://wrench",visible:false}}function o(e){t.setShellHeaderVisibility(e,false)}function u(){return new Promise((e,t)=>{o(false);n.postMessageToApp("user.postapi.rtaPlugin","startUIAdaptation").done(t=>{if(t==="stopped"){o(true)}e(t)}).fail(()=>{o(true);t()})})}return e.extend("sap.ushell.appRuntime.ui5.plugins.rtaShell.Component",{metadata:{manifest:"json",library:"sap.ushell"},init:function(){this.mConfig=a();n=this.getComponentData().oPostMessageInterface;this._registerPostMessages()},_registerPostMessages:function(){n.registerPostMessageAPIs({"user.postapi.rtaPlugin":{inCalls:{activatePlugin:{executeServiceCallFn:function(){return n.createPostMessageResult(this._initPlugin())}.bind(this)},showAdaptUI:{executeServiceCallFn:async function(){await this._changeActionButtonVisibility(true);return n.createPostMessageResult()}.bind(this)},hideAdaptUI:{executeServiceCallFn:async function(){await this._changeActionButtonVisibility(false);return n.createPostMessageResult()}.bind(this)},switchToolbarVisibility:{executeServiceCallFn:function(e){const t=e.oMessageData.body.visible;o(t);return n.createPostMessageResult()}}},outCalls:{startUIAdaptation:{}}}})},_initPlugin:function(){if(this.bIsInitialized){return(new jQuery.Deferred).resolve()}this.bIsInitialized=true;this.mConfig.i18n=this.getModel("i18n").getResourceBundle();return new jQuery.Deferred(e=>{s.createActionButton(this,u.bind(undefined),this.mConfig.visible).then(e=>{this.oActionButton=e}).catch(e=>{this.bIsInitialized=false;return Promise.reject(e)}).then(e.resolve).catch(e.reject)}).promise()},_changeActionButtonVisibility:async function(e){if(!this.oActionButton){return}const t=await i.getAppLifeCycleService();if(e&&t.getCurrentApplication().applicationType==="URL"){this.oActionButton.showForAllApps()}else{this.oActionButton.hideForAllApps()}},exit:function(){o(false)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/scriptAgent/Component", ["sap/ui/core/Component","sap/ui/thirdparty/URI","sap/ui/thirdparty/jquery","sap/base/Log"],(e,t,jQuery,s)=>{"use strict";return e.extend("sap.ushell.appRuntime.ui5.plugins.scriptAgent.Component",{metadata:{version:"1.0.0",dependencies:{libs:["sap.m"],components:[]}},init:function(){const e=this.getComponentData();const a=(new t).search(true);let n;if(!e.hasOwnProperty("config")){return}if(e.config.hasOwnProperty("scube")){if(a.hasOwnProperty("sap-wa-debug")&&a["sap-wa-debug"]==="dev"){n="https://education3.hana.ondemand.com/education3/web_assistant/framework/FioriAgent.js"}else if(a.hasOwnProperty("sap-wa-debug")&&a["sap-wa-debug"]==="prev"){n="https://webassistant-outlook.enable-now.cloud.sap/web_assistant/framework/FioriAgent.js"}else{n="https://webassistant.enable-now.cloud.sap/web_assistant/framework/FioriAgent.js"}}else{n=e.config.url}try{jQuery.getScript(n)}catch(e){s.error(e)}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/renderers/fiori2/AccessKeysAgent", ["sap/ushell/appRuntime/ui5/AppCommunicationMgr"],e=>{"use strict";function t(){this.init=function(){document.addEventListener("keydown",t=>{let y=false;let i;if(t.altKey&&!t.ctrlKey&&!t.shiftKey){if(t.keyCode===65||t.keyCode===70||t.keyCode===72||t.keyCode===77||t.keyCode===78||t.keyCode===83){y=true}}else if(t.ctrlKey&&!t.altKey&&!t.shiftKey){if(t.keyCode===188||t.keyCode===112||t.keyCode===83){y=true}}else if(t.ctrlKey&&t.shiftKey&&!t.altKey){if(t.keyCode===70){y=true}}if(y){i={altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,keyCode:t.keyCode,key:t.key};if(t.keyCode===188){i.key=","}e.postMessageToFLP("sap.ushell.services.ShellUIService.processHotKey",i)}},true)}}return new t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/renderers/fiori2/Renderer", ["sap/base/util/uid","sap/base/util/ObjectPath","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/base/Log","sap/ui/thirdparty/jquery","sap/ushell/appRuntime/ui5/renderers/fiori2/RendererExtensions"],(e,t,s,r,jQuery,i)=>{"use strict";const n=[];function o(){const i=this;t.set("sap.ushell.renderers.fiori2.Renderer",i);["init","createContent","createExtendedShellState","applyExtendedShellState","showLeftPaneContent","showHeaderItem","showRightFloatingContainerItem","showRightFloatingContainer","showToolAreaItem","showFloatingActionButton","showHeaderEndItem","setHeaderVisibility","showSubHeader","showSignOutItem","showSettingsItem","setFooter","setShellFooter","setFooterControl","hideHeaderItem","removeToolAreaItem","removeRightFloatingContainerItem","hideLeftPaneContent","hideFloatingActionButton","hideSubHeader","removeFooter","getCurrentViewportState","addShellSubHeader","addSubHeader","addUserAction","addActionButton","addFloatingButton","addFloatingActionButton","addSidePaneContent","addLeftPaneContent","addHeaderItem","addRightFloatingContainerItem","addToolAreaItem","getModelConfiguration","addUserPreferencesEntry","addUserPreferencesGroupedEntry","setHeaderTitle","setLeftPaneVisibility","showToolArea","setHeaderHiding","setFloatingContainerContent","setFloatingContainerVisibility","getFloatingContainerVisiblity","getRightFloatingContainerVisibility","setFloatingContainerDragSelector","createTriggers","convertButtonsToActions","createItem","addEntryInShellStates","removeCustomItems","addCustomItems","addRightViewPort","addLeftViewPort","getShellController","getViewPortContainerCurrentState","ViewPortContainerNavTo","switchViewPortStateByControl","setUserActionsMenuSelected","getUserActionsMenuSelected","setNotificationsSelected","getNotificationsSelected","addShellDanglingControl","getShellConfig","reorderUserPrefEntries","logRecentActivity","setCurrentCoreView","getCurrentCoreView"].forEach(e=>{i[e]=function(){r.error(`'Renderer' api '${e}' is not supported when UI5 application is running inside an iframe (sap.ushell.appRuntime.ui5.renderers.fiori2.Renderer)`)}});this.LaunchpadState={App:"app",Home:"home"};this._addButtonHandler=function(e,t){n[e]=t};this.handleHeaderButtonClick=function(e){if(n[e]!==undefined){n[e]()}};this.addHeaderItem=function(e,t,s,r,i){if(typeof arguments[0]==="object"&&typeof arguments[1]==="boolean"){t=arguments[0];s=arguments[1];r=arguments[2];i=arguments[3]}this._addHeaderItem("sap.ushell.services.Renderer.addHeaderItem",t,s,r,i)};this.addHeaderEndItem=function(e,t,s,r,i){if(typeof arguments[0]==="object"&&typeof arguments[1]==="boolean"){t=arguments[0];s=arguments[1];r=arguments[2];i=arguments[3]}this._addHeaderItem("sap.ushell.services.Renderer.addHeaderEndItem",t,s,r,i)};this.showHeaderItem=function(e){s.postMessageToFLP("sap.ushell.services.Renderer.showHeaderItem",{aIds:e,bCurrentState:true,aStates:""})};this.showHeaderEndItem=function(e){s.postMessageToFLP("sap.ushell.services.Renderer.showHeaderEndItem",{aIds:e,bCurrentState:true,aStates:""})};this.hideHeaderItem=function(e){s.postMessageToFLP("sap.ushell.services.Renderer.hideHeaderItem",{aIds:e,bCurrentState:true,aStates:""})};this.hideHeaderEndItem=function(e){s.postMessageToFLP("sap.ushell.services.Renderer.hideHeaderEndItem",{aIds:e,bCurrentState:true,aStates:""})};this._addHeaderItem=function(t,r,i){if(!r.id){r.id=e()}if(r.click!==undefined){this._addButtonHandler(r.id,r.click)}else if(r.press!==undefined){this._addButtonHandler(r.id,r.press)}return s.postMessageToFLP(t,{sId:r.id,sTooltip:r.tooltip,sIcon:r.icon,iFloatingNumber:r.floatingNumber,bVisible:i,bCurrentState:true})};this.setHeaderTitle=function(e){s.postMessageToFLP("sap.ushell.services.Renderer.setHeaderTitle",{sTitle:e})};this.setHeaderVisibility=function(e,t,r){s.postMessageToFLP("sap.ushell.services.Renderer.setHeaderVisibility",{bVisible:e,bCurrentState:t,aStates:r})};this.createShellHeadItem=function(t){if(!t.id){t.id=e()}if(t.press!==undefined){this._addButtonHandler(t.id,t.press);delete t.press}return s.postMessageToFLP("sap.ushell.services.Renderer.createShellHeadItem",{params:t})};this.showActionButton=function(e,t,r){s.postMessageToFLP("sap.ushell.services.Renderer.showActionButton",{aIds:e,bCurrentState:t,aStates:r})};this.hideActionButton=function(e,t,r){s.postMessageToFLP("sap.ushell.services.Renderer.hideActionButton",{aIds:e,bCurrentState:t,aStates:r})};this.addUserAction=function(t){if(!t.oControlProperties.id){t.oControlProperties.id=e()}if(t.oControlProperties.press!==undefined){this._addButtonHandler(t.oControlProperties.id,t.oControlProperties.press);delete t.oControlProperties.press}return s.postMessageToFLP("sap.ushell.services.Renderer.addUserAction",{oParameters:t})};this.addTopHeaderPlaceHolder=function(){if(jQuery("#rmheader").length===0){jQuery("body").prepend("<div id='rmheader' class='sapUshellHeaderPlaceHolder'></div>");jQuery("body").find(".sapAppRuntimeBaseStyle").css("height","calc(100% - 2.75rem)")}};this.removeTopHeaderPlaceHolder=function(){jQuery("#rmheader").remove();jQuery("body").find(".sapAppRuntimeBaseStyle").css("height","100%")};this.updateHeaderItem=function(e,t){s.postMessageToFLP("sap.ushell.services.Renderer.updateHeaderItem",{sId:e,oControlProperties:t})};this.destroyButton=function(e){s.postMessageToFLP("sap.ushell.services.Renderer.destroyButton",{aIds:e})}}const a=new o;i.setRenderer(a);return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/renderers/fiori2/RendererExtensions", ["sap/base/util/uid","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/appRuntime/ui5/AppRuntimeContext"],(t,e,n)=>{"use strict";let i={};function o(t,e,n){}function s(t,e,n){}function r(t,e,n){}function u(t,e,n){}function a(n,o,s){const r=Array.isArray(n)?n:[n];const u=[o];const a=[];if(s!==undefined){u.push(s)}r.forEach(e=>{const n=`${t()}-apprt`;e.idAppRuntime=n;i._addButtonHandler(n,()=>{e.firePress()});a.push({id:n,text:e.getText(),icon:e.getIcon(),tooltip:e.getTooltip(),aStates:u})});return e.postMessageToFLP("sap.ushell.services.Renderer.addOptionsActionSheetButton",a)}function c(t,n,i){const o=Array.isArray(t)?t:[t];const s=[n];const r=[];if(i!==undefined){s.push(i)}o.forEach(t=>{r.push({id:t.idAppRuntime,aStates:s})});return e.postMessageToFLP("sap.ushell.services.Renderer.removeOptionsActionSheetButton",r)}function d(t,e,n){}function h(t,e){}function f(t,e,n){}function p(t,e,n){}function m(t,e,n){}function l(t,e,n){}function A(){if(n.getIsScube()){return{enablePersonalization:true}}return{}}function g(t,e,n,i){}function H(t,e){}function v(t){}function S(t){}function P(t){}function b(t,e){}function y(t){}function I(t){}function R(){}function B(t){i=t}function E(){this.addHeaderItem=r;this.setHeaderItemVisibility=g;this.addSubHeader=o;this.removeSubHeader=s;this.addHeaderEndItem=m;this.removeHeaderItem=u;this.removeHeaderEndItem=l;this.addEndUserFeedbackCustomUI=H;this.addOptionsActionSheetButton=a;this.removeOptionsActionSheetButton=c;this.setFooter=I;this.removeFooter=R;this.addUserPreferencesEntry=v;this.addUserPreferencesGroupedEntry=S;this.setHeaderTitle=P;this.setHeaderHiding=y;this.LaunchpadState={App:"app",Home:"home"};this.addFloatingActionButton=f;this.removeFloatingActionButton=p;this.setLeftPaneContent=d;this.removeLeftPaneContent=h;this.setLeftPaneVisibility=b;this.getConfiguration=A;this.setRenderer=B}return new E});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/AppConfiguration", ["sap/base/util/ObjectPath","sap/m/library","sap/ui/core/IconPool","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/EventHub","sap/ushell/appRuntime/ui5/renderers/fiori2/RendererExtensions","sap/ushell/resources","sap/ushell/services/AppConfiguration"],(t,e,i,s,n,o,l,p)=>{"use strict";const a=e.ButtonType;function u(){let e=[];let u=false;t.set("sap.ushell.services.AppConfiguration",this);p.constructor.call(this);n.on("appWidthChange").do(t=>{const e=document.body;e.classList.toggle("sapUShellApplicationContainerLimitedWidth",!t);e.classList.toggle("sapUShellApplicationContainer",!t)});n.on("setApplicationFullWidth").do(t=>{document.body.classList.toggle("sapUShellApplicationContainerLimitedWidth",!t.bValue);document.body.classList.toggle("sapUShellApplicationContainer",!t.bValue)});this.setApplicationFullWidth=function(t){if(u===true||u==="true"){n.emit("appWidthChange",t)}else{s.postMessageToFLP("sap.ushell.services.AppConfiguration.setApplicationFullWidth",{bValue:t})}};this.setFullWidthFromManifest=function(t){u=t};this.addApplicationSettingsButtons=function(t){for(let e=0;e<t.length;e++){const s=t[e];s.setIcon(s.getIcon()||i.getIconURI("customize"));if(l.i18n.getText("userSettings")===s.getProperty("text")){s.setProperty("text",l.i18n.getText("userAppSettings"))}s.setType(a.Unstyled)}o.removeOptionsActionSheetButton(e,"app").then(()=>{e=t;o.addOptionsActionSheetButton(e,"app")})}}return new u},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/AppLifeCycle", ["sap/base/Log","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/services/AppLifeCycle"],(e,p,r)=>{"use strict";function s(s,a,t){r.call(this,s,a,t);this.reloadCurrentApp=async function(){try{await p.postMessageToFLP("sap.ushell.services.AppLifeCycle.reloadCurrentApp",{})}catch(p){e.error("reloadCurrentApp failed: ",p)}}}s.prototype=r.prototype;s.hasNoAdapter=r.hasNoAdapter;return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/AppLifeCycleAgent", ["sap/base/Log","sap/base/util/extend","sap/base/util/UriParameters","sap/base/assert","sap/ui/core/EventBus","sap/ui/thirdparty/URI","sap/ui/Device","sap/ui/core/BusyIndicator","sap/ushell/EventHub","sap/ui/thirdparty/hasher","sap/ushell/utils","sap/ushell/utils/UrlParsing","sap/ushell/resources","sap/ushell/appRuntime/ui5/services/Container","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/appRuntime/ui5/performance/FesrEnhancer"],(e,t,s,n,a,r,p,i,o,u,l,c,d,h,f,A,g)=>{"use strict";function m(){const m=this;let y;let I;let C=true;const v={};let b;const S={};const w={};const R={};const P={};let L;let F;let H;let N;this.init=function(e,t,s,n,a,r){this.resetCurrentApp();y=e;b=t;F=s;if(n!==undefined){C=n}this.addAppInfoToCache(a,r);const p={"sap.ushell.services.appLifeCycle.create":{async handler(e,t){return m.create(e)}},"sap.ushell.services.appLifeCycle.destroy":{async handler(e,t){return m.destroy(e)}},"sap.ushell.services.appLifeCycle.store":{async handler(e,t){return m.store(e)}},"sap.ushell.services.appLifeCycle.restore":{async handler(e,t){return m.restore(e)}}};Object.keys(p).forEach(e=>{A.setRequestHandler(e,p[e].handler)});o.on("disableKeepAliveRestoreRouterRetrigger").do(e=>{if(e.componentId&&w[e.componentId]){w[e.componentId]=e.disable}});this._sendAppRuntimeSetup();N=d.i18n.getText("dataLossExternalMessage");window.onbeforeunload=function(){if(h.getDirtyFlag()){return N}return undefined}};this._sendAppRuntimeSetup=()=>{const e={isStateful:true,isKeepAlive:true,isIframeValid:true,session:{bLogoutSupport:true}};const t={session:{bLogoutSupport:true}};A.postMessageToFLP("sap.ushell.services.appLifeCycle.setup",window["sap-ushell-config"]?.ui5appruntime?.config?.stateful===false?t:e)};this.create=async function(e){let t;let o;let l;let d="";g.startInteraction();const h=e.sUrl;if(f.getIsScube()){o=s.fromURL(h).get("sap-remote-intent");n(typeof o==="string","AppLifeCycleAgent::create - sAppIntent must be string");if(e.sHash.indexOf("Shell-startIntent")===0){l=c.parseShellHash(e.sHash);d=`${l.params["sap-shell-so"]}-${l.params["sap-shell-action"]}`}}else{t=s.fromURL(h).get("sap-ui-app-id");n(typeof t==="string","AppLifeCycleAgent::create - sAppId must be string")}u.disableCFLPUpdate=true;u.replaceHash("");u.replaceHash(e.sHash);u.disableCFLPUpdate=false;if(p.browser.chrome){i.show(0)}if(H){H._resetBackNavigationCallback()}a.getInstance().publish("launchpad","appOpening",{});const A=await m.getAppInfo(t,h,o);const y=A.oResolvedHashFragment?.ui5ComponentName||A.oResolvedHashFragment?.name;const I=Object.keys(S).find(e=>{if(f.getIsScube()&&d.length>0){return S[e].sAppIntent===d&&S[e].ui5ComponentName===y}return S[e].ui5ComponentName&&S[e].ui5ComponentName===y});if(I){m.destroy({sCacheId:I},true)}const C=await m.expandSapIntentParams(new r(h).query(true));const v=await b(t,C,A.oResolvedHashFragment,o,A.oParsedHash);F(v);a.getInstance().publish("sap.ushell","appOpened",{});return{deletedKeepAliveId:I}};this.destroy=async function(t){function s(t){const s=t.sId||"<unknown>";try{t.destroy()}catch(t){e.error(`exception when trying to close sapui5 application with id '${s}' when running inside the appruntime iframe '${document.URL}'. This error must be fixed in order for the iframe to operate properly.\n`,t,"sap.ushell.appRuntime.ui5.services.AppLifeCycleAgent::destroy")}}const n=t.sCacheId;if(L.oApp===undefined&&n===undefined){A.postMessageToFLP("sap.ushell.appRuntime.isInvalidIframe",{bValue:true});return}if(n&&S[n]){if(S[n].oApp===L.oApp){this.resetCurrentApp()}delete w[S[n].oApp.sId];s(S[n].oApp);delete S[n]}else if(L.oApp){delete w[L.oApp.sId];s(L.oApp);this.resetCurrentApp()}h.cleanDirtyStateProviderArray();if(H){H._resetBackNavigationCallback()}g.setAppShortId();a.getInstance().publish("sap.ushell","appClosed",{})};this.store=async function(e){const t=e.sCacheId;const s=this.cloneCurrentAppEntry(L);if(L.oApp===undefined){A.postMessageToFLP("sap.ushell.appRuntime.isInvalidIframe",{bValue:true});return}S[t]=s;if(H){P[t]=H._getBackNavigationCallback()}const n=s.oApp.getComponentInstance();s.oApp.setVisible(false);R[t]=h.getAsyncDirtyStateProviders();h.cleanDirtyStateProviderArray();if(n){if(n.isKeepAliveSupported&&n.isKeepAliveSupported()===true){n.deactivate()}else{if(n.suspend){n.suspend()}if(n.getRouter&&n.getRouter()){n.getRouter().stop()}}}a.getInstance().publish("sap.ushell","appClosed",{})};this.restore=async function(e){const t=e.sCacheId;const s=S[t];const n=s.oApp.getComponentInstance();const r=w[s.oApp.sId];u.disableCFLPUpdate=true;u.replaceHash("");u.replaceHash(e.sHash);u.disableCFLPUpdate=false;a.getInstance().publish("launchpad","appOpening",{});s.oApp.setVisible(true);if(R[t]){h.setAsyncDirtyStateProviders(R[t])}if(H){H.setBackNavigation(P[t])}if(n){if(n.isKeepAliveSupported&&n.isKeepAliveSupported()===true){n.activate()}else{if(n.restore){n.restore()}if(n.getRouter&&n.getRouter()&&n.getRouter().initialize){if(r===false){n.getRouter().initialize()}else{n.getRouter().initialize(true)}}}L=this.cloneCurrentAppEntry(s)}a.getInstance().publish("sap.ushell","appOpened",{});setTimeout(()=>{A.postMessageToFLP("sap.ushell.services.AppLifeCycle.setNewAppInfo",{info:s.oAppAttributes})},500)};this.expandSapIntentParams=async function(e){if(e.hasOwnProperty("sap-intent-param")){const s=e["sap-intent-param"];try{const n=await A.postMessageToFLP("sap.ushell.services.CrossApplicationNavigation.getAppStateData",{sAppStateKey:s});delete e["sap-intent-param"];const a=t({},e,new r(`?${n}`).query(true),true);return a}catch{}}return e};this.addAppParamsToIntent=async function(e,t){const s=await m.expandSapIntentParams(new r(e).query(true));return m.getApplicationParameters(s)};this.getApplicationParameters=async function(e){let t;let s;let n;function a(e,t){let s="";if(e&&e.length>0){s=(e.startsWith("?")?"":"?")+e}if(t&&t.length>0){s+=(s.length>0?"&":"?")+t}return s}if(e.hasOwnProperty("sap-startup-params")){t=new r(`?${e["sap-startup-params"]}`).query(true);if(t.hasOwnProperty("sap-intent-param")){s=t["sap-intent-param"];delete t["sap-intent-param"]}n=new r("?").query(t).toString();if(s){try{const e=await A.postMessageToFLP("sap.ushell.services.CrossApplicationNavigation.getAppStateData",{sAppStateKey:s});return a(n,e)}catch{}}return a(n)}return""};this.getAppInfo=async function(e,t,s){async function n(){const s=await I.getAppInfo(e,t);m.addAppInfoToCache(e,s);return{oResolvedHashFragment:s}}if(s){let e=await m.addAppParamsToIntent(t,s);if(e.length>0){e=new r(e).removeSearch("sap-remote-system").removeSearch("sap-ushell-defaultedParameterNames").toString()}const n=await h.getServiceAsync("NavTargetResolutionInternal");const a=n.resolveHashFragmentLocal(`#${s}${e}`);const p=await l.promisify(a);const i=c.parseShellHash(`#${s}${e}`);return{oResolvedHashFragment:p,oParsedHash:i}}else if(C===true&&v[e]){return{oResolvedHashFragment:JSON.parse(JSON.stringify(v[e]))}}else if(I){return n()}const[a]=await l.requireAsync([y.replace(/\./g,"/")]);I=a;return n()};this.addAppInfoToCache=function(e,t){if(e&&t&&C===true&&v[e]===undefined){v[e]=JSON.parse(JSON.stringify(t))}};this.setCurrentApp=function(e,t,s){this.resetCurrentApp();L.oApp=e;L.sAppIntent=t;L.ui5ComponentName=s;if(L.oApp){w[L.oApp.sId]=true}};this.setCurrentAppAttributes=function(e){L.oAppAttributes=e};this.resetCurrentApp=function(){L={oApp:undefined,sAppIntent:undefined,ui5ComponentName:undefined,oAppAttributes:{}}};this.cloneCurrentAppEntry=function(e){return{oApp:e.oApp,sAppIntent:e.sAppIntent,ui5ComponentName:e.ui5ComponentName,oAppAttributes:e.oAppAttributes}};this.setShellUIService=function(e){H=e};this.checkDataLossAndContinue=function(){if(h.getDirtyFlag()){if(window.confirm(N)){h.setDirtyFlag(false);return true}return false}return true}}return new m},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/AppState", ["sap/ushell/services/AppState","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/services/appstate/AppState","sap/ui/thirdparty/jquery","sap/ushell/appRuntime/ui5/AppRuntimeContext"],(e,t,s,jQuery,a)=>{"use strict";function p(p,n,i,r){e.call(this,p,n,i,r);this.createEmptyAppStateOrig=this.createEmptyAppState;this.createEmptyAppState=function(e,t,s,p){if(a.getIsScube()){t=false}const n=this.createEmptyAppStateOrig(e,t,s,p);if(typeof t==="boolean"&&n._bTransient!==t){n._bTransient=t;n._sKey=this._getGeneratedKey(t)}return n};this.getAppState=function(e){const a=this;const p=new jQuery.Deferred;t.postMessageToFLP("sap.ushell.services.AppState.getAppState",{sKey:e}).then(e=>{const t=new s(a,e._sKey,e._bModifiable,e._sData,e._sAppName,e._sACHComponent,e._bTransient,e._iPersistencyMethod,e._oPersistencySettings);p.resolve(t)});return p.promise()};this._saveAppState=function(e,s,a,p,n,i,r){return t.sendMessageToOuterShell("sap.ushell.services.AppState._saveAppState",{sKey:e,sData:s,sAppName:a,sComponent:p,bTransient:n,iPersistencyMethod:i,oPersistencySettings:r})};e.prototype.deleteAppState=function(e){return t.sendMessageToOuterShell("sap.ushell.services.AppState.deleteAppState",{sKey:e})};this.getAppStateData=function(e){return t.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getAppStateData",{sAppStateKey:e})};this.createNewInAppState=function(e){return t.sendMessageToOuterShell("sap.ushell.services.AppState.createNewInAppState",{sData:e})};this.updateInAppStateData=function(e){return t.sendMessageToOuterShell("sap.ushell.services.AppState.updateInAppState",{sData:e})};this.getInAppStateData=function(){return t.sendMessageToOuterShell("sap.ushell.services.AppState.getInAppStateData")};this.makeStatePersistent=function(e,s,a){return t.sendMessageToOuterShell("sap.ushell.services.AppState.makeStatePersistent",{sKey:e,iPersistencyMethod:s,oPersistencySettings:a})}}p.prototype=e.prototype;p.hasNoAdapter=e.hasNoAdapter;p.WindowAdapter=e.WindowAdapter;return p},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/Bookmark", ["sap/ui/thirdparty/jquery","sap/ushell/services/Bookmark","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/appRuntime/ui5/AppRuntimeContext"],(jQuery,e,o,s)=>{"use strict";function t(t,r,a){e.call(this,t,r,a);this.addBookmark=function(e,t){const r=new jQuery.Deferred;function a(){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.addBookmarkUI5",{oParameters:e,vContainer:t})}if(e.url.startsWith("#")){s.checkIntentsConversionForScube([{intent:e.url}]).then(o=>{e.url=o[0].intent;a().then(r.resolve).catch(r.reject)})}else{a().then(r.resolve).catch(r.reject)}return r.promise()};this.getShellGroupIDs=function(){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.getShellGroupIDs")};this.addBookmarkByGroupId=function(e,s){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.addBookmark",{oParameters:e,groupId:s})};this.addCatalogTileToGroup=function(e,s,t){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.addCatalogTileToGroup",{sCatalogTileId:e,sGroupId:s,oCatalogData:t})};this.countBookmarks=function(e){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.countBookmarks",{sUrl:e})};this.deleteBookmarks=function(e){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.deleteBookmarks",{sUrl:e})};this.updateBookmarks=function(e,s){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.updateBookmarks",{sUrl:e,oParameters:s})};this.getContentNodes=function(){return o.postMessageToFLP("sap.ushell.services.Bookmark.getContentNodes")};this.addCustomBookmark=function(e,s,t){return o.postMessageToFLP("sap.ushell.services.Bookmark.addCustomBookmark",{sVizType:e,oConfig:s,vContentNodes:t})};this.countCustomBookmarks=function(e){return o.postMessageToFLP("sap.ushell.services.Bookmark.countCustomBookmarks",{oIdentifier:e})};this.updateCustomBookmarks=function(e,s){return o.postMessageToFLP("sap.ushell.services.Bookmark.updateCustomBookmarks",{oIdentifier:e,oConfig:s})};this.deleteCustomBookmarks=function(e){return o.postMessageToFLP("sap.ushell.services.Bookmark.deleteCustomBookmarks",{oIdentifier:e})};this.addBookmarkToPage=function(e,s){return o.postMessageToFLP("sap.ushell.services.Bookmark.addBookmarkToPage",{oParameters:e,sPageId:s})}}t.prototype=e.prototype;t.hasNoAdapter=e.hasNoAdapter;return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/BookmarkV2", ["sap/ushell/services/BookmarkV2","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/appRuntime/ui5/AppRuntimeContext"],(o,e,s)=>{"use strict";function t(t,r,a){o.call(this,t,r,a);this.addBookmark=function(o,t){function r(){return e.postMessageToFLP("sap.ushell.services.BookmarkV2.addBookmarkUI5",{oParameters:o,vContainer:t})}return new Promise((e,t)=>{if(o.url.startsWith("#")){s.checkIntentsConversionForScube([{intent:o.url}]).then(s=>{o.url=s[0].intent;r().then(e).catch(t)}).catch(t)}else{r().then(e).catch(t)}})};this.getShellGroupIDs=function(){return e.postMessageToFLP("sap.ushell.services.BookmarkV2.getShellGroupIDs")};this.addBookmarkByGroupId=function(o,s){return e.postMessageToFLP("sap.ushell.services.BookmarkV2.addBookmark",{oParameters:o,groupId:s})};this.countBookmarks=function(o){return e.postMessageToFLP("sap.ushell.services.BookmarkV2.countBookmarks",{sUrl:o})};this.deleteBookmarks=function(o){return e.postMessageToFLP("sap.ushell.services.BookmarkV2.deleteBookmarks",{sUrl:o})};this.updateBookmarks=function(o,s){return e.postMessageToFLP("sap.ushell.services.BookmarkV2.updateBookmarks",{sUrl:o,oParameters:s})};this.getContentNodes=function(){return e.postMessageToFLP("sap.ushell.services.BookmarkV2.getContentNodes")};this.addCustomBookmark=function(o,s,t){return e.postMessageToFLP("sap.ushell.services.BookmarkV2.addCustomBookmark",{sVizType:o,oConfig:s,vContentNodes:t})};this.countCustomBookmarks=function(o){return e.postMessageToFLP("sap.ushell.services.BookmarkV2.countCustomBookmarks",{oIdentifier:o})};this.updateCustomBookmarks=function(o,s){return e.postMessageToFLP("sap.ushell.services.BookmarkV2.updateCustomBookmarks",{oIdentifier:o,oConfig:s})};this.deleteCustomBookmarks=function(o){return e.postMessageToFLP("sap.ushell.services.BookmarkV2.deleteCustomBookmarks",{oIdentifier:o})};this.addBookmarkToPage=function(o,s){return e.postMessageToFLP("sap.ushell.services.BookmarkV2.addBookmarkToPage",{oParameters:o,sPageId:s})}}t.prototype=o.prototype;t.hasNoAdapter=o.hasNoAdapter;return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/CommonDataModel", ["sap/ushell/services/CommonDataModel","sap/ushell/appRuntime/ui5/AppCommunicationMgr"],(e,s)=>{"use strict";function t(t,a,o,p){e.call(this,t,a,o,p);this.getAllPages=function(){return s.postMessageToFLP("sap.ushell.services.CommonDataModel.getAllPages")}}t.prototype=e.prototype;t.hasNoAdapter=e.hasNoAdapter;return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/Container", ["sap/ushell/Container","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/utils","sap/base/assert"],function(t,e,n,r){"use strict";let i;let o;let u;let s=false;let a=[];let l=[];let c=[];let f=false;t.inAppRuntime=function(){return true};t.runningInIframe=this.inAppRuntime;t.getFLPUrl=function(t){return e.postMessageToFLP("sap.ushell.services.Container.getFLPUrl",{bIncludeHash:t})};t.getFLPUrlAsync=function(t){return n.toDeferred(this.getFLPUrl(t))};t.getRenderer=function(){return u};t.getRendererInternal=function(){return u};t.logout=function(){return i.logout()};t.getFLPPlatform=function(){return e.sendMessageToOuterShell("sap.ushell.services.Container.getFLPPlatform")};t.extendSession=function(){o?.userActivityHandler()};t.setDirtyFlag=function(t){s=t};t.getDirtyFlag=function(){return s||this.handleDirtyStateProvider()};t.registerDirtyStateProvider=function(t){if(typeof t!=="function"){throw new Error("fnDirty must be a function")}a.push(t)};t.handleDirtyStateProvider=function(t){let e=false;if(a.length>0){const n=t||this._oShellNavigationInternal.getNavigationContext();for(let t=0;t<a.length&&e===false;t++){e=e||(a[t](n)||false)}}return e};t.deregisterDirtyStateProvider=function(t){if(typeof t!=="function"){throw new Error("fnDirty must be a function")}let e=-1;for(let n=a.length-1;n>=0;n--){if(a[n]===t){e=n;break}}if(e>=0){a.splice(e,1)}};t.cleanDirtyStateProviderArray=function(){a=[];s=false};this.setAsyncDirtyStateProvider=function(){};t.getAsyncDirtyStateProviders=function(){return a};t.setAsyncDirtyStateProviders=function(t){a=t};function g(t,e){let n=false;for(let r=0;r<t.length;r++){if(t[r]===e){n=true;break}}if(!n){t.push(e)}}t.attachLogoutEvent=function(t,n){r(typeof t==="function","Container.attachLogoutEvent: fnFunction must be a function");if(n===true){g(l,t)}else{g(c,t)}if(!f){f=true;e.postMessageToFLP("sap.ushell.services.Container.attachLogoutEvent",{})}};t._getAsyncFunctionsArray=function(){return l};t._getSyncFunctionsArray=function(){return l};t.executeAsyncAndSyncLogoutFunctions=function(){return new Promise((t,e)=>{const n=[];if(c.length>0){for(let t=0;t<c.length;t++){c[t]()}}if(l.length>0){for(let t=0;t<l.length;t++){n.push(l[t]())}}Promise.all(n).then(t)})};function h(t,e){for(let n=0;n<t.length;n++){if(t[n]===e){t.splice(n,1);break}}}t.detachLogoutEvent=function(t){h(c,t);h(l,t)};t._getAsyncFunctionsArray=function(){return l};t._getSyncFunctionsArray=function(){return c};t._clearAsyncFunctionsArray=function(){l=[]};t._clearSyncFunctionsArray=function(){c=[]};const p=t.init.bind(t);t.init=function(e,n){return new Promise(r=>{sap.ui.require(["sap/ushell/appRuntime/ui5/SessionHandlerAgent","sap/ushell/appRuntime/ui5/renderers/fiori2/Renderer","sap/ushell/appRuntime/ui5/ui/UIProxy"],(s,a)=>{o=s;u=a;p(e,n).then(()=>{i=t._getAdapter();return t.getServiceAsync("ShellNavigationInternal")}).then(e=>{t._oShellNavigationInternal=e;r()})})})};return t},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/CrossApplicationNavigation", ["sap/ushell/services/CrossApplicationNavigation","sap/ushell/services/appstate/AppState","sap/ui/thirdparty/jquery","sap/base/Log","sap/ushell/appRuntime/ui5/services/Container","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/base/util/deepClone","sap/ushell/utils/UrlParsing"],(e,s,jQuery,t,i,n,a,r,o)=>{"use strict";function p(p,l,c){e.call(this,p,l,c);this.backToPreviousApp=function(){if(a.checkDataLossAndContinue()){return n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.backToPreviousApp")}};this.expandCompactHashLocal=this.expandCompactHash;this.expandCompactHash=function(e){if(a.getIsScube()){return this.expandCompactHashLocal(e)}return n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.expandCompactHash",{sHashFragment:e})};this.getDistinctSemanticObjectsLocal=this.getDistinctSemanticObjects;this.getDistinctSemanticObjects=function(){if(a.getIsScube()){return this.getDistinctSemanticObjectsLocal()}return n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getDistinctSemanticObjects")};this.getLinksLocal=this.getLinks;this._combineResults=function(e,s){const t=e.map(e=>e[0]);const i=s.map(e=>e[0]);const n=t.map((e,s)=>i[s].concat(t[s]));return n.map(e=>[e])};this.getLinks=function(e){const s=new jQuery.Deferred;function t(e){if(Array.isArray(e)){e.forEach(e=>{if(e[0]){delete e[0].ui5Component}})}else{delete(e||{}).ui5Component}}if(a.getIsScube()){this.getLinksLocal(e).then(i=>{t(e);n.postMessageToFLP("sap.ushell.services.CrossApplicationNavigation.getLinks",e).then(t=>{if(Array.isArray(e)){const e=this._combineResults(i,t);s.resolve(e)}else{s.resolve(t.concat(i))}})})}else{t(e);n.postMessageToFLP("sap.ushell.services.CrossApplicationNavigation.getLinks",e).then(s.resolve).catch(s.reject)}return s.promise()};this.getPrimaryIntent=function(e,s){return n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getPrimaryIntent",{sSemanticObject:e,mParameters:s})};this.getSemanticObjectLinks=function(e,s,t,i,a,r){return n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getSemanticObjectLinks",{sSemanticObject:e,mParameters:s,bIgnoreFormFactor:t,sAppStateKey:a,bCompactIntents:r})};this.historyBack=function(e){if(a.checkDataLossAndContinue()){n.postMessageToFLP("sap.ushell.services.CrossApplicationNavigation.historyBack",{iSteps:e})}};this.isIntentSupported=function(e,s){if(a.getIsScube()){const t=new jQuery.Deferred;i.getServiceAsync("NavTargetResolutionInternal").then(i=>{i.isIntentSupported(e,s).done(t.resolve,t.reject)});return t.promise()}return n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.isIntentSupported",{aIntents:e})};this.isNavigationSupported=function(e,s,t){function o(e){return n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.isNavigationSupported",{aIntents:e})}if(t===true){return o(e)}if(a.getIsScube()){const t=new jQuery.Deferred;const n=e.map(e=>{if(typeof e==="object"){let s=e;if(e.params&&e.params.hasOwnProperty("sap-app-origin")){s=r(e);delete s.params["sap-app-origin"]}return s}return e});i.getServiceAsync("NavTargetResolutionInternal").then(e=>{e.isNavigationSupported(n,s).done(t.resolve,t.reject)});return t.promise()}return o(e)};this.toExternal=function(e,s){if(a.getIsScube()){if(e.target&&e.target.shellHash){const s=o.parseShellHash(e.target.shellHash);if(s.params){delete s.params["sap-app-origin"];e.target.shellHash=o.constructShellHash(s)}}else if(e.params){delete e.params["sap-app-origin"]}i.getServiceAsync("ShellNavigationInternal").then(t=>{t.toExternal(e,s)})}else if(a.checkDataLossAndContinue()){n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.toExternal",{oArgs:e})}return(new jQuery.Deferred).resolve().promise()};this.getAppState=function(e,t){const a=new jQuery.Deferred;n.postMessageToFLP("sap.ushell.services.CrossApplicationNavigation.getAppState",{sAppStateKey:t}).then(e=>{i.getServiceAsync("AppState").then(t=>{const i=new s(t,e._sKey,e._bModifiable,e._sData,e._sAppName,e._sACHComponent,e._bTransient);a.resolve(i)})});return a.promise()};this.resolveIntentLocal=this.resolveIntent;this.resolveIntent=function(e){if(a.getIsScube()){return this.resolveIntentLocal(e)}return n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.resolveIntent",{sHashFragment:e})};this.hrefForExternalAsync=function(e){return n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.hrefForExternal",{oArgs:e})};this.hrefForAppSpecificHashAsync=function(e){return n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.hrefForAppSpecificHash",{sAppHash:e})};this.isInitialNavigation=function(){t.error("Deprecated API call of 'sap.ushell.CrossApplicationNavigation.isInitialNavigation'. Please use 'isInitialNavigationAsync' instead",null,"sap.ushell.services.CrossApplicationNavigation");return false};this.isInitialNavigationAsync=function(){return n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.isInitialNavigation",{})}}p.prototype=e.prototype;p.hasNoAdapter=e.hasNoAdapter;return p},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/Extension", ["sap/base/Log","sap/base/util/isPlainObject","sap/ui/core/Element","sap/ushell/appRuntime/ui5/services/Extension/Item","sap/ushell/appRuntime/ui5/AppCommunicationMgr"],(e,t,o,s,i)=>{"use strict";function r(){this._oItemMap={};const e={"sap.ushell.services.Extension.handleControlEvent":{handler:async(e,t)=>{const{itemId:o,eventName:s}=e;const i=this._oItemMap[o];if(i){i.handleEvent(s)}}}};Object.keys(e).forEach(t=>{i.setRequestHandler(t,e[t].handler)})}r.prototype._extractControlProperties=function(e){const o={primitive:{},complex:{},events:{}};Object.keys(e).forEach(s=>{const i=e[s];if(typeof i==="function"){o.events[s]=i}else if(typeof i==="object"){if(t(i)){o.primitive[s]=i}else{o.complex[s]=i}}else{o.primitive[s]=i}});return o};r.prototype.createHeaderItem=async function(t,r={}){if(t.id){if(o.getElementById(t.id)){throw new Error("The control id is not allowed for header items! The id will be generated automatically and must not be set by the application.")}e.error("The control id is not allowed for header items! The id will be generated automatically.");delete t.id}const n=this._extractControlProperties(t);if(Object.keys(n.complex).length>0){throw new Error("Complex properties (aggregations, controls, non plain objects) are not allowed for header items!")}const{itemId:a}=await i.postMessageToFLP("sap.ushell.services.Extension.createHeaderItem",{controlProperties:n.primitive,events:Object.keys(n.events),parameters:r});const l=new s(a,n.events);this._oItemMap[a]=l;return l};r.prototype.createUserAction=async function(t,r={}){if(t.id){if(o.getElementById(t.id)){throw new Error("The control id is not allowed for header items! The id will be generated automatically and must not be set by the application.")}e.error("The control id is not allowed for header items! The id will be generated automatically.");delete t.id}const n=this._extractControlProperties(t);if(Object.keys(n.complex).length>0){throw new Error("Complex properties (aggregations, controls, non plain objects) are not allowed for user actions!")}const{itemId:a}=await i.postMessageToFLP("sap.ushell.services.Extension.createUserAction",{controlProperties:n.primitive,events:Object.keys(n.events),parameters:r});const l=new s(a,n.events);this._oItemMap[a]=l;return l};r.prototype.setSecondTitle=function(e){return i.postMessageToFLP("sap.ushell.services.Extension.setSecondTitle",{title:e})};r.hasNoAdapter=true;return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/Extension/Item", ["sap/ushell/appRuntime/ui5/AppCommunicationMgr"],e=>{"use strict";class s{#e=null;#s=null;constructor(e,s){this.#e=e;this.#s=s}async destroy(){e.postMessageToFLP("sap.ushell.services.Extension.Item.destroy",{itemId:this.#e})}showForCurrentApp(){e.postMessageToFLP("sap.ushell.services.Extension.Item.showForCurrentApp",{itemId:this.#e});return this}hideForCurrentApp(){e.postMessageToFLP("sap.ushell.services.Extension.Item.hideForCurrentApp",{itemId:this.#e});return this}showForAllApps(){e.postMessageToFLP("sap.ushell.services.Extension.Item.showForAllApps",{itemId:this.#e});return this}hideForAllApps(){e.postMessageToFLP("sap.ushell.services.Extension.Item.hideForAllApps",{itemId:this.#e});return this}showOnHome(){e.postMessageToFLP("sap.ushell.services.Extension.Item.showOnHome",{itemId:this.#e});return this}hideOnHome(){e.postMessageToFLP("sap.ushell.services.Extension.Item.hideOnHome",{itemId:this.#e});return this}handleEvent(e){if(this.#s[e]){this.#s[e]()}}}return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/FlpLaunchPage", [],()=>{"use strict";function e(){throw new Error("The 'FlpLaunchPage' is not supported in the iframe environment.")}e.hasNoAdapter=true;return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/FrameBoundExtension", [],()=>{"use strict";function e(){throw new Error("The 'FrameBoundExtension' is not supported in the iframe environment.")}e.hasNoAdapter=true;return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/LaunchPage", ["sap/ushell/services/LaunchPage","sap/ushell/appRuntime/ui5/AppCommunicationMgr"],(e,s)=>{"use strict";function o(e,o,r){this.getGroupsForBookmarks=function(){return s.sendMessageToOuterShell("sap.ushell.services.LaunchPage.getGroupsForBookmarks")}}o.prototype=e.prototype;o.hasNoAdapter=e.hasNoAdapter;return o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/MessageBroker", ["sap/base/Log","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/appRuntime/ui5/services/MessageBroker/Client","sap/ushell/services/MessageBroker/ClientAlias","sap/ushell/utils/CallbackQueue"],(e,s,n,t,r)=>{"use strict";function a(){this._mClientData=new Map;this._oLogger=e.getLogger("sap.ushell.services.MessageBroker");this.oCallbackQueue=new r}a.prototype.connect=async function(e,t){return this.oCallbackQueue.push(async()=>{if(typeof e!=="string"||!e.length){throw new Error("Cannot connect client: Missing required parameter client id")}if(typeof t!=="function"){this._oLogger.error(`Missing required parameter 'fnClientConnectionCallback' for client '${e}'! It has to be provided as part of the connect() call`)}const r=new n(e);r.setClientConnectionCallback(t);await s.postMessageToFLP("sap.ushell.services.MessageBroker",{channelId:"sap.ushell.MessageBroker",clientId:e,messageName:"connect"});this._mClientData.set(e,r)})};a.prototype.disconnect=async function(e){return this.oCallbackQueue.push(async()=>{if(typeof e!=="string"||!e.length){throw new Error("Cannot disconnect client: Missing required parameter client id")}await s.postMessageToFLP("sap.ushell.services.MessageBroker",{channelId:"sap.ushell.MessageBroker",clientId:e,messageName:"disconnect"});this._mClientData.delete(e)})};a.prototype.subscribe=async function(e,n,t,r){return this.oCallbackQueue.push(async()=>{if(typeof e!=="string"||!e.length||!n.length||typeof t!=="function"){throw new Error(`Cannot subscribe client '${e}': Missing required parameter(s)`)}if(typeof r==="function"){this._oLogger.error(`The 'fnClientConnectionCallback' parameter was provided by client '${e}'. This parameter is deprecated and should be provided as part of the connect() call`)}const a=this._mClientData.get(e);if(!a){throw new Error(`Cannot subscribe client '${e}': Client is not connected`)}await s.postMessageToFLP("sap.ushell.services.MessageBroker",{channelId:"sap.ushell.MessageBroker",clientId:e,messageName:"subscribe",subscribedChannels:n});n.forEach(e=>a.subscribe(e.channelId,t));if(r){a.setClientConnectionCallback(r)}})};a.prototype.unsubscribe=async function(e,n){return this.oCallbackQueue.push(async()=>{if(typeof e!=="string"||!e.length||!Array.isArray(n)||!n.length){throw new Error(`Cannot unsubscribe client '${e}': Missing required parameter(s)`)}const t=this._mClientData.get(e);if(!t){throw new Error(`Cannot subscribe client '${e}': Client is not connected`)}await s.postMessageToFLP("sap.ushell.services.MessageBroker",{channelId:"sap.ushell.MessageBroker",clientId:e,messageName:"unsubscribe",subscribedChannels:n});n.forEach(e=>t.subscribe(e.channelId,undefined))})};a.prototype.publish=async function(e,n,r,a,i,o){return this.oCallbackQueue.push(async()=>{if(typeof a==="string"&&(Array.isArray(i)||i===t.AllClients)){this._oLogger.error(`The parameter 'sMessageId' was provided by client '${n}'. It is deprecated and should not be provided`)}else{o=i;i=a;a=r;r=undefined}let c;if(i===t.AllClients){c=[t.AllClients]}else{c=[...i]}s.postMessageToFLP("sap.ushell.services.MessageBroker",{clientId:n,channelId:e,targetClientIds:c,messageName:a,data:o})})};a.prototype.addAcceptedOrigin=function(e){};a.prototype.removeAcceptedOrigin=function(e){};a.prototype.getAcceptedOrigins=function(){};a.prototype.getAcceptedOrigins=function(){};a.prototype.handleMessage=async function(e){return this.oCallbackQueue.push(async()=>{const s=this._mClientData.get(e.targetClientId);if(!s){throw new Error(`Client '${e.targetClientId}' is not connected`)}if(["clientSubscribed","clientUnsubscribed"].includes(e.messageName)){s.callClientConnectionCallback(e.messageName,e.clientId,e.channels);return{_noresponse_:true}}const n=s.getMessageCallback(e.channelId);if(!n){throw new Error(`Client '${e.clientId}' is not subscribed to channel '${e.channelId}'`)}n(e.clientId,e.channelId,e.messageName,e.data);return{_noresponse_:true}})};a.hasNoAdapter=true;return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/MessageBroker/Client", [],()=>{"use strict";class n{#n;#t;#e=new Map;#l=[];constructor(n){this.#n=n}setClientConnectionCallback(n){this.#t=n}subscribe(n,t){this.#e.set(n,t)}unsubscribe(n){this.#e.delete(n)}getMessageCallback(n){return this.#e.get(n)}callClientConnectionCallback(...n){if(!this.#t){this.#l.push(n);return}this.#t(...n)}applyPreviousConnectionCalls(){if(!this.#t){return}this.#l.forEach(n=>{this.#t(...n)});this.#l=[]}}return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/NavTargetResolution", ["sap/ushell/services/NavTargetResolution","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/ui/thirdparty/jquery"],(e,t,s,jQuery)=>{"use strict";function n(n,i,r,a){e.call(this,n,i,r,a);this.getDistinctSemanticObjectsLocal=this.getDistinctSemanticObjects;this.getDistinctSemanticObjects=function(){const e=new jQuery.Deferred;const n=[];let i;n.push(s.getIsScube()?this.getDistinctSemanticObjectsLocal():Promise.resolve([]));n.push(t.postMessageToFLP("sap.ushell.services.NavTargetResolution.getDistinctSemanticObjects"));Promise.allSettled(n).then(t=>{i=t[0].status==="fulfilled"?t[0].value:[];i=i.concat(t[1].status==="fulfilled"?t[1].value:[]);i=i.filter((e,t,s)=>s.indexOf(e)===t).sort();e.resolve(i)});return e.promise()};this.expandCompactHash=function(e){if(e&&e.indexOf("sap-intent-param")>0){return t.sendMessageToOuterShell("sap.ushell.services.NavTargetResolution.expandCompactHash",{sHashFragment:e})}return(new jQuery.Deferred).resolve(e).promise()};this.resolveHashFragmentLocal=this.resolveHashFragment;this.resolveHashFragment=function(e){if(s.getIsScube()){const s=new jQuery.Deferred;this.resolveHashFragmentLocal(e).done(s.resolve).fail(()=>t.postMessageToFLP("sap.ushell.services.NavTargetResolution.resolveHashFragment",{sHashFragment:e}).then(s.resolve).catch(s.reject));return s.promise()}return t.sendMessageToOuterShell("sap.ushell.services.NavTargetResolution.resolveHashFragment",{sHashFragment:e})};this.isIntentSupportedLocal=this.isIntentSupported;this.isIntentSupported=function(e){const n=new jQuery.Deferred;const i=[];let r;let a;i.push(s.getIsScube()?this.isIntentSupportedLocal(e):Promise.resolve(undefined));i.push(t.postMessageToFLP("sap.ushell.services.NavTargetResolution.isIntentSupported",{aIntents:e}));Promise.allSettled(i).then(t=>{r=t[0].status==="fulfilled"?t[0].value:undefined;a=t[1].status==="fulfilled"?t[1].value:undefined;if(r&&a){Object.keys(r).forEach(e=>{r[e].supported=r[e].supported||a[e].supported})}else if(r||a){r=r||a}else{r={};e.forEach(e=>{r[e]={supported:undefined}})}n.resolve(r)});return n.promise()};this._isIntentSupportedLocal=this.isIntentSupportedLocal;this._isIntentSupported=this.isIntentSupported}n.prototype=e.prototype;n.hasNoAdapter=e.hasNoAdapter;return n},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/NavTargetResolutionInternal", ["sap/ushell/services/NavTargetResolutionInternal","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/ui/thirdparty/jquery"],(e,t,s,jQuery)=>{"use strict";function n(n,r,a,i){e.call(this,n,r,a,i);this.getDistinctSemanticObjectsLocal=this.getDistinctSemanticObjects;this.getDistinctSemanticObjects=function(){const e=new jQuery.Deferred;const n=[];let r;n.push(s.getIsScube()?this.getDistinctSemanticObjectsLocal():Promise.resolve([]));n.push(t.postMessageToFLP("sap.ushell.services.NavTargetResolutionInternal.getDistinctSemanticObjects"));Promise.allSettled(n).then(t=>{r=t[0].status==="fulfilled"?t[0].value:[];r=r.concat(t[1].status==="fulfilled"?t[1].value:[]);r=r.filter((e,t,s)=>s.indexOf(e)===t).sort();e.resolve(r)});return e.promise()};this.expandCompactHash=function(e){if(e&&e.indexOf("sap-intent-param")>0){return t.sendMessageToOuterShell("sap.ushell.services.NavTargetResolutionInternal.expandCompactHash",{sHashFragment:e})}return(new jQuery.Deferred).resolve(e).promise()};this.resolveHashFragmentLocal=this.resolveHashFragment;this.resolveHashFragment=function(e){if(s.getIsScube()){const s=new jQuery.Deferred;this.resolveHashFragmentLocal(e).done(s.resolve).fail(()=>t.postMessageToFLP("sap.ushell.services.NavTargetResolutionInternal.resolveHashFragment",{sHashFragment:e}).then(s.resolve).catch(s.reject));return s.promise()}return t.sendMessageToOuterShell("sap.ushell.services.NavTargetResolutionInternal.resolveHashFragment",{sHashFragment:e})};this.isIntentSupportedLocal=this.isIntentSupported;this.isIntentSupported=function(e){const n=new jQuery.Deferred;const r=[];let a;let i;r.push(s.getIsScube()?this.isIntentSupportedLocal(e):Promise.resolve(undefined));r.push(t.postMessageToFLP("sap.ushell.services.NavTargetResolutionInternal.isIntentSupported",{aIntents:e}));Promise.allSettled(r).then(t=>{a=t[0].status==="fulfilled"?t[0].value:undefined;i=t[1].status==="fulfilled"?t[1].value:undefined;if(a&&i){Object.keys(a).forEach(e=>{a[e].supported=a[e].supported||i[e].supported})}else if(a||i){a=a||i}else{a={};e.forEach(e=>{a[e]={supported:undefined}})}n.resolve(a)});return n.promise()};this._isIntentSupportedLocal=this.isIntentSupportedLocal;this._isIntentSupported=this.isIntentSupported}n.prototype=e.prototype;n.hasNoAdapter=e.hasNoAdapter;return n},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/Navigation", ["sap/ushell/services/Navigation","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/services/appstate/AppState","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/base/util/deepClone","sap/ushell/utils/UrlParsing","sap/ushell/appRuntime/ui5/services/Container"],(e,t,s,i,a,n,r)=>{"use strict";function o(o,p,u){e.call(this,o,p,u);this.getHref=function(e){return t.postMessageToFLP("sap.ushell.services.Navigation.getHref",{oTarget:e})};this.backToPreviousApp=function(){if(i.checkDataLossAndContinue()){return t.postMessageToFLP("sap.ushell.services.Navigation.backToPreviousApp")}return Promise.resolve()};this.historyBack=function(e){if(i.checkDataLossAndContinue()){t.postMessageToFLP("sap.ushell.services.Navigation.historyBack",{iSteps:e})}};this.isInitialNavigation=function(){return t.postMessageToFLP("sap.ushell.services.Navigation.isInitialNavigation",{})};this.navigate=function(e,s){if(i.getIsScube()){if(e.target&&e.target.shellHash){const t=n.parseShellHash(e.target.shellHash);if(t.params){delete t.params["sap-app-origin"];e.target.shellHash=n.constructShellHash(t)}}else if(e.params){delete e.params["sap-app-origin"]}return r.getServiceAsync("ShellNavigationInternal").then(t=>t.toExternal(e,s))}else if(i.checkDataLossAndContinue()){return t.postMessageToFLP("sap.ushell.services.Navigation.navigate",{oTarget:e})}return Promise.resolve()};this.getPrimaryIntent=async function(e,s){return t.postMessageToFLP("sap.ushell.services.Navigation.getPrimaryIntent",{sSemanticObject:e,oLinkFilter:s})};this._removeComponent=function(e){e.forEach(e=>{if(e){delete e.ui5Component}})};this.getLinksLocal=this.getLinks;this.getLinks=function(e=[]){if(!Array.isArray(e)){throw new Error("Unexpected Input: aLinkFilter has to be an array with plain objects!")}if(i.getIsScube()){return this.getLinksLocal(e).then(s=>{this._removeComponent(e);return t.postMessageToFLP("sap.ushell.services.Navigation.getLinks",e).then(e=>s.map((t,i)=>e[i].concat(s[i])))})}this._removeComponent(e);return t.postMessageToFLP("sap.ushell.services.Navigation.getLinks",e)};this.getSemanticObjectsLocal=this.getSemanticObjects;this.getSemanticObjects=function(){if(i.getIsScube()){return this.getSemanticObjectsLocal()}return t.postMessageToFLP("sap.ushell.services.Navigation.getSemanticObjects")};this.isNavigationSupported=function(e,s,n){function o(e){return t.postMessageToFLP("sap.ushell.services.Navigation.isNavigationSupported",{aTargets:e})}if(n===true){return o(e)}if(i.getIsScube()){const t=e.map(e=>{if(typeof e==="object"){let t=e;if(e.params&&e.params.hasOwnProperty("sap-app-origin")){t=a(e);delete t.params["sap-app-origin"]}return t}return e});return r.getServiceAsync("NavTargetResolutionInternal").then(e=>e.isNavigationSupported(t,s))}return o(e)};this.getAppState=function(e,i){return t.postMessageToFLP("sap.ushell.services.Navigation.getAppState",{sAppStateKey:i}).then(e=>r.getServiceAsync("AppState").then(t=>{const i=new s(t,e._sKey,e._bModifiable,e._sData,e._sAppName,e._sACHComponent,e._bTransient);return i}))};this.resolveIntentLocal=this.resolveIntent;this.resolveIntent=function(e){if(i.getIsScube()){return this.resolveIntentLocal(e)}return t.postMessageToFLP("sap.ushell.services.Navigation.resolveIntent",{sHashFragment:e})};this.isUrlSupported=function(e){return t.postMessageToFLP("sap.ushell.services.Navigation.isUrlSupported",{sUrl:e})}}o.prototype=e.prototype;o.hasNoAdapter=e.hasNoAdapter;return o},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/ReferenceResolver", ["sap/ushell/appRuntime/ui5/AppCommunicationMgr"],e=>{"use strict";function s(){this.resolveReferences=function(s,r){return e.sendMessageToOuterShell("sap.ushell.services.ReferenceResolver.resolveReferences",{aReferences:s})}}s.hasNoAdapter=true;return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/ShellNavigation", ["sap/ushell/services/ShellNavigation","sap/ushell/appRuntime/ui5/services/Container","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/ushell/utils/UrlParsing"],(e,t,s,a,n)=>{"use strict";function i(i,l,r){e.call(this,i,l,r);this.toExternal=function(e,i,l){if(!a.checkDataLossAndContinue()){return}if(a.getIsScube()){t.getServiceAsync("NavTargetResolutionInternal").then(t=>{const i=n.constructShellHash(e);t.isIntentSupportedLocal([i]).then(t=>{if(t[i].supported===true){if(e.target.shellHash){e=n.parseShellHash(e.target.shellHash);e.target={semanticObject:e.semanticObject,action:e.action};delete e.semanticObject;delete e.action}e.params["sap-shell-so"]=e.target.semanticObject;e.params["sap-shell-action"]=e.target.action;e.params["sap-remote-system"]=a.getRemoteSystemId();e.target.semanticObject="Shell";e.target.action="startIntent";return s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.toExternal",{oArgs:e})}s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.toExternal",{oArgs:e})})})}else{s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.toExternal",{oArgs:e})}};this.toAppHash=function(e,t){s.sendMessageToOuterShell("sap.ushell.services.ShellNavigationInternal.toExternal",{sAppHash:e,bWriteHistory:t})}}i.prototype=e.prototype;i.hasNoAdapter=e.hasNoAdapter;return i},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/ShellNavigationInternal", ["sap/ushell/services/ShellNavigationInternal","sap/ushell/appRuntime/ui5/services/Container","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/ushell/utils/UrlParsing"],(e,t,s,a,n)=>{"use strict";function i(i,r,l){e.call(this,i,r,l);this.toExternal=async function(e,i,r){if(!a.checkDataLossAndContinue()){return}if(a.getIsScube()){return t.getServiceAsync("NavTargetResolutionInternal").then(t=>{const i=n.constructShellHash(e);return t.isIntentSupportedLocal([i]).then(t=>{if(t[i].supported===true){if(e.target.shellHash){e=n.parseShellHash(e.target.shellHash);e.target={semanticObject:e.semanticObject,action:e.action};delete e.semanticObject;delete e.action}e.params["sap-shell-so"]=e.target.semanticObject;e.params["sap-shell-action"]=e.target.action;e.params["sap-remote-system"]=a.getRemoteSystemId();e.target.semanticObject="Shell";e.target.action="startIntent"}s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.toExternal",{oArgs:e})})})}s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.toExternal",{oArgs:e})};this.toAppHash=function(e,t){s.sendMessageToOuterShell("sap.ushell.services.ShellNavigationInternal.toExternal",{sAppHash:e,bWriteHistory:t})}}i.prototype=e.prototype;i.hasNoAdapter=e.hasNoAdapter;return i},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/ShellUIService", ["sap/ui/core/EventBus","sap/ui/core/service/ServiceFactoryRegistry","sap/ui/core/service/ServiceFactory","sap/ushell/ui5service/ShellUIService","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/ushell/services/AppConfiguration","sap/ui/thirdparty/jquery"],(e,s,t,i,a,n,l,jQuery)=>{"use strict";let r;let c=false;let u;const o=i.extend("sap.ushell.appRuntime.services.ShellUIService",{setTitle:function(e,s){if(typeof e!=="undefined"&&typeof e!=="string"){throw new Error("'setTitle' was called with invalid arguments. The parameter should be a string")}r=e===undefined?r:e;a.postMessageToFLP("sap.ushell.services.ShellUIService.setTitle",{sTitle:e,oAdditionalInformation:s})},getTitle:function(){return r},setHierarchy:function(e){return n.checkIntentsConversionForScube(e).then(e=>a.postMessageToFLP("sap.ushell.services.ShellUIService.setHierarchy",{aHierarchyLevels:e}))},setRelatedApps:function(e){return n.checkIntentsConversionForScube(e).then(e=>a.postMessageToFLP("sap.ushell.services.ShellUIService.setRelatedApps",{aRelatedApps:e}))},setBackNavigation:function(e){if(!c){c=true;const e={"sap.ushell.appRuntime.handleBackNavigation":{async handler(e,s){if(u){u()}else if(n.checkDataLossAndContinue()){window.history.back()}return(new jQuery.Deferred).resolve().promise()}}};Object.keys(e).forEach(s=>{a.setRequestHandler(s,e[s].handler)})}u=e;a.postMessageToFLP("sap.ushell.ui5service.ShellUIService.setBackNavigation",{callbackMessage:{service:"sap.ushell.appRuntime.handleBackNavigation"}})},_getBackNavigationCallback:function(){return u},_resetBackNavigationCallback:function(){this.setBackNavigation()},setApplicationFullWidth:function(e){l.setApplicationFullWidthInternal(e)}});o._resetTitle=function(){r=undefined};e.getInstance().subscribe("sap.ushell","appClosed",o._resetTitle);s.register("sap.ushell.ui5service.ShellUIService",new t(o));return o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/UserDefaultParameters", ["sap/ushell/services/UserDefaultParameters","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/base/util/ObjectPath"],(e,s,t)=>{"use strict";function a(t,a){e.call(this,t,a);this.getValue=function(e){return s.sendMessageToOuterShell("sap.ushell.services.UserDefaultParameters.getValue",{sParameterName:e})}}t.set("sap.ushell.services.UserDefaultParameters",a);a.prototype=e.prototype;a.hasNoAdapter=true;return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/UserInfo", ["sap/ui/thirdparty/jquery","sap/ushell/services/UserInfo","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/base/util/ObjectPath"],(jQuery,e,s,t)=>{"use strict";function r(t,r){e.call(this,t,r);this.getThemeList=function(){return s.sendMessageToOuterShell("sap.ushell.services.UserInfo.getThemeList")};this.updateUserPreferences=function(){const e=new jQuery.Deferred;sap.ui.require(["sap/ushell/appRuntime/ui5/services/Container"],t=>{s.postMessageToFLP("sap.ushell.services.UserInfo.updateUserPreferences",{language:t.getUser().getLanguage()}).then(e.resolve).catch(e.reject)});return e.promise()};this.getLanguageList=function(){return s.sendMessageToOuterShell("sap.ushell.services.UserInfo.getLanguageList")};this.getShellUserInfo=function(){return s.sendMessageToOuterShell("sap.ushell.services.UserInfo.getShellUserInfo")}}t.set("sap.ushell.services.UserInfo",r);r.prototype=e.prototype;r.hasNoAdapter=true;return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/adapters/ContainerAdapter", ["sap/base/Log","sap/base/i18n/Formatting","sap/base/util/deepExtend","sap/base/util/ObjectPath","sap/ui/thirdparty/jquery","sap/ushell/User"],(e,t,s,o,jQuery,r)=>{"use strict";function i(i,n,a){let u;let l;let d;let c;let p;let f;function m(e){if(e.sapDateFormat){t.setABAPDateFormat(e.sapDateFormat)}if(e.sapDateCalendarCustomizing){t.setCustomIslamicCalendarData(e.sapDateCalendarCustomizing)}if(e.sapNumberFormat){t.setABAPNumberFormat(e.sapNumberFormat)}if(e.sapTimeFormat){t.setABAPTimeFormat(e.sapTimeFormat)}if(typeof e.currencyFormats==="object"){t.addCustomCurrencies(e.currencyFormats)}}this.load=function(){l=o.get("config.systemProperties.logoutUrl",a);d=o.get("config.systemProperties.logoutMethod",a)||"GET";c=o.get("config.systemProperties.csrfTokenUrl",a);p=o.get("config.systemProperties.sessionKeepAlive.url",a);f=o.get("config.systemProperties.sessionKeepAlive.method",a);const e=s({id:""},o.get("config.userProfile.defaults",a));u=new r(e);m(e);return(new jQuery.Deferred).resolve().promise()};this.getSystem=function(){return i};this.getUser=function(){return u};this._getLogoutUrl=function(){return l};this._setWindowLocation=function(e){window.location.href=e};this.logout=function(){const t=new jQuery.Deferred;const s=this;if(d==="POST"){e.info("performing logout from system via POST",undefined,"sap.ushell.appRuntime.ui5.services.adapters.ContainerAdapter::logout");jQuery.ajax({type:"HEAD",url:c,headers:{"X-CSRF-Token":"Fetch"},success:function(o,r,i){jQuery.ajax({type:"POST",url:l,headers:{"X-CSRF-Token":i.getResponseHeader("X-CSRF-Token")},success:function(e){s._setWindowLocation(e);t.resolve()},error:function(){e.error("Logging out via POST failed",undefined,"sap.ushell.appRuntime.ui5.services.adapters.ContainerAdapter::logout");t.resolve()}})},error:function(){e.error(`fetching X-CSRF-Token for logout via POST failed for system: ${i.getAlias()}`,undefined,"sap.ushell.appRuntime.ui5.services.adapters.ContainerAdapter::logout");t.resolve()}})}else{try{if(typeof l==="string"&&l.length>0){this._logoutViaHiddenIFrame(t,l);setTimeout(t.resolve,4e3)}else{t.resolve()}}catch(s){e.error(`logout from iframe ${document.URL} failed`,s,"sap.ushell.appRuntime.ui5.SessionHandlerAgent");t.resolve()}}return t.promise()};this._logoutViaHiddenIFrame=function(e,t){const s=document.createElement("iframe");const o=t.replace(/"/g,'\\"');window.addEventListener("message",s=>{if((s.data&&s.data.url)===t){e.resolve()}});s.style.visibility="hidden";s.setAttribute("src",t);function r(){this.contentWindow.parent.postMessage({url:o,request_id:"dummy-logout-id"},"*")}s.addEventListener("load",r);s.addEventListener("error",r);document.body.appendChild(s)};this.sessionKeepAlive=function(){if(typeof p==="string"&&p.length>0&&typeof f==="string"&&f.length>0){const t=new XMLHttpRequest;t.open(f,p,true);t.onreadystatechange=function(){if(this.readyState===4){e.debug("Server session was extended")}};t.send()}}}return i},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/adapters/EmptyAdapter", ["sap/ui/thirdparty/jquery"],jQuery=>{"use strict";function e(){this.getSite=function(){return(new jQuery.Deferred).resolve({}).promise()};this.getInbounds=function(){return(new jQuery.Deferred).resolve([]).promise()}}return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/adapters/Ui5ComponentLoaderAdapter", [],()=>{"use strict";function e(){}return e},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/ui/UIProxy", ["sap/ushell/appRuntime/ui5/renderers/fiori2/Renderer","sap/m/Button","sap/base/util/ObjectPath"],(e,t,s)=>{"use strict";function n(){s.set("sap.ushell.ui.shell.ShellHeadItem",function(t){const s=this;Object.keys(t).forEach(e=>{s[e]=t[e];s[`get${e[0].toUpperCase()}${e.slice(1)}`]=function(){return t[e]}});e.createShellHeadItem(t)})}return new n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/SchedulingAgent", ["sap/ushell/bootstrap/SchedulingAgent/FLPScheduler","sap/ushell/bootstrap/SchedulingAgent/EventProcessor","sap/ushell/bootstrap/SchedulingAgent/FLPLoader","sap/ushell/bootstrap/SchedulingAgent/logger","sap/ushell/bootstrap/SchedulingAgent/state","sap/ushell/EventHub"],(e,t,o,n,i,a)=>{"use strict";const s={CONTINUE_ON_EVENT:"continueOnEvent",BY_EVENT:"byEvent",BY_COMPONENT_CREATE:"byComponentCreate",BY_REQUIRE:"byRequire",WAIT_IN_MS:"waitInMs"};const d={WAIT:"wait",ERROR:"error",DONE:"done",STEP:"step",BLOCKDONE:"blockDone",SKIPPED:"skip"};const g={oComponentsLoading:{},oPathsLoading:{},_initialize:function(){i.clear();n.clearHistory();i.setForModule(i.id.module.schedulingAgent.id,i.id.module.schedulingAgent.Initializing,"Scheduling Agent starting");const o=e.initializeSchedule();o.then(e=>{if(!e){i.setForModule(i.id.module.schedulingAgent.id,i.id.module.schedulingAgent.FatalError,"Configuration error!");return}t.initializeStepDoneListener(this);i.setForModule(i.id.module.schedulingAgent.id,i.id.module.schedulingAgent.Initialized,"Scheduling Agent ready");this.eventReceived()})},_processStepConfiguration:function(e){const t={sStepType:"",oData:{},sStepName:"",bConfigOk:false};if(e.oConfig.loadingMode===s.CONTINUE_ON_EVENT){t.sStepType=s.CONTINUE_ON_EVENT;t.sStepName=e.oContent.LoadingStep;t.oData.eventName=e.oConfig.continueOnEvent&&e.oConfig.continueOnEvent.eventName;t.oData.timeoutInMs=e.oConfig.continueOnEvent&&e.oConfig.continueOnEvent.timeoutInMs;t.oData.stepName=e.oContent.LoadingStep;t.bConfigOk=!!(t.oData.eventName&&t.oData.stepName)}else if(e.oConfig.loadingMode===s.BY_EVENT){t.sStepType=s.BY_EVENT;t.sStepName=e.oContent.LoadingStep;t.oData.eventName=e.oConfig.byEvent&&e.oConfig.byEvent.eventName;t.oData.eventData={};t.oData.eventData.data=e.oConfig.byEvent.eventData;t.oData.eventData.stepName=e.oContent.LoadingStep;t.bConfigOk=!!t.oData.eventName}else if(e.oConfig.loadingMode===s.BY_COMPONENT_CREATE){t.sStepType=s.BY_COMPONENT_CREATE;t.sStepName=e.oContent.LoadingStep;t.oData=e.oConfig.byComponentCreate&&e.oConfig.byComponentCreate.ui5ComponentOptions||{};t.bConfigOk=!!t.oData}else if(e.oConfig.loadingMode===s.BY_REQUIRE){t.sStepType=s.BY_REQUIRE;t.sStepName=e.oContent.LoadingStep;t.oData={};t.oData.sPath=e.oConfig.byRequire.path;t.oData.sStepName=e.oContent.LoadingStep;t.bConfigOk=!!t.oData.sPath}else if(e.oConfig.loadingMode===s.WAIT_IN_MS){t.sStepType=s.WAIT_IN_MS;t.sStepName=e.oContent.LoadingStep;t.oData.iWaitingTime=e.oConfig.waitInMs&&e.oConfig.waitInMs.waitingTime;t.oData.sStepName=e.oContent.LoadingStep;t.bConfigOk=!!(t.oData.iWaitingTime&&t.oData.sStepName)}return t},dumpState:function(){i.dump()},dumpHistory:function(){n.dumpHistory()},dumpSchedule:function(){e.dumpSchedule()},dumpAll:function(){n.dumpHistory();e.dumpSchedule();i.dump()},eventReceived:function(){i.setForModule(i.id.module.schedulingAgent.id,i.id.module.schedulingAgent.Working,"Agent is active");let n;do{n=e.getNextLoadingStep();if(n.sStatus===d.ERROR){i.setForModule(i.id.module.schedulingAgent.id,i.id.module.schedulingAgent.FatalError,"Fatal loading error. Loading aborted.");t.unregisterStepDoneListener();a.emit("FLPLoadingDone",Date.now());return}if(n.sStatus===d.DONE){i.setForModule(i.id.module.schedulingAgent.id,i.id.module.schedulingAgent.Done,"Loading finished");t.unregisterStepDoneListener();a.emit("FLPLoadingDone",Date.now());return}if(n.sStatus===d.BLOCKDONE){}if(n.sStatus===d.SKIPPED){}if(n.sStatus===d.STEP){const e=this._processStepConfiguration(n);if(!e.bConfigOk){i.setForLoadingStep(e.sStepName,i.id.loadingStep.Abort,"","Step configuration error");i.setForLoadingStep(e.sStepName,i.id.loadingStep.Skipped,"","Step configuration error");i.setForModule(i.id.module.schedulingAgent.id,i.id.module.schedulingAgent.FatalError,e,"Step configuration error!")}else if(e.sStepType===s.CONTINUE_ON_EVENT){t.listenToEvent(e.oData);i.setForLoadingStep(e.sStepName,i.id.loadingStep.InProgress,e.oData.eventName,"continueOnEvent step sent to Event Processor")}else if(e.sStepType===s.BY_EVENT){o.loadComponentByEvent(e.oData);i.setForLoadingStep(e.sStepName,i.id.loadingStep.InProgress,e.oData,"byEvent step sent to FLP Loader")}else if(e.sStepType===s.WAIT_IN_MS){o.waitInMs(e.oData);i.setForLoadingStep(e.sStepName,i.id.loadingStep.InProgress,`${e.oData.iWaitingTime}ms`,"WaitInMs step sent to FLP Loader")}else if(e.sStepType===s.BY_REQUIRE){const t=o.loadComponentByRequire(e.oData.sPath);this.oPathsLoading[e.sStepName]=t;i.setForLoadingStep(e.sStepName,i.id.loadingStep.InProgress,e.oData.sPath,"byRequire step sent to FLP Loader");const n=e.sStepName;t.then(()=>{i.setForLoadingStep(n,i.id.loadingStep.InProgress,"","Step's promise has resolved");delete this.oPathsLoading[n];a.emit("StepDone",n)}).catch(()=>{i.setForLoadingStep(n,i.id.loadingStep.FatalError,"","Step's promise failed");delete this.oPathsLoading[n];a.emit("StepFailed",n)})}else if(e.sStepType===s.BY_COMPONENT_CREATE){const t=o.loadComponentByComponentCreate(e);const n=e.sStepName;this.oComponentsLoading[n]=t;i.setForLoadingStep(n,i.id.loadingStep.InProgress,e.oData,"byComponentCreate step sent to FLP Loader");t.then(()=>{i.setForLoadingStep(n,i.id.loadingStep.InProgress,"","Step's promise has resolved");delete this.oComponentsLoading[n];a.emit("StepDone",n)}).catch(()=>{i.setForLoadingStep(n,i.id.loadingStep.FatalError,"","Step's promise failed");delete this.oComponentsLoading[n];a.emit("StepFailed",n)})}}}while(n.sStatus!==d.WAIT);i.setForModule(i.id.module.schedulingAgent.id,i.id.module.schedulingAgent.Waiting,"Agent waits")}};return g},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/SchedulingAgent/EventProcessor", ["sap/ushell/bootstrap/SchedulingAgent/state","sap/ushell/EventHub"],(e,t)=>{"use strict";const n={SchedulingAgent:{},aDoables:[],initializeStepDoneListener:function(n){this.SchedulingAgent=n;this.aDoables=[t.on("StepDone").do(t=>{e.setForLoadingStep(t,e.id.loadingStep.Done,"","Step event received");this.SchedulingAgent.eventReceived()}),t.on("StepFailed").do(t=>{e.setForLoadingStep(t,e.id.loadingStep.Skipped,"","Step event received");this.SchedulingAgent.eventReceived()})]},listenToEvent:function(n){let i=false;t.once(n.eventName).do(()=>{if(i){return}i=true;e.setForLoadingStep(n.stepName,e.id.loadingStep.Done,n.eventName,"Event received");this.SchedulingAgent.eventReceived()});if(n.timeoutInMs){setTimeout(()=>{if(i){return}i=true;e.setForLoadingStep(n.stepName,e.id.loadingStep.Done,n.eventName,"Event received");this.SchedulingAgent.eventReceived()},n.timeoutInMs)}},unregisterStepDoneListener:function(){this.aDoables.forEach(e=>{e.off()})},setTimeOut:function(){}};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/SchedulingAgent/FLPLoader", ["sap/ushell/EventHub","sap/ui/core/Component"],(e,n)=>{"use strict";const t={loadComponentByEvent:function(n){e.emit(n.eventName,n.eventData)},loadComponentByComponentCreate:function(e){return n.create(e.oData).then(()=>e.sStepName)},loadComponentByRequire:function(e){return new Promise((n,t)=>{sap.ui.require([e],e=>{n(e)})})},waitInMs:function(n){setTimeout(()=>{e.emit("StepDone",n.sStepName)},n.iWaitingTime)},directLoading:function(){}};return t},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/SchedulingAgent/FLPScheduler", ["sap/ui/performance/trace/FESR","sap/ushell/bootstrap/SchedulingAgent/state","sap/base/util/LoaderExtensions","sap/base/Log","sap/ushell/Config","sap/ushell/state/StateManager"],(e,t,o,n,i,d)=>{"use strict";const a={Loaded:"loaded",Wait:"wait",Step:"step",Error:"error",BlockDone:"blockDone",Start:"start",Done:"done",Skipped:"skipped"};const s="sap/ushell/bootstrap/SchedulingAgent/LoadingConfiguration.json";const l="sap/ushell/bootstrap/SchedulingAgent/StepConfiguration.json";const c={oSchedule:{iBlockIndex:0,aBlocksLoading:[]},initializeSchedule:function(){const e=o.loadResource(l,{async:true});const n=o.loadResource(s,{async:true});const i=Promise.all([e,n]).then(e=>{this._adaptForSpecialEvents(e);const o=e[0];const n=e[1];const i=this._validateConfig(n,o);if(i){this.oSchedule.oBlocks=n.LoadingBlocks;this.oSchedule.oSteps=o;this.oSchedule.aBlockOrder=n.OrderOfLoadingBlocks;this.oSchedule.iBlockIndex=0;t.setForModule(t.id.module.flpScheduler.id,t.id.module.flpScheduler.Initialized,"Schedule validated")}else{t.setForModule(t.id.module.flpScheduler.id,t.id.module.flpScheduler.WrongConfiguration,"Configuration error")}return i});return i},getNextLoadingStep:function(){let e={sStatus:a.Start,oContent:{}};if(this.oSchedule.aBlocksLoading.length===0){const t=this._startLoadingBlock();if(t){e.sStatus=a.Done;return e}}let o=true;let n=false;let i;let d;let s;let l;let c;let r;let p;let u;let S;for(let g=0;g<this.oSchedule.aBlocksLoading.length;g++){i=this.oSchedule.aBlocksLoading[g];d=this.oSchedule.oBlocks[i];s=d.iStepIndex;l=d.LoadingSteps[s];c=s===d.LoadingSteps.length-1;r=this._checkAndUpdateAsyncQueue(d);S=t.isStepLoaded(l.LoadingStep)||t.isStepSkipped(l.LoadingStep);u=t.isStepLoading(l.LoadingStep);o=r.bAllStepsDone&&S;n=r.bAStepIsLoading||u;if(u&&!l.canBeLoadedAsync||n&&c){e.sStatus=a.Wait;continue}if(!c||!S&&!u){if(S||l.canBeLoadedAsync&&u){s+=1}e=this._prepareStepForLoading(d,i,s)}if(o&&c){p=this.oSchedule.aBlocksLoading.indexOf(i);this.oSchedule.aBlocksLoading.splice(p,1);e.sStatus=a.BlockDone;t.setForLoadingBlock(i,t.id.loadingBlock.Done,"","Block removed from loading queue")}if(e.sStatus!==a.wait){break}}return e},dumpSchedule:function(){n.debug(JSON.stringify(this.oSchedule))},_adaptForSpecialEvents:function(t){const o=t[0];if(o.ConditionalWaitForAppLoading&&e.getActive()===false){o.ConditionalWaitForAppLoading={loadingMode:"waitInMs",waitInMs:{waitingTime:3e3},mandatoryShellModeAndLaunchpadStates:[{shellMode:"default",launchpadState:"app"}]};n.info("Step 'ConditionalWaitForAppLoading' was overwritten to 3 sec timeout for apps only.","FLPScheduler")}},_matchesShellModeAndLaunchpadState:function(e,t){const o=d.getLaunchpadState();const n=d.getShellMode()||"default";let i=false;if(e&&t){i=n===e&&o===t}else if(e){i=n===e}else if(t){i=o===t}return i},_loadingIsEnabled:function(e){if(Array.isArray(e.oConfig.excludedShellModeAndLaunchpadStates)){const t=e.oConfig.excludedShellModeAndLaunchpadStates.map(({shellMode:e,launchpadState:t})=>this._matchesShellModeAndLaunchpadState(e,t));if(t.some(e=>e)){return false}}if(Array.isArray(e.oConfig.mandatoryShellModeAndLaunchpadStates)&&e.oConfig.mandatoryShellModeAndLaunchpadStates.length!==0){const t=e.oConfig.mandatoryShellModeAndLaunchpadStates.map(({shellMode:e,launchpadState:t})=>this._matchesShellModeAndLaunchpadState(e,t));return t.every(e=>e)}function t(e){return e.path&&i.last(e.path)!==e.assertionValue}if(e.oConfig.configSwitch){const o=[].concat(e.oConfig.configSwitch);if(o.some(t)){return false}}return true},_checkAndUpdateAsyncQueue:function(e){const o=[];let n;let i;let d;let a=true;let s=false;if(Array.isArray(e.aAsyncStepsLoading)){for(let l=0;l<e.aAsyncStepsLoading.length;l++){d=e.aAsyncStepsLoading[l];n=t.isStepLoaded(d)||t.isStepSkipped(d);i=t.isStepLoading(d);if(i){o.push(d)}a=a&&n;s=s||i}}e.aAsyncStepsLoading=o;return{bAllStepsDone:a,bAStepIsLoading:s}},_startLoadingBlock:function(){let e=false;if(this.oSchedule.iBlockIndex<this.oSchedule.aBlockOrder.length){const e=this.oSchedule.aBlockOrder[this.oSchedule.iBlockIndex];this.oSchedule.aBlocksLoading.push(e);this.oSchedule.oBlocks[e].iStepIndex=0;this.oSchedule.oBlocks[e].aAsyncStepsLoading=[];this.oSchedule.iBlockIndex+=1;t.setForLoadingBlock(e,t.id.loadingBlock.Prepared,"","Block added to the loading queue.")}else{e=true}return e},_prepareStepForLoading:function(e,o,n){let i;const d={sStatus:a.Step,oContent:e.LoadingSteps[n],oConfig:this.oSchedule.oSteps[e.LoadingSteps[n].LoadingStep]};if(!this._loadingIsEnabled(d)){d.sStatus=a.Skipped;e.iStepIndex=n;t.setForLoadingStep(d.oContent.LoadingStep,t.id.loadingStep.Skipped,"","Step set to skipped");return d}const s=this._checkDependencies(d,o);if(s.bMissing){d.sStatus=a.Error}else if(s.bAllLoaded){t.setForLoadingStep(d.oContent.LoadingStep,t.id.loadingStep.Prepared,"","Step prepared for control unit");i=d.oContent.canBeLoadedAsync;e.iStepIndex=n;if(i){t.setForLoadingStep(d.oContent.LoadingStep,t.id.loadingStep.Prepared,"","Step set on the async loading queue");e.aAsyncStepsLoading.push(d.oContent.LoadingStep)}}else{d.sStatus=a.Wait;t.setForLoadingStep(d.oContent.LoadingStep,t.id.loadingStep.WaitingForDependencies,"","Step missing dependencies")}return d},_checkDependencies:function(e,o){const n={bAllLoaded:true,bMissing:false};if(e.oConfig.Dependencies){for(let i=0;i<e.oConfig.Dependencies.length;i++){n.bAllLoaded=n.bAllLoaded&&t.isStepLoaded(e.oConfig.Dependencies[i]);if(!t.isStepLoaded(e.oConfig.Dependencies[i])&&!t.isStepLoading(e.oConfig.Dependencies[i])){t.setForLoadingStep(e.oContent.LoadingStep,t.id.loadingStep.Aborted,e.oConfig.Dependencies[i],"Missing a dependency");t.setForLoadingBlock(o,t.id.loadingBlock.Aborted,e.oConfig.Dependencies[i],"A step is missing a dependency");t.setForModule(t.id.module.flpScheduler.id,t.id.module.flpScheduler.LoadingAborted,"Dependencies can not be resolved: a dependency isn't loading before it is required.");n.bMissing=true;n.bAllLoaded=false;break}}}return n},_validateConfig:function(e,t){const o=e&&e.OrderOfLoadingBlocks&&e.LoadingBlocks&&e.OrderOfLoadingBlocks.length&&t;if(!o){return false}const n=e.OrderOfLoadingBlocks.reduce((o,n)=>{o=o&&e.LoadingBlocks[n];if(o){const i=e.LoadingBlocks[n];let d=true;if(i.LoadingSteps){let e;for(let o=0;o<i.LoadingSteps.length;o++){e=i.LoadingSteps[o].LoadingStep;d=d&&t[e]}}o=o&&d}return!!o},true);return n}};return c},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/SchedulingAgent/logger", ["sap/base/Log"],t=>{"use strict";const e=[];let r=true;const n="FLPScheduler";return{getHistory:function(){return e},verboseOn:function(){r=true;return r===true},verboseOff:function(){r=false;return r===false},isVerboseOn:function(){return r===true},clearHistory:function(){e.length=0},dumpHistory:function(t){let r;if(t){r=e.filter(e=>e.id===t);console.table(r)}else{console.table(e)}return r||e},logError:function(r){t.error(this.stateToString(r),undefined,n);e.push(r);return true},logWarning:function(u){if(r){t.warning(this.stateToString(u),n);e.push(u)}return r},logStatus:function(u){if(r){t.info(this.stateToString(u),n);e.push(u)}return r},stateToString:function(t){return`FLP Bootstrap Scheduling Agent :: ${t.type} '${t.id}' /${t.status}${t.remark?`/ : ${t.remark}`:"/"}`}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/SchedulingAgent/state", ["sap/ushell/bootstrap/SchedulingAgent/logger","sap/base/util/now","sap/base/util/deepClone","sap/base/Log"],(t,e,o,n)=>{"use strict";const i={module:{schedulingAgent:{id:"schedulingAgent",FatalError:"FATAL_ERROR",Idle:"IDLE",Initialized:"INITIALIZED",Initializing:"INITIALIZING",Waiting:"WAITING",WokeUp:"WOKE_UP",Working:"WORKING"},state:{id:"state",FatalError:"FATAL_ERROR",Available:"AVAILABLE"},flpScheduler:{id:"flpScheduler",Initialized:"INITIALIZED",WrongConfiguration:"WRONG_CONFIGURATION",LoadingAborted:"LOADING_ABORTED"},flpLoader:{id:"flpLoader"},logger:{id:t,Block:"BLOCK",Step:"STEP",Module:"MODULE"}},loadingStep:{Prepared:"STEP_PREPARED",WaitingForDependencies:"STEP_WAITING_FOR_DEPENDENCIES",InProgress:"STEP_IN_PROGRESS",Done:"STEP_DONE",Aborted:"STEP_ABORTED",Skipped:"STEP_SKIPPED"},loadingBlock:{Prepared:"BLOCK_PREPARED",WaitingForDependencies:"BLOCK_WAITING_FOR_DEPENDENCIES",InProgress:"BLOCK_IN_PROGRESS",TimedOut:"BLOCK_TIMEDOUT",Done:"BLOCK_DONE",Aborted:"BLOCK_ABORTED"}};const d={id:i,oState:{ofLoadingBlock:{},ofLoadingStep:{},ofModule:{}},clear:function(){this.oState={ofLoadingBlock:{},ofLoadingStep:{},ofModule:{}}},getIdBase:function(){return i},setForLoadingBlock:function(o,n,d,a,s){this.oState.ofLoadingBlock[o]={time:e(),status:n,parameter:d,remark:a,byModule:s};t.logStatus({time:this.oState.ofLoadingBlock[o].time,type:i.module.logger.Block,id:o,status:n,parameter:d,remark:a,byModule:s})},getForLoadingBlock:function(t){return this.oState.ofLoadingBlock[t]},setForLoadingStep:function(o,n,d,a,s){this.oState.ofLoadingStep[o]={time:e(),status:n,parameter:d,remark:a,byModule:s};t.logStatus({time:this.oState.ofLoadingStep[o].time,type:i.module.logger.Step,id:o,status:n,parameter:d,remark:a,byModule:s})},getForLoadingStep:function(t){return this.oState.ofLoadingStep[t]},setForModule:function(o,n,d){this.oState.ofModule[o]={time:e(),status:n,remark:d,byModule:undefined};t.logStatus({time:this.oState.ofModule[o].time,type:i.module.logger.Module,id:o,status:n,parameter:undefined,remark:d,byModule:undefined})},getForModule:function(t){return this.oState.ofModule[t]},isBlockWaitingForDependencies:function(t){const e=this.getForLoadingBlock(t);return!!(e&&e.status===i.loadingBlock.WaitingForDependencies)},isBlockLoading:function(t){const e=this.getForLoadingBlock(t);return!!(e&&e.status===i.loadingBlock.InProgress)},isBlockLoaded:function(t){const e=this.getForLoadingBlock(t);return!!(e&&e.status===i.loadingBlock.Done)},isBlockLoadingAborted:function(t){const e=this.getForLoadingBlock(t);return!!(e&&e.status===i.loadingBlock.Aborted)},hasBlockLoadingTimedOut:function(t){const e=this.getForLoadingBlock(t);return!!(e&&e.status===i.loadingBlock.TimedOut)},isStepWaitingForDependencies:function(t){const e=this.getForLoadingStep(t);return!!(e&&e.status===i.loadingStep.WaitingForDependencies)},isStepLoading:function(t){const e=this.getForLoadingStep(t);return!!(e&&e.status===i.loadingStep.InProgress)},isStepLoaded:function(t){const e=this.getForLoadingStep(t);return!!(e&&e.status===i.loadingStep.Done)},isStepLoadingAborted:function(t){const e=this.getForLoadingStep(t);return!!(e&&e.status===i.loadingStep.Sborted)},isStepSkipped:function(t){const e=this.getForLoadingStep(t);return!!(e&&e.status===i.loadingStep.Skipped)},isAgentIdle:function(){const t=this.getForModule(i.module.schedulingAgent.id);return!!(t&&t.status===i.module.schedulingAgent.Idle)},isAgentWaiting:function(){const t=this.getForModule(i.module.schedulingAgent.id);return!!(t&&t.status===i.module.schedulingAgent.Waiting)},agentWokeUp:function(){const t=this.getForModule(i.module.schedulingAgent.id);return!!(t&&t.status===i.module.schedulingAgent.WokeUp)},dump:function(){n.debug(JSON.parse(JSON.stringify(this.oState)));const t=o(this.oState);return t},iStartingTime:e()};d.setForModule(i.module.state.id,i.module.state.Available);return d});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/cdm/cdm-def-dev", ["./cdm.constants","../common/common.configure.ui5","../common/common.configure.ushell","../common/common.override.registermodulepath","../common/common.configure.ui5.extractLibs","../common/common.load.bootstrapExtension","./cdm.boot.task"],(o,m,n,e,c,r,t)=>{"use strict";if(performance&&performance.mark){performance.mark("FLP first paint!")}const i=n({defaultUshellConfig:o.defaultConfig});m({ushellConfig:i,libs:c(i),platform:"cdm",bootTask:t});e();r(i)});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/cdm/cdm-def", ["./cdm.constants","../common/common.configure.ui5","../common/common.configure.ushell","../common/common.override.registermodulepath","../common/common.load.core-min","../common/common.configure.ui5.extractLibs","../common/common.load.bootstrapExtension","./cdm.boot.task"],(o,m,n,c,e,r,t,a)=>{"use strict";if(performance&&performance.mark){performance.mark("FLP first paint!")}const i=n({defaultUshellConfig:o.defaultConfig});m({ushellConfig:i,libs:r(i),platform:"cdm",bootTask:a});c();t(i);e.load(i.ushell.customPreload)});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/cdm/cdm.boot.task", ["../common/common.constants","../common/common.configure.ui5language","../common/common.configure.ui5theme","../common/common.configure.ui5datetimeformat"],(o,n,m,c)=>{"use strict";function e(e){const i=window[o.ushellConfigNamespace];n(i);m(i);c(i);e()}return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/cdm/cdm.constants", ["../common/common.util"],e=>{"use strict";return e.deepFreeze({defaultConfig:{defaultRenderer:"fiori2",ushell:{home:{tilesWrappingType:"Hyphenated"},customPreload:{enabled:true,coreResources:["sap/ushell/preload-bundles/thirdparty.js","sap/ushell/bootstrap/core-min-0.js","sap/ushell/bootstrap/core-min-1.js","sap/ushell/bootstrap/core-min-2.js","sap/ushell/bootstrap/core-min-3.js"],coreResourcesComplement:["sap/ushell/preload-bundles/core-ext-light-0.js","sap/ushell/preload-bundles/core-ext-light-1.js","sap/ushell/preload-bundles/core-ext-light-2.js","sap/ushell/preload-bundles/core-ext-light-3.js"]}},renderers:{fiori2:{componentData:{config:{sessionTimeoutReminderInMinutes:5,sessionTimeoutIntervalInMinutes:-1,sessionTimeoutTileStopRefreshIntervalInMinutes:15,enableAutomaticSignout:true,enableHideGroups:true,enablePersonalization:true,enableAbout:true,enableTagFiltering:false,enableSearch:false,searchBusinessObjects:false,enableSetTheme:true,enableAccessibility:true,enableHelp:false,enableUserDefaultParameters:true,enableRecentActivity:true,enableRecentActivityLogging:true,preloadLibrariesForRootIntent:false,applications:{"Shell-home":{enableEasyAccess:false,enableTileActionsIcon:false,enableHideGroups:false}},rootIntent:"Shell-home"}}}},services:{Container:{adapter:{config:{userProfile:{metadata:{ranges:{theme:{sap_horizon:{displayName:"SAP Morning Horizon",themeRoot:""},sap_horizon_dark:{displayName:"SAP Evening Horizon",themeRoot:""},sap_horizon_hcb:{displayName:"SAP High Contrast Black (SAP Horizon)",themeRoot:""},sap_horizon_hcw:{displayName:"SAP High Contrast White (SAP Horizon)",themeRoot:""}}}},defaults:{theme:"sap_horizon"}}}}},Personalization:{adapter:{module:"sap.ushell.adapters.local.PersonalizationAdapter"}},PersonalizationV2:{adapter:{module:"sap.ushell.adapters.local.PersonalizationAdapter"}},AppState:{adapter:{module:"sap.ushell.adapters.local.AppStateAdapter"},config:{transient:true}},NavTargetResolution:{config:{allowTestUrlComponentConfig:false,enableClientSideTargetResolution:true},adapter:{module:"sap.ushell.adapters.local.NavTargetResolutionAdapter"}},NavTargetResolutionInternal:{config:{allowTestUrlComponentConfig:false,enableClientSideTargetResolution:true},adapter:{module:"sap.ushell.adapters.local.NavTargetResolutionInternalAdapter"}},SupportTicket:{config:{enabled:false},adapter:{module:"sap.ushell.adapters.local.SupportTicketAdapter"}},UserInfo:{adapter:{module:"sap.ushell.adapters.local.UserInfoAdapter"}},UserDefaultParameterPersistence:{adapter:{module:"sap.ushell.adapters.local.UserDefaultParameterPersistenceAdapter"}},NavigationDataProvider:{adapter:{module:"sap.ushell.adapters.cdm.ClientSideTargetResolutionAdapter"}},VisualizationDataProvider:{adapter:{module:"sap.ushell.adapters.cdm.v3.FlpLaunchPageAdapter"}}},ui5:{libs:{"sap.ui.core":true,"sap.m":true,"sap.ushell":true}}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.boot.path", [],()=>{"use strict";return sap.ui.require.toUrl("")});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.boot.script", ["./common.constants"],t=>{"use strict";let e=document.getElementById(t.bootScriptId);if(!e){e=document.getElementById(t.bwcBootScriptId)}return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.boot.task", ["../common/common.constants","../common/common.configure.ui5language","../common/common.configure.ui5theme","../common/common.configure.ui5datetimeformat"],(o,n,m,c)=>{"use strict";function e(e){const i=window[o.ushellConfigNamespace];n(i);m(i);c(i);e()}return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.configure.ui5.extractLibs", ["sap/base/Log","sap/base/util/isPlainObject"],(i,u)=>{"use strict";return function e(s){if(!s||!s.ui5||!s.ui5.libs){return[]}if(!u(s.ui5.libs)){i.error("Invalid ushell configuration: /ui5/libs must be an object");return[]}return Object.keys(s.ui5.libs).filter(function(i){return this[i]},s.ui5.libs)}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.configure.ui5", ["sap/base/Log","./common.load.launchpad","./common.read.ui5theme.from.config"],(e,o,i)=>{"use strict";function t(t){if(!t||!t.libs||!Array.isArray(t.libs)){e.error("Mandatory settings object not provided",null,"sap/ushell/bootstap/common/common.configure.ui5");return{}}const n=window["sap-ui-config"]||(window["sap-ui-config"]={});const a=t&&t.platform;const s=t&&t.platformAdapters;const r=t.ushellConfig;const l=t.theme?t.theme:i(r).theme;const c=t.themeRoots;if(r&&r.modulePaths){const e=Object.keys(r.modulePaths).reduce((e,o)=>{e[o.replace(/\./g,"/")]=r.modulePaths[o];return e},{});sap.ui.loader.config({paths:e})}const u=n.oninit;n.oninit=function(){if(typeof u==="string"){const o=/^module:((?:[_$.\-a-zA-Z0-9]+\/)*[_$.\-a-zA-Z0-9]+)$/.exec(u);if(o&&o[1]){sap.ui.require([o[1]])}else{e.error(`Given onInit module (${u}) cannot be loaded.`)}}sap.ui.require(["sap/ushell/Container"],e=>{e.init(a,s).then(()=>{(t.onInitCallback||o)()})})};n.preload="async";n.compatversion="edge";n.libs=t.libs.join();n.theme=l;if(c){n["theme-roots"]??={};for(const[e,o]of Object.entries(c)){n["theme-roots"][e]=o}}n["xx-boottask"]=t.bootTask;n.calendarWeekNumbering=r?.services?.Container?.adapter?.config?.calendarWeekNumbering||"Default";if(r&&r.ushell&&r.ushell.verticalization&&r.ushell.verticalization.activeTerminologies&&r.ushell.verticalization.activeTerminologies.length>0){n.activeterminologies=r.ushell.verticalization.activeTerminologies}return n}return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.configure.ui5datetimeformat", ["sap/base/i18n/Formatting","sap/base/Log","sap/base/util/ObjectPath"],(t,e,o)=>{"use strict";function r(r){const a=o.get("services.Container.adapter.config.userProfile.defaults",r);const s="Date Format is incorrectly set for the User";const c="Time Format is incorrectly set for the User";try{const e=a&&a.sapDateFormat;t.setABAPDateFormat(e)}catch(t){e.error(s,t,"sap/ushell/bootstrap/common/common.configure.ui5datetimeformat")}try{const e=a&&a.sapTimeFormat;t.setABAPTimeFormat(e)}catch(t){e.error(c,t,"sap/ushell/bootstrap/common/common.configure.ui5datetimeformat")}}return r},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.configure.ui5language", ["sap/base/i18n/Localization","sap/base/util/ObjectPath"],(e,a)=>{"use strict";function t(t){const s=a.get("services.Container.adapter.config.userProfile.defaults",t);const i=s&&s.languageBcp47;if(i){e.setLanguage(i)}}return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.configure.ui5theme", ["./common.read.ui5theme.from.config","sap/base/util/ObjectPath","sap/base/Log"],(e,t,o)=>{"use strict";function r(e){const o=t.get("services.Container.adapter.config.userProfile.metadata.ranges.theme",e);if(!o){return}t.create("services.UserInfo.adapter.config.themes",e);e.services.UserInfo.adapter.config.themes=Object.keys(o).map(e=>({id:e,name:o[e].displayName,root:o[e].themeRoot}))}function s(s){const a=t.get("services.Container.adapter.config",s);const i=e(s);r(s);if(i.theme){a.userProfile.defaults.bootTheme=i}else{const e=t.get("userProfile.defaults.theme",a);const r=t.get("userProfilePersonalization.theme",a);o.error(`No valid boot theme could be determined: personalizedTheme = '${r}' default theme = '${e}'`,null,"common.configure.ui5theme")}}return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.configure.ushell", ["./common.constants","./common.debug.mode","./common.read.metatags","./common.util","./common.read.ushell.config.from.url","sap/base/util/ObjectPath","sap/base/Log","sap/base/util/extend"],(e,n,s,t,o,i,a,c)=>{"use strict";function l(e,n){if(!e||!n){return}const s=i.get(n,e);if(s&&s.items){c(s,s.items);delete s.items;delete s.__metadata}}function r(n,s,i,c){const l=e.ushellConfigNamespace;n=n||[];s=s||{};c=c||[];const r=window[l]||{};const u=o.getConfig()||{};const f=[r,s,...n,...c,u].reduce((e,n)=>{const s=t.getV2ServiceMigrationConfig(n);t.mergeConfig(e,s,true);t.mergeConfig(e,n,true);return e},{});f["sap-ui-debug"]=i;window[l]=f;a.info("finally applied sap-ushell-config",JSON.stringify(f),"sap/ushell/bootstrap/common/common.boot.script")}function u(e){const n=i.get("ushell.spaces.configurable",e);if(n){const n=i.get("services.Container.adapter.config.userProfilePersonalization.spacesEnabled",e);if(n===true){i.set("ushell.spaces.enabled",true,e)}else if(n===false){i.set("ushell.spaces.enabled",false,e)}}}function f(t){const o=t?.defaultUshellConfig;const i=s.readMetaTags(e.configMetaPrefix);r(i,o,n.isDebug(),null);const a=window[e.ushellConfigNamespace];l(a,"services.Container.adapter.config.userProfilePersonalization");u(a);return a}return f});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.constants", [],()=>{"use strict";return{uiDebugKey:"sap-ui-debug",bootScriptId:"sap-ui-bootstrap",bwcBootScriptId:"sap-ushell-bootstrap",configMetaPrefix:"sap.ushellConfig",ushellConfigNamespace:"sap-ushell-config"}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.create.configcontract.core", ["sap/base/util/ObjectPath","sap/ushell/bootstrap/common/common.debug.mode","sap/base/util/deepExtend"],(e,n,a)=>{"use strict";const o={};const s=new URLSearchParams(document.location.search);function i(i){const l={};function r(e,n){const a=n.split("/");const o=a.slice(0,a.length-1).join("/");const s=a.pop();if(e.hasOwnProperty(o)){return e[o][s]}const l=a.reduce((e,n)=>{if(!e||!e.hasOwnProperty(n)){return{}}return e[n]},i);e[o]=l;return l[s]}function t(e,n){const a=r(l,e);o[e]=n;return a!==undefined?a:n}function c(){return t("renderers/fiori2/componentData/config/enablePersonalization",t("renderers/fiori2/componentData/config/applications/Shell-home/enablePersonalization",true))}function u(){let e=t("renderers/fiori2/componentData/config/rootIntent","");if(e){e=`#${e}`}return e}function d(){return t("ushell/spaces/enabled",false)&&!!t("ushell/homeApp/component",false)}const p=t("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccess",true);const f={enableEasyAccessOnTablet:t("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessUserMenuOnTablet",false),enableEasyAccessSAPMenu:t("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessSAPMenu",p),enableEasyAccessSAPMenuSearch:t("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessSAPMenuSearch",true),enableEasyAccessUserMenu:t("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessUserMenu",p),enableEasyAccessUserMenuSearch:t("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessUserMenuSearch",true)};function h(e){if(p===true){return f[e]?f[`${e}Search`]:false}return false}function m(e){if(typeof e!=="string"){return[]}return e.split(",").map(e=>e.trim())}function g(){return{name:"sap.ushell.components.workPageRuntime",asyncHints:{preloadBundles:["sap/ushell/preload-bundles/workpage-rt-common.js","sap/ushell/preload-bundles/workpage-rt-0.js","sap/ushell/preload-bundles/workpage-rt-1.js","sap/ushell/preload-bundles/workpage-rt-2.js","sap/ushell/preload-bundles/workpage-rt-3.js"]}}}function b(){const n={};e.set("spaces.enabled",true,n);if(t("ushell/menu/position")==="Side"){e.set("spaces.selectable",false,n)}else{e.set("spaces.selectable",true,n);e.set("favorites.enabled",true,n)}if(t("ushell/sideNavigation/mode")==="Docked"||t("ushell/menu/position")==="Side"){e.set("spaces.defaultIcon","sap-icon://document-text",n)}return JSON.stringify(n)}function S(){return t("ushell/menu/personalization/enabled",false)}function v(){const n={};if(t("ushell/menu/position")!=="Side"){e.set("spaces.personalization.enabled",S(),n)}return JSON.stringify(n)}function A(){const e=t("ushell/spaces/enabled",false);if(!e){return false}return t("ushell/sideNavigation/enabled",false)||t("ushell/menu/position")==="Side"}const P={core:{site:{siteId:t("ushell/site/siteId",null),sapCdmVersion:t("ushell/site/sapCdmVersion",null)},extension:{dap:{pluginName:t("ushell/extension/dap/pluginName","DAP_PLUGIN"),enabled:t("ushell/extension/dap/enabled",true)},enableHelp:t("renderers/fiori2/componentData/config/enableHelp",false),SupportTicket:t("services/SupportTicket/config/enabled",false)},services:{allMyApps:{enabled:t("services/AllMyApps/config/enabled",true),showHomePageApps:t("services/AllMyApps/config/showHomePageApps",true),showCatalogApps:t("services/AllMyApps/config/showCatalogApps",true)}},navigation:{enableInPlaceForClassicUIs:{GUI:t("services/ClientSideTargetResolution/config/enableInPlaceForClassicUIs/GUI",false),WDA:t("services/ClientSideTargetResolution/config/enableInPlaceForClassicUIs/WDA",false),WCF:t("services/ClientSideTargetResolution/config/enableInPlaceForClassicUIs/WCF",true)},enableWebguiLocalResolution:true,enableWdaLocalResolution:true,flpURLDetectionPattern:t("services/ClientSideTargetResolution/config/flpURLDetectionPattern","[/]FioriLaunchpad.html[^#]+#[^-]+?-[^-]+"),enableWdaCompatibilityMode:t("ushell/navigation/wdaCompatibilityMode",false)},spaces:{enabled:t("ushell/spaces/enabled",false),configurable:t("ushell/spaces/configurable",false),myHome:{userEnabled:true,enabled:t("startupConfig/spacesMyhome",false)||d(),myHomeSpaceId:t("startupConfig/spacesMyhomeSpaceid",null),myHomePageId:t("startupConfig/spacesMyhomePageid",null),presetSectionId:"3WO90XZ1DX1AS32M7ZM9NBXEF"},hideEmptySpaces:{enabled:t("ushell/spaces/enabled",false)&&t("ushell/spaces/hideEmptySpaces/enabled",false),userEnabled:true},extendedChangeDetection:{enabled:t("ushell/spaces/extendedChangeDetection/enabled",true)},homeNavigationTarget:t("renderers/fiori2/componentData/config/homeNavigationTarget",undefined),currentSpaceAndPage:undefined},workPages:{enabled:t("ushell/spaces/enabled",false)&&t("ushell/workPages/enabled",false),defaultComponent:g(),component:t("ushell/workPages/component",a(g(),{addCoreResourcesComplement:false})),contentApiUrl:t("ushell/workPages/contentApiUrl","/cep/content"),tileCard:t("ushell/workPages/tileCard",!!s.get("sap-ushell-tilecard")),customTileCard:t("ushell/workPages/customTileCard",!!s.get("sap-ushell-customtilecard")),myHome:{pageId:t("ushell/spaces/myHome/myHomePageId",null)},runtimeSwitcher:t("ushell/workPages/runtimeSwitcher",t("ushell/spaces/myHome/myHomePageId",null)===null),contentFinderStandalone:t("core/workPages/contentFinderStandalone",true)&&t("ushell/workPages/enabled",false)},shellBar:{enabled:t("ushell/shellBar/enabled",false)},searchCEPNew:{enabled:t("ushell/searchCEPNew/enabled",false)},homeApp:{enabled:d(),component:t("ushell/homeApp/component",{})},sideNavigation:{enabled:A(),mode:t("ushell/sideNavigation/mode","Docked"),navigationListProvider:{modulePath:t("ushell/sideNavigation/navigationListProvider/modulePath",t("ushell/menu/position")==="Side"?"sap/ushell/components/shell/SideNavigation/modules/SpacesNavigationListProvider":"sap/ushell/components/shell/SideNavigation/modules/GenericNavigationListProvider"),configuration:t("ushell/sideNavigation/navigationListProvider/configuration",b())},fixedNavigationListProvider:{modulePath:t("ushell/sideNavigation/fixedNavigationListProvider/modulePath",t("ushell/menu/position")==="Side"?"":"sap/ushell/components/shell/SideNavigation/modules/GenericFixedNavigationListProvider"),configuration:t("ushell/sideNavigation/fixedNavigationListProvider/configuration",v())}},notifications:{enabled:t("ushell/notifications/enabled",false)},menu:{enabled:t("ushell/spaces/enabled",false)&&t("ushell/menu/enabled",!t("ushell/menu/position")||t("ushell/menu/position")==="Top"),personalization:{enabled:S(),showNavigationBarMenuButton:t("ushell/menu/personalization/showNavigationBarMenuButton",S()&&!A())},visibleInAllStates:t("ushell/menu/visibleInAllStates",false)},darkMode:{enabled:t("ushell/darkMode/enabled",false),supportedThemes:t("ushell/darkMode/supportedThemes",[{dark:"sap_fiori_3_dark",light:"sap_fiori_3"},{dark:"sap_fiori_3_hcb",light:"sap_fiori_3_hcw"},{dark:"sap_horizon_dark",light:"sap_horizon"},{dark:"sap_horizon_hcb",light:"sap_horizon_hcw"}])},contentProviders:{providerInfo:{enabled:t("ushell/contentProviders/providerInfo/enabled",false),userConfigurable:t("ushell/contentProviders/providerInfo/enabled",false)&&t("ushell/contentProviders/providerInfo/userConfigurable",false),showContentProviderInfoOnVisualizations:t("ushell/contentProviders/providerInfo/enabled",false)&&t("ushell/contentProviders/providerInfo/userConfigurable",false)}},productSwitch:{enabled:!!t("ushell/productSwitch/url",""),url:t("ushell/productSwitch/url","")},shellHeader:{rootIntent:t("renderers/fiori2/componentData/config/rootIntent",""),homeUri:u()},companyLogo:{accessibleText:t("ushell/companyLogo/accessibleText",""),url:t("ushell/companyLogo/url","")},userPreferences:{dialogTitle:"Settings",isDetailedEntryMode:false,activeEntryPath:null,entries:[],profiling:[]},userSettings:{displayUserId:t("renderers/fiori2/componentData/config/displayUserId",false)},userActionsMenu:{displayUserId:t("ushell/userActionsMenu/displayUserId",false),displayAvatar:t("ushell/userActionsMenu/displayAvatar",false)},shell:{cacheConfiguration:t("renderers/fiori2/componentData/config/cacheConfiguration",{}),enableAbout:t("renderers/fiori2/componentData/config/enableAbout",true),enablePersonalization:c(),enableRecentActivity:t("renderers/fiori2/componentData/config/enableRecentActivity",true),enableRecentActivityLogging:t("renderers/fiori2/componentData/config/enableRecentActivityLogging",true),enableFiori3:true,sessionTimeoutIntervalInMinutes:t("renderers/fiori2/componentData/config/sessionTimeoutIntervalInMinutes",-1),enableFeaturePolicyInIframes:t("renderers/fiori2/componentData/config/enableFeaturePolicyInIframes",true),enableOpenIframeWithPost:t("renderers/fiori2/componentData/config/enableOpenIframeWithPost",true),favIcon:t("renderers/fiori2/componentData/config/favIcon",undefined),enableMessageBroker:t("services/MessageBroker/config/enabled",true),enablePersistantAppstateWhenSharing:t("services/AppState/config/persistentWhenShared",false),homePageTitle:t("ushell/header/title/home",""),windowTitleExtension:t("ushell/window/title/extension",""),useAppTitleFromNavTargetResolution:m(t("ushell/useAppTitleFromNavTargetResolution")),intentNavigation:t("ushell/intentNavigation",false),model:{enableSAPCopilotWindowDocking:undefined,personalization:undefined,contentDensity:undefined,setTheme:undefined,userDefaultParameters:undefined,disableHomeAppCache:undefined,enableHelp:undefined,enableTrackingActivity:undefined,searchAvailable:false,searchFiltering:true,searchTerm:"",isPhoneWidth:false,enableNotifications:t("services/NotificationsV2/config/enabled",t("services/Notifications/config/enabled",false)),enableNotificationsUI:false,notificationsCount:0,currentViewPortState:"Center",migrationConfig:undefined,shellAppTitleState:"",allMyAppsMasterLevel:undefined,userStatus:undefined,userStatusUserEnabled:true,shellAppTitleData:{currentViewInPopover:"navigationMenu",enabled:false,showGroupsApps:false,showCatalogsApps:false,showExternalProvidersApps:false},userImage:{personPlaceHolder:null,account:"sap-icon://account"},showRecentActivity:true}},state:{shellMode:t("renderers/fiori2/componentData/config/appState","")},home:{disableSortedLockedGroups:t("renderers/fiori2/componentData/config/applications/Shell-home/disableSortedLockedGroups",false),draggedTileLinkPersonalizationSupported:true,editTitle:false,enableHomePageSettings:t("renderers/fiori2/componentData/config/applications/Shell-home/enableHomePageSettings",true),enableRenameLockedGroup:t("renderers/fiori2/componentData/config/applications/Shell-home/enableRenameLockedGroup",false),enableTileActionsIcon:t("renderers/fiori2/componentData/config/enableTileActionsIcon",t("renderers/fiori2/componentData/config/applications/Shell-home/enableTileActionsIcon",false)),enableTransientMode:t("ushell/home/enableTransientMode",false),featuredGroup:{enable:t("ushell/home/featuredGroup/enable",false),frequentCard:t("ushell/home/featuredGroup/frequentCard",true)&&t("ushell/home/featuredGroup/enable",false),recentCard:t("ushell/home/featuredGroup/recentCard",true)&&t("ushell/home/featuredGroup/enable",false)},homePageGroupDisplay:t("renderers/fiori2/componentData/config/applications/Shell-home/homePageGroupDisplay","scroll"),isInDrag:false,optimizeTileLoadingThreshold:t("renderers/fiori2/componentData/config/applications/Shell-home/optimizeTileLoadingThreshold",100),sizeBehavior:t("renderers/fiori2/componentData/config/sizeBehavior","Responsive"),sizeBehaviorConfigurable:t("renderers/fiori2/componentData/config/sizeBehaviorConfigurable",false),wrappingType:t("ushell/home/tilesWrappingType","Normal"),segments:t("renderers/fiori2/componentData/config/applications/Shell-home/segments",undefined),tileActionModeActive:false},catalog:{enabled:c()||t("renderers/fiori2/componentData/config/enableAppFinder",false),appFinderDisplayMode:t("renderers/fiori2/componentData/config/applications/Shell-home/AppFinderDisplayMode",t("renderers/fiori2/componentData/config/applications/Shell-home/appFinderDisplayMode",undefined)),easyAccessNumbersOfLevels:t("renderers/fiori2/componentData/config/applications/Shell-home/easyAccessNumbersOfLevels",undefined),enableCatalogSearch:t("renderers/fiori2/componentData/config/enableSearchFiltering",t("renderers/fiori2/componentData/config/applications/Shell-home/enableSearchFiltering",t("renderers/fiori2/componentData/config/applications/Shell-home/enableCatalogSearch",true))),enableCatalogSelection:t("renderers/fiori2/componentData/config/enableCatalogSelection",t("renderers/fiori2/componentData/config/applications/Shell-home/enableCatalogSelection",true)),enableCatalogTagFilter:t("renderers/fiori2/componentData/config/applications/Shell-home/enableTagFiltering",t("renderers/fiori2/componentData/config/applications/Shell-home/enableCatalogTagFilter",true)),enableEasyAccess:p,enableEasyAccessSAPMenu:p?f.enableEasyAccessSAPMenu:false,enableEasyAccessOnTablet:p?f.enableEasyAccessOnTablet:false,enableEasyAccessSAPMenuSearch:h("enableEasyAccessSAPMenu"),enableEasyAccessUserMenu:p?f.enableEasyAccessUserMenu:false,enableEasyAccessUserMenuSearch:h("enableEasyAccessUserMenu"),enableHideGroups:t("renderers/fiori2/componentData/config/enableHideGroups",t("renderers/fiori2/componentData/config/applications/Shell-home/enableHideGroups",true)),sapMenuServiceUrl:undefined,userMenuServiceUrl:t("renderers/fiori2/componentData/config/applications/Shell-home/userMenuServiceUrl",undefined)},esearch:{defaultSearchScopeApps:t("renderers/fiori2/componentData/config/esearch/defaultSearchScopeApps",false),searchBusinessObjects:t("renderers/fiori2/componentData/config/esearch/searchBusinessObjects",true),searchScopeWithoutAll:t("renderers/fiori2/componentData/config/esearch/searchScopeWithoutAll",false)},customPreload:{enabled:!n.isDebug()&&t("ushell/customPreload/enabled",false),coreResourcesComplement:t("ushell/customPreload/coreResourcesComplement",[])},ui5:{timeZoneFromServerInUI5:t("ui5/timeZoneFromServerInUI5",false)},uiTracer:{enabled:t("services/UITracer/config/enabled",false)}}};return P}function l(){return o}return{createConfigContract:i,getDefaultConfiguration:l}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.debug.mode", ["./common.constants"],t=>{"use strict";let e;let u=/[?&]sap-ui-debug=(true|x|X)(&|$)/.test(window.location.search);if(!u){try{e=window.localStorage.getItem(t.uiDebugKey);u=!!e&&/^(true|x|X)$/.test(e)}catch{}}return{isDebug:function(){return u}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.load.bootstrapExtension", ["sap/base/util/ObjectPath"],e=>{"use strict";function t(t){let i=e.get("bootstrap.extensionModule",t);if(!i||typeof i!=="string"){return}i=i.replace(/\./g,"/");sap.ui.require([i],e=>{if(e&&typeof e==="function"){e()}})}return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.load.core-min", ["sap/base/Log","./common.debug.mode","./common.load.script"],(e,o,r)=>{"use strict";const t={};t.load=function(t){if(typeof t!=="object"){throw new Error("Mandatory preload bundle configuration is not provided")}if(o.isDebug()||t.enabled===false){if(t.enabled===false){e.error("Disabling the custom preload bundles is not yet supported and might fail.")}sap.ui.require(["sap/ui/core/Core"],e=>{e.boot()});return}if(t.enabled===false){throw new Error("Disabling the custom preload bundles is not yet supported")}const i=t&&t.coreResources||[];i.forEach(e=>{r.loadScript(sap.ui.require.toUrl(e))})};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.load.launchpad", [],()=>{"use strict";function e(e){sap.ui.require(["sap/ushell/iconfonts","sap/ushell/services/AppConfiguration","sap/ushell/Container"],(n,r,s)=>{s.createRendererInternal(null).then(n=>{n.placeAt(e||"canvas","only")});n.registerFiori2IconFont()})}return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.load.model", ["sap/base/i18n/Localization","sap/base/util/extend","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ushell/Config"],(e,n,t,i,s)=>{"use strict";let a;function o(){const o=s.last("/core");let l={groups:[],rtl:e.getRTL(),personalization:o.shell.enablePersonalization,tagList:[],selectedTags:[],userPreferences:{entries:[]},enableHelp:o.extension.enableHelp,enableTileActionsIcon:t.system.desktop?o.home.enableTileActionsIcon:false};l=n({},o.catalog,o.home,l);a=new i(l);a.setSizeLimit(1e4)}function l(e){a.setProperty("/isPhoneWidth",!e.matches)}function c(){const e=window.matchMedia("(min-width: 800px)");if(e.addListener){e.addListener(l);l(e)}}return{getModel:function(){if(!a){o();c()}return a}}},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.load.script", [],()=>{"use strict";function e(e,r,t,n){return new Promise((i,d)=>{function o(r){r.target.removeEventListener("load",o);r.target.removeEventListener("error",o);if(r.type==="error"){d(new Error(`Failed to load script: ${e}`))}i()}const a=document.createElement("script");a.src=e;a.async=!!n;a.addEventListener("load",o);a.addEventListener("error",o);if(r){a.id=r}if(t){a.setAttribute("defer","")}document.head.appendChild(a)})}return{loadScript:e}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.override.registermodulepath", ["jquery.sap.global","sap/ui/thirdparty/URI"],(jQuery,t)=>{"use strict";function e(e){let n;let r;let i;function u(e){const n=new t(e);const r=n.path();if(n.is("absolute")){return false}if(r&&r.charAt(0)==="/"){return false}return true}if(typeof e!=="string"||e===""||u(e)){return e}const f=e.match(/(.*)(\/~[\w-]+~[A-Z0-9]?)(.*)/);if(f){n=f[1];r=f[2];i=f[3]}function o(e){return new t(e).normalizePathname().toString()}function s(e){const n=new t(e).segment();let r;let i=0;for(r=0;r<n.length&&i>=0;r+=1){if(n[r]===".."){i=i-1}else{i=i+1}}return i<0}if(r){if(i&&s(i)){e=n+i}}return o(e)}function n(){(function(){const t=jQuery.sap.registerModulePath;jQuery.sap.registerModulePath=function(n,r){if(typeof r==="object"){r.url=e(r.url)}else if(typeof r==="string"){r=e(r)}t(n,r)}})()}return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.read.metatags", ["sap/base/Log"],t=>{"use strict";function e(e,a){const o=`meta[name^='${e}']:not([name=''])`;const r=document.querySelectorAll(o);const n="sap/ushell/bootstrap/common/common.read.metatags";const s=[];a=a||JSON.parse;Array.prototype.forEach.call(r,e=>{try{s.push(a(e.content))}catch(e){t.error("Metatag Read failed",e,n)}});return s}return{readMetaTags:e}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.read.ui5theme.from.config", ["sap/base/util/ObjectPath"],e=>{"use strict";function t(t){const o=e.get("services.Container.adapter.config",t);return{sDefaultTheme:e.get("userProfile.defaults.theme",o),sPersonalizedTheme:e.get("userProfilePersonalization.theme",o),oRangeTheme:e.get("userProfile.metadata.ranges.theme",o)}}function o(e){const o=t(e);const n=o.sPersonalizedTheme;const s=o.oRangeTheme;const r=o.sDefaultTheme;if(o.oRangeTheme){if(Object.keys(s).indexOf(n)>-1){const e=s[n]||{};return{theme:n,root:e.themeRoot}}const e=s[r]||{};return{theme:r,root:e.themeRoot}}const a=n||r;return{theme:a,root:""}}return o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.read.ushell.config.from.url", ["sap/base/Log","sap/base/util/ObjectPath"],(e,r)=>{"use strict";const n={"renderers/fiori2/componentData/config/enablePersonalization":[true],"renderers/fiori2/componentData/config/sessionTimeoutReminderInMinutes":[],"renderers/fiori2/componentData/config/sessionTimeoutIntervalInMinutes":[],"renderers/fiori2/componentData/config/sessionTimeoutTileStopRefreshIntervalInMinutes":[],"renderers/fiori2/componentData/config/enableAutomaticSignout":[false],"services/Container/adapter/config/id":[],"services/Container/adapter/config/firstName":[],"services/Container/adapter/config/lastName":[],"services/Container/adapter/config/fullName":[],"services/Container/adapter/config/userProfile/defaults/id":[],"services/Container/adapter/config/userProfile/defaults/firstName":[],"services/Container/adapter/config/userProfile/defaults/lastName":[],"services/Container/adapter/config/userProfile/defaults/fullName":[],"services/NavTargetResolution/config/usageRecorder/serviceUrl":[],"services/NavTargetResolutionInternal/config/usageRecorder/serviceUrl":[]};function t(e,r){let n="";if(r.namespace){n=`${r.namespace}/`}n+=r.propertyName;const t=e[n];if(!t){return false}if(Array.isArray(t)){if(t.length===0){return true}for(let e=0;e<t.length;e++){if(t[e]===r.value){return true}}return false}throw new Error(`Block list entry "${n}" has an unknown type`)}function i(e){if(e==="false"){return false}if(e==="true"){return true}const r=Number.parseFloat(e);if(!Number.isNaN(r)){return r}return e}function a(a){const o={};const s=a.search.replaceAll("+"," ");const c=/[?&]sap-ushell-xx-overwrite-config=([^&]*)(&|$)/.exec(s);if(c===null){return{}}const l=decodeURIComponent(c[1]).split(/(?<!\\),/).map(e=>e.replaceAll("\\,",","));const f=l.reduce((r,a)=>{const o=a.split(/(?<!\\):/).map(e=>e.replaceAll("\\:",":"));const s=/^\/?(.*)\/([^/]*)$/.exec(o[0]);if(s===null){e.warning(`Ignoring invalid parameter for "sap-ushell-xx-overwrite-config": "${o[0]}"`);return r}const c={namespace:s[1],propertyName:s[2],value:i(o[1])};if(t(n,c)){e.warning(`Ignoring restricted parameter for "sap-ushell-xx-overwrite-config": "${o[0]}"`);return r}r.push(c);return r},[]);f.forEach(e=>{const n=e.value;const t=e.namespace.replace(/\//g,".");let i=r.get(t,o);if(i===undefined){r.set(t,{},o);i=r.get(t,o)}i[e.propertyName]=n});return o}return{getConfig:a.bind(null,window.location),_getConfigFromWindowLocation:a,_isBlockListed:t}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.util", ["sap/base/Log","sap/base/util/ObjectPath"],(e,t)=>{"use strict";const o=Object.getOwnPropertyNames(Object.prototype);function i(e){Object.keys(e).filter(t=>typeof e[t]==="object").forEach(t=>{e[t]=i(e[t])});return Object.freeze(e)}function s(){return`${location.protocol}//${location.host}`}function r(e){if(typeof e==="string"&&e.charAt(e.length-1)!=="/"){return`${e}/`}return e}function n(e,t,i){if(!t){return}const s=i?JSON.parse(JSON.stringify(t)):t;Object.keys(s).forEach(t=>{if(o.includes(t)){return}if(typeof e[t]==="object"&&typeof s[t]==="object"){n(e[t],s[t],false);return}e[t]=s[t]})}function a(t){const o=t||window.location.search;let i=/sap-statistics=(true|x|X)/.test(o);if(!i){try{i=window.localStorage.getItem("sap-ui-statistics")==="X"}catch(t){e.warning("failed to read sap-statistics setting from local storage",t,"sap.ushell.bootstrap.common.common.util")}}return!!i}function c(o){window["sap-ushell-config-migration"]=true;[{from:"services.Bookmark",to:"services.BookmarkV2"},{from:"services.CrossApplicationNavigation",to:"services.Navigation"},{from:"services.Notifications",to:"services.NotificationsV2"},{from:"services.Personalization",to:"services.PersonalizationV2"},{from:"services.LaunchPage",to:"services.FlpLaunchPage"},{from:"services.ShellNavigation",to:"services.ShellNavigationInternal"},{from:"services.NavTargetResolution",to:"services.NavTargetResolutionInternal"}].forEach(i=>{const s=i.from.split(".")[1];const r=t.get(i.from,o);const n=t.get(i.to,o);if(r&&!n){e.warning(`The service config for ${i.from} is migrated to ${i.to}`,"common.util");const n={...r};if(n.module===`sap.ushell.services.${s}`){delete n.module}t.set(i.to,n,o)}})}function f(o){window["sap-ushell-config-migration"]=true;const i={};[{from:"services.Bookmark",to:"services.BookmarkV2"},{from:"services.CrossApplicationNavigation",to:"services.Navigation"},{from:"services.Notifications",to:"services.NotificationsV2"},{from:"services.Personalization",to:"services.PersonalizationV2"},{from:"services.LaunchPage",to:"services.FlpLaunchPage"},{from:"services.ShellNavigation",to:"services.ShellNavigationInternal"},{from:"services.NavTargetResolution",to:"services.NavTargetResolutionInternal"}].forEach(s=>{const r=s.from.split(".")[1];const n=t.get(s.from,o);const a=t.get(s.to,o);if(n&&!a){e.warning(`The service config for ${s.from} is migrated to ${s.to}`,"common.util");const o={...n};if(o.module===`sap.ushell.services.${r}`){delete o.module}t.set(s.to,o,i)}});return JSON.parse(JSON.stringify(i))}return{deepFreeze:i,getLocationOrigin:s,ensureTrailingSlash:r,mergeConfig:n,isSapStatisticsSet:a,migrateV2ServiceConfig:c,getV2ServiceMigrationConfig:f}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/sandbox2/sandboxBootTask", ["sap/ushell/bootstrap/sandbox2/sandbox"],s=>{"use strict";return{async run(){return s.bootstrap()}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/CatalogsManager", ["sap/ui/base/Object","sap/ui/core/EventBus","sap/ushell/ui/launchpad/TileStateInternal","sap/ushell/EventHub","sap/ushell/utils","sap/ushell/components/DestroyHelper","sap/ushell/components/GroupsHelper","sap/ushell/components/MessagingHelper","sap/ushell/components/HomepageManager","sap/ushell/resources","sap/ui/thirdparty/jquery","sap/ui/performance/Measurement","sap/base/Log","sap/ushell/Config","sap/ushell/adapters/cdm/v3/_LaunchPage/readUtils","sap/ushell/Container"],(e,t,o,a,s,i,n,l,r,g,jQuery,c,u,h,d,p)=>{"use strict";let P;const T=e.extend("sap.ushell.components.CatalogsManager",{metadata:{publicMethods:["createGroup","createGroupAndSaveTile","createTile","deleteCatalogTileFromGroup","notifyOnActionFailure","resetAssociationOnFailure"]},analyticsConstants:{PERSONALIZATION:"FLP: Personalization",RENAME_GROUP:"FLP: Rename Group",MOVE_GROUP:"FLP: Move Group",DELETE_GROUP:"FLP: Delete Group",RESET_GROUP:"FLP: Reset Group",DELETE_TILE:"FLP: Delete Tile",ADD_TILE:"FLP: Add Tile",MOVE_TILE:"FLP: Move Tile"},_aDoables:[],constructor:function(e,t){this.oLaunchPageServicePromise=p.getServiceAsync("FlpLaunchPage").then(e=>{this.oLaunchPageService=e;return e});this.oTileCatalogToGroupsMap={};this.tagsPool=[];this.iInitialLoad=100;this.oModel=t.model;if(!h.last("/core/spaces/enabled")){const e={model:this.oModel};this.oHomepageManager=r.prototype.getInstance();if(!this.oHomepageManager){this.oHomepageManager=new r("dashboardMgr",e)}}P=this.getInterface();this.registerEvents()},registerEvents:function(){const e=t.getInstance();e.subscribe("renderCatalog",this.loadAllCatalogs,this);this._aDoables=[];this._aDoables.push(a.on("showCatalog").do(this.updateTilesAssociation.bind(this)));this._aDoables.push(a.on("updateGroups").do(this.updateTilesAssociation.bind(this)))},unregisterEvents:function(){const e=t.getInstance();e.unsubscribe("renderCatalog",this.loadAllCatalogs,this);this._aDoables.forEach(e=>{e.off()});this._aDoables=[]},getModel:function(){return this.oModel},loadAllCatalogs:function(){let e=new jQuery.Deferred;const t=this;e.resolve();function o(){e.done(()=>{const e=t.getModel().getProperty("/groups");if(e&&e.length!==0){t.updateTilesAssociation()}})}if(!this.oModel.getProperty("/catalogs")){if(!this.oModel.getProperty("/groups")||this.oModel.getProperty("/groups").length===0){if(!h.last("/core/spaces/enabled")){e=this.oHomepageManager.loadPersonalizedGroups()}}i.destroyFLPAggregationModels(this.oModel.getProperty("/catalogs"));i.destroyTileModels(this.oModel.getProperty("/catalogTiles"));this.oModel.setProperty("/catalogs",[]);this.oModel.setProperty("/catalogSearchEntity",{appBoxes:[],customTiles:[]});this.aPromises=[];c.start("FLP:DashboardManager.GetCatalogsRequest","GetCatalogsRequest","FLP");c.start("FLP:DashboardManager.getCatalogTiles","getCatalogTiles","FLP");c.pause("FLP:DashboardManager.getCatalogTiles");c.start("FLP:DashboardManager.BuildCatalogModelWithRendering","BuildCatalogModelWithRendering","FLP");c.pause("FLP:DashboardManager.BuildCatalogModelWithRendering");this.oLaunchPageServicePromise.then(e=>{e.getCatalogs().done(e=>{const t=e.slice(0,this.iInitialLoad);c.end("FLP:DashboardManager.GetCatalogsRequest");this.aPromises=t.map(this.addCatalogToModel.bind(this));Promise.all(this.aPromises).then(this.processPendingCatalogs.bind(this)).then(()=>{this.aPromises=e.slice(this.iInitialLoad).map(this.addCatalogToModel.bind(this));Promise.all(this.aPromises).then(this.processPendingCatalogs.bind(this))}).then(this.onDoneLoadingCatalogs.bind(this,e)).then(o)}).fail(l.showLocalizedErrorHelper("fail_to_load_catalog_msg"))})}else{o()}},updateTilesAssociation:function(){this.mapCatalogTilesToGroups();this.updateCatalogTilesToGroupsMap()},mapCatalogTilesToGroups:function(){const e=this;this.oTileCatalogToGroupsMap={};const t=this.oModel.getProperty("/groups");t.forEach(t=>{["tiles","links"].forEach(o=>{const a=t[o];if(a){for(let o=0;o<a.length;++o){const s=encodeURIComponent(e.oLaunchPageService.getCatalogTileId(a[o].object));const i=e.oTileCatalogToGroupsMap[s]||[];const n=e.oLaunchPageService.getGroupId(t.object);if(i.indexOf(n)===-1&&(typeof t.isGroupVisible==="undefined"||t.isGroupVisible)&&!t.isGroupLocked){i.push(n)}e.oTileCatalogToGroupsMap[s]=i}}})})},updateCatalogTilesToGroupsMap:function(){let e;let t;let o;const a=this.getModel().getProperty("/catalogs");if(a){for(let s=0;s<a.length;s++){const i=a[s].appBoxes;if(i){for(let a=0;a<i.length;a++){const s=i[a];e=encodeURIComponent(this.oLaunchPageService.getCatalogTileId(s.src));o=this.oTileCatalogToGroupsMap[e];t=o||[];s.associatedGroups=t}}const n=a[s].customTiles;if(n){for(let a=0;a<n.length;a++){const s=n[a];e=encodeURIComponent(this.oLaunchPageService.getCatalogTileId(s.src));o=this.oTileCatalogToGroupsMap[e];t=o||[];s.associatedGroups=t}}}}this.getModel().setProperty("/catalogs",a)},addCatalogToModel:function(e){const t={title:this.oLaunchPageService.getCatalogTitle(e),id:this.oLaunchPageService.getCatalogId(e),numberTilesSupportedOnCurrectDevice:0,static:false,customTiles:[],appBoxes:[]};c.resume("FLP:DashboardManager.getCatalogTiles");return new Promise((o,a)=>{this.oLaunchPageService.getCatalogTiles(e).done(e=>{c.pause("FLP:DashboardManager.getCatalogTiles");o({oCatalogEntry:e,oCatalogModel:t})}).fail(e=>{l.showLocalizedErrorHelper("fail_to_load_catalog_tiles_msg");a(e)})})},getTagList:function(e){const t={};const o=[];if(this.oModel.getProperty("/tagList")&&this.oModel.getProperty("/tagList").length>0){this.tagsPool.concat(this.oModel.getProperty("/tagList"))}for(let e=0;e<this.tagsPool.length;e++){const o=this.tagsPool[e];if(t[o]){t[o]++}else{t[o]=1}}for(const e in t){o.push({tag:e,occ:t[e]})}const a=o.sort((e,t)=>t.occ-e.occ);if(e){this.oModel.setProperty("/tagList",a.slice(0,e))}else{this.oModel.setProperty("/tagList",a)}},processPendingCatalogs:function(e){const o=this.oModel.getProperty("/catalogs");const i=t.getInstance();const n=this.oModel.getProperty("/masterCatalogs")||[{title:l.getLocalizedText("all")}];c.end("FLP:DashboardManager.getCatalogTiles");c.resume("FLP:DashboardManager.BuildCatalogModelWithRendering");const r=e.reduce((e,t)=>e.then(()=>{let e;let a;const s=t.oCatalogEntry;const i=t.oCatalogModel;const l=this.searchModelCatalogByTitle(i.title);if(l.result){a=this.oModel.getProperty("/catalogs")[l.indexOfPreviousInstanceInModel];e=false}else{e=true;a=i}const r=s.map(e=>this._processCatalogObjectForModel(a,e));return Promise.all(r).then(()=>{if(a.appBoxes.length>0||a.customTiles.length>0){if(e){o.push(i);n.push({title:i.title})}}if(this.oModel.getProperty("/enableCatalogTagFilter")===true){this.getTagList()}})}),Promise.resolve());return r.then(()=>{this.oModel.setProperty("/masterCatalogs",n);this.oModel.setProperty("/catalogs",o);i.publish("launchpad","afterCatalogSegment");setTimeout(()=>{s.setPerformanceMark("FLP-TTI-AppFinder",{bUseUniqueMark:true});a.emit("firstCatalogSegmentCompleteLoaded",true)},0);c.pause("FLP:DashboardManager.BuildCatalogModelWithRendering")})},_processCatalogObjectForModel:function(e,t){if(this._getIsIntentSupported(t)){if(this._getIsAppBox(t)){return this.createCatalogAppBoxes(t,true).then(t=>{e.appBoxes.push(t)})}return this.createCatalogTiles(t).then(t=>{e.customTiles.push(t);if(!this.aFnToGetTileView){this.aFnToGetTileView=[]}})}return Promise.resolve()},searchModelCatalogByTitle:function(e){const t=this.oModel.getProperty("/catalogs");let o=false;let a;let s=0;let i=false;let n;for(let l=0;l<t.length;++l){n=t[l];if(n.title===g.i18n.getText("catalogsLoading")){i=true}else if(e===n.title){a=l;s=n.numberOfTiles;o=true;break}}return{result:o,indexOfPreviousInstanceInModel:a,indexOfPreviousInstanceInPage:i?a-1:a,numOfTilesInCatalog:s}},_getCatalogTileId:function(e){let t=this.oLaunchPageService.getStableCatalogTileId(e);if(!h.last("/core/spaces/enabled")){t=null}if(!t){t=this.oLaunchPageService.getCatalogTileId(e)}return t},createCatalogAppBoxes:async function(e,t){const o=encodeURIComponent(this._getCatalogTileId(e));const a=this.oTileCatalogToGroupsMap[o]||[];const s=this.oLaunchPageService.getCatalogTileTags(e)||[];const i=this.oLaunchPageService.getCatalogTileContentProviderId(e);const n=await d.getContentProviderLabel(i)||i;if(s.length>0){this.tagsPool=this.tagsPool.concat(s)}let l;if(e.tileResolutionResult){l=e.tileResolutionResult.navigationMode}return{id:o,associatedGroups:a,src:e,title:this.oLaunchPageService.getCatalogTilePreviewTitle(e),subtitle:this.oLaunchPageService.getCatalogTilePreviewSubtitle(e),icon:this.oLaunchPageService.getCatalogTilePreviewIcon(e),keywords:t?(this.oLaunchPageService.getCatalogTileKeywords(e)||[]).join(","):[],tags:s,navigationMode:l,url:this.oLaunchPageService.getCatalogTileTargetURL(e),contentProviderLabel:n}},onDoneLoadingCatalogs:function(e){const o=e.map(e=>new Promise((t,o)=>{this.oLaunchPageService.getCatalogTiles(e).done(t).fail(o)}));Promise.all(o).then(t=>{let o=true;for(let e=0;e<t.length;e++){if(t[e].length!==0){o=false;break}}if(o||!e.length){this.oModel.setProperty("/catalogsNoDataText",g.i18n.getText("noCatalogs"))}});const a=t.getInstance();a.publish("launchpad","catalogContentLoaded");const i=e.filter(e=>{const t=this.oLaunchPageService.getCatalogError(e);if(t){u.error("A catalog could not be loaded",t,"sap.ushell.components.CatalogsManager")}return!t});if(i.length!==e.length){l.showLocalizedError("partialCatalogFail")}s.handleTilesVisibility()},createCatalogTiles:async function(e){let t=Promise.resolve();const a=e.getChip&&e.getChip().getBaseChipId&&e.getChip().getBaseChipId();if(a&&["X-SAP-UI2-CHIP:/UI2/DYNAMIC_APPLAUNCHER","X-SAP-UI2-CHIP:/UI2/STATIC_APPLAUNCHER"].indexOf(a)===-1){t=new Promise((t,o)=>{this.oLaunchPageService.getCatalogTileViewControl(e).done(t).fail(o)})}return t.then(async t=>{const a=encodeURIComponent(this._getCatalogTileId(e));const s=this.oTileCatalogToGroupsMap[a]||[];const i=this.oLaunchPageService.getCatalogTileTags(e)||[];const n=this.oLaunchPageService.getCatalogTileContentProviderId(e);const l=await d.getContentProviderLabel(n);if(i.length>0){this.tagsPool=this.tagsPool.concat(i)}if(!t){t=new o({state:"Loading"})}let r=this.oLaunchPageService.getCatalogTilePreviewTitle(e);if(!r){r=this.oLaunchPageService.getCatalogTileTitle(e)}return{associatedGroups:s,src:e,catalog:e.title,catalogId:e.id,title:r,tags:i,keywords:(this.oLaunchPageService.getCatalogTileKeywords(e)||[]).join(","),id:a,size:this.oLaunchPageService.getCatalogTileSize(e),content:[t],isTileIntentSupported:this.oLaunchPageService.isTileIntentSupported(e),tileType:e.tileType,contentProviderLabel:l}})},createGroupAndSaveTile:function(e){const o=e.catalogTileContext;const a=e.newGroupName;const i=new jQuery.Deferred;if(s.validHash(a)&&o){this.createGroup(a).then(e=>{const a=this.oHomepageManager.getDashboardView();if(a&&a.getModel().getProperty("/tileActionModeActive")){t.getInstance().publish("launchpad","AddTileContainerContent")}let s={};this.createTile({catalogTileContext:o,groupContext:e}).done(e=>{s={group:e.group,status:1,action:"addTileToNewGroup"};i.resolve(s)}).fail(e=>{s={group:e.group,status:0,action:"addTileToNewGroup"};i.resolve(s)})})}return i.promise()},createGroup:function(e){const t=this;const o=new jQuery.Deferred;if(!s.validHash(e)){return o.reject(new Error("Invalid group title"))}const a=this.oLaunchPageService.addGroup(e);a.done(e=>{const a=t.oHomepageManager.addGroupToModel(e);o.resolve(a)});a.fail(()=>{l.showLocalizedError("fail_to_create_group_msg");const e={status:0,action:"createNewGroup"};o.resolve(e)});return o.promise()},createTile:function(e){const o=this;const a=e.catalogTileContext;const s=e.groupContext;const i=this.oModel.getProperty(s.getPath());const r=i.groupId;const g=new jQuery.Deferred;let c={};const h=t.getInstance();h.publish("launchpad","addTile",{catalogTileContext:a,groupContext:s});if(!a){u.warning("CatalogsManager: Did not receive catalog tile object. Abort.",this);c={group:i,status:0,action:"add"};return Promise.resolve(c)}const d=this.oLaunchPageService.addTile(a.getProperty("src"),s.getProperty("object"));d.done(e=>{const t=o.oModel.getProperty("/groups");const a=n.getModelPathOfGroup(t,r);o.oHomepageManager.addTileToGroup(a,e);c={group:i,status:1,action:"add"};g.resolve(c)}).fail(()=>{l.showLocalizedError("fail_to_add_tile_msg");c={group:i,status:0,action:"add"};g.resolve(c)});return g.promise()},deleteCatalogTileFromGroup:function(e){const t=this;const o=decodeURIComponent(e.tileId);const a=e.groupIndex;const s=this.oModel.getProperty(`/groups/${a}`);const i=new jQuery.Deferred;const n=[];const l=[];["tiles","links"].forEach(e=>{s[e].forEach(e=>{const a=t.oLaunchPageService.getCatalogTileId(e.object);if(a===o){const o=new jQuery.Deferred;const a=t.oLaunchPageService.removeTile(s.object,e.object);a.done(function(t){return function(){l.push(e.uuid);t.resolve({status:true})}}(o));a.fail(function(e){return function(){e.resolve({status:false})}}(o));n.push(o)}})});jQuery.when.apply(jQuery,n).done(e=>{const o=n.length===l.length;t.oHomepageManager.deleteTilesFromGroup(s.groupId,l);t.updateTilesAssociation();i.resolve({group:s,status:o,action:"remove"})});return i.promise()},calculateCatalogTileIndex:function(e,t,o){let a=parseInt(e*1e5,10);a+=(t!==undefined?t:0)+o;return a},notifyOnActionFailure:function(e,t){l.showLocalizedError(e,t)},resetAssociationOnFailure:function(e,t){this.notifyOnActionFailure(e,t);this.updateTilesAssociation()},_getIsIntentSupported:function(e){return!!this.oLaunchPageService.isTileIntentSupported(e)},_getIsAppBox:function(e){let t;const o=this.oModel.getProperty("/appFinderDisplayMode")||"appBoxes";if(o.toLowerCase()==="tiles"){t=false}else{t=!!(this.oLaunchPageService.getCatalogTileTargetURL(e)&&(this.oLaunchPageService.getCatalogTilePreviewTitle(e)||this.oLaunchPageService.getCatalogTilePreviewSubtitle(e)))}return t},destroy:function(){this.unregisterEvents()}});T.prototype.getInstance=function(){return P};return T});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/ComponentKeysHandler", ["sap/base/i18n/Localization","sap/ui/core/Element","sap/ui/core/EventBus","sap/ushell/Config","sap/ui/events/KeyCodes","sap/ui/thirdparty/jquery","sap/base/Log","sap/ushell/renderer/AccessKeysHandler","sap/ushell/bootstrap/common/common.load.model","sap/ushell/ui/launchpad/Tile","sap/ushell/Container"],(e,t,n,s,i,jQuery,o,l,r,a,c)=>{"use strict";function h(){}h._instance=undefined;h.getInstance=function(){if(h._instance===undefined){h._instance=new h;return h._instance._init().then(()=>h._instance)}return Promise.resolve(h._instance)};h.prototype={keyCodes:i,_init:function(){this.oModel=r.getModel();if(c.getLogonSystem().getPlatform()==="cdm"){return Promise.resolve()}if(!this.oLaunchPageService){return c.getServiceAsync("FlpLaunchPage").then(e=>{this.oLaunchPageService=e})}return Promise.resolve()},goToLastVisitedTile:function(e,t){let n;let s;const i=jQuery(".sapUshellTile, .sapMGTLineMode, .sapFCard");if(t){const t=jQuery("#dashboardGroups").find(".sapUshellTileContainer").filter(":visible");const o=this.oModel.getProperty("/topGroupInViewPortIndex");const l=e||jQuery(t.get(o));const r=l.find(".sapUshellTile, .sapMGTLineMode, .sapFCard");n=r.filter(":visible").eq(0);s=r.filter("[tabindex=0]:visible").eq(0);if(!n.length){n=i.filter(":visible").eq(0)}}else{n=i.filter(":visible").eq(0);s=i.filter("[tabindex=0]:visible").eq(0)}if(s.length){this.moveScrollDashboard(s)}else if(n.length){n.attr("tabindex","0");this.moveScrollDashboard(n)}else{l.sendFocusBackToShell()}},_goToFirstTileOfNextGroup:function(e,t){this._preventDefault(t);const n=this._getGroupAndTilesInfo();if(n){const t=this._getNextGroup(e,n.oGroup,false,true);if(t){this._goToTileOfGroup("first",t)}}},_goToTileOfGroup:function(e,t){if(t){let n=t.getTiles().filter(this._filterInvisibleTiles);const s=t.getLinks().filter(this._filterInvisibleTiles);if(t.getShowPlaceholder()){n.push(t.oPlusTile)}n=n.concat(s);e=e==="first"?0:e;e=e==="last"?n.length-1:e;const i=n[e];if(i){this.moveScrollDashboard(i.$());return true}}return false},_moveTile:function(e){const s=this._getGroupAndTilesInfo();if(!s||s.oGroup.getProperty("isGroupLocked")||s.oCurTile.isA("sap.ushell.ui.launchpad.PlusTile")){return}const i=s.oCurTile;const o=this._getNextTile(e,true);if(o){const s=i.getMode?i.getMode():"ContentMode";const l=o.getMode?o.getMode():"ContentMode";const r=i.getParent();const a=o.getParent();const c=r===a;const h=s===l;const u=l==="LineMode"?a.getLinks():a.getTiles();let f=u.indexOf(o);const d=this._getTileRect(e,i);const p=this._getTileRect(e,o);if(!p){f=0}else{const t=d.right>p.right+5;const n=f===u.length-1;if(!c||!h){if((e==="up"||e==="down")&&t&&n){f++}else if(e==="left"){f++}}}const g=t.getElementById("sapUshellDashboardPage").getParent();n.getInstance().publish("launchpad",h?"movetile":"convertTile",{callBack:this.callbackSetFocus.bind(this),sTileId:g.getController()._getTileUuid(i),toGroupId:a.getGroupId?a.getGroupId():a.groupId,srcGroupId:r.getGroupId?r.getGroupId():r.groupId,toIndex:f,tile:i,sToItems:l==="LineMode"?"links":"tiles",sFromItems:s==="LineMode"?"links":"tiles",sTileType:s==="LineMode"?"link":"tile",longDrop:false})}},callbackSetFocus:function(e){setTimeout(()=>{if(e.oParent&&e.oParent instanceof a){this.moveScrollDashboard(jQuery(e.oParent.getDomRef()))}else{this.moveScrollDashboard(e.$())}},0)},_getTileCenter:function(e,t,n){if(!(n instanceof HTMLElement)){const s=n.$().find(".sapMGTLineStyleHelper");if(n.isLink&&s&&s.length>1){if(e==="down"){return t.right}return t.left}}return t.right-(t.right-t.left)/2},_getTileRect:function(e,t){if(t instanceof HTMLElement){return t.getBoundingClientRect()}const n=t.$().find(".sapMGTLineStyleHelper");if(t.isLink&&n&&n.length){if(e==="down"){return n.get(n.length-1).getBoundingClientRect()}return n.get(0).getBoundingClientRect()}if(t.getDomRef()){return t.getDomRef().getBoundingClientRect()}return undefined},_findClosestTile:function(e,t,n){const s=this._getTileRect(e,n);const i=this._getTileCenter(e,s,n);let o;let l=Infinity;const r=e==="down"?1:-1;let a=t.indexOf(n)+r;let c;for(;;a+=r){const n=t[a];if(!n){return o}if(!o){if(e==="down"&&a===t.length-1){return n}if(e==="up"&&a===0){return n}}const r=this._getTileRect(e,n);if(!r){return o}if(e==="down"&&s.bottom+5>=r.bottom){continue}if(e==="up"&&s.top-5<=r.top){continue}if(o&&c!==r.top){return o}c=r.top;const h=Math.min(Math.abs(r.left-i),Math.abs(r.right-i));if(l>h){l=h;o=n}else{return o}}},_filterInvisibleTiles:function(e){return e.getVisible()&&e.getDomRef()},_getNextTile:function(e,t){const n=this._getGroupAndTilesInfo();if(!n){return null}const s=n.oCurTile;const i=n.oGroup;let o=i.getTiles().filter(this._filterInvisibleTiles);const l=i.getLinks().filter(this._filterInvisibleTiles);const r=s.isLink;const a=i.getShowPlaceholder();const c=s.getBindingContext();const h=!t||c&&this._isLinkPersonalizationSupported(c.getObject().object);const u=r?l:o;const f=u.indexOf(s);if(f<0){if(e==="right"){if(l.length){return l[0]}}if(e==="left"){if(o.length){return o[o.length-1]}}}else{if(e==="right"){if(f<u.length-1){return u[f+1]}if(!r&&a&&!t){return i.oPlusTile}if(!r&&h&&l.length){return l[0]}}if(e==="left"){if(f>0){return u[f-1]}if(r&&a){return i.oPlusTile}if(r&&o.length){return o[o.length-1]}}}const d=this._getNextGroup(e,i,t,h);let p=d?d.getTiles().filter(this._filterInvisibleTiles):[];const g=d?d.getLinks().filter(this._filterInvisibleTiles):[];const T=d&&d.getShowPlaceholder();if(d){if(e==="right"){if(p.length){return p[0]}if(T){return d.oPlusTile}if(g.length){return g[0]}return d.oPlusTile}if(e==="left"){if(h&&g.length){return g[g.length-1]}if(T&&!t){return d.oPlusTile}if(p.length){return p[p.length-1]}return d.oPlusTile}}if(e==="up"||e==="down"){if(!o.length&&t){o=[i.oPlusTile]}const n=h?o.concat(l):o;let r=[];if(d){if(!p.length&&t){p=[d.oPlusTile]}r=h?p.concat(g):p}const a=e==="up"?r.concat(n):n.concat(r);return this._findClosestTile(e,a,s)}},_isLinkPersonalizationSupported:function(e){return!this.oLaunchPageService||this.oLaunchPageService.isLinkPersonalizationSupported(e)},_getNextGroup:function(e,t,n,s){let i;const o=t.getParent().getGroups();const l=o.indexOf(t);let r=l;if(e==="down"||e==="right"){i=1}else{i=-1}r+=i;while(o[r]){const e=o[r];const t=e.getTiles().filter(this._filterInvisibleTiles);const l=e.getLinks().filter(this._filterInvisibleTiles);const a=s?t.concat(l):t;const c=e.getVisible()&&!(e.getIsGroupLocked()&&n)&&!(e.getIsGroupLocked()&&a.length===0)&&!(a.length===0&&!(n||e.getShowPlaceholder()));if(c){return e}r+=i}return undefined},_getGroupAndTilesInfo:function(){const e=this._getFocusOnTile(jQuery(document.activeElement));if(!e||!e.length){return null}const n=t.closestTo(e[0]);n.isLink=e.hasClass("sapUshellLinkTile")||e.hasClass("sapMGTLineMode");const s=t.closestTo(e.closest(".sapUshellTileContainer")[0]);if(!s){return null}return{oCurTile:n,oGroup:s}},_goToSiblingElementInTileContainer:function(e,t){const n=t.closest(".sapUshellTileContainer");let s;let i;let o;s=t.closest(".sapUshellTileContainerBeforeContent");if(s.length){if(e==="up"||e==="left"){this._goToNextTileContainer(s,e)}else{o=n.find(".sapUshellTileContainerHeader").eq(0);o.focus()}return}s=t.closest(".sapUshellTileContainerHeader");if(s.length){if(e==="up"){if(!this._goToTileContainerBeforeContent(n)){this._goToNextTileContainer(s,e)}}else if(e==="down"){i=n.find(".sapUshellTile, .sapUshellLinkTile, .sapFCard").eq(0);if(i.length){this.moveScrollDashboard(i)}else{this._goToNextTileContainer(s,e)}}else if(e==="left"){if(t.hasClass("sapUshellTileContainerHeader")){if(!this._goToTileContainerBeforeContent(n)){this._goToNextTileContainer(s,"left")}}else{o=t.closest(".sapUshellTileContainerHeader");o.focus()}}else if(e==="right"){const e=t.hasClass("sapMInputBaseInner");if(!e){i=n.find(".sapUshellTile, .sapUshellLinkTile, .sapFCard").eq(0);if(i.length){this.moveScrollDashboard(i)}else{this._goToNextTileContainer(s,"down")}}}return}s=this._getFocusOnTile(t);if(s){this._goFromFocusedTile(e,s,true);return}s=t.closest(".sapUshellTileContainerAfterContent");if(s.length){if(e==="up"||e==="left"){this._goToTileOfGroup("first",s.control(0))}else{this._goToNextTileContainer(s,e)}}},_goToNextTileContainer:function(e,n){const s=e.closest(".sapUshellTileContainer");if(s.length===1){const e=jQuery(".sapUshellTileContainer").filter(":visible");const i=n==="down"?1:-1;const o=jQuery(e[e.index(s)+i]);if(o.length===1){const e=o.find(".sapUshellTileContainerHeader");if(n==="down"){if(!this._goToTileContainerBeforeContent(o)){this._setTileContainerSelectiveFocus(o)}}else if(!this._goToTileContainerAfterContent(o)){if(n==="up"||n==="left"){const s=n==="up"?"first":"last";if(!this._goToTileOfGroup(s,t.closestTo(o[0]))){e.focus()}}}}}},_goToTileContainerBeforeContent:function(e){const t=e.hasClass("sapUshellTileContainer")?e:e.closest(".sapUshellTileContainer");const n=t.find(".sapUshellTileContainerBeforeContent button").filter(":visible");if(n.length){n.focus();return true}return false},_goToTileContainerAfterContent:function(e){const t=e.hasClass("sapUshellTileContainer")?e:e.closest(".sapUshellTileContainer");const n=t.find(".sapUshellTileContainerAfterContent button").filter(":visible");if(n.length){n.focus();return true}return false},_goFromFocusedTile:function(e,t,n){const s=this._getNextTile(e);const i=t.closest(".sapUshellTileContainer");if(s){const t=s.$();const o=t.closest(".sapUshellTileContainer");if(n&&i.get(0).id!==o.get(0).id){if(e==="down"||e==="right"){if(!this._goToTileContainerAfterContent(i)){this._setTileContainerSelectiveFocus(o)}}else if(e==="up"||e==="left"){const e=i.find(".sapUshellTileContainerHeader");e.focus()}}else{this.moveScrollDashboard(t)}}else if(n){if(e==="down"||e==="right"){this._goToTileContainerAfterContent(i)}else if(e==="up"||e==="left"){const e=i.find(".sapUshellTileContainerHeader");e.focus()}}},_setTileContainerSelectiveFocus:function(e){const t=jQuery("#dashboardGroups").find(".sapUshellTileContainer").filter(":visible");const n=e.find(".sapUshellTileContainerBeforeContent button");const s=e.find(".sapUshellTileContainerHeader").eq(0);const i=n.length&&n.is(":visible");if(i){n.focus()}else if(e.get(0)===t.get(0)){this.goToLastVisitedTile()}else if(s.length){s.focus()}},_setTileFocus:function(e){const s=document.getElementById("catalogView");if(s&&s.contains(e)){this.setFocusOnCatalogTile(e);return}const i=document.getElementById("dashboardGroups");const o=i.querySelectorAll(".sapUshellTile[tabindex]");for(let e=0;e<o.length;++e){o[e].removeAttribute("tabindex")}const l=[".sapMGTLineMode",".sapMGT",".sapFCard"].join('[tabindex="0"], ');const r=i.querySelectorAll(l);for(let e=0;e<r.length;++e){r[e].setAttribute("tabindex","-1")}e.setAttribute("tabindex",0);const a=t.getElementById(e.getAttribute("id"));if(a){const e=a.getParent();if(e){const t=n.getInstance();t.publish("launchpad","scrollToGroup",{group:e})}a.focus()}},setFocusOnCatalogTile:function(e){const t=jQuery(".sapUshellTile[tabindex=0]");let n;let s;if(t.length){jQuery(".sapUshellTileContainerContent [tabindex=0]").get().forEach(e=>{jQuery(e).attr("tabindex",-1)});n=t.find("[tabindex], a").addBack().filter("[tabindex], a");n.attr("tabindex",-1)}if(!e){s=jQuery(".sapUshellTile, .sapUshellAppBox").filter(":visible");if(s.length){e=s[0]}else{const e=document.getElementsByClassName("sapMMessagePageMainText");if(e.length){e[0].focus()}return}}e.setAttribute("tabindex",0);jQuery(e).find("button").attr("tabindex",0);e.focus()},moveScrollDashboard:function(e){if(e.length){this._setTileFocus(e[0])}},_moveGroupFromDashboard:function(e,t){const n=jQuery(".sapUshellDashboardGroupsContainerItem");const s=t.closest(".sapUshellDashboardGroupsContainerItem");const i=n.index(s);const o=e==="up"||e==="left"?i-1:i+1;this._moveGroup(i,o)},_moveGroup:function(e,t){if(t<0||t>=jQuery(".sapUshellDashboardGroupsContainerItem").length||t<jQuery(".sapUshellDisableDragAndDrop").length){return}n.getInstance().publish("launchpad","moveGroup",{fromIndex:e,toIndex:t});setTimeout(()=>{const e=jQuery(".sapUshellTileContainerHeader")[t];jQuery(e).focus()},100)},_getFocusOnTile:function(e){let t;[".sapUshellTile",".sapUshellLinkTile",".sapFCard"].forEach(n=>{const s=e.closest(n);if(s.length){t=s}});return t},_renameGroup:function(e){if(e.closest(".sapUshellTileContainerHeader").length===1){e=e[0].tagName==="H2"?e:e.find("h2");e.click()}},_arrowsButtonsHandler:function(e,t,n){this._preventDefault(t);if(n.hasClass("sapUshellAnchorItem")){this._handleAnchorNavigationItemsArrowKeys(e,n);return}if(n.is("#sapUshellAnchorBarOverflowButton")){this._handleAnchorNavigationOverflowButtonArrowKeys(e);return}const s=this._getFocusOnTile(n);const i=this.oModel.getProperty("/tileActionModeActive");const o=this.oModel.getProperty("/personalization");if(t.ctrlKey===true&&o){const t=n.closest(".sapUshellTileContainerHeader");if(s){this._moveTile(e)}else if(t.length){const n=t.closest(".sapUshellTileContainerContent");if(!n.hasClass("sapUshellTileContainerDefault")||!n.hasClass("sapUshellTileContainerLocked")){this._moveGroupFromDashboard(e,t)}}}else if(i){this._goToSiblingElementInTileContainer(e,n)}else if(s){this._goFromFocusedTile(e,s,i)}else{this.goToLastVisitedTile()}},_handleAnchorNavigationOverflowButtonArrowKeys:function(e){if(e==="left"||e==="up"){const e=jQuery(".sapUshellAnchorItem").filter(":visible");this._setAnchorItemFocus(e.eq(e.length-1)[0])}},_handleAnchorNavigationItemsArrowKeys:function(e,t){const n=jQuery(".sapUshellAnchorItem").filter(":visible");const s=n.index(t);if(e==="left"||e==="up"){if(s>0){this._setAnchorItemFocus(n.eq(s-1)[0]);return}}if(e==="right"||e==="down"){if(s<n.length-1){this._setAnchorItemFocus(n.eq(s+1)[0])}else if(s===n.length-1){const e=document.getElementById("sapUshellAnchorBarOverflowButton");e.focus()}}},_setAnchorItemFocus:function(e){const t=document.getElementsByClassName("sapUshellAnchorItem");for(let e=0;e<t.length;++e){t[e].setAttribute("tabindex","-1")}if(!e){e=jQuery(".sapUshellAnchorItem").filter(":visible")[0]}e.setAttribute("tabindex","0");e.focus()},_appFinderHomeEndButtonsHandler:function(e,t,n){const s=jQuery(".sapUshellTile, .sapUshellAppBox").filter(":visible");let i;if(s.length){if(e==="home"){i=jQuery(s.get(0))}if(e==="end"){i=jQuery(s.get(s.length-1))}}if(i){this._preventDefault(t);this._appFinderFocusAppBox(n,i)}},_homeEndButtonsHandler:function(e,n,s){if(s.hasClass("sapUshellAnchorItem")){this._preventDefault(n);this._setAnchorItemFocus(jQuery(".sapUshellAnchorItem").filter(`:visible:${e}`)[0])}else if(n.ctrlKey===true){this._preventDefault(n);const t=jQuery(".sapUshellTile, .sapFCard").filter(":visible")[e]();if(t.length){this._setTileFocus(t[0])}}else{const i=s.closest(".sapUshellTileContainer");if(i){const s=t.closestTo(i[0]);if(s){this._preventDefault(n);this._goToTileOfGroup(e,s)}}}},_deleteButtonHandler:function(e){const s=this.oModel.getProperty("/tileActionModeActive");const i=this.oModel.getProperty("/personalization");if(s&&i){const s=this._getFocusOnTile(e);if(s&&!s.hasClass("sapUshellLockedTile")&&!s.hasClass("sapUshellPlusTile")){const e=this._getGroupAndTilesInfo();if(e&&!e.oCurTile.isLink){const s=t.getElementById("sapUshellDashboardPage").getParent();n.getInstance().publish("launchpad","deleteTile",{tileId:s.getController()._getTileUuid(e.oCurTile),items:"tiles"},this)}}}},_spaceButtonHandler:function(e,n){e.preventDefault();const s=this._getFocusOnTile(n);if(!s||!s.length){n.click();return}if(s.hasClass("sapFCard")){t.closestTo(s[0]).getCardHeader().firePress();return}const i=n.find("[role=button], a.sapMGT");if(i.length&&!this.oModel.getProperty("/tileActionModeActive")){const e=t.closestTo(i[0]);if(e){e.firePress();return}}t.closestTo(s[0]).firePress()},goToSelectedAnchorNavigationItem:function(){this._setAnchorItemFocus(document.getElementsByClassName("sapUshellAnchorItemSelected")[0]);return document.activeElement&&document.activeElement.classList.contains("sapUshellAnchorItemSelected")},handleFocusOnMe:function(e,n){const i=c.getRendererInternal("fiori2");const o=h._instance;if(i){const l=i.getCurrentCoreView();if(l==="home"&&!s.last("/core/spaces/enabled")){const t=document.activeElement?document.activeElement.tagName:"";if(t==="INPUT"||t==="TEXTAREA"){if(e.keyCode===o.keyCodes.ENTER){let e=jQuery(document.activeElement).closest(".sapUshellTileContainerHeader");if(e.length){setTimeout(()=>{e=jQuery(`#${e[0].id}`);e.focus()},10)}}}else{o._dashboardKeydownHandler(e)}}if(l==="appFinder"&&!s.last("/core/workPages/contentFinderStandalone")){if(n){if(e.shiftKey){o.setFocusOnCatalogTile()}else{const n=t.getElementById("openCloseButtonAppFinderSubheader");if(n&&n.getVisible()){n.focus()}else{o.appFinderFocusMenuButtons(e)}}}else{o._appFinderKeydownHandler(e)}}}},_appFinderFocusAppBox:function(e,t){if(e&&t){e.attr("tabindex","-1").find(".sapUshellPinButton").attr("tabindex","-1");t.attr("tabindex","0").focus();t.find(".sapUshellPinButton").attr("tabindex","0")}},_preventDefault:function(e){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation()},_getNextCatalog:function(e,t){let n;if(e==="down"||e==="right"){n=t.next()}else if(e==="up"||e==="left"){n=t.prev()}else{o.error("Direction is unkown",e,"sap.ushell.components.ComponentKeysHandler");return null}if(n.length>0){const t=n.find("li.sapUshellAppBox, li.sapUshellTile").get().length;if(t>0){return n}return this._getNextCatalog(e,n)}return undefined},_getNextCatalogItem:function(e,t,n){const s=jQuery(t.parents()[2]);const i=s.find("li.sapUshellAppBox, li.sapUshellTile").get();if(e==="right"||e==="left"){const n=i.indexOf(t.get(0));const s=e==="right"?n+1:n-1;if(i[s]){return i[s]}}const o=this._getNextCatalog(e,s);const l=o?o.find("li.sapUshellAppBox, li.sapUshellTile").get():[];if(l.length>0&&e==="right"){return l[0]}if(l.length>0&&e==="left"){return l[l.length-1]}if(e==="down"||e==="up"){if(l.length>0&&n){return l[0]}const s=e==="down"?i.concat(l):l.concat(i);return this._findClosestTile(e,s,t.get(0))}return undefined},_appFinderKeysHandler:function(e,t,n,s){if(n.is(".sapUshellAppBox, .sapUshellTile")){this._preventDefault(t);const i=jQuery(this._getNextCatalogItem(e,n,s));if(i){this._appFinderFocusAppBox(n,i)}}},appFinderFocusMenuButtons:function(e){const t=jQuery("#catalog-button, #userMenu-button, #sapMenu-button").filter("[tabindex=0]");if(t.length){t.eq(0).focus();this._preventDefault(e);return true}return false},_appFinderKeydownHandler:function(t){const n=jQuery(document.activeElement);if(t.srcElement.id!=="appFinderSearch-I"){let s=t.keyCode;const i=e.getRTL();if(i&&s===this.keyCodes.ARROW_RIGHT){s=this.keyCodes.ARROW_LEFT}else if(i&&s===this.keyCodes.ARROW_LEFT){s=this.keyCodes.ARROW_RIGHT}switch(s){case this.keyCodes.ARROW_UP:this._appFinderKeysHandler("up",t,n);break;case this.keyCodes.ARROW_DOWN:this._appFinderKeysHandler("down",t,n);break;case this.keyCodes.ARROW_RIGHT:this._appFinderKeysHandler("right",t,n);break;case this.keyCodes.ARROW_LEFT:this._appFinderKeysHandler("left",t,n);break;case this.keyCodes.PAGE_UP:this._appFinderKeysHandler("up",t,n,true);break;case this.keyCodes.PAGE_DOWN:this._appFinderKeysHandler("down",t,n,true);break;case this.keyCodes.HOME:this._appFinderHomeEndButtonsHandler("home",t,n);break;case this.keyCodes.END:this._appFinderHomeEndButtonsHandler("end",t,n);break;case this.keyCodes.SPACE:this._spaceButtonHandler(t,n);break;default:return}}},_dashboardKeydownHandler:function(t){const n=document.activeElement&&document.activeElement.tagName;if(n==="INPUT"||n==="TEXTAREA"){return}let s=t.keyCode;const i=e.getRTL();const o=jQuery(document.activeElement);if(i){if(s===this.keyCodes.ARROW_RIGHT){s=this.keyCodes.ARROW_LEFT}else if(s===this.keyCodes.ARROW_LEFT){s=this.keyCodes.ARROW_RIGHT}}switch(s){case this.keyCodes.F2:this._renameGroup(o);break;case this.keyCodes.DELETE:case this.keyCodes.BACKSPACE:this._deleteButtonHandler(o);break;case this.keyCodes.ARROW_UP:this._arrowsButtonsHandler("up",t,o);break;case this.keyCodes.ARROW_DOWN:this._arrowsButtonsHandler("down",t,o);break;case this.keyCodes.ARROW_RIGHT:this._arrowsButtonsHandler("right",t,o);break;case this.keyCodes.ARROW_LEFT:this._arrowsButtonsHandler("left",t,o);break;case this.keyCodes.PAGE_UP:this._goToFirstTileOfNextGroup("up",t);break;case this.keyCodes.PAGE_DOWN:this._goToFirstTileOfNextGroup("down",t);break;case this.keyCodes.HOME:this._homeEndButtonsHandler("first",t,o);break;case this.keyCodes.END:this._homeEndButtonsHandler("last",t,o);break;case this.keyCodes.SPACE:this._spaceButtonHandler(t,o);break;case this.keyCodes.ENTER:this._spaceButtonHandler(t,o);break;default:break}}};return h});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/DestroyHelper", [],()=>{"use strict";function t(t){let e;if(t&&t.content){for(e=0;e<t.content.length;e++){if(t.content[e].destroy){t.content[e].destroy()}}}}function e(e){let n;if(e){for(n=0;n<e.length;n++){t(e[n])}}}function n(t){if(t){e(t.tiles)}}function o(t){let e;if(t){for(e=0;e<t.length;e++){n(t[e])}}}return{destroyFLPAggregationModel:n,destroyFLPAggregationModels:o,destroyTileModel:t,destroyTileModels:e}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/GroupsHelper", [],()=>{"use strict";function r(r,t){for(let e=0;e<r.length;e++){if(r[e].groupId===t){return e}}return-1}function t(t,e){const n=r(t,e);if(n<0){return null}return`/groups/${n}`}return{getIndexOfGroup:r,getModelPathOfGroup:t}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/HomepageManager", ["sap/ui/thirdparty/jquery","sap/ui/core/Core","sap/ui/core/Theming","sap/ui/base/Object","sap/ui/Device","sap/ui/model/Filter","sap/ushell/ui/launchpad/TileState","sap/ushell/components/_HomepageManager/PagingManager","sap/ushell/components/_HomepageManager/DashboardLoadingManager","sap/ushell/EventHub","sap/ushell/Config","sap/ushell/utils","sap/ushell/resources","sap/ushell/components/DestroyHelper","sap/ushell/components/GroupsHelper","sap/ushell/components/MessagingHelper","sap/m/GenericTile","sap/m/SelectDialog","sap/m/StandardListItem","sap/ushell/components/_HomepageManager/PersistentPageOperationAdapter","sap/ushell/components/_HomepageManager/TransientPageOperationAdapter","sap/ui/model/FilterOperator","sap/m/library","sap/ui/model/Context","sap/m/MessageToast","sap/base/Log","sap/base/util/extend","sap/ui/performance/Measurement","sap/ushell/Config","sap/ushell/Container"],(jQuery,e,t,o,i,s,n,r,l,a,d,u,p,c,h,g,f,b,m,M,P,T,G,y,_,I,k,w,L,S)=>{"use strict";const v=G.GenericTileScope;const A={PERSONALIZATION:"FLP: Personalization",RENAME_GROUP:"FLP: Rename Group",MOVE_GROUP:"FLP: Move Group",DELETE_GROUP:"FLP: Delete Group",RESET_GROUP:"FLP: Reset Group",DELETE_TILE:"FLP: Delete Tile",ADD_TILE:"FLP: Add Tile",MOVE_TILE:"FLP: Move Tile"};const O=[];let V;const x=o.extend("sap.ushell.components.HomepageManager",{metadata:{publicMethods:["getModel","getDashboardView","loadPersonalizedGroups","resetGroupsOnFailure","addGroupToModel","addTileToGroup","deleteTilesFromGroup"]},analyticsConstants:A,constructor:function(e,o){if(V){if(!V.view){V.setDashboardView(o.view)}return V}this.oServiceLoadingPromise=S.getServiceAsync("FlpLaunchPage").then(e=>{this.oPageBuilderService=e;this.oPageBuilderService.registerTileActionsProvider(this._addFLPActionsToTile.bind(this));this.oPageOperationAdapter=M.getInstance(e);this.bLinkPersonalizationSupported=this.oPageOperationAdapter.isLinkPersonalizationSupported()});t.attachApplied(u.handleTilesVisibility);V=this;this.oModel=o.model;this.oRouter=o.router;this.oDashboardView=o.view;this.oSortableDeferred=new jQuery.Deferred;this.oSortableDeferred.resolve();this.registerEvents();this.tileViewUpdateQueue=[];this.tileViewUpdateTimeoutID=0;this.tileUuid=null;this.bIsGroupsModelLoading=false;this.bIsGroupsRequestPending=false;this.segmentsStore=[];this.bIsFirstSegment=true;this.bIsFirstSegmentViewLoaded=false;this.aGroupsFrame=null;this.iMinNumOfTilesForBlindLoading=this.oModel.getProperty("/optimizeTileLoadingThreshold")||100;this.bIsScrollModeAccordingKPI=false;this.oGroupNotLockedFilter=new s("isGroupLocked",T.EQ,false);this.oDashboardLoadingManager=new l("loadingManager",{oDashboardManager:this});if(this.oRouter){const e=this.oRouter.getTarget("home");e.attachDisplay(e=>{this.oDashboardView=e.getParameter("view")})}let i=d.last("/core/home/enableTransientMode");O.push(d.on("/core/home/enableTransientMode").do(e=>{if(i===e){return}i=e;this._changeMode(e)}));this.oModel.bindProperty("/tileActionModeActive").attachChange(this._changeLinksScope.bind(this));this._aRequestQueue=[];this._bRequestRunning=false;return undefined},_addRequest:function(e){this._aRequestQueue.push(e);if(!this._bRequestRunning){this._bRequestRunning=true;this._aRequestQueue.shift()()}},_checkRequestQueue:function(){if(this._aRequestQueue.length===0){this._bRequestRunning=false}else{this._aRequestQueue.shift()()}},_requestFailed:function(){this._aRequestQueue=[];this._bRequestRunning=false},isBlindLoading:function(){const e=d.last("/core/home/homePageGroupDisplay");if((e===undefined||e==="scroll")&&this.bIsScrollModeAccordingKPI){I.info("isBlindLoading reason IsScrollModeAccordingKPI and IsScrollMode: true");return true}if(this.oModel.getProperty("/tileActionModeActive")){I.info("isBlindLoading reason TileActionModeActive : true");return true}return false},createMoveActionDialog:function(e){const t=new b(e,{title:p.i18n.getText("moveTileDialog_title"),rememberSelections:false,contentWidth:"400px",contentHeight:"auto",confirm:function(t){const o=t.getParameter("selectedContexts");this.publishMoveActionEvents(o,e)}.bind(this),cancel:function(){const e=document.querySelector('.sapUshellTile[tabindex="0"]');if(e){e.focus()}},items:{path:"/groups",template:new m({title:"{title}"})}});return t},publishMoveActionEvents:function(t,o){const s=e.getEventBus();if(t.length){const e=this.tileType==="link"?"links":"tiles";const n=t[0].getObject().groupId;const r={sTileId:this.tileUuid,sToItems:e,sFromItems:e,sTileType:e,toGroupId:t[0].getObject().groupId,toIndex:t[0].getObject()[this.tileType==="link"?"links":"tiles"].length,source:o};if(i.system.desktop){sap.ui.require(["sap/ushell/components/ComponentKeysHandler"],e=>{e.getInstance().then(e=>{r.callBack=e.callbackSetFocus.bind(e);s.publish("launchpad","scrollToGroup",{groupId:n});s.publish("launchpad","movetile",r)})})}else{s.publish("launchpad","scrollToGroup",{groupId:n});s.publish("launchpad","movetile",r)}}},_changeLinksScope:function(e){const t=this;if(this.bLinkPersonalizationSupported){const o=e.getSource().getValue();this.oModel.getProperty("/groups").forEach((e,i)=>{if(!e.isGroupLocked){t._changeGroupLinksScope(e,o?"Actions":"Display")}})}},_changeGroupLinksScope:function(e,t){const o=this;e.links.forEach((e,i)=>{o._changeLinkScope(e.content[0],t)})},_changeLinkScope:function(e,t){let o;if(e.getScope){o=e}else if(e.getContent){o=e.getContent()[0]}if(this.bLinkPersonalizationSupported&&o&&o.setScope){o.setScope(t)}},registerEvents:function(){const t=e.getEventBus();t.subscribe("launchpad","addBookmarkTile",this._createBookmark,this);t.subscribe("launchpad","tabSelected",this.getSegmentTabContentViews,this);t.subscribe("sap.ushell.services.Bookmark","bookmarkTileAdded",this._addBookmarkToModel,this);t.subscribe("sap.ushell.services.Bookmark","catalogTileAdded",this._refreshGroupInModel,this);t.subscribe("sap.ushell.services.Bookmark","bookmarkTileDeleted",this.loadPersonalizedGroups,this);t.subscribe("launchpad","loadDashboardGroups",this.loadPersonalizedGroups,this);t.subscribe("launchpad","createGroupAt",this._createGroupAt,this);t.subscribe("launchpad","deleteGroup",this._deleteGroup,this);t.subscribe("launchpad","resetGroup",this._resetGroup,this);t.subscribe("launchpad","changeGroupTitle",this._changeGroupTitle,this);t.subscribe("launchpad","moveGroup",this._moveGroup,this);t.subscribe("launchpad","deleteTile",this._deleteTile,this);t.subscribe("launchpad","movetile",this._moveTile,this);t.subscribe("launchpad","sortableStart",this._sortableStart,this);t.subscribe("launchpad","sortableStop",this._sortableStop,this);t.subscribe("launchpad","dashboardModelContentLoaded",this._modelLoaded,this);t.subscribe("launchpad","convertTile",this._convertTile,this)},_changeMode:function(e){const t=this.getModel().getProperty("/groups");if(e){this.oPageOperationAdapter=P.getInstance();const e=this.oPageOperationAdapter.transformGroupModel(t);this.getModel().setProperty("/groups",e)}else{this.oPageOperationAdapter=M.getInstance();c.destroyFLPAggregationModels(t);this.getModel().setProperty("/groups",[]);this.loadPersonalizedGroups()}},_addFLPActionsToTile:function(e){const t=[];if(d.last("/core/shell/enablePersonalization")){const o=this.bLinkPersonalizationSupported&&this.oPageOperationAdapter.isLinkPersonalizationSupported(e);t.push(this._getMoveTileAction(e));if(o){t.push(this._getConvertTileAction(e))}}return t},getPersonalizableGroups:function(){const e=this.getModel().getProperty("/groups");return e.filter(e=>!e.isGroupLocked)},_getConvertTileAction:function(t){const o=e.getEventBus();const s=this.oPageOperationAdapter.getTileType(t);const n=s==="tile"?"ConvertToLink":"ConvertToTile";return{id:n,text:p.i18n.getText(n),press:function(e){const t={tile:e};if(i.system.desktop){sap.ui.require(["sap/ushell/components/ComponentKeysHandler"],e=>{e.getInstance().then(e=>{t.callBack=e.callbackSetFocus.bind(e);o.publish("launchpad","convertTile",t)})})}else{o.publish("launchpad","convertTile",t)}}}},_getMoveTileAction:function(e){const t="moveTile_action";return{id:t,text:p.i18n.getText(t),press:function(t){this.tileType=this.oPageOperationAdapter.getTileType(e);const o=this.tileType==="tile";this.tileUuid=this.getModelTileById(this.oPageOperationAdapter.getTileId(e),o?"tiles":"links").uuid;const i=t.getParent().getProperty("groupId");const n=new s("groupId",T.NE,i);const r=function(e){const t=e.getParameter("value");const o=new s("title",T.Contains,t);const i=e.getSource().getBinding("items");i.filter([o,this.oGroupNotLockedFilter,n])}.bind(this);let l=o?this.moveTileDialog:this.moveLinkDialog;if(!l){l=this.createMoveActionDialog(`move${this.tileType}Dialog`);l.setModel(this.oModel);if(o){this.moveTileDialog=l}else{this.moveLinkDialog=l}}else{l.detachSearch(l._searchHandler)}l.getBinding("items").filter([this.oGroupNotLockedFilter,n]);l.attachSearch(r);l._searchHandler=r;l.open()}.bind(this)}},_handleTileAppearanceAnimation:function(e){if(!e){return}const t=["webkit",""];function o(o,i){for(let o=0;o<t.length;o++){i=i.toLowerCase();e.attachBrowserEvent(t[o]+i,t=>{if(t.originalEvent&&t.originalEvent.animationName==="sapUshellTileEntranceAnimation"){e.removeStyleClass("sapUshellTileEntrance")}},false)}}o(e,"AnimationEnd");e.addStyleClass("sapUshellTileEntrance")},destroy:function(){const i=e.getEventBus();i.unsubscribe("launchpad","addBookmarkTile",this._createBookmark,this);i.unsubscribe("launchpad","loadDashboardGroups",this.loadPersonalizedGroups,this);i.unsubscribe("launchpad","createGroupAt",this._createGroupAt,this);i.unsubscribe("launchpad","deleteGroup",this._deleteGroup,this);i.unsubscribe("launchpad","resetGroup",this._resetGroup,this);i.unsubscribe("launchpad","changeGroupTitle",this._changeGroupTitle,this);i.unsubscribe("launchpad","moveGroup",this._moveGroup,this);i.unsubscribe("launchpad","deleteTile",this._deleteTile,this);i.unsubscribe("launchpad","movetile",this._moveTile,this);i.unsubscribe("launchpad","sortableStart",this._sortableStart,this);i.unsubscribe("launchpad","sortableStop",this._sortableStop,this);i.unsubscribe("launchpad","dashboardModelContentLoaded",this._modelLoaded,this);t.detachApplied(u.handleTilesVisibility);O.forEach(e=>{e.off()});M.destroy();P.destroy();V=undefined;o.prototype.destroy.apply(this,arguments)},_sortableStart:function(){this.oSortableDeferred=new jQuery.Deferred},_createBookmark:function(e,t,o){const i=o.group?o.group.object:"";delete o.group;function s(){S.getServiceAsync("BookmarkV2").then(e=>{e.addBookmark(o,i).then(()=>{g.showLocalizedMessage("tile_created_msg")}).catch(e=>{I.error("Failed to add bookmark",e,"sap.ushell.ui.footerbar.AddBookmarkButton");g.showLocalizedError("fail_to_add_tile_msg")}).finally(this._checkRequestQueue.bind(this))})}this._addRequest(s.bind(this))},_addBookmarkToModel:function(e,t,o){const i=o.tile;let s=o.group;if(!o||!i){this.bIsGroupsModelDirty=true;if(!this.bGroupsModelLoadingInProcess){this._handleBookmarkModelUpdate()}return}if(!s){const e=this.getModel().getProperty("/groups");for(let t=0;t<e.length;t++){if(e[t].isDefaultGroup===true){s=e[t].object;break}}}const n=this._getIndexOfGroupByObject(s);const r=this.oModel.getProperty(`/groups/${n}`);const l=this.oPageOperationAdapter.getPreparedTileModel(i,r.isGroupLocked);this.getTileView(l);r.tiles.push(l);r.visibilityModes=u.calcVisibilityModes(r,true);const a=r.tiles.length;this._updateModelWithTileView(n,a);this.oModel.setProperty(`/groups/${n}`,r)},_refreshGroupInModel:function(e,t,o){const i=this;this.oPageOperationAdapter.refreshGroup(o).then(e=>{if(!e){return}const t=i._getIndexOfGroupByObject(e.object);e.visibilityModes=u.calcVisibilityModes(e.object,true);i.oModel.setProperty(`/groups/${t}`,e);if(e.tiles){e.tiles.forEach(e=>{i.getTileView(e)})}})},_sortableStop:function(){this.oSortableDeferred.resolve()},_handleAfterSortable:function(e){return function(){const t=Array.prototype.slice.call(arguments);this.oSortableDeferred.done(()=>{e.apply(null,t)})}.bind(this)},_createGroupAt:function(e,t,o){const i=parseInt(o.location,10);const s=this.oModel.getProperty("/groups");const n=this.oPageOperationAdapter.getPreparedGroupModel(null,false,i===s.length,o);const r=this.oModel;let l;n.index=i;s.splice(i,0,n);for(l=0;l<s.length-1;l++){s[l].isLastGroup=false}for(l=i+1;l<s.length;l++){s[l].index++}r.setProperty("/groups",s)},_getIndexOfGroupByObject:function(e){const t=this.oModel.getProperty("/groups");return this.oPageOperationAdapter.getIndexOfGroup(t,e)},getTileActions:function(e){return this.oPageOperationAdapter.getTileActions(e)},addTileToGroup:function(e,t){const o=`${e}/tiles`;const i=this.oModel.getProperty(e);const s=this.oModel.getProperty(o).length;const n=this.oModel.getProperty(`${e}/isGroupLocked`);const r=this.oModel.getProperty("/personalization");i.tiles[s]=this.oPageOperationAdapter.getPreparedTileModel(t,n);this.getTileView(i.tiles[s]);i.visibilityModes=u.calcVisibilityModes(i,r);this._updateModelWithTileView(i.index,s);this.oModel.setProperty(e,i)},addTilesToGroupByCatalogTileId:function(e,t){const o=e.getBindingContext();for(let e=0;e<t.length;e++){this.addTileToGroupByCatalogTileId(o.sPath,t[e])}},addTileToGroupByCatalogTileId:function(e,t){if(!d.last("/core/home/enableTransientMode")){return}const o=this.oPageOperationAdapter.getTileModelByCatalogTileId(t);if(!o){return}this.oDashboardLoadingManager.setTileResolved(o);const i=this.oModel.getProperty(`${e}/tiles`).length;const s=this.oModel.getProperty(e);s.tiles[i]=o;this.oModel.setProperty(e,s)},_getPathOfTile:function(e){const t=this.oModel.getProperty("/groups");for(let o=0;o<t.length;++o){const i=t[o];const s=i.tiles;const n=i.links;for(let t=0;t<s.length;++t){if(s[t].uuid===e){return`/groups/${o}/tiles/${t}`}}for(let t=0;t<n.length;++t){if(n[t].uuid===e){return`/groups/${o}/links/${t}`}}}return null},_moveInArray:function(e,t,o){if(o>=e.length){let t=o-e.length;while(t--+1){e.push(undefined)}}e.splice(o,0,e.splice(t,1)[0])},_updateGroupIndices:function(e){for(let t=0;t<e.length;t++){e[t].index=t}},_deleteGroup:function(t,o,i){const s=this.oModel;const n=i.groupId;const r=s.getProperty("/groups");const l=h.getIndexOfGroup(r,n);const a=r.length-1===l;const d=a?l-1:l;c.destroyFLPAggregationModel(s.getProperty(`/groups/${l}`));const u=r.splice(l,1)[0];if(a){s.setProperty(`/groups/${d}/isLastGroup`,a)}s.setProperty("/groups",r);this._updateGroupIndices(r);if(d>=0){window.setTimeout(()=>{e.getEventBus().publish("launchpad","scrollToGroup",{groupId:s.getProperty("/groups")[d].groupId})},200)}function p(){this.oPageOperationAdapter.deleteGroup(u).then(()=>{g.showLocalizedMessage("group_deleted_msg",[u.title]);this._checkRequestQueue()}).catch(()=>{this._resetGroupsOnFailure("fail_to_delete_group_msg")})}this._addRequest(p.bind(this))},_resetGroup:function(t,o,i){const s=this;const n=i.groupId;const r=this.oModel;const l=r.getProperty("/groups");const d=h.getIndexOfGroup(l,n);const p=s.oModel.getProperty("/groups/indexOfDefaultGroup")===d;const c=r.getProperty(`/groups/${d}`);r.setProperty(`/groups/${d}/sortable`,false);function f(){s.oPageOperationAdapter.resetGroup(c,p).then(t=>{s._handleAfterSortable((t,o,i)=>{const n=s.oModel.getProperty("/groups");const r=h.getIndexOfGroup(n,t);s._loadGroup(r,i||o);g.showLocalizedMessage("group_reset_msg",[o.title]);s.oModel.setProperty(`/groups/${r}/sortable`,true);const l=e.byId("dashboardGroups").getGroupControlByGroupId(t);const d=l.getBindingContext().getObject().links;if(d&&d.length&&!l.getIsGroupLocked()){s._changeGroupLinksScope(l.getBindingContext().getObject(),s.oModel.getProperty("/tileActionModeActive")?v.Actions:v.Display)}if(l){l.invalidate();a.emit("updateGroups",Date.now());u.handleTilesVisibility()}})(n,c,t);s._checkRequestQueue()}).catch(()=>{s._resetGroupsOnFailure("fail_to_reset_group_msg")})}this._addRequest(f)},_moveGroup:function(e,t,o){if(isNaN(o.fromIndex)){return}let i=o.fromIndex;let s=o.toIndex;const n=this.oModel;let r=n.getProperty("/groups");const l=n.getProperty("/tileActionModeActive");const a=this;if(!l){i=this._adjustFromGroupIndex(i,r)}const d=r[i];const u=d.groupId;if(!l){s=this._adjustToGroupIndex(s,r,u)}const p=r[s];this._moveInArray(r,i,s);this._updateGroupIndices(r);for(let e=0;e<r.length-1;e++){r[e].isLastGroup=false}r[r.length-1].isLastGroup=true;n.setProperty("/groups",r);function c(){r=n.getProperty("/groups");const e=n.getProperty(h.getModelPathOfGroup(r,u));if(!e.object){return}a.oPageOperationAdapter.getOriginalGroupIndex(p,r).then(t=>{const o={iFromIndex:i,iToIndex:s};return a.oPageOperationAdapter.moveGroup(e,t,o)}).then(a._checkRequestQueue.bind(a)).catch(()=>{a._resetGroupsOnFailure("fail_to_move_group_msg")})}this._addRequest(c)},_adjustToGroupIndex:function(e,t,o){let i=0;let s=false;let n;for(n=0;n<t.length&&i<e;n++){if(t[n].isGroupVisible){if(t[n].groupId===o){s=true}else{i++}}}if(s){return n-1}return n},_adjustFromGroupIndex:function(e,t){let o=0;for(let i=0;i<t.length;i++){if(t[i].isGroupVisible){o++}if(o===e+1){return i}}return e},_changeGroupTitle:function(e,t,o){const i=this;const s=o.newTitle;const n=this.oModel.getProperty("/groups");const r=o.groupId;const l=h.getIndexOfGroup(n,r);const a=i.oModel.getProperty("/groups/indexOfDefaultGroup")===l;const d=this.oModel.getProperty(`/groups/${l}`);const u=d.title;this.oModel.setProperty(`/groups/${l}/title`,s);function p(){let e;if(d.isLastGroup){e=i.oPageOperationAdapter.addGroupAt(d,undefined,a)}else{const t=i.oModel.getProperty("/groups")[l+1];e=i.oPageOperationAdapter.getOriginalGroupIndex(t,n).then(e=>i.oPageOperationAdapter.addGroupAt(d,e,a))}e.then(e=>{i._handleAfterSortable((e,t)=>{const o=i.oModel.getProperty("/groups");const s=h.getIndexOfGroup(o,e);const n=o[s];Object.keys(t).forEach(e=>{if(e==="tiles"||e==="links"){return}n[e]=t[e]});i.oModel.refresh();i._checkRequestQueue()})(r,e)}).catch(()=>{i._resetGroupsOnFailure("fail_to_create_group_msg")})}function c(){this.oPageOperationAdapter.renameGroup(d,s,u).then(()=>{i._checkRequestQueue()}).catch(()=>{i._resetGroupsOnFailure("fail_to_rename_group_msg")})}if(!d.object){this._checkRequestQueue();this._addRequest(p.bind(this))}else{this._addRequest(c.bind(this))}},addGroupToModel:function(e){const t=this.oPageOperationAdapter.getPreparedGroupModel(e,false,true,{isRendered:true});const o=this.oModel.getProperty("/groups");const i=o.length;if(i>0){o[i-1].isLastGroup=false}t.index=i;o.push(t);this.oModel.setProperty("/groups/",o);const s=new y(this.oModel,`/groups/${i}`);return s},_deleteTile:function(t,o,s){const n=s.tileId;const r=this.oModel.getProperty("/groups");const l=s.items||"tiles";function a(e,t){this.oPageOperationAdapter.removeTile(e,t).then(this._checkRequestQueue.bind(this)).catch(this._resetGroupsOnFailure.bind(this,"fail_to_remove_tile_msg"))}function d(t,o,i){const s=e.byId("dashboardGroups");const n=s.getGroupControlByGroupId(o.groupId);let r;if(i==="tiles"){if(t+1===o[i].length){r=n.oPlusTile}}else{const e=n.getLinks();if(t+1===e.length){if(e.length===1){r=n.oPlusTile}else{r=e[t-1]}}else{r=e[t+1]}}if(r){sap.ui.require(["sap/ushell/components/ComponentKeysHandler"],e=>{e.getInstance().then(e=>{e.moveScrollDashboard(r.$())})})}}for(let e=0;e<r.length;++e){const t=r[e];for(let o=0;o<t[l].length;++o){const s=t[l][o];if(s.uuid===n){if(i.system.desktop){d(o,t,l)}c.destroyTileModel(this.oModel.getProperty(`/groups/${e}/${l}/${o}`));const s=t[l].splice(o,1)[0];const n=this.oModel.getProperty("/personalization");t.visibilityModes=u.calcVisibilityModes(t,n);this.oModel.setProperty(`/groups/${e}`,t);this._addRequest(a.bind(this,t,s));u.handleTilesVisibility();return}}}},deleteTilesFromGroup:function(e,t){const o=this.oModel.getProperty("/groups");const i=h.getIndexOfGroup(o,e);const s=this.oModel.getProperty(`/groups/${i}`);let n=[];["tiles","links"].forEach(e=>{n=s[e].filter(e=>t.indexOf(e.uuid)<0);s[e]=n});s.visibilityModes=u.calcVisibilityModes(s,true);this.oModel.setProperty(`/groups/${i}`,s)},_getGroupIndex:function(e){const t=this.oModel.getProperty("/groups");const o=this._getNewGroupInfo(t,e);if(o){return o.newGroupIndex}return undefined},_convertTile:function(e,t,o){const i=o.tile?o.tile:o;const s=o.srcGroupId?this._getGroupIndex(o.srcGroupId):undefined;const n=o.srcGroupId?this.oModel.getProperty(`/groups/${s}`):i.getParent().getBindingContext().getObject();const r=i.getBindingContext().sPath.split("/");const l=i.getBindingContext().getObject();const d=r[r.length-2];const c=l.uuid;const h=parseInt(r[r.length-1],10);const g=o.toIndex!==undefined?o.toIndex:undefined;const f=this.oModel.getProperty("/tileActionModeActive");const b=o.toGroupId?this._getGroupIndex(o.toGroupId):n.index;const m=o.toGroupId?this.oModel.getProperty(`/groups/${b}`):n;const M=this;const P=this._getIndexForConvert(d,h,g,n,m);const T={tileIndex:h,groupIndex:s,group:n};function G(){l.tileIsBeingMoved=true;const e=this.oPageOperationAdapter.moveTile(l,P,n,m,d==="links"?"tile":"link");e.then(e=>{M._handleAfterSortable((e,t)=>{const i=M._getPathOfTile(e);const s=t.content;if(i){if(d==="tiles"){M._attachLinkPressHandlers(s);M._changeLinkScope(s,f?"Actions":"Display")}if(n===m){_.show(p.i18n.getText("PageRuntime.Message.VisualizationConverted"))}else{_.show(p.i18n.getText("PageRuntime.Message.VisualizationMovedAndConverted"))}const e={tileIndex:g,groupIndex:b,group:m};const i={tile:l,view:s,type:d,tileObj:t.object};l.tileIsBeingMoved=true;M.replaceTileViewAfterConvert(T,e,i);a.emit("updateGroups",Date.now());u.handleTilesVisibility();if(o.callBack){o.callBack(s)}}})(c,e);M._checkRequestQueue()}).catch(()=>{M._handleAfterSortable(M._resetGroupsOnFailure.bind(M))("fail_to_move_tile_msg")})}this._addRequest(G.bind(this))},replaceTileViewAfterConvert:function(e,t,o){const i=o.tile;const s=i.content;i.tileIsBeingMoved=false;i.content=[o.view];i.object=o.tileObj;i.originalTileId=this.oPageOperationAdapter.getTileId(o.tileObj);e.group[o.type].splice(e.tileIndex,1);if(t.tileIndex!==undefined){t.group[o.type==="tiles"?"links":"tiles"].splice(t.tileIndex,0,i)}else{t.group[o.type==="tiles"?"links":"tiles"].push(i)}this.oModel.setProperty(`/groups/${t.groupIndex}`,t.group);this.oModel.setProperty(`/groups/${e.groupIndex}`,e.group);if(o.type==="links"){this._handleTileAppearanceAnimation(i.content[0].getParent())}else{this._handleTileAppearanceAnimation(i.content[0])}if(s&&s[0]){s[0].destroy()}},_getIndexForConvert:function(e,t,o,i,s){let n;if(e==="tiles"){if(o!==undefined){n=s[e].length+o}else{n=s[e].length+s.links.length}if(i.groupId===s.groupId){n--}}else{n=o||i.tiles.length;t+=i.tiles.length}return{tileIndex:t,newTileIndex:n}},_getIndexForMove:function(e,t,o,i,s){let n;if(e==="tiles"){n=o!==undefined?o:i[e].length}else{if(o!==undefined){n=i.tiles.length+o}else{n=i.tiles.length+i.links.length}t+=s.tiles.length}return{tileIndex:t,newTileIndex:n}},_getTileInfo:function(e,t,o){for(let i=0;i<e.length;++i){const s=e[i];for(let e=0;e<s[o].length;++e){const n=s[o][e];if(n.uuid===t){return{oTile:n,tileIndex:e,oGroup:s,groupIndex:i}}}}return},_getNewGroupInfo:function(e,t){for(let o=0;o<e.length;++o){const i=e[o];if(i.groupId===t){return{oNewGroup:i,newGroupIndex:o}}}return},_moveTile:function(e,t,o){let i=o.toIndex;const s=o.toGroupId;const n=o.sTileId;const r=o.source;const l=o.sTileType==="tiles"||o.sTileType==="tile"?"tile":"link";const d=o.sToItems;const c=o.sFromItems;const h=this.oModel.getProperty("/tileActionModeActive");const g=this.oModel.getProperty("/groups");const f=this._getTileInfo(g,n,c);const b=this._getNewGroupInfo(g,s);const m=this;const M=f.tileIndex===b.oNewGroup.tiles.length-1&&i>=b.oNewGroup.tiles.length;if((f.tileIndex===i||M)&&f.oGroup.groupId===b.oNewGroup.groupId){return}if(f.oGroup.groupId===b.oNewGroup.groupId&&(r==="movetileDialog"||i===null||r==="movelinkDialog")){if(o.callBack&&f.oTile&&f.oTile.content&&f.oTile.content.length){o.callBack(f.oTile.content[0])}return}if(l==="link"){f.oTile.content[0].addStyleClass("sapUshellZeroOpacity")}if(l==="tile"&&d==="tiles"){if(i&&i>b.oNewGroup[d].length){i=b.oNewGroup[d].length}}if(f.oGroup.groupId===s&&d===c){if(i===null||i===undefined){f.oGroup[d].splice(f.tileIndex,1);i=f.oGroup[d].length;f.oGroup[d].push(f.oTile)}else{i=this._adjustTileIndex(i,f.oTile,f.oGroup,d);this._moveInArray(f.oGroup[d],f.tileIndex,i)}this.oModel.setProperty(`/groups/${f.groupIndex}/${d}`,f.oGroup[d])}else{const e=this.oModel.getProperty("/personalization");f.oGroup[c].splice(f.tileIndex,1);f.oGroup.visibilityModes=u.calcVisibilityModes(f.oGroup,e);this.oModel.setProperty(`/groups/${f.groupIndex}/${c}`,f.oGroup[c]);if(i===null||i===undefined){i=b.oNewGroup[d].length;b.oNewGroup[d].push(f.oTile)}else{i=this._adjustTileIndex(i,f.oTile,b.oNewGroup,d);b.oNewGroup[d].splice(i,0,f.oTile)}b.oNewGroup.visibilityModes=u.calcVisibilityModes(b.oNewGroup,e);this.oModel.setProperty(`/groups/${b.newGroupIndex}/${d}`,b.oNewGroup[d])}a.emit("updateGroups",Date.now());u.handleTilesVisibility();function P(){const e=this.oModel.getProperty(`/groups/${f.groupIndex}`);const t=this.oModel.getProperty(`/groups/${b.newGroupIndex}`);const s=this._getIndexForMove(c,f.tileIndex,i,b.oNewGroup,e);f.oTile.tileIsBeingMoved=true;this.oPageOperationAdapter.moveTile(f.oTile,s,e,t,l).then(e=>{const t=m._getPathOfTile(n);if(t){m.oModel.setProperty(`${t}/object`,e.object);m.oModel.setProperty(`${t}/originalTileId`,e.originalTileId);const i=m.oModel.getProperty(`${t}/content`);const s=e.content;if(d==="links"){m._changeLinkScope(s,h?"Actions":"Display");m._attachLinkPressHandlers(s);m._handleTileAppearanceAnimation(s);f.oTile.content=[s];m.oModel.setProperty(t,k({},f.oTile));m.oModel.setProperty(`/groups/${b.newGroupIndex}/${d}`,m.oModel.getProperty(`/groups/${b.newGroupIndex}/${d}`))}else{m.oModel.setProperty(`${t}/content`,[s])}if(i&&i[0]){const e=s.onAfterRendering;s.onAfterRendering=function(){e.apply(this);i[0].destroy();s.onAfterRendering=e}}m.oModel.setProperty(`${t}/tileIsBeingMoved`,false);if(o.callBack){o.callBack(s)}_.show(p.i18n.getText("PageRuntime.Message.VisualizationMoved"))}m._checkRequestQueue()}).catch(()=>{m._resetGroupsOnFailure("fail_to_move_tile_msg")})}this._addRequest(P.bind(this))},_adjustTileIndex:function(e,t,o,i){let s=0;let n=false;let r=0;for(r=0;r<o[i].length&&s<e;r++){if(o[i][r].isTileIntentSupported){if(o[i][r]===t){n=true}else{s++}}}if(n){return r-1}return r},getModel:function(){return this.oModel},getDashboardView:function(){return this.oDashboardView},setDashboardView:function(e){this.oDashboardView=e;return this},setTileVisible:function(e,t){this.oPageOperationAdapter.setTileVisible(e.object,t)},refreshTile:function(e){this.oPageOperationAdapter.refreshTile(e.object)},updateSettings:function(e){this.oModel=e.model||this.oModel;this.oConfig=e.config||this.oConfig;this.oRouter=e.router||this.oRouter;this.oDashboardView=e.view||this.oDashboardView},_resetGroupsOnFailure:function(e,t){this._requestFailed();g.showLocalizedError(e,t);this.bStartLoadRemainSegment=false;this.loadPersonalizedGroups();this.oModel.updateBindings(true)},resetGroupsOnFailure:function(){this._resetGroupsOnFailure.apply(this,arguments)},_bindSegment:function(e,t){for(let o=0;o<t.length;o++){const i=t[o];const s=i.index;const n=e[s];if(n){n.isRendered=true;n.tiles=n.tiles.concat(i.tiles);n.links=n.links.concat(i.links)}}return e},createGroupsModelFrame:function(e,t){const o=[];function i(e){const t=k({},e);t.tiles=[];t.pendingLinks=[];t.links=[];return t}for(let s=0;s<e.length;s++){const n=e[s];o[s]=i(n);o[s].isRendered=false;o[s].visibilityModes=u.calcVisibilityModes(n,t)}return o},_splitGroups:function(e,t){let o=[];let i=0;const s=this.oModel.getProperty("/homePageGroupDisplay")==="tabs";const n=this.oModel.getProperty("/personalization");let r=0;const l=500;for(let a=0;a<e.length;a++){const d=e[a];o.push(d);if(!this.segmentsStore.length){i+=this.PagingManager.getGroupHeight(d,t===a,n)}else{r+=d.tiles.length+d.links.length}if(s&&!this.segmentsStore.length&&i>0){o.loadTilesView=true;this.segmentsStore.push(o);o=[];i=0}if(i>=1||r>=l){this.segmentsStore.push(o);o=[];i=0;r=0}}if(o.length){this.segmentsStore.push(o)}},_processSegment:function(e){const t=this.segmentsStore.shift();if(!t){return e}if(this.isBlindLoading()===false){if(this.oModel.getProperty("/homePageGroupDisplay")!=="tabs"||t.loadTilesView){this.getSegmentContentViews(t)}}e=this._bindSegment(e,t);return e},getSegmentContentViews:function(e){let t;let o;for(let i=0;i<e.length;i++){const s=e[i];for(t=0;t<s.tiles.length;t++){o=s.tiles[t];if(o.isTileIntentSupported){this.getTileView(o)}}for(t=0;t<s.links.length;t++){o=s.links[t];if(o.isTileIntentSupported){this.getTileView(o,s.index)}}}this.bIsFirstSegmentViewLoaded=true},getSegmentTabContentViews:function(e,t,o){let i;let s;const n=o.iSelectedGroup;const r=this.oModel.getProperty(`/groups/${n}`);for(i=0;i<r.tiles.length;i++){s=r.tiles[i];if(s.isTileIntentSupported){this.getTileView(s)}}for(i=0;i<r.links.length;i++){s=r.links[i];if(s.isTileIntentSupported){this.getTileView(s,n)}}},_handleBookmarkModelUpdate:function(){this.bIsGroupsModelDirty=false;this.bGroupsModelLoadingInProcess=true;this.loadPersonalizedGroups()},_modelLoaded:function(){this.bGroupsModelLoadingInProcess=false;if(this.bIsGroupsModelDirty){this._handleBookmarkModelUpdate()}},handleFirstSegmentLoaded:function(){const e=this.oModel.getProperty("/groups");if(this.aGroupsFrame){Array.prototype.push.apply(e,this.aGroupsFrame);this.aGroupsFrame=null}this._initializeAnchorNavigationBar();if(!this.bStartLoadRemainSegment){this._processRemainingSegments()}},_initializeAnchorNavigationBar:function(){const e=V.getDashboardView();const t=e.getAnchorItemTemplate();this.oDashboardView.oAnchorNavigationBar.bindAggregation("groups",{path:"/groups",template:t})},_processRemainingSegments:function(){let t;if(this.segmentsStore.length>0){window.setTimeout(()=>{t=this._processSegment(this.oModel.getProperty("/groups"));this.oModel.setProperty("/groups",t);this.bIsFirstSegment=false;this._processRemainingSegments()},0)}else{this.bIsGroupsModelLoading=false;this._updateModelWithTileView(0,0);u.handleTilesVisibility();e.getEventBus().publish("launchpad","dashboardModelContentLoaded");a.emit("updateGroups",Date.now())}},tabsModeVisibilityChanged:function(){if(this.bIsFirstSegmentViewLoaded===false&&this.oModel.getProperty("/homePageGroupDisplay")==="tabs"){this.oDashboardLoadingManager.manageTilesView();this.bIsFirstSegmentViewLoaded=true;a.emit("firstSegmentCompleteLoaded",true)}},_setGroupModel:function(e){if(this.bIsGroupsModelLoading){I.info("Skip set the group model, because the group model is still loading");return}let t=0;let o;let i=0;let s=0;let n=0;let l=null;let d=[];this.bIsGroupsModelLoading=true;try{i=this.oModel.getProperty("/groups").length}catch{}for(t=e.length;t<i;++t){c.destroyFLPAggregationModel(this.oModel.getProperty(`/groups/${t}`))}if(!this.PagingManager){let e=jQuery("#dashboardGroups").width();if(!e){e=window.innerWidth}let t=jQuery("#sapUshellDashboardPage-cont").height();if(t<100){t=window.innerHeight}this.PagingManager=new r("dashboardPaging",{supportedElements:{tile:{className:"sapUshellTile"},link:{className:"sapUshellLinkTile"}},containerHeight:t,containerWidth:e})}e.forEach(e=>{if(e.isGroupVisible){s+=e.tiles.length}});this.bIsScrollModeAccordingKPI=s>this.iMinNumOfTilesForBlindLoading;this.aGroupsFrame=this.createGroupsModelFrame(e,this.oModel.getProperty("/personalization"));for(t=0;t<this.aGroupsFrame.length;t++){if(this.aGroupsFrame[t].isGroupVisible&&this.aGroupsFrame[t].visibilityModes[0]){if(l===null){l=t;this.aGroupsFrame[t].isGroupSelected=true;this.oModel.setProperty("/iSelectedGroup",t)}n++;if(n>1){this.aGroupsFrame[l].showGroupHeader=false;break}}}this._splitGroups(e,l);const p=this.segmentsStore[0]?this.segmentsStore[0].length:0;const h=this.aGroupsFrame.splice(0,p);w.start("FLP:DashboardManager._processSegment","_processSegment","FLP");d=this._processSegment(h);e.every((e,t)=>{if(e.isDefaultGroup){o=t;return false}return true});d.indexOfDefaultGroup=o;if(this.oModel.getProperty("/homePageGroupDisplay")==="tabs"){const e=this.getDashboardView();if(e){const t=e.oDashboardGroupsBox;const o=t.getBinding("groups");if(o){o.filter([e.oFilterSelectedGroup])}}}w.end("FLP:DashboardManager._processSegment");this.oModel.setProperty("/groups",d);this.aGroupModel=d;if(this.oDashboardView){a.once("firstSegmentCompleteLoaded").do(()=>{u.setPerformanceMark("FLP-TTI-Homepage",{bUseUniqueMark:true})}).do(this.handleFirstSegmentLoaded.bind(this))}else{setTimeout(()=>{Array.prototype.push.apply(this.aGroupModel,this.aGroupsFrame);this.aGroupsFrame=null;this.bStartLoadRemainSegment=true;this._processRemainingSegments()},0)}if(!this.bIsFirstSegmentViewLoaded&&this.isBlindLoading()){this.bIsFirstSegmentViewLoaded=!this._isAtLeastOneTileVisibleInASegment(h)}if(this.bIsFirstSegmentViewLoaded){a.emit("firstSegmentCompleteLoaded",true)}w.end("FLP:DashboardManager.loadGroupsFromArray")},_isAtLeastOneTileVisibleInASegment:function(e){let t;let o;for(let i=0;i<e.length;++i){t=e[i];for(let e=0;e<t.tiles.length;++e){o=t.tiles[e];if(o.isTileIntentSupported){return true}}}return false},getPreparedGroupModel:function(){return this.aGroupModel},_loadGroup:function(e,t){const o=this;const i=`/groups/${e}`;const s=o.oModel.getProperty(i);const n=s.isLastGroup;const r=s.groupId;c.destroyFLPAggregationModel(s);if(r){t.groupId=r}t.isLastGroup=n;t.index=e;t.isRendered=true;this.oModel.setProperty(i,t)},_hasPendingLinks:function(e){for(let t=0;t<e.length;t++){if(e[t].content[0]===undefined){return true}}return false},_addModelToTileViewUpdateQueue:function(e,t){this.tileViewUpdateQueue.push({uuid:e,view:t})},_updateModelWithTileView:function(e,t){const o=this;if(this.tileViewUpdateTimeoutID){clearTimeout(this.tileViewUpdateTimeoutID)}this.tileViewUpdateTimeoutID=window.setTimeout(()=>{o.tileViewUpdateTimeoutID=undefined;o.oSortableDeferred.done(()=>{o._updateModelWithTilesViews(e,t)})},50)},_updateGroupModelWithTilesViews:function(e,t,o,i){const s=t||0;for(let t=s;t<e.length;t=t+1){const s=e[t];for(let e=0;e<this.tileViewUpdateQueue.length;e++){const t=this.tileViewUpdateQueue[e];if(s.uuid===t.uuid){o.push(e);if(t.view){if(i){s.content=[t.view]}else{s.content[0].destroy();s.content=[t.view]}this.oDashboardLoadingManager.setTileResolved(s);const e=this.oPageOperationAdapter.getTileSize(s.object);const o=e!==null&&e==="1x2"||false;if(s.long!==o){s.long=o}}else{s.content[0].setState("Failed")}break}}}},_updateModelWithTilesViews:function(e,t){const o=this.oModel.getProperty("/groups");const i=e||0;const s=[];if(!o||this.tileViewUpdateQueue.length===0){return}for(let e=i;e<o.length;e=e+1){this._updateGroupModelWithTilesViews(o[e].tiles,t,s);if(o[e].links){this._updateGroupModelWithTilesViews(o[e].links,t,s,true);if(o[e].pendingLinks.length>0){if(!o[e].links){o[e].links=[]}o[e].links=o[e].links.concat(o[e].pendingLinks);o[e].pendingLinks=[]}}}const n=[];let r;for(r=0;r<this.tileViewUpdateQueue.length;r++){if(s.indexOf(r)===-1){n.push(this.tileViewUpdateQueue[r])}}this.tileViewUpdateQueue=n;this.oModel.setProperty("/groups",o)},getModelTileById:function(e,t){const o=this.oModel.getProperty("/groups");let i;let s=false;o.every(o=>{o[t].every(t=>{if(t.uuid===e||t.originalTileId===e){i=t;s=true}return!s});return!s});return i},_attachLinkPressHandlers:function(t){const o=e.getEventBus();const i=t.attachPress?t:t.getContent()[0];i.attachPress(function(e){const i=t.getBindingContext().getObject().tileIsBeingMoved;if(!i&&this.getScope&&this.getScope()==="Actions"){switch(e.getParameters().action){case"Press":const i=t.getState?t.getState():"";if(i!=="Failed"){const t=sap.ui.require("sap/ushell/components/homepage/ActionMode");if(t){t._openActionsMenu(e)}else{I.error("Race condition occurred! - sap/ushell/components/homepage/ActionMode was not required in time.")}}break;case"Remove":const s=t.getBindingContext().getObject().uuid;o.publish("launchpad","deleteTile",{tileId:s,items:"links"});break;default:break}}else{o.publish("launchpad","dashboardTileLinkClick")}})},handleDisplayModeChange:function(e){this.oModel.setProperty("/homePageGroupDisplay",e);switch(e){case"scroll":this._handleDisplayModeChangeToScroll();break;case"tabs":this._handleDisplayModeChangeToTabs();break}},_handleDisplayModeChangeToTabs:function(){const e=this.oModel.getProperty("/iSelectedGroup");const t=this.oModel.getProperty("/groups");this.oDashboardLoadingManager.manageTilesView();if(t.length>0){for(let e=0;e<t.length;e++){this.oModel.setProperty(`/groups/${e}/isGroupSelected`,false)}this.oModel.setProperty(`/groups/${e}/isGroupSelected`,true)}},_handleDisplayModeChangeToScroll:function(){if(this.isBlindLoading()){return}const t=this.oModel.getProperty("/groups");let o=[];let i;for(let e=0;e<t.length;e++){const s=t[e];const n=s.tiles||[];for(i=0;i<n.length;i++){const t=n[i];if(t.content.length===0){this.getTileView(t,e)}}o=s.links||[];for(i=0;i<o.length;i++){this.getTileView(o[i],e)}}this.oModel.refresh(false);const s=this.oModel.getProperty("/iSelectedGroup");if(s){setTimeout(()=>{e.getEventBus().publish("launchpad","scrollToGroup",{groupId:t[s].groupId})},100)}},getTileViewsFromArray:function(e){const t=this;if(e.length===0){return}e.forEach(e=>{t.getTileView(e.oTile,e.iGroup)});this.oModel.refresh(false);if(this.bIsFirstSegmentViewLoaded===false){this.bIsFirstSegmentViewLoaded=true;a.emit("firstSegmentCompleteLoaded",true)}},getTileView:function(e,t){const o=this.oPageOperationAdapter.getTileType(e.object);if(this.oDashboardLoadingManager.isTileViewRequestIssued(e)){return}this.oDashboardLoadingManager.setTileInProgress(e);this.oPageOperationAdapter.setTileVisible(e.object,false);if(o==="card"){this._loadCardData(e)}else{this._loadTileData(e,t,o)}},_loadCardData:function(t){const o=e.byId(t.controlId);if(o&&o.setManifest&&this.isBlindLoading()){o.setManifest(t.manifest)}t.content=[t.manifest];this.oDashboardLoadingManager.setTileResolved(t)},getCurrentHiddenGroupIds:function(e){return this.oPageOperationAdapter.getCurrentHiddenGroupIds(e)},_loadTileData:function(e,t,o){const i=this;const s=this.oPageOperationAdapter.getTileView(e);let r;const l=this._addModelToTileViewUpdateQueue;let a;let d=false;const u=e.uuid;let p=false;if(s.state()==="resolved"){p=true}s.done(o=>{if(o.oController&&o.oController.navigationTargetUrl&&!e.isCustomTile){e.target=o.oController.navigationTargetUrl}a=o;if(a.getComponentInstance){w.average("FLP:getComponentInstance","get info for navMode","FLP1");const t=a.getComponentInstance().getComponentData();if(t&&t.properties){e.navigationMode=t.properties.navigationMode}w.end("FLP:getComponentInstance")}i.oDashboardLoadingManager.setTileResolved(e);const s=o.getMode?o.getMode():"ContentMode";if(i.bLinkPersonalizationSupported&&s==="LineMode"){a.setScope(i.oModel.getProperty("/tileActionModeActive")?"Actions":"Display");i._attachLinkPressHandlers(a);if(t>=0){const o=i.oModel.getProperty("/groups");if(o[t]){e.content=[a];r=i.oModel.getProperty(`/groups/${t}/links`);i.oModel.setProperty(`/groups/${t}/links`,[]);i.oModel.setProperty(`/groups/${t}/links`,r)}}}else if(i.isBlindLoading()){if(e.content&&e.content.length>0){e.content[0].destroy()}e.content=[a];if(t>=0&&!p){i.oModel.refresh(false)}}if(i.isBlindLoading()){const t=i.oPageOperationAdapter.getTileSize(e.object);const o=t==="1x2";if(e.long!==o){e.long=o;i.oModel.refresh(false)}}else if(s==="LineMode"){e.content=[a];if(d){r=i.oModel.getProperty(`/groups/${t}/links`);i.oModel.setProperty(`/groups/${t}/links`,[]);i.oModel.setProperty(`/groups/${t}/links`,r)}}else if(e.content.length===0){e.content=[a]}else{l.apply(i,[u,a]);i._updateModelWithTileView(0,0)}});s.fail(()=>{if(i.oPageOperationAdapter.getTileType(e.object)==="link"&&i.bLinkPersonalizationSupported){a=i.oPageOperationAdapter.getFailedLinkView(e);i._attachLinkPressHandlers(a)}else{a=new n({state:"Failed"})}e.content=[a]});if(!a){if(i.oPageOperationAdapter.getTileType(e.object)==="link"){d=true;a=new f({mode:"LineMode"})}else{a=new n}e.content=[a]}},loadLibraryForCardModuleIfNeeded:function(){if(L.last("/core/home/featuredGroup/enable")){return e.loadLibrary("sap.ui.integration",{async:true})}return Promise.resolve()},loadPersonalizedGroups:function(){const e=this;const t=new jQuery.Deferred;if(this.bIsGroupsRequestPending){I.info("loadPersonalizedGroups was skipped because there is already a pending request.");t.reject(new Error("loadPersonalizedGroups was skipped because there is already a pending request."));return t.promise()}this.bIsGroupsRequestPending=true;this.oServiceLoadingPromise.then(e.loadLibraryForCardModuleIfNeeded).then(()=>e.oPageOperationAdapter.getPage()).then(o=>{e._setGroupModel(o);e.bIsGroupsRequestPending=false;t.resolve()}).catch(t=>{I.error("Loading of personalized groups failed.",t,"sap.ushell.components.HomepageManager");g.showLocalizedError("fail_to_load_groups_msg");e.bIsGroupsRequestPending=false});w.start("FLP:DashboardManager.loadPersonalizedGroups","loadPersonalizedGroups","FLP");return t.promise()}});x.prototype.getInstance=function(){return V};return x});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/MessagingHelper", ["sap/ushell/resources","sap/ushell/Container"],(e,n)=>{"use strict";function r(n,r){const s=Array.isArray(r)?r:[r];return e.i18n.getText(n,s)}function s(e,s){n.getServiceAsync("MessageInternal").then(n=>{n.show(n.Type.ERROR,r(e,s),s)})}function t(e,n){return function(){s(e,n)}}function o(e,s,t){n.getServiceAsync("MessageInternal").then(n=>{n.show(t||n.Type.INFO,r(e,s),s)})}return{getLocalizedText:r,showLocalizedError:s,showLocalizedErrorHelper:t,showLocalizedMessage:o}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/SharedComponentUtils", ["sap/ui/Device","sap/ushell/Config","sap/ushell/EventHub","sap/base/Log","sap/ui/core/Component","sap/ushell/Container","sap/ushell/utils"],(e,t,n,s,r,i,o)=>{"use strict";const a={PERS_KEY:"flp.settings.FlpSettings",bFlpSettingsAdded:false,toggleUserActivityLog:function(){n.join(n.once("CoreResourcesComplementLoaded"),t.on("/core/extension/SupportTicket")).do(async(e,t)=>{let n=sap.ui.require("sap/ushell/UserActivityLog");if(t&&!n){n=(await o.requireAsync(["sap/ushell/UserActivityLog"]))[0]}if(!n){return}if(t){n.activate()}else{n.deactivate()}})},initializeAccessKeys:function(){if(e.system.desktop){sap.ui.require(["sap/ushell/components/ComponentKeysHandler","sap/ushell/renderer/AccessKeysHandler"],(e,t)=>{e.getInstance().then(e=>{t.registerAppKeysHandler(e.handleFocusOnMe)})})}},getEffectiveHomepageSetting:function(e,n){if(t.last(n)===false){return Promise.resolve(t.last(e))}const s=e.split("/").pop();return this._getPersonalization(s).then(n=>{if(typeof n==="undefined"){return t.last(e)}t.emit(e,n);return n}).catch(()=>t.last(e))},_getPersonalization:function(e){return a.getPersonalizer(e,i.getRendererInternal("fiori2")).then(e=>e.getPersData()).catch(t=>{s.error(`Failed to load ${e} from the personalization`,t,"sap.ushell.components.flp.settings.FlpSettings");throw t})},getPersonalizer:function(e,t){return i.getServiceAsync("PersonalizationV2").then(n=>{const s=r.getOwnerComponentFor(t);const i={keyCategory:n.KeyCategory.FIXED_KEY,writeFrequency:n.WriteFrequency.LOW,clientStorageAllowed:true};const o={container:this.PERS_KEY,item:e};return n.getPersonalizer(o,i,s)})}};return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HomepageManager/DashboardLoadingManager", ["sap/base/util/deepExtend","sap/ui/base/Object","sap/ui/core/EventBus","sap/ui/performance/Measurement"],(e,i,s,t)=>{"use strict";const n=i.extend("sap.ushell.components._HomepageManager.DashboardLoadingManager",{metadata:{},constructor:function(e,i){const t=s.getInstance();this.currentVisibleTiles=[];this.aRefreshTiles=[];this.oBusyIndicatorTiles={};this.oActiveDynamicTiles={};this.oResolvedTiles={};this.oInProgressTiles={};this.oDashboardManager=i.oDashboardManager;t.subscribe("launchpad","visibleTilesChanged",this._onVisibilityChanged,this);t.subscribe("launchpad","dashboardTileClick",this._addTileToRefreshArray,this);t.subscribe("launchpad","refreshTiles",this._refreshTiles,this);t.subscribe("launchpad","setTilesNoVisibility",this._setTilesNoVisibility,this);t.subscribe("launchpad","onHiddenTab",this._setTilesNoVisibility,this)},_onVisibilityChanged:function(e,i,s){this.currentVisibleTiles=s;if(this.oDashboardManager.isBlindLoading()){this.manageTilesView()}this.oDashboardManager.tabsModeVisibilityChanged();this.manageBusyIndicatorTiles();this.manageDynamicTiles()},manageDynamicTiles:function(){t.average("DashboardLoadingManagerActiveDynamicTile","Manage Active Dynamic Tiles","FLP_SHELL");let i;let s;const n={};const l=e({},this.oActiveDynamicTiles);for(let e=0;e<this.currentVisibleTiles.length;e++){const i=this.currentVisibleTiles[e];if(!i.bIsExtanded){delete l[i.oTile.uuid]}}for(const e in l){i=this.oActiveDynamicTiles[e];s=i.object;this.oDashboardManager.setTileVisible(i,false)}for(let e=0;e<this.currentVisibleTiles.length;e++){const t=this.currentVisibleTiles[e];if(!t.bIsExtanded){i=t.oTile;s=i.object;if(this.oActiveDynamicTiles[i.uuid]===undefined&&s){this.oDashboardManager.setTileVisible(i,true)}n[i.uuid]=i}}this.oActiveDynamicTiles=n;t.end("DashboardLoadingManagerActiveDynamicTile")},isTileViewRequestIssued:function(e){if(this.oInProgressTiles[e.uuid]===undefined&&this.oResolvedTiles[e.uuid]===undefined){return false}return true},manageBusyIndicatorTiles:function(){t.average("DashboardLoadingManagerBusyIndicators","Manage Busy Indicators on Tiles","FLP_SHELL");let e;let i;let s;let n;const l=[];let o;const a=[];for(i in this.oBusyIndicatorTiles){o=true;n=this.oBusyIndicatorTiles[i];if(this.oResolvedTiles[i]===undefined){for(let e=0;e<this.currentVisibleTiles.length;e++){if(this.currentVisibleTiles[e].oTile.uuid===n.oTile.uuid){o=false;break}}if(o){l.push(n)}}}for(e=0;e<this.currentVisibleTiles.length;e++){s=this.currentVisibleTiles[e];if(this.oBusyIndicatorTiles[s.oTile.uuid]===undefined&&this.oResolvedTiles[s.oTile.uuid]===undefined){a.push(s)}}for(e=0;e<l.length;e++){s=l[e];if(s.oTile.content[0]&&s.oTile.content[0].setState){if(s.oTile.content[0].getState){if(s.oTile.content[0].getState()!=="Failed"){s.oTile.content[0].setState()}}else{s.oTile.content[0].setState()}}delete this.oBusyIndicatorTiles[s.oTile.uuid]}for(e=0;e<a.length;e++){s=a[e];if(s.oTile.content[0]&&s.oTile.content[0].setState){if(s.oTile.content[0].getState){if(s.oTile.content[0].getState()!=="Failed"){s.oTile.content[0].setState("Loading")}}else{s.oTile.content[0].setState("Loading")}}this.oBusyIndicatorTiles[s.oTile.uuid]=s}t.end("DashboardLoadingManagerBusyIndicators")},setTileInProgress:function(e){this.oInProgressTiles[e.uuid]=e},setTileResolved:function(e){delete this.oInProgressTiles[e.uuid];this.oResolvedTiles[e.uuid]=e},_addTileToRefreshArray:function(e,i,s){this.aRefreshTiles.push(s.uuid)},_refreshTiles:function(){for(let e=0;e<this.currentVisibleTiles.length;e++){const i=this.currentVisibleTiles[e].oTile;const s=i.object;if(s){for(let e=0;e<this.aRefreshTiles.length;e++){if(i.uuid===this.aRefreshTiles[e]){this.aRefreshTiles.splice(e,1);this.oDashboardManager.setTileVisible(i,true);this.oDashboardManager.refreshTile(i);break}}}}},_setTilesNoVisibility:function(){for(let e=0;e<this.currentVisibleTiles.length;e++){const i=this.currentVisibleTiles[e].oTile;const s=i.object;if(s){this.oDashboardManager.setTileVisible(i,false)}delete this.oActiveDynamicTiles[i.uuid]}},manageTilesView:function(){let e;let i;const s=[];for(e=0;e<this.currentVisibleTiles.length;e++){i=this.currentVisibleTiles[e];if(this.oInProgressTiles[i.oTile.uuid]===undefined&&this.oResolvedTiles[i.oTile.uuid]===undefined){s.push(i)}}this.oDashboardManager.getTileViewsFromArray(s)}});return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HomepageManager/PagingManager", ["sap/ui/base/Object","sap/ui/Device","sap/ushell/Config"],(e,t,i)=>{"use strict";const n=7;const s=e.extend("sap.ushell.components._HomepageManager.PagingManager",{metadata:{publicMethods:["setElementClass","GetGroupHeight","setContainerSize","getNumberOfAllocatedElements","moveToNextPage","getTileHeight"]},constructor:function(e,t){this.currentPageIndex=0;this.containerHeight=t.containerHeight||0;this.containerWidth=t.containerWidth||0;this.supportedElements=t.supportedElements||"";this.tileHeight=0;this.tileSize={sapUshellTile:{width:100,height:100},sapUshellLinkTile:{width:40,height:20},default:{width:40,height:20}}},getTileHeight:function(){return this.tileHeight},setElementClass:function(e){this.supportedElements=e},_getTileHeight:function(e){return e?148:176},_getTileWidth:function(e,t){if(e){return t?304:360}return t?148:176},getGroupHeight:function(e,s,h){if(!e||e.isGroupVisible===false){return 0}const r=e.tiles;const l=e.links;const o=t.system.phone||i.last("/core/home/sizeBehavior")==="Small";const a=this._getTileWidth(false,o);const c=this._getTileWidth(true,o);const u=48;const g=8;const d=this.containerWidth-g;let f=0;let p=1;let m;let E;const H=r.some(e=>!!e&&e.isTileIntentSupported!==false);if(!H){if(e.isGroupLocked||e.isDefaultGroup||!h||t.system.phone){return 0}return(u+g)/this.containerHeight}let P=g;if(!s){P+=u}if(l&&l.length){P+=44}let w;for(E=0;E<r.length;E++){if(P>this.containerHeight){break}w=r[E];if(!w||w.isTileIntentSupported===false){continue}m=w.long?c:a;if(f>0){f+=n}f+=m;if(f>d){p+=1;f=m}}P+=(this._getTileHeight(o)+n)*p;return P/this.containerHeight},setContainerSize:function(e,t){const i=this.getNumberOfAllocatedElements();this.containerHeight=e;this.containerWidth=t;this._changePageSize(i)},getNumberOfAllocatedElements:function(){return this._calcElementsPerPage()*this.currentPageIndex},_changePageSize:function(e){this.currentPageIndex=Math.ceil(e/this._calcElementsPerPage())},moveToNextPage:function(){this.currentPageIndex++},resetCurrentPageIndex:function(){this.currentPageIndex=0},getSizeofSupportedElementInUnits:function(e){return this.supportedElements[e].sizeInBaseUnits},_calcElementMatrix:function(e){const t=document.createElement("div");t.classList.add(e);document.body.appendChild(t);const i=t.clientHeight;const n=t.clientWidth;let s;if(i<20||n<40){s=this.tileSize[e]||this.tileSize.default}else{s={width:n,height:i}}this.tileHeight=i;t.remove();return s},_calcElementsPerPage:function(){let e;let t;let i;let n;let s;for(e in this.supportedElements){i=this.supportedElements[e];n=this._calcElementMatrix(i.className);i.matrix=n;if(t){t.width=t.width>n.width?n.width:t.width;t.height=t.height>n.height?n.height:t.height}else{t={width:n.width,height:n.height}}}for(e in this.supportedElements){i=this.supportedElements[e];s=i.matrix;i.sizeInBaseUnits=Math.round(s.width/t.width*s.height/t.height)}const h=Math.round(this.containerWidth/t.width);const r=Math.round(this.containerHeight/t.height);if(!r||!h||h===Infinity||r===Infinity||h===0||r===0){return 10}return r*h}});return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HomepageManager/PersistentPageOperationAdapter", ["sap/ui/base/Object","sap/ushell/Config","sap/ushell/resources","sap/ushell/components/MessagingHelper","sap/m/GenericTile","sap/base/util/uid","sap/base/Log","sap/ui/performance/Measurement","sap/m/library","sap/base/util/deepEqual","sap/ushell/Container"],(e,t,r,i,o,n,s,l,a,u,d)=>{"use strict";const c=a.GenericTileMode;const g=a.LoadState;const p=e.extend("sap.ushell.components._HomepageManager.PersistentPageOperationAdapter",{constructor:function(t){e.call(this);this.oPageBuilderService=t},_getIsAppBox:function(e){const t=this.oPageBuilderService;const r=!!(t.getCatalogTileTargetURL(e)&&(t.getCatalogTilePreviewTitle(e)||t.getCatalogTilePreviewSubtitle(e)));return r},getCurrentHiddenGroupIds:function(e){const t=e.getProperty("/groups");const r=[];let i;let o;let n;for(o=0;o<t.length;o++){n=t[o]?t[o].isGroupVisible:true;if(t[o].object){i=this.oPageBuilderService.getGroupId(t[o].object)}if(!n&&i!==undefined){r.push(i)}}return r},getPreparedTileModel:function(e,r,i){const s=this.oPageBuilderService;const l=n();const a=s.getTileSize(e);let u=[];let d;i=i||s.getTileType(e);if(i==="link"){u=[new o({mode:c.LineMode})]}const g={isCustomTile:!this._getIsAppBox(e),object:e,originalTileId:s.getTileId(e),uuid:l,tileCatalogId:encodeURIComponent(s.getCatalogTileId(e)),tileCatalogIdStable:s.getStableCatalogTileId(e)||"",content:u,long:a==="1x2",target:s.getTileTarget(e)||"",debugInfo:s.getTileDebugInfo(e),isTileIntentSupported:s.isTileIntentSupported(e),rgba:"",isLocked:r,showActionsIcon:t.last("/core/home/enableTileActionsIcon"),isLinkPersonalizationSupported:s.isLinkPersonalizationSupported(e),navigationMode:undefined};if(i==="card"){d=s.getCardManifest(e);g.isCard=true;if(d){g.manifest=d}}return g},getPreparedGroupModel:function(e,r,o,l){const a=this.oPageBuilderService;const u=e&&a.getGroupTiles(e)||[];const d=[];const c=[];let g;const p=t.last("/core/shell/model/personalization");const f=t.last("/core/extension/enableHelp");const h=!!(e&&a.isGroupLocked(e));const P=!!(e&&a.isGroupFeatured(e));for(g=0;g<u.length;++g){const e=u[g];const t=a.getTileType(e).toLowerCase();if(t==="tile"||t==="card"){d.push(this.getPreparedTileModel(u[g],h,t))}else if(t==="link"){c.push(this.getPreparedTileModel(u[g],h,t))}else{s.error(`Unknown tile type: '${t}'`,undefined,"sap.ushell.components.HomepageManager")}}return{title:r&&i.getLocalizedText("my_group")||e&&a.getGroupTitle(e)||l&&l.title||"",object:e,groupId:n(),helpId:f&&e?a.getGroupId(e):null,links:c,pendingLinks:[],tiles:d,isDefaultGroup:!!r,editMode:!e,isGroupLocked:h,isFeatured:P,visibilityModes:[true,true],removable:!e||a.isGroupRemovable(e),sortable:p,isGroupVisible:!e||a.isGroupVisible(e),isEnabled:!r,isLastGroup:o||false,isRendered:!!(l&&l.isRendered),isGroupSelected:false}},getPage:function(){l.start("FLP:DashboardManager.loadPersonalizedGroups","loadPersonalizedGroups","FLP");return this._getGroupsFromServer().then(this.loadGroupsFromArray.bind(this))},_getGroupsFromServer:function(){const e=this;return new Promise((t,r)=>{e.oPageBuilderService.getGroups().done(e=>{l.end("FLP:DashboardManager.loadPersonalizedGroups");t(e)}).fail(r)})},loadGroupsFromArray:function(e){const t=this;l.start("FLP:DashboardManager.loadGroupsFromArray","loadGroupsFromArray","FLP");l.start("FLP:DashboardManager.getDefaultGroup","getDefaultGroup","FLP");return new Promise((r,i)=>{t.oPageBuilderService.getDefaultGroup().done(i=>{l.end("FLP:DashboardManager.getDefaultGroup");if(e.length===0&&i===undefined){r([]);return}let o;const n=[];e=t._sortGroups(i,e);const s=e.findIndex(e=>u(e,i));const a=e.length;l.start("FLP:DashboardManager._getGroupModel","_getGroupModel","FLP");for(let r=0;r<a;++r){o=t.getPreparedGroupModel(e[r],r===s,r===a-1);o.index=r;n.push(o)}l.end("FLP:DashboardManager._getGroupModel");l.end("FLP:DashboardManager.loadGroupsFromArray");r(n)}).fail(i)})},_sortGroups:function(e,r){let i=0;const o=this;const n=r.findIndex(t=>u(t,e));const s=[];let l;let a;if(n>-1){r.splice(n,1)}while(i<r.length){l=r[i];a=this.oPageBuilderService.isGroupLocked(l);if(a){s.push(l);r.splice(i,1)}else{i++}}if(!t.last("/core/home/disableSortedLockedGroups")){s.sort((e,t)=>{const r=o.oPageBuilderService.getGroupTitle(e).toLowerCase();const i=o.oPageBuilderService.getGroupTitle(t).toLowerCase();return r<i?-1:1})}s.sort((e,t)=>{const r=o.oPageBuilderService.isGroupFeatured(e);const i=o.oPageBuilderService.isGroupFeatured(t);if(r===i){return 0}else if(r>i){return-1}return 1});const d=s;d.push(e);d.push.apply(d,r);return d},addGroupAt:function(e,t,r){const i=this;return new Promise((o,n)=>{try{if(t===undefined){i.oPageBuilderService.addGroup(e.title).done(t=>{o(i.getPreparedGroupModel(t,r,e.isLastGroup,undefined))}).fail(n)}else{i.oPageBuilderService.addGroupAt(e.title,t).done(t=>{o(i.getPreparedGroupModel(t,r,e.isLastGroup,undefined))}).fail(n)}}catch(e){n(e)}})},renameGroup:function(e,t,r){const i=this;return new Promise((r,o)=>{try{i.oPageBuilderService.setGroupTitle(e.object,t).done(()=>{r()}).fail(o)}catch(e){o(e)}})},deleteGroup:function(e){const t=this;const r=e.object;return new Promise((e,i)=>{try{t.oPageBuilderService.removeGroup(r).done(()=>{e()}).fail(i)}catch(e){i(e)}})},moveGroup:function(e,t,r){const i=this;return new Promise((r,o)=>{try{i.oPageBuilderService.moveGroup(e.object,t).done(()=>{r()}).fail(o)}catch(e){o(e)}})},resetGroup:function(e,t){const r=this;const i=e.object;return new Promise((o,n)=>{try{r.oPageBuilderService.resetGroup(i).done(n=>{o(r.getPreparedGroupModel(n||i,t,e.isLastGroup,undefined))}).fail(n)}catch(e){n(e)}})},refreshGroup:function(e){const t=this;const r=`Failed to refresh group with id:${e} in the model`;return new Promise(i=>{t.oPageBuilderService.getGroups().fail(e=>{s.error(r,e,"sap.ushell.components.HomepageManager");i(null)}).done(r=>{let o=null;for(let i=0;i<r.length;i++){if(t.oPageBuilderService.getGroupId(r[i])===e){o=r[i];break}}if(o){t.oPageBuilderService.getDefaultGroup().done(r=>{const n=e===r.getId();const s=t.getPreparedGroupModel(o,n,false,{isRendered:true});i(s)})}else{i(null)}})})},getIndexOfGroup:function(e,t){let r=-1;const i=this;const o=this.oPageBuilderService.getGroupId(t);e.every((e,t)=>{const n=i.oPageBuilderService.getGroupId(e.object);if(n===o){r=t;return false}return true});return r},getOriginalGroupIndex:function(e){const t=this.oPageBuilderService;const r=e.object;const i=this.oPageBuilderService.getGroups();return new Promise((e,o)=>{i.done(i=>{let o;for(let e=0;e<i.length;e++){if(t.getGroupId(i[e])===t.getGroupId(r)){o=e;break}}e(o)}).fail(o)})},moveTile:function(e,t,r,i,o){const n=this;let s;const l=new Promise((l,a)=>{try{const u=n.oPageBuilderService.moveTile(e.object,t.tileIndex,t.newTileIndex,r.object,i.object,o);u.done(e=>{s=e;l(e)});u.fail(a)}catch(e){a(e)}});return l.then(this._getTileViewAsPromise.bind(this)).then(e=>Promise.resolve({content:e,originalTileId:n.oPageBuilderService.getTileId(s),object:s}))},removeTile:function(e,t){const r=t.object;const o=this.oPageBuilderService.getTileTitle(r);return new Promise((t,n)=>{try{this.oPageBuilderService.removeTile(e.object,r).done(()=>{i.showLocalizedMessage("tile_deleted_msg",[o,e.title]);t()}).fail(n)}catch(e){n(e)}})},_getTileViewAsPromise:function(e){return new Promise((t,r)=>{const i=this.oPageBuilderService.getTileView(e);i.done(t);i.fail(r)})},refreshTile:function(e){this.oPageBuilderService.refreshTile(e)},setTileVisible:function(e,t){this.oPageBuilderService.setTileVisible(e,t)},getTileType:function(e){return this.oPageBuilderService.getTileType(e)},getTileSize:function(e){return this.oPageBuilderService.getTileSize(e)},getTileTitle:function(e){return this.oPageBuilderService.getTileTitle(e.object)},getTileId:function(e){return this.oPageBuilderService.getTileId(e)},isLinkPersonalizationSupported:function(e){return this.oPageBuilderService.isLinkPersonalizationSupported(e)},getTileTarget:function(e){return this.oPageBuilderService.getTileTarget(e.object)},getTileView:function(e){return this.oPageBuilderService.getTileView(e.object)},getTileActions:function(e){return this.oPageBuilderService.getTileActions(e)},getFailedLinkView:function(e){const t=this.oPageBuilderService.getCatalogTilePreviewSubtitle(e.object);let i=this.oPageBuilderService.getCatalogTilePreviewTitle(e.object);if(!i&&!t){i=r.i18n.getText("cannotLoadLinkInformation")}return new o({mode:c.LineMode,state:g.Failed,header:i,subheader:t})},getTileModelByCatalogTileId:function(e){s.error(`Cannot get tile with id ${e}: Method is not supported`)},transformGroupModel:function(){return}});let f=null;return{getInstance:function(e){if(!f){f=new p(e)}return f},destroy:function(){f=null}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HomepageManager/TransientPageOperationAdapter", ["sap/ui/thirdparty/jquery","sap/ui/base/Object","sap/ushell/Config","sap/ushell/resources","sap/ushell/components/MessagingHelper","sap/m/GenericTile","sap/m/ImageContent","sap/m/TileContent","sap/base/util/uid","sap/base/Log","sap/m/library"],(jQuery,e,t,i,o,n,r,l,s,a,u)=>{"use strict";const c=u.GenericTileMode;const g=u.LoadState;const d=e.extend("sap.ushell.components._HomepageManager.TransientPageOperationAdapter.js",{constructor:function(t){e.call(this);this.oPageBuilderService=t;this._createCatalogMap()},_createCatalogMap:function(){if(this.mCatalogTiles){return}const e=this.oPageBuilderService;const t=this;this.mCatalogTiles={};this._getAllCatalogTiles().then(i=>{for(let o=0;o<i.length;o++){for(let n=0;n<i[o].length;n++){t.mCatalogTiles[e.getCatalogTileId(i[o][n])]=i[o][n]}}})},getCurrentHiddenGroupIds:function(){return[]},getTileActions:function(e){e.isStub=function(){return true};const t=this.oPageBuilderService.getTileActions(e);delete e.isStub;return t},getPreparedTileModel:function(e,i,o){const r=s();let l=[];o=o||e.type;if(o==="link"){l=[new n({mode:c.LineMode})]}const a={isCustomTile:false,object:e,originalTileId:r,uuid:r,tileCatalogId:"",content:l,long:false,target:"",debugInfo:null,isTileIntentSupported:true,rgba:"",isLocked:i,showActionsIcon:t.last("/core/home/enableTileActionsIcon"),isLinkPersonalizationSupported:true,navigationMode:undefined};if(o==="card"){a.isCard=true;a.manifest={}}return a},getPreparedGroupModel:function(e,t,i,n){const r=s();const l=e&&e.tiles||[];const u=[];const c=[];for(let e=0;e<l.length;++e){const t=l[e];const i=t.type.toLowerCase();if(i==="tile"||i==="card"){u.push(this.getPreparedTileModel(l[e],false,i))}else if(i==="link"){c.push(this.getPreparedTileModel(l[e],false,i))}else{a.error(`Unknown tile type: '${i}'`,undefined,"sap.ushell.components.HomepageManager")}}return{title:t&&o.getLocalizedText("my_group")||e&&e.title||n&&n.title||"",object:e,groupId:r,links:c,pendingLinks:[],tiles:u,isDefaultGroup:!!t,editMode:!e,isGroupLocked:false,isFeatured:false,visibilityModes:[true,true],removable:true,sortable:true,isGroupVisible:true,isEnabled:!t,isLastGroup:i||false,isRendered:!!(n&&n.isRendered),isGroupSelected:false}},getPage:function(){return Promise.resolve([this.getPreparedGroupModel(null,false,true)])},addGroupAt:function(e,t,i){const o={title:e.title};return Promise.resolve(this.getPreparedGroupModel({},i,e.isLastGroup,o))},renameGroup:function(){return Promise.resolve()},deleteGroup:function(){return Promise.resolve()},moveGroup:function(){return Promise.resolve()},resetGroup:async function(){throw new Error("Reset group not supported in transient mode")},refreshGroup:async function(){throw new Error("Refresh group not supported in transient mode")},getIndexOfGroup:function(){return Promise.resolve(-1)},getOriginalGroupIndex:function(e,t){let i;for(let o=0;o<t.length;o++){if(t[o].groupId===e.groupId){i=o;break}}return Promise.resolve(i)},moveTile:function(e,t,i,o,n){const r=this._findCatalogTile(e.tileCatalogId);return Promise.resolve({content:this._getTileView(r,n),originalTileId:e.uuid,object:{id:e.uuid,type:n,title:this.oPageBuilderService.getCatalogTileTitle(r)}})},removeTile:function(){return Promise.resolve()},_getTileView:function(e,t){if(t==="link"){return new n({mode:c.LineMode,header:this.oPageBuilderService.getCatalogTileTitle(e),subheader:this.oPageBuilderService.getCatalogTilePreviewSubtitle(e)})}return new n({header:this.oPageBuilderService.getCatalogTileTitle(e),subheader:this.oPageBuilderService.getCatalogTilePreviewSubtitle(e),tileContent:new l({content:new r({src:this.oPageBuilderService.getCatalogTilePreviewIcon(e)})})})},refreshTile:function(){return},setTileVisible:function(){return},getTileType:function(e){return e.type},getTileSize:function(){return"1x1"},getTileId:function(e){return e.id},isLinkPersonalizationSupported:function(){return true},getTileTarget:function(e){const t=this._findCatalogTile(e.tileCatalogId);return this.oPageBuilderService.getCatalogTileTargetURL(t)},getTileTitle:function(e){return e.object.title},_getAllCatalogTiles:function(){const e=this.oPageBuilderService;function t(t){t.map(t=>{const i=e.getCatalogId(t)||"";return e.getCatalogTitle(t)||i.split(":").slice(1).join(":")});return Promise.all(t.map(t=>e.getCatalogTiles(t)))}return Promise.resolve(e.getCatalogs()).then(t)},_findCatalogTile:function(e){return this.mCatalogTiles[e]},getTileView:function(e){const t=this._findCatalogTile(e.tileCatalogId);const i=this._getTileView(t,e.object.type);const o=new jQuery.Deferred;o.resolve(i);return o.promise()},getFailedLinkView:function(e){const t=e.object.title||i.i18n.getText("cannotLoadLinkInformation");const o="";return new n({mode:c.LineMode,state:g.Failed,header:t,subheader:o})},getTileModelByCatalogTileId:function(e,t){t=t||"tile";const i=this._findCatalogTile(e);const o=this.getPreparedTileModel({},false,t);o.tileCatalogId=e;o.object={id:o.uuid,type:t,title:this.oPageBuilderService.getCatalogTileTitle(i)};const n=this._getTileView(i,t);o.content=[n];return o},transformGroupModel:function(e){const t=this;for(let i=0;i<e.length;i++){const o=e[i];o.object={};o.tiles.forEach(e=>{const i=e.object;e.tileCatalogId=t.oPageBuilderService.getCatalogTileId(i);e.object={id:e.uuid,type:"tile",title:t.oPageBuilderService.getTileTitle(i)}});o.links.forEach(e=>{const i=e.object;e.tileCatalogId=t.oPageBuilderService.getCatalogTileId(i);e.object={id:e.uuid,type:"link",title:t.oPageBuilderService.getTileTitle(i)}})}return e}});let p;return{getInstance:function(e){if(!p){p=new d(e)}return p},destroy:function(){p=null}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/appfinder/AppFinder.controller", ["sap/base/Log","sap/base/util/extend","sap/ui/core/EventBus","sap/ui/core/mvc/View","sap/ui/core/mvc/Controller","sap/ui/core/Component","sap/ushell/EventHub","sap/ushell/components/appfinder/VisualizationOrganizerHelper","sap/ui/core/routing/HashChanger","sap/ui/thirdparty/jquery","sap/ui/model/json/JSONModel","sap/ui/Device","sap/ui/thirdparty/hasher","sap/ushell/Container"],(e,t,s,o,n,a,r,i,l,jQuery,u,h,c,p)=>{"use strict";let d;return n.extend("sap.ushell.components.appfinder.AppFinder",{onInit:function(){const e=a.getOwnerComponentFor(this.getView());this.oRouter=e.getRouter();const t=this.getView();const s=e.getModel();t.setModel(s);d=e.oCatalogsManager;this.bEnableEasyAccessSAPMenu=s.getProperty("/enableEasyAccessSAPMenu");this.bEnableEasyAccessUserMenu=s.getProperty("/enableEasyAccessUserMenu");this.bEnableEasyAccessOnTablet=s.getProperty("/enableEasyAccessOnTablet");const n=this.bEnableEasyAccessSAPMenu||this.bEnableEasyAccessUserMenu;const r=!h.system.phone&&!h.system.tablet||h.system.tablet&&this.bEnableEasyAccessOnTablet||h.system.combi;this.bShowEasyAccessMenu=n&&r;this.getView().setModel(this._getSubHeaderModel(),"subHeaderModel");this.oConfig=e.getComponentData().config;this.pCatalogView=o.create({id:"catalogView",viewName:"module:sap/ushell/components/appfinder/CatalogView",height:"100%",viewData:{parentComponent:e,subHeaderModel:this._getSubHeaderModel(),CatalogsManager:d}});this.oVisualizationOrganizerHelper=i.getInstance();this.oInitPromise=this.pCatalogView.then(e=>{e.addStyleClass("sapUiGlobalBackgroundColor sapUiGlobalBackgroundColorForce");return this.oVisualizationOrganizerHelper.loadAndUpdate()});this.oRouter.attachRouteMatched(this._handleAppFinderNavigation.bind(this));t.createSubHeader();h.resize.attachHandler(this._resizeHandler.bind(this));this.oRouter.oHashChanger=l.getInstance()},onExit:function(){this.pCatalogView.then(e=>{e.destroy()})},_resizeHandler:function(){const e=this._showOpenCloseSplitAppButton();const t=this.oSubHeaderModel.getProperty("/openCloseSplitAppButtonVisible");if(e!==t){this.oSubHeaderModel.setProperty("/openCloseSplitAppButtonVisible",e);if(e){this.oSubHeaderModel.setProperty("/openCloseSplitAppButtonToggled",false)}}this._toggleViewWithToggleButtonClass(e)},_handleAppFinderNavigation:function(e){try{const e=p.getRendererInternal();e.getRootControl().getShellHeader()._oLastFocusedHeaderElement=null}catch{}const o=t({},e);if(this.firstView!==false){if(!this.bShowEasyAccessMenu){this.pCatalogView.then(e=>{this.getView().oPage.addContent(e);setTimeout(()=>{jQuery("#catalogSelect").focus()},0)})}this.firstView=false}this.pCatalogView.then(e=>{e.getController().customRouteMatched(o)});const n=this.getView();this._preloadAppHandler();this._getPathAndHandleGroupContext(e);this._toggleViewWithToggleButtonClass(this._showOpenCloseSplitAppButton());if(this.bShowEasyAccessMenu){this.onShow(e)}else if(n._showSearch("catalog")){n.updateSubHeader("catalog",false);this._toggleViewWithSearchAndTagsClasses("catalog")}s.getInstance().publish("showCatalog");r.emit("CenterViewPointContentRendered","appFinder");r.emit("showCatalog",{sId:"showCatalog",oData:Date.now()});s.getInstance().publish("launchpad","contentRendered");if(r.last("firstCatalogSegmentCompleteLoaded")){r.emit("CloseFesrRecord",Date.now())}},_showOpenCloseSplitAppButton:function(){return!h.orientation.landscape||h.system.phone||this.oView.getModel().getProperty("/isPhoneWidth")},_resetSubHeaderModel:function(){this.oSubHeaderModel.setProperty("/activeMenu",null);this.oSubHeaderModel.setProperty("/search",{searchMode:false,searchTerm:null});this.oSubHeaderModel.setProperty("/tag",{tagMode:false,selectedTags:[]});this.oSubHeaderModel.setProperty("/openCloseSplitAppButtonVisible",this._showOpenCloseSplitAppButton());this.oSubHeaderModel.setProperty("/openCloseSplitAppButtonToggled",false)},_getSubHeaderModel:function(){if(this.oSubHeaderModel){return this.oSubHeaderModel}this.oSubHeaderModel=new u;this._resetSubHeaderModel();return this.oSubHeaderModel},onTagsFilter:function(e){const t=e.getSource();const s=t.getModel("subHeaderModel");const o=e.getSource().getSelectedItems();const n=o.length>0;const a={tagMode:n,selectedTags:[]};o.forEach(e=>{a.selectedTags.push(e.getText())});s.setProperty("/activeMenu",this.getCurrentMenuName());s.setProperty("/tag",a);this.pCatalogView.then(e=>{e.getController().onTag(a)})},searchHandler:function(e){let t=e.getSource().getValue();let s=false;if(t===null){return}const o=this.oSubHeaderModel.getProperty("/search");let n=this.oSubHeaderModel.getProperty("/activeMenu");if(this.getCurrentMenuName()!==n){n=this.getCurrentMenuName()}if(!o.searchMode&&!e.getParameter("clearButtonPressed")){o.searchMode=true}if(o.searchMode&&h.system.phone){this.oSubHeaderModel.setProperty("/openCloseSplitAppButtonToggled",false)}if(t!==o.searchTerm){if(this.containsOnlyWhiteSpaces(t)){t="*"}o.searchTerm=t;s=true}this.oSubHeaderModel.setProperty("/search",o);this.oSubHeaderModel.setProperty("/activeMenu",n);this.oSubHeaderModel.refresh(true);if(s){this.pCatalogView.then(e=>{e.getController().onSearch(o)})}},_preloadAppHandler:function(){setTimeout(()=>{const e=c.getHash()||"";if(!e.startsWith("Shell-appfinder")){return}this._updateShellHeader(this.oView.oPage.getTitle())},0)},getCurrentMenuName:function(){return this.currentMenu},_navigateTo:function(e){const t=this.oVisualizationOrganizerHelper.getNavigationContextAsText.apply(this);if(t){this.oRouter.navTo(e,{filters:t},true)}else{this.oRouter.navTo(e,{},true)}},_filterSystemModelsOnTablet:function(e){const t=new jQuery.Deferred;if(this.bEnableEasyAccessOnTablet){p.getServiceAsync("NavTargetResolutionInternal").then(s=>{const o=e.reduce((e,t)=>{const o=s.isNavigationSupported([{target:{semanticObject:"Shell",action:"startWDA"},params:{"sap-system":t.systemId,"sap-ui2-wd-app-id":"."}},{target:{semanticObject:"Shell",action:"startGUI"},params:{"sap-system":t.systemId,"sap-ui2-tcode":"."}}]);e.push(new Promise((e,s)=>{o.then(s=>{const o={system:t,isSupported:false};if(s[0].supported||s[1].supported){o.isSupported=true}e(o)}).fail(()=>{e({system:t,isSupported:false})})}));return e},[]);Promise.all(o).then(e=>{const s=e.reduce((e,t)=>{if(t.isSupported){e.push(t.system)}return e},[]);t.resolve(s)})})}else{t.resolve(e)}return t.promise()},getGroupNavigationContext:function(){const e=this.oView.getModel().getProperty("/groupContext");const t=e?e.path:null;if(t){return JSON.stringify({targetGroup:encodeURIComponent(t)})}return null},getSystemsModels:function(){const e=this;if(this.getSystemsPromise){return this.getSystemsPromise}const t=new jQuery.Deferred;this.getSystemsPromise=t.promise();const s=["userMenu","sapMenu"].map(t=>{const s=new u;s.setProperty("/systemSelected",null);s.setProperty("/systemsList",[]);return e.getSystems(t).then(e._filterSystemModelsOnTablet.bind(e)).then(e=>{s.setProperty("/systemsList",e);return s})});jQuery.when.apply(jQuery,s).then((e,s)=>{t.resolve(e,s)});return this.getSystemsPromise},onSegmentButtonClick:function(e){this.oSubHeaderModel.setProperty("/search/searchMode",false);this.oSubHeaderModel.setProperty("/search/searchTerm","");const t=e.getParameter("id");this._navigateTo(t)},onShow:function(e){const t=e.getParameter("name");if(t===this.getCurrentMenuName()){return}const s=this.getView();s._updateSearchWithPlaceHolder(t);this._updateCurrentMenuName(t);this.getSystemsModels().then((e,t)=>{const n=t.getProperty("/systemsList");const r=e.getProperty("/systemsList");s.oPage.removeAllContent();const i=this.currentMenu==="sapMenu"?n:r;if(i&&i.length){s.updateSubHeader(this.currentMenu,true)}else if(s._showSearch(this.currentMenu)){s.updateSubHeader(this.currentMenu,false)}if(this.currentMenu==="catalog"){this.pCatalogView.then(e=>{s.oPage.addContent(e)})}else if(this.currentMenu==="userMenu"){if(!this.pUserMenuView){this.pUserMenuView=o.create({id:"userMenuView",viewName:"module:sap/ushell/components/appfinder/EasyAccessView",height:"100%",viewData:{menuName:"USER_MENU",easyAccessSystemsModel:e,parentComponent:a.getOwnerComponentFor(this.getView()),subHeaderModel:this._getSubHeaderModel(),enableSearch:this.getView()._showSearch("userMenu"),CatalogsManager:d}})}this.pUserMenuView.then(e=>{s.oPage.addContent(e)})}else if(this.currentMenu==="sapMenu"){if(!this.pSapMenuView){this.pSapMenuView=o.create({id:"sapMenuView",viewName:"module:sap/ushell/components/appfinder/EasyAccessView",height:"100%",viewData:{menuName:"SAP_MENU",easyAccessSystemsModel:t,parentComponent:a.getOwnerComponentFor(this.getView()),subHeaderModel:this._getSubHeaderModel(),enableSearch:this.getView()._showSearch("sapMenu"),CatalogsManager:d}})}this.pSapMenuView.then(e=>{s.oPage.addContent(e)})}this._setFocusToSegmentedButton(i);this.oSubHeaderModel.setProperty("/activeMenu",this.currentMenu);if(this.oSubHeaderModel.getProperty("/openCloseSplitAppButtonVisible")){this.oSubHeaderModel.setProperty("/openCloseSplitAppButtonToggled",false)}this.oSubHeaderModel.refresh(true)})},_updateCurrentMenuName:function(e){if(!this.bShowEasyAccessMenu||e==="sapMenu"&&!this.bEnableEasyAccessSAPMenu||e==="userMenu"&&!this.bEnableEasyAccessUserMenu){this.currentMenu="catalog"}else{this.currentMenu=e}this._toggleViewWithSearchAndTagsClasses(e)},_toggleViewWithSearchAndTagsClasses:function(e){const t=this.getView();if(t._showSearch(e)){t.oPage.addStyleClass("sapUshellAppFinderSearch")}else{t.oPage.removeStyleClass("sapUshellAppFinderSearch")}if(t._showSearchTag(e)){t.oPage.addStyleClass("sapUshellAppFinderTags")}else{t.oPage.removeStyleClass("sapUshellAppFinderTags")}},_toggleViewWithToggleButtonClass:function(e){const t=this.getView();if(e){t.oPage.addStyleClass("sapUshellAppFinderToggleButton")}else{t.oPage.removeStyleClass("sapUshellAppFinderToggleButton")}},_setFocusToSegmentedButton:function(e){const t=this.getView();if(e&&e.length){const e=t.segmentedButton.getSelectedButton();setTimeout(()=>{jQuery(`#${e}`).focus()},0)}else{setTimeout(()=>{jQuery("#catalogSelect").focus()},0)}},_getPathAndHandleGroupContext:function(e){const t=e.getParameter("arguments");const s=t.filters;let o;try{o=JSON.parse(s)}catch{o=s}this.oVisualizationOrganizerHelper.updateModelWithContext.apply(this,[o])},_updateModelWithGroupContext:function(e){const t=this.oView.getModel();let s=e&&decodeURIComponent(e.targetGroup)||"";let o=t.getProperty(s);s=s==="undefined"?undefined:s;const n={path:s,id:"",title:o&&o.title};if(s&&s!==""){p.getServiceAsync("FlpLaunchPage").then(e=>{function a(){const r=t.getProperty("/groups");if(r.length&&o?.object){o=t.getProperty(s);n.id=e.getGroupId(o.object);n.title=o.title||e.getGroupTitle(o.object);return}setTimeout(a,100)}a()})}t.setProperty("/groupContext",n)},getSystems:function(t){const s=new jQuery.Deferred;p.getServiceAsync("ClientSideTargetResolution").then(e=>e.getEasyAccessSystems(t)).then(e=>{const t=[];const o=Object.keys(e);for(let s=0;s<o.length;s++){const n=o[s];t[s]={systemName:e[n].text,systemId:n}}s.resolve(t)}).catch(t=>{e.error("An error occurred while retrieving the systems:",t);s.reject(t)});return s.promise()},_updateShellHeader:async function(e){const t=await this.getOwnerComponent().getService("ShellUIService");t.setTitle(e);t.setHierarchy()},containsOnlyWhiteSpaces:function(e){if(!e||e===""){return false}return!e.replace(/\s/g,"").length}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/appfinder/AppFinderView", ["sap/ui/core/Element","sap/ui/core/mvc/View","sap/ui/core/InvisibleText","sap/ui/core/ListItem","sap/ui/model/Sorter","sap/m/MultiComboBox","sap/ui/model/BindingMode","sap/m/SearchField","sap/m/FlexBox","sap/m/SegmentedButton","sap/m/SegmentedButtonItem","sap/m/ToggleButton","sap/ushell/ui/launchpad/AccessibilityCustomData","sap/m/Toolbar","sap/m/Page","sap/ushell/resources","sap/ui/Device"],(e,t,n,o,a,s,r,i,l,p,d,u,c,h,g,S,m)=>{"use strict";return t.extend("sap.ushell.components.appfinder.AppFinderView",{createContent:function(){const e=S.i18n;this.oPage=new g("appFinderPage",{showHeader:false,showSubHeader:false,showFooter:false,showNavButton:false,enableScrolling:false,title:{parts:["/groupContext/title"],formatter:function(t){return!t?e.getText("appFinderTitle"):e.getText("appFinder_group_context_title",[t])}}});return this.oPage},_showSearch:function(e){let t="enableCatalogSearch";if(e==="userMenu"){t="enableEasyAccessUserMenuSearch"}else if(e==="sapMenu"){t="enableEasyAccessSAPMenuSearch"}return this.getModel().getProperty(`/${t}`)},_showSearchTag:function(e){if(e==="userMenu"||e==="sapMenu"){return false}return this.getModel().getProperty("/enableCatalogTagFilter")},createSubHeader:function(){this.oToolbar=new h("appFinderSubHeader",{});if(m.system.desktop){this.oToolbar.addEventDelegate({onAfterRendering:function(){const e=document.getElementById("catalog-button");if(e){e.setAttribute("accesskey","a")}}})}this.oToolbar.addStyleClass("sapUshellAppFinderHeader");this.oPage.setSubHeader(this.oToolbar);this.oPage.setShowSubHeader(true);if(!this.openCloseSplitAppButton){this.openCloseSplitAppButton=new u("openCloseButtonAppFinderSubheader",{icon:"sap-icon://menu2",visible:"{/openCloseSplitAppButtonVisible}",pressed:"{/openCloseSplitAppButtonToggled}",press:function(e){this.getController().oSubHeaderModel.setProperty("/openCloseSplitAppButtonToggled",e.getSource().getPressed());this.openCloseSplitAppButton.setTooltip(e.getParameter("pressed")?S.i18n.getText("ToggleButtonHide"):S.i18n.getText("ToggleButtonShow"))}.bind(this),tooltip:S.i18n.getText("ToggleButtonShow")});this.openCloseSplitAppButton.setModel(this.getController().oSubHeaderModel);this.oToolbar.addContent(this.openCloseSplitAppButton)}},updateSubHeader:function(e,t){let n;let o;this.oToolbar.removeAllContent();this.oToolbar.addContent(this.openCloseSplitAppButton);if(t){n=this.createSegmentedButtons(e);this.oPage.addStyleClass("sapUshellAppFinderWithEasyAccess");this.oToolbar.addContent(n)}if(this._showSearch(e)){o=this.createSearchControl(e);this.oToolbar.addContent(o)}this.getController()._updateCurrentMenuName(e)},createSegmentedButtons:function(e){if(this.segmentedButton){this.segmentedButton.setSelectedKey(e);return this.segmentedButton}const t=this.getController();const o=S.i18n;const a=new n({text:o.getText("AppFinder.SegmentedButton.Catalog.Describedby")}).toStatic();this.addDependent(a);this.segmentedButton=new p("appFinderSegmentedButtons",{items:[new d("catalog",{text:o.getText("appFinderCatalogTitle"),key:"catalog",press:function(e){t.onSegmentButtonClick(e)},customData:[new c({key:"aria-controls",value:"catalogView",writeToDom:true}),new c({key:"aria-describedby",value:a.getId(),writeToDom:true})]})]});if(t.bEnableEasyAccessUserMenu){const e=new n({text:o.getText("AppFinder.SegmentedButton.UserMenu.Describedby")}).toStatic();this.addDependent(e);this.segmentedButton.addItem(new d("userMenu",{text:o.getText("appFinderUserMenuTitle"),key:"userMenu",press:function(e){t.onSegmentButtonClick(e)},customData:[new c({key:"aria-controls",value:"userMenuView",writeToDom:true}),new c({key:"aria-describedby",value:e.getId(),writeToDom:true})]}))}if(t.bEnableEasyAccessSAPMenu){const e=new n({text:o.getText("AppFinder.SegmentedButton.SAPMenu.Describedby")}).toStatic();this.addDependent(e);this.segmentedButton.addItem(new d("sapMenu",{text:o.getText("appFinderSapMenuTitle"),key:"sapMenu",press:function(e){t.onSegmentButtonClick(e)},customData:[new c({key:"aria-controls",value:"sapMenuView",writeToDom:true}),new c({key:"aria-describedby",value:e.getId(),writeToDom:true})]}))}this.segmentedButton.setSelectedKey(e);return this.segmentedButton},_handleSearch:function(){this.getController().searchHandler.apply(this.getController(),arguments);const t=e.getElementById("appFinderSearch");if(t){t.focus()}},createSearchControl:function(t){if(!this.oAppFinderSearchContainer){this.oAppFinderSearchContainer=new l("appFinderSearchContainer")}this.oAppFinderSearchContainer.removeAllItems();if(t==="catalog"&&this._showSearchTag("catalog")){this.oAppFinderSearchContainer.addItem(this.createTagControl())}if(!this.oAppFinderSearchControl){this.oAppFinderSearchControl=new i("appFinderSearch",{search:this._handleSearch.bind(this),value:{path:"subHeaderModel>/search/searchTerm",mode:r.OneWay}}).addStyleClass("help-id-catalogSearch");this.oAppFinderSearchControl.addCustomData(new c({key:"aria-controls",value:"",writeToDom:true}));if(m.system.desktop){sap.ui.require(["sap/ushell/components/ComponentKeysHandler","sap/ushell/renderer/AccessKeysHandler"],(t,n)=>{t.getInstance().then(t=>{this.oAppFinderSearchControl.addEventDelegate({onsaptabnext:function(o){const a=e.getElementById("openCloseButtonAppFinderSubheader");if(a.getVisible()&&!a.getPressed()){o.preventDefault();n.setIsFocusHandledByAnotherHandler(true);t.setFocusOnCatalogTile()}}})})})}}this.oAppFinderSearchContainer.addItem(this.oAppFinderSearchControl);this._updateSearchWithPlaceHolder(t);return this.oAppFinderSearchContainer},_updateSearchWithPlaceHolder:function(e){let t="";if(e==="catalog"){t="EasyAccessMenu_SearchPlaceHolder_Catalog"}else if(e==="userMenu"){t="EasyAccessMenu_SearchPlaceHolder_UserMenu"}else if(e==="sapMenu"){t="EasyAccessMenu_SearchPlaceHolder_SAPMenu"}if(t&&this.oAppFinderSearchControl){this.oAppFinderSearchControl.setPlaceholder(S.i18n.getText(t));this.oAppFinderSearchControl.setTooltip(S.i18n.getText(t))}},createTagControl:function(){if(this.oAppFinderTagFilter){return this.oAppFinderTagFilter}const e=this.getController();this.oAppFinderTagFilter=new s("appFinderTagFilter",{selectedKeys:{path:"subHeaderModel>/tag/selectedTags"},tooltip:"{i18n>catalogTilesTagfilter_tooltip}",placeholder:"{i18n>catalogTilesTagfilter_HintText}",visible:{path:"/tagList",formatter:function(e){return e.length>0}},items:{path:"/tagList",sorter:new a("tag",false,false),template:new o({text:"{tag}",key:"{tag}"})},selectionChange:[e.onTagsFilter,e]}).addStyleClass("help-id-catalogTagFilter");return this.oAppFinderTagFilter},getControllerName:function(){return"sap.ushell.components.appfinder.AppFinder"}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/appfinder/Catalog.controller", ["sap/base/util/extend","sap/ui/core/Element","sap/ui/core/EventBus","sap/ushell/library","sap/ui/core/mvc/View","sap/ui/core/mvc/Controller","sap/ushell/components/_HomepageManager/PagingManager","sap/ui/thirdparty/jquery","sap/ushell/resources","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/m/library","sap/ui/Device","sap/ui/model/Context","sap/m/MessageToast","sap/ushell/Config","sap/ushell/components/appfinder/VisualizationOrganizerHelper","sap/ushell/utils/WindowUtils","sap/ushell/EventHub","sap/base/Log","sap/ushell/Container","sap/ushell/api/performance/Extension","sap/ushell/api/performance/NavigationSource"],(e,t,i,o,s,r,a,jQuery,n,l,g,c,h,p,d,u,f,y,C,m,F,P,w)=>{"use strict";const M=c.SplitAppMode;const S=o.AppType;let T;return r.extend("sap.ushell.components.appfinder.Catalog",{oPopover:null,onInit:function(){F.getServiceAsync("FlpLaunchPage").then(e=>{this.oLaunchPageService=e});this.categoryFilter="";this.preCategoryFilter="";const e=this.getView();this.oMainModel=e.getModel();this.oSubHeaderModel=e.getModel("subHeaderModel");this.resetPage=false;this.bIsInProcess=false;this.oVisualizationOrganizerHelper=e.oVisualizationOrganizerHelper;this.oCatalogsContainer=e.oCatalogsContainer;this.timeoutId=0;document.subHeaderModel=this.oSubHeaderModel;document.mainModel=this.oMainModel;const t=this.oSubHeaderModel.bindProperty("/openCloseSplitAppButtonToggled");t.attachChange(this.handleToggleButtonModelChanged,this);e.oCatalogsContainer.setHandleSearchCallback(this.handleSearchModelChanged.bind(this));T=this.getView().getViewData().CatalogsManager&&this.getView().getViewData().CatalogsManager.getInstance()},customRouteMatched:function(e){this.onShow(e)},onBeforeRendering:function(){i.getInstance().publish("renderCatalog")},onAfterRendering:function(){this.wasRendered=true;if(!this.PagingManager){this._setPagingManager()}if(this.PagingManager.currentPageIndex===0){this.allocateNextPage()}jQuery(window).resize(()=>{const e=jQuery(window).width();const t=jQuery(window).height();this.PagingManager.setContainerSize(e,t)});this._handleAppFinderWithDocking();i.getInstance().subscribe("launchpad","appFinderWithDocking",this._handleAppFinderWithDocking,this);i.getInstance().subscribe("sap.ushell","appFinderAfterNavigate",this._handleAppFinderAfterNavigate,this)},_setPagingManager:function(){this.lastCatalogId=0;this.PagingManager=new a("catalogPaging",{supportedElements:{tile:{className:"sapUshellTile"}},containerHeight:window.innerHeight,containerWidth:window.innerWidth});this.oCatalogsContainer.setPagingManager(this.PagingManager)},_decodeUrlFilteringParameters:function(e){let t;try{t=JSON.parse(e)}catch{t=e}const i=t&&t.tagFilter&&t.tagFilter||[];if(i){try{this.tagFilter=JSON.parse(i)}catch{this.tagFilter=[]}}else{this.tagFilter=[]}this.categoryFilter=t&&t.catalogSelector&&t.catalogSelector||this.categoryFilter;if(this.categoryFilter){this.categoryFilter=window.decodeURIComponent(this.categoryFilter)}this.searchFilter=t&&t.tileFilter&&t.tileFilter||null;if(this.searchFilter){this.searchFilter=window.decodeURIComponent(this.searchFilter)}},_applyFilters:function(e){let t=false;if(this.categoryFilter){this.categoryFilter=n.i18n.getText("all")===this.categoryFilter?"":this.categoryFilter;if(this.categoryFilter!==this.preCategoryFilter){t=true}this.oView.setCategoryFilterSelection(this.categoryFilter,t)}else{t=true;this.oView.setCategoryFilterSelection("",t)}this.preCategoryFilter=this.categoryFilter;if(this.searchFilter&&this.searchFilter.length){this.searchFilter=this.searchFilter.replace(/\*/g,"");this.searchFilter=this.searchFilter.trim();this.oSubHeaderModel.setProperty("/search",{searchMode:true,searchTerm:this.searchFilter})}else if(e){this.oSubHeaderModel.setProperty("/search",{searchMode:false,searchTerm:""});this.resetPage=true}if(this.tagFilter&&this.tagFilter.length){this.oSubHeaderModel.setProperty("/tag",{tagMode:true,selectedTags:this.tagFilter})}else if(e){this.oSubHeaderModel.setProperty("/tag",{tagMode:false,selectedTags:[]});this.resetPage=true}this.handleSearchModelChanged()},_handleAppFinderAfterNavigate:function(){this.clearFilters()},clearFilters:function(){let e=false;if(this.categoryFilter!==this.preCategoryFilter){e=true}const t=this.oSubHeaderModel.getProperty("/search/searchMode");const i=this.oSubHeaderModel.getProperty("/tag/tagMode");if(t){this.oSubHeaderModel.setProperty("/search",{searchMode:true,searchTerm:""})}if(i){this.oSubHeaderModel.setProperty("/tag",{tagMode:true,selectedTags:[]})}if(this.categoryFilter&&this.categoryFilter!==""){this.selectedCategoryId=undefined;this.categoryFilter=undefined;this.getView().getModel().setProperty("/categoryFilter","");this.oView.setCategoryFilterSelection("",e)}this.preCategoryFilter=this.categoryFilter;this.handleSearchModelChanged()},onShow:function(t){const i=t.getParameter("arguments").filters;e(this.getView().getViewData(),t);this._decodeUrlFilteringParameters(i);if(this.wasRendered&&!i){this.clearFilters()}else{this._applyFilters(this.wasRendered)}},allocateNextPage:function(){if(!this.oCatalogsContainer.nAllocatedUnits||this.oCatalogsContainer.nAllocatedUnits===0){this.PagingManager.moveToNextPage();this.allocateTiles=this.PagingManager._calcElementsPerPage();this.oCatalogsContainer.applyPagingCategoryFilters(this.allocateTiles,this.categoryFilter)}},setTagsFilter:function(e){const t={catalogSelector:this.categoryFilter?this.categoryFilter:n.i18n.getText("all"),tileFilter:this.searchFilter&&this.searchFilter.length?encodeURIComponent(this.searchFilter):"",tagFilter:e.length?JSON.stringify(e):[]};this._addNavigationContextToFilter(t);this.getView().parentComponent.getRouter().navTo("catalog",{filters:JSON.stringify(t)})},setCategoryFilter:function(e){const t={catalogSelector:e,tileFilter:this.searchFilter?encodeURIComponent(this.searchFilter):"",tagFilter:this.tagFilter.length?JSON.stringify(this.tagFilter):[]};this._addNavigationContextToFilter(t);this.getView().parentComponent.getRouter().navTo("catalog",{filters:JSON.stringify(t)})},setSearchFilter:function(e){const t={catalogSelector:this.categoryFilter?this.categoryFilter:n.i18n.getText("all"),tileFilter:e?encodeURIComponent(e):"",tagFilter:this.tagFilter.length?JSON.stringify(this.tagFilter):[]};this._addNavigationContextToFilter(t);this.getView().parentComponent.getRouter().navTo("catalog",{filters:JSON.stringify(t)})},_addNavigationContextToFilter:function(e){const t=this.oVisualizationOrganizerHelper.getNavigationContext.apply(this);if(t){Object.keys(t).forEach(i=>{e[i]=t[i]})}return e},onSearch:function(e){const t=this.oSubHeaderModel.getProperty("/activeMenu");if(this.oView.getId().indexOf(t)!==-1){const t=e.searchTerm?e.searchTerm:"";this.setSearchFilter(t)}else{this._restoreSelectedMasterItem()}},onTag:function(e){const t=this.oSubHeaderModel.getProperty("/activeMenu");if(this.oView.getId().indexOf(t)!==-1){const t=e.selectedTags?e.selectedTags:[];this.setTagsFilter(t)}else{this._restoreSelectedMasterItem()}},getGroupContext:function(){const e=this.getView().getModel();const t=e.getProperty("/groupContext/path");return{targetGroup:encodeURIComponent(t||"")}},_isTagFilteringChanged:function(e){const t=e.length===this.tagFilter.length;let i=t;if(!i){return true}e.some(e=>{i=this.tagFilter&&Array.prototype.indexOf.call(this.tagFilter,e)!==-1;return!i});return i},_setUrlWithTagsAndSearchTerm:function(e,t){const i={tileFilter:e&&e.length?encodeURIComponent(e):"",tagFilter:t.length?JSON.stringify(t):[]};this._addNavigationContextToFilter(i);this.getView().parentComponent.getRouter().navTo("catalog",{filters:JSON.stringify(i)})},handleSearchModelChanged:function(){const e=this.oSubHeaderModel.getProperty("/search/searchMode");const i=this.oSubHeaderModel.getProperty("/tag/tagMode");let o=this.oSubHeaderModel.getProperty("/search/searchTerm");const s=this.oSubHeaderModel.getProperty("/tag/selectedTags");const r=[];let a;let n;let c;if(!this.PagingManager){this._setPagingManager()}this.PagingManager.resetCurrentPageIndex();this.nAllocatedTiles=0;this.PagingManager.moveToNextPage();this.allocateTiles=this.PagingManager._calcElementsPerPage();this.oView.oCatalogsContainer.updateAllocatedUnits(this.allocateTiles);this.oView.oCatalogsContainer.resetCatalogPagination();const h=t.getElementById("catalogTilesDetailedPage");if(h){h.scrollTo(0,0)}if(e||i||this.resetPage){if(s&&s.length>0){const e=new l("tags","EQ","v");e.fnTest=function(e){if(s.length===0){return true}for(let t=0;t<s.length;t++){const i=s[t];if(e.indexOf(i)===-1){return false}}return true};a=new l([e],true)}o=o?o.replace(/\*/g,""):o;if(o){const e=o.split(/[\s,]+/);const t=new l(jQuery.map(e,e=>e&&new l("keywords",g.Contains,e)),true);const i=new l(jQuery.map(e,e=>e&&new l("title",g.Contains,e)),true);const s=new l(jQuery.map(e,e=>e&&new l("subtitle",g.Contains,e)),true);r.push(t);r.push(i);r.push(s);n=new l(r,false)}const e=this.oView.oCatalogsContainer.getCatalogs();this.oSearchResultsTotal=[];const t=this;if(a&&a.aFilters.length>0&&n){c=new l([n].concat([a]),true)}else if(a&&a.aFilters.length>0){c=new l([a],true)}else if(n&&n.aFilters.length>0){c=new l([n],true)}e.forEach(e=>{e.getBinding("customTilesContainer").filter(c);e.getBinding("appBoxesContainer").filter(c)});this.oView.oCatalogsContainer.bSearchResults=false;this.oView.oCatalogsContainer.applyPagingCategoryFilters(this.oView.oCatalogsContainer.nAllocatedUnits,this.categoryFilter);this.bSearchResults=this.oView.oCatalogsContainer.bSearchResults;this.oView.splitApp.toDetail(t.getView()._calculateDetailPageId());this.resetPage=false}else{this.oView.oCatalogsContainer.applyPagingCategoryFilters(this.oView.oCatalogsContainer.nAllocatedUnits,this.categoryFilter)}const p=this.getView()._calculateDetailPageId();this.oView.splitApp.toDetail(p)},_handleAppFinderWithDocking:function(){if(jQuery(".sapUshellContainerDocked").length>0){if(jQuery("#mainShell").width()<710){if(window.innerWidth<1024){this.oSubHeaderModel.setProperty("/openCloseSplitAppButtonVisible",false);this.oView.splitApp.setMode(M.ShowHideMode)}else{this.oView.splitApp.setMode(M.HideMode);this.oSubHeaderModel.setProperty("/openCloseSplitAppButtonVisible",true)}}else{this.oSubHeaderModel.setProperty("/openCloseSplitAppButtonVisible",false);this.oView.splitApp.setMode(M.ShowHideMode)}}},_restoreSelectedMasterItem:function(){const e=this.oView.splitApp.getMasterPage("catalogSelect");const i=t.getElementById(this.selectedCategoryId);if(i){this.categoryFilter=i.getTitle()}e.setSelectedItem(i)},handleToggleButtonModelChanged:function(){const e=this.oSubHeaderModel.getProperty("/openCloseSplitAppButtonVisible");const i=this.oSubHeaderModel.getProperty("/openCloseSplitAppButtonToggled");if(i!==this.bCurrentButtonToggled&&e){if(!h.system.phone){if(i&&!this.oView.splitApp.isMasterShown()){this.oView.splitApp.showMaster()}else if(this.oView.splitApp.isMasterShown()){this.oView.splitApp.hideMaster()}}else if(this.oView.splitApp.isMasterShown()){const e=t.getElementById(this.getView()._calculateDetailPageId());this.oView.splitApp.toDetail(e)}else if(i){const e=t.getElementById("catalogSelect");this.oView.splitApp.toMaster(e,"show")}}this.bCurrentButtonToggled=i},_handleCatalogListItemPress:function(e){this.onCategoryFilter(e);if(this.oSubHeaderModel.getProperty("/search/searchTerm")!==""){this.oSubHeaderModel.setProperty("/search/searchMode",true)}if(h.system.phone||h.system.tablet){this.oSubHeaderModel.setProperty("/openCloseSplitAppButtonToggled",!this.oSubHeaderModel.setProperty("/openCloseSplitAppButtonToggled"))}},onCategoryFilter:function(e){const t=e.getSource();const i=t.getSelectedItem();const o=i.getBindingContext();const s=o.getModel();if(s.getProperty("static",o)){s.setProperty("/showCatalogHeaders",true);this.setCategoryFilter();this.selectedCategoryId=undefined;this.categoryFilter=undefined}else{s.setProperty("/showCatalogHeaders",false);this.setCategoryFilter(window.encodeURIComponent(i.getBindingContext().getObject().title));this.categoryFilter=i.getTitle();this.selectedCategoryId=i.getId()}},onTileAfterRendering:function(e){const t=e.oSource.getDomRef();if(t){const e=t.getElementsByClassName("sapMGT");for(let t=0;t<e.length;t++){e[t].setAttribute("tabindex","-1")}}},catalogTilePress:function(){i.getInstance().publish("launchpad","catalogTileClick")},onAppBoxPressed:function(e){const t=e.getSource();const i=t.getBindingContext().getObject();if(e.mParameters.srcControl.$().closest(".sapUshellPinButton").length){return}const o=this.oLaunchPageService.getAppBoxPressHandler(i);if(o){o(i)}else{const e=t.getProperty("url");if(!e){m.info("AppBox url property is not set.",null,"sap.ushell.components.Catalog.controller");return}const i=new P;i.addNavigationSource(w.AppFinder);C.emit("UITracer.trace",{reason:"LaunchApp",source:"Tile",data:{targetUrl:e}});if(e.indexOf("#")===0){hasher.setHash(e)}else{const i=u.last("/core/shell/enableRecentActivity")&&u.last("/core/shell/enableRecentActivityLogging");if(i){const i={title:t.getProperty("title"),appType:S.URL,url:e,appId:e};F.getRendererInternal("fiori2").logRecentActivity(i)}y.openURL(e,"_blank")}}},onTilePinButtonClick:function(e){const t=this.oLaunchPageService;const i=t.getDefaultGroup();i.done(i=>{const o=e.getSource();const r=o.getBindingContext();const a=this.getView().getModel();const n=a.getProperty("/groupContext/path");if(n){const e=()=>{if(a.getProperty(n).object){this._handleTileFooterClickInGroupContext(r,n);return}setTimeout(e,100)};e()}else{const e=a.getProperty("/groups");const n=this.getCatalogTileDataFromModel(r);const l=n.tileData.associatedGroups;const g=[];const c=e.map(e=>{const o=t.getGroupId(e.object);const s=!(l&&Array.prototype.indexOf.call(l,o)===-1);g.push({id:o,title:this._getGroupTitle(i,e.object),selected:s});return{selected:s,initiallySelected:s,oGroup:e}});let h;h=t.getCatalogTilePreviewTitle(a.getProperty(r.sPath).src);if(!h){h=t.getCatalogTileTitle(a.getProperty(r.sPath).src)}this.pPopoverView=s.create({id:"sapUshellGroupsPopover",viewName:"module:sap/ushell/components/appfinder/GroupListPopoverView",viewData:{title:h,enableHideGroups:a.getProperty("/enableHideGroups"),enableHelp:a.getProperty("/enableHelp"),sourceContext:r,catalogModel:this.getView().getModel(),catalogController:this}}).then(e=>{e.getController().initializeData({groupData:c});e.open(o).then(this._handlePopoverResponse.bind(this,r,n));this.getView().addDependent(e);return e})}})},_getGroupTitle:function(e,t){const i=this.oLaunchPageService;let o;if(e&&i.getGroupId(e)===i.getGroupId(t)){o=n.i18n.getText("my_group")}else{o=i.getGroupTitle(t)}return o},_handlePopoverResponse:function(e,t,i){if(!i.addToGroups.length&&!i.newGroups.length&&!i.removeFromGroups.length){return}const o=this.getView().getModel();const s=o.getProperty("/groups");const r=[];i.addToGroups.forEach(t=>{const i=s.indexOf(t);const a=new p(o,`/groups/${i}`);r.push(this._addTile(e,a))});i.removeFromGroups.forEach(t=>{const i=e.getModel().getProperty(e.getPath()).id;const o=s.indexOf(t);r.push(this._removeTile(i,o))});i.newGroups.forEach(t=>{const i=t.length>0?t:n.i18n.getText("new_group_name");r.push(this._createGroupAndSaveTile(e,i))});jQuery.when.apply(jQuery,r).then(function(){const e=Array.prototype.slice.call(arguments);this._handlePopoverGroupsActionPromises(t,i,e)}.bind(this))},_handlePopoverGroupsActionPromises:function(e,t,i){const o=i.filter(e=>!e.status);if(o.length){const t=this.prepareErrorMessage(o,e.tileData.title);T.resetAssociationOnFailure(t.messageId,t.parameters);return}const s=[];const r=this.oLaunchPageService;t.allGroups.forEach(e=>{if(e.selected){const t=r.getGroupId(e.oGroup.object);s.push(t)}});const a=this.getView().getModel();if(t.newGroups.length){const e=a.getProperty("/groups");const i=e.slice(e.length-t.newGroups.length);i.forEach(e=>{const t=r.getGroupId(e.object);s.push(t)})}a.setProperty(`${e.bindingContextPath}/associatedGroups`,s);let n=t.addToGroups[0]?t.addToGroups[0].title:"";if(n.length===0&&t.newGroups.length){n=t.newGroups[0]}const l=t.removeFromGroups[0]?t.removeFromGroups[0].title:"";const g=t.addToGroups.length+t.newGroups.length;const c=t.removeFromGroups.length;const h=this.prepareDetailedMessage(e.tileData.title,g,c,n,l);d.show(h)},_getCatalogTileIndexInModel:function(e){const t=e.sPath;const i=t.split("/");const o=i[i.length-1];return o},_handleTileFooterClickInGroupContext:function(e,t){const i=this.oLaunchPageService;const o=this.getView().getModel();const s=this.getCatalogTileDataFromModel(e);const r=s.tileData.associatedGroups;const a=o.getProperty(t);const n=i.getGroupId(a.object);const l=r?Array.prototype.indexOf.call(r,n):-1;const g=s.bindingContextPath;if(s.isBeingProcessed){return}o.setProperty(`${g}/isBeingProcessed`,true);let c;let h;if(l===-1){const i=new p(e.getModel(),t);c=this._addTile(e,i);h=true}else{const i=e.getModel().getProperty(e.getPath("id"));const o=parseInt(t.split("/")[2],10);c=this._removeTile(i,o);h=false}c.done(t=>{if(t.status){this._groupContextOperationSucceeded(e,s,a,h)}else{this._groupContextOperationFailed(s,a,h)}});c.always(()=>{o.setProperty(`${g}/isBeingProcessed`,false)})},_groupContextOperationSucceeded:function(e,t,i,o){const s=this.oLaunchPageService;const r=s.getGroupId(i.object);const a=t.tileData.associatedGroups;let n;if(o){a.push(r);e.getModel().setProperty(`${t.bindingContextPath}/associatedGroups`,a);n=this.prepareDetailedMessage(t.tileData.title,1,0,i.title,"")}else{for(let e=0;e<a.length;e++){if(a[e]===r){a.splice(e,1);break}}e.getModel().setProperty(`${t.bindingContextPath}/associatedGroups`,a);n=this.prepareDetailedMessage(t.tileData.title,0,1,"",i.title)}d.show(n)},_groupContextOperationFailed:function(e,t,i){let o;if(i){o={messageId:"fail_tile_operation_add_to_group",parameters:[e.tileData.title,t.title]}}else{o={messageId:"fail_tile_operation_remove_from_group",parameters:[e.tileData.title,t.title]}}T.notifyOnActionFailure(o.messageId,o.parameters)},prepareErrorMessage:function(e,t){let i;let o;let s;let r=0;let a=0;let n=false;for(const t in e){const s=e[t].group;const l=e[t].action;if(l==="add"){r++;if(r===1){i=s.title}}else if(l==="remove"){a++;if(a===1){o=s.title}}else if(l==="addTileToNewGroup"){r++;if(r===1){i=s.title}}else{n=true}}if(n){if(e.length===1){s={messageId:"fail_tile_operation_create_new_group"}}else{s={messageId:"fail_tile_operation_some_actions"}}}else if(e.length===1){if(r){s={messageId:"fail_tile_operation_add_to_group",parameters:[t,i]}}else{s={messageId:"fail_tile_operation_remove_from_group",parameters:[t,o]}}}else if(a===0){s={messageId:"fail_tile_operation_add_to_several_groups",parameters:[t]}}else if(r===0){s={messageId:"fail_tile_operation_remove_from_several_groups",parameters:[t]}}else{s={messageId:"fail_tile_operation_some_actions"}}return s},prepareDetailedMessage:function(e,t,i,o,s){let r;if(t===0){if(i===1){r=n.i18n.getText("tileRemovedFromSingleGroup",[e,s])}else if(i>1){r=n.i18n.getText("tileRemovedFromSeveralGroups",[e,i])}}else if(t===1){if(i===0){r=n.i18n.getText("tileAddedToSingleGroup",[e,o])}else if(i===1){r=n.i18n.getText("tileAddedToSingleGroupAndRemovedFromSingleGroup",[e,o,s])}else if(i>1){r=n.i18n.getText("tileAddedToSingleGroupAndRemovedFromSeveralGroups",[e,o,i])}}else if(t>1){if(i===0){r=n.i18n.getText("tileAddedToSeveralGroups",[e,t])}else if(i===1){r=n.i18n.getText("tileAddedToSeveralGroupsAndRemovedFromSingleGroup",[e,t,s])}else if(i>1){r=n.i18n.getText("tileAddedToSeveralGroupsAndRemovedFromSeveralGroups",[e,t,i])}}return r},getCatalogTileDataFromModel:function(e){const t=e.getPath();const i=e.getModel();const o=i.getProperty(t);return{tileData:o,bindingContextPath:t,isBeingProcessed:o.isBeingProcessed}},_addTile:function(e,t){const i=jQuery.Deferred();const o=T.createTile({catalogTileContext:e,groupContext:t});o.done(e=>{i.resolve(e)});return i},_removeTile:function(e,t){const i=jQuery.Deferred();const o=T.deleteCatalogTileFromGroup({tileId:e,groupIndex:t});o.done(e=>{i.resolve(e)});return i},_createGroupAndSaveTile:function(e,t){const i=jQuery.Deferred();const o=T.createGroupAndSaveTile({catalogTileContext:e,newGroupName:t});o.done(e=>{i.resolve(e)});return i},onExit:function(){f.destroy();i.getInstance().unsubscribe("launchpad","appFinderWithDocking",this._handleAppFinderWithDocking,this);i.getInstance().unsubscribe("launchpad","appFinderAfterNavigate",this._handleAppFinderAfterNavigate,this)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/appfinder/CatalogView", ["sap/m/BusyIndicator","sap/m/library","sap/m/List","sap/m/IllustratedMessage","sap/m/Page","sap/m/PageAccessibleLandmarkInfo","sap/m/SplitApp","sap/m/StandardListItem","sap/ui/core/Element","sap/ui/core/EventBus","sap/ui/core/mvc/View","sap/ui/core/library","sap/ui/Device","sap/ui/performance/Measurement","sap/ushell/components/appfinder/VisualizationOrganizerHelper","sap/ushell/ui/appfinder/AppBoxInternal","sap/ushell/ui/appfinder/PinButton","sap/ushell/ui/launchpad/AccessibilityCustomData","sap/ushell/ui/launchpad/CatalogEntryContainer","sap/ushell/ui/launchpad/CatalogsContainer","sap/ushell/ui/launchpad/Tile","sap/ushell/resources"],(e,t,a,o,s,n,i,l,r,p,c,u,g,d,h,f,m,C,y,b,P,T)=>{"use strict";const S=t.ListSeparators;const B=t.ListMode;const I=u.AccessibleLandmarkRole;return c.extend("sap.ushell.components.appfinder.CatalogView",{oController:null,oVisualizationOrganizerHelper:h.getInstance(),formatPinButtonTooltip:function(e,t){let a;if(t.path){const o=e?Array.prototype.indexOf.call(e,t.id):-1;a=o!==-1?"removeAssociatedTileFromContextGroup":"addAssociatedTileToContextGroup";return T.i18n.getText(a,[t.title])}a=e&&e.length?"EasyAccessMenu_PinButton_Toggled_Tooltip":"EasyAccessMenu_PinButton_UnToggled_Tooltip";return T.i18n.getText(a)},formatPinButtonSelectState:function(e,t,a,o){if(a){const t=e?Array.prototype.indexOf.call(e,o):-1;return t!==-1}return!!t},createContent:function(t){const c=this;this.oViewData=this.getViewData();this.parentComponent=this.oViewData.parentComponent;const u=this.parentComponent.getModel();this.setModel(u);this.setModel(this.oViewData.subHeaderModel,"subHeaderModel");this.oVisualizationOrganizerHelper.setModel(u);this.oController=t;function h(e){return e!==null&&(e==="1x2"||e==="2x2")||false}const A=new m({icon:{path:"id",formatter:this.oVisualizationOrganizerHelper.formatPinButtonIcon},type:{path:"id",formatter:this.oVisualizationOrganizerHelper.formatPinButtonType},selected:{parts:["associatedGroups","associatedGroups/length","/groupContext/path","/groupContext/id"],formatter:this.oVisualizationOrganizerHelper.formatPinButtonSelectState.bind(this)},tooltip:{parts:["associatedGroups","/groupContext","id"],formatter:this.oVisualizationOrganizerHelper.formatPinButtonTooltip.bind(this)},press:[this.oVisualizationOrganizerHelper.onTilePinButtonClick,this],visible:false});const w=new m({icon:{path:"id",formatter:this.oVisualizationOrganizerHelper.formatPinButtonIcon},type:{path:"id",formatter:this.oVisualizationOrganizerHelper.formatPinButtonType},selected:{parts:["associatedGroups","associatedGroups/length","/groupContext/path","/groupContext/id"],formatter:this.oVisualizationOrganizerHelper.formatPinButtonSelectState.bind(this)},tooltip:{parts:["associatedGroups","/groupContext","id"],formatter:this.oVisualizationOrganizerHelper.formatPinButtonTooltip.bind(this)},press:[this.oVisualizationOrganizerHelper.onTilePinButtonClick,this],visible:false});this.oAppBoxesTemplate=new f({title:"{title}",icon:"{icon}",subtitle:"{subtitle}",url:"{url}",navigationMode:"{navigationMode}",pinButton:w,contentProviderLabel:"{contentProviderLabel}",press:[t.onAppBoxPressed,t]});this.oVisualizationOrganizerHelper.shouldPinButtonBeVisible().then(e=>{w.setVisible(e);A.setVisible(e)});w.addCustomData(new C({key:"tabindex",value:"-1",writeToDom:true}));w.addStyleClass("sapUshellPinButton");A.addCustomData(new C({key:"tabindex",value:"-1",writeToDom:true}));A.addStyleClass("sapUshellPinButton");this.oTileTemplate=new P({tileViews:{path:"content",factory:function(e,t){return t.getObject()}},long:{path:"size",formatter:h},tileCatalogId:"{id}",tileCatalogIdStable:"{tileCatalogIdStable}",pinButton:A,press:[t.catalogTilePress,t],afterRendering:t.onTileAfterRendering});this.oCatalogSelect=new a("catalogSelect",{visible:"{/enableCatalogSelection}",rememberSelections:true,showSeparators:S.None,mode:B.SingleSelectMaster,items:{path:"/masterCatalogs",template:new l({type:"Active",title:"{title}"})},showNoData:false,itemPress:[t._handleCatalogListItemPress,t],selectionChange:[t._handleCatalogListItemPress,t]});this.getCatalogSelect=function(){return this.oCatalogSelect};const M=this.oCatalogSelect.onAfterRendering;if(g.system.desktop){sap.ui.require(["sap/ushell/components/ComponentKeysHandler","sap/ushell/renderer/AccessKeysHandler"],(e,t)=>{e.getInstance().then(e=>{this.oCatalogSelect.addEventDelegate({onsaptabnext:function(a){try{a.preventDefault();t.setIsFocusHandledByAnotherHandler(true);e.setFocusOnCatalogTile()}catch{}},onsapskipforward:function(a){try{a.preventDefault();t.setIsFocusHandledByAnotherHandler(true);e.setFocusOnCatalogTile()}catch{}},onsapskipback:function(a){try{a.preventDefault();t.setIsFocusHandledByAnotherHandler(true);const o=r.getElementById("openCloseButtonAppFinderSubheader");if(o.getVisible()){o.focus()}else{e.appFinderFocusMenuButtons(a)}}catch{}}})})})}if(u.getProperty("/enableHelp")){this.oCatalogSelect.addStyleClass("help-id-catalogCategorySelect")}this.setCategoryFilterSelection=function(e,t){const a=c.getCatalogSelect();const o=a.getItems();let s=e;let n=0;if(!s||s===""){s=T.i18n.getText("all")}o.forEach((e,t)=>{if(e.getTitle()===s){n=t;a.setSelectedItem(e)}});if(o.length!==0&&t){o[n].focus()}};this.oCatalogSelect.onAfterRendering=function(){const e=c.oController.categoryFilter||T.i18n.getText("all");c.setCategoryFilterSelection(e);if(M){M.apply(this,arguments)}if(!this.getSelectedItem()){this.setSelectedItem(this.getItems()[0])}setTimeout(()=>{const e=r.getElementById("appFinderSegmentedButtons");if(e){e.focus()}},0)};const D=this.oCatalogSelect._onAfterRenderingPopover;this.oCatalogSelect._onAfterRenderingPopover=function(){if(this._oPopover){this._oPopover.setFollowOf(false)}if(D){D.apply(this,arguments)}};const x=p.getInstance();let v;const H=function(){this.splitApp.toMaster("catalogSelect","show");if(!g.system.phone){v=this._calculateDetailPageId();if(v!==this.splitApp.getCurrentDetailPage().getId()){this.splitApp.toDetail(v)}}}.bind(this);x.subscribe("launchpad","catalogContentLoaded",()=>{setTimeout(H,500)},this);x.subscribe("launchpad","afterCatalogSegment",H,this);const z=new y({header:"{title}",customTilesContainer:{path:"customTiles",template:this.oTileTemplate,templateShareable:true},appBoxesContainer:{path:"appBoxes",template:this.oAppBoxesTemplate,templateShareable:true}});this.oIllustratedMessage=new o({visible:true,title:T.i18n.getText("EasyAccessMenu_NoAppsToDisplayMessagePage_Text"),description:" "}).addEventDelegate({onAfterRendering:function(){const e=this.oIllustratedMessage.getDomRef();if(e){const t=e.getElementsByClassName("sapMTitle");if(t.length){t[0].setAttribute("tabindex","0")}}}.bind(this),onBeforeRendering:function(){const e=this.oIllustratedMessage.getDomRef();if(e){const t=e.getElementsByClassName("sapMTitle");if(t.length){t[0].removeAttribute("tabindex")}}}.bind(this)});this.oCatalogsContainer=new b("catalogTiles",{categoryFilter:"{/categoryFilter}",catalogs:{path:"/catalogs",templateShareable:true,template:z},busy:true}).addStyleClass("sapUiTinyMarginTop");this.oCatalogsContainer.addStyleClass("sapUshellCatalogTileContainer");this.oCatalogsContainer.addEventDelegate({onsaptabprevious:function(e){const t=r.getElementById("openCloseButtonAppFinderSubheader");const a=e.srcControl.getDomRef();if(t.getVisible()&&!t.getPressed()&&!a.classList.contains("sapUshellPinButton")){e.preventDefault();const t=r.getElementById("appFinderSearch");t.focus()}},onsapskipback:function(e){const t=r.getElementById("openCloseButtonAppFinderSubheader");if(t.getVisible()&&!t.getPressed()){e.preventDefault();t.focus()}}});this.oCatalogsContainer.onAfterRendering=function(){const e=r.getElementById("catalogTilesDetailedPage");if(!this.getBusy()){e.setBusy(false);d.end("FLP:AppFinderLoadingStartToEnd")}else{e.setBusy(true)}document.getElementById("catalogTilesDetailedPage-cont").addEventListener("scroll",()=>{const e=r.getElementById("catalogTilesDetailedPage");const t=e.getScrollDelegate();const a=t.getScrollTop();const o=t.getMaxScrollTop();if(o-a<=30+3*c.oController.PagingManager.getTileHeight()&&c.oController.bIsInProcess===false){c.oController.bIsInProcess=true;c.oController.allocateNextPage();setTimeout(()=>{c.oController.bIsInProcess=false},0)}})};const V=new s("catalogTilesDetailedPage",{showHeader:false,showFooter:false,showNavButton:false,content:[this.oCatalogsContainer.addStyleClass("sapUshellCatalogPage")],landmarkInfo:new n({contentLabel:T.i18n.getText("appFinderCatalogTitle"),contentRole:I.None,rootRole:I.None})});const F=new s("catalogMessagePage",{showHeader:false,showFooter:false,showNavButton:false,content:[this.oIllustratedMessage]});const E=new e("catalogSelectBusyIndicator",{size:"1rem"});this.splitApp=new i("catalogViewMasterDetail",{masterPages:[E,this.oCatalogSelect],detailPages:[V,F],mode:"{= ${/isPhoneWidth} ? 'HideMode' : 'ShowHideMode'}"});return this.splitApp},_calculateDetailPageId:function(){const e=this.getModel("subHeaderModel");const t=e.getProperty("/search/searchMode");const a=e.getProperty("/tag/tagMode");const o=!!this.getModel().getProperty("/catalogsNoDataText");let s;if(t||a){s=this.getController().bSearchResults?"catalogTilesDetailedPage":"catalogMessagePage"}else if(o){s="catalogMessagePage"}else{s="catalogTilesDetailedPage"}return s},getControllerName:function(){return"sap.ushell.components.appfinder.Catalog"}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/appfinder/Component", ["sap/ui/core/UIComponent","sap/ui/thirdparty/hasher","sap/ushell/components/CatalogsManager","sap/ushell/resources","sap/ushell/Config","sap/ushell/bootstrap/common/common.load.model","sap/ushell/components/SharedComponentUtils","sap/base/util/UriParameters","sap/ushell/Container"],(e,t,o,s,a,n,i,l,r)=>{"use strict";return e.extend("sap.ushell.components.appfinder.Component",{metadata:{interfaces:["sap.ui.core.IAsyncContentCreation"],manifest:"json",library:"sap.ushell"},init:function(){e.prototype.init.apply(this,arguments);this.oModel=n.getModel();this.setModel(this.oModel);const l=a.last("/core/shell/enablePersonalization");if(l){i.getEffectiveHomepageSetting("/core/home/homePageGroupDisplay","/core/home/enableHomePageSettings")}this.oCatalogsManager=new o("dashboardMgr",{model:this.oModel});this.setModel(s.i18nModel,"i18n");i.toggleUserActivityLog();const c=t.getHash();Promise.all([r.getServiceAsync("ShellNavigationInternal"),r.getServiceAsync("URLParsing")]).then(e=>{const t=e[0];const o=e[1];const s=o.parseShellHash(c);if(s&&s.semanticObject==="shell"&&s.action==="catalog"){const e=this.parseOldCatalogParams(c);const o=this.getManifestEntry("/sap.ui5/config");t.toExternal({target:{semanticObject:o.semanticObject,action:o.action}});this.getRouter().navTo("catalog",{filters:JSON.stringify(e)})}})},parseOldCatalogParams:function(e){const t=l.fromURL(e).mParams;const o=Object.create(null);for(const e in t){if(Object.prototype.hasOwnProperty.call(t,e)){const s=t[e][0];o[e]=s.includes("/")?encodeURIComponent(s):s}}return o},destroy:function(){return Promise.all([e.prototype.destroy.apply(this,arguments),this.oCatalogsManager&&this.oCatalogsManager.destroy()])}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/appfinder/EasyAccess.controller", ["sap/base/i18n/Localization","sap/ui/core/Element","sap/ui/core/mvc/Controller","sap/ui/core/mvc/View","sap/base/Log","sap/ui/model/odata/ODataUtils","sap/ui/thirdparty/datajs","sap/ui/thirdparty/jquery","sap/ushell/resources","sap/ui/model/json/JSONModel","sap/ushell/ui/launchpad/AccessibilityCustomData","sap/ushell/Config","sap/ushell/Container","sap/ushell/utils/LaunchpadError"],(e,t,s,r,i,a,o,jQuery,n,l,c,h,u,p)=>{"use strict";return s.extend("sap.ushell.components.appfinder.EasyAccess",{DEFAULT_URL:"/sap/opu/odata/UI2",DEFAULT_NUMBER_OF_LEVELS:3,SEARCH_RESULTS_PER_REQUEST:100,onInit:function(){const e=this;this.translationBundle=n.i18n;this.oView=this.getView();const t=this.oView.getModel("easyAccessSystemsModel");const s=t.bindProperty("/systemSelected");s.attachChange(e.adjustUiOnSystemChange.bind(this));this.menuName=this.oView.getViewData().menuName;this.systemId=null;this.easyAccessCache={};this.easyAccessModel=new l;this.easyAccessModel.setSizeLimit(1e3);Promise.all([this.oView.pHierarchyFolders,this.oView.pHierarchyApps]).then(e=>{e[0].setModel(this.easyAccessModel,"easyAccess");e[1].setModel(this.easyAccessModel,"easyAccess")});if(!h.last("/core/spaces/enabled")){sap.ui.require(["sap/ushell/components/HomepageManager"],e=>{const t=this.getView().getModel();if(!t.getProperty("/catalogs")){if(!t.getProperty("/groups")||t.getProperty("/groups").length===0){const t=e.prototype.getInstance();if(t){this.oHomepageManager=t;this.oHomepageManager.loadPersonalizedGroups()}else{i.error("The homepage manager was not initialized. Tiles in user and sap menu cannot be added to groups.")}}}})}const r=this.oView.getModel("subHeaderModel");const a=r.bindProperty("/openCloseSplitAppButtonToggled");a.attachChange(e.handleToggleButtonModelChanged.bind(this));if(this.oView.getViewData().enableSearch){const t=r.bindProperty("/search");t.attachChange(e.handleSearchModelChanged.bind(this))}this.checkIfSystemSelectedAndLoadData()},checkIfSystemSelectedAndLoadData:function(){const e=this.oView.getModel("easyAccessSystemsModel").getProperty("/systemSelected");if(e){this.systemId=e.systemId;this.loadMenuItemsFirstTime(this.oView.getViewData().menuName,e)}},navigateHierarchy:function(e,t){Promise.all([this.oView.pHierarchyFolders,this.oView.pHierarchyApps]).then(s=>{const r=s[0];const i=s[1];r.setBusy(false);const a=this.easyAccessModel.getProperty(e||"/");if(typeof a.folders!=="undefined"){r.updatePageBindings(e,t);i.getController().updatePageBindings(e);return}r.setBusy(true);this.getMenuItems(this.menuName,this.systemId,a.id,a.level).then(function(e,s){this.easyAccessModel.setProperty(`${e}/folders`,s.folders);this.easyAccessModel.setProperty(`${e}/apps`,s.apps);r.updatePageBindings(e,t);i.getController().updatePageBindings(e);r.setBusy(false)}.bind(this,e)).catch(e=>{this.handleGetMenuItemsError(e)})})},handleSearch:function(e){const t=!this.pHierarchyAppsSearchResults;if(t){this.pHierarchyAppsSearchResults=r.create({id:`${this.getView().getId()}hierarchyAppsSearchResults`,viewName:"module:sap/ushell/components/appfinder/HierarchyAppsView",height:"100%",viewData:{easyAccessSystemsModel:this.oView.getModel("easyAccessSystemsModel"),getMoreSearchResults:this.getMoreSearchResults.bind(this),CatalogsManager:this.getView().getViewData().CatalogsManager}}).then(e=>{this.easyAccessSearchResultsModel=new l;this.easyAccessSearchResultsModel.setSizeLimit(1e4);e.setModel(this.easyAccessSearchResultsModel,"easyAccess");e.addStyleClass(" sapUshellAppsView sapMShellGlobalInnerBackground");e.addCustomData(new c({key:"role",value:"region",writeToDom:true}));e.addCustomData(new c({key:"aria-label",value:this.oView.oResourceBundle.getText("easyAccessTileContainer"),writeToDom:true}));return e})}this.pHierarchyAppsSearchResults.then(s=>{this.searchResultFrom=0;this.oView.splitApp.getCurrentDetailPage().setBusy(true);this.easyAccessSearchResultsModel.setProperty("/apps",[]);this.easyAccessSearchResultsModel.setProperty("/total",0);this._getSearchResults(e,this.searchResultFrom).then(e=>{u.getServiceAsync("BookmarkV2").then(r=>{e.results.forEach(e=>{r.countBookmarks(e.url).then(t=>{e.bookmarkCount=t})});this.easyAccessSearchResultsModel.setProperty("/apps",e.results);this.easyAccessSearchResultsModel.setProperty("/total",e.count);this.searchResultFrom=e.results.length;if(t){this.oView.splitApp.addDetailPage(s)}s.updateResultSetMessage(parseInt(e.count,10),true);this.oView.splitApp.getCurrentDetailPage().setBusy(false);if(this.oView.splitApp.getCurrentDetailPage()!==s){this.oView.splitApp.toDetail(`${this.getView().getId()}hierarchyAppsSearchResults`)}})}).catch(e=>{this.handleGetMenuItemsError(e);this.oView.splitApp.getCurrentDetailPage().setBusy(false)});return s})},getMoreSearchResults:function(){if(this.oView.splitApp.getCurrentDetailPage().setShowMoreResultsBusy){this.oView.splitApp.getCurrentDetailPage().setShowMoreResultsBusy(true)}const e=this.oView.getModel("subHeaderModel");const t=e.getProperty("/search/searchTerm");this._getSearchResults(t,this.searchResultFrom).then(e=>{const t=this.easyAccessSearchResultsModel.getProperty("/apps");const s=t.slice();Array.prototype.push.apply(s,e.results);this.easyAccessSearchResultsModel.setProperty("/apps",s);if(this.oView.splitApp.getCurrentDetailPage().setShowMoreResultsBusy){this.oView.splitApp.getCurrentDetailPage().setShowMoreResultsBusy(false)}this.searchResultFrom=s.length}).catch(e=>{this.handleGetMenuItemsError(e);if(this.oView.splitApp.getCurrentDetailPage().setShowMoreResultsBusy){this.oView.splitApp.getCurrentDetailPage().setShowMoreResultsBusy(true)}})},_getSearchResults:function(e,t){const s=new jQuery.Deferred;const r=this._getODataRequestForSearchUrl(this.menuName,this.systemId,e,t);const i={requestUri:r};const a=this._callODataService(i,this.handleSuccessOnReadFilterResults);a.done(e=>{s.resolve(e)});a.fail(e=>{s.reject(e)});return s.promise()},getSystemNameOrId:function(){const e=this.oView.getModel("easyAccessSystemsModel").getProperty("/systemSelected");if(e){return e.name||e.id}return undefined},adjustUiOnSystemChange:function(){const e=this.easyAccessModel.getData();if(this.systemId&&e&&e.id){this.easyAccessCache[this.systemId]=e}const t=this.oView.getModel("easyAccessSystemsModel").getProperty("/systemSelected");if(t){this.systemId=t.systemId;const e=this.easyAccessCache[this.systemId];if(e){this.easyAccessModel.setData(e);this.navigateHierarchy("",false)}else{Promise.all([this.oView.pHierarchyFolders,this.oView.pHierarchyApps]).then(e=>{e[0].setBusy(true);e[1].setBusy(true)});this.loadMenuItemsFirstTime(this.menuName,t)}}},handleToggleButtonModelChanged:function(){const e=this.oView.getModel("subHeaderModel");const t=e.getProperty("/openCloseSplitAppButtonVisible");const s=e.getProperty("/openCloseSplitAppButtonToggled");const r=this.getView().splitApp;if(t){if(s&&!r.isMasterShown()){r.showMaster()}else if(r.isMasterShown()){r.hideMaster()}}},handleSearchModelChanged:function(){const e=this.oView.getModel("subHeaderModel");const s=e.getProperty("/activeMenu");if(this.getView().getId().indexOf(s)===-1){return}const r=e.getProperty("/search/searchTerm");const i=e.getProperty("/search/searchMode");if(i){t.getElementById("appFinderSearch").getCustomData()[0].setValue(`${this.getView().getId()}hierarchyAppsSearchResults`);if(r){this.handleSearch(r)}}else{t.getElementById("appFinderSearch").getCustomData()[0].setValue("");this.oView.splitApp.toDetail(`${this.getView().getId()}hierarchyApps`)}},loadMenuItemsFirstTime:function(e,t){return this.getMenuItems(e,t.systemId,"",0).then(e=>{e.text=t.systemName||t.systemId;this.easyAccessModel.setData(e);Promise.all([this.oView.pHierarchyFolders,this.oView.pHierarchyApps]).then(e=>{e[0].setBusy(false);e[1].setBusy(false)});this.navigateHierarchy("",false)}).catch(e=>{this.handleGetMenuItemsError(e);Promise.all([this.oView.pHierarchyFolders,this.oView.pHierarchyApps]).then(e=>{e[0].updatePageBindings("/",false);e[1].getController().updatePageBindings("/")})})},handleGetMenuItemsError:function(e){const t=this.getErrorMessage(e);sap.ui.require(["sap/m/MessageBox"],e=>{e.error(t)});this.easyAccessModel.setData("");this.oView.hierarchyFolders.setBusy(false);this.oView.hierarchyApps.setBusy(false)},_getErrorDetails:function(e){try{const t=JSON.parse(e.response.body);return t.error.message.value}catch(e){return null}},getErrorMessage:function(e){let t="";if(this.menuName==="SAP_MENU"){t=this.translationBundle.getText("easyAccessSapMenuNameParameter")}else if(this.menuName==="USER_MENU"){t=this.translationBundle.getText("easyAccessUserMenuNameParameter")}if(e){if(e.message){const s=this._getErrorDetails(e);if(s){return this.translationBundle.getText("easyAccessErrorGetDataErrorMsgWithDetails",[t,e.message,s])}return this.translationBundle.getText("easyAccessErrorGetDataErrorMsg",[t,e.message])}return this.translationBundle.getText("easyAccessErrorGetDataErrorMsg",[t,e])}return this.translationBundle.getText("easyAccessErrorGetDataErrorMsgNoReason",[t])},getMenuItems:function(e,t,s,r,i){const a=new jQuery.Deferred;if(e!=="SAP_MENU"&&e!=="USER_MENU"){a.reject(new Error("Invalid menuType parameter"));return a.promise()}if(typeof t!=="string"||t===""){a.reject(new Error("Invalid systemId parameter"));return a.promise()}if(typeof s!=="string"){a.reject(new Error("Invalid entityId parameter"));return a.promise()}if(typeof r!=="number"){a.reject(new Error("Invalid entityLevel parameter"));return a.promise()}if(i&&typeof i!=="number"){a.reject(new Error("Invalid numberOfNextLevels parameter"));return a.promise()}if(s===""){r=0}let o;const n=this.getView().getModel();const l=n.getProperty("/easyAccessNumbersOfLevels");if(l){o=l}else if(i){o=i}else{o=this.DEFAULT_NUMBER_OF_LEVELS}const c=r+o+1;const h=this._getODataRequestUrl(e,t,s,c);const u={requestUri:h};const p=this._callODataService(u,this.handleSuccessOnReadMenuItems,{systemId:t,entityId:s,iLevelFilter:c});p.done(e=>{a.resolve(e)});p.fail(e=>{a.reject(e)});return a.promise()},_callODataService:function(t,s,r){const i=new jQuery.Deferred;const a=u.getUser().getLanguage();if(a&&t.requestUri.indexOf("sap-language=")<0){t.requestUri+=`${t.requestUri.indexOf("?")>=0?"&":"?"}sap-language=${a}`}const n=u.getLogonSystem();const l=n&&n.getClient();o.read({requestUri:t.requestUri,headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0","Accept-Language":e.getLanguage()||"","sap-client":l||"","sap-language":a||""}},(e,t)=>{if(e&&e.results&&t&&t.statusCode===200){const t=s.bind(this,e,r||{})();i.resolve(t)}},e=>{const t=new p(`Failed to fetch data: ${e.message}`,{dataJsError:e});i.reject(t)});return i.promise()},handleSuccessOnReadMenuItems:function(e,t){const s=this._oDataResultFormatter(e.results,t.systemId,t.entityId,t.iLevelFilter);return s},handleSuccessOnReadFilterResults:function(e){let t;e.results.forEach((e,s)=>{t=this._appendSystemToUrl(e,this.systemId);e.url=t});return{results:e.results,count:e.__count}},_appendSystemToUrl:function(e,t){if(e.url){return`${e.url+(e.url.indexOf("?")>0?"&":"?")}sap-system=${t}`}},_oDataResultFormatter:function(e,t,s,r){const i={};let a={};if(s===""){a={id:"root",text:"root",level:0,folders:[],apps:[]};i.root=a}else{a={id:s,folders:[],apps:[]};i[s]=a}let o;for(let s=0;s<e.length;s++){o=e[s];let a;if(o.level==="01"){a=i.root}else{a=i[o.parentId]}const n={id:o.Id,text:o.text,subtitle:o.subtitle,icon:o.icon,level:parseInt(o.level,10)};if(o.type==="FL"){n.folders=[];n.apps=[];if(o.level==r-1){n.folders=undefined;n.apps=undefined}if(a&&a.folders){a.folders.push(n)}i[o.Id]=n}else{n.url=this._appendSystemToUrl(o,t);if(a&&a.apps){a.apps.push(n)}}}return a},_getODataRequestUrl:function(e,t,s,r){let i=this._getServiceUrl(e);let a;if(r<10){a=`0${r}`}else{a=r.toString()}let o="";if(s){if(decodeURIComponent(s)===s){s=encodeURIComponent(s)}o=`('${s}')/AllChildren`}i=`${i};o=${t}/MenuItems${o}?$filter=level lt '${a}'&$orderby=level,text`;return i},_getODataRequestForSearchUrl:function(e,t,s,r){let i=this._getServiceUrl(e);const o=this.SEARCH_RESULTS_PER_REQUEST;s=this._removeWildCards(s);s=encodeURIComponent(s);r=!r?0:r;s=a.formatValue(s,"Edm.String");i=`${i};o=${t}/MenuItems?$filter=type ne 'FL' and (`+`substringof(${s}, text) or `+`substringof(${s}, subtitle) or `+`substringof(${s}, url)`+")"+`&$orderby=text,subtitle,url&$inlinecount=allpages&$skip=${r}&$top=${o}`;return i},_getServiceUrl:function(e){let t;const s=this.getView().getModel();if(e==="SAP_MENU"){const e=s.getProperty("/sapMenuServiceUrl");if(e){t=e}else{t=`${this.DEFAULT_URL}/EASY_ACCESS_MENU`}}else if(e==="USER_MENU"){const e=s.getProperty("/userMenuServiceUrl");if(e){t=e}else{t=`${this.DEFAULT_URL}/USER_MENU`}}return t},_removeWildCards:function(e){return e.replace(/\*/g,"")}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/appfinder/EasyAccessView", ["sap/ui/core/mvc/View","sap/m/SplitApp","sap/ushell/resources"],(e,s,t)=>{"use strict";return e.extend("sap.ushell.components.appfinder.EasyAccessView",{createContent:function(a){this.oResourceBundle=t.i18n;this.setModel(this.getViewData().easyAccessSystemsModel,"easyAccessSystemsModel");this.setModel(this.getViewData().subHeaderModel,"subHeaderModel");this.setModel(this.getViewData().parentComponent.getModel());this.pHierarchyFolders=e.create({viewName:"module:sap/ushell/components/appfinder/HierarchyFoldersView",height:"100%",viewData:{navigateHierarchy:this.oController.navigateHierarchy.bind(a),easyAccessSystemsModel:this.getModel("easyAccessSystemsModel"),subHeaderModel:this.getModel("subHeaderModel")}}).then(e=>{this.hierarchyFolders=e;this.hierarchyFolders.addStyleClass("sapUshellHierarchyFolders");return e});const i=this.getViewData();this.pHierarchyApps=e.create({id:`${this.getId()}hierarchyApps`,viewName:"module:sap/ushell/components/appfinder/HierarchyAppsView",height:"100%",viewData:{navigateHierarchy:this.oController.navigateHierarchy.bind(a),menuName:i.menuName,CatalogsManager:this.getViewData().CatalogsManager}}).then(e=>{this.hierarchyApps=e;return e});this.splitApp=new s;Promise.all([this.pHierarchyFolders,this.pHierarchyApps]).then(e=>{this.splitApp.addMasterPage(e[0]);this.splitApp.addDetailPage(e[1]);this.splitApp.setInitialMaster(e[0]);this.splitApp.setInitialDetail(e[1])});return this.splitApp},getControllerName:function(){return"sap.ushell.components.appfinder.EasyAccess"}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/appfinder/GroupListPopover.controller", ["sap/ui/core/Element","sap/ui/core/mvc/Controller","sap/m/library","sap/ushell/resources","sap/ui/Device","sap/ui/model/json/JSONModel"],(e,o,t,s,i,r)=>{"use strict";const n=t.ListMode;return o.extend("sap.ushell.components.appfinder.GroupListPopover",{onExit:function(){const e=this.getView();if(e._oListContainer){e._oListContainer.destroy()}if(e._oNewGroupItem){e._oNewGroupItem.destroy()}if(e._oNewGroupNameInput){e._oNewGroupNameInput.destroy()}if(e._oNewGroupHeader){e._oNewGroupHeader.destroy()}},initializeData:function(e){this.oPopoverModel=new r({userGroupList:e.groupData});this.oPopoverModel.setSizeLimit(9999);this.getView().oPopover.setModel(this.oPopoverModel)},_cancelButtonPress:function(){this.getView().oPopover.close()},_groupListItemClickHandler:function(e){const o=e.getParameter("listItem");if(o.data("newGroupItem")){this._navigateToCreateNewGroupPane();return}const t=e.getSource();if(t.getMode()===n.SingleSelectMaster){const e=this.getView();e.oPopover.close()}else{o.setSelected(!o.getSelected())}},_okayCancelButtonPress:function(){const e=this.getView();const o=e._getNewGroupInput();const t=o.getValue();if(t.length>0){this.sNewGroupId=t}e.oPopover.close()},_navigateToCreateNewGroupPane:function(){const e=this.getView();const o=e._getNewGroupHeader();const t=e._getNewGroupInput();e.oPopover.removeAllContent();e.oPopover.addContent(t);e.oPopover.setCustomHeader(o);e.oPopover.setContentHeight("");let i=e.oPopover.getEndButton();if(i){i.setVisible(true)}else{i=e._getCancelButton();e.oPopover.setEndButton(i)}e.oPopover.getBeginButton().setText(s.i18n.getText("okDialogBtn"));i.setText(s.i18n.getText("cancelBtn"));if(e.getViewData().singleGroupSelection){this._setFooterVisibility(true)}setTimeout(()=>{t.focus()},0)},_afterCloseHandler:function(){const e=this.oPopoverModel.getProperty("/userGroupList");const o={addToGroups:[],removeFromGroups:[],newGroups:this.sNewGroupId?[this.sNewGroupId]:[],allGroups:e};let t;for(let s=0,i=e.length;s<i;++s){t=e[s];if(t.selected===t.initiallySelected){continue}if(t.selected){o.addToGroups.push(t.oGroup)}else{o.removeFromGroups.push(t.oGroup)}}const s=this.getView();s.deferred.resolve(o);s.destroy()},_backButtonHandler:function(){const e=this.getView();e.oPopover.removeAllContent();if(e.getViewData().singleGroupSelection){this._setFooterVisibility(false)}if(!i.system.phone){e.oPopover.setContentHeight("192px")}else{e.oPopover.setContentHeight("100%")}e.oPopover.setVerticalScrolling(true);e.oPopover.setHorizontalScrolling(false);e.oPopover.addContent(e._getListContainer());e.oPopover.setTitle(s.i18n.getText("addTileToGroups_popoverTitle"));e.oPopover.setCustomHeader();e._getNewGroupInput().setValue("");e.oPopover.getEndButton().setVisible(false);e.oPopover.getBeginButton().setText(s.i18n.getText("close"))},_setFooterVisibility:function(o){const t=e.getElementById("groupsPopover-footer");if(t){t.setVisible(o)}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/appfinder/GroupListPopoverView", ["sap/ui/thirdparty/jquery","sap/ui/core/mvc/View","sap/m/ResponsivePopover","sap/ushell/resources","sap/m/ScrollContainer","sap/ui/Device","sap/m/StandardListItem","sap/m/List","sap/m/Input","sap/m/Button","sap/ui/core/IconPool","sap/m/Bar","sap/m/Label","sap/m/DisplayListItem","sap/m/library","sap/ui/model/Filter","sap/ui/model/FilterOperator"],(jQuery,t,e,o,n,i,s,r,u,p,a,l,c,h,d,_,g)=>{"use strict";const m=d.ListMode;const G=d.ListType;return t.extend("sap.ushell.components.appfinder.GroupListPopoverView",{getControllerName:function(){return"sap.ushell.components.appfinder.GroupListPopover"},createContent:function(t){this.oPopover=new e({id:"groupsPopover",placement:"Auto",title:o.i18n.getText("addTileToGroups_popoverTitle"),contentWidth:"20rem",beginButton:this._getCloseButton(),content:this._getListContainer(),afterClose:[t._afterCloseHandler,t]}).addStyleClass("sapContrastPlus");this.addDependent(this.oPopover);this.oPopover.setInitialFocus(this._getNewGroupListItem())},open:function(t){if(document.body.clientHeight-t.getDomRef().getBoundingClientRect().bottom>=310){this.oPopover.setPlacement("Bottom")}this.oPopover.openBy(t);if(this.getViewData().singleGroupSelection){this.getController()._setFooterVisibility(false)}this.deferred=jQuery.Deferred();return this.deferred.promise()},_getListContainer:function(){if(!this._oListContainer){const t=this._getGroupList();this._oListContainer=new n({id:"popoverContainer",horizontal:false,vertical:true,content:[t],height:i.system.phone?"100%":"190px"})}return this._oListContainer},_getNewGroupInput:function(){if(!this._oNewGroupNameInput){this._oNewGroupNameInput=new u("newGroupNameInput",{type:"Text",placeholder:o.i18n.getText("new_group_name")})}return this._oNewGroupNameInput},_getNewGroupHeader:function(){if(!this._oNewGroupHeader){const t=this.getController();const e=new p({icon:a.getIconURI("nav-back"),press:[t._backButtonHandler,t],tooltip:o.i18n.getText("newGroupGoBackBtn_tooltip")});e.addStyleClass("sapUshellCatalogNewGroupBackButton");this._oNewGroupHeader=new l("oHeadBar",{contentLeft:[e],contentMiddle:[new c({text:o.i18n.getText("newGroup_popoverTitle")})]})}return this._oNewGroupHeader},_getGroupList:function(){if(!this._oGroupList){const t=this.getController();const e=new h({label:"{oGroup/title}",selected:"{selected}",tooltip:"{oGroup/title}",type:G.Active});const o=[new _("oGroup/isGroupLocked",g.EQ,false)];const n=this.getViewData();if(n.enableHideGroups){o.push(new _("oGroup/isGroupVisible",g.EQ,true))}this._oGroupList=new r({mode:n.singleGroupSelection?m.SingleSelectMaster:m.MultiSelect,items:{path:"/userGroupList",template:e,filters:o,templateShareable:false},itemPress:[t._groupListItemClickHandler,t]});const i=this._getNewGroupListItem();this._oGroupList.addEventDelegate({onBeforeRendering:function(){this._oGroupList.insertAggregation("items",i,0,true)}.bind(this),onAfterRendering:function(){this._oGroupList.removeAggregation("items",i,true)}.bind(this)})}return this._oGroupList},_getNewGroupListItem:function(){if(!this._oNewGroupItem){this._oNewGroupItem=new s("newGroupItem",{title:o.i18n.getText("newGroup_listItemText"),type:G.Navigation});this._oNewGroupItem.data("newGroupItem",true);this._oNewGroupItem.getList=function(){return this._oGroupList}.bind(this);this._oNewGroupItem.getModeControl=function(){return null};this._oNewGroupItem.onsapspace=function(t){t.preventDefault();t.isMarked()};this._oNewGroupItem.addEventDelegate({onsaptabnext:function(t){t.preventDefault();t._bIsStopHandlers=true;this._getCloseButton().focus()}})}return this._oNewGroupItem},_getCancelButton:function(){if(!this._oCancelButton){const t=this.getController();this._oCancelButton=new p("cancelButton",{press:[t._cancelButtonPress,t],text:o.i18n.getText("cancelBtn")})}return this._oCancelButton},_getCloseButton:function(){if(!this._oCloseButton){const t=this.getController();this._oCloseButton=new p("closeButton",{press:[t._okayCancelButtonPress,t],text:o.i18n.getText("closeBtn")})}return this._oCloseButton}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/appfinder/HierarchyApps.controller", ["sap/ui/core/mvc/View","sap/ui/core/mvc/Controller","sap/ui/thirdparty/jquery","sap/m/MessageToast","sap/ushell/resources","sap/ushell/Container"],(e,t,jQuery,o,s,r)=>{"use strict";let n;return t.extend("sap.ushell.components.appfinder.HierarchyApps",{onInit:function(){const e=this.getView().getViewData().easyAccessSystemsModel;if(e){this.getView().setModel(e,"easyAccessSystems")}n=this.getView().getViewData().CatalogsManager&&this.getView().getViewData().CatalogsManager.getInstance()},getCrumbsData:function(e,t){const o=e.split("/");o.splice(o.length-2,2);const s=[];while(o.length){const e=o.join("/");const r=t.getProperty(`${e}/text`);s.unshift({text:r,path:e});o.splice(o.length-2,2)}return s},_updateAppBoxedWithPinStatuses:function(e){const t=this.getView();if(!e){e=t.layout.getBinding("items").getPath()}const o=t.getModel("easyAccess");const s=o.getProperty(e)?o.getProperty(e):[];this.getView().oVisualizationOrganizerHelper.updateBookmarkCount.call(this,s).then(t=>{o.setProperty(e,t)})},updateBookmarkCount:function(e){return r.getServiceAsync("BookmarkV2").then(t=>{const o=e.map(e=>t.countBookmarks(e.url).then(t=>{e.bookmarkCount=t;return e}));return new Promise(e=>{jQuery.when.apply(jQuery,o).then(function(){const t=Array.prototype.slice.call(arguments);e(t)})})})},updatePageBindings:function(e){this.getView().layout.bindAggregation("items",`easyAccess>${e}/apps`,this.getView().oItemTemplate);this._updateAppBoxedWithPinStatuses(`${e}/apps`);this.getView().breadcrumbs.bindProperty("currentLocationText",`easyAccess>${e}/text`);const t=this.getCrumbsData(e,this.getView().getModel("easyAccess"));this.getView().crumbsModel.setProperty("/crumbs",t);const o=this.getView().getModel("easyAccess").getProperty(`${e}/apps`);this.getView().updateResultSetMessage(o.length,false)},onAppBoxPressed:function(e){if(e.mParameters.srcControl.$().closest(".sapUshellPinButton").length){return}const t=e.getSource().getProperty("url");if(t&&t.indexOf("#")===0){hasher.setHash(t)}},_handleSuccessMessage:function(e,t){let r;const n=t.addToGroups?t.addToGroups.length:0;const a=t.newGroups?t.newGroups.length:0;const i=n+a;if(i===1){let o;if(n===1){o=t.addToGroups[0].title}else{o=t.newGroups[0]}r=s.i18n.getText("appAddedToSingleGroup",[e.text,o])}else{r=s.i18n.getText("appAddedToSeveralGroups",[e.text,i])}if(i>0){o.show(r)}return r},_prepareErrorMessage:function(e,t){let o;let s;let r;let n=0;let a=false;let i;for(const t in e){o=e[t].group;s=e[t].action;if(s==="addBookmark_ToExistingGroup"){n++;if(n===1){r=o.title}}else if(s==="addBookmark_ToNewGroup"){n++;if(n===1){r=o}}else{a=true}}if(a){if(e.length===1){i={messageId:"fail_tile_operation_create_new_group"}}else{i={messageId:"fail_tile_operation_some_actions"}}}else if(e.length===1){i={messageId:"fail_app_operation_add_to_group",parameters:[t,r]}}else{i={messageId:"fail_app_operation_add_to_several_groups",parameters:[t]}}return i},_handleBookmarkAppPopoverResponse:function(e,t){const o=[];t.newGroups.forEach(t=>{o.push(this._createGroupAndAddBookmark(t,e))});t.addToGroups.forEach(t=>{o.push(this._addBookmark(t,e))});return jQuery.when.apply(jQuery,o).then(function(){const o=Array.prototype.slice.call(arguments);this._handlePopoverGroupsActionPromises(e,t,o)}.bind(this))},_handlePopoverGroupsActionPromises:function(e,t,o){const s=o.filter((e,t,o)=>!e.status);if(s.length){const t=this._prepareErrorMessage(s,e.text);n.notifyOnActionFailure(t.messageId,t.parameters);return}this._updateAppBoxedWithPinStatuses();this._handleSuccessMessage(e,t)},_createGroupAndAddBookmark:function(e,t){const o=jQuery.Deferred();let s={};const r=n.createGroup(e);r.done(r=>{const n=this._addBookmark(r.getObject(),t,true);n.done(e=>{o.resolve(e)}).fail(()=>{s={group:e,status:0,action:"addBookmark_ToNewGroup"};o.resolve(s)})}).fail(()=>{s={group:e,status:0,action:"addBookmark_NewGroupCreation"};o.resolve(s)});return o.promise()},_addBookmark:function(e,t,o){const s=jQuery.Deferred();let n={};r.getServiceAsync("BookmarkV2").then(r=>{const a=r.addBookmark({url:t.url,title:t.text,subtitle:t.subtitle,icon:t.icon},e.object);const i=o?"addBookmark_ToNewGroup":"addBookmark_ToExistingGroup";a.then(()=>{n={group:e,status:1,action:i};s.resolve(n)}).catch(()=>{n={group:e,status:0,action:i};s.resolve(n)})});return s.promise()},showSaveAppPopover:function(e){this.getView().oVisualizationOrganizerHelper.onHierarchyAppsPinButtonClick.call(this,e).then(e=>{if(e){this._updateAppBoxedWithPinStatuses()}})},showGroupListPopover:function(t){const o=this.getView().getModel();const s=t.oSource.getParent().getBinding("title").getContext().getObject();const r=t.oSource;if(o.getProperty("/groupContext").path){const e=o.getProperty("/groupContext").path;const t=o.getProperty(e);const r={newGroups:[],addToGroups:[t]};this._handleBookmarkAppPopoverResponse(s,r);return}const n=o.getProperty("/groups").map(e=>({selected:false,initiallySelected:false,oGroup:e}));e.create({viewName:"module:sap/ushell/components/appfinder/GroupListPopoverView",viewData:{enableHideGroups:o.getProperty("/enableHideGroups"),enableHelp:o.getProperty("/enableHelp"),singleGroupSelection:true}}).then(e=>{e.getController().initializeData({groupData:n});const t=e.open(r);t.then(this._handleBookmarkAppPopoverResponse.bind(this,s));this.getView().addDependent(e);return e})},resultTextFormatter:function(e,t){const o=s.i18n;if(e){const s=e.systemName?e.systemName:e.systemId;let r="";if(t){r=o.getText("search_easy_access_results",[t,s])}return r}return""},showMoreResultsVisibilityFormatter:function(e,t){if(e&&e.length<t){return true}return false},showMoreResultsTextFormatter:function(e,t){if(!e||!t){return""}const o=e.length;return s.i18n.getText("EasyAccessSearchResults_ShowMoreResults",[o,t])}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/appfinder/HierarchyAppsView", ["sap/ui/core/library","sap/ui/core/mvc/View","sap/ushell/ui/appfinder/AppBoxInternal","sap/ushell/ui/appfinder/PinButton","sap/ushell/resources","sap/ushell/ui/launchpad/AccessibilityCustomData","sap/m/FlexBox","sap/m/library","sap/m/Page","sap/m/PageAccessibleLandmarkInfo","sap/m/IllustratedMessage","sap/ui/model/json/JSONModel","sap/m/Link","sap/m/Breadcrumbs","sap/m/Text","sap/m/Title","sap/m/Button","sap/ushell/components/appfinder/VisualizationOrganizerHelper"],(e,t,s,a,o,i,n,r,l,p,u,c,h,m,d,g,y,f)=>{"use strict";const b=r.ButtonType;const T=r.FlexWrap;const x=e.TitleLevel;const A=e.AccessibleLandmarkRole;return t.extend("sap.ushell.components.appfinder.HierarchyAppsView",{oVisualizationOrganizerHelper:f.getInstance(),createContent:function(e){this.oController=e;const t=new a({icon:{path:"easyAccess>bookmarkCount",formatter:this.oVisualizationOrganizerHelper.formatBookmarkPinButtonIcon},type:{path:"easyAccess>bookmarkCount",formatter:this.oVisualizationOrganizerHelper.formatBookmarkPinButtonType},selected:{path:"easyAccess>bookmarkCount",formatter:this.oVisualizationOrganizerHelper.formatBookmarkPinButtonSelectState.bind(this)},tooltip:{parts:["associatedGroups","easyAccess>bookmarkCount","/groupContext/path","/groupContext/id","/groupContext/title"],formatter:this.oVisualizationOrganizerHelper.formatBookmarkPinButtonTooltip.bind(this)},press:e.showSaveAppPopover.bind(e)});t.addCustomData(new i({key:"tabindex",value:"-1",writeToDom:true}));t.addStyleClass("sapUshellPinButton");this.oItemTemplate=new s({title:"{easyAccess>text}",subtitle:"{easyAccess>subtitle}",url:"{easyAccess>url}",icon:"{easyAccess>icon}",pinButton:t,press:[e.onAppBoxPressed,e]});this.oItemTemplate.addCustomData(new i({key:"tabindex",value:"-1",writeToDom:true}));this.layout=new n(`${this.getId()}_hierarchyAppsLayout`,{items:{path:"easyAccess>/apps",template:this.oItemTemplate},wrap:T.Wrap});this.layout.addDelegate({onAfterRendering:function(){const e=this.getItems();function t(e){if(e.getKey()==="tabindex"){e.setValue("0")}}if(e.length){e[0].getCustomData().forEach(t);e[0].getPinButton().getCustomData().forEach(t)}}.bind(this.layout)});this.oMessagePage=new u({visible:false,title:o.i18n.getText("EasyAccessMenu_NoAppsToDisplayMessagePage_Text"),description:""});const r=this.getViewData();const d=r.menuName==="USER_MENU"?"appFinderUserMenuTitle":"appFinderSapMenuTitle";const f=new l({showHeader:false,landmarkInfo:new p({contentLabel:o.i18n.getText(d),contentRole:A.Region})}).addStyleClass("sapUshellAppsView sapUiContentPadding");if(r&&r.navigateHierarchy){this.crumbsModel=new c({crumbs:[]});this.linkTemplate=new h({text:"{crumbs>text}",press:function(e){const t=e.oSource.getBinding("text").getContext().getObject();r.navigateHierarchy(t.path,false)}});this.breadcrumbs=new m({links:{path:"crumbs>/crumbs",template:this.linkTemplate},currentLocationText:"{/text}"});this.breadcrumbs.setModel(this.crumbsModel,"crumbs");f.addContent(this.breadcrumbs)}else{this.resultText=new g({text:{parts:[{path:"easyAccessSystemsModel>/systemSelected"},{path:"easyAccess>/total"}],formatter:e.resultTextFormatter.bind(e)},level:x.H3}).addStyleClass("sapUiTinyMarginTop sapUiSmallMarginBottom sapUshellEasyAccessSearchResultText");f.addContent(this.resultText);this.showMoreResultsLink=new y({text:{parts:[{path:"easyAccess>/apps"},{path:"easyAccess>/total"}],formatter:e.showMoreResultsTextFormatter.bind(e)},press:r.getMoreSearchResults,visible:{parts:[{path:"easyAccess>/apps"},{path:"easyAccess>/total"}],formatter:e.showMoreResultsVisibilityFormatter.bind(e)},type:b.Transparent})}f.addContent(this.oMessagePage);f.addContent(this.layout);if(this.showMoreResultsLink){f.addContent(this.showMoreResultsLink)}return f},formatPinButtonTooltip:function(e,t,s,a,i){const n=o.i18n;let r;if(s){const t=e?Array.prototype.indexOf.call(e,a):-1;const s=t!==-1?"removeAssociatedTileFromContextGroup":"addAssociatedTileToContextGroup";r=n.getText(s,[i])}else{r=t?n.getText("EasyAccessMenu_PinButton_Toggled_Tooltip"):n.getText("EasyAccessMenu_PinButton_UnToggled_Tooltip")}return r},updateResultSetMessage:function(e,t){let s;if(t){s="noFilteredItems"}else{s="EasyAccessMenu_NoAppsToDisplayMessagePage_Text"}if(e){if(t){this.resultText.updateProperty("text");this.resultText.setVisible(true)}this.layout.setVisible(true);this.oMessagePage.setVisible(false)}else{if(t){this.resultText.setVisible(false)}this.layout.setVisible(false);this.oMessagePage.setVisible(true);const e=o.i18n.getText(s);this.oMessagePage.setTitle(e)}},setShowMoreResultsBusy:function(e){if(this.showMoreResultsLink){this.showMoreResultsLink.setBusy(e)}},getControllerName:function(){return"sap.ushell.components.appfinder.HierarchyApps"}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/appfinder/HierarchyFolders.controller", ["sap/ui/core/mvc/Controller","sap/base/Log","sap/ui/thirdparty/jquery","sap/ui/model/FilterOperator","sap/ui/model/Filter","sap/m/StandardListItem","sap/m/SelectDialog","sap/ui/core/Component","sap/ushell/Container"],(e,t,jQuery,s,i,r,n,o,a)=>{"use strict";return e.extend("sap.ushell.components.appfinder.HierarchyFolders",{onInit:function(){this.oDialog=null;this.getView().setModel(this.getView().getViewData().easyAccessSystemsModel,"easyAccessSystems");this.getView().setModel(this.getView().getViewData().subHeaderModel,"subHeaderModel");this.getSelectedSystem().then(e=>{if(e){this.setSystemSelected(e)}else{this.setSystemSelected(undefined);this.onSystemSelectionPress()}}).catch(()=>{this.setSystemSelected(undefined);this.onSystemSelectionPress()})},onExit:function(){if(this.oDialog){this.destroyDialog()}},onAfterRendering:function(){const e=jQuery(`#${this.getView().getId()}`);e.on("click",()=>{this.exitSearchMode()})},getPersonalizer:function(){if(!this.oPersonalizerPromise){this.oPersonalizerPromise=a.getServiceAsync("PersonalizationV2").then(e=>{const t=o.getOwnerComponentFor(this);const s={keyCategory:e.KeyCategory.FIXED_KEY,writeFrequency:e.WriteFrequency.LOW,clientStorageAllowed:true};const i={container:"appfinder.HierarchyFolders",item:"lastSelectedSystem"};return e.getPersonalizer(i,s,t)})}return this.oPersonalizerPromise},getSelectedSystem:function(){const e=new jQuery.Deferred;const t=this.getView().getModel("easyAccessSystems").getProperty("/systemsList");if(t&&t.length&&t.length===1){const s=t[0];this.setSystemSelectedInPersonalization(s);e.resolve(s)}else{this.getSelectedSystemInPersonalization().then(s=>{if(s){let i=false;for(let r=0;r<t.length;r++){if(t[r].systemName&&t[r].systemName===s.systemName||t[r].systemId===s.systemId){i=true;e.resolve(s)}}if(!i){e.resolve();this.setSystemSelectedInPersonalization()}}else{e.resolve()}})}return e.promise()},setSystemSelected:function(e){this.getView().getModel("easyAccessSystems").setProperty("/systemSelected",e);this.setSystemSelectedInPersonalization(e)},getSelectedSystemInPersonalization:function(){const e=new jQuery.Deferred;this.getPersonalizer().then(s=>{s.getPersData().then(t=>{if(t){e.resolve(t)}else{e.resolve()}}).catch(s=>{t.error("Failed to get selected system from the personalization",s,"sap.ushell.components.appfinder.HierarchyFolders");e.reject(s)})});return e.promise()},setSystemSelectedInPersonalization:function(e){this.getPersonalizer().then(s=>{s.setPersData(e).catch(e=>{t.error("Failed to save selected system in the personalization",e,"sap.ushell.components.appfinder.HierarchyFolders")})})},onSystemSelectionPress:function(){const e=this.getView().getModel("easyAccessSystems").getProperty("/systemsList");if(e&&e.length&&e.length<=1){return}const t=this.createDialog();t.open()},createDialog:function(){const e=this;if(!this.oDialog){this.oDialog=new n({id:"systemSelectionDialog",title:e.getView().translationBundle.getText("easyAccessSelectSystemDialogTitle"),multiSelect:false,contentHeight:"20rem",items:{path:"/systemsList",template:new r({adaptTitleSize:false,title:{parts:["systemName","systemId"],formatter:e.titleFormatter},description:{parts:["systemName","systemId"],formatter:e.descriptionFormatter},selected:{parts:["systemName","systemId"],formatter:e.selectedFormatter.bind(this)}})},confirm:e.systemConfirmHandler.bind(e),search:e.systemSearchHandler.bind(e),cancel:e.destroyDialog.bind(e)});this.oDialog.setModel(this.getView().getModel("easyAccessSystems"))}return this.oDialog},destroyDialog:function(){this.oDialog.destroyItems();this.oDialog.destroy();this.oDialog=null},systemConfirmHandler:function(e){const t=e.getParameters().selectedItem;const s=t.getBindingContext().getObject();this.setSystemSelected(s);this.destroyDialog()},systemSearchHandler:function(e){const t=e.getParameter("value");const r=new i("systemName",s.Contains,t);const n=new i("systemId",s.Contains,t);const o=new i({filters:[n,r],and:false});const a=e.getSource().getBinding("items");a.filter(o)},titleFormatter:function(e,t){return e||t},descriptionFormatter:function(e,t){if(e){return t}return null},selectedFormatter:function(e,t){const s=this.getView().getModel("easyAccessSystems").getProperty("/systemSelected");if(!s){return false}if(e){return s.systemName===e&&s.systemId===t}return s.systemId===t},systemSelectorTextFormatter:function(e){if(e){if(e.systemName){return e.systemName}return e.systemId}return this.getView().translationBundle.getText("easyAccessSelectSystemTextWithoutSystem")},exitSearchMode:function(){const e=this.getView().getModel("subHeaderModel");e.setProperty("/search/searchMode",false);e.refresh(true)}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/appfinder/HierarchyFoldersView", ["sap/ui/core/Lib","sap/ui/core/mvc/View","sap/m/Button","sap/m/Label","sap/m/Bar","sap/m/Page","sap/m/library","sap/m/List","sap/m/StandardListItem","sap/m/Text","sap/ushell/resources"],(e,t,s,n,a,i,o,r,c,l,h)=>{"use strict";const d=o.ButtonType;const u=o.ListSeparators;return t.extend("sap.ushell.components.appfinder.HierarchyFoldersView",{createContent:function(t){const o=this;this.translationBundle=h.i18n;this.treePath="";this.lastFocusID=`${document.URL.substring(document.URL.lastIndexOf("&/")+2)}-button`;this.systemSelectorText=new l({text:{path:"easyAccessSystemsModel>/systemSelected",formatter:t.systemSelectorTextFormatter.bind(t)}});this.oItemTemplate=new c({title:"{easyAccess>text}",type:"Navigation",press:function(){const e=o.pageMenu.$().find(".sapMBarLeft button");if(!e.length){o.lastFocusID=document.activeElement.getAttribute("id")}const t=this.getBindingContextPath();o.getViewData().navigateHierarchy(t,true)}});this.oList=new r({showSeparators:u.None,items:{path:`easyAccess>${this.treePath}/folders`,template:this.oItemTemplate},updateFinished:function(){const e=this.getItems();o.finishEasyAccessAnimation(true);e.forEach(e=>{e.onsapspace=e.onsapenter})},noDataText:{path:"easyAccessSystemsModel>/systemSelected",formatter:function(e){if(e){return o.translationBundle.getText("easyAccessFolderWithNoItems")}}}});this._navBackButton=new s({tooltip:e.getResourceBundleFor("sap.m").getText("PAGE_NAVBUTTON_TEXT"),type:d.Back,visible:false,press:function(){const e=this.treePath.split("/");const t=e.slice(0,e.length-2);this.getViewData().navigateHierarchy(t.join("/"),false)}.bind(this)});this.pageMenu=new i({enableScrolling:true,headerContent:new a({contentLeft:[this._navBackButton,new n({text:{parts:["easyAccessSystemsModel>/systemSelected"],formatter:t.systemSelectorTextFormatter.bind(t)}})],contentRight:[new s({text:this.translationBundle.getText("easyAccessSelectSystemDialogTitle"),type:d.Transparent,visible:{path:"easyAccessSystemsModel>/systemsList",formatter:function(e){return e.length>1}},press:[t.onSystemSelectionPress,t]})]}).addStyleClass("sapUshellEasyAccessMasterPageHeader"),content:this.oList});return this.pageMenu},getControllerName:function(){return"sap.ushell.components.appfinder.HierarchyFolders"},finishEasyAccessAnimation:function(){if(!this.jqFolderClone){return}if(this.forwardAnimation){this.pageMenu.$().addClass("forwardToViewAnimation");this.jqFolderClone.addClass("forwardOutOfViewAnimation")}else{this.pageMenu.$().addClass("backToViewAnimation");this.jqFolderClone.addClass("backOutOfViewAnimation")}this.jqFolderClone.on("animationend",()=>{this.pageMenu.$().removeClass("forwardToViewAnimation backToViewAnimation");const e=this.pageMenu.$().find(".sapMBarLeft button");if(e.length){e.focus()}else{setTimeout(()=>{document.querySelector(`#${this.lastFocusID}`).focus()})}if(this.jqFolderClone){this.jqFolderClone.remove()}})},prepareEasyAccessAnimation:function(e){this.forwardAnimation=e;this.jqFolderClone=this.pageMenu.$().clone().removeAttr("data-sap-ui").css("z-index","1");this.jqFolderClone.find("*").removeAttr("id");this.pageMenu.$().parent().append(this.jqFolderClone)},updatePageBindings:function(e,t){const s=e.split("/").length>2;this.treePath=e;this._navBackButton.setVisible(s);this.pageMenu.setShowSubHeader(!s);this.prepareEasyAccessAnimation(t);this.oList.bindItems(`easyAccess>${e}/folders`,this.oItemTemplate)}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/appfinder/VisualizationOrganizerHelper", ["sap/m/library","sap/ui/core/Element","sap/ushell/Config","sap/ushell/Container","sap/ushell/EventHub","sap/ushell/resources"],(t,e,n,i,o,r)=>{"use strict";const s=t.ButtonType;let u;function a(){return e.getElementById("catalogView")}function l(){return e.getElementById("appFinderView")}function f(){let t;let e;let u=null;function f(){return n.last("/core/spaces/enabled")}function c(){if(t){return Promise.resolve(t)}e=e||new Promise(e=>{sap.ui.require(["sap/ushell/components/visualizationOrganizer/Component"],n=>{t=new n;e(t)})});return e}function p(){const e=a();if(!e){return}e.setBusy(true);return c().then(t=>t.requestData()).then(()=>{if(this.oModel){this.oModel.updateBindings(true)}const e=l();if(e&&t.getPersonalizablePages().length===1){const n=r.i18n.getText("VisualizationOrganizer.PageContextTitle",[t.getPersonalizablePages()[0].title]);e.getController()._updateShellHeader(n)}}).finally(()=>{e.setBusy(false)})}if(f()){this.oDoable=o.on("trackHashChange").do(t=>{if(f()&&t==="Shell-appFinder"){p.call(this)}})}this.setModel=function(t){this.oModel=t};this.loadAndUpdate=function(){if(!f()){return Promise.resolve()}return p.call(this)};this.formatPinButtonTooltip=function(e,n,i){if(!f()){return this.formatPinButtonTooltip(e,n)}return t.formatPinButtonTooltip(i,u)};this.formatPinButtonSelectState=function(){if(!f()){return this.formatPinButtonSelectState.apply(this,arguments)}return false};this.formatPinButtonIcon=function(e){if(!f()){return"sap-icon://pushpin-off"}return t.formatPinButtonIcon(e,!!u)};this.formatPinButtonType=function(e){if(!f()){return s.Default}return t.formatPinButtonType(e,!!u)};this.onTilePinButtonClick=function(e){if(!f()){this.getController().onTilePinButtonClick(e);return}t.onTilePinButtonClick(e,u)};this.getNavigationContext=function(){if(!f()){return this.getGroupContext.apply(this,arguments)}if(u){return{pageID:encodeURIComponent(u.pageID),sectionID:encodeURIComponent(u.sectionID)}}return null};this.getNavigationContextAsText=function(){if(!f()){return this.getGroupNavigationContext.apply(this,arguments)}if(u){return JSON.stringify({pageID:encodeURIComponent(u.pageID),sectionID:encodeURIComponent(u.sectionID)})}return null};this.updateModelWithContext=function(e){if(!f()){this._updateModelWithGroupContext.apply(this,arguments);return Promise.resolve()}return c().then(()=>t.loadSectionContext(e)).then(t=>{u=t;this.oView.getModel().updateBindings(true);if(u){const t=u.sectionTitle?r.i18n.getText("VisualizationOrganizer.AppFinderSectionContextTitle",[u.sectionTitle]):r.i18n.getText("VisualizationOrganizer.AppFinderSectionContextTitle",[u.pageTitle]);this.oView.oPage.setTitle(t);if(this._updateShellHeader){return new Promise(e=>{setTimeout(()=>{this._updateShellHeader(t);e()},0)})}}return Promise.resolve()})};this._loadVisualizationOrganizer=c;this._setSectionContext=function(t){u=t};this.exit=function(){if(this.oDoable){this.oDoable.off();this.oDoable=null}};this.onHierarchyAppsPinButtonClick=function(e){if(!f()){this.showGroupListPopover(e);return Promise.resolve(false)}return t.onHierarchyAppsPinButtonClick(e,u)};this.formatBookmarkPinButtonTooltip=function(e,n,i,o,r){if(!f()){return this.formatPinButtonTooltip(e,n,i,o,r)}return t.formatBookmarkPinButtonTooltip(n,u)};this.formatBookmarkPinButtonSelectState=function(t){if(!f()){return!!t}return false};this.formatBookmarkPinButtonIcon=function(t){if(!f()){return"sap-icon://pushpin-off"}return t>0?"sap-icon://accept":"sap-icon://add"};this.formatBookmarkPinButtonType=function(t){if(!f()){return s.Default}return t>0?s.Emphasized:s.Default};this.updateBookmarkCount=function(e){if(!f()){return this.updateBookmarkCount(e)}return t.updateBookmarkCount(e,u)};this.shouldPinButtonBeVisible=function(){return new Promise(t=>{const e=n.last("/core/shell/enablePersonalization");if(!f()||e){t(e)}else if(!n.last("/core/spaces/myHome/enabled")){t(false)}else{i.getServiceAsync("UserInfo").then(e=>{t(e.getUser().getShowMyHome())})}})}}return{getInstance:function(){if(!u){u=new f}return u},_getConstructor:function(){return f},destroy:function(){if(u){u.exit()}u=null}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/cards/Card.controller", ["sap/ushell/components/tiles/utils","sap/ushell/components/cards/ManifestPropertyHelper","sap/ushell/resources","sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ui/core/mvc/XMLView","sap/ushell/Container"],(e,t,i,n,o,a,s)=>{"use strict";return n.extend("sap.ushell.components.cards.Card",{onInit:function(){const e=this.getView();const n=this.getView().getViewData().chip;const a=n.bag.getBag("tileProperties");const s=t.getTranslatablePropertiesFromBag(a);const r=new o({data:s});e.setModel(r);e.setModel(i.i18nModel,"i18n");this._implementConfigurationUiContract(n,e);this._implementPreviewContract(n,s)},onPress:function(){const e=this.getView();const t=e.getViewData().chip;const i=t.configuration.getParameterValueAsString("tileConfiguration");let n;if(t.configurationUi.isEnabled()){t.configurationUi.display()}else if(i){n=JSON.parse(i);s.getServiceAsync("Navigation").then(e=>{e.navigate({target:{semanticObject:n.navigation_semantic_object,action:n.navigation_semantic_action},params:n.navigation_semantic_parameters_as_object})})}},_implementPreviewContract:function(e,t){if(e.preview){e.preview.setPreviewTitle(t.display_title_text);if(e.preview.setPreviewSubtitle&&typeof e.preview.setPreviewSubtitle==="function"){e.preview.setPreviewSubtitle(t.display_subtitle_text)}}},_implementConfigurationUiContract:function(t,i){if(t.configurationUi&&t.configurationUi.isEnabled()){t.configurationUi.setUiProvider(()=>{const e=this._getConfigurationUi(t);e.setModel(i.getModel(),"tileModel");return e});i.getContent()[0].setTooltip(e.getResourceBundle().getText("edit_configuration.tooltip"))}},_getConfigurationUi:function(e){const t=new a({viewName:"sap.ushell.components.cards.Configuration",viewData:{chipInstance:e}});return t}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/cards/Configuration.controller", ["sap/base/i18n/Localization","sap/ui/core/Locale","sap/ushell/components/cards/ManifestPropertyHelper","sap/ushell/resources","sap/ui/core/mvc/Controller","sap/base/strings/formatMessage","sap/ui/model/json/JSONModel","sap/ui/thirdparty/jquery","sap/base/Log","sap/ushell/utils/LaunchpadError"],(e,t,a,i,n,r,o,jQuery,s,g)=>{"use strict";return n.extend("sap.ushell.components.cards.Configuration",{formatter:r,onInit:function(){const e=this.getView();const t=e.getViewData();const a=t.chipInstance;const n=a.configuration.getParameterValueAsString("cardManifest");let r;if(n){r=this._prepareManifest(n,a)}const s=new o({data:{editorValue:JSON.stringify(r,null,4)||""},config:{originalLanguage:"",sapLogonLanguage:"",displayOriginalLanguageWarning:false,manifestEditorEditable:true}});e.setModel(s);e.setModel(i.i18nModel,"i18n");e.setViewName("sap.ushell.components.cards.Configuration");a.configurationUi.attachSave(this.onSaveConfiguration.bind(this));this._checkOriginalLanguage()},onSaveConfiguration:function(){const e=new jQuery.Deferred;const t=this.getView().getModel();const n=t.getProperty("/data/editorValue");let r;try{r=JSON.parse(n)}catch(t){s.error(i.i18n.getText("configuration.invalidJSONProvided"),t,"card.Configuration.controller");e.reject(t);return e}const o=a.extractCardData(r);this._saveManifestAndTileConfig(o.manifest,o.tileConfiguration).then(this._saveTilePropertiesBag.bind(this,o)).then(this._saveTitle.bind(this,o.bagProperties.display_title_text)).then(this._updateTileModel.bind(this,o)).then(e.resolve).catch(t=>{s.error("save failed",t,"card.Configuration.controller");e.reject(t)});return e.promise()},_saveManifestAndTileConfig:function(e,t){const a=this.getView().getViewData().chipInstance;const i=new Promise((i,n)=>{a.writeConfiguration.setParameterValues({cardManifest:JSON.stringify(e),tileConfiguration:t},i,(e,t)=>{const a=new g(e,{error:e,errorInfo:t});n(a)})});return i},_saveTilePropertiesBag:function(e){const t=this.getView().getViewData().chipInstance;const a=t.bag.getBag("tileProperties");this._fillCardBag(e,a);const i=new Promise((e,t)=>{a.save(e,(e,a)=>{const i=Object.keys(e)[0];t(new g(`Bag save failed: ${e[i]}`,{info:a[i],otherMessages:e,otherInfo:a}))})});return i},_saveTitle:function(e){const t=this.getView().getViewData().chipInstance;const a=new Promise((a,i)=>{if(t.title){t.title.setTitle(e,a,(e,t)=>{const a=new g(e,{error:e,errorInfo:t});i(a)})}else{a()}});return a},_updateTileModel:function(e){const t=this.getView().getModel("tileModel");t.setProperty("/data/display_title_text",e.bagProperties.display_title_text);t.setProperty("/data/display_subtitle_text",e.bagProperties.display_subtitle_text)},_fillCardBag:function(e,t){Object.keys(e.bagProperties).forEach(a=>{if(e.bagProperties[a]){t.setText(a,e.bagProperties[a])}else{t.resetProperty(a)}})},_prepareManifest:function(e,t){const i=JSON.parse(e);const n=a.getCardData(t);return a.mergeCardData(i,n)},_checkOriginalLanguage:function(){let e;let t;if(!this._isOriginalLanguage()){e=this.getView().getModel();t=this._getLanguages();e.setProperty("/config/originalLanguage",t.originalLanguage.toUpperCase());e.setProperty("/config/sapLogonLanguage",t.logonLanguage.toUpperCase());e.setProperty("/config/displayOriginalLanguageWarning",true);e.setProperty("/config/manifestEditorEditable",false)}},_isOriginalLanguage:function(){const e=this._getLanguages();const t=e.originalLanguage.toLowerCase();const a=e.logonLanguage.toLowerCase();const i=e.ui5CoreLanguage.toLowerCase();return t===""||t===a||t===i},_getLanguages:function(){const a=this.oView.getViewData().chipInstance;return{originalLanguage:a.bag.getOriginalLanguage(),logonLanguage:new t(e.getLanguageTag()).getSAPLogonLanguage(),ui5CoreLanguage:e.getLanguage()}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/cards/ManifestPropertyHelper", ["sap/base/util/ObjectPath","sap/ushell/utils/UrlParsing"],(t,e)=>{"use strict";const a={PLACEHOLDERS:{TITLE:"<title>",SUBTITLE:"<subtitle>",ICON:"<icon>",SEARCH_KEYWORDS:"<keywords>",SEMANTIC_OBJECT:"<semantic object>",ACTION:"<action>",PARAMETERS:"<parameters>",TARGET_URL:"<target URL>"},extractCardData:function(a){const i=this._getNavigationAction(a);let r;let s;let n;let c;let o;let l;let g;const p=t.get(["sap.app","tags","keywords"],a);let _;if(i){c=t.get(["parameters","intentSemanticObject"],i);o=t.get(["parameters","intentAction"],i);l=t.get(["parameters","url"],i);s=t.get(["parameters","intentParameters"],i)}if(s){n=e.urlParametersToString(s)}if(l){g=false}else if(c&&o){g=true;l=`#${c}-${o}`;if(n){l+=`?${n}`}}r=JSON.stringify({display_icon_url:t.get(["sap.card","header","icon","src"],a),navigation_semantic_object:c,navigation_semantic_action:o,navigation_semantic_parameters:n,navigation_use_semantic_object:g,navigation_target_url:l});if(r==="{}"){r=undefined}if(p){_=p.join(",")}return{bagProperties:{display_title_text:t.get(["sap.card","header","title"],a),display_subtitle_text:t.get(["sap.card","header","subTitle"],a),display_search_keywords:_},tileConfiguration:r,manifest:this._replaceDataWithPlaceholders(a)}},mergeCardData:function(e,a){const i=JSON.parse(JSON.stringify(e));const r=this._getNavigationAction(i);let s;if(a.display_title_text){t.set(["sap.card","header","title"],a.display_title_text,i)}if(a.display_subtitle_text){t.set(["sap.card","header","subTitle"],a.display_subtitle_text,i)}if(a.display_search_keywords){s=a.display_search_keywords.split(",");t.set(["sap.app","tags","keywords"],s,i)}if(a.display_icon_url){t.set(["sap.card","header","icon","src"],a.display_icon_url,i)}if(a.navigation_semantic_object){t.set(["parameters","intentSemanticObject"],a.navigation_semantic_object,r)}else if(a.navigation_target_url){t.set(["parameters","url"],a.navigation_target_url,r)}if(a.navigation_semantic_action){t.set(["parameters","intentAction"],a.navigation_semantic_action,r)}if(a.navigation_semantic_parameters_as_object){t.set(["parameters","intentParameters"],a.navigation_semantic_parameters_as_object,r)}return i},getTranslatablePropertiesFromBag:function(t){const e={};let a;if(t&&t.getText&&t.getTextNames){a=t.getTextNames();a.forEach(a=>{e[a]=t.getText(a)})}return e},getCardData:function(t){let e;let a;if(t.bag){e=t.bag.getBag("tileProperties")}else{e=t.getBag("tileProperties")}if(t.configuration){a=t.configuration.getParameterValueAsString("tileConfiguration")}else{a=t.getConfigurationParameter("tileConfiguration")}const i=this.getTranslatablePropertiesFromBag(e);const r=JSON.parse(a||"{}");if(r.navigation_semantic_parameters){r.navigation_semantic_parameters_as_object=this._parseParameters(r.navigation_semantic_parameters)}Object.keys(i).forEach(t=>{r[t]=i[t]});return r},_parseParameters:function(t){const a=e.parseParameters(`?${t}`);Object.keys(a).forEach(t=>{a[t]=a[t][0]});return a},_replaceDataWithPlaceholders:function(e){const a=JSON.parse(JSON.stringify(e));const i=this._getNavigationAction(a);if(t.get(["sap.card","header","title"],a)){t.set(["sap.card","header","title"],this.PLACEHOLDERS.TITLE,a)}if(t.get(["sap.card","header","subTitle"],a)){t.set(["sap.card","header","subTitle"],this.PLACEHOLDERS.SUBTITLE,a)}if(t.get(["sap.app","tags","keywords"],a)){t.set(["sap.app","tags","keywords"],this.PLACEHOLDERS.SEARCH_KEYWORDS,a)}if(t.get(["sap.card","header","icon","src"],a)){t.set(["sap.card","header","icon","src"],this.PLACEHOLDERS.ICON,a)}if(t.get(["parameters","intentSemanticObject"],i)){t.set(["parameters","intentSemanticObject"],this.PLACEHOLDERS.SEMANTIC_OBJECT,i)}if(t.get(["parameters","intentAction"],i)){t.set(["parameters","intentAction"],this.PLACEHOLDERS.ACTION,i)}if(t.get(["parameters","url"],i)){t.set(["parameters","url"],this.PLACEHOLDERS.TARGET_URL,i)}if(t.get(["parameters","intentParameters"],i)){t.set(["parameters","intentParameters"],this.PLACEHOLDERS.PARAMETERS,i)}return a},_getNavigationAction:function(e){const a=t.get(["sap.card","header","actions"],e);let i;if(a){for(let t=0;t<a.length;t++){i=a[t];if(i.type==="Navigation"){return i}}}return null}};return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/cepsearchresult/app/Component", ["sap/ui/core/UIComponent","sap/ui/core/mvc/View","sap/ui/core/mvc/ViewType","sap/ushell/components/cepsearchresult/app/util/appendStyleVars","sap/ushell/components/cepsearchresult/app/util/Edition","sap/ushell/components/cepsearchresult/app/util/resources"],(e,a,s,t,n,r)=>{"use strict";t(["_sap_m_IconTabBar_ShellHeaderShadow","sapUiElementLineHeight","_sap_m_IconTabBar_HeaderBorderBottom","_sap_m_IconTabBar_HeaderBackground"]);return e.extend("sap.ushell.components.cepsearchresult.app.Component",{metadata:{manifest:"json",interfaces:["sap.ui.core.IAsyncContentCreation"]},createContent:async function(){this._oResourceBundle=await this.getModel("appI18n").getResourceBundle();await r.awaitResourceBundle();return this.runAsOwner(()=>a.create({type:s.XML,viewName:"sap.ushell.components.cepsearchresult.app.Main"}))},getResourceBundle:function(){return this._oResourceBundle}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/cepsearchresult/app/Main.controller", ["sap/ui/core/mvc/Controller","sap/ui/core/Core","sap/ui/model/json/JSONModel","sap/ushell/components/cepsearchresult/app/util/Edition","sap/ushell/components/cepsearchresult/app/util/resources","sap/m/library","sap/m/Menu","sap/m/MenuItem","sap/ushell/ui/footerbar/AddBookmarkButton","sap/f/GridContainerItemLayoutData","sap/ushell/EventHub","sap/ushell/Container"],(e,t,s,i,o,a,n,r,h,c,l,u)=>{"use strict";const g=a.URLHelper;return e.extend("sap.ushell.components.cepsearchresult.app.Main",{totalCounts:{},onInit:function(){this._sSearchTerm="";this._iTotalCount=0;this._oTabBar=this.byId("searchCategoriesTabs");this._oCountModel=new s(this.totalCounts);this._oTabBar.setModel(this._oCountModel,"counts");this.updateTitles();this.applyPersonalization();this.getView().setVisible(false);const e=u?.getRendererInternal("fiori2");if(e&&e.getRouter&&e.getRouter()){this._oRouter=e.getRouter();this._oRouter.getRoute("wzsearch").attachMatched(this.onRouteMatched.bind(this))}this.changeEdition(i.getEditionName())},getResourceModel:function(){return this.getOwnerComponent().getModel("appI18n")},getResourceBundle:function(){return this.getOwnerComponent().getResourceBundle()},onRouteMatched:function(e){const t=e.getParameter("arguments");const s=t["?query"];const i=s&&s.searchTerm;const o=s&&s.category;this._oEdition.loaded().then(()=>{if(i!==this.getSearchTerm()&&o===this.getCategory()){this.changeSearchTerm(i)}else if(o!==this.getCategory()){if(i!==this.getSearchTerm()){this._sSearchTerm=i}this.changeCategory(o)}this.getView().setVisible(true);l.emit("CloseFesrRecord",Date.now())})},changeEdition:function(e){if(e===this._sEditionName){return Promise.resolve()}this._sEditionName=e;this._oEdition=new i(this._sEditionName);return this._oEdition.loaded().then(()=>{const e=this._oEdition.getDefaultCategory();this._sCategory=e.getKey();this.updateTabs();if(!this._oRouter){this.updateCategories(true)}this.getView().setVisible(true)})},changeCategory:function(e){this._sCategory=e;this.updateTabs()},changeSearchTerm:function(e){this._sSearchTerm=e;this.updateCategories(true)},getEditionName:function(){return this._sEditionName},getSearchTerm:function(){return this._sSearchTerm},getCategory:function(){return this._sCategory},applyPersonalization:function(){},getPersonalization:function(e,t){const s=localStorage.getItem(`sap.ushell.components.cepsearchresult.app-${e}`);return Promise.resolve(s!==undefined?s:t)},setPersonalization:function(e,t){localStorage.setItem(`sap.ushell.components.cepsearchresult.app-${e}`,`${t}`)},updateTabs:function(){const e=this._oTabBar;e.removeAllItems();this._oEdition.getAppMenuItems().map(t=>{e.addItem(t)});e.setModel(o.model,"i18n");e.setSelectedKey(this.getCategory());e.setVisible(e.getItems().length>2);this.totalCounts={};this._oCountModel.setData(this.totalCounts);this.updateTitles()},updateCategories:function(e){const t=this._oTabBar;const s=t.getSelectedKey();t.getItems().map(t=>{const i=t.getKey();const o=t._getCategoryInstance();if(e){this.detachCategory(o);o.resetData()}if(i===s){this.showCategory(o)}o.setVisible(i===s);this.updateResult(o)})},tabSelectionChange:function(e){this.updateCategories(false)},showCategory:function(e){const t=this.byId("searchResultContent");t.removeAllItems();e.setLayoutData(new c({columns:16,minRows:2}));t.addItem(e)},updateTitles:function(){let e=0;for(const t in this.totalCounts){if(t!=="all"){e+=this.totalCounts[t]}}this.totalCounts.all=e;this.updateAppTitle(e);this._oCountModel.checkUpdate(true,true)},updateAppTitle:function(e){const t=this.byId("titleText");if(!t){return}let s="...";if(Number.isInteger(e)){s=`(${e})`}t.setText(this.getResourceBundle().getText("SEARCHRESULTAPP.HeaderTitle",[this.getSearchTerm()||"",s]))},updateResult:function(e){this.attachCategory(e);e.search(this.getSearchTerm())},attachCategory:function(e){if(!e._attached){e.attachAfterSearch(this.handleAfterSearch,this);e.attachViewAll(this.handleViewAll,this);e._attached=true}},detachCategory:function(e){if(e._attached){e.detachAfterSearch(this.handleAfterSearch,this);e.detachViewAll(this.handleViewAll,this);e._attached=false}},viewAll:function(e,t){this._oTabBar.setSelectedKey(e);const s=this._oTabBar;s.getItems().map(s=>{if(s.getKey()===e){s._getCategoryInstance().setCurrentView(t)}});this.updateCategories()},handleAfterSearch:function(e){this._oCountModel.setProperty(`/${e.getParameter("category")}`,e.getParameter("count"));const t=e.getSource();t.focusCategory();this.updateTitles();this.adaptScrollArea()},handleViewAll:function(e){this.viewAll(e.getParameter("key"),e.getParameter("currentView"))},adaptScrollArea:function(){if(this.getView().getDomRef()){const e=this.getView().getDomRef().querySelector(".sapUiCEPSRAppScroll");e.style.height=`calc( 100% - ${e.offsetTop}px )`}},openTitleMenu:function(e){if(!this._oTitleMenu){this._oTitleMenu=new n({items:[new r({text:"{appI18n>SEARCHRESULTAPP.TitleMenu.SaveAsTile}",icon:"sap-icon://header",press:this.triggerBookmark.bind(this),visible:false}),new r({text:"{appI18n>SEARCHRESULTAPP.TitleMenu.Email}",icon:"sap-icon://email",press:this.triggerEmail.bind(this)})]});this._oTitleMenu.setModel(this.getResourceModel(),"appI18n")}this._oTitleMenu.openBy(e.getSource())},triggerBookmark:function(){const e=this.getSearchTerm();const t=new h({title:this.getResourceBundle().getText("SEARCHRESULTAPP.Bookmark.Title",[e]),subtitle:"",tileIcon:"sap-icon://search",keywords:`search,result,${e}`,showGroupSelection:false,customUrl:document.location.hash});t.firePress()},triggerEmail:function(){g.triggerEmail("",this.getResourceBundle().getText("SEARCHRESULTAPP.EMail.Subject",[this.getSearchTerm()]),document.location.href)},onExit:function(){const e=this._oTabBar;e.getItems().map(e=>{const t=e._getCategoryInstance();this.detachCategory(t);t.resetData()})}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/cepsearchresult/app/cards/searchresultwidget/Component", ["sap/ui/core/UIComponent","sap/m/FlexBox","sap/f/cards/Header","sap/ushell/components/cepsearchresult/app/util/resources"],(e,t,r,a)=>{"use strict";const s=e.extend("sap.ushell.components.cepsearchresult.cards.searchresultwidget.Component",{metadata:{manifest:"json",interfaces:["sap.ui.core.IAsyncContentCreation"]},createContent:async function(){this._oResourceBundle=await this.getModel("i18n").getResourceBundle();await a.awaitResourceBundle();return this.runAsOwner(()=>{if(this.getAggregation("rootControl")){return this.getAggregation("rootControl")}const e=new t({width:"100%",direction:"Column"});this._bContent=true;if(this._oCard){this.addContent()}return e})},getResourceBundle:function(){return this._oResourceBundle},onCardReady:function(e){this._oCard=e;this._oCard.addStyleClass("sapCEPSearchResultCard");this._mCardParameters=e.getCombinedParameters();if(this._bContent){this.addContent()}},editionLoaded:function(){return new Promise(e=>{sap.ui.require(["sap/ushell/components/cepsearchresult/app/util/Edition"],t=>{this._oEdition=new t(t.getEditionName());e(this._oEdition.loaded())})})},search:function(e){this._oCategory.search(e)},addContent:function(){this.editionLoaded().then(()=>{this._oCategory=this.createCategory();this.addCategory(this.getRootControl());this.updateCardHeader();this._oCard.getModel("parameters").setProperty("/init/value",true)})},addCategory:function(e){e.addItem(this._oCategory);this.search(this._mCardParameters.searchTerm)},createCategory:function(){const e=this._mCardParameters;const t=this._oEdition.createCategoryInstance(e.category,{pageSize:e.pageSize,showFooter:e.footer!=="none",showHeader:false,initialPlaceholder:true,allowViewSwitch:e.allowViewSwitch,highlightResult:e.highlightResult,currentView:e.view||"categoryDefault",useIllustrations:true,beforeSearch:function(e){this.updateCardHeader(e.getParameters());this._oCard.fireEvent("beforeSearch",e.getParameters())}.bind(this),afterSearch:function(e){this.updateCardHeader(e.getParameters());this._oCard.fireEvent("afterSearch",e.getParameters())}.bind(this),afterRendering:function(e){this._oCard.fireEvent("afterRendering",e.getParameters());if(this._mCardParameters.header!=="none"){t.getDomRef().style.borderTop="1px solid var(--sapUiListBorderColor)"}}.bind(this)});t.setFooter(e.footer);return t},updateCardHeader:function(e){const t=this._oCard.getCardHeader();const r=this._oCategory;let a;let s;if(this._mCardParameters.header==="default"){t.setIconVisible(!!r.getDefaultIcon()).setIconDisplayShape(r._oCategoryConfig.icon.shape).setIconBackgroundColor(r._oCategoryConfig.icon.backgroundColor).setIconSrc(r.getDefaultIcon());a=r.translate("Card.Title");s=this.getResourceBundle().getText("CARD.List.Title.SearchResults",[`'${this._mCardParameters.searchTerm}'`])}else{t.setIconVisible(!!this._oCard.getManifestEntry("/sap.card/header/icon/src")).setIconDisplayShape(this._oCard.getManifestEntry("/sap.card/header/icon/shape")).setIconBackgroundColor(this._oCard.getManifestEntry("/sap.card/header/icon/backgroundColor")).setIconSrc(this._oCard.getManifestEntry("/sap.card/header/icon/src"));a=this._oCard.getManifestEntry("/sap.card/header/title");s=this._oCard.getManifestEntry("/sap.card/header/subtitle");a=a.replace("($searchText)",this._mCardParameters.searchTerm);s=s.replace("($searchText)",this._mCardParameters.searchTerm)}if(!e||!Number.isInteger(e.count)){if(this._mCardParameters.header==="custom"){a=a.replace("($count)","--");s=s.replace("($count)","--")}t.setStatusText("")}else if(Number.isInteger(e.count)){const r=this.getResourceBundle().getText("CARD.List.RowStatus",[Math.min(e.skip+1,e.count),Math.min(e.skip+e.top,e.count),e.count]);t.setStatusText(e.count>0?r:"");if(this._mCardParameters.header==="default"){a=`${a} (($count))`}a=a.replace("($count)",e.count);s=s.replace("($count)",e.count)}t.setTitle(a);t.setSubtitle(s)}});return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/cepsearchresult/app/cards/searchresultwidget/Config", ["sap/ui/integration/Designtime"],e=>{"use strict";return function(){const t=new e({form:{items:{groupheader1:{label:"{i18n>CARD.Config.HeaderSettings}",type:"group",expanded:false},header:{manifestpath:"/sap.card/configuration/parameters/header/value",type:"string",label:"{i18n>CARD.Config.HeaderType.Lbl}",control:"Select",cols:2,values:{data:{json:{values:[{text:"{i18n>CARD.Config.HeaderType.Default}",key:"default"},{text:"{i18n>CARD.Config.HeaderType.Custom}",key:"custom"},{text:"{i18n>CARD.Config.HeaderType.None}",key:"none"}]},path:"/values"},item:{text:"{text}",key:"{key}"}}},title:{manifestpath:"/sap.card/header/title",type:"string",label:"{i18n>CARD.Config.Header.Title.Lbl}",description:"{i18n>CARD.Config.Header.Title.Desc}",translatable:true,visible:"{= ${items>header/value} === 'custom'}",cols:2},subtitle:{manifestpath:"/sap.card/header/subtitle",type:"string",label:"{i18n>CARD.Config.Header.SubTitle.Lbl}",description:"{i18n>CARD.Config.Header.SubTitle.Desc}",translatable:true,visible:"{= ${items>header/value} === 'custom'}",cols:2},icon:{manifestpath:"/sap.card/header/icon/src",type:"string",label:"{i18n>CARD.Config.Header.Icon.Lbl}",cols:2,allowDynamicValues:false,allowSettings:false,visible:"{= ${items>header/value} === 'custom'}",visualization:{type:"IconSelect",settings:{value:"{currentSettings>value}",editable:"{currentSettings>editable}"}}},color:{manifestpath:"/sap.card/header/icon/backgroundColor",type:"string",label:"{i18n>CARD.Config.Header.IconColor.Lbl}",visible:"{= ${items>header/value} === 'custom'}",visualization:{type:"ColorSelect",settings:{enumValue:"{currentSettings>value}",editable:"{currentSettings>editable}"}},cols:1},shape:{manifestpath:"/sap.card/header/icon/shape",type:"string",label:"{i18n>CARD.Config.Header.IconShape.Lbl}",visible:"{= ${items>header/value} === 'custom'}",visualization:{type:"ShapeSelect",settings:{value:"{currentSettings>value}",editable:"{currentSettings>editable}"}},cols:1},headerNavigation:{manifestpath:"/sap.card/configuration/parameters/headerNavigation/value",type:"boolean",label:"{i18n>CARD.Config.Header.Nav.Lbl}",description:"{i18n>CARD.Config.Header.Nav.Desc}",visible:"{= ${items>header/value} === 'custom'}",cols:2,visualization:{type:"Switch",settings:{state:"{currentSettings>value}",customTextOn:"{i18n>CARD.Config.Yes}",customTextOff:"{i18n>CARD.Config.No}",enabled:"{currentSettings>editable}"}}},groupheader2:{label:"Content Settings",type:"group"},searchTerm:{manifestpath:"/sap.card/configuration/parameters/searchTerm/value",type:"string",label:"{i18n>CARD.Config.Content.SearchTerm.Lbl}",translatable:false,cols:2,allowDynamicValues:true},category:{manifestpath:"/sap.card/configuration/parameters/category/value",type:"string",label:"{i18n>CARD.Config.Content.Category.Lbl}",values:{data:{extension:{method:"getCategoryListItems"},path:"/"},item:{text:"{text}",key:"{key}",icon:"{icon}"}}},view:{manifestpath:"/sap.card/configuration/parameters/view/value",type:"string",label:"{i18n>CARD.Config.Content.View.Lbl}",cols:2,values:{data:{extension:{method:"getCategoryViews",args:["{items>category/value}"]},path:"/views"},item:{text:"{text}",key:"{key}",icon:"{icon}"}}},pageSize:{manifestpath:"/sap.card/configuration/parameters/pageSize/value",type:"integer",label:"{i18n>CARD.Config.Content.PageSize.Lbl}",cols:2,visualization:{type:"Slider",settings:{value:"{currentSettings>value}",min:0,max:20,width:"100%",showAdvancedTooltip:true,showHandleTooltip:false,inputsAsTooltips:true,enabled:"{currentSettings>editable}"}}},highlightResult:{manifestpath:"/sap.card/configuration/parameters/highlightResult/value",type:"boolean",label:"{i18n>CARD.Config.Content.Highlight.Lbl}",description:"{i18n>CARD.Config.Content.Highlight.Desc}",cols:1,visualization:{type:"Switch",settings:{state:"{currentSettings>value}",customTextOn:"{i18n>CARD.Config.Yes}",customTextOff:"{i18n>CARD.Config.No}",enabled:"{currentSettings>editable}"}}},footer:{manifestpath:"/sap.card/configuration/parameters/footer/value",type:"string",label:"{i18n>CARD.Config.Content.FooterActions.Lbl}",control:"Select",cols:2,values:{data:{json:{values:[{text:"{i18n>CARD.Config.Content.FooterActions.Page}",key:"paginator"},{text:"{i18n>CARD.Config.Content.FooterActions.Navigate}",key:"viewAll"},{text:"{i18n>CARD.Config.Content.FooterActions.None}",key:"none"}]},path:"/values"},item:{text:"{text}",key:"{key}",additionalText:"{additionalText}",icon:"{icon}"}}}}},preview:{modes:"Live"}});return t}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/cepsearchresult/app/cards/searchresultwidget/Extension", ["sap/ui/integration/Extension"],t=>{"use strict";const e=t.extend("sap.ushell.components.cepsearchresult.cards.searchresultwidget.Extension");e.prototype.onCardReady=function(){this._oCard=this.getCard()};e.prototype.editionLoaded=function(){this.oCard=this.getCard();return new Promise(t=>{sap.ui.require(["sap/ushell/components/cepsearchresult/app/util/Edition"],e=>{this._oEdition=new e(e.getEditionName());this._oEdition.loaded().then(()=>{t()})})})};e.prototype.getCategoryListItems=function(){return this.editionLoaded().then(()=>this._oEdition.getCategoryListItems())};e.prototype.getCategoryViews=function(t){return this.editionLoaded().then(()=>this._oEdition.getCategoryViews(t))};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/cepsearchresult/app/util/AdvancedFormatters", ["sap/ui/core/theming/Parameters","sap/ui/core/Theming"],(a,t)=>{"use strict";let e={};function s(){e=a.get({name:["sapUiAccent2","sapUiAccentBackgroundColor2","sapUiAccent10","sapUiAccentBackgroundColor10","sapUiFontFamily"]})}t.attachApplied(s);s();const c=['<svg xmlns="http://www.w3.org/2000/svg" aria-label="Calendar" role="img" viewBox="0 0 100 100">','<rect width="100" height="39" fill="{mParams.sapUiAccent2}"/>','<rect y="39" width="100" height="61" fill="{mParams.sapUiAccentBackgroundColor10}"/>','<text x="50%" y="29" style=\'fill:{mParams.sapUiAccentBackgroundColor2};font-size:23px;opacity:0.8;font-family:{mParams.sapUiFontFamily};text-anchor: middle\'>{sMonth}</text>','<text id="day" x="50%" y="84"'," style='stroke-width:1;stroke:{mParams.sapUiAccentBackgroundColor10};"," fill: {mParams.sapUiAccent10}; font-size: 45px; font-weight: bold; font-family:{mParams.sapUiFontFamily};text-anchor: middle'>{sDay}</text>",'<text id="weekday" x="20" y="70" style=\'display:none;fill:{mParams.sapUiAccent10};font-size:20px;font-family:{mParams.sapUiFontFamily};text-anchor: middle\'>{sWeekday}</text>',"</svg >"].join("");function i(a,t,s,i){const n=c.replace("{sMonth}",t.substring(0,3)).replace("{sDay}",s).replace("{sWeekday}",a.substring(0,2)).replace(/\{mParams.sapUiAccentBackgroundColor2\}/g,e.sapUiAccentBackgroundColor2).replace(/\{mParams.sapUiAccentBackgroundColor10\}/g,e.sapUiAccentBackgroundColor10).replace(/\{mParams.sapUiAccent2\}/g,e.sapUiAccent2).replace(/\{mParams.sapUiAccent10\}/g,e.sapUiAccent10).replace(/\{mParams.sapUiFontFamily\}/g,e.sapUiFontFamily);return`data:image/svg+xml;base64,${btoa(n)}`}const n={event:{Past:"10",Birthday:"7",Workshop:"6",Team:"3",Customer:"5"}};function r(a,t){if(Array.isArray(a)&&t){const e=[];a.forEach((a,s)=>{e.push({text:a,accent:n[t]?n[t][a]:"10"})});return e}}return{svg:{calendar:i},map:{tagEventAccents:r}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/cepsearchresult/app/util/Edition", ["sap/m/IconTabFilter","sap/ushell/components/cepsearchresult/app/util/controls/Category","sap/ushell/components/cepsearchresult/app/util/resources"],(t,e,n)=>{"use strict";const s={standard:null,advanced:null};function o(t){this._sEdition=t;this._mCategories={};if(!s[t]){s[t]=new Promise((e,n)=>{const s=t.charAt(0).toUpperCase()+t.slice(1);sap.ui.require([`sap/ushell/components/cepsearchresult/app/util/Edition${s}`],t=>{e(t)},()=>{n(new Error(`Failed to load Edition: 'Edition${s}'`))})})}this._loaded=s[t].then(t=>{this._oConfig=t;this._oConfig.categories.map(t=>{this._mCategories[t.name]=Object.assign({},t)})})}o.prototype.loaded=function(){return this._loaded};o.prototype.getConfiguration=function(){return this._oConfig};o.prototype.getCategoryList=function(){return this._oConfig.categories};o.prototype.createCategoryInstance=function(t,n){const s=this._mCategories[t];if(!s.class){s.class=e}return new s.class(s,this,n)};o.prototype.getCategoryInstance=function(t){const e=this._mCategories[t];if(!e){return null}if(e.instance&&!e.instance.isDestroyed()){return e.instance}e.instance=this.createCategoryInstance(t);e.instance.setUseIllustrations(true);return e.instance};o.prototype.getDefaultCategory=function(){const t=this._oConfig.defaultCategory||"all";return this.getCategoryInstance(t)};o.prototype.getAppMenuItems=function(){const t=[];if(this._mCategories.all){const e=this.createMenuItem(this._mCategories.all);if(e){t.push(e)}const n=this.getSubMenuItems(this._mCategories.all);if(n.length===1){return n}return t.concat(this.getSubMenuItems(this._mCategories.all))}return[]};o.prototype.getSubMenuItems=function(t){const e=[];if(t&&t.subCategories){t.subCategories.map(t=>{this.addMenuItem(this._mCategories[t.name],e)})}return e};o.prototype.addMenuItem=function(t,e){const n=this.createMenuItem(t);if(n){e.push(n)}};o.prototype.createMenuItem=function(e){if(e){let n=[];if(e.name!=="all"){n=this.getSubMenuItems(e)}const s=new t({key:e.name,text:e.shortTitle,icon:e.icon.src,count:`{counts>/${e.name}}`,tooltip:e.title,items:n});s._getCategoryInstance=function(){return this.getCategoryInstance(e.name)}.bind(this);return s}return null};o.getEditionName=function(){if(window["sap-ushell-config"]&&window["sap-ushell-config"].ushell&&window["sap-ushell-config"].ushell.cepSearchConfig){return window["sap-ushell-config"].ushell.cepSearchConfig||"standard"}return"standard"};o.prototype.translate=function(t){try{return n.bundle.getText(t)}catch(e){return t}};o.prototype.getCategoryListItems=function(){const t=this.getCategoryList();const e=[];t.forEach(t=>{if(t.name==="all"){return}e.push({key:t.name,icon:t.icon.src,text:this.translate(t.title.substring(6,t.title.length-1))})});return e};o.prototype.getCategoryViews=function(t){const e=typeof t==="string"?this.createCategoryInstance(t):t;const n=e.getViewSettings();n.views.sort((t,e)=>{if(t.key===n.default){return-1}return t.key>e}).forEach(t=>{const e=t.key.charAt(0).toUpperCase()+t.key.slice(1);t.text=this.translate(`CATEGORY.Views.${e}ButtonText`)});return n};return o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/cepsearchresult/app/util/EditionAdvanced", ["sap/ushell/components/cepsearchresult/app/util/controls/categories/All","sap/ushell/components/cepsearchresult/app/util/controls/categories/Application","sap/ushell/components/cepsearchresult/app/util/controls/categories/Workpage","sap/ushell/components/cepsearchresult/app/util/controls/categories/People","sap/ushell/components/cepsearchresult/app/util/controls/categories/Event"],(e,t,i,a,n)=>{"use strict";return{defaultCategory:"all",categories:[{class:e,name:"all",translation:"CATEGORIES.All",title:"{i18n>CATEGORIES.All.Title}",shortTitle:"{i18n>CATEGORIES.All.ShortTitle}",icon:{src:"sap-icon://search",backgroundColor:"Accent9",shape:"Square",size:"S"},card:{title:"{i18n>CATEGORIES.All.Card.Title}",subTitle:"{i18n>CATEGORIES.All.Card.SubTitle}"},showSubCategories:false,subCategories:[{name:"app",pageSize:7},{name:"workpage",pageSize:5},{name:"workspace",pageSize:5},{name:"content",pageSize:5},{name:"people",pageSize:5},{name:"event",pageSize:5},{name:"knowledgeBase",pageSize:5},{name:"forum",pageSize:5},{name:"task",pageSize:5},{name:"tag",pageSize:5},{name:"comment",pageSize:5},{name:"businessrecord",pageSize:10}],noDataText:"{i18n>CATEGORIES.All.NoData}",loadingDataText:"{i18n>CATEGORIES.All.LoadingData}"},{class:t,name:"app",translation:"CATEGORIES.App",title:"{i18n>CATEGORIES.App.Title}",shortTitle:"{i18n>CATEGORIES.App.ShortTitle}",icon:{src:"sap-icon://header",backgroundColor:"Accent9",shape:"Square",size:"S"},card:{title:"{i18n>CATEGORIES.App.Card.Title}",subTitle:"{i18n>CATEGORIES.App.Card.SubTitle}"}},{class:i,name:"workpage",translation:"CATEGORIES.WorkPage",title:"{i18n>CATEGORIES.WorkPage.Title}",shortTitle:"{i18n>CATEGORIES.WorkPage.ShortTitle}",icon:{src:"sap-icon://document-text",backgroundColor:"Accent1",shape:"Square",size:"S"},card:{title:"{i18n>CATEGORIES.WorkPage.Card.Title}",subTitle:"{i18n>CATEGORIES.WorkPage.Card.SubTitle}"}},{name:"workspace",title:"{i18n>CATEGORIES.WorkSpace.Title}",translation:"CATEGORIES.WorkSpace",shortTitle:"{i18n>CATEGORIES.WorkSpace.ShortTitle}",icon:{src:"sap-icon://meeting-room",backgroundColor:"Accent2",shape:"Square",size:"S"},card:{title:"{i18n>CATEGORIES.WorkSpace.Card.Title}",subTitle:"{i18n>CATEGORIES.WorkSpace.Card.SubTitle}"}},{name:"content",translation:"CATEGORIES.Content",title:"{i18n>CATEGORIES.Content.Title}",shortTitle:"{i18n>CATEGORIES.Content.ShortTitle}",icon:{src:"sap-icon://document",backgroundColor:"Accent7",shape:"Square",size:"S"},card:{title:"{i18n>CATEGORIES.Content.Card.Title}",subTitle:"{i18n>CATEGORIES.Content.Card.SubTitle}"},subCategories:[{name:"document",pageSize:10},{name:"video",pageSize:10}]},{name:"people",class:a,translation:"CATEGORIES.People",title:"{i18n>CATEGORIES.People.Title}",shortTitle:"{i18n>CATEGORIES.People.ShortTitle}",icon:{src:"sap-icon://person-placeholder",backgroundColor:"Accent8",shape:"Circle",size:"S"},card:{title:"{i18n>CATEGORIES.People.Card.Title}",subTitle:"{i18n>CATEGORIES.People.Card.SubTitle}"}},{name:"event",class:n,translation:"CATEGORIES.Event",title:"{i18n>CATEGORIES.Event.Title}",shortTitle:"{i18n>CATEGORIES.Event.ShortTitle}",icon:{src:"sap-icon://calendar",backgroundColor:"Accent6",shape:"Square",size:"S"},card:{title:"{i18n>CATEGORIES.Event.Card.Title}",subTitle:"{i18n>CATEGORIES.Event.Card.SubTitle}"}},{name:"knowledgeBase",translation:"CATEGORIES.KnowledgeBase",title:"{i18n>CATEGORIES.KnowledgeBase.Title}",shortTitle:"{i18n>CATEGORIES.KnowledgeBase.ShortTitle}",icon:{src:"sap-icon://study-leave",backgroundColor:"Accent5",shape:"Square",size:"S"},card:{title:"{i18n>CATEGORIES.KnowledgeBase.Card.Title}",subTitle:"{i18n>CATEGORIES.KnowledgeBase.Card.SubTitle}"}},{name:"forum",translation:"CATEGORIES.Forum",title:"{i18n>CATEGORIES.Forum.Title}",shortTitle:"{i18n>CATEGORIES.Forum.ShortTitle}",icon:{src:"sap-icon://discussion-2",backgroundColor:"Accent4",shape:"Square",size:"S"},card:{title:"{i18n>CATEGORIES.Forum.Card.Title}",subTitle:"{i18n>CATEGORIES.Forum.Card.SubTitle}"}},{name:"task",translation:"CATEGORIES.Task",title:"{i18n>CATEGORIES.Task.Title}",shortTitle:"{i18n>CATEGORIES.Task.ShortTitle}",icon:{src:"sap-icon://checklist",backgroundColor:"Accent3",shape:"Square",size:"S"},card:{title:"{i18n>CATEGORIES.Task.Card.Title}",subTitle:"{i18n>CATEGORIES.Task.Card.SubTitle}"}},{name:"tag",translation:"CATEGORIES.Tag",title:"{i18n>CATEGORIES.Tag.Title}",shortTitle:"{i18n>CATEGORIES.Tag.ShortTitle}",icon:{src:"sap-icon://blank-tag-2",backgroundColor:"Accent6",shape:"Square",size:"S"},card:{title:"{i18n>CATEGORIES.Tag.Card.Title}",subTitle:"{i18n>CATEGORIES.Tag.Card.SubTitle}"}},{name:"comment",translation:"CATEGORIES.Comment",title:"{i18n>CATEGORIES.Comment.Title}",shortTitle:"{i18n>CATEGORIES.Comment.ShortTitle}",icon:{src:"sap-icon://comment",backgroundColor:"Accent1",shape:"Square",size:"S"},card:{title:"{i18n>CATEGORIES.Comment.Card.Title}",subTitle:"{i18n>CATEGORIES.Comment.Card.SubTitle}"}},{name:"businessrecord",translation:"CATEGORIES.BusinessRecord",title:"{i18n>CATEGORIES.BusinessRecord.Title}",shortTitle:"{i18n>CATEGORIES.BusinessRecord.ShortTitle}",icon:{src:"sap-icon://tools-opportunity",backgroundColor:"Accent10",shape:"Square",size:"S"},card:{title:"{i18n>CATEGORIES.BusinessRecord.Card.Title}",subTitle:"{i18n>CATEGORIES.BusinessRecord.Card.SubTitle}"}},{name:"document",translation:"CATEGORIES.Document",title:"{i18n>CATEGORIES.Document.Title}",shortTitle:"{i18n>CATEGORIES.Document.ShortTitle}",icon:{src:"sap-icon://document-text",backgroundColor:"Accent3",shape:"Square",size:"S"},card:{title:"{i18n>CATEGORIES.Document.Card.Title}",subTitle:"{i18n>CATEGORIES.Document.Card.SubTitle}"}},{name:"video",translation:"CATEGORIES.Video",title:"{i18n>CATEGORIES.Video.Title}",shortTitle:"{i18n>CATEGORIES.Video.ShortTitle}",icon:{src:"sap-icon://video",backgroundColor:"Accent3",shape:"Square",size:"S"},card:{title:"{i18n>CATEGORIES.Video.Card.Title}",subTitle:"{i18n>CATEGORIES.Video.Card.SubTitle}"}}]}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/cepsearchresult/app/util/EditionStandard", ["sap/ushell/components/cepsearchresult/app/util/controls/categories/Application","sap/ushell/components/cepsearchresult/app/util/controls/categories/All"],(e,a)=>{"use strict";return{defaultCategory:"app",categories:[{class:a,name:"all",translation:"CATEGORIES.All",title:"{i18n>CATEGORIES.All.Title}",shortTitle:"{i18n>CATEGORIES.All.ShortTitle}",icon:{src:"sap-icon://search",backgroundColor:"Accent9",shape:"Square",size:"S"},card:{title:"{i18n>CATEGORIES.All.Card.Title}",subTitle:"{i18n>CATEGORIES.All.Card.SubTitle}"},subCategories:[{name:"app",pageSize:15}],noDataText:"{i18n>CATEGORIES.All.NoData}",loadingDataText:"{i18n>CATEGORIES.All.LoadingData}"},{class:e,name:"app",translation:"CATEGORIES.App",title:"{i18n>CATEGORIES.App.Title}",shortTitle:"{i18n>CATEGORIES.App.ShortTitle}",icon:{src:"sap-icon://header",backgroundColor:"Accent9",shape:"Square",size:"S"},card:{title:"{i18n>CATEGORIES.App.Card.Title}",subTitle:"{i18n>CATEGORIES.App.Card.SubTitle}"}}]}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/cepsearchresult/app/util/appendStyleVars", ["sap/ui/core/theming/Parameters","sap/ui/core/Theming"],(e,t)=>{"use strict";let r=[];function i(t,i){let n=e.get({name:t});if(typeof n==="string"){const e=n;n={};n[t[0]]=e}if(i){r=[]}for(const e in n){if(r.indexOf(e)===-1){r.push(e);document.body.style.setProperty(`--${e}`,n[e])}}}t.attachApplied(()=>{for(let e=0;e<r.length;e++){document.body.style.removeProperty(`--${r[e]}`)}i(r,true)});return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/cepsearchresult/app/util/controls/Category", ["sap/ui/core/Control","sap/ui/model/json/JSONModel","sap/m/Title","sap/m/List","sap/m/CustomListItem","sap/m/FlexBox","sap/m/Avatar","sap/m/ObjectIdentifier","sap/m/OverflowToolbar","sap/m/ToolbarSpacer","sap/m/Button","sap/m/SegmentedButton","sap/m/SegmentedButtonItem","sap/m/IllustratedMessage","sap/ushell/components/cepsearchresult/app/util/controls/Paginator","sap/ushell/components/cepsearchresult/app/util/appendStyleVars","sap/ushell/components/cepsearchresult/app/util/resources","sap/ui/dom/includeStylesheet","sap/ushell/components/cepsearchresult/app/util/controls/Highlighter","sap/ui/core/ResizeHandler","sap/m/library"],(t,e,i,s,o,a,r,n,h,l,u,c,p,g,d,f,_,m,y,C,S)=>{"use strict";f(["sapUiShadowLevel0","sapUiElementBorderCornerRadius","sapUiContentLabelColor","sapUiMarginSmall","sapUiMarginMedium","sapUiMarginTiny","sapUiListBorderColor","sapUiListBackground","sapUiLink","sapMFontMediumSize","sapUiIndication8HoverBackground","sapUiButtonCriticalBackground","sapUiAccentBackgroundColor10","sapUiButtonNegativeActiveBackground","sapUiButtonSuccessActiveBackground","sapUiButtonNeutralBackground","sapUiTileBackground","sapUiExtraLightBG","sapUiButtonLiteActionSelectHoverBackground"]);m(sap.ui.require.toUrl("sap/ushell/components/cepsearchresult/app/util/controls/Category.css"));const w=S.IllustratedMessageType;const T={tile:190,card:400};n.prototype._handlePress=function(t){const e=t.target;if(this.getTitleActive()&&this.getDomRef().querySelector(".sapMObjectIdentifierTitle").contains(e)){this.fireTitlePress({domRef:e});t.setMarked()}};const I=t.extend("sap.ushell.components.cepsearchresult.app.util.controls.Category",{constructor:function(e,i,s){this._oCategoryConfig=e;t.apply(this,[s])},metadata:{properties:{pageSize:{type:"int",defaultValue:10},showHeader:{type:"boolean",defaultValue:true},showFooter:{type:"boolean",defaultValue:true},allowViewSwitch:{type:"boolean",defaultValue:true},currentView:{type:"string",defaultValue:"categoryDefault"},highlightResult:{type:"boolean",defaultValue:true},useIllustrations:{type:"boolean",defaultValue:false},initialPlaceholder:{type:"boolean",defaultValue:false}},aggregations:{_header:{type:"sap.ui.core.Control",multiple:false},_list:{type:"sap.ui.core.Control",multiple:false},_footer:{type:"sap.ui.core.Control",multiple:false},_nodata:{type:"sap.ui.core.Control",multiple:false}},events:{itemNavigate:{},viewAll:{},beforeSearch:{},afterSearch:{},afterRendering:{}}},renderer:function(t,e){t.openStart("div",e);t.class("sapUiCEPSearchCat");t.openEnd();const i=e.getAggregation("_header");const s=e.getAggregation("_list");const o=e.getAggregation("_footer");const a=e.getAggregation("_nodata");if(i){t.renderControl(i)}if(e.getUseIllustrations()&&a&&a.getVisible()){t.renderControl(a)}else if(s){t.renderControl(s)}if(o){t.renderControl(o)}t.close("div")}});I._iDataRefreshMs=1e9;I._iCountRefreshMs=1e9;I.CustomListItem=o.extend("sap.ushell.components.cepsearchresult.app.util.controls.Category.CustomListItem",{renderer:o.getMetadata().getRenderer()});I.CustomListItem.prototype.onAfterRendering=function(){if(o.prototype.onAfterRendering){o.prototype.onAfterRendering.apply(this,arguments);const t=this.getDomRef();const e=this.getParent().getParent().getPaginator();if(!t||!e){return}t.setAttribute("aria-setsize",e.getCount());t.setAttribute("aria-posinset",(e.getCurrentPage()-1)*e.getPageSize()+parseInt(t.getAttribute("aria-posinset"),10))}this._activeHandling(this.$())};I.CustomListItem.prototype._activeHandling=function(t){t.removeClass("sapMLIBActive");t.removeClass("sapMLIBActionable");t.removeClass("sapMLIBHoverable");t.toggleClass("sapUiCEPSearchCatLIActive",this._active);if(this.isActionable(true)){t.toggleClass("sapUiCEPSearchCatLIHoverable",!this._active)}};I.SearchResultList=s.extend("sap.ushell.components.cepsearchresult.app.util.controls.Category.SearchResultList",{renderer:s.getMetadata().getRenderer()});I.SearchResultList.prototype._getCurrentColCount=function(){if(this.getDomRef()){const t=this.getDomRef().querySelectorAll(".sapMListItems > LI");let e=1;const i=t[0].offsetTop;for(let s=1;s<t.length&&t[s].offsetTop<=i;s++){e++}return e}};I.SearchResultList.prototype._startItemNavigation=function(){s.prototype._startItemNavigation.apply(this,[false]);const t=this._getCurrentColCount();const e=Array.from(this.getDomRef().querySelectorAll(".sapMGT"));if(this._oItemNavigation&&t>1&&e.length>0){this._oItemNavigation.setTableMode(false,true).setColumns(t)}else if(this._oItemNavigation){this._oItemNavigation.setTableMode(false,true).setColumns(t)}};I.prototype.init=function(){this.setModel(_.model,"i18n");this.setModel(new e({}),"data");this._iCurrentCount=0;this._oDirty={iDataFetchRequired:0,iCountFetchRequired:0};this._oNoDataIllustration=null;this._oErrorIllustration=null;this._iCurrentHeight=0;this._iAfterRendering=0;this._iAfterRenderingEventDelay=60;this._oPaginator=null;this.addContent()};I.prototype.getPaginator=function(){return this._oPaginator};I.prototype.addContent=function(){this.setAggregation("_header",this.createHeader());this.setAggregation("_list",this.createList());this.setAggregation("_footer",this.createFooter())};I.prototype.getKey=function(){return this._oCategoryConfig.name};I.prototype.translate=function(t,e){const i=this._oCategoryConfig.translation;return _.bundle.getText(`${i}.${t}`,e||[])};I.prototype.updateDataModel=function(t){this.setModel(new e(t),"data")};I.prototype.initialData=function(t){const e=this.getModel("data");if(!e&&this.getInitialPlaceholder()&&this.getPlaceholderData()){const e=[];for(let i=0;i<t;i++){e.push(this.getPlaceholderData())}this.updateDataModel({data:e})}};I.prototype.resetDataRequired=function(t,e,i){if(this._bResetData){this._sSearchTerm=t;this._iSkip=e;this._iTop=i;return true}const s=this.getVisible();if(this._sSearchTerm===t&&(this._iSkip===e&&this._iTop===i&&(s&&this._oDirty.iDataFetchRequired>Date.now()))||!s&&this._oDirty.iCountFetchRequired>Date.now()){return false}this._sSearchTerm=t;this._iSkip=e;this._iTop=i;return true};I.prototype.resetData=function(){this._bResetData=true;this.updateDataModel({})};I.prototype.search=function(t,e,i,s){i=isNaN(i)||i<0?this._iTop||this.getPageSize():i;e=isNaN(e)||e<0?this._iSkip||0:e;if(typeof t!=="string"){t=this.getSearchTerm()}const o=this.getVisible();const a=this._sSearchTerm!==t;let r;const n=this.getModel("data").getData()||{};if(!s&&!this.resetDataRequired(t,e,i)){this.fireFetchEvent("before","skipped",n);this.fireFetchEvent("after","skipped",n);return}this._iCurrentCount=0;this._bResetData=false;this._bIsLoading=true;this.fireFetchEvent("before",o?"data":"count",performance.now(),n);if(o){this.setNoDataText(this.translate("LoadingData"),"Loading");this.initialData(i);this.showLoadingPlaceholder(true);this._oDirty.iDataFetchRequired=Date.now()+I._iDataRefreshMs;r=this.fetchData(t,e,i);r=r.then(this.applyDataChange.bind(this,a))}else{r=this.fetchCount(t,e,i);r=r.then(this.applyCount.bind(this))}this._oDirty.iCountFetchRequired=Date.now()+I._iCountRefreshMs;if(r){r.then(t=>{this._iCurrentCount=t.count||0;setTimeout(()=>{this.setNoDataText(this.translate("NoData"),"NoData")},100);this.fireFetchEvent("after",o?"data":"count",t)})}};I.prototype.getMaxRowItemsAsync=function(){if(!this.getDomRef()){return new Promise(t=>{setTimeout(()=>{t(this._getMaxRowItems())},200)})}return Promise.resolve(this._getMaxRowItems())};I.prototype._getMaxRowItems=function(){if(this.getDomRef()){const t=this.getDomRef().clientWidth;return Math.floor(t/(T[this.getCurrentView()]||t))}return 1};I.prototype.applyDataChange=function(t,e){const i={count:e.count,top:this.getPageSize(),skip:this._iSkip,page:Math.floor(this._iSkip/this.getPageSize())+1,data:e.data};this.showLoadingPlaceholder(false,()=>{this.updateDataModel(i);this.fixHeight(t)});return i};I.prototype.applyCount=function(t){const e={count:t.count,top:this._iTop,skip:this._iSkip,page:Math.floor(this._iSkip/this._iTop)+1,data:[]};this.updateDataModel(e);return e};I.prototype.fireFetchEvent=function(t,e,i){const s={count:i?i.count||0:0,category:this.getKey(),top:this._iTop,skip:this._iSkip,page:this._iSkip/this._iTop+1,searchTerm:this._sSearchTerm,visible:this.getVisible(),time:performance.now(),fetchType:e};if(t==="before"){this.fireBeforeSearch(s)}else if(t==="after"){this.fireAfterSearch(s)}};I.prototype.fetchData=function(t,e,i){return Promise.resolve({data:[],count:0})};I.prototype.fetchCount=function(t,e,i){return Promise.resolve({data:[],count:0})};I.prototype.showLoadingPlaceholder=function(t,e){if(t){if(this._iShowLoader){clearTimeout(this._iShowLoader)}this._iShowLoader=setTimeout(()=>{this._oList.addStyleClass("loading")},200)}else if(this._iShowLoader){clearTimeout(this._iShowLoader);this._iShowLoader=setTimeout(()=>{this._oList.removeStyleClass("loading");if(e){e()}this.invalidate();this._bIsLoading=false},this._oList.hasStyleClass("loading")?100:0)}};I.prototype.isLoading=function(){return this._bIsLoading};I.prototype.getPlaceholderData=function(){return{text:" ",description:" "}};I.prototype.refreshData=function(){this._oDirty.iDataFetchRequired=0;this.search(this.getSearchTerm(),0,this.getPageSize())};I.prototype.bindListViewItems=function(t){const e=this.getItemTemplate(t);this._oList.addStyleClass(t);this._oList.bindItems({path:"data>/data",template:e,templateShareable:false})};I.prototype.setNoDataText=function(t,e){this.updateIllustration(t,"Hide");if(this._oList&&!this.bPaging){this._oList.setNoDataText(" ");this.updateIllustration(t,e);this._oList.setNoDataText(t)}};I.prototype.getItemTemplate=function(t){let e=null;switch(t){case"card":e=this.createCardItemTemplate();break;case"tile":e=this.createTileItemTemplate();break;default:e=this.createListItemTemplate()}return e.addStyleClass(`sapUiCEPSearchCatLI ${t} ${this.getKey()}`)};I.prototype.setFooter=function(t){if(t==="viewAll"){this.setAggregation("_footer",this.createFooter(t))}};I.prototype.focusCategory=function(){if(!this.bPaging){this._forceFocus="parent"}this.bPaging=false};I.prototype.createHeader=function(){this._oHeader=new h({content:[new l({width:".5rem"}),this.createTitle(),this.createCounter(),new l,this.createViewButtons(),new l({width:"1rem"})]}).addStyleClass("sapUiCEPSearchCatHeaderTB");return this._oHeader};I.prototype.getPaginatorSettings=function(){return{visible:true,count:"{= ${data>/count}}",pageSize:"{= ${data>/top}}",currentPage:"{= ${data>/page}}",selectPage:function(t){this.fixHeight();this.bPaging=true;this._forceFocus="page";this._forceFocusPage=t.mParameters.page;this.search(this.getSearchTerm(),t.getParameter("startIndex"),t.getParameter("pageSize"))}.bind(this)}};I.prototype.getSearchTerm=function(){return this._sSearchTerm||""};I.prototype.getResultCount=function(){return this.getModel("data").getProperty("/count")};I.prototype.getViewSettings=function(){return{views:[{key:"list",icon:"sap-icon://text-align-justified"},{key:"card",icon:"sap-icon://business-card"}],default:"list"}};I.prototype.getDefaultIcon=function(){return this._oCategoryConfig.icon.src};I.prototype.getCurrentView=function(){const t=this.getProperty("currentView");if(t==="categoryDefault"){this.setProperty("currentView",this.getViewSettings().default);return this.getViewSettings().default}return t};I.prototype.setShowHeader=function(t){this._oHeader.setVisible(t);this._oList.removeStyleClass("noheader");if(!t){this._oList.addStyleClass("noheader")}return this.setProperty("showHeader",t)};I.prototype.setShowFooter=function(t){this.getAggregation("_footer").setVisible(t);return this.setProperty("showFooter",t)};I.prototype.setAllowViewSwitch=function(t){this._oViewSwitch.setVisible(t&&this._oViewSwitch.getItems().length>1);return this.setProperty("allowViewSwitch",t)};I.prototype.setCurrentView=function(t){const e=this.getCurrentView();if(e!==t){this._oList.unbindItems();this.setProperty("currentView",t);t=this.getCurrentView();this._oViewSwitch.setSelectedKey(t);this._oList.removeStyleClass(e);this.bindListViewItems(t);this._oList.addStyleClass(t);this._iCurrentHeight=0;this.search(this._sSearchTerm,this._iSkip,this.iTop,true)}return this};I.prototype.setPageSize=function(t){this.setProperty("pageSize",t);if(this.getDomRef()){this.refreshData()}return this};I.prototype.createCounter=function(){return new i({text:"{= isNaN(${data>/count}) ? '...' : '('+ ${data>/count} + ')'}",level:"H4"})};I.prototype.createTitle=function(){this._oTitle=new i({text:this._oCategoryConfig.title,level:"H4"});return this._oTitle};I.prototype.createList=function(){this._oList=new I.SearchResultList({inset:false,noDataText:" ",growing:true,growingThreshold:"{= ${data>/count}}"});this._oList.addStyleClass("sapUiCEPSearchCatList");this.bindListViewItems(this.getCurrentView());return this._oList};I.prototype.createViewButtons=function(){const t=this.getViewSettings();const e=t.views.map(t=>{const e=t.key.charAt(0).toUpperCase()+t.key.slice(1);t.tooltip=`{i18n>CATEGORY.Views.${e}ButtonTooltip}`;return new p(t)});this._oViewSwitch=new c({selectedKey:this.getCurrentView(),visible:e.length>1,items:e,selectionChange:function(t){const e=t.getParameter("item");this.setCurrentView(e.getKey())}.bind(this)});return this._oViewSwitch};I.prototype.createDefaultItemTemplate=function(){const t=new r(this.getItemAvatarSettings()).addStyleClass("sapUiSmallMarginBegin");const e=new I.CustomListItem({press:this.itemNavigate.bind(this),type:"Active",content:[new a({direction:"Column",items:[new a({direction:"Row",items:[t,this.getItemObjectIdentifier()]})]})]});return e};I.prototype.getItemObjectIdentifier=function(){return new n(this.getItemObjectIdentifierSettings()).addStyleClass("sapUiSmallMarginBeginEnd")};I.prototype.getItemObjectIdentifierSettings=function(){return{text:"{data>description}",title:"{data>title}",titleActive:"{= !!${data>_navigation} || !!${data>url}}",titlePress:this.itemNavigate.bind(this)}};I.prototype.getItemAvatarSettings=function(t){return{fallbackIcon:this._oCategoryConfig.icon.src,src:t||"{data>icon}",displaySize:this._oCategoryConfig.icon.size,displayShape:this._oCategoryConfig.icon.shape,imageFitType:this._oCategoryConfig.icon.imageFitType||"Contain",backgroundColor:this._oCategoryConfig.icon.backgroundColor}};I.prototype.createListItemTemplate=function(){return this.createDefaultItemTemplate().addStyleClass("list")};I.prototype.createCardItemTemplate=function(){return this.createListItemTemplate().addStyleClass("card")};I.prototype.createTileItemTemplate=function(){return this.createListItemTemplate().addStyleClass("tile")};I.prototype.createFooter=function(t){if(t==="viewAll"){this._oFooter=new h({style:"Clear",content:[new l,new u({text:"{i18n>CATEGORIES.All.ViewAll}",press:function(){this.fireViewAll({key:this.getKey(),currentView:this.getCurrentView()})}.bind(this)}),new l({width:"1rem"})]}).addStyleClass("sapCEPCategoryFooterTB")}else{this._oPaginator=new d(this.getPaginatorSettings());this._oFooter=new h({style:"Clear",content:[new l,this._oPaginator]}).addStyleClass("sapCEPCategoryFooterTB")}return this._oFooter};I.prototype.itemNavigate=function(t){};I.prototype.updateIllustration=function(t,e){if(!this.getUseIllustrations()){return}if(!this._oNoDataIllustration){this._oNoDataIllustration=new g({illustrationType:w.NoSearchResults,enableDefaultTitleAndDescription:false,illustrationSize:"Spot",additionalContent:[new u({text:_.bundle.getText("CATEGORY.Views.RefreshButton"),visible:false,press:function(){this.fixHeight();setTimeout(()=>{this.refreshData()},600);this.updateIllustration(this.translate("LoadingData"),"Loading")}.bind(this)})]});this._oNoDataIllustration.addStyleClass("sapUiCEPSearchCatNoDataIllustration")}if(this._iCurrentCount===0){if(e==="NoData"){if(this._iCurrentCount===0){this._oNoDataIllustration.setTitle(t);this._oNoDataIllustration.setIllustrationType(w.NoSearchResults);this.setAggregation("_nodata",this._oNoDataIllustration);this._oNoDataIllustration.getAdditionalContent()[0].setVisible(true)}}else if(e==="Loading"){if(this._iCurrentCount===0){this._oNoDataIllustration.setTitle(t);this._oNoDataIllustration.setIllustrationType(w.NoSearchResults);this.setAggregation("_nodata",this._oNoDataIllustration);this._oNoDataIllustration.getAdditionalContent()[0].setVisible(false)}}}else{this.setAggregation("_nodata",null)}};I.prototype.fixHeight=function(t){if(!this.getDomRef()){return}if(t){this.getDomRef().style.setProperty("--tmpPageSize","unset");this._iCurrentHeight=0;return}if(this._oList&&this._oList.getVisible()&&this._oList.getDomRef()){this._iCurrentHeight=Math.max(this._oList.getDomRef().offsetHeight,this._iCurrentHeight)}if(this._iCurrentHeight){this.getDomRef().style.setProperty("--tmpPageSize",`${this._iCurrentHeight}px`)}};I.prototype.onResize=function(t){if(this._oList&&this._oList._oItemNavigation){this._oList._oItemNavigation.setColumns(this._oList._getCurrentColCount())}this.fixHeight(true);if(Math.abs(t.oldSize.width-t.size.width)>50){if(this._iResizeTimer){clearTimeout(this._iResizeTimer)}this._iResizeTimer=setTimeout(()=>{this.search(this._sSearchTerm,this._iSkip,this._iTop)},300)}if(t.oldSize&&t.size&&t.oldSize.width!==t.size.width){this._iCurrentHeight=0}};I.prototype.onBeforeRendering=function(){if(this._oHighlighter){this._oHighlighter.destroy()}this._oHighlighter=null;if(this._iResizeListenerId){C.deregister(this._iResizeListenerId);this._iResizeListenerId=null}};I.prototype.onAfterRendering=function(){if(!this._iResizeListenerId){this._fnResizeListener=this.onResize.bind(this);this._iResizeListenerId=C.register(this,this._fnResizeListener)}if(!this._oHighlighter&&this.getHighlightResult()){this._oHighlighter=new y(this.getDomRef(),{isCaseSensitive:false,shouldBeObserved:true,querySelector:".sapUiCEPSearchCatLI"});this._oHighlighter.highlight(this.getSearchTerm())}this.fixHeight();if(this._iAfterRendering){clearTimeout(this._iAfterRendering)}this._iAfterRendering=setTimeout(()=>{this.fireAfterRendering.bind(this)();this._iAfterRendering=null;const t=this.getDomRef();const e=this.get_header();const i=this.getPaginator();if(t&&e){const s=e.getContent()[1].getText();const o=e.getContent()[2].getText();const a=[s,o,i?_.bundle.getText("CATEGORY.Views.PageTooltip",[i.getCurrentPage(),i.getCount()]):""].join(" ");t.setAttribute("aria-label",a);t.setAttribute("tabIndex","0");if(this._forceFocus==="parent"){t.focus();this._forceFocus=""}}if(this._forceFocus==="parent"){if(t){t.focus();this._forceFocus=""}}else if(this._forceFocus==="page"){i?.focusPage(this._forceFocusPage);this._forceFocusPage=null;this._forceFocus=""}},this._iAfterRenderingEventDelay)};return I});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/cepsearchresult/app/util/controls/Highlighter", [],()=>{"use strict";const e={};e.CURRENTLY_HIGHLIGHTED_DOM_REFS=[];e.MUTATION_OBSERVER=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;function t(e,t){this._bIsCaseSensitive=!!t.isCaseSensitive;this._aPreviouslyHighlightedNodes=[];this._aPreviouslyOriginalNodes=[];this._aOldTerms=[];this._aRegExTerms=[];this._bUseExternalStyles=!!t.useExternalStyles;this._oObserver=null;this._sQuerySelector=t.querySelector;if(Array.isArray(e)){this._oDomRef=e}else{this._oDomRef=[e]}if(t.shouldBeObserved){this._addMutationObserver()}}t.prototype.highlight=function(e){if(!e){this._aRegExTerms=[];this._aOldTerms=[];return}const t=this._formatTerms(e);if(!t||!t.length||this._isNewTermsSameAsOld(t)){return}this._aOldTerms=t;this._cacheRegExTerms();this._toggleMutationObserver(false);this._oDomRef.forEach(function(e){this._highlightSubTree(e)},this);this._toggleMutationObserver(true)};t.prototype._cacheRegExTerms=function(){let e;this._aRegExTerms=[];this._aOldTerms.forEach(function(t){t=this._escapeRegExp(t);e=this._bIsCaseSensitive?new RegExp(t,"g"):new RegExp(t,"gi");this._aRegExTerms.push(e)},this)};t.prototype._escapeRegExp=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};t.prototype._isNewTermsSameAsOld=function(e){const t=this._aOldTerms.length;let s;if(t!==e.length){return false}for(s=0;s<t;s++){if(this._aOldTerms[s]!==e[s]){return false}}return true};t.prototype._highlightSubTree=function(e){let t;let s;let i;if(e===this._oDomRef[0]&&this._sQuerySelector){i=this._oDomRef[0].querySelectorAll(this._sQuerySelector)}else{i=e.childNodes}for(s=0;s<i.length;s++){t=i[s];this._processNode(t)}};t.prototype._processNode=function(e){let t;let s;let i;let r;let o;let n;let l;let h;let a;let u;if(e.nodeType===document.ELEMENT_NODE){this._highlightSubTree(e)}else if(e.nodeType===document.TEXT_NODE){t=e.data;o=Object.create(null);h=[];for(i=0;i<this._aRegExTerms.length;i++){s=this._aRegExTerms[i];while((l=s.exec(t))!==null){a=l.index;if(h.indexOf(a)===-1){n=l["0"];o[a]=n;for(r=a;r<a+n.length;r++){h.push(r)}}}}if(Object.keys(o).length!==0){u=this._createHighlightedNode(o,t);this._replaceNode(e,u)}}};t.prototype._formatTerms=function(e){const t=e&&e.replace(/\s+/g," ").trim().split(" ");const s=t.reduce((e,t)=>{if(e.indexOf(t)===-1){e.push(t)}return e},[]);return s.sort((e,t)=>t.length-e.length)};t.prototype._replaceNode=function(e,t){if(e.parentNode&&e.parentNode.closest&&e.parentNode.closest(this._sQuerySelector)){e.parentNode.replaceChild(t,e);this._aPreviouslyHighlightedNodes.push(t);this._aPreviouslyOriginalNodes.push(e)}};t.prototype._restorePreviouslyHighlightedNodes=function(){let e;let t;this._toggleMutationObserver(false);for(let s=0;s<this._aPreviouslyHighlightedNodes.length;s++){e=this._aPreviouslyHighlightedNodes[s];t=this._aPreviouslyOriginalNodes[s];if(e.parentNode){e.parentNode.replaceChild(t,e)}}this._aPreviouslyHighlightedNodes=[];this._aPreviouslyOriginalNodes=[];this._toggleMutationObserver(true)};t.prototype._createHighlightedNode=function(e,t){const s=document.createElement("span");const i=[];function r(e,t){return e>t}const o=Object.keys(e).sort(r);let n;let l=0;for(let s=0;s<o.length;s++){const r=Number(o[s]);const n=e[r];const h=n.length;const a=t.substring(l,r);if(a.length){i.push(a)}i.push(n);l=r+h}if(l<t.length){i.push(t.substring(l))}for(n in i){const t=document.createElement("span");t.innerText=i[n];if(Object.values(e).indexOf(i[n])>-1){t.classList.add("defaultHighlightedText")}s.appendChild(t)}return s};t.prototype._addMutationObserver=function(){this._instantiateMutationObserver();this._toggleMutationObserver(true)};t.prototype._removeMutationObserver=function(){this._toggleMutationObserver(false);this._oObserver=null;this._oDomRef=[]};t.prototype._toggleMutationObserver=function(e){if(e){this._oDomRef.forEach(function(e){this._oObserver.observe(e,this.oObserverConfig)},this)}else if(this._oObserver){this._oObserver.disconnect()}};t.prototype._bIsDomNodeDescendant=function(e,t){return e.contains(t)};t.prototype._instantiateMutationObserver=function(){this.oObserverConfig={attributes:false,childList:true,characterData:true,subtree:true};this._oObserver=new e.MUTATION_OBSERVER(this._onMutationDetectionCallback.bind(this))};t.prototype._onMutationDetectionCallback=function(e){let t;let s;this._toggleMutationObserver(false);e.forEach(function(e){if(e.type==="childList"){t=e.addedNodes;for(let e=0;e<t.length;e++){s=t[e];this._processNode(s)}}else if(e.type==="characterData"){this._processNode(e.target)}},this);this._toggleMutationObserver(true)};t.prototype.destroy=function(){this._removeMutationObserver()};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/cepsearchresult/app/util/controls/Paginator", ["sap/ui/core/Control","sap/m/ToggleButton","sap/ui/core/delegate/ItemNavigation","sap/ushell/components/cepsearchresult/app/util/appendStyleVars","sap/ushell/components/cepsearchresult/app/util/resources","sap/ui/dom/includeStylesheet"],(t,e,i,n,o,s)=>{"use strict";n(["sapUiBaseText","sapUiLinkActiveColor"]);s(sap.ui.require.toUrl("sap/ushell/components/cepsearchresult/app/util/controls/Paginator.css"));const a=t.extend("sap.ushell.components.cepsearchresult.app.util.controls.Paginator",{metadata:{properties:{pageSize:{type:"int",defaultValue:5},count:{type:"int",defaultValue:0},currentPage:{type:"int",defaultValue:1},segmentSize:{type:"int",defaultValue:7}},aggregations:{_buttons:{type:"sap.m.Button",multiple:true,hidden:true}},events:{selectPage:{}}},renderer:function(t,e){t.openStart("nav",e);t.attr("tabIndex","0");t.class("sapUiCEPSearchPag");t.attr("role","navigation");t.attr("aria-label",o.bundle.getText("CATEGORY.Views.PaginationTooltip"));t.openEnd();const i=e.getAggregation("_buttons")||[];for(let e=0;e<i.length;e++){t.renderControl(i[e])}t.close("nav")}});a.prototype._setCurrentPageWithEvent=function(t){this.setCurrentPage(t);const e=t-1;const i=this.getPageSize();this.fireSelectPage({page:t,startIndex:e*i,pageSize:i,endIndex:(e+1)*i-1})};a.prototype.getPageCount=function(){const t=this.getPageSize();const e=this.getCount();return Math.ceil(e/t)};a.prototype._addButtons=function(){this.destroyAggregation("_buttons");const t=this.getPageCount();const i=Math.min(this.getCurrentPage(),t);const n=this.getSegmentSize();let s=Math.max(i-Math.floor(n/2),1);const a=Math.min(s+n-1,t);if(a===t){s=Math.max(t-n+1,1)}const r=new e({icon:"sap-icon://navigation-left-arrow",enabled:i>1,visible:t>1,tooltip:o.bundle.getText("CATEGORY.Views.PageTooltip",[Math.max(i-1,1),t]),press:function(){this._setCurrentPageWithEvent(i-1)}.bind(this)});this.addAggregation("_buttons",r);if(s>1){const a=new e({text:"1",enabled:i>1,visible:i>1,tooltip:o.bundle.getText("CATEGORY.Views.PageTooltip",[1,t]),press:function(){this._setCurrentPageWithEvent(1)}.bind(this)});this.addAggregation("_buttons",a);const r=new e({text:s===3?2:"...",tooltip:o.bundle.getText("CATEGORY.Views.PageTooltip",[s-1,t]),enabled:i>=s,visible:t>n&&s>2,press:function(){this._setCurrentPageWithEvent(s-1)}.bind(this)});this.addAggregation("_buttons",r)}for(let n=s;n<=a;n++){const s=new e({text:`${n}`,pressed:n===i,tooltip:o.bundle.getText("CATEGORY.Views.PageTooltip",[n,t]),enabled:true,visible:t>1,press:function(t,e){return function(i){if(e===t.getCurrentPage()){i.getSource().setPressed(true);return}t._setCurrentPageWithEvent(e)}}(this,n)});s.data("page",n.toString(),true);s.addStyleClass("sapUiCEPSearchPagNumber");this.addAggregation("_buttons",s)}if(a<t){const i=new e({text:a===t-2?t-1:"...",enabled:true,tooltip:o.bundle.getText("CATEGORY.Views.PageTooltip",[a+1,t]),visible:a<t-1,press:function(){this._setCurrentPageWithEvent(a+1)}.bind(this)});this.addAggregation("_buttons",i);const n=new e({text:`${t}`,enabled:true,tooltip:o.bundle.getText("CATEGORY.Views.PageTooltip",[t,t]),visible:t>1,press:function(){this._setCurrentPageWithEvent(t)}.bind(this)});this.addAggregation("_buttons",n)}const g=new e({icon:"sap-icon://navigation-right-arrow",enabled:i<t,tooltip:o.bundle.getText("CATEGORY.Views.PageTooltip",[Math.min(i+1,t),t]),visible:t>1,press:function(){this._setCurrentPageWithEvent(i+1)}.bind(this)});this.addAggregation("_buttons",g)};a.prototype._removeKeyboardNavigation=function(){if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();this._oItemNavigation=null}};a.prototype._initKeyboardNavigation=function(){this._removeKeyboardNavigation();this._oItemNavigation=new i;const t=Array.from(this.getDomRef().querySelectorAll(".sapMBtn"));this._oItemNavigation.setCycling(false).setTableMode(true,true).setColumns(this.getAggregation("_buttons").length).setRootDomRef(this.getDomRef()).setPageSize(this.getPageSize()).setItemDomRefs(t);this.addDelegate(this._oItemNavigation)};a.prototype.focusPage=function(t){const e=this.getDomRef().querySelector(`.sapMBtn[data-page='${t}']`);if(e){e.setAttribute("aria-current","page");e.focus()}};a.prototype.onBeforeRendering=function(){this._addButtons()};a.prototype.onAfterRendering=function(){this._initKeyboardNavigation()};a.prototype.destroy=function(){this._removeKeyboardNavigation();this.destroyAggregation("_buttons")};return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/cepsearchresult/app/util/controls/categories/All", ["sap/ushell/components/cepsearchresult/app/util/controls/Category"],t=>{"use strict";const e=t.extend("sap.ushell.components.cepsearchresult.app.util.controls.categories.All",{metadata:{aggregations:{_content:{type:"sap.ui.core.Control",multiple:true}}},renderer:function(t,e){t.openStart("div",e);t.class("sapUiCEPSearchCatGroup");t.openEnd();const a=e.getAggregation("_content");a.forEach(e=>{t.renderControl(e)});t.close("div")},constructor:function(e,a,n){this._oEdition=a;t.apply(this,[e,a,n])}});e.prototype.addContent=function(){const t=this._oCategoryConfig.subCategories;t.forEach(t=>{t.instance=this._oEdition.createCategoryInstance(t.name);t.instance.setFooter("viewAll");t.instance.setPageSize(t.pageSize);t.instance.attachBeforeSearch(t=>{this.fireBeforeSearch(t.getParameters())});t.instance.attachAfterSearch(t=>{this.fireAfterSearch(t.getParameters())});t.instance.attachItemNavigate(t=>{this.fireItemNavigateSearch(t.getParameters())});t.instance.attachViewAll(t=>{this.fireViewAll(t.getParameters())});this.addAggregation("_content",t.instance)})};e.prototype.resetData=function(){this.getAggregation("_content").forEach(t=>{t.resetData()})};e.prototype.search=function(t,e,a){this.getAggregation("_content").forEach(n=>{n.setVisible(this.getVisible());n.search(t,e,a)})};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/cepsearchresult/app/util/controls/categories/Application", ["sap/ushell/components/cepsearchresult/app/util/controls/Category","sap/ushell/services/VisualizationInstantiation","sap/m/Text","sap/m/Link","sap/m/FlexBox","sap/m/library","sap/ui/base/Event","sap/ushell/Container"],(t,e,a,i,n,s,o,r)=>{"use strict";const l=s.LinkAccessibleRole;const d=t.extend("sap.ushell.components.cepsearchresult.app.util.controls.categories.Application",{renderer:t.getMetadata().getRenderer()});const p=new e;const c=500;d.prototype.getViewSettings=function(){return{views:[{key:"list",icon:"sap-icon://text-align-justified"},{key:"tile",icon:"sap-icon://grid"}],default:"tile"}};d.prototype.createListItemTemplate=function(){const e=t.prototype.createListItemTemplate.apply(this).addStyleClass("sapMLIBHoverable");e.getContent()[0].addItem(new a({visible:"{= !!${data>longDescription}}",text:"{= ${data>longDescription}}"}).addStyleClass("diminishedText").addStyleClass("sapUiSmallMarginBeginEnd").addStyleClass("sapUiTinyMarginTop").addStyleClass("resetHighlight"));e.getContent()[0].addItem(new n({items:{path:"data>visualization/keywords",templateShareable:true,template:new a({visible:"{= !!${data>}}",text:"{= ${data>}}"}).addStyleClass("diminishedText").addStyleClass("keywordText").addStyleClass("sapUiTinyMarginEnd")}}).addStyleClass("sapUiSmallMarginBeginEnd"));e.attachModelContextChange(this.addTile.bind(this));return e};d.prototype.createCardItemTemplate=function(){const e=t.prototype.createListItemTemplate.apply(this);e.attachModelContextChange(this.addTile.bind(this));return e};d.prototype.createTileItemTemplate=function(){const e=new t.CustomListItem({type:"Active",press:this.itemNavigate.bind(this)});e.attachModelContextChange(this.addTile.bind(this));return e};d.prototype.addTile=function(t){const e=t.getSource();if(e.getBindingContext("data")){const t=e.getBindingContext("data").getObject();const a=t.visualization;if(!a){return}if(e._oViz){e._oViz.destroy()}const i=p.instantiateVisualization(a);i.addStyleClass(a.displayFormatHint);e._oViz=i;if(this.getCurrentView()==="tile"){e.destroyContent();e.addContent(i);this.activateTile(i,true,c)}else{e.getContent()[0].getItems()[0].addItem(i.addStyleClass("hiddentile"));const t=e.getContent()[0].getItems()[0].getItems()[0];e.addDelegate({onAfterRendering:function(){setTimeout(()=>{t.setSrc(t.getSrc());t.invalidate()},5)}})}}};d.prototype.activateTile=function(t,e,a){setTimeout(()=>{r.getServiceAsync("ReferenceResolver").then(()=>{if(!t.isDestroyed()){t.setActive(e,false);this.activateTile(t,false,1e3)}})},a)};d.prototype.onsapenter=function(t){const e=new o("customEventOnEnter",t.srcControl,{});this.itemNavigate(e)};d.prototype.itemNavigate=function(t){if(this.bIgnoreNextItemNavigation){this.bIgnoreNextItemNavigation=false;return}if(this.isLoading()){return}let e=t.getSource();this.bIgnoreNextItemNavigation=e.isA("sap.m.CustomListItem");while(e&&!e.isA("sap.m.CustomListItem")){e=e.getParent()}if(!e&&!e._oViz){return}const a=e._oViz.mProperties.targetURL;r.getServiceAsync("Navigation").then(t=>{t.navigate({target:{shellHash:a}})})};d.prototype.getItemObjectIdentifier=function(){const t=new i({text:"{data>title}",press:this.itemNavigate.bind(this),accessibleRole:l.Button}).addStyleClass("appTitleText");t.setHref();return new n({direction:"Column",items:[new n({items:[t,new a({text:"",visible:"{= !!${data>title} && !!${data>description}}"}).addStyleClass("appTitleSeparator"),new a({text:"{data>description}"}).addStyleClass("appDescriptionText")]}).addStyleClass("appTitle"),new n({items:[new a({text:"{data>contentProviderLabel}"}).addStyleClass("appProviderText").addStyleClass("diminishedText"),new a({text:"  ",visible:"{= !!${data>contentProviderLabel} && !!${data>visualization/info}}"}).addStyleClass("appProviderInfoSeparator diminishedText"),new a({text:"{data>visualization/info}",visible:"{= !!${data>visualization/info}}"}).addStyleClass("appInfoText").addStyleClass("diminishedText")]}).addStyleClass("appProvider")]}).addStyleClass("appObjectIdentifier")};d.prototype._getSearchParameters=function(t,e,a){return{includeAppsWithoutVisualizations:false,enableVisualizationPreview:false,searchTerm:t,skip:e,top:a,filter:{filters:[{path:"technicalAttributes",operator:"NotContains",value1:"APPTYPE_SEARCHAPP"},{path:"technicalAttributes",operator:"NotContains",value1:"APPTYPE_HOMEPAGE"}],and:true},sort:{path:"title",descending:false}}};d.prototype.fetchData=function(t,e,a){return this.getMaxRowItemsAsync().then(i=>{const n=Math.ceil(a/i)*i;return this.getData(this._getSearchParameters(t,e,n)).then(t=>{const e=t.data;e.forEach((t,i)=>{if(e.length>a&&t.visualization.displayFormatHint==="standardWide"){e.pop()}});t.pageGap=e.length-a;return t})})};d.prototype.fetchCount=function(t,e,a){return this.getData(this._getSearchParameters(t,e,a))};d.prototype.getPlaceholderData=function(){return{title:new Array(10).join(""),description:new Array(35).join(""),keywords:"",icon:"sap-icon://person-placeholder",label:new Array(17).join(""),url:""}};d.prototype.getData=function(t){return r.getServiceAsync("SearchCEP").then(e=>e.search(t))};return d});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/cepsearchresult/app/util/controls/categories/Event", ["sap/ushell/components/cepsearchresult/app/util/controls/Category","sap/m/Text","sap/m/Label","sap/m/FlexBox","sap/m/Avatar","sap/m/ObjectIdentifier","sap/ui/core/Theming","sap/ui/core/theming/Parameters","sap/ui/core/format/DateFormat"],(t,e,a,i,n,r,s,o,l)=>{"use strict";let c={};function m(){c=o.get({name:["sapUiAccent2","sapUiAccentBackgroundColor2","sapUiAccent10","sapUiAccentBackgroundColor10","sapUiFontFamily"]})}s.attachApplied(m);m();function p(t,e){if(typeof e==="string"){e=new Date(e)}if(!(e instanceof Date)){return""}if(e.toString()==="Invalid Date"){return""}if(!t){t={style:"short"}}return l.getDateInstance(t).format(e)}function d(t,e){if(typeof e==="string"){e=new Date(e)}if(!(e instanceof Date)){return""}if(e.toString()==="Invalid Date"){return""}if(!t){t={style:"short"}}return l.getDateTimeInstance(t).format(e)}const g=['<svg xmlns="http://www.w3.org/2000/svg" aria-label="Calendar" role="img" viewBox="0 0 100 100">','<rect width="100" height="39" fill="{mParams.sapUiAccent2}"/>','<rect y="39" width="100" height="61" fill="{mParams.sapUiAccentBackgroundColor10}"/>','<text x="50%" y="29" style=\'fill:{mParams.sapUiAccentBackgroundColor2};font-size:23px;opacity:0.8;font-family:{mParams.sapUiFontFamily};text-anchor: middle\'>{sMonth}</text>','<text id="day" x="50%" y="84"'," style='stroke-width:1;stroke:{mParams.sapUiAccentBackgroundColor10};"," fill: {mParams.sapUiAccent10}; font-size: 45px; font-weight: bold; font-family:{mParams.sapUiFontFamily};text-anchor: middle'>{sDay}</text>",'<text id="weekday" x="20" y="70" style=\'display:none;fill:{mParams.sapUiAccent10};font-size:20px;font-family:{mParams.sapUiFontFamily};text-anchor: middle\'>{sWeekday}</text>',"</svg >"].join("");function f(t,e,a){const i=g.replace("{sMonth}",e.substring(0,3)).replace("{sDay}",a).replace("{sWeekday}",t.substring(0,2)).replace(/\{mParams.sapUiAccentBackgroundColor2\}/g,c.sapUiAccentBackgroundColor2).replace(/\{mParams.sapUiAccentBackgroundColor10\}/g,c.sapUiAccentBackgroundColor10).replace(/\{mParams.sapUiAccent2\}/g,c.sapUiAccent2).replace(/\{mParams.sapUiAccent10\}/g,c.sapUiAccent10).replace(/\{mParams.sapUiFontFamily\}/g,c.sapUiFontFamily);return`data:image/svg+xml;base64,${btoa(i)}`}const u=t.extend("sap.ushell.components.cepsearchresult.app.util.controls.categories.Event",{renderer:t.getMetadata().getRenderer()});u.prototype.getItemAvatarSettings=function(){const e=t.prototype.getItemAvatarSettings.apply(this,["{data>icon}"]);e.src={path:"data>",formatter:function(t){if(!t){return""}return f(p({format:"EEE"},t.from),p({format:"MMM"},t.from),p({format:"D"},t.from))}};return e};u.prototype.createDefaultItemTemplate=function(){return new t.CustomListItem({press:this.itemNavigate.bind(this),type:"Active",content:[new i({direction:"Column",items:[new i({direction:"Row",wrap:"Wrap",items:[new n(this.getItemAvatarSettings()).addStyleClass("sapUiSmallMarginBegin sapUiTinyMarginBottom event"),new r({text:"{data>description}",title:"{data>title}",titleActive:"{= !!${data>_navigation} || !!${data>url}}",titlePress:this.itemNavigate.bind(this)}).addStyleClass("sapUiSmallMarginBeginEnd sapUiSmallMarginBottom"),new i({direction:"Column",items:[this.createDateRow("From","data>from"),this.createDateRow("To","data>to")]}).addStyleClass("infoTextSection")]}).addStyleClass("sapUiSmallMarginEnd")]}).addStyleClass("status")]})};u.prototype.createDateRow=function(t,n){const r={path:n,formatter:p.bind(null,{style:"medium"})};const s={path:n,formatter:d.bind(null,{pattern:"hh:mm"})};return new i({direction:"Row",items:[new a({text:t,width:"3rem"}).addStyleClass("sapUiSmallMarginBegin"),new e({text:r,width:"6rem"}).addStyleClass("sapUiSmallMarginBeginEnd"),new e({text:s,width:"4rem"}).addStyleClass("sapUiSmallMarginBeginEnd")]}).addStyleClass("tinyTop")};return u});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/cepsearchresult/app/util/controls/categories/People", ["sap/ushell/components/cepsearchresult/app/util/controls/Category","sap/m/CustomListItem","sap/m/Link","sap/m/Text","sap/m/Label","sap/m/FlexBox","sap/m/Avatar","sap/m/ObjectIdentifier","sap/ui/core/CustomData"],(t,e,a,i,n,o,s,r,l)=>{"use strict";const d=t.extend("sap.ushell.components.cepsearchresult.app.util.controls.categories.People",{renderer:t.getMetadata().getRenderer()});d.prototype.getItemAvatarSettings=function(){const e=t.prototype.getItemAvatarSettings.apply(this,["{data>icon}"]);e.initials={path:"data>text",formatter:function(t){try{const e=t.split(" ");return(e[0].charAt(0)+e[e.length-1].charAt(0)).toUpperCase()}catch(t){return""}}};return e};d.prototype.createDefaultItemTemplate=function(){return new t.CustomListItem({press:this.itemNavigate.bind(this),type:"Active",content:[new o({direction:"Column",customData:new l({key:"status",value:"{= ${data>status} || 'unknown'}",writeToDom:true}),items:[new o({direction:"Row",wrap:"Wrap",items:[new s(this.getItemAvatarSettings()).addStyleClass("sapUiSmallMarginBegin sapUiTinyMarginBottom people"),new r({text:"{data>description}",title:"{data>text}",titleActive:"{= !!${data>_navigation} || !!${data>url}}",titlePress:this.itemNavigate.bind(this)}).addStyleClass("sapUiSmallMarginBeginEnd sapUiSmallMarginBottom"),new o({direction:"Column",items:[this.createInfoRow("Office","{data>location}"),this.createInfoRow("Manager","{data>manager}","mailto:{data>manager}")]}).addStyleClass("infoTextSection"),new o({direction:"Column",items:[this.createInfoRow("Mail","{data>mail}","mailto:{data>mail}"),this.createInfoRow("Mobile","{data>mobile}","tel:{data>mobile}"),this.createInfoRow("Work","{data>work}","tel:{data>work}")]}).addStyleClass("infoTextSection")]}).addStyleClass("sapUiSmallMarginEnd")]}).addStyleClass("status")]})};d.prototype.createInfoRow=function(t,e,s){return new o({direction:"Row",visible:`{= !!$${e}}`,items:[new n({text:t,width:"3rem"}).addStyleClass("sapUiSmallMarginBegin"),s?new a({text:e,href:s}).addStyleClass("sapUiSmallMarginBeginEnd"):new i({text:e}).addStyleClass("sapUiSmallMarginBeginEnd")]}).addStyleClass("tinyTop")};d.prototype.getPlaceholderData=function(){return{text:new Array(20).join(""),description:new Array(14).join(""),mail:new Array(25).join(""),location:new Array(7).join(""),mobile:new Array(17).join(""),status:"offline",icon:"sap-icon://person-placeholder"}};return d});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/cepsearchresult/app/util/controls/categories/Workpage", ["sap/ushell/components/cepsearchresult/app/util/controls/Category"],t=>{"use strict";const e=t.extend("sap.ushell.components.cepsearchresult.app.util.controls.categories.Workpage",{renderer:t.getMetadata().getRenderer()});e.prototype.getViewSettings=function(){return{views:[{key:"list",icon:"sap-icon://text-align-justified"}],default:"list"}};e.prototype.getItemAvatarSettings=function(){return t.prototype.getItemAvatarSettings.apply(this,["{data>icon}"])};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/cepsearchresult/app/util/resources", ["sap/ui/model/resource/ResourceModel"],e=>{"use strict";const u={};u.bundle=null;u.model=new e({bundleName:"sap.ushell.components.cepsearchresult.app.util.i18n.i18n",async:true});u._pResourceBundle=u.model.getResourceBundle().then(e=>{u.bundle=e});u.awaitResourceBundle=async function(){await u._pResourceBundle};return u});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/contentFinder/CatalogService", ["sap/base/i18n/Localization","sap/ushell/utils/HttpClient","sap/ushell/Config"],(t,e,n)=>{"use strict";function s(){this.httpClient=new e;this._sBaseUrl=n.last("/core/workPages/contentApiUrl");const t=new URLSearchParams(window.location.search);this._sSiteId=t.get("siteId")||n.last("/core/site/siteId")}s.prototype.getCatalogs=function(){const t=this._getCatalogs();const e=[t];let n;let s;const a=new Promise((t,e)=>{n=t;s=e});t.then(t=>{let s=t.catalogs.length;const a=s;const o=t.totalCount;while(s<o){e.push(this._getCatalogs(s,a));s+=a}Promise.all(e).then(t=>{const e=t.reduce((t,e)=>t.concat(e.catalogs),[]);n({catalogs:e,totalCount:t[0].totalCount})})}).catch(t=>{s(t)});return a};s.prototype._getCatalogs=function(t,e,n){let s=`\n        getCatalogs ($siteId: String, $queryInput: QueryCatalogsInput!){\n            catalogs(siteId: $siteId, queryInput: $queryInput) {\n                totalCount,\n                nodes {\n                    id,\n                    descriptor { value }\n                    provider {\n                        id\n                    },\n                    systemLabel,\n                },\n            }\n        }`;s=s.replace(/\n/g,"").replace(/ /g,"");s=`query ${s}`;const a={...n};a.skip=t||0;if(e){a.top=e}const o={siteId:this._sSiteId,queryInput:a};return this._doRequest(s,JSON.stringify(o)).then(t=>{const e=[];if(t.data.catalogs){t.data.catalogs.nodes.forEach((t,n)=>{if(t.descriptor.value){let n={id:t.id,title:t.descriptor.value.title};if(t.provider?.id&&t.provider.id!=="SUB_ACCOUNT"){n={...n,contentProviderId:t.provider.id}}if(t.systemLabel){n={...n,contentProviderLabel:t.systemLabel}}e.push(n)}})}return{catalogs:e,totalCount:t.data.catalogs.totalCount||0}})};s.prototype.loadVisualizations=async function(t,e){if(!t){throw new Error("Catalog ID is mandatory")}let n=`\n        getCatalog($siteId: String, $filterQuery: QueryCatalogVisualizationsInput) {\n            catalog(siteId: $siteId, catalogId: "${t}") {\n                id,\n                descriptor { value },\n                visualizations(queryInput: $filterQuery) {\n                    totalCount,\n                    nodes{\n                        id,\n                        type,\n                        descriptor {\n                            value,\n                            schemaVersion\n                        },\n                        descriptorResources {\n                            baseUrl,\n                            descriptorPath\n                        },\n                        indicatorDataSource {\n                            url,\n                            refreshInterval\n                        },\n                        targetAppIntent {\n                            semanticObject,\n                            action,\n                            businessAppId\n                        },\n                        systemLabel\n                    }\n                }\n            }\n        }`;n=n.replace(/\n/g,"").replace(/ /g,"");n=`query ${n}`;const s={siteId:this._sSiteId,filterQuery:e};return this._doRequest(n,JSON.stringify(s)).then(t=>({visualizations:t.data?.catalog.visualizations||[],totalCount:t.data?.catalog.visualizations.totalCount||0}))};s.prototype._doRequest=function(e,s){let a=`${this._sBaseUrl}?query=${encodeURIComponent(e)}`;if(s){a+=`&variables=${encodeURIComponent(s)}`}const o={"Content-Type":"application/json",Accept:"application/json","Accept-Language":t.getLanguageTag().toString()};if(n.last("/core/site/sapCdmVersion")){o["sap-cdm-content-version"]=n.last("/core/site/sapCdmVersion")}return this.httpClient.get(a,{headers:o}).then(t=>{if(t.status<200||t.status>=300){throw new Error(`HTTP request failed with status: ${t.status} - ${t.statusText}`)}return JSON.parse(t.responseText||"{}")})};return s},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/contentFinder/Component", ["sap/base/Log","sap/base/util/deepExtend","sap/base/util/ObjectPath","sap/ui/core/mvc/View","sap/ui/core/mvc/ViewType","sap/ui/core/UIComponent","sap/ushell/components/contentFinder/model/GraphQLModel","sap/ui/model/json/JSONModel","sap/ushell/adapters/cdm/v3/_LaunchPage/readUtils","sap/ushell/adapters/cdm/v3/utilsCdm","sap/f/library"],(e,t,i,o,s,a,n,r,l,d,u)=>{"use strict";const p=u.LayoutType;const c=500;return a.extend("sap.ushell.components.contentFinder.Component",{metadata:{manifest:"json",library:"sap.ushell",interfaces:["sap.ui.core.IAsyncContentCreation"],properties:{enablePersonalization:{type:"boolean",defaultValue:true,group:"Behavior"},noItemsInCatalogDescription:{type:"string",defaultValue:"",group:"Appearance"},showAppBoxFieldsPlaceholder:{type:"boolean",defaultValue:true,group:"Appearance"},showCategoryTreeWhenEmpty:{type:"boolean",defaultValue:true,group:"Appearance"},showApplicationLaunchButton:{type:"boolean",defaultValue:false,group:"Appearance"}},events:{visualizationFilterApplied:{allowPreventDefault:true,parameters:{types:{type:"string[]"},searchTerm:{type:"string"},pagination:{type:{skip:"integer",top:"integer"}},filter:{type:"any"},categoryId:{type:"string"}}},contentFinderClosed:{parameters:{}},widgetSelected:{parameters:{widgetId:{type:"string"}}},visualizationsAdded:{parameters:{visualizations:{type:"object[]"}}}}},logComponent:"sap.ushell.components.ContentFinder.Component",init:function(){a.prototype.init.apply(this,arguments);this.setModel(this.getUiModel(),"ui");this.setModel(this.getDataModel());this.setModel(this.getDataModel(),"data");this.setModel(this.getSelectionModel(),"selection");this.initializeUiModel(false);this.initializeDataModel();this.initializeSelectionModel();this._initializeSidebarStatus();const e=this.getComponentData();if(e?.visualizationFilters){this.setVisualizationsFilters(e.visualizationFilters)}this.oRestrictedVisualizationsMap=new Map;this._bLoading=false},createContent:async function(){this._oResourceBundle=await this.getModel("i18n").getResourceBundle();return this.runAsOwner(()=>o.create({viewName:"sap.ushell.components.contentFinder.view.AppSearch",id:"contentFinderView",type:s.XML}))},getResourceBundle:function(){return this._oResourceBundle},setVisualizationsFilters:function(e){const t=this.getUiModel();if(e?.available){t.setProperty("/visualizations/filters/available",e.available)}if(e?.displayed){t.setProperty("/visualizations/filters/displayed",e.displayed)}if(e?.selected){t.setProperty("/visualizations/filters/selected",e.selected)}},getUiModel:function(){if(!this.oUiModel){this.oUiModel=new r}return this.oUiModel},getDataModel:function(){if(!this.oDataModel){this.oDataModel=new n;this.oDataModel.setSizeLimit(Infinity)}return this.oDataModel},getSelectionModel:function(){if(!this.oSelectionModel){this.oSelectionModel=new r;this.oSelectionModel.setSizeLimit(Infinity)}return this.oSelectionModel},_setComponentSettingsProperty:function(e,t){this.setProperty(e,t);this.getModel("ui").setProperty(`/componentSettings/${e}`,t);return this},setEnablePersonalization:function(e){return this._setComponentSettingsProperty("enablePersonalization",!!e)},setNoItemsInCatalogDescription:function(e){return this._setComponentSettingsProperty("noItemsInCatalogDescription",e)},setShowAppBoxFieldsPlaceholder:function(e){return this._setComponentSettingsProperty("showAppBoxFieldsPlaceholder",!!e)},setShowCategoryTreeWhenEmpty:function(e){return this._setComponentSettingsProperty("showCategoryTreeWhenEmpty",!!e)},setShowApplicationLaunchButton:function(e){return this._setComponentSettingsProperty("showApplicationLaunchButton",!!e)},setCategoryTree:function(t){const i=this.getDataModel();if(!Array.isArray(t)){e.error("Category tree data must be an array.");t=[]}i.setProperty("/categoryTree",t)},queryVisualizations:function(e,t,i){const o=this.getUiModel();const s=o.getProperty("/visualizations/filters/selected");const a=o.getProperty("/visualizations/filters/available");const n=a.find(e=>e.key===s);if(!this._bLoading){this._bLoading=true;o.setProperty("/visualizations/loaded",false);this.fireEvent("visualizationFilterApplied",{pagination:{skip:e||0,top:o.getProperty("/visualizations/growingThreshold")},types:n?.types||[],search:t||null,categoryId:i||null})}},getSelectedVisualizationFilter:function(){this.oUiModel=this.getUiModel();const e=this.oUiModel.getProperty("/visualizations/filters/selected");const t=this.oUiModel.getProperty("/visualizations/filters/available");let i={};if(t?.length>0){i=t.find(t=>t.key===e)||t[0]}return i},setVisualizationData:function(e,t=false,o){const s=i.get("visualizations.nodes",e)||[];const a=i.get("visualizations.totalCount",e)||0;const n=this.getDataModel();const r=this.getUiModel();const l=this._prepareVisualizations(s);let d;if(t){d=[]}else{d=n.getProperty("/visualizations/items")}n.setProperty("/visualizations/items",d.concat(l));if(Number(a)>0){n.setProperty("/visualizations/totalCount",a)}r.setProperty("/visualizations/loaded",true);r.setProperty("/customErrorMessage",o);this._bLoading=false},setContextData:function(e){const o=i.get("restrictedVisualizations",e)||[];const s=this.getDataModel();this.oRestrictedVisualizationsMap.clear();o.forEach(e=>{this.oRestrictedVisualizationsMap.set(e,true)});s.setProperty("/visualizations/restrictedItems",t([],o))},addVisualizations:function(e){if(e.length>0){this.fireEvent("visualizationsAdded",{visualizations:e})}},triggerContentFinderClosed:function(){this.fireEvent("contentFinderClosed")},triggerWidgetSelected:function(e){if(e){this.fireEvent("widgetSelected",{widgetId:e})}},resetAppSearch:function(){this.initializeUiModel(true);this.initializeSelectionModel();this.useSelectionModel(false);this.updateSidebarStatus()},useSelectionModel:function(e){let t;if(e){t=this.getSelectionModel()}else{t=this.getDataModel()}this.setModel(t,"data")},initializeUiModel:function(e=false){const t=this.getUiModel();let i;if(e){i={preservedLayoutType:t.getProperty("/preservedLayoutType"),categoryTree:t.getProperty("/categoryTree"),visualizations:{filters:t.getProperty("/visualizations/filters"),listView:t.getProperty("/visualizations/listView")}}}t.setData({layoutType:p.TwoColumnsMidExpanded,preservedLayoutType:p.TwoColumnsMidExpanded,maxColumnsCount:2,componentSettings:{enablePersonalization:this.getEnablePersonalization(),noItemsInCatalogDescription:this.getNoItemsInCatalogDescription(),showAppBoxFieldsPlaceholder:this.getShowAppBoxFieldsPlaceholder(),showCategoryTreeWhenEmpty:this.getShowCategoryTreeWhenEmpty(),showApplicationLaunchButton:this.getShowApplicationLaunchButton()},categoryTree:{hasData:false,itemPressed:false,selectedId:undefined,selectedTitle:undefined,visible:true,largeDataSet:false},visualizations:{appliedSearchTerm:"",filters:{displayed:[],filterIsTitle:true,selected:"tiles",available:[]},growingThreshold:100,listView:false,loaded:false,searchFieldValue:"",searchTerm:"",showSelectedPressed:false}});if(e){t.setData(i,true)}},initializeDataModel:function(){this.getDataModel().setData({categoryTree:[],visualizations:{items:[],totalCount:0,restrictedItems:[]}})},initializeSelectionModel:function(){this.getSelectionModel().setData({visualizations:{items:[],totalCount:0,restrictedItems:[]}})},resetVisualizations:function(){const e=this.getDataModel();e.setProperty("/visualizations/items",[]);e.setProperty("/visualizations/totalCount",0)},_initializeSidebarStatus:function(){const e=this.getDataModel();const t=this.getUiModel();this.oCategoryTreeLengthBinding=e.bindProperty("/categoryTree/length");this.oShowCategoryTreeWhenEmptyBinding=t.bindProperty("/componentSettings/showCategoryTreeWhenEmpty");this.oMaxColumnsCountBinding=t.bindProperty("/maxColumnsCount");this.oVisualizationsFilterSelectedBinding=t.bindProperty("/visualizations/filters/selected");[this.oCategoryTreeLengthBinding,this.oShowCategoryTreeWhenEmptyBinding,this.oMaxColumnsCountBinding,this.oVisualizationsFilterSelectedBinding].forEach(e=>e.attachChange(this.onUpdateSidebarStatus,this));this.updateSidebarStatus()},onUpdateSidebarStatus:function(){this.iUpdateSidebarStatusTimeout=this.iUpdateSidebarStatusTimeout||setTimeout(()=>{this.updateSidebarStatus();this.iUpdateSidebarStatusTimeout=null},0)},updateSidebarStatus:function(e){const t=this.getDataModel();const i=this.getUiModel();const o=i.getProperty("/maxColumnsCount");const s=t.getProperty("/categoryTree")?.length>0;const a=i.getProperty("/componentSettings/showCategoryTreeWhenEmpty");let n;if(e){n=e}else if(a||s){n=i.getProperty("/preservedLayoutType");if(n===p.OneColumn&&o>1){n=p.TwoColumnsMidExpanded}}else{n=p.MidColumnFullScreen}let r=true;if(n===p.TwoColumnsMidExpanded&&o===1||n===p.MidColumnFullScreen){r=false}if(e&&e!==p.OneColumn){i.setProperty("/preservedLayoutType",e)}i.setProperty("/layoutType",n);i.setProperty("/categoryTree/hasData",s);i.setProperty("/categoryTree/visible",r);const l=this._shouldTreeTableBeVisible();i.setProperty("/largeDataSet",l)},_shouldTreeTableBeVisible:function(){const e=this.getDataModel();const t=e.bindTree("/categoryTree");const i=t.getCount();return i>c},_prepareVisualizations:function(o){return t([],o).reduce((t,o)=>{if(!o?.descriptor||!o?.descriptor?.value){e.error("No descriptor available. Cannot load this visualization.",null,this.logComponent);return t}const s=o.descriptor.value["sap.app"];const a=o.descriptor.value["sap.fiori"];let n="";if(a?.registrationIds[0]){n=a.registrationIds[0]}else if(s?.id){n=s.id}let r;if(o.targetAppIntent){const e=l.harmonizeTarget(o.descriptor.value["sap.flp"]?.target);r=d.toHashFromTargetIntent(o.targetAppIntent,e)}t.push({id:o.id,appId:n,icon:i.get("icons.icon",o.descriptor.value["sap.ui"])||"",info:s&&s.info||"",launchUrl:r||"",subtitle:s&&s.subTitle||"",title:s&&s.title||"",type:o.type,dataHelpId:o.id,vizData:o,added:false,systemLabel:o.systemLabel||""});return t},[])}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/contentFinder/controller/AppSearch.controller", ["./ContentFinderDialog.controller","../model/formatter","sap/ushell/Config","sap/base/Log","sap/m/library","sap/ushell/utils/WindowUtils","sap/ui/thirdparty/hasher","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/f/library"],(e,t,i,o,s,n,a,l,r,d)=>{"use strict";const c=d.LayoutType;const u=s.ListType;return e.extend("sap.ushell.components.contentFinder.controller.AppSearch",{formatter:t,onInit:function(){this.oComponent=this.getOwnerComponent();this.oUiModel=this.oComponent.getUiModel();this.oDataModel=this.oComponent.getDataModel();this.oSelectionModel=this.oComponent.getSelectionModel();this.byId("contentFinderAppSearchFlexibleColumnLayout").attachStateChange(this.onFlexibleColumnLayoutStateChange.bind(this));this.getView().setModel(this.oUiModel,"ui");this._initializeVisualizationsFilter()},onFlexibleColumnLayoutStateChange:function(e){this.oUiModel.setProperty("/maxColumnsCount",e.getParameter("maxColumnsCount"))},onSelectVisualizationsFilter:function(){this.oComponent.resetVisualizations();this.oComponent.queryVisualizations(0,this.oUiModel.getProperty("/visualizations/searchTerm"),this.oUiModel.getProperty("/categoryTree/selectedId"))},onSearch:function(e){const t=e.getParameter("query")||"";this.sCurrentSearchTerm=t;this.oComponent.resetVisualizations();this.toggleSelectionView(false);const i=this.oUiModel.getProperty("/categoryTree/selectedId");this.oComponent.queryVisualizations(0,t,i);this.oUiModel.setProperty("/visualizations/searchTerm",t)},_onCatalogSearch:function(e,t){const i=new l("title",r.Contains,e);const o=new l("contentProviderId",r.Contains,e);const s=new l("contentProviderLabel",r.Contains,e);const n=new l({filters:[i,o,s],and:false});t.filter(n)},onCatalogTreeSearch:function(e){const t=e.getParameter("newValue")||"";const i=this.byId("CategoryTreeFragment--CategoryTree").getBinding();this._onCatalogSearch(t,i)},onCatalogTreeTableSearch:function(e){const t=e.getParameter("newValue")||"";const i=this.byId("CategoryTreeTableFragment--CategoryTreeTable").getBinding("rows");this._onCatalogSearch(t,i)},onAppBoxSelected:function(e){if(e.getSource().getMode()===s.ListMode.SingleSelectMaster){const t=e.getParameter("listItem").getBindingContext("data").getObject();this.oComponent.addVisualizations([t])}else{const t=e.getParameter("selected");const i=e.getParameter("listItems").map(e=>{const t=e.getBindingContext("data");const i=t.getPath().split("/");const o=parseInt(i[i.length-1],10);return{...t.getObject(),index:o}});const o=this.oSelectionModel.getProperty("/visualizations/items");let s;if(t){s=[...o,...i]}else{s=o.filter(e=>!i.some(t=>t.id===e.id))}s.sort((e,t)=>e.index<t.index?-1:1);this.oSelectionModel.setProperty("/visualizations/items",s);if(!this.oSelectionModel.getProperty("/visualizations/items/length")){this.toggleSelectionView(false)}}},onUpdateStarted:function(e){if(e.getParameter("reason")==="Growing"){const t=this.oUiModel.getProperty("/visualizations/searchTerm");const i=e.getParameter("actual");const o=this.oUiModel.getProperty("/categoryTree/selectedId");this.oComponent.queryVisualizations(i,t,o)}},onShowSelectedPressed:function(e){const t=e.getParameter("pressed");this.toggleSelectionView(t)},onViewSelectionChange:function(e){const t=e.getSource().getSelectedKey();const i=t==="list";this.oUiModel.setProperty("/visualizations/listView",i);this.toggleSelectionView(this.oUiModel.getProperty("/visualizations/showSelectedPressed"))},toggleSelectionView:function(e){const t=e?"":this.sCurrentSearchTerm;this.oUiModel.setProperty("/visualizations/searchFieldValue",t);this.oUiModel.setProperty("/visualizations/showSelectedPressed",e);this.oComponent.useSelectionModel(e)},resetVisualizationsSearchField:function(){this.oUiModel.setProperty("/visualizations/searchTerm","");this.oUiModel.setProperty("/visualizations/searchFieldValue","");this.sCurrentSearchTerm=""},_onCategoryItemPressed:function(e,t){this.oComponent.updateSidebarStatus(c.TwoColumnsMidExpanded);this.getOwnerComponent().resetVisualizations();this.resetVisualizationsSearchField();this.toggleSelectionView(false);this.oUiModel.setProperty("/categoryTree/selectedId",t.id);this.oUiModel.setProperty("/categoryTree/selectedTitle",t.title);this.getOwnerComponent().queryVisualizations(0,"",t.id);const i=e.getPath();this.oUiModel.setProperty("/categoryTree/itemPressed",i.includes("nodes"));let o=t.allowedFilters;let s=t.filterIsTitle;if(!o&&i.includes("/nodes/")){const t=e.getPath().split("/");t.splice(-2);const i=t.join("/");o=e.getModel().getProperty(`${i}/allowedFilters`);s=e.getModel().getProperty(`${i}/filterIsTitle`)}this.oUiModel.setProperty("/visualizations/filters/displayed",o);this.oUiModel.setProperty("/visualizations/filters/filterIsTitle",!!s)},onCategoryTreeItemPressed:function(e){const t=e.getParameter("listItem").getBindingContext();const i=t.getObject();if(e.getParameter("listItem").getType()===u.Inactive){return}this._onCategoryItemPressed(t,i)},onCategoryTreeTableItemPressed:function(e){const t=e.getParameter("rowContext");if(!t&&e.getParameter("rowIndex")===-1){e.getSource().collapseAll();return}if(!t&&e.getParameter("rowIndex")>-1){const t=e.getParameter("rowIndex");e.getSource().collapse(t);return}const i=t.getObject();if(i.inactive){return}this._onCategoryItemPressed(t,i)},onCategoryTreeUpdateFinished:function(e){const t=e.getSource();if(!t.getSelectedItem()){const e=t.getItems();const i=e[0];if(i){t.setSelectedItem(i);const e=i.getBindingContext().getObject()||{};this.oUiModel.setProperty("/categoryTree/selectedId",e.id);this.oUiModel.setProperty("/categoryTree/selectedTitle",e.title)}}},onCategoryTreeTogglePressed:function(){const e=this.oUiModel.getProperty("/layoutType");const t=this.oUiModel.getProperty("/maxColumnsCount");let i;if(e===c.MidColumnFullScreen){if(t>1){i=c.TwoColumnsMidExpanded}else{i=c.OneColumn}}else if(e===c.TwoColumnsMidExpanded&&t===1){i=c.OneColumn}else if(e===c.TwoColumnsMidExpanded){i=c.MidColumnFullScreen}else{i=c.TwoColumnsMidExpanded}this.oComponent.updateSidebarStatus(i)},onLaunchApplicationPressed:function(e){const t=e.getSource().getBindingContext("data").getObject().launchUrl;if(!t){o.info("AppBox url property is not set.",null,"sap.ushell.components.Catalog.controller");return}if(t.indexOf("#")===0){a.setHash(t)}else{n.openURL(t,"_blank")}},onUpdateVisualizationsFilterData:function(){this.iVisualizationsFilterDataTimeout=this.iVisualizationsFilterDataTimeout||setTimeout(()=>{this._updateVisualizationsFilter();this.iVisualizationsFilterDataTimeout=null},0)},_initializeVisualizationsFilter:function(){this.oVisualizationsFilterInitialBinding=this.oUiModel.bindProperty("/visualizations/filters/displayed");this.oVisualizationsFilterAvailableBinding=this.oUiModel.bindProperty("/visualizations/filters/available");this.oVisualizationsFilterInitialBinding.attachChange(this.onUpdateVisualizationsFilterData,this);this.oVisualizationsFilterAvailableBinding.attachChange(this.onUpdateVisualizationsFilterData,this);this._updateVisualizationsFilter()},_updateVisualizationsFilter:function(){this.byId("selectVisualizationsFilter")?.getBinding("items")?.filter(new l((this.oUiModel.getProperty("/visualizations/filters/displayed")||[]).map(e=>new l("key",r.EQ,e))))}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/contentFinder/controller/ContentFinderDialog.controller", ["sap/ushell/components/contentFinder/model/formatter","sap/ui/core/mvc/Controller"],(o,t)=>{"use strict";return t.extend("sap.ushell.components.contentFinder.controller.ContentFinderDialog",{formatter:o,onInit:function(){this.oComponent=this.getOwnerComponent();this.oUiModel=this.oComponent.getUiModel();this.oDataModel=this.oComponent.getDataModel();this.oSelectionModel=this.oComponent.getSelectionModel();this.oDialog=this.getView().byId("contentFinderDialog");this.oComponent.attachVisualizationsAdded(this.close,this)},onCancelButtonPressed:function(){this.close()},onAddButtonPressed:function(){const o=this.oSelectionModel.getProperty("/visualizations/items");this.oComponent.addVisualizations(o)},onAfterClose:function(){this.oComponent.resetAppSearch();this.oComponent.triggerContentFinderClosed()},close:function(){return this.oComponent.getDialog().then(o=>{o.close()})}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/contentFinder/dialog/Component", ["sap/base/Log","sap/base/util/deepExtend","sap/base/util/ObjectPath","sap/ui/core/mvc/View","sap/ui/core/mvc/ViewType","sap/ui/core/UIComponent","sap/ushell/components/contentFinder/model/GraphQLModel","sap/ui/model/json/JSONModel","sap/ushell/adapters/cdm/v3/utilsCdm","sap/ushell/Config","sap/f/library","sap/ui/core/mvc/XMLView","sap/ushell/components/contentFinder/Component"],(e,t,n,i,s,o,a,l,r,u,c,p,d)=>{"use strict";return d.extend("sap.ushell.components.contentFinder.dialog.Component",{metadata:{manifest:"json",library:"sap.ushell",interfaces:["sap.ui.core.IAsyncContentCreation"]},createContent:async function(){this._oResourceBundle=await this.getModel("i18n").getResourceBundle();return this.runAsOwner(()=>i.create({viewName:"sap.ushell.components.contentFinder.view.ContentFinderDialog",id:"contentFinderDialogView",type:s.XML}))},getResourceBundle:function(){return this._oResourceBundle},getDialog:function(){return this.rootControlLoaded().then(e=>e.byId("contentFinderDialog"))},show:async function(e){const t=e?.visualizationFilters||this.getComponentData()?.visualizationFilters;if(t){this.setVisualizationsFilters(t)}this.resetVisualizations();this.initializeSelectionModel();this._bLoading=false;this.queryVisualizations(0);(await this.getDialog()).open()}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/contentFinder/model/GraphQLListBinding", ["sap/ui/model/json/JSONListBinding"],t=>{"use strict";return t.extend("sap.ushell.components.contentFinder.model.GraphQLListBinding",{constructor:function(e,n,i,s,r,o){t.apply(this,arguments);if(o?.totalCountPropertyPath!==undefined){this.sTotalCountPropertyPath=o.totalCountPropertyPath}},getLength:function(){if(this.aFilters&&this.aFilters.length>0&&this.aFilters[0].getFilters().length>0){return this.iLength}if(this.sTotalCountPropertyPath===undefined){return this.iLength}return this.getModel().getProperty(this.sTotalCountPropertyPath)||0},isLengthFinal:function(){return this.oList.length>=this.getLength()}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/contentFinder/model/GraphQLModel", ["sap/ui/model/json/JSONModel","sap/ushell/components/contentFinder/model/GraphQLListBinding"],(e,n)=>{"use strict";return e.extend("sap.ushell.components.contentFinder.model.GraphQLModel",{bindList:function(e,t,s,i,o){return new n(this,e,t,s,i,o)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/contentFinder/model/formatter", ["sap/base/i18n/Localization","sap/m/library","sap/ui/core/message/MessageType"],(e,t,n)=>{"use strict";const i=t.IllustratedMessageType;const r=t.ListMode;return{formatVisualizationsListMode:function(e,t){if(e){if(t==="tiles"){return r.MultiSelect}return r.SingleSelectMaster}return r.None},formatIsVisualizationAdded:function(e,t){if(Array.isArray(t)){return this.getOwnerComponent().oRestrictedVisualizationsMap.has(e)?n.Information:n.None}return n.None},formatVisualizationSelected:function(e,t){return t.some(t=>t.id===e)},formatAppSearchTitle:function(e,t,n,i,r,s,o,a,u){const l=this.getOwnerComponent().getResourceBundle();const p=!!a.length;const c=t.find(t=>t.key===e);let f;if(s&&o){f=l.getText("ContentFinder.AppSearch.Title.SelectedApp",[o])}else if(p){if(i){f=l.getText("ContentFinder.AppSearch.Title.SearchResult",[i,u])}else if(r||c?.title){const e=n?c?.title||r:r;f=l.getText("ContentFinder.AppSearch.Title.AllFromCategory",[e,u])}else{f=l.getText("ContentFinder.AppSearch.Title.AllApps",[u])}}else if(r||c?.title){if(n&&c?.title){f=l.getText("ContentFinder.AppSearch.Title.NoVisualization",[c?.title])}else{f=l.getText("ContentFinder.AppSearch.Title.AllFromCategory",[r,u])}}else{f=l.getText("ContentFinder.AppSearch.Title.NoApps")}return f},formatCategoryDescription:function(t,n){const i=e.getRTL();if(!n){return t}if(i){return`${n}  ${t}`}return`${t}  ${n}`},isCategoryVisible:function(e,t){return!!(e||t)},formatVisualizationsNoDataIllustratedMessageTitle:function(e,t,n,i){if(typeof i==="string"){return i}if(t){return}if(e&&n){return n}const r=this.getOwnerComponent().getResourceBundle();return r.getText("ContentFinder.AppSearch.IllustratedMessage.Tiles.NoData.Title")},formatVisualizationsNoDataIllustratedMessageDescription:function(e,t,n,i){if(typeof i==="string"){return i}if(t){return}const r=this.getOwnerComponent().getResourceBundle();if(e){if(n){return n}return r.getText("ContentFinder.AppSearch.IllustratedMessage.NoItems.InCatalog.Description")}return r.getText("ContentFinder.AppSearch.IllustratedMessage.Tiles.NoData.Details")},formatVisualizationsNoDataIllustratedMessageType:function(e,t){if(t){return t}if(e){return i.NoSearchResults}return i.NoData},formatAppBoxAccDescription:function(e,t,n,i,r,s,o,a,u,l,p,c,f,g){const h=[];if(e){h.push(e)}if(t){h.push(t)}if(this.getOwnerComponent().oRestrictedVisualizationsMap.has(n)){h.push(f)}if(r){h.push(i);h.push(r)}else if(p){h.push(i);h.push(c)}h.push(s);if(o){h.push(o)}else{h.push(l)}if(u){h.push(a);h.push(u)}else if(p){h.push(a);h.push(c)}if(g){const t=this.getOwnerComponent().getResourceBundle();h.push(t.getText("ContentFinder.AppSearch.Button.Tooltip.LaunchApplication",[e]))}return h?.filter(Boolean).join(" . ")}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/contentFinderStandalone/Component", ["sap/ui/core/mvc/View","sap/ui/core/mvc/ViewType","sap/ui/core/UIComponent"],(e,n,t)=>{"use strict";return t.extend("sap.ushell.components.contentFinderStandalone.Component",{metadata:{manifest:"json",library:"sap.ushell",interfaces:["sap.ui.core.IAsyncContentCreation"]},createContent:async function(){this._oResourceBundle=await this.getModel("i18n").getResourceBundle();return this.runAsOwner(()=>e.create({viewName:"sap.ushell.components.contentFinderStandalone.view.ContentFinderStandalone",id:"contentFinderAppSearchView",type:n.XML}))},getResourceBundle:function(){return this._oResourceBundle}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/contentFinderStandalone/controller/ContentFinderStandalone.controller", ["sap/ui/core/mvc/Controller","sap/ushell/utils/workpage/WorkPageService","sap/ushell/components/contentFinder/CatalogService","sap/ushell/Container","sap/ushell/EventHub","sap/ushell/resources","sap/base/Log","sap/ushell/services/MessageInternal","sap/m/library"],(e,t,n,i,a,o,r,s,l)=>{"use strict";return e.extend("sap.ushell.components.contentFinderStandalone.controller.ContentFinderStandalone",{onInit:function(){this.oWorkPageService=new t;this.oCatalogService=new n;this.pShellUIService=this.getOwnerComponent().getService("ShellUIService");this.oRouter=i.getRendererInternal().getRouter();this.oRouter.getRoute("appfinder").attachMatched(this._handleContentFinderNavigation.bind(this))},getResourceBundle:function(){return this.getOwnerComponent().getResourceBundle()},_handleContentFinderNavigation:async function(){await this._awaitAppLoaded();const e=await this.pShellUIService;e.setTitle(o.i18n.getText("appFinderTitle"))},_awaitAppLoaded:async function(){const e=await i.getServiceAsync("AppLifeCycle");const t=Promise.withResolvers();e.attachAppLoaded(t.resolve);await t.promise;e.detachAppLoaded(t.resolve)},appSearchComponentCreated:async function(e){this.oComponent=e.getParameter("component");a.emit("CenterViewPointContentRendered");this.oComponent.attachVisualizationFilterApplied(null,this._onVisualizationFilterApplied,this);const t=this.oComponent.getSelectedVisualizationFilter();const n=this._transformFilterParams(t);const i=this.oWorkPageService.loadVisualizations(n).then(e=>{this.oComponent.setVisualizationData(e)}).catch(e=>{r.error("ContentFinderStandalone: Visualization data loading failed:",e);this.oComponent.setVisualizationData(undefined,undefined,this._getErrorOnLoadingMessage())});const o=this.setCategoryTree();const s=new URL(location.href);s.searchParams.append("sap-ushell-xx-overwrite-config","/core/workPages/contentFinderStandalone:false");this.oComponent.getUiModel().setProperty("/linkToAppFinder",s.toString());await i;await o},setCategoryTree:async function(){let e;try{e=await this.oCatalogService.getCatalogs()}catch(e){r.error("Catalog fetching failed with:",e);return}let t=[];if(e?.catalogs?.length>0){t=[{id:undefined,title:this.getResourceBundle().getText("ContentFinderStandalone.CategoryTree.Category.AllTiles"),filterIsTitle:true,inactive:false,allowedFilters:["tiles"]},{id:"$$catalogs",title:this.getResourceBundle().getText("ContentFinderStandalone.CategoryTree.Category.Catalogs"),inactive:true,filterIsTitle:false,nodes:e?.catalogs,$count:e?.totalCount,allowedFilters:["tiles"]}]}this.oComponent.setCategoryTree(t)},_onVisualizationFilterApplied:async function(e){const t=this._transformFilterParams(e.getParameters());let n;let i;const a=e.getParameter("categoryId");try{if(a){n=await this.oCatalogService.loadVisualizations(a,t)}else{n=await this.oWorkPageService.loadVisualizations(t)}}catch(e){r.error("ContentFinderStandalone: Visualization data loading failed:",e);const n=Number(t.skip)>0;if(!n){i=this._getErrorOnLoadingMessage()}else{(new s).error(this.getResourceBundle().getText("ContentFinderStandalone.AppSearch.NextPage.Error.Title"))}}this.oComponent.setVisualizationData(n,undefined,i)},_transformFilterParams:function(e){const t=e?.pagination?.top;const n=e?.pagination?.skip;const i=e?.search;const a=e?.types||[];const o=a.length>0?[{in:a}]:[];const r=i?{type:o,descriptor:[{conditions:[{propertyPath:"/sap.app/title",stringFilter:[{containsIgnoreCase:i}]}]},{conditions:[{propertyPath:"/sap.app/subTitle",stringFilter:[{containsIgnoreCase:i}]}]},{conditions:[{propertyPath:"/sap.app/info",stringFilter:[{containsIgnoreCase:i}]}]},{conditions:[{propertyPath:"/sap.fiori/registrationIds",anyFilter:[{conditions:[{stringFilter:[{containsIgnoreCase:i}]}]}]}]}]}:{type:o};return{top:t,skip:n,filter:[r]}},_getErrorOnLoadingMessage:function(){return{type:l.IllustratedMessageType.UnableToLoad,title:this.getResourceBundle().getText("ContentFinderStandalone.AppSearch.Error.LoadingApps.Title"),description:this.getResourceBundle().getText("ContentFinderStandalone.AppSearch.Error.LoadingApps.Details")}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/factsheet/Component", ["sap/ui/thirdparty/jquery","sap/ui/core/UIComponent","sap/ui/core/library"],(jQuery,e,t)=>{"use strict";const s=t.mvc.ViewType;const i=e.extend("sap.ushell.components.factsheet.Component",{oMainView:null,metadata:{version:"1.141.1",library:"sap.ushell",dependencies:{libs:["sap.m","sap.ui.vbm","sap.suite.ui.commons","sap.ui.layout","sap.viz"],components:[]}},createContent:function(){const e=this.getComponentData();const t=e&&e.startupParameters||{};this.oMainView=sap.ui.view({type:s.JS,viewName:"sap.ushell.components.factsheet.views.ThingViewer",viewData:t,height:"100%"}).addStyleClass("ThingViewer");return this.oMainView},exit:function(){window.console.log(`On Exit of factsheet Component.js called : this.getView().getId()${this.getId()}`)},onExit:function(){window.console.log(`On Exit of factsheet Component.js called : this.getView().getId()${this.getId()}`)}});jQuery.sap.setObject("factsheet.Component",i);return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/factsheet/annotation/Mapping", ["sap/ui/thirdparty/jquery","sap/ui/Device"],(jQuery,e)=>{"use strict";const t={};t.initialized=[];t.parse=function(t,n){let l={};const o={};const i={};const s={};const a={};let r="";let d;let f;let p;let c;let u;let h;let g;let N;let m;let x;let y;let A;let T;let b;let P;let $;let S;let v;let O;let R;let V;let D;let E;let C;let w;let U;let I;let L;let X;let _;let z;let F;if(e.browser.internet_explorer){l={setNameSpace:function(e){e.setProperty("SelectionNamespaces",'xmlns:edmx="http://docs.oasis-open.org/odata/ns/edmx" xmlns:d="http://docs.oasis-open.org/odata/ns/edm"');e.setProperty("SelectionLanguage","XPath");return e},selectNodes:function(e,t,n){return n.selectNodes(t)},nextNode:function(e){return e.nextNode()},getNodeText:function(e){return e.text}}}else{l={setNameSpace:function(e){return e},nsResolver:function(e){const t={edmx:"http://docs.oasis-open.org/odata/ns/edmx",d:"http://docs.oasis-open.org/odata/ns/edm"};return t[e]||null},selectNodes:function(e,t,n){const l=e.evaluate(t,n,this.nsResolver,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);l.length=l.snapshotLength;return l},nextNode:function(e,t){return e.snapshotItem(t)},getNodeText:function(e){return e.textContent}}}function j(t){let n;if(e.browser.internet_explorer){n=new ActiveXObject("Microsoft.XMLHTTP");n.open("GET",t,false);n.send(null);return n.responseXML}n=jQuery.sap.sjax({url:t,dataType:"xml"});if(n.success){return n.data}}function k(e){let t={};const n={};const l={};let o=false;let i;let s;let a;let r;let d={};let f;let p={};let c={};let u=false;let h;let g;let N;let m;let x;let y;let A;let T;let b;for(i=e.dataServices.schema.length-1;i>=0;i-=1){t=e.dataServices.schema[i];if(t.entityType){s=t.namespace;a=t.entityType;r=t.complexType;for(f in a){if(a.hasOwnProperty(f)){d=a[f];c={};if(d.hasStream&&d.hasStream==="true"){continue}p={};for(N in d.property){h=d.property[N];if(h.type.substring(0,s.length)===s){for(g in r){if(r[g].name===h.type.substring(s.length+1)){for(N in r[g].property){m=r[g].property[N];p[`${r[g].name}/${m.name}`]=m.type}}}}else{x=h.name;y=h.type;for(T in h.extensions){A=h.extensions[T];if(A.name==="display-format"&&A.value==="Date"){y="Edm.Date"}else{u=true;if(!c[x]){c[x]={}}if(A.namespace&&!c[x][A.namespace]){c[x][A.namespace]={}}c[x][A.namespace][A.name]=A.value}}p[x]=y}}if(!n[`${s}.${d.name}`]){n[`${s}.${d.name}`]={}}n[`${s}.${d.name}`]=p;if(u){if(!l[`${s}.${d.name}`]){o=true}l[`${s}.${d.name}`]={};l[`${s}.${d.name}`]=c}}}}}if(o){b={types:n,extensions:l}}else{b={types:n}}return b}function M(e,t,n,l){let o;if(e.charAt(0)==="@"&&e.indexOf(l.Alias)===1){e=e.slice(l.Alias.length+2)}if(e.indexOf("/")>=0){if(t[e.slice(0,e.indexOf("/"))]){n=e.slice(0,e.indexOf("/"));e=e.slice(e.indexOf("/")+1)}}for(o in t[n]){if(t[n].hasOwnProperty(o)){if(e===o){return t[n][o]}}}}function H(e,t,n,l){let o;let i;let s="";for(o in e){if(e.hasOwnProperty(o)){if(e[o]){i=e[o];if(i.Value&&i.Value.Path){s=M(i.Value.Path,t,n,l);if(s){e[o].EdmType=s}continue}if(i.Path){s=M(i.Path,t,n,l);if(s){e[o].EdmType=s}continue}if(i.Facets){e[o].Facets=H(i.Facets,t,n,l);continue}if(i.Data){e[o].Data=H(i.Data,t,n,l);continue}if(o==="Data"){e.Data=H(i,t,n,l);continue}if(i.Value&&i.Value.Apply){e[o].Value.Apply.Parameters=H(i.Value.Apply.Parameters,t,n,l);continue}if(i.Value&&i.Type&&i.Type==="Path"){s=M(i.Value,t,n,l);if(s){e[o].EdmType=s}}}}}return e}function q(e){for(c in o){if(o.hasOwnProperty(c)){if(e.indexOf(`${c}.`)>=0){e=e.replace(`${c}.`,`${o[c]}.`);return e}}}return e}function G(e){let t="";let n="";let l;const o={};for(l=0;l<e.attributes.length;l+=1){if(e.attributes[l].name!=="Property"&&e.attributes[l].name!=="Term"){t=e.attributes[l].name;n=e.attributes[l].value}}if(t.length>0){o[t]=q(n)}return o}function Q(e,t){const n={};let o=null;const i=[];let s;const a=l.selectNodes(e,"./d:*",t);for(s=0;s<a.length;s+=1){o=l.nextNode(a,s);switch(o.nodeName){case"Apply":i.push({Type:"Apply",Value:Q(e,o)});break;case"LabeledElement":i.push({Name:o.getAttribute("Name"),Value:Y(e,o)});break;default:i.push({Type:o.nodeName,Value:l.getNodeText(o)});break}}n.Name=t.getAttribute("Function");n.Parameters=i;return n}function Y(e,t){const n={};let o;let i;let s;let a;let r;let d;if(t.hasChildNodes()){o=l.selectNodes(e,"./d:String",t);if(o.length>0){i=l.nextNode(o,0);n.String=l.getNodeText(i)}else{s=l.selectNodes(e,"./d:Path",t);if(s.length>0){a=l.nextNode(s,0);n.Path=l.getNodeText(a)}else{r=l.selectNodes(e,"./d:Apply",t);if(r.length>0){d=l.nextNode(r,0);n.Apply=Q(e,d)}}}}return n}function B(e,t,n){let o={};let i;let s;let a;let r;let d;let f;let p;let c;let u={};let h;let g;let N;let m;let x;if(t.hasChildNodes()){i=l.selectNodes(e,"./d:Record | ./d:Collection/d:Record | ./d:Collection/d:If/d:Record",t);if(i.length){s=0;for(a=0;a<i.length;a+=1){r=l.nextNode(i,a);d=J(e,r,n);if(r.getAttribute("Type")){d.RecordType=q(r.getAttribute("Type"))}if(s===0){if(r.nextElementSibling||r.parentNode.nodeName==="Collection"||r.parentNode.nodeName==="If"){o=[];o.push(d)}else{o=d}}else{o.push(d)}s+=1}}else{f=l.selectNodes(e,"./d:UrlRef",t);if(f.length>0){for(a=0;a<f.length;a+=1){p=l.nextNode(f,a);o.UrlRef=Y(e,p)}}else{f=l.selectNodes(e,"./d:Url",t);if(f.length>0){for(a=0;a<f.length;a+=1){p=l.nextNode(f,a);o.Url=Y(e,p)}}else{x=l.selectNodes(e,"./d:Collection/d:AnnotationPath | ./d:Collection/d:PropertyPath",t);if(x.length>0){o=[];for(a=0;a<x.length;a+=1){c=l.nextNode(x,a);u={};u[c.nodeName]=l.getNodeText(c);o.push(u)}}else{o=G(t);h=l.selectNodes(e,"./d:Annotation",t);g={};for(N=0;N<h.length;N+=1){g=l.nextNode(h,N);if(g.hasChildNodes()===false){m=q(g.getAttribute("Term"));o[m]=G(g)}}}}}}}else{o=G(t)}return o}function J(e,t,n){let o={};let i={};let s;let a;let r;let d;let f;let p;let c;let u;const h=l.selectNodes(e,"./d:Annotation",t);for(s=0;s<h.length;s+=1){i=l.nextNode(h,s);if(i.hasChildNodes()===false){a=q(i.getAttribute("Term"));o[a]=G(i)}}const g=l.selectNodes(e,"./d:PropertyValue",t);if(g.length>0){for(r=0;r<g.length;r+=1){d=l.nextNode(g,r);f=d.getAttribute("Property");o[f]=B(e,d,n);p=l.selectNodes(e,"./d:Apply",d);c=null;for(u=0;u<p.length;u+=1){c=l.nextNode(p,u);if(c){o[f]={};o[f].Apply=Q(e,c)}}}}else{o=B(e,t,n)}return o}function K(e,n){let l;let o;let i;let s;let a;let r;for(o=t.dataServices.schema.length-1;o>=0;o-=1){l=t.dataServices.schema[o];if(l.entityType){i=`${l.namespace}.`;s=l.entityType;for(r=s.length-1;r>=0;r-=1){if(i+s[r].name===e&&s[r].navigationProperty){for(a=0;a<s[r].navigationProperty.length;a+=1){if(s[r].navigationProperty[a].name===n){return true}}}}}}return false}if(this.initialized[n]){return this.initialized[n]}p=j(n);p=l.setNameSpace(p);const W=l.selectNodes(p,"//d:Schema",p);for(d=0;d<W.length;d+=1){u=l.nextNode(W,d);i.Alias=u.getAttribute("Alias");i.Namespace=u.getAttribute("Namespace")}const Z=l.selectNodes(p,"//edmx:Reference",p);for(d=0;d<Z.length;d+=1){h=l.nextNode(Z,d);N=l.selectNodes(p,"./edmx:Include",h);if(N&&N.length>0){g=l.nextNode(N,0);if(g.getAttribute("Alias")){o[g.getAttribute("Alias")]=g.getAttribute("Namespace")}else{o[g.getAttribute("Namespace")]=g.getAttribute("Namespace")}}const e=l.selectNodes(p,"./edmx:IncludeAnnotations",h);if(e.length>0){for(f=0;f<e.length;f+=1){m=l.nextNode(e,f);if(m.getAttribute("TargetNamespace")){r=m.getAttribute("TargetNamespace");if(!s[r]){s[r]={}}s[r][m.getAttribute("TermNamespace")]=h.getAttribute("Uri")}else{s[m.getAttribute("TermNamespace")]=h.getAttribute("Uri")}}}}if(s){a.annotationReferences=s}a.aliasDefinitions=o;const ee=l.selectNodes(p,"//d:Term",p);if(ee.length>0){y={};for(A=0;A<ee.length;A+=1){x=l.nextNode(ee,A);T=q(x.getAttribute("Type"));y[`@${i.Alias}.${x.getAttribute("Name")}`]=T}a.termDefinitions=y}const te=k(t);if(te.extensions){a.propertyExtensions=te.extensions}const ne=l.selectNodes(p,"//d:Annotations ",p);for(A=0;A<ne.length;A+=1){b=l.nextNode(ne,A);if(b.hasChildNodes()===false){continue}P=b.getAttribute("Target");$=P.split(".")[0];if($&&o[$]){P=P.replace(new RegExp($,""),o[$])}S=P;v=null;if(P.indexOf("/")>0){S=P.split("/")[0];v=P.replace(`${S}/`,"")}if(!a[S]){a[S]={}}if(v){if(!a.propertyAnnotations){a.propertyAnnotations={}}if(!a.propertyAnnotations[S]){a.propertyAnnotations[S]={}}a.propertyAnnotations[S][v]={};O=l.selectNodes(p,"./d:Annotation",b);for(R=0;R<O.length;R+=1){V=l.nextNode(O,R);if(V.hasChildNodes()===false){D=q(V.getAttribute("Term"));a.propertyAnnotations[S][v][D]=G(V)}}}else{E=S.replace(o[$],$);O=l.selectNodes(p,"./d:Annotation",b);for(C=0;C<O.length;C+=1){V=l.nextNode(O,C);w=V.getAttribute("Qualifier");U=q(V.getAttribute("Term"));if(w){U+=`#${w}`}I=B(p,V,E);I=H(I,te.types,S,i);a[S][U]=I}X=l.selectNodes(p,`//d:Annotations[contains(@Target, '${E}')]//d:PropertyValue[contains(@Path, '/')]//@Path`,p);for(d=0;d<X.length;d+=1){L=l.nextNode(X,d);z=L.value;if(a.propertyAnnotations){if(a.propertyAnnotations[S]){if(a.propertyAnnotations[S][z]){continue}}}_=z.split("/");if(K(S,_[0],t)){if(!a.expand){a.expand={}}if(!a.expand[S]){a.expand[S]={}}a.expand[S][_[0]]=_[0]}}F=l.selectNodes(p,`//d:Annotations[contains(@Target, '${E}')]//d:Path[contains(., '/')]`,p);for(d=0;d<F.length;d+=1){L=l.nextNode(F,d);z=l.getNodeText(L);if(a.propertyAnnotations[S]){if(a.propertyAnnotations[S][z]){continue}}if(!a.expand){a.expand={}}if(!a.expand[S]){a.expand[S]={}}_=z.split("/");if(K(S,_[0],t)){if(!a.expand){a.expand={}}if(!a.expand[S]){a.expand[S]={}}a.expand[S][_[0]]=_[0]}}}this.initialized[n]=a}return a};return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/factsheet/controls/PictureTile", ["sap/ui/thirdparty/jquery","sap/m/CustomTile","sap/m/Button","sap/m/library","sap/ui/Device","sap/ushell/library","./PictureTileRenderer"],(jQuery,e,t,i,s)=>{"use strict";const n=i.ButtonType;const o=e.extend("sap.ushell.components.factsheet.controls.PictureTile",{metadata:{deprecated:true,library:"sap.ushell",properties:{height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"32px"},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"32px"}},associations:{tileContent:{type:"sap.ushell.components.factsheet.controls.PictureViewerItem",multiple:false}},events:{pictureDelete:{}}}});o.prototype.init=function(){this._oDeletePictureButton=new t({icon:"sap-icon://sys-cancel",press:this._deletePictureRequestHandler.bind(this),type:n.Transparent}).addStyleClass("sapCaUiPTDeleteButton");if(!s.system.desktop){this.attachPress(this._tilePressedHandler);this.attachBrowserEvent("swipe",this._tileSwipedHandler.bind(this));this._oDeletePictureButton.addStyleClass("hide")}};o.prototype.setTileContent=function(e){this.setContent(null);if(e){const t=e.getImage();this.setContent(t)}else{this.setContent(null)}this.setAssociation("tileContent",e);return this};o.prototype.setSize=function(e,t){this._width=e;this._height=t;const i=this.$();if(i){i.css({width:`${e}px`,height:`${t}px`});jQuery.sap.byId(`${this.getId()}-wrapper`).addClass("sapCaUiPTWrapper")}};o.prototype._tilePressedHandler=function(){this.switchVisibility()};o.prototype.switchVisibility=function(e){const t=this._oDeletePictureButton.$();if(e===undefined){t.toggleClass("hide")}else{t.toggleClass("hide",!e)}};o.prototype._tileSwipedHandler=function(){const e=this._oDeletePictureButton.$();if(e&&!e.hasClass("hide")){e.addClass("hide")}};o.prototype._deletePictureRequestHandler=function(){this.firePictureDelete()};return o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/factsheet/controls/PictureTileRenderer", ["jquery.sap.global","sap/m/CustomTileRenderer","sap/ui/core/Renderer"],(jQuery,e,r)=>{"use strict";const t=r.extend(e);t.render=function(e,r){jQuery.sap.log.debug("PictureTileRenderer :: begin rendering");e.write("<div ");e.writeControlData(r);e.addClass("sapCaUiPictureTile");e.writeClasses();e.write(">");e.write("<div");e.addClass("sapCaUiPictureTileContent");e.writeClasses();e.write(">");e.write(`<div id='${r.getId()}-wrapper'>`);e.renderControl(r._oDeletePictureButton);this._renderContent(e,r);e.write("</div>");e.write("</div></div>")};t._renderContent=function(e,r){e.renderControl(r.getContent())};return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/factsheet/controls/PictureViewer", ["sap/ui/thirdparty/jquery","sap/m/TileContainer","sap/ui/Device","sap/ushell/components/factsheet/controls/PictureTile","sap/ushell/library","./PictureViewerRenderer"],(jQuery,e,t,i)=>{"use strict";const s=e.extend("sap.ushell.components.factsheet.controls.PictureViewer",{metadata:{deprecated:true,library:"sap.ushell",properties:{tileScaling:{type:"float",group:"Misc",defaultValue:.95},removable:{type:"boolean",group:"Misc",defaultValue:false}},defaultAggregation:"items",aggregations:{items:{type:"sap.ushell.components.factsheet.controls.PictureViewerItem",multiple:true,singularName:"item"}},events:{pictureDeleted:{}}}});s.prototype.init=function(){e.prototype.init.apply(this);this.setEditable(false);if(sap.ui.getCore().isMobile()){jQuery(window).on("tap",this._reset.bind(this));const e=sap.ui.getCore().getStaticAreaRef();this.$blocker=jQuery("<div class='sapCaPVBly sapUiBLy'></div>").css("visibility","hidden");jQuery(e).append(this.$blocker)}if(!sap.ui.getCore().isMobile()){jQuery(window).on("resize",this._resize.bind(this))}this.addStyleClass("sapCaPW");this.addStyleClass("sapCaPWRendering")};s.prototype._resize=function(){if(this._oDragSession){return}setTimeout(()=>{this._applyDimension();this._update(false);delete this._iInitialResizeTimeout},this._iInitialResizeTimeout);this._iInitialResizeTimeout=0};s.prototype.exit=function(){this.$blocker.remove();if(!sap.ui.getCore().isMobile()){jQuery(window).off("resize",this._resize.bind(this))}e.prototype.exit.apply(this);if(!t.system.desktop){jQuery(window).off("tap",this._reset.bind(this))}};s.prototype.setTileScaling=function(e){if(e<0||e>1){e=.75;jQuery.sap.log.error(`Tile Scaling should be a float value between 0 and 1 and not ${e}. Setting it to 0.75 by default.`)}this.setProperty("tileScaling",e)};s.prototype.addItem=function(e){this.insertItem(e,this.getItems().length);return this};s.prototype.insertItem=function(e,t){const s=new i({tileContent:e});s.attachPictureDelete(this._deletePictureRequestHandler.bind(this));this.insertTile(s,t);this.insertAggregation("items",e,t);return this};s.prototype.insertTile=function(t){t.attachPictureDelete(this._deletePictureRequestHandler.bind(this));e.prototype.insertTile.apply(this,arguments)};s.prototype.deleteTile=function(t){e.prototype.deleteTile.apply(this,arguments);t.destroy()};s.prototype.deletePicture=function(e){let t;let i;const s=this.getTiles().length;if(typeof e!=="number"||e<0||e>=s){t=this.getPageFirstTileIndex()}else{t=e}if(t>-1){i=this.getTiles()[t];i.detachPictureDelete(this._deletePictureRequestHandler.bind(this));this.deleteTile(i);this.removeAggregation("items",t,true)}else{jQuery.sap.log.warning(`Cannot find and delete a picture at index : ${e}`)}return this};s.prototype.selectPicture=function(e){const t=this.getTiles().length;if(typeof e!=="number"){e=0}else if(e<0){e=0}else if(e>=t){e=t-1}if(this._bRendered){this.addStyleClass("sapCaPWRendering")}this._selectedIndex=e;return this};s.prototype.setSelectedIndex=function(e){this.selectPicture(e)};s.prototype.getCurrentPictureIndex=function(){return this.getPageFirstTileIndex()};s.prototype._deletePictureRequestHandler=function(e){const t=this.indexOfTile(e.getSource());this.deleteTile(e.getSource());this.firePictureDeleted({index:t})};s.prototype._reset=function(e){const t=this.getCurrentPictureIndex();const i=this.getTiles();if(t>-1&&i&&i.length>t){const s=i[t];if(s){const t=jQuery(e.target);const i=this.$();if(i.length>0&&t.length>0){const e=t.closest(this.$());if(e.length===0){s.switchVisibility(false)}}}}};s.prototype.setRemovable=function(e){this.setProperty("removable",e,true);this.toggleStyleClass("sapCaPWEditable",e)};s.prototype.setEditable=function(){e.prototype.setEditable.call(this,false)};s.prototype._getTileDimension=function(){if(!this._bRendered){return}const e=jQuery.sap.byId(`${this.getId()}-scrl`);const t={width:e.width(),height:e.height()};return t};s.prototype.onBeforeRendering=function(){this.addStyleClass("sapCaPWRendering")};s.prototype.onAfterRendering=function(){const e=this;this._bRendered=true;this._applyDimension();this.$().toggleClass("sapCaPWEditable",this.getRemovable()===true);this._sInitialResizeTimeoutId=setTimeout(()=>{e.addStyleClass("sapCaPWRendering");e._applyPageStartIndex(e._selectedIndex);e._update(false)},this._iInitialResizeTimeout);if(t.system.desktop){const e=this.getTiles()[0];const t=this._iInitialResizeTimeout;if(e){setTimeout(()=>{this._findTile(e.$()).focus()},t)}}};s.prototype._update=function(){e.prototype._update.apply(this,arguments);this.removeStyleClass("sapCaPWRendering");if(sap.ui.getCore().isMobile()){const e=this;const t=this.$blocker;setTimeout(()=>{t.fadeOut(200,()=>{e.css("visibility","hidden").css("z-index",0)})},250)}};s.prototype._applyDimension=function(){const e=this._getContainerDimension();const i=this.getId();const s=this.$();let o=10;const n=60;const l=jQuery.sap.byId(`${i}-cnt`);const r=jQuery.sap.byId(`${i}-pager`).outerHeight();jQuery.sap.byId(`${i}-scrl`).css({width:`${e.outerwidth}px`,height:`${e.outerheight-r}px`});l.css({height:`${e.outerheight-r}px`,visibility:"visible"});s.css("visibility","visible");const a=s.position();const p=l.position();const h=l.outerHeight();if(jQuery.device.is.phone){o=2}else if(t.system.desktop){o=0}jQuery.sap.byId(`${i}-blind`).css({top:`${p.top+o}px`,left:`${p.left+o}px`,width:`${l.outerWidth()-o}px`,height:`${h-o}px`});jQuery.sap.byId(`${i}-rightedge`).css({top:`${a.top+o+n}px`,right:`${o}px`,height:`${h-o-n}px`});jQuery.sap.byId(`${i}-leftedge`).css({top:`${a.top+o+n}px`,left:`${a.left+o}px`,height:`${h-o-n}px`})};s.prototype.showBlockerLayer=function(e){if(sap.ui.getCore().isMobile()){let t=20;jQuery(sap.ui.getCore().getStaticAreaRef()).children().each((e,i)=>{const s=parseInt(jQuery(i).css("z-index"),10);if(!isNaN(s)){t=Math.max(t,s)}});jQuery.sap.log.debug(`blocker layer z-index calculated : ${t}${1}`);this.$blocker.css("z-index",t+1).css("visibility","visible").fadeIn(200,()=>{if(e){e.call()}})}else if(e){e.call()}};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/factsheet/controls/PictureViewerItem", ["sap/ui/core/Control","sap/m/Image"],(e,t)=>{"use strict";const s=e.extend("sap.ushell.components.factsheet.controls.PictureViewerItem",{metadata:{deprecated:true,library:"sap.ushell",properties:{src:{type:"string",group:"Misc",defaultValue:null}},aggregations:{image:{type:"sap.m.Image",multiple:false}}}});s.prototype.setSrc=function(e){this.setProperty("src",e);let s=this.getImage();if(s==null){s=new t}s.setSrc(e);this.setImage(s);return this};s.prototype.exit=function(){const e=this.getImage();if(e){e.destroy()}};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/factsheet/controls/PictureViewerRenderer", ["jquery.sap.global","sap/m/TileContainerRenderer"],(jQuery,e)=>{"use strict";const r={};r.render=function(r,n){jQuery.sap.log.debug("PictureViewerRenderer :: begin rendering");e.render(r,n);jQuery.sap.log.debug("PictureViewerRenderer :: end rendering")};return r},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/factsheet/factory/ThingInspector", ["sap/ui/thirdparty/jquery","sap/suite/ui/commons/UnifiedThingInspector","sap/ui/core/format/NumberFormat","sap/ui/core/Configuration","sap/ui/core/Core","sap/viz/ui5/data/FlattenedDataset","sap/ui/core/Locale","sap/ui/model/type/DateTime","sap/ui/model/type/Time","sap/ui/model/type/Date","sap/ui/model/type/Float","sap/ui/model/type/Integer","sap/ui/model/json/JSONModel","sap/ui/core/Control","sap/m/Image","sap/m/Link","sap/m/Text","sap/ui/core/library","sap/ui/layout/VerticalLayout","sap/m/Label","sap/ui/layout/form/SimpleForm","sap/suite/ui/commons/UnifiedThingGroup","sap/ui/ux3/ThingGroup","sap/ui/core/HTML","sap/m/Column","sap/m/ColumnListItem","sap/m/library","sap/m/Table","sap/m/Page","sap/m/VBox","sap/m/Input","sap/m/List","sap/m/StandardListItem","sap/ui/model/FilterOperator","sap/m/DateTimeInput","sap/ui/model/Filter","sap/m/ViewSettingsItem","sap/m/ViewSettingsCustomItem","sap/ui/core/CustomData","sap/m/ViewSettingsDialog","sap/ui/model/Sorter","sap/m/Toolbar","sap/m/ToolbarSpacer","sap/m/Button","sap/viz/ui5/Area","sap/viz/ui5/Bar","sap/viz/ui5/Bubble","sap/viz/ui5/Column","sap/viz/ui5/StackedColumn","sap/viz/ui5/StackedColumn100","sap/viz/ui5/Donut","sap/viz/ui5/Heatmap","sap/viz/ui5/HorizontalArea","sap/viz/ui5/Line","sap/viz/ui5/Pie","sap/viz/ui5/Scatter","sap/viz/ui5/Treemap","sap/viz/ui5/types/Title","sap/suite/ui/commons/KpiTile","sap/ui/model/odata/ODataModel","sap/suite/ui/commons/FacetOverview","sap/suite/ui/commons/library","sap/ui/layout/Grid","sap/ui/vbm/VBI","sap/ui/layout/HorizontalLayout","sap/ui/core/Icon","sap/m/Carousel","sap/ui/core/IconPool","sap/ushell/resources","sap/ushell/ui/footerbar/AddBookmarkButton","sap/suite/ui/commons/LinkActionSheet","sap/ushell/services/AppConfiguration","sap/m/ActionSheet","sap/ushell/ui/footerbar/JamDiscussButton","sap/ushell/ui/footerbar/JamShareButton"],(jQuery,e,t,a,n,i,s,l,o,r,c,f,p,d,u,g,m,h,y,T,b,S,P,I,C,v,w,x,E,U,A,O,F,V,L,D,N,k,B,M,_,H,R,$,G,z,W,j,Q,K,J,X,q,Y,Z,ee,te,ae,ne,ie,se,le,oe,re,ce,fe,pe,de,ue,ge,me,he,ye,Te,be)=>{"use strict";const Se=w.URLHelper;const Pe=w.PlacementType;const Ie=le.FacetOverviewHeight;const Ce=w.DateTimeInputType;const ve=w.ListMode;const we=w.ListSeparators;const xe=w.BackgroundDesign;const Ee=w.ListType;const Ue=h.TextAlign;let Ae={};let Oe=[];const Fe={};const Ve={};const Le="displayFactSheet";let De;let Ne;De=a.getFormatSettings().getFormatLocale();if(a.getLanguage()==="ZH"){De=new s("zh_CN")}function ke(e){return e<0}function Be(e){let t=Number(e).toFixed(0);if(ke(e)){t=Number(t)*-1}return t}function Me(e,a){let n;if(!e){return""}const i=new RegExp(t.oDefaultFloatFormat.groupingSeparator,"g");if(a>=0){a=parseInt(a,10);n=t.getFloatInstance({minFractionDigits:a,maxFractionDigits:a},De)}else{n=t.getFloatInstance({minFractionDigits:0,maxFractionDigits:99},De)}const s=n.format(e);const l=s.replace(/[\D]/g,"");if(l&&l.length>6){e=e.replace(i,"");if(Be(e)<1e3){return t.getIntegerInstance().format(e)}n=t.getFloatInstance({minFractionDigits:1,maxFractionDigits:1,style:"short"},De);return n.format(e)}return s}function _e(e,t){let a;for(a in e){if(e.hasOwnProperty(a)){if(a==="__metadata"){continue}else if(a===t){return e[a]}else if(typeof e[a]==="object"){return _e(e[a],t)}}}}function He(e){let t={};let a;const n=e.lastIndexOf("/");const i=e.slice(0,n);const s=e.slice(n+1);if(!Ve[e]){t=new p;t.loadData(i,null,false);Ve[e]=t.getData()}else{t=Ve[e]}if(Ve[e]&&Ve[e].d){if(!Ve[e].d[s]){a=_e(Ve[e].d,s)}else{a=Ve[e].d[s]}}return a}function Re(){let e="";let t;let a;let n;let i;let s;const l=this.getElementBinding().sPath.split("/")[1];const o=this.getModel();const r=this.mBindingInfos.value.parameters;const c=this.mBindingInfos.value.parts;for(let t=0;t<r.length;++t){e=e+r[t].string}for(let n=0;n<c.length;++n){t=c[n].path;i=`{${t}}`;a=o.oData[l][t];e=e.replace(i,a)}n=He(e);if(typeof n==="number"&&!isNaN(n)){s=this.mBindingInfos.value.parts.filter(e=>e.path===t);n=Me(n,s[0].type.oFormatOptions.maxFractionDigits);this.setDoubleFontSize(true)}this.setValue(n);this.getElementBinding().detachChange(Re)}function $e(){let e="";if(Ne.getName()&&Ne.getDescription()){e=`${Ne.getName()}, ${Ne.getDescription()}`}else if(Ne.getName()&&!Ne.getDescription()){e=Ne.getName()}else if(!Ne.getName()&&Ne.getDescription()){e=Ne.getDescription()}return e}function Ge(e){const t=e.slice(1).split("/");let a="/";for(let e=0;e<t.length;++e){if(t[e].indexOf("(")>0&&t[e].indexOf("sid(")<0){break}else{a+=`${t[e]}/`}}return a}function ze(e,t){let a;const n=e.slice(t.sServiceUrl.length+1);if(n.indexOf("/")>=0){const e=n.split("/");const i=e[e.length];a=e[e.length-1];if(a.indexOf("(")>=0){a=a.slice(a.indexOf("("))}a=this.getNavEntitySet(a,i,t.getMetadata())}else if(n.indexOf("(")>=0){a=n.slice(0,n.indexOf("("))}else if(n.indexOf("?")>=0){a=n.slice(0,n.indexOf("?"))}else{a=n}return a}function We(e,t){let a;for(let n=t.dataServices.schema.length-1;n>=0;--n){a=t.dataServices.schema[n];if(a.namespace===e.slice(0,e.lastIndexOf("."))){for(let t=0;t<a.entityType.length;++t){if(a.entityType[t].name===e.slice(e.lastIndexOf(".")+1)){return a.entityType[t].key.propertyRef[0].name}}}}}function je(e,t,a){let n;let i;let s;for(let l=t.dataServices.schema.length-1;l>=0;--l){n=t.dataServices.schema[l];if(n.entityContainer){i=n.entityContainer[0].entitySet;for(let t=i.length-1;t>=0;--t){if(i[t].name===e){if(a){s=i[t].entityType.slice(n.namespace.length+1)}else{s=i[t].entityType}return s}}}}}function Qe(e,t){let a="";const n=e.slice(t.sServiceUrl.length+1);if(n.indexOf("(")>=0){a=n.slice(n.indexOf("(")+1,n.indexOf(")"));if(a.indexOf("=")<=0){const n=t.getServiceMetadata();const i=je(ze(e,t),n);a=`${We(i,n)}=${a}`}}return a}function Ke(e,t){let a;let n;for(let i=t.dataServices.schema.length-1;i>=0;--i){a=t.dataServices.schema[i];if(a.entityContainer){n=a.entityContainer[0].entitySet;for(let t=n.length-1;t>=0;--t){if(n[t].entityType===e){return n[t].name}}}}}function Je(e,t,a){let n;let i;let s;const l=e.split(".");for(let e=a.dataServices.schema.length-1;e>=0;--e){n=a.dataServices.schema[e];i=l[0];if(l.length>2){for(let e=1;e<l.length-1;++e){i+=`.${l[e]}`}}if(n.namespace===i){for(let e=0;e<n.entityType.length;++e){if(n.entityType[e].name===l[l.length-1]){if(n.entityType[e].navigationProperty){for(let a=0;a<n.entityType[e].navigationProperty.length;++a){if(n.entityType[e].navigationProperty[a].name===t){s=n.entityType[e].navigationProperty[a];return{name:s.relationship,toRole:s.toRole}}}}}}}}}function Xe(e,t,a){let n;let i;const s=je(e,a);if(t.charAt(0)==="@"){if(Ae.termDefinitions&&Ae.termDefinitions[t]){let e=Ae.termDefinitions[t];if(e.indexOf("Collection")>=0){e=e.slice(e.indexOf("(")+1,e.indexOf(")"))}return Ke(e,a)}}else{const e=Je(s,t,a);if(e){for(let t=a.dataServices.schema.length-1;t>=0;--t){n=a.dataServices.schema[t];if(n.entityContainer&&n.entityContainer[0].associationSet){for(let t=n.entityContainer[0].associationSet.length-1;t>=0;--t){i=n.entityContainer[0].associationSet[t];if(i.association===e.name){for(let t=0;t<i.end.length;++t){if(i.end[t].role===e.toRole){return i.end[t].entitySet}}}}}}}}}function qe(e,t,a){let n;let i;let s;const l=je(e,a);const o=l.split(".")[l.split(".").length-1];const r=Je(l,t,a);if(r){for(let e=a.dataServices.schema.length-1;e>=0;--e){n=a.dataServices.schema[e];for(let e=0;e<n.entityType.length&&!s;++e){if(n.entityType[e].name===o){for(let a=0;a<n.entityType[e].navigationProperty.length;++a){if(n.entityType[e].navigationProperty[a].name===t){s=n.entityType[e].navigationProperty[a].toRole;break}}}}for(let e=n.association.length-1;e>=0;--e){i=n.association[e];if(`${n.namespace}.${i.name}`===r.name){for(let e=0;e<i.end.length;++e){if(i.end[e].role===s){return i.end[e].multiplicity}}}}}}else{jQuery.sap.log.error(`"${t}" wasn't found in the metadata document. Check whether the corresponding search connector is active.`);return 0}}function Ye(e,t){let a;const n={};if(Ae.expand){if(Ae.expand[je(e,t)]){const i=Ae.expand[je(e,t)];const s=[];for(a in i){if(i.hasOwnProperty(a)){s.push(i[a])}}n.expand=s.join(", ")}}return n}function Ze(e,t,a){let n;for(let i=a.dataServices.schema.length-1;i>=0;--i){n=a.dataServices.schema[i];for(let a=0;a<n.entityType.length;++a){if(n.entityType[a].name===t.split(".")[t.split(".").length-1]){for(let t=0;t<n.entityType[a].navigationProperty.length;++t){if(n.entityType[a].navigationProperty[t].name===e){for(let e=0;e<n.association.length;++e){for(let i=n.association[e].end.length-1;i>=0;--i){if(n.association[e].end[i].role===n.entityType[a].navigationProperty[t].toRole){return n.association[e].end[i].type}}}}}}}}}function et(e,t){const a={};a.parts=[];a.parameters=[];for(let t=e.length-1;t>=0;--t){if(e[t].Type==="Path"){if(e[t].EdmType){switch(e[t].EdmType){case"Edm.DateTimeOffset":case"Edm.DateTime":a.parts.push({path:e[t].Value,type:new l({UTC:true})});break;case"Edm.Time":a.parts.push({path:`${e[t].Value}/ms`,type:new o({source:{pattern:"timestamp"},UTC:true})});break;case"Edm.Date":a.parts.push({path:e[t].Value,type:new r({UTC:true})});break;case"Edm.Decimal":case"Edm.Double":case"Edm.Single":a.parts.push({path:e[t].Value,type:new c});break;case"Edm.Int16":case"Edm.Int32":case"Edm.Int64":a.parts.push({path:e[t].Value,type:new f});break;default:a.parts.push({path:e[t].Value});break}}else{a.parts.push({path:e[t].Value})}}else if(e[t].Type==="String"){a.parameters.unshift({string:e[t].Value})}}a.formatter=function(){let a="";let n="";let i=false;let s=0;let l=0;if(arguments&&arguments.length>=1){let o=arguments.length-1;let r="";let c=0;if(e&&e[0]&&e[0].Type==="String"&&e[0].Value.substr(0,1)==="#"){i=true}for(let t=0;t<e.length;++t){if(e[t].Type==="Path"){r=arguments[o];if(!r||r.length===0){if(a.length>c){if(a.indexOf("(")>c){a=a.substr(0,c)}else{a=a.substr(0,c);r=a}}}else{if(i){r=encodeURIComponent(r)}a+=r;s+=1}o-=1;c=a.length}else{c=a.length;n=e[t].Value;if(n.indexOf("(")!==-1){l+=1}if(r&&r.length>0||n.indexOf("(")!==-1||n&&n.substr(0,1)==="#"){a+=e[t].Value}else{n=""}}}if(t){a=t(a)}a=a.trim();if(s===1&&l>0&&a.substr(0,1)==="("&&a.substr(-1)===")"){a=a.substr(1,a.length-2)}return a.trim()}};return a}function tt(e){const t=[];let a;let n;let i;let s={};let l;let o;let r;if(e&&e.Apply){a=e.Apply.Parameters;switch(e.Apply.Name){case"odata.fillUriTemplate":a[0].Value=a[0].Value.trim();n=a[0].Value.split("{");for(let e=0;e<n.length;++e){if(n[e].indexOf("}")<0){t.push({Value:n[e],Type:"String"})}else{i=n[e].split("}");s={};s.Value=i[0];s.Type="Path";for(e=1;e<a.length;++e){if(a[e].Name===s.Value){l=a[e].Value;if(l.Path){s.Value=l.Path}else if(l.Apply&&l.Apply.Name&&l.Apply.Name.toLowerCase()==="odata.uriencode"){s.Value=l.Apply.Parameters[0].Value}break}}t.push(s);t.push({Value:i[1],Type:"String"})}}o=sap.ushell.Container.getService("NavTargetResolutionInternal").getCurrentResolution();if(o&&o.url){r=jQuery.sap.getUriParameters(o.url).get("sap-system");if(r){t.push({Type:"String",Value:`&sap-system=${r}`})}}break;default:break}}return et(t)}function at(e,t,a){const n={};const i=[];let s=[];const p=[];let d;let u;let g;let m;let h;let y;let T;let b;let S;let P;function I(e,t,a){const n={};const i=Ae.propertyAnnotations[e];if(i&&i[t]&&i[t][a]){if(i[t][a].Path){n.Type="Path";n.Value=i[t][a].Path}else{n.Type="String";n.Value=i[t][a].String}}return n}if(!e){return false}if(e.Apply){if(e.Apply.Name==="odata.concat"){if(a&&Ae.propertyAnnotations&&Ae.propertyAnnotations[a]){u=e.Apply.Parameters;for(let e=0;e<u.length;++e){i.push(u[e]);if(u[e].Type==="Path"){d=I(a,u[e].Value,"Org.OData.Measures.V1.ISOCurrency");if(!jQuery.isEmptyObject(d)){i.push({Type:"String",Value:" "});i.push({Type:d.Type,Value:d.Value})}d=I(a,u[e].Value,"Org.OData.Measures.V1.Unit");if(!jQuery.isEmptyObject(d)){i.push({Type:"String",Value:" "});i.push({Type:d.Type,Value:d.Value})}}}n.BindingInfo=et(i)}else{n.BindingInfo=et(e.Apply.Parameters)}}}else if(e.Path){if(e.Path.charAt(0)==="@"){g=Ae[a][e.Path.slice(1,e.Path.indexOf("/"))].UrlRef;m=e.Path.slice(e.Path.indexOf("/")+1);if(g&&g.Apply){h=g.Apply.Parameters;switch(g.Apply.Name){case"odata.concat":s=h;s.push({Type:"String",Value:`/${m}`});break;case"odata.fillUriTemplate":y=h[0].Value.split("{");for(const e in y){if(y.hasOwnProperty(e)){if(y[e].indexOf("}")<0){s.push({Type:"String",Value:y[e]})}else{T=y[e].split("}");for(let e=1;e<h.length;++e){if(h[e].Name===T[0]){b=h[e].Value;if(b.Path){s.push({Type:"Path",Value:b.Path})}else if(b.Apply&&b.Apply.Name&&b.Apply.Name.toLowerCase()==="odata.uriencode"){S=b.Apply.Parameters[0];s.push({Type:S.Type,Value:encodeURIComponent(S.Value)});s.push({Type:"String",Value:`{${encodeURIComponent(S.Value)}}`})}}}s.push({Type:"String",Value:T[1]})}}}s.push({Type:"String",Value:`/${m}`});n.fnChange=Re;break;default:break}n.BindingInfo=et(s,He)}else if(g&&g.Path){s.push({Type:"Path",Value:g.Path},{Type:"String",Value:`/${m}`});n.BindingInfo=et(s,He)}else if(g&&g.String){n.String=He(`${g.String}/${m}`)}}else{n.BindingInfo={};switch(t){case"Edm.DateTimeOffset":case"Edm.DateTime":n.BindingInfo={path:e.Path,type:new l({UTC:true})};break;case"Edm.Time":n.BindingInfo={path:`${e.Path}/ms`,type:new o({source:{pattern:"timestamp"},UTC:true})};break;case"Edm.Date":n.BindingInfo={path:e.Path,type:new r({UTC:true})};break;case"Edm.Decimal":case"Edm.Double":case"Edm.Single":case"Edm.Int16":case"Edm.Int32":case"Edm.Int64":if(t==="Edm.Decimal"||t==="Edm.Double"||t==="Edm.Single"){P=new c}else if(t==="Edm.Int16"||t==="Edm.Int32"||t==="Edm.Int64"){P=new f}if(Ae.propertyAnnotations){p.push({Type:"Path",Value:e.Path,EdmType:t},{Type:"String",Value:" "});d=I(a,e.Path,"Org.OData.Measures.V1.ISOCurrency");if(!jQuery.isEmptyObject(d)){p.push({Type:d.Type,Value:d.Value})}d=I(a,e.Path,"Org.OData.Measures.V1.Unit");if(!jQuery.isEmptyObject(d)){p.push({Type:d.Type,Value:d.Value})}n.BindingInfo=et(p)}else{n.BindingInfo={path:e.Path,type:P}}break;default:n.BindingInfo={path:e.Path};break}}}else if(e.String){n.String=e.String}return n}function nt(e,t,a,n){let i;let s;let l;let o;let r;let c;let f;i=new d;const p=at(e.Value,e.EdmType,t);if(e.Value&&e.Value["com.sap.vocabularies.UI.v1.IsImageURL"]){i=new u({height:"50px"});if(p.BindingInfo){i.bindProperty("src",p.BindingInfo)}else{i.setProperty("src",p.String)}}else{if(e.UrlRef||e.Url||e.Target&&e.Target.Path){i=new g({wrapping:true})}else{i=new m;if(e.EdmType==="Edm.Decimal"||e.EdmType==="Edm.Double"||e.EdmType==="Edm.Single"||e.EdmType==="Edm.Int16"||e.EdmType==="Edm.Int32"||e.EdmType==="Edm.Int64"){i.setTextAlign(Ue.End)}}i.addStyleClass("sapFactsheetUtiDataField");if(p.BindingInfo){i.bindProperty("text",p.BindingInfo)}else{i.setProperty("text",p.String)}}if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithNavigation"&&a){s=e.Target.Path;if(Ae[t][s.slice(1)]){if(s.charAt(0)==="@"){if(s.indexOf("/")<0){l=Ae[t][s.slice(1)].UrlRef}else{l=Ae[t][s.slice(1,s.indexOf("/"))].UrlRef}i.bindProperty("href",tt(l))}}i.attachPress(e=>false)}if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"){if(e.Url.String){i.setHref(e.Url.String)}else{i.bindProperty("href",tt(e.Url));o=new m({wrapping:true});if(p.BindingInfo){o.bindProperty("text",jQuery.extend({},p.BindingInfo))}else{o.setProperty("text",p.String)}i.setVisible(false);r=new y;r.addContent(i);r.addContent(o);if(!Oe[Oe.indexOf(n)].Links){Oe[Oe.indexOf(n)].Links=[]}if(e.Url.Apply){c=e.Url.Apply.Parameters[0].Value.slice(e.Url.Apply.Parameters[0].Value.indexOf("#")+1,e.Url.Apply.Parameters[0].Value.indexOf("-"));f=e.Url.Apply.Parameters[0].Value.slice(e.Url.Apply.Parameters[0].Value.indexOf("#")+1,e.Url.Apply.Parameters[0].Value.indexOf("?"))}Oe[Oe.indexOf(n)].Links.push({sSemanticObject:c,sIntend:f,oVL:r})}}if(r){return r}return i}function it(e,t,a,n){let i="";let s="";let l;let o;const r=new T(t);r.addStyleClass("sapFactsheetUtiLabel");if(n){i=":"}if(e.Label){if(e.Label.String){r.setText(e.Label.String.trim()+i);r.setTooltip(e.Label.String.trim())}else if(e.Label.Path){r.bindProperty("text",e.Label.Path);r.bindProperty("tooltip",e.Label.Path)}}else if(e.Value){if(e.Value.Path&&a){l=a[e.Value.Path];for(const e in l){if(l.hasOwnProperty(e)){if(e==="http://www.sap.com/Protocols/SAPData"){if(l[e].label){s=l[e].label;break}}}}}else if(e.Value.Apply&&e.Value.Apply.Name==="odata.concat"){for(const t in e.Value.Apply.Parameters){if(e.Value.Apply.Parameters.hasOwnProperty(t)){o=e.Value.Apply.Parameters[t];if(o.Type==="Path"){l=a[o.Value];for(const e in l){if(l.hasOwnProperty(e)){if(e==="http://www.sap.com/Protocols/SAPData"){if(l[e].label){s=l[e].label;break}}}}break}}}}r.setText(s+i);r.setTooltip(s)}return r}function st(e){let t=Ue.Begin;if(e.EdmType==="Edm.Decimal"||e.EdmType==="Edm.Double"||e.EdmType==="Edm.Single"||e.EdmType==="Edm.Int16"||e.EdmType==="Edm.Int32"||e.EdmType==="Edm.Int64"){t=Ue.End}return t}function lt(e){let t="";if(e.Importance){t=e.Importance.EnumMember}else if(e["com.sap.vocabularies.UI.v1.Importance"]){t=e["com.sap.vocabularies.UI.v1.Importance"].EnumMember}return t.substr(t.indexOf("/")+1)}function ot(e,t,a,n,i,s){let l=0;let o=0;let r=0;let c=0;let f;let p;let u;if(!i){i=e.getServiceMetadata()}if(!a){a=[]}const g=je(t,i);const m=new b({labelMinWidth:150,maxContainerCols:2});const h=Ae.propertyExtensions?Ae.propertyExtensions[g]:[];if(n&&n.High){o=n.High}if(n&&n.Medium){r=n.Medium}if(n&&n.Low){c=n.Low}for(let t=0;t<a.length;++t){f=lt(a[t]);if(n&&f==="High"){if(o){o-=1}else{continue}}else if(n&&f==="Medium"){if(r){--r}else{continue}}else if(n&&f==="Low"){if(c){c-=1}else{continue}}if(n&&n.Total&&l>=n.Total){break}++l;p=(new d).setModel(e);u=it(a[t],{textAlign:Ue.End},h,false);u.addStyleClass("sapFactsheetUtiFormPadding");p=nt(a[t],g,i,s);p.addStyleClass("sapFactsheetUtiFormPadding");if(p.setTextAlign){p.setTextAlign(Ue.Begin)}m.addContent(u);m.addContent(p)}m.addStyleClass("sapFactsheetUtiFormLayout");return m}function rt(e){let t;let a;let n;if(Fe.InteropCompleted===true){for(let e=0;e<Oe.length;++e){if(Oe[e].bLoaded&&!Oe[e].bProcessed&&Oe[e].Links){n=Oe[e].Links;for(let i=0;i<n.length;++i){if(Fe.hasOwnProperty(n[i].sIntend)===true){if(Oe[e].bIsTable===true){if(Oe[e].oTableItems){t=Oe[e].oTableItems;for(let e=0;e<t.length;++e){a=t[e].getCells();for(let e=0;e<a.length;++e){if(a[e]instanceof y&&a[e].getContent()[0].getBindingInfo("href").parts===n[i].oVL.getContent()[0].getBindingInfo("href").parts&&a[e].getContent()[1].getBindingInfo("text").parts===n[i].oVL.getContent()[1].getBindingInfo("text").parts){a[e].getContent()[0].setVisible(true);a[e].getContent()[1].setVisible(false)}}}}}else{n[i].oVL.getContent()[0].setVisible(true);n[i].oVL.getContent()[1].setVisible(false)}}else if(Oe[e].bIsTable===false){n[i].oVL.getContent()[1].setText(n[i].oVL.getContent()[0].getText())}Oe[e].bProcessed=true}}}}if(e>=0){if(Oe[e].bLoaded&&!Oe[e].bProcessed&&Oe[e].Links){n=Oe[e].Links;for(let t=0;t<n.length;++t){if(Oe[e].bIsTable===false){n[t].oVL.getContent()[1].setText(n[t].oVL.getContent()[0].getText())}}}}}function ct(e,t,a,i,s,o,r,c){const f=[];const p=[];const u=[];const g=[];const h=[];const y=[];let b=false;let P;let I;let w;let G;let z;let W;let j;let Q;let K;let J;let X;let q;let Y;let Z;const ee=n.getLibraryResourceBundle("sap.suite.ui.commons");if(!i){i=e.getServiceMetadata()}const te=Ae.propertyExtensions?Ae.propertyExtensions[a]:[];P=6;if(jQuery.device.is.tablet&&jQuery.device.is.landscape){P=5}else if(jQuery.device.is.tablet&&jQuery.device.is.portrait){P=4}else if(jQuery.device.is.phone&&jQuery.device.is.landscape){P=3}else if(jQuery.device.is.phone&&jQuery.device.is.portrait){P=2}I=0;w=0;for(let e=0;e<t.length;++e){G=lt(t[e]);if(G==="High"){I+=1}}if(P>I){w=P-I}else if(P<I){I=P}g.push(new C({visible:false}));u.push((new m).bindText("__metadata/uri"));for(let e=0;e<t.length;++e){Z="";j=new d;G=lt(t[e]);j=nt(t[e],a,i,c);z=it(t[e],null,te);if(t[e].Value.Path){J=t[e].Value.Path;if(r&&r[J]&&r[J]["http://www.sap.com/Protocols/SAPData"]&&r[J]["http://www.sap.com/Protocols/SAPData"].sortable){z.data("IsSortable",r[J]["http://www.sap.com/Protocols/SAPData"].sortable);if(r[J]["http://www.sap.com/Protocols/SAPData"].sortable==="true"){b=true}}else{z.data("IsSortable","true");b=true}if(r&&r[J]&&r[J]["http://www.sap.com/Protocols/SAPData"]&&r[J]["http://www.sap.com/Protocols/SAPData"].filterable){z.data("IsFilterable",r[J]["http://www.sap.com/Protocols/SAPData"].filterable);if(r[J]["http://www.sap.com/Protocols/SAPData"].filterable==="true"){b=true}}else{z.data("IsFilterable","true");b=true}}else{Y=true;for(let a=0;a<t[e].Value.Apply.Parameters.length;++a){if(t[e].Value.Apply.Parameters[a].Type==="Path"){J=t[e].Value.Apply.Parameters[a].Value;if(r[J]&&r[J]["http://www.sap.com/Protocols/SAPData"]&&r[J]["http://www.sap.com/Protocols/SAPData"].sortable){if(r[J]["http://www.sap.com/Protocols/SAPData"].sortable==="false"){Y=false;Z="";break}}if(Z){Z+=";"}Z+=J}}J=Z;if(Y===false){z.data("IsSortable","false")}else{z.data("IsSortable","true");b=true}z.data("IsFilterable","false")}if(t[e].EdmType){z.data("EdmType",t[e].EdmType)}z.data("ColumnName",J);f.push(z);p.push(j);if(G==="High"){if(I>0){W=true;I-=1}else{W=false}}else if(G==="Medium"){if(w>0){W=true;w-=1}else{W=false}}else{W=false}g.push(new C({header:z,hAlign:st(t[e]),visible:W}));u.push(j)}const ae=new v({type:Ee.Navigation,unread:false,cells:u});if(o){Q=o.Label.String}ae.attachPress({aColumns:t,aLabels:f,aControls:p,sTitle:Q},e=>{let a;let n;const i=e.getSource().getCells()[0].getText().substr(e.getSource().getCells()[0].getText().lastIndexOf("/"));const s=new x({backgroundDesign:xe.Transparent,showSeparators:we.None,columns:[new C({hAlign:Ue.End}),new C]});s.addStyleClass("sapFactsheetUtiPanel");s.addStyleClass("sapFactsheetUtiTilePadding");s.addStyleClass("sapFactsheetUtiTableNoTopBorder");s.bindElement(i);for(let e=0;e<t.length;++e){a=f[e].clone();a.setText(`${a.getText()}:`);n=p[e].clone();a.setLabelFor(n);s.addItem(new v({cells:[a,n]}))}const l=new S({content:s,title:Q,description:$e()});const o=new E({title:Ne.getTitle(),showNavButton:true,content:[l]});Ne.navigateToPage(o,true);Ne.attachAfterNavigate(s,e=>{if(e.getParameters().getParameters().toId.indexOf("__page")>=0){const e=s.getItems();if(e.length>0&&Oe.indexOf(c)>=0){Oe[Oe.indexOf(c)].bLoaded=true;Oe[Oe.indexOf(c)].bProcessed=false;Oe[Oe.indexOf(c)].bIsTable=true;Oe[Oe.indexOf(c)].oTableItems=e;rt(Oe.indexOf(c))}}})});const ne=new x({growing:true,columns:g});ne.setModel(e);ne.bindItems({path:s,template:ae});const ie=new U({items:[new A({placeholder:ee.getText("USHELL_FACTSHEET_ENTER_YOUR_FILTER"),change:function(e){let t;const a=e.getSource().getParent().getParent().getId();const i=n.byId(a.substr(0,a.indexOf("-")));const s=i.getFilterItems();for(let e=0;e<s.length;++e){if(s[e]instanceof k&&s[e].getKey()===this.oParent.data("ColumnName")){t=s[e];break}}if(t){if(e.getParameter("newValue")===undefined||e.getParameter("newValue")===""){t.setSelected(false);t.setFilterCount(0)}else{t.setSelected(true);t.setFilterCount(1)}}}}).addStyleClass("sapFactsheetUtiFilterInput")]});const se=new U({items:[new O({mode:ve.SingleSelectLeft,includeItemInSelection:true,items:[new F({title:ee.getText("USHELL_FACTSHEET_GREATER_THEN")}).data("FilterOperator",V.GT),new F({title:ee.getText("USHELL_FACTSHEET_EQUALS")}).data("FilterOperator",V.EQ),new F({title:ee.getText("USHELL_FACTSHEET_LESS_THEN")}).data("FilterOperator",V.LT)]}),new A({placeholder:ee.getText("USHELL_FACTSHEET_ENTER_YOUR_FILTER"),change:function(e){let t;const a=e.getSource().getParent().getParent().getId();const i=n.byId(a.substr(0,a.indexOf("-")));const s=i.getFilterItems();for(let e=0;e<s.length;++e){if(s[e]instanceof k&&s[e].getKey()===this.oParent.data("ColumnName")){t=s[e];break}}if(t){if(e.getParameter("newValue")===undefined||e.getParameter("newValue")===""){t.setSelected(false);t.setFilterCount(0)}else{t.setSelected(true);t.setFilterCount(1)}}}}).addStyleClass("sapFactsheetUtiFilterInput")]});new U({items:[new O({mode:ve.SingleSelectLeft,includeItemInSelection:true,items:[new F({title:ee.getText("USHELL_FACTSHEET_AFTER")}).data("FilterOperator",V.GT),new F({title:ee.getText("USHELL_FACTSHEET_AT")}).data("FilterOperator",V.EQ),new F({title:ee.getText("USHELL_FACTSHEET_BEFORE")}).data("FilterOperator",V.LT)]}),new L({type:Ce.Date,valueFormat:new l({pattern:"yyyy/MM/dd HH:mm:ss UTC+00:00"}).getOutputPattern(),placeholder:ee.getText("USHELL_FACTSHEET_ENTER_YOUR_FILTER"),change:function(e){let t;const a=e.getSource().getParent().getParent().getId();const i=n.byId(a.substr(0,a.indexOf("-")));const s=i.getFilterItems();for(let e=0;e<s.length;++e){if(s[e]instanceof k&&s[e].getKey()===this.oParent.data("ColumnName")){t=s[e];break}}if(e.getParameter("newValue")===undefined||e.getParameter("newValue")===""){t.setSelected(false);t.setFilterCount(0)}else{t.setSelected(true);t.setFilterCount(1)}}}).addStyleClass("sapFactsheetUtiFilterInput")]});function le(e){const t=[];const a=e.getItems();let n;let i;if(a[0].getParent().data("EdmType")==="Edm.String"&&a[0].getValue()){t.push(new D(a[0].getParent().data("ColumnName"),V.Contains,a[0].getValue()))}else if(a[0].getParent().data("EdmType")==="Edm.Decimal"&&a[1].getValue()){for(let e=0;e<a[0].getItems().length;++e){if(a[0].getItems()[e].getSelected()===true){n=a[0].getItems()[e].data("FilterOperator");break}}i=a[1].getValue();for(let e=i.length-1;e>0;--e){if(i[e]===","){i=i.replace(i[e],".");break}}t.push(new D(a[1].getParent().data("ColumnName"),n,i))}else if(a[0].getParent().data("EdmType")==="Edm.Date"&&a[1].getValue()){for(let e=0;e<a[0].getItems().length;++e){if(a[0].getItems()[e].getSelected()===true){n=a[0].getItems()[e].data("FilterOperator");break}}t.push(new D(a[1].getParent().data("ColumnName"),n,a[1].getValue()))}else{t.push(new D(a[0].getParent().data("ColumnName"),V.EQ,a[0].getValue()))}return t}function oe(e){const t=e.getSource();const a=t.getFilterItems();let n;for(let e=0;e<a.length;++e){if(a[e]&&a[e]instanceof k){a[e].setSelected(false);a[e].setFilterCount(0);n=a[e].getCustomControl().getItems();for(let e=0;e<n.length;++e){if(n[e]instanceof A||n[e]instanceof L){n[e].setValue("")}if(n[e]instanceof O&&n[e].getSelectedItem()!==null){n[e].removeSelections()}}}}}const re=oe;for(let e=0;e<g.length;++e){if(g[e+1]){z=f[e].clone();if(z.getText()&&z.data("IsSortable")==="true"&&g[e+1].getVisible()){K=new N({text:z.getText(),key:z.data("ColumnName")});if(e===0){K.setSelected(true)}K.Sort=z.Sort;h.push(K)}if(z.getText()&&z.data("IsFilterable")==="true"){if(z.data("EdmType")==="Edm.String"){q=ie.clone().data("ColumnName",z.data("ColumnName")).data("EdmType",z.data("EdmType"))}else if(z.data("EdmType")==="Edm.Decimal"){q=se.clone().data("ColumnName",z.data("ColumnName")).data("EdmType",z.data("EdmType"))}if(z.data("EdmType")==="Edm.String"||z.data("EdmType")==="Edm.Decimal"){X=new k({key:z.data("ColumnName"),text:z.getText(),customControl:q,customData:new B({key:"callback",value:le})});y.push(X)}}}}const ce=new M({sortItems:h,filterItems:y,cancel:re,resetFilters:oe,confirm:function(e){const t=[];let a=[];let n=[];let i=[];let s;let l;let o;const r=e.getParameters();const c=ne.getBinding("items");if(r.sortItem){s=r.sortItem.getKey();l=r.sortDescending;if(s.indexOf(";")>0){a=s.split(";");for(let e=0;e<a.length;++e){t.push(new _(a[e],l))}}else if(s){t.push(new _(s,l))}c.sort(t)}const f=r;for(let e=0;e<f.filterItems.length;++e){if(f.filterItems[e]instanceof k){o=f.filterItems[e].getCustomData()[0].getValue();n=o.apply(this,[f.filterItems[e].getCustomControl()]);if(n){if(!Array.isArray(n)){n=[n]}i=i.concat(n)}}else if(f.filterItems[e]instanceof N){n=f.filterItems[e].getCustomData()[0].getValue();if(n){if(!Array.isArray(n)){n=[n]}i=i.concat(n)}}}c.filter(i)}});if(b===true&&(h.length>0||y.length>0)){ne.setHeaderToolbar(new H({content:[new T,new R,new $({icon:"sap-icon://drop-down-list",press:function(){ce.open()},tooltip:n.getLibraryResourceBundle("sap.m").getText("P13NDIALOG_VIEW_SETTINGS")})]}))}ne.setNoDataText(n.getLibraryResourceBundle("sap.m").getText("PULL2REFRESH_LOADING_LONG"));const fe=function(e){return function(t){const a=this.getItems();if(a.length===0){this.setNoDataText(ee.getText("FACETOVERVIEW_NO_CONTENT_TEXT"))}else{this.setNoDataText(n.getLibraryResourceBundle("sap.m").getText("PULL2REFRESH_LOADING_LONG"))}if(a.length>0&&Oe.indexOf(e)>=0){Oe[Oe.indexOf(e)].bLoaded=true;Oe[Oe.indexOf(e)].bProcessed=false;Oe[Oe.indexOf(e)].bIsTable=true;Oe[Oe.indexOf(e)].oTableItems=a}rt(Oe.indexOf(e))}}(c);ne.attachUpdateFinished(fe);return ne}function ft(e){let t;let a;let n;switch(e.UrlContentType.String){case"image/png":case"image/jpeg":case"image/gif":t=new u({width:"100%"});if(e.Url.String){t.setSrc(e.Url.String)}return t;default:a=new I;if(e.Url.String){a.setContent(`<iframe src = '${e.Url.String}' width='100%' height='250px' frameborder='0'></iframe>`)}else if(e.Url.Path){a.bindProperty("content",{path:e.Url.Path,formatter:function(){n=`<iframe src = '${e.Url.Path}' width='100%' height='250px' frameborder='0'></iframe>`;return n}})}return a}}function pt(e,t,a,n,i){let s="";const l=[];let o;let r;let c;let f;let p;let d;let u;let g;let m;let h;let T;let b;let I;const C=e.getServiceMetadata();switch(a.RecordType){case"com.sap.vocabularies.UI.v1.ReferenceFacet":o=new S;if(a.Label&&a.Label.String){o.setTitle(a.Label.String)}r=a.Target.AnnotationPath;c=r.substring(r.lastIndexOf("@")+1);r=r.substring(0,r.lastIndexOf("@")-1);if(r){s=qe(t,r,C)}f=c.split("#");switch(f[0]){case"com.sap.vocabularies.UI.v1.LineItem":case"com.sap.vocabularies.UI.v1.Chart":case"com.sap.vocabularies.UI.v1.Badge":case"com.sap.vocabularies.UI.v1.Identification":if(r){p=Xe(t,r,C);T=je(p,C)}else{T=je(t,C)}if(f[0]==="com.sap.vocabularies.UI.v1.Chart"){c="com.sap.vocabularies.UI.v1.LineItem"}b=Ae[T][c];if(Ae.propertyExtensions){I=Ae.propertyExtensions[T]}if(s==="*"&&f[0]!=="com.sap.vocabularies.UI.v1.Identification"){d=ct(e,b,T,C,`${n}/${r}`,a,I,i);o.setContent(d)}if(f[0]==="com.sap.vocabularies.UI.v1.Identification"){u=Ae[T]["com.sap.vocabularies.UI.v1.Identification"];g=new y({width:"100%"}).setModel(e);if(r){g.addContent(ot(e,p,u,null,null,i)).addStyleClass("sapFactsheetUtiPanel");g.bindElement(`${n}/${r}`)}else{g.addContent(ot(e,t,u,null,null,i).addStyleClass("sapFactsheetUtiPanel"))}o.setContent(g)}break;case"com.sap.vocabularies.UI.v1.StatusInfo":if(r){p=Xe(t,r,C);m=Ae[je(p,C)]["com.sap.vocabularies.UI.v1.StatusInfo"];o.setContent(ot(e,p,m,null,null,i).addStyleClass("sapFactsheetUtiPanel").bindElement(`${n}/${r}`))}else{m=Ae[je(t,C)]["com.sap.vocabularies.UI.v1.StatusInfo"];o.setContent(ot(e,t,m,null,null,i).addStyleClass("sapFactsheetUtiPanel"))}break;case"com.sap.vocabularies.UI.v1.FieldGroup":h=Ae[je(t,C)][c];if(h){if(!o.getTitle()||o.getTitle()===""){if(h.Label){if(h.Label.String){o.setTitle(h.Label.String)}else if(h.Label.Path){o.bindProperty("title",h.Label.Path)}}}if(r){p=Xe(t,r,C);o.setContent(ot(e,p,h.Data,null,null,i).addStyleClass("sapFactsheetUtiPanel").bindElement(`${n}/${r}`))}else{o.setContent(ot(e,t,h.Data,null,null,i).addStyleClass("sapFactsheetUtiPanel"))}}break;default:break}return o;case"com.sap.vocabularies.UI.v1.ReferenceURLFacet":o=new P({title:a.Label.String});o.setContent(ft(a));return o;case"com.sap.vocabularies.UI.v1.CollectionFacet":for(let s=0;s<a.Facets.length;++s){l.push(pt(e,t,a.Facets[s],n,i))}return l;default:break}}function dt(e,t,a,n){let i;switch(e){case"com.sap.vocabularies.UI.v1.ChartType/Area":i=new G({});break;case"com.sap.vocabularies.UI.v1.ChartType/Bar":i=new z({});break;case"com.sap.vocabularies.UI.v1.ChartType/Bubble":i=new W({});break;case"com.sap.vocabularies.UI.v1.ChartType/Column":i=new j({});break;case"com.sap.vocabularies.UI.v1.ChartType/ColumnStacked":i=new Q({});break;case"com.sap.vocabularies.UI.v1.ChartType/ColumnStacked100":i=new K({});break;case"com.sap.vocabularies.UI.v1.ChartType/Donut":i=new J({});break;case"com.sap.vocabularies.UI.v1.ChartType/HeatMap":i=new X({});break;case"com.sap.vocabularies.UI.v1.ChartType/HorizontalArea":i=new q({});break;case"com.sap.vocabularies.UI.v1.ChartType/Line":i=new Y({});break;case"com.sap.vocabularies.UI.v1.ChartType/Pie":i=new Z({});break;case"com.sap.vocabularies.UI.v1.ChartType/Scatter":i=new ee({});break;case"com.sap.vocabularies.UI.v1.ChartType/TreeMap":i=new te({});break;case"com.sap.vocabularies.UI.v1.ChartType/AreaStacked":case"com.sap.vocabularies.UI.v1.ChartType/AreaStacked100":case"com.sap.vocabularies.UI.v1.ChartType/BarStacked":case"com.sap.vocabularies.UI.v1.ChartType/BarStacked100":case"com.sap.vocabularies.UI.v1.ChartType/HorizontalAreaStacked":case"com.sap.vocabularies.UI.v1.ChartType/HorizontalAreaStacked100":case"com.sap.vocabularies.UI.v1.ChartType/Radar":case"com.sap.vocabularies.UI.v1.ChartType/Waterfall":break}if(i){if(t&&t.String){i.setTitle(new ae({visible:true,text:t.String}))}if(a&&a.String){i.setTooltip(a.String)}i.setWidth("100%");i.setHeight("17rem");i.setDataset(n)}else{i=new m({})}return i}function ut(e){let t;e=e||1;if(jQuery.device.is.phone){t=`${7*e}rem`}else{t=`${11*e-1}rem`}return t}function gt(e){let t=0;let a=0;let n=0;let i;for(let s=0;s<e.length;++s){i=lt(e[s]);if(i){switch(i){case"High":t+=1;break;case"Medium":a+=1;break;case"Low":n+=1;break}}}return{High:t,Medium:a,Low:n}}function mt(e,t,a,n){let i=false;let s;let l;let o;const r=new ne({doubleFontSize:false});if(t.ValueFormat){s=t.ValueFormat.NumberOfFractionalDigits.Int}if(t.Title&&t.Title.String){r.setDescription(t.Title.String)}else if(t.Title&&t.Title.Path){r.bindProperty("description",{path:t.Title.Path})}if(t.Value&&t.Value.String){r.setValue(t.Value.String)}else if(t.Value&&t.Value.Path){l=at(t.Value,t.Value.EdmType,a);if(l.fnChange){r.setModel(e);r.bindElement(n);r.getElementBinding().attachChange(l.fnChange,r)}if(l.String){if(typeof l.String==="number"&&!isNaN(l.String)){i=true;r.setValue(Me(l.String,s))}else{r.setValue(l.String)}}else if(l.BindingInfo){o=l.BindingInfo;if(o.parts&&o.parts.length===2){r.bindProperty("valueUnit",o.parts[0]);o.parts[1].type=undefined;o.parts[1].formatter=function(){return function(e){return Me(e,s)}}(s);r.bindProperty("value",o.parts[1])}else if(o.parts&&o.parts.length===1){o.parts[0].type=undefined;o.parts[0].formatter=function(){return function(e){return Me(e,s)}}(s);r.bindProperty("value",o)}else{r.bindProperty("value",o)}}}if(t.Value.EdmType==="Edm.Decimal"||t.Value.EdmType==="Edm.Double"||t.Value.EdmType==="Edm.Single"||t.Value.EdmType==="Edm.Int16"||t.Value.EdmType==="Edm.Int32"||t.Value.EdmType==="Edm.Int64"||i===true){r.setDoubleFontSize(true)}return r}function ht(e){const t=[];const a=[];let n;let i;function s(e){if(e.RecordType&&e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"){if(e.Url&&e.Url.Apply){n=e.Url.Apply.Parameters[0].Value.slice(e.Url.Apply.Parameters[0].Value.indexOf("#")+1,e.Url.Apply.Parameters[0].Value.indexOf("-"));if(t.indexOf(n)<0){t.push(n)}return true}}else{return false}}function l(e){if(s(e)===false){if(Array.isArray(e)){for(let t=0;t<e.length;++t){s(e[t])}}else if(typeof e==="object"){for(i in e){if(e.hasOwnProperty(i)){if(e[i].constructor!==String){l(e[i])}}}}}}for(i in Ae){if(Ae.hasOwnProperty(i)){if(i.indexOf(e.dataServices.schema[0].namespace)>=0){l(Ae[i])}}}for(let e=0;e<t.length;++e){if(!Fe.hasOwnProperty(t[e])){a.push(t[e])}}return a}function yt(e){let t;let a;let n;if(e.length>0){t=new p;a="/sap/opu/odata/UI2/INTEROP/SemanticObjects?$expand=Links&$format=json";n="&$filter=id%20eq%20%27";for(let t=0;t<e.length;++t){if(n.length>22){n+=`%20or%20id%20eq%20%27${e[t]}%27`}else{n+=`${e[t]}%27`}}a+=a+n;t.loadData(a);t.attachRequestCompleted(function(){let e=[];let t;if(this.getData().d&&this.getData().d.results){t=this.getData().d.results;for(let a=0;a<t.length;++a){Fe[t[a].id]="";e=t[a].Links.results;for(let t=0;t<e.length;++t){Fe[e[t].id.slice(0,e[t].id.indexOf("~"))]=""}}}Fe.InteropCompleted=true;rt()})}else{Fe.InteropCompleted=true}}function Tt(e,t,s){let l={};const o=[];let r=0;let c=0;let f=0;let d;let h;let b;let P;let E;let U;let A;let O;let F;let V;let L;let D;let k;let B;let G;let z;let W;let j;let Q;let K;let J;let X;let q;let Y;let Z;let ee;let te;let ae;let ne;let le;let Ce;let ve;let we;let xe;const Ee=Ge(e);const Ve=t.substring(0,t.substring(0,t.lastIndexOf("/")).lastIndexOf("/"));let De=t.substring(t.substring(0,t.lastIndexOf("/")).lastIndexOf("/"));if(window.location.search.indexOf("cbn_keep_anno_case%3Dtrue")===-1){De=De.toLowerCase()}const Ne=new ie(Ee,{annotationURI:Ve+De,loadAnnotationsJoined:true,loadMetadataAsync:false,json:true});Ne.setCountSupported(false);s.setModel(Ne);const ke=ze(e,Ne);const Be=`/${e.slice(Ee.length)}`;const Me=Ne.getServiceMetadata();Ae=Ne.getServiceAnnotations();const _e=je(ke,Me);const He=Ae[_e]["com.sap.vocabularies.UI.v1.HeaderInfo"];const Re=Ae[_e]["com.sap.vocabularies.UI.v1.Facets"];s.bindElement(Be,Ye(ke,Me));const We=n.getLibraryResourceBundle("sap.suite.ui.commons");Fe.InteropCompleted=false;yt(ht(Me));s.addStyleClass(`sapFactsheetUtiThingType${ke.replace(/\s/g,"")}`);if(He.TypeName.String){s.setTitle(He.TypeName.String)}else if(He.TypeName.Path){s.bindProperty("title",{path:He.TypeName.Path})}if(He.ImageUrl&&He.ImageUrl.String){s.setIcon(He.ImageUrl.String)}else if(He.ImageUrl&&He.ImageUrl.Path){s.bindProperty("icon",{path:He.ImageUrl.Path})}else if(He.TypeImageUrl&&He.TypeImageUrl.String){s.setIcon(He.TypeImageUrl.String)}else if(He.TypeImageUrl&&He.TypeImageUrl.Path){s.bindProperty("icon",{path:He.TypeImageUrl.Path})}if(He.Title.Value.String){s.setName(He.Title.Value.String)}else{s.bindProperty("name",at(He.Title.Value,He.Title.EdmType,_e).BindingInfo)}if(He.Description&&He.Description.Value){if(He.Description.Value.String){s.setDescription(He.Description.Value.String)}else{s.bindProperty("description",at(He.Description.Value,He.Description.EdmType,_e).BindingInfo)}}for(Ce in Ae[_e]){if(Ae[_e].hasOwnProperty(Ce)){if(Ce.search("com.sap.vocabularies.UI.v1.DataPoint")!==-1){ve=Ae[_e][Ce];if(ve){s.addKpi(mt(Ne,ve,_e,Be));f+=1}}if(f>=3){break}}}for(let e=0;e<Re.length;++e){if(Re[e]["com.sap.vocabularies.UI.v1.IsSummary"]){E=Re[e];break}}if(E){F=15;for(let e=0;e<E.Facets.length;++e){V=E.Facets[e].Target.AnnotationPath.substring(E.Facets[e].Target.AnnotationPath.lastIndexOf("@")+1);h=E.Facets[e].Target.AnnotationPath;h=h.substring(0,h.lastIndexOf("@")-1);E.Facets[e].NavPath=h;L=Xe(ke,h,Me);E.Facets[e].NavEntitySet=L;if(L){D=L}else{D=ke}E.Facets[e].EntitySet=D;k=je(L,Me);if(k){B=k}else{B=_e}E.Facets[e].EntityType=B;G=[];if(Ae[B][V].length){G=Ae[B][V]}else if(Ae[B][V].Data.length){G=Ae[B][V].Data}E.Facets[e].Content=G;for(let e=0;e<G.length;++e){z=lt(G[e]);if(z==="High"){r+=1}else if(z==="Medium"){c+=1}}}if(r>=F){r=F;c=0}else if(r+c>F){c=F-r;if(c<0){c=0}}if(jQuery.device.is.phone){c=0}j=F-r-c;Z=new se({title:We.getText("UNIFIEDTHINGINSPECTOR_GENERAL_INFORMATION_HEADER_TEXT")});Oe=[];Oe.push(Z);Oe[0].bLoaded=false;Oe[0].bProcessed=false;Oe[0].bIsTable=false;Q=[];J=c+r;for(let e=0;e<E.Facets.length;++e){X=ot(Ne,E.Facets[e].EntitySet,E.Facets[e].Content,{High:r,Medium:c,Low:0},null,Z).addStyleClass("sapFactsheetUtiTilePadding");if(e>0){X.addStyleClass("sapFactsheetUtiPaddingTop")}if(E.Facets[e].NavPath){X.bindElement(`${Be}/${E.Facets[e].NavPath}`)}K=gt(E.Facets[e].Content);r-=K.High;c-=K.Medium;if(K.High>0&&r+K.High>0||K.Medium>0&&c+K.Medium>0){Q.push(X);if(e>0){if(j>0){--j}else if(c>0){--c}else if(r>0){--r}}}if(r<1&&c<1){break}}if(r<0){r=0}if(c<0){c=0}l=new y({content:Q,width:"100%"});q=ut();Y=1;if(J>3&&J<=9){q=ut(2);Y=2}else if(J>9){q=ut(3);Y=3}Z.setContent(l);Z.setRowSpan(Y);if(jQuery.device.is.phone){Z.setHeightType(Ie.Auto)}else{Z.setHeight(q)}Z.addStyleClass("sapFactsheetUtiGeneralInformationOverviewFacet");Z.attachPress({facets:E},function(e,t){let a;let n;let i;s.removeAllFacetContent();const l=new S;l.setDescription($e());l.setTitle(We.getText("UNIFIEDTHINGINSPECTOR_GENERAL_INFORMATION_HEADER_TEXT"));l.addStyleClass("sapFactsheetUtiGeneralInformationUtg");if(t.facets.Facets.length>1){a="L6 M12 S12"}else{a="L12 M12 S12"}Oe[0].Links=[];const o=new y({width:"100%"});for(let e=0;e<t.facets.Facets.length;++e){if(e%2===0){n=new oe({hSpacing:1,vSpacing:1,defaultSpan:a})}i=pt(Ne,ke,t.facets.Facets[e],Be,this);i.addStyleClass("sapFactsheetUtiGeneralInformationUtgContent");if(e===0&&t.facets.Facets.length>1&&i.getTitle().trim()===""){i.setTitle(We.getText("UNIFIEDTHINGINSPECTOR_GENERAL_INFORMATION_HEADER_TEXT"))}n.addContent(i);if(e%2!==0){o.addContent(n)}}Oe[0].bLoaded=true;Oe[0].bProcessed=false;Oe[0].bIsTable=false;rt(0);if(d%2!==0){o.addContent(n)}l.setContent(o);s.addFacetContent(l);s.navigateToDetail()});s.addFacet(Z)}function Ke(e){return function(t){let a;let n;let i;let l;let o;let r;let c;let f;let d;let u;let g;let m;let h;let T;function b(e){let t;let a;let n;let i;const s=JSON.parse(e.getParameters().data);if(s.Action.name==="DETAIL_REQUEST"&&s.Action.instance){t=s.Action.instance;if(o.oData.results){r=`/results/${t.split(".")[1]}`}h=f.TypeName.String.substring(0,17);n=parseFloat(ut(.7))*16;i=parseFloat(ut(1.5))*16;a={SAPVB:{version:"2.0","xmlns:VB":"VB",Windows:{Remove:{name:"Detail1"},Set:{name:"Detail1",Window:{id:"Detail1",type:"callout",refParent:"Main",refScene:"",offsetX:"16",offsetY:"-27",modal:"false",width:i,height:n,caption:h,"pos.bind":`${t}.GeoPosition`}}},Scenes:{Set:{name:"Details",Scene:{id:"Details",navControlVisible:"false"}}}}};this.load(a)}}function P(t){let a;let i;let s;if(!u){u=nt(f.Title,e.navigationType,Me,e.facet);u.setModel(o);u.bindElement(r);g=nt(f.Description,e.navigationType,Me,e.facet);g.setModel(o);g.bindElement(r);for(a in n.Address){if(a==="label"){c=nt({Value:n.Address[a]},e.navigationType,Me,e.facet);c.setModel(o);c.bindElement(r);break}}s=7;if(jQuery.device.is.tablet&&jQuery.device.is.landscape){s=4}else if(jQuery.device.is.tablet&&jQuery.device.is.portrait){s=5}else if(jQuery.device.is.phone&&jQuery.device.is.landscape){s=2}else if(jQuery.device.is.phone&&jQuery.device.is.portrait){s=3}m=new y({width:"100%"}).setModel(Ne);if(e.navigationPath){i=Xe(e.entitySet,e.navigationPath,Me);m.addContent(ot(Ne,i,d,{High:s},null,e.facet));m.setModel(o).bindElement(r)}else{m.addContent(ot(Ne,e.entitySet,d,{High:s},null,e.facet)).setModel(o).bindElement(r)}}else{u.bindElement(r);if(g){g.bindElement(r)}if(c){c.bindElement(r)}if(m){m.bindElement(r)}}const l=`${parseFloat(ut(1.5))*16*.95}px`;if(u){u.placeAt(t.getParameter("contentarea").id);u.addStyleClass("sapFactsheetUtiGeoPopupHead");if(jQuery.device.is.phone){u.addStyleClass("sapFactsheetUtiGeoPopupHeadFontPhone")}u.setWidth(l)}if(g){g.placeAt(t.getParameter("contentarea").id);g.addStyleClass("sapFactsheetUtiGeoPopupDescr");if(jQuery.device.is.phone){g.addStyleClass("sapFactsheetUtiGeoPopupDescrFontPhone")}g.setWidth(l)}if(c){c.placeAt(t.getParameter("contentarea").id);c.addStyleClass("sapFactsheetUtiGeoPopupText");c.setWidth(l)}if(m&&m.getContent()[0]&&m.getContent()[0].getContent&&m.getContent()[0].getContent().length>0){m.placeAt(t.getParameter("contentarea").id);m.addStyleClass("sapFactsheetUtiGeoPopupText");m.setWidth(l)}if(Oe.indexOf(e.facet)>=0){Oe[Oe.indexOf(e.facet)].bLoaded=true;Oe[Oe.indexOf(e.facet)].bProcessed=false;Oe[Oe.indexOf(e.facet)].bIsTable=false}rt(Oe.indexOf(e.facet))}function I(e){if(u){u.destroy();u=undefined}if(g){g.destroy();g=undefined}if(c){c.destroy();c=undefined}if(m){m.destroy();m=undefined}jQuery(e.getParameter("contentarea").id).empty()}function C(e){return function(t){let a;let r;let c;c=t.ProjectJSON;c=c.indexOf("{")?c.substr(c.indexOf("{")):c;const f=JSON.parse(c);f.SAPVB.Scenes.Set.SceneGeo.initialStartPosition=i;f.SAPVB.Scenes.Set.SceneGeo.initialZoom=12;f.SAPVB.Actions.Set.Action.push({id:"200",name:"TAP_ON_MAP",refEvent:"Click",refScene:"MainScene",refVO:"Map"});if(l){f.SAPVB.Data=l.Data}for(let e=0;e<f.SAPVB.Scenes.Set.SceneGeo.VO.length;++e){if(f.SAPVB.Scenes.Set.SceneGeo.VO[e].datasource==="Spots"){if(f.SAPVB.Scenes.Set.SceneGeo.VO[e].scale&&f.SAPVB.Scenes.Set.SceneGeo.VO[e].scale.split(";").length!==3){f.SAPVB.Scenes.Set.SceneGeo.VO[e].scale="1.0;1.0;1.0";break}}}e.facet.getContent().attachSubmit(()=>{if(jQuery.device.is.tablet||jQuery.device.is.phone){e.facet.firePress()}});e.facet.getContent().load(f);e.facet.attachPress("",()=>{const t=[];const i=[];let l;if(!a){a=new re({width:"100%",height:"100%",plugin:false,config:null});a.addStyleClass("sapFactsheetUtiGeoPopup")}f.SAPVB.Scenes.Set.SceneGeo.NavigationDisablement.move="false";f.SAPVB.Scenes.Set.SceneGeo.NavigationDisablement.zoom="false";f.SAPVB.Scenes.Set.SceneGeo.NavigationDisablement.pitch="false";f.SAPVB.Scenes.Set.SceneGeo.NavigationDisablement.yaw="false";f.SAPVB.Scenes.Set.SceneGeo.SuppressedNavControlVisibility="false";a.load(f);if(e.cardinality==="*"){for(let e=0;e<o.oData.results.length;++e){t.push(o.oData.results[e][n.Longitude.Path]);i.push(o.oData.results[e][n.Latitude.Path])}}a.attachSubmit(b);a.attachOpenWindow(P);a.attachCloseWindow(I);r=new S({content:a,title:e.facetContent.Label.String,description:$e()});s.removeAllFacetContent();s.addFacetContent(r);s.navigateToDetail();s.attachAfterNavigate(t,e=>{if(e.getParameters().getParameters().toId.indexOf("-detail-page")!==-1){if(jQuery.device.is.phone){l="300px"}else{l=`${Math.floor(jQuery(`#${e.getParameters().getParameters().toId}-cont`).height()-128)}px`}a.setHeight(l);if(t.length>1){a.zoomToGeoPosition(t,i)}}})})}}function v(e){return function(){s.removeFacet(e)}}if(e.cardinality==="*"&&t.results&&t.results.length&&t.results.length!==0||e.cardinality==="1"&&t){o=new p;if(e.cardinality==="*"){if(t.results&&t.results.length){o.setData(t)}}else{o.setData({result:t});r="/result"}a=new ie("/sap/opu/odata/sap/VBI_APPL_DEF_SRV",false);n=Ae[e.navigationType]["com.sap.vocabularies.UI.v1.GeoLocation"];f=Ae[e.navigationType]["com.sap.vocabularies.UI.v1.HeaderInfo"];d=Ae[e.navigationType]["com.sap.vocabularies.UI.v1.Identification"];if(n.Longitude&&n.Latitude){l={Data:{Set:{N:[{name:"Spots",E:[]}]}}};if(e.cardinality==="1"){if(n.Longitude.Path&&n.Latitude.Path){i=`${t[n.Longitude.Path]};${t[n.Latitude.Path]};0`}l.Data.Set.N[0].E.push({A:i,I:"pin_blue.png"})}else{for(let e=0;e<t.results.length;++e){if(n.Longitude.Path&&n.Latitude.Path){i=`${t.results[e][n.Longitude.Path]};${t.results[e][n.Latitude.Path]};0`}l.Data.Set.N[0].E.push({A:i,I:"pin_blue.png"})}if(t.results.length!==0){i=`${t.results[0][n.Longitude.Path]};${t.results[0][n.Latitude.Path]};0`}}}T=parseInt(t.__count,10);if(Number(T)){e.facet.setQuantity(T)}a.read("VBIApplicationSet('ZFACTSHEETS')","","",false,C(e),v(e.facet))}else{e.facet.setQuantity(undefined);e.facet.addStyleClass("sapFactsheetUtiEmptyTile");e.facet.setHeightType(jQuery.device.is.phone?Ie.Auto:Ie.S);e.facet.setContent(undefined);e.facet.setTitle(undefined)}}}function Je(e){return function(t){let a="";let l;let o;let r;let c;let f;let d;let g;let h;let T;let b;let S;let P;let C;let v;let w;let x;let E;let U;let A;let O;let F;let V;let L;let D;let N;let k;let B;let M;let _;l=new p;if(e.facetContent.Target&&e.facetContent.Target.AnnotationPath&&e.facetContent.Target.AnnotationPath.split("#")[1]&&Ae[e.navigationType][`com.sap.vocabularies.UI.v1.Badge#${e.facetContent.Target.AnnotationPath.split("#")[1]}`]){o=Ae[e.navigationType][`com.sap.vocabularies.UI.v1.Badge#${e.facetContent.Target.AnnotationPath.split("#")[1]}`]}else{o=Ae[e.navigationType]["com.sap.vocabularies.UI.v1.Badge"]}if(e.cardinality==="*"){if(t.results&&t.results.length){D=e.facetContent.Target.AnnotationPath;we=D.substring(D.lastIndexOf("@")+1);if(we==="com.sap.vocabularies.UI.v1.Chart"){N=Ae[e.navigationType]["com.sap.vocabularies.UI.v1.Chart"];k=Ae.propertyExtensions[e.navigationType];B=[];for(let e=0;e<N.Dimensions.length;++e){B.push({axis:1,name:k[N.Dimensions[e].PropertyPath]["http://www.sap.com/Protocols/SAPData"].label,value:`{${N.Dimensions[e].PropertyPath}}`})}M=[];for(let e=0;e<N.Measures.length;++e){M.push({name:k[N.Measures[e].PropertyPath]["http://www.sap.com/Protocols/SAPData"].label,value:`{${N.Measures[e].PropertyPath}}`})}_=new i({dimensions:B,measures:M,data:{path:"/results"}});g=dt(N.ChartType.EnumMember,N.Title,N.Description,_);g.setModel(l);e.facet.setHeightType(jQuery.device.is.phone?Ie.Auto:Ie.XL)}else{g=new y({width:"100%"}).addStyleClass("sapFactsheetUtiVLayoutPadding");for(let i=0;i<t.results.length;++i){f=(new ce).addStyleClass("sapFactsheetUtiHLayoutPadding");r=nt(o.Title,e.navigationType,Me,e.facet);if(r.setWrapping){r.setWrapping(false)}n.byId(`${s.getId()}-master-page`).addDelegate({onAfterShow:function(e){return function(){let t;const a=e.getParent().getDomRef().clientWidth;t=a;if(e.getContent()[0]){t-=e.getContent()[0].getDomRef().clientWidth;if(a<e.getContent()[0].getDomRef().clientWidth){e.getContent()[0].getDomRef().setAttribute("style",`width:${a}px`);return}}if(e.getContent()[1]){t-=e.getContent()[1].getDomRef().clientWidth}if(t<10){t=0}if(e.getContent()[2]){e.getContent()[2].getDomRef().setAttribute("style",`width:${t}px`)}}}(f)});l=new p;l.setData({result:t.results[i]});r.setModel(l);r.bindElement("/result");d=false;if(t.results[i][o.Title.Value.Path]){d=true}if(o.Title.Value.Apply){for(let e=0;e<o.Title.Value.Apply.Parameters.length;++e){if(o.Title.Value.Apply.Parameters[e].Type==="Path"){if(t.results[i][o.Title.Value.Apply.Parameters[e].Value]){d=true;break}}}}a="";if(d){f.addContent(r);if(o.MainInfo&&(o.MainInfo.EdmType&&o.MainInfo.EdmType==="Edm.Decimal"||o.MainInfo.Value&&o.MainInfo.Value.Apply&&o.MainInfo.Value.Apply.Parameters[0]&&o.MainInfo.Value.Apply.Parameters[0].EdmType&&o.MainInfo.Value.Apply.Parameters[0].EdmType==="Edm.Decimal")){a="comma"}else if(o.MainInfo&&o.MainInfo.Value.Path&&t.results[i][o.MainInfo.Value.Path]){a="dash"}else if(o.MainInfo&&o.MainInfo.Value.Apply){for(let e=0;e<o.MainInfo.Value.Apply.Parameters.length;++e){if(o.MainInfo.Value.Apply.Parameters[e].Type==="Path"){if(t.results[i][o.MainInfo.Value.Apply.Parameters[e].Value]){a="dash";break}}}}if(a==="dash"){f.addContent(new I({content:'<span class="sapFactsheetUtiSeparatorPadding sapMText"> &ndash; </span>'}))}if(a==="comma"){f.addContent(new m({text:", "}).addStyleClass("sapFactsheetUtiSeparatorPaddingForDecimal"))}}if(o.MainInfo){c=nt(o.MainInfo,e.navigationType,Me,e.facet);if(c.setWrapping){c.setWrapping(false)}c.setModel(l);c.bindElement("/result");f.addContent(c)}g.addContent(f)}}h=parseInt(t.__count,10);if(Number(h)){e.facet.setQuantity(h)}e.facet.setContent(g);e.facet.attachPress({facet:e.facetContent},function(t,a){s.removeAllFacetContent();Oe[Oe.indexOf(e.facet)].Links=[];const n=pt(Ne,e.entitySet,a.facet,e.bindingPath,this);n.setDescription($e());s.addFacetContent(n);if(Oe.indexOf(e.facet)>=0){Oe[Oe.indexOf(e.facet)].bLoaded=false;Oe[Oe.indexOf(e.facet)].bProcessed=false;Oe[Oe.indexOf(e.facet)].bIsTable=true}rt(Oe.indexOf(e.facet));s.navigateToDetail()})}else{e.facet.setQuantity(0);e.facet.addStyleClass("sapFactsheetUtiEmptyTile");e.facet.setHeightType(jQuery.device.is.phone?Ie.Auto:Ie.S)}if(Oe.indexOf(e.facet)>=0){Oe[Oe.indexOf(e.facet)].bLoaded=true;Oe[Oe.indexOf(e.facet)].bProcessed=false;Oe[Oe.indexOf(e.facet)].bIsTable=false}rt(Oe.indexOf(e.facet))}else{l.setData({result:t});for(V in t){if(t.hasOwnProperty(V)){if(V!=="__metadata"){if(typeof t[V]==="string"&&t[V]){if(parseInt(t[V],10)!==0){L=true;break}}else if(typeof t[V]==="number"&&parseInt(t[V],10)!==0){L=true;break}}}}if(L){T=new y;b=Ae.propertyExtensions?Ae.propertyExtensions[e.navigationType]:[];S=(new ce).addStyleClass("sapFactsheetUtiHLayoutLabelValue");P=it(o.Title,{},b,true).addStyleClass("sapFactsheetUtiLabelMargin");r=nt(o.Title,e.navigationType,Me,e.facet);r.setModel(l);r.bindElement("/result");S.addContent(P);S.addContent(r);T.addContent(S);if(o.MainInfo){C=(new ce).addStyleClass("sapFactsheetUtiHLayoutLabelValue");v=it(o.MainInfo,{},b,true).addStyleClass("sapFactsheetUtiLabelMargin");c=nt(o.MainInfo,e.navigationType,Me,e.facet);c.setModel(l);c.bindElement("/result");C.addContent(v);C.addContent(c);T.addContent(C)}if(o.SecondaryInfo){w=(new ce).addStyleClass("sapFactsheetUtiHLayoutLabelValue");x=it(o.SecondaryInfo,{},b,true).addStyleClass("sapFactsheetUtiLabelMargin");E=nt(o.SecondaryInfo,e.navigationType,Me,e.facet);E.setModel(l);E.bindElement("/result");w.addContent(x);w.addContent(E);T.addContent(w)}if(o.TypeImageUrl||o.ImageUrl){if(o.ImageUrl){U=o.ImageUrl}else{U=o.TypeImageUrl}A=new ce;O="64px";if(jQuery.device.is.phone){O="48px"}if(U.String&&U.String.substr(0,11)==="sap-icon://"){F=new fe({size:O,width:O})}else{F=new u({width:O})}F.addStyleClass("sapFactsheetUtiRelIcon");if(U&&U.String){F.setSrc(U.String)}else if(U&&U.Path){F.bindProperty("src",U.Path)}A.addContent(F);A.addContent(T);e.facet.setContent(A)}else{e.facet.setContent(T)}e.facet.attachPress({facet:e.facetContent},function(t,a){s.removeAllFacetContent();Oe[Oe.indexOf(e.facet)].Links=[];const n=pt(Ne,e.entitySet,a.facet,e.bindingPath,this);n.setDescription($e());s.addFacetContent(n);if(Oe.indexOf(e.facet)>=0){Oe[Oe.indexOf(e.facet)].bLoaded=true;Oe[Oe.indexOf(e.facet)].bProcessed=false;Oe[Oe.indexOf(e.facet)].bIsTable=false}rt(Oe.indexOf(e.facet));s.navigateToDetail()})}else{e.facet.addStyleClass("sapFactsheetUtiEmptyTile");e.facet.setHeightType(jQuery.device.is.phone?Ie.Auto:Ie.S)}if(Oe.indexOf(e.facet)>=0){Oe[Oe.indexOf(e.facet)].bLoaded=true;Oe[Oe.indexOf(e.facet)].bProcessed=false;Oe[Oe.indexOf(e.facet)].bIsTable=false}rt(Oe.indexOf(e.facet))}}}function et(e){return function(){s.removeFacet(e.facet)}}function tt(e){return function(t){let a;let n;let i;const l=Ae[e.navigationType]["com.sap.vocabularies.UI.v1.MediaResource"];if(e.cardinality==="*"){if(t.results&&t.results.length){a=(new ce).addStyleClass("sapFactsheetUtiPictureViewerOverview");for(let e=0;e<t.results.length;++e){a.addContent(new u({src:t.results[e][l.Thumbnail.Url.Path],height:"85px"}));if(e===3){break}}n=parseInt(t.__count,10);if(Number(n)){e.facet.setQuantity(n)}e.facet.setContent(a);e.facet.attachPress({facet:e.facetContent,data:t},(e,t)=>{let a;let n;s.removeAllFacetContent();i=new S;if(t.facet.Label&&t.facet.Label.String){i.setTitle(t.facet.Label.String)}i.setDescription($e());if(jQuery.device.is.phone){a="350px"}else{a="550px"}const o=new pe({height:a});for(let e=0;e<t.data.results.length;++e){n=new u({src:t.data.results[e][l.Url.Path]});if(jQuery.device.is.phone){n.addStyleClass("sapFactsheetUtiCarouselMaxImageHeightPhone")}else{n.addStyleClass("sapFactsheetUtiCarouselMaxImageHeight")}o.addPage(n)}i.setContent(o);s.addFacetContent(i);s.navigateToDetail()})}else{e.facet.setQuantity(0);e.facet.addStyleClass("sapFactsheetUtiEmptyTile");e.facet.setHeightType(jQuery.device.is.phone?Ie.Auto:Ie.S)}}}}function st(e,t){let a=[];const n={};let i;let s;let l;let o;let r;let c;let f;function p(e,t){let a="";if(e){if(e.Path){return t[e.Path]}else if(e.String){return e.String}else if(e.Apply.Name==="odata.concat"){for(let n=0;n<e.Apply.Parameters.length;++n){if(e.Apply.Parameters[n].Type==="Path"){a=a+t[e.Apply.Parameters[n].Value]}else if(e.Apply.Parameters[n].Type==="String"){a=a+e.Apply.Parameters[n].Value}}return a}}}n.iCount=0;n.aContacts=[];for(let t=0;t<e.__batchResponses.length;++t){if(!e.__batchResponses[t].data){continue}a=e.__batchResponses[t].data.results;if(!a){a=[];a.push(e.__batchResponses[t].data)}if(a.length>0){i=Ae[a[0].__metadata.type]["com.sap.vocabularies.Communication.v1.Contact"];if(i){for(let e=0;e<a.length;++e){s=l=o="";if(i.tel){for(let t=0;t<i.tel.length;++t){if(i.tel[t].type&&i.tel[t].type.EnumMember){r=p(i.tel[t].uri,a[e]);switch(i.tel[t].type.EnumMember){case"com.sap.vocabularies.Communication.v1.PhoneType/voice":s=r?r.replace("tel:",""):"";s=s?s.replace(";ext=",""):"";break;case"com.sap.vocabularies.Communication.v1.PhoneType/cell":l=r?r.replace("tel:",""):"";l=l?l.replace(";ext=",""):"";break;case"com.sap.vocabularies.Communication.v1.PhoneType/fax":o=r?r.replace("tel:",""):"";o=o?o.replace(";ext=",""):"";break}}}}f=i.email&&i.email.address?i.email.address:"";c=p(i.photo,a[e]);n.iCount+=1;n.aContacts.push({fn:p(i.fn,a[e]),title:p(i.title,a[e]),org:p(i.org,a[e]),phone:s,mobile:l,fax:o,photo:c,email:p(f,a[e]),sEntity:a[0].__metadata.type,bExistsPhoto:!!c,bUseIcon:!c,sOrder:n.iCount})}}}}if(t){n.aContacts.sort((e,a)=>e[t]>a[t]?1:-1)}return n}function ct(){return function(e){let t;let i;let l;let o;let r;let c;const f=st(e,"sOrder");const d=new oe({defaultSpan:"L6 M6 S12",hSpacing:0,vSpacing:0}).addStyleClass("sapFactsheetUtiContactsGrid");for(let e=0;e<f.aContacts.length&&e<4;++e){o=new y;if(f.aContacts[e].photo){r=new u({height:"55px",src:f.aContacts[e].photo})}else{r=new fe({size:"50px",src:de.getIconURI("person-placeholder")}).addStyleClass("sapFactsheetUtiRelIcon")}o.addContent(r);o.addStyleClass("sapFactsheetUtiContactsImage");l=new y({content:[new m({text:f.aContacts[e].fn}).addStyleClass("sapFactsheetUtiTextName"),new m({text:f.aContacts[e].title}).addStyleClass("sapFactsheetUtiTextValue")]});i=new ce({content:[o,l]}).addStyleClass("sapFactsheetUtiContactsBox");d.addContent(i)}Z=n.byId(s.data("contactFacetId"));Z.setQuantity(f.iCount);if(t>0){Z.setContent(d);if(t<=2){c=Ie.M}else{c=Ie.L}Z.attachPress(()=>{const e=[];let t;Ne.clearBatch();for(let a=0;a<Ae[_e]["com.sap.vocabularies.UI.v1.Contacts"].length;++a){h=Ae[_e]["com.sap.vocabularies.UI.v1.Contacts"][a].AnnotationPath;h=h.substring(0,h.lastIndexOf("@")-1);if(h!==""){t=`${Be}/${h}`}else{t=Be}e.push(Ne.createBatchOperation(t,"GET"))}Ne.addBatchReadOperations(e);Ne.submitBatch(e=>{const t=jQuery.sap.resources({url:`${jQuery.sap.getModulePath("sap.ushell.components.container.")}/resources/resources.properties`,language:a.getLanguage()});const n=st(e,"sEntity");const i=new p;i.setData(n);const l=new v({type:w.Inactive,unread:false,cells:[new y({content:[new u({src:"{photo}",width:"74px",visible:"{bExistsPhoto}"}),new fe({size:"76px",src:de.getIconURI("person-placeholder"),visible:"{bUseIcon}"}).addStyleClass("sapFactsheetUtiRelIcon")]}),new y({content:[new m({text:"{fn}"}).addStyleClass("sapFactsheetUtiContactsName"),new T({text:"{title}"}),new T({text:"{org}"})]}),new g({text:"{phone}",href:"tel:{phone}"}),new g({text:"{mobile}",href:"tel:{mobile}"}),new g({text:"{fax}",href:"tel:{fax}"}),new g({text:"{email}",href:"mailto:{email}"})]});const o=new x({threshold:2,inset:false,showUnread:true,scrollToLoad:true,columns:[new C({hAlign:Ue.Center,width:"12%",header:new m({text:""})}),new C({hAlign:Ue.Begin,header:new m({text:t.getText("USHELL_FACTSHEET_NAME")})}),new C({hAlign:Ue.Begin,width:"12%",header:new m({text:t.getText("USHELL_FACTSHEET_PHONE")}),minScreenWidth:"Tablet",demandPopin:true}),new C({hAlign:Ue.Begin,width:"12%",header:new m({text:ue.i18n.getText("mobile")}),minScreenWidth:"Tablet",demandPopin:true}),new C({hAlign:Ue.Begin,width:"12%",header:new m({text:ue.i18n.getText("fax")}),minScreenWidth:"Tablet",demandPopin:true}),new C({hAlign:Ue.Begin,width:"26%",header:new m({text:t.getText("USHELL_FACTSHEET_EMAIL")}),minScreenWidth:"Tablet",demandPopin:true})],items:{path:"/aContacts",template:l}});const r=new M({sortItems:[new N({key:"fn",text:t.getText("USHELL_FACTSHEET_NAME")}),new N({key:"phone",text:t.getText("USHELL_FACTSHEET_PHONE")}),new N({key:"mobile",text:ue.i18n.getText("mobile")}),new N({key:"fax",text:ue.i18n.getText("fax")}),new N({key:"email",text:t.getText("USHELL_FACTSHEET_EMAIL")})],confirm:function(e){const t=[];const a=e.getParameters();const n=o.getBinding("items");if(a.sortItem){t.push(new _(a.sortItem.getKey(),a.sortDescending));n.sort(t)}}});o.setHeaderToolbar(new H({content:[new T,new R,new $({icon:"sap-icon://drop-down-list",press:function(){r.open()}})]}));o.setModel(i);const c=new S({title:Z.getTitle(),description:$e(),content:o});s.removeAllFacetContent();s.addFacetContent(c);s.navigateToDetail()})})}else{c=Ie.S;Z.addStyleClass("sapFactsheetUtiEmptyTile");Z.setQuantity(0)}Z.setHeightType(jQuery.device.is.phone?Ie.Auto:c)}}for(let e=0;e<Re.length;++e){if(Re[e]["com.sap.vocabularies.UI.v1.Map"]){h=Re[e].Target.AnnotationPath;h=h.substring(0,h.lastIndexOf("@")-1);ae="1";te=_e;if(h){te=Ze(h,_e,Me);ae=qe(ke,h,Me)}xe="100%";if(jQuery.device.is.phone){xe="150px"}ee=new re({width:"100%",height:xe,plugin:false,config:null});Z=new se({title:Re[e].Label.String.trim(),heightType:jQuery.device.is.phone?Ie.Auto:Ie.L,content:ee});Oe.push(Z);Oe[Oe.length-1].bLoaded=false;Oe[Oe.length-1].bProcessed=false;Oe[Oe.length-1].bIsTable=false;b={cardinality:ae,navigationPath:h,facet:Z,facetContent:Re[e],navigationType:te,metadata:Me,bindingPath:Be,entitySet:ke};if(ae==="*"){ne=["$inlinecount=allpages","$top=1000"]}else{ne=[]}Ne.read(`${Be}/${h}`,"",ne,true,Ke(b));s.addFacet(Z)}else if(Re[e].Target){h=Re[e].Target.AnnotationPath;h=h.substring(0,h.lastIndexOf("@")-1);we=Re[e].Target.AnnotationPath.substring(Re[e].Target.AnnotationPath.lastIndexOf("@")+1);if(h){te=Ze(h,_e,Me);Z=new se({title:Re[e].Label.String.trim(),heightType:jQuery.device.is.phone?Ie.Auto:Ie.M});ae=qe(ke,h,Me);if(ae!==0){b={cardinality:ae,navigationPath:h,facet:Z,facetContent:Re[e],navigationType:te,metadata:Me,bindingPath:Be,entitySet:ke};if(Re[e]["com.sap.vocabularies.UI.v1.Gallery"]){if(ae==="*"){ne=["$inlinecount=allpages"]}else{ne=[]}Ne.read(`${Be}/${h}`,"",ne,true,tt(b))}else{Oe.push(Z);Oe[Oe.length-1].bLoaded=false;Oe[Oe.length-1].bProcessed=false;Oe[Oe.length-1].bIsTable=false;if(ae==="*"){ne=["$inlinecount=allpages","$top=3"]}else{ne=[]}Ne.read(`${Be}/${h}`,"",ne,true,Je(b),et(b))}s.addFacet(Z)}}else if(we==="com.sap.vocabularies.UI.v1.Contacts"){Z=new se({title:Re[e].Label.String.trim(),heightType:jQuery.device.is.phone?Ie.Auto:Ie.M});s.data("contactFacetId",Z.sId);b={facet:Z};Ne.clearBatch();for(let e=0;e<Ae[_e][we].length;++e){h=Ae[_e][we][e].AnnotationPath;h=h.substring(0,h.lastIndexOf("@")-1);if(h!==""){ae=qe(ke,h,Me);if(ae==="*"){W=`${Be}/${h}?$top=4&$inlinecount=allpages`}else{W=`${Be}/${h}`}}else{W=Be}o.push(Ne.createBatchOperation(W,"GET"))}Ne.addBatchReadOperations(o);Ne.submitBatch(ct(b));s.addFacet(Z)}}}const ft=new ge;function Tt(){const t={};let a;let n;let i;let l;let o;let r;let c;ft.setAppData({title:s.getTitle(),subtitle:`${s.getName()} - ${s.getDescription()}`});ft.setEnabled(true);const f=sap.ushell.Container.getService("URLParsing");const p=f.getShellHash(window.location.href);const d=f.parseShellHash(p);const u=d.semanticObject;A=new me({showCancelButton:true,placement:Pe.Top});P=Qe(e,Ne);const h=P.split(",");for(let e=0;e<h.length;++e){h[e]=h[e].replace("='","=","g");if(h[e].lastIndexOf("'")===h[e].length-1){h[e]=h[e].slice(0,-1)}}for(i in Ae[_e]){if(Ae[_e].hasOwnProperty(i)){if(i.indexOf("com.sap.vocabularies.Common.v1.SecondaryKey")===0){l=Ae[_e][i];for(let e=0;e<l.length;++e){o=this.getBoundContext().getProperty(l[e].PropertyPath);if(o){h.push(`${l[e].PropertyPath}=${o}`)}}}}}for(let e=0;e<h.length;++e){a=h[e].substr(0,h[e].indexOf("="));n=h[e].substr(h[e].indexOf("=")+1,h[e].length);t[decodeURIComponent(a)]=decodeURIComponent(n)}U=sap.ushell.Container.getService("CrossApplicationNavigation").getSemanticObjectLinks(u,t);U.done(e=>{let t;let a;for(let n=0;n<e.length;++n){a=e[n].intent;if(a.indexOf(Le)<0&&a.indexOf("-analyzeKPIDetails~")<0&&a.indexOf("-analyzeSBKPIDetails~")<0&&a.indexOf("-NavigateToMaintainCusProj~")<0&&a.indexOf("CostCenter-manageCostCenter~")<0&&a.indexOf("AccountingDocument-analyzeDocumentJournal~")<0&&a.indexOf("AccountingDocument-analyzeGLLineItem~")<0&&a.indexOf("ControllingDocument-analyzeCostCenters~")<0&&a.indexOf("ControllingDocument-analyzeInternalOrders~")<0&&a.indexOf("ControllingDocument-analyzeMarketSegment~")<0&&a.indexOf("ControllingDocument-analyzeProfitCentersActuals~")<0&&a.indexOf("ControllingDocument-analyzeProfitLoss~")<0&&a.indexOf("ControllingDocument-analyzeProjectsActuals~")<0&&a.indexOf("PurchaseOrder-create~")<0){t=sap.ushell.Container.getService("CrossApplicationNavigation").hrefForExternal({target:{shellHash:a}});A.addItem(new g({text:e[n].text,href:t}));s.setTransactionsVisible(true)}}});s.attachTransactionsButtonPress(e=>{A.openBy(e.getParameter("caller"))});this.detachChange(Tt);he.setWindowTitle(`${s.getTitle().trim()}: ${s.getName().trim()} (${s.getDescription().trim()})`);s.setActionsVisible(true);le=new $({text:We.getText("UNIFIEDTHINGINSPECTOR_FOOTER_BUTTON_EMAIL_LINK"),icon:"sap-icon://email",press:function(){Se.triggerEmail("",s.getName(),window.location.href)}});O=new ye({placement:Pe.Top});r=e.substr(0,e.lastIndexOf("/")+1);for(const e in Ne.oData){if(Ne.oData.hasOwnProperty(e)){r=r+e;c=e.substring(e.indexOf("(")+1,e.indexOf(")"));break}}O.addButton(new Te({jamData:{businessObject:{appContext:"CB",odataServicePath:e.substr(0,e.lastIndexOf("/")+1),collection:ke,key:c,name:s.getTitle(),ui_url:window.location.href}}}));O.addButton(new be({jamData:{object:{id:window.location.href,display:new m({text:s.getTitle()}),share:""},externalObject:{appContext:"CB",odataServicePath:e.substr(0,e.lastIndexOf("/")+1),collection:ke,key:c,name:s.getTitle()}}}));O.addButton(ft);O.addButton(le);s.attachActionsButtonPress(e=>{O.openBy(e.getParameter("caller"))});Oe[0].bLoaded=true;Oe[0].bProcessed=false;rt(0)}s.getElementBinding().attachChange(Tt);s.attachBackAction(()=>{history.back()});s.addDelegate({onAfterRendering:function(){s._adjustFacetLayout()}});return s}return function(t,a){try{Ne=Tt(t,a,new e({configurationVisible:false}))}catch(e){throw e}return Ne}},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/factsheet/tools/ODataUrlTemplating", ["sap/ui/thirdparty/jquery"],jQuery=>{"use strict";function e(e,t,r){this.parameter=e;this.template=t;this.semiConvertedUrl=r;this.message=" is a missing key parameter for constructing the entity url";this.toString=function(){return this.parameter+this.message}}const t={ParameterException:e,resolve:function(e,t){let r;let i;let n;let s;const o=e.match(/{\s*[\w.]+\s*}/g);r=e;for(s=o.length-1;s>=0;s-=1){n=o[s];i=t[n.replace(/[{}]/g,"")];if(i!==undefined){if(typeof i!=="string"){i=i[0]}i=encodeURIComponent(decodeURIComponent(i));r=r.replace(n,i)}}n=r.match(/{\s*[\w.]+\s*}/g);if(n){jQuery.sap.log.error(` ${r}`);throw new this.ParameterException(n,e,r)}return r}};return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/factsheet/views/ThingViewer.controller", ["sap/ui/model/odata/ODataModel"],e=>{"use strict";sap.ui.controller("sap.ushell.components.factsheet.views.ThingViewer",{setService:function(s){this.getView().setModel(new e(s))}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/factsheet/views/ThingViewer.view", ["sap/ushell/components/factsheet/tools/ODataUrlTemplating","sap/ushell/components/factsheet/factory/ThingInspector","sap/ui/model/odata/ODataUtils","sap/ui/core/Component"],(e,t,a,n)=>{"use strict";sap.ui.jsview("sap.ushell.components.factsheet.views.ThingViewer",{getControllerName:function(){return"sap.ushell.components.factsheet.views.ThingViewer"},createContent:function(){let s;let o;let r;let i;const p=this.getViewData();s=p.entity||p.service;if(!s){r=p.entityTemplateURI||p.template;if(r){if(typeof r!=="string"){r=r[0]}r=r.replace(/%25/g,"%");r=r.replace(/%28/g,"(");r=r.replace(/%29/g,")");r=r.replace(/%27/g,"'");r=r.replace(/%3D/g,"=");r=r.replace(/%7B/g,"{");r=r.replace(/%7D/g,"}");s=e.resolve(r,p)}}o=p.annotationURI||p.annotation;if(typeof s!=="string"){s=s[0]}if(typeof o!=="string"){o=o[0]}i=s.substr(0,s.lastIndexOf("/"));function l(e,t){let n;if(sap.ui.model.odata&&a&&typeof a.setOrigin==="function"){if(!(e&&e.getComponentData())){throw new Error("no component passed")}if(e&&e.getComponentData()&&e.getComponentData().startupParameters&&e.getComponentData().startupParameters["sap-system"]){n=e.getComponentData().startupParameters["sap-system"][0];t=a.setOrigin(t,{alias:n})}}return t}i=l(n.getOwnerComponentFor(this),i);i=i+s.substr(s.lastIndexOf("/"));const c=t(i,o);c.addStyleClass("ThingInspector");return c}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/homeApp/error/Component", ["sap/ui/core/UIComponent","sap/ushell/resources"],(e,s)=>{"use strict";return e.extend("sap.ushell.components.homeApp.error.Component",{metadata:{manifest:"json",library:"sap.ushell"},init:function(){e.prototype.init.apply(this,arguments);this.setModel(s.i18nModel,"i18n")}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/homeApp/error/HomeAppError.controller", ["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/m/MessageToast","sap/ushell/resources","sap/ushell/Config","sap/ushell/utils"],(e,o,s,t,n,p)=>{"use strict";const i=n.last("/core/homeApp/component").messages||[];return e.extend("sap.ushell.components.homeApp.error.HomeAppError",{onInit:function(){this._oModel=new o({icon:"sap-icon://documents",text:t.i18n.getText("HomeApp.GeneralError.Text"),details:JSON.stringify(i,null,4)});this.getView().setModel(this._oModel)},onCopyErrorDetailsPress:function(){const e=p.copyToClipboard(this._oModel.getProperty("/details"));if(e){s.show(t.i18n.getText("HomeApp.CannotLoadApp.CopySuccess"),{closeOnBrowserNavigation:false})}else{s.show(t.i18n.getText("HomeApp.CannotLoadApp.CopyFail"),{closeOnBrowserNavigation:false})}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/homepage/ActionMode", ["sap/base/Log","sap/m/Button","sap/m/library","sap/m/Popover","sap/m/Text","sap/ui/core/Element","sap/ui/core/EventBus","sap/ushell/components/HomepageManager","sap/ushell/resources","sap/ushell/utils/WindowUtils","sap/ushell/EventHub"],(e,t,o,n,i,s,a,l,r,c,d)=>{"use strict";const p=o.PlacementType;function g(){this.oEventBus=a.getInstance();this.init=function(e){this.oModel=e}}g.prototype._activate=function(){this.oModel.setProperty("/tileActionModeActive",true);this.aOrigHiddenGroupsIds=this.getHomepageManager().getCurrentHiddenGroupIds(this.oModel);const e=s.getElementById("dashboardGroups");e.addLinksToUnselectedGroups();const t=s.getElementById("ActionModeBtn");if(t){t.setText(r.i18n.getText("exitEditMode"));if(t.setSelected){t.setSelected(true)}}this.oEventBus.publish("launchpad","actionModeActive")};g.prototype._deactivate=function(){this.oModel.setProperty("/tileActionModeActive",false);this.oEventBus.publish("launchpad","actionModeInactive",this.aOrigHiddenGroupsIds);const e=s.getElementById("TileActions");if(e!==undefined){e.destroy()}const t=s.getElementById("ActionModeBtn");if(t){t.setText(r.i18n.getText("activateEditMode"));if(t.setSelected){t.setSelected(false)}}};g.prototype.toggleActionMode=function(e,t,o){o=o||[];const n=o.filter(e=>e.getVisible());const i={group:n[e.getProperty("/topGroupInViewPortIndex")]};if(e.getProperty("/tileActionModeActive")){this._deactivate();const e=document.querySelector(".sapUshellTileContainerHeader[tabindex='0']");if(e){const t=e.closest("sapUshellTileContainer");if(t){i.restoreLastFocusedTileContainerById=t.getAttribute("id")}}}else{this._activate()}setTimeout(()=>{this.oEventBus.publish("launchpad","scrollToGroup",i)},0)};g.prototype.activateGroupEditMode=function(e){const t=e.getDomRef().getElementsByClassName("sapUshellTileContainerContent");for(let e=0;e<t.length;e++){t[e].classList.add("sapUshellTileContainerEditMode")}};g.prototype.getHomepageManager=function(){if(!this.oHomepageManager){this.oHomepageManager=l.prototype.getInstance()}return this.oHomepageManager};g.prototype._filterActions=function(e,t){const o=t.getModel();const n=t.getParent().getBindingContext().getPath();if(o.getProperty(`${n}/isGroupLocked`)){["tileSettingsBtn","linkSettingsBtn","ConvertToTile","ConvertToLink","moveTile_action"].forEach(t=>{e=e.filter(e=>e.id!==t)})}if(this.getHomepageManager().getPersonalizableGroups().length<2){e=e.filter(e=>e.id!=="moveTile_action")}return e};g.prototype._openActionsMenu=function(o){const n=o.getSource();const i=n.getBindingContext().getObject().object;let l=this.getHomepageManager().getTileActions(i);l=this._filterActions(l,n);const r=document.getElementsByClassName("sapUshellTileActionLayerDivSelected");for(let e=0;e<r.length;e++){r[e].classList.remove("sapUshellTileActionLayerDivSelected")}const c=n.getDomRef().getElementsByClassName("sapUshellTileActionLayerDiv");for(let e=0;e<c.length;e++){c[e].classList.add("sapUshellTileActionLayerDivSelected")}const d=[];l.forEach(o=>{if(!o.press&&!o.targetURL){e.warning(`Invalid Tile action discarded: ${JSON.stringify(o)}`);return}d.push(new t({text:o.text,icon:o.icon,press:this._handleActionPress.bind(this,o,n)}))});if(d.length===0){this._openNoActionsPopover(o);return}let g=n.getActionSheetIcon?n.getActionSheetIcon():undefined;if(!g){const e=s.getElementById(`${n.getId()}-action-more`);g=e||n}let u=s.getElementById("TileActions");if(!u){sap.ui.require(["sap/m/ActionSheet"],e=>{u=new e("TileActions",{placement:p.VerticalPreferedBottom,afterClose:function(){const e=document.getElementsByClassName("sapUshellTileActionLayerDivSelected");for(let t=0;t<e.length;t++){e[t].classList.remove("sapUshellTileActionLayerDivSelected")}const t=a.getInstance();t.publish("dashboard","actionSheetClose",n)}});this._openActionSheet(u,d,g)})}else{this._openActionSheet(u,d,g)}};g.prototype._openActionSheet=function(e,t=[],o){e.destroyButtons();t.forEach(t=>{e.addButton(t)});e.openBy(o)};g.prototype._openNoActionsPopover=function(e){const t=e.getSource();const o=new i({text:r.i18n.getText("tileHasNoActions")});new n({placement:p.Bottom,showHeader:false,ariaLabelledBy:o.getId(),content:o}).addStyleClass("sapUiContentPadding").openBy(t)};g.prototype._handleActionPress=function(e,t){if(e.press){e.press(t)}else if(e.targetURL){d.emit("UITracer.trace",{reason:"LaunchApp",source:"Tile",data:{targetUrl:e.targetURL}});if(e.targetURL.indexOf("#")===0){hasher.setHash(e.targetURL)}else{c.openURL(e.targetURL,"_blank")}}};return new g},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/homepage/Component", ["sap/ui/core/EventBus","sap/ui/core/mvc/View","sap/ui/core/UIComponent","sap/ushell/bootstrap/common/common.load.model","sap/ushell/components/HomepageManager","sap/ushell/components/SharedComponentUtils","sap/ushell/Config","sap/ushell/resources"],(e,o,s,t,a,n,i,r)=>{"use strict";return s.extend("sap.ushell.components.homepage.Component",{metadata:{manifest:"json",library:"sap.ushell",interfaces:["sap.ui.core.IAsyncContentCreation"]},init:function(){this.oModel=t.getModel();this.setModel(this.oModel);s.prototype.init.apply(this,arguments);this.rootControlLoaded().then(o=>{this.oDashboardView=o;const s={model:this.oModel,view:this.oDashboardView};this.oHomepageManager=new a("dashboardMgr",s);this.setModel(r.i18nModel,"i18n");e.getInstance().subscribe("sap.ushell.services.UsageAnalytics","usageAnalyticsStarted",()=>{sap.ui.require(["sap/ushell/components/homepage/FLPAnalytics"])});n.toggleUserActivityLog();n.getEffectiveHomepageSetting("/core/home/homePageGroupDisplay","/core/home/enableHomePageSettings");i.on("/core/home/homePageGroupDisplay").do(e=>{this.oHomepageManager.handleDisplayModeChange(e)});n.getEffectiveHomepageSetting("/core/home/sizeBehavior","/core/home/sizeBehaviorConfigurable");i.on("/core/home/sizeBehavior").do(e=>{const o=this.oHomepageManager.getModel();o.setProperty("/sizeBehavior",e)})})},createContent:function(){return o.create({viewName:"module:sap/ushell/components/homepage/DashboardContent.view"})},exit:function(){this.oHomepageManager.destroy()}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/homepage/DashboardContent.controller", ["sap/base/Log","sap/ui/core/Core","sap/ui/core/mvc/Controller","sap/ui/Device","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/thirdparty/jquery","sap/ushell/components/homepage/DashboardUIActions","sap/ushell/components/HomepageManager","sap/ushell/EventHub","sap/ushell/Layout","sap/ushell/resources","sap/ushell/utils"],(e,t,o,s,i,r,jQuery,n,a,l,u,d,p)=>{"use strict";return o.extend("sap.ushell.components.homepage.DashboardContent",{onInit:function(){const e=t.getEventBus();this.handleDashboardScroll=function(){window.setTimeout(this._handleDashboardScroll.bind(this),0)}.bind(this);e.subscribe("sap.ushell","appOpened",this._appOpenedHandler,this);e.subscribe("launchpad","dashboardModelContentLoaded",this._modelLoaded,this);e.subscribe("launchpad","actionModeInactive",this._handleGroupVisibilityChanges,this);e.subscribe("launchpad","switchTabBarItem",this._handleTabBarItemPressEventHandler,this);window.document.addEventListener("visibilitychange",p.handleTilesVisibility,false)},onExit:function(){const e=t.getEventBus();e.unsubscribe("sap.ushell","appOpened",this._appOpenedHandler,this);e.unsubscribe("launchpad","dashboardModelContentLoaded",this._modelLoaded,this);e.unsubscribe("launchpad","actionModeInactive",this._handleGroupVisibilityChanges,this);e.unsubscribe("launchpad","switchTabBarItem",this._handleTabBarItemPressEventHandler,this);window.document.removeEventListener("visibilitychange",p.handleTilesVisibility,false);if(this.oDashboardUIActionsModule){this.oDashboardUIActionsModule.destroy();delete this.oDashboardUIActionsModule}window.removeEventListener("resize",this._resizeHandler.bind(this))},onAfterRendering:function(){p.setPerformanceMark("FLP - dashboard after rendering");const e=a.prototype.getInstance();if(!e.getPreparedGroupModel()){e.loadPersonalizedGroups()}else{l.once("firstSegmentCompleteLoaded").do(e.handleFirstSegmentLoaded.bind(e))}const o=t.getEventBus();let i;let r;let n;let u;o.unsubscribe("launchpad","scrollToGroup",this._scrollToGroup,this);o.unsubscribe("launchpad","scrollToGroupByName",this._scrollToGroupByName,this);o.subscribe("launchpad","scrollToGroup",this._scrollToGroup,this);o.subscribe("launchpad","scrollToGroupByName",this._scrollToGroupByName,this);s.orientation.attachHandler(function(){const e=jQuery("#dashboardGroups").find(".sapUshellTileContainer").filter(":visible");if(e.length){i=this.getView().getModel();r=i.getProperty("/topGroupInViewPortIndex");if(e.get(r)){n=t.byId(e.get(r).id);u=i.getProperty("/editTitle");this._publishAsync("launchpad","scrollToGroup",{group:n,isInEditTitle:u})}}},this);window.addEventListener("resize",this._resizeHandler.bind(this));this._updateTopGroupInModel()},_resizeHandler:function(){clearTimeout(this._resizeTimer);this._resizeTimer=setTimeout(this.resizeHandler.bind(this),300)},_dashboardDeleteTileHandler:function(e){const o=e.getSource().getBindingContext().getObject();t.getEventBus().publish("launchpad","deleteTile",{tileId:o.uuid,items:"tiles"},this)},dashboardTilePress:function(e){const o=e.getSource();if(!o){return}t.getEventBus().publish("launchpad","dashboardTileClick",{uuid:o.getUuid()});if(s.system.desktop){const e=sap.ushell.Container.getRendererInternal();const t=e.getRouter().getRoute("home");if(this._fnSetFocusOnLastVisitedTile){t.detachBeforeMatched(this._fnSetFocusOnLastVisitedTile)}this._fnSetFocusOnLastVisitedTile=this._setFocusOnLastVisitedTile.bind(this,o,t);t.attachBeforeMatched(this._fnSetFocusOnLastVisitedTile)}},_setFocusOnLastVisitedTile:function(e,t){sap.ui.require(["sap/ushell/components/ComponentKeysHandler"],o=>{o.getInstance().then(o=>{o.moveScrollDashboard(e.$());t.detachBeforeMatched(this._fnSetFocusOnLastVisitedTile);delete this._fnSetFocusOnLastVisitedTile})})},_updateTopGroupInModel:function(){const e=this.getView().getModel();const t=this._getIndexOfTopGroupInViewPort();const o=this._getModelGroupFromVisibleIndex(t);e.setProperty("/iSelectedGroup",o);e.setProperty("/topGroupInViewPortIndex",t)},_getIndexOfTopGroupInViewPort:function(){const e=this.getView().getDomRef();if(!e){return 0}const t=e.getElementsByTagName("section")[0];const o=jQuery(t).find(".sapUshellTileContainer").not(".sapUshellHidden");if(!o){return 0}for(let e=0;e<o.length;e++){const s=o[e].parentElement;if(t.scrollTop<=s.offsetTop+s.offsetHeight){return e}}return o.length?o.length-1:0},_handleDashboardScroll:function(){const e=this.getView();const t=e.getModel();const o=100;const i=t.getProperty("/homePageGroupDisplay");const r=i!=="tabs";const n=t.getProperty("/tileActionModeActive");function a(){p.handleTilesVisibility()}clearTimeout(this.timeoutId);this.timeoutId=setTimeout(a,o);if(!s.system.phone){e.oAnchorNavigationBar.closeOverflowPopup()}if(r||n){this._updateTopGroupInModel()}e.oAnchorNavigationBar.reArrangeNavigationBarElements()},_handleGroupDeletion:function(e){sap.ui.require(["sap/m/MessageBox"],o=>{const s=t.getEventBus();const i=e.getObject();const r=i.removable;const n=i.title;const a=i.groupId;const l=d.i18n;const u=o.Action;const p=r?u.DELETE:l.getText("ResetGroupBtn");sap.ushell.Container.getServiceAsync("MessageInternal").then(e=>{e.confirm(l.getText(r?"delete_group_msg":"reset_group_msg",[n]),e=>{if(e===p){s.publish("launchpad",r?"deleteGroup":"resetGroup",{groupId:a})}},l.getText(r?"delete_group":"reset_group"),[p,u.CANCEL])})})},_modelLoaded:function(){this.bModelInitialized=true;u.getInitPromise().then(()=>{this._initializeUIActions()})},_initializeUIActions:function(){if(!this.oDashboardUIActionsModule){this.oDashboardUIActionsModule=new n}this.oDashboardUIActionsModule.initializeUIActions(this)},resizeHandler:function(){p.recalculateBottomSpace();p.handleTilesVisibility();if(u&&jQuery("#dashboardGroups").is(":visible")&&this.bModelInitialized){u.reRenderGroupsLayout(null);this._initializeUIActions()}},_appOpenedHandler:function(e,t,o){const s=this.getView().getModel();const i=o.additionalInformation||"";const r=this.getOwnerComponent();const n=r.getMetadata().getComponentName();if(i.indexOf(n)===-1){p.setTilesNoVisibility()}const a=sap.ui.require("sap/ushell/components/homepage/ActionMode");if(s.getProperty("/tileActionModeActive")&&a){a.toggleActionMode(s,"Menu Item");if(s.getProperty("/homePageGroupDisplay")==="tabs"){this._deactivateActionModeInTabsState();this.getView().oAnchorNavigationBar.reArrangeNavigationBarElements()}}if(this.oDashboardUIActionsModule){this.oDashboardUIActionsModule.disableAllDashboardUiAction()}},_scrollToGroupByName:function(e,t,o){const s=this.getView().getModel().getProperty("/groups");const i=o.groupName;sap.ushell.Container.getServiceAsync("FlpLaunchPage").then(o=>{s.forEach(s=>{if(o.getGroupTitle(s.object)===i){this._scrollToGroup(e,t,{groupId:s.groupId})}})})},_scrollToGroup:function(t,o,i){const r=i.group?i.group.getGroupId():i.groupId;let n;if(this.oView.oDashboardGroupsBox.getGroups()){n=this.oView.oDashboardGroupsBox.getGroups().reduce((e,t)=>t&&t.getGroupId()===r?t:e,null)}const a=n&&n.getDomRef();if(!a){return e.warning("Could not scroll to group: Group is not rendered!")}const l=a.querySelector(".sapUshellTileContainerContent");if(!l){return e.warning("Could not scroll to group: Group Content is not rendered!")}const u=document.getElementById("dashboardGroups");const d=l.getBoundingClientRect();const c=u.getBoundingClientRect();if(d.top===c.top){u.parentElement.scrollTop=0}else{l.scrollIntoView()}const g=new Promise(e=>{if(s.system.desktop&&(i.restoreLastFocusedTile||i.groupChanged)){sap.ui.require(["sap/ushell/components/ComponentKeysHandler"],t=>{t.getInstance().then(e=>{let t=n.$();if(i.restoreLastFocusedTile){let o=false;if(i.restoreLastFocusedTileContainerById){t=jQuery(`#${i.restoreLastFocusedTileContainerById}`);o=true}e.goToLastVisitedTile(t,o)}else if(i.groupChanged){const o=t.find(".sapUshellTile, .sapMGTLineMode, .sapFCard").filter(":visible").eq(0);if(o.length){e.moveScrollDashboard(o)}}}).then(e)})}else{e()}});g.then(()=>{if(i.isInEditTitle){n.setEditMode(true)}p.handleTilesVisibility()});return g},_handleDrop:function(e,o){const s=u.getLayoutEngine();const i=s.layoutEndCallback();const r=!i.dstArea;const n=t.getEventBus();let a;let l;let d=jQuery.Deferred();const p=this.getView();const c=p.getModel();const g=c.getProperty("/homePageGroupDisplay")&&c.getProperty("/homePageGroupDisplay")==="tabs";const h=c.getProperty("/tileActionModeActive");let f=true;if(!i.tile){n.publish("launchpad","sortableStop");return null}u.getLayoutEngine()._toggleAnchorItemHighlighting(false);if(i.dstGroup){const e=i.dstGroup.getBindingContext();const t=e.getProperty(e.sPath).isGroupLocked;f=r&&t}const b=i.tile.getBindingContext().getObject().isLinkPersonalizationSupported;if(!i.tileMovedFlag||f||!b&&i.dstArea==="links"){n.publish("launchpad","sortableStop");return null}if(!h&&!g&&i.dstArea==="links"&&!i.dstGroupData.getLinks().length){n.publish("launchpad","sortableStop");return null}a=true;l=true;if(i.srcGroup!==i.dstGroup){a=l=false}else if(i.tile!==i.dstGroup.getTiles()[i.dstTileIndex]){l=false}const G=this._getTileUuid(i.tile);if(i.srcGroup&&i.srcGroup.removeAggregation&&i.srcArea){i.srcGroup.removeAggregation("tiles",i.tile,a)}const m=i.dstGroupData&&i.dstGroupData.insertAggregation&&i.dstArea===i.srcArea;if(m){i.tile.sParentAggregationName=i.dstArea;i.dstGroupData.insertAggregation(i.dstArea,i.tile,i.dstTileIndex,l);d=this._handleSameTypeDrop(i,G,m)}else if(r){d=this._handleShortDrop(i,G,m)}else{d=this._handleConvertDrop(i,m,o)}if(this.getView().getModel()){this.getView().getModel().setProperty("/draggedTileLinkPersonalizationSupported",true)}n.publish("launchpad","sortableStop");return d.promise()},_handleSameTypeDrop:function(e,o,s){const i=t.getEventBus();const r=jQuery.Deferred();e.tile._getBindingContext().oModel.setProperty(`${e.tile._getBindingContext().sPath}/draggedInTabBarToSourceGroup`,false);i.publish("launchpad","movetile",{sTileId:o,sToItems:e.dstArea?e.dstArea:"tiles",sFromItems:e.srcArea?e.srcArea:"tiles",sTileType:e.dstArea?e.dstArea.substr(0,e.dstArea.length-1):undefined,toGroupId:e.dstGroupData.getGroupId?e.dstGroupData.getGroupId():e.dstGroupData.groupId,toIndex:e.dstTileIndex,longDrop:s,callBack:function(){r.resolve()}});return r.promise()},_handleShortDrop:function(e,o,s){const i=t.getEventBus();const r=jQuery.Deferred();i.publish("launchpad","movetile",{sTileId:o,sToItems:e.srcArea||"tiles",sFromItems:e.srcArea||"tiles",sTileType:e.srcArea?e.srcArea.substr(0,e.srcArea.length-1):undefined,toGroupId:e.dstGroupData.getGroupId?e.dstGroupData.getGroupId():e.dstGroupData.groupId,toIndex:e.dstTileIndex,longDrop:s,callBack:function(){r.resolve()}});return r.promise()},_handleConvertDrop:function(e,o,s){const i=t.getEventBus();const r=jQuery.Deferred();i.publish("launchpad","convertTile",{toGroupId:e.dstGroupData.getGroupId?e.dstGroupData.getGroupId():e.dstGroupData.groupId,toIndex:e.dstTileIndex,tile:t.byId(s.id),srcGroupId:e.srcGroup.getGroupId?e.srcGroup.getGroupId():e.srcGroup.groupId,longDrop:o,callBack:function(){r.resolve()}});return r.promise()},_getTileUuid:function(e){if(e.getUuid){return e.getUuid()}const t=e.getBindingContext().getObject();if(t.getParent){return t.getParent().getUuid()}return t.uuid},_handleDrag:function(e,t){const o=u.getLayoutEngine().layoutEndCallback();const s=o.tile.getBindingContext().getObject();const i=this.getView().getModel();if(i){i.setProperty("/draggedTileLinkPersonalizationSupported",s.isLinkPersonalizationSupported)}},_handleTabBarItemPressEventHandler:function(e,t,o){const s=this.getView();const i=s.getModel();const r=i.getProperty("/groups");const n=o.iGroupIndex;for(let e=0;e<r.length;e++){i.setProperty(`/groups/${e}/isGroupSelected`,false)}i.setProperty(`/groups/${n}/isGroupSelected`,true);this._handleTabBarItemPress(e,t,n)},_handleTabBarItemPress:function(e,o,s,i){const r=this.getView();let n;if(i){n=i.getParameter("group").getIndex()}else{n=s}t.getEventBus().publish("launchpad","tabSelected",{iSelectedGroup:n});const a=this._getVisibleGroupIndex(n);r.oDashboardGroupsBox.removeLinksFromUnselectedGroups();r.oDashboardGroupsBox.getBinding("groups").filter([r.oFilterSelectedGroup]);r.oAnchorNavigationBar.setSelectedItemIndex(a);r.oAnchorNavigationBar.reArrangeNavigationBarElements();setTimeout(()=>{p.handleTilesVisibility()},0)},_getVisibleGroupIndex:function(e){const t=this.getView().getModel().getProperty("/groups");let o=0;for(let s=0;s<e;s++){if(!t[s].isGroupVisible||!t[s].visibilityModes[0]){o++}}return e-o},_getModelGroupFromVisibleIndex:function(e){const t=this.getView().getModel().getProperty("/groups");let o=0;for(let s=0;s<t.length;s++){if(t[s].isGroupVisible&&t[s].visibilityModes[0]){o++;if(o>e){return s}}}return 0},_handleAnchorItemPress:function(e){const t=this.getView();const o=t.getModel();const n=o.getProperty("/groups");if(s.system.phone&&e.getParameter("manualPress")){e.oSource.openOverflowPopup()}for(let e=0;e<n.length;e++){if(o.getProperty(`/groups/${e}/isGroupSelected`)===true){o.setProperty(`/groups/${e}/isGroupSelected`,false)}}o.setProperty(`/groups/${e.getParameter("group").getIndex()}/isGroupSelected`,true);o.setProperty("/iSelectedGroup",e.getParameter("group").getIndex());if(o.getProperty("/homePageGroupDisplay")&&o.getProperty("/homePageGroupDisplay")==="tabs"&&!o.getProperty("/tileActionModeActive")){this._handleTabBarItemPress(undefined,undefined,undefined,e)}else{if(!o.getProperty("/tileActionModeActive")){t.oDashboardGroupsBox.getBinding("groups").filter([new i("isGroupVisible",r.EQ,true)])}else{t.oDashboardGroupsBox.getBinding("groups").filter([])}this._scrollToGroup("launchpad","scrollToGroup",{group:e.getParameter("group"),groupChanged:true,focus:e.getParameter("action")==="sapenter"})}},_addGroupHandler:function(e){const o=e.getSource().getBindingContext().getPath();const s=o.split("/");let i=window.parseInt(s[s.length-1],10);if(e.getSource().sParentAggregationName==="afterContent"){i++}t.getEventBus().publish("launchpad","createGroupAt",{title:"",location:i,isRendered:true})},_publishAsync:function(e,o,s){const i=t.getEventBus();window.setTimeout(i.publish.bind(i,e,o,s),1)},_changeGroupVisibility:function(e){const t=e.getPath();const o=e.getModel();const s=o.getProperty(`${t}/isGroupVisible`);if(o.getProperty(`${t}/isDefaultGroup`)||o.getProperty(`${t}/isGroupLocked`)){return}o.setProperty(`${t}/isGroupVisible`,!s)},_handleGroupVisibilityChanges:function(e,t,o){const s=this.getView().getModel();const i=a.prototype.getInstance();const r=i.getCurrentHiddenGroupIds(s);const n=r.length===o.length;let l=n;let u;r.some((e,t)=>{if(!l){return true}l=o&&Array.prototype.indexOf.call(o,e)!==-1;return!l});if(!l){sap.ushell.Container.getServiceAsync("FlpLaunchPage").then(e=>{u=e.hideGroups(r);u.done(()=>{s.updateBindings("groups")});u.fail(()=>{sap.ushell.Container.getServiceAsync("MessageInternal").then(e=>{e.error(d.i18n.getText("hideGroups_error"))})})})}window.setTimeout(()=>{p.recalculateBottomSpace()},0)},_deactivateActionModeInTabsState:function(){const e=this.getView();const t=e.getModel();let o;const s=t.getProperty("/groups");for(o=0;o<s.length;o++){t.setProperty(`/groups/${o}/isGroupSelected`,false)}let i=e.oAnchorNavigationBar.getSelectedItemIndex();let r=0;if(!this._isGroupVisible(i)){for(o=0;o<s.length;o++){if(!this._isGroupVisible(o)){r++}else{i=o;break}}}else{for(o=0;o<i;o++){if(!this._isGroupVisible(o)){r++}}}const n=i-r;e.oAnchorNavigationBar.setSelectedItemIndex(n);e.oAnchorNavigationBar.adjustItemSelection();t.setProperty(`/groups/${i}/isGroupSelected`,true);e.oDashboardGroupsBox.removeLinksFromAllGroups();const a=t.getProperty("/homePageGroupDisplay");if(a&&a==="tabs"){e.oDashboardGroupsBox.getBinding("groups").filter([e.oFilterSelectedGroup]);const t=e.oDashboardGroupsBox.getGroups&&e.oDashboardGroupsBox.getGroups();const o=Array.isArray(t)&&t[0];if(o&&o.updateLinks){o.updateLinks()}}},_isGroupVisible:function(e){const t=this.getView().getModel().getProperty("/groups");return t[e].isGroupVisible&&t[e].visibilityModes[0]}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/homepage/DashboardContent.view", ["sap/m/library","sap/ui/core/library","sap/m/Page","sap/m/PageAccessibleLandmarkInfo","sap/ui/core/Component","sap/ui/core/Core","sap/ui/core/mvc/View","sap/ui/Device","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/thirdparty/jquery","sap/ushell/components/homepage/DashboardGroupsBox","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/ui/launchpad/AnchorItem","sap/ushell/ui/launchpad/AnchorNavigationBar","sap/ushell/utils","sap/ushell/components/homepage/DashboardContent.controller","sap/ushell/components/homepage/ActionMode"],(e,t,o,i,n,s,a,r,l,h,jQuery,d,c,u,p,g,f,b,m,A)=>{"use strict";const B=t.AccessibleLandmarkRole;return a.extend("sap.ushell.components.homepage.DashboardContent",{createContent:function(e){this.oModel=this.getController().getOwnerComponent().getModel();const t=this.oModel.getProperty("/personalization");const a=this.oModel.getProperty("/enableTileActionsIcon");this.isCombi=r.system.combi;this.isTouch=this.isCombi?false:r.system.phone||r.system.tablet;this.parentComponent=n.getOwnerComponentFor(this);this.addStyleClass("sapUshellDashboardView");this.oRenderer=sap.ushell.Container.getRendererInternal("fiori2");this.bIsHomeIntentRootIntent=b.isFlpHomeIntent(this.oRenderer.getShellConfig().rootIntent);s.getEventBus().subscribe("launchpad","actionModeInactive",this._handleEditModeChange,this);s.getEventBus().subscribe("launchpad","actionModeActive",this._handleEditModeChange,this);s.getEventBus().subscribe("launchpad","contentRefresh",this._onDashboardShown,this);s.getEventBus().subscribe("launchpad","dashboardModelContentLoaded",this._onDashboardShown,this);this.oDoable=u.once("CoreResourcesComplementLoaded").do(()=>{this.oAnchorNavigationBar.setOverflowEnabled(true);if(t||a){A.init(this.oModel)}if(t){this._createFooter();this._createActionModeButton()}});this.oFilterSelectedGroup=new l("isGroupSelected",h.EQ,true);this.oRenderer.getRouter().getRoute("home").attachMatched(this._onHomeNavigation,this);this.oAnchorNavigationBar=this._getAnchorNavigationBar(e);this.oAnchorNavigationBar.setModel(this.oModel);this.oRenderer.setNavigationBar(this.oAnchorNavigationBar);const c=new d;this.oDashboardGroupsBox=c.createGroupsBox(e,this.oModel);this.oPage=new o("sapUshellDashboardPage",{showHeader:false,landmarkInfo:new i({contentRole:B.Region,contentLabel:p.i18n.getText("Dashboard.Page.Content.AriaLabel"),rootRole:B.None}),floatingFooter:true,content:[this.oDashboardGroupsBox]});this.oPage.addEventDelegate({onAfterRendering:function(){const t=this.getDomRef();const o=t.getElementsByTagName("section");jQuery(o[0]).off("scrollstop",e.handleDashboardScroll);jQuery(o[0]).on("scrollstop",e.handleDashboardScroll)}.bind(this)});return this.oPage},getAnchorItemTemplate:function(){const e=this;const t=new g({index:"{index}",title:"{title}",groupId:"{groupId}",defaultGroup:"{isDefaultGroup}",helpId:"{helpId}",selected:false,isGroupRendered:"{isRendered}",visible:{parts:["/tileActionModeActive","isGroupVisible","visibilityModes"],formatter:function(e,t,o){if(!o[e?1:0]){return false}return t||e}},locked:"{isGroupLocked}",isGroupDisabled:{parts:["isGroupLocked","/isInDrag","/homePageGroupDisplay"],formatter:function(e,t,o){return e&&t&&o==="tabs"}},press:function(t){e.oAnchorNavigationBar.handleAnchorItemPress(t)}});t.attachBrowserEvent("focus",function(){this.setNavigationBarItemsVisibility()}.bind(this.oAnchorNavigationBar));return t},_getAnchorNavigationBar:function(e){const t=new f("anchorNavigationBar",{selectedItemIndex:"{/topGroupInViewPortIndex}",itemPress:[function(e){this._handleAnchorItemPress(e)},e],overflowEnabled:false});this._oAnchorNavigationBarDelegatePromise=new Promise((e,o)=>{if(r.system.desktop){sap.ui.require(["sap/ushell/components/ComponentKeysHandler"],o=>{o.getInstance().then(o=>{t.addEventDelegate({onBeforeFastNavigationFocus:function(e){if(jQuery(".sapUshellAnchorItem").is(":visible")){e.preventDefault();o.goToSelectedAnchorNavigationItem()}},onsapenter:function(e){e.srcControl.getDomRef().click()},onsapspace:function(e){e.srcControl.getDomRef().click()},onsaptabnext:function(){if(!s.byId("sapUshellAnchorBarOverflowButton").getVisible()){o.goToLastVisitedTile()}}});e()})})}else{e()}});t.addStyleClass("sapContrastPlus");return t},_actionModeButtonPress:function(){this.oDashboardGroupsBox.getBinding("groups").filter([]);const e=this.oDashboardGroupsBox.getGroups();A.toggleActionMode(this.oModel,"Menu Item",e);this._updateAnchorNavigationBarVisibility();if(this.oModel.getProperty("/homePageGroupDisplay")==="tabs"){if(this.oModel.getProperty("/tileActionModeActive")){const e=this.oModel.getProperty("/groups");let t;for(let o=0;o<e.length;o++){if(e[o].isGroupSelected){t=o;break}}this.getController()._scrollToGroup("launchpad","scrollToGroup",{group:{getGroupId:function(){return e[t].groupId}},groupChanged:false,focus:true})}else{this.getController()._deactivateActionModeInTabsState()}}},_createActionModeButton:function(){const e={id:"ActionModeBtn",text:p.i18n.getText("activateEditMode"),icon:"sap-icon://edit",press:this._actionModeButtonPress.bind(this)};const t=this.oRenderer.getShellConfig().moveEditHomePageActionToShellHeader;if(t){this._createActionModeButtonInHeader(e)}else{this._createActionModeButtonInUserMenu(e)}},_createActionModeButtonInHeader:function(e){let t="sap/ushell/ui/shell/ShellHeadItem";if(c.last("/core/shellBar/enabled")){t="sap/ushell/gen/ui5/webcomponents-fiori/dist/ShellBarItem";if(e.press){e.click=e.press;delete e.press}}sap.ui.require([t],t=>{this.oTileActionsButton=new t(e);if(c.last("/core/extension/enableHelp")){this.oTileActionsButton.addStyleClass("help-id-ActionModeBtn")}if(!this.bIsHomeIntentRootIntent){this.oRenderer.showHeaderEndItem(this.oTileActionsButton.getId(),true)}else{this.oRenderer.showHeaderEndItem(this.oTileActionsButton.getId(),false,["home"])}})},_createActionModeButtonInUserMenu:function(e){const t={controlType:"sap.ushell.ui.launchpad.ActionItem",oControlProperties:e,bIsVisible:true,aStates:["home"]};if(!this.bIsHomeIntentRootIntent){t.aStates=null;t.bCurrentState=true}this.oRenderer.addUserAction(t).done(e=>{this.oTileActionsButton=e;if(c.last("/core/extension/enableHelp")){this.oTileActionsButton.addStyleClass("help-id-ActionModeBtn")}})},_handleEditModeChange:function(){if(this.oTileActionsButton){this.oTileActionsButton.toggleStyleClass("sapUshellActionItemActive")}},_createFooter:function(){sap.ui.require(["sap/m/Bar","sap/m/Button","sap/m/ToolbarSpacer"],(t,o,i)=>{this.oPage.setFooter(new t("sapUshellDashboardFooter",{visible:"{/tileActionModeActive}",contentRight:[new i,new o("sapUshellDashboardFooterDoneBtn",{type:e.ButtonType.Emphasized,text:p.i18n.getText("closeEditMode"),tooltip:p.i18n.getText("exitEditMode"),press:this._actionModeButtonPress.bind(this)})]}))})},_onDashboardShown:function(){const e=this.oRenderer&&this.oRenderer.getCurrentCoreView()==="home";if(e){if(!r.system.phone){this.oRenderer.showRightFloatingContainer(false)}this._updateAnchorNavigationBarVisibility();this.getController().resizeHandler();b.refreshTiles();if(r.system.desktop){const e=document.activeElement?document.activeElement.tagName:"";if(e!=="INPUT"&&e!=="TEXTAREA"){sap.ui.require(["sap/ushell/components/ComponentKeysHandler"],e=>{e.getInstance().then(e=>{e.goToLastVisitedTile()})})}}}},_onHomeNavigation:function(){this._onDashboardShown();if(!this.bIsHomeIntentRootIntent){if(this.oRenderer.getShellConfig().moveEditHomePageActionToShellHeader){this.oRenderer.showHeaderEndItem(this.oTileActionsButton.getId(),true)}else{this.oRenderer.showActionButton(this.oTileActionsButton.getId(),true)}}if(u.last("firstSegmentCompleteLoaded")){u.emit("CloseFesrRecord",Date.now())}},_updateAnchorNavigationBarVisibility:function(){const e=this.oAnchorNavigationBar.getVisible();const t=this.getModel().getObject("/tileActionModeActive");const o=this.getModel().getProperty("/groups").filter(e=>{if(t){return e.isGroupVisible&&e.visibilityModes[1]}return e.isGroupVisible&&e.visibilityModes[0]});const i=o.length>1;this.oAnchorNavigationBar.setVisible(i);if(i&&!e){const e=this.getModel().getProperty("/groups");const t=this.getModel().getProperty("/iSelectedGroup");for(let i=0;i<o.length;i++){if(o[i].getGroupId&&o[i].getGroupId()===e[t].groupId){this.oAnchorNavigationBar.setSelectedItemIndex(i);break}}}},getControllerName:function(){return"sap.ushell.components.homepage.DashboardContent"},exit:function(){a.prototype.exit.apply(this,arguments);if(this.oAnchorNavigationBar){this.oAnchorNavigationBar.destroy()}if(this.oTileActionsButton){this.oTileActionsButton.destroy()}if(this.oDoable){this.oDoable.off()}if(this.oPage){this.oPage.destroy()}s.getEventBus().unsubscribe("launchpad","actionModeInactive",this._handleEditModeChange,this);s.getEventBus().unsubscribe("launchpad","actionModeActive",this._handleEditModeChange,this);s.getEventBus().unsubscribe("launchpad","contentRefresh",this._onDashboardShown,this);s.getEventBus().unsubscribe("launchpad","dashboardModelContentLoaded",this._onDashboardShown,this)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/homepage/DashboardGroupsBox", ["sap/base/Log","sap/base/util/isEmptyObject","sap/base/util/restricted/_zipObject","sap/m/Button","sap/m/GenericTile","sap/ui/base/Object","sap/ui/core/Component","sap/ui/core/Core","sap/ui/core/InvisibleMessage","sap/ui/core/library","sap/ui/Device","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/performance/Measurement","sap/ushell/library","sap/ushell/components/homepage/ActionMode","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/Layout","sap/ushell/resources","sap/ushell/ui/launchpad/DashboardGroupsContainer","sap/ushell/ui/launchpad/GroupHeaderActions","sap/ushell/ui/launchpad/LinkTileWrapper","sap/ushell/ui/launchpad/PlusTile","sap/ushell/ui/launchpad/Tile","sap/ushell/ui/launchpad/TileContainer","sap/ushell/utils","sap/ushell/utils/UrlParsing"],(e,t,i,n,o,s,r,a,l,u,c,d,p,h,g,f,b,A,G,C,m,v,y,T,P,I,B,M)=>{"use strict";const _=u.InvisibleMessageMode;const w=s.extend("sap.ushell.components.homepage.DashboardGroupsBox",{metadata:{publicMethods:["createGroupsBox"]},constructor:function(){if(w.fnDashboardGroupsBoxGetter){return w.fnDashboardGroupsBoxGetter()}w.fnDashboardGroupsBoxGetter=function(e){return function(){return e}}(this.getInterface());this.oController=undefined;this.oGroupsContainer=undefined;this._oInvisibleMessageInstance=l.getInstance();a.getEventBus().subscribe("launchpad","actionModeActive",this._handleActionModeChange,this);a.getEventBus().subscribe("launchpad","actionModeInactive",this._handleActionModeChange,this);a.getEventBus().subscribe("launchpad","GroupHeaderVisibility",this._updateGroupHeaderVisibility,this);a.getEventBus().subscribe("launchpad","AddTileContainerContent",this._addTileContainersContent,this);return undefined},destroy:function(){a.getEventBus().unsubscribe("launchpad","actionModeActive",this._handleActionModeChange,this);a.getEventBus().unsubscribe("launchpad","actionModeInactive",this._handleActionModeChange,this);a.getEventBus().unsubscribe("launchpad","GroupHeaderVisibility",this._updateGroupHeaderVisibility,this);a.getEventBus().unsubscribe("launchpad","AddTileContainerContent",this._addTileContainersContent,this);if(this.oGroupsContainer){this.oGroupsContainer.destroy()}w.fnDashboardGroupsBoxGetter=undefined;if(this._oHost){this._oHost.destroy()}},calculateFilter:function(){const e=[];let t;const i=this.oModel.getProperty("/homePageGroupDisplay");const n=this.oModel.getProperty("/tileActionModeActive");if(!n){if(i&&i==="tabs"){t=new d("isGroupSelected",p.EQ,true)}else{t=new d("isGroupVisible",p.EQ,true)}e.push(t)}return e},zipPromiseAll:function(e,t){return Promise.all(t).then(t=>i(e,t))},loadCardModuleIfNeeded:function(){if(b.last("/core/home/featuredGroup/enable")){return a.loadLibrary("sap.ui.integration",{async:true}).then(()=>new Promise(e=>{sap.ui.require(["sap/ui/integration/Host","sap/ui/integration/widgets/Card"],(t,i)=>{this.Card=i;this.Host=t;this._oHost=new t({action:this._onCardAction.bind(this)});e()})}))}return Promise.resolve()},createGroupsBox:function(e,i){this.oController=e;const n=this;function o(e){let t;let i;if(e&&(t=e.getDomRef())){i=t.querySelector(".sapUshellPlusTile");if(i){return i}}return null}function s(e){const t=o(e.currentGroup);const i=o(e.endGroup);const s=e.tiles[e.tiles.length-2]===e.item||e.endGroup.getTiles().length===0;if(s){n._hidePlusTile(i)}else{n._showPlusTile(i)}if(e.currentGroup!==e.endGroup){n._showPlusTile(t)}}function r(){G.getLayoutEngine().setExcludedControl(T);G.getLayoutEngine().setReorderTilesCallback.call(G.layoutEngine,s)}function l(){setTimeout(()=>{if(!G.isInited){G.init({getGroups:this.getGroups.bind(this),getAllGroups:n.getAllGroupsFromModel.bind(n),isTabBarActive:n.isTabBarActive.bind(n)}).then(r);c.media.attachHandler(function(){if(!this.bIsDestroyed){G.reRenderGroupsLayout(null)}},this,c.media.RANGESETS.SAP_STANDARD);const i=this.getDomRef();e.getView().sDashboardGroupsWrapperId=!t(i)&&i.parentNode?i.parentNode.id:""}A.emit("CenterViewPointContentRendered");a.getEventBus().publish("launchpad","contentRendered");a.getEventBus().publish("launchpad","contentRefresh");if(this.getBinding("groups")){this.getBinding("groups").filter(n.calculateFilter())}},0)}this.isTabBarActive=function(){return this.oModel.getProperty("/homePageGroupDisplay")==="tabs"};this.oModel=i;const u=this.calculateFilter();this.oGroupsContainer=new m("dashboardGroups",{displayMode:"{/homePageGroupDisplay}",afterRendering:l});this.zipPromiseAll(["launchpadService",""],[sap.ushell.Container.getServiceAsync("FlpLaunchPage"),n.loadCardModuleIfNeeded()]).then(t=>{this.isLinkPersonalizationSupported=t.launchpadService.isLinkPersonalizationSupported();this.oGroupsContainer.bindAggregation("groups",{filters:u,path:"/groups",factory:function(){return n._createTileContainer(e,i)}})});if(c.system.desktop){this.oGroupsContainer.addEventDelegate({onBeforeFastNavigationFocus:function(e){e.preventDefault();sap.ui.require(["sap/ushell/components/ComponentKeysHandler"],e=>{e.getInstance().then(e=>{e.goToLastVisitedTile()})})},onsaptabnext:function(e){const t=document.getElementById("sapUshellFloatingContainerWrapper");const i=t&&!t.classList.contains("sapUshellShellHidden");if(i&&e.originalEvent.srcElement.id!==""){e.preventDefault();a.getEventBus().publish("launchpad","shellFloatingContainerIsAccessible")}}})}return this.oGroupsContainer},getAllGroupsFromModel:function(){return this.oModel.getProperty("/groups")},_createTileContainer:function(e){const t=this;const i=new d("isTileIntentSupported",p.EQ,true);const n=new I({headerText:"{title}",showEmptyLinksArea:{parts:["/tileActionModeActive","links/length","isGroupLocked","/isInDrag","/homePageGroupDisplay"],formatter:function(e,t,i,n,o){if(t){return true}else if(i){return false}return e||n&&o==="tabs"}},showMobileActions:{parts:["/tileActionModeActive"],formatter:function(e){return e&&!this.getDefaultGroup()}},showIcon:{parts:["/isInDrag","/tileActionModeActive"],formatter:function(e,t){return this.getIsGroupLocked()&&(e||t)}},deluminate:{parts:["/isInDrag"],formatter:function(e){return this.getIsGroupLocked()&&e}},transformationError:{parts:["/isInDrag","/draggedTileLinkPersonalizationSupported"],formatter:function(e,t){return e&&!t}},showBackground:"{/tileActionModeActive}",tooltip:"{title}",tileActionModeActive:"{/tileActionModeActive}",enableHelp:b.last("/core/extension/enableHelp"),groupId:"{groupId}",defaultGroup:"{isDefaultGroup}",isLastGroup:"{isLastGroup}",isGroupLocked:"{isGroupLocked}",isGroupSelected:"{isGroupSelected}",showHeader:true,showGroupHeader:"{showGroupHeader}",homePageGroupDisplay:"{/homePageGroupDisplay}",editMode:"{editMode}",supportLinkPersonalization:this.isLinkPersonalizationSupported,titleChange:function(e){a.getEventBus().publish("launchpad","changeGroupTitle",{groupId:e.getSource().getGroupId(),newTitle:e.getParameter("newTitle")})},showEmptyLinksAreaPlaceHolder:{parts:["links/length","/isInDrag","/homePageGroupDisplay"],formatter:function(e,t,i){return t&&i==="tabs"&&!e}},showPlaceholder:{parts:["/tileActionModeActive","tiles/length"],formatter:function(e){return e&&!this.getIsGroupLocked()}},visible:{parts:["/tileActionModeActive","isGroupVisible","visibilityModes"],formatter:function(e,t,i){if(!i[e?1:0]){return false}return t||e}},hidden:{parts:["/tileActionModeActive","isGroupVisible"],formatter:function(e,t){return e&&!t}},links:this._getLinkTemplate(),tiles:{path:"tiles",factory:this._itemFactory.bind(this),filters:[i]},add:function(e){t._handleAddTileToGroup(e)}});return n},_getLinkTemplate:function(){const e=new d("isTileIntentSupported",p.EQ,true);if(!this.isLinkPersonalizationSupported){return{path:"links",templateShareable:true,template:new y({uuid:"{uuid}",tileCatalogId:"{tileCatalogId}",tileCatalogIdStable:"{tileCatalogIdStable}",target:"{target}",isLocked:"{isLocked}",tileActionModeActive:"{/tileActionModeActive}",debugInfo:"{debugInfo}",tileViews:{path:"content",factory:function(e,t){return t.getObject()}},afterRendering:function(e){const t=this.getDomRef().getElementsByTagName("a");for(let e=0;e<t.length;e++){t[e].setAttribute("tabindex",-1)}}}),filters:[e]}}return{path:"links",factory:function(e,t){let i=t.getObject().content[0];if(i&&i.bIsDestroyed){i=i.clone();t.getModel().setProperty(`${t.getPath()}/content/0`,i)}return i},filters:[e]}},_itemFactory:function(e,t){const i=t.getProperty(t.sPath);let n;let o;let s;let r;if(i){if(i.isCard){n=i&&i.content;o=n&&n.length&&n[0];if(o&&o["sap.card"]){r=o}else if(i.manifest){r={"sap.flp":i.manifest&&i.manifest["sap.flp"],"sap.card":{type:"List"}}}else{return this._createErrorTile()}s=new this.Card;s.setHost(this._oHost).setManifest(r)}else{s=this._createTile()}i.controlId=s&&s.getId&&s.getId()}return s},_onCardAction:async function(t){if(t.getParameter("type")!=="Navigation"){return}const i=t.getParameter("parameters");const n=M.parseShellHash(i.url);if(n){t.preventDefault();this._performIntentBasedNavigation(n)}else if(i.openUI){if(i.openUI==="RecentActivities"||i.openUI==="FrequentActivities"){const e=i.openUI==="RecentActivities"?"recentActivityFilter":"frequentlyUsedFilter";const[t]=await B.requireAsync(["sap/ushell/ui/QuickAccess"]);t.openQuickAccessDialog(e)}else{e.error(`Request to open unknown User Interface: '${i.openUI}'`)}t.preventDefault()}else if(i.url===""){t.preventDefault()}else if(b.last("/core/shell/enableRecentActivity")&&b.last("/core/shell/enableRecentActivityLogging")){const e={title:t.getParameter("parameters").title,url:i.url,appType:g.AppType.URL,appId:i.url};sap.ushell.Container.getRendererInternal("fiori2").logRecentActivity(e)}},_performIntentBasedNavigation:function(e){return sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(t=>{t.toExternal({target:{semanticObject:e.semanticObject,action:e.action},params:e.params,appSpecificRoute:e.appSpecificRoute})})},_createErrorTile:function(){return new P({tileViews:{path:"content",factory:function(){return new o({state:"Failed"})}}})},_createTile:function(){const e=new P({long:"{long}",isDraggedInTabBarToSourceGroup:"{draggedInTabBarToSourceGroup}",uuid:"{uuid}",tileCatalogId:"{tileCatalogId}",tileCatalogIdStable:"{tileCatalogIdStable}",isCustomTile:"{isCustomTile}",target:"{target}",isLocked:"{isLocked}",navigationMode:"{navigationMode}",tileActionModeActive:"{/tileActionModeActive}",showActionsIcon:"{showActionsIcon}",rgba:"{rgba}",debugInfo:"{debugInfo}",tileViews:{path:"content",factory:function(e,t){return t.getObject()}},coverDivPress:function(e){if(!e.oSource.getBindingContext().getObject().tileIsBeingMoved&&f){f._openActionsMenu(e)}},showActions:function(e){if(f){f._openActionsMenu(e)}},deletePress:[this.oController._dashboardDeleteTileHandler,this.oController],press:[this.oController.dashboardTilePress,this.oController]});const t=a.byId("viewPortContainer");e.addEventDelegate({onclick:function(){h.start("FLP:DashboardGroupsBox.onclick","Click on tile","FLP");h.start("FLP:OpenApplicationonClick","Open Application","FLP");function e(){h.end("FLP:DashboardGroupsBox.onclick");t.detachAfterNavigate(e)}t.attachAfterNavigate(e)}});return e},_updateGroupHeaderVisibility:function(){const e=this.oGroupsContainer.getGroups();const t=this.oModel.getProperty("/tileActionModeActive");const i=this.oController.getView().oAnchorNavigationBar.getVisible();let n;let o=0;for(let t=0;t<e.length;t++){if(e[t].getProperty("visible")){o++;if(n===undefined){n=t}else{e[t].setShowGroupHeader(true)}}}if(n!==undefined){const s=t||o===1&&!i;e[n].setShowGroupHeader(s)}},_handleActionModeChange:function(){const e=this.oModel.getProperty("/tileActionModeActive");if(e){this._addTileContainersContent()}else{G.reRenderGroupsLayout(null)}},_addTileContainersContent:function(){const e=this.oGroupsContainer.getGroups();for(let t=0;t<e.length;t++){const i=e[t];if(!i.getBeforeContent().length){i.addBeforeContent(new n({icon:"sap-icon://add",text:C.i18n.getText("add_group_at"),visible:"{= !${isGroupLocked} && !${isDefaultGroup} && ${/tileActionModeActive}}",enabled:"{= !${/editTitle}}",press:[this._handleAddGroupButtonPress.bind(this)]}).addStyleClass("sapUshellAddGroupButton"))}if(!i.getAfterContent().length){i.addAfterContent(new n({icon:"sap-icon://add",text:C.i18n.getText("add_group_at"),visible:"{= ${isLastGroup} && ${/tileActionModeActive}}",enabled:"{= !${/editTitle}}",press:[this._handleAddGroupButtonPress.bind(this)]}).addStyleClass("sapUshellAddGroupButton"))}if(!i.getHeaderActions().length){i.addHeaderAction(new v({content:this._getHeaderActions(),tileActionModeActive:"{/tileActionModeActive}",isOverflow:"{/isPhoneWidth}"}).addStyleClass("sapUshellOverlayGroupActionPanel"))}}},_handleAddGroupButtonPress:function(e){this.oController._addGroupHandler(e);this._addTileContainersContent()},_getHeaderActions:function(){const e=[];e.push(new n({text:{path:"isGroupVisible",formatter:function(e){return C.i18n.getText(e?"HideGroupBtn":"ShowGroupBtn")}},icon:{path:"isGroupVisible",formatter:function(e){if(c.system.phone){return e?"sap-icon://hide":"sap-icon://show"}return""}},visible:"{= ${/enableHideGroups} && !${isGroupLocked} && !${isDefaultGroup}}",enabled:"{= !${/editTitle}}",press:function(e){const t=e.getSource();const i=t.getBindingContext();const n=i.getModel();const o=i.getPath();const s=n.getProperty(`${o}/isGroupVisible`);const r=a.getLibraryResourceBundle("sap.m");this._oInvisibleMessageInstance.announce([C.i18n.getText(s?"Group.nowBeingHidden":"Group.nowBeingShown"),C.i18n.getText("Section.ButtonLabelChanged"),C.i18n.getText(s?"ShowGroupBtn":"HideGroupBtn"),r.getText("ACC_CTR_TYPE_BUTTON")].join(" "),_.Polite);this.oController._changeGroupVisibility(i)}.bind(this)}).addStyleClass("sapUshellHeaderActionButton"));e.push(new n({text:{path:"removable",formatter:function(e){return C.i18n.getText(e?"DeleteGroupBtn":"ResetGroupBtn")}},icon:{path:"removable",formatter:function(e){if(c.system.phone){return e?"sap-icon://delete":"sap-icon://refresh"}return""}},visible:"{= !${isDefaultGroup}}",enabled:"{= !${/editTitle}}",press:function(e){const t=e.getSource();const i=t.getBindingContext();this.oController._handleGroupDeletion(i)}.bind(this)}).addStyleClass("sapUshellHeaderActionButton"));return e},_handleAddTileToGroup:function(e){if(document.toDetail){document.toDetail()}r.getOwnerComponentFor(this.oController.getView().parentComponent).getRouter().navTo("appfinder",{"innerHash*":`catalog/${JSON.stringify({targetGroup:encodeURIComponent(e.getSource().getBindingContext().sPath)})}`})},_hidePlusTile:function(e){if(e){e.classList.add("sapUshellHidePlusTile")}},_showPlusTile:function(e){if(e){e.classList.remove("sapUshellHidePlusTile")}}});return w});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/homepage/DashboardUIActions", ["sap/base/Log","sap/base/util/deepExtend","sap/ui/base/Object","sap/ui/core/Configuration","sap/ui/core/Core","sap/ui/Device","sap/ui/thirdparty/jquery","sap/ushell/Layout"],(e,t,o,s,n,i,jQuery,l)=>{"use strict";const a=o.extend("sap.ushell.components.homepage.DashboardUIActions",{metadata:{publicMethods:["initializeUIActions"]},constructor:function(){this.aTabBarItemsLocation=[];if(a.fnDashboardUIActionsGetter&&a.fnDashboardUIActionsGetter()){return a.fnDashboardUIActionsGetter()}a.fnDashboardUIActionsGetter=function(e){return function(){return e}}(this.getInterface());this.oTileUIActions=undefined;this.oLinkUIActions=undefined;this.oGroupUIActions=undefined;this.oController=undefined;this.UIActionsInitialized=false;n.getEventBus().subscribe("launchpad","actionModeActive",this._enableGroupUIActions,this);n.getEventBus().subscribe("launchpad","actionModeInactive",this._disableGroupUIActions,this)},destroy:function(){n.getEventBus().unsubscribe("launchpad","actionModeActive",this._enableGroupUIActions,this);n.getEventBus().unsubscribe("launchpad","actionModeInactive",this._disableGroupUIActions,this);a.fnDashboardUIActionsGetter=undefined;this.oGroupUIActions=null;this.oTileUIActions=null;this.oLinkUIActions=null},initializeUIActions:function(e){this.oController=e;if(e.getView().getModel().getProperty("/homePageGroupDisplay")==="tabs"){this._fillTabBarItemsArray()}const o=jQuery("#sapUshellDashboardPage").width();const n=e.getView().sDashboardGroupsWrapperId;let i;const l=s.getRTL();const a={containerSelector:"#dashboardGroups",wrapperSelector:n?`#${n}`:undefined,rootSelector:"#mainShell"};const r=t({},a,{switchModeDelay:1e3,isTouch:e.getView().isTouch,isCombi:e.getView().isCombi,debug:false});const c={draggableSelector:".sapUshellLinkTile",placeHolderClass:"sapUshellLinkTile-placeholder",cloneClass:"sapUshellLinkTile-clone",endCallback:this._handleLinkDrop.bind(this),dragCallback:this._handleStartDragTile.bind(this),onBeforeCreateClone:this._onBeforeCreateLinkClone.bind(this),dragAndScrollCallback:this._handleTileDragMove.bind(this),endDragAndScrollCallback:this._handleTileDragAndScrollContinuation.bind(this),moveTolerance:e.getView().isTouch||e.getView().isCombi?10:3,isLayoutEngine:true,disabledDraggableSelector:"sapUshellLockedTile",onDragStartUIHandler:this._markDisableGroups.bind(this),onDragEndUIHandler:this._endUIHandler.bind(this),offsetLeft:l?o:-o,defaultMouseMoveHandler:function(){}};const d={draggableSelector:".sapUshellTile",draggableSelectorExclude:".sapUshellPlusTile",placeHolderClass:"sapUshellTile-placeholder",cloneClass:"sapUshellTile-clone",deltaTop:-44,scrollContainerSelector:undefined,endCallback:this._handleTileDrop.bind(this),dragCallback:this._handleStartDragTile.bind(this),dragAndScrollCallback:this._handleTileDragMove.bind(this),endDragAndScrollCallback:this._handleTileDragAndScrollContinuation.bind(this),moveTolerance:e.getView().isTouch||e.getView().isCombi?10:3,isLayoutEngine:true,disabledDraggableSelector:"sapUshellLockedTile",onDragStartUIHandler:this._markDisableGroups.bind(this),onDragEndUIHandler:this._endUIHandler.bind(this),offsetLeft:l?o:-o,defaultMouseMoveHandler:function(){}};const h={draggableSelector:".sapUshellDashboardGroupsContainerItem:not(.sapUshellDisableDragAndDrop)",draggableSelectorBlocker:".sapUshellTilesContainer-sortable, .sapUshellTileContainerBeforeContent, .sapUshellTileContainerAfterContent",draggableSelectorExclude:".sapUshellHeaderActionButton",placeHolderClass:"sapUshellDashboardGroupsContainerItem-placeholder",cloneClass:"sapUshellDashboardGroupsContainerItem-clone",startCallback:this._handleGroupsUIStart.bind(this),endCallback:this._handleGroupDrop.bind(this),dragCallback:this._handleGroupStartDrag.bind(this),moveTolerance:e.getView().isTouch||e.getView().isCombi?10:.1,isLayoutEngine:false,isVerticalDragOnly:true,draggableElement:".sapUshellTileContainerHeader"};if(e.getView().oDashboardGroupsBox.getGroups().length){if(e.getView().getModel().getProperty("/personalization")){sap.ui.require(["sap/ushell/UIActions"],o=>{sap.ushell.Container.getServiceAsync("FlpLaunchPage").then(s=>{this._disableTileUIActions();this._disableGroupUIActions();this._disableLinkUIActions();this.oTileUIActions=new o(t({},r,d)).enable();this.oGroupUIActions=new o(t({},r,h));if(s.isLinkPersonalizationSupported()){this.oLinkUIActions=new o(t({},r,c)).enable()}i=e.getView().getModel().getProperty("/tileActionModeActive");if(i){this.oGroupUIActions.enable()}})})}}},_enableGroupUIActions:function(){if(this.oGroupUIActions){this.oGroupUIActions.enable()}},disableAllDashboardUiAction:function(){this._disableTileUIActions();this._disableLinkUIActions();this._disableGroupUIActions()},_disableTileUIActions:function(){if(this.oTileUIActions){this.oTileUIActions.disable()}},_disableLinkUIActions:function(){if(this.oLinkUIActions){this.oLinkUIActions.disable()}},_disableGroupUIActions:function(){if(this.oGroupUIActions){this.oGroupUIActions.disable()}},_handleTileDragMove:function(e){if(!e.isScrolling){l.getLayoutEngine().moveDraggable(e.moveX,e.moveY,this.aTabBarItemsLocation)}},_handleTileDragAndScrollContinuation:function(e){const t=jQuery("#anchorNavigationBar").offset();const o=t?t.top:0;if(e<o){l.getLayoutEngine()._cancelLongDropTimmer()}return l.getLayoutEngine()._isTabBarCollision(e)},_fillTabBarItemsArray:function(){const e=document.getElementsByClassName("sapUshellAnchorItem");let t;const o=10;let s=0;let n;const i=[];for(t=0;t<e.length;t++){const o=e[t];const s=o.getBoundingClientRect();i[t]=s.width}for(t=0;t<e.length;t++){const e=i[t];if(e===0){continue}const l=Math.round(e/o);for(n=s;n<s+l;n++){this.aTabBarItemsLocation[n]=t}s=n}},_preventTextSelection:function(){if(window.getSelection){const e=window.getSelection();try{e.removeAllRanges()}catch{}}},_handleStartDragTile:function(e,t){this._preventTextSelection();l.getLayoutEngine().layoutStartCallback(t);l.initDragMode();const o=t.querySelectorAll("a");for(let e=0;e<o.length;e++){o[e].removeAttribute("href")}this.oController._handleDrag(e,t);n.getEventBus().publish("launchpad","sortableStart")},_onBeforeCreateLinkClone:function(e,t){l.getLayoutEngine().saveLinkBoundingRects(t)},_handleLinkDrop:function(e,t,o){const s=jQuery.Deferred();if(l.isTabBarActive()){l.tabBarTileDropped()}if(o&&o.clone){jQuery(o.clone).css({opacity:0})}if(i.desktop){document.body.classList.remove("sapUshellDisableUserSelect")}if(l.getLayoutEngine().isLinkIntersected()||l.getLayoutEngine().isOriginalAreaChanged()){this.oController._handleDrop(e,t).then(()=>{const e=document.getElementById("dashboardGroups");const t=e&&e.getElementsByClassName("sapUshellHidePlusTile");for(let e=0;e<t.length;e++){t[e].classList.remove("sapUshellHidePlusTile")}setTimeout(()=>{s.resolve()},0)})}else{setTimeout(()=>{s.resolve()},0)}return s.promise()},_handleTileDrop:function(e,t,o){if(l.getLayoutEngine().isOriginalAreaChanged()){return this._handleTileToLinkDrop(e,t,o)}return this._handleTileToTileDrop(e,t,o)},_handleTileToLinkDrop:function(e,t,o){return this._handleLinkDrop(e,t,o)},_handleTileToTileDrop:function(e,t,o){let s;function n(e,t){l.endDragMode();const o=document.getElementById("dashboardGroups");const s=o&&o.getElementsByClassName("sapUshellHidePlusTile");for(let e=0;e<s.length;e++){s[e].classList.remove("sapUshellHidePlusTile")}this.oController._handleDrop(this.oController,e,t);if(i.desktop){document.body.classList.remove("sapUshellDisableUserSelect")}}const a=jQuery(".sapUshellTabBarHoverOn");a.removeClass("sapUshellTabBarHoverOn");const r=jQuery(".sapUshellTileDragOpacity");r.removeClass("sapUshellTileDragOpacity");if(l.isTabBarActive()){l.tabBarTileDropped()}let c;if(l.isTabBarActive()&&l.isOnTabBarElement()){if(o&&o.clone){c=jQuery.Deferred();s=jQuery(o.clone);s.css("display","none");setTimeout(()=>{c.resolve();n.call(this,e,t)},0);return c.promise()}n.apply(this,arguments)}if(o&&o.clone){c=jQuery.Deferred();s=jQuery(o.clone);setTimeout(()=>{c.resolve();n.call(this,e,t)},0);return c.promise()}setTimeout(()=>{n.call(this,e,t)},0)},_getTileTopOffset:function(e,t,o){const s=0;let n=s+o;n+=e.closest(".sapUshellDashboardGroupsContainerItem").position().top;n+=t.top;return n},_markDisableGroups:function(){if(this.oController.getView().getModel()){this.oController.getView().getModel().setProperty("/isInDrag",true)}},_endUIHandler:function(){l.endDragMode();if(this.oController.getView().getModel()){this.oController.getView().getModel().setProperty("/isInDrag",false)}},_handleGroupStartDrag:function(t,o){this.oTileUIActions.disable();if(this.oLinkUIActions){this.oLinkUIActions.disable()}const l=jQuery(".sapUshellDashboardGroupsContainerItem-clone");const a=l.find(".sapUshellContainerTitle");const r=a.height();const c=a.width();const d=s.getRTL();if(!i.system.phone){l.find(".sapUshellTileContainerEditMode").offset({top:this.oGroupUIActions.getMove().y-r,left:d?jQuery("#sapUshellDashboardPage").width()+this.oGroupUIActions.getMove().x+c:this.oGroupUIActions.getMove().x-c/2});jQuery(".sapUshellTileContainerBeforeContent").addClass("sapUshellTileContainerHidden")}else{jQuery(".sapUshellTilesContainer-sortable").addClass("sapUshellTileContainerRemoveContent");jQuery(".sapUshellLineModeContainer").addClass("sapUshellTileContainerRemoveContent");jQuery(".sapUshellTileContainerBeforeContent").addClass("sapUshellTileContainerRemoveContent");jQuery(".sapUshellContainerHeaderActions").addClass("sapUshellTileContainerHidden")}jQuery(".sapUshellTileContainerAfterContent").addClass("sapUshellTileContainerRemoveContent");jQuery(o).find(".sapUshellContainerHeaderActions").addClass("sapUshellTileContainerHidden");this.oController.getView().getModel().setProperty("/isInDrag",true);jQuery(o).attr("startPos",jQuery(o).index());e.info(`startPos - ${jQuery(o).index()}`);setTimeout(()=>{n.getEventBus().publish("launchpad","sortableStart")},0);const h=jQuery("#dashboardGroups").offset().top;const p=jQuery(".sapUshellDashboardGroupsContainerItem-placeholder").offset().top;const u=jQuery(".sapUshellDashboardGroupsContainerItem-clone").offset().top;const g=p-h-u;jQuery(".sapUshellDashboardView section").css({scrollTop:g})},_handleGroupsUIStart:function(e,t){jQuery(t).find(".sapUshellTileContainerContent").css("outline-color","transparent")},_handleGroupDrop:function(e,t){const o=n.getEventBus();const s=jQuery(t);const i=jQuery(s.children()[0]).attr("id");const l=n.byId(i);const a=n.byId("dashboardGroups");const r={group:l,groupChanged:false,focus:false};const c=s.index();s.startPos=window.parseInt(s.attr("startPos"),10);a.removeAggregation("groups",l,true);a.insertAggregation("groups",l,c,true);this._handleGroupMoved(e,{item:s});s.removeAttr("startPos");n.getEventBus().publish("launchpad","sortableStop");setTimeout(()=>{jQuery(".sapUshellContainerHeaderActions").removeClass("sapUshellTileContainerHidden");jQuery(".sapUshellTileContainerBeforeContent").removeClass("sapUshellTileContainerHidden");jQuery(".sapUshellTileContainerBeforeContent").removeClass("sapUshellTileContainerRemoveContent");jQuery(".sapUshellTileContainerAfterContent").removeClass("sapUshellTileContainerRemoveContent");jQuery(".sapUshellTilesContainer-sortable").removeClass("sapUshellTileContainerRemoveContent");jQuery(".sapUshellLineModeContainer").removeClass("sapUshellTileContainerRemoveContent")},0);window.setTimeout(o.publish.bind(o,"launchpad","scrollToGroup",r),1);this.oTileUIActions.enable();if(this.oLinkUIActions){this.oLinkUIActions.enable()}},_handleGroupMoved:function(e,t){const o=t.item.startPos;const s=t.item.index();const n=this.oController.getView().getModel();if(s!==-1){this.oController._publishAsync("launchpad","moveGroup",{fromIndex:o,toIndex:s});setTimeout(()=>{n.setProperty("/isInDrag",false)},100)}},_setController:function(e){this.oController=e}});return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/pages/ActionMode", ["sap/ui/Device","sap/m/MessageBox","sap/m/MessageToast","sap/ui/core/Element","sap/ushell/resources","sap/ushell/EventHub","sap/base/Log","sap/ushell/Container"],(e,t,n,o,i,s,c,r)=>{"use strict";const a={};a.start=function(t,n){this.oController=t;const c=t.getView().getModel("viewSettings");const r=c.getProperty("/addToMyHomeOnly");if(!r){t.getView().getModel("viewSettings").setProperty("/actionModeEditActive",true)}t.getView().getModel("viewSettings").setProperty("/actionModeActive",true);t.handleMyHomeActionMode(true).catch(t.navigateToErrorPage.bind(t));s.emit("enableMenuBarNavigation",false);const a=o.getElementById("ActionModeBtn");this.sActionButtonActivateText=a.getText();n=n||i.i18n.getText("PageRuntime.EditMode.Exit");a.setTooltip(n);a.setText(n);if(e.system.desktop){sap.ui.require(["sap/ushell/renderer/AccessKeysHandler"],e=>{e.attachEvent("editModeDone",this.save,this)})}};a.cancel=function(){this._cleanup()};a.save=function(){c.info("store actions in pages service");this._cleanup()};a._cleanup=function(){this.oController.getView().getModel("viewSettings").setProperty("/actionModeActive",false);this.oController.getView().getModel("viewSettings").setProperty("/actionModeEditActive",false);this.oController.handleMyHomeActionMode(false).catch(this.oController.navigateToErrorPage.bind(this.oController));s.emit("enableMenuBarNavigation",true);const t=o.getElementById("ActionModeBtn");t.setTooltip(this.sActionButtonActivateText);t.setText(this.sActionButtonActivateText);if(e.system.desktop){sap.ui.require(["sap/ushell/renderer/AccessKeysHandler"],e=>{e.detachEvent("editModeDone",this.save,this)})}};a.addVisualization=function(e,t){const n=t.getBindingContext().getModel();const o=t.getBindingContext().getPath();const i=o.split("/");const s=parseInt(i[2],10);const c=n.getProperty(`/pages/${s}/id`);const a=n.getProperty(`${o}/id`);r.getServiceAsync("Navigation").then(e=>{const t=`Shell-appfinder?&/catalog/${JSON.stringify({pageID:encodeURIComponent(c),sectionID:encodeURIComponent(a)})}`;e.navigate({target:{shellHash:t}})})};a.addSection=function(e,t,n){const o=n.index;const i=t.getBindingContext().getPath();const s=i.split("/");const c=parseInt(s[2],10);return this.oController.getOwnerComponent().getPagesService().then(e=>{e.addSection(c,o);const n={onAfterRendering:function(){setTimeout(()=>{t.getSections()[o].getTitleInput().focus()},0);t.removeEventDelegate(n)}};t.addEventDelegate(n)})};a.deleteSection=function(e,o){return r.getServiceAsync("MessageInternal").then(e=>{const s=o.getTitle();const c=s?i.i18n.getText("PageRuntime.Message.Section.Delete",[s]):i.i18n.getText("PageRuntime.Message.Section.DeleteNoTitle");const r=i.i18n.getText("PageRuntime.Dialog.Title.Delete");function a(e){if(e===t.Action.DELETE){this.oController.getOwnerComponent().getPagesService().then(e=>{const t=o.getBindingContext().getPath();const s=o.getParent();const c=t.split("/");const r=parseInt(c[2],10);const a=parseInt(c[4],10);e.deleteSection(r,a);n.show(i.i18n.getText("PageRuntime.Message.SectionDeleted"));const g=s.getSections();if(g.length){const e=g[a!==0?a-1:a];e.focus();const t={onAfterRendering:function(){e.focus();e.removeEventDelegate(t)}};e.addEventDelegate(t)}else{const e={onAfterRendering:function(){s.focus();s.removeEventDelegate(e)}};s.addEventDelegate(e)}})}}e.confirm(c,a.bind(this),r,[t.Action.DELETE,t.Action.CANCEL])})};a.resetSection=function(e,t){const o=t.getBindingContext().getPath();const s=o.split("/");const c=parseInt(s[2],10);const r=parseInt(s[4],10);return this.oController.getOwnerComponent().getPagesService().then(e=>{e.resetSection(c,r);n.show(i.i18n.getText("PageRuntime.Message.SectionReset"))})};a.changeSectionTitle=function(e,t,n){const o=t.getBindingContext().getPath();const i=t.getProperty("title");const s=o.split("/");const c=parseInt(s[2],10);const r=parseInt(s[4],10);return this.oController.getOwnerComponent().getPagesService().then(e=>{e.renameSection(c,r,i)})};a.moveSection=function(e,t,n){const o=n.draggedControl.getBindingContext().getPath();const i=n.droppedControl.getBindingContext().getPath();const s=n.dropPosition;const c=i.split("/");const r=o.split("/");const a=parseInt(r[2],10);const g=parseInt(r[4],10);let l=parseInt(c[4],10);if(g===l-1&&s==="Before"||g===l+1&&s==="After"){return Promise.resolve()}if(s==="After"){l=l+1}const d=this.oController.getOwnerComponent();return d.getPagesService().then(e=>e.moveSection(a,g,l)).then(()=>{t.announceMove();t.getSections()[l!==0&&l>g?l-1:l].focus()})};a.changeSectionVisibility=function(e,t,n){if(this.oController===undefined||n.visible===undefined){return Promise.resolve()}const o=t.getBindingContext().getPath();const i=n.visible;const s=o.split("/");const c=parseInt(s[2],10);const r=parseInt(s[4],10);return this.oController.getOwnerComponent().getPagesService().then(e=>{e.setSectionVisibility(c,r,i)})};return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/pages/Component", ["sap/ui/core/InvisibleMessage","sap/ui/core/UIComponent","sap/ushell/components/SharedComponentUtils","sap/ushell/resources","sap/ushell/Container"],(e,t,n,o,i)=>{"use strict";return t.extend("sap.ushell.components.pages.Component",{metadata:{manifest:"json",library:"sap.ushell",interfaces:["sap.ui.core.IAsyncContentCreation"]},init:function(){t.prototype.init.apply(this,arguments);n.toggleUserActivityLog();n.getEffectiveHomepageSetting("/core/contentProviders/providerInfo/showContentProviderInfoOnVisualizations","/core/contentProviders/providerInfo/userConfigurable");n.getEffectiveHomepageSetting("/core/home/sizeBehavior","/core/home/sizeBehaviorConfigurable");this.setModel(o.i18nModel,"i18n");this._oPagesService=i.getServiceAsync("Pages");this._oInvisibleMessageInstance=e.getInstance()},getNavigationDisabled:function(){const e=this.getComponentData()||{};return!!e.navigationDisabled},getPagesService:function(){return this._oPagesService},getInvisibleMessageInstance:function(){return this._oInvisibleMessageInstance},hideRuntime:function(){this.getRootControl().getController().hideRuntime()},onRouteMatched:function(){this.getRootControl().getController().onRouteMatched()}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/pages/MyHomeImport", ["sap/base/i18n/Localization","sap/ushell/EventHub","sap/ushell/Config","sap/ushell/utils/HttpClient","sap/base/util/ObjectPath","sap/ushell/Container"],(e,t,s,n,r,o)=>{"use strict";const a={};const i="/UI2/Fiori2LaunchpadHome";a.getData=function(){if(!this.oPageSetPromise){this.oPageSetPromise=new Promise((t,s)=>{const a="PageSets('%2FUI2%2FFiori2LaunchpadHome')"+"?$expand=Pages/PageChipInstances/ChipInstanceBags/ChipInstanceProperties,"+"Pages/PageChipInstances/Chip"+"&$format=json";const i={"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0","Accept-Language":e.getLanguage()||"",Accept:"application/json, text/plain"};const c=o.getUser().getLanguage();if(c){i["sap-language"]=c}const l=o.getLogonSystem();const u=l&&l.getClient();if(u){i["sap-client"]=u}const p=window["sap-ushell-config"].services&&window["sap-ushell-config"].services.PageBuilding||{};const d=(r.get("config.services.pageBuilding.baseUrl",p.adapter)||"").replace(/\/?$/,"/");const g=new n(d,{headers:i});g.get(a).then(e=>{t(this.parseData.bind(this)(e))}).catch(s)})}return this.oPageSetPromise};a.isImportEnabled=function(){return o.getServiceAsync("UserInfo").then(e=>{const t=e.getUser();const s=t.getImportBookmarksFlag();switch(s){case"done":case"dismissed":case"not_required":return false;case null:return this.getData().then(s=>{const n=!!s.length;const r=n?"pending":"not_required";t.setImportBookmarksFlag(r);e.updateUserPreferences();t.resetChangedProperty("importBookmarks");return n});default:return true}})};a.parseData=function(e){try{let t=JSON.parse(e.responseText);if(t&&t.d){t=t.d}const n=t.configuration&&JSON.parse(t.configuration)||{};const r=n.hiddenGroups||[];const o=t.Pages.results.filter(e=>{const t=e.scope==="PERSONALIZATION";const s=e.PageChipInstances.results.length>0;const n=r.indexOf(e.id)===-1;return t&&s&&n});const a=n.order||[];o.sort((e,t)=>{if(a.indexOf(e.id)>a.indexOf(t.id)){return 1}if(a.indexOf(e.id)<a.indexOf(t.id)){return-1}return 0});let c=[];let l;const u=[];o.forEach(e=>{let t;if(e.layout){t=JSON.parse(e.layout)}const s={id:e.id,title:e.title,isLocked:e.isPersLocked==="X",isDefault:e.id===i,tileOrder:t&&t.order||[],linkOrder:t&&t.linkOrder||[],chips:e.PageChipInstances.results};if(s.isLocked){c.push(s)}else if(s.isDefault){l=s}else{u.push(s)}});if(!s.last("/core/home/disableSortedLockedGroups")){c.sort((e,t)=>e.title.toLowerCase()<t.title.toLowerCase()?-1:1)}if(l){c=c.concat(l)}return c.concat(u)}catch{return null}};a.setImportEnabled=function(e){t.emit("importBookmarksFlag",!!e);o.getServiceAsync("UserInfo").then(t=>{const s=t.getUser();const n=e?null:"dismissed";s.setImportBookmarksFlag(n);t.updateUserPreferences();s.resetChangedProperty("importBookmarks")})};return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/pages/StateManager", ["sap/ui/core/EventBus","sap/ui/thirdparty/hasher","sap/ushell/utils","sap/ushell/EventHub"],(i,t,e,s)=>{"use strict";const a={};a.init=function(t,e){this.aRefreshVisualizations=[];this.oPagesVisibility={};this.oPagesRuntimeNavContainer=t;this.oPagesNavContainer=e;this.oPagesRuntimeNavContainer.attachNavigate(this._onOuterNavContainerNavigated,this);this.oPagesNavContainer.attachNavigate(this._onPageNavigated,this);this._onTabNavigatedBind=this._onTabNavigated.bind(this);document.addEventListener("visibilitychange",this._onTabNavigatedBind);this.oEventBus=i.getInstance();this.oEventBus.subscribe("launchpad","setConnectionToServer",this._onEnableRequests,this);this.oEventBus.subscribe("sap.ushell","navigated",this._onShellNavigated,this);this.oEventHubListener=s.once("PagesRuntimeRendered").do(()=>{this._setCurrentPageVisibility(true)})};a._onEnableRequests=function(i,t,e){if(!e||e.active===undefined){return}this._setCurrentPageVisibility(e.active)};a._setCurrentPageVisibility=function(i){const t=this.oPagesNavContainer.getCurrentPage();if(t){this._setPageVisibility(t,i,false)}};a._setPageVisibility=function(i,t,e){if(!i){return}if(i.getContent()[0].isA("sap.ushell.ui.launchpad.Page")){const s=i.getBindingContext().getPath();if(this.oPagesVisibility[s]===t){return}this.oPagesVisibility[s]=t;this._visitVisualizations(i,i=>{i.setActive(t,e)})}};a._isPagesNavContainerVisible=function(){return this.oPagesRuntimeNavContainer.getCurrentPage()===this.oPagesNavContainer};a._visitVisualizations=function(i,t){if(!t){return}i.getContent()[0].getSections().forEach(i=>{i.getVisualizations().forEach(t)})};a._onShellNavigated=function(){const i=t.getHash();if(e.isFlpHomeIntent(i)&&this._isPagesNavContainerVisible()){this._setCurrentPageVisibility(true);this._refreshVisualizations()}else{this._setCurrentPageVisibility(false)}return Promise.resolve()};a.addVisualizationForRefresh=function(i){this.aRefreshVisualizations.push(i)};a._refreshVisualizations=function(){this.aRefreshVisualizations.forEach(i=>{i.setActive(i.getActive(),true)});this.aRefreshVisualizations=[]};a._onTabNavigated=function(){const i=t.getHash();if(e.isFlpHomeIntent(i)&&this._isPagesNavContainerVisible()){this._setCurrentPageVisibility(!document.hidden)}return Promise.resolve()};a._onPageNavigated=function(i){if(this._isPagesNavContainerVisible()){const t=i.getParameters();this._setPageVisibility(t.from,false,false);this._setPageVisibility(t.to,true,false)}};a._onOuterNavContainerNavigated=function(i){const t=i.getParameter("to");const e=t===this.oPagesNavContainer;this._setCurrentPageVisibility(e)};a.getPageVisibility=function(i){return this.oPagesVisibility[i]};a.exit=function(){this.oEventBus.unsubscribe("sap.ushell","navigated",this._onShellNavigated,this);document.removeEventListener("visibilitychange",this._onTabNavigatedBind);this.oPagesNavContainer.detachNavigate(this._onPageNavigated,this);this.oPagesRuntimeNavContainer.detachNavigate(this._onOuterNavContainerNavigated,this);this.oEventBus.unsubscribe("launchpad","setConnectionToServer",this._onEnableRequests,this);this.oEventHubListener.off()};return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/pages/controller/ImportDialog.controller", ["sap/base/Log","sap/ui/core/mvc/Controller","sap/ui/core/Fragment","sap/ui/model/json/JSONModel","sap/ushell/components/pages/MyHomeImport","sap/ushell/Config","sap/ushell/library","sap/ushell/resources","sap/ushell/utils/WindowUtils","sap/ushell/Container"],(e,t,i,s,a,o,n,r,l,c)=>{"use strict";const u=n.DisplayFormat;const d={"X-SAP-UI2-CHIP:SSB_NUMERIC":"ssuite/smartbusiness/tiles/numeric","X-SAP-UI2-CHIP:SSB_CONTRIBUTION":"ssuite/smartbusiness/tiles/contribution","X-SAP-UI2-CHIP:SSB_TREND":"ssuite/smartbusiness/tiles/trend","X-SAP-UI2-CHIP:SSB_DEVIATION":"ssuite/smartbusiness/tiles/deviation","X-SAP-UI2-CHIP:SSB_COMPARISON":"ssuite/smartbusiness/tiles/comparison","X-SAP-UI2-CHIP:SSB_BLANK":"ssuite/smartbusiness/tiles/blank","X-SAP-UI2-CHIP:SSB_DUAL":"ssuite/smartbusiness/tiles/dual"};return t.extend("sap.ushell.components.pages.controller.ImportDialog",{open:async function(){if(!this._oDialog){this._oDialog=await i.load({name:"sap.ushell.components.pages.view.ImportDialog",controller:this});this._oDialog.setModel(r.i18nModel,"i18n");this._oDialog.setModel(new s({busy:true,groups:[],PersonalizedGroups:[]}));try{const e=await a.getData();this._oDialog.getModel().setData({busy:false,groups:e,PersonalizedGroups:e.map(e=>({title:e.isDefault?r.i18n.getText("my_group"):e.title,description:e.id,selected:true}))})}catch(e){const t=await c.getServiceAsync("MessageInternal");t.error(e)}}this._oURLParsingService=await c.getServiceAsync("URLParsing");this._oDialog.open();return this._oDialog},close:function(){if(this._oDialog){this._oDialog.close()}},doImport:function(){const e=this._oDialog.getModel();const t=[];e.getProperty("/PersonalizedGroups").forEach(e=>{if(e.selected){t.push(e.description)}});const i=this._prepareImport(t);this._saveImport(i)},_moveVisualization:function(e,t,i,s,a){const o=this._getSectionIndex(e,t,i,a);const n=this._getDefaultSectionIndex(e);const r=this._getDefaultSection(e);let l=0;if(r&&r.visualizations&&r.visualizations.length){l=r.visualizations.length-1}return e.moveVisualization(this.iPageIndex,n,l,o,s)},_updateVisualization:async function(e,t,i,s,a,o){if(i.bUpdateNeeded){const n=this._getSectionIndex(e,t,s,o);const r=this._filterNonSupportedProperties(i,["title","target","subtitle","icon","info","numberUnit","indicatorDataSource","displayFormatHint"]);return e.updateVisualization(this.iPageIndex,n,a,r)}},_addVisualization:function(e,t,i,s,a,o,n){let r;if(t.isABookmark){if(t.isCustomBookmark){this.aPromiseChain.push(async()=>{r=this._filterNonSupportedProperties(t,["title","url","subtitle","icon","info","vizConfig","loadManifest","chipConfig"]);await a.bookmark.addCustomBookmark(t.vizType,r,o);await this._moveVisualization(a.pages,e,s,i,n);return this._updateVisualization(a.pages,e,t,s,i,n)})}else{this.aPromiseChain.push(async()=>{r=this._filterNonSupportedProperties(t,["title","url","icon","info","subtitle","serviceUrl","serviceRefreshInterval","numberUnit"]);await a.bookmark.addBookmark(r,o);await this._moveVisualization(a.pages,e,s,i,n);return this._updateVisualization(a.pages,e,t,s,i,n)})}}else{this.aPromiseChain.push(async()=>{const o=this._getSectionIndex(a.pages,e,s,n);const r=a.pages.getModel().getProperty(`/pages/${this.iPageIndex}/sections/${o}/id`);await a.pages.addVisualization(this.sPageId,r,t.vizId);return this._updateVisualization(a.pages,e,t,s,i,n)})}},_addToPresetSection:function(e,t,i,s,a){const o=this._getPresetSection(i.pages);const n=o.visualizations.filter(e=>e.displayFormatHint!==u.Compact).length;const r=o.visualizations.filter(e=>e.displayFormatHint===u.Compact).length;for(let o=0;o<e.tiles.length;++o){this._addVisualization(e,e.tiles[o],o+n,t,i,s,a)}for(let o=0;o<e.links.length;++o){this._addVisualization(e,e.links[o],o+r+n+e.tiles.length,t,i,s,a)}},_addSection:function(e,t,i,s,a){this.aPromiseChain.push(()=>{const s=this._getSectionIndex(i.pages,e,t,a);return i.pages.addSection(this.iPageIndex,s,{title:e.title})});for(let o=0,n=e.tiles.length;o<n;++o){this._addVisualization(e,e.tiles[o],o,t,i,s,a)}for(let o=0,n=e.links.length;o<n;++o){this._addVisualization(e,e.links[o],o+e.tiles.length,t,i,s,a)}},_getMyHomeContentNode:async function(e){const t=o.last("/core/spaces/myHome/myHomeSpaceId");const i=await e.getContentNodes();const s=i.find(e=>e.id===t);if(!s){return null}return s.children.find(e=>e.id===this.sPageId)},_saveImport:async function(e){this._oDialog.setBusy(true);this.sPageId=o.last("/core/spaces/myHome/myHomePageId");this.aPromiseChain=[];const[t,i,s,a]=await Promise.all([c.getServiceAsync("BookmarkV2"),c.getServiceAsync("MessageInternal"),c.getServiceAsync("Pages"),c.getServiceAsync("UserInfo")]);try{const o=await this._getMyHomeContentNode(t);this.iPageIndex=s.getPageIndex(this.sPageId);s.enableImplicitSave(false);this._performImportOperations(e,{bookmark:t,message:i,pages:s,userInfo:a},o);await this._executeSequentially(this.aPromiseChain);await this._savePersonalizations(s);i.info(r.i18n.getText("MyHome.InitialPage.Message.ImportSuccessful"));a.getUser().setImportBookmarksFlag("done");await a.updateUserPreferences();l.refreshBrowser()}catch(e){i.error(e)}finally{this._oDialog.setBusy(false);this.close()}},_performImportOperations:function(e,t,i){let s;let a=false;for(let o=0,n=e.length;o<n;++o){s=e[o];if(s.isDefault){this._addToPresetSection(s,o,t,i,a);a=true}else{this._addSection(s,o,t,i,a)}}},_executeSequentially:function(t){return t.reduce(async(t,i)=>t.then(()=>i()).catch(t=>{e.error("Failed to execute promise",t)}),Promise.resolve())},_getSectionIndex:function(e,t,i,s){const a=this._getPresetSectionIndex(e);if(!t.isDefault&&!t.isLocked&&!s){return a+i+1}return a+i},_getPresetSectionIndex:function(e){const t=e.getModel().getProperty(`/pages/${this.iPageIndex}/sections/`);return t.findIndex(e=>e.id===o.last("/core/spaces/myHome/presetSectionId"))},_getDefaultSectionIndex:function(e){const t=e.getModel().getProperty(`/pages/${this.iPageIndex}/sections/`);return t.findIndex(e=>e.default)},_getPresetSection:function(e){const t=e.getModel().getProperty(`/pages/${this.iPageIndex}/sections/`);return t.find(e=>e.id===o.last("/core/spaces/myHome/presetSectionId"))},_getDefaultSection:function(e){const t=e.getModel().getProperty(`/pages/${this.iPageIndex}/sections/`);return t.find(e=>e.default)},_gatherVizDataObjectFromChipInstance:function(t){let i;const s={vizId:t.chipId,isABookmark:!!t.configuration};const a=t.Chip&&t.Chip.referenceChipId;if(a&&a!=="O"){s.vizId=t.Chip.referenceChipId}if(s.isABookmark){s.isCustomBookmark=["X-SAP-UI2-CHIP:/UI2/STATIC_APPLAUNCHER","X-SAP-UI2-CHIP:/UI2/DYNAMIC_APPLAUNCHER"].indexOf(t.chipId)===-1;i=JSON.parse(JSON.parse(t.configuration).tileConfiguration);s.title=i.display_title_text;s.url=i.navigation_target_url;s.icon=i.display_icon_url;s.info=i.display_info_text;s.subtitle=i.display_subtitle_text;s.serviceUrl=i.service_url;s.serviceRefreshInterval=i.service_refresh_interval;s.numberUnit=i.display_number_unit}if(s.isCustomBookmark){if(i.TILE_PROPERTIES){try{const e=JSON.parse(i.TILE_PROPERTIES);if(!s.url&&e.semanticObject&&e.semanticAction){const t={};if(e.evaluationId){t.EvaluationId=e.evaluationId}s.url=`#${this._oURLParsingService.constructShellHash({target:{semanticObject:e.semanticObject,action:e.semanticAction},params:t})}`}if(e.title){s.title=e.title}if(e.subtitle){s.subtitle=e.subtitle}}catch(t){e.error(`Could not create URL for custom bookmark with title: ${s.title}, Error Message: ${t.message}`)}}s.vizConfig={};s.loadManifest=true;s.vizType=d[t.chipId];s.chipConfig={chipId:t.chipId,bags:{},configuration:JSON.parse(t.configuration)}}const o=t.ChipInstanceBags.results;if(o.length){s.bUpdateNeeded=!s.isABookmark;if(s.isCustomBookmark){o.forEach(e=>{s.chipConfig.bags[e.id]={properties:{},texts:{}};e.ChipInstanceProperties.results.forEach(t=>{if(t.translatable==="X"){s.chipConfig.bags[e.id].texts[t.name]=t.value}else{s.chipConfig.bags[e.id].properties[t.name]=t.value}})})}o.filter(e=>e.id==="tileProperties").forEach(e=>{e.ChipInstanceProperties.results.forEach(e=>{switch(e.name){case"display_title_text":s.title=e.value||s.title;break;case"display_subtitle_text":s.subtitle=e.value||s.subtitle;break;case"display_info_text":s.info=e.value||s.info;break;case"display_search_keywords":s.searchKeyword=e.value;break;default:break}})});o.filter(e=>e.id==="sb_tileProperties").forEach(e=>{e.ChipInstanceProperties.results.forEach(e=>{switch(e.name){case"title":s.title=e.value;break;case"description":s.subtitle=e.value;break;default:break}})})}return s},_savePersonalizations:async function(e){e.enableImplicitSave(true);await e.savePersonalization(this.sPageId);e.enableImplicitSave(false)},_prepareImport:function(e){const t={};const i=this._oDialog.getModel();const s=i.getProperty("/groups");let a;let o;s.forEach(i=>{if(e.indexOf(i.id)===-1){return}a={};i.chips.forEach(e=>{o=this._gatherVizDataObjectFromChipInstance(e);a[e.instanceId]=o});i.tiles=[];i.tileOrder.forEach(e=>{o=a[e];if(o){delete a[e];i.tiles.push(o)}});i.links=[];i.linkOrder.forEach(e=>{o=a[e];if(o){delete a[e];o.displayFormatHint=u.Compact;o.bUpdateNeeded=true;i.links.push(o)}});Object.keys(a).forEach(e=>{i.tiles.push(a[e])});t[i.id]=i});const n=[];let r;e.forEach(e=>{r=t[e];if(r){n.push(r)}});return n},_filterNonSupportedProperties:function(e,t){const i={};Object.keys(e).forEach(s=>{if(t.includes(s)){i[s]=e[s]}});return i}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/pages/controller/MyHome.controller", ["sap/ushell/components/pages/MyHomeImport","sap/ui/model/json/JSONModel","sap/ui/core/mvc/Controller","sap/ushell/resources","sap/ushell/EventHub","sap/base/Log"],(e,o,i,n,s,t)=>{"use strict";return i.extend("sap.ushell.components.pages.controller.MyHome",{onInit:function(){this.oViewModel=new o({personalizationAvailable:false});const i=function(e){this.oViewModel.setProperty("/personalizationAvailable",!!e)}.bind(this);this.getView().setModel(n.i18nModel,"i18n");this.getView().setModel(this.oViewModel,"view");e.isImportEnabled().then(i);this.oImportBookmarksFlagListener=s.on("importBookmarksFlag").do(i)},onExit:function(){this.oImportBookmarksFlagListener.off()},connect:function(e){this.fnOnEdit=e.onEdit;this.fnOnOpenDialog=e.onOpenDialog},onEditPress:function(){if(this.fnOnEdit){this.fnOnEdit()}},onImportDialogPress:function(){if(this.fnOnOpenDialog){this.fnOnOpenDialog()}},onMessageStripClose:function(){this.oViewModel.setProperty("/personalizationAvailable",false);e.setImportEnabled(false);sap.ui.require(["sap/m/MessageBox"],e=>{e.information(n.i18n.getText("MyHome.InitialPage.MessageStrip.Popup"))})}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/pages/controller/PageRuntime.controller", ["sap/ui/core/Element","sap/ui/core/EventBus","sap/ui/core/CustomData","sap/ushell/library","sap/ui/core/mvc/Controller","sap/ui/events/KeyCodes","sap/m/GenericTile","sap/ushell/resources","sap/ui/model/json/JSONModel","sap/ushell/Config","sap/m/library","sap/m/MessageToast","sap/ushell/components/pages/StateManager","sap/ushell/EventHub","sap/ushell/utils","sap/m/Button","sap/base/strings/capitalize","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ushell/components/pages/controller/PagesAndSpaceId","sap/ushell/components/pages/MyHomeImport","sap/ui/thirdparty/hasher","sap/base/Log","sap/ushell/ui/launchpad/ActionItem","sap/ushell/ui/launchpad/Section","sap/ushell/Container","sap/ushell/navigation/NavigationState","sap/ushell/utils/LaunchpadError","sap/ui/dom/jquery/Focusable"],(e,t,i,n,o,a,s,r,l,c,d,g,h,u,p,m,f,P,_,S,M,v,C,y,w,A,b,I)=>{"use strict";const T=d.LoadState;const z=n.DisplayFormat;return o.extend("sap.ushell.components.pages.controller.Pages",{onInit:function(){this._setPerformanceMark("FLP-PagesRuntime-onInit");this._oVisualizationInstantiationServicePromise=A.getServiceAsync("VisualizationInstantiation");this._oURLParsingService=A.getServiceAsync("URLParsing");this._oViewSettingsModel=new l({sizeBehavior:c.last("/core/home/sizeBehavior"),actionModeActive:false,actionModeEditActive:false,showHideButton:c.last("/core/catalog/enableHideGroups"),showAddButton:c.last("/core/catalog/enabled"),personalizationEnabled:c.last("/core/shell/enablePersonalization"),isNavigationRunning:b.isNavigationRunning(),addToMyHomeOnly:false,gridContainerGap:[],gridContainerRowSize:[]});this.getView().setModel(this._oViewSettingsModel,"viewSettings");this._sMyHomePageId=c.last("/core/spaces/myHome/myHomePageId");this._aConfigListeners=c.on("/core/home/sizeBehavior").do(e=>{this._oViewSettingsModel.setProperty("/sizeBehavior",e)});this._oErrorPageModel=new l({title:"",description:"",details:"",pageAndSpaceId:"",technicalError:""});this.getView().setModel(this._oErrorPageModel,"errorPage");this.oInitFinishedPromise=Promise.all([this._oVisualizationInstantiationServicePromise,this.getOwnerComponent().getPagesService()]).then(e=>{this._oVisualizationInstantiationService=e[0];this.getView().setModel(e[1].getModel())});const e=A.getRendererInternal();this.bIsHomeIntentRootIntent=p.isFlpHomeIntent(e.getShellConfig().rootIntent);this.oErrorPage=this.byId("errorPage");this.oEmptyPage=this.byId("emptyPage");this.oPagesNavContainer=this.byId("pagesNavContainer");this.oPagesRuntimeNavContainer=this.byId("pagesRuntimeNavContainer");this.oPagesRuntimeNavContainer.to(this.oEmptyPage);h.init(this.oPagesRuntimeNavContainer,this.oPagesNavContainer);this.oEventHubListener=u.once("PagesRuntimeRendered").do(this._onFirstPageRendering.bind(this));this._oEventBus=t.getInstance();this._oEventBus.subscribe("launchpad","shellFloatingContainerIsDocked",this._handleUshellContainerDocked,this);this._oEventBus.subscribe("launchpad","shellFloatingContainerIsUnDocked",this._handleUshellContainerDocked,this);b.attachNavigationStateChanged(this._handleNavigationStateChanged,this);this.oVisualizationInstantiationListener=u.on("VizInstanceLoaded").do(()=>{this._setPerformanceMark("FLP-TTI-Homepage");if(!this.oVisualizationInstantiationListenerTimeout){this.oVisualizationInstantiationListenerTimeout=setTimeout(()=>{this.oVisualizationInstantiationListener.off()},5e3)}});this.fnBoundSetGridContainerSizes=this._setGridContainerSizes.bind(this);c.on("/core/home/sizeBehavior").do(this.fnBoundSetGridContainerSizes);u.on("themeChanged").do(this.fnBoundSetGridContainerSizes);this.sCurrentTargetPageId="";this._oInitPromise=this._openFLPPage().then(()=>{if(!document.activeElement||document.activeElement===document.body){const e=this.oPagesNavContainer.getCurrentPage();const t=e&&e.getContent()[0];const i=t&&t.getSections()[0];if(i){i.focus()}else{const e=this.oPagesNavContainer.$().firstFocusableDomRef();if(e){e.focus()}}}if(!this.getOwnerComponent().getNavigationDisabled()){this.oContainerRouter=e.getRouter();this.oContainerRouter.getRoute("home").attachMatched(this.onRouteMatched.bind(this,true));this.oContainerRouter.getRoute("openFLPPage").attachMatched(this.onRouteMatched.bind(this,false))}})},_setGridContainerSizes:async function(){const e=c.last("/core/home/sizeBehavior");const t=this.getView().getModel("viewSettings");const i=e==="Small"?"_sap_ushell_Tile_SpacingXS":"_sap_ushell_Tile_Spacing";const n=e==="Small"?"_sap_ushell_Tile_SpacingXS":"_sap_ushell_Tile_SpacingS";const[o,a,s]=await p.getThemingParameters([i,"_sap_ushell_Tile_SpacingXS",n]);t.setProperty("/gridContainerGap/gridContainerGap",this._formatNumericThemeParam(o));t.setProperty("/gridContainerGap/gridContainerGapXS",this._formatNumericThemeParam(a));t.setProperty("/gridContainerGap/gridContainerGapS",this._formatNumericThemeParam(s));t.setProperty("/gridContainerGap/gridContainerGapM",this._formatNumericThemeParam(o));t.setProperty("/gridContainerGap/gridContainerGapL",this._formatNumericThemeParam(o));t.setProperty("/gridContainerGap/gridContainerGapXL",this._formatNumericThemeParam(o));const r=e==="Small"?"_sap_ushell_Tile_WidthXS":"_sap_ushell_Tile_Width";const l=e==="Small"?"_sap_ushell_Tile_WidthXS":"_sap_ushell_Tile_WidthS";const[d,g,h]=await p.getThemingParameters([r,"_sap_ushell_Tile_WidthXS",l]);t.setProperty("/gridContainerRowSize/gridContainerRowSize",this._formatNumericThemeParam(d));t.setProperty("/gridContainerRowSize/gridContainerRowSizeXS",this._formatNumericThemeParam(g));t.setProperty("/gridContainerRowSize/gridContainerRowSizeS",this._formatNumericThemeParam(h));t.setProperty("/gridContainerRowSize/gridContainerRowSizeM",this._formatNumericThemeParam(d));t.setProperty("/gridContainerRowSize/gridContainerRowSizeL",this._formatNumericThemeParam(d));t.setProperty("/gridContainerRowSize/gridContainerRowSizeXL",this._formatNumericThemeParam(d))},_formatNumericThemeParam:function(e){if(e&&e.indexOf(".")===0){e=`0${e}`}return e},_isMyHomeEnabled:function(){return c.last("/core/spaces/myHome/userEnabled")&&c.last("/core/spaces/myHome/enabled")},_getMyHomeTitle:function(){return A.getServiceAsync("Menu").then(e=>e.getMyHomeSpace()).then(e=>{if(!e||!e.children.length){return""}return e.children[0].label})},_onFirstPageRendering:function(){const e=c.last("/core/shell/enablePersonalization");const t=this._isMyHomeEnabled();if(e){this._createActionModeButton()}else if(t){this._getMyHomeTitle().then(this._createActionModeButton.bind(this))}u.emit("firstSegmentCompleteLoaded",true)},_handleNavigationStateChanged:function(e){const t=e.getParameter("isNavigationRunning");this._oViewSettingsModel.setProperty("/isNavigationRunning",t)},_updateHomeUri:function(e){const t=c.last("/core/shellHeader/rootIntent");if(c.last("/core/spaces/homeNavigationTarget")==="origin_page"){const i=e?encodeURI(e.hash):t;c.emit("/core/shellHeader/homeUri",`#${i}`)}},onRouteMatched:function(t){const i=c.last("/core/homeApp/enabled");const n=i&&t;C.debug("cep/editMode: on Route matched","Page runtime");this._removeMyHomePage();if(!n){this._openFLPPage()}else{this._cancelActionMode();this.oPagesRuntimeNavContainer.to(this.oEmptyPage);this._updateHomeUri(undefined);c.emit("/core/spaces/currentSpaceAndPage",undefined)}const o=e.getElementById("ActionModeBtn");if(!o){return}const a=A.getRendererInternal("fiori2");const s=this._getStateInfoActionModeButton();if(n){if(this._moveEditActionToHeader()){a.hideHeaderEndItem(o.getId(),s.bCurrentState,s.aStates)}else{a.hideActionButton(o.getId(),s.bCurrentState,s.aStates)}return}if(!t&&i){if(this._moveEditActionToHeader()){a.showHeaderEndItem(o.getId(),s.bCurrentState,s.aStates)}else{a.showActionButton(o.getId(),s.bCurrentState,s.aStates)}return}if(!this.bIsHomeIntentRootIntent){if(this._moveEditActionToHeader()){a.showHeaderEndItem(o.getId(),s.bCurrentState,s.aStates)}else{a.showActionButton(o.getId(),s.bCurrentState,s.aStates)}}},_setPerformanceMark:function(e){p.setPerformanceMark(e,{bUseUniqueMark:true,bUseLastMark:true})},_setActionButtonText:function(t){t=t||this._sActionModeTextId;if(!t){return}this._sActionModeTextId=t;this._getMyHomeTitle().then(i=>{const n=e.getElementById("ActionModeBtn");if(n){const e=r.i18n.getText(t,[i]);n.setText(e);n.setTooltip(e)}})},_setActionModeLogic:function(e){let t=false;let i=false;if(c.last("/core/shell/enablePersonalization")){t=true}else if(e){t=true;this._setActionButtonText("PageRuntime.EditModeForPage.Activate")}else if(this._isMyHomeEnabled()){i=true;this._setActionButtonText("PageRuntime.EditModeForPage.AddTilesToMyHome")}this._oViewSettingsModel.setProperty("/personalizationEnabled",t);this._oViewSettingsModel.setProperty("/addToMyHomeOnly",i)},_openFLPPage:function(){return S.getPageAndSpaceId().then(({pageId:e,spaceId:t})=>{this.sCurrentTargetPageId=e;this.sCurrentTargetSpaceId=t;return Promise.all([this.oInitFinishedPromise,A.getServiceAsync("Menu")]).then(i=>{const n=i[1];return n.isSpacePageAssigned(t,e)}).then(e=>{if(!e){const e="The combination of space and page is not assigned to the user.";throw new I(e)}return this.getOwnerComponent().getPagesService()}).then(t=>{C.debug(`cep/editMode: load Page: ${e}`,"Page runtime");return t.loadPage(e)}).then(async()=>{C.debug(`cep/editMode: load Page: show action mode button ${e}`,"Page runtime");this._showActionModeButton();if(this.sCurrentTargetPageId===e){const i=this._isMyHomeRouteActive();this._setActionModeLogic(i);if(i&&this._isMyHomePageEmpty()){await this._navigateToInitialMyHome()}else{await this._navigate(e,t)}return this._onAfterPageNavigated(e,t)}}).catch(i=>this.navigateToErrorPage(i,e,t))}).catch(this.navigateToErrorPage.bind(this))},navigateToErrorPage:function(e,t,i){C.debug("cep/editMode: open FLP Page: Handle errors","Page runtime");if(t&&i){this._oErrorPageModel.setProperty("/title",r.i18n.getText("PageRuntime.CannotLoadPage.Title"));this._oErrorPageModel.setProperty("/pageAndSpaceId",r.i18n.getText("PageRuntime.CannotLoadPage.PageAndSpaceId",[t,i]))}else{this._oErrorPageModel.setProperty("/title",r.i18n.getText("PageRuntime.GeneralError.Text"));this._oErrorPageModel.setProperty("/pageAndSpaceId","")}if(e instanceof Error&&!(e instanceof I)){this._oErrorPageModel.setProperty("/details",e.message);this._oErrorPageModel.setProperty("/technicalError",e.stack)}else{let t;if(e instanceof I){t=e.details?.translatedMessage||e.message}else{t=JSON.stringify(e)}this._oErrorPageModel.setProperty("/details",r.i18n.getText("PageRuntime.CannotLoadPage.SystemErrorMessagePrefix"));this._oErrorPageModel.setProperty("/technicalError",t)}this._oErrorPageModel.setProperty("/description","");this.oPagesRuntimeNavContainer.to(this.oErrorPage);this._hideActionModeButton();this._cancelActionMode();this._onAfterPageNavigated()},_navigate:async function(e,t,i){const n=this.oPagesNavContainer.getPages().find(t=>e===t.data("pageId"));if(!n){throw new Error("Page control not found")}const o=await A.getServiceAsync("Menu");const a=this.oPagesNavContainer.getCurrentPage()===n;this.oPagesNavContainer.to(n);this.oPagesRuntimeNavContainer.to(this.oPagesNavContainer);if(!a&&!i){this._cancelActionMode()}const s=await o.getSpaceAndPageTitles(t,e);const r=await o.hasMultiplePages(t);const l=await o.isPinned(t);const d=c.last("/core/menu/enabled");const g=c.last("/core/sideNavigation/enabled");const h=c.last("/core/sideNavigation/mode");const u=!l||l&&!d&&g&&h==="Popover";const p=n.getContent()[0];const m=r||!l;p.setTitle(this._formatPageTitle(s.pageTitle,s.spaceTitle,r,u));p.setShowTitle(m);const f={pageTitle:s.pageTitle,spaceTitle:s.spaceTitle,hash:v.getHash()};this._updateHomeUri(f);c.emit("/core/spaces/currentSpaceAndPage",f)},_navigateToInitialMyHome:async function(){if(!this._pLoadMyHomeView){this._pLoadMyHomeView=new Promise((e,t)=>{sap.ui.require(["sap/ui/core/mvc/XMLView"],i=>{i.create({id:"sapUshellMyHomePage",viewName:"sap.ushell.components.pages.view.MyHomeStart"}).then(t=>{t.getController().connect({onEdit:this.pressActionModeButton.bind(this),onOpenDialog:this.openMyHomeImportDialog.bind(this)});e(t)}).catch(t)},t)})}return this._pLoadMyHomeView.then(e=>{this._cancelActionMode();this.oPagesRuntimeNavContainer.insertPage(e,0);this.oPagesRuntimeNavContainer.to(e)})},_onAfterPageNavigated:function(){if(this.sCurrentTargetPageId&&this.sCurrentTargetSpaceId){u.emit("PageRendered",{time:Date.now(),pageId:this.sCurrentTargetPageId,spaceId:this.sCurrentTargetSpaceId})}if(!u.last("PagesRuntimeRendered")){u.emit("PagesRuntimeRendered",true)}else{u.emit("CloseFesrRecord",Date.now())}},_pressViewDetailsButton:async function(){if(!this._oDetailsDialogPromise){this._oDetailsDialogPromise=new Promise((e,t)=>{sap.ui.require(["sap/ui/core/Fragment"],async i=>{try{const t=await i.load({name:"sap.ushell.components.pages.fragment.DialogPageNotExists",controller:this});this.getView().addDependent(t);e(t)}catch(e){t(e)}},t)})}const e=await this._oDetailsDialogPromise;e.open()},_onDialogClose:async function(){const e=await this._oDetailsDialogPromise;e.close()},_copyToClipboard:function(){let e;if(this._oErrorPageModel.getProperty("/pageAndSpaceId")){e=`${this._oErrorPageModel.getProperty("/technicalError")}\n${this._oErrorPageModel.getProperty("/pageAndSpaceId")}`}else{e=this._oErrorPageModel.getProperty("/technicalError")}const t=p.copyToClipboard(e);if(t){g.show(r.i18n.getText("PageRuntime.CannotLoadPage.CopySuccess"),{closeOnBrowserNavigation:false})}else{g.show(r.i18n.getText("PageRuntime.CannotLoadPage.CopyFail"),{closeOnBrowserNavigation:false})}},_sectionFactory:function(e,t){return new w({title:"{title}",sizeBehavior:"{viewSettings>/sizeBehavior}",dataHelpId:"Section-{id}",ariaLabel:{parts:[{path:"title"},{value:t.getPath()},{path:"viewSettings>/actionModeEditActive"}],formatter:this._formatSectionAriaLabel.bind(this)},default:"{default}",visualizations:{path:"visualizations",factory:this._visualizationFactory.bind(this),key:"id"},gridContainerGap:"{viewSettings>/gridContainerGap/gridContainerGap}",gridContainerGapXS:"{viewSettings>/gridContainerGap/gridContainerGapXS}",gridContainerGapS:"{viewSettings>/gridContainerGap/gridContainerGapS}",gridContainerGapM:"{viewSettings>/gridContainerGap/gridContainerGapM}",gridContainerGapL:"{viewSettings>/gridContainerGap/gridContainerGapL}",gridContainerGapXL:"{viewSettings>/gridContainerGap/gridContainerGapXL}",gridContainerRowSize:"{viewSettings>/gridContainerRowSize/gridContainerRowSize}",gridContainerRowSizeXS:"{viewSettings>/gridContainerRowSize/gridContainerRowSizeXS}",gridContainerRowSizeS:"{viewSettings>/gridContainerRowSize/gridContainerRowSizeS}",gridContainerRowSizeM:"{viewSettings>/gridContainerRowSize/gridContainerRowSizeM}",gridContainerRowSizeL:"{viewSettings>/gridContainerRowSize/gridContainerRowSizeL}",gridContainerRowSizeXL:"{viewSettings>/gridContainerRowSize/gridContainerRowSizeXL}",enableGridBreakpoints:false,enableGridContainerQuery:"{viewSettings>/ushellContainerDocked}",editable:"{viewSettings>/actionModeEditActive}",add:this.handleEditModeAction.bind(this,"addVisualization"),delete:this.handleEditModeAction.bind(this,"deleteSection"),reset:this.handleEditModeAction.bind(this,"resetSection"),sectionVisibilityChange:this.handleEditModeAction.bind(this,"changeSectionVisibility"),titleChange:this.handleEditModeAction.bind(this,"changeSectionTitle"),enableVisualizationReordering:"{= ${viewSettings>/personalizationEnabled} && !${viewSettings>/isNavigationRunning} }",areaDragEnter:this.onAreaDragEnter.bind(this),visualizationDrop:this.moveVisualization.bind(this),showSection:"{visible}",visible:"{= !!${visualizations}.length || ${viewSettings>/actionModeEditActive} }",noVisualizationsText:"{i18n>PageRuntime.EditMode.EmptySection}",showNoVisualizationsText:true,enableAddButton:"{viewSettings>/showAddButton}",enableResetButton:{parts:["id","preset"],formatter:this._sectionEnableReset.bind(this)},enableDeleteButton:{parts:["id","preset"],formatter:this._sectionEnableDelete.bind(this)},enableShowHideButton:"{viewSettings>/showHideButton}"}).addStyleClass("sapContrastPlus")},_visualizationFactory:function(e,t){if(this._oVisualizationInstantiationService){const e=t.getObject();const i=t.getPath();const n=i.replace(/\/visualizations\/\d*\/?$/,"");const o=n.replace(/\/sections\/\d*\/?$/,"");const a=t.getModel().getProperty(o);const s=this._oVisualizationInstantiationService.instantiateVisualization(e);s.attachPress(this.onVisualizationPress,this);s.bindEditable("viewSettings>/actionModeActive");s.bindClickable({path:"viewSettings>/isNavigationRunning",formatter:e=>!e});if(s.bindRemovable){s.bindRemovable("viewSettings>/actionModeEditActive")}this._addTileActions(s,a?a.id:"");s.attachBeforeActionSheetOpen(()=>{const e=this._createMoveTileActionButton(s,a);if(e){s.attachEventOnce("afterActionSheetClose",()=>{s.removeTileAction(e)})}});const r=t.getPath().split("/")[2];const l=!!h.getPageVisibility(`/pages/${r}`);s.setActive(l);return s}return new s({state:T.Failed})},_addTileActions:function(e,t){const i=e.getAvailableDisplayFormats();const n=c.last("/core/shell/enablePersonalization");const o=this._isMyHomeEnabled();const a=t===this._sMyHomePageId;if(n||a){for(let t=0;t<i.length;t++){e.addTileAction(new m({text:`{i18n>VisualizationInstance.ConvertTo${f(i[t])}Action}`,press:[i[t],this._updateVisualizationDisplayFormat,this]}))}}if(o&&!a){e.addTileAction(new m({text:"{i18n>addToMyHome_action}",press:[e,this._addToMyHome,this]}))}},_createMoveTileActionButton:function(e,t){const i=t?t.id:"";const n=i===this._sMyHomePageId;const o=c.last("/core/shell/enablePersonalization");const a=t.sections.filter(e=>!e.default);const s=e.getParent().getBindingContext().getProperty("default");if((o||n)&&a.length>=(s?1:2)){const t=new m({text:r.i18n.getText("moveTile_action"),press:[e,this._openMoveVisualizationDialog,this]});e.addTileAction(t);return t}},_openMoveVisualizationDialog:async function(e,t){this._oVizInstanceToBeMoved=t;const i=t.getBindingContext().getPath();const n=i.split("/");const o=t.getParent().getBindingContext().getProperty("id");const a=`/pages/${n[2]}/sections`;if(!this._oMoveVisualizationDialogPromise){this._oMoveVisualizationDialogPromise=new Promise((e,t)=>{sap.ui.require(["sap/ui/core/Fragment"],async i=>{try{const t=await i.load({name:"sap.ushell.components.pages.MoveVisualization",controller:this});this.getView().addDependent(t);e(t)}catch(e){t(e)}},t)})}const s=await this._oMoveVisualizationDialogPromise;s.bindObject({path:a});s.getBinding("items").filter([new P("default",_.EQ,false),new P("id",_.NE,o)]);s.open()},_addToMyHome:function(e,t){const i=t.getBindingContext().getObject();return this.getOwnerComponent().getPagesService().then(e=>e.copyVisualization(this._sMyHomePageId,null,i)).then(()=>{g.show(r.i18n.getText("PageRuntime.Message.VisualizationAddedToMyHome"))})},_confirmSelect:function(e){const t=this._oVizInstanceToBeMoved.getBindingContext().getPath();const i=t.split("/");const n=i[2];const o=i[4];const a=i[6];const s=e.getParameter("selectedItem").getBindingContext().getPath();const r=s.split("/");const l=r[4];const c=this._getAncestorControl(this._oVizInstanceToBeMoved,"sap.ushell.ui.launchpad.Section");const d=this._getAncestorControl(this._oVizInstanceToBeMoved,"sap.ushell.ui.launchpad.Page");const h=d.getSections();const u=h[l];const p=c.getItemPosition(this._oVizInstanceToBeMoved).area;this._oVizInstanceToBeMoved=null;const m=this.getOwnerComponent();return m.getPagesService().then(e=>e.moveVisualization(n,o,a,l,-1)).then(e=>{const t=u.getVisualizations()[e.visualizationIndex];if(t){u.focusVisualization(t)}const i=this._getVizMoveMessage(o,l,p,p);g.show(i)})},_onMoveTileSearch:function(e){const t=e.getParameter("value");const i=new P("title",_.Contains,t);const n=new P("default",_.EQ,false);const o=e.getParameter("itemsBinding");o.filter([i,n])},_onMoveTileDialogClose:function(e){this._oVizInstanceToBeMoved=null},_getVizInstanceById:function(e,t,i){const n=this.byId("pagesNavContainer");const o=n.getPages().find(t=>t.getBindingContext().getObject().id===e);if(!o){return null}const a=o.getContent()[0];const s=a.getSections().find(e=>e.getBindingContext().getObject().id===t);if(!s){return null}const r=s.getVisualizations().find(e=>e.getBindingContext().getObject().id===i);return r||null},_updateVisualizationDisplayFormat:function(e,t){const i=e.getSource().getBindingContext();const n=i.getPath();const o=n.split("/");let a;const s=o[4];const r=o[4];const l=this.getOwnerComponent();return l.getPagesService().then(e=>{a=e.getModel().getProperty(n).displayFormatHint;const i={displayFormatHint:t};return e.updateVisualization(o[2],o[4],o[6],i)}).then(e=>{const i=this._getVizInstanceById(e.pageId,e.sectionId,e.vizRefId);const n=this._getAncestorControl(i,"sap.ushell.ui.launchpad.Section");if(n){n.focusVisualization(i)}const o=this._getVizMoveMessage(s,r,a,t);g.show(o)})},onVisualizationPress:function(e){const t=e.getParameter("scope");const i=e.getParameter("action");const n=e.getSource();const o=n.getBindingContext();const a=o.getPath();const s=a.split("/");const l=this._getAncestorControl(n,"sap.ushell.ui.launchpad.Section");if(t==="Display"&&i==="Press"){h.addVisualizationForRefresh(n)}else if(t==="Actions"&&i==="Remove"){return this.getOwnerComponent().getPagesService().then(e=>{const t=l.getItemPosition(n);e.deleteVisualization(s[2],s[4],s[6]);g.show(r.i18n.getText("PageRuntime.Message.VisualizationRemoved"));l._focusItem(t)})}return Promise.resolve()},onExit:function(){this.oContainerRouter.getRoute("home").detachMatched(this.onRouteMatched,this);this.oContainerRouter.getRoute("openFLPPage").detachMatched(this.onRouteMatched,this);this._aConfigListeners.off();this.oEventHubListener.off();this._oEventBus.unsubscribe("launchpad","shellFloatingContainerIsDocked",this._handleUshellContainerDocked,this);this._oEventBus.unsubscribe("launchpad","shellFloatingContainerIsUnDocked",this._handleUshellContainerDocked,this);b.detachNavigationStateChanged(this._handleNavigationStateChanged,this);h.exit();const t=e.getElementById("ActionModeBtn");if(t){t.destroy()}},_hideActionModeButton:function(){const t=e.getElementById("ActionModeBtn");C.debug("cep/editMode: hide Action Mode Button","Page runtime");if(t){t.setVisible(false)}},_showActionModeButton:function(){const t=e.getElementById("ActionModeBtn");if(t){t.setVisible(true)}},_moveEditActionToHeader:function(){const e=A.getRendererInternal("fiori2");const t=e.getShellConfig().moveEditHomePageActionToShellHeader;return t&&c.last("/core/shell/enablePersonalization")},_createActionModeButton:async function(e){const t=e?r.i18n.getText("PageRuntime.EditModeForPage.Activate",[e]):r.i18n.getText("PageRuntime.EditMode.Activate");const i={id:"ActionModeBtn",text:t,icon:"sap-icon://edit",press:[this.pressActionModeButton,this]};C.debug("cep/editMode: create Action Mode Button","Page runtime");if(this._moveEditActionToHeader()){i.tooltip=t;await this._createHeaderActionModeButton(i)}else{this._createUserActionModeButton(i)}},_createHeaderActionModeButton:async function(e){let t="sap/ushell/ui/shell/ShellHeadItem";if(c.last("/core/shellBar/enabled")){t="sap/ushell/gen/ui5/webcomponents-fiori/dist/ShellBarItem";if(e.press){e.click=e.press;delete e.press}}const[n]=await p.requireAsync([t]);const o=new n(e);if(c.last("/core/extension/enableHelp")){o.addStyleClass("help-id-ActionModeBtn");o.addCustomData(new i({key:"help-id",value:"ActionModeBtn",writeToDom:true}))}const a=A.getRendererInternal("fiori2");const s=this._getStateInfoActionModeButton();a.showHeaderEndItem(o.getId(),s.bCurrentState,s.aStates)},_getStateInfoActionModeButton:function(){if(!this.bIsHomeIntentRootIntent){return{bCurrentState:true,aStates:null}}return{bCurrentState:false,aStates:["home"]}},_createUserActionModeButton:function(e){const t=this._getStateInfoActionModeButton();new y(e);const i={controlType:"sap.ushell.ui.launchpad.ActionItem",oControlProperties:e,bIsVisible:true,bCurrentState:t.bCurrentState,aStates:t.aStates};const n=A.getRendererInternal("fiori2");n.addUserAction(i).done(e=>{if(c.last("/core/extension/enableHelp")){e.addStyleClass("help-id-ActionModeBtn")}this._setActionButtonText()})},pressActionModeButton:function(){const e=this.getView().getModel("viewSettings");const t=e.getProperty("/actionModeActive");const i=e.getProperty("/personalizationEnabled");const n=e.getProperty("/addToMyHomeOnly");sap.ui.require(["sap/ushell/components/pages/ActionMode"],e=>{if(t){e.cancel();return}else if(i||n||this._isMyHomeRouteActive()){e.start(this,n?r.i18n.getText("PageRuntime.EditMode.ExitAddTilesMode"):null)}})},_cancelActionMode:function(){const e=this.getView().getModel("viewSettings").getProperty("/actionModeActive");if(e){sap.ui.require(["sap/ushell/components/pages/ActionMode"],e=>{e.cancel()})}},handleEditModeAction:function(e,t){const i=t.getSource();const n=t.getParameters();sap.ui.require(["sap/ushell/components/pages/ActionMode"],o=>{C.debug("cep/editMode: handle Edit Mode Action","Page runtime");o[e](t,i,n)})},_getAncestorControl:function(e,t){if(e&&e.isA&&e.isA(t)){return e}else if(e&&e.getParent){return this._getAncestorControl(e.getParent(),t)}return null},moveVisualization:function(e){const t=e.getParameter("draggedControl");let i=e.getParameter("droppedControl");let n=e.getParameter("dropPosition");const o=e.getParameter("browserEvent");const s=o&&o.keyCode;const r=this._getAncestorControl(t,"sap.ushell.ui.launchpad.Page");const l=parseInt(t.getBindingContext().getPath().split("/")[2],10);const c=this._getAncestorControl(t,"sap.ushell.ui.launchpad.Section");const d=r.indexOfSection(c);const h=c.indexOfVisualization(t);const u=c.getVisualizations()[h];const p=c.getItemPosition(u);let m;let f;let P;let _;let S;if(!i){const i=e.mParameters.browserEvent.keyCode===a.ARROW_UP;const n=r.getSections();f=d;while(true){f=i?--f:++f;m=n[f];if(!m||m.getDefault()){u.invalidate();return Promise.resolve()}if(m.getShowSection()||m.getEditable()){P=m.getClosestCompactItemIndex(t.getDomRef(),i);_=m.getVisualizations()[P];S=m.getItemPosition(_);if(S.area!==p.area){S=p}break}}}else{if(i.isA("sap.ushell.ui.launchpad.section.CompactArea")){const e=i.getItems();if(e.length){i=e[e.length-1];n="After"}}m=this._getAncestorControl(i,"sap.ushell.ui.launchpad.Section");f=r.indexOfSection(m);if(m.getDefault()&&!c.getDefault()){u.invalidate();return Promise.resolve()}P=m.indexOfVisualization(i);_=m.getVisualizations()[P];S=m.getItemPosition(_);if(S.index===-1){S.area=p.area}if(d===f){if(n==="Before"&&h<P){P--}else if(n==="After"&&h>P){P++}if(h===P&&S.area===p.area){u.invalidate();return Promise.resolve()}}else if(n==="After"){P++}}if(d!==f&&(s===a.ARROW_UP||s===a.ARROW_DOWN)&&p.index>S.index){P++}let M;const v=this.getOwnerComponent();return v.getPagesService().then(e=>{M=e;M.enableImplicitSave(false);return M.moveVisualization(l,d,h,f,P)}).then(e=>{P=e.visualizationIndex;if(p.area!==S.area){const e={displayFormatHint:S.area};return M.updateVisualization(l,f,P,e)}return Promise.resolve()}).then(()=>M.savePersonalization()).then(()=>{const e=m.getVisualizations()[P];if(e){m.focusVisualization(e);e.invalidate()}const t=this._getVizMoveMessage(d,f,p.area,S.area);g.show(t)}).finally(()=>{M.enableImplicitSave(true)})},_getVizMoveMessage:function(e,t,i,n){if(e===t){if(i!==n){return r.i18n.getText("PageRuntime.Message.VisualizationConverted")}}if(i===n){return r.i18n.getText("PageRuntime.Message.VisualizationMoved")}return r.i18n.getText("PageRuntime.Message.VisualizationMovedAndConverted")},onDragEnter:function(e){const t=e.getParameter("dragSession").getDropControl();if(t.getDefault()){e.preventDefault()}},onAreaDragEnter:function(e){const t=e.getParameter("sourceArea");const i=e.getParameter("targetArea");if(t===i){return}const n=e.getParameter("dragControl");const o=n.getAvailableDisplayFormats();if(o.indexOf(i)===-1){if(i===z.Standard&&o.indexOf(z.StandardWide)>-1){return}if(i===z.Flat&&o.indexOf(z.FlatWide)>-1){return}e.getParameter("originalEvent").preventDefault()}},_handleUshellContainerDocked:function(e,t){this._oViewSettingsModel.setProperty("/ushellContainerDocked",t==="shellFloatingContainerIsDocked")},_isMyHomeRouteActive:function(){return c.last("/core/spaces/myHome/enabled")&&c.last("/core/spaces/myHome/userEnabled")&&c.last("/core/spaces/myHome/myHomeSpaceId")===this.sCurrentTargetSpaceId},_getMyHomePageData:function(){const e=this.getView().getModel().getProperty("/pages")||[];const t=c.last("/core/spaces/myHome/myHomePageId");for(let i=0;i<e.length;i++){if(e[i]&&e[i].id===t){return e[i]}}return null},_isMyHomePageEmpty:function(){const e=this._getMyHomePageData();if(e&&e.sections){return e.sections.every(e=>{const t=e.visualizations;return!(t&&t.length)})}return false},handleMyHomeActionMode:async function(e){if(this._isMyHomeRouteActive()){if(e){await this._enterMyHomeActionMode()}else if(this._isMyHomePageEmpty()){await this._navigateToInitialMyHome()}}},_enterMyHomeActionMode:async function(){await this._navigate(this.sCurrentTargetPageId,this.sCurrentTargetSpaceId,true);const e=await M.isImportEnabled();if(!e){if(this._pMessageStrip){this._pMessageStrip.then(e=>{e.setVisible(false)})}return}if(!this._pMessageStrip){this._pMessageStrip=new Promise((e,t)=>{sap.ui.require(["sap/ui/core/Fragment"],async i=>{try{const t=await i.load({name:"sap.ushell.components.pages.view.MessageStrip",controller:this});u.on("importBookmarksFlag").do(e=>{t.setVisible(!!e)});t.addStyleClass("sapUiSmallMarginBottom");e(t)}catch(e){t(e)}},t)})}const t=await this._pMessageStrip;this.oPagesNavContainer.getCurrentPage().getContent()[0].setMessageStrip(t)},openMyHomeImportDialog:function(){if(!this._pLoadImportDialog){this._pLoadImportDialog=new Promise((e,t)=>{sap.ui.require(["sap/ushell/components/pages/controller/ImportDialog.controller"],t=>{e(new t)},t)})}return this._pLoadImportDialog.then(e=>e.open())},onImportDialogPress:function(){this.openMyHomeImportDialog()},onMessageStripClose:function(){M.setImportEnabled(false);sap.ui.require(["sap/m/MessageBox"],e=>{e.information(r.i18n.getText("MyHome.InitialPage.MessageStrip.Popup"))})},_removeMyHomePage:function(){this.oPagesNavContainer.removePage("sapUshellMyHomePage")},_formatSectionAriaLabel:function(e,t,i){if(e&&e.trim()){return r.i18n.getText("Section.Description",[e])}if(!t){return""}const n=t.split("/");if(n.length!==5){return""}const o=`/${n[1]}/${n[2]}/${n[3]}`;let a=this.getView().getModel().getProperty(o);const s=this.getView().getModel().getProperty(t);if(!a||a.length===0){return""}if(!s){return""}if(!i){a=a.filter(e=>e.visible&&e.visualizations&&e.visualizations.length>0)}const l=a.indexOf(s);if(l<0){return""}return r.i18n.getText("Section.Description.EmptySectionAriaLabel",[l+1])},_sectionEnableReset:function(e,t){if(e===c.last("/core/spaces/myHome/presetSectionId")){return false}return t},_sectionEnableDelete:function(e,t){if(e===c.last("/core/spaces/myHome/presetSectionId")){return false}return!t},hideRuntime:function(){C.debug("cep/editMode: navigate to empty page","Page runtime");this._hideActionModeButton();this.oPagesRuntimeNavContainer.to(this.oEmptyPage)},_formatPageTitle:function(e,t,i,n){if(i&&n){return`${t} - ${e}`}else if(n){return t}return e}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/pages/controller/PagesAndSpaceId", ["sap/ui/thirdparty/hasher","sap/ushell/resources","sap/ushell/Config","sap/ushell/Container","sap/ushell/utils/LaunchpadError"],(e,t,n,a,s)=>{"use strict";function i(){}i.prototype.getPageAndSpaceId=function(t){return a.getServiceAsync("URLParsing").then(n=>{if(t===undefined){t=e.getHash()}const a=n.parseShellHash(t)||{};const s={semanticObject:a.semanticObject||"",action:a.action||""};const i=a.params||{};const r=i.pageId||[];const c=i.spaceId||[];return this._parsePageAndSpaceId(r,c,s)})};i.prototype._parsePageAndSpaceId=function(e,n,a){return new Promise((i,r)=>{this.getUserMyHomeEnablement().then(()=>{if(e.length<1&&n.length<1){const e=a.semanticObject==="Shell"&&a.action==="home";const n=a.semanticObject===""&&a.action==="";if(e||n){this._getUserDefaultSpaceAndPage().then(e=>{i(e)}).catch(e=>{r(e)});return}const c=t.i18n.getText("PageRuntime.NoPageIdAndSpaceIdProvided");r(new s(c,{translatedMessage:c}))}if(e.length===1&&n.length===0){const e=t.i18n.getText("PageRuntime.OnlyPageIdProvided");r(new s(e,{translatedMessage:e}))}if(e.length===0&&n.length===1){const e=t.i18n.getText("PageRuntime.OnlySpaceIdProvided");r(new s(e,{translatedMessage:e}))}if(e.length>1||n.length>1){const e=t.i18n.getText("PageRuntime.MultiplePageOrSpaceIdProvided");r(new s(e,{translatedMessage:e}))}if(e[0]===""){const e=t.i18n.getText("PageRuntime.InvalidPageId");r(new s(e,{translatedMessage:e}))}if(n[0]===""){const e=t.i18n.getText("PageRuntime.InvalidSpaceId");r(new s(e,{translatedMessage:e}))}i({pageId:e[0],spaceId:n[0]})})})};i.prototype.getUserMyHomeEnablement=function(){return new Promise((e,t)=>{const s=a.getUser().getShowMyHome();n.emit("/core/spaces/myHome/userEnabled",s);e(s)})};i.prototype._getUserDefaultSpaceAndPage=function(){return new Promise((e,n)=>{Promise.all([a.getServiceAsync("Menu"),this.getUserMyHomeEnablement()]).then(a=>{const i=a[0];i.getDefaultSpace().then(a=>{if(!a){const e=t.i18n.getText("PageRuntime.NoAssignedSpace");n(new s(e,{translatedMessage:e}));return}const i=a&&a.children&&a.children[0];if(!i){const e=t.i18n.getText("PageRuntime.NoAssignedPage");n(new s(e,{translatedMessage:e}));return}e({spaceId:a.id,pageId:i.id})})}).catch(e=>{n(e)})})};return new i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/runtimeSwitcher/Component", ["sap/ui/core/UIComponent"],e=>{"use strict";return e.extend("sap.ushell.components.runtimeSwitcher.Component",{metadata:{manifest:"json",library:"sap.ushell",interfaces:["sap.ui.core.IAsyncContentCreation"]}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/runtimeSwitcher/controller/RuntimeSwitcher.controller", ["sap/ui/core/mvc/Controller","sap/ushell/components/pages/controller/PagesAndSpaceId","sap/ushell/Config","sap/ushell/Container","sap/base/util/deepExtend","sap/base/util/ObjectPath","sap/ui/core/Component","sap/ui/core/ComponentContainer"],(e,t,o,n,i,a,s,r)=>{"use strict";return e.extend("sap.ushell.components.runtimeSwitcher.controller.RuntimeSwitcher",{onInit:function(){this.oNavContainer=this.byId("switcherNavContainer");this.oPagesRuntime=this.byId("pagesRuntime");this.oWorkpageRuntime=this.byId("workpagesRuntime");this.oWorkpageRuntime.addEventDelegate({onBeforeFirstShow:this._onBeforeFirstShowWorkpageRuntime.bind(this)});this.oPagesRuntime.addEventDelegate({onBeforeFirstShow:this._onBeforeFirstShowPagesRuntime.bind(this)});this._oInitPromise=this._handleRouter().then(()=>{const e=n.getRendererInternal();this.oContainerRouter=e.getRouter();this.oContainerRouter.getRoute("home").attachMatched(this._handleRouter,this);this.oContainerRouter.getRoute("openFLPPage").attachMatched(this._handleRouter,this)})},_createComponentContainer:function(e){return new r(e)},_onBeforeFirstShowPagesRuntime:async function(){const e=await s.create({name:"sap.ushell.components.pages",componentData:{navigationDisabled:true},asyncHints:{preloadBundles:["sap/ushell/preload-bundles/homepage-af-dep.js"]},manifest:true});const t=this._createComponentContainer({component:e,height:"100%",async:true});t.placeAt(this.byId("pagesRuntime"));this.oPageRuntimeComponent=e},_onBeforeFirstShowWorkpageRuntime:async function(){const e=this._getWorkpageComponentProperties();const t=await s.create(e);const o=new this._createComponentContainer({component:t,height:"100%",async:true});o.placeAt(this.byId("workpagesRuntime"));this.oWorkPageRuntimeComponent=t;if(typeof this.oWorkPageRuntimeComponent?.setPageId==="function"&&this._sCurrentPageId){this.oWorkPageRuntimeComponent.setPageId(this._sCurrentPageId);this._sCurrentPageId=undefined}},_handleRouter:async function(){if(o.last("/core/workPages/myHome/pageId")){this._toggleToWorkPagesRuntime(o.last("/core/workPages/myHome/pageId"));return}try{const e=await t.getPageAndSpaceId();const o=e.pageId;const i=await n.getServiceAsync("Menu");if(!o){throw new Error("No pageId found")}const a=await i.isWorkPage(o);if(a||new URLSearchParams(window.location.search).get("sap-ushell-rt")==="workpage"){this._toggleToWorkPagesRuntime(o)}else{this._toggleToPagesRuntime()}}catch(e){this._toggleToPagesRuntime()}},_toggleToPagesRuntime:function(){this.oNavContainer.to(this.oPagesRuntime);if(this.oWorkPageRuntimeComponent){if(typeof this.oWorkPageRuntimeComponent.hideRuntime==="function"){this.oWorkPageRuntimeComponent.hideRuntime()}}if(this.oPageRuntimeComponent){this.oPageRuntimeComponent.onRouteMatched()}},_toggleToWorkPagesRuntime:function(e){this.oNavContainer.to(this.oWorkpageRuntime);if(this.oPageRuntimeComponent){this.oPageRuntimeComponent.hideRuntime()}if(this.oWorkPageRuntimeComponent){if(typeof this.oWorkPageRuntimeComponent.onRouteMatched==="function"){this.oWorkPageRuntimeComponent.onRouteMatched()}else if(typeof this.oWorkPageRuntimeComponent.setPageId==="function"){this.oWorkPageRuntimeComponent.setPageId(e)}}else{this._sCurrentPageId=e}},onExit:function(){this.oContainerRouter.getRoute("home").detachRouteMatched(this._handleRouter,this);this.oContainerRouter.getRoute("openFLPPage").detachRouteMatched(this._handleRouter,this)},_getWorkpageComponentProperties:function(){const e=o.last("/core/customPreload/enabled")?o.last("/core/customPreload/coreResourcesComplement"):[];const t=i({componentData:{navigationDisabled:true,pageWidthSizeMode:n.getFLPPlatform(true)==="MYHOME"?"large":"fullWidth"},manifest:true},o.last("/core/workPages/component"));const s=t.addCoreResourcesComplement===undefined?true:t.addCoreResourcesComplement;if(s){const o=a.get("asyncHints.preloadBundles",t)||[];a.set("asyncHints.preloadBundles",o.concat(e),t)}delete t.addCoreResourcesComplement;return t}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/FloatingContainer/Component", ["sap/base/i18n/Localization","sap/base/Log","sap/base/util/restricted/_debounce","sap/base/util/restricted/_throttle","sap/ui/core/Component","sap/ui/core/EventBus","sap/ui/core/Fragment","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ui/util/Storage","sap/ushell/renderer/ShellLayout","sap/ushell/state/BindingHelper","sap/ushell/state/ShellModel","sap/ushell/state/StateManager","sap/ushell/UIActions"],(e,t,i,o,n,s,r,l,a,c,d,h,p,g,f)=>{"use strict";const u=d.ShellArea;const _=g.Operation;const y={start:"start",end:"end"};const k={floating:"floating",dockedRight:"docked:right",dockedLeft:"docked:left"};return n.extend("sap.ushell.components.shell.FloatingContainer.Component",{metadata:{manifest:"json",library:"sap.ushell"},init:function(){this._bFirstTimeControlRender=true;this._oStorage=new c(c.Type.local,"com.sap.ushell.adapters.local.FloatingContainer");this._oWrapperDomRef=document.getElementById(u.FloatingContainer);this._fnDebouncedHandleUIActionActivation=i(this._handleUIActionActivation.bind(this),300);this._fnThrottledHandleDockingPreview=o(this._handleDockingPreview.bind(this),250);this.oModel=new a({docked:false,dockPosition:y.start,floatingContainer:{visible:false},containerStyles:{initialized:false,top:0,left:0,fullHeight:false,position:"absolute",display:"block"},dockingPreview:{open:false,dockPosition:y.start}});l.resize.attachHandler(this._handleResize,this);this.oDragSelectorBinding=p.getModel().bindProperty("/floatingContainer/dragSelector");this.oDragSelectorBinding.attachChange(this._handleDragSelectorUpdate,this);this.oVisibleBinding=p.getModel().bindProperty("/floatingContainer/visible");this.oVisibleBinding.attachChange(this._handleVisibilityUpdate,this);this.oDockedBinding=this.oModel.bindProperty("/docked");this.oDockedBinding.attachChange(this._storeState,this);this.oDockPositionBinding=this.oModel.bindProperty("/dockPosition");this.oDockPositionBinding.attachChange(this._storeState,this);this._restoreState();const e=this._createControl();this._initWrapper();this.oInitPromise=Promise.all([e])},_createControl:async function(){this.oFloatingContainer=await r.load({name:"sap.ushell.components.shell.FloatingContainer.FloatingContainer",controller:this});h.overrideUpdateAggregation(this.oFloatingContainer);this.oFloatingContainer.addEventDelegate({onAfterRendering:this._handleOnAfterRendering},this);this.oFloatingContainer.attachRerenderingPrevented(this._handleOnAfterRendering,this);this.oFloatingContainer.setModel(p.getModel(),"shellModel");this.oFloatingContainer.setModel(this.oModel);this.oFloatingContainer.placeAt(u.FloatingContainer,"only");if(this._getVisibility()){return new Promise(e=>{setTimeout(()=>{this._handleVisibilityUpdate();e()},0)})}},_initWrapper:function(){const e=this._getWrapperDomRef();const t=this._restoreWrapperStyles();if(!t){if(!this._isDocked()){const e=l.resize.height;const t=document.getElementById(u.ShellHeader).offsetHeight;const i=t/e*100;const o=60;this.oModel.setProperty("/containerStyles/left",o);this.oModel.setProperty("/containerStyles/top",i)}else{if(this.oModel.getProperty("/dockPosition")===y.end){this.oModel.setProperty("/containerStyles/left",100)}else{this.oModel.setProperty("/containerStyles/left",0)}this.oModel.setProperty("/containerStyles/top",0)}}e.classList.add("sapUshellFloatingContainerWrapper");this._renderWrapperStyles()},_renderWrapperStyles:function(){const e=this._getWrapperDomRef();const t=this.oModel.getProperty("/containerStyles");e.style.left=`${t.left}%`;e.style.top=`${t.top}%`;if(t.fullHeight){e.style.height="100%"}else{e.style.height=""}e.style.position=t.position;e.style.display=t.display;if(this.oModel.getProperty("/docked")){e.classList.add("sapUshellContainerDocked");if(this.oModel.getProperty("/dockPosition")===y.start){e.classList.add("sapUshellContainerDockedStart");e.classList.remove("sapUshellContainerDockedEnd")}else{e.classList.add("sapUshellContainerDockedEnd");e.classList.remove("sapUshellContainerDockedStart")}}else{e.classList.remove("sapUshellContainerDocked");e.classList.remove("sapUshellContainerDockedStart");e.classList.remove("sapUshellContainerDockedEnd")}this._storeWrapperStyles()},_getControl:function(){return this.oFloatingContainer},_getCloneDomRef:function(){return document.querySelector(".sapUshellFloatingContainer-clone")},_getWrapperDomRef:function(){return this._oWrapperDomRef},_getVisibility:function(){return p.getModel().getProperty("/floatingContainer/visible")},_restoreWrapperStyles:function(){if(this._isDocked()){return false}const e=this._oStorage.get("floatingContainerStyle");if(!e){return false}const i=e.split(";");i.forEach(e=>{if(!e.includes(":")){t.warning(`Cannot restore and parse property: '${e}'`);return}const[i,o]=e.split(":").map(e=>e.trim());switch(i){case"left":case"top":const e=parseFloat(o.replace("%",""));this.oModel.setProperty(`/containerStyles/${i}`,e);break;case"position":this.oModel.setProperty(`/containerStyles/${i}`,o);break;case"display":break;default:t.warning(`Cannot restore unknown property: '${i}'`)}});return true},_storeWrapperStyles:function(){const e=this._getWrapperDomRef();this._oStorage.put("floatingContainerStyle",e.style.cssText)},_storeState:function(){const e=this._getState();this._oStorage.put("lastState",e);g.updateAllBaseStates("floatingContainer.state",_.Set,e)},_getState:function(){const t=this._isDocked();if(!t){return k.floating}const i=e.getRTL();const o=this.oModel.getProperty("/dockPosition");let n;if(i){n=o===y.start?"right":"left"}else{n=o===y.end?"right":"left"}if(n==="left"){return k.dockedLeft}return k.dockedRight},_restoreState:function(){const t=this._oStorage.get("lastState");if(t){const i=t.includes("docked");const o=this._isDockSupported();this.oModel.setProperty("/docked",i&&o);if(i&&o){const i=e.getRTL();const o=t.includes("left")?"left":"right";let n;if(i){n=o==="right"?y.start:y.end}else{n=o==="left"?y.start:y.end}this.oModel.setProperty("/dockPosition",n)}}},_getBoundingClientRect(e){return e.getBoundingClientRect()},_storeCurrentWrapperPosition:function(){const t=e.getRTL();const i=this._getWrapperDomRef();const o=this._getBoundingClientRect(i);const n=l.resize.width;const s=o.left;let r;if(t){const e=i.offsetWidth;r=(s+e)/n*100}else{r=s/n*100}const a=l.resize.height;const c=o.top;const d=c/a*100;this.oModel.setProperty("/containerStyles/left",r);this.oModel.setProperty("/containerStyles/top",d)},_isDocked:function(){return this.oModel.getProperty("/docked")},_isFullScreen:function(){return window.matchMedia?window.matchMedia("(max-width: 417px)").matches:false},_isDockingAreaOpen:function(){return!!this._getDockingPreview()},_isDockSupported:function(){const e=l.media.getCurrentRange(l.media.RANGESETS.SAP_STANDARD);return e.name==="Desktop"},_adjustPosition:function(){const t=this._getControl().getDomRef();const i=this._getWrapperDomRef();const o=this._isFullScreen();if(!t||!i||o){return}const n=l.resize.width;const s=l.resize.height;const r=t.offsetWidth;const a=t.offsetHeight;const c=e.getRTL();const d=this.oModel.getProperty("/containerStyles/left");let h=n*d/100;const p=this.oModel.getProperty("/containerStyles/top");let g=s*p/100;if(isNaN(h)||isNaN(g)){return}if(c){const e=h<r||h>n;if(e){h=h<r?r:n}}else{const e=h<0||n<h+r;if(e){h=h<0?0:n-r}}if(s<g+a){g=s-a}if(g<0){g=0}this.oModel.setProperty("/containerStyles/left",h/n*100);this.oModel.setProperty("/containerStyles/top",g/s*100);this.oModel.setProperty("/containerStyles/position","absolute");this._renderWrapperStyles()},_handleOnAfterRendering:function(){this._adjustPosition();this._handleDragSelectorUpdate()},_handleResize:function(){this._fnDebouncedHandleUIActionActivation();const e=this._getWrapperDomRef();const t=!!e;const i=this._isDocked();if(t&&!i){this._adjustPosition()}if(i){this._emitResizeWhileDockedEvent();this._emitAppFinderResizeEvent()}if(!this._isDockSupported()&&i){this._removeFromDock();this._adjustPosition();this._emitUndockedOnResizeEvent()}},_handleVisibilityUpdate:async function(){const e=this._getVisibility();if(!this._isDocked()){this.oModel.setProperty("/floatingContainer/visible",e);return}if(e){if(this._isDockSupported()){const e=this.oModel.getProperty("/dockPosition");this._moveIntoDock(e)}else{this.oModel.setProperty("/docked",false)}}else{await this._startAnimation(false)}this.oModel.setProperty("/floatingContainer/visible",e);this._emitAppFinderResizeEvent()},_handleUIActionActivation:function(){if(!this.oUIActions){return}if(this._isFullScreen()){this.oUIActions.disable()}else{this.oUIActions.enable()}},_handleDragSelectorUpdate:function(){const e=p.getModel().getProperty("/floatingContainer/dragSelector");if(!e){if(this.oUIActions){this.oUIActions.disable()}return}const i=this._getControl().getDomRef();const o=i.querySelectorAll(e);if(o.length){o.forEach(e=>e.classList.add("sapUshellFloatingContainerSelector"))}else{t.error("_handleDragSelectorUpdate could not find the element","sap.ushell.renderer.Shell.controller");if(this.oUIActions){this.oUIActions.disable()}return}if(!this.oUIActions){this.oUIActions=new f({containerSelector:".sapUiBody",wrapperSelector:".sapUshellFloatingContainerWrapper",draggableSelector:".sapUshellFloatingContainerWrapper",rootSelector:".sapUiBody",cloneClass:"sapUshellFloatingContainer-clone",dragCallback:this._handleDrag.bind(this),endCallback:this._handleDrop.bind(this),moveTolerance:3,onDragStartUIHandler:this._onDragStart.bind(this),dragAndScrollCallback:this._onDrag.bind(this),switchModeDelay:1e3,isLayoutEngine:false,isTouch:false,elementToCapture:e,defaultMouseMoveHandler:function(){},debug:t.getLevel()>=t.Level.DEBUG})}else{this.oUIActions.setElementsToCapture(o)}this._handleUIActionActivation()},_onDrag:function(t){if(!this._isDockSupported()){return}const i=l.resize.width;const o=e.getRTL();if(t.moveX>=i-64){const e=o?y.start:y.end;this.oModel.setProperty("/dockingPreview/open",true);this.oModel.setProperty("/dockingPreview/dockPosition",e)}else if(t.moveX<64){const e=o?y.end:y.start;this.oModel.setProperty("/dockingPreview/open",true);this.oModel.setProperty("/dockingPreview/dockPosition",e)}else{this.oModel.setProperty("/dockingPreview/open",false)}this._fnThrottledHandleDockingPreview()},_expandToDock:function(){this.oModel.setProperty("/containerStyles/fullHeight",true);this._renderWrapperStyles()},_shrinkToDragUI:function(){this.oModel.setProperty("/docked",false);this.oModel.setProperty("/containerStyles/fullHeight",false);this._renderWrapperStyles()},_removeFromDock:function(){if(!this._isDocked()){return}const e=this._getWrapperDomRef();const t=document.getElementById(u.RootDomRef);t.appendChild(e);this.oModel.setProperty("/docked",false);this._renderWrapperStyles();this._emitUndockedEvent();this._shrinkToDragUI();this._emitAppFinderResizeEvent()},_onDragStart:function(){this._storeCurrentWrapperPosition();this._removeFromDock()},_startAnimation:function(e){this._clearAnimation();const t=this._getWrapperDomRef();return new Promise(i=>{if(e){t.classList.add("sapUshellContainerDockedExtendCoPilot")}else{t.classList.add("sapUshellContainerDockedMinimizeCoPilot")}this._attachAnimationEnd(t,()=>{this._clearAnimation();i()})})},_attachAnimationEnd:function(e,t){["webkitAnimationEnd","onanimationend","msAnimationEnd","animationend"].forEach(i=>{e.addEventListener(i,t,{once:true})})},_clearAnimation:function(){const e=this._getWrapperDomRef();e.classList.remove("sapUshellContainerDockedExtendCoPilot");e.classList.remove("sapUshellContainerDockedMinimizeCoPilot")},_getDockingPreview:function(){return document.getElementById("DockingAreaDiv")},_createDockingPreview:function(){const e=document.createElement("div");e.id="DockingAreaDiv";return e},_handleDockingPreview:function(){const e=this._getCloneDomRef();const t=this.oModel.getProperty("/dockingPreview/open");const i=this.oModel.getProperty("/dockingPreview/dockPosition");if(t&&e&&!this._getDockingPreview()){const t=this._createDockingPreview();if(i===y.start){t.classList.add("sapUshellShellDisplayDockingAreaLeft")}else{t.classList.add("sapUshellShellDisplayDockingAreaRight")}e.parentElement.appendChild(t)}else if(!t){window.setTimeout(()=>{const e=this._getDockingPreview();e?.remove?.()},150)}},_moveIntoDock:function(e){const t=this._getWrapperDomRef();let i;if(e===y.start){i=document.getElementById(u.FloatingContainerDockStart)}else{i=document.getElementById(u.FloatingContainerDockEnd)}i.appendChild(t);this.oModel.setProperty("/docked",true);this.oModel.setProperty("/dockPosition",e);this._renderWrapperStyles();this._emitDockedEvent();this._expandToDock();this._startAnimation(true);this._emitAppFinderResizeEvent()},_handleDrop:function(e,t,i){const o=l.resize.width;const n=l.resize.height;let s=i.deltaX/o;let r=-i.deltaY/n;const a=this.oModel.getProperty("/containerStyles/left");const c=this.oModel.getProperty("/containerStyles/top");if(typeof a==="number"){s=a+100*i.deltaX/o}if(typeof c==="number"){r=c+100*i.deltaY/n}if(this._isDockingAreaOpen()){r=0}this.oModel.setProperty("/containerStyles/left",s);this.oModel.setProperty("/containerStyles/top",r);this.oModel.setProperty("/containerStyles/position","absolute");this.oModel.setProperty("/containerStyles/display","block");this._renderWrapperStyles();this._adjustPosition();if(this._isDockingAreaOpen()){this.oModel.setProperty("/dockingPreview/open",false);this._handleDockingPreview();const e=this.oModel.getProperty("/dockingPreview/dockPosition");this._moveIntoDock(e)}},_handleDrag:function(){this.oModel.setProperty("/containerStyles/display","none");this._renderWrapperStyles();if(window.getSelection){const e=window.getSelection();try{e.removeAllRanges()}catch{}}const e=this._getCloneDomRef();const t=e?.querySelector?.(".sapUshellFloatingContainer");if(t){t.classList.remove("sapUshellShellFloatingContainerFullHeight");const e=this._getControl().getContent()[0];if(e&&e.getHeight){t.children[0].style.height=e.getHeight()}}},_emitAppFinderResizeEvent:function(){window.setTimeout(()=>{s.getInstance().publish("launchpad","appFinderWithDocking")},300)},_emitResizeWhileDockedEvent:function(){s.getInstance().publish("launchpad","shellFloatingContainerDockedIsResize")},_emitDockedEvent:function(){const e={visible:this._getVisibility()};s.getInstance().publish("launchpad","shellFloatingContainerIsDocked",e)},_emitUndockedEvent:function(){const e={visible:this._getVisibility()};s.getInstance().publish("launchpad","shellFloatingContainerIsUnDocked",e)},_emitUndockedOnResizeEvent:function(){const e={visible:this._getVisibility()};s.getInstance().publish("launchpad","shellFloatingContainerIsUnDockedOnResize",e)},exit:function(){this._getControl().destroy();this.oModel.destroy();l.resize.detachHandler(this._handleResize,this);this.oDragSelectorBinding.destroy();this.oVisibleBinding.destroy();this.oDockedBinding.destroy();this.oDockPositionBinding.destroy();if(this.oUIActions){this.oUIActions.disable()}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/FloatingContainer/controls/FloatingContainer", ["sap/ui/core/Control","sap/ui/Device","sap/ushell/library"],(e,t,l)=>{"use strict";const i=e.extend("sap.ushell.components.shell.FloatingContainer.controls.FloatingContainer",{metadata:{library:"sap.ushell",properties:{visible:{type:"boolean",defaultValue:true},fullHeight:{type:"boolean",defaultValue:false}},aggregations:{content:{type:"sap.ui.core.Control",multiple:true}},events:{rerenderingPrevented:{}}},renderer:{apiVersion:2,render:function(e,l){e.openStart("div",l);e.class("sapUshellFloatingContainer");if(t.system.desktop){e.attr("tabindex","-1")}e.openEnd();if(l.getContent()&&l.getContent().length){e.renderControl(l.getContent()[0])}e.close("div")}}});i.prototype.setFullHeight=function(e){const t=this.getProperty("fullHeight")!==e&&this.getDomRef();if(e){this.addStyleClass("sapUshellShellFloatingContainerFullHeight")}else{this.removeStyleClass("sapUshellShellFloatingContainerFullHeight")}this.setProperty("fullHeight",e,true);if(t){this.fireRerenderingPrevented()}return this};i.prototype.setVisible=function(e){const t=this.getProperty("visible")!==e&&this.getDomRef();if(e){this.removeStyleClass("sapUshellShellHidden")}else{this.addStyleClass("sapUshellShellHidden")}this.setProperty("visible",e,true);if(t){this.fireRerenderingPrevented()}return this};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/MenuBar/Component", ["sap/ui/core/UIComponent","sap/ui/core/ComponentContainer","sap/ui/core/mvc/XMLView","sap/ushell/Config","sap/ushell/Container","sap/ushell/resources"],(e,n,t,o,s,i)=>{"use strict";return e.extend("sap.ushell.components.shell.MenuBar.Component",{metadata:{manifest:"json",library:"sap.ushell",interfaces:["sap.ui.core.IAsyncContentCreation"]},init:function(){e.prototype.init.apply(this,arguments);this.setModel(i.i18nModel,"i18n");this.oMenuModelPromise=s.getServiceAsync("Menu").then(async e=>{const t=await e.isMenuEnabled();const o=await e.getMenuModel();this.setModel(o,"menu");if(t){await this.oViewPromise;const e=new n({id:"menuBarComponentContainer",component:this});s.getRendererInternal().setNavigationBar(e)}})},createContent:function(){let e="sap.ushell.components.shell.MenuBar.view.MenuBar";if(o.last("/core/menu/personalization/enabled")&&o.last("/core/menu/personalization/showNavigationBarMenuButton")){e="sap.ushell.components.shell.MenuBar.view.MenuBarWithPersonalizationButton"}else if(o.last("/core/menu/personalization/enabled")){e="sap.ushell.components.shell.MenuBar.view.MenuBarPersonalized"}this.oViewPromise=t.create({viewName:e});return this.oViewPromise}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/MenuBar/controller/MenuBar.controller", ["sap/ui/core/CustomData","sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ui/thirdparty/hasher","sap/base/util/ObjectPath","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/utils/WindowUtils","sap/m/IconTabFilter","sap/m/IconTabSeparator","sap/ushell/Config","sap/ushell/Container"],(e,t,n,i,a,s,o,r,u,c,h,g)=>{"use strict";return t.extend("sap.ushell.components.shell.MenuBar.controller.MenuBar",{onInit:function(){this.oContainerRouter=g.getRendererInternal().getRouter();this.oContainerRouter.getRoute("home").attachMatched(this._selectIndexAfterRouteChange,this);this.oContainerRouter.getRoute("openFLPPage").attachMatched(this._selectIndexAfterRouteChange,this);this.oContainerRouter.getRoute("openWorkPage").attachMatched(this._selectIndexAfterRouteChange,this);this.oEventHubListener=s.on("enableMenuBarNavigation").do(e=>{this.getView().getModel("viewConfiguration").setProperty("/enableMenuBarNavigation",e)});const e=new n({selectedKey:"None Existing Key",enableMenuBarNavigation:true,ariaTexts:{headerLabel:o.i18n.getText("SpacePageNavgiationRegion")}});this.getView().setModel(e,"viewConfiguration");this.oURLParsingService=g.getServiceAsync("URLParsing");this.oGetDefaultSpacePromise=g.getServiceAsync("Menu").then(e=>e.getDefaultSpace());this._selectIndexAfterRouteChange();const t=this.byId("navigationBar");if(t){t.removeStyleClass("sapContrast")}},onMenuItemSelection:function(e){const t=e.getParameter("key");const n=this.getView().getModel("menu");const i=n.getProperty("/");const a=this._getNestedMenuEntryByUid(i,t);if(a.type==="IBN"){this._performNavigation(a.target)}if(a.type==="URL"){this._openURL(a.target)}},_getNestedMenuEntry:function(e,t){return e.reduce((e,n)=>{if(e){return e}if(t(n)){return n}if(n.menuEntries){return this._getNestedMenuEntry(n.menuEntries,t)}},undefined)},_getNestedMenuEntryByUid:function(e,t){function n(e){return e.uid===t}return this._getNestedMenuEntry(e,n)},_performNavigation:async function(e){const t=await g.getServiceAsync("Navigation");const n={};e.parameters.forEach(e=>{if(e.name&&e.value){n[e.name]=[e.value]}});t.navigate({target:{semanticObject:e.semanticObject,action:e.action},params:n})},_openURL:function(e){r.openURL(e.url,"_blank")},_selectIndexAfterRouteChange:async function(){const e=this.getView().getModel("viewConfiguration");const t=await this.oURLParsingService;const n=await this.oGetDefaultSpacePromise;await this.getOwnerComponent().oMenuModelPromise;let s;const o=i.getHash();const r=t.parseShellHash(o);const u=this.getView().getModel("menu").getProperty("/");if(r.semanticObject==="Shell"&&r.action==="home"){if(h.last("/core/homeApp/enabled")){s=this._getHomeAppUID(u)||""}else{const e=n&&n.children&&n.children[0];s=e?this._getMenuUID(u,n.id,e.id)||"":""}e.setProperty("/selectedKey",s)}else{const t=a.get("params.spaceId.0",r);const n=a.get("params.pageId.0",r);const i=e.getProperty("/selectedKey");const o=this._getNestedMenuEntryByUid(u,i);if(this._hasSpaceIdAndPageId(o,t,n)){s=o.uid}else{s=this._getMenuUID(u,t,n)}if(s){e.setProperty("/selectedKey",s)}else{e.setProperty("/selectedKey","None Existing Key")}}},_getMenuUID:function(e,t,n){function i(e){return this._hasSpaceIdAndPageId(e,t,n)}const a=this._getNestedMenuEntry(e,i.bind(this));return a&&a.uid},_getHomeAppUID:function(e){function t(e){return e.target.semanticObject==="Shell"&&e.target.action==="home"}const n=this._getNestedMenuEntry(e,t.bind(this));return n&&n.uid},_hasSpaceIdAndPageId:function(e,t,n){const i=a.get("target.parameters",e)||[];const s=i.find(e=>e.name==="spaceId"&&e.value===t);const o=i.find(e=>e.name==="pageId"&&e.value===n);return s!==undefined&&o!==undefined},_menuFactory:function(t,n){const i=n.getModel();if(i.getProperty(n.sPath).type==="separator"){return new c}const a=n.getObject();return new u(t,{key:a.uid,text:"{menu>title}",enabled:"{viewConfiguration>/enableMenuBarNavigation}",items:{path:"menu>menuEntries",factory:this._menuFactory.bind(this)}}).addCustomData(new e({key:"help-id",value:"{= 'MenuEntry-' + ${menu>help-id}}",writeToDom:"{= !!${menu>help-id}}"}))},onExit:function(){this.oEventHubListener.off()}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/NavigationBarMenu/Component", ["sap/ui/core/UIComponent","sap/ui/core/mvc/XMLView","sap/ushell/library","sap/ushell/resources"],(e,t,n,a)=>{"use strict";return e.extend("sap.ushell.components.shell.NavigationBarMenu.Component",{metadata:{manifest:"json",library:"sap.ushell",interfaces:["sap.ui.core.IAsyncContentCreation"],properties:{renderType:{type:"string",defaultValue:"Button",group:"Behavior"}}},init:function(){const t=this.getComponentData();if(t?.renderType){this.setProperty("renderType",t.renderType)}e.prototype.init.apply(this,arguments);this.setModel(a.i18nModel,"i18n")},createContent:function(){let e="sap.ushell.components.shell.NavigationBarMenu.view.NavigationBarMenuButton";if(this.getRenderType()===n.NavigationBarMenuState.Menu){e="sap.ushell.components.shell.NavigationBarMenu.view.NavigationBarMenu"}return t.create({viewName:e})}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/NavigationBarMenu/controller/NavigationBarMenu.controller", ["sap/ui/core/InvisibleMessage","sap/ui/core/library","sap/ui/core/mvc/Controller","sap/ui/core/Fragment","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/Sorter","sap/ushell/resources","sap/ushell/utils/WindowUtils","sap/ushell/Config","sap/ushell/Container","sap/ushell/EventHub","sap/ui/model/json/JSONModel"],(e,t,n,s,o,i,a,r,c,p,d,l,u)=>{"use strict";const g=t.dnd.RelativeDropPosition;const h=t.InvisibleMessageMode;return n.extend("sap.ushell.components.shell.NavigationBarMenu.controller.NavigationBarMenu",{onInit:function(){this.pMenuServicePromise=d.getServiceAsync("Menu");this._oInvisibleMessageInstance=e.getInstance();this.oViewConfigurationModel=new u({enableMenuBarNavigation:true,contextMenu:{enableMoveDown:false,enableMoveUp:false,enablePin:false,showMoveUp:false,showMoveDown:false}});this.getView().setModel(this.oViewConfigurationModel,"viewConfiguration");this._oEventHubListener=l.on("enableMenuBarNavigation").do(e=>{this.oViewConfigurationModel.setProperty("/enableMenuBarNavigation",e)});this._bindPinnedSpaces()},onExit:function(){if(this._oInvisibleMessageInstance){this._oInvisibleMessageInstance.destroy()}this._oEventHubListener.off()},_onPinnedSpacesUpdateFinished:function(e){const t=r.i18n.getText("NavigationBarMenu.PinnedSpaces.Title",[e.getParameter("total")||0]);this.byId("PinnedSpacesTreeTitle").setText(t)},_configureContextMenuEnablement:function(e){const t=e.getParameter("listItem");if(!t){return}const n=e.getSource();const s=n.getItems();const o=n.indexOfItem(t);const i=n.getId().includes("PinnedSpaces");const a=t.getBindingContext("spaces");const r=a.getProperty("pinned")!==undefined;this.oViewConfigurationModel.setProperty("/contextMenu/enableMoveUp",i&&o>0);this.oViewConfigurationModel.setProperty("/contextMenu/enableMoveDown",i&&o<s.length-1);this.oViewConfigurationModel.setProperty("/contextMenu/enablePin",r);this.oViewConfigurationModel.setProperty("/contextMenu/showMoveUp",i);this.oViewConfigurationModel.setProperty("/contextMenu/showMoveDown",i);if(!r){e.preventDefault()}},_moveSpaceUp:function(e){if(this._handleSpacesSwap(true)){e.preventDefault();e.stopPropagation?.()}},_moveSpaceDown:function(e){if(this._handleSpacesSwap(false)){e.preventDefault();e.stopPropagation?.()}},handlePinButtonPress:function(e){const t=e.getSource();const n=t.getBindingContext("spaces").getPath();const s=this._getModel();const o=s.getProperty(`${n}/pinned`);if(!o){this._pinSpace(n)}else{this._unpinSpace(n,true)}if(!t.getId().includes("PinnedSpaces")){return}this.byId("AllSpaces").focus();const i=this.byId("PinnedSpaces");const a={onAfterRendering:()=>{i.focus();i.removeEventDelegate(a)}};i.addEventDelegate(a)},unpinAllSpaces:function(){const e=this.byId("PinnedSpaces");const t=e.getModel("spaces").getData();const n=p.last("/core/spaces/myHome/myHomeSpaceId");t.forEach(e=>{if(e.pinned&&e.type!=="separator"&&e.id!==n){e.pinned=false;e.pinnedSortOrder="-1"}});this._savePinnedSpaces()},rearrangePinnedSpaces:function(e){const t=this.oModel||this.getOwnerComponent().getModel("spaces");const n=e.getParameter("draggedControl").getBindingContext("spaces");const s=t.getProperty(n.getPath()).pinnedSortOrder;const o=e.getParameter("droppedControl");const i=o.getBindingContext("spaces");const a=t.getProperty(i.getPath()).pinnedSortOrder;const r=e.getParameter("dropPosition");const c=a+(r===g.After?1:0);this._rearrangePinnedSpaces(s,c,o,r)},_rearrangePinnedSpaces:function(e,t,n,s){this.pMenuServicePromise.then(o=>{o.moveMenuEntry(e,t);const i=this.byId("PinnedSpaces");const a={onAfterRendering:function(){const o=i.getItems();const r=i.indexOfItem(n);let c;if(e<t){c=r-(s===g.Before?1:0)}else{c=r+(s===g.After?1:0)}const p=o[c];if(p){p.focus()}n.removeEventDelegate(a)}};n.addEventDelegate(a);const c=r.i18n.getText("NavigationBarMenu.PinnedSpaces.Moved");this._oInvisibleMessageInstance.announce(c,h.Polite);this._savePinnedSpaces()})},_bindPinnedSpaces:function(){const e=this.byId("PinnedSpaces");if(!this._pCustomTreeItemPromise){this._pCustomTreeItemPromise=s.load({id:this.createId("CustomTreeItemFragment"),type:"XML",async:true,controller:this,name:"sap.ushell.components.shell.NavigationBarMenu.view.CustomTreeItem"}).then(t=>{t.addEventDelegate({onsapdownmodifiers:this._moveSpaceDown.bind(this),onsapupmodifiers:this._moveSpaceUp.bind(this)});e.bindItems({path:"spaces>/",filters:[new o({path:"pinned",operator:i.EQ,value1:true}),new o({path:"type",operator:i.NE,value1:"separator"}),new o({path:"isHomeEntry",operator:i.EQ,value1:false})],sorter:[new a({path:"pinnedSortOrder",descending:false})],parameters:{arrayNames:["menuEntries"]},template:t,templateShareable:false})})}return this._pCustomTreeItemPromise},_handleSpacesSwap:function(e){const t=this.byId("PinnedSpaces");const n=t.getItems();let s;for(let t=0;t<n.length;++t){s=n[t];if(document.activeElement!==s.getFocusDomRef()){continue}const o=s.getBindingContext("spaces");const i=this._getModel();const a=i.getProperty(o.getPath()).pinnedSortOrder;const r=n[e?t-1:t+1];if(!r){return false}const c=r.getBindingContext("spaces");const p=i.getProperty(c.getPath()).pinnedSortOrder;this._rearrangePinnedSpaces(a,e?p:p+1,r,e?g.Before:g.After);return true}},allSpacesFactory:function(e,t){const n=t.getModel().getProperty(t.getPath());const s=n.menuEntries||[];const o=this.byId("AllSpaces").getDependents()[0].clone(e);o.setType("Active");o.attachPress(this.onMenuItemSelection,this);if(s.length<1){o.addStyleClass("sapMTreeItemBaseLeaf")}if(n.type==="separator"||n.isHomeEntry){o.setVisible(false)}return o},_unpinSpace:function(e,t){const n=this._getModel();n.setProperty(`${e}/pinned`,false);n.setProperty(`${e}/pinnedSortOrder`,"-1");if(t){this._savePinnedSpaces()}},_pinSpace:function(e){const t=this.byId("PinnedSpaces").getItems().length;const n=this._getModel();let s=2;if(t>0){const e=this.byId("PinnedSpaces").getItems()[t-1];const o=e.getBindingContextPath("spaces");s=n.getProperty(`${o}/pinnedSortOrder`)+1}n.setProperty(`${e}/pinnedSortOrder`,s);n.setProperty(`${e}/pinned`,true);this._savePinnedSpaces()},_performNavigation:function(e){return d.getServiceAsync("Navigation").then(t=>{const n={};e.parameters.forEach(e=>{if(e.name&&e.value){n[e.name]=[e.value]}});return t.navigate({target:{semanticObject:e.semanticObject,action:e.action},params:n})})},_openURL:function(e){c.openURL(e.url,"_blank")},onMenuItemSelection:async function(e){const t=e.getSource();const n=t.getBindingContextPath("spaces");const s=this._getModel();const o=s.getProperty(n);const i=e.getParameter("id").includes("AllSpaces");if(!i){return}if(t.isLeaf()){if(o.type==="IBN"){return this._performNavigation(o.target)}if(o.type==="URL"){return this._openURL(o.target)}return}},_savePinnedSpaces:function(){const e=this._getModel();this.pMenuServicePromise.then(t=>{e.refresh(true);return t.savePersonalization()})},_getModel:function(){return this.oModel||this.getOwnerComponent().getModel("spaces")}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/NavigationBarMenu/controller/NavigationBarMenuButton.controller", ["sap/ui/core/InvisibleMessage","./NavigationBarMenu.controller","sap/ui/core/Fragment","sap/ushell/Container","sap/ushell/EventHub","sap/ui/model/json/JSONModel"],(e,n,o,t,i,s)=>{"use strict";return n.extend("sap.ushell.components.shell.NavigationBarMenu.controller.NavigationBarMenuButton",{onInit:function(){this.pMenuServicePromise=t.getServiceAsync("Menu");this._oInvisibleMessageInstance=e.getInstance();this.oViewConfigurationModel=new s({enableMenuBarNavigation:true,contextMenu:{enableMoveDown:false,enableMoveUp:false,enablePin:false}});this.getView().setModel(this.oViewConfigurationModel,"viewConfiguration");this._oEventHubListener=i.on("enableMenuBarNavigation").do(e=>{this.oViewConfigurationModel.setProperty("/enableMenuBarNavigation",e)})},openNavigationBarMenuPopover:function(e){const n=e.getSource();if(!this._pPopoverPromise){this._pPopoverPromise=o.load({type:"XML",id:this.getView().getId(),controller:this,name:"sap.ushell.components.shell.NavigationBarMenu.view.NavigationBarMenuPopover"}).then(e=>{this.oModel=this.getOwnerComponent().oPropagatedProperties.oModels.menu;e.setModel(this.oModel,"spaces");this.getView().addDependent(e);return e})}return this._pPopoverPromise.then(e=>{this._bindPinnedSpaces().then(()=>{e.openBy(n)})})},closeNavigationBarMenuPopover:async function(){if(!this._pPopoverPromise){return}return this._pPopoverPromise.then(e=>{e.close()})},onMenuItemSelection:async function(e){await n.prototype.onMenuItemSelection.call(this,e);return this.closeNavigationBarMenuPopover()}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Notifications/Component", ["sap/base/Log","sap/ui/core/Element","sap/ui/core/EventBus","sap/ui/core/IconPool","sap/ui/core/InvisibleText","sap/ui/core/UIComponent","sap/ui/thirdparty/hasher","sap/ui/Device","sap/m/library","sap/m/Popover","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/library","sap/ushell/resources","sap/ushell/utils","sap/ushell/ui/shell/ShellHeadItem","sap/ushell/Container","sap/ushell/state/ShellModel","sap/ui/core/mvc/XMLView","sap/ui/core/Fragment"],(t,e,i,o,n,s,a,r,l,c,h,f,d,u,p,g,N,m,b,v)=>{"use strict";const C=10;const y=l.PlacementType;const I=d.FloatingNumberType;function w(){return e.getElementById("NotificationsCountButton")}function T(){return e.getElementById("shell-header").getNotificationsBtnDomRef()}return s.extend("sap.ushell.components.shell.Notifications.Component",{metadata:{version:"1.141.1",library:"sap.ushell.components.shell.Notifications",dependencies:{libs:["sap.m"]}},createContent:function(){this._aTimeouts=[];this.oRenderer=N.getRendererInternal("fiori2");this.oConfigModel=m.getConfigModel();N.getServiceAsync("NotificationsV2").then(t=>{this.oNotificationsService=t;if(this.oNotificationsService.isEnabled()===true){i.getInstance().subscribe("sap.ushell.services.Notifications","onNewNotifications",this._handleAlerts,this);this.oConfigModel.setProperty("/enableNotifications",true);this.oNotificationsService.init();if(this.oRenderer.getShellConfig().enableNotificationsUI===true){this.oConfigModel.setProperty("/enableNotificationsUI",true);this.oNotificationsService.registerNotificationsUpdateCallback(this._updateCount.bind(this),true)}this._createNotificationButton(this.oConfigModel);f.on("showNotifications").do(this._toggleNotifications.bind(this))}})},_createNotificationButton:function(t){const e=new g({id:"NotificationsCountButton",tooltip:u.i18n.getText("notificationsBtn_title"),icon:o.getIconURI("bell"),text:u.i18n.getText("notificationsBtn_title"),ariaLabel:u.i18n.getText("notificationsBtn_title"),ariaHaspopup:"dialog",enabled:true,selected:false,visible:"{configModel>/enableNotifications}",floatingNumber:"{configModel>/notificationsCount}",floatingNumberMaxValue:r.system.phone?99:999,floatingNumberType:I.Notifications,press:function(){f.emit("showNotifications",Date.now())}});e.setModel(t,"configModel");e.setModel(u.i18nModel,"i18n");this.oRenderer.showHeaderEndItem([e.getId()],false,["home","app"])},_handleAlerts:function(t,e,i){(i||[]).forEach(this.handleNotification.bind(this))},handleNotification:function(t){const e=()=>{if(a.getHash()!==`${t.NavigationTargetObject}-${t.NavigationTargetAction}`){if(t.NavigationTargetObject&&t.NavigationTargetAction){p.toExternalWithParameters(t.NavigationTargetObject,t.NavigationTargetAction,t.NavigationTargetParams)}}this.oNotificationsService.markRead(t.Id)};if(h.last("/core/notifications/enabled")){sap.ui.require(["sap/ushell/gen/ui5/webcomponents/dist/Label","sap/ushell/gen/ui5/webcomponents-fiori/dist/NotificationList","sap/ushell/gen/ui5/webcomponents-fiori/dist/NotificationListItem"],(i,o,n)=>{if(!this._oNotificationsAlertList){this._oNotificationsAlertList=new o({itemClick:e});this._oNotificationsAlertList.addStyleClass("sapUshellNotificationsAlertList");this.oRenderer.addRightFloatingContainerItem({id:this._oNotificationsAlertList.getId()},true,true)}const s=t=>{t.destroy();if(this._oNotificationsAlertList.getItems().length<=0){this.oRenderer.showRightFloatingContainer(false)}};const a=new n({titleText:t.SensitiveText?t.SensitiveText:t.Text,showClose:true,importance:"Important",text:t.SubTitle,read:false,footnotes:[new i({text:t.NotificationTypeDesc}),new i({text:p.formatDate(t.CreatedAt)})],close:t=>{s(t.getSource())}});a.addStyleClass("sapUshellNotificationsAlertListItem");this._oNotificationsAlertList.insertItem(a,0);this.oRenderer.showRightFloatingContainer(true);const r=setTimeout(s.bind(this,a),C*1e3);this._aTimeouts.push(r)})}else{const i=this.oRenderer.addRightFloatingContainerItem({press:e,close:function(){this.oRenderer.removeRightFloatingContainerItem(i.getId(),true)}.bind(this),datetime:u.i18n.getText("notification_arrival_time_now"),title:t.SensitiveText?t.SensitiveText:t.Text,description:t.SubTitle,unread:t.IsRead,priority:"High",hideShowMoreButton:true},true,true);this.oRenderer.showRightFloatingContainer(true);const o=setTimeout(()=>{this.oRenderer.removeRightFloatingContainerItem(i.getId(),true)},C*1e3);this._aTimeouts.push(o)}},_updateCount:function(){this._getPopover().then(e=>{if(!e.isOpen()){this.oNotificationsService.getUnseenNotificationsCount().then(t=>{this.oConfigModel.setProperty("/notificationsCount",parseInt(t,10))}).catch(e=>{t.error("Notifications - call to notificationsService.getCount failed: ",e)})}})},_wrapPopover:function(t,e){const i=new c("shellNotificationsPopover",{showHeader:!!e,customHeader:e,placement:y.Bottom,showArrow:true,content:t,horizontalScrolling:false,beforeOpen:()=>{this._resetCount()},beforeClose:t=>{t.getSource().getContent()[0].invalidate()}});i._oAriaLabelledByText=new n(`${i.getId()}-labelledBy`,{text:u.i18n.getText("NotificationToggleButton.NoNewNotifications")}).toStatic();i.addDependent(i._oAriaLabelledByText);i.addAriaLabelledBy(i._oAriaLabelledByText);i.addStyleClass("sapContrastPlus");return i},_getPopover:function(){if(!this._oNotificationsPopoverPromise){if(h.last("/core/notifications/enabled")){this._oNotificationsPopoverPromise=new Promise((t,e)=>{this.runAsOwner(()=>{b.create({id:this.createId("notificationsListContent"),viewName:"sap.ushell.components.shell.Notifications.NotificationsListPopoverContent",viewData:{notificationsService:this.oNotificationsService}}).then(async e=>{const i=e.getController();const o=await v.load({id:this.createId("notificationsListCustomHeader"),name:"sap.ushell.components.shell.Notifications.NotificationsListPopoverHeader",controller:i});o.setModel(e.getModel("i18n"),"i18n");o.setModel(e.getModel());const n=this._wrapPopover(e,o);n.addStyleClass("sapUshellNotificationsListPopup");n.attachBeforeOpen(()=>{this.oNotificationsService.setUnseenNotificationsCount(0);i.getNextPage(true)});n.setInitialFocus(i.byId("sapUshellNotificationsList"));n.attachAfterClose(this._updateCount.bind(this));t(n)}).catch(e)})})}else{this._oNotificationsPopoverPromise=new Promise((t,e)=>{b.create({id:"notificationsView",viewName:"sap.ushell.components.shell.Notifications.Notifications",viewData:{notificationsService:this.oNotificationsService}}).then(e=>{const i=e.byId("notificationIconTabBar");i.setAriaTexts({headerLabel:u.i18n.getText("Notifications.Popover.IconTabBar.Header.AriaLabel")});const o=e.byId("sapUshellNotificationsListDate");o.enhanceAccessibilityState=function(t,e){e.hidden=true;return e};const n=e.byId("sapUshellNotificationsListPriority");n.enhanceAccessibilityState=function(t,e){e.hidden=true;return e};const s=e.byId("sapUshellNotificationsListType");s.enhanceAccessibilityState=function(t,e){e.hidden=true;return e};const a=this._wrapPopover(e);a.addStyleClass("sapUshellNotificationsPopup");t(a)}).catch(e)})}}return this._oNotificationsPopoverPromise},_toggleNotifications:function(t){this._getPopover().then(i=>{let o;if(h.last("/core/shellBar/enabled")){o=T()}else{o=w();if(!o.$().width()){o=e.getElementById("endItemsOverflowBtn")}}if(i.isOpen()){i.close()}else if(t!==false){this._resetCount();i.openBy(o)}})},_resetCount:function(){this.oConfigModel.setProperty("/notificationsCount",0);this.oNotificationsService.notificationsSeen()},exit:function(){i.getInstance().unsubscribe("sap.ushell.services.Notifications","onNewNotifications",this._handleAlerts,this);if(this.oNotificationsService&&this.oNotificationsService.isEnabled()===true){this.oNotificationsService.destroy()}this.oNotificationsService=null;const t=w();if(t){this.oRenderer.hideHeaderEndItem(t,false);t.destroy()}this.oRenderer=null;let o=e.getElementById("notificationsView");if(o){o.destroy();o=null}this._aTimeouts.forEach(window.clearTimeout)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Notifications/Notifications.controller", ["sap/base/Log","sap/m/CustomListItem","sap/m/library","sap/m/MessageToast","sap/m/Text","sap/m/VBox","sap/ui/core/library","sap/ui/core/mvc/Controller","sap/ui/core/StaticArea","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ui/thirdparty/jquery","sap/ushell/Container","sap/ushell/resources","sap/ushell/utils"],(t,e,i,o,s,n,r,a,c,f,l,jQuery,h,u,g)=>{"use strict";const d=r.Priority;const I=i.ListType;const N=i.FlexAlignItems;async function T(t){const e=await h.getServiceAsync("MessageInternal");e.error(t)}return a.extend("sap.ushell.components.shell.Notifications.Notifications",{oPagingConfiguration:{MAX_NOTIFICATION_ITEMS_DESKTOP:400,MAX_NOTIFICATION_ITEMS_MOBILE:100,MIN_NOTIFICATION_ITEMS_PER_BUFFER:15,NOTIFICATION_ITEM_HEIGHT:f.system.phone||f.system.tablet?130:100,TAB_BAR_HEIGHT:100},onInit:function(){const t={};if(f.system.desktop){this.iMaxNotificationItemsForDevice=this.oPagingConfiguration.MAX_NOTIFICATION_ITEMS_DESKTOP}else{this.iMaxNotificationItemsForDevice=this.oPagingConfiguration.MAX_NOTIFICATION_ITEMS_MOBILE}const e=this.getView();this.oNotificationsService=e.getViewData().notificationsService;this.oSortingType=this.oNotificationsService.getOperationEnum();this.oKeyToSortingMap={sapUshellNotificationIconTabByDate:this.oSortingType.NOTIFICATIONS_BY_DATE_DESCENDING,sapUshellNotificationIconTabByType:this.oSortingType.NOTIFICATIONS_BY_TYPE_DESCENDING,sapUshellNotificationIconTabByPrio:this.oSortingType.NOTIFICATIONS_BY_PRIORITY_DESCENDING};t[this.oSortingType.NOTIFICATIONS_BY_DATE_DESCENDING]=this.getInitialSortingModelStructure();t[this.oSortingType.NOTIFICATIONS_BY_PRIORITY_DESCENDING]=this.getInitialSortingModelStructure();t[this.oSortingType.NOTIFICATIONS_BY_TYPE_DESCENDING]={};this.sCurrentSorting=this.oSortingType.NOTIFICATIONS_BY_DATE_DESCENDING;this.oPreviousTabKey="sapUshellNotificationIconTabByDate";const i=new l(t);i.setSizeLimit(1500);e.setModel(i);e.setModel(u.i18nModel,"i18n");this.getNextBuffer()},onAfterRendering:function(){this.removeTabIndexFromList(this.sCurrentSorting);const t=this.getView();const e=t.byId("notificationIconTabBar--header");if(e){e.getDomRef().classList.remove("sapContrastPlus")}t.$("-sapUshellNotificationIconTabByDate-text").attr("aria-label",u.i18n.getText("Notifications.ByDateDescending.AriaLabel"));t.$("-sapUshellNotificationIconTabByType-text").attr("aria-label",u.i18n.getText("Notifications.ByType.AriaLabel"));t.$("-sapUshellNotificationIconTabByPrio-text").attr("aria-label",u.i18n.getText("Notifications.ByPriority.AriaLabel"))},shouldFetchMoreNotifications:function(){const t=this.getModel();const e=t.getProperty(`/${this.sCurrentSorting}/hasMoreItemsInBackend`);const i=t.getProperty(`/${this.sCurrentSorting}/listMaxReached`);return e&&!i},getNextBuffer:async function(){const t=this.getModel();const e=this.getItemsFromModel(this.sCurrentSorting);let i;if(!this.shouldFetchMoreNotifications()){return}const o=this.getNumberOfItemsToFetchOnScroll(this.sCurrentSorting);if(o===0){t.setProperty(`/${this.sCurrentSorting}/hasMoreItems`,false);return}if(e!==undefined){i=e.length}if(i===0){this.addBusyIndicatorToTabFilter(this.sCurrentSorting)}t.setProperty(`/${this.sCurrentSorting}/inUpdate`,true);try{const t=await this.oNotificationsService.getNotificationsBufferBySortingType(this.sCurrentSorting,i,o);const e=this.oNotificationsService._getNotificationSettingsAvailability();if(e.state()==="pending"){this.oNotificationsService._userSettingInitialization()}this.addBufferToModel(this.sCurrentSorting,t)}catch(t){if(i===0){this.removeBusyIndicatorToTabFilter(this.sCurrentSorting);T(u.i18n.getText("errorOccurredMsg"))}}},getNextBufferForType:async function(){const t=this.getModel();const e=this.oSortingType.NOTIFICATIONS_BY_TYPE_DESCENDING;const i=t.getProperty(`/${e}`);const o=i.find(t=>t.Id===this.sCurrentExpandedType);if(!o||!o.hasMoreItems){return}await this.updateGroupHeaders(true)},addBufferToModel:function(t,e){const i=this.getModel();if(!e){i.setProperty(`/${t}/hasMoreItemsInBackend`,false);return}const o=this.getItemsFromModel(t);const s=e.length>=this.getNumberOfItemsToFetchOnScroll(t);i.setProperty(`/${t}/hasMoreItemsInBackend`,s);const n=o.concat(e);i.setProperty(`/${t}/aNotifications`,n);i.setProperty(`/${t}/inUpdate`,false);if(n.length>=this.iMaxNotificationItemsForDevice){this.handleMaxReached(t)}if(o.length===0){this.removeBusyIndicatorToTabFilter(t)}},isMoreCircleExist:function(t){const e=this.getNotificationList(t);const i=e.getItems();const o=i.length;const s=i[o-1];return!!o&&s.getMetadata().getName()==="sap.m.CustomListItem"},handleMaxReached:function(t){const e=this.getNotificationList(t);const i=Math.floor(this.oNotificationsService.getNotificationsCount());const o=i-this.iMaxNotificationItemsForDevice;const s=this.isMoreCircleExist(t);const n=this.getModel();n.setProperty(`/${this.sCurrentSorting}/moreNotificationCount`,o);n.setProperty(`/${this.sCurrentSorting}/listMaxReached`,o>=0);if(o>0&&!s){e.addItem(this.getMoreCircle(this.sCurrentSorting))}else if(o<=0&&s){e.removeItem(this.oMoreListItem)}},updateGroupHeaders:async function(e){const i=this.getModel();const o=this.oSortingType.NOTIFICATIONS_BY_TYPE_DESCENDING;const s=i.getProperty(`/${o}`);s.inUpdate=true;let n=0;if(this.sCurrentExpandedType){const t=s.find(t=>t.Id===this.sCurrentExpandedType);if(t){n=t.aNotifications.length;if(e){n+=this.getBasicBufferSize()}t.Busy=true}}i.setProperty(`/${o}`,s);this.addBusyIndicatorToTabFilter(o);try{const t=await this.oNotificationsService.getNotificationsGroupHeaders();const e=JSON.parse(t).value;e.inUpdate=false;let s=-1;e.forEach((t,e)=>{if(t.Id&&this.sCurrentExpandedType===t.Id){t.Collapsed=false;s=e}else{t.Collapsed=true;t.aNotifications=[]}});const r=this.sCurrentExpandedType;if(r){const t=e[s];if(t){t.aNotifications=await this.oNotificationsService.getNotificationsBufferInGroup(r,0,this.getNumberOfItemsToFetchOnUpdate(n))||[];if(t.aNotifications.length<this.getBasicBufferSize()){t.hasMoreItems=false}else{t.hasMoreItems=true}}}i.setProperty(`/${o}`,e)}catch(e){t.error("Notifications control - call to getNotificationsGroupHeaders or getNotificationsBufferInGroup failed: ",e,"sap.ushell.components.shell.Notifications.Notifications")}finally{this.removeBusyIndicatorToTabFilter(o);this._retainFocus()}},updateNotifications:async function(){const e=this.sCurrentSorting;this.addBusyIndicatorToTabFilter(e);const i=this.getNumberOfItemsToFetchOnScroll(e);try{const t=await this.oNotificationsService.getNotificationsBufferBySortingType(e,0,i);const o=this.getModel();o.setProperty(`/${e}/aNotifications`,t)}catch(e){t.error("Notifications control - call to notificationsService.getNotificationsBufferBySortingType failed: ",e,"sap.ushell.components.shell.Notifications.Notifications")}finally{this.removeBusyIndicatorToTabFilter(e);this._retainFocus()}},markRead:async function(t){this.setMarkReadOnModel(t,true);try{await this.oNotificationsService.markRead(t)}catch(e){T(u.i18n.getText("notificationsFailedMarkRead"));this.setMarkReadOnModel(t,false)}},onBeforeRendering:function(){if(!this._bDependencyCallbackRegistered){this._bDependencyCallbackRegistered=true;this.oNotificationsService.registerNotificationsUpdateCallback(this.refreshModel.bind(this),false)}},executeAction:function(t,e){return this.oNotificationsService.executeAction(t,e)},executeBulkAction:async function(t,e,i,s){let n;const r=this.getModel();const a=r.getProperty(`${s}/NotificationTypeDesc`)||r.getProperty(`${s}/NotificationTypeKey`);try{await this.oNotificationsService.executeBulkAction(i.Id,t);n=u.i18n.getText("notificationsSuccessExecuteBulkAction",[e,a]);o.show(n,{duration:4e3});await this.refreshModel()}catch(t){const i=t.succededNotifications&&t.succededNotifications.length;if(i){const s=t.failedNotifications.length;n=u.i18n.getText("notificationsPartialSuccessExecuteBulkAction",[e,i,s+i,a,s]);o.show(n,{duration:4e3});await this.refreshModel()}else{T(u.i18n.getText("notificationsFailedExecuteBulkAction"))}}finally{r.setProperty(`${s}/Busy`,false);this._retainFocus()}},dismissNotification:async function(t){try{await this.oNotificationsService.dismissNotification(t);await this.refreshModel();this._retainFocus()}catch(t){T(u.i18n.getText("notificationsFailedDismiss"))}},dismissBulkNotifications:async function(t){try{await this.oNotificationsService.dismissBulkNotifications(t.Id);await this.refreshModel();this._retainFocus()}catch(t){T(u.i18n.getText("notificationsFailedExecuteBulkAction"))}},onListItemPress:async function(t,e,i,o){if(e&&i){g.toExternalWithParameters(e,i,o)}await this.markRead(t)},addBusyIndicatorToTabFilter:function(t){const e=this.getNotificationList(t);e.setBusy(true);e.setShowNoData(false)},removeBusyIndicatorToTabFilter:function(t){const e=this.getNotificationList(t);e.setBusy(false);e.setShowNoData(true)},refreshModel:async function(){if(this.sCurrentSorting===this.oSortingType.NOTIFICATIONS_BY_TYPE_DESCENDING){await this.updateGroupHeaders()}else{await this.updateNotifications()}},setMarkReadOnModel:function(t,e){const i=this.getModel();let o=`/${this.sCurrentSorting}`;let s;const n=i.getProperty(o);if(this.sCurrentSorting===this.oSortingType.NOTIFICATIONS_BY_TYPE_DESCENDING){for(let t=0;t<n.length;t++){if(n[t].Id===this.sCurrentExpandedType){o=`${o}/${t}`;s=true;break}}if(!s){return}}o=`${o}/aNotifications`;const r=i.getProperty(o);r.some(i=>{if(i.Id===t){i.IsRead=e;return true}return false});i.setProperty(o,r)},onTabSelected:function(t){const e=t.getParameter("key");if(this.oPreviousTabKey!==e){this.sCurrentSorting=this.oKeyToSortingMap[e];this.oPreviousTabKey=e;this.refreshModel()}},getModel:function(){const t=this.getView();return t.getModel()},onNotificationItemPress:function(t){const e=this.getModel();const i=t.getSource();const o=i.getBindingContext();const s=o.getPath();const n=e.getProperty(s);const r=n.NavigationTargetObject;const a=n.NavigationTargetAction;const c=n.NavigationTargetParams;const f=n.Id;this.onListItemPress(f,r,a,c)},onNotificationItemClose:function(t){const e=this.getModel();this._retainFocus();const i=t.getSource();const o=i.getBindingContext();const s=o.getPath();const n=e.getProperty(s);const r=n.Id;this.dismissNotification(r)},onNotificationItemButtonPress:function(t){const e=this.getModel();const i=t.getSource();const s=i.getBindingContext();const n=s.getPath();const r=e.getProperty(n);const a=n.split("/");const c=this.sCurrentSorting===this.oSortingType.NOTIFICATIONS_BY_TYPE_DESCENDING;const f=c?`/${a[1]}/${a[2]}/${a[3]}/${a[4]}`:`/${a[1]}/${a[2]}/${a[3]}`;const l=e.getProperty(f);const h=l.Id;e.setProperty(`${f}/Busy`,true);return this.executeAction(h,r.ActionId).then(t=>{if(t?.isSucessfull){if(t.message&&t.message.length){o.show(t.message,{duration:4e3})}else{const t=r.ActionText;o.show(u.i18n.getText("ActionAppliedToNotification",[t]),{duration:4e3})}if(t.DeleteOnReturn!==false){this.refreshModel();this.oNotificationsService._addDismissNotifications(h)}}else if(t){T(t.message)}else{T(u.i18n.getText("notificationsFailedExecuteAction"))}}).catch(()=>{T(u.i18n.getText("notificationsFailedExecuteAction"))}).finally(()=>{this._retainFocus();e.setProperty(`${f}/Busy`,false)})},onNotificationGroupItemClose:function(t){const e=this.getModel();const i=t.getSource();const o=i.getBindingContext();const s=o.getPath();const n=s.split("/");const r=e.getProperty(`/${n[1]}/${n[2]}`);this.dismissBulkNotifications(r)},onNotificationGroupItemCollapse:function(t){const e=this.getModel();const i=t.getSource();const o=i.getBindingContext();const s=o.getPath();if(i.getCollapsed()){delete this.sCurrentExpandedType}else{e.setProperty(`${s}/Busy`,true);this.onExpandGroup(i)}},onNotificationGroupItemButtonPress:function(t){const e=this.getModel();const i=t.getSource();const o=i.getBindingContext();const s=o.getPath();const n=e.getProperty(s);const r=s.split("/");const a=`/${r[1]}/${r[2]}`;const c=e.getProperty(a);this._retainFocus();e.setProperty(`${a}/Busy`,true);this.executeBulkAction(n.ActionId,i.getProperty("text"),c,a)},onListUpdateStarted:function(t){const e=this.getModel();if(t.getParameter("reason")==="Growing"){if(!e.getProperty(`/${this.sCurrentSorting}/inUpdate`)){if(this.sCurrentSorting===this.oSortingType.NOTIFICATIONS_BY_TYPE_DESCENDING){this.getNextBufferForType()}else{this.getNextBuffer()}}}},getNumberOfItemsInScreen:function(){const t=jQuery(window).height();const e=(t-this.oPagingConfiguration.TAB_BAR_HEIGHT)/this.oPagingConfiguration.NOTIFICATION_ITEM_HEIGHT;return Math.ceil(e)},getBasicBufferSize:function(){return Math.max(this.getNumberOfItemsInScreen()*3,this.oPagingConfiguration.MIN_NOTIFICATION_ITEMS_PER_BUFFER)},getNumberOfItemsToFetchOnScroll:function(t){const e=(this.getItemsFromModel(t)||[]).length;const i=this.getBasicBufferSize();if(e>=this.iMaxNotificationItemsForDevice){return 0}if(e+i>this.iMaxNotificationItemsForDevice){return this.iMaxNotificationItemsForDevice-e}return i},getNumberOfItemsToFetchOnUpdate:function(t){const e=this.getBasicBufferSize();const i=Math.ceil(t/e);const o=i>0?i*e:e;return o>this.iMaxNotificationItemsForDevice?this.iMaxNotificationItemsForDevice:o},getItemsFromModel:function(t){const e=this.getModel();return e.getProperty(`/${t||this.sCurrentSorting}/aNotifications`)},getInitialSortingModelStructure:function(){return{hasMoreItemsInBackend:true,listMaxReached:false,aNotifications:[],inUpdate:false,moreNotificationCount:""}},onExpandGroup:function(t){const e=this.getModel();const i=t.getBindingContextPath();const o=e.getProperty(i);this.sCurrentExpandedType=o.Id;this.refreshModel()},getNotificationList:function(t){const e=this.getView();switch(t){case this.oSortingType.NOTIFICATIONS_BY_DATE_DESCENDING:return e.byId("sapUshellNotificationsListDate");case this.oSortingType.NOTIFICATIONS_BY_PRIORITY_DESCENDING:return e.byId("sapUshellNotificationsListPriority");default:return e.byId("sapUshellNotificationsListType")}},removeTabIndexFromList:function(t){const e=this.getNotificationList(t);const i=e.$().children().get(1);if(i){i.removeAttribute("tabindex")}},getMoreCircle:function(t){const i=this.getModel();const o=new e({type:I.Inactive,content:new n({items:[new n({items:[new s({text:`{/${t}/moreNotificationCount}`}).addStyleClass("sapUshellNotificationsMoreCircleCount").setModel(i),new s({text:u.i18n.getText("moreNotifications")})],alignItems:N.Center}).addStyleClass("sapUshellNotificationsMoreCircle"),new s({text:u.i18n.getText("moreNotificationsAvailable_message"),textAlign:"Center"}).addStyleClass("sapUshellNotificationsMoreHelpingText"),new s({text:u.i18n.getText("processNotifications_message"),textAlign:"Center"}).addStyleClass("sapUshellNotificationsMoreHelpingText")]}).addStyleClass("sapUshellNotificationsMoreVBox")}).addStyleClass("sapUshellNotificationsMoreListItem");this.oMoreListItem=o;return o},_retainFocus:function(){const t=document.activeElement;if(!t||document.body===t||!c.contains(t)){const t=this.getView();const e=t.byId("notificationIconTabBar");const i=e.getSelectedKey();const o=e.getItems().find(t=>t.getKey()===i);if(o){o.focus()}}},priorityFormatter:function(t){if(t){t=t.charAt(0)+t.substr(1).toLowerCase();return d[t]}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Notifications/NotificationsList.controller", ["sap/base/util/deepExtend","sap/m/MessageToast","sap/ui/core/format/DateFormat","sap/ui/core/Fragment","sap/ui/core/mvc/Controller","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ushell/Container","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/utils"],(t,e,i,o,s,n,a,r,c,f,g)=>{"use strict";async function u(t){const e=await r.getServiceAsync("MessageInternal");e.error(t)}return s.extend("sap.ushell.components.shell.Notifications.Notifications",{oPagingConfiguration:{MAX_NOTIFICATION_ITEMS_DESKTOP:400,MAX_NOTIFICATION_ITEMS_MOBILE:100,NOTIFICATIONS_COUNT_INITIAL:60,NOTIFICATIONS_COUNT:30},oSetFocusReason:{ListRefreshed:"ListRefreshed",MoreButtonPressed:"MoreButtonPressed",NotificationRemoved:"NotificationRemoved"},onInit:function(){if(n.system.desktop){this.iMaxNotificationItemsForDevice=this.oPagingConfiguration.MAX_NOTIFICATION_ITEMS_DESKTOP}else{this.iMaxNotificationItemsForDevice=this.oPagingConfiguration.MAX_NOTIFICATION_ITEMS_MOBILE}const t=this.getView();this.oNotificationsService=t.getViewData().notificationsService;this.oSortingTypes=this.oNotificationsService.getOperationEnum();this.sCurrentSorting=this.oSortingTypes.NOTIFICATIONS_BY_DATE_DESCENDING;this._oItemSet=new Set;const e=new a({settingsAvailable:false});e.setSizeLimit(1500);t.setModel(e);t.setModel(f.i18nModel,"i18n");this._resetModel();const i=this.oNotificationsService._getNotificationSettingsAvailability();if(i.state()==="pending"){this.oNotificationsService._userSettingInitialization()}this.oNotificationsService._getNotificationSettingsAvailability().then(t=>{if(t.settingsAvailable){this._getModel().setProperty("/settingsAvailable",true)}})},onAfterRendering:function(){this._sortUpdateSelectionState()},getNextPage:async function(t){const e=this._getModel();let i;if(t){this.getView().setVisible(false);i=await this.getOwnerComponent()._getPopover();this._resetModel()}else{i=this.byId("sapUshellNotificationsListMoreButton")}if(!this._moreNotificationsCanBeFetched()){return}const o=this._getNumberOfNotificationsToFetch();if(o===0){return}i.setBusy(true);e.setProperty("/inUpdate",true);try{let i=0;const s=this._oItemSet.size;if(!t&&s>0){await this.oNotificationsService.getNotifications();i=parseInt(await this.oNotificationsService.getUnseenNotificationsCount(),10)}const n=s+i;const a=await this.oNotificationsService.getNotificationsBufferBySortingType(this.sCurrentSorting,n,o);if(!a||a.length===0){e.setProperty("/hasMoreItemsInBackend",false)}else{const t=a.length>=this._getNumberOfNotificationsToFetch();e.setProperty("/hasMoreItemsInBackend",t);const i=a.filter(t=>{if(!this._oItemSet.has(t.Id)){this._oItemSet.add(t.Id);return true}return false});const o=e.getProperty("/notifications");const s=this._groupNotifications(o,i);e.setProperty("/notifications",s);e.refresh(true)}}catch(t){await u(f.i18n.getText("errorOccurredMsg"))}finally{this._updateListMaxReached();e.setProperty("/inUpdate",false);this.getView().setVisible(true);i.setBusy(false);const o=t?this.oSetFocusReason.ListRefreshed:this.oSetFocusReason.MoreButtonPressed;await this._setFocus(o)}},_resetModel:function(){const t=this._getModel();t.setProperty("/notifications",[]);this._oItemSet.clear();t.setProperty("/hasMoreItemsInBackend",true);t.setProperty("/listMaxReached",false);t.setProperty("/inUpdate",false)},_groupNotifications:function(t,e){t=t.length>0?t:undefined;if(this.sCurrentSorting===this.oSortingTypes.NOTIFICATIONS_BY_PRIORITY_DESCENDING){return this._groupNotificationsByPriority(t,e)}return this._groupNotificationsByTimePeriods(t,e)},_groupNotificationsByPriority:function(t,e){const i=t||this._getGroupsForPriority();for(let t=0;t<e.length;t++){const o=e[t];if(o.Priority.toUpperCase()==="HIGH"){i[0].items.push(o)}else{i[1].items.push(o)}}return i},_groupNotificationsByTimePeriods:function(t,e){const o=new Date;const s=24*60*60*1e3;const n=i.getDateInstance({pattern:"dMy"});const a=n.format(o);const r=n.format(new Date(Date.now()-s));const c=i.getDateInstance({pattern:"w"});const f=parseInt(c.format(o),10);const g=new Date;g.setFullYear(g.getFullYear()-1,11,31);const u=f-1||parseInt(c.format(g),10);const h=i.getDateInstance({pattern:"M"});const l=parseInt(h.format(o),10);const m=l-1||12;const d=i.getDateInstance({pattern:"y"});const I=parseInt(d.format(o),10);const p=t||this._getGroupsForTimePeriods();const N={TODAY:0,YESTERDAY:1,THIS_WEEK:2,LAST_WEEK:3,THIS_MONTH:4,LAST_MONTH:5,THIS_YEAR:6,OLDER:7};for(let t=0;t<e.length;t++){const i=e[t];const o=new Date(i.CreatedAt);const s=n.format(o);if(s===a){p[N.TODAY].items.push(i);continue}if(s===r){p[N.YESTERDAY].items.push(i);continue}const g=parseInt(d.format(o),10);const T=parseInt(c.format(o),10);if(g===I&&T===f){p[N.THIS_WEEK].items.push(i);continue}if(g===I&&T===u){p[N.LAST_WEEK].items.push(i);continue}const _=parseInt(h.format(o),10);if(g===I&&_===l){p[N.THIS_MONTH].items.push(i);continue}if(g===I&&_===m||g===I-1&&m===12){p[N.LAST_MONTH].items.push(i);continue}if(g===I){p[N.THIS_YEAR].items.push(i);continue}p[N.OLDER].items.push(i)}return p},_getGroupsForPriority:function(){return[{key:"IMPORTANT",titleText:f.i18n.getText("Notifications.Popover.Group.Important"),items:[]},{key:"OTHERS",titleText:f.i18n.getText("Notifications.Popover.Group.Others"),items:[]}]},_getGroupsForTimePeriods:function(){return[{key:"TODAY",titleText:f.i18n.getText("Notifications.Popover.Group.Today"),items:[]},{key:"YESTERDAY",titleText:f.i18n.getText("Notifications.Popover.Group.Yesterday"),items:[]},{key:"THIS_WEEK",titleText:f.i18n.getText("Notifications.Popover.Group.ThisWeek"),items:[]},{key:"LAST_WEEK",titleText:f.i18n.getText("Notifications.Popover.Group.LastWeek"),items:[]},{key:"THIS_MONTH",titleText:f.i18n.getText("Notifications.Popover.Group.ThisMonth"),items:[]},{key:"LAST_MONTH",titleText:f.i18n.getText("Notifications.Popover.Group.LastMonth"),items:[]},{key:"THIS_YEAR",titleText:f.i18n.getText("Notifications.Popover.Group.ThisYear"),items:[]},{key:"OLDER",titleText:f.i18n.getText("Notifications.Popover.Group.Older"),items:[]}]},_markNotificationRead:async function(t){const e=t.getBindingContext().getObject();try{await this.oNotificationsService.markRead(e.Id);t.getBindingContext().setProperty("IsRead",true)}catch(t){await u(f.i18n.getText("notificationsFailedMarkRead"))}},_moreNotificationsCanBeFetched:function(){const t=this._getModel();const e=t.getProperty("/hasMoreItemsInBackend");const i=t.getProperty("/listMaxReached");return e&&!i},_updateListMaxReached:function(){const t=this._getModel();const e=this._getNumberOfNotificationsToFetch()<=0;t.setProperty("/listMaxReached",e)},_sortUpdateSelectionState:function(){const t=o.byId(this.getOwnerComponent().createId("notificationsListCustomHeader"),"sortMenu").getItems();t.forEach(t=>{if(t.data("sortBy")===this.sCurrentSorting){t.setIcon("sap-icon://accept");t.setSelected(true)}else{t.setIcon("");t.setSelected(false)}})},_getModel:function(){return this.getView().getModel()},_getNumberOfNotificationsToFetch:function(){const t=this._oItemSet.size;const e=t>0?this.oPagingConfiguration.NOTIFICATIONS_COUNT:this.oPagingConfiguration.NOTIFICATIONS_COUNT_INITIAL;if(t>=this.iMaxNotificationItemsForDevice){return 0}if(t+e>this.iMaxNotificationItemsForDevice){return this.iMaxNotificationItemsForDevice-t}return e},_removeItemFromModel:async function(e,i){const o=this._getModel();const s=o.getObject(i)?.items||[];const n=s.findIndex(t=>t.Id===e);if(n===-1){return}s.splice(n,1);this._oItemSet.delete(e);o.setProperty(`${i}/items`,t([],s));this._updateListMaxReached();o.refresh(true);if(this._oItemSet.size===0&&!this._moreNotificationsCanBeFetched()){(await this.getOwnerComponent()._getPopover()).close()}},_setFocus:async function(t,e){const i=this._oItemSet.size>0;const o=this._moreNotificationsCanBeFetched();const s=this.byId("sapUshellNotificationsList");const n=()=>{const t=this.byId("sapUshellNotificationsListNoData");const e={onAfterRendering:()=>{t.focus();t.removeEventDelegate(e)}};t.addEventDelegate(e)};function a(t){t?.getParent()?.setCollapsed(false);const e={onAfterRendering:()=>{setTimeout(()=>{t?.getFocusDomRef()?.focus()},0);t.removeEventDelegate(e)}};t.addEventDelegate(e)}switch(t){case this.oSetFocusReason.ListRefreshed:if(i){const t=s.getItems()[0];const e=t?.getItems()[0];a(e)}else{n()}break;case this.oSetFocusReason.MoreButtonPressed:if(o){this.byId("sapUshellNotificationsListMoreButton")?.focus()}else{const t=s.getItems().length-1;const e=s.getItems()[t];const i=e?.getItems().length-1;const o=e?.getItems()[i];a(o)}break;case this.oSetFocusReason.NotificationRemoved:if(i){if(!e){break}a(e)}else if(o){this.byId("sapUshellNotificationsListMoreButton")?.focus();await this.getNextPage(false)}else{n()}break;default:(await this.getOwnerComponent()._getPopover()).focus();break}},_handleRemove:async function(t,e){const i=t.getParent();const o=i.getParent();const s=o.getItems().indexOf(i);const n=Math.max(s-1,0);const a=s-1<0;const r=i.getItems().length<=1;if(r){(await this.getOwnerComponent()._getPopover()).focus()}e().then(()=>{if(r){const t=o.getItems()[n];let e=0;if(!a){e=t?.getItems().length-1}const i=t?.getItems()[e];this._setFocus(this.oSetFocusReason.NotificationRemoved,i)}})},onLoadMorePress:async function(){const t=this._getModel();if(!t.getProperty("/inUpdate")){await this.getNextPage(false)}},onSettingsPress:async function(){c.emit("openUserSettings",{time:Date.now(),targetEntryId:"notificationsEntry"});(await this.getOwnerComponent()._getPopover()).close()},onSortMenuPress:function(){o.byId(this.getOwnerComponent().createId("notificationsListCustomHeader"),"sortMenu").setOpen(true)},onSortMenuItemPress:async function(t){const e=t.getParameter("item");this.sCurrentSorting=e.data("sortBy")||this.oSortingTypes.NOTIFICATIONS_BY_DATE_DESCENDING;this._sortUpdateSelectionState(e.data("sortBy"));await this.getNextPage(true)},onNotificationPress:async function(t){const e=t.getParameter("item");if(this._bRemoving||!e?.isA||!e.isA("sap.ushell.gen.ui5.webcomponents-fiori.dist.NotificationListItem")){return}const i=e.getBindingContext().getObject();const o=i.NavigationTargetObject;const s=i.NavigationTargetAction;const n=i.NavigationTargetParams;if(o&&s){g.toExternalWithParameters(o,s,n)}await this._markNotificationRead(e)},onNotificationRemovePress:async function(t){this._bRemoving=true;const e=t.getParameter("item");const i=e.getParent().getBindingContext().getPath();return this._handleRemove(e,async()=>{const t=e.getBindingContext().getObject();return this.oNotificationsService.dismissNotification(t.Id).then(()=>this._removeItemFromModel(t.Id,i)).finally(()=>{this._bRemoving=false})}).catch(async()=>{await u(f.i18n.getText("notificationsFailedDismiss"))})},onNotificationActionPress:async function(t){const i=t.getParameter("item");const o=i.getBindingContext().getObject();const s=i.getParent().getParent();const n=s.getBindingContext().getObject();s.setBusy(true);this._bRemoving=true;return this.oNotificationsService.executeAction(n.Id,o.ActionId).then(async t=>{if(t?.isSucessfull){if(t.message&&t.message.length){e.show(t.message,{duration:4e3})}else{const t=o.ActionText;e.show(f.i18n.getText("ActionAppliedToNotification",[t]),{duration:4e3})}if(t.DeleteOnReturn!==false){await this._handleRemove(s,async()=>{this.oNotificationsService._addDismissNotifications(n.Id);const t=s.getParent().getBindingContext().getPath();await this._removeItemFromModel(n.Id,t);s.setBusy(false)})}}else if(t){await u(t.message)}else{await u(f.i18n.getText("notificationsFailedExecuteAction"))}}).catch(async()=>{await u(f.i18n.getText("notificationsFailedExecuteAction"))}).finally(()=>{this._bRemoving=false;s.setBusy(false)})},formatShowNoDataIllustration:function(t,e){return this._oItemSet.size===0&&!t&&!e}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/PostLoadingHeaderEnhancement/Component", ["sap/base/i18n/Localization","sap/ui/Device","sap/ui/core/Component","sap/ui/core/CustomData","sap/ui/core/Element","sap/ui/core/IconPool","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/shell/ShellHeadItem","sap/ushell/state/ShellModel","sap/ushell/state/StateManager","sap/ushell/Container","sap/ushell/utils","sap/ushell/utils/UrlParsing"],(e,t,n,i,a,s,o,l,r,c,p,u,h,d,g,f)=>{"use strict";const m=r.AppTitleState;const b=r.FloatingNumberType;const B=h.LaunchpadState;const S=h.Operation;const y=h.ShellMode;const{Default:A,Standalone:v,Embedded:w,Lean:I,Merged:_}=y;let M=[];return n.extend("sap.ushell.components.shell.PostLoadingHeaderEnhancement.Component",{metadata:{library:"sap.ushell"},init:function(){this._aInitPromises=[];const e=d.getRendererInternal("fiori2").getShellConfig();this._aInitPromises.push(this._createBackButton().then(e=>{M.push(e)}));M.push(this._createOverflowButton());if(e.moveAppFinderActionToShellHeader&&o.last("/core/catalog/enabled")&&!e.disableAppFinder){this._aInitPromises.push(this._createAppFinderButton().then(e=>{M.push(e)}))}if(e.moveContactSupportActionToShellHeader){this._aInitPromises.push(this._createSupportButton().then(e=>{M.push(e)}))}this._createShellNavigationMenu();const t=a.getElementById("shell-header");t.updateAggregation("headItems");t.updateAggregation("headEndItems");this._pInitPromise=Promise.all(this._aInitPromises)},_createBackButton:async function(){const t=e.getRTL()?"feeder-arrow":"nav-back";const n=h.getShellMode();let i;if(o.last("/core/shellBar/enabled")){const[e]=await g.requireAsync(["sap/ushell/gen/ui5/webcomponents/dist/Button"]);i=new e({id:"backBtn",tooltip:c.i18n.getText("backBtn_tooltip"),accessibleDescription:c.i18n.getText("backBtn_tooltip"),icon:s.getIconURI(t),click:function(){l.emit("navigateBack",Date.now())}})}else{i=new p({id:"backBtn",tooltip:c.i18n.getText("backBtn_tooltip"),ariaLabel:c.i18n.getText("backBtn_tooltip"),icon:s.getIconURI(t),press:function(){l.emit("navigateBack",Date.now())}})}if([A,v,w,_].includes(n)){h.updateBaseStates([B.App],"header.headItems",S.Add,i.getId())}else if(n===I){this._boundSetBackButtonVisibilityAfterHashChanged=this._setBackButtonVisibilityAfterHashChanged.bind(this);window.addEventListener("hashchange",this._boundSetBackButtonVisibilityAfterHashChanged)}return i.getId()},_setBackButtonVisibilityAfterHashChanged:function(e){const{oldURL:t,newURL:n}=e;const i=f.getHash(t);const a=f.getHash(n);const s=f.parseShellHash(i).appSpecificRoute;const o=f.parseShellHash(a).appSpecificRoute;const l=s!==o;if(l){h.updateBaseStates([B.App],"header.headItems",S.Add,"backBtn");window.removeEventListener("hashchange",this._boundSetBackButtonVisibilityAfterHashChanged);delete this._boundSetBackButtonVisibilityAfterHashChanged}},_createOverflowButton:function(){if(o.last("/core/shellBar/enabled")){return}const e=new p({id:"endItemsOverflowBtn",tooltip:{path:"configModel>/notificationsCount",formatter:function(e){return this.tooltipFormatter(e)}},ariaLabel:c.i18n.getText("shellHeaderOverflowBtn_tooltip"),ariaHaspopup:"dialog",icon:"sap-icon://overflow",floatingNumber:"{configModel>/notificationsCount}",floatingNumberMaxValue:t.system.phone?99:999,floatingNumberType:b.OverflowButton,press:function(e){l.emit("showEndItemOverflow",e.getSource().getId(),true)}});e.setModel(u.getConfigModel(),"configModel");return e.getId()},_createHeaderItem:async function(e){if(o.last("/core/shellBar/enabled")){const[t]=await g.requireAsync(["sap/ushell/gen/ui5/webcomponents-fiori/dist/ShellBarItem"]);e.click=e.press;delete e.press;e.accessibilityAttributes=e.accessibilityAttributes||{};e.accessibilityAttributes.hasPopup=e.accessibilityAttributes.hasPopup??e.ariaHaspopup;delete e.ariaHaspopup;delete e.ariaLabel;return new t(e)}return new p(e)},_createAppFinderButton:async function(){const e=await this._createHeaderItem({id:"openCatalogBtn",text:c.i18n.getText("open_appFinderBtn"),ariaLabel:c.i18n.getText("open_appFinderBtn"),tooltip:c.i18n.getText("open_appFinderBtn"),icon:"sap-icon://sys-find",press:function(){d.getServiceAsync("Navigation").then(e=>{e.navigate({target:{semanticObject:"Shell",action:"appfinder"}})})}});if(o.last("/core/extension/enableHelp")){e.addStyleClass("help-id-openCatalogActionItem")}h.updateAllBaseStates("userActions.items",S.Add,e.getId());return e.getId()},_createSupportButton:function(){return new Promise(e=>{sap.ui.require(["sap/ushell/ui/footerbar/ContactSupportButton"],async t=>{const n="ContactSupportBtn";let i=a.getElementById(n);if(!i){const e=new t("tempContactSupportBtn",{visible:true});const a=e.getIcon();const s=e.getText();i=await this._createHeaderItem({id:n,icon:a,tooltip:s,text:s,ariaHaspopup:"dialog",press:function(){e.firePress()}})}h.updateAllBaseStates("userActions.items",S.Add,n);e(n)})})},_createShellNavigationMenu:function(){return new Promise(function(e){sap.ui.require(["sap/m/StandardListItem","sap/ushell/ui/shell/NavigationMiniTile","sap/ushell/ui/shell/ShellNavigationMenu"],(t,n,s)=>{const o="shellNavigationMenu";function r(e,n){const a=n.getProperty("icon")||"sap-icon://circle-task-2";const s=n.getProperty("title");const o=n.getProperty("subtitle");const r=n.getProperty("intent");const c=new t({type:"Active",title:s,description:o,icon:a,wrapping:true,customData:[new i({key:"intent",value:r})],press:function(){if(r&&r[0]==="#"){l.emit("navigateFromShellApplicationNavigationMenu",r,true)}}}).addStyleClass("sapUshellNavigationMenuListItems");return c}function c(e,t){const i=t.getProperty("icon");const a=t.getProperty("title");const s=t.getProperty("subtitle");const o=t.getProperty("intent");return new n({title:a,subtitle:s,icon:i,intent:o,press:function(){const e=this.getIntent();if(e&&e[0]==="#"){l.emit("navigateFromShellApplicationNavigationMenu",e,true)}}})}const p=new s(o,{showRelatedApps:h.getShellMode()!==I,items:{path:"shellModel>/application/hierarchy",factory:r.bind(this)},miniTiles:{path:"shellModel>/application/relatedApps",factory:c.bind(this)},visible:{path:"configModel>/shellAppTitleState",formatter:function(e){return e===m.ShellNavMenu}}});p.setModel(u.getModel(),"shellModel");p.setModel(u.getConfigModel(),"configModel");const d=a.getElementById("shellAppTitle");if(d){d.setNavigationMenu(p)}M.push(o);e(p)})})},exit:function(){M.forEach(e=>{const t=a.getElementById(e);if(t){t.destroy()}});M=[];if(this._boundSetBackButtonVisibilityAfterHashChanged){window.removeEventListener("hashchange",this._boundSetBackButtonVisibilityAfterHashChanged)}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/ProductSwitch/Component", ["sap/base/Log","sap/ui/core/Element","sap/ui/core/UIComponent","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ushell/Config","sap/ushell/resources","sap/ushell/utils/WindowUtils","sap/ushell/ui/shell/ShellHeadItem","sap/ushell/Container","sap/ushell/EventHub"],(e,t,o,n,s,r,i,l,c,d,u)=>{"use strict";function a(){return t.getElementById("productSwitchBtn")}function h(){return t.getElementById("shell-header").getProductSwitchDomRef()}function p(){return t.getElementById("sapUshellProductSwitchPopover")}return o.extend("sap.ushell.components.shell.ProductSwitch.Component",{metadata:{version:"1.141.1",library:"sap.ushell.components.shell.ProductSwitch",dependencies:{libs:{"sap.m":{},"sap.f":{lazy:true}}}},createContent:function(){this.oModel=this._getModel()},_getModel:function(){const t=this;const o=new s;o.loadData(r.last("/core/productSwitch/url")).then(()=>{const n=o.getData();if(n.length===0){e.debug("There are no other profucts configured for your user. ProductSwitch button will be hidden.")}else{t._addProductSwitchButtonToHeader()}}).catch(t=>{e.debug("get ProductSwitch model failed: ",t)});return o},_openProductSwitch:function(){let e=p();let o=Promise.resolve();if(!e){o=new Promise((e,t)=>{sap.ui.require(["sap/ui/core/Fragment"],o=>{o.load({name:"sap.ushell.components.shell.ProductSwitch.ProductSwitch",type:"XML",controller:this}).then(e).catch(t)},t)}).then(t=>{e=t;e.setModel(this.oModel);e.setModel(i.i18nModel,"i18n");if(n.system.phone){e.setShowHeader(true)}})}o.then(()=>{let o;if(r.last("/core/shellBar/enabled")){o=h()}else{o=a();if(!o||!o.$().width()){o=t.getElementById("endItemsOverflowBtn")}}e.openBy(o)});return o},onProductItemPress:function(e){const t=e.getParameter("itemPressed").getTargetSrc();p().close();l.openURL(t,"_blank")},_addProductSwitchButtonToHeader:function(){const e=new c({id:"productSwitchBtn",icon:"sap-icon://grid",visible:true,text:i.i18n.getText("productSwitch"),ariaHaspopup:"dialog",press:function(){u.emit("showProducts",Date.now())}});d.getRendererInternal("fiori2").showHeaderEndItem([e.getId()],false);u.on("showProducts").do(this._openProductSwitch.bind(this))},exit:function(){const e=p();if(!e){e.destroy()}const t=a();if(t){t.destroy()}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Search/Component", ["sap/m/Input","sap/ui/core/Element","sap/ui/core/EventBus","sap/ushell/components/shell/Search/ESearch","sap/ui/core/UIComponent","sap/ui/core/Component","sap/ushell/Config","sap/ushell/utils","sap/base/util/ObjectPath","sap/ushell/Container"],(e,s,a,t,n,l,o,c,r,i)=>{"use strict";return n.extend("sap.ushell.components.shell.Search.Component",{metadata:{manifest:"json",library:"sap.ushell"},createContent:function(){const e=this;const s=r.get("sap-ushell-config.services.SearchCEP")!==undefined;const n=i.getRendererInternal("fiori2").getShellController();const h=n.getView();const p=(h.getViewData()?h.getViewData().config:{})||{};const u=p.enableSearch!==false;if(!u){a.getInstance().publish("shell","searchCompLoaded",{delay:0});return}i.getFLPPlatform().then(n=>{if(n==="MYHOME"||n==="cFLP"&&s===true){if(o.last("/core/shellBar/enabled")&&o.last("/core/searchCEPNew/enabled")){l.create({id:"searchCEPNew",name:"sap.ushell.components.shell.SearchCEPNew"})}else{l.create({manifest:false,name:"sap.ushell.components.shell.SearchCEP"})}}else{t.createContent(e);a.getInstance().publish("shell","searchCompLoaded",{delay:0})}c.setPerformanceMark("FLP -- search component is loaded")})},exit:function(){t.exit()}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Search/ESearch", ["sap/ui/core/Element","sap/ui/core/Lib","sap/ushell/resources","sap/ui/core/IconPool","sap/ui/core/routing/HashChanger","sap/ui/thirdparty/jquery","sap/ushell/renderer/search/util","sap/ushell/Container","sap/ushell/Config"],(e,a,s,r,t,jQuery,n,l,i)=>{"use strict";let h=false;function o(e){if(!e._searchShellHelperPromise){e._searchShellHelperPromise=new Promise(e=>{a.load("sap.esh.search.ui").then(()=>{sap.ui.require(["sap/esh/search/ui/SearchShellHelperAndModuleLoader","sap/esh/search/ui/SearchShellHelper"],(a,s)=>{s.init();e(s)})})})}return e._searchShellHelperPromise}function c(c){h=true;if(i.last("/core/shellBar/enabled")){e.getElementById("shell-header").attachSearchButtonPress(e=>{o(c).then(a=>{a.onShellSearchButtonPressed(e)})})}const d={id:"sf",tooltip:"{i18n>openSearchBtn}",text:"{i18n>searchBtn}",ariaLabel:"{i18n>openSearchBtn}",icon:r.getIconURI("search"),visible:true,press:function(e){o(c).then(a=>{a.onShellSearchButtonPressed(e)})}};const u=l.getRendererInternal("fiori2").addHeaderEndItem("sap.ushell.ui.shell.ShellHeadItem",d,true,false);u.data("help-id","shellHeader-search",true);if(n.isSearchFieldExpandedByDefault()){u.setVisible(false)}u.setModel(s.i18nModel,"i18n");if(n.isSearchFieldExpandedByDefault()){o(c).then(e=>{if(e.expandSearch){e.expandSearch()}else{u.setVisible(true)}})}c.oHashChanger=t.getInstance();c.oHashChanger.attachEvent("shellHashChanged",e=>{const s=e.mParameters;setTimeout(()=>{a.load("sap.esh.search.ui").then(()=>{sap.ui.require(["sap/esh/search/ui/HashChangeHandler"],e=>{e.handle(s)})})},6e3)});u.addEventDelegate({onAfterRendering:function(){jQuery("#sf").attr("aria-pressed",false)}})}function d(){if(h){l.getRendererInternal("fiori2").hideHeaderEndItem("sf");const a=e.getElementById("sf");if(a){a.destroy()}}}return{createContent:c,exit:d}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/SearchCEP/Component", ["sap/base/Log","sap/m/SearchField","sap/ui/Device","sap/ui/core/Element","sap/ui/core/EventBus","sap/ui/core/IconPool","sap/ui/core/UIComponent","sap/ui/thirdparty/jquery","sap/ushell/Config","sap/ushell/Container","sap/ushell/components/shell/SearchCEP/SearchCEP.controller","sap/ushell/resources","sap/ushell/utils/UrlParsing"],(e,t,s,i,n,h,o,jQuery,r,a,l,c,S)=>{"use strict";return o.extend("sap.ushell.components.shell.SearchCEP.Component",{metadata:{version:"1.141.1",library:["sap.ushell","sap.ushell.components.shell"],dependencies:{libs:["sap.m"]}},createContent:function(){try{this.oRenderer=a.getRendererInternal("fiori2");this.oShellHeader=i.getElementById("shell-header");if(r.last("/core/shellBar/enabled")){this.oShellHeader.attachSearchButtonPress(this.onShellSearchButtonPressed.bind(this))}this.oRenderer.addHeaderEndItem({id:"sf",tooltip:"{i18n>openSearchBtn}",text:"{i18n>search}",ariaLabel:"{i18n>openSearchBtn}",icon:h.getIconURI("search"),visible:true,press:this.onShellSearchButtonPressed.bind(this)},true,false);this.oShellSearchBtn=i.getElementById("sf");this.oShellSearchBtn.data("help-id","shellHeader-search",true);this.oShellSearchBtn.addEventDelegate({onkeydown:this._keyDownSearchBtn.bind(this)});const e={width:"90%",placeholder:c.i18n.getText("search"),tooltip:c.i18n.getText("search"),enableSuggestions:true,suggest:this.onSuggest.bind(this),search:this.onSearch.bind(this)};this.oSF=new t("PlaceHolderSearchField",e);this.oSF.addStyleClass("sapUshellCEPSearchCenter");const s=this.getScreenSize();if(s==="S"){this.initSearchSSize()}else if(s==="M"||s==="L"){this.initSearchMLSizes()}else if(s==="XL"){this.initSearchXLSize()}this.oShellHeader.setSearch(this.oSF);this.oSearchCEPController=new l;this.oSF.addEventDelegate({onfocusin:this._onfocusin.bind(this),onAfterRendering:this._onAfterRendering.bind(this)});this.oSearchCEPController.getHomePageApps()}catch(t){e.info("Failed to create CEP search field content",t)}n.getInstance().publish("shell","searchCompLoaded",{delay:0})},initSearchSSize:function(){this.oSF.setWidth("60%");this.oShellHeader.setSearchState("COL",35,false)},initSearchMLSizes:function(){this.oShellHeader.setSearchState("COL",35,false)},initSearchXLSize:function(){this.oShellSearchBtn.setVisible(false);this.oShellHeader.setSearchState("EXP",35,false)},_onAfterRendering:function(e){const t=jQuery(this.oShellHeader.getDomRef()).find("#shell-header-hdr-search");t.addClass("CEPShellHeaderPadding");jQuery(this.oSF.getDomRef()).find("#PlaceHolderSearchField-search").attr("title",c.i18n.getText("search"));const s=a.getFLPUrl(true);const i=S.getHash(s);const n=i.split("&/")[0];if(this.oSF.getValue()){if(n==="Action-search"||n==="WorkZoneSearchResult-display"){jQuery(this.oSF.getDomRef()).blur()}}},_onfocusin:function(e){if(this.oSF.getEnableSuggestions()&&s.system.phone){jQuery(this.oSF.getDomRef()).find("input").attr("inputmode","search")}},onSuggest:function(e){if(this.oSF.getEnableSuggestions()&&s.system.phone){jQuery(this.oSF.getDomRef()).find("input").attr("inputmode","search")}if(i.getElementById("CEPSearchField")){this.oSearchCEPController.onSuggest(e)}else{this.oSearchCEPController.onInit()}},onSearch:function(e){if(i.getElementById("CEPSearchField")){this.oSearchCEPController.onSearch(e)}},exit:function(){this.oSearchCEPController.onExit()},expandSearch:function(){this.oShellHeader.setSearchState("EXP_S",35,false);this.oSF.focus()},onShellSearchButtonPressed:function(){this.oShellSearchBtn.setVisible(false);this.expandSearch()},collapseSearch:function(){this.oShellHeader.setSearchState("COL",35,false);this.oShellSearchBtn.setVisible(true)},getScreenSize:function(){const e=s.media.getCurrentRange(s.media.RANGESETS.SAP_STANDARD_EXTENDED);if(e.from>=1440){return"XL"}else if(e.from>=1024){return"L"}else if(e.from>=600){return"M"}else if(e.from>=0){return"S"}},_keyDownSearchBtn:function(e){if(e.code===13||e.code==="Enter"){setTimeout(()=>{this.oSF.focus()},500)}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/SearchCEP/SearchCEP.controller", ["sap/base/i18n/Localization","sap/ui/core/Element","sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ui/core/Fragment","sap/m/List","sap/m/Text","sap/m/StandardListItem","sap/ushell/components/shell/SearchCEP/SearchProviders/SearchProvider","sap/ui/thirdparty/jquery","sap/ushell/resources","sap/ui/Device","sap/ushell/EventHub","sap/m/Avatar","sap/ushell/Container","sap/ushell/Config","sap/ui/thirdparty/hasher"],(e,t,s,i,o,n,r,a,l,jQuery,c,h,d,g,u,f,p)=>{"use strict";return s.extend("sap.ushell.components.shell.SearchCEP.SearchCEP",{onInit:function(){this._bIsMyHome=false;this._bEscPressed=false;this.bGrowingReset=false;this._bClosedOnItemPress=false;this._SearchCEPService=u.getServiceAsync("SearchCEP");this._SearchCEPService.then(e=>{this._registerDefaultProviders(e);this._listenToServiceEvents(e)});this._toggleSearchPopover(false);this._oPlaceHolderSF=t.getElementById("PlaceHolderSearchField");this._registerHandleHashChange();const e=u.getFLPPlatform(true);if(e==="MYHOME"){this._bIsMyHome=true}},onSuggest:function(e){if(this._bEscPressed||this._bClosedOnItemPress){return}this.oSF.focus();const t=e.getParameter("suggestValue");this._testProviders(t)},onfocusin:function(e){if(this.oSF.getEnableSuggestions()&&h.system.phone){jQuery(this.oSF.getDomRef()).find("input").attr("inputmode","search");jQuery(this._oPlaceHolderSF.getDomRef()).find("input").attr("inputmode","search")}},onSearch:function(e){let s=e.getParameter("query");const i=e.getParameter("escPressed");const o=e.getParameter("clearButtonPressed");const n=t.getElementById("SearchResultList");if(i){this._bEscPressed=i;if(this.oSF.getValue()||this._oPlaceHolderSF.getValue()){this.oSF.setValue("");this._oPlaceHolderSF.setValue("")}else{this._oPopover.close()}return}if(o){this.oSF.setValue("");this._oPlaceHolderSF.setValue("");this._testProviders();let e=true;const t=this._oPopover.getContent()[1].getItems();for(const s in t){if(t[s].getItems().length){e=false}}if(e){this._oPopover.close()}return}if(s){s=s.trim();this._oPlaceHolderSF.setValue(this.oSF.getValue());this._saveSearchTerm(s);if(this._bIsMyHome){if(n.getItems().length>0){const e=n.getItems()[0].getBindingContext("resultModel");const t=e.getObject();this._navigateToApp(t)}}else{this._navigateToResultPage(s)}this._oPopover.close()}},onBeforeOpen:function(){let e=false;const s=t.getElementById("shell-header");const i=s.getSearchState();if(i==="COL"){e=true}this._oPopover.addStyleClass("sapUshellCEPSearchFieldPopover");s.setSearchState("EXP",35,false);s.setSearchState("EXP_S",35,true);if(e===true){s.setSearchState("COL",35,false)}},onAfterOpen:function(){const e=document.getElementById("PlaceHolderSearchField").clientHeight;document.getElementById("CEPSearchField").style.height=`${e}px`;document.getElementById("CEPSearchField-search").title=c.i18n.getText("search")},onAfterClose:function(e){const s=t.getElementById("sf");const i=t.getElementById("shell-header");const o=this._getScreenSize();const n=this._oPopover.getContent()[1].getItems();this._oPlaceHolderSF.setValue(this.oSF.getValue());if(this._bClosedOnItemPress){this._bClosedOnItemPress=false}if(this._bEscPressed){this._bEscPressed=false;this._oPlaceHolderSF.focus()}if(o!=="XL"&&this.oSF.getValue()===""){i.setSearchState("COL",35,false);s.setVisible()}else{i.setSearchState("EXP",35,false);i.setSearchState("EXP_S",35,false)}n.forEach(t=>{const s=t._getProviderConfig();const i=this._getDefaultProviderGroupName(s.id);if(!i){if(typeof s.popoverClosed==="function"){const t=s.popoverClosed;t(e)}}})},getHomePageApps:function(){const e="homePageApplications";const t=l.getDefaultProviders()[e];t.execSearch("",e)},_registerHandleHashChange:function(){p.changed.add(e=>{if(e!==""&&!/WorkZoneSearchResult-display|Action-search/.test(e)){if(this._oPlaceHolderSF&&this._oPlaceHolderSF.getValue()!==""){this._oPlaceHolderSF.setValue("")}if(this.oSF&&this.oSF.getValue()!==""){this.oSF.setValue("")}}})},_listenToServiceEvents:function(e){d.on("updateExtProviderLists").do(this._updateExtProviderLists.bind(this,e))},_updateExtProviderLists:function(e){if(this._oPopover){const t=this._oPopover.getContent()[1];const s=t.getItems();const i=e.getExternalSearchProvidersPriorityArray();for(const e in s){const i=s[e];const o=i._getProviderConfig();const n=this._getDefaultProviderGroupName(o.id);if(!n){t.removeItem(i);i.destroy();this._oResultModel.setProperty(`/${o.name}`,[])}}if(!h.support.touch){this._sContentDensityClass="sapUiSizeCompact"}else{this._sContentDensityClass="sapUiSizeCozy"}i.then(e=>{for(const s in e){const i=this._createList(e[s],undefined);i.addStyleClass(this._sContentDensityClass);t.addItem(i)}if(this._oPopover.isOpen()){if(e.length){this._testProviders(this.oSF.getValue())}}})}},_registerDefaultProviders:function(e){for(const t in l.getDefaultProviders()){e.registerDefaultSearchProvider(l.getDefaultProviders()[t])}},_getScreenSize:function(){const e=h.media.getCurrentRange(h.media.RANGESETS.SAP_STANDARD_EXTENDED);if(e.from>=1440){return"XL"}else if(e.from>=1024){return"L"}else if(e.from>=600){return"M"}else if(e.from>=0){return"S"}},_focusNextList:function(e){const t=this._oPopover.getContent()[1].getItems();const s=t.map(e=>e.getId()).indexOf(e.getId());const i=t.slice(s+1);for(let e=0;e<i.length;e++){if(i[e].getVisible()&&i[e].getItems().length){const t=i[e].getItems()[0];const s=t.getParent();const o=s._getProviderConfig();t.focus();this._setListNameToAriaLabelledBy(t,o.title);break}}},_focusPreviousList:function(e){const s=this._oPopover.getContent()[1].getItems();const i=s.map(e=>e.getId()).indexOf(e.getId());const o=s.slice(0,i);if(!o.length){this.oSF.focus();return}for(let e=o.length-1;e>=0;e--){if(o[e].getVisible()&&o[e].getItems().length){const s=o[e].getItems();const i=document.getElementById(`${o[e].getId()}-triggerList`);const n=window.getComputedStyle(i);if(n.display==="none"){s[s.length-1].focus()}else{t.getElementById(`${o[e].getId()}-trigger`).focus()}break}if(e===0){this.oSF.focus()}}},_keyDownHandler:function(e){const t=e.srcControl;const s=t.getParent();const i=s.getItems();if(e.code===40||e.code==="ArrowDown"){if(i[i.length-1]===t){const e=document.getElementById(`${s.getId()}-triggerList`);const t=window.getComputedStyle(e);if(t.display==="none"){this._focusNextList(s)}}if(t.getId().endsWith("-trigger")){this._focusNextList(s)}}else if(e.code===38||e.code==="ArrowUp"){if(i[0]===t){this._focusPreviousList(s)}}},_setListNameToAriaLabelledBy:function(e,s){const i=e.getDomRef();const o=jQuery(i).attr("aria-labelledby");const n=t.getElementById(o).getProperty("text");jQuery(t.getElementById(o).getDomRef()).text(`${s}. ${n}`)},_getDefaultProviderGroupName:function(e){const t={SearchResultList:"applications",FrequentlyUsedAppsList:"frequentApplications",SearchHistoryList:"recentSearches",ProductsList:"homePageApplications",ExternalSearchAppsList:"externalSearchApplications"};return t[e]},_removeTopListDivider:function(){setTimeout(()=>{const e=jQuery(this._oPopover.getDomRef()).find(".searchCEPList.sapUshellCEPListDivider").not(":hidden");if(e.length){jQuery.each(e,t=>{if(jQuery(e[t]).hasClass("topCEPlist")){jQuery(e[t]).removeClass("topCEPlist")}});jQuery(e[0]).addClass("topCEPlist")}},300)},_createList:function(e,t){const s=new n({id:e.id,showSeparators:"None",headerText:e.titleVisible?e.title:"",headerLevel:"H1",growing:true,showNoData:e.showNoData||false,growingThreshold:e.defaultItemCount,growingScrollToLoad:false,items:{path:`resultModel>/${e.name}`,factory:this._createListItem.bind(this,e.name)},growingStarted:this._listUpdateStart.bind(this),updateStarted:this._listUpdateStart.bind(this),updateFinished:this._listUpdateFinished.bind(this),itemPress:this._itemPress.bind(this)}).addStyleClass("searchCEPList sapUshellCEPListDivider");s.setModel(t,"resultModel");s._providerConfig=e;s._getProviderConfig=function(){return this._providerConfig};s.addEventDelegate({onkeydown:this._keyDownHandler.bind(this),onsapdown:this._keyDownHandler.bind(this)});return s},_createListItem:function(e,t,s){const i={iconDensityAware:false,title:s.getProperty("text"),type:"Active"};const o=s.getProperty("icon");const n=this._getScreenSize();let r=s.getProperty("contentProviderLabel");const l=["SearchResultList","FrequentlyUsedAppsList"];const c=f.last("/core/contentProviders/providerInfo/enabled");const h=f.last("/core/contentProviders/providerInfo/showContentProviderInfoOnVisualizations");if(c&&h&&l.includes(e)&&r!==undefined&&r!==""){r=r.toUpperCase();if(n==="S"){i.description=r}else{i.title+=` - ${r}`}}const d=new g("",{displaySize:"XS",backgroundColor:"Transparent",displayShape:"Square",src:o,imageFitType:"Contain",decorative:true});i.avatar=d;if(o.indexOf("sap-icon://")>-1){d.addStyleClass("searchCEPlistItemIcon")}const u=new a(i);if(n==="S"&&i.description!==undefined){u.addStyleClass("sapCEPSearchListItemMobileHeight")}u.addStyleClass("sapUiTinyMarginBeginEnd");return u},_itemPress:function(e){let t;const s=e.getParameter("srcControl");const i=s.getParent();const o=i._getProviderConfig();let n=this._getDefaultProviderGroupName(o.id);if(n){n=n.charAt(0).toUpperCase()+n.substring(1);t=`_on${n}Press`;this[t](e)}else{t=o.itemPress;t(e);const n=i.getItems().indexOf(s);const r=this._oResultModel.getProperty(`/${o.name}`);const a=r[n];if(a.hasOwnProperty("press")&&typeof a.press==="function"){t=a.press;t(e)}if(!a.hasOwnProperty("closePopover")&&o.closePopover===true||a.hasOwnProperty("closePopover")&&a.closePopover===true){this._bClosedOnItemPress=true;this._oPopover.close();jQuery(this.oSF.getDomRef()).find("input").blur();jQuery(this._oPlaceHolderSF.getDomRef()).find("input").blur()}}},_listUpdateStart:function(e){const t=e.getSource();const s=t._getProviderConfig();const i=e.getParameter("actual");const o=e.getParameter("reason");const n=this.bGrowingReset?s.maxItemCount:s.defaultItemCount;if(i&&i>0){if(o){switch(o.toLowerCase()){case"growing":this.bGrowingReset=true;const e=this._oResultModel.getProperty(`/${s.name}`);this._oResultModel.setProperty(`/${s.name}`,[]);this._oResultModel.setProperty(`/${s.name}`,e);t.setGrowingThreshold(s.maxItemCount);break;case"change":t.setGrowingThreshold(n);break;default:break}}else{t.setGrowingThreshold(n)}}},_listUpdateFinished:function(e){const t=e.getSource();const s=t._getProviderConfig();let i;if(this._getScreenSize()==="S"){i=t.$().find(".sapMSLITitle, .sapMSLIDescription")}else{i=t.$().find(".sapMSLITitleOnly")}jQuery.each(i,e=>{const o=i[e];if(o.scrollWidth>o.offsetWidth){o.parentNode.parentNode.title=o.innerText}if(s.id==="SearchResultList"){const e=t.getModel("resultModel").getProperty("/query");if(s.highlightResult&&s.highlightResult===true){const t=new RegExp(e,"gi");const i=o.innerHTML.replace(/<[^>]*>/g,"");const n=i.replace(t,e=>this._getBoldTitle(s,e));o.innerHTML=this._getHighlightedHtml(s,n)}}})},_getBoldTitle:function(e,t){if(e.highlightSearchStringPart&&e.highlightSearchStringPart===true){return`<b>${t}</b>`}return`</b>${t}<b>`},_getHighlightedHtml:function(e,t){if(!e.highlightSearchStringPart||e.highlightSearchStringPart!==true){return`<b>${t}</b>`}return t},_testProviders:function(e){if(!this._oResultModel){this._oResultModel=new i({});this._oPopover.setModel(this._oResultModel,"resultModel")}const t=this._oResultModel;const s=(e||"").trim().length;const o=this._oPopover.getContent()[1].getItems();t.setProperty("/query",e);if(!h.support.touch){this._sContentDensityClass="sapUiSizeCompact"}else{this._sContentDensityClass="sapUiSizeCozy"}for(const i in o){const n=o[i];const r=n._getProviderConfig();const a=this._getDefaultProviderGroupName(r.id);n.setVisible(false);if(s>=r.minQueryLength&&s<=r.maxQueryLength){r.execSearch(e,a).then(function(s,i,o){if(o&&Array.isArray(o)&&o.length>0){const e=this._oResultModel.getProperty("/query");if(e&&(e.length<i.minQueryLength||e.length>i.maxQueryLength)){return}if(!this._oPopover.isOpen()){this._toggleSearchPopover(true)}if(t.getProperty(`/${i.name}`)){this.bGrowingReset=false;t.setProperty(`/${i.name}`,[])}s.setVisible(true);const n=o.slice(0,i.maxItemCount);t.setProperty(`/${i.name}`,n);switch(s.getId()){case"SearchResultList":this._applyResultsAcc(n.length);break;default:break}this.oSF.focus()}else{t.setProperty(`/${i.name}`,[]);switch(s.getId()){case"SearchResultList":this._applyResultsAcc(0);const t=c.i18n.getText("no_apps_found",[e]);s.setNoDataText(t);s.setVisible(true);break;default:break}}}.bind(this,n,r))}}this._removeTopListDivider()},_applyResultsAcc:function(e){let t="";const s=this.oSF.$("SuggDescr");const i=s.text();if(e===1){t=c.i18n.getText("one_result_search_aria",[e])}else if(e>1){t=c.i18n.getText("multiple_results_search_aria",[e])}else{t=c.i18n.getText("no_results_search_aria")}if(i.indexOf(".")<0){t+="."}s.text(t)},_toggleSearchPopover:function(t){if(!this._oPopover){o.load({name:"sap.ushell.components.shell.SearchCEP.SearchField",type:"XML",controller:this}).then(t=>{this._oPopover=t;const s=this._getScreenSize();let i=document.getElementById("PlaceHolderSearchField").clientWidth;if(s==="S"){i=1.1*i}else{i=1.05*i}this._oPopover.setContentWidth(`${i}px`);if(e.getRTL()===true){const e=this._oPopover.getOffsetX();this._oPopover.setOffsetX(-1*e)}this._initializeSearchField();const o=new r({id:"popoverTitle",text:"List of search results and navigation suggestions"});o.addStyleClass("sapUiInvisibleText");this._oPopover.addContent(o);this._initLists().then(()=>{this._testProviders()})})}else if(t){this._oPopover.openBy(this._oPlaceHolderSF);if(this._oPlaceHolderSF.getValue()!==""){this.oSF.setValue(this._oPlaceHolderSF.getValue())}}},_initLists:function(){return this._SearchCEPService.then(e=>{const t=e.getSearchProvidersPriorityArray();const s=this._oPopover.getContent()[1];if(!h.support.touch){this._sContentDensityClass="sapUiSizeCompact"}else{this._sContentDensityClass="sapUiSizeCozy"}return t.then(e=>{for(let t=0;t<e.length;t++){const i=this._createList(e[t],this._oResultModel);i.addStyleClass(this._sContentDensityClass);s.addItem(i)}})})},_keyDownSearchField:function(e){if(e.code===40||e.code==="ArrowDown"){this.oSF.focus();const e=this._oPopover.getContent()[1].getItems();for(const t in e){if(e[t].getVisible()&&e[t].getItems().length>0){const s=e[t].getItems()[0];const i=s.getParent();const o=i._getProviderConfig();s.focus();this._setListNameToAriaLabelledBy(s,o.title);break}}}else if(e.code===116||e.code==="F5"){window.location.reload()}else if(e.code===9||e.code==="Tab"){let s;if(e.shiftKey){s=this._oPlaceHolderSF.oParent.getDomRef().firstChild.lastChild.firstChild}else{const e=this._oPlaceHolderSF.oParent.getDomRef().lastChild;const t=e.childNodes;for(const e in t){if(getComputedStyle(t[e]).display!=="none"){s=t[e];break}}}setTimeout(()=>{if(this._getScreenSize()==="S"||this._getScreenSize()==="M"){t.getElementById("shell-header").setSearchState("COL",35,false);t.getElementById("sf").setVisible(true)}if(s){s.focus()}},0)}else if(e.code===27||e.code==="Escape"){this.oSF.setValue("");this._oPlaceHolderSF.setValue("");this._bEscPressed=true}},_initializeSearchField:function(){this.oSF=t.getElementById("CEPSearchField");const e=document.getElementById("PlaceHolderSearchField").clientWidth;this.oSF.setWidth(`${e}px`);this.oSF.addEventDelegate({onkeydown:this._keyDownSearchField.bind(this),onfocusin:this.onfocusin.bind(this)})},_saveSearchTerm:function(e){if(e){u.getServiceAsync("UserRecents").then(t=>{t.addSearchActivity({sTerm:e})})}},_onRecentSearchesPress:function(e){const t=e.getParameter("listItem").getProperty("title");this.oSF.setValue(t);setTimeout(()=>{this._testProviders(t)})},_onApplicationsPress:function(e){const t=this.oSF.getValue();const s=e.getParameter("listItem").getBindingContext("resultModel");const i=s.getObject();this._saveSearchTerm(t);this._navigateToApp(i)},_onHomePageApplicationsPress:function(e){const t=this.oSF.getValue();const s=e.getParameter("listItem").getBindingContext("resultModel");const i=s.getObject();this._saveSearchTerm(t);this._navigateToApp(i)},_onExternalSearchApplicationsPress:function(e){const t=this.oSF.getValue();const s=e.getParameter("listItem").getBindingContext("resultModel");const i=s.getObject();this._saveSearchTerm(t);if(i&&i.isEnterpriseSearch===true){this._navigateToResultPage(t,true)}else{this._navigateToApp(i,t)}},_onFrequentApplicationsPress:function(e){const t=e.getParameter("listItem").getBindingContext("resultModel");const s=t.getObject();this._navigateToApp(s);if(this._oPopover.isOpen()){this._oPopover.close()}},_navigateToApp:function(e,t){this._SearchCEPService.then(s=>{s.navigate(e,t)});if(this.oSF.getValue()!==""){this.oSF.setValue("")}setTimeout(()=>{if(this._oPopover.isOpen()){this._oPopover.close()}},500)},_navigateToResultPage:function(e,t){if(e===""){return}let s=`#WorkZoneSearchResult-display?searchTerm=${e}&category=app`;if(t===true){s=`#Action-search&/top=20&filter={"dataSource":{"type":"Category","id":"All","label":"All","labelPlural":"All"},"searchTerm":"${e}","rootCondition":{"type":"Complex","operator":"And","conditions":[]}}`}const i=u.getServiceAsync("Navigation");i.then(e=>{e.navigate({target:{shellHash:s}})})}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/SearchCEP/SearchProviders/FrequentActivityProvider", ["sap/base/Log","sap/ushell/Container"],(e,t)=>{"use strict";function r(){}r.prototype.getName=function(){return"Frequent Activity Provider"};r.prototype.execSearch=function(r,n){return t.getServiceAsync("UserRecents").then(t=>t.getFrequentActivity().then(e=>{let t=[];const r={frequentApplications:{Application:{icon:"sap-icon://SAP-icons-TNT/application"},"External Link":{icon:"sap-icon://internet-browser"}},frequentProducts:{Product:{icon:"sap-icon://product"}}};if(e&&Array.isArray(e)&&e.length>0){t=e.filter(e=>r[n].hasOwnProperty(e.appType)).map(e=>{e.text=e.text||e.title;e.icon=e.icon||r[n][e.appType].icon;return e})}return t}).catch(t=>{e.error("Frequent Activity Provider failed",t,"sap.ushell.components.shell.SearchCEP.SearchProviders.FrequentActivityProvider::execSearch");return[]}))};return new r},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/SearchCEP/SearchProviders/RecentSearchProvider", ["sap/base/Log","sap/ushell/Container"],(e,r)=>{"use strict";function t(){}t.prototype.getName=function(){return"Recent Search Terms Provider"};t.prototype.execSearch=function(){return r.getServiceAsync("UserRecents").then(r=>r.getRecentSearches().then(e=>{let r=[];if(Array.isArray(e)&&e.length>0){r=e.map(e=>({text:e.sTerm,icon:e.icon||"sap-icon://history"}))}return r}).catch(r=>{e.error("Recent Search Terms Provider failed",r,"sap.ushell.components.shell.SearchCEP.SearchProviders.RecentSearchProvider::execSearch");return[]}))};return new t},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/SearchCEP/SearchProviders/SearchProvider", ["sap/ushell/resources","sap/ushell/components/shell/SearchCEP/SearchProviders/FrequentActivityProvider","sap/ushell/components/shell/SearchCEP/SearchProviders/RecentSearchProvider","sap/ushell/components/shell/SearchCEP/SearchProviders/SearchServiceProvider"],(e,t,r,i)=>{"use strict";const a={_defaultProviders:null};a.getDefaultProviders=function(){if(!this._defaultProviders){this._defaultProviders=this._createDefaultProviders()}return this._defaultProviders};a._createDefaultProviders=function(){return{applications:{id:"SearchResultList",entryType:"app",title:"Applications",showNoData:true,titleVisible:false,highlightResult:true,highlightSearchStringPart:true,minQueryLength:1,maxQueryLength:100,defaultItemCount:6,maxItemCount:12,priority:0,execSearch:i.execSearch},frequentApplications:{id:"FrequentlyUsedAppsList",entryType:"product",title:e.i18n.getText("frequentAppsCEPSearch"),titleVisible:true,minQueryLength:0,maxQueryLength:0,defaultItemCount:6,maxItemCount:12,priority:1,execSearch:t.execSearch},recentSearches:{id:"SearchHistoryList",entryType:"app",title:"Recent Searches",titleVisible:false,minQueryLength:0,maxQueryLength:0,defaultItemCount:2,maxItemCount:10,priority:0,execSearch:r.execSearch},homePageApplications:{id:"ProductsList",entryType:"app",title:e.i18n.getText("products"),titleVisible:true,minQueryLength:0,maxQueryLength:0,defaultItemCount:6,maxItemCount:12,priority:2,execSearch:i.execSearch},externalSearchApplications:{id:"ExternalSearchAppsList",entryType:"app",title:e.i18n.getText("searchWithin"),titleVisible:true,minQueryLength:1,maxQueryLength:100,defaultItemCount:6,maxItemCount:12,priority:2,execSearch:i.execSearch}}};return a},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/SearchCEP/SearchProviders/SearchServiceProvider", ["sap/base/Log","sap/ushell/resources","sap/base/util/ObjectPath","sap/ushell/Container"],(e,t,r,a)=>{"use strict";function i(){}i.prototype.getName=function(){return"Search Service Provider"};function c(e,r){const i=`#Action-search&/top=20&filter={"dataSource":{"type":"Category","id":"All","label":"All","labelPlural":"All"},"searchTerm":"${r}","rootCondition":{"type":"Complex","operator":"And","conditions":[]}}`;const c=a.getFLPUrl()+i;const n={text:t.i18n.getText("enterprise_search"),description:t.i18n.getText("enterprise_search"),icon:"sap-icon://search",inboundIdentifier:"38cd162a-e185-448c-9c37-a4fc02b3d39d___GenericDefaultSemantic-__GenericDefaultAction",url:c,target:"_blank",recent:false,semanticObject:"Action",semanticObjectAction:"search",_type:"app",isEnterpriseSearch:true};e.push(n)}i.prototype.execSearch=function(t,i){const n={top:12,skip:0,sort:{path:"title",descending:false}};switch(i){case"homePageApplications":n.searchTerm="";n.filter={path:"technicalAttributes",operator:"Contains",value1:"APPTYPE_HOMEPAGE"};n.includeAppsWithoutVisualizations=true;break;case"applications":n.searchTerm=t;n.filter={filters:[{path:"technicalAttributes",operator:"NotContains",value1:"APPTYPE_SEARCHAPP"},{path:"technicalAttributes",operator:"NotContains",value1:"APPTYPE_HOMEPAGE"}],and:true};break;case"externalSearchApplications":n.searchTerm="";n.filter={path:"technicalAttributes",operator:"Contains",value1:"APPTYPE_SEARCHAPP"};n.includeAppsWithoutVisualizations=true;break;default:break}return a.getServiceAsync("SearchCEP").then(e=>e.suggest(n).then(e=>{const n=r.get("sap-ushell-config.services.SearchCEP")!==undefined;const s=a.getFLPPlatform(true);const o=n===true&&s==="cFLP";let l=[];const p=r.get("sap-ushell-config.renderers.fiori2.componentData.config.searchBusinessObjects");const u={applications:"sap-icon://SAP-icons-TNT/application",homePageApplications:"sap-icon://SAP-icons-TNT/product",externalSearchApplications:"sap-icon://world"};if(e){l=e.data.map(e=>{e.text=e.text||e.label||e.title;e.icon=e.icon||u[i];return e})}if(p===true&&o===true&&i==="externalSearchApplications"){c(l,t)}return l})).catch(t=>{e.error("Search service Provider failed",t,"sap.ushell.components.shell.SearchCEP.SearchProviders.SearchServiceProvider::execSearch");return[]})};return new i},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/SearchCEPNew/Component", ["sap/ui/core/Element","sap/ui/core/Component","sap/base/Log","sap/ushell/resources","sap/ushell/Container","sap/ushell/EventHub","sap/ushell/components/shell/SearchCEPNew/SearchProviders/SearchProvider","sap/ushell/gen/ui5/webcomponents-fiori/dist/IllustratedMessage","sap/ushell/gen/ui5/webcomponents-fiori/dist/ShellBarSearch","sap/ushell/gen/ui5/webcomponents-fiori/dist/SearchItem","sap/ushell/gen/ui5/webcomponents-fiori/dist/SearchItemGroup","sap/ushell/gen/ui5/webcomponents-fiori/dist/SearchMessageArea","sap/ushell/gen/ui5/webcomponents/dist/Button","sap/ui/model/json/JSONModel","sap/ui/thirdparty/hasher","sap/ushell/api/performance/Extension","sap/ushell/utils","sap/ushell/api/performance/NavigationSource"],(e,t,s,i,a,r,n,h,o,l,c,u,d,g,_,p,S,f)=>{"use strict";return t.extend("sap.ushell.components.shell.SearchCEPNew.Component",{metadata:{manifest:"json",library:["sap.ushell","sap.ushell.components.shell"]},searchProviderMap:{RecentSearchesList:"recentSearches",AppsList:"applications",FrequentlyUsedAppsList:"frequentApplications",ProductsList:"products",ExternalSearchAppsList:"externalSearchApplications"},iGroupMaxItemCount:10,init:function(){this._init()},_init:async function(){this._oSearchCEPService=await a.getServiceAsync("SearchCEP");this._oResultModel=new g({});this._oI18nModel=await this.getModel("i18n").getResourceBundle();this._bIsMyHome=a.getFLPPlatform(true)==="MYHOME";this._oShellHeader=e.getElementById("shell-header");this._initSearchField();this._registerDefaultProviders();this._registerHandleHashChange();if(this._oShellHeader.isLargeState()||this._oShellHeader.isExtraLargeState()){this._fetchSuggestions();this._toggleSearchFieldInput(true)}this._aDoables=[];this._aDoables.push(r.on("updateExtProviderLists").do(this._updateExtProviderLists.bind(this)));this._oExtension=new p},_initSearchField:function(){try{this._oSearchField=new o({id:"newCEPShellBarSearch",placeholder:i.i18n.getText("searchAppTitle"),autoOpen:true,showClearIcon:true});this._oSearchField.setModel(this._oResultModel,"searchResults");this._oSearchField.bindAggregation("items",{path:"searchResults>/results",factory:this._searchItemGroupFactory.bind(this)});this._attachSearchEventHandlers();this._oShellHeader.setSearch(this._oSearchField)}catch(e){s.error("Failed to create CEP search field content",e)}},_attachSearchEventHandlers:function(){this._fnBoundOnSearch=this._onSearch.bind(this);this._fnBoundOnInputChange=this._onInputChange.bind(this);this._oSearchField.attachSearch(this._fnBoundOnSearch);this._oSearchField.attachInput(this._fnBoundOnInputChange)},_detachSearchEventHandlers:function(){this._oSearchField.detachSearch(this._fnBoundOnSearch);this._oSearchField.detachInput(this._fnBoundOnInputChange)},_searchItemGroupFactory:function(e,t){const s=new c({id:e,headerText:t.getProperty("headerText"),items:{path:`searchResults>${t.getPath()}/items`,model:"searchResults",length:this.iGroupMaxItemCount,template:new l({text:"{searchResults>text}",icon:"{searchResults>icon}",description:"{searchResults>contentProviderLabel}",deletable:false})}});return s},_registerDefaultProviders:async function(){Object.values(n.getDefaultProviders(this._oI18nModel)).forEach(async e=>{await this._oSearchCEPService.registerDefaultSearchProvider(e)})},_onInputChange:function(){clearTimeout(this._suggestionTimeout);this._suggestionTimeout=setTimeout(()=>{this._fetchSuggestions(this._oSearchField.getValue())},100)},_fetchSuggestions:async function(e){try{const t=await this._oSearchCEPService.getSearchProvidersPriorityArray();const s=t.map(t=>{const s=(e||"").trim().length;if(s>=t.minQueryLength&&s<=t.maxQueryLength){return t.execSearch(e,this.searchProviderMap[t.id])}return Promise.resolve([])});const i=await Promise.all(s);this._updateSearchResults(i,t)}catch(e){s.error("Error fetching search suggestions",e)}},_updateSearchResults:function(e,t){const s=this._getResultsFormatted(e,t);this._oResultModel.setProperty("/allResults",s);const i=this._getResultCount(s);this._oResultModel.setProperty("/resultCount",i);const a=this._limitResults(s);this._oResultModel.setProperty("/results",a);const r=a?.[1]?.items?.length>0;const n=a.some((e,t)=>t!==1&&e?.items?.length>0);this._refreshSearchActionButton(r);this._updateSearchMessageArea(r,n);this._updateIllustratedMessage(r,n)},_getResultsFormatted:function(e,t){return e.map((e,s)=>({id:t[s].id,headerText:t[s].title,items:e}))},_getResultCount:function(e){const t=["AppsList","ProductsList"];return e.reduce((e,s)=>e+(s?.items&&t.includes(s.id)?s.items.length:0),0)},_limitResults:function(e){const t=e.filter(e=>!e||e.items.length===0).length;return e.map(e=>{const s=e.items&&e.items.length>4&&t<3?e.items.slice(0,4):e.items.slice(0,this.iGroupMaxItemCount);if(s.length>0){return{...e,items:s}}})},_updateExtProviderLists:async function(){const e=await this._oSearchCEPService.getExternalSearchProvidersPriorityArray();e.forEach(e=>{const t=new c({headerText:e.title});this._oSearchField.addItem(t)});if(e.length>0&&this._oSearchField.getOpen()){this._fetchSuggestions(this._oSearchField.getValue())}},_onSearch:async function(e){const t=e.getParameter("item");const s={searchFieldValue:this._oSearchField.getValue?this._oSearchField.getValue():this._oSearchField.getParent().getValue(),selectedItemContext:t?.getBindingContext?t.getBindingContext("searchResults").getObject():null};if(s?.selectedItemContext!==null){this._saveSearchTerm(s.searchFieldValue);if(t.getParent().getHeaderText()===this._oI18nModel.getText("recentSearches")){e.preventDefault();this._oSearchField.setValue(s.selectedItemContext.text);this._fetchSuggestions(s.selectedItemContext.text);this._toggleSearchFieldInput(true)}else if(s.selectedItemContext.isEnterpriseSearch){e.preventDefault();this._navigateToResultPage(s.searchFieldValue,true);this._resetSearchState()}else if(s.selectedItemContext){this._navigateToApp(s.selectedItemContext,s.searchFieldValue);this._fetchSuggestions();this._toggleSearchFieldInput(false)}}else if(s.searchFieldValue!==""&&typeof s.searchFieldValue==="string"){this._saveSearchTerm(s.searchFieldValue);if(this._bIsMyHome){const e=this._oResultModel.getData()?.results;s.selectedItemContext=e?.[1]?.items?.[0];this._navigateToApp(s.selectedItemContext,s.searchFieldValue)}else{this._navigateToResultPage(s.searchFieldValue)}this._resetSearchState()}else{this._fetchSuggestions();if(this._oSearchField.getOpen()){this._oSearchField.setOpen(false)}}},_saveSearchTerm:async function(e){if(!e){return}const t=await a.getServiceAsync("UserRecents");await t.addSearchActivity({sTerm:e})},_navigateToApp:function(e,t){if(!e){return}this._oExtension.addNavigationSource(f.SearchCEP);this._oSearchCEPService.navigate(e,t)},_navigateToResultPage:async function(e,t){let s=`#WorkZoneSearchResult-display?searchTerm=${e}&category=app`;if(t){s=`#Action-search&/top=20&filter={"dataSource":{"type":"Category","id":"All","label":"All","labelPlural":"All"},"searchTerm":"${e}",`+'"rootCondition":{"type":"Complex","operator":"And","conditions":[]}}'}const i=await a.getServiceAsync("Navigation");await i.navigate({target:{shellHash:s}})},_refreshSearchActionButton:function(t){if(this._bIsMyHome){return}const s=e.getElementById("showAllSearchResultsBtn");if(s){s.destroy()}if(this._oSearchField.getValue()!==""&&this._oSearchField.getOpen()&&t){this._oSearchField.addAction(new d({id:"showAllSearchResultsBtn",text:this._oI18nModel.getText("showAllSearchResults"),click:this._fnBoundOnSearch,design:"Transparent"}))}},_updateSearchMessageArea:function(t,s){const i=e.getElementById("searchMessageArea");if(i){i.destroy()}if(this._oSearchField.getValue()!==""&&!t&&s){this._oSearchField.addMessageArea(new u({id:"searchMessageArea",text:this._oI18nModel.getText("noSearchResults"),description:this._oI18nModel.getText("tryTheFollowing")}))}},_updateIllustratedMessage:function(t,s){const i=e.getElementById("searchIllustratedMessage");if(i){i.destroy()}if(this._oSearchField.getValue()===""&&!s){this._oResultModel.setProperty("/results",[]);this._oSearchField.addIllustration(new h({id:"searchIllustratedMessage"}))}if(this._oSearchField.getValue()!==""&&!t&&!s){this._oResultModel.setProperty("/results",[]);this._oSearchField.addIllustration(new h({id:"searchIllustratedMessage",titleText:this._oI18nModel.getText("noSearchMatch"),subtitleText:this._oI18nModel.getText("searchSomethingElse")}))}},_resetSearchState:async function(e){await S.awaitTimeout(100);if(this._oSearchField.getValue()!==""&&e){this._oSearchField.setValue("")}if(this._oSearchField.getOpen()){this._oSearchField.setOpen(false)}},_registerHandleHashChange:function(){_.changed.add(async e=>{if(e!==""&&!/WorkZoneSearchResult-display|Action-search/.test(e)){await this._resetSearchState(true);this._fetchSuggestions()}})},_toggleSearchFieldInput:function(e){const t=this._oShellHeader.getComponentInstance().getModel();t.setProperty("/searchField/show",e)},exit:function(){this._detachSearchEventHandlers();this._oSearchField.destroy();this._aDoables.forEach(e=>{e.off()});this._aDoables=[];t.prototype.exit.apply(this,arguments)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/SearchCEPNew/SearchProviders/FrequentActivityProvider", ["sap/base/Log","sap/ushell/Container"],(e,t)=>{"use strict";function r(){}r.prototype.getName=function(){return"Frequent Activity Provider"};r.prototype.execSearch=function(r,n){return t.getServiceAsync("UserRecents").then(t=>t.getFrequentActivity().then(e=>{let t=[];const r={frequentApplications:{Application:{icon:"sap-icon://SAP-icons-TNT/application"},"External Link":{icon:"sap-icon://internet-browser"}},frequentProducts:{Product:{icon:"sap-icon://product"}}};if(e&&Array.isArray(e)&&e.length>0){t=e.filter(e=>r[n].hasOwnProperty(e.appType)).map(e=>{e.text=e.text||e.title;e.icon=e.icon||r[n][e.appType].icon;return e})}return t}).catch(t=>{e.error("Frequent Activity Provider failed",t,"sap.ushell.components.shell.SearchCEP.SearchProviders.FrequentActivityProvider::execSearch");return[]}))};return new r},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/SearchCEPNew/SearchProviders/RecentSearchProvider", ["sap/base/Log","sap/ushell/Container"],(e,r)=>{"use strict";function t(){}t.prototype.getName=function(){return"Recent Search Terms Provider"};t.prototype.execSearch=function(){return r.getServiceAsync("UserRecents").then(r=>r.getRecentSearches().then(e=>{let r=[];if(Array.isArray(e)&&e.length>0){r=e.map(e=>({text:e.sTerm,icon:e.icon||"sap-icon://history"}))}return r}).catch(r=>{e.error("Recent Search Terms Provider failed",r,"sap.ushell.components.shell.SearchCEP.SearchProviders.RecentSearchProvider::execSearch");return[]}))};return new t},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/SearchCEPNew/SearchProviders/SearchProvider", ["sap/ushell/components/shell/SearchCEPNew/SearchProviders/FrequentActivityProvider","sap/ushell/components/shell/SearchCEPNew/SearchProviders/RecentSearchProvider","sap/ushell/components/shell/SearchCEPNew/SearchProviders/SearchServiceProvider"],(e,t,r)=>{"use strict";const i={_defaultProviders:null};i.getDefaultProviders=function(e){if(!this._defaultProviders){this._defaultProviders=this._createDefaultProviders(e)}return this._defaultProviders};i._createDefaultProviders=function(i){return{recentSearches:{id:"RecentSearchesList",entryType:"app",title:i.getText("recentSearches"),titleVisible:false,minQueryLength:0,maxQueryLength:0,defaultItemCount:2,maxItemCount:50,priority:0,execSearch:t.execSearch.bind(t)},applications:{id:"AppsList",entryType:"app",title:i.getText("applications"),showNoData:true,titleVisible:false,highlightResult:true,highlightSearchStringPart:true,minQueryLength:1,maxQueryLength:100,defaultItemCount:6,maxItemCount:50,priority:0,execSearch:r.execSearch.bind(r)},frequentApplications:{id:"FrequentlyUsedAppsList",entryType:"product",title:i.getText("frequentAppsCEPSearch"),titleVisible:true,minQueryLength:0,maxQueryLength:0,defaultItemCount:6,maxItemCount:50,priority:1,execSearch:e.execSearch.bind(e)},products:{id:"ProductsList",entryType:"app",title:i.getText("products"),titleVisible:true,minQueryLength:0,maxQueryLength:0,defaultItemCount:6,maxItemCount:50,priority:2,execSearch:r.execSearch.bind(r)},externalSearchApplications:{id:"ExternalSearchAppsList",entryType:"app",title:i.getText("searchWithin"),titleVisible:true,minQueryLength:1,maxQueryLength:100,defaultItemCount:4,maxItemCount:50,priority:2,execSearch:r.execSearch.bind(r)}}};return i},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/SearchCEPNew/SearchProviders/SearchServiceProvider", ["sap/base/Log","sap/ushell/Config","sap/ushell/resources","sap/base/util/ObjectPath","sap/ushell/Container"],(e,t,r,a,c)=>{"use strict";function i(){}i.prototype.getName=function(){return"Search Service Provider"};i.prototype.execSearch=function(t,r){const i={top:50,skip:0,sort:{path:"title",descending:false}};switch(r){case"products":i.searchTerm="";i.filter={path:"technicalAttributes",operator:"Contains",value1:"APPTYPE_HOMEPAGE"};i.includeAppsWithoutVisualizations=true;break;case"applications":i.searchTerm=t;i.filter={filters:[{path:"technicalAttributes",operator:"NotContains",value1:"APPTYPE_SEARCHAPP"},{path:"technicalAttributes",operator:"NotContains",value1:"APPTYPE_HOMEPAGE"}],and:true};break;case"externalSearchApplications":i.searchTerm="";i.filter={path:"technicalAttributes",operator:"Contains",value1:"APPTYPE_SEARCHAPP"};i.includeAppsWithoutVisualizations=true;break;default:break}return c.getServiceAsync("SearchCEP").then(e=>e.suggest(i).then(e=>{const i=a.get("sap-ushell-config.services.SearchCEP")!==undefined;const n=c.getFLPPlatform(true);const s=i===true&&n==="cFLP";let o=[];const l=a.get("sap-ushell-config.renderers.fiori2.componentData.config.searchBusinessObjects");const p={applications:"sap-icon://SAP-icons-TNT/application",products:"sap-icon://SAP-icons-TNT/product",externalSearchApplications:"sap-icon://world"};if(e){o=e.data.map(e=>{e.text=e.text||e.label||e.title;e.icon=e.icon||p[r];return e})}if(l===true&&s===true&&r==="externalSearchApplications"){this._addESToResult(o,t)}return o})).catch(t=>{e.error("Search service Provider failed",t,"sap.ushell.components.shell.SearchCEP.SearchProviders.SearchServiceProvider::execSearch");return[]})};i.prototype._addESToResult=function(e,t){const a='#Action-search&/top=20&filter={"dataSource":{"type":"Category","id":"All","label":"All","labelPlural":"All"},"'+`searchTerm":"${t}","rootCondition":{"type":"Complex","operator":"And","conditions":[]}}`;const i=c.getFLPUrl()+a;const n={text:r.i18n.getText("enterprise_search"),description:r.i18n.getText("enterprise_search"),icon:"sap-icon://search",inboundIdentifier:"38cd162a-e185-448c-9c37-a4fc02b3d39d___GenericDefaultSemantic-__GenericDefaultAction",url:i,target:"_blank",recent:false,semanticObject:"Action",semanticObjectAction:"search",_type:"app",isEnterpriseSearch:true};e.push(n)};return new i},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/Component", ["sap/ui/core/Element","sap/ui/core/mvc/XMLView","sap/ui/core/UIComponent","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/components/shell/Settings/userAccount/UserAccountEntry","sap/ushell/components/shell/Settings/appearance/AppearanceEntry","sap/ushell/components/shell/Settings/homepage/HomepageEntry","sap/ushell/components/shell/Settings/spaces/SpacesEntry","sap/ushell/components/shell/Settings/userActivities/UserActivitiesEntry","sap/ushell/components/shell/Settings/notifications/NotificationsEntry","sap/ushell/components/shell/Settings/userDefaults/UserDefaultsEntry","sap/ushell/ui/shell/ShellHeadItem","sap/ushell/utils","sap/ushell/Container","sap/ushell/state/StateManager"],(e,t,s,n,i,r,o,a,l,c,h,u,g,p,d,f,S)=>{"use strict";const m=S.Operation;const y=[];return s.extend("sap.ushell.components.shell.Settings.Component",{metadata:{version:"1.141.1",library:"sap.ushell",dependencies:{libs:{"sap.m":{},"sap.ui.layout":{lazy:true}}}},init:function(){s.prototype.init.apply(this,arguments);this._aInitPromises=[];const e=f.getRendererInternal("fiori2").getShellConfig();if(e.moveUserSettingsActionToShellHeader){this._aInitPromises.push(this._addUserSettingsButton().then(e=>{this.oSettingsBtn=e}))}this._addStandardEntityToConfig();this._addUserLanguageAndRegionSettings();if(n.last("/core/shell/model/enableNotifications")){this._addNotificationSettings()}y.push(i.on("openUserSettings").do(this._openUserSettings.bind(this)));this._pInitPromise=Promise.all(this._aInitPromises)},_updateUserPreferencesEntries:function(e){if(e){e=f.getRendererInternal("fiori2").reorderUserPrefEntries(e);n.emit("/core/userPreferences/entries",e)}},_addUserLanguageAndRegionSettings:function(){const e=f.getUser();e.getLanguageAndRegionSettingsEntry().then(e=>{const t=n.last("/core/userPreferences/entries");t.push(e.getEntry());this._updateUserPreferencesEntries(t)})},_addStandardEntityToConfig:function(){let e=n.last("/core/userPreferences/entries");e.push(o.getEntry());e.push(a.getEntry());if(c.isRelevant()){e.push(c.getEntry())}if(n.last("/core/shell/enableRecentActivity")){e.push(h.getEntry())}if(n.last("/core/shell/model/searchAvailable")){f.getFLPPlatform().then(t=>{if(t!=="MYHOME"){sap.ui.require(["sap/ushell/components/shell/Settings/search/SearchEntry"],t=>{t.getEntry().then(t=>{t.isActive().then(s=>{if(!s){return}d.setPerformanceMark("FLP -- search setting entry is set active");e=n.last("/core/userPreferences/entries");e.push(t);this._updateUserPreferencesEntries(e)})})})}})}if(n.last("/core/home/enableHomePageSettings")&&!n.last("/core/spaces/enabled")){e.push(l.getEntry())}if(n.last("/core/shell/model/userDefaultParameters")){e.push(g.getEntry())}e=f.getRendererInternal("fiori2").reorderUserPrefEntries(e);this._updateUserPreferencesEntries(e)},_addNotificationSettings:function(){f.getServiceAsync("NotificationsV2").then(e=>{e._userSettingInitialization();e._getNotificationSettingsAvailability().then(e=>{if(e.settingsAvailable){const e=n.last("/core/userPreferences/entries");e.push(u.getEntry());this._updateUserPreferencesEntries(e)}})}).catch(()=>{})},_openUserSettings:function(s){if(!this.oDialogPromise){this.oDialogPromise=t.create({id:"settingsView",viewName:"sap.ushell.components.shell.Settings.UserSettings"}).then(t=>{this.oSettingsView=t;const n=s.controlId||"shell-header";e.getElementById(n).addDependent(t);return t})}return this.oDialogPromise.then(e=>{e.getController().open(s?.targetEntryId)})},_addUserSettingsButton:async function(){let e;if(n.last("/core/shellBar/enabled")){const[t]=await d.requireAsync(["sap/ushell/gen/ui5/webcomponents-fiori/dist/ShellBarItem"]);e=new t({id:"userSettingsBtn",icon:"sap-icon://action-settings",text:r.i18n.getText("userSettings"),accessibilityAttributes:{hasPopup:"dialog"},click:this._openUserSettings.bind(this)})}else{e=new p({id:"userSettingsBtn",icon:"sap-icon://action-settings",text:r.i18n.getText("userSettings"),ariaHaspopup:"dialog",press:this._openUserSettings.bind(this)})}S.updateAllBaseStates("userActions.items",m.Add,e.getId());return e},exit:function(){for(let e=0;e<y.length;e++){y[e].off()}if(this.oSettingsView){this.oSettingsView.destroy();this.oSettingsView=null;this.oDialogPromise=null}if(this.oSettingsBtn){this.oSettingsBtn.destroy();this.oSettingsBtn=null}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/ErrorMessageHelper", ["sap/ui/core/Messaging"],e=>{"use strict";const s="sapUshellSettingsDialog/";function t(t){t.setTargets([s]);e.addMessages(t)}function a(){return e.getMessageModel().getData().filter(e=>e.getTargets()&&e.getTargets().indexOf(s)===0)}function g(){e.getMessageModel().getData().forEach(t=>{if(t.getTargets()&&t.getTargets().indexOf(s)===0){e.removeMessages(t)}})}return{addMessage:t,filterMessagesToDisplay:a,removeErrorMessages:g}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/UserSettings.controller", ["sap/base/Log","sap/ui/core/Element","sap/ui/core/mvc/Controller","sap/ui/core/Fragment","sap/ui/model/json/JSONModel","sap/ui/Device","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/utils/WindowUtils","sap/ushell/components/shell/Settings/ErrorMessageHelper","sap/ui/core/message/Message","sap/ui/core/message/MessageType","sap/ui/base/Object","sap/base/util/deepClone","sap/ushell/Container"],(e,t,s,n,i,r,o,a,l,d,c,u,g,h,f,p)=>{"use strict";return s.extend("sap.ushell.components.shell.Settings.UserSettings",{onInit:function(){const e=this.getView();const t=new i(r);t.setDefaultBindingMode("OneWay");e.setModel(t,"device");this._aPreviouslySelectedItems=[];e.byId("userSettingEntryList").addEventDelegate({onAfterRendering:this._listAfterRendering.bind(this)});this._mLoadedEntryContent=new Map;this._mLoadedWrappers=new Map;e.setModel(new i({}));e.setModel(l.i18nModel,"i18n");e.setModel(new i({entries:{}}),"results");r.orientation.attachHandler(this._fnOrientationChange,this);this._oSelectedItemOnMobile=null;this._oConfigDoable=o.on("/core/userPreferences/entries").do(this._processNewEntries.bind(this))},_fnOrientationChange:function(){const e=this.getView().byId("settingsApp");this._updateHeaderButtonVisibility(e.isMasterShown())},_formatDescription:function(e,t,s){if(t.length>1){return""}return s[e].valueResult||""},_processNewEntries:function(e){const t=this.getView();const s=t.getModel("results");e.forEach(e=>{const t=s.getProperty(`/entries/${e.id}`);if(!t){s.setProperty(`/entries/${e.id}`,{valueResult:null,contentResult:null})}this._setEntryValueResult(e.id)});const n=t.getModel();const i=t.byId("userSettingEntryList");let o=i.getSelectedItem();if(!r.system.phone&&!o){o=i.getItems()[0]}if(o){const e=o.getBindingContext().getObject();this._aPreviouslySelectedItems=e.tabs.map(e=>e.id)}n.setProperty("/entries",this._calculateEntryGroups(e));t.byId("userSettingEntryList").invalidate()},_calculateEntryGroups:function(e){const t=[];const s=new Map;const n=this.getView().getModel("results");e.forEach(e=>{if(e.visible===false){const t=n.getProperty(`/entries/${e.id}/contentResult`);if(t){this.getView().byId("settingsApp").removeDetailPage(t);n.setProperty(`/entries/${e.id}/contentResult`,null)}const s=a.last("UserSettingsOpened")||{};delete s[e.id];a.emit("UserSettingsOpened",s);return}if(e.groupingEnablement){n.setProperty(`/entries/${e.id}/contentResult`,null);const i=s.get(e.groupingId);if(i||i===0){t[i].tabs.push(e);return}s.set(e.groupingId,t.length)}e.tabs=[e];t.push(e)});return t},_afterClose:function(){if(window.document.activeElement&&window.document.activeElement.tagName==="BODY"){window.document.getElementById("userActionsMenuHeaderButton").focus()}},open:function(e){const t=this.byId("userSettingsDialog");if(e){this.sTargetEntryId=e}t.open()},_listAfterRendering:function(){const e=this.getView();const t=e.byId("userSettingEntryList");const s=t.getItems();let n;let i;s.forEach(e=>{const t=e.getBindingContext().getObject();this._setEntryValueResult(t.id);i=t?.tabs?.find(e=>e.id===this.sTargetEntryId)?.id;if(t.id===this.sTargetEntryId||i){n=e;this.sTargetEntryId=null}});if(!r.system.phone){if(!n&&this._aPreviouslySelectedItems){for(let e=0;e<this._aPreviouslySelectedItems.length;e++){for(let n=0;n<s.length;n++){const r=s[n];if(r.getBindingContext().getObject().id===this._aPreviouslySelectedItems[e]){t.setSelectedItem(r);this._toDetail(r,i);r.focus();return}}}}n=n||s[0];if(n){t.setSelectedItem(n);this._toDetail(n,i);n.focus()}}},_setEntryValueResult:function(t){let s;const n=this.getView().getModel("results");let i=o.last("/core/userPreferences/entries");let r=i.findIndex(e=>e.id===t);if(r===-1){return Promise.resolve()}return Promise.resolve().then(()=>{const a=i[r].title;const d=i[r].valueArgument;if(typeof d!=="function"){const e=n.getProperty(`/entries/${t}/valueResult`);if(e!==null&&e!==undefined){return e}return d}s=f(n.getProperty("/entries"));s[t].valueResult=l.i18n.getText("genericLoading");n.setProperty("/entries",s);return Promise.resolve().then(d).then(e=>{if(typeof e!=="object"){return e}if(e&&e.value!==undefined){i=o.last("/core/userPreferences/entries");r=i.findIndex(e=>e.id===t);if(r>-1){i[r].visible=!!e.value;o.emit("/core/userPreferences/entries",i)}}return e.displayText}).catch(t=>{e.error(`Can not load value for ${a} entry`,t);return l.i18n.getText("loadingErrorMessage")})}).then(e=>{s=f(n.getProperty("/entries"));s[t].valueResult=e||"";n.setProperty("/entries",s)})},_navBackButtonPressHandler:function(){const e=this.byId("settingsApp");e.backDetail();e.getCurrentDetailPage().setBusy(false);this._updateHeaderButtonVisibility(true)},_navToggleButtonPressHandler:function(){const e=this.byId("settingsApp");const t=e.isMasterShown();if(t){e.hideMaster()}else{e.showMaster()}this._updateHeaderButtonVisibility(!t)},_updateHeaderButtonVisibility:function(e){if(r.system.phone){const t=this.getView().byId("userSettingsNavBackButton");t.setVisible(!e)}else{const t=this.getView().byId("userSettingsMenuButton");if(r.orientation.portrait){t.setVisible(true);t.setPressed(e);t.setTooltip(l.i18n.getText(e?"ToggleButtonHide":"ToggleButtonShow"))}else{t.setVisible(false)}}},_afterMasterClose:function(){this._updateHeaderButtonVisibility(false)},_onSelectionChange:function(e){this.getView().byId("settingsApp").getCurrentDetailPage().setBusy(true);this._toDetail(e.getSource().getSelectedItem())},_toDetail:function(e,t){const s=this.getView();const n=s.getModel();const i=s.getModel("results");const a=s.byId("settingsApp");const l=e.getBindingContextPath();const d=n.getProperty(l);const c=d.id;const u=i.getProperty(`/entries/${c}/contentResult`);if(d.tabs){this._aPreviouslySelectedItems=d.tabs.map(e=>e.id)}else{this._aPreviouslySelectedItems=[c]}if(r.system.phone){this._oSelectedItemOnMobile=e;e.setSelected(false)}if(u){this._navToDetail(u,s);const e=d.tabs.map(e=>e.id).join("-");const n=this._mLoadedWrappers.get(e);if(n){n.then(e=>{const s=e.getContent()[1];if(t){s.setSelectedKey(t)}const n=s.getSelectedKey();const i=s.getItems();let r=i.findIndex(e=>e.getId()===n);if(r===-1){r=0}this._emitEntryOpened(d.tabs[r].id)});return Promise.resolve()}}return Promise.all([this._createContentWrapper(d),this._createEntryContent(d)]).then(n=>{const r=n[0];const l=n[1];const u=o.last("/core/userPreferences/entries");const g=u.some(e=>e.id===c&&e.visible!==false);const h=s.byId("userSettingEntryList");const f=h.getSelectedItem()||this._oSelectedItemOnMobile;const p=e===f;if(!g){if(p){if(a.getMode()==="ShowHideMode"){a.showMaster();this._updateHeaderButtonVisibility(true)}else{this._toDetail(f||h.getItems()[0])}}return}a.addDetailPage(r);if(d.tabs.length>1){r.getContent()[1].getItems()[0].addContent(l)}else{r.addContent(l)}const y=r.getId();i.setProperty(`/entries/${c}/contentResult`,y);if(t){const e=r.getContent()?.[1];e?.setSelectedKey(t)}if(p){this._navToDetail(y,s);this._emitEntryOpened(c)}return r.getId()})},_createEntryContent:function(e){if(!this._mLoadedEntryContent.get(e.id)){if(typeof e.contentFunc==="function"){this._mLoadedEntryContent.set(e.id,new Promise(t=>{e.contentFunc().then(e=>{if(h.isObjectA(e,"sap.ui.core.Control")){t(e)}else{this._createErrorContent(l.i18n.getText("loadingErrorMessage")).then(t)}}).catch(()=>{this._createErrorContent(l.i18n.getText("loadingErrorMessage")).then(t)})}))}else{this._mLoadedEntryContent.set(e.id,this._createErrorContent(l.i18n.getText("userSettings.noContent")))}}return this._mLoadedEntryContent.get(e.id)},_createContentWrapper:function(e){const s=e.tabs.map(e=>e.id);const r=s.join("-");if(!this._mLoadedWrappers.get(r)){this._mLoadedWrappers.set(r,n.load({name:"sap.ushell.components.shell.Settings.ContentWrapper",controller:{onTabSelected:function(s){const n=t.getElementById(s.getParameter("id"));const i=s.getParameter("item");const r=n.indexOfItem(i);const o=e.tabs[r];this._emitEntryOpened(o.id);this._createEntryContent(o).then(e=>{i.addContent(e)})}.bind(this)}}).then(t=>{t.setModel(new i({title:e.title,showHeader:!e.provideEmptyWrapper,tabs:e.tabs}),"entryInfo");return t}))}return this._mLoadedWrappers.get(r).then(t=>{const s=t.getContent()[1];const n=s.getSelectedKey();const i=s.getItems().findIndex(e=>e.getId()===n);if(i>-1){const t=e.tabs[i];this._emitEntryOpened(t.id)}return t})},_createErrorContent:function(e){return n.load({name:"sap.ushell.components.shell.Settings.ErrorContent"}).then(t=>{t.setModel(new i({errorMessage:e}));return t})},_navToDetail:function(e,t){const s=t.byId("settingsApp");s.getCurrentDetailPage().setBusy(false);s.toDetail(e);s.getCurrentDetailPage().setBusy(false);if(s.getMode()==="ShowHideMode"){s.hideMaster();this._updateHeaderButtonVisibility(false)}},_emitEntryOpened:function(e){const t=a.last("UserSettingsOpened")||{};t[e]=true;a.emit("UserSettingsOpened",t)},updateUserPreferences:function(){e.debug("[000] updateUserPreferences: ","UserSettings.controller");if(this._updateUserPreferencesPromise){return this._updateUserPreferencesPromise}let t;let s;this._updateUserPreferencesPromise=new Promise((e,n)=>{t=e;s=n});this._updateUserPreferencesPromise.sendRequest=function(){p.getServiceAsync("UserInfo").then(n=>{e.debug("[000] updateUserPreferences: sendRequest","UserSettings.controller");n.updateUserPreferences().done(t).fail(s).always(()=>{e.debug("[000] updateUserPreferences: sendRequest: _updateUserPreferencesPromise","UserSettings.controller");this._updateUserPreferencesPromise=null})})}.bind(this);return this._updateUserPreferencesPromise},_maybeReload:function(t){let s=false;let n=false;let i=false;let r=[];let o=[];t.forEach(e=>{if(e&&e.clearSapUserContextCookie){n=true}if(e&&e.refresh){s=true}if(e&&e.noHash){i=true}if(e&&e.urlParams&&e.urlParams.length>0){r=r.concat(e.urlParams)}if(e&&e.obsoleteUrlParams&&e.obsoleteUrlParams.length>0){o=o.concat(e.obsoleteUrlParams)}});if(s){e.debug("[000]refresh browser with Parameters:",JSON.stringify(r),"UserSettings.controller");if(n){d.clearSapUserContextCookie()}if(i){window.location=window.location.href.replace(window.location.hash,"")}else{d.refreshBrowser(r,o)}return true}},_handleSaveButtonPress:function(){c.removeErrorMessages();const t=this.getView().byId("userSettingsDialog");const s=o.last("/core/userPreferences/entries");const n=a.last("UserSettingsOpened")||{};if(Object.keys(n).length===0){this._handleSettingsDialogClose();this._showSuccessMessageToast();return Promise.resolve()}t.setBusy(true);const i=s.reduce((t,s)=>{if(n[s.id]){e.debug("[000] _handleSaveButtonPress: oEntry.id: ",s.id,"UserSettings.controller");t.push(this._executeEntrySave(s))}return t},[]);e.debug("[000] _handleSaveButtonPress:_updateUserPreferencesPromise",this._updateUserPreferencesPromise,"UserSettings.controller");if(this._updateUserPreferencesPromise){this._updateUserPreferencesPromise.sendRequest()}return Promise.all(i).then(s=>{e.debug("[000] _handleSaveButtonPress: then save aResults",JSON.stringify(s),"UserSettings.controller");const n=c.filterMessagesToDisplay();let i={};let r="";let o="";t.setBusy(false);this._handleSettingsDialogClose();if(n.length>0){i=n[0];r=i.getDescription();a.emit("UserSettingsOpened",null);n.forEach(e=>{o+=`Entry: ${e.getAdditionalText()} - Error message: ${e.getDescription()}\n`});e.error("Failed to save the following entries",o);if(this._maybeReload(s)){return}return p.getServiceAsync("MessageInternal").then(e=>{e.init();e.show(e.Type.ERROR,l.i18n.getText("userSettings.SavingError.SomeChanges"),{details:r})})}this._showSuccessMessageToast();a.emit("UserSettingsOpened",null);this._maybeReload(s)})},_executeEntrySave:function(t){let s;let n;function i(e){return e||{}}function r(s){e.debug("[000] _onError: errorInformation",JSON.stringify(s),"UserSettings.controller");let n;const i=t.id;const r=t.title;if(!s){n=l.i18n.getText("userSettings.SavingError.Undefined")}else if(typeof s==="string"){n=s}else if(Array.isArray(s)){s.forEach(e=>{e.setAdditionalText(r);e.setTechnicalDetails({pluginId:i});c.addMessage(e)});return}else if(h.isObjectA(s,"sap.ui.core.message.Message")){s.setAdditionalText(r);s.setTechnicalDetails({pluginId:i});c.addMessage(s);return}else{n=l.i18n.getText("userSettings.SavingError.WithMessage",[s.message])}c.addMessage(new u({type:g.Error,additionalText:r,technicalDetails:{pluginId:i},description:n,message:n}))}try{e.debug(`[000] onSave: oEntry.id: ${t.id}`,"UserSettings.controller");this._isExecuteEntrySavedInUserSettingsController=true;s=t.onSave(this.updateUserPreferences.bind(this))}catch(e){return r(e)}if(s){if(s.promise){e.warning(`jQuery.promise is used to save ${t.title} settings entry.\n`+"The using of jQuery.promise for onSave is deprecated. Please use the native promise instead.");n=new Promise(e=>{s.done(t=>{e(i(t))}).fail(t=>{e(r(t))})})}else{n=s.then(i).catch(r)}}else{n=Promise.resolve();e.warning(`${t.title} settings might not be saved correctly, it seems like the API contract is not correctly fullfilled.\n`+"Please contact the owner of the setting.")}return n},_showSuccessMessageToast:function(){sap.ui.require(["sap/m/MessageToast"],e=>{const t=l.i18n.getText("savedChanges");e.show(t,{offset:"0 -50"})})},_handleCancel:function(){const t=o.last("/core/userPreferences/entries");const s=a.last("UserSettingsOpened")||{};if(s){t.forEach(t=>{if(s[t.id]&&t.onCancel){try{t.onCancel()}catch(t){e.error("Failed to cancel the following entries",t)}}})}a.emit("UserSettingsOpened",null);this._handleSettingsDialogClose()},_handleSettingsDialogClose:function(){p.getUser().resetChangedProperties();if(r.system.phone){this.getView().byId("settingsApp").toMaster("settingsView--userSettingMaster")}this.getView().byId("userSettingsMessagePopoverBtn").setVisible(false);this.getView().byId("userSettingsDialog").close()},onExit:function(){this._oConfigDoable.off();r.orientation.detachHandler(this._fnOrientationChange,this)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/appearance/Appearance.controller", ["sap/base/Log","sap/ui/base/Object","sap/ui/core/Component","sap/ui/core/Theming","sap/ui/core/EventBus","sap/ui/core/message/Message","sap/ui/core/message/MessageType","sap/ui/core/mvc/Controller","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ui/thirdparty/jquery","sap/m/GroupHeaderListItem","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/User","sap/ushell/services/DarkModeSupport","sap/ushell/Container","sap/ushell/utils/LaunchpadError"],(e,t,o,s,n,i,r,a,c,h,jQuery,d,l,g,p,u,m,f,S)=>{"use strict";return a.extend("sap.ushell.components.shell.Settings.appearance.Appearance",{TILE_SIZE:{Small:0,Responsive:1,getName:function(e){return Object.keys(this)[e]}},onInit:function(){const e=this.getView();this.oUser=f.getUser();const t=e.getViewData();this.aThemeListFromServer=t.themeList||[];this.aThemeSets=t.themeSets||[];this.sThemeRoot=t.themeRoot;this.oPersonalizers={};e.setModel(p.i18nModel,"i18n");e.setModel(this.getConfigurationModel(),"config");this._oDarkModeModel=this.getDarkModeModel(this.aThemeListFromServer);e.setModel(this._oDarkModeModel,"darkMode");e.setModel(new h({options:this._getThemeListData(this.oUser.getTheme()),ariaTexts:{headerLabel:p.i18n.getText("Appearance")},deprecatedThemeSelected:this.bShowDeprecationMsg}));this._fnHandleThemeApplied=this._handleThemeApplied.bind(this);s.attachApplied(this._fnHandleThemeApplied)},onExit:function(){s.detachApplied(this._fnHandleThemeApplied)},onAvatarError:function(e){e.oSource.getBindingContext()?.setProperty("avatar","")},getThemeSetHeader:function(e){const t=this.aThemeSets.find(t=>e.key===t.id);const o=t?.label||p.i18n.getText("AppearanceIndividualThemes");return new d({title:o})},_getSelectedThemeData:function(){const e=this.getView().byId("themeList").getSelectedItem();return e?.getBindingContext()?.getProperty?.()},_getSelectedTheme:function(){return this._getSelectedThemeData()?.id||this.oUser.getTheme()},_getThemeListData:function(e){const t=this.aThemeListFromServer||[];const o=this.aThemeSets||[];const s=[];const n=this.sThemeRoot;function i(e){return o.filter(t=>!!t.set.themes?.find?.(t=>t?.id===e))}function r(e){if(n&&e?.avatarRuntimeUrl){return n+e.avatarRuntimeUrl}return undefined}this.bShowDeprecationMsg=false;if(!this._isThemeCofigurable()||this.oUser.isSetThemePermitted()===false){const o=t.find(t=>t?.id===e);return[{id:e,name:o?.name||e,icon:"sap-icon://palette",avatar:r(o),mode:"InlineSvg",deprecated:false,isSelected:true}]}t.forEach(e=>{const t=i(e?.id);if(t.length===0){t.push({})}t.forEach(t=>{const o=t?.set?.themes?.find?.(t=>t.id===e?.id);const n={id:e?.id,name:e?.name||e?.id||"",contrast:o?.contrast,colorScheme:o?.colorScheme,icon:"sap-icon://palette",avatar:r(e),mode:"Image",deprecated:e?.deprecated===true,setId:t.id,isSelected:false};s.push(n)})});if(this._areSetsVisible()){const e=p.i18n.getText("AppearanceAutomaticSelection");o.forEach(t=>{const o={id:t.id,name:e,icon:"sap-icon://sys-monitor",avatar:r(t),mode:"InlineSvg",deprecated:t.deprecated===true,setId:t.id,isSelected:false};s.push(o)})}const a=this.oUser.getThemeSet();let c;if(a){c=s.find(t=>t.id===e&&t.setId===a)}if(!c){c=s.find(t=>t.id===e)}if(this._isDarkModeActive()&&c?.setId){const e=s.find(e=>e.id===c.setId);if(e){c=e}}if(c){c.isSelected=true;this.bShowDeprecationMsg=c.deprecated}return s},_isThemeCofigurable:function(){return l.last("/core/shell/model/setTheme")!==false},getConfigurationModel:function(){const e=l.last("/core/shell/model/contentDensity")&&(c.system.desktop||c.system.combi);const t=l.last("/core/home/sizeBehaviorConfigurable");const o=l.last("/core/contentProviders/providerInfo/enabled")&&l.last("/core/contentProviders/providerInfo/userConfigurable");const s=l.last("/core/contentProviders/providerInfo/showContentProviderInfoOnVisualizations");const n=t||e||o;const i=new h({themeConfigurable:this._isThemeCofigurable(),sizeBehaviorConfigurable:t,tileSize:this.TILE_SIZE[l.last("/core/home/sizeBehavior")],contentDensityConfigurable:e,isCozyContentMode:document.body.classList.contains("sapUiSizeCozy"),textAlign:c.system.phone?"Left":"Right",showContentProviderInfoOnVisualizationsConfigurable:o,showContentProviderInfoOnVisualizationsSelected:s,displaySettingsTabVisible:n});return i},getDarkModeModel:function(){const e=new URLSearchParams(window.location.search);const t=!e.get("sap-theme")&&!e.get("sap-ui-theme");const o=this._isThemeCofigurable();const s=new h({enabled:o,detectionSupported:o&&t,detectionEnabled:o&&t&&this.oUser.getDetectDarkMode()});return s},onAfterRendering:function(){const e=this.getView().getModel("config").getProperty("/themeConfigurable");const t=this.getView().byId("themeList");t.toggleStyleClass("sapUshellThemeListDisabled",!e)},_handleThemeApplied:function(){const e=this.getView().getModel("config");if(e){const e=this._getThemeListData(this.oUser.getTheme());const t=this.getView().getModel();t.setProperty("/options",e);t.setProperty("/deprecatedThemeSelected",this.bShowDeprecationMsg)}},onCancel:function(){const e=this.getView().getModel("config");if(e.getProperty("/themeConfigurable")){const e=this.oUser.getTheme();const t=this.getView().getModel().getProperty("/options");t.forEach(t=>{t.isSelected=e===t.id});this.getView().getModel().setProperty("/options",t)}if(e.getProperty("/showContentProviderInfoOnVisualizationsConfigurable")){e.setProperty("/showContentProviderInfoOnVisualizationsSelected",l.last("/core/contentProviders/providerInfo/showContentProviderInfoOnVisualizations"))}if(e.getProperty("/contentDensityConfigurable")){e.setProperty("/isCozyContentMode",this.oUser.getContentDensity()==="cozy")}if(e.getProperty("/sizeBehaviorConfigurable")){e.setProperty("/tileSize",this.TILE_SIZE[l.last("/core/home/sizeBehavior")])}if(this._oDarkModeModel&&this._oDarkModeModel.getProperty("/enabled")){this._oDarkModeModel.setProperty("/detectionEnabled",this.oUser.getDetectDarkMode());this.oUser.resetChangedProperty("detectDarkMode")}},onSave:function(e){this._updateUserPreferences=e;const o=this.getView().getModel("config");const s=[];if(o.getProperty("/themeConfigurable")){s.push(this.onSaveThemes().then(()=>{g.emit("themeChanged",Date.now())}))}if(o.getProperty("/showContentProviderInfoOnVisualizationsConfigurable")){s.push(this.onSaveShowContentProviderInfoOnVisualizations())}if(o.getProperty("/contentDensityConfigurable")){s.push(this.onSaveContentDensity())}if(o.getProperty("/sizeBehaviorConfigurable")){s.push(this.onSaveTileSize())}if(this._oDarkModeModel&&this._oDarkModeModel.getProperty("/enabled")){s.push(this.onSaveDarkModeEnabled())}return Promise.all(s).then(e=>{const o=e.reduce((e,o)=>{if(o&&t.isObjectA(o,"sap.ui.core.message.Message")){e.push(o)}return e},[]);if(o.length>0){return Promise.reject(o)}})},onSaveThemesSuccess:function(e){e.resetChangedProperty("theme");e.resetChangedProperty("themeSet");return this._applyDarkMode()},onSaveThemes:function(){const t=this._getSelectedThemeData();let o=t?.id;const s=t?.setId;const n=this.oUser;const a=n.getTheme(u.prototype.constants.themeFormat.ORIGINAL_THEME);const c=n.getThemeSet();const h=(this.aThemeSets||[]).find(e=>e.id===o);if(h){const e=m.prototype.prefersDark()?"DARK":"LIGHT";const t=m.prototype.prefersContrast()?"HIGH":"LOW";const s=h.set.themes.find(o=>o.colorScheme===e&&o.contrast===t);o=s?.id||h.set.themes[0].id}this._oDarkModeModel.setProperty("/detectionEnabled",!!h);let d=false;if(o&&o!==a){f.getServiceAsync("UserInfo").then(e=>{e.updateThemeRoot(o)});n.setTheme(o);d=true}if(s!==c){n.setThemeSet(s);d=true}if(d){return this._updateUserPreferences(n).then(()=>this.onSaveThemesSuccess(n)).catch(t=>{if(!t.message.includes("THEME")){return this.onSaveThemesSuccess(n)}n.setTheme(a);n.resetChangedProperty("theme");n.setThemeSet(c);n.resetChangedProperty("themeSet");e.error("Can not save selected theme",t);throw new i({type:r.Error,description:t.message})})}return Promise.resolve()},_onSaveContentDensitySuccess:function(e){const t=this.oUser;t.resetChangedProperty("contentDensity");n.getInstance().publish("launchpad","toggleContentDensity",{contentDensity:e});g.emit("toggleContentDensity",{contentDensity:e});return new Promise(e=>{g.once("toggleContentDensity").do(()=>{e()})})},onSaveContentDensity:function(){const t=this.getView().getModel("config");const o=this.oUser;const s=t.getProperty("/isCozyContentMode")?"cozy":"compact";const n=o.getContentDensity();e.debug("[000] onSaveContentDensity","Appearance.controller");if(s!==n&&t.getProperty("/contentDensityConfigurable")){o.setContentDensity(s);e.debug("[000] onSaveContentDensity: sNewContentDensity",s,"Appearance.controller");return this._updateUserPreferences(o).then(()=>this._onSaveContentDensitySuccess(s)).catch(t=>{if(!t.message.includes("CONTENT_DENSITY")){return this._onSaveContentDensitySuccess()}o.setContentDensity(n);o.resetChangedProperty("contentDensity");e.error("Can not save content density configuration",t);throw new i({type:r.Error,message:t.message})})}return Promise.resolve()},onSaveTileSize:function(){const t=this.getView().getModel("config");const o=this.TILE_SIZE.getName(t.getProperty("/tileSize"));const s=l.last("/core/home/sizeBehavior");if(o&&o!==s&&t.getProperty("/sizeBehaviorConfigurable")){return new Promise((t,s)=>{this.writeToPersonalization("flp.settings.FlpSettings","sizeBehavior",o).then(()=>{l.emit("/core/home/sizeBehavior",o);const e=document.getElementsByClassName(".sapUshellTile");for(let t=0;t<e.length;t++){e[t].classList.toggle("sapUshellSmall",o!=="Responsive")}t()}).catch(t=>{e.error("Cannot save tile size configuration",t);let o;if(t instanceof S){o=new i({type:r.Error,description:t.message,message:t.details?.message.value,date:t.details?.innererror.timestamp,httpStatus:t.details?.httpStatus})}else{o=new i({type:r.Error,description:t.message,message:t.message})}s(o)})})}return Promise.resolve()},onSaveDarkModeEnabledSuccess:async function(e,t){e.resetChangedProperty("detectDarkMode");const o=await f.getServiceAsync("DarkModeSupport");o.toggleDetection(!!t)},onSaveDarkModeEnabled:function(){const t=this._oDarkModeModel.getProperty("/detectionEnabled");const o=this.oUser.getDetectDarkMode();const s=this.oUser;if(t!==o){e.debug("[000] onSaveDarkModeEnabled: setDetectDarkModeEnabled",t,"Appearance.controller");s.setDetectDarkMode(t);return this._updateUserPreferences(this.oUser).then(()=>this.onSaveDarkModeEnabledSuccess(s,t)).catch(n=>{if(!n.message.includes("THEME_DARKMODE_AUTO_DETECTION")){return this.onSaveDarkModeEnabledSuccess(s,t)}s.setDetectDarkMode(o);s.resetChangedProperty("detectDarkMode");e.error("Can not save dark mode configuration",n);throw new i({message:n.message})})}return Promise.resolve()},onSaveShowContentProviderInfoOnVisualizations:function(){const t=l.last("/core/contentProviders/providerInfo/showContentProviderInfoOnVisualizations");const o=this.getView().getModel("config").getProperty("/showContentProviderInfoOnVisualizationsSelected");if(o===t){return Promise.resolve()}return new Promise((t,s)=>{this.writeToPersonalization("flp.settings.FlpSettings","showContentProviderInfoOnVisualizations",o).then(()=>{l.emit("/core/contentProviders/providerInfo/showContentProviderInfoOnVisualizations",o);t()}).catch(t=>{e.error("Cannot save system info on tiles configuration",t);let o;if(t instanceof S){o=new i({type:r.Error,description:t.message,message:t.details?.message.value,date:t.details?.innererror.timestamp,httpStatus:t.details?.httpStatus})}else{o=new i({type:r.Error,description:t.message,message:t.message})}s(o)})})},writeToPersonalization:function(t,o,s){return this.getPersonalizer(t,o).then(e=>e.setPersData(s)).catch(t=>{e.error("Personalization service does not work:",t);throw t})},getPersonalizer:async function(e,t){const s=`${e}-${t}`;if(!this.oPersonalizers[s]){this.oPersonalizers[s]=f.getServiceAsync("PersonalizationV2").then(s=>{const n=o.getOwnerComponentFor(this.getView());const i={keyCategory:s.constants.keyCategory.FIXED_KEY,writeFrequency:s.constants.writeFrequency.LOW,clientStorageAllowed:true};return s.getPersonalizer({container:e,item:t},i,n)})}return this.oPersonalizers[s]},_applyDarkMode:async function(){if(this._areSetsVisible()){const e=await f.getServiceAsync("DarkModeSupport");e.toggleDetection(this._isDarkModeActive())}},_isDarkModeActive:function(){const e=this._oDarkModeModel.getProperty("/");return e.enabled&&e.detectionSupported&&e.detectionEnabled},_areSetsVisible:function(){const e=this._oDarkModeModel.getProperty("/");return e.enabled&&e.detectionSupported},changeSystemModeDetection:function(){const e=this.getView().getModel();e.setProperty("/options",this._getThemeListData(this._getSelectedTheme()));e.setProperty("/deprecatedThemeSelected",this.bShowDeprecationMsg);this.getView().invalidate()}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/appearance/AppearanceEntry", ["sap/ui/core/mvc/XMLView","sap/base/Log","sap/ushell/resources","sap/ushell/Container"],(e,t,n,r)=>{"use strict";let o;function s(){if(o){return Promise.resolve(o)}return r.getServiceAsync("UserInfo").then(e=>new Promise(n=>{e.getThemeList().done(e=>{o=e;n(o)}).fail(()=>{t.error("Failed to load theme list.");n({})})}))}function i(){let o;const i={id:"themes",entryHelpID:"themes",title:n.i18n.getText("Appearance"),valueResult:null,contentResult:null,icon:"sap-icon://palette",valueArgument:function(){return s().then(e=>{const t=e?.options||[];const n=r.getUser().getTheme();const o=t.find(e=>e?.id===n);return o?.name||""})},contentFunc:function(){return s().then(t=>e.create({id:"userPrefThemeSelector",viewName:"sap.ushell.components.shell.Settings.appearance.Appearance",viewData:{themeList:t?.options||[],themeSets:t?.sets||[],themeRoot:t?.themeRoot}})).then(e=>{o=e;return e})},onSave:function(e){if(o){return o.getController().onSave(e)}t.warning("Save operation for appearance settings was not executed, because the userPrefThemeSelector view was not initialized");return Promise.resolve()},onCancel:function(){if(o){o.getController().onCancel();return}t.warning("Cancel operation for appearance settings was not executed, because the userPrefThemeSelector view was not initialized")}};return i}return{getEntry:i}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/homepage/HomepageEntry", ["sap/base/Log","sap/ui/core/mvc/XMLView","sap/ui/model/json/JSONModel","sap/ushell/components/SharedComponentUtils","sap/ushell/Config","sap/ushell/resources","sap/ushell/Container"],(e,t,n,o,s,a,r)=>{"use strict";const i={scroll:0,tabs:1,getName:function(e){return Object.keys(this)[e]}};return{getEntry:function(){let l;return{id:"homepageEntry",entryHelpID:"homepageEntry",title:a.i18n.getText("FlpSettings_entry_title"),valueResult:null,contentResult:null,icon:"sap-icon://home",valueArgument:null,contentFunc:function(){let r;return o.getEffectiveHomepageSetting("/core/home/homePageGroupDisplay","/core/home/enableHomePageSettings").then(e=>{r=e;return t.create({id:"UserSettingsHomepageSettingsView",viewName:"sap.ushell.components.shell.Settings.homepage.HomepageSetting"})}).then(e=>{l=e;l.setModel(new n({displayMode:i[r]||i.scroll,personalisationEnabled:s.last("/core/shell/enablePersonalization")}));l.setModel(a.i18nModel,"i18n");return l}).catch(t=>{e.error("Failed to get effective hompage setting.",t,"sap.ushell.components.ushell.settings.homepage.HomepageEntry");throw t})},onSave:function(){if(l){const t=l.getModel().getProperty("/displayMode");const n=i.getName(t);const a=r.getRendererInternal("fiori2");return o.getPersonalizer("homePageGroupDisplay",a).then(e=>e.setPersData(n)).then(()=>{s.emit("/core/home/homePageGroupDisplay",n)}).catch(t=>{e.error("Failed to save the anchor bar mode in personalization",t,"sap.ushell.components.ushell.settings.homepage.HomepageEntry");throw t})}e.warning("Save operation for user account settings was not executed, because the homepage view was not initialized");return Promise.resolve()},onCancel:function(){if(l){return}e.warning("Cancel operation for user account settings was not executed, because the homepage view was not initialized")},provideEmptyWrapper:false}}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/notifications/NotificationsEntry", ["sap/ui/core/mvc/XMLView","sap/base/Log","sap/ushell/Config","sap/ushell/resources"],(t,n,e,i)=>{"use strict";function o(){const e="notificationsSetting";const o="sap.ushell.components.shell.Settings.notifications.NotificationsSetting";let s;return{id:"notificationsEntry",entryHelpID:"notificationsEntry",title:i.i18n.getText("notificationSettingsEntry_title"),valueResult:null,contentResult:null,icon:"sap-icon://bell",valueArgument:null,contentFunc:function(){return t.create({id:e,viewName:o}).then(t=>{s=t;return t})},onSave:function(){if(s){return s.getController().onSave()}n.warning("Save operation for user account settings was not executed, because the notifications view was not initialized");return Promise.resolve()},onCancel:function(){if(s){s.getController().onCancel();return}n.warning("Cancel operation for user account settings was not executed, because the notifications view was not initialized")}}}return{getEntry:o}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/notifications/NotificationsSetting.controller", ["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ushell/Config","sap/base/Log","sap/ushell/resources","sap/base/util/deepClone","sap/ushell/Container"],(e,t,o,i,r,n,s)=>{"use strict";return e.extend("sap.ushell.components.shell.Settings.notifications.NotificationsSetting",{onInit:function(){this._oModel=new t({rows:[],originalRows:[]});const e=this.getView();let o;e.setBusy(true);e.setModel(r.i18nModel,"i18n");s.getServiceAsync("NotificationsV2").then(t=>{this._oNotificationService=t;this._initializeFlags();t.readSettings().then(e=>{o=JSON.parse(e);this._oModel.setProperty("/rows",o.value);this._oModel.setProperty("/originalRows",n(o.value))}).finally(()=>{e.setBusy(false);e.setModel(this._oModel)})})},onAfterRendering:function(){const e=this._oModel.getProperty("/flags");const t=this._oModel.getProperty("/rows");if(t!==undefined){this._oModel.setProperty("/originalRows",n(t))}if(e!==undefined){this._oModel.setProperty("/originalFlags/highPriorityBannerEnabled",e.highPriorityBannerEnabled)}},onCancel:function(){const e=this._oModel.getProperty("/originalFlags");const t=this._oModel.getProperty("/originalRows");this._oModel.setProperty("/flags/highPriorityBannerEnabled",e.highPriorityBannerEnabled);this._oModel.setProperty("/rows",n(t));this._oModel.setProperty("/originalFlags",{});this._oModel.setProperty("/originalRows",[])},onSave:function(){const e=this._oModel.getProperty("/rows");const t=this._oModel.getProperty("/originalRows");let o;let r;const n=[];const s=[];for(let i=0;i<e.length;i++){o=e[i];r=t[i];if(this._notficationSettingsDiffer(o,r)){n.push(o)}}if(this._flagsHaveChanged()){this._handleFlagsSave()}n.forEach(e=>{s.push(this._oNotificationService.saveSettingsEntry(e))});return Promise.all(s).catch(e=>{i.error("Failed to save the notification settings in the notifivation service.",e,"sap.ushell.components.ushell.settings.notifications.NotificationsSetting");throw e})},_flagsHaveChanged:function(){return this._oModel.getProperty("/flags/highPriorityBannerEnabled")!==this._oModel.getProperty("/originalFlags/highPriorityBannerEnabled")},_handleFlagsSave:function(){const e=this._oModel.getProperty("/flags/highPriorityBannerEnabled");this._oModel.setProperty("/originalFlags/highPriorityBannerEnabled",e);this._oNotificationService.setUserSettingsFlags({highPriorityBannerEnabled:e})},_notficationSettingsDiffer:function(e,t){return e.NotificationTypeId!==t.NotificationTypeId||e.PriorityDefault!==t.PriorityDefault||e.DoNotDeliver!==t.DoNotDeliver||e.DoNotDeliverMob!==t.DoNotDeliverMob||e.DoNotDeliverEmail!==t.DoNotDeliverEmail},onSelectMobile:function(e){const t=e.getSource().getBindingContext().getPath();this._oModel.setProperty(`${t}/DoNotDeliverMob`,!e.getParameter("selected"))},onSelectEmail:function(e){const t=e.getSource().getBindingContext().getPath();this._oModel.setProperty(`${t}/DoNotDeliverEmail`,!e.getParameter("selected"))},onSelectHighPriority:function(e){const t=e.getSource().getBindingContext().getPath();if(e.getParameter("selected")){this._oModel.setProperty(`${t}/PriorityDefault`,"HIGH")}else{this._oModel.setProperty(`${t}/PriorityDefault`,"")}},onEnableSwitchChange:function(e){const t=e.getParameter("state");const o=e.getSource().getBindingContext().getPath();this._oModel.setProperty(`${o}/DoNotDeliver`,!t);this._oModel.setProperty(`${o}/DoNotDeliverMob`,true);this._oModel.setProperty(`${o}/DoNotDeliverEmail`,true);this._oModel.setProperty(`${o}/PriorityDefault`,"")},_initializeFlags:function(){const e=this._oNotificationService.getUserSettingsFlags();const t=this._oNotificationService._getNotificationSettingsMobileSupport();const o=this._oNotificationService._getNotificationSettingsEmailSupport();e.then(e=>{this._oModel.setProperty("/flags",{});this._oModel.setProperty("/flags/highPriorityBannerEnabled",e.highPriorityBannerEnabled);this._oModel.setProperty("/flags/mobileNotificationsEnabled",t);this._oModel.setProperty("/flags/emailNotificationsEnabled",o);this._oModel.setProperty("/originalFlags",{});this._oModel.setProperty("/originalFlags/highPriorityBannerEnabled",e.highPriorityBannerEnabled)})}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/search/Search.controller", ["sap/ui/core/mvc/View","sap/ui/core/mvc/Controller"],(e,n)=>{"use strict";return n.extend("sap.ushell.components.shell.Settings.search.Search",{onInit:function(){this._loadContent()},_loadContent:function(){const n=this.getView().byId("searchContent");e.create({id:"searchPrefsDialogView",viewName:"module:sap/esh/search/ui/userpref/SearchPrefsDialog.view"}).then(e=>{n.addItem(e)})},onCancel:function(){this.oView.getModel().cancelPreferences()},onSave:function(){return this.oView.getModel().savePreferences()}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/search/SearchEntry", ["sap/base/Log","sap/ui/core/Lib","sap/ui/core/mvc/XMLView","sap/ushell/resources"],(e,n,r,t)=>{"use strict";let s=null;function i(){if(s){return s}s=n.load("sap.esh.search.ui").then(()=>new Promise((e,n)=>{sap.ui.require(["sap/esh/search/ui/userpref/SearchPrefsModel","sap/esh/search/ui/SearchShellHelperAndModuleLoader"],(n,r)=>{e(new n)})}));return s}function a(){return i().then(n=>{let s;const i={id:"search",entryHelpID:"search",title:t.i18n.getText("searchSetting"),valueResult:null,contentResult:null,icon:"sap-icon://search",isActive:n.isSearchPrefsActive.bind(n),valueArgument:function(){return n.isMultiProvider().then(e=>{if(e){return{value:1,displayText:""}}return n.isPersonalizedSearchActive().then(e=>({value:1,displayText:e?t.i18n.getText("sp.persSearchOn"):t.i18n.getText("sp.persSearchOff")}))})},contentFunc:function(){return n.asyncInit().then(()=>r.create({id:"searchView",viewName:"sap.ushell.components.shell.Settings.search.Search"})).then(e=>{e.setModel(n);s=e;return e})},onSave:function(){if(s){return s.getController().onSave()}e.warning("Save operation for search settings was not executed, because the search view was not initialized");return Promise.resolve()},onCancel:function(){if(s){s.getController().onCancel();return}e.warning("Cancel operation for search settings was not executed, because the search view was not initialized")},provideEmptyWrapper:false};return i})}return{getEntry:a}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/spaces/SpacesEntry", ["sap/base/Log","sap/ui/core/mvc/View","sap/ushell/resources","sap/ushell/Config","sap/ushell/utils","sap/ushell/Container"],(e,t,n,s,r,a)=>{"use strict";function o(){return a.getServiceAsync("UserInfo").then(e=>{const t=e.getUser().getShowMyHome();return n.i18n.getText(t?"settingsMyHomeShown":"settingsMyHomeHidden")})}function c(){const e=s.last("/core/spaces/enabled")&&s.last("/core/spaces/myHome/enabled")&&!s.last("/core/homeApp/enabled");return e?o:null}return{isRelevant:function(){if(s.last("/core/spaces/configurable")){return true}if(s.last("/core/spaces/enabled")){if(s.last("/core/spaces/hideEmptySpaces/enabled")){return true}const e=s.last("/core/spaces/myHome/enabled");const t=s.last("/core/homeApp/enabled");if(e&&!t){return true}}return false},getEntry:function(){let s;return{id:"spacesEntry",entryHelpID:"spaces",title:n.i18n.getText("spaces"),valueResult:null,contentResult:null,icon:"sap-icon://home",valueArgument:c(),contentFunc:function(){return Promise.all([a.getServiceAsync("UserInfo"),r.getHideEmptySpacesEnabled()]).then(e=>{const n=e[0];return t.create({id:"UserSettingsSpacesSettingsView",viewName:"sap.ushell.components.shell.Settings.spaces.SpacesSetting",type:"XML",viewData:{UserInfo:n}})}).then(e=>{s=e;return s})},onSave:function(t){if(s){return s.getController().onSave(t)}e.warning("Save operation for user account settings was not executed, because the spaces view was not initialized");return Promise.resolve()},onCancel:function(){if(s){s.getController().onCancel();return}e.warning("Cancel operation for user account settings was not executed, because the spaces view was not initialized")},provideEmptyWrapper:false,_setViewInstance:function(e){s=e},_getViewInstance:function(){return s}}}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/spaces/SpacesSetting.controller", ["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ushell/EventHub","sap/ushell/Config","sap/ushell/resources","sap/ushell/utils","sap/base/Log"],(e,s,t,o,r,n,c)=>{"use strict";return e.extend("sap.ushell.components.shell.Settings.spaces.SpacesSetting",{onInit:function(){const e=this.getView().getViewData();this.oUserInfoService=e.UserInfo;const n=this.oUserInfoService.getUser();const c=o.last("/core/spaces/enabled");const a=o.last("/core/homeApp/enabled");const p=o.last("/core/spaces/myHome/enabled");const i=c&&p&&!a;const l=n.getShowMyHome();const d=n.getImportBookmarksFlag();const m=d!=="done"&&d!=="not_required";const h=new s({spaces:{visible:o.last("/core/spaces/configurable"),selected:c},hideEmptySpaces:{visible:c&&o.last("/core/spaces/hideEmptySpaces/enabled"),selected:o.last("/core/spaces/hideEmptySpaces/userEnabled")},showMyHome:{visible:i,selected:l},showMyHomeImport:{visible:i&&l&&m,selected:d==="pending"}});this.getView().setModel(h);this.getView().setModel(r.i18nModel,"i18n");this.oImportBookmarksFlagListener=t.on("importBookmarksFlag").do(this._setMyHomeImportSelected.bind(this))},_setMyHomeImportSelected:function(e){const s=this.getView().getModel();s.setProperty("/showMyHomeImport/selected",e)},onExit:function(){this.oImportBookmarksFlagListener.off()},onSave:async function(e){let s=false;let r=false;const a=[];const p=this.getView().getModel();const i=this.oUserInfoService;const l=i.getUser();const d=o.last("/core/spaces/enabled");const m=p.getProperty("/spaces/selected");const h=o.last("/core/spaces/hideEmptySpaces/userEnabled");const g=p.getProperty("/hideEmptySpaces/selected");const y=l.getShowMyHome();const u=p.getProperty("/showMyHome/selected");const E=l.getImportBookmarksFlag()==="pending";const M=p.getProperty("/showMyHomeImport/selected");if(d!==m){l.setChangedProperties({propertyName:"spacesEnabled",name:"SPACES_ENABLEMENT"},d,m);r=true;s=true}if(y!==u){l.setShowMyHome(u);r=true;s=true}if(E!==M){const e=M?"pending":"dismissed";l.setImportBookmarksFlag(e);r=true;if(!s){t.emit("importBookmarksFlag",M)}}if(h!==g){const e=n.setHideEmptySpacesEnabled(g).catch(e=>{p.setProperty("/hideEmptySpaces/selected",h);throw e});a.push(e)}if(!r&&!a.length){return Promise.resolve()}c.debug("[000] SpacesSetting.controller.save");if(r){const s=new Promise((s,t)=>{e().then(()=>{l.resetChangedProperty("spacesEnabled");l.resetChangedProperty("showMyHome");l.resetChangedProperty("importBookmarks");s()}).catch(e=>{const o=e.message;if(!o.includes("SPACES_ENABLEMENT")&&!o.includes("MYHOME_ENABLEMENT")&&!o.includes("MYHOME_IMPORT_FROM_CLASSIC")){l.resetChangedProperty("spacesEnabled");l.resetChangedProperty("showMyHome");l.resetChangedProperty("importBookmarks");s()}else{p.setProperty("/spaces/selected",d);p.setProperty("/showMyHome/selected",y);l.resetChangedProperty("spacesEnabled");l.resetChangedProperty("showMyHome");l.resetChangedProperty("importBookmarks");t(e)}})});a.push(s)}return Promise.all(a).then(()=>({refresh:s,noHash:true}))},onCancel:function(){const e=this.getView().getModel();e.setProperty("/spaces/selected",o.last("/core/spaces/enabled"));e.setProperty("/showMyHome/selected",this.oUserInfoService.getUser().getShowMyHome());e.setProperty("/hideEmptySpaces/selected",o.last("/core/spaces/hideEmptySpaces/userEnabled"))}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/userAccount/UserAccountEntry", ["sap/ui/core/mvc/XMLView","sap/base/Log","sap/ushell/Config","sap/ushell/resources","sap/ushell/Container"],(e,t,n,o,r)=>{"use strict";function s(){const s=r.getRendererInternal("fiori2").getShellConfig();const c=s.enableUserImgConsent;const u=c?"userAccountSelector":"userAccountSetting";const l=c?"sap.ushell.components.shell.Settings.userAccount.UserAccountSelector":"sap.ushell.components.shell.Settings.userAccount.UserAccountSetting";const i=n.last("/core/shell/model/userImage/account")||"sap-icon://account";let a;const g={id:"userAccountEntry",entryHelpID:"userAccountEntry",title:o.i18n.getText("UserAccountFld"),valueResult:null,contentResult:null,icon:i,valueArgument:r.getUser().getFullName(),provideEmptyWrapper:true,contentFunc:function(){return e.create({id:u,viewName:l}).then(e=>{a=e;return e})},onSave:function(e){if(a){return a.getController().onSave(e)}t.warning("Save operation for user account settings was not executed, because the userAccount view was not initialized");return Promise.resolve()},onCancel:function(){if(a){a.getController().onCancel();return}t.warning("Cancel operation for user account settings was not executed, because the userAccount view was not initialized")}};return g}return{getEntry:s}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/userAccount/UserAccountSelector.controller", ["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/base/Log","sap/ushell/Config","sap/ushell/resources","sap/m/MessageBox","sap/m/MessageToast","sap/ushell/utils","sap/ushell/utils/WindowUtils","sap/ushell/Container"],(e,s,t,n,o,i,r,a,l,g)=>{"use strict";return e.extend("sap.ushell.components.shell.Settings.userAccount.UserAccountSelector",{onInit:function(){const e=g.getRendererInternal("fiori2").getShellConfig();const s=e.enableUserImgConsent;this.imgConsentEnabled=s||false;this.oUser=g.getUser();const i=this.getConfigurationModel();this.getView().setModel(o.i18nModel,"i18n");this.getView().setModel(i,"config");this.oUser.attachOnSetImage(()=>{i.setProperty("/icon",n.last("/core/shell/model/userImage/personPlaceHolder"))});g.getServiceAsync("PersonalizationV2").then(e=>e.isResetEntirePersonalizationSupported().then(e=>{if(!e){i.setProperty("/isResetPersonalizationVisible",false)}})).catch(e=>{t.error(`The personalization service could not be loaded because of: .${e.toString()}`)})},getConfigurationModel:function(){const e=new s({});const t=g.getUser();const o=n.last("/core/shell/model/userImage/personPlaceHolder")||"sap-icon://person-placeholder";e.setData({icon:o,name:t.getFullName(),id:t.getId(),mail:t.getEmail(),server:window.location.host,imgConsentEnabled:this.imgConsentEnabled,isImageConsentForUser:t.getImageConsent(),isResetPersonalizationVisible:this.isResetPersonalizationVisible||true,displayUserId:n.last("/core/userSettings/displayUserId")});return e},onCancel:function(){if(this.imgConsentEnabled){this.getView().getModel("config").setProperty("/isImageConsentForUser",this.oUser.getImageConsent())}},onSave:function(e){if(this.imgConsentEnabled){return this.onSaveUserImgConsent(e)}return Promise.resolve()},onSaveUserImgConsent:function(e){const s=this.oUser;const n=s.getImageConsent();const o=this.getView().getModel("config");const i=o.getProperty("/isImageConsentForUser");let r;t.debug("[000] onSaveUserImgConsent:current",i,"UserAccountSelector.controller");t.debug("[000] onSaveUserImgConsent:original",n,"UserAccountSelector.controller");if(n!==i){s.setImageConsent(i);return new Promise((i,a)=>{r=e();r.then(()=>{s.resetChangedProperty("isImageConsent");i()});r.catch(e=>{const r=e.message;if(!r.includes("ISIMAGECONSENT")){s.resetChangedProperty("isImageConsent");i()}else{s.setImageConsent(n);s.resetChangedProperty("isImageConsent");o.setProperty("/isImageConsentForUser",n);t.error("Failed to update user image consent",e);a(e)}})})}return Promise.resolve()},termsOfUserPress:function(){const e=this.getView().byId("termsOfUseTextFlexBox");const s=this.getView().byId("termsOfUseLink");const t=e.getVisible();e.setVisible(!t);s.setText(o.i18n.getText(t?"userImageConsentDialogShowTermsOfUse":"userImageConsentDialogHideTermsOfUse"))},showMessageBoxWarningDeletePersonalization:function(){i.warning(o.i18n.getText("userAccountResetPersonalizationWarningDialogDescription"),{onClose:this.resetEntirePersonalization.bind(this),actions:[i.Action.OK,i.Action.CANCEL],contentWidth:"600px"})},resetEntirePersonalization:function(e){if(e===i.Action.OK){this.getView().setBusy(true);g.getServiceAsync("PersonalizationV2").then(e=>e.resetEntirePersonalization().then(()=>{r.show(o.i18n.getText("userAccountResetPersonalizationWarningDialogSuccessToast"),{onClose:l.refreshBrowser})}).catch(this.showErrorMessageBox.bind(this))).catch(this.showErrorMessageBox.bind(this)).finally(()=>{this.getView().setBusy(false)})}},showErrorMessageBox:function(){i.error(o.i18n.getText("userAccountResetPersonalizationWarningDialogErrorDialog"),{actions:i.Action.CLOSE,contentWidth:"600px"})}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/userActivities/UserActivitiesEntry", ["sap/ui/core/mvc/XMLView","sap/base/Log","sap/ushell/resources"],(e,t,i)=>{"use strict";function n(){const n="userActivitiesSetting";const s="sap.ushell.components.shell.Settings.userActivities.UserActivitiesSetting";let r;return{id:"userActivitiesEntry",entryHelpID:"userActivitiesEntry",title:i.i18n.getText("userActivities"),valueResult:null,contentResult:null,icon:"sap-icon://laptop",valueArgument:null,groupingEnablement:true,groupingId:"userActivities",groupingTabHelpId:"userActivitiesEntryTab",groupingTabTitle:i.i18n.getText("userActivitiesTabName"),contentFunc:function(){return e.create({id:n,viewName:s}).then(e=>{r=e;return e})},onSave:function(){if(r){return r.getController().onSave()}t.warning("Save operation for user account settings was not executed, because the userActivities view was not initialized");return Promise.resolve()},onCancel:function(){if(r){r.getController().onCancel();return}t.warning("Cancel operation for user account settings was not executed, because the userActivities view was not initialized")}}}return{getEntry:n}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/userActivities/UserActivitiesSetting.controller", ["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ushell/components/SharedComponentUtils","sap/ushell/Config","sap/base/Log","sap/ushell/resources","sap/ushell/Container"],(e,t,s,i,n,o,r)=>{"use strict";return e.extend("sap.ushell.components.shell.Settings.userActivities.UserActivitiesSetting",{onInit:function(){const e=i.last("/core/shell/model/enableTrackingActivity")!==undefined?i.last("/core/shell/model/enableTrackingActivity"):true;this.oModel=new t({checkboxIsChecked:e});this.getView().setModel(this.oModel);this.getView().setModel(o.i18nModel,"i18n")},onCancel:function(){const e=i.last("/core/shell/model/enableTrackingActivity")!==undefined?i.last("/core/shell/model/enableTrackingActivity"):true;this.oModel.setProperty("/checkboxIsChecked",e)},onSave:function(){if(i.last("/core/shell/model/enableTrackingActivity")!==this.oModel.getProperty("/checkboxIsChecked")){return this._setTrackingToEnabled(this.oModel.getProperty("/checkboxIsChecked"))}return Promise.resolve()},_setTrackingToEnabled:function(e){return s.getPersonalizer("userActivitesTracking",r.getRendererInternal("fiori2")).then(t=>t.setPersData(e)).then(()=>{i.emit("/core/shell/model/enableTrackingActivity",e)}).catch(e=>{n.error("Failed to save the user activities tracking in personalization",e,"sap.ushell.components.ushell.settings.userActivities.UserActivitiesSetting");throw e})},onClearHistory:async function(){const e=await r.getServiceAsync("UserRecents");await e.clearRecentActivities();return new Promise((e,t)=>{sap.ui.require(["sap/m/MessageToast"],t=>{t.show(o.i18n.getText("historyCleared"));e()},t)})}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/userDefaults/Component", ["sap/ui/core/mvc/XMLView","sap/ui/core/UIComponent"],(t,n)=>{"use strict";return n.extend("sap.ushell.components.shell.Settings.userDefaults.Component",{metadata:{manifest:"json"},init:function(){n.prototype.init.apply(this,arguments)},onSave:function(){return this.getRootControl().getController().onSave()},onCancel:function(){this.getRootControl().getController().onCancel()},exit:function(){}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/userDefaults/UserDefaultsEntry", ["sap/base/Log","sap/ui/core/ComponentContainer","sap/ushell/resources","sap/ushell/Container"],(e,t,n,s)=>{"use strict";return{getEntry:function(){let a;return{id:"userDefaultEntry",entryHelpID:"defaultParameters",title:n.i18n.getText("defaultsValuesEntry"),valueArgument:function(){const e=s.getServiceAsync("UserDefaultParameters");const t=s.getServiceAsync("ClientSideTargetResolution");const n=s.getServiceAsync("CommonDataModel").then(e=>e.getContentProviderIds()).catch(()=>[""]);return Promise.all([e,t,n]).then(e=>{const t=e[0];const n=e[1];const s=e[2].length>0?e[2]:[""];return Promise.all(s.map(e=>n.getSystemContext(e).then(e=>t.hasRelevantMaintainableParameters(e))))}).then(e=>({value:e.includes(true)}))},contentFunc:function(){return new Promise((e,n)=>{a=new t("defaultParametersSelector",{name:"sap.ushell.components.shell.Settings.userDefaults",manifest:true,async:true});e(a)})},onSave:function(){if(a&&a.getComponentInstance()){return a.getComponentInstance().onSave()}e.warning("Save operation for user defaults settings was not executed, because the user default component was not initialized");return Promise.resolve()},onCancel:function(){if(a&&a.getComponentInstance()){a.getComponentInstance().onCancel();return}e.warning("Cancel operation for user defaults settings was not executed, because the user default component was not initialized")},defaultVisibility:false}}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/userDefaults/UserDefaultsForm", ["sap/base/util/deepExtend","sap/ui/comp/smartform/ColumnLayout","sap/ui/comp/smartform/SmartForm","sap/ui/core/Control"],(e,t,r,o)=>{"use strict";const a=["sap.ui.comp.smartfield.SmartField","sap.m.Input"];const n=o.extend("sap.ushell.components.shell.Settings.userDefaults.UserDefaultsForm",{metadata:{properties:{persistencyKey:{type:"string"}},aggregations:{_smartForm:{type:"sap.ui.comp.smartform.SmartForm",multiple:false,visibility:"hidden"}},events:{}},renderer:{apiVersion:2,render:function(e,t){e.openStart("div",t);e.openEnd();e.renderControl(t.getAggregation("_smartForm"));e.close("div")}}});n.prototype.init=function(){const e=new r({editable:true});const o=new t({columnsM:1,columnsL:1,columnsXL:1});e.setLayout(o);this.setAggregation("_smartForm",e)};n.prototype.fetchVariant=function(){let e;let t;const r=this.getAggregation("_smartForm").getModel("MdlParameter");return this._getFieldControls().reduce((o,a)=>{e=a.getName();o[e]={value:r.getProperty(`/${e}/valueObject/value/`)};t=r.getProperty(`/${e}/valueObject/extendedValue/`);if(t){o[e].additionalValues=t}return o},{})};n.prototype.applyVariant=function(t){if(t){const r=this.getAggregation("_smartForm").getModel("MdlParameter");const o=this._getFieldControls();let a;let n;for(let s=0;s<o.length;s++){a=o[s].getName();if(t[a]!==undefined){if(o[s].getDataType&&o[s].getDataType()==="Edm.DateTime"){o[s].setValue(new Date(t[a].value))}else{o[s].setValue(t[a].value)}n=r.getProperty(`/${a}/valueObject/`);n.extendedValue=undefined;if(t[a].additionalValues){n=e(n,{extendedValue:t[a].additionalValues})}r.setProperty(`/${a}/valueObject`,n)}}}};n.prototype._getFieldControls=function(){return this.getControlsByFieldGroupId("UserDefaults").filter(e=>{const t=e.getMetadata().getName();return a.indexOf(t)!==-1})};n.prototype.addGroup=function(e){this.getAggregation("_smartForm").addGroup(e)};n.prototype.getGroups=function(){return this.getAggregation("_smartForm").getGroups()};n.prototype.removeGroup=function(e){this.getAggregation("_smartForm").removeGroup(e)};n.prototype.removeAllGroups=function(){this.getAggregation("_smartForm").removeAllGroups()};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/userDefaults/controller/ExtendedValueDialog.controller", ["sap/m/Token","sap/ui/comp/library","sap/ui/model/json/JSONModel","sap/ui/core/Fragment"],(e,t,a,o)=>{"use strict";const n=t.valuehelpdialog.ValueHelpRangeOperation;function l(){}l.prototype.openDialog=function(e,t){o.load({id:"ExtendedValueDialogFragment",name:"sap.ushell.components.shell.Settings.userDefaults.view.ExtendedValueDialog",controller:this}).then(o=>{const n=`/${e.parameterName}/valueObject/extendedValue/Ranges`;const l=e.modelBind.extendedModel;const i=l.getProperty(n)||[];let r;let p;if(e.modelBind.isOdata){p=this._getMetadataNameSpace(e.editorMetadata.editorInfo.odataURL);const t=e.modelBind.model.getMetaModel().getODataEntityType(`${p}.${e.editorMetadata.editorInfo.entityName}`);if(t){r=e.modelBind.model.getMetaModel().getODataProperty(t,e.editorMetadata.editorInfo.propertyName)["sap:label"]}}const s={label:e.editorMetadata.displayText||r||e.parameterName,key:e.modelBind.sPropertyName,parameterName:e.parameterName};o.setModel(new a(s));o.setIncludeRangeOperations(this.getListOfSupportedRangeOperations());o.setTokens(this.getTokensToValueHelpDialog(i,e.parameterName));o.setRangeKeyFields([{label:s.label,key:e.parameterName}]);o.attachOk(e=>{t(e);e.getSource().close()});o.open()})};l.prototype.closeValueHelp=function(e){e.getSource().close(e)};l.prototype.afterCloseValueHelp=function(e){e.getSource().destroy()};l.prototype._getMetadataNameSpace=function(e){const t=e.split("/");return t[t.length-1]};l.prototype.getListOfSupportedRangeOperations=function(){const e=Object.keys(n);return e.filter(e=>e!=="StartsWith"&&e!=="EndsWith"&&e!=="Initial")};l.prototype.getTokensToValueHelpDialog=function(t,a){const o=[];let n;t.forEach(t=>{if(t){n={};n.exclude=t.Sign==="E";n.keyField=a;n.operation=t.Option!=="CP"?t.Option:"Contains";n.value1=t.Low;n.value2=t.High;o.push(new e({}).data("range",n))}});return o};return new l});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/userDefaults/controller/UserDefaultsSetting.controller", ["sap/base/Log","sap/base/i18n/Localization","sap/base/util/deepExtend","sap/base/util/deepEqual","sap/m/Button","sap/m/Input","sap/m/library","sap/ui/core/mvc/Controller","sap/ui/comp/smartfield/SmartField","sap/ui/comp/smartfield/SmartLabel","sap/ui/comp/smartform/Group","sap/ui/comp/smartform/GroupElement","sap/ui/comp/smartvariants/PersonalizableInfo","sap/ui/core/Title","sap/ui/model/json/JSONModel","sap/ui/model/odata/v2/ODataModel","sap/ushell/resources","sap/m/MessageBox","./ExtendedValueDialog.controller","sap/ushell/Container"],(e,t,a,r,s,n,o,i,d,l,u,c,m,h,p,f,g,y,P,M)=>{"use strict";const v=o.ButtonType;function b(e,t){if(!(t.editorMetadata&&t.editorMetadata.groupId)){return-1}if(!(e.editorMetadata&&e.editorMetadata.groupId)){return 1}if(e.editorMetadata.groupId<t.editorMetadata.groupId){return-1}if(e.editorMetadata.groupId>t.editorMetadata.groupId){return 1}return 0}function S(e,t){if(!(t.editorMetadata&&t.editorMetadata.parameterIndex)){return-1}if(!(e.editorMetadata&&e.editorMetadata.parameterIndex)){return 1}return e.editorMetadata.parameterIndex-t.editorMetadata.parameterIndex}function D(e,t){const a=b(e,t);if(a===0){return S(e,t)}return a}return i.extend("sap.ushell.components.shell.Settings.userDefaults.controller.UserDefaultsSetting",{onInit:function(){this.oModelRecords={};this.aChangedParamsNames=[];this.oBlockedParameters={};this.aDisplayedUserDefaults=[];this.oDirtyStateModel=new p({isDirty:false,selectedVariant:null});this.getView().setModel(this.oDirtyStateModel,"DirtyState");this.oOriginalParameters={};const t=this.getView();t.setBusy(true);t.setModel(g.i18nModel,"i18n");this.getSystemContextsModel().then(e=>{t.setModel(e,"systemContexts");return this._fillGroups()}).then(this._saveIsSupportedPlatform.bind(this)).then(this._initializeSmartVariantManagement.bind(this)).then(()=>{t.setBusy(false)}).catch(a=>{e.error("Error during UserDefaultsSetting controller initialization",a,"sap.ushell.components.shell.Settings.userDefaults.UserDefaultsSetting");t.setBusy(false)})},getSystemContextsModel:function(){const e=new p({systemContexts:[],selectedKey:""});const t=this._getContentProviderIds();const a=M.getServiceAsync("ClientSideTargetResolution");const r=M.getServiceAsync("UserDefaultParameters");return Promise.all([t,a,r]).then(t=>{const a=t[0];const r=t[1];const s=t[2];if(a.length===0){a.push("")}return Promise.all(a.map(t=>r.getSystemContext(t).then(t=>{const a=e.getProperty("/systemContexts");return s.hasRelevantMaintainableParameters(t).then(e=>{if(e){a.push(t)}})}))).then(()=>{const t=e.getProperty("/systemContexts");if(t.length>0){e.setProperty("/selectedKey",t[0].id)}return e})})},_getContentProviderIds:function(){return M.getServiceAsync("CommonDataModel").then(e=>e.getContentProviderIds()).catch(()=>[""])},handleSystemContextChanged:function(){if(this.oDirtyStateModel.getProperty("/isDirty")){const e=g.i18n.getText("userDefaultsSave");const t=g.i18n.getText("userDefaultsDiscard");y.show(g.i18n.getText("userDefaultsUnsavedChangesMessage"),{title:g.i18n.getText("userDefaultsUnsavedChangesTitle"),actions:[e,t,y.Action.CANCEL],emphasizedAction:e,icon:y.Icon.QUESTION,onClose:function(a){if(a===t){this._fillGroups();this._setDirtyState(false)}else if(a===e){this.onSave();this._fillGroups();this._setDirtyState(false)}else{this.getView().getModel("systemContexts").setProperty("/selectedKey",this.sLastSelectedKey)}}.bind(this)})}else{this._fillGroups()}},_fillGroups:async function(){const e=this.getView().byId("userDefaultsForm");e.removeAllGroups();const t=this.getView().getModel("systemContexts").getProperty("/selectedKey");const r=this.getView().getModel("systemContexts").getProperty("/systemContexts").find(e=>e.id===t);const s=await M.getServiceAsync("UserDefaultParameters");const n=await s.editorGetParameters(r);this.oOriginalParameters=a({},n);this.oModel=new p(n);this.oModel.setDefaultBindingMode("TwoWay");this.getView().setModel(this.oModel,"MdlParameter");const o=await this._getFormattedParameters(this.oModel);const i=this._createContent(o);i.forEach(t=>{e.addGroup(t)})},_getFormattedParameters:function(t){const r=t.getData("/");const s=Object.keys(r).map(s=>{const n=a({},r[s]);n.parameterName=s;n.editorMetadata=n.editorMetadata||{};if(n.editorMetadata.editorInfo&&n.editorMetadata.editorInfo.propertyName){return this._createOdataModelBinding(n,t).then(e=>{n.modelBind=e;const t=e.model?e.model.getMetaModel():undefined;if(t){return t.loaded().then(()=>{const e=t.getObject("/dataServices/schema/0/namespace");const a=t.getODataEntityType(`${e}.${n.editorMetadata.editorInfo.entityName}`);const r=a.property.find(e=>{if(e.name===n.editorMetadata.editorInfo.propertyName){return true}});switch(r.type){case"Edm.DateTime":n.valueObject.value=n.valueObject.value?new Date(n.valueObject.value):null;break;default:n.valueObject.value=n.valueObject.value?n.valueObject.value:"";break}return n})}n.valueObject=a({value:""},n.valueObject);return n}).catch(()=>{e.error(`Metadata loading for parameter ${n.parameterName} failed${JSON.stringify(n.editorMetadata)}`);n.valueObject=a({value:""},n.valueObject);n.modelBind=this._createPlainModelBinding(n,t);this.oBlockedParameters[n.parameterName]=false;return Promise.resolve(n)})}n.valueObject=a({value:""},n.valueObject);n.modelBind=this._createPlainModelBinding(n,t);return Promise.resolve(n)});return Promise.all(s).then(e=>{e.sort(D);this.aDisplayedUserDefaults=e;e.forEach(e=>{e.modelBind.model.setProperty(e.modelBind.sFullPropertyPath,e.valueObject.value);e.modelBind.model.bindTree(e.modelBind.sFullPropertyPath).attachChange(this.storeChangedData.bind(this))});return e})},_createPlainModelBinding:function(e,t){const a=`/${e.parameterName}/valueObject/value`;if(!t.getProperty(`/${e.parameterName}/valueObject`)){t.setProperty(`/${e.parameterName}/valueObject`,{})}const r={isOdata:false,model:t,extendedModel:t,sFullPropertyPath:a,sPropertyName:`{${a}}`};return r},_createOdataModelBinding:function(e,t){const a=e.editorMetadata.editorInfo;const r=this._getODataServiceData(a.odataURL,e);return r.metadataLoaded.then(()=>{const e={isOdata:true,model:r.model,extendedModel:t,sPropertyName:`{${a.propertyName}}`,sFullPropertyPath:`${a.bindingPath}/${a.propertyName}`};return e})},_getODataServiceData:function(e,a){if(!this.oModelRecords[e]){const a=new f(e,{metadataUrlParams:{"sap-documentation":"heading,quickinfo","sap-value-list":"none","sap-lang-cachebuster":t.getLanguageTag().toString()},json:true});a.setDefaultCountMode("None");a.setDefaultBindingMode("TwoWay");this.oModelRecords[e]={attachedListeners:[],model:a,metadataLoaded:new Promise((e,t)=>{a.attachMetadataLoaded(e);a.attachMetadataFailed(t)})}}if(this.oModelRecords[e].attachedListeners.indexOf(a.parameterName)===-1){this.oModelRecords[e].attachedListeners.push(a.parameterName);this.oModelRecords[e].model.attachRequestCompleted(this._overrideOdataModelValue.bind(this,a));this.oBlockedParameters[a.parameterName]=true}return this.oModelRecords[e]},_overrideOdataModelValue:function(e,t){const a=t.getSource();const r=`/${t.getParameter("url").replace(/\?.*/,"")}`;if(e.editorMetadata.editorInfo.bindingPath===r){const t=`${e.editorMetadata.editorInfo.bindingPath}/${e.editorMetadata.editorInfo.propertyName}`;if(a.getProperty(t)!==e.valueObject.value){a.setProperty(t,e.valueObject.value)}this.oBlockedParameters[e.parameterName]=false}},_createContent:function(e){let t="nevermore";let a;const r={};const s=[];for(let n=0;n<e.length;++n){const o=e[n];const i=o.modelBind;if(t!==o.editorMetadata.groupId){a=new u({title:new h({text:o.editorMetadata.groupTitle||undefined})});t=o.editorMetadata.groupId;s.push(a)}const d=this._createGroupElement(o);d.setModel(i.model);if(i.isOdata){const e=o.editorMetadata.editorInfo.odataURL;if(!r[e]){const t=o.editorMetadata.editorInfo.bindingPath;d.bindElement(t);r[e]=o.modelBind.model.getContext(t)}else{d.setBindingContext(r[e])}}a.addGroupElement(d)}return s},_createGroupElement:function(e){let t;const a=new l({});const r=new s({text:"{i18n>userDefaultsExtendedParametersTitle}",tooltip:"{i18n>userDefaultsExtendedParametersTooltip}",visible:!!e.editorMetadata.extendedUsage,type:{parts:[`MdlParameter>/${e.parameterName}/valueObject/extendedValue/Ranges`],formatter:e=>e&&e.length?v.Emphasized:v.Transparent},press:t=>{P.openDialog(e,this.saveExtendedValue.bind(this))}});if(e.modelBind.isOdata&&e.editorMetadata.editorInfo){t=new d({value:e.modelBind.sPropertyName,name:e.parameterName,fieldGroupIds:["UserDefaults"]});a.setLabelFor(t)}else{t=new n({name:e.parameterName,value:e.modelBind.sPropertyName,fieldGroupIds:["UserDefaults"],type:"Text"});t.addAriaLabelledBy(a);a.setText(e.editorMetadata.displayText||e.parameterName);a.setTooltip(e.editorMetadata.description||e.parameterName)}t.attachChange(this.storeChangedData.bind(this));t.attachChange(this._setDirtyState.bind(this,true),this);const o=new c({elements:[t,r],label:a});return o},saveExtendedValue:function(e){const t=e.getSource().getModel().getProperty("/parameterName");const a=this.oModel;const r=e.getParameters().tokens||[];const s=`/${t}/valueObject/extendedValue/Ranges`;const n=r.map(e=>{const t=e.data("range");return{Sign:t.exclude?"E":"I",Option:t.operation!=="Contains"?t.operation:"CP",Low:t.value1,High:t.value2||null}});if(!a.getProperty(`/${t}/valueObject/extendedValue`)){a.setProperty(`/${t}/valueObject/extendedValue`,{})}a.setProperty(s,n);this.aChangedParamsNames.push(t);if(e.getParameter("_tokensHaveChanged")){this._setDirtyState(true)}},_setDirtyState:function(e){this.oDirtyStateModel.setProperty("/isDirty",e);this._setSmartVariantModified(e);if(e){this.sLastSelectedKey=this.getView().getModel("systemContexts").getProperty("/selectedKey")}},_setSelectedVariant:function(e){this.oDirtyStateModel.setProperty("/selectedVariant",e);this.storeChangedData()},storeChangedData:function(){const e=this.aDisplayedUserDefaults||[];for(let t=0;t<e.length;++t){const s=e[t].parameterName;const n=this.oModel.getProperty(`/${s}/valueObject/`);const o=e[t].modelBind;if(!this.oBlockedParameters[s]){const e={value:n&&n.value,extendedValue:n&&n.extendedValue};if(o&&o.model){const t=o.model;const i=o.extendedModel;const d=o.sFullPropertyPath;const l={value:t.getProperty(d)!==""?t.getProperty(d):undefined,extendedValue:i.getProperty(`/${s}/valueObject/extendedValue`)||undefined};if(!r(l,e)){n.value=l.value;if(l.extendedValue){n.extendedValue={};a(n.extendedValue,l.extendedValue)}this.oModel.setProperty(`/${s}/valueObject`,n);this.aChangedParamsNames.push(s)}}}}},onCancel:function(){this._setDirtyState(false);const e=this.aDisplayedUserDefaults;if(this.aChangedParamsNames.length>0){for(let t=0;t<e.length&&this.aChangedParamsNames.length>0;t++){const a=e[t].parameterName;if(this.aChangedParamsNames.indexOf(a)>-1){const r=this.oOriginalParameters[a];const s=e[t];const n=s.modelBind;const o=n.model?n.model.getMetaModel():undefined;if(o){const e=o.getObject("/dataServices/schema/0/namespace");const t=o.getODataEntityType(`${e}.${s.editorMetadata.editorInfo.entityName}`);const a=t.property.find(e=>{if(e.name===s.editorMetadata.editorInfo.propertyName){return true}});switch(a.type){case"Edm.DateTime":n.model.setProperty(n.sFullPropertyPath,new Date(r.valueObject.value)||null);break;default:n.model.setProperty(n.sFullPropertyPath,r.valueObject.value||"");break}}else{n.model.setProperty(n.sFullPropertyPath,r.valueObject.value||"")}if(r.editorMetadata&&r.editorMetadata.extendedUsage){n.extendedModel.setProperty(`/${a}/valueObject/extendedValue`,r.valueObject.extendedValue||{})}}}this.aChangedParamsNames=[]}this._setDefaultVariant()},onSave:function(){this.storeChangedData();this._setDirtyState(false);let e;if(this.aChangedParamsNames.length===0){e=Promise.resolve()}else{e=M.getServiceAsync("ClientSideTargetResolution").then(e=>e.getSystemContext(this.sLastSelectedKey)).then(e=>{const t=this.aChangedParamsNames.sort();this.aChangedParamsNames=[];return this._saveParameterValues(t,e)})}return e.then(this._resetSmartVariantManagement.bind(this)).then(this._setDefaultVariant.bind(this))},_saveParameterValues:function(e,t){const a=[];for(let s=0;s<e.length;s++){const n=e[s];const o=this.oModel.getProperty(`/${n}/valueObject/`);const i=this.oOriginalParameters[n].valueObject;if(!r(i,o)){if(o&&o.value===null||o&&o.value===""){o.value=undefined}if(o&&o.extendedValue&&Array.isArray(o.extendedValue.Ranges)&&o.extendedValue.Ranges.length===0){o.extendedValue=undefined}const e=this._saveParameterValue(n,o,i,t);a.push(e)}}return Promise.all(a)},_saveParameterValue:async function(e,t,a,r){const s=await M.getServiceAsync("UserDefaultParameters");await s.editorSetValue(e,t,r);a.value=t.value},_setSmartVariantModified:function(e){if(!this._bIsSupportedPlatform){return}this.getView().byId("defaultSettingsVariantManagement").currentVariantSetModified(e)},_setDefaultVariant:function(){if(!this._bIsSupportedPlatform){return}const e=this.getView().byId("defaultSettingsVariantManagement");e.setCurrentVariantId(e.getDefaultVariantKey());this._setSelectedVariant(e.getDefaultVariantKey())},_resetSmartVariantManagement:function(){if(!this._bIsSupportedPlatform){return Promise.resolve()}this.getView().byId("defaultSettingsVariantManagement").removeAllPersonalizableControls();return this._initializeSmartVariantManagement()},_initializeSmartVariantManagement:function(){if(!this._bIsSupportedPlatform){return Promise.resolve()}const e=this.getView().byId("defaultSettingsVariantManagement");const t=function(){this._setSelectedVariant(e.getSelectionKey())}.bind(this);return new Promise(a=>{const r=this.getView().byId("userDefaultsForm");const s=new m({type:"wrapper",keyName:"persistencyKey",dataSource:"none",control:r});e.detachSelect(t).detachAfterSave(t).addPersonalizableControl(s).attachSelect(t).attachAfterSave(t).initialise(()=>{e.setVisible(true);a()},r)}).then(t)},_saveIsSupportedPlatform:function(){const e=M.getLogonSystem().getPlatform();this._bIsSupportedPlatform=e!=="cdm";return Promise.resolve(this._bIsSupportedPlatform)},displayDiffText:function(){if(!this._bIsSupportedPlatform){return false}const e=this.getView().byId("defaultSettingsVariantManagement");const t=this.getView().byId("userDefaultsForm");const a=e.getStandardVariantKey();const s=e.getSelectionKey();if(s===a){return false}const n=e.getVariantContent(t,a);const o=e.getVariantContent(t,s);delete o.executeOnSelection;return!r(n,o)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/userLanguageRegion/LanguageRegionSelector.controller", ["sap/base/Log","sap/base/i18n/Formatting","sap/ui/core/Locale","sap/ui/core/LocaleData","sap/ui/core/format/DateFormat","sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ui/performance/Measurement","sap/ushell/Config","sap/ushell/Container"],(e,t,r,n,a,s,o,i,g,l)=>{"use strict";return s.extend("sap.ushell.components.shell.Settings.userLanguageRegion.LanguageRegionSelector",{onInit:function(){this.oUserInfoServicePromise=l.getServiceAsync("UserInfo");this.oUserInfoServicePromise.then(e=>{this.oUser=l.getUser();const s=new r(t.getLanguageTag());const i=n.getInstance(s);let u;let m;let c;let d;let L;const h=l.getRendererInternal("fiori2").getShellConfig().enableSetLanguage||false;const P=this.oUser.isLanguagePersonalized();const p=e.getUserSettingListEditSupported();const f=[];const F=e=>this.oUser.getEditState(e)!==1;const S={preferredLogonLanguage:F("PREFERRED_LOGON_LANGUAGE"),dateFormat:F("DATE_FORMAT"),timeFormat:F("TIME_FORMAT"),numberFormat:F("NUMBER_FORMAT"),timeZone:F("TIME_ZONE")};S.showWarning=Object.values(S).some(e=>e===false);if(p){u=t.getABAPDateFormat();c=t.getABAPTimeFormat();d=this._getABAPNumberFormat();L=this.oUser.getCalendarWeekNumbering?.()||"Default";f.push(this._loadUserSettingList())}else{u=i.getDatePattern("medium");m=i.getTimePattern("medium");c=m.indexOf("H")===-1?"12h":"24h";L="Default"}const T=new o({languageList:null,DateFormatList:null,TimeFormatList:null,NumberFormatList:null,TimeZoneList:null,CalendarWeekNumberingList:null,cuaFlags:S,selectedLanguage:this.oUser.getLanguage(),selectedLanguageText:this.oUser.getLanguageText(),selectedDatePattern:u,selectedTimeFormat:c,selectedNumberFormat:d,selectedTimeZone:this.oUser.getTimeZone(),selectedCalendarWeekNumbering:L,isSettingsLoaded:true,isLanguagePersonalized:P,isEnableSetLanguage:h,isEnableUserProfileSetting:p,isTimeZoneFromServerInUI5:g.last("/core/ui5/timeZoneFromServerInUI5")});T.setSizeLimit(1e3);if(h){f.push(this._loadLanguagesList())}if(f.length>0){this.getView().setBusy(true);return Promise.all(f).then(t=>{const r=p?t[0]:null;let n=null;if(h){n=t.length===1?t[0]:t[1]}if(n?.length>1){T.setProperty("/languageList",n);const e=n.some(e=>e.key==="default");if(!P&&e){T.setProperty("/selectedLanguage","default")}}if(r?.TIME_FORMAT?.length>0){T.setProperty("/TimeFormatList",r.TIME_FORMAT)}if(r?.DATE_FORMAT?.length>0){T.setProperty("/DateFormatList",r.DATE_FORMAT)}if(r?.TIME_ZONE?.length>0){const e=a.getDateTimeWithTimezoneInstance({showDate:false,showTime:false});const t=r.TIME_ZONE.map(t=>{const r=e.format(null,t.description)||t.description;return{description:r,value:t.value}});T.setProperty("/TimeZoneList",t)}if(r?.NUMBER_FORMAT?.length>0){T.setProperty("/NumberFormatList",r.NUMBER_FORMAT)}if(r?.CALENDAR_WEEK_NUMBERING){const t=e.getCalendarWeekNumberingList().map(e=>{e.selected=e.value===T.getProperty("/selectedCalendarWeekNumbering");return e});T.setProperty("/CalendarWeekNumberingList",t)}this.oView.setModel(T);this.getView().setBusy(false)})}this.oView.setModel(T)})},_loadLanguagesList:function(){i.start("FLP:LanguageRegionSelector._getLanguagesList","_getLanguagesList","FLP");return this.oUserInfoServicePromise.then(t=>new Promise(r=>{i.start("FLP:LanguageRegionSelector._getLanguagesList","_getLanguagesList","FLP");t.getLanguageList().done(e=>{i.end("FLP:LanguageRegionSelector._getLanguagesList");r(e)}).fail(t=>{i.end("FLP:LanguageRegionSelector._getLanguagesList");e.error("Failed to load language list.",t,"sap.ushell.components.ushell.settings.userLanguageRegion.LanguageRegionSelector.controller");r(null)})}))},_loadUserSettingList:function(){i.start("FLP:LanguageRegionSelector._loadUserSettingList","_loadUserSettingList","FLP");return this.oUserInfoServicePromise.then(e=>new Promise(t=>{i.start("FLP:LanguageRegionSelector._loadUserSettingList","_loadUserSettingList","FLP");e.getUserSettingList().then(e=>{i.end("FLP:LanguageRegionSelector._loadUserSettingList");t(e)})}))},_resetLanguage:function(){const e=this.oUser.getLanguage();const t=this.getView().getModel();const r=t.getData();const n=r.isLanguagePersonalized?e:"default";t.setProperty("/selectedLanguage",n);this._updateTextFields(e)},onCancel:function(){const e=this.getView().getModel();const t=e.getData();const r=t.languageList;const n=t.isEnableSetLanguage;if(n&&r){this._resetLanguage()}if(t.isEnableUserProfileSetting){this._restoreUserSettingPreferenceValues()}},onSaveSuccess:function(t,r,n){const a={refresh:true};t.resetChangedProperty("dateFormat");t.resetChangedProperty("timeFormat");t.resetChangedProperty("numberFormat");t.resetChangedProperty("timeZone");t.resetChangedProperty("calendarWeekNumbering");if(r){e.debug("[000] onSaveSuccess: oUser.resetChangedPropertyLanguage:","LanguageRegionSelector.controller");t.resetChangedProperty("language");a.obsoleteUrlParams=["sap-language"];a.clearSapUserContextCookie=true}return a},onSave:function(r){const n=this.oUser;const a=this.getView().getModel().getData();const s=a.selectedLanguage;const o=n.getLanguage();const i=s&&s!==(a.isLanguagePersonalized?o:"default");const g=a.isEnableUserProfileSetting;const l=a.isEnableSetLanguage&&a.languageList&&i;let u=false;const m=["DATE_FORMAT","TIME_FORMAT","NUMBER_FORMAT","TIME_ZONE","LANGUAGE","CALENDAR_WEEK_NUMBERING"];e.debug("[000] LanguageRegionSelector:onSave:bUpdateLanguage, bIsEnableSetUserProfileSetting:",l,"LanguageRegionSelector.controller");if(l){e.debug("[000] LanguageRegionSelector:onSave:UserInfo: oUser.setLanguage:",s,"LanguageRegionSelector.controller");n.setLanguage(s)}else{this._resetLanguage()}if(g){if(t.getABAPDateFormat()!==a.selectedDatePattern){u=true;n.setChangedProperties({propertyName:"dateFormat",name:"DATE_FORMAT"},t.getABAPDateFormat(),a.selectedDatePattern)}if(t.getABAPTimeFormat()!==a.selectedTimeFormat){u=true;n.setChangedProperties({propertyName:"timeFormat",name:"TIME_FORMAT"},t.getABAPTimeFormat(),a.selectedTimeFormat)}if(this._getABAPNumberFormat()!==a.selectedNumberFormat){u=true;n.setChangedProperties({propertyName:"numberFormat",name:"NUMBER_FORMAT"},this._getABAPNumberFormat(),a.selectedNumberFormat)}if(!a.selectedTimeZone){this.getView().getModel().setProperty("/selectedTimeZone",this.oUser.getTimeZone())}else if(this.oUser.getTimeZone()!==a.selectedTimeZone){u=true;n.setChangedProperties({propertyName:"timeZone",name:"TIME_ZONE"},this.oUser.getTimeZone(),a.selectedTimeZone)}if(t.getCalendarWeekNumbering()!==a.selectedCalendarWeekNumbering){u=true;n.setChangedProperties({propertyName:"calendarWeekNumbering",name:"CALENDAR_WEEK_NUMBERING"},t.getCalendarWeekNumbering(),a.selectedCalendarWeekNumbering.trim());t.setCalendarWeekNumbering(a.selectedCalendarWeekNumbering)}}if(l||u){return r().then(()=>{e.debug("[000] onSave:fnUpdateUserPreferences","LanguageRegionSelector.controller");return this.onSaveSuccess(n,l,s)}).catch(t=>{e.debug("[000] onSave:catch:errorMessage",t,"LanguageRegionSelector.controller");const r=m.some(e=>t.message.includes(e));if(!r){return this.onSaveSuccess(n,l,s)}if(l){n.setLanguage(o);n.resetChangedProperty("language");this._updateTextFields(o)}n.resetChangedProperty("dateFormat");n.resetChangedProperty("timeFormat");n.resetChangedProperty("numberFormat");n.resetChangedProperty("timeZone");n.resetChangedProperty("calendarWeekNumbering");if(a.isEnableUserProfileSetting){this._restoreUserSettingPreferenceValues()}e.error("Failed to save Language and Region Settings",t,"sap.ushell.components.ushell.settings.userLanguageRegion.LanguageRegionSelector.controller");throw t})}return Promise.resolve()},_restoreUserSettingPreferenceValues:function(){const e=this.getView().getModel();e.setProperty("/selectedDatePattern",t.getABAPDateFormat());e.setProperty("/selectedTimeFormat",t.getABAPTimeFormat());e.setProperty("/selectedNumberFormat",this._getABAPNumberFormat());e.setProperty("/selectedTimeZone",this.oUser.getTimeZone());e.setProperty("/selectedCalendarWeekNumbering",t.getCalendarWeekNumbering());const r=e.getProperty("/CalendarWeekNumberingList").map(e=>{e.selected=e.value===t.getCalendarWeekNumbering();return e});e.setProperty("/CalendarWeekNumberingList",r)},_handleLanguageSelectChange:function(e){const t=e.getSource().getSelectedKey();if(t){this._updateTextFields(t)}},_updateTextFields:function(e){let a;if(e===this.oUser.getLanguage()){a=new r(t.getLanguageTag())}else{a=new r(e)}const s=this.getView().getModel();const o=n.getInstance(a);const i=o.getDatePattern("medium");const g=o.getTimePattern("medium");const l=g.indexOf("H")===-1?"12h":"24h";if(!s.getData().isEnableUserProfileSetting){s.setProperty("/selectedDatePattern",i);s.setProperty("/selectedTimeFormat",l)}},_getABAPNumberFormat:function(){const e=t.getABAPNumberFormat();if(e){return e.trim()}},_handleCalendarWeekNumberingChange:function(e){const t=e.getSource().getSelectedItem().getCustomData()[0].getValue();this.getView().getModel().setProperty("/selectedCalendarWeekNumbering",t)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/userLanguageRegion/UserLanguageRegionEntry", ["sap/base/Log","sap/ui/core/mvc/XMLView","sap/ushell/resources","sap/ushell/Container"],(e,n,t,o)=>{"use strict";function a(){let a;const r={id:"language",entryHelpID:"language",title:t.i18n.getText("languageAndRegionTit"),valueResult:null,contentResult:null,icon:"sap-icon://globe",valueArgument:function(){let e=o.getUser().getLanguageText();if(e.indexOf("-")>-1){e=e.replace("-"," (").concat(")")}return Promise.resolve(e)},contentFunc:function(){return n.create({id:"languageRegionSelector",viewName:"sap.ushell.components.shell.Settings.userLanguageRegion.LanguageRegionSelector"}).then(e=>{const n=e.getController();a=e;return n.oUserInfoServicePromise.then(()=>a)})},onSave:function(n){if(a){return a.getController().onSave(n)}e.warning("Save operation for language settings was not executed, because the languageRegionSelector view was not initialized");return Promise.resolve()},onCancel:function(){if(a){a.getController().onCancel();return}e.warning("Cancel operation for language settings was not executed, because the languageRegionSelector view was not initialized")}};return r}return{getEntry:a}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/ShellBar/Component", ["sap/ui/core/Element","sap/ui/core/UIComponent","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ushell/Container","sap/ushell/EventHub","sap/ushell/renderer/ShellLayout","sap/ushell/utils"],(e,t,n,i,s,o,a,h)=>{"use strict";const r="sapUshellShellShowSearchOverlay";let c=0;const d={COL:"COL",EXP:"EXP",EXP_S:"EXP_S"};return t.extend("sap.ushell.components.shell.ShellBar.Component",{metadata:{manifest:"json",interfaces:["sap.ui.core.IAsyncContentCreation"],properties:{searchState:{type:"string",defaultValue:"COL"}},events:{searchSizeChanged:{},searchButtonPress:{}},associations:{appTitle:{type:"sap.ui.core.Control"}}},init:function(){t.prototype.init.apply(this,arguments);const e=new i({logo:{},searchField:{show:false}});this.setModel(e);this.FLPRangeSet={name:"Ushell",rangeBorders:[600,1024,1440,1920],rangeNames:["Phone","Tablet","Desktop","LargeDesktop","ExtraLargeDesktop"]};n.media.initRangeSet(this.FLPRangeSet.name,this.FLPRangeSet.rangeBorders,"px",this.FLPRangeSet.rangeNames);const s=a.hasAdjacentSideContentBeforeMain();h.applySideContent.call(this,s);a.attachAdjacentSideContentBeforeMainChanged(h.handleSideContent.bind(this),this)},setSearch:function(e){this.rootControlLoaded().then(t=>{const n=t.byId("shellBar");n.destroySearchField();n.addSearchField(e)})},setSearchState:function(e,t,n){if(d[e]&&this.getSearchState()!==e){if(typeof t==="boolean"){n=t;t=undefined}this.setProperty("searchState",e,false);const i=e!=="COL";this.getModel().setProperty("/searchField/show",i);document.body.classList.toggle(r,i&&n);c=i?t||35:0}},setFocusToLogo:function(){this.rootControlLoaded().then(e=>{e.byId("shellBar").getBranding()[0]?.focus()})},setFocusToAppFinderButton:function(){this.rootControlLoaded().then(t=>{const n=s.getRendererInternal("fiori2").getShellConfig();if(n.moveAppFinderActionToShellHeader){e.getElementById("openCatalogBtn")?.focus()}else{o.emit("showUserActionsMenu",Date.now());window.setTimeout(()=>{const t=e.getElementById("sapUshellUserActionsMenuPopover").getMenuItems();t.forEach(e=>{if(e.getId().includes("openCatalogBtn")){e.focus()}})},300)}})},isPhoneState:function(){const e=n.media.getCurrentRange(n.media.RANGESETS.SAP_STANDARD).name;const t=this.getDomRef().getBoundingClientRect().width>this.getSearchWidth();return n.system.phone||e==="Phone"||!t},getSearchWidth:function(){return c},isLargeState:function(){return n.media.getCurrentRange(this.FLPRangeSet.name).from===this.FLPRangeSet.rangeBorders[2]},isExtraLargeState:function(){return n.media.getCurrentRange(this.FLPRangeSet.name).from===this.FLPRangeSet.rangeBorders[3]},getNotificationsBtnDomRef:function(){return this.getRootControl().byId("shellBar").getNotificationsDomRef()},getProductSwitchDomRef:function(){return this.getRootControl().byId("shellBar").getProductSwitchDomRef()},enhanceComponentContainerAPI:function(e){e.setSearch=this.setSearch.bind(this);e.setSearchState=this.setSearchState.bind(this);e.getSearchState=this.getSearchState.bind(this);e.isPhoneState=this.isPhoneState.bind(this);e.getSearchWidth=this.getSearchWidth.bind(this);e.attachSearchSizeChanged=this.attachSearchSizeChanged.bind(this);e.attachSearchButtonPress=this.attachSearchButtonPress.bind(this);e.setAppTitle=this.setAppTitle.bind(this);e.getAppTitle=this.getAppTitle.bind(this);e.isLargeState=this.isLargeState.bind(this);e.isExtraLargeState=this.isExtraLargeState.bind(this);e.getNotificationsBtnDomRef=this.getNotificationsBtnDomRef.bind(this);e.getProductSwitchDomRef=this.getProductSwitchDomRef.bind(this);e.setFocusToLogo=this.setFocusToLogo.bind(this);e.setFocusToAppFinderButton=this.setFocusToAppFinderButton.bind(this)},exit:function(){a.detachAdjacentSideContentBeforeMainChanged(h.handleSideContent.bind(this),this)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/ShellBar/controller/ShellBar.controller", ["sap/ui/Device","sap/ui/core/Element","sap/ui/core/EventBus","sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ui/thirdparty/hasher","sap/ushell/Config","sap/ushell/Container","sap/ushell/EventHub","sap/ushell/api/NewExperience","sap/ushell/gen/ui5/webcomponents-fiori/dist/ShellBarItem","sap/ushell/gen/ui5/webcomponents-fiori/dist/ShellBarSpacer","sap/ushell/gen/ui5/webcomponents/dist/Button","sap/ushell/state/BindingHelper","sap/ushell/state/modules/BackNavigation","sap/ushell/state/ShellModel","sap/ushell/ui/shell/ShellAppTitle","sap/ushell/utils"],(e,t,i,n,o,s,l,a,r,c,h,u,d,p,f,g,m,C)=>{"use strict";const T=["NOTIFICATIONSCOUNTBUTTON","PRODUCTSWITCHBTN","USERACTIONSMENUHEADERBUTTON","SF"];return n.extend("sap.ushell.components.shell.ShellBar.controller.ShellBar",{_aDoables:[],onInit:function(){p.overrideUpdateAggregation(this.byId("shellBar"));this._aDoables.push(l.on("/core/shellHeader/homeUri").do(this._updateHomeUri.bind(this)));this._updateHomeUri(l.last("/core/shellHeader/homeUri"));this.getView().setModel(this.getConfigurationModel(),"config");this.getView().setModel(g.getConfigModel(),"shellConfig");this.prepareShellAppTitle();this._aDoables.push(r.on("navigateBack").do(this.pressNavBackButton.bind(this)));this._aDoables.push(r.on("navigateFromShellApplicationNavigationMenu").do(this.navigateFromShellApplicationNavigationMenu.bind(this)));e.resize.attachHandler(this.handleResize.bind(this))},handleResize:function(e){if(this._iDebounceTimerHandleResize){clearTimeout(this._iDebounceTimerHandleResize)}this._iDebounceTimerHandleResize=setTimeout(()=>{const e=this.byId("shellBar");e.getBinding("content").refresh(true)},400)},getConfigurationModel:function(){const e=new o({windowTitleExtension:l.last("/core/shell/windowTitleExtension")||""});return e},onContentItemVisibilityChange:function(e){if(this._iDebounceTimerContentItemVisibilityChange){clearTimeout(this._iDebounceTimerContentItemVisibilityChange)}this._iDebounceTimerContentItemVisibilityChange=setTimeout(()=>{const i=e.getParameter("items");const n=c.getShellHeaderControl()?.getId();const o=i.reduce((e,t)=>{const i=t.getId();if(["shellAppTitle",n].includes(i)){e[i]=t}return e},{});if(o.shellAppTitle){o.shellAppTitle.setShowAppTitle(false)}const s=t.getElementById(this.getOwnerComponent().getAppTitle());const l=o[n];if(l){s.setNewExperienceControl(l)}else if(c.getShellHeaderControl()?.getParent()===this.byId("shellBar")){s.setNewExperienceControl(null)}},400)},onSearchButtonClick:function(e){i.getInstance().subscribeOnce("shell","searchCompLoaded",()=>{this.getOwnerComponent().fireSearchButtonPress(e)});this.getOwnerComponent().fireSearchButtonPress(e);t.getElementById("newCEPShellBarSearch")?.fireSearch()},_delegateHeadEndItemClick:function(e){const i=g.getModel().getProperty("/header/headEndItems");const n=e.toUpperCase();const o=i.find(e=>e.toUpperCase()===n);if(!o){return}const s=t.getElementById(o);if(!s){return}if(typeof s.firePress==="function"){s.firePress()}else if(typeof s.fireClick==="function"){s.fireClick()}},onProfileClick:function(){return this._delegateHeadEndItemClick("USERACTIONSMENUHEADERBUTTON")},isHeadEndItem:function(e){const i=e.toUpperCase();if(T.includes(i)){return false}const n=t.getElementById(e);return n instanceof h},isContentItem:function(e){const i=e.toUpperCase();if(T.includes(i)){return false}const n=t.getElementById(e);return!(n instanceof h)},isProfileMenu:function(e){return e==="USERACTIONSMENUHEADERBUTTON"},hasNotifications:function(e){const i=e.some(e=>e.toUpperCase()==="NOTIFICATIONSCOUNTBUTTON");if(i){const e=t.getElementById("NotificationsCountButton").getModel("configModel");this.getView().setModel(e,"configModel")}return i},onNotificationsClick:function(){return this._delegateHeadEndItemClick("NOTIFICATIONSCOUNTBUTTON")},hasProducts:function(e){return e.some(e=>e.toUpperCase()==="PRODUCTSWITCHBTN")},onProductSwitchClick:function(){return this._delegateHeadEndItemClick("PRODUCTSWITCHBTN")},prepareShellAppTitle:function(){const e=new u({id:"shellBarSpacer"});const t=new m({id:"shellAppTitle",text:"{shellModel>/application/title}",title:"{shellModel>/application/title}",icon:"{shellModel>/application/icon}",subTitle:"{shellModel>/application/subTitle}"});t.data("hide-order","9999",true);this.getOwnerComponent().setAppTitle(t);a.getRendererInternal("fiori2").addHeaderEndItem({id:t.getId()},true,false);a.getRendererInternal("fiori2").addHeaderEndItem({id:e.getId()},true,false)},_updateHomeUri:function(e){const t=this.getOwnerComponent().getModel();t.setProperty("/logo/homeUri",e);t.setProperty("/logo/isRootIntent",C.isRootIntent(e))},pressNavBackButton:async function(){r.emit("showUserActionsMenu",false);f.navigateBack()},navigateFromShellApplicationNavigationMenu:function(e){if(s.getHash()!==e.substr(1)){r.emit("centerViewPort",Date.now());s.setHash(e)}const i=t.getElementById("shellAppTitle");if(i){i.close()}},onSearchFieldToggle:function(){const e=t.getElementById("newCEPShellBarSearch");if(e){const t=this.getOwnerComponent().getModel().getProperty("/searchField/show");if(!t&&e.getValue()){e.setValue("")}}},onExit:function(){this._aDoables.forEach(e=>{e.off()});this._aDoables=[]}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/SideNavigation/Component", ["sap/m/library","sap/m/VBox","sap/ui/core/ComponentContainer","sap/ui/core/Fragment","sap/ui/core/UIComponent","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ushell/Config","sap/ushell/Container","sap/ushell/state/ShellModel","sap/ushell/EventHub"],(e,t,o,i,n,a,s,r,d,h,p)=>{"use strict";const g=e.FlexRendertype;const l=e.FlexAlignItems;return n.extend("sap.ushell.components.shell.SideNavigation.Component",{metadata:{manifest:"json",library:"sap.ushell",interfaces:["sap.ui.core.IAsyncContentCreation"]},init:function(){n.prototype.init.apply(this,arguments);this.sSideNavigationMode=r.last("/core/sideNavigation/mode");this._oSideNavigationComponentContainer=new o({id:this.createId("SideNavigationComponentContainer"),height:"100%",component:this});this._oDockedMainLayout=new t({id:this.createId("mainLayout"),renderType:g.Bare,alignItems:l.Start,height:"100%"});d.getRendererInternal().setSideNavigation(this._oDockedMainLayout);this._addHamburgerButton();const e=new s({selectedKey:"NONE",enableSideNavigation:true,expanded:true,renderMode:this.sSideNavigationMode});r.on("/core/sideNavigation/mode").do(this._handleRenderModeChange.bind(this));a.resize.attachHandler(this._handleRenderModeChange.bind(this));this.setModel(e,"viewConfiguration");this._handleRenderModeChange(true);this.setModel(h.getModel(),"shellModel")},_handleRenderModeChange:function(e){const t=this.getModel("viewConfiguration");let o=r.last("/core/sideNavigation/mode");if(a.media.getCurrentRange(a.media.RANGESETS.SAP_STANDARD).name!=="Desktop"){o="Popover";t.setProperty("/expanded",true)}e=e??this.sSideNavigationMode!==o;this.sSideNavigationMode=o;t.setProperty("/renderMode",o);if(e){this.rootControlLoaded().then(()=>{p.emit("sideNavigationModeChanged",o);if(o==="Docked"){this._oDockedMainLayout.addItem(this._oSideNavigationComponentContainer);this.popoverClose()}else{this._getPopover().then(e=>{e.addContent(this._oSideNavigationComponentContainer)})}})}},_addHamburgerButton:async function(){this.headerHamburgerButtonItemStart=await this._hamburgerButtonFactory();this.headerHamburgerButtonItemStart.showOnHome();this.headerHamburgerButtonItemStart.showForAllApps()},toggleSideNavigationExpansion:function(e){const t=this.getModel("viewConfiguration");if(e===undefined){e=!t.getProperty("/expanded")}t.setProperty("/expanded",!!e)},_getPopover:function(){if(!this._pPopover){this._pPopover=i.load({id:this.createId("sideNavigationPopover"),name:"sap.ushell.components.shell.SideNavigation.fragment.Popover"})}return this._pPopover},onSideNavigationTogglePress:async function(e){switch(this.sSideNavigationMode){case"Docked":this.toggleSideNavigationExpansion();this.rootControlLoaded().then(e=>{const t=e.byId("navContainer");if(t.getCurrentPage()!=="sideNavigation"){t.to(e.byId("sideNavigation"))}});break;case"Popover":const t=e.getSource();if(!this._pPopover){this._getPopover().then(e=>{e.addContent(this._oSideNavigationComponentContainer);this.getModel("viewConfiguration").setProperty("/popover",e);return e})}this._pPopover.then(e=>{if(e.isOpen()){e.close()}else{e.openBy(t)}});break;default:throw new Error(`Unhandled side navigation mode: ${this.sSideNavigationMode}`)}},popoverOpen:function(){this._pPopover?.then(async e=>{e.openBy(await this.headerHamburgerButtonItemStart.getControl())})},popoverClose:function(){this._pPopover?.then(e=>{e.close()})},_hamburgerButtonFactory:async function(){const e=await d.getServiceAsync("FrameBoundExtension");const t=await e.createHeaderItem({id:"sideMenuExpandCollapseBtn",ariaHaspopup:"dialog",icon:"sap-icon://menu2",press:this.onSideNavigationTogglePress.bind(this),tooltip:"{= ${viewConfiguration>/renderMode} === 'Popover' ? ${i18n>ShellBar.SideNavigation.Button.Open.Tooltip}"+" : (${viewConfiguration>/expanded} ? ${i18n>ShellBar.SideNavigation.Button.Collapse.Tooltip} : ${i18n>ShellBar.SideNavigation.Button.Expand.Tooltip})}"},{position:"begin"});const o=await t.getControl();o.setModel(this.getModel("i18n"),"i18n");o.setModel(this.getModel("viewConfiguration"),"viewConfiguration");return t},exit:function(){this._oSideNavigationComponentContainer?.setComponent(undefined);this._oSideNavigationComponentContainer?.destroy();this._oDockedMainLayout?.destroy()}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/SideNavigation/controller/SideNavigation.controller", ["sap/base/Log","sap/ui/core/EventBus","sap/ui/core/mvc/Controller","sap/ushell/components/shell/SideNavigation/interface/ListProviderAPI","sap/ushell/Config","sap/ushell/Container","sap/ushell/EventHub","sap/ushell/utils"],(e,t,i,n,o,a,s,r)=>{"use strict";const h="NONE";return i.extend("sap.ushell.components.shell.SideNavigation.controller.SideNavigation",{_aDoables:[],onInit:function(){const e=o.on("/core/sideNavigation/navigationListProvider").do(e=>{this.pNavigationListProvider=this._initNavigationListProvider("/core/sideNavigation/navigationListProvider");this.selectIndexAfterRouteChange()});const i=o.on("/core/sideNavigation/fixedNavigationListProvider").do(e=>{this._initNavigationListProvider("/core/sideNavigation/fixedNavigationListProvider","fixedItem")});this._aDoables.push(e);this._aDoables.push(i);this.oContainerRouter=a.getRendererInternal().getRouter();this.oContainerRouter.getRoute("home").attachMatched(this.selectIndexAfterRouteChange,this);this.oContainerRouter.getRoute("openFLPPage").attachMatched(this.selectIndexAfterRouteChange,this);this.oContainerRouter.getRoute("openWorkPage").attachMatched(this.selectIndexAfterRouteChange,this);this.oEnableMenuBarNavigationListener=s.on("enableMenuBarNavigation").do(e=>this.onEnableSideNavigation(e));t.getInstance().subscribe("sap.ushell","appOpened",this.selectIndexAfterRouteChange,this)},_initNavigationListProvider:async function(e,t){const i=this.byId("sideNavigation");const a=this.byId("navContainer");const s=o.last(`${e}/modulePath`);const h=this.getOwnerComponent();if(s){let c;try{c=JSON.parse(o.last(`${e}/configuration`))}catch(e){c={}}const l=new n(c,a,i,h,this);const[d]=await r.requireAsync([s]);const g=new d(l);const u=await g.getRootItem();if(t==="fixedItem"){i.setFixedItem(u)}else{i.setItem(u)}return g}},onEnableSideNavigation:function(e){this.getView().getModel("viewConfiguration").setProperty("/enableSideNavigation",e)},selectIndexAfterRouteChange:async function(){const e=this.getOwnerComponent().getModel("viewConfiguration");const t=await this.pNavigationListProvider;const i=await t.findSelectedKey();setTimeout(()=>{if(i){e.setProperty("/selectedKey",i)}else{e.setProperty("/selectedKey",h);this.byId("sideNavigation").setSelectedItem(null)}},0)},onExit:function(){this.oEnableMenuBarNavigationListener.off();t.getInstance().unsubscribe("sap.ushell","appOpened",this.selectIndexAfterRouteChange,this);this._aDoables.forEach(e=>{e.off()});this._aDoables=[];const i=a.getRendererInternal().getRouter();if(!i){return}function n(e){const t=i.getRoute(e);if(t){t.detachMatched(this.selectIndexAfterRouteChange,this)}}try{n.call(this,"home");n.call(this,"openFLPPage");n.call(this,"openWorkPage")}catch(t){e.error("Error detaching route matched event listeners",t)}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/SideNavigation/interface/ListProviderAPI", ["sap/base/util/ObjectPath","sap/ushell/components/shell/SideNavigation/interface/NavContainer","sap/ushell/modules/NavigationMenu/ListProviderAPI"],(e,o,t)=>{"use strict";class n extends t{#e;#o;#t;#n;constructor(e,t,n,i,a){super();this.#e=e;this.#o=new o(t,n);this.#t=i;this.#n=a}getConfigValue(o){return e.get(o,this.#e)}getNavContainerFacade(){return this.#o}async updateSelectedKey(){await this.#n.selectIndexAfterRouteChange()}openSideNavigation(){this.#t.popoverOpen()}closeSideNavigation(){this.#t.popoverClose()}expandSideNavigation(){this.#t.toggleSideNavigationExpansion(true)}collapseSideNavigation(){this.#t.toggleSideNavigationExpansion(false)}}return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/SideNavigation/interface/NavContainer", ["sap/ushell/modules/NavigationMenu/NavContainer"],o=>{"use strict";class t extends o{#o;#t;constructor(o,t){super();this.#o=o;this.#t=t}add(o){this.#o.addPage(o)}to(o){this.#o.to(o)}toRoot(){this.#o.to(this.#t)}}return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/SideNavigation/modules/AllSpaces", ["sap/tnt/NavigationListItem","sap/ui/core/CustomData","sap/ui/core/Fragment","sap/ui/core/Component","sap/ushell/Container"],(e,a,t,n,o)=>{"use strict";class s{#e;constructor(s){this.oSideNavAPI=s;if(!this.#e){const e=t.load({id:"AllSpaces",name:"sap.ushell.components.shell.SideNavigation.fragment.AllSpaces",controller:this});const a=n.create({name:"sap.ushell.components.shell.NavigationBarMenu",componentData:{renderType:"Menu"}});this.#e=Promise.all([e,a]).then(async e=>{const[a,n]=[...e];t.byId("AllSpaces","NavigationBarMenuComponentContainer").setComponent(n);s.getNavContainerFacade().add(a);const i=await o.getServiceAsync("Menu");const l=await i.getMenuModel();a.setModel(l,"spaces");return a})}this.oRootItem=new e({text:"{i18n>SideNavigation.Item.AllSpaces.Title}",enabled:"{viewConfiguration>/enableSideNavigation}",customData:[new a({key:"help-id",value:"MenuEntry-All-Spaces",writeToDom:true})],icon:"sap-icon://BusinessSuiteInAppSymbols/icon-all-spaces-pin",selectable:false,press:async()=>{s.getNavContainerFacade().to(await this.#e)}})}async getRootItem(){return this.oRootItem}onPressNavigateBackToSideNav(){this.oSideNavAPI.getNavContainerFacade().toRoot()}}return s},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/SideNavigation/modules/AppFinder", ["sap/tnt/NavigationListItem","sap/ui/core/CustomData"],(e,t)=>{"use strict";class i{constructor(){this.oRootItem=new e({text:"{i18n>SideNavigation.Item.AppFinder.Title}",enabled:"{viewConfiguration>/enableSideNavigation}",customData:[new t({key:"help-id",value:"MenuEntry-AppFinder",writeToDom:true})],href:"#Shell-appfinder",icon:"sap-icon://display"})}async getRootItem(){return this.oRootItem}}return i},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/SideNavigation/modules/Favorites", ["sap/m/GenericTile","sap/tnt/NavigationListGroup","sap/tnt/NavigationListItem","sap/ui/core/ComponentContainer","sap/ui/core/CustomData","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/json/JSONModel","sap/ushell/Config","sap/ushell/Container","sap/ushell/components/shell/SideNavigation/modules/NavigationHelper","sap/ui/model/resource/ResourceModel","sap/base/i18n/Localization"],(e,t,i,s,a,o,n,r,l,d,c,u,p)=>{"use strict";class g{#e;#t;#i;#s;#a={};#o;constructor(e){this.#o=new u({bundleUrl:sap.ui.require.toUrl("sap/ushell/components/shell/SideNavigation/resources/resources.properties"),bundleLocale:p.getLanguage(),async:true});this.#e=e;this.#i=new t({text:"{i18n>SideNavigation.Item.Favorites.Title}",enabled:"{viewConfiguration>/enableSideNavigation}",items:{path:"favorites>/",key:"{favorites>id}",factory:this.#n.bind(this)},customData:[new a({key:"help-id",value:"MenuEntry-Favorites",writeToDom:true})]});this.#t=new Promise((e,t)=>{this.#r(e,t)});this.#s=new c}async getRootItem(){return this.#t}async onItemPressed(e){const t=e.getSource().getBindingContext("favorites").getProperty();if(!t.vizType){return}const i=this.#a[t.id];if(i){await i.loaded();this.#l(i.getContent())?.firePress()}else if(t.targetURL&&t.target?.type==="URL"){this.#s.navigate({target:{url:t.targetURL},type:"URL"})}else if(t.targetURL&&t.target?.semanticObject&&t.target?.action){this.#s.navigate({target:{shellHash:t.targetURL},type:"IBN"})}this.#e.closeSideNavigation()}async#r(e,t){const i=await d.getServiceAsync("Pages");const s=l.last("/core/spaces/myHome/myHomePageId");if(!s){t(new Error("MyHome pageId is not defined"));return}const a=await i.loadPage(s);if(!a){t(new Error("MyHome page not loaded"));return}const o=i.getModel();const n=new r([]);o.attachEvent("dataChange",()=>{this.#d(n,s)});this.#i.setModel(n,"favorites");await this.#d(n,s);e(this.#i)}async#d(e,t){const i=await d.getServiceAsync("Pages");const s=await i.loadPage(t);const a=i.getModel();const o=a.getProperty(`${s}/sections`)||[];const n=[];let r;const l=e.getProperty("/");const c=l.reduce((e,t)=>{e[t.id]=t.expanded;return e},{});o.forEach(e=>{if(e.default){r=e;return}const t=e.visualizations;if(t.length>0){this.#c(t);n.push({id:e.id,title:e.title,visualizations:t,expanded:!!c[e.id]})}});const u=(await this.#o.getResourceBundle()).getText("SideNavigation.Item.Favorites.AddApps");n.push({id:"addAppsToFavoritesFolder",title:u,vizType:"sap.ushell.StaticAppLauncher",targetURL:"#Shell-appfinder"});if(r?.visualizations?.length>0){this.#c(r.visualizations);n.splice(0,0,...r.visualizations)}e.setProperty("/",n)}#c(e){d.getServiceAsync("VisualizationInstantiation").then(t=>{e.forEach(e=>{if(e.vizType?.startsWith("X-SAP-UI2-CHIP:SSB")&&!this.#a[e.id]){const i=t.instantiateVisualization(e);i.setActive(true);i.loaded().then(()=>{const t=this.#l(i.getContent())?.getHeader();if(!e.title&&t){const i=this.#i.getModel("favorites");const s=i.getProperty("/");for(let a=0;a<s.length;a++){const o=s[a];if(o.id===e.id){i.setProperty(`/${a}/title`,t);i.setProperty(`/${a}/targetURL`,"")}if(Array.isArray(o.visualizations)){for(let s=0;s<o.visualizations.length;s++){const n=o.visualizations[s];if(n.id===e.id){i.setProperty(`/${a}/visualizations/${s}/title`,t);i.setProperty(`/${a}/visualizations/${s}/targetURL`,"")}}}}}});this.#a[e.id]=i}})})}#l(t){if(!t){return null}if(t instanceof e){return t}else if(t instanceof s){t=t.getComponentInstance().getRootControl()}const i=t.getMetadata();const a=i.getDefaultAggregation()||null;const o=a?a?.name:"content";const n=o?t.getAggregation(o):null;const r=Array.isArray(n)?n[0]:n;if(!r){return null}return this.#l(r)}#n(e){return new i(e,{key:"{favorites>id}",text:"{= !%{favorites>vizType} && %{favorites>title} === '' ? %{i18n>SideNavigation.Item.Favorites.UntitledFolder} : %{favorites>title} }",enabled:"{viewConfiguration>/enableSideNavigation}",expanded:"{favorites>expanded}",icon:"{= !%{favorites>vizType} ? 'sap-icon://folder' : '' }",href:"{favorites>targetURL}",selectable:false,visible:{path:"favorites>visualizations",formatter:e=>e?.some(e=>!!e.title)},items:{path:"favorites>visualizations",template:new i({key:"{favorites>id}",text:"{favorites>title}",enabled:"{viewConfiguration>/enableSideNavigation}",href:"{favorites>targetURL}",selectable:false,press:this.onItemPressed.bind(this)}),filters:new o("title",n.NE,"")},press:this.onItemPressed.bind(this)})}}return g},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/SideNavigation/modules/GenericFixedNavigationListProvider", ["sap/base/Log","sap/tnt/NavigationList","sap/ui/model/json/JSONModel","sap/ui/model/Sorter","sap/ushell/modules/NavigationMenu/ListProvider","sap/ushell/utils"],(e,t,i,o,s,a)=>{"use strict";class l extends s{constructor(e){super(e);this.oSideNavAPI=e;this.oRootItem=new t({items:{path:"/fixedItems",sorter:new o({path:"scale"}),factory:this.#e.bind(this)}});this.#t()}async getRootItem(){if(this.oSideNavAPI.getConfigValue("spaces.personalization.enabled")||this.oSideNavAPI.getConfigValue("allApps.enabled")){return this.oRootItem}return null}async#t(){this.oChildItems={};const t=new i({fixedItems:[]});this.oRootItem.setModel(t);if(this.oSideNavAPI.getConfigValue("spaces.personalization.enabled")){try{const[e]=await a.requireAsync(["sap/ushell/components/shell/SideNavigation/modules/AllSpaces"]);const t=new e(this.oSideNavAPI);const i=await t.getRootItem();this.oChildItems.allSpaces=i;this.#i({key:"allSpaces",scale:1})}catch(t){e.error("Error loading AllSpaces module:",t,"SideNavigation")}}if(this.oSideNavAPI.getConfigValue("allApps.enabled")){try{const[e]=await a.requireAsync(["sap/ushell/components/shell/SideNavigation/modules/AppFinder"]);const t=new e(this.oSideNavAPI);const i=await t.getRootItem();this.oChildItems.appFinder=i;this.#i({key:"appFinder",scale:2})}catch(t){e.error("Error loading AppFinder module:",t,"SideNavigation")}}}#i(e){const t="/fixedItems";const i=this.oRootItem.getModel();const o=i.getObject(t);o.push(e);i.setProperty(t,o)}#o(e){return this.oChildItems[e].clone()}#e(e,t){return this.#o(t.getProperty("key"))}}return l});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/SideNavigation/modules/GenericNavigationListProvider", ["sap/base/Log","sap/tnt/NavigationList","sap/ushell/Config","sap/ushell/modules/NavigationMenu/ListProvider","sap/ushell/utils"],(e,t,i,o,s)=>{"use strict";class a extends o{#e;#t;#i;#o;#s;#a;#n=Promise.withResolvers();constructor(e){super(e);this.#e=e;this.#t=new t;this.#r().finally(this.#n.resolve)}#d(){return this.#n.promise}async getRootItem(){await this.#d();return this.#t}async findSelectedKey(){await this.#d();let e=await(this.#i?.findSelectedKey());if(!e){e=await(this.#a?.findSelectedKey())}return e}async#r(){this.oChildItems={};if(i.last("/core/spaces/myHome/userEnabled")){try{const[e]=await s.requireAsync(["sap/ushell/components/shell/SideNavigation/modules/MyHome"]);this.#i=new e(this.#e);const t=await this.#i.getRootItem();this.oChildItems.myHome=t;this.#h()}catch(t){e.error("Error loading MyHome module:",t,"SideNavigation")}}if(this.#e.getConfigValue("recentActivity.enabled")){try{const[e]=await s.requireAsync(["sap/ushell/components/shell/SideNavigation/modules/RecentActivity"]);this.#o=new e(this.#e);const t=await this.#o.getRootItem();this.oChildItems.recentActivity=t;this.#h()}catch(t){e.error("Error loading RecentActivity module:",t,"SideNavigation")}}if(this.#e.getConfigValue("favorites.enabled")){try{const[e]=await s.requireAsync(["sap/ushell/components/shell/SideNavigation/modules/Favorites"]);this.#s=new e(this.#e);const t=await this.#s.getRootItem();this.oChildItems.favorites=t;this.#h()}catch(t){e.error("Error loading Favorites module:",t,"SideNavigation")}}if(this.#e.getConfigValue("spaces.enabled")){try{const[e]=await s.requireAsync(["sap/ushell/components/shell/SideNavigation/modules/Spaces"]);this.#a=new e(this.#e);const t=await this.#a.getRootItem();this.oChildItems.spaces=t;this.#h()}catch(t){e.error("Error loading Spaces module:",t,"SideNavigation")}}}#h(){this.#t.addAggregation("items",this.oChildItems.myHome);this.#t.addAggregation("items",this.oChildItems.recentActivity);this.#t.addAggregation("items",this.oChildItems.favorites);this.#t.addAggregation("items",this.oChildItems.spaces)}}return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/SideNavigation/modules/MyHome", ["sap/tnt/NavigationListItem","sap/ui/core/CustomData","sap/ui/thirdparty/hasher","sap/ushell/Config","sap/ushell/components/shell/SideNavigation/modules/NavigationHelper","sap/ushell/utils/UrlParsing"],(e,t,i,o,a,s)=>{"use strict";class n{constructor(i){this.oSideNavAPI=i;this.oNavigationHelper=new a;this.oRootItem=new e({key:"MyHome",text:"{i18n>SideNavigation.Item.MyHome.Title}",enabled:"{viewConfiguration>/enableSideNavigation}",customData:[new t({key:"help-id",value:"MenuEntry-My-Home",writeToDom:true})],href:"#Shell-home",icon:"sap-icon://home",press:this.onMyHomeMenuSelected.bind(this)})}async getRootItem(){return this.oRootItem}onMyHomeMenuSelected(){this.oSideNavAPI.closeSideNavigation()}async findSelectedKey(){const e=i.getHash();const t=s.parseShellHash(e);if(t.semanticObject==="Shell"&&t.action==="home"){return(await this.getRootItem()).getKey()}}}return n},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/SideNavigation/modules/NavigationHelper", ["sap/ushell/Container","sap/ushell/utils/WindowUtils","sap/ushell/api/performance/Extension","sap/ushell/api/performance/NavigationSource"],(e,a,t,i)=>{"use strict";class n{#e;constructor(){this.#e=new t}_performNavigation(a){this.#e.addNavigationSource(i.SideBar);return e.getServiceAsync("Navigation").then(e=>{const t={};a.parameters?.forEach(e=>{if(e.name&&e.value){t[e.name]=[e.value]}});e.navigate({target:{semanticObject:a.semanticObject,action:a.action,shellHash:a.shellHash},params:t})})}_openURL(e){a.openURL(e.url,"_blank")}navigate(e){if(e.type==="IBN"){this._performNavigation(e.target)}else if(e.type==="URL"){this._openURL(e.target)}}}return n},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/SideNavigation/modules/RecentActivity", ["sap/tnt/NavigationListItem","sap/ui/core/CustomData","sap/ushell/Container","sap/ui/model/json/JSONModel","sap/ushell/EventHub","sap/ui/model/Filter","sap/ui/model/FilterOperator"],(e,t,s,i,n,a,o)=>{"use strict";class c{constructor(s){this.oSideNavAPI=s;this.oRootItem=new e({text:"{i18n>SideNavigation.Item.RecentActivities.Title}",enabled:"{viewConfiguration>/enableSideNavigation}",expanded:false,customData:[new t({key:"help-id",value:"MenuEntry-Recents",writeToDom:true})],icon:"sap-icon://create-entry-time",selectable:false,items:{path:"recents>/",filters:new a({filters:[new a("appType",o.EQ,"Application"),new a("title",o.NE,"")],and:true}),length:this.oSideNavAPI.getConfigValue("recentActivity.maxItems")||5,template:new e({key:"{recents>appId}",text:"{recents>title}",href:"{recents>url}",selectable:false,customData:[new t({key:"help-id",value:"{= 'MenuEntry-' + ${recents>appId}}",writeToDom:"{= !!${recents>appId}}"})],press:this.onItemPressed.bind(this)})}});this.oItemReady=new Promise(e=>{this._prepareModel(e)});n.on("newUserRecentsItem").do(async()=>{const e=await this._getRecentActivityItems();this.oRootItem.getModel("recents").setData(e)})}async getRootItem(){return this.oItemReady}onItemPressed(){this.oSideNavAPI.closeSideNavigation()}async _prepareModel(e){const t=await this._getRecentActivityItems();const s=new i(t);this.oRootItem.setModel(s,"recents");e(this.oRootItem)}async _getRecentActivityItems(){const e=await s.getServiceAsync("UserRecents");const t=await e.getRecentActivity();return t}}return c},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/SideNavigation/modules/Spaces", ["sap/base/util/ObjectPath","sap/tnt/NavigationListGroup","sap/tnt/NavigationListItem","sap/ui/core/CustomData","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/Sorter","sap/ui/model/json/JSONModel","sap/ui/thirdparty/hasher","sap/ushell/Config","sap/ushell/Container","sap/ushell/components/shell/SideNavigation/modules/NavigationHelper","sap/ushell/services/AppConfiguration","sap/ushell/utils/UrlParsing"],(e,t,i,a,s,o,n,p,r,l,d,c,m,u)=>{"use strict";class g{#e;#t;#i;#a;#s;#o;#n;constructor(e){this.#e=e;this.#a=this.#e.getConfigValue("spaces.defaultIcon");this.#s=new c;const i=l.last("/core/menu/personalization/enabled");const r=l.last("/core/spaces/myHome/myHomeSpaceId");const d=[new s("type",o.NE,"separator")];if(i){d.push(new s("pinned",o.EQ,true))}if(r){d.push(new s("id",o.NE,r))}this.#o=new p({});this.#o.attachPropertyChange(()=>{this.#e.updateSelectedKey()});this.#i=new t({text:"{i18n>SideNavigation.Item.Spaces.Title}",enabled:"{viewConfiguration>/enableSideNavigation}",customData:[new a({key:"help-id",value:"MenuEntry-My-Spaces",writeToDom:true})],items:{path:"spaces>/",factory:this._spacesModelItemFactory.bind(this),filters:new s({filters:d,and:true}),sorter:i?new n({path:"pinnedSortOrder"}):null}});this.#i.setModel(this.#o,"navigationListItemModel");this.#t=new Promise(e=>{this.#n=this.#p(e)})}async getRootItem(){return this.#t}async#p(e){const t=await d.getServiceAsync("Menu");const i=await t.getMenuModel();this.#i.setModel(i,"spaces");e(this.#i);return i}async findSelectedKey(t){const i=r.getHash();const a=u.parseShellHash(i);const s=e.get("params.spaceId.0",a);const o=e.get("params.pageId.0",a);const n=e.get("params.sap-ui-app-id-hint.0",a)||m.getCurrentApplication()?.appId;t=t||await this.getRootItem();if(a.semanticObject==="Shell"&&a.action==="home"){return t.getItems()[0]?.getKey()}const p=this.#r(t.getItems(),s,o,n);return p?.getKey()}#r(e,t,i,a){for(let s=0;s<e.length;s++){const o=e[s];const n=o.getItems();const p=this.#r(n,t,i,a);if(p&&!o.getExpanded()){return o}else if(p){return p}const r=this.#l(o.getBindingContext("spaces").getObject(),t,i,a);if(r){return o}}}#l(t,i,a,s){const o=e.get("target.parameters",t)||[];const n=o.some(e=>e.name==="spaceId"&&e.value===i);const p=o.some(e=>e.name==="pageId"&&e.value===a);const r=o.some(e=>e.name==="sap-ui-app-id-hint"&&e.value===s);if(!i){return p||r}const l=!a&&!s;return n&&(p||r||l)}_spacesModelItemFactory(e,t){const s=t.getProperty("menuEntries");const o=t.getProperty("uid");this.#o.setProperty(`/${o}`,false);return new i(e,{key:"{spaces>uid}",text:"{spaces>title}",enabled:"{viewConfiguration>/enableSideNavigation}",selectable:this.#e.getConfigValue("spaces.selectable")||!s||s.length===0,expanded:`{navigationListItemModel>/${o}}`,customData:[new a({key:"help-id",value:"{= 'MenuEntry-' + ${spaces>help-id}}",writeToDom:"{= !!${spaces>help-id}}"})],icon:{path:"spaces>icon",formatter:e=>e||this.#a},select:this._onSideNavigationItemSelection.bind(this),items:{path:"spaces>menuEntries",template:new i({key:"{spaces>uid}",text:"{spaces>title}",enabled:"{viewConfiguration>/enableSideNavigation}",expanded:false,customData:[new a({key:"help-id",value:"{= 'MenuEntry-' + ${spaces>help-id}}",writeToDom:"{= !!${spaces>help-id}}"})],select:this._onSideNavigationItemSelection.bind(this),icon:"{spaces>icon}"})}})}_onSideNavigationItemSelection(e){this.#e.updateSelectedKey();const t=e.getParameter("item").getBindingContext("spaces").getProperty();this.#e.closeSideNavigation();this.#s.navigate(t)}}return g},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/SideNavigation/modules/SpacesNavigationListProvider", ["sap/tnt/NavigationList","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ushell/components/shell/SideNavigation/modules/Spaces","sap/ushell/modules/NavigationMenu/ListProvider"],(e,t,s,o,i)=>{"use strict";class n extends i{constructor(i){super(i);this.oRootItem=new e;this.oSpaces=new o(i);this.pSpaces=this.oSpaces.getRootItem().then(e=>{const o=e.getBindingInfo("items");o.filters=[new t("type",s.NE,"separator")];Object.keys(e.getOwnModels()).forEach(t=>{this.oRootItem.setModel(e.getModel(t),t)});this.oRootItem.bindAggregation("items",o);return this.oSpaces})}async getRootItem(){return this.oRootItem}async findSelectedKey(){return(await this.pSpaces).findSelectedKey(this.oRootItem)}}return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/UserActionsMenu/Component", ["sap/ui/core/EventBus","sap/ui/core/UIComponent","sap/ushell/components/shell/UserActionsMenu/UserActionsMenu.controller"],(e,n,s)=>{"use strict";return n.extend("sap.ushell.components.shell.UserActionsMenu.Component",{metadata:{version:"1.141.1",library:"sap.ushell",dependencies:{libs:["sap.m"]}},createContent:function(){this._bIsUserActionsMenuCreated=false;this.oUserActionsMenuController=new s;this.oUserActionsMenuController.onInit();e.getInstance().publish("shell","userActionsMenuCompLoaded",{delay:0})},exit:function(){this.oUserActionsMenuController.onExit()}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/UserActionsMenu/UserActionsMenu.controller", ["sap/base/Log","sap/m/library","sap/m/StandardListItem","sap/ui/core/Element","sap/ui/core/ElementMetadata","sap/ui/core/Fragment","sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ui/performance/Measurement","sap/ushell/Config","sap/ushell/Container","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/ui/footerbar/AboutButton","sap/ushell/ui/footerbar/ContactSupportButton","sap/ushell/ui/launchpad/ActionItem","sap/ushell/ui/QuickAccess","sap/ushell/state/ShellModel","sap/ushell/state/StateManager"],(e,t,n,o,i,s,r,a,l,c,u,g,p,d,h,f,A,m,v)=>{"use strict";const B=t.ListType;const y=t.ButtonType;const I=v.Operation;return r.extend("sap.ushell.components.shell.UserActionsMenu.UserActionsMenu",{_aDanglingControl:[],_aDoables:[],onInit:function(){const e=this.getShellConfig();this._createActionButtons(e);this.oModel=new a(this.getInitialModelData());this._aDoables.push(g.on("showUserActionsMenu").do(e=>{if(this.getPopoverIsOpen()||!e){this._toggleUserActionsMenuPopover(false)}else{this._toggleUserActionsMenuPopover(true)}}))},onExit:function(){this._destroyDanglingControls();this._aDoables.forEach(e=>{e.off()});this._aDanglingControl=[];this._aDoables=[];const e=o.getElementById("sapUshellUserActionsMenuPopover");if(e){e.destroy()}},getInitialModelData:function(){const e=u.getUser();const t=c.last("/core/userActionsMenu/displayUserId");const n={userName:e.getFullName()||"",identifier:t?e.getId():e.getEmail()||e.getId(),initials:e.getInitials(),userEmail:t?e.getEmail():""};return n},filterUserActions:function(t){if(!o.getElementById(t)){e.debug(`Could not render ActionItem because it was not created: ${t}`);return false}else if(t==="logoutBtn"){return!this.getDisplayAvatar()}return true},getModel:function(){return this.oModel},_createActionButtons:function(e){const t=c.last("/core/extension/enableHelp");const n=c.last("/core/shell/enableAbout");if(n){this._createAboutButton(t)}if(!e.moveAppFinderActionToShellHeader&&c.last("/core/catalog/enabled")){this._createAppFinderButton(e,t)}if(!e.moveUserSettingsActionToShellHeader){this._createSettingsButton(t)}if(!e.moveContactSupportActionToShellHeader){this._createSupportTicketButton(t)}if(e.enableRecentActivity&&c.last("/core/shell/model/showRecentActivity")){this._createRecentActivitiesButton();this._createFrequentActivitiesButton()}if(!e.disableSignOut){this._createLogoutButton()}},_createAppFinderButton:function(e,t){if(o.getElementById("openCatalogBtn")){return}const n=new f("openCatalogBtn",{text:p.i18n.getText("open_appFinderBtn"),icon:"sap-icon://sys-find",visible:!e.disableAppFinder,actionType:"action",press:function(){l.start("FLP:AppFinderLoadingStartToEnd","AppFinderLoadingStartToEnd","FLP");u.getServiceAsync("Navigation").then(e=>{e.navigate({target:{semanticObject:"Shell",action:"appfinder"}})})}});if(t){n.addStyleClass("help-id-openCatalogActionItem")}this._addDanglingControl(n);v.updateAllBaseStates("userActions.items",I.Add,n.getId())},_createAboutButton:function(e){const t="aboutBtn";if(!o.getElementById(t)){const n=new d(t);if(e){n.addStyleClass(`help-id-${t}`)}this._addDanglingControl(n);this.getRenderer().showActionButton(t,false)}},_createSettingsButton:function(e){const t="userSettingsBtn";if(!o.getElementById(t)){const n=new f(t,{tooltip:`${p.i18n.getText("ControlKey")} + ${p.i18n.getText("CommaKey")}`,text:p.i18n.getText("userSettings"),icon:"sap-icon://action-settings",press:function(){g.emit("openUserSettings",Date.now())}});if(e){n.addStyleClass("help-id-loginDetails")}this._addDanglingControl(n)}v.updateAllBaseStates("userActions.items",I.Add,t)},_createSupportTicketButton:function(e){c.on("/core/extension/SupportTicket").do(t=>{const n="ContactSupportBtn";let i=o.getElementById(n);if(t&&!i){i=new h(n);this._addDanglingControl(i);if(e){i.addStyleClass("help-id-contactSupportBtn")}}if(t){this.getRenderer().showActionButton(n)}else{this.getRenderer().hideActionButton(n)}})},_createRecentActivitiesButton:function(){const e="recentActivitiesBtn";c.on("/core/shell/model/enableTrackingActivity").do(t=>{if(t){let t=o.getElementById(e);if(!t){t=new f(e,{text:p.i18n.getText("recentActivities"),icon:"sap-icon://customer-history",press:function(){A.openQuickAccessDialog("recentActivityFilter","userActionsMenuHeaderButton")}});this._addDanglingControl(t)}this.getRenderer().showActionButton(e,false)}else{this.getRenderer().hideActionButton(e,false)}})},_createFrequentActivitiesButton:function(){const e="frequentActivitiesBtn";c.on("/core/shell/model/enableTrackingActivity").do(t=>{if(t){let t=o.getElementById(e);if(!t){t=new f(e,{text:p.i18n.getText("frequentActivities"),icon:"sap-icon://activity-individual",tooltip:p.i18n.getText("frequentActivitiesTooltip"),press:function(){A.openQuickAccessDialog("frequentlyUsedFilter","userActionsMenuHeaderButton")}});this._addDanglingControl(t)}this.getRenderer().showActionButton(e,false)}else{this.getRenderer().hideActionButton(e,false)}})},_createLogoutButton:function(){const e="logoutBtn";if(o.getElementById(e)){return}const t=new f(e,{visible:true,type:y.Transparent,icon:"sap-icon://log",text:p.i18n.getText("signoutBtn_title"),press:this.logout});this._addDanglingControl(t);this.getRenderer().showActionButton(e,false)},logout:function(){sap.ui.require(["sap/m/MessageBox","sap/ushell/ui/launchpad/LoadingDialog"],(e,t)=>{let n=new t({text:""});let o=true;let s=false;u.getGlobalDirty().done(r=>{o=false;if(s===true){n.exit();n=new t({text:""})}const a={};const l=p.i18n;if(r===u.DirtyState.DIRTY){a.message=l.getText("unsaved_data_warning_popup_message");a.icon=e.Icon.WARNING;a.messageTitle=l.getText("unsaved_data_warning_popup_title")}else{a.message=l.getText("signoutConfirmationMsg");a.icon=e.Icon.QUESTION;a.messageTitle=l.getText("signoutMsgTitle")}e.show(a.message,a.icon,a.messageTitle,[e.Action.OK,e.Action.CANCEL],t=>{if(t===e.Action.OK){n.openLoadingScreen();n.showAppInfo(p.i18n.getText("beforeLogoutMsg"),null);u.defaultLogout()}},i.uid("confirm"))});if(o===true){n.openLoadingScreen();s=true}})},_addDanglingControl:function(e){this._aDanglingControl.push(e)},_destroyDanglingControls:function(){if(this._aDanglingControl){this._aDanglingControl.forEach(e=>{if(e.destroyContent){e.destroyContent()}e.destroy()})}},_toggleUserActionsMenuPopover:async function(e){let t;const n=new Promise(e=>{if(this.getDisplayAvatar()){t="sap.ushell.components.shell.UserActionsMenu.UserActionsMenu";sap.ui.require(["sap/ushell/gen/ui5/webcomponents-fiori/dist/UserMenuItem"],()=>{e()})}else{t="sap.ushell.components.shell.UserActionsMenu.UserActionsMenuPopover";e()}});if(!this.oPopover){await Promise.all([n,s.load({name:t,type:"XML",controller:this})]).then(t=>{this.oPopover=t[1];this.oPopover.setModel(this.getModel());this.oPopover.setModel(m.getConfigModel(),"configModel");this.oPopover.setModel(m.getModel(),"shellModel");if(this.getDisplayAvatar()){this.oPopover.placeAt("WebComponents-shellArea","last");this.oPopover.attachClose(()=>{this.popoverClose()})}return this._toggleUserActionsMenuPopover(e)})}else if(e){v.refreshState("userActions.items");this.popoverOpen()}else{this.popoverClose();if(window.document.activeElement&&window.document.activeElement.id!=="userActionsMenuHeaderButton"){window.document.getElementById("userActionsMenuHeaderButton")?.focus()}}},onItemPress:function(e){const t=e.getParameter("item").data("actionItemId");const n=o.getElementById(t);if(n){n.firePress();g.emit("showUserActionsMenu",false)}},userActionsMenuItemFactory:function(e,t){const n=o.getElementById(t.getObject());const i=sap.ui.require("sap/ushell/gen/ui5/webcomponents-fiori/dist/UserMenuItem");return new i({id:`${e}-${n.getId()}`,icon:n.getIcon(),text:n.getText(),tooltip:n.getTooltip(),visible:n.getVisible(),customData:[{key:"actionItemId",value:n.getId()}]})},userActionsMenuPopoverItemFactory:function(e,t){const i=o.getElementById(t.getObject());return new n({id:`${e}-${i.getId()}`,icon:i.getIcon(),tooltip:i.getTooltip(),iconInset:true,title:i.getText(),visible:i.getVisible(),type:B.Active,customData:[{key:"actionItemId",value:i.getId()}],press:function(){if(i){i.firePress();g.emit("showUserActionsMenu",false)}}}).addStyleClass("sapUshellUserActionsMenuActionItem")},getRenderer:function(){if(!this._oRenderer){this._oRenderer=u.getRendererInternal("fiori2")}return this._oRenderer},getShellConfig:function(){return this.getRenderer().getShellConfig()},getDisplayAvatar:function(){return!!c.last("/core/userActionsMenu/displayAvatar")},getPopoverIsOpen:function(){if(this.getDisplayAvatar()){return this.bPopoverOpen||this.oPopover?.getOpen()}return this.oPopover?.isOpen()},popoverOpen:function(){if(this.getDisplayAvatar()){this.bPopoverOpen=true;return this.oPopover.setOpen(true)}return this.oPopover.openBy(o.getElementById("userActionsMenuHeaderButton"))},popoverClose:function(){if(this.getDisplayAvatar()){window.setTimeout(()=>{this.bPopoverOpen=false},400);return this.oPopover.setOpen(false)}return this.oPopover.close()}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/UserImage/Component", ["sap/base/Log","sap/base/i18n/Localization","sap/base/util/isEmptyObject","sap/m/Button","sap/m/library","sap/ui/core/IconPool","sap/ui/core/UIComponent","sap/ui/Device","sap/ui/thirdparty/jquery","sap/ushell/resources","sap/ushell/Container","sap/ushell/state/ShellModel"],(e,s,t,n,o,a,l,r,jQuery,i,g,u)=>{"use strict";const c=o.ButtonType;return l.extend("sap.ushell.components.shell.UserImage.Component",{metadata:{version:"1.141.1",library:"sap.ushell.components.shell.UserImage",dependencies:{libs:{"sap.m":{},"sap.ui.layout":{lazy:true}}}},createContent:function(){const e=g.getRendererInternal("fiori2").getShellConfig();this.loadUserImage();const s=g.getUser();if(e.enableUserImgConsent===true&&s.getImageConsent()===undefined){this._showUserConsentPopup()}},_showUserConsentPopup:function(){const e=this;const t=s.getRTL()?"Right":"Left";let o;let a;let l;let g;const u=new n("yesButton",{text:i.i18n.getText("DisplayImg"),type:c.Emphasized,press:function(){e.updateUserImage(true);o.close()}});const p=new n("noButton",{text:i.i18n.getText("DontDisplayImg"),press:function(){e.updateUserImage(false);o.close()}});sap.ui.require(["sap/ui/layout/form/VerticalLayout","sap/m/Dialog","sap/m/Text","sap/m/Link","sap/m/FlexBox"],(e,s,n,c,m)=>{o=new s("userConsentDialog",{title:i.i18n.getText("userImageConsentDialogTitle"),modal:true,stretch:r.system.phone,buttons:[u,p],afterClose:function(){o.destroy()}}).addStyleClass("sapUshellUserConsentDialog").addStyleClass("sapContrastPlus");const d=new n({text:i.i18n.getText("userImageConsentDialogTermsOfUse")}).addStyleClass("sapUshellUserConsentDialogTerms");const C=new n({text:i.i18n.getText("userImageConsentText"),textAlign:t}).addStyleClass("sapUshellUserConsentDialogText");const f=new c({text:i.i18n.getText("userImageConsentDialogShowTermsOfUse"),textAlign:t,press:function(){const e=g.getVisible();if(e){g.setVisible(false);f.setText(i.i18n.getText("userImageConsentDialogShowTermsOfUse"))}else{f.setText(i.i18n.getText("userImageConsentDialogHideTermsOfUse"));g.setVisible(true)}}}).addAriaLabelledBy(C);a=new m({alignItems:"Center",direction:"Row",items:[C]}).addStyleClass("sapUshellUserConsentDialogBox");l=new m({alignItems:"Center",direction:"Row",items:[f]}).addStyleClass("sapUshellUserConsentDialogBox").addStyleClass("sapUshellUserConsentDialogLink");g=new m({alignItems:"Center",direction:"Row",items:[d]}).addStyleClass("ushellUserImgConsentTermsOfUseFlexBox");g.setVisible(false);const h=new e("userConsentDialogLayout",{content:[a,l,g]});o.addContent(h);o.open()})},loadUserImage:function(){const e=g.getUser();const s=e.getImage();if(s){this._setUserImage(s)}e.attachOnSetImage(this._setUserImage.bind(this))},_setUserImage:function(s){const n=typeof s==="string"?s:s.mParameters;if(n&&typeof n==="string"||!t(n)){jQuery.ajax({url:n,headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"},success:function(){u.getConfigModel().setProperty("/userImage/personPlaceHolder",n);u.getConfigModel().setProperty("/userImage/account",n)},error:function(){e.error(`Could not load user image from: ${n}`,"","sap.ushell.renderer.Shell.view");g.getUser().setImage("")}})}else{u.getConfigModel().setProperty("/userImage/personPlaceHolder",null);u.getConfigModel().setProperty("/userImage/account",a.getIconURI("account"))}},updateUserImage:function(e){const s=g.getUser();let t;g.getServiceAsync("UserInfo").then(n=>{if(e!==undefined){s.setImageConsent(e);t=n.updateUserPreferences(s);t.done(()=>{s.resetChangedProperty("isImageConsent")})}})}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/action/ActionTile.controller", ["sap/ui/core/mvc/Controller","sap/ushell/components/tiles/utils","sap/ui/model/json/JSONModel","sap/ui/thirdparty/jquery","sap/base/Log","sap/ushell/utils/LaunchpadError"],(t,e,i,jQuery,o,n)=>{"use strict";return t.extend("sap.ushell.components.tiles.action.ActionTile",{onInit:function(){const t=this.getView();const o=t.getViewData();const n=e.getResourceBundleModel();const r=o.chip;const a=e.getActionConfiguration(r);const s=this;function c(t,i){const o=e.getResourceBundle();const n=`${o.getText("configuration.semantic_object")}:\n${t}\n\n${o.getText("configuration.semantic_action")}:\n${i}`;return n}t.setModel(n,"i18n");const g=new i({config:a,displayText:c(a.semantic_object,a.semantic_action)});t.setModel(g);if(r.configurationUi.isEnabled()){r.configurationUi.setAsyncUiProvider(()=>e.getConfigurationUi(s.getView(),"sap.ushell.components.tiles.action.Configuration").then(t=>{r.configurationUi.attachCancel(s.onCancelConfiguration.bind(null,t));r.configurationUi.attachSave(s.onSaveConfiguration.bind(null,t,c));return t}));t.byId("actionTile").setTooltip(e.getResourceBundle().getText("edit_configuration.tooltip"))}},onPress:function(t){const e=this.getView().getViewData().chip;if(e.configurationUi.isEnabled()){e.configurationUi.display()}},onSaveConfiguration:function(t,r){const a=jQuery.Deferred();let s=t.getModel();const c=s.getProperty("/tileModel");const g=t.getViewData().chip;const l=e.checkTMInputOnSaveConfig(t);if(l){a.reject(new Error("mandatory_fields_missing"));return a.promise()}const p=e.getResourceBundle();if(e.tableHasDuplicateParameterNames(s.getProperty("/config/rows"))){a.reject(new Error(p.getText("configuration.signature.uniqueParamMessage.text")))}else if(!e.tableHasInvalidSapPrelaunchOperationValue(s.getProperty("/config/rows"))){const t=JSON.stringify([{type:"split",source:"p1",target:["p2","p3"]},{type:"merge",source:["p4","p5"],target:"p6"}]);a.reject(new Error(p.getText("configuration.signature.invalidSapPrelaunchOperationsMessage.text",[t])))}else{const l=s.getProperty("/config/formFactorConfigDefault")?undefined:e.buildFormFactorsObject(s);const p=e.getMappingSignatureString(s.getProperty("/config/rows"),s.getProperty("/config/isUnknownAllowed"));const u=e.getMappingSignature(s.getProperty("/config/rows"),s.getProperty("/config/isUnknownAllowed"));const f={semantic_object:(s.getProperty("/config/semantic_object")||"").trim(),semantic_action:(s.getProperty("/config/semantic_action")||"").trim(),display_title_text:(s.getProperty("/config/display_title_text")||"").trim(),url:(s.getProperty("/config/url")||"").trim(),ui5_component:(s.getProperty("/config/ui5_component")||"").trim(),navigation_provider:(s.getProperty("/config/navigation_provider")||"").trim(),navigation_provider_role:(s.getProperty("/config/navigation_provider_role")||"").trim(),navigation_provider_instance:(s.getProperty("/config/navigation_provider_instance")||"").trim(),target_application_id:(s.getProperty("/config/target_application_id")||"").trim(),target_application_alias:(s.getProperty("/config/target_application_alias")||"").trim(),transaction:{code:(s.getProperty("/config/transaction/code")||"").trim()},web_dynpro:{application:(s.getProperty("/config/web_dynpro/application")||"").trim(),configuration:(s.getProperty("/config/web_dynpro/configuration")||"").trim()},target_system_alias:(s.getProperty("/config/target_system_alias")||"").trim(),display_info_text:(s.getProperty("/config/display_info_text")||"").trim(),form_factors:l,mapping_signature:p,signature:u};const d=g.bag.getBag("tileProperties");d.setText("display_title_text",f.display_title_text);g.writeConfiguration.setParameterValues({tileConfiguration:JSON.stringify(f)},()=>{const l=e.getActionConfiguration(g,false);const p=e.getActionConfiguration(g,true);s=new i({config:l,tileModel:c});t.setModel(s);c.setData({config:p,displayText:r(p.semantic_object,p.semantic_action)},false);d.save(()=>{o.debug("property bag 'tileProperties' saved successfully");a.resolve()},(t,e)=>{const i=Object.keys(t)[0];const r=new n(`Bag save failed: ${t[i]}`,{info:e[i],otherMessages:t,otherInfo:e});o.error("property bag 'tileProperties' save failed",r,"sap.ushell.components.tiles.action.ActionTile.controller");a.reject(r)})},t=>{o.error(`property bag 'tileProperties' save failed: ${t}`,null,"sap.ushell.components.tiles.action.ActionTile.controller");a.reject(new Error(t))})}return a.promise()},onCancelConfiguration:function(t){const i=t.getViewData();const o=t.getModel();const n=o.getProperty("/tileModel");const r=i.chip;const a=e.getActionConfiguration(r,false);t.getModel().setData({config:a,tileModel:n},false)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/action/Configuration.controller", ["sap/ui/core/Element","sap/ui/core/mvc/Controller","sap/ushell/components/tiles/utils","sap/ui/core/library","sap/m/MessageBox"],(e,t,s,n,a)=>{"use strict";const o=n.ValueState;return t.extend("sap.ushell.components.tiles.action.Configuration",{sEnterValuePlaceHolder:"",sDuplicateErrorMsg:"",sDuplicateErrorTitle:"",sInvalidParmMsg:"",aDefaultObjects:[{obj:"",name:""},{obj:"*",name:"*"}],onConfigurationInputChange:function(e){s.checkTMInput(this.getView(),e)},onInit:function(){const e=this.getView();const t=e.byId("semantic_objectInput");const n=e.byId("navigation_provider_roleInput");const a=e.byId("navigation_provider_instanceInput");const o=e.byId("target_application_aliasInput");const i=e.byId("semantic_actionInput");const l=e.byId("targetTypeInput");const c=s.getResourceBundleModel();e.setModel(c,"i18n");e.setViewName("sap.ushell.components.tiles.action.Configuration");s.createSemanticObjectModel(this,t,this.aDefaultObjects);s.createRoleModel(this,n,a);s.createAliasModel(this,o);s.createActionModel(this,i);s.createNavigationProviderModel(this,l);t.attachChange(t=>{const s=t.getSource().getValue();e.getModel().setProperty("/config/semantic_object",s)});n.attachChange(t=>{const n=t.getSource().getValue();e.getModel().setProperty("/config/navigation_provider_role",n);s.updateAliasModel(e,o)});a.attachChange(t=>{const s=t.getSource().getValue();e.getModel().setProperty("/config/navigation_provider_instance",s)});o.attachChange(t=>{const s=t.getSource().getValue();e.getModel().setProperty("/config/target_application_alias",s)});const r=s.getResourceBundle();this.sEnterValuePlaceHolder=r.getText("configuration.signature.table.valueFieldLbl");this.sDuplicateErrorMsg=r.getText("configuration.signature.uniqueParamMessage.text");this.sDuplicateErrorTitle=r.getText("configuration.signature.uniqueParamMessage.title");this.sInvalidParmMsg=r.getText("configuration.signature.invalidParamMessage.text")},handleMandatoryChange:function(t){const s=t.getParameter("id");const n=e.getElementById(s).getParent().getCells();const a=t.getParameter("selected");if(a){n[2].setEnabled(true);n[2].setPlaceholder(this.sEnterValuePlaceHolder);n[4].setEnabled(false);n[4].setValue("");n[4].setPlaceholder("");n[3].setEnabled(true)}else{n[2].setEnabled(false);n[2].setValue("");n[2].setPlaceholder("");n[4].setEnabled(true);n[4].setPlaceholder(this.sEnterValuePlaceHolder);n[3].setEnabled(false);n[3].setSelected(false)}},addRow:function(){const e=this.getView();const t=e.getModel();const n=t.getProperty("/config/rows");const a=s.getEmptyRowObj();n.push(a);t.setProperty("/config/rows",n)},deleteRow:function(){const e=this.getView();const t=e.getModel();const s=t.getProperty("/config/rows");const n=e.byId("mappingSignatureTable");const a=n.getSelectedIndices();const o=a.sort((e,t)=>t-e).slice();for(let e=0;e<o.length;e++){n.removeSelectionInterval(o[e],o[e]);s.splice(o[e],1)}t.setProperty("/config/rows",s)},checkDuplicateNames:function(t){const n=this.getView().getModel();const i=n.getProperty("/config/rows");const l=e.getElementById(t.getParameter("id"));const c=t.getParameter("newValue");if(c!==""&&!/^[\w-/]+$/.test(c)){l.setValueState(o.Error);a.alert(this.sInvalidParmMsg,this.focusNameField.bind(l),this.sDuplicateErrorTitle)}if(s.tableHasDuplicateParameterNames(i)){l.setValueState(o.Error);a.alert(this.sDuplicateErrorMsg,this.focusNameField.bind(l),this.sDuplicateErrorTitle)}else{l.setValueState(o.None)}},focusNameField:function(){this.focus()},onValueHelpRequest:function(e){s.objectSelectOnValueHelpRequest(this,e,false)},onActionValueHelpRequest:function(e){s.actionSelectOnValueHelpRequest(this,e)},onRoleValueHelpRequest:function(e){s.roleSelectOnValueHelpRequest(this,e)},onInstanceValueHelpRequest:function(e){s.instanceSelectOnValueHelpRequest(this,e)},instanceSuggest:function(e){s.instanceSuggest(this,e)},aliasSuggest:function(e){s.aliasSuggest(this,e)},onAliasValueHelpRequest:function(e){s.applicationAliasSelectOnValueHelpRequest(this,e)},onFormFactorChange:function(){const e=this.getView().getModel();e.setProperty("/config/formFactorConfigDefault",false)},onApplicationTypeChange:function(e){const t=e.getParameters();if(t.selectedItem){s.displayApplicationTypeFields(t.selectedItem.getKey(),this.getView())}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/applauncher/Component", ["sap/ui/core/mvc/View","sap/ui/core/UIComponent"],(e,t)=>{"use strict";return t.extend("sap.ushell.components.tiles.applauncher",{metadata:{interfaces:["sap.ui.core.IAsyncContentCreation"]},createContent:function(){const t=this.getComponentData();return e.create({viewName:"module:sap/ushell/components/tiles/applauncher/StaticTile.view",viewData:t})}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/applauncher/Configuration.controller", ["sap/ui/core/mvc/Controller","sap/ushell/components/tiles/utils","sap/ui/core/ListItem"],(e,t,n)=>{"use strict";return e.extend("sap.ushell.components.tiles.applauncher.Configuration",{onConfigurationInputChange:function(e){t.checkInput(this.getView(),e)},aDefaultObjects:[{obj:"",name:""}],onInit:function(){const e=this.getView();const o=e.byId("targetUrl");const i=e.byId("navigation_semantic_objectInput");const c=e.byId("navigation_semantic_actionInput");const a=t.getResourceBundleModel();e.setModel(a,"i18n");const s=t.getResourceBundle();e.setViewName("sap.ushell.components.tiles.applauncher.Configuration");t.createSemanticObjectModel(this,i,this.aDefaultObjects);t.createActionModel(this,c);i.attachChange(t=>{const n=t.getSource().getValue();e.getModel().setProperty("/config/navigation_semantic_object",n)});function l(e){return!e}o.bindProperty("enabled",{formatter:l,path:"/config/navigation_use_semantic_object"});let u=new n({key:"URL",text:s.getText("configuration.tile_actions.table.target_type.url")});e.byId("targetTypeCB").addItem(u);u=new n({key:"INT",text:s.getText("configuration.tile_actions.table.target_type.intent")});e.byId("targetTypeCB").addItem(u)},onAfterRendering:function(){t.updateMessageStripForOriginalLanguage(this.getView())},onValueHelpRequest:function(e){t.objectSelectOnValueHelpRequest(this,e,false)},onActionValueHelpRequest:function(e){t.actionSelectOnValueHelpRequest(this,e,false)},onCheckBoxChange:function(e){const n=this.getView();const o=n.byId("navigation_semantic_objectInput");const i=o.getModel();const c=e.getSource().getSelected();i.setProperty("/enabled",c);t.checkInput(this.getView(),e)},onIconValueHelpRequest:function(e){t.iconSelectOnValueHelpRequest(this,e,false)},onSelectIconClose:function(){t.onSelectIconClose(this.getView())},onSelectIconOk:function(){t.onSelectIconOk(this.getView())},handleTargetTypeChange:function(e){t.onTargetTypeChange(e)},onTileActionValueHelp:function(e){t.objectSelectOnValueHelpRequest(this,e,true)},onTileActionIconValueHelp:function(e){t.iconSelectOnValueHelpRequest(this,e,true)},addRow:function(){t.addTileActionsRow(this.getView())},deleteRow:function(){t.deleteTileActionsRow(this.getView())}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/applauncher/StaticTile.controller", ["sap/ui/core/mvc/Controller","sap/ushell/components/tiles/utils","sap/ushell/Config","sap/ushell/utils/WindowUtils","sap/m/library","sap/ushell/library","sap/ui/model/json/JSONModel","sap/base/Log","sap/ui/thirdparty/jquery","sap/ushell/utils/UrlParsing","sap/ushell/EventHub","sap/ushell/Container","sap/ushell/utils/LaunchpadError"],(e,t,i,a,s,o,n,r,jQuery,l,c,g,p)=>{"use strict";const _=s.GenericTileScope;const d=s.GenericTileMode;const f=o.AppType;return e.extend("sap.ushell.components.tiles.applauncher.StaticTile",{_aDoables:[],onInit:function(){const e=this.getView();const a=e.getViewData();const s=a.chip;const o=t.getAppLauncherConfig(s,s.configurationUi.isEnabled(),false);const r=this;let c=o.navigation_target_url;let g;const p=s.url.getApplicationSystem();if(p){if(l.isIntentUrl(c)){g=l.parseShellHash(c);if(!g.params){g.params={}}g.params["sap-system"]=p;c=`#${l.constructShellHash(g)}`}else{c+=`${c.indexOf("?")<0?"?":"&"}sap-system=${p}`}}this.navigationTargetUrl=c;const _=new n({sizeBehavior:i.last("/core/home/sizeBehavior"),wrappingType:i.last("/core/home/wrappingType"),config:o,mode:o.display_mode,nav:{navigation_target_url:s.configurationUi&&s.configurationUi.isEnabled()?"":c},search:{display_highlight_terms:[]}});e.setModel(_);this._aDoables.push(i.on("/core/home/sizeBehavior").do(e=>{_.setProperty("/sizeBehavior",e)}));if(s.types){s.types.attachSetType(e=>{if(r.tileType!==e){if(e==="link"){_.setProperty("/mode",d.LineMode)}else{_.setProperty("/mode",_.getProperty("/config/display_mode"))}r.tileType=e}})}if(!this.tileType){this.tileType="tile"}if(s.search){const t=e.getModel().getProperty("/config/display_search_keywords");const i=t.split(/[, ]+/).filter(e=>e&&e!=="");if(o.display_title_text&&o.display_title_text!==""&&i.indexOf(o.display_title_text)===-1){i.push(o.display_title_text)}if(o.display_subtitle_text&&o.display_subtitle_text!==""&&i.indexOf(o.display_subtitle_text)===-1){i.push(o.display_subtitle_text)}if(o.display_info_text&&o.display_info_text!==""&&i.indexOf(o.display_info_text)===-1){i.push(o.display_info_text)}s.search.setKeywords(i);s.search.attachHighlight(t=>{e.getModel().setProperty("/search/display_highlight_terms",t)})}if(s.bag&&s.bag.attachBagsUpdated){s.bag.attachBagsUpdated(i=>{if(i.indexOf("tileProperties")>-1){t._updateTilePropertiesTexts(e,s.bag.getBag("tileProperties"))}})}if(s.configuration&&s.configuration.attachConfigurationUpdated){s.configuration.attachConfigurationUpdated(i=>{if(i.indexOf("tileConfiguration")>-1){t._updateTileConfiguration(e,s.configuration.getParameterValueAsString("tileConfiguration"))}})}if(s.preview){s.preview.setTargetUrl(c);s.preview.setPreviewIcon(o.display_icon_url);s.preview.setPreviewTitle(o.display_title_text);if(s.preview.setPreviewSubtitle&&typeof s.preview.setPreviewSubtitle==="function"){s.preview.setPreviewSubtitle(o.display_subtitle_text)}}if(s.configurationUi.isEnabled()){s.configurationUi.setAsyncUiProvider(()=>t.getConfigurationUi(e,"sap.ushell.components.tiles.applauncher.Configuration").then(e=>{s.configurationUi.attachCancel(r.onCancelConfiguration.bind(null,e));s.configurationUi.attachSave(r.onSaveConfiguration.bind(null,e));return e}));this.getView().getContent()[0].setTooltip(t.getResourceBundle().getText("edit_configuration.tooltip"))}if(s.actions){let e=[];const a=o.actions;if(a){e=a.slice()}if(i.last("/core/shell/enablePersonalization")){const i=_.getProperty("/mode")===d.LineMode?"link":"tile";const a=t.getTileSettingsAction(_,this.onSaveRuntimeSettings.bind(this),i);e.push(a)}s.actions.setActionsProvider(()=>e)}},onExit:function(){this._aDoables.forEach(e=>{e.off()});this._aDoables=[]},onPress:function(e){const t=this.getView();const s=t.getViewData();const o=s.chip;const n=t.getModel().getProperty("/config");if(e.getSource().getScope&&e.getSource().getScope()===_.Display){if(o.configurationUi.isEnabled()){o.configurationUi.display()}else if(this.navigationTargetUrl){c.emit("UITracer.trace",{reason:"LaunchApp",source:"Tile",data:{targetUrl:this.navigationTargetUrl}});if(this.navigationTargetUrl[0]==="#"){hasher.setHash(this.navigationTargetUrl)}else{const e=i.last("/core/shell/enableRecentActivity")&&i.last("/core/shell/enableRecentActivityLogging");if(e){const e={title:n.display_title_text,appType:f.URL,url:n.navigation_target_url,appId:n.navigation_target_url};g.getRendererInternal("fiori2").logRecentActivity(e)}a.openURL(this.navigationTargetUrl,"_blank")}}}},onSaveRuntimeSettings:function(e){const t=e.getModel();const i=this.getView().getViewData().chip;const a=this.getView().getModel().getProperty("/config");a.display_title_text=t.getProperty("/title")||"";a.display_subtitle_text=t.getProperty("/subtitle")||"";a.display_info_text=t.getProperty("/info")||"";a.display_search_keywords=t.getProperty("/keywords")||"";const s=i.bag.getBag("tileProperties");s.setText("display_title_text",a.display_title_text);s.setText("display_subtitle_text",a.display_subtitle_text);s.setText("display_info_text",a.display_info_text);s.setText("display_search_keywords",a.display_search_keywords);s.save(()=>{r.debug("property bag 'tileProperties' saved successfully");this.getView().getModel().setProperty("/config/display_title_text",a.display_title_text);this.getView().getModel().setProperty("/config/display_subtitle_text",a.display_subtitle_text);this.getView().getModel().setProperty("/config/display_info_text",a.display_info_text);this.getView().getModel().setProperty("/config/display_search_keywords",a.display_search_keywords);this.getView().getModel().refresh()},(e,t)=>{const i=Object.keys(e)[0];const a=new p(`Bag save failed: ${e[i]}`,{info:t[i],otherMessages:e,otherInfo:t});r.error("Bag save failed",a,"sap.ushell.components.tiles.applauncher.StaticTile.controller")})},onSaveConfiguration:function(e){const i=new jQuery.Deferred;const a=e.getModel();const s=a.getProperty("/tileModel");const o=e.getViewData().chip;const l=t.tileActionsRows2TileActionsArray(a.getProperty("/config/tile_actions_rows"));const c={display_icon_url:a.getProperty("/config/display_icon_url"),navigation_use_semantic_object:a.getProperty("/config/navigation_use_semantic_object"),navigation_target_url:a.getProperty("/config/navigation_target_url"),navigation_semantic_object:(a.getProperty("/config/navigation_semantic_object")||"").trim(),navigation_semantic_action:(a.getProperty("/config/navigation_semantic_action")||"").trim(),navigation_semantic_parameters:(a.getProperty("/config/navigation_semantic_parameters")||"").trim(),display_search_keywords:a.getProperty("/config/display_search_keywords")};let g=t.checkInputOnSaveConfig(e);if(!g){g=t.checkTileActions(e)}if(g){i.reject(new Error("mandatory_fields_missing"));return i.promise()}if(c.navigation_use_semantic_object){c.navigation_target_url=t.getSemanticNavigationUrl(c);a.setProperty("/config/navigation_target_url",c.navigation_target_url)}const _=o.bag.getBag("tileProperties");_.setText("display_title_text",a.getProperty("/config/display_title_text"));_.setText("display_subtitle_text",a.getProperty("/config/display_subtitle_text"));_.setText("display_info_text",a.getProperty("/config/display_info_text"));_.setText("display_search_keywords",c.display_search_keywords);const d=o.bag.getBag("tileNavigationActions");t.populateTileNavigationActionsBag(d,l);function f(e,t){r.error(`property bag 'tileProperties' save failed: ${e}`,null,"sap.ushell.components.tiles.applauncher.StaticTile.controller");i.reject(new p(e,t))}o.writeConfiguration.setParameterValues({tileConfiguration:JSON.stringify(c)},()=>{const a=t.getAppLauncherConfig(o,false,false);const l=t.getAppLauncherConfig(o,true,false);const c=new n({config:a,nav:{navigation_target_url:""},tileModel:s});e.setModel(c);s.setData({config:l,nav:{navigation_target_url:""}},false);if(o.preview){o.preview.setTargetUrl(a.navigation_target_url);o.preview.setPreviewIcon(a.display_icon_url);o.preview.setPreviewTitle(a.display_title_text);if(o.preview.setPreviewSubtitle&&typeof o.preview.setPreviewSubtitle==="function"){o.preview.setPreviewSubtitle(a.display_subtitle_text)}}_.save(()=>{r.debug("property bag 'tileProperties' saved successfully");if(o.title){o.title.setTitle(a.display_title_text,()=>{i.resolve()},f)}else{i.resolve()}},(e,t)=>{const a=Object.keys(e)[0];const s=new p(`Bag save failed: ${e[a]}`,{info:t[a],otherMessages:e,otherInfo:t});r.error("Bag save failed",s,"sap.ushell.components.tiles.applauncher.StaticTile.controller");i.reject(s)});d.save(()=>{r.debug("property bag 'navigationProperties' saved successfully")},(e,t)=>{const a=Object.keys(e)[0];const s=new p(`Bag save failed: ${e[a]}`,{info:t[a],otherMessages:e,otherInfo:t});r.error("Bag save failed",s,"sap.ushell.components.tiles.applauncher.StaticTile.controller");i.reject(s)})},f);e.destroy();return i.promise()},onCancelConfiguration:function(e){const i=e.getViewData();const a=e.getModel();const s=a.getProperty("/tileModel");const o=i.chip;const n=t.getAppLauncherConfig(o,o.configurationUi.isEnabled(),false);e.getModel().setData({config:n,nav:{navigation_target_url:""},tileModel:s},false);e.destroy()},formatters:{leanURL:a.getLeanURL.bind(a)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/applauncher/StaticTile.view", ["sap/ui/core/mvc/View","sap/m/GenericTile","sap/m/ImageContent","sap/m/TileContent","sap/ushell/components/tiles/applauncher/StaticTile.controller"],(e,t,n,i)=>{"use strict";return e.extend("sap.ushell.components.tiles.applauncher.StaticTile",{getControllerName:function(){return"sap.ushell.components.tiles.applauncher.StaticTile"},createContent:function(){this.setHeight("100%");this.setWidth("100%");return this.getTileControl()},getTileControl:function(){const e=this.getController();if(this.getContent().length===1){return this.getContent()[0]}return new t({mode:"{= ${/mode} || (${/config/display_icon_url} ? 'ContentMode' : 'HeaderMode') }",header:"{/config/display_title_text}",subheader:"{/config/display_subtitle_text}",sizeBehavior:"{/sizeBehavior}",wrappingType:"{/wrappingType}",url:{parts:["/targetURL","/nav/navigation_target_url"],formatter:e.formatters.leanURL},tileContent:new i({footer:"{/config/display_info_text}",content:new n({src:"{/config/display_icon_url}"})}),press:[e.onPress,e]})},getMode:function(){return this.getModel().getProperty("/mode")||(this.getModel().getProperty("/config/display_icon_url")?"ContentMode":"HeaderMode")}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/applauncherdynamic/Component", ["sap/ui/core/mvc/View","sap/ui/core/UIComponent"],(e,n)=>{"use strict";return n.extend("sap.ushell.components.tiles.applauncherdynamic",{metadata:{interfaces:["sap.ui.core.IAsyncContentCreation"]},createContent:function(){const n=this.getComponentData();return e.create({viewName:"module:sap/ushell/components/tiles/applauncherdynamic/DynamicTile.view",viewData:n})}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/applauncherdynamic/Configuration.controller", ["sap/ui/core/mvc/Controller","sap/ushell/components/tiles/utils","sap/ui/core/ListItem"],(e,t,n)=>{"use strict";return e.extend("sap.ushell.components.tiles.applauncherdynamic.Configuration",{onConfigurationInputChange:function(e){t.checkInput(this.getView(),e)},aDefaultObjects:[{obj:"",name:""}],onInit:function(){const e=this.getView();const o=e.byId("navigation_semantic_objectInput");const i=e.byId("navigation_semantic_actionInput");const c=t.getResourceBundleModel();e.setModel(c,"i18n");const a=t.getResourceBundle();e.setViewName("sap.ushell.components.tiles.applauncherdynamic.Configuration");t.createSemanticObjectModel(this,o,this.aDefaultObjects);t.createActionModel(this,i,this.aDefaultObjects);o.attachChange(t=>{const n=t.getSource().getValue();e.getModel().setProperty("/config/navigation_semantic_object",n)});i.attachChange(t=>{const n=t.getSource().getValue();e.getModel().setProperty("/config/navigation_semantic_action",n)});e.byId("targetUrl").bindProperty("enabled",{formatter:function(e){return!e},path:"/config/navigation_use_semantic_object"});let s=new n({key:"URL",text:a.getText("configuration.tile_actions.table.target_type.url")});e.byId("targetTypeCB").addItem(s);s=new n({key:"INT",text:a.getText("configuration.tile_actions.table.target_type.intent")});e.byId("targetTypeCB").addItem(s)},onAfterRendering:function(){t.updateMessageStripForOriginalLanguage(this.getView())},onValueHelpRequest:function(e){t.objectSelectOnValueHelpRequest(this,e,false)},onActionValueHelpRequest:function(e){t.actionSelectOnValueHelpRequest(this,e,false)},onCheckBoxChange:function(e){const n=this.getView();const o=n.byId("navigation_semantic_objectInput");const i=o.getModel();const c=e.getSource().getSelected();i.setProperty("/enabled",c);t.checkInput(this.getView(),e)},onIconValueHelpRequest:function(e){t.iconSelectOnValueHelpRequest(this,e,false)},onSelectIconClose:function(){t.onSelectIconClose(this.getView())},onSelectIconOk:function(){t.onSelectIconOk(this.getView())},handleTargetTypeChange:function(e){t.onTargetTypeChange(e)},onTileActionValueHelp:function(e){t.objectSelectOnValueHelpRequest(this,e,true)},onTileActionIconValueHelp:function(e){t.iconSelectOnValueHelpRequest(this,e,true)},addRow:function(){t.addTileActionsRow(this.getView())},deleteRow:function(){t.deleteTileActionsRow(this.getView())}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/applauncherdynamic/DynamicTile.controller", ["sap/ui/core/EventBus","sap/ushell/library","sap/ui/core/mvc/Controller","sap/ushell/components/tiles/utils","sap/ushell/Config","sap/ushell/utils/WindowUtils","sap/m/library","sap/ui/model/json/JSONModel","sap/ui/thirdparty/jquery","sap/base/Log","sap/ushell/utils/DynamicTileRequest","sap/ushell/utils/UrlParsing","sap/ushell/utils","sap/ushell/EventHub","sap/ushell/Container","sap/ushell/utils/LaunchpadError"],(e,t,i,s,a,r,n,o,jQuery,l,c,g,p,u,f,d)=>{"use strict";const _=n.GenericTileScope;const h=n.GenericTileMode;const y=t.AppType;const v="sap.ushell.components.tiles.applauncherdynamic.DynamicTile";return i.extend(v,{_aDoables:[],oDataRequest:null,sConfigNavigationTargetUrlOld:"",REFRESH_INTERVAL_MIN:10,constructTargetUrlWithSapSystem:function(e,t){let i;if(t){if(g.isIntentUrl(e)){i=g.parseShellHash(e);if(!i.params){i.params={}}i.params["sap-system"]=t;e=`#${g.constructShellHash(i)}`}else{e+=`${e.indexOf("?")<0?"?":"&"}sap-system=${t}`}}return e},onInit:function(){const t=this;const i=this.getView();const r=i.getViewData();const n=r.chip;const c=s.getAppLauncherConfig(n,n.configurationUi.isEnabled(),false);const g=c.navigation_target_url;const p=n.url.getApplicationSystem();this.sConfigNavigationTargetUrlOld=c.navigation_target_url;l.setLevel(2,v);this.bIsRequestCompleted=false;this.navigationTargetUrl=this.constructTargetUrlWithSapSystem(g,p);const u=new o({sizeBehavior:a.last("/core/home/sizeBehavior"),wrappingType:a.last("/core/home/wrappingType"),config:c,mode:c.display_mode||h.ContentMode,data:s.getDataToDisplay(c,{number:n.preview&&n.preview.isEnabled()?1234:"..."}),nav:{navigation_target_url:n.configurationUi&&n.configurationUi.isEnabled()?"":this.navigationTargetUrl},search:{display_highlight_terms:[]}});i.setModel(u);this._aDoables.push(a.on("/core/home/sizeBehavior").do(e=>{u.setProperty("/sizeBehavior",e)}));if(n.types){n.types.attachSetType(e=>{if(t.tileType!==e){if(e==="link"){u.setProperty("/mode",h.LineMode)}else{u.setProperty("/mode",u.getProperty("/config/display_mode")||h.ContentMode)}t.tileType=e}})}if(!this.tileType){this.tileType="tile"}if(n.search){const e=i.getModel().getProperty("/config/display_search_keywords");const t=e.split(/[, ]+/).filter((e,t)=>e&&e!=="");if(c.display_title_text&&c.display_title_text!==""&&t.indexOf(c.display_title_text)===-1){t.push(c.display_title_text)}if(c.display_subtitle_text&&c.display_subtitle_text!==""&&t.indexOf(c.display_subtitle_text)===-1){t.push(c.display_subtitle_text)}if(c.display_info_text&&c.display_info_text!==""&&t.indexOf(c.display_info_text)===-1){t.push(c.display_info_text)}if(c.display_number_unit&&c.display_number_unit!==""&&t.indexOf(c.display_number_unit)===-1){t.push(c.display_number_unit)}n.search.setKeywords(t);n.search.attachHighlight(e=>{i.getModel().setProperty("/search/display_highlight_terms",e)})}if(n.bag&&n.bag.attachBagsUpdated){n.bag.attachBagsUpdated(e=>{if(e.indexOf("tileProperties")>-1){s._updateTilePropertiesTexts(i,n.bag.getBag("tileProperties"))}})}if(n.configuration&&n.configuration.attachConfigurationUpdated){n.configuration.attachConfigurationUpdated(e=>{if(e.indexOf("tileConfiguration")>-1){s._updateTileConfiguration(i,n.configuration.getParameterValueAsString("tileConfiguration"))}})}if(n.preview){n.preview.setTargetUrl(this.navigationTargetUrl);n.preview.setPreviewIcon(c.display_icon_url);n.preview.setPreviewTitle(c.display_title_text);if(n.preview.setPreviewSubtitle&&typeof n.preview.setPreviewSubtitle==="function"){n.preview.setPreviewSubtitle(c.display_subtitle_text)}}if(n.configurationUi.isEnabled()){n.configurationUi.setAsyncUiProvider(()=>s.getConfigurationUi(i,"sap.ushell.components.tiles.applauncherdynamic.Configuration").then(e=>{n.configurationUi.attachCancel(t.onCancelConfiguration.bind(null,e));n.configurationUi.attachSave(t.onSaveConfiguration.bind(null,e));return e}));this.getView().getContent()[0].setTooltip(s.getResourceBundle().getText("edit_configuration.tooltip"))}else if(!n.preview||!n.preview.isEnabled()){if(!p){f.addRemoteSystemForServiceUrl(c.service_url)}this.bNeedsRefresh=true;this.iNrOfTimerRunning=0}if(n.refresh){n.refresh.attachRefresh(this.refreshHandler.bind(this))}if(n.visible){n.visible.attachVisible(this.visibleHandler.bind(this))}if(n.actions){let e;const t=c.actions;if(t){e=t.slice()}else{e=[]}if(a.last("/core/shell/enablePersonalization")){const t=u.getProperty("/mode")===h.LineMode?"link":"tile";const i=s.getTileSettingsAction(u,this.onSaveRuntimeSettings.bind(this),t);e.push(i)}n.actions.setActionsProvider(()=>e)}e.getInstance().subscribe("launchpad","sessionTimeout",this._clearRequest,this)},stopRequests:function(){if(this.oDataRequest){if(this.oDataRequest.abort()){this.bNeedsRefresh=true}}},_clearRequest:function(){this.stopRequests();clearTimeout(this.timer)},onExit:function(){if(this.oDataRequest){this._clearRequest();this.oDataRequest.destroy()}e.getInstance().unsubscribe("launchpad","sessionTimeout",this._clearRequest,this);this._aDoables.forEach(e=>{e.off()});this._aDoables=[]},onPress:function(e){const t=this.getView();const i=t.getViewData();const s=t.getModel();const n=s.getProperty("/nav/navigation_target_url");const o=i.chip;const l=s.getProperty("/config");if(e.getSource().getScope&&e.getSource().getScope()===_.Display){if(o.configurationUi.isEnabled()){o.configurationUi.display()}else if(n){u.emit("UITracer.trace",{reason:"LaunchApp",source:"Tile",data:{targetUrl:n}});if(n[0]==="#"){hasher.setHash(n)}else{const e=a.last("/core/shell/enableRecentActivity")&&a.last("/core/shell/enableRecentActivityLogging");if(e){const e={title:l.display_title_text,appType:y.URL,url:l.navigation_target_url,appId:l.navigation_target_url};f.getRendererInternal("fiori2").logRecentActivity(e)}r.openURL(n,"_blank")}}}},onSaveRuntimeSettings:function(e){const t=this.getView();const i=t.getModel();const s=t.getViewData().chip;const a=i.getProperty("/config");const r=e.getModel();a.display_title_text=r.getProperty("/title")||"";a.display_subtitle_text=r.getProperty("/subtitle")||"";a.display_info_text=r.getProperty("/info")||"";a.display_search_keywords=r.getProperty("/keywords")||"";const n=s.bag.getBag("tileProperties");n.setText("display_title_text",a.display_title_text);n.setText("display_subtitle_text",a.display_subtitle_text);n.setText("display_info_text",a.display_info_text);n.setText("display_search_keywords",a.display_search_keywords);n.save(()=>{l.debug("property bag 'tileProperties' saved successfully");i.setProperty("/config",a);i.setProperty("/data/display_title_text",a.display_title_text);i.setProperty("/data/display_subtitle_text",a.display_subtitle_text);i.setProperty("/data/display_info_text",a.display_info_text);i.refresh()},(e,t)=>{const i=Object.keys(e)[0];const s=new d(`Bag save failed: ${e[i]}`,{info:t[i],otherMessages:e,otherInfo:t});l.error("Bag save failed",s,v)})},onSaveConfiguration:function(e){const t=new jQuery.Deferred;const i=e.getModel();const a=i.getProperty("/tileModel");const r=e.getViewData().chip;const n=s.tileActionsRows2TileActionsArray(i.getProperty("/config/tile_actions_rows"));const c={display_icon_url:i.getProperty("/config/display_icon_url"),display_number_unit:i.getProperty("/config/display_number_unit"),service_url:i.getProperty("/config/service_url"),service_refresh_interval:i.getProperty("/config/service_refresh_interval"),navigation_use_semantic_object:i.getProperty("/config/navigation_use_semantic_object"),navigation_target_url:i.getProperty("/config/navigation_target_url"),navigation_semantic_object:(i.getProperty("/config/navigation_semantic_object")||"").trim(),navigation_semantic_action:(i.getProperty("/config/navigation_semantic_action")||"").trim(),navigation_semantic_parameters:(i.getProperty("/config/navigation_semantic_parameters")||"").trim(),display_search_keywords:i.getProperty("/config/display_search_keywords")};let g=s.checkInputOnSaveConfig(e);if(!g){g=s.checkTileActions(e)}if(g){t.reject(new Error("mandatory_fields_missing"));return t.promise()}if(c.navigation_use_semantic_object){c.navigation_target_url=s.getSemanticNavigationUrl(c);i.setProperty("/config/navigation_target_url",c.navigation_target_url)}const p=r.bag.getBag("tileProperties");p.setText("display_title_text",i.getProperty("/config/display_title_text"));p.setText("display_subtitle_text",i.getProperty("/config/display_subtitle_text"));p.setText("display_info_text",i.getProperty("/config/display_info_text"));p.setText("display_search_keywords",c.display_search_keywords);const u=r.bag.getBag("tileNavigationActions");s.populateTileNavigationActionsBag(u,n);function f(e,i){l.error(`property bag 'tileProperties' save failed: ${e}`,null,v);t.reject(new d(e,i))}r.writeConfiguration.setParameterValues({tileConfiguration:JSON.stringify(c)},()=>{const i=s.getAppLauncherConfig(r,false,false);const n=s.getAppLauncherConfig(r,true,false);const c=new o({config:i,tileModel:a});e.setModel(c);a.setData({data:n,nav:{navigation_target_url:""}},false);if(r.preview){r.preview.setTargetUrl(i.navigation_target_url);r.preview.setPreviewIcon(i.display_icon_url);r.preview.setPreviewTitle(i.display_title_text);if(r.preview.setPreviewSubtitle&&typeof r.preview.setPreviewSubtitle==="function"){r.preview.setPreviewSubtitle(i.display_subtitle_text)}}p.save(()=>{l.debug("property bag 'tileProperties' saved successfully");if(r.title){r.title.setTitle(i.display_title_text,()=>{t.resolve()},f)}else{t.resolve()}},(e,i)=>{const s=Object.keys(e)[0];const a=new d(`Bag save failed: ${e[s]}`,{info:i[s],otherMessages:e,otherInfo:i});l.error("Bag save failed",a,v);t.reject(a)});u.save(()=>{l.debug("property bag 'navigationProperties' saved successfully")},(e,i)=>{const s=Object.keys(e)[0];const a=new d(`Bag save failed: ${e[s]}`,{info:i[s],otherMessages:e,otherInfo:i});l.error("Bag save failed",a,v);t.reject(a)})},f);return t.promise()},successHandlerFn:function(e){const t=this.getView();const i=t.getModel();const a=i.getProperty("/config");const r=i.getProperty("/config/navigation_target_url");let n=i.getProperty("/config/service_refresh_interval");const o=i.getProperty("/config/service_url");const c=t.getViewData();const g=c.chip;const p=g.url.getApplicationSystem();if(c.properties&&c.properties.info){if(typeof e==="object"){e.info=c.properties.info}}const u=s.getDataToDisplay(a,e);i.setProperty("/data",u);if(this.sConfigNavigationTargetUrlOld!==r){this.navigationTargetUrl=this.constructTargetUrlWithSapSystem(r,p);this.sConfigNavigationTargetUrlOld=this.navigationTargetUrl}i.setProperty("/nav/navigation_target_url",s.addParamsToUrl(this.navigationTargetUrl,u));if(n>0){n=Math.max(n,this.REFRESH_INTERVAL_MIN);l.info(`Wait ${n} seconds before calling ${o} again`,null,v);this.refeshAfterInterval(n)}},errorHandlerFn:function(e,t){const i=this.getView();const s=i.getModel();const a=s.getProperty("/config/service_url");let r=e&&e.message?e.message:e;if(e.statusText==="Abort"||e.aborted===true){l.info(`Data request from service ${a} was aborted`,null,v)}else{if(e.response){r+=` - ${e.response.statusCode} ${e.response.statusText}`}const i=t?l.warning:l.error;i(`Failed to update data via service\n service URL: ${a}\n ${r}`,null,v);this._setTileIntoErrorState()}},_setTileIntoErrorState:function(){const e=s.getResourceBundle();const t=this.getView().getModel();const i=t.getProperty("/config");t.setProperty("/data",s.getDataToDisplay(i,{number:"???",info:e.getText("dynamic_data.error"),infoState:"Critical"}))},onCancelConfiguration:function(e){const t=e.getViewData();const i=e.getModel();const a=i.getProperty("/tileModel");const r=t.chip;const n=s.getAppLauncherConfig(r,false,false);i.setData({config:n,tileModel:a},false)},loadData:function(){const e=this.getView();const t=e.getViewData().chip;const i=e.getModel();let s=i.getProperty("/config/service_url");if(/;o=([;/?]|$)/.test(s)){s=t.url.addSystemToServiceUrl(s)}if(!s){l.error("No service URL given!",v);this._setTileIntoErrorState();return}if(!this.oDataRequest||this.oDataRequest.sUrl!==s){if(this.oDataRequest){this.oDataRequest.destroy()}this.sRequestUrl=s;const e={dataSource:i.getProperty("/config/data_source")};this.oDataRequest=new c(s,this.successHandlerFn.bind(this),this.errorHandlerFn.bind(this),"",e)}else if(this.oDataRequest){this.oDataRequest.refresh()}},refreshTile:function(){const e=this.getView();const t=e.getViewData();const i=t.chip.visible.isVisible();if(i&&this.bNeedsRefresh){this.bNeedsRefresh=false;this.loadData()}},refeshAfterInterval:function(e){this.iNrOfTimerRunning++;this.timer=window.setTimeout(()=>{this.iNrOfTimerRunning--;if(this.iNrOfTimerRunning===0){this.bNeedsRefresh=true;this.refreshTile()}},p.sanitizeTimeoutDelay(e*1e3))},refreshHandler:function(){this.bNeedsRefresh=true;this.refreshTile()},visibleHandler:function(e){if(e){this.refreshTile()}else{this.stopRequests()}},formatters:{leanURL:r.getLeanURL.bind(r)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/applauncherdynamic/DynamicTile.view", ["sap/ui/core/mvc/View","sap/m/GenericTile","sap/m/TileContent","sap/m/library","sap/m/NumericContent","sap/ushell/components/tiles/applauncherdynamic/DynamicTile.controller"],(t,e,a,n,r)=>{"use strict";const i=n.ValueColor;return t.extend("sap.ushell.components.tiles.applauncherdynamic.DynamicTile",{getControllerName:function(){return"sap.ushell.components.tiles.applauncherdynamic.DynamicTile"},createContent:function(){this.setHeight("100%");this.setWidth("100%");return this.getTileControl()},getTileControl:function(){const t=this.getController();if(this.getContent().length===1){return this.getContent()[0]}return new e({mode:"{/mode}",header:"{/data/display_title_text}",subheader:"{/data/display_subtitle_text}",sizeBehavior:"{/sizeBehavior}",wrappingType:"{/wrappingType}",url:{parts:["/targetURL","/nav/navigation_target_url"],formatter:t.formatters.leanURL},tileContent:[new a({footer:"{/data/display_info_text}",footerColor:{path:"/data/display_info_state",formatter:function(t){if(t==="Positive"){t=i.Good}if(t==="Negative"){t=i.Error}if(!i[t]){t=i.Neutral}return t}},unit:"{/data/display_number_unit}",content:[new r({scale:"{/data/display_number_factor}",value:"{/data/display_number_value}",truncateValueTo:5,indicator:"{/data/display_state_arrow}",valueColor:{path:"/data/display_number_state",formatter:function(t){if(!t||t==="Neutral"||!i[t]){return i.None}return t}},icon:"{/data/display_icon_url}",width:"100%",withMargin:false})]})],press:[t.onPress,t]})},getMode:function(){return this.getModel().getProperty("/mode")}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/cdm/applauncher/Component", ["sap/ui/core/mvc/XMLView","sap/ui/core/UIComponent"],(e,t)=>{"use strict";return t.extend("sap.ushell.components.tiles.cdm.applauncher.Component",{metadata:{interfaces:["sap.ui.core.IAsyncContentCreation"]},createContent:function(){const t=this.getComponentData();const o=t.properties.tilePersonalization||{};const n=t.startupParameters;if(n&&n["sap-system"]){o["sap-system"]=n["sap-system"][0]}return e.create({viewName:"sap.ushell.components.tiles.cdm.applauncher.StaticTile",viewData:{properties:t.properties,configuration:o}}).then(e=>{this._oController=e.getController();e.getContent()[0].bindTileContent({path:"/properties",factory:this._oController._getTileContent.bind(this._oController)});return e})},tileSetVisualProperties:function(e){if(this._oController){this._oController.updatePropertiesHandler(e)}},tileRefresh:function(){},tileSetVisible:function(e){},tileSetEditMode:function(e){if(this._oController){this._oController.editModeHandler(e)}},tileSetSizeBehavior:function(e){if(this._oController){this._oController.sizeBehaviorHandler(e)}},exit:function(){this._oController=null}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/cdm/applauncher/StaticTile.controller", ["sap/ushell/library","sap/ui/core/mvc/Controller","sap/ushell/Config","sap/ushell/utils/WindowUtils","sap/ui/model/json/JSONModel","sap/m/library","sap/base/Log","sap/ushell/utils/UrlParsing","sap/ushell/EventHub","sap/ushell/Container","sap/ushell/navigation/NavigationState"],(e,t,o,i,n,r,s,a,p,l,c)=>{"use strict";const g=r.GenericTileScope;const d=r.GenericTileMode;const h=e.DisplayFormat;const f=e.AppType;return t.extend("sap.ushell.components.tiles.cdm.applauncher.StaticTile",{_aDoables:[],_getConfiguration:function(){const e=this.getView().getViewData();e.properties.configSizeBehavior=o.last("/core/home/sizeBehavior");e.properties.wrappingType=o.last("/core/home/wrappingType");return e},onInit:function(){const e=this.getView();const t=new n;t.setData(this._getConfiguration());e.setModel(t);this._aDoables.push(o.on("/core/home/sizeBehavior").do(e=>{t.setProperty("/properties/configSizeBehavior",e)}));const i=this.getView().getViewData();const r=i.properties;r.mode=r.mode||(r.icon?"ContentMode":"HeaderMode");if(r.displayFormat===h.Compact&&r.title&&r.targetURL){t.setProperty("/properties/mode",d.LineMode)}switch(r.displayFormat){case h.Flat:t.setProperty("/properties/frameType","OneByHalf");break;case h.FlatWide:t.setProperty("/properties/frameType","TwoByHalf");break;case h.StandardWide:t.setProperty("/properties/frameType","TwoByOne");break;default:{t.setProperty("/properties/frameType","OneByOne")}}const s=o.last("/core/contentProviders/providerInfo/enabled");const a=o.last("/core/contentProviders/providerInfo/showContentProviderInfoOnVisualizations");t.setProperty("/properties/showContentProviderInfoInTooltip",s);t.setProperty("/properties/showContentProviderInfoOnVisualizations",s&&a);if(s){this._aDoables.push(o.on("/core/contentProviders/providerInfo/showContentProviderInfoOnVisualizations").do(e=>{t.setProperty("/properties/showContentProviderInfoOnVisualizations",e)}))}},onExit:function(){this._aDoables.forEach(e=>{e.off()});this._aDoables=[]},editModeHandler:function(e){const t=e?g.ActionMore:g.Display;this.getView().getModel().setProperty("/properties/scope",t)},sizeBehaviorHandler:function(e){this.getView().getModel().setProperty("/properties/customSizeBehavior",e)},onPress:function(e){if(c.isNavigationRunning()){return}const t=this.getView().getViewData().properties;if(e.getSource().getScope&&e.getSource().getScope()===g.Display){const e=this._createTargetUrl();if(!e){return}p.emit("UITracer.trace",{reason:"LaunchApp",source:"Tile",data:{targetUrl:e}});if(e[0]==="#"){hasher.setHash(e)}else{const n=o.last("/core/shell/enableRecentActivity")&&o.last("/core/shell/enableRecentActivityLogging");if(n){const e={title:t.title,appType:f.URL,url:t.targetURL,appId:t.targetURL};l.getRendererInternal("fiori2").logRecentActivity(e)}i.openURL(e,"_blank")}}},updatePropertiesHandler:function(e){const t=this.getView().getContent()[0];const o=t.getTileContent()[0];if(typeof e.title!=="undefined"){t.setHeader(e.title)}if(typeof e.subtitle!=="undefined"){t.setSubheader(e.subtitle)}if(typeof e.icon!=="undefined"){o.getContent().setSrc(e.icon)}if(typeof e.info!=="undefined"){o.setFooter(e.info)}},_createTargetUrl:function(){let e=this.getView().getViewData().properties.targetURL;const t=this.getView().getViewData().configuration["sap-system"];let o;if(e&&t){if(a.isIntentUrl(e)){o=a.parseShellHash(e);if(!o.params){o.params={}}o.params["sap-system"]=t;e=`#${a.constructShellHash(o)}`}else{e+=`${e.indexOf("?")<0?"?":"&"}sap-system=${t}`}}return e},_getLeanUrl:function(){return i.getLeanURL(this._createTargetUrl())},_getTileContent:function(e,t){const o=t.getPath().split("/");o.pop();const i=t.getProperty(o.join("/"));if(i!==this.oLastBindingObject||this.oTileContent&&this.oTileContent.bIsDestroyed){this.oLastBindingObject=i;this.oTileContent=this.getView().byId(i.icon?"imageTileContent":"standardTileContent").clone()}return this.oTileContent},_getCurrentProperties:function(){const e=this.getView().getContent()[0];const t=e.getTileContent()[0];const i=o.last("/core/home/sizeBehavior");return{title:e.getHeader(),subtitle:e.getSubheader(),info:t.getFooter(),icon:t.getContent().getSrc(),mode:e.getMode(),configSizeBehavior:i}}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/cdm/applauncher/StaticTile.view", ["sap/ui/core/mvc/View","sap/m/GenericTile","sap/m/ImageContent","sap/m/TileContent"],(e,t,r,i)=>{"use strict";return e.extend("sap.ushell.components.tiles.cdm.applauncher.StaticTile",{getControllerName:function(){return"sap.ushell.components.tiles.cdm.applauncher.StaticTile"},createContent:function(e){this.setHeight("100%");this.setWidth("100%");if(this.getContent().length===1){return this.getContent()[0]}return new t({mode:"{/properties/mode}",header:"{/properties/title}",scope:"{/properties/scope}",subheader:"{/properties/subtitle}",sizeBehavior:"{= ${/properties/customSizeBehavior} || ${/properties/configSizeBehavior}}",frameType:"{/properties/frameType}",wrappingType:"{/properties/wrappingType}",url:{path:"/properties/targetURL",formatter:e._getLeanUrl.bind(e)},tileContent:new i({footer:"{/properties/info}",content:new r({src:"{/properties/icon}"})}),press:[e.onPress,e],additionalTooltip:"{/properties/contentProviderLabel}"})}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/cdm/applauncherdynamic/Component", ["sap/ui/core/mvc/XMLView","sap/ui/core/UIComponent"],(e,t)=>{"use strict";return t.extend("sap.ushell.components.tiles.cdm.applauncherdynamic.Component",{metadata:{interfaces:["sap.ui.core.IAsyncContentCreation"]},createContent:function(){const t=this.getComponentData();const r=t.properties||{};const i=r.tilePersonalization||{};const o=r.indicatorDataSource;if(o&&o.path){i.serviceUrl=o.path;i.serviceRefreshInterval=o.refresh}else if(o&&o.url){i.serviceUrl=o.url;i.serviceRefreshInterval=o.refreshInterval}const s=t.startupParameters;if(s&&s["sap-system"]&&s["sap-system"][0]){i["sap-system"]=s["sap-system"][0]}if(i.serviceUrl&&i.serviceUrl.charAt(0)!=="/"&&r.dataSource&&r.dataSource.uri){let e=r.dataSource.uri;if(i["sap-system"]){if(e.charAt(e.length-1)==="/"){e=e.slice(0,e.length-1)}e+=`;o=${i["sap-system"]}`}if(e.charAt(e.length-1)!=="/"){e+="/"}e+=i.serviceUrl;i.serviceUrl=e}return e.create({viewName:"sap.ushell.components.tiles.cdm.applauncherdynamic.DynamicTile",viewData:{properties:r,configuration:i}}).then(e=>{this._oController=e.getController();this._oController.visibleHandler(this.bIsVisible);return e})},tileSetVisualProperties:function(e){if(this._oController){this._oController.updateVisualPropertiesHandler(e)}},tileRefresh:function(){if(this._oController){this._oController.refreshHandler()}},tileSetVisible:function(e){if(this._oController){this._oController.visibleHandler(e)}else{this.bIsVisible=e}},tileSetEditMode:function(e){if(this._oController){this._oController.editModeHandler(e)}},tileSetSizeBehavior:function(e){if(this._oController){this._oController.sizeBehaviorHandler(e)}},tileSetPreview:function(e){if(this._oController){this._oController.previewHandler(e)}},exit:function(){this._oController=null}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/cdm/applauncherdynamic/DynamicTile.controller", ["sap/ui/core/mvc/Controller","sap/ushell/components/tiles/utils","sap/ui/core/format/NumberFormat","sap/ushell/Config","sap/ushell/utils/WindowUtils","sap/ui/model/json/JSONModel","sap/m/library","sap/ushell/library","sap/base/Log","sap/base/util/merge","sap/ushell/utils/DynamicTileRequest","sap/ushell/utils","sap/ushell/utils/UrlParsing","sap/ushell/EventHub","sap/ushell/Container","sap/ushell/navigation/NavigationState"],(e,t,i,r,o,s,n,a,l,u,p,c,f,d,h,m)=>{"use strict";const g=n.GenericTileScope;const b=n.DeviationIndicator;const v=n.ValueColor;const y=n.FrameType;const _=a.DisplayFormat;const D=a.AppType;const R="sap.ushell.components.tiles.cdm.applauncherdynamic.DynamicTile";const w="<RESET>";const P={title:"",subtitle:"",icon:"",info:"",infoState:v.Neutral,targetURL:"",number_value:"...",number_unit:"",number_factor:"",number_state_arrow:b.None,number_value_state:v.Neutral};return e.extend(R,{_aDoables:[],timer:null,iLastTimeoutStart:0,oDataRequest:null,bShouldNotRefreshDataAfterInit:false,_getConfiguration:function(e){const t={};let i;t.configuration=e.configuration;t.properties=e.properties;t.properties.info=t.properties.info||P.info;t.properties.number_value=t.properties.preview?1234:P.number_value;t.properties.number_value_state=P.number_value_state;t.properties.number_state_arrow=P.number_state_arrow;t.properties.number_factor=P.number_factor;t.properties.number_unit=t.properties.numberUnit||P.number_unit;const o=t.configuration["sap-system"];let s=t.properties.targetURL;if(s&&o){if(f.isIntentUrl(s)){i=f.parseShellHash(s);if(!i.params){i.params={}}i.params["sap-system"]=o;s=`#${f.constructShellHash(i)}`}else{s+=`${s.indexOf("?")<0?"?":"&"}sap-system=${o}`}t.properties.targetURL=s}t.properties.configSizeBehavior=r.last("/core/home/sizeBehavior");t.properties.wrappingType=r.last("/core/home/wrappingType");switch(t.properties.displayFormat){case _.Flat:t.properties.frameType=y.OneByHalf;break;case _.FlatWide:t.properties.frameType=y.TwoByHalf;break;case _.StandardWide:t.properties.frameType=y.TwoByOne;break;default:{t.properties.frameType=y.OneByOne}}t.originalProperties=u({},e.properties);return t},onInit:function(){const e=this.getView();const t=new s;const i=e.getViewData();const o=i.properties;t.setData(this._getConfiguration(i));const n=r.last("/core/contentProviders/providerInfo/enabled");const a=r.last("/core/contentProviders/providerInfo/showContentProviderInfoOnVisualizations");t.setProperty("/properties/showContentProviderInfoInTooltip",n);t.setProperty("/properties/showContentProviderInfoOnVisualizations",n&&a);if(n){this._aDoables.push(r.on("/core/contentProviders/providerInfo/showContentProviderInfoOnVisualizations").do(e=>{t.setProperty("/properties/showContentProviderInfoOnVisualizations",e)}))}e.setModel(t);this._aDoables.push(r.on("/core/home/sizeBehavior").do(e=>{t.setProperty("/properties/configSizeBehavior",e)}));if(o.preview){this.previewHandler(true)}},refreshHandler:function(){this.loadData(0,true)},visibleHandler:function(e){if(e){if(!this.oDataRequest||this.timer===null){this.initRequestInterval()}}else{this.stopRequests()}},editModeHandler:function(e){const t=e?g.ActionMore:g.Display;this.getView().getModel().setProperty("/properties/scope",t)},sizeBehaviorHandler:function(e){this.getView().getModel().setProperty("/properties/customSizeBehavior",e)},previewHandler:function(e){const t=this.getView();const i=t.getModel();if(e){const e=t.getViewData();const r=u({},e,{properties:{preview:true}});const o=this._getConfiguration(r);const s=u({},o.properties,{customSizeBehavior:i.getProperty("/properties/customSizeBehavior"),configSizeBehavior:i.getProperty("/properties/configSizeBehavior")});i.setProperty("/properties",s);return}i.setProperty("/properties/preview",false)},updateVisualPropertiesHandler:function(e){const t=this.getView().getModel().getProperty("/properties");const i=this.getView().getModel().getProperty("/originalProperties");if(c.isDefined(e.title)){t.title=e.title;i.title=e.title}if(c.isDefined(e.subtitle)){t.subtitle=e.subtitle;i.subtitle=e.subtitle}if(c.isDefined(e.icon)){t.icon=e.icon;i.icon=e.icon}if(c.isDefined(e.targetURL)){t.targetURL=e.targetURL;i.targetURL=e.targetURL}if(c.isDefined(e.info)){t.info=e.info;i.info=e.info}this.getView().getModel().refresh()},stopRequests:function(){if(this.timer){clearTimeout(this.timer);this.timer=null}if(this.oDataRequest){this.oDataRequest.abort()}},onPress:function(e){if(m.isNavigationRunning()){return}if(e.getSource().getScope&&e.getSource().getScope()===g.Display){const e=this.getView().getModel().getProperty("/properties/targetURL");const t=this.getView().getModel().getProperty("/properties/title");if(!e){return}d.emit("UITracer.trace",{reason:"LaunchApp",source:"Tile",data:{targetUrl:e}});if(e[0]==="#"){hasher.setHash(e)}else{const i=r.last("/core/shell/enableRecentActivity")&&r.last("/core/shell/enableRecentActivityLogging");if(i){const i={title:t,appType:D.URL,url:e,appId:e};h.getRendererInternal("fiori2").logRecentActivity(i)}o.openURL(e,"_blank")}}},initRequestInterval:function(){const e=this.getView().getModel();let t=e.getProperty("/configuration/serviceRefreshInterval");if(!t||t==="0"){t=0;if(this.oDataRequest){this.bShouldNotRefreshDataAfterInit=true}}else if(t<10){const i=e.getProperty("/configuration/serviceUrl");l.warning(`Refresh Interval ${t} seconds for service URL ${i} is less than 10 seconds, which is not supported. Increased to 10 seconds automatically.`,null,R);t=10}this.loadData(t,false)},loadData:function(e,t){if(!t&&this.bShouldNotRefreshDataAfterInit){return}const i=this.getView().getModel();const r=i.getProperty("/properties/preview");const o=i.getProperty("/configuration/serviceUrl");if(r){l.info("Tile in preview mode",R);return}if(!o){l.error("No service URL given!",R);this._setTileIntoErrorState();return}const s=e*1e3-(Date.now()-this.iLastTimeoutStart);if(!t&&!this.timer&&s>0){l.info(`Started timeout to call ${o} again in ${Math.ceil(s/1e3)} seconds`,null,R);this.timer=setTimeout(this.loadData.bind(this,e,false),c.sanitizeTimeoutDelay(s));return}if(!this.oDataRequest||this.oDataRequest.sUrl!==o){if(this.oDataRequest){this.oDataRequest.destroy()}const e=i.getProperty("/properties/contentProviderId");const t={dataSource:i.getProperty("/properties/dataSource")};this.oDataRequest=new p(o,this.successHandlerFn.bind(this),this.errorHandlerFn.bind(this),e,t)}else if(this.oDataRequest){this.oDataRequest.refresh()}if(e>0){l.info(`Started timeout to call ${o} again in ${e} seconds`,null,R);this.iLastTimeoutStart=Date.now();this.timer=setTimeout(this.loadData.bind(this,e,false),c.sanitizeTimeoutDelay(e*1e3))}},successHandlerFn:function(e){this.updatePropertiesHandler(e)},errorHandlerFn:function(e){let t=e&&e.message?e.message:e;const i=this.getView().getModel().getProperty("/configuration/serviceUrl");if(e.statusText==="Abort"||e.aborted===true){l.info(`Data request from service ${i} was aborted`,null,R);this.bShouldNotRefreshDataAfterInit=false}else{if(e.response){t+=` - ${e.response.statusCode} ${e.response.statusText}`}l.error(`Failed to update data via service ${i}: ${t}`,null,R);this._setTileIntoErrorState()}},_setTileIntoErrorState:function(){const e=t.getResourceBundle();this.updatePropertiesHandler({number:"???",info:e.getText("dynamic_data.error")})},_normalizeNumber:function(e,t,r,o){let s;if(isNaN(e)){s=e}else{const t=i.getFloatInstance({maxFractionDigits:o});if(!r){const t=Math.abs(e);if(t>=1e9){r="B";e/=1e9}else if(t>=1e6){r="M";e/=1e6}else if(t>=1e3){r="K";e/=1e3}}s=t.format(e)}let n=s;const a=n[t-1];t-=a==="."||a===","?1:0;n=n.substring(0,t);return{displayNumber:n,numberFactor:r}},updatePropertiesHandler:function(e){const t=this.getView().getModel().getProperty("/originalProperties");const o=this.getView().getModel().getProperty("/properties");const s=[{dataField:"title",modelField:"title"},{dataField:"subtitle",modelField:"subtitle"},{dataField:"icon",modelField:"icon"},{dataField:"info",modelField:"info"},{dataField:"infoState",modelField:"infoState"},{dataField:"targetURL",modelField:"targetURL"},{dataField:"stateArrow",modelField:"number_state_arrow"},{dataField:"numberState",modelField:"number_value_state"},{dataField:"numberUnit",modelField:"number_unit"},{dataField:"numberFactor",modelField:"number_factor"}];s.forEach(i=>{const r=e[i.dataField];const s=!r;const n=P[i.modelField];if(s){o[i.modelField]=t[i.modelField]||n}else if(this._isResetValue(r)){o[i.modelField]=n}else{o[i.modelField]=r}});o.number_value=!isNaN(e.number)?e.number:P.number_value;o.number_digits=e.numberDigits>=0?e.numberDigits:4;const n=[];if(e.targetParams){n.push(e.targetParams)}if(e.results){let t;let i;let r=0;e.results.forEach(e=>{i=e.number||0;if(typeof i==="string"){i=parseFloat(i)}r+=i;t=e.targetParams;if(t){n.push(t)}});o.number_value=r}if(n.length>0){const e=o.targetURL.indexOf("?")!==-1?"&":"?";o.targetURL+=e+n.join("&")}if(!isNaN(e.number)){if(typeof e.number==="string"){e.number=e.number.trim()}const t=this._shouldProcessDigits(e.number,e.numberDigits);const r=o.icon?4:5;if(e.number&&e.number.toString().length>=r||t){const t=this._normalizeNumber(e.number,r,e.numberFactor,e.numberDigits);o.number_factor=t.numberFactor;o.number_value=t.displayNumber}else{const t=i.getFloatInstance({maxFractionDigits:r});o.number_value=t.format(e.number)}}o.configSizeBehavior=r.last("/core/home/sizeBehavior");this.getView().getModel().refresh()},_shouldProcessDigits:function(e,t){let i;e=typeof e!=="string"?e.toString():e;if(e.indexOf(".")!==-1){i=e.split(".")[1].length;if(i>t){return true}}return false},_getLeanUrl:function(e){return o.getLeanURL(e)},_formatValueColor:function(e){if(e==="Positive"){return v.Good}if(e==="Negative"){return v.Error}return v[e]||v.Neutral},_getValueColor:function(e){const t=this._formatValueColor(e);if(t===v.Neutral){return v.None}return t},_isResetValue:function(e){if(typeof e!=="string"){return false}return e===w},onExit:function(){if(this.oDataRequest){this.stopRequests();this.oDataRequest.destroy()}this._aDoables.forEach(e=>{e.off()});this._aDoables=[]}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/cdm/applauncherdynamic/DynamicTile.view", ["sap/ui/core/mvc/View","sap/m/GenericTile","sap/m/TileContent","sap/m/NumericContent","sap/m/library"],(e,t,r,i,o)=>{"use strict";const n=o.ValueColor;return e.extend("sap.ushell.components.tiles.cdm.applauncherdynamic.DynamicTile",{getControllerName:function(){return"sap.ushell.components.tiles.cdm.applauncherdynamic.DynamicTile"},createContent:function(e){this.setHeight("100%");this.setWidth("100%");if(this.getContent().length===1){return this.getContent()[0]}return new t({header:"{/properties/title}",scope:"{/properties/scope}",subheader:"{/properties/subtitle}",sizeBehavior:"{= ${/properties/customSizeBehavior} || ${/properties/configSizeBehavior}}",frameType:"{/properties/frameType}",wrappingType:"{/properties/wrappingType}",url:{parts:["/properties/targetURL"],formatter:e.formatters&&e.formatters.leanURL},tileContent:new r({footer:"{/properties/info}",footerColor:{path:"/properties/infoState",formatter:function(e){if(e==="Positive"){e=n.Good}if(e==="Negative"){e=n.Error}if(!n[e]){e=n.Neutral}return e}},unit:"{/properties/number_unit}",content:new i({truncateValueTo:5,scale:"{/properties/number_factor}",value:"{/properties/number_value}",indicator:"{/properties/number_state_arrow}",valueColor:{path:"/properties/number_value_state",formatter:function(e){if(!e||e==="Neutral"||!n[e]){return n.None}return e}},icon:"{/properties/icon}",withMargin:false,width:"100%"})}),additionalTooltip:"{/properties/contentProviderLabel}",press:[e.onPress,e]})}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/generic", ["sap/ui/core/mvc/Controller","sap/ui/model/analytics/odata4analytics","sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil","sap/ushell/components/tiles/sbtilecontent","sap/m/library","sap/ui/core/format/DateFormat","sap/m/MessageToast","sap/ui/model/json/JSONModel","sap/ui/thirdparty/jquery","sap/base/Log"],(e,i,t,l,a,s,o,n,jQuery,r)=>{"use strict";const u=a.DeviationIndicator;const c=a.ValueColor;const T=a.FrameType;const h=a.LoadState;const g=e.extend("sap.ushell.components.tiles.generic",{getTile:function(){return this.oKpiTileView.oGenericTile},_updateTileModel:function(e){const i=this.getTile().getModel().getData();jQuery.extend(i,e);this.getTile().getModel().setData(i)},logError:function(e){this._updateTileModel({value:"",scale:"",unit:""});r.error(e);if(this.getView().getViewData().deferredObj){this.getView().getViewData().deferredObj.reject()}else{this.oKpiTileView.oGenericTile.setState(h.Failed)}},getKeyForCallCheck:function(){if(this.oKpiTileView.getViewName()=="sap.ushell.components.tiles.indicatornumeric.NumericTile"){return`${this.oConfig.TILE_PROPERTIES.id}left`}return`${this.oConfig.TILE_PROPERTIES.id}right`},getRelativeTime:function(){let e=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();let i;if(this.cacheTime instanceof Date){i=this.cacheTime}else{i=new Date(parseInt(this.cacheTime.substr(6),10))}const t=sap.ushell.components.tiles.indicatorTileUtils.util.getTimeDifference(e-i);let l;let a;switch(t.unit){case"minutes":a=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(t.time,"minutes");e=e-a;l=new Date(e);break;case"hours":a=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(t.time,"hours");e=e-a;l=new Date(e);break;case"days":a=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(t.time,"days");e=e-a;l=new Date(e);break}return l},setTimeStamp:function(){this.updateTimeStampjobScheduled=false;const e=s.getDateTimeInstance({relative:true,relativeSource:"auto",style:"short"});const i=e.format(this.getRelativeTime());this.oKpiTileView.oNVConfS.setRefreshOption(true);this.oKpiTileView.oNVConfS.setTimestamp(i);this.updateTimeStampjobScheduled=false;const t=`${this.oConfig.TILE_PROPERTIES.id}time`;let l=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(t);if(l){clearTimeout(l);l=undefined}sap.ushell.components.tiles.indicatorTileUtils.util.scheduleTimeStampJob.call(this,this.oTileApi.visible.isVisible())},isACurrencyMeasure:function(e){const i=this.DEFINITION_DATA.EVALUATION.ODATA_ENTITYSET;return sap.ushell.components.tiles.indicatorTileUtils.util.getFormattingMetadata(this.oRunTimeODataModel,i,e)._hasCurrency},isCurrencyMeasure:function(e){const i=this;const t=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(i.oConfig.TILE_PROPERTIES.id);if(t&&t.Data){let l=t.Data&&JSON.parse(t.Data);if(sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(i.oConfig)){if(i.oKpiTileView.getViewName()=="sap.ushell.components.tiles.indicatornumeric.NumericTile"){l=l.leftData}else{l=l.rightData}}if(i.oKpiTileView.getViewName()=="sap.ushell.components.tiles.indicatorcomparison.ComparisonTile"||i.oConfig.TILE_PROPERTIES.tileType==="CM"){if(l&&l.data&&l.data.length){for(let t=0;t<l.data.length;t++){if(l.data[t]&&l.data[t].measure==e){if(typeof l.data[t].isCurM==="boolean"){return l.data[t].isCurM}return i.isACurrencyMeasure(e)}return i.isACurrencyMeasure(e)}}else{return i.isACurrencyMeasure(e)}}if(l&&typeof l.isCurM==="boolean"){return l.isCurM}return i.isACurrencyMeasure(e)}return i.isACurrencyMeasure(e)},formSelectStatement:function(e){const i=Object.keys(e);let t="";for(let l=0;l<i.length;l++){if(e[i[l]]!==undefined&&e.fullyFormedMeasure){t=`${t},${e[i[l]]}`}}return t},setThresholdValues:function(){const e=this;try{const i={};i.fullyFormedMeasure=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){const t=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(e.oConfig.TILE_PROPERTIES.id);switch(this.DEFINITION_DATA.EVALUATION.GOAL_TYPE){case"MI":i.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","MEASURE");i.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","MEASURE");i.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");i.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");i.fullyFormedMeasure+=e.formSelectStatement(i);if(t&&t.Data&&t.Data.length){t.Data=JSON.parse(t.Data);i.trendValue=Number(t.Data.trend);i.targetValue=Number(t.Data.target);i.criticalHighValue=Number(t.Data.ch);i.warningHighValue=Number(t.Data.wh);t.Data=JSON.stringify(t.Data)}break;case"MA":i.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","MEASURE");i.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","MEASURE");i.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");i.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");i.fullyFormedMeasure+=e.formSelectStatement(i);if(t&&t.Data&&t.Data.length){t.Data=JSON.parse(t.Data);i.criticalLowValue=Number(t.Data.cl);i.warningLowValue=Number(t.Data.wl);i.trendValue=Number(t.Data.trend);i.targetValue=Number(t.Data.target);t.Data=JSON.stringify(t.Data)}break;case"RA":i.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","MEASURE");i.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","MEASURE");i.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");i.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");i.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","MEASURE");i.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","MEASURE");i.fullyFormedMeasure+=e.formSelectStatement(i);if(t&&t.Data&&t.Data.length){t.Data=JSON.parse(t.Data);i.criticalLowValue=Number(t.Data.cl);i.warningLowValue=Number(t.Data.wl);i.trendValue=Number(t.Data.trend);i.targetValue=Number(t.Data.target);i.criticalHighValue=Number(t.Data.ch);i.warningHighValue=Number(t.Data.wh);t.Data=JSON.stringify(t.Data)}break}}else if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="RELATIVE"){i.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");i.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");i.fullyFormedMeasure+=e.formSelectStatement(i);i.criticalHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","FIXED");i.criticalLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","FIXED");i.warningHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","FIXED");i.warningLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","FIXED")}else{i.criticalHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","FIXED");i.criticalLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","FIXED");i.warningHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","FIXED");i.warningLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","FIXED");i.targetValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","FIXED");i.trendValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","FIXED")}return i}catch(i){e.logError(i)}},setNoData:function(){const e=this.getView().getViewData();if(e.parentController){e.parentController.setNoData();if(e.deferredObj){e.deferredObj.resolve()}}else{try{this._updateTileModel({value:"",scale:"",unit:"",footerNum:this.oResourceBundle.getText("sb.noDataAvailable"),footerComp:this.oResourceBundle.getText("sb.noDataAvailable")});this.oKpiTileView.oGenericTile.setState(h.Loaded)}catch(e){}}},getLocalCache:function(e){const i={};i.ChipId=e.ChipId;i.Data=e.Data;i.CacheMaxAge=e.CacheMaxAgeUnit;i.CacheMaxAgeUnit=e.CacheMaxAgeUnit;i.CacheType=e.CacheType;i.CachedTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();return i},fetchKpiValue:function(e,i,t,l){const a=this;let s=0;try{const o=this.DEFINITION_DATA.EVALUATION.ODATA_ENTITYSET;const n=this.setThresholdValues();const u=n.fullyFormedMeasure;const c=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(a.oConfig.TILE_PROPERTIES.id);const h=a.oTileApi.configuration.getParameterValueAsString("timeStamp");const g=sap.ushell.components.tiles.indicatorTileUtils.util.isCacheValid(a.oConfig.TILE_PROPERTIES.id,h,a.chipCacheTime,a.chipCacheTimeUnit,a.tilePressed);const p=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(t);const d=this.getKeyForCallCheck();let m=true;if(sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(a.oConfig)){m=sap.ushell.components.tiles.indicatorTileUtils.util.isCallInProgress(d);if(m==undefined){m=true}}if(m){let t;if(!c||!g&&a.oTileApi.visible.isVisible()||p||l&&a.oTileApi.visible.isVisible()||a.getView().getViewData().refresh){sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(d,false);if(a.kpiValueFetchDeferred){a.kpiValueFetchDeferred=false;const t=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.DEFINITION_DATA.EVALUATION_FILTERS,this.DEFINITION_DATA.ADDITIONAL_FILTERS);const l=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(a.oRunTimeODataModel,o,u,null,t);if(l){this.QUERY_SERVICE_MODEL=l.model;this.queryUriForKpiValue=l.uri;this.queryServiceUriODataReadRef=this.QUERY_SERVICE_MODEL.read(l.uri,null,null,true,i=>{a.backEndCallMade=true;a.kpiValueFetchDeferred=true;sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(d,true);if(i&&i.results&&i.results.length&&i.results[0][a.DEFINITION_DATA.EVALUATION.COLUMN_NAME]!=null){s=i.results[0][a.DEFINITION_DATA.EVALUATION.COLUMN_NAME];const t={};if(l.unit[0]){a._updateTileModel({unit:i.results[0][l.unit[0].name]});t.uom=i.results[0][l.unit[0].name]}if(a.oConfig.TILE_PROPERTIES.frameType=="TwoByOne"){t.numericValue=s}else{t.value=s}if(a.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){n.criticalHighValue=i.results[0][n.sCriticalHigh];n.criticalLowValue=i.results[0][n.sCriticalLow];n.warningHighValue=i.results[0][n.sWarningHigh];n.warningLowValue=i.results[0][n.sWarningLow];n.targetValue=i.results[0][n.sTarget];n.trendValue=i.results[0][n.sTrend]}else if(a.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="RELATIVE"){n.targetValue=Number(i.results[0][n.sTarget]);n.criticalHighValue=n.targetValue*n.criticalHighValue/100;n.criticalLowValue=n.targetValue*n.criticalLowValue/100;n.warningHighValue=n.targetValue*n.warningHighValue/100;n.warningLowValue=n.targetValue*n.warningLowValue/100;n.trendValue=Number(i.results[0][n.sTrend])}t.cl=n.criticalLowValue;t.ch=n.criticalHighValue;t.wl=n.warningLowValue;t.wh=n.warningHighValue;t.trend=n.trendValue;t.target=n.targetValue;t.isCurM=a.isCurrencyMeasure(a.oConfig.EVALUATION.COLUMN_NAME);const o={};o.ChipId=a.oConfig.TILE_PROPERTIES.id;o.Data=JSON.stringify(t);o.CacheMaxAge=Number(a.chipCacheTime);o.CacheMaxAgeUnit=a.chipCacheTimeUnit;o.CacheType=1;const r=a.getLocalCache(o);if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(a.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(a.oConfig.TILE_PROPERTIES.id,r);let e=false;if(c){e=true}if(a.chipCacheTime){sap.ushell.components.tiles.indicatorTileUtils.util.writeFrontendCacheByChipAndUserId(a.oTileApi,a.oConfig.TILE_PROPERTIES.id,o,e,e=>{if(e){a.cacheTime=e&&e.CachedTime;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(a.oConfig.TILE_PROPERTIES.id,e);a.setTimeStamp(a.cacheTime)}if(a.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(a.oConfig)){a.setTimeStamp(a.cacheTime)}})}}else{const e=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(a.oConfig.TILE_PROPERTIES.id);let i;if(e){if(!e.CachedTime){e.CachedTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate()}i=e.Data;if(i){i=JSON.parse(i);if(a.oKpiTileView.getViewName()=="sap.ushell.components.tiles.indicatornumeric.NumericTile"){i.leftData=t}else{i.rightData=t}}e.Data=JSON.stringify(i);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(a.oConfig.TILE_PROPERTIES.id,e)}else{i={};if(a.oKpiTileView.getViewName()=="sap.ushell.components.tiles.indicatornumeric.NumericTile"){i.leftData=t}else{i.rightData=t}r.Data=JSON.stringify(i);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(a.oConfig.TILE_PROPERTIES.id,r)}a.cacheWriteData=t}a.cacheTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();a.updateDatajobScheduled=false;const u=`${a.oConfig.TILE_PROPERTIES.id}data`;let T=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(u);if(T){clearTimeout(T);T=undefined}e.call(a,s,n)}else{sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(a.oConfig.TILE_PROPERTIES.id,{empty:"empty"});a.setNoData()}},e=>{a.kpiValueFetchDeferred=true;sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(d,true);if(e&&e.response){r.error(`${e.message} : ${e.request.requestUri}`);i.call(a,e)}})}else{a.kpiValueFetchDeferred=true;sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(d,true);a.logError("Error Preparing Query Service URI")}}}else if(a.DEFINITION_DATA.TILE_PROPERTIES.frameType==T.OneByOne){if(c&&c.Data){t=c.Data&&JSON.parse(c.Data);s=t.value;if(t.uom){a._updateTileModel({unit:t.uom})}if(a.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){n.criticalHighValue=t.ch;n.criticalLowValue=t.cl;n.warningHighValue=t.wh;n.warningLowValue=t.wl;n.targetValue=t.target;n.trendValue=t.trend}else if(a.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="RELATIVE"){n.targetValue=Number(t.target);n.criticalHighValue=n.targetValue*n.ch/100;n.criticalLowValue=n.targetValue*n.cl/100;n.warningHighValue=n.targetValue*n.wh/100;n.warningLowValue=n.targetValue*n.wl/100;n.trendValue=Number(t.trend)}a.cacheTime=c.CachedTime;if(a.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(a.oConfig)){a.setTimeStamp(c.CachedTime)}e.call(a,s,n)}else{a.setNoData()}}else if(c&&c.Data){t=c.Data&&JSON.parse(c.Data);if(a.oKpiTileView.getViewName()=="sap.ushell.components.tiles.indicatornumeric.NumericTile"){t=t.leftData}else{t=t.rightData}s=t.numericValue;if(t.unit){a._updateTileModel({unit:t.unit})}if(a.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){n.criticalHighValue=t.ch;n.criticalLowValue=t.cl;n.warningHighValue=t.wh;n.warningLowValue=t.wl;n.targetValue=t.target;n.trendValue=t.trend}else if(a.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="RELATIVE"){n.targetValue=Number(t.target);n.criticalHighValue=n.targetValue*n.criticalHighValue/100;n.criticalLowValue=n.targetValue*n.criticalLowValue/100;n.warningHighValue=n.targetValue*n.warningHighValue/100;n.warningLowValue=n.targetValue*n.warningLowValue/100;n.trendValue=Number(t.trend)}a.cacheTime=c.CachedTime;if(a.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(a.oConfig)){a.setTimeStamp(c.CachedTime)}e.call(a,s,n)}else{a.setNoData()}}}catch(e){a.logError(e)}},getRunTimeODataModel:function(e,i){if(window["sap-ushell-config"].cacheBusting){e=sap.ushell.components.tiles.indicatorTileUtils.util.cacheBustingMechanism(e)}if(!this.oRunTimeODataModel){this.oRunTimeODataModel=sap.ushell.components.tiles.indicatorTileUtils.util.getODataModelByServiceUri(e)}if(this.oRunTimeODataModel.getServiceMetadata()){i()}else{this.oRunTimeODataModel.attachMetadataLoaded(i)}},parse_sapclient:function(){const e=this.oConfig.EVALUATION_FILTERS;if(e.constructor!==Array){return}if(e.length<1){return}let i;const t="P_SAPClient";const l="$$$";for(const a in e){i=e[a];if(i.NAME===t&&i.VALUE_1===l){break}i=null}if(i){jQuery.when(sap.ushell.components.tiles.indicatorTileUtils.util.getHanaClient()).done(e=>{i.VALUE_1=e})}},fetchEvaluation:function(e,i,t,l){const a=this;const s=this.oConfig.TILE_PROPERTIES.sb_metadata||"HANA";a.DEFINITION_DATA=e;a._updateTileModel(this.DEFINITION_DATA);const o=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(t);if(a.oTileApi.visible.isVisible()&&!a.firstTimeVisible||o||l){jQuery.when(sap.ushell.components.tiles.indicatorTileUtils.util.getFrontendCache(e,a.oTileApi)).done(e=>{a.firstTimeVisible=true;e=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(a.oConfig.TILE_PROPERTIES.id);if(e||Number(a.oTileApi.configuration.getParameterValueAsString("isSufficient"))){i.call()}else{try{if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(a.oConfig)||!a.dataCallInProgress){a.dataCallInProgress=true;const e=sap.ushell.components.tiles.indicatorTileUtils.cache.getEvaluationById(a.oConfig.TILE_PROPERTIES.id);if(e){a.oConfig.EVALUATION_FILTERS=e.EVALUATION_FILTERS;i.call()}else if(a.evaluationFetchDeferred){a.evaluationFetchDeferred=false;sap.ushell.components.tiles.indicatorTileUtils.util.getFilterFromRunTimeService(a.oConfig,a.oTileApi,e=>{a.evaluationFetchDeferred=true;a.oConfig.EVALUATION_FILTERS=e;if(s.toUpperCase()==="HANA"){a.parse_sapclient()}sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(a.oConfig.TILE_PROPERTIES.id,a.oConfig);i.call()})}}}catch(e){a.evaluationFetchDeferred=true;a.logError("no evaluation data")}}}).fail(()=>{a.firstTimeVisible=true;if(Number(a.oTileApi.configuration.getParameterValueAsString("isSufficient"))){i.call()}else{try{const e=sap.ushell.components.tiles.indicatorTileUtils.cache.getEvaluationById(a.oConfig.TILE_PROPERTIES.id);if(e){a.oConfig.EVALUATION_FILTERS=e.EVALUATION_FILTERS;i.call()}else{sap.ushell.components.tiles.indicatorTileUtils.util.getFilterFromRunTimeService(a.oConfig,a.oTileApi,e=>{a.oConfig.EVALUATION_FILTERS=e;if(s.toUpperCase()==="HANA"){a.parse_sapclient()}sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(a.oConfig.TILE_PROPERTIES.id,a.oConfig);i.call()})}}catch(e){a.logError("no evaluation data")}}})}},refreshHandler:function(e,i){const t=this;const l=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(e);const a=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(i);if(!t.firstTimeVisible||l||a){t.fetchEvaluation(t.oConfig,()=>{let i;if(t.oConfig.TILE_PROPERTIES.tileType=="NT"||t.oConfig.TILE_PROPERTIES.tileType=="AT"||t.oKpiTileView.getViewName()=="sap.ushell.components.tiles.indicatornumeric.NumericTile"||t.oKpiTileView.getViewName()=="sap.ushell.components.tiles.indicatordeviation.DeviationTile"){i=t.oTileApi.url.addSystemToServiceUrl(t.oConfig.EVALUATION.ODATA_URL);t.getRunTimeODataModel(i,()=>{if(t.KPI_VALUE_REQUIRED){t.fetchKpiValue(function(e,i){this.KPIVALUE=e;t.doProcess(e,i)},t.logError,e,a)}else{t.doProcess()}})}else{i=t.oTileApi.url.addSystemToServiceUrl(t.oConfig.EVALUATION.ODATA_URL);t.getRunTimeODataModel(i,()=>{if(t.KPI_VALUE_REQUIRED){t.doProcess(t.KPIVALUE,t.setThresholdValues())}else{t.doProcess(l,a)}})}},e,a)}},visibleHandler:function(e){if(!e){this.firstTimeVisible=false;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.queryServiceUriODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.trendChartODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef)}if(e){this.refreshHandler(this)}},getChipConfiguration:function(e){const i=this;try{sap.ushell.components.tiles.indicatorTileUtils.util.getParsedChip(i.oTileApi.configuration.getParameterValueAsString("tileConfiguration"),i.oTileApi.preview.isEnabled(),t=>{i.oConfig=t;const l=sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(i.oConfig);const a=sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(i.oConfig);if(i.oTileApi.search){i.oTileApi.search.setKeywords([l,a])}if(i.oTileApi.preview){i.oTileApi.preview.setTargetUrl(sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(i.oConfig,i.system))}e.call()})}catch(e){i.logError(e.message)}},onAfterTileRendering:function(){const e=this;this.firstTimeVisible=false;this.oKpiTileView=this.getView();this.updateDatajobScheduled=false;this.updateTimeStampjobScheduled=false;this.oViewData=this.oKpiTileView.getViewData();this.tilePressed=false;this.kpiValueFetchDeferred=true;this.evaluationFetchDeferred=true;this.backEndCallMade=false;if(!sap.ushell.components.tiles.utils){sap.ui.require("sap.ushell.components.tiles.utils")}this.oResourceBundle=sap.ushell.components.tiles.utils.getResourceBundle();this.oTileApi=this.oViewData.chip;this.system=this.oTileApi.url.getApplicationSystem();this.oKpiTileView.oGenericTile.setState(h.Loading);this.getChipConfiguration(()=>{let i;e.chipCacheTime=sap.ushell.components.tiles.indicatorTileUtils.util.getCachingTime(e.oConfig);e.chipCacheTimeUnit=sap.ushell.components.tiles.indicatorTileUtils.util.getCachingTimeUnit(e.oConfig);if(e.oTileApi.preview.isEnabled()){e.doDummyProcess();e.oKpiTileView.oGenericTile.attachPress(()=>{o.show(e.oResourceBundle.getText("sb.NavigationHelp"))})}else if(e.oConfig.BLANKTILE||e.oConfig.TILE_PROPERTIES.blankTile){e.doDummyProcess();i=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(e.oConfig,e.system);e.oKpiTileView.oGenericTile.$().wrap(`<a href ='${i}'></a>`);e.oKpiTileView.oGenericTile.attachPress(()=>{e.tilePressed=true;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(e.queryServiceUriODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(e.oConfig.TILE_PROPERTIES.id,null);window.location.hash=i})}else{if(e.oTileApi.visible&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(e.oConfig)){e.oTileApi.visible.attachVisible(e.visibleHandler.bind(e))}i=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(e.oConfig,e.system);e.oKpiTileView.oGenericTile.$().wrap(`<a href ='${i}></a>`).style="display:block;";e.oKpiTileView.oGenericTile.attachPress(()=>{e.tilePressed=true;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(e.queryServiceUriODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(e.oConfig.TILE_PROPERTIES.id,null);window.location.hash=i});if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(e.oConfig)){e.oKpiTileView.oNVConfS.attachRefresh(()=>{e.oKpiTileView.oGenericTile.setState(h.Loading);e.refreshHandler(true)})}e.fetchEvaluation(e.oConfig,()=>{e.DEFINITION_DATA=e.oConfig;const i=e.oTileApi.url.addSystemToServiceUrl(e.oConfig.EVALUATION.ODATA_URL);const t=e.oTileApi.configuration.getParameterValueAsString("timeStamp");const l=sap.ushell.components.tiles.indicatorTileUtils.util.isCacheValid(e.oConfig.TILE_PROPERTIES.id,t,e.chipCacheTime,e.chipCacheTimeUnit,e.tilePressed);if(!l||e.getView().getViewData().refresh){e.getRunTimeODataModel(i,()=>{if(e.KPI_VALUE_REQUIRED){e.fetchKpiValue(function(i,t){this.KPIVALUE=i;e.doProcess(i,t)},e.logError)}else{e.doProcess()}})}else if(e.KPI_VALUE_REQUIRED){e.fetchKpiValue(function(i,t){this.KPIVALUE=i;e.doProcess(i,t)},e.logError)}else{e.doProcess()}})}})},onAfterRendering:function(){this.onAfterTileRendering()},_setLocalModelToTile:function(){if(!this.getTile().getModel()){this.getTile().setModel(new n({}))}},autoFormatter:function(e,i){i=i||false;if(!e){return""}return sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(e),this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,i)},setToolTip:function(e,i,t){const l=this;let a;const s=this.setThresholdValues();const o=this.oConfig.EVALUATION.COLUMN_NAME;const n=this.isCurrencyMeasure(o);let r;if(t=="CONT"||t=="COMP"){if(this.oKpiTileView.getContent()[0].getTileContent().length){a=l.oKpiTileView.getContent()[0].getTileContent()[0].getContent();let e;let s;let o;let u;let c;let T;let h;let g;let p;if(i&&i[0]){e=i[0].title;u=this.autoFormatter(i[0].value,n);h=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(i[0].color)}if(i&&i[1]){s=i[1].title;c=this.autoFormatter(i[1].value,n);g=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(i[1].color)}if(i&&i[2]){o=i[2].title;T=this.autoFormatter(i[2].value,n);p=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(i[2].color)}const d={};d["0"]=`${this.oConfig.EVALUATION.COLUMN_NAME},asc`;d["1"]=`${this.oConfig.EVALUATION.COLUMN_NAME},desc`;d["2"]=`${this.oConfig.TILE_PROPERTIES.dimension},asc`;d["3"]=`${this.oConfig.TILE_PROPERTIES.dimension},desc`;const m=d[this.oConfig.TILE_PROPERTIES.sortOrder||"0"].split(",");r={measure:this.oConfig.EVALUATION.COLUMN_NAME,contributionTile:m,m1:e,v1:u,c1:h,m2:s,v2:c,c2:g,m3:o,v3:T,c3:p};sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(a,t,r)}}else{let o="";if(e=="Error"){o="sb.error"}if(e=="Neutral"){o="sb.neutral"}if(e=="Critical"){o="sb.critical"}if(e=="Good"){o="sb.good"}r={status:o,actual:this.autoFormatter(i,n),target:this.autoFormatter(s.targetValue,n),cH:this.autoFormatter(s.criticalHighValue,n),wH:this.autoFormatter(s.warningHighValue,n),wL:this.autoFormatter(s.warningLowValue,n),cL:this.autoFormatter(s.criticalLowValue,n)};a=l.oKpiTileView.getContent()[0].getTileContent()[0]&&l.oKpiTileView.getContent()[0].getTileContent()[0].getContent();sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(a,t,r)}},getTrendColor:function(e){const i=this;let t;let l;let a;let s;try{const i=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;let o=c.Neutral;if(i==="MI"){if(e.criticalHighValue&&e.warningHighValue){s=Number(e.criticalHighValue);a=Number(e.warningHighValue);if(this.CALCULATED_KPI_VALUE<a){o=c.Good}else if(this.CALCULATED_KPI_VALUE<=s){o=c.Critical}else{o=c.Error}}}else if(i==="MA"){if(e.criticalLowValue&&e.warningLowValue){l=Number(e.criticalLowValue);t=Number(e.warningLowValue);if(this.CALCULATED_KPI_VALUE<l){o=c.Error}else if(this.CALCULATED_KPI_VALUE<=t){o=c.Critical}else{o=c.Good}}}else if(e.warningLowValue&&e.warningHighValue&&e.criticalLowValue&&e.criticalHighValue){s=Number(e.criticalHighValue);a=Number(e.warningHighValue);t=Number(e.warningLowValue);l=Number(e.criticalLowValue);if(this.CALCULATED_KPI_VALUE<l||this.CALCULATED_KPI_VALUE>s){o=c.Error}else if(this.CALCULATED_KPI_VALUE>=l&&this.CALCULATED_KPI_VALUE<=t||this.CALCULATED_KPI_VALUE>=a&&this.CALCULATED_KPI_VALUE<=s){o=c.Critical}else{o=c.Good}}return o}catch(e){i.logError(e)}},getTrendIndicator:function(e){const i=this;e=Number(e);try{let i=u.None;if(e>this.CALCULATED_KPI_VALUE){i=u.Down}else if(e<this.CALCULATED_KPI_VALUE){i=u.Up}return i}catch(e){i.logError(e)}},setTextInTile:function(){const e=this;const i=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.oTileApi);this._updateTileModel({header:i.title||sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(e.oConfig),subheader:i.subTitle||sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(e.oConfig)})},_getEvaluationThresholdMeasures:function(){const e=[];e.push(this.oConfig.EVALUATION.COLUMN_NAME);if(this.oConfig.EVALUATION.VALUES_SOURCE==="MEASURE"){const i=this.oConfig.EVALUATION_VALUES;if(i&&i.length){for(let t=0;t<i.length;t++){if(i[t].COLUMN_NAME&&!i[t].FIXED){e.push(i[t].COLUMN_NAME)}}}}return e},onExit:function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.queryServiceUriODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.trendChartODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef)}});return g});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorArea/AreaChartTile.controller", ["sap/ushell/components/tiles/generic","sap/m/library","sap/suite/ui/microchart/AreaMicroChartItem","sap/suite/ui/microchart/AreaMicroChartPoint"],(e,i,t,l)=>{"use strict";const a=i.FrameType;const s=i.LoadState;const r=e.extend("sap.ushell.components.tiles.indicatorArea.AreaChartTile",{onInit:function(){this.KPI_VALUE_REQUIRED=false},doProcess:function(e,i){this.onAfterFinalEvaluation(e,i)},doDummyProcess:function(){const e=this;this.setTextInTile();e._updateTileModel({footer:"",description:"",width:"100%",height:"100%",chart:{color:"Good",data:[{day:0,balance:0},{day:30,balance:20},{day:60,balance:20},{day:100,balance:80}]},target:{color:"Error",data:[{day:0,balance:0},{day:30,balance:30},{day:60,balance:40},{day:100,balance:90}]},maxThreshold:{color:"Good",data:[{day:0,balance:0},{day:30,balance:40},{day:60,balance:50},{day:100,balance:100}]},innerMaxThreshold:{color:"Error",data:[]},innerMinThreshold:{color:"Neutral",data:[]},minThreshold:{color:"Error",data:[{day:0,balance:0},{day:30,balance:20},{day:60,balance:30},{day:100,balance:70}]},minXValue:0,maxXValue:100,minYValue:0,maxYValue:100,firstXLabel:{label:"June 123",color:"Error"},lastXLabel:{label:"June 30",color:"Error"},firstYLabel:{label:"0M",color:"Good"},lastYLabel:{label:"80M",color:"Critical"},minLabel:{},maxLabel:{}});this.oKpiTileView.oGenericTile.setState(s.Loaded)},scheduleJob:function(e){if(this.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.util.scheduleFetchDataJob.call(this,this.oTileApi.visible.isVisible())}},onAfterFinalEvaluation:function(e,i){const r=this;const o=this.DEFINITION_DATA.EVALUATION.ODATA_ENTITYSET;const n=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;const c=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.DEFINITION_DATA.EVALUATION_FILTERS,this.DEFINITION_DATA.ADDITIONAL_FILTERS);let u=this.DEFINITION_DATA.TILE_PROPERTIES.dimension;if(u==undefined){this.logError();return}const h=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;const E=this.DEFINITION_DATA.EVALUATION_VALUES;const T=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(r.oConfig.TILE_PROPERTIES.id);let d;if(sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(r.oConfig)){if(T){d=T.Data&&JSON.parse(T.Data)}}const f=r.oTileApi.configuration.getParameterValueAsString("timeStamp");const g=sap.ushell.components.tiles.indicatorTileUtils.util.isCacheValid(r.oConfig.TILE_PROPERTIES.id,f,r.chipCacheTime,r.chipCacheTimeUnit,r.tilePressed);let m=n;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){switch(h){case"MI":r.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(r.oConfig,"WH","MEASURE");r.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(r.oConfig,"CH","MEASURE");r.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(r.oConfig,"TA","MEASURE");r.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(r.oConfig,"TC","MEASURE");if(r.sWarningHigh&&r.sCriticalHigh&&r.sTarget){m+=`,${r.sWarningHigh},${r.sCriticalHigh},${r.sTarget}`}break;case"MA":r.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(r.oConfig,"WL","MEASURE");r.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(r.oConfig,"CL","MEASURE");r.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(r.oConfig,"TA","MEASURE");r.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(r.oConfig,"TC","MEASURE");if(r.sWarningLow&&r.sCriticalLow&&r.sTarget){m+=`,${r.sWarningLow},${r.sCriticalLow},${r.sTarget}`}break;case"RA":r.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(r.oConfig,"WH","MEASURE");r.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(r.oConfig,"CH","MEASURE");r.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(r.oConfig,"TA","MEASURE");r.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(r.oConfig,"TC","MEASURE");r.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(r.oConfig,"WL","MEASURE");r.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(r.oConfig,"CL","MEASURE");if(r.sWarningLow&&r.sCriticalLow&&r.sTarget&&r.sWarningHigh&&r.sCriticalHigh){m+=`,${r.sWarningLow},${r.sCriticalLow},${r.sTarget},${r.sWarningHigh},${r.sCriticalHigh}`}break}}function p(e,i){const a=[];const s=[];const o=[];const c=[];const T=[];const d=[];let f=e.firstXlabel;let g;let m;let p;let C;let A;let L=e.lastXlabel;const N=Number(e.results[0][n]);const I=Number(e.results[e.results.length-1][n]);let U;for(U in e.results){e.results[U][u]=Number(U);e.results[U][n]=Number(e.results[U][n]);if(r.sWarningHigh){e.results[U][r.sWarningHigh]=Number(e.results[U][r.sWarningHigh])}if(r.sCriticalHigh){e.results[U][r.sCriticalHigh]=Number(e.results[U][r.sCriticalHigh])}if(r.sCriticalLow){e.results[U][r.sCriticalLow]=Number(e.results[U][r.sCriticalLow])}if(r.sWarningLow){e.results[U][r.sWarningLow]=Number(e.results[U][r.sWarningLow])}if(r.sTarget){e.results[U][r.sTarget]=Number(e.results[U][r.sTarget])}if(r.sWarningHigh){o.push(e.results[U][r.sWarningHigh])}if(r.sCriticalHigh){c.push(e.results[U][r.sCriticalHigh])}if(r.sCriticalLow){T.push(e.results[U][r.sCriticalLow])}if(r.sWarningLow){d.push(e.results[U][r.sWarningLow])}a.push(e.results[U][u]);s.push(e.results[U][n])}try{f=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(f);L=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(L)}catch(e){r.logError(e)}let b=Number(N);if(r.oConfig.EVALUATION.SCALING==-2){b*=100}const M=Math.min.apply(Math,s);let S=r.isCurrencyMeasure(r.oConfig.EVALUATION.COLUMN_NAME);let D=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(b,r.oConfig.EVALUATION.SCALING,r.oConfig.EVALUATION.DECIMAL_PRECISION,S,r.CURRENCY_CODE);if(r.oConfig.EVALUATION.SCALING==-2){D+=" %"}const w=D.toString();let R=Number(I);if(r.oConfig.EVALUATION.SCALING==-2){R*=100}const O=Math.max.apply(Math,s);S=r.isCurrencyMeasure(r.oConfig.EVALUATION.COLUMN_NAME);let V=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(R,r.oConfig.EVALUATION.SCALING,r.oConfig.EVALUATION.DECIMAL_PRECISION,S,r.CURRENCY_CODE);if(r.oConfig.EVALUATION.SCALING==-2){V+=" %"}const H=V.toString();let F;let y;try{F=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(Math.min.apply(Math,a));y=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(Math.max.apply(Math,a))}catch(e){r.logError(e)}if(i=="MEASURE"){if(o.length!=0){r.firstwH=o[F];r.lastwH=o[y]}if(c.length!=0){r.firstcH=c[F];r.lastcH=c[y]}if(T.length!=0){r.firstcL=T[F];r.lastcL=T[y]}if(d.length!=0){r.firstwL=d[F];r.lastwL=d[y]}}const P={width:"100%",height:"100%",unit:r.unit||"",chart:{color:"Neutral",data:e.results},size:"Auto",minXValue:F,maxXValue:y,minYValue:M,maxYValue:O,firstXLabel:{label:`${f}`,color:"Neutral"},lastXLabel:{label:`${L}`,color:"Neutral"},firstYLabel:{label:`${w}`,color:"Neutral"},lastYLabel:{label:`${H}`,color:"Neutral"},minLabel:{},maxLabel:{}};let _;switch(h){case"MA":for(U in E){if(E[U].TYPE=="CL"){P.minThreshold={color:"Error"};_={};_[u]="";_[n]=Number(E[U].FIXED);r.cl=Number(E[U].FIXED);P.minThreshold.data=i=="MEASURE"?e.results:[_];g=i=="MEASURE"?r.sCriticalLow:n}else if(E[U].TYPE=="WL"){P.maxThreshold={color:"Good"};_={};_[u]="";_[n]=Number(E[U].FIXED);P.maxThreshold.data=i=="MEASURE"?e.results:[_];m=i=="MEASURE"?r.sWarningLow:n;r.wl=Number(E[U].FIXED)}else if(E[U].TYPE=="TA"){_={};_[u]="";_[n]=Number(E[U].FIXED);P.target={color:"Neutral"};P.target.data=i=="MEASURE"?e.results:[_];A=i=="MEASURE"?r.sTarget:n}}P.innerMinThreshold={data:[]};P.innerMaxThreshold={data:[]};if(i=="FIXED"){P.firstYLabel.color=N<r.cl?"Error":r.cl<=N&&N<=r.wl?"Critical":N>r.wl?"Good":"Neutral";P.lastYLabel.color=I<r.cl?"Error":r.cl<=I&&I<=r.wl?"Critical":I>r.wl?"Good":"Neutral"}else if(i=="MEASURE"&&r.firstwL&&r.lastwL&&r.firstcL&&r.lastcL){P.firstYLabel.color=N<r.firstcL?"Error":r.firstcL<=N&&N<=r.firstwL?"Critical":N>r.firstwL?"Good":"Neutral";P.lastYLabel.color=I<r.lastcL?"Error":r.lastcL<=I&&I<=r.lastwL?"Critical":I>r.lastwL?"Good":"Neutral"}break;case"MI":for(U in E){if(E[U].TYPE=="CH"){_={};_[u]="";_[n]=Number(E[U].FIXED);r.ch=Number(E[U].FIXED);P.maxThreshold={color:"Error"};P.maxThreshold.data=i=="MEASURE"?e.results:[_];m=i=="MEASURE"?r.sCriticalHigh:n}else if(E[U].TYPE=="WH"){_={};_[u]="";_[n]=Number(E[U].FIXED);r.wh=Number(E[U].FIXED);P.minThreshold={color:"Good"};P.minThreshold.data=i=="MEASURE"?e.results:[_];g=i=="MEASURE"?r.sWarningHigh:n}else if(E[U].TYPE=="TA"){_={};_[u]="";_[n]=Number(E[U].FIXED);P.target={color:"Neutral"};P.target.data=i=="MEASURE"?e.results:[_];A=i=="MEASURE"?r.sTarget:n}}if(i=="FIXED"){P.firstYLabel.color=N>r.ch?"Error":r.wh<=N&&N<=r.ch?"Critical":N<r.wh?"Good":"Neutral";P.lastYLabel.color=I>r.ch?"Error":r.wh<=I&&I<=r.ch?"Critical":I<r.wh?"Good":"Neutral"}else if(i=="MEASURE"&&r.firstwH&&r.lastwH&&r.firstcH&&r.lastcH){P.firstYLabel.color=N>r.firstcH?"Error":r.firstwH<=N&&N<=r.firstcH?"Critical":N<r.firstwH?"Good":"Neutral";P.lastYLabel.color=I>r.lastcH?"Error":r.lastwH<=I&&I<=r.lastcH?"Critical":I<r.lastwH?"Good":"Neutral"}P.innerMaxThreshold={data:[]};P.innerMinThreshold={data:[]};break;case"RA":for(U in E){if(E[U].TYPE=="CH"){_={};_[u]="";_[n]=Number(E[U].FIXED);r.ch=Number(E[U].FIXED);P.maxThreshold={color:"Error"};P.maxThreshold.data=i=="MEASURE"?e.results:[_];m=i=="MEASURE"?r.sCriticalHigh:n}else if(E[U].TYPE=="WH"){_={};_[u]="";_[n]=Number(E[U].FIXED);r.wh=Number(E[U].FIXED);P.innerMaxThreshold={color:"Good"};P.innerMaxThreshold.data=i=="MEASURE"?e.results:[_];C=i=="MEASURE"?r.sWarningHigh:n}else if(E[U].TYPE=="WL"){_={};_[u]="";_[n]=Number(E[U].FIXED);r.wl=Number(E[U].FIXED);P.innerMinThreshold={color:"Good"};P.innerMinThreshold.data=i=="MEASURE"?e.results:[_];p=i=="MEASURE"?r.sWarningLow:n}else if(E[U].TYPE=="CL"){_={};_[u]="";_[n]=Number(E[U].FIXED);r.cl=Number(E[U].FIXED);P.minThreshold={color:"Error"};P.minThreshold.data=i=="MEASURE"?e.results:[_];g=i=="MEASURE"?r.sCriticalLow:n}else if(E[U].TYPE=="TA"){_={};_[u]="";_[n]=Number(E[U].FIXED);P.target={color:"Neutral"};P.target.data=i=="MEASURE"?e.results:[_];A=i=="MEASURE"?r.sTarget:n}}if(i=="FIXED"){P.firstYLabel.color=N>r.ch||N<r.cl?"Error":r.wh<=N&&N<=r.ch||r.cl<=N&&N<=r.wl?"Critical":N>=r.wl&&N<=r.wh?"Good":"Neutral";P.lastYLabel.color=I>r.ch||I<r.cl?"Error":r.wh<=I&&I<=r.ch||r.cl<=I&&I<=r.wl?"Critical":I>=r.wl&&I<=r.wh?"Good":"Neutral"}else if(i=="MEASURE"&&r.firstwL&&r.lastwL&&r.firstcL&&r.lastcL&&r.firstwH&&r.lastwH&&r.firstcH&&r.lastcH){P.firstYLabel.color=N>r.firstcH||N<r.firstcL?"Error":r.firstwH<=N&&N<=r.firstcH||r.firstcL<=N&&N<=r.firstwL?"Critical":N>=r.firstwL&&N<=r.firstwH?"Good":"Neutral";P.lastYLabel.color=I>r.lastcH||I<r.lastcL?"Error":r.lastwH<=I&&I<=r.lastcH||r.lastcL<=I&&I<=r.lastwL?"Critical":I>=r.lastwL&&I<=r.lastwH?"Good":"Neutral"}break}function Y(e,i,a,s){return new t({color:`{/${e}/color}`,points:{path:`/${e}/data`,template:new l({x:`{${i}}`,y:`{${a}}`})}})}const W=r.getView().oNVConfContS;W.setTarget(Y("target",u,A));W.setInnerMinThreshold(Y("innerMinThreshold",u,p));W.setInnerMaxThreshold(Y("innerMaxThreshold",u,C));W.setMinThreshold(Y("minThreshold",u,g));W.setMaxThreshold(Y("maxThreshold",u,m));W.setChart(Y("chart",u,n));r.setTextInTile();if(r.getView().getViewData().parentController){r.getView().getViewData().parentController._updateTileModel(P)}else{r._updateTileModel(P)}}const C=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(e);if(d&&!d.rightData||!T||!g&&r.oTileApi.visible.isVisible()||C||i&&r.oTileApi.visible.isVisible()||r.getView().getViewData().refresh){if(r.kpiValueFetchDeferred){r.kpiValueFetchDeferred=false;const e=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(r.oRunTimeODataModel,o,m,u,c);if(e){this.queryUriForTrendChart=e.uri;const i={};try{this.trendChartODataReadRef=e.model.read(e.uri,null,null,true,t=>{r.kpiValueFetchDeferred=true;if(t&&t.results&&t.results.length){if(e.unit[0]){r.unit=t.results[0][e.unit[0].name];r.CURRENCY_CODE=r.unit;i.unit=e.unit[0];i.unit.name=e.unit[0].name}r.queryUriResponseForTrendChart=t;u=sap.ushell.components.tiles.indicatorTileUtils.util.findTextPropertyForDimension(r.oRunTimeODataModel,o,u);t.results.splice(10);t.firstXlabel=t.results[0][u];t.lastXlabel=t.results[t.results.length-1][u];i.data=t;if(i&&i.data&&i.data.results&&i.data.results.length){for(let e=0;e<i.data.results.length;e++){delete i.data.results[e].__metadata}}i.isCurM=r.isCurrencyMeasure(r.oConfig.EVALUATION.COLUMN_NAME);i.dimensionName=u;p(t,r.DEFINITION_DATA.EVALUATION.VALUES_SOURCE);const l={};r.cacheTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();l.ChipId=r.oConfig.TILE_PROPERTIES.id;l.Data=JSON.stringify(i);l.CacheMaxAge=Number(r.chipCacheTime);l.CacheMaxAgeUnit=r.chipCacheTimeUnit;l.CacheType=1;const n=r.getLocalCache(l);if(r.DEFINITION_DATA.TILE_PROPERTIES.frameType==a.TwoByOne){const e=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(r.oConfig.TILE_PROPERTIES.id);let t;if(e){if(!e.CachedTime){e.CachedTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate()}t=e.Data;if(t){t=JSON.parse(t);t.rightData=i}e.Data=JSON.stringify(t);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(r.oConfig.TILE_PROPERTIES.id,e)}else{t={};t.rightData=i;n.Data=JSON.stringify(t);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(r.oConfig.TILE_PROPERTIES.id,n)}r.cacheWriteData=i;r.getView().getViewData().deferredObj.resolve()}else{sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(r.oConfig.TILE_PROPERTIES.id,n);let e=false;if(T){e=true}if(r.chipCacheTime){sap.ushell.components.tiles.indicatorTileUtils.util.writeFrontendCacheByChipAndUserId(r.oTileApi,r.oConfig.TILE_PROPERTIES.id,l,e,e=>{if(e){r.cacheTime=e&&e.CachedTime;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(r.oConfig.TILE_PROPERTIES.id,e);r.setTimeStamp()}if(r.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(r.oConfig)){r.setTimeStamp(r.cacheTime)}})}r.oKpiTileView.oGenericTile.setState(s.Loaded);r.updateDatajobScheduled=false;const i=`${r.oConfig.TILE_PROPERTIES.id}data`;let t=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(i);if(t){clearTimeout(t);t=undefined}r.scheduleJob(r.cacheTime)}}else{r.setNoData()}},e=>{r.kpiValueFetchDeferred=true;if(e&&e.response){r.logError("Data call failed")}})}catch(e){r.kpiValueFetchDeferred=true;r.logError(e)}}else{r.kpiValueFetchDeferred=true;r.logError()}}}else if(T&&T.Data){try{let e;const i=r.oConfig&&r.oConfig.TILE_PROPERTIES&&r.oConfig.TILE_PROPERTIES.tileType;if(i.indexOf("DT-")==-1){e=T.Data&&JSON.parse(T.Data)}else{e=T.Data&&JSON.parse(T.Data);e=e.rightData}if(e.unit){r.unit=e.data.results[0][e.unit.name];r.CURRENCY_CODE=r.unit}r.cacheTime=T.CachedTime;if(r.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(r.oConfig)){r.setTimeStamp(r.cacheTime)}r.queryUriResponseForTrendChart=e.data;u=e.dimensionName;p(e.data,r.DEFINITION_DATA.EVALUATION.VALUES_SOURCE);if(r.oConfig.TILE_PROPERTIES.frameType==a.OneByOne){r.oKpiTileView.oGenericTile.setState(s.Loaded)}else{r.getView().getViewData().deferredObj.resolve()}r.scheduleJob(r.cacheTime)}catch(e){r.logError(e)}}else{r.setNoData()}}});return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorArea/AreaChartTile.view", ["sap/ui/core/mvc/JSView","sap/ushell/components/tiles/indicatorTileUtils/oData4Analytics","sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil","sap/suite/ui/microchart/AreaMicroChartItem","sap/suite/ui/microchart/AreaMicroChartPoint","sap/suite/ui/microchart/AreaMicroChartLabel","sap/m/library","sap/suite/ui/microchart/AreaMicroChart","sap/m/GenericTile","sap/ui/model/json/JSONModel"],(e,t,i,a,s,l,o,r,n,h)=>{"use strict";const u=o.LoadState;sap.ui.getCore().loadLibrary("sap.suite.ui.microchart");sap.ui.jsview("sap.ushell.components.tiles.indicatorArea.AreaChartTile",{getControllerName:function(){return"sap.ushell.components.tiles.indicatorArea.AreaChartTile"},createContent:function(){this.setHeight("100%");this.setWidth("100%");let e="Lorem ipsum";let t="Lorem ipsum";const i=o.Size;const c=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.getViewData().chip);if(c.title&&c.subTitle){e=c.title;t=c.subTitle}function m(e){return new a({color:"Good",points:{path:`/${e}/data`,template:new s({x:"{day}",y:"{balance}"})}})}function p(e){return new l({label:`{/${e}/label}`,color:`{/${e}/color}`})}const d={subheader:t,header:e,footerNum:"",footerComp:"",scale:"",unit:"",value:8888,size:"Auto",frameType:"OneByOne",state:u.Loading};this.oNVConfContS=new r({width:"{/width}",height:"{/height}",size:i.Responsive,target:m("target"),innerMinThreshold:m("innerMinThreshold"),innerMaxThreshold:m("innerMaxThreshold"),minThreshold:m("minThreshold"),maxThreshold:m("maxThreshold"),chart:m("chart"),minXValue:"{/minXValue}",maxXValue:"{/maxXValue}",minYValue:"{/minYValue}",maxYValue:"{/maxYValue}",firstXLabel:p("firstXLabel"),lastXLabel:p("lastXLabel"),firstYLabel:p("firstYLabel"),lastYLabel:p("lastYLabel"),minLabel:p("minLabel"),maxLabel:p("maxLabel")});this.oNVConfS=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",footer:"{/footerNum}",content:this.oNVConfContS});this.oGenericTile=new n({subheader:"{/subheader}",frameType:"{/frameType}",size:"{/size}",header:"{/header}",tileContent:[this.oNVConfS]});const b=new h;b.setData(d);this.oGenericTile.setModel(b);return this.oGenericTile}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorDual/DualTile.controller", ["sap/m/MessageToast","sap/m/library","sap/ui/core/library","sap/ui/core/format/DateFormat","sap/ui/thirdparty/jquery"],(e,i,t,l,jQuery)=>{"use strict";const a=i.DeviationIndicator;const o=i.ValueColor;const s=i.FrameType;const r=i.Size;const n=i.LoadState;const c=t.mvc.ViewType;sap.ui.controller("sap.ushell.components.tiles.indicatorDual.DualTile",{getRelativeTime:function(){let e=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();this.cacheTime=this.cacheTime instanceof Date?this.cacheTime:new Date(parseInt(this.cacheTime.substr(6),10));const i=sap.ushell.components.tiles.indicatorTileUtils.util.getTimeDifference(e-this.cacheTime);let t;let l;switch(i.unit){case"minutes":l=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(i.time,"minutes");e=e-l;t=new Date(e);break;case"hours":l=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(i.time,"hours");e=e-l;t=new Date(e);break;case"days":l=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(i.time,"days");e=e-l;t=new Date(e);break}return t},getTile:function(){return this.oKpiTileView.oGenericTile},setTimeStamp:function(){this.updateTimeStampjobScheduled=false;const e=l.getDateTimeInstance({relative:true,relativeSource:"auto"});const i=e.format(this.getRelativeTime());const t=this.getView().oGenericTile.getTileContent()[0];if(t){if(t.setRefreshOption){t.setRefreshOption(true)}if(t.setTimestamp){t.setTimestamp(i)}}this.updateTimeStampjobScheduled=false;const a=`${this.oConfig.TILE_PROPERTIES.id}time`;let o=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(a);if(o){clearTimeout(o);o=undefined}sap.ushell.components.tiles.indicatorTileUtils.util.scheduleTimeStampJob.call(this,this.oTileApi.visible.isVisible())},getLocalCache:function(e){const i={};i.ChipId=e.ChipId;i.Data=e.Data;i.CacheMaxAge=e.CacheMaxAgeUnit;i.CacheMaxAgeUnit=e.CacheMaxAgeUnit;i.CacheType=e.CacheType;i.CachedTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();return i},refreshPress:function(){this.initProcess(true)},_getView:function(e,i,t){const l=this.oKpiTileView.getViewData();const a=sap.ui.view({type:c.JS,viewName:e,viewData:jQuery.extend(true,{},l,{parentController:this},{deferredObj:i},{refresh:t})});return a},logError:function(){this._updateTileModel({value:"",scale:"",unit:""});if(this.getView().getViewData().deferredObj){this.getView().getViewData().deferredObj.reject()}},doProcess:function(e){sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(`${this.oKpiTileView.oConfig.TILE_PROPERTIES.id}defferedLeft`,this.deferred_left);sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(`${this.oKpiTileView.oConfig.TILE_PROPERTIES.id}defferedRight`,this.deferred_right);const i=this;this.getView().oGenericTile.removeAllTileContent();const t=this.getView().oGenericTile;this.system=this.oTileApi.url.getApplicationSystem();this.oKpiTileView.oGenericTile.setState(n.Loading);const l=i.tileType.split("-")[1];try{let a;a="sap.ushell.components.tiles.indicatornumeric.NumericTile";this.leftView=i._getView(a,this.deferred_left,e);this.leftView.getController().dataCallInProgress=false;t.addTileContent(this.leftView.oGenericTile.getTileContent()[0]);switch(l){case"CM":a="sap.ushell.components.tiles.indicatorcomparison.ComparisonTile";this.rightView=i._getView(a,this.deferred_right,e);this.rightView.getController().dataCallInProgress=false;t.addTileContent(this.rightView.oGenericTile.getTileContent()[0]);break;case"CT":a="sap.ushell.components.tiles.indicatorcontribution.ContributionTile";this.rightView=i._getView(a,this.deferred_right,e);this.rightView.getController().dataCallInProgress=false;t.addTileContent(this.rightView.oGenericTile.getTileContent()[0]);break;case"AT":a="sap.ushell.components.tiles.indicatordeviation.DeviationTile";this.rightView=i._getView(a,this.deferred_right,e);this.rightView.getController().dataCallInProgress=false;t.addTileContent(this.rightView.oGenericTile.getTileContent()[0]);break;case"TT":a="sap.ushell.components.tiles.indicatorArea.AreaChartTile";this.rightView=i._getView(a,this.deferred_right,e);this.rightView.getController().dataCallInProgress=false;t.addTileContent(this.rightView.oGenericTile.getTileContent()[0]);break}this.leftView.getController().onAfterTileRendering();this.rightView.getController().onAfterTileRendering();const o=this.getView().oGenericTile.getTileContent()[0];if(o&&o.attachRefresh){o.attachRefresh(this.refreshPress.bind(i))}}catch(e){this.logError(e)}},_updateTileModel:function(e){const i=this.getTile().getModel().getData();jQuery.extend(i,e);this.getTile().getModel().setData(i)},setTextInTile:function(){const e=this;const i=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.oTileApi);this._updateTileModel({header:i.title||sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(e.oConfig),subheader:i.subTitle||sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(e.oConfig)})},doDummyProcess:function(){const e=this;try{e.setTextInTile();switch(e.tileType){case"DT-CM":e._updateTileModel({value:1,size:r.Auto,frameType:s.TwoByOne,state:n.Loading,valueColor:o.Good,indicator:a.None,title:"Liquidity Structure",footer:"Current Quarter",description:"Apr 1st 2013 (B$)",data:[{title:"Measure 1",value:1,color:"Good"},{title:"Measure 2",value:2,color:"Good"},{title:"Measure 3",value:3,color:"Good"}]});break;case"DT-AT":e._updateTileModel({valueColor:"Good",value:100,frameType:s.TwoByOne,unit:"USD",actual:{value:120,color:o.Good},targetValue:100,thresholds:[{value:0,color:o.Error},{value:50,color:o.Critical},{value:150,color:o.Critical},{value:200,color:o.Error}],showActualValue:true,showTargetValue:true});break;case"DT-CT":e._updateTileModel({value:8888,size:r.Auto,frameType:s.TwoByOne,state:n.Loading,valueColor:o.Error,indicator:a.None,title:"US Profit Margin",footer:"Current Quarter",description:"Maximum deviation",data:[{title:"Americas",value:10,color:"Neutral",displayValue:""},{title:"EMEA",value:50,color:"Neutral",displayValue:""},{title:"APAC",value:-20,color:"Neutral",displayValue:""}]});break;case"DT-TT":this._updateTileModel({value:8888,size:r.Auto,frameType:s.TwoByOne,state:n.Loading,valueColor:o.Error,indicator:a.None,title:"Liquidity Structure",footer:"Current Quarter",description:"Apr 1st 2013 (B$)",width:"100%",height:"100%",chart:{color:"Good",data:[{day:0,balance:0},{day:30,balance:20},{day:60,balance:20},{day:100,balance:80}]},target:{color:"Error",data:[{day:0,balance:0},{day:30,balance:30},{day:60,balance:40},{day:100,balance:90}]},maxThreshold:{color:"Good",data:[{day:0,balance:0},{day:30,balance:40},{day:60,balance:50},{day:100,balance:100}]},innerMaxThreshold:{color:"Error",data:[]},innerMinThreshold:{color:"Neutral",data:[]},minThreshold:{color:"Error",data:[{day:0,balance:0},{day:30,balance:20},{day:60,balance:30},{day:100,balance:70}]},minXValue:0,maxXValue:100,minYValue:0,maxYValue:100,firstXLabel:{label:"June 123",color:"Error"},lastXLabel:{label:"June 30",color:"Error"},firstYLabel:{label:"0M",color:"Good"},lastYLabel:{label:"80M",color:"Critical"},minLabel:{},maxLabel:{}});break}}catch(e){}},visibleHandler:function(e){if(!e){if(this.leftView){this.leftView.getController().firstTimeVisible=false}if(this.rightView){this.rightView.getController().firstTimeVisible=false}sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.queryServiceUriODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.trendChartODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef)}if(e){if(this.leftView){this.leftView.getController().refreshHandler()}if(this.rightView){this.rightView.getController().refreshHandler()}}},initProcess:function(i){const t=this;this.oKpiTileView=this.getView();this.oResourceBundle=sap.ushell.components.tiles.utils.getResourceBundle();this.viewData={};t.viewData=this.oKpiTileView.getViewData();this.oTileApi=this.viewData.chip;if(this.oTileApi.visible){this.oTileApi.visible.attachVisible(this.visibleHandler.bind(this))}this.deferred_left=new jQuery.Deferred;this.deferred_right=new jQuery.Deferred;jQuery.when(this.deferred_left,this.deferred_right).done(()=>{t.setTextInTile();t.oConfig=t.oKpiTileView.oConfig;t.chipCacheTime=sap.ushell.components.tiles.indicatorTileUtils.util.getCachingTime(t.oConfig);t.chipCacheTimeUnit=sap.ushell.components.tiles.indicatorTileUtils.util.getCachingTimeUnit(t.oConfig);const e=t.leftView.getController().cacheWriteData;const i=t.rightView.getController().cacheWriteData;t.oKpiTileView.oGenericTile.setState(n.Loaded);const l=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oKpiTileView.oConfig,t.system);t.oKpiTileView.oGenericTile.$().wrap(`<a href ='${l}'></a>`);t.oKpiTileView.oGenericTile.attachPress(()=>{t.tilePressed=true;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oKpiTileView.oConfig.TILE_PROPERTIES.id,null);window.location.hash=l});const a={};const o={};o.leftData=e;o.rightData=i;a.ChipId=t.oConfig.TILE_PROPERTIES.id;a.Data=JSON.stringify(o);a.CacheMaxAge=Number(t.chipCacheTime);a.CacheMaxAgeUnit=t.chipCacheTimeUnit;a.CacheType=1;const s=t.getLocalCache(a);if(o.leftData&&o.rightData){sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,s)}const r=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(t.chipCacheTime&&o.leftData&&o.rightData){sap.ushell.components.tiles.indicatorTileUtils.util.writeFrontendCacheByChipAndUserId(t.oTileApi,t.oConfig.TILE_PROPERTIES.id,a,false,e=>{if(e){sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,e);t.cacheTime=e.CachedTime;t.setTimeStamp()}})}if(t.chipCacheTime){if(!t.cacheTime){t.cacheTime=r.CachedTime}t.setTimeStamp();sap.ushell.components.tiles.indicatorTileUtils.util.scheduleFetchDataJob.call(t,t.oTileApi.visible.isVisible())}}).fail(()=>{t.oKpiTileView.oGenericTile.setState(n.Failed)});t.tileType=t.oKpiTileView.oConfig.TILE_PROPERTIES.tileType;this.oTileApi=t.viewData.chip;if(this.oTileApi.preview.isEnabled()){this.doDummyProcess();t.oKpiTileView.oGenericTile.attachPress(()=>{e.show(t.oResourceBundle.getText("sb.NavigationHelp"))})}else{this.doProcess(i)}},onAfterRendering:function(){this.initProcess()},setNoData:function(){try{this._updateTileModel({value:"",scale:"",unit:"",footerNum:this.oResourceBundle.getText("sb.noDataAvailable"),footerComp:this.oResourceBundle.getText("sb.noDataAvailable")});this.oKpiTileView.oGenericTile.setState(n.Loaded)}catch(e){}},getChipConfiguration:function(e){const i=this;try{sap.ushell.components.tiles.indicatorTileUtils.util.getParsedChip(i.oTileApi.configuration.getParameterValueAsString("tileConfiguration"),i.oTileApi.preview.isEnabled(),t=>{i.oConfig=t;e.call()})}catch(e){i.logError(e.message)}}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorDual/DualTile.view", ["sap/ui/core/mvc/JSView","sap/ushell/components/tiles/indicatorTileUtils/oData4Analytics","sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil","sap/ushell/components/tiles/sbtilecontent","sap/m/NumericContent","sap/suite/ui/microchart/ComparisonMicroChartData","sap/suite/ui/microchart/ComparisonMicroChart","sap/suite/ui/microchart/AreaMicroChartItem","sap/suite/ui/microchart/AreaMicroChartPoint","sap/suite/ui/microchart/AreaMicroChartLabel","sap/suite/ui/microchart/AreaMicroChart","sap/suite/ui/microchart/BulletMicroChartData","sap/suite/ui/microchart/BulletMicroChart","sap/m/library","sap/m/GenericTile","sap/ui/model/json/JSONModel"],(e,t,a,i,l,o,n,s,r,u,c,h,p,m,d,T)=>{"use strict";const C=m.Size;sap.ui.getCore().loadLibrary("sap.suite.ui.microchart");sap.ui.jsview("sap.ushell.components.tiles.indicatorDual.DualTile",{getControllerName:function(){return"sap.ushell.components.tiles.indicatorDual.DualTile"},createContent:function(){function e(e){return new s({color:"Good",points:{path:`/${e}/data`,template:new r({x:"{day}",y:"{balance}"})}})}function t(e){return new u({label:`{/${e}/label}`,color:`{/${e}/color}`})}this.setHeight("100%");this.setWidth("100%");const a=this;a.oGenericTileData={};sap.ushell.components.tiles.indicatorTileUtils.util.getParsedChip(a.getViewData().chip.configuration.getParameterValueAsString("tileConfiguration"),a.getViewData().chip.preview.isEnabled(),e=>{a.oConfig=e});a.tileType=a.oConfig.TILE_PROPERTIES.tileType;a.oNumericContent=new l({value:"{/value}",scale:"{/scale}",unit:"{/unit}",indicator:"{/indicator}",size:"{/size}",formatterValue:"{/isFormatterValue}",truncateValueTo:5,valueColor:"{/valueColor}",nullifyValue:false});a.oLeftTileContent=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",footer:"{/footerNum}",content:a.oNumericContent});let i;switch(a.tileType){case"DT-CM":i=new o({title:"{title}",value:"{value}",color:"{color}",displayValue:"{displayValue}"});a.oComparisionContent=new n({size:"{/size}",scale:"{/scale}",data:{template:i,path:"/data"}});a.oRightContent=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",footer:"{/footerNum}",content:a.oComparisionContent});break;case"DT-CT":i=new o({title:"{title}",value:"{value}",color:"{color}",displayValue:"{displayValue}"});a.oContributionContent=new n({size:"{/size}",scale:"{/scale}",data:{template:i,path:"/data"}});a.oRightContent=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",footer:"{/footerNum}",content:a.oContributionContent});break;case"DT-TT":const l=new c({width:"{/width}",height:"{/height}",size:"{/size}",target:e("target"),innerMinThreshold:e("innerMinThreshold"),innerMaxThreshold:e("innerMaxThreshold"),minThreshold:e("minThreshold"),maxThreshold:e("maxThreshold"),chart:e("chart"),minXValue:"{/minXValue}",maxXValue:"{/maxXValue}",minYValue:"{/minYValue}",maxYValue:"{/maxYValue}",firstXLabel:t("firstXLabel"),lastXLabel:t("lastXLabel"),firstYLabel:t("firstYLabel"),lastYLabel:t("lastYLabel"),minLabel:t("minLabel"),maxLabel:t("maxLabel")});a.oRightContent=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",content:l});break;case"DT-AT":const s=new h({value:"{value}",color:"{color}"});const r=new p({size:C.Auto,scale:"{/scale}",actual:{value:"{/actual/value}",color:"{/actual/color}"},targetValue:"{/targetValue}",actualValueLabel:"{/actualValueLabel}",targetValueLabel:"{/targetValueLabel}",thresholds:{template:s,path:"/thresholds"},state:"{/state}",showActualValue:"{/showActualValue}",showTargetValue:"{/showTargetValue}"});a.oRightContent=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",footer:"{/footerNum}",content:r});break}a.oGenericTile=new d({subheader:"{/subheader}",frameType:"TwoByOne",size:"{/size}",header:"{/header}",tileContent:[a.oLeftTileContent,a.oRightContent]});a.oGenericTileModel=new T;a.oGenericTileModel.setData(a.oGenericTileData);a.oGenericTile.setModel(a.oGenericTileModel);return a.oGenericTile}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorDualComparison/DualComparison.controller", ["sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil","sap/m/library","sap/ui/thirdparty/jquery","sap/base/Log"],(e,i,jQuery,t)=>{"use strict";const l=i.Size;const o=i.DeviationIndicator;const s=i.ValueColor;const a=i.LoadState;sap.ui.controller("tiles.indicatorDualComparison.DualComparison",{getTile:function(){return this.oDualComparisonView.oGenericTile},_updateTileModel:function(e){const i=this.getTile().getModel().getData();jQuery.extend(i,e);this.getTile().getModel().setData(i)},setTitle:function(){const e=this;const i=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.oChip);this._updateTileModel({header:i.title||sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(e.oConfig),subheader:i.subTitle||sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(e.oConfig)})},logError:function(e){this.oDualComparisonView.oGenericTile.setState(a.Failed);this.oDualComparisonView.oGenericTile.setState(a.Failed);sap.ushell.components.tiles.indicatorTileUtils.util.logError(e)},formSelectStatement:function(e){const i=Object.keys(e);let t="";for(let l=0;l<i.length;l++){if(e[i[l]]!==undefined&&e.fullyFormedMeasure){t+=`,${e[i[l]]}`}}return t},setThresholdValues:function(){const e=this;try{const i={};i.fullyFormedMeasure=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){switch(this.DEFINITION_DATA.EVALUATION.GOAL_TYPE){case"MI":i.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","MEASURE");i.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","MEASURE");i.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");i.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");i.fullyFormedMeasure+=e.formSelectStatement(i);break;case"MA":i.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","MEASURE");i.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","MEASURE");i.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");i.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");i.fullyFormedMeasure+=e.formSelectStatement(i);break;case"RA":i.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","MEASURE");i.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","MEASURE");i.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");i.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");i.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","MEASURE");i.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","MEASURE");i.fullyFormedMeasure+=e.formSelectStatement(i);break}}else{i.criticalHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","FIXED");i.criticalLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","FIXED");i.warningHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","FIXED");i.warningLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","FIXED");i.targetValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","FIXED");i.trendValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","FIXED")}return i}catch(i){e.logError(i)}},getTrendColor:function(e){const i=this;let t;let l;let o;let a;try{const i=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;let n=s.Neutral;if(i==="MI"){if(e.criticalHighValue&&e.warningHighValue){t=Number(e.criticalHighValue);l=Number(e.warningHighValue);if(this.CALCULATED_KPI_VALUE<l){n=s.Good}else if(this.CALCULATED_KPI_VALUE<=t){n=s.Critical}else{n=s.Error}}}else if(i==="MA"){if(e.criticalLowValue&&e.warningLowValue){o=Number(e.criticalLowValue);a=Number(e.warningLowValue);if(this.CALCULATED_KPI_VALUE<o){n=s.Error}else if(this.CALCULATED_KPI_VALUE<=a){n=s.Critical}else{n=s.Good}}}else if(e.warningLowValue&&e.warningHighValue&&e.criticalLowValue&&e.criticalHighValue){t=Number(e.criticalHighValue);l=Number(e.warningHighValue);a=Number(e.warningLowValue);o=Number(e.criticalLowValue);if(this.CALCULATED_KPI_VALUE<o||this.CALCULATED_KPI_VALUE>t){n=s.Error}else if(this.CALCULATED_KPI_VALUE>=o&&this.CALCULATED_KPI_VALUE<=a||this.CALCULATED_KPI_VALUE>=l&&this.CALCULATED_KPI_VALUE<=t){n=s.Critical}else{n=s.Good}}return n}catch(e){i.logError(e)}},_processDataForComparisonChart:function(e,i,t){const l=[];const o={};let s;let a;let n;let r;let u=[];const c=this;let E;for(s=0;s<e.results.length;s++){E=e.results[s]}u=sap.ushell.components.tiles.indicatorTileUtils.util.getAllMeasuresWithLabelText(this.oConfig.EVALUATION.ODATA_URL,this.oConfig.EVALUATION.ODATA_ENTITYSET);for(s=0,n=u.length;s<n;s++){a=u[s];o[a.key]=a.value}const T=c.oConfig.TILE_PROPERTIES.COLUMN_NAMES||c.oConfig.EVALUATION.COLUMN_NAMES;for(s=0;s<T.length;s++){const e={};const i=T[s];e.value=Number(E[i.COLUMN_NAME]);let a=Number(E[i.COLUMN_NAME]);if(c.oConfig.EVALUATION.SCALING==-2){a*=100}r=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(a,c.oConfig.EVALUATION.SCALING,c.oConfig.EVALUATION.DECIMAL_PRECISION);if(c.oConfig.EVALUATION.SCALING==-2){r+=" %"}e.displayValue=r.toString();if(t[s]&&E[t[s].name]){e.displayValue+=` ${E[t[s].name]}`}e.color=i.semanticColor;e.title=o[i.COLUMN_NAME]||i.COLUMN_NAME;l.push(e)}return l},getTrendIndicator:function(e,i){const t=this;e=Number(e);try{let t=o.None;if(e>i){t=o.Down}else if(e<i){t=o.Up}return t}catch(e){t.logError(e)}},fetchKpiValue:function(e,i){const l=this;try{const o=this.oConfig.EVALUATION.ODATA_URL;const s=this.oConfig.EVALUATION.ODATA_ENTITYSET;let a;let n;if(this.oConfig.TILE_PROPERTIES.semanticMeasure){a=`${this.oConfig.EVALUATION.COLUMN_NAME},${this.oConfig.TILE_PROPERTIES.semanticMeasure}`}else{a=this.oConfig.EVALUATION.COLUMN_NAME;n=a;if(this.oConfig.TILE_PROPERTIES.COLUMN_NAMES){for(let e=0;e<this.oConfig.TILE_PROPERTIES.COLUMN_NAMES.length;e++){if(this.oConfig.TILE_PROPERTIES.COLUMN_NAMES[e].COLUMN_NAME!=this.oConfig.EVALUATION.COLUMN_NAME){n=`${n},${this.oConfig.TILE_PROPERTIES.COLUMN_NAMES[e].COLUMN_NAME}`}}}}const r=this.oConfig.EVALUATION_VALUES;const u=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(l.oConfig.TILE_PROPERTIES.id);if(!u){const r=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.oConfig.EVALUATION_FILTERS,this.oConfig.ADDITIONAL_FILTERS);const u={};u["0"]=`${a},asc`;u["1"]=`${a},desc`;const c=u[this.oConfig.TILE_PROPERTIES.sortOrder||"0"].split(",");const E=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(l.oChip.url.addSystemToServiceUrl(o),s,n,null,r,3);if(this.oConfig.TILE_PROPERTIES.semanticMeasure){E.uri+=`&$orderby=${c[0]} ${c[2]}`}else{E.uri+=`&$orderby=${c[0]} ${c[1]}`}this.writeData={};this.comparisionChartODataRef=E.model.read(E.uri,null,null,true,t=>{if(t&&t.results&&t.results.length){if(E.unit){l.writeData.unit=E.unit}l.oConfig.TILE_PROPERTIES.FINALVALUE=t;l.oConfig.TILE_PROPERTIES.FINALVALUE=l._processDataForComparisonChart(l.oConfig.TILE_PROPERTIES.FINALVALUE,n.split(",")[0],E.unit);l.writeData.data=t;let i;for(let e=0;e<l.oConfig.TILE_PROPERTIES.FINALVALUE.length;e++){if(l.oConfig.TILE_PROPERTIES.FINALVALUE[e].title==l.DEFINITION_DATA.EVALUATION.COLUMN_NAME){l.writeData.numericData=l.oConfig.TILE_PROPERTIES.FINALVALUE[e];calculatedValueforScaling=l.oConfig.TILE_PROPERTIES.FINALVALUE[e].value;l.getTrendIndicator(l.setThresholdValues().trendValue,calculatedValueforScaling);l._updateTileModel({valueColor:l.oConfig.TILE_PROPERTIES.FINALVALUE[e].color,value:sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(i),l.oConfig.EVALUATION.SCALING,l.oConfig.EVALUATION.DECIMAL_PRECISION).toString()});break}}sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(l.oConfig.TILE_PROPERTIES.id,l.writeData);e.call(l,l.oConfig.TILE_PROPERTIES.FINALVALUE)}else if(t.results.length==0){l.oConfig.TILE_PROPERTIES.FINALVALUE=t;l.writeData.data=t;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(l.oConfig.TILE_PROPERTIES.id,l.writeData);e.call(l,l.oConfig.TILE_PROPERTIES.FINALVALUE)}else{i.call(l,"no Response from QueryServiceUri")}},e=>{if(e&&e.response){t.error(`${e.message} : ${e.request.requestUri}`);i.call(l,e)}});if(!l.writeData.numericData){const e=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(l.DEFINITION_DATA.EVALUATION_FILTERS,l.DEFINITION_DATA.ADDITIONAL_FILTERS);const t=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(l.oChip.url.addSystemToServiceUrl(o),s,a,null,e);if(t){l.QUERY_SERVICE_MODEL=t.model;l.queryUriForKpiValue=t.uri;l.numericODataReadRef=l.QUERY_SERVICE_MODEL.read(t.uri,null,null,true,e=>{if(e&&e.results&&e.results.length){if(t.unit){l._updateTileModel({unitNumeric:e.results[0][t.unit.name]});l.writeData.unitNumeric=t.unit;l.writeData.unitNumeric.name=t.unit.name}l.writeData.numericData=e.results[0];l.DEFINITION_DATA.value=l.writeData.numericData[l.DEFINITION_DATA.EVALUATION.COLUMN_NAME];l.writeData.numericData.color=l.getTrendColor(l.setThresholdValues());l.DEFINITION_DATA.valueColor=l.writeData.numericData.color;let i="";let o=e.results[0][l.DEFINITION_DATA.EVALUATION.COLUMN_NAME];const s=l.getTrendIndicator(l.setThresholdValues().trendValue,o);if(l.oConfig.EVALUATION.SCALING==-2){o*=100;l.getView().oNumericContent.setFormatterValue(false)}i=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(o),l.oConfig.EVALUATION.SCALING,l.oConfig.EVALUATION.DECIMAL_PRECISION);if(l.oConfig.EVALUATION.SCALING==-2){l._updateTileModel({scale:"%"})}l._updateTileModel({value:i.toString(),valueColor:l.writeData.numericData.color,indicator:s})}else{i.call(l,"no Response from QueryServiceUri")}})}}}else{if(u.unit){l._updateTileModel({unit:u.data.results[0][u.unit.name]})}if(u.data&&u.data.results&&u.data.results.length){l.oConfig.TILE_PROPERTIES.FINALVALUE=u.data;l._updateTileModel({value:u.data.results[0][l.DEFINITION_DATA.EVALUATION.COLUMN_NAME]});l.oConfig.TILE_PROPERTIES.FINALVALUE=l._processDataForComparisonChart(l.oConfig.TILE_PROPERTIES.FINALVALUE,n,l.writeData.unit);e.call(l,l.oConfig.TILE_PROPERTIES.FINALVALUE)}else if(r.results.length==0){l.oConfig.TILE_PROPERTIES.FINALVALUE=u.data;e.call(l,l.oConfig.TILE_PROPERTIES.FINALVALUE)}else{i.call(l,"no Response from QueryServiceUri")}}}catch(e){i.call(l,e)}},flowWithoutDesignTimeCall:function(){const e=this;this.DEFINITION_DATA=this.oConfig;this._updateTileModel(this.DEFINITION_DATA);if(this.oChip.visible.isVisible()&&!this.firstTimeVisible){this.firstTimeVisible=true;this.fetchKpiValue(function(i){this.CALCULATED_KPI_VALUE=i;e.oDualComparisonView.oGenericTile.setFrameType("TwoByOne");e.oDualComparisonView.oGenericTile.removeAllTileContent();e.oDualComparisonView.oGenericTile.addTileContent(e.oDualComparisonView.oNumericTile);e.oDualComparisonView.oGenericTile.addTileContent(e.oDualComparisonView.oComparisonTile);const t=this.CALCULATED_KPI_VALUE;let l;let o;for(let i=0;i<t.length;i++){if(t[i].title==e.DEFINITION_DATA.EVALUATION.COLUMN_NAME){o=t[i].value;l=t[i].color||"Neutral";e._updateTileModel({value:sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(o),e.oConfig.EVALUATION.SCALING,e.oConfig.EVALUATION.DECIMAL_PRECISION).toString(),valueColor:l});break}}if(!l&&!o){l=e.DEFINITION_DATA.valueColor;o=e.DEFINITION_DATA.value}this._updateTileModel({value:sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(o),e.oConfig.EVALUATION.SCALING,e.oConfig.EVALUATION.DECIMAL_PRECISION).toString(),data:this.CALCULATED_KPI_VALUE});const s=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(e.oConfig,e.system);e.oDualComparisonView.oGenericTile.$().wrap(`<a href ='${s}'></a>`);this.oDualComparisonView.oGenericTile.setState(a.Loaded);let n="";if(l=="Error"){n="sb.error"}if(l=="Neutral"){n="sb.neutral"}if(l=="Critical"){n="sb.critical"}if(l=="Good"){n="sb.good"}const r=e.setThresholdValues();let u;let c;let E;let T;let A;let C;let L;let I;let h;if(this.CALCULATED_KPI_VALUE&&this.CALCULATED_KPI_VALUE[0]){u=this.CALCULATED_KPI_VALUE[0].title;T=this.CALCULATED_KPI_VALUE[0].value;L=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(this.CALCULATED_KPI_VALUE[0].color)}if(this.CALCULATED_KPI_VALUE&&this.CALCULATED_KPI_VALUE[1]){c=this.CALCULATED_KPI_VALUE[1].title;A=this.CALCULATED_KPI_VALUE[1].value;I=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(this.CALCULATED_KPI_VALUE[1].color)}if(this.CALCULATED_KPI_VALUE&&this.CALCULATED_KPI_VALUE[2]){E=this.CALCULATED_KPI_VALUE[2].title;C=this.CALCULATED_KPI_VALUE[2].value;h=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(this.CALCULATED_KPI_VALUE[2].color)}const g={status:n,actual:o,target:r.targetValue,cH:r.criticalHighValue,wH:r.warningHighValue,wL:r.warningLowValue,cL:r.criticalLowValue};const f={m1:u,v1:T,c1:L,m2:c,v2:A,c2:I,m3:E,v3:C,c3:h};const U=e.oDualComparisonView.oGenericTile.getTileContent()[0].getContent();const p=e.oDualComparisonView.oGenericTile.getTileContent()[1].getContent();sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(U,"NT",g);sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(p,"COMP",f)},this.logError)}},flowWithDesignTimeCall:function(){const e=this;try{const i=sap.ushell.components.tiles.indicatorTileUtils.cache.getEvaluationById(this.oConfig.EVALUATION.ID);if(i){e.oConfig.EVALUATION_FILTERS=i.EVALUATION_FILTERS;e.flowWithoutDesignTimeCall()}else{sap.ushell.components.tiles.indicatorTileUtils.util.getFilterFromRunTimeService(this.oConfig,i=>{e.oConfig.EVALUATION_FILTERS=i;sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(e.oConfig.TILE_PROPERTIES.id,e.oConfig);e.flowWithoutDesignTimeCall()})}}catch(e){this.logError(e)}},refreshHandler:function(e){if(!e.firstTimeVisible){if(Number(this.oChip.configuration.getParameterValueAsString("isSufficient"))){e.flowWithoutDesignTimeCall()}else{e.flowWithDesignTimeCall()}}},visibleHandler:function(e){if(!e){this.firstTimeVisible=false;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef)}if(e){this.refreshHandler(this)}},onInit:function(){const e=this;this.firstTimeVisible=false;this.oDualComparisonView=this.getView();this.oChip=this.oDualComparisonView.getViewData().chip;if(this.oChip.visible){this.oChip.visible.attachVisible(this.visibleHandler.bind(this))}this.system=this.oChip.url.getApplicationSystem();this.oDualComparisonView.oGenericTile.setState(a.Loading);try{sap.ushell.components.tiles.indicatorTileUtils.util.getParsedChip(this.oChip.configuration.getParameterValueAsString("tileConfiguration"),this.oChip.preview.isEnabled(),i=>{e.oConfig=i;if(e.oChip.preview){e.oChip.preview.setTargetUrl(sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(e.oConfig,e.system))}if(e.oChip.preview.isEnabled()){e.setTitle();e._updateTileModel({value:1,size:l.Auto,frameType:"TwoByOne",state:a.Loading,valueColor:s.Good,indicator:o.None,title:"Liquidity Structure",footer:"Current Quarter",description:"Apr 1st 2013 (B$)",data:[{title:"Measure 1",value:1,color:"Good"},{title:"Measure 2",value:2,color:"Good"},{title:"Measure 3",value:3,color:"Good"}]});e.oDualComparisonView.oGenericTile.setState(a.Loaded)}else{e.setTitle();e.oDualComparisonView.oGenericTile.attachPress(()=>{sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(e.comparisionChartODataRef);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(e.oConfig.TILE_PROPERTIES.id,null);window.location.hash=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(e.oConfig,e.system)});if(Number(e.oChip.configuration.getParameterValueAsString("isSufficient"))){sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(e.oConfig.TILE_PROPERTIES.id,e.oConfig);e.flowWithoutDesignTimeCall()}else{e.flowWithDesignTimeCall()}}})}catch(e){this.logError(e)}},onExit:function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef)}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorDualComparison/DualComparison.view", ["sap/ui/core/mvc/JSView","sap/ca/ui/model/format/NumberFormat","sap/ui/model/analytics/odata4analytics","sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil","sap/m/NumericContent","sap/m/TileContent","sap/suite/ui/microchart/ComparisonMicroChartData","sap/suite/ui/microchart/ComparisonMicroChart","sap/m/GenericTile","sap/ui/model/json/JSONModel"],(e,i,t,o,a,r,s,l,n,u)=>{"use strict";sap.ui.getCore().loadLibrary("sap.suite.ui.microchart");sap.ui.jsview("tiles.indicatorDualComparison.DualComparison",{getControllerName:function(){return"tiles.indicatorDualComparison.DualComparison"},createContent:function(){this.setHeight("100%");this.setWidth("100%");const e=this;e.oGenericTileData={};e.oNumericContent=new a({value:"{/value}",scale:"{/scale}",unit:"{/unit}",indicator:"{/indicator}",size:"{/size}",formatterValue:true,truncateValueTo:6,valueColor:"{/valueColor}"});e.oNumericTile=new r({unit:"{/unit}",size:"{/size}",footer:"{/footerNum}",content:e.oNumericContent});e.oCmprsDataTmpl=new s({title:"{title}",value:"{value}",color:"{color}",displayValue:"{displayValue}"});e.oCmprsChrtTmpl=new l({size:"{/size}",scale:"{/scale}",data:{template:e.oCmprsDataTmpl,path:"/data"}});e.oComparisonTile=new r({unit:"{/unit}",size:"{/size}",footer:"{/footerComp}",content:e.oCmprsChrtTmpl});e.oGenericTile=new n({subheader:"{/subheader}",frameType:"{/frameType}",size:"{/size}",header:"{/header}",tileContent:[e.oNumericTile,e.oComparisonTile]});e.oGenericTileModel=new u;e.oGenericTileModel.setData(e.oGenericTileData);e.oGenericTile.setModel(e.oGenericTileModel);return e.oGenericTile}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorDualContribution/DualContribution.controller", ["sap/m/library","sap/ui/thirdparty/jquery","sap/base/Log"],(e,jQuery,i)=>{"use strict";const t=e.ValueColor;const l=e.Size;const o=e.DeviationIndicator;const s=e.LoadState;sap.ui.controller("tiles.indicatorDualContribution.DualContribution",{getTile:function(){return this.oDualContributionView.oGenericTile},_updateTileModel:function(e){const i=this.getTile().getModel().getData();jQuery.extend(i,e);this.getTile().getModel().setData(i);this.getTile().getModel().updateBindings()},setTitle:function(){const e=this;const i=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.oChip);this._updateTileModel({header:i.title||sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(e.oConfig),subheader:i.subTitle||sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(e.oConfig)})},formSelectStatement:function(e){const i=Object.keys(e);let t="";for(let l=0;l<i.length;l++){if(e[i[l]]!==undefined&&e.fullyFormedMeasure){t+=`,${e[i[l]]}`}}return t},logError:function(e){this.oDualContributionView.oGenericTile.setState(s.Failed);this.oDualContributionView.oGenericTile.setState(s.Failed);sap.ushell.components.tiles.indicatorTileUtils.util.logError(e)},setThresholdValues:function(){const e=this;try{const i={};i.fullyFormedMeasure=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){switch(this.DEFINITION_DATA.EVALUATION.GOAL_TYPE){case"MI":i.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","MEASURE");i.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","MEASURE");i.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");i.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");i.fullyFormedMeasure+=e.formSelectStatement(i);break;case"MA":i.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","MEASURE");i.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","MEASURE");i.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");i.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");i.fullyFormedMeasure+=e.formSelectStatement(i);break;case"RA":i.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","MEASURE");i.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","MEASURE");i.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");i.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");i.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","MEASURE");i.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","MEASURE");i.fullyFormedMeasure+=e.formSelectStatement(i);break}}else{i.criticalHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","FIXED");i.criticalLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","FIXED");i.warningHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","FIXED");i.warningLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","FIXED");i.targetValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","FIXED");i.trendValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","FIXED")}return i}catch(i){e.logError(i)}},getTrendIndicator:function(e,i){const t=this;e=Number(e);try{let t=o.None;if(e>i){t=o.Down}else if(e<i){t=o.Up}return t}catch(e){t.logError(e)}},_processDataForComparisonChart:function(e,i,t){const l=this.oConfig.TILE_PROPERTIES.semanticMeasure;const o=[];let s;for(let n=0;n<e.results.length;n++){const a=e.results[n];const r={};try{r.title=a[t].toString()}catch(e){r.title=""}r.value=Number(a[i]);let u=Number(a[i]);if(this.oConfig.EVALUATION.SCALING==-2){u*=100}s=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(u,this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION);r.displayValue=s.toString();if(typeof l==="undefined"){r.color="Neutral"}else if(this.oConfig.EVALUATION.GOAL_TYPE==="MA"){if(r.value>a[l]){r.color="Good"}else{r.color="Error"}}else if(this.oConfig.EVALUATION.GOAL_TYPE==="MI"){if(r.value<a[l]){r.color="Good"}else{r.color="Error"}}else{r.color="Neutral"}o.push(r)}return o},fetchKpiValue:function(e,t){const l=this;try{const o=this.oConfig.EVALUATION.ODATA_URL;const s=this.oConfig.EVALUATION.ODATA_ENTITYSET;let n;if(this.oConfig.TILE_PROPERTIES.semanticMeasure){n=`${this.oConfig.EVALUATION.COLUMN_NAME},${this.oConfig.TILE_PROPERTIES.semanticMeasure}`}else{n=this.oConfig.EVALUATION.COLUMN_NAME}let a=this.oConfig.TILE_PROPERTIES.dimension;const r=this.oConfig.EVALUATION_VALUES;const u=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(l.oConfig.TILE_PROPERTIES.id);if(!u){const r=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.oConfig.EVALUATION_FILTERS,this.oConfig.ADDITIONAL_FILTERS);const u={};u["0"]=`${n},asc`;u["1"]=`${n},desc`;u["2"]=`${a},asc`;u["3"]=`${a},desc`;const c=u[this.oConfig.TILE_PROPERTIES.sortOrder||"0"].split(",");const T=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(l.oChip.url.addSystemToServiceUrl(o),s,n,a,r,3);if(this.oConfig.TILE_PROPERTIES.semanticMeasure){T.uri+=`&$top=3&$orderby=${c[0]} ${c[2]}`}else{T.uri+=`&$top=3&$orderby=${c[0]} ${c[1]}`}this.comparisionChartODataRef=T.model.read(T.uri,null,null,true,i=>{if(T.unit[0]){l._updateTileModel({unitContribution:i.results[0][T.unit[0].name]});l.writeData.unitContribution=T.unit[0];l.writeData.unitContribution.name=T.unit[0].name}if(i&&i.results&&i.results.length){a=sap.ushell.components.tiles.indicatorTileUtils.util.findTextPropertyForDimension(l.oChip.url.addSystemToServiceUrl(o),s,a);l.writeData.dimension=a;l.oConfig.TILE_PROPERTIES.FINALVALUE=i;l.oConfig.TILE_PROPERTIES.FINALVALUE=l._processDataForComparisonChart(l.oConfig.TILE_PROPERTIES.FINALVALUE,n.split(",")[0],a);l.writeData.data=i;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(l.oConfig.TILE_PROPERTIES.id,l.writeData);e.call(l,l.oConfig.TILE_PROPERTIES.FINALVALUE)}else if(i.results.length==0){l.oConfig.TILE_PROPERTIES.FINALVALUE=i;l.writeData.data=i;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(l.oConfig.TILE_PROPERTIES.id,l.writeData)}else{t.call(l,"no Response from QueryServiceUri")}},e=>{if(e&&e.response){i.error(`${e.message} : ${e.request.requestUri}`);t.call(l,e)}});const E=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(l.DEFINITION_DATA.EVALUATION_FILTERS,l.DEFINITION_DATA.ADDITIONAL_FILTERS);const C=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(l.oChip.url.addSystemToServiceUrl(o),s,n,null,E);if(C){l.QUERY_SERVICE_MODEL=C.model;l.queryUriForKpiValue=C.uri;l.numericODataReadRef=l.QUERY_SERVICE_MODEL.read(C.uri,null,null,true,i=>{if(i&&i.results&&i.results.length){if(C.unit){l._updateTileModel({unitNumeric:i.results[0][C.unit.name]});l.writeData.unitNumeric=C.unit;l.writeData.unitNumeric.name=C.unit.name}l.writeData.numericData=i;let t="";let o=i.results[0][l.DEFINITION_DATA.EVALUATION.COLUMN_NAME];const s=l.getTrendIndicator(l.setThresholdValues().trendValue,o);if(l.oConfig.EVALUATION.SCALING==-2){o*=100;l.getView().oNumericContent.setFormatterValue(false)}l.DEFINITION_DATA.value=o;t=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(o),l.oConfig.EVALUATION.SCALING,l.oConfig.EVALUATION.DECIMAL_PRECISION);if(l.oConfig.EVALUATION.SCALING==-2){l._updateTileModel({scale:"%"})}l._updateTileModel({value:t.toString(),valueColor:l.DEFINITION_DATA.TILE_PROPERTIES.semanticColorContribution,indicator:s});e.call(l,l.oConfig.TILE_PROPERTIES.FINALVALUE,o)}else{t.call(l,"no Response from QueryServiceUri")}})}}else{const i=l.setThresholdValues();let o;if(u.unitContribution){l._updateTileModel({unitContribution:u.data.results[0][u.unitContribution.name]})}if(u.unitNumeric){l._updateTileModel({unitNumeric:u.numericData.results[0][u.unitNumeric.name]})}if(u.data&&u.data.results&&u.data.results.length){a=u.dimension;l.oConfig.TILE_PROPERTIES.FINALVALUE=u.data;l.oConfig.TILE_PROPERTIES.FINALVALUE=l._processDataForComparisonChart(l.oConfig.TILE_PROPERTIES.FINALVALUE,n.split(",")[0],a);e.call(l,l.oConfig.TILE_PROPERTIES.FINALVALUE)}else if(r.results.length==0){l.oConfig.TILE_PROPERTIES.FINALVALUE=u.data}else{t.call(l,"no Response from QueryServiceUri")}if(u.numericData&&u.numericData.results&&u.numericData.results.length){o=u.numericData.results[0][l.DEFINITION_DATA.EVALUATION.COLUMN_NAME];if(l.oConfig.EVALUATION.SCALING==-2){o*=100;l.getView().oNumericContent.setFormatterValue(false)}const t=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(o),l.oConfig.EVALUATION.SCALING,l.oConfig.EVALUATION.DECIMAL_PRECISION);if(l.oConfig.EVALUATION.SCALING==-2){l._updateTileModel({scale:"%"})}const s=l.getTrendIndicator(i.trendValue,o);l._updateTileModel({value:t.toString(),indicator:s,valueColor:l.DEFINITION_DATA.TILE_PROPERTIES.semanticColorContribution});e.call(l,l.oConfig.TILE_PROPERTIES.FINALVALUE,o)}else{t.call(l,"no Response from QueryServiceUri")}}}catch(e){t.call(l,e)}},flowWithoutDesignTimeCall:function(){const e=this;this.DEFINITION_DATA=this.oConfig;this._updateTileModel(this.DEFINITION_DATA);if(this.oChip.visible.isVisible()&&!this.firstTimeVisible){this.firstTimeVisible=true;this.fetchKpiValue(function(i,t){this.CALCULATED_KPI_VALUE=i;if(e.oConfig.TILE_PROPERTIES.frameType=="TwoByOne"){e.oDualContributionView.oGenericTile.setFrameType("TwoByOne");e.oDualContributionView.oGenericTile.removeAllTileContent();e.oDualContributionView.oGenericTile.addTileContent(e.oDualContributionView.oNumericTile);e.oDualContributionView.oGenericTile.addTileContent(e.oDualContributionView.oComparisonTile)}else{e.oDualContributionView.oGenericTile.setFrameType("OneByOne");e.oDualContributionView.oGenericTile.removeAllTileContent();e.oDualContributionView.oGenericTile.addTileContent(e.oDualContributionView.oComparisonTile)}const l=this.CALCULATED_KPI_VALUE;const o=this.DEFINITION_DATA.TILE_PROPERTIES.semanticColorContribution;for(let e=0;e<this.CALCULATED_KPI_VALUE.length;e++){l[e].color=o}this._updateTileModel({data:l});let n=e.setThresholdValues();const a=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(e.oConfig,e.system);e.oDualContributionView.oGenericTile.$().wrap(`<a href ='${a}'></a>`);this.oDualContributionView.oGenericTile.setState(s.Loaded);let r="";if(o=="Error"){r="sb.error"}if(o=="Neutral"){r="sb.neutral"}if(o=="Critical"){r="sb.critical"}if(o=="Good"){r="sb.good"}n=e.setThresholdValues();let u;let c;let T;let E;let C;let h;let A;let g;let I;if(this.CALCULATED_KPI_VALUE&&this.CALCULATED_KPI_VALUE[0]){u=this.CALCULATED_KPI_VALUE[0].title;E=this.CALCULATED_KPI_VALUE[0].value;A=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(this.CALCULATED_KPI_VALUE[0].color)}if(this.CALCULATED_KPI_VALUE&&this.CALCULATED_KPI_VALUE[1]){c=this.CALCULATED_KPI_VALUE[1].title;C=this.CALCULATED_KPI_VALUE[1].value;g=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(this.CALCULATED_KPI_VALUE[1].color)}if(this.CALCULATED_KPI_VALUE&&this.CALCULATED_KPI_VALUE[2]){T=this.CALCULATED_KPI_VALUE[2].title;h=this.CALCULATED_KPI_VALUE[2].value;I=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(this.CALCULATED_KPI_VALUE[2].color)}const p={status:r,actual:t,target:n.targetValue,cH:n.criticalHighValue,wH:n.warningHighValue,wL:n.warningLowValue,cL:n.criticalLowValue};const d={m1:u,v1:E,c1:A,m2:c,v2:C,c2:g,m3:T,v3:h,c3:I};const f=e.oDualContributionView.oGenericTile.getTileContent()[0].getContent();const m=e.oDualContributionView.oGenericTile.getTileContent()[1].getContent();sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(f,"NT",p);sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(m,"CONT",d)},this.logError)}},flowWithDesignTimeCall:function(){const e=this;try{const i=sap.ushell.components.tiles.indicatorTileUtils.cache.getEvaluationById(this.oConfig.EVALUATION.ID);if(i){e.oConfig.EVALUATION_FILTERS=i.EVALUATION_FILTERS;e.flowWithoutDesignTimeCall()}else{sap.ushell.components.tiles.indicatorTileUtils.util.getFilterFromRunTimeService(this.oConfig,i=>{e.oConfig.EVALUATION_FILTERS=i;sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(e.oConfig.TILE_PROPERTIES.id,e.oConfig);e.flowWithoutDesignTimeCall()})}}catch(e){this.logError(e)}},refreshHandler:function(e){if(!e.firstTimeVisible){if(Number(this.oChip.configuration.getParameterValueAsString("isSufficient"))){e.flowWithoutDesignTimeCall()}else{e.flowWithDesignTimeCall()}}},visibleHandler:function(e){if(!e){this.firstTimeVisible=false;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef)}if(e){this.refreshHandler(this)}},onInit:function(){const e=this;e.writeData={};this.firstTimeVisible=false;this.oDualContributionView=this.getView();this.oChip=this.oDualContributionView.getViewData().chip;if(this.oChip.visible){this.oChip.visible.attachVisible(this.visibleHandler.bind(this))}this.system=this.oChip.url.getApplicationSystem();this.oDualContributionView.oGenericTile.setState(s.Loading);try{sap.ushell.components.tiles.indicatorTileUtils.util.getParsedChip(this.oChip.configuration.getParameterValueAsString("tileConfiguration"),this.oChip.preview.isEnabled(),i=>{e.oConfig=i;if(e.oChip.preview){e.oChip.preview.setTargetUrl(sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(e.oConfig,e.system))}if(e.oChip.preview.isEnabled()){e.setTitle();e._updateTileModel({value:8888,size:l.Auto,frameType:"TwoByOne",state:s.Loading,valueColor:t.Error,indicator:o.None,title:"US Profit Margin",footer:"Current Quarter",description:"Maximum deviation",data:[{title:"Americas",value:10,color:"Neutral",displayValue:""},{title:"EMEA",value:50,color:"Neutral",displayValue:""},{title:"APAC",value:-20,color:"Neutral",displayValue:""}]});e.oDualContributionView.oGenericTile.setState(s.Loaded)}else{e.setTitle();e.oDualContributionView.oGenericTile.attachPress(()=>{sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(e.comparisionChartODataRef);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(e.oConfig.TILE_PROPERTIES.id,null);window.location.hash=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(e.oConfig,e.system)});if(Number(e.oChip.configuration.getParameterValueAsString("isSufficient"))){sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(e.oConfig.TILE_PROPERTIES.id,e.oConfig);e.flowWithoutDesignTimeCall()}else{e.flowWithDesignTimeCall()}}})}catch(e){this.logError(e)}},onExit:function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef)}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorDualContribution/DualContribution.view", ["sap/ui/core/mvc/JSView","sap/ca/ui/model/format/NumberFormat","sap/ui/model/analytics/odata4analytics","sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil","sap/m/NumericContent","sap/m/TileContent","sap/suite/ui/microchart/ComparisonMicroChartData","sap/suite/ui/microchart/ComparisonMicroChart","sap/m/GenericTile","sap/ui/model/json/JSONModel"],(e,i,t,o,a,r,n,l,s,u)=>{"use strict";sap.ui.getCore().loadLibrary("sap.suite.ui.microchart");sap.ui.jsview("tiles.indicatorDualContribution.DualContribution",{getControllerName:function(){return"tiles.indicatorDualContribution.DualContribution"},createContent:function(){this.setHeight("100%");this.setWidth("100%");const e=this;e.oGenericTileData={};e.oNumericContent=new a({value:"{/value}",scale:"{/scale}",indicator:"{/indicator}",size:"{/size}",formatterValue:true,truncateValueTo:6,valueColor:"{/valueColor}"});e.oNumericTile=new r({unit:"{/unitNumeric}",size:"{/size}",footer:"{/footerNum}",content:e.oNumericContent});e.oCmprsDataTmpl=new n({title:"{title}",value:"{value}",color:"{color}",displayValue:"{displayValue}"});e.oCmprsChrtTmpl=new l({size:"{/size}",scale:"{/scale}",data:{template:e.oCmprsDataTmpl,path:"/data"}});e.oComparisonTile=new r({unit:"{/unitContribution}",size:"{/size}",footer:"{/footerComp}",content:e.oCmprsChrtTmpl});e.oGenericTile=new s({subheader:"{/subheader}",frameType:"{/frameType}",size:"{/size}",header:"{/header}",tileContent:[e.oNumericTile,e.oComparisonTile]});e.oGenericTileModel=new u;e.oGenericTileModel.setData(e.oGenericTileData);e.oGenericTile.setModel(e.oGenericTileModel);return e.oGenericTile}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorDualDeviation/DualDeviation.controller", ["sap/ui/model/json/JSONModel","sap/m/library","sap/ui/thirdparty/jquery"],(e,i,jQuery)=>{"use strict";const t=i.DeviationIndicator;const l=i.ValueColor;const o=i.LoadState;sap.ui.controller("tiles.indicatorDualDeviation.DualDeviation",{logError:function(e){this.oDualDeviationView.oGenericTile.setState(o.Failed);this.oDualDeviationView.oGenericTile.setState(o.Failed);sap.ushell.components.tiles.indicatorTileUtils.util.logError(e)},getThresholdsObjAndColor:function(e){try{const i={};i.arrObj=[];i.returnColor=l.Neutral;const t=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;let o;let a;let s;let r;if(t==="MI"){s=Number(e.criticalHighValue)||0;r=Number(e.warningHighValue)||0;if(s&&r){s=window.parseFloat(s);r=window.parseFloat(r);i.arrObj.push({value:s,color:l.Error});i.arrObj.push({value:r,color:l.Critical});if(this.CALCULATED_KPI_VALUE<r){i.returnColor=l.Good}else if(this.CALCULATED_KPI_VALUE<=s){i.returnColor=l.Critical}else{i.returnColor=l.Error}}}else if(t==="MA"){a=Number(e.criticalLowValue)||0;o=Number(e.warningLowValue)||0;if(a&&o){a=window.parseFloat(a);o=window.parseFloat(o);i.arrObj.push({value:a,color:l.Error});i.arrObj.push({value:o,color:l.Critical});if(this.CALCULATED_KPI_VALUE<a){i.returnColor=l.Error}else if(this.CALCULATED_KPI_VALUE<=o){i.returnColor=l.Critical}else{i.returnColor=l.Good}}}else{s=Number(e.criticalHighValue)||0;r=Number(e.warningHighValue)||0;a=Number(e.criticalLowValue)||0;o=Number(e.warningLowValue)||0;if(o&&r&&a&&a){s=window.parseFloat(s);r=window.parseFloat(r);o=window.parseFloat(o);a=window.parseFloat(a);i.arrObj.push({value:s,color:l.Error});i.arrObj.push({value:r,color:l.Critical});i.arrObj.push({value:o,color:l.Critical});i.arrObj.push({value:a,color:l.Error});if(this.CALCULATED_KPI_VALUE<a||this.CALCULATED_KPI_VALUE>s){i.returnColor=l.Error}else if(this.CALCULATED_KPI_VALUE>=a&&this.CALCULATED_KPI_VALUE<=o||this.CALCULATED_KPI_VALUE>=r&&this.CALCULATED_KPI_VALUE<=s){i.returnColor=l.Critical}else{i.returnColor=l.Good}}}return i}catch(e){this.logError(e)}},getTrendIndicator:function(e,i){const l=this;e=Number(e);try{let l=t.None;if(e>i){l=t.Down}else if(e<i){l=t.Up}return l}catch(e){l.logError(e)}},getTile:function(){return this.oDualDeviationView.oGenericTile},_updateTileModel:function(e){const i=this.getTile().getModel().getData();jQuery.extend(i,e);this.getTile().getModel().setData(i)},formSelectStatement:function(e){const i=Object.keys(e);let t="";for(let l=0;l<i.length;l++){if(e[i[l]]!==undefined&&e.fullyFormedMeasure){t+=`,${e[i[l]]}`}}return t},setThresholdValues:function(){const e=this;const i={};i.fullyFormedMeasure=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){switch(this.DEFINITION_DATA.EVALUATION.GOAL_TYPE){case"MI":i.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","MEASURE");i.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","MEASURE");i.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");i.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");i.fullyFormedMeasure+=e.formSelectStatement(i);break;case"MA":i.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","MEASURE");i.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","MEASURE");i.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");i.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");i.fullyFormedMeasure+=e.formSelectStatement(i);break;case"RA":i.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","MEASURE");i.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","MEASURE");i.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");i.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");i.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","MEASURE");i.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","MEASURE");i.fullyFormedMeasure+=e.formSelectStatement(i);break}}else{i.criticalHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","FIXED");i.criticalLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","FIXED");i.warningHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","FIXED");i.warningLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","FIXED");i.targetValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","FIXED");i.trendValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","FIXED")}return i},fetchKpiValue:function(e,i){const t=this;let l=0;try{const o=this.DEFINITION_DATA.EVALUATION.ODATA_URL;const a=this.DEFINITION_DATA.EVALUATION.ODATA_ENTITYSET;let s=this.setThresholdValues();const r=s.fullyFormedMeasure;const n=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(!n){const n=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.DEFINITION_DATA.EVALUATION_FILTERS,this.DEFINITION_DATA.ADDITIONAL_FILTERS);const u=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oTileApi.url.addSystemToServiceUrl(o),a,r,null,n);if(u){this.QUERY_SERVICE_MODEL=u.model;this.queryUriForKpiValue=u.uri;try{this.queryServiceUriODataReadRef=this.QUERY_SERVICE_MODEL.read(u.uri,null,null,true,o=>{t.writeData={};if(o&&o.results&&o.results.length){l=o.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME];if(u.unit[0]){t._updateTileModel({unit:o.results[0][u.unit[0].name]});t.writeData.unit=u.unit[0];t.writeData.unit.name=u.unit[0].name}t.writeData.numericData=o;let i="";let a=l;if(t.oConfig.EVALUATION.SCALING==-2){a*=100;t.getView().oNumericContent.setFormatterValue(false)}i=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(a),t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION);const r=t.getTrendIndicator(s.trendValue,a);if(t.oConfig.EVALUATION.SCALING==-2){t._updateTileModel({scale:"%"})}t._updateTileModel({value:i.toString(),indicator:r,valueColor:t.getThresholdsObjAndColor(s).returnColor});t.writeData.data=o;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,t.writeData);if(t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){s.criticalHighValue=o.results[0][s.sCriticalHigh];s.criticalLowValue=o.results[0][s.sCriticalLow];s.warningHighValue=o.results[0][s.sWarningHigh];s.warningLowValue=o.results[0][s.sWarningLow];s.targetValue=o.results[0][s.sTarget];s.trendValue=o.results[0][s.sTrend]}e.call(t,l,s)}else{i.call(t,"no Response from QueryServiceUri")}},e=>{if(e&&e.response){i.call(t,e.message)}})}catch(e){t.logError("Error in Query Service URI")}}}else if(n.data&&n.data.results&&n.data.results.length){let i;s=t.setThresholdValues();i=n.data.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME];if(t.oConfig.EVALUATION.SCALING==-2){i*=100;t.getView().oNumericContent.setFormatterValue(true)}if(t.oConfig.EVALUATION.SCALING==-2){t._updateTileModel({scale:"%"})}const l=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(i),t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION);const o=t.getTrendIndicator(s.trendValue,i);if(n.unit){t._updateTileModel({unit:n.data.results[0][n.unit.name]})}t._updateTileModel({indicator:o,value:l.toString()});if(t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){s.criticalHighValue=n.data.results[0][s.sCriticalHigh];s.criticalLowValue=n.data.results[0][s.sCriticalLow];s.warningHighValue=n.data.results[0][s.sWarningHigh];s.warningLowValue=n.data.results[0][s.sWarningLow];s.targetValue=n.data.results[0][s.sTarget];s.trendValue=n.data.results[0][s.sTrend]}e.call(t,n.data.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME],s)}else{i.call(t,"no Response from QueryServiceUri")}}catch(e){i.call(t,e)}},flowWithoutDesignTimeCall:function(){const e=this;let i;let t;this.DEFINITION_DATA=this.oConfig;this._updateTileModel(this.DEFINITION_DATA);if(this.oTileApi.visible.isVisible()&&!this.firstTimeVisible){this.firstTimeVisible=true;this.fetchKpiValue(function(l,a){let s=Number(l);if(this.oConfig.EVALUATION.SCALING==-2){s*=100}i=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(s),this.oConfig.EVALUATION.SCALING,e.oConfig.EVALUATION.DECIMAL_PRECISION);this.CALCULATED_KPI_VALUE=Number(l);const r={};const n=this.getThresholdsObjAndColor(a);const u={value:Number(l),color:n.returnColor};r.valueColor=u.color;r.actualValueLabel=i.toString();r.actual=u;const c=this.DEFINITION_DATA.EVALUATION_VALUES;let T;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){T=Number(a.targetValue);if(this.oConfig.EVALUATION.SCALING==-2){T*=100}t=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(T,this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION);r.targetValue=Number(a.targetValue);r.targetValueLabel=t.toString()}else{for(let e=0;e<c.length;e++){if(c[e].TYPE==="TA"){T=Number(c[e].FIXED);if(this.oConfig.EVALUATION.SCALING==-2){T*=100}t=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(T);r.targetValue=Number(c[e].FIXED);r.targetValueLabel=t.toString()}}}this._updateTileModel(r);const g=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(e.oConfig,e.system);e.oDualDeviationView.oGenericTile.$().wrap(`<a href ='${g}'></a>`);this.oDualDeviationView.oGenericTile.setState(o.Loaded);let h="";if(r.valueColor=="Error"){h="sb.error"}if(r.valueColor=="Neutral"){h="sb.neutral"}if(r.valueColor=="Critical"){h="sb.critical"}if(r.valueColor=="Good"){h="sb.good"}const E={status:h,actual:s,target:a.targetValue,cH:a.criticalHighValue,wH:a.warningHighValue,wL:a.warningLowValue,cL:a.criticalLowValue};const A=E;const d=e.oDualDeviationView.oGenericTile.getTileContent()[0].getContent();const C=e.oDualDeviationView.oGenericTile.getTileContent()[1].getContent();sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(d,"NT",E);sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(C,"DT",A)},this.logError)}},flowWithDesignTimeCall:function(){const e=this;try{const i=sap.ushell.components.tiles.indicatorTileUtils.cache.getEvaluationById(this.oConfig.EVALUATION.ID);if(i){e.oConfig.EVALUATION_FILTERS=i.EVALUATION_FILTERS;e.flowWithoutDesignTimeCall()}else{sap.ushell.components.tiles.indicatorTileUtils.util.getFilterFromRunTimeService(this.oConfig,i=>{e.oConfig.EVALUATION_FILTERS=i;sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(e.oConfig.TILE_PROPERTIES.id,e.oConfig);e.flowWithoutDesignTimeCall()})}}catch(e){this.logError(e)}},refreshHandler:function(e){if(!e.firstTimeVisible){if(Number(this.oTileApi.configuration.getParameterValueAsString("isSufficient"))){e.flowWithoutDesignTimeCall()}else{e.flowWithDesignTimeCall()}}},visibleHandler:function(e){if(!e){this.firstTimeVisible=false;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.queryServiceUriODataReadRef)}if(e){this.refreshHandler(this)}},setTextInTile:function(){const e=this;const i=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.oTileApi);this._updateTileModel({header:i.title||sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(e.oConfig),subheader:i.subTitle||sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(e.oConfig)})},onInit:function(){const e=this;this.firstTimeVisible=false;this.oDualDeviationView=this.getView();this.oViewData=this.oDualDeviationView.getViewData();this.oTileApi=this.oViewData.chip;if(this.oTileApi.visible){this.oTileApi.visible.attachVisible(this.visibleHandler.bind(this))}this.system=this.oTileApi.url.getApplicationSystem();this.oDualDeviationView.oGenericTile.setState(o.Loading);try{sap.ushell.components.tiles.indicatorTileUtils.util.getParsedChip(e.oTileApi.configuration.getParameterValueAsString("tileConfiguration"),e.oTileApi.preview.isEnabled(),i=>{e.oConfig=i;e.setTextInTile();if(e.oTileApi.preview){e.oTileApi.preview.setTargetUrl(sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(e.oConfig,e.system))}if(e.oTileApi.preview.isEnabled()){e._updateTileModel({valueColor:"Good",value:100,frameType:"TwoByOne",unit:"USD",actual:{value:120,color:l.Good},targetValue:100,thresholds:[{value:0,color:l.Error},{value:50,color:l.Critical},{value:150,color:l.Critical},{value:200,color:l.Error}],showActualValue:true,showTargetValue:true});e.oDualDeviationView.oGenericTile.setState(o.Loaded)}else{e.oDualDeviationView.oGenericTile.attachPress(()=>{sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(e.queryServiceUriODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(e.oConfig.TILE_PROPERTIES.id,null);window.location.hash=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(e.oConfig,e.system)});if(Number(e.oTileApi.configuration.getParameterValueAsString("isSufficient"))){sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(e.oConfig.TILE_PROPERTIES.id,e.oConfig);e.flowWithoutDesignTimeCall()}else{e.flowWithDesignTimeCall()}}})}catch(e){this.logError(e)}},_setLocalModelToTile:function(){if(!this.getTile().getModel()){this.getTile().setModel(new e({}))}},onExit:function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.queryServiceUriODataReadRef)}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorDualDeviation/DualDeviation.view", ["sap/ui/core/mvc/JSView","sap/ca/ui/model/format/NumberFormat","sap/ui/model/analytics/odata4analytics","sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil","sap/m/library","sap/m/NumericContent","sap/m/TileContent","sap/suite/ui/microchart/BulletMicroChartData","sap/suite/ui/microchart/BulletMicroChart","sap/m/GenericTile","sap/ui/model/json/JSONModel"],(e,t,a,i,o,l,s,u,r,n,c)=>{"use strict";const m=o.Size;const h=o.LoadState;sap.ui.getCore().loadLibrary("sap.suite.ui.microchart");sap.ui.jsview("tiles.indicatorDualDeviation.DualDeviation",{getControllerName:function(){return"tiles.indicatorDualDeviation.DualDeviation"},createContent:function(){const e=this;this.setHeight("100%");this.setWidth("100%");let t="Lorem ipsum";let a="Lorem ipsum";const i=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.getViewData().chip);if(i.title&&i.subTitle){t=i.title;a=i.subTitle}const o={subheader:a,header:t,footerNum:"",footerComp:"",frameType:"TwoByOne",state:h.Loading,scale:""};e.oNumericContent=new l({value:"{/value}",scale:"{/scale}",unit:"{/unit}",indicator:"{/indicator}",size:"{/size}",formatterValue:true,truncateValueTo:6,valueColor:"{/valueColor}"});e.oNumericTile=new s({unit:"{/unit}",size:"{/size}",footer:"{/footerNum}",content:e.oNumericContent});const p=new u({value:"{value}",color:"{color}"});e.oBCTmpl=new r({size:m.Auto,scale:"{/scale}",actual:{value:"{/actual/value}",color:"{/actual/color}"},targetValue:"{/targetValue}",actualValueLabel:"{/actualValueLabel}",targetValueLabel:"{/targetValueLabel}",thresholds:{template:p,path:"/thresholds"},state:"{/state}",showActualValue:"{/showActualValue}",showTargetValue:"{/showTargetValue}"});const d=new s({unit:"{/unit}",size:"{/size}",footer:"{/footerNum}",content:e.oBCTmpl});e.oGenericTile=new n({subheader:"{/subheader}",frameType:"{/frameType}",size:"{/size}",header:"{/header}",tileContent:[e.oNumericTile,d]});const T=new c;T.setData(o);e.oGenericTile.setModel(T);return e.oGenericTile}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorDualTrend/DualTrend.controller", ["sap/ui/model/json/JSONModel","sap/suite/ui/microchart/AreaMicroChartPoint","sap/suite/ui/microchart/AreaMicroChartItem","sap/m/library","sap/ui/thirdparty/jquery"],(e,i,t,l,jQuery)=>{"use strict";const a=l.Size;const s=l.ValueColor;const r=l.DeviationIndicator;const o=l.LoadState;sap.ui.controller("tiles.indicatorDualTrend.DualTrend",{logError:function(e){this.oDualTrendView.oGenericTile.setState(o.Failed);this.oDualTrendView.oGenericTile.setState(o.Failed);sap.ushell.components.tiles.indicatorTileUtils.util.logError(e)},formSelectStatement:function(e){const i=Object.keys(e);let t="";for(let l=0;l<i.length;l++){if(e[i[l]]!==undefined&&e.fullyFormedMeasure){t+=`,${e[i[l]]}`}}return t},setThresholdValues:function(){const e=this;try{const i={};i.fullyFormedMeasure=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){switch(this.DEFINITION_DATA.EVALUATION.GOAL_TYPE){case"MI":i.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","MEASURE");i.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","MEASURE");i.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");i.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");i.fullyFormedMeasure+=e.formSelectStatement(i);break;case"MA":i.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","MEASURE");i.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","MEASURE");i.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");i.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");i.fullyFormedMeasure+=e.formSelectStatement(i);break;case"RA":i.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","MEASURE");i.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","MEASURE");i.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");i.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");i.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","MEASURE");i.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","MEASURE");i.fullyFormedMeasure+=e.formSelectStatement(i);break}}else{i.criticalHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","FIXED");i.criticalLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","FIXED");i.warningHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","FIXED");i.warningLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","FIXED");i.targetValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","FIXED");i.trendValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","FIXED")}return i}catch(i){e.logError(i)}},getTrendIndicator:function(e,i){const t=this;e=Number(e);try{let t=r.None;if(e>i){t=r.Down}else if(e<i){t=r.Up}return t}catch(e){t.logError(e)}},getTile:function(){return this.oDualTrendView.oGenericTile},getTrendColor:function(e){const i=this;try{const i=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;let t=s.Neutral;if(i==="MI"){if(e.criticalHighValue&&e.warningHighValue){e.criticalHighValue=Number(e.criticalHighValue);e.warningHighValue=Number(e.warningHighValue);if(this.CALCULATED_KPI_VALUE<e.warningHighValue){t=s.Good}else if(this.CALCULATED_KPI_VALUE<=e.criticalHighValue){t=s.Critical}else{t=s.Error}}}else if(i==="MA"){if(e.criticalLowValue&&e.warningLowValue){e.criticalLowValue=Number(e.criticalLowValue);e.warningLowValue=Number(e.warningLowValue);if(this.CALCULATED_KPI_VALUE<e.criticalLowValue){t=s.Error}else if(this.CALCULATED_KPI_VALUE<=e.warningLowValue){t=s.Critical}else{t=s.Good}}}else if(e.warningLowValue&&e.warningHighValue&&e.criticalLowValue&&e.criticalHighValue){e.criticalHighValue=Number(e.criticalHighValue);e.warningHighValue=Number(e.warningHighValue);e.warningLowValue=Number(e.warningLowValue);e.criticalLowValue=Number(e.criticalLowValue);if(this.CALCULATED_KPI_VALUE<e.criticalLowValue||this.CALCULATED_KPI_VALUE>e.criticalHighValue){t=s.Error}else if(this.CALCULATED_KPI_VALUE>=e.criticalLowValue&&this.CALCULATED_KPI_VALUE<=e.warningLowValue||this.CALCULATED_KPI_VALUE>=e.warningHighValue&&this.CALCULATED_KPI_VALUE<=e.criticalHighValue){t=s.Critical}else{t=s.Good}}return t}catch(e){i.logError(e)}},_updateTileModel:function(e){const i=this.getTile().getModel().getData();jQuery.extend(i,e);this.getTile().getModel().setData(i)},onAfterFinalEvaluation:function(){const e=this;const l=this.DEFINITION_DATA.EVALUATION.ODATA_URL;const a=this.DEFINITION_DATA.EVALUATION.ODATA_ENTITYSET;const s=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;let r=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.DEFINITION_DATA.EVALUATION_FILTERS,this.DEFINITION_DATA.ADDITIONAL_FILTERS);let n=this.DEFINITION_DATA.TILE_PROPERTIES.dimension;if(n==undefined){this.logError();return}const u=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;const c=this.DEFINITION_DATA.EVALUATION_VALUES;let T;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){let i=s;switch(u){case"MI":e.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","MEASURE");e.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","MEASURE");e.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");e.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");if(e.sWarningHigh&&e.sCriticalHigh&&e.sTarget){i+=`,${e.sWarningHigh},${e.sCriticalHigh},${e.sTarget}`}break;case"MA":e.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","MEASURE");e.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","MEASURE");e.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");e.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");if(e.sWarningLow&&e.sCriticalLow&&e.sTarget){i+=`,${e.sWarningLow},${e.sCriticalLow},${e.sTarget}`}break;case"RA":e.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","MEASURE");e.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","MEASURE");e.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");e.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");e.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","MEASURE");e.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","MEASURE");if(e.sWarningLow&&e.sCriticalLow&&e.sTarget&&e.sWarningHigh&&e.sCriticalHigh){i+=`,${e.sWarningLow},${e.sCriticalLow},${e.sTarget},${e.sWarningHigh},${e.sCriticalHigh}`}break}T=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(e.oTileApi.url.addSystemToServiceUrl(l),a,i,n,r)}else{T=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(e.oTileApi.url.addSystemToServiceUrl(l),a,s,n,r)}const h=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(e.oConfig.TILE_PROPERTIES.id);function E(l,a){const r=[];const o=[];const T=[];const h=[];const E=[];const g=[];let d=l.firstXlabel;let A;let f;let m;let L;let C;let N=l.lastXlabel;const p=Number(l.results[0][s]);const I=Number(l.results[l.results.length-1][s]);let U;for(U in l.results){l.results[U][n]=Number(U);l.results[U][s]=Number(l.results[U][s]);if(e.sWarningHigh){l.results[U][e.sWarningHigh]=Number(l.results[U][e.sWarningHigh])}if(e.sCriticalHigh){l.results[U][e.sCriticalHigh]=Number(l.results[U][e.sCriticalHigh])}if(e.sCriticalLow){l.results[U][e.sCriticalLow]=Number(l.results[U][e.sCriticalLow])}if(e.sWarningLow){l.results[U][e.sWarningLow]=Number(l.results[U][e.sWarningLow])}if(e.sTarget){l.results[U][e.sTarget]=Number(l.results[U][e.sTarget])}if(e.sWarningHigh){T.push(l.results[U][e.sWarningHigh])}if(e.sCriticalHigh){h.push(l.results[U][e.sCriticalHigh])}if(e.sCriticalLow){E.push(l.results[U][e.sCriticalLow])}if(e.sWarningLow){g.push(l.results[U][e.sWarningLow])}r.push(l.results[U][n]);o.push(l.results[U][s])}try{d=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(d);N=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(N)}catch(i){e.logError(i)}let V=Number(p);if(e.oConfig.EVALUATION.SCALING==-2){V*=100}const w=Math.min.apply(Math,o);let M=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(V,e.oConfig.EVALUATION.SCALING,e.oConfig.EVALUATION.DECIMAL_PRECISION);if(e.oConfig.EVALUATION.SCALING==-2){M+=" %"}const S=M.toString();let D=Number(I);if(e.oConfig.EVALUATION.SCALING==-2){D*=100}const b=Math.max.apply(Math,o);let R=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(D,e.oConfig.EVALUATION.SCALING,e.oConfig.EVALUATION.DECIMAL_PRECISION);if(e.oConfig.EVALUATION.SCALING==-2){R+=" %"}const O=R.toString();let H;let _;try{H=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(Math.min.apply(Math,r));_=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(Math.max.apply(Math,r))}catch(i){e.logError(i)}if(a=="MEASURE"){if(T.length!=0){e.firstwH=T[H];e.lastwH=T[_]}if(h.length!=0){e.firstcH=h[H];e.lastcH=h[_]}if(E.length!=0){e.firstcL=E[H];e.lastcL=E[_]}if(g.length!=0){e.firstwL=g[H];e.lastwL=g[_]}}const F={width:"100%",height:"100%",unit:e.unit||"",chart:{color:"Neutral",data:l.results},size:"Auto",minXValue:H,maxXValue:_,minYValue:w,maxYValue:b,firstXLabel:{label:`${d}`,color:"Neutral"},lastXLabel:{label:`${N}`,color:"Neutral"},firstYLabel:{label:`${S}`,color:"Neutral"},lastYLabel:{label:`${O}`,color:"Neutral"},minLabel:{},maxLabel:{}};let v;switch(u){case"MA":for(U in c){if(c[U].TYPE=="CL"){F.minThreshold={color:"Error"};v={};v[n]="";v[s]=Number(c[U].FIXED);e.cl=Number(c[U].FIXED);F.minThreshold.data=a=="MEASURE"?l.results:[v];A=a=="MEASURE"?e.sCriticalLow:s}else if(c[U].TYPE=="WL"){F.maxThreshold={color:"Good"};v={};v[n]="";v[s]=Number(c[U].FIXED);F.maxThreshold.data=a=="MEASURE"?l.results:[v];f=a=="MEASURE"?e.sWarningLow:s;e.wl=Number(c[U].FIXED)}else if(c[U].TYPE=="TA"){v={};v[n]="";v[s]=Number(c[U].FIXED);F.target={color:"Neutral"};F.target.data=a=="MEASURE"?l.results:[v];C=a=="MEASURE"?e.sTarget:s}}F.innerMinThreshold={data:[]};F.innerMaxThreshold={data:[]};if(a=="FIXED"){F.firstYLabel.color=p<e.cl?"Error":e.cl<=p&&p<=e.wl?"Critical":p>e.wl?"Good":"Neutral";F.lastYLabel.color=I<e.cl?"Error":e.cl<=I&&I<=e.wl?"Critical":I>e.wl?"Good":"Neutral"}else if(a=="MEASURE"&&e.firstwL&&e.lastwL&&e.firstcL&&e.lastcL){F.firstYLabel.color=p<e.firstcL?"Error":e.firstcL<=p&&p<=e.firstwL?"Critical":p>e.firstwL?"Good":"Neutral";F.lastYLabel.color=I<e.lastcL?"Error":e.lastcL<=I&&I<=e.lastwL?"Critical":I>e.lastwL?"Good":"Neutral"}break;case"MI":for(U in c){if(c[U].TYPE=="CH"){v={};v[n]="";v[s]=Number(c[U].FIXED);e.ch=Number(c[U].FIXED);F.maxThreshold={color:"Error"};F.maxThreshold.data=a=="MEASURE"?l.results:[v];f=a=="MEASURE"?e.sCriticalHigh:s}else if(c[U].TYPE=="WH"){v={};v[n]="";v[s]=Number(c[U].FIXED);e.wh=Number(c[U].FIXED);F.minThreshold={color:"Good"};F.minThreshold.data=a=="MEASURE"?l.results:[v];A=a=="MEASURE"?e.sWarningHigh:s}else if(c[U].TYPE=="TA"){v={};v[n]="";v[s]=Number(c[U].FIXED);F.target={color:"Neutral"};F.target.data=a=="MEASURE"?l.results:[v];C=a=="MEASURE"?e.sTarget:s}}if(a=="FIXED"){F.firstYLabel.color=p>e.ch?"Error":e.wh<=p&&p<=e.ch?"Critical":p<e.wh?"Good":"Neutral";F.lastYLabel.color=I>e.ch?"Error":e.wh<=I&&I<=e.ch?"Critical":I<e.wh?"Good":"Neutral"}else if(a=="MEASURE"&&e.firstwH&&e.lastwH&&e.firstcH&&e.lastcH){F.firstYLabel.color=p>e.firstcH?"Error":e.firstwH<=p&&p<=e.firstcH?"Critical":p<e.firstwH?"Good":"Neutral";F.lastYLabel.color=I>e.lastcH?"Error":e.lastwH<=I&&I<=e.lastcH?"Critical":I<e.lastwH?"Good":"Neutral"}F.innerMaxThreshold={data:[]};F.innerMinThreshold={data:[]};break;case"RA":for(U in c){if(c[U].TYPE=="CH"){v={};v[n]="";v[s]=Number(c[U].FIXED);e.ch=Number(c[U].FIXED);F.maxThreshold={color:"Error"};F.maxThreshold.data=a=="MEASURE"?l.results:[v];f=a=="MEASURE"?e.sCriticalHigh:s}else if(c[U].TYPE=="WH"){v={};v[n]="";v[s]=Number(c[U].FIXED);e.wh=Number(c[U].FIXED);F.innerMaxThreshold={color:"Good"};F.innerMaxThreshold.data=a=="MEASURE"?l.results:[v];L=a=="MEASURE"?e.sWarningHigh:s}else if(c[U].TYPE=="WL"){v={};v[n]="";v[s]=Number(c[U].FIXED);e.wl=Number(c[U].FIXED);F.innerMinThreshold={color:"Good"};F.innerMinThreshold.data=a=="MEASURE"?l.results:[v];m=a=="MEASURE"?e.sWarningLow:s}else if(c[U].TYPE=="CL"){v={};v[n]="";v[s]=Number(c[U].FIXED);e.cl=Number(c[U].FIXED);F.minThreshold={color:"Error"};F.minThreshold.data=a=="MEASURE"?l.results:[v];A=a=="MEASURE"?e.sCriticalLow:s}else if(c[U].TYPE=="TA"){v={};v[n]="";v[s]=Number(c[U].FIXED);F.target={color:"Neutral"};F.target.data=a=="MEASURE"?l.results:[v];C=a=="MEASURE"?e.sTarget:s}}if(a=="FIXED"){F.firstYLabel.color=p>e.ch||p<e.cl?"Error":e.wh<=p&&p<=e.ch||e.cl<=p&&p<=e.wl?"Critical":p>=e.wl&&p<=e.wh?"Good":"Neutral";F.lastYLabel.color=I>e.ch||I<e.cl?"Error":e.wh<=I&&I<=e.ch||e.cl<=I&&I<=e.wl?"Critical":I>=e.wl&&I<=e.wh?"Good":"Neutral"}else if(a=="MEASURE"&&e.firstwL&&e.lastwL&&e.firstcL&&e.lastcL&&e.firstwH&&e.lastwH&&e.firstcH&&e.lastcH){F.firstYLabel.color=p>e.firstcH||p<e.firstcL?"Error":e.firstwH<=p&&p<=e.firstcH||e.firstcL<=p&&p<=e.firstwL?"Critical":p>=e.firstwL&&p<=e.firstwH?"Good":"Neutral";F.lastYLabel.color=I>e.lastcH||I<e.lastcL?"Error":e.lastwH<=I&&I<=e.lastcH||e.lastcL<=I&&I<=e.lastwL?"Critical":I>=e.lastwL&&I<=e.lastwH?"Good":"Neutral"}break}function y(e,l,a){return new t({color:`{/${e}/color}`,points:{path:`/${e}/data`,template:new i({x:`{${l}}`,y:`{${a}}`})}})}e.getTile().getTileContent()[1].getContent().setTarget(y("target",n,C));e.getTile().getTileContent()[1].getContent().setInnerMinThreshold(y("innerMinThreshold",n,m));e.getTile().getTileContent()[1].getContent().setInnerMaxThreshold(y("innerMaxThreshold",n,L));e.getTile().getTileContent()[1].getContent().setMinThreshold(y("minThreshold",n,A));e.getTile().getTileContent()[1].getContent().setMaxThreshold(y("maxThreshold",n,f));e.getTile().getTileContent()[1].getContent().setChart(y("chart",n,s));e._updateTileModel(F)}if(!h){if(T){this.queryUriForTrendChart=T.uri;e.writeData={};try{this.trendChartODataReadRef=T.model.read(T.uri,null,null,true,i=>{if(i&&i.results&&i.results.length){if(T.unit[0]){e.unit=i.results[0][T.unit[0].name];e.writeData.unit=T.unit[0];e.writeData.unit.name=T.unit[0].name}e.queryUriResponseForTrendChart=i;n=sap.ushell.components.tiles.indicatorTileUtils.util.findTextPropertyForDimension(e.oTileApi.url.addSystemToServiceUrl(l),a,n);i.firstXlabel=i.results[0][n];i.lastXlabel=i.results[i.results.length-1][n];e.writeData.data=i;e.writeData.dimensionName=n;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(e.oConfig.TILE_PROPERTIES.id,e.writeData);const t=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(e.oConfig,e.system);e.oDualTrendView.oGenericTile.$().wrap(`<a href ='${t}'></a>`);e.oDualTrendView.oGenericTile.setState(o.Loaded);E(i,e.DEFINITION_DATA.EVALUATION.VALUES_SOURCE)}else{e.logError("no Response from QueryServiceUri")}},i=>{if(i&&i.response){e.logError("Data call failed")}})}catch(i){e.logError(i)}}else{e.logError()}r=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(e.DEFINITION_DATA.EVALUATION_FILTERS,e.DEFINITION_DATA.ADDITIONAL_FILTERS);T=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(e.oTileApi.url.addSystemToServiceUrl(l),a,s,null,r);if(T){e.QUERY_SERVICE_MODEL=T.model;e.queryUriForKpiValue=T.uri;e.numericODataReadRef=e.QUERY_SERVICE_MODEL.read(T.uri,null,null,true,i=>{if(i&&i.results&&i.results.length){let t="";let l=i.results[0][e.DEFINITION_DATA.EVALUATION.COLUMN_NAME];e.writeData.numericData=i;if(e.oConfig.EVALUATION.SCALING==-2){l*=100}t=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(l),e.oConfig.EVALUATION.SCALING,e.oConfig.EVALUATION.DECIMAL_PRECISION);if(e.oConfig.EVALUATION.SCALING==-2){e._updateTileModel({scale:"%"})}const a=e.getTrendIndicator(e.setThresholdValues().trendValue,l);e._updateTileModel({value:t.toString(),valueColor:e.getTrendColor(e.setThresholdValues()),indicator:a})}else{fnError.call(e,"no Response from QueryServiceUri")}})}}else{try{if(h.unit!==undefined){e.unit=h.data.results[0][h.unit.name]}e.queryUriResponseForTrendChart=h.data;n=h.dimensionName;const i=h.numericData.results[0][e.DEFINITION_DATA.EVALUATION.COLUMN_NAME];const t=e.getTrendIndicator(e.setThresholdValues().trendValue,h.data.results[0][e.DEFINITION_DATA.EVALUATION.COLUMN_NAME]);const l=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(i),e.oConfig.EVALUATION.SCALING,e.oConfig.EVALUATION.DECIMAL_PRECISION);e.oDualTrendView.oGenericTile.setState(o.Loaded);E(h.data,e.DEFINITION_DATA.EVALUATION.VALUES_SOURCE);e._updateTileModel({value:l.toString(),valueColor:e.getTrendColor(e.setThresholdValues()),indicator:t})}catch(i){e.logError(i)}}},flowWithoutDesignTimeCall:function(){this.DEFINITION_DATA=this.oConfig;this._updateTileModel(this.DEFINITION_DATA);if(this.oTileApi.visible.isVisible()&&!this.firstTimeVisible){this.firstTimeVisible=true}this.onAfterFinalEvaluation()},flowWithDesignTimeCall:function(){const e=this;try{const i=sap.ushell.components.tiles.indicatorTileUtils.cache.getEvaluationById(this.oConfig.EVALUATION.ID);if(i){e.oConfig.EVALUATION_FILTERS=i.EVALUATION_FILTERS;e.flowWithoutDesignTimeCall()}else{sap.ushell.components.tiles.indicatorTileUtils.util.getFilterFromRunTimeService(this.oConfig,i=>{e.oConfig.EVALUATION_FILTERS=i;sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(e.oConfig.TILE_PROPERTIES.id,e.oConfig);e.flowWithoutDesignTimeCall()})}}catch(e){this.logError(e)}},refreshHandler:function(e){if(!e.firstTimeVisible){if(Number(this.oTileApi.configuration.getParameterValueAsString("isSufficient"))){e.flowWithoutDesignTimeCall()}else{e.flowWithDesignTimeCall()}}},visibleHandler:function(e){if(!e){this.firstTimeVisible=false;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.trendChartODataReadRef)}if(e){this.refreshHandler(this)}},setTextInTile:function(){const e=this;this._updateTileModel({header:e.oTileApi.preview.getTitle()||sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(e.oConfig),subheader:e.oTileApi.preview.getDescription()||sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(e.oConfig)})},onInit:function(){const e=this;this.firstTimeVisible=false;this.oDualTrendView=this.getView();this.oViewData=this.oDualTrendView.getViewData();this.oTileApi=this.oViewData.chip;if(this.oTileApi.visible){this.oTileApi.visible.attachVisible(this.visibleHandler.bind(this))}this.system=this.oTileApi.url.getApplicationSystem();this.oDualTrendView.oGenericTile.setState(o.Loading);if(this.oTileApi.preview.isEnabled()){this.setTextInTile();this._updateTileModel({value:8888,size:a.Auto,frameType:"TwoByOne",state:o.Loading,valueColor:s.Error,indicator:r.None,title:"Liquidity Structure",footer:"Current Quarter",description:"Apr 1st 2013 (B$)",width:"100%",height:"100%",chart:{color:"Good",data:[{day:0,balance:0},{day:30,balance:20},{day:60,balance:20},{day:100,balance:80}]},target:{color:"Error",data:[{day:0,balance:0},{day:30,balance:30},{day:60,balance:40},{day:100,balance:90}]},maxThreshold:{color:"Good",data:[{day:0,balance:0},{day:30,balance:40},{day:60,balance:50},{day:100,balance:100}]},innerMaxThreshold:{color:"Error",data:[]},innerMinThreshold:{color:"Neutral",data:[]},minThreshold:{color:"Error",data:[{day:0,balance:0},{day:30,balance:20},{day:60,balance:30},{day:100,balance:70}]},minXValue:0,maxXValue:100,minYValue:0,maxYValue:100,firstXLabel:{label:"June 123",color:"Error"},lastXLabel:{label:"June 30",color:"Error"},firstYLabel:{label:"0M",color:"Good"},lastYLabel:{label:"80M",color:"Critical"},minLabel:{},maxLabel:{}});this.oDualTrendView.oGenericTile.setState(o.Loaded)}else{try{sap.ushell.components.tiles.indicatorTileUtils.util.getParsedChip(this.oTileApi.configuration.getParameterValueAsString("tileConfiguration"),i=>{e.oConfig=i;e.setTextInTile();e.oDualTrendView.oGenericTile.attachPress(()=>{sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(e.trendChartODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(e.oConfig.TILE_PROPERTIES.id,null);window.location.hash=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(e.oConfig,e.system)});if(Number(e.oTileApi.configuration.getParameterValueAsString("isSufficient"))){sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(e.oConfig.TILE_PROPERTIES.id,e.oConfig);e.flowWithoutDesignTimeCall()}else{e.flowWithDesignTimeCall()}})}catch(e){this.logError(e)}}},_setLocalModelToTile:function(){if(!this.getTile().getModel()){this.getTile().setModel(new e({}))}},onExit:function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.trendChartODataReadRef)}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorDualTrend/DualTrend.view", ["sap/ui/core/mvc/JSView","sap/ca/ui/model/format/NumberFormat","sap/ui/model/analytics/odata4analytics","sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil","sap/suite/ui/microchart/AreaMicroChartItem","sap/suite/ui/microchart/AreaMicroChartPoint","sap/suite/ui/microchart/AreaMicroChartLabel","sap/suite/ui/microchart/AreaMicroChart","sap/m/TileContent","sap/m/NumericContent","sap/m/GenericTile","sap/ui/model/json/JSONModel"],(e,a,t,i,r,n,s,l,o,u,c,h)=>{"use strict";sap.ui.getCore().loadLibrary("sap.suite.ui.microchart");sap.ui.jsview("tiles.indicatorDualTrend.DualTrend",{getControllerName:function(){return"tiles.indicatorDualTrend.DualTrend"},createContent:function(){this.setHeight("100%");this.setWidth("100%");function e(e){return new r({color:"Good",points:{path:`/${e}/data`,template:new n({x:"{day}",y:"{balance}"})}})}function a(e){return new s({label:`{/${e}/label}`,color:`{/${e}/color}`})}const t={footer:"",header:"",subheader:""};const i=new l({width:"{/width}",height:"{/height}",size:"{/size}",target:e("target"),innerMinThreshold:e("innerMinThreshold"),innerMaxThreshold:e("innerMaxThreshold"),minThreshold:e("minThreshold"),maxThreshold:e("maxThreshold"),chart:e("chart"),minXValue:"{/minXValue}",maxXValue:"{/maxXValue}",minYValue:"{/minYValue}",maxYValue:"{/maxYValue}",firstXLabel:a("firstXLabel"),lastXLabel:a("lastXLabel"),firstYLabel:a("firstYLabel"),lastYLabel:a("lastYLabel"),minLabel:a("minLabel"),maxLabel:a("maxLabel")});const m=new o({unit:"{/unit}",size:"{/size}",content:i});const d=new u({value:"{/value}",scale:"{/scale}",unit:"{/unit}",indicator:"{/indicator}",size:"{/size}",formatterValue:true,truncateValueTo:6,valueColor:"{/valueColor}"});const b=new o({unit:"{/unit}",size:"{/size}",content:d});this.oGenericTile=new c({subheader:"{/subheader}",frameType:"TwoByOne",size:"{/size}",header:"{/header}",tileContent:[b,m]});const p=new h;p.setData(t);this.oGenericTile.setModel(p);return this.oGenericTile}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorHarveyBall/HarveyBallTile.controller", ["sap/ui/model/json/JSONModel","sap/suite/ui/commons/library"],(e,t)=>{"use strict";const i=t.InfoTileValueColor;const a=t.InfoTileSize;const s=t.LoadState;sap.ui.controller("tiles.indicatorHarveyBall.HarveyBallTile",{onInit:function(){this.getView().setModel(new e);this.initializeVariables();this.attachHandlers();this.getVariable("tile").setState(s.Loading);this.readChipConfiguration()},attachHandlers:function(){const e=this;const t=this.getVariable("chip");if(t.visible){t.visible.attachVisible(t=>{if(t){e.onVisible()}else{e.abortAllOpenODataRequests()}})}this.getVariable("tile").attachPress(()=>{e.abortAllOpenODataRequests();const t=e.getVariable("indicatorUtils");e.getVariable("cache").setKpivalueById(e.getVariable("chipId"),null);window.location.hash=t.getNavigationTarget(e.getVariable("evalData"),e.getVariable("system"))})},initializeVariables:function(){this._variables={};this._oDataRequests={};const e=this.getView();const t=e.getViewData();const i=e.oTile;const a=t.chip;this.setVariable("indicatorUtils",sap.ushell.components.tiles.indicatorTileUtils.util);this.setVariable("cache",sap.ushell.components.tiles.indicatorTileUtils.cache);this.setVariable("hasAppeared",false);this.setVariable("chip",a);this.setVariable("tile",i);this.setVariable("tileControl",i.getTileContent()[0].getContent());this.setVariable("configurationString",a.configuration.getParameterValueAsString("tileConfiguration"));this.setVariable("system",a.url.getApplicationSystem())},getVariable:function(e){return this._variables[e]},setVariable:function(e,t){this._variables[e]=t},readChipConfiguration:function(){const e=this;const t=this.getVariable("chip");const i=this.getVariable("indicatorUtils");i.getParsedChip(this.getVariable("configurationString"),a=>{e.setVariable("evalData",a);e.setVariable("chipId",a.TILE_PROPERTIES.id);e.setVariable("tileProperties",a.TILE_PROPERTIES);if(t.preview){t.preview.setTargetUrl(i.getNavigationTarget(a,e.getVariable("system")));e.loadPreviewData();if(t.preview.isEnabled()){e.getVariable("tile").setState(s.Loaded)}else{e.loadActualData()}}})},loadPreviewData:function(){const e=this.getVariable("indicatorUtils").getTileTitleSubtitle(this.getVariable("chip"));this.getView().getModel().setData({fractionValue:34,value:100,size:a.Auto,frameType:"OneByOne",color:"Good",state:s.Loading,header:e.title||this.getVariable("indicatorUtils").getChipTitle(this.getVariable("evalData")),subheader:e.subTitle||this.getVariable("indicatorUtils").getChipSubTitle(this.getVariable("evalData"))})},loadActualData:function(){if(Number(this.getVariable("chip").configuration.getParameterValueAsString("isSufficient"))){this.getVariable("cache").setEvaluationById(this.getVariable("chipId"),this.getVariable("evalData"));this.onEvalFiltersFetched()}else{this.fetchEvalFilters(this.onEvalFiltersFetched)}},registerOpenODataRequest:function(e,t){this._oDataRequests[e]=t},deregisterOpenODataRequest:function(e){delete this._oDataRequests[e]},abortAllOpenODataRequests:function(){for(const e in this._oDataRequests){try{this.getVariable("indicatorUtils").abortPendingODataCalls(this._oDataRequests[e]);delete this._oDataRequests[e]}catch(e){}}},fetchKpiValue:function(e){const t=this;let i;let a;function s(e,s,l,r,o){const n=e.read(s,null,null,true,e=>{t.deregisterOpenODataRequest(l.type);if(e&&e.results&&e.results.length){try{if(l.thresholds&&l.thresholds.length){t._setThresholdValues(e.results[0])}i[l.type]=e.results[0][l.measure];i.unit=i.unit||e.results[0][l.unit]||"";if(--a==0){t.getVariable("cache").setKpivalueById(t.getVariable("chipId"),i);r.call(t,i)}}catch(e){t.logError(e)}}else{o.call(t,"no data")}},e=>{t.deregisterOpenODataRequest(l.type);if(e&&e.response){o.call(t,e.message)}});t.registerOpenODataRequest(l.type,n)}const l=this.getVariable("indicatorUtils");const r=this.getVariable("cache").getKpivalueById(this.getVariable("chipId"));if(r){e.fnS.call(t,r)}else{const r=e.measure1;const o=e.measure2;const n=e.url;const h=e.entitySet;const c=e.filters;const u=e.fractionFilters.concat(c);let V;a=2;u.forEach(e=>{e.value=`${e.value}`;e.valueTo=`${e.valueTo}`});if(e.thresholds&&e.thresholds.length){V=l.prepareQueryServiceUri(this.getVariable("chip").url.addSystemToServiceUrl(n),h,`${r},${e.thresholds}`,null,c)}else{V=l.prepareQueryServiceUri(this.getVariable("chip").url.addSystemToServiceUrl(n),h,r,null,c)}const g=l.prepareQueryServiceUri(this.getVariable("chip").url.addSystemToServiceUrl(n),h,o,null,u);const f=V.unit[0];const b=g.unit[0];i={kpiValue:null,fractionValue:null,unit:""};if(V){s(V.model,V.uri,{measure:r,type:"kpiValue",unit:f,thresholds:e.thresholds},e.fnS,e.fnE)}if(g){s(g.model,g.uri,{measure:o,type:"fractionValue",unit:b},e.fnS,e.fnE)}if(!(V&&g)){e.fnE.call(t,"Error Preparing Query Service URI")}}},_setThresholdValues:function(e){const t=this.getVariable("oThreshold");let i;if(t){if(this.getVariable("evalData").EVALUATION.VALUES_SOURCE=="RELATIVE"){if(t.TA.COLUMN_NAME){t.TA.VALUE=parseFloat(e[t.TA.COLUMN_NAME]);for(i in t){if(!t[i].COLUMN_NAME){t[i].VALUE=t.TA.VALUE*t[i].VALUE/100}}}}else{for(i in t){if(t[i].COLUMN_NAME){t[i].VALUE=parseFloat(e[t[i].COLUMN_NAME])}}}}this.setVariable("oThreshold",t)},getThresholdObject:function(){let e=this.getVariable("oThreshold");if(!e){const t=this.getVariable("evalData").EVALUATION_VALUES;e={};for(let i=0,a=t.length;i<a;i++){e[t[i].TYPE]={VALUE:parseFloat(t[i].FIXED),COLUMN_NAME:t[i].COLUMN_NAME}}this.setVariable("oThreshold",e)}return e},hasSomeValue:function(){let e=true;if(arguments.length){for(let t=0,i=arguments.length;t<i;t++){if(!(arguments[t]||arguments[t]=="0")){e=false;break}}}else{e=false}return e},getTrendColor:function(e){let t="Neutral";let a;let s;let l;let r;let o;let n;if(this.getVariable("tileProperties").isFractionMeasure){a=this.getThresholdObject();s=this.getVariable("evalData").EVALUATION.GOAL_TYPE;if(s=="MA"){l=a.WL;o=a.CL;if(this.hasSomeValue(l,o)){t="Good";if(e<o.VALUE){t="Error"}else if(e<=l.VALUE){t="Critical"}}}else if(s=="MI"){r=a.WH;n=a.CH;if(this.hasSomeValue(r,n)){t="Error";if(e<r.VALUE){t="Good"}else if(e<=n.VALUE){t="Critical"}}}else{l=a.WL;o=a.CL;r=a.WH;n=a.CH;if(this.hasSomeValue(r,n,o,l)){if(e<=o.VALUE||e>=r.VALUE){t="Error"}else if(l.VALUE>=e&&e>=o.VALUE||n.VALUE>=e&&e>=r.VALUE){t="Critical"}else{t="Good"}}}}return i[t]},_getThresholdMeasures:function(){const e=[];const t=this.getThresholdObject();for(const i in t){if(t[i].COLUMN_NAME){e.push(t[i].COLUMN_NAME)}}return e},onEvalFiltersFetched:function(){const e=this;if(this.getVariable("chip").visible.isVisible()&&!this.getVariable("hasAppeared")){try{const t=this.getVariable("evalData");const i=t.EVALUATION.ODATA_URL;const a=t.EVALUATION.ODATA_ENTITYSET;const s=this.getVariable("tileProperties");let l=[];const r=this.getVariable("indicatorUtils").prepareFilterStructure(t.EVALUATION_FILTERS,t.ADDITIONAL_FILTERS);const o=t.EVALUATION.COLUMN_NAME;let n=o;let h=[];if(s.isFractionMeasure){n=s.harveyTotalMeasure;h=this._getThresholdMeasures()}else{l=this.getVariable("indicatorUtils").prepareFilterStructure(s.harveyFilters||l)}this.setVariable("totalMeasure",n);this.setVariable("fractionMeasure",o);this.fetchKpiValue({measure1:n,measure2:o,entitySet:a,thresholds:h,url:i,filters:r,fractionFilters:l,fnS:function(t){t.kpiValue=Number(t.kpiValue);t.fractionValue=Number(t.fractionValue);e.setVariable("kpiValue",t.kpiValue);e.setVariable("fractionValue",t.fractionValue);e.onKpiValueFetched(t.kpiValue,t.unit,t.fractionValue)},fnE:this.logError});e.setVariable("hasAppeared",true)}catch(e){this.logError(e)}}},fetchEvalFilters:function(e){const t=this;try{const i=this.getVariable("cache").getEvaluationById(this.getVariable("chipId"));if(i){this.getVariable("evalData").EVALUATION_FILTERS=i.EVALUATION_FILTERS;e()}else{const i=this.getVariable("indicatorUtils").getFilterFromRunTimeService(this.getVariable("evalData"),i=>{t.deregisterOpenODataRequest("kpiFilterRequest");t.getVariable("evalData").EVALUATION_FILTERS=i;t.getVariable("cache").setEvaluationById(t.getVariable("chipId"),t.getVariable("evalData"));e.call(t)},function(e){this.logError(e);t.deregisterOpenODataRequest("kpiFilterRequest")});this.registerOpenODataRequest("kpiFilterRequest",i)}}catch(e){this.logError(e)}},onKpiValueFetched:function(e,t,i,a){const l=this.getVariable("indicatorUtils");let r=e;let o=i;const n=this.getVariable("evalData");const h=n.EVALUATION.SCALING;if(h==-2){r*=100;o*=100}let c=this.isACurrencyMeasure(this.getVariable("totalMeasure"));r=l.getLocaleFormattedValue(Number(r),h,null,c,t);c=this.isACurrencyMeasure(this.getVariable("fractionMeasure"));o=l.getLocaleFormattedValue(Number(o),h,null,c,t);this.getView().getModel().setProperty("/totalLabel",`${r} ${t}`);this.getView().getModel().setProperty("/fractionLabel",`${o} ${a}`);this.getView().getModel().setProperty("/color",this.getTrendColor(i));this.getView().getModel().setProperty("/value",e);this.getView().getModel().setProperty("/fractionValue",i);const u=l.getNavigationTarget(this.getVariable("evalData"),this.getVariable("system"));this.getVariable("tile").$().wrap(`<a href ='${u}'></a>`);this.getVariable("tile").setState(s.Loaded)},logError:function(e){this.getVariable("tile").setState(s.Failed);this.getVariable("indicatorUtils").logError(e,this.getVariable("tile"))},onVisible:function(){if(!this.getVariable("hasAppeared")){if(Number(this.getVariable("chip").configuration.getParameterValueAsString("isSufficient"))){this.onEvalFiltersFetched()}else{this.fetchEvalFilters(this.onEvalFiltersFetched)}}},onExit:function(){this.abortAllOpenODataRequests()}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorTileUtils/cache", [],()=>{"use strict";const n={};const t={};const e="HANA_CLIENT";return{getCacheHanaClient:function(){return n[e]},setCacheHanaClient:function(t){n[e]=t},getEvaluationByChipId:function(t){if(n[t]){return n[t]}return null},getEvaluationById:function(n){return this.getEvaluationByChipId(n)},setEvaluationById:function(t,e){n[t]=e},getFrontEndCacheDeferredObject:function(t){if(n[t]){return n[t]}return null},setFrontEndCacheDefferedObject:function(t,e){n[t]=e},getKpivalueById:function(n){if(t[n]){return t[n]}return null},setKpivalueById:function(n,e){t[n]=e}}},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorTileUtils/indicatorTileHelper", [],()=>{"use strict";function t(t){this.tile=t}t.prototype.setErrorState=function(){this.getTile().setState(sap.suite.ui.commons.LoadState.Failed)};t.prototype.setLoadingState=function(){this.getTile().setState(sap.suite.ui.commons.LoadState.Loading)};t.prototype.setLoadedState=function(){this.getTile().setState(sap.suite.ui.commons.LoadState.Loaded)};t.prototype.setTrendDown=function(){this.getTile().setIndicator(sap.suite.ui.commons.DeviationIndicator.Down)};t.prototype.setTrendUp=function(){this.getTile().setIndicator(sap.suite.ui.commons.DeviationIndicator.Up)};t.prototype.setTrendNeutral=function(){this.getTile().setIndicator(sap.suite.ui.commons.DeviationIndicator.None)};t.prototype.setThresholdGood=function(){};t.prototype.setThresholdBad=function(){};t.prototype.setThresholdCritical=function(){};t.prototype.setThresholdNeutral=function(){};t.prototype.calculateThreshold=function(){};t.prototype.setTile=function(t){this.tile=t};t.prototype.getTile=function(){return this.tile};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorTileUtils/oData4Analytics", ["sap/ui/model/odata/ODataModel","sap/ui/model/FilterOperator","sap/ui/model/Filter","sap/ui/model/Sorter","sap/ui/core/Core"],(e,t,i,n)=>{"use strict";sap=sap||{};sap.ushell=sap.ushell||{};sap.ushell.components=sap.ushell.components||{};sap.ushell.components.tiles.indicatorTileUtils=sap.ushell.components.tiles.indicatorTileUtils||{};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics=sap.ushell.components.tiles.indicatorTileUtils.odata4analytics||{};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants={};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE="http://www.sap.com/Protocols/SAPData";sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.VERSION="0.7";sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper={renderPropertyKeyValue:function(e,t){if(e.charAt(0)=="'"){throw"Illegal property value starting with a quote"}switch(t){case"Edm.String":return`'${e}'`;case"Edm.DateTime":return`datetime'${e}'`;case"Edm.Guid":return`guid'${e}'`;case"Edm.Time":return`time'${e}'`;case"Edm.DateTimeOffset":return`datetimeoffset'${e}'`;default:return e}},renderPropertyFilterValue:function(e,t){if(e.charAt(0)=="'"){throw"Illegal property value starting with a quote"}switch(t){case"Edm.String":return`'${e}'`;case"Edm.DateTime":return`datetime'${e}'`;case"Edm.Guid":return`guid'${e}'`;case"Edm.Time":return`time'${e}'`;case"Edm.DateTimeOffset":return`datetimeoffset'${e}'`;default:return e}},tokenizeNametoLabelText:function(e){let t="";t=e.replace(/([^A-Z0-9_]+)([A-Z0-9_])/g,"$1 $2");t=t.replace(/([A-Z0-9_]{2,})([A-Z0-9_])([^A-Z0-9_]+)/g,"$1 $2$3");t=t.replace(/(.*) _E$/,"$1");t=t.replace(/(.*) _(.*)/g,"$1 $2");return t}};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Model=function(e,t){this._init(e,t)};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Model.ReferenceByURI=function(e){return{sServiceURI:e}};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Model.ReferenceByModel=function(e){return{oModel:e}};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Model.ReferenceWithWorkaround=function(e,t){return{oModelReference:e,aWorkaroundID:t}};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Model.prototype={_init:function(t,i){this._oActivatedWorkarounds={};if(t&&t.aWorkaroundID){const e=t.aWorkaroundID;for(let t=0;t<e.length;t++){this._oActivatedWorkarounds[e[t]]=true}t=t.oModelReference}if(!t||!t.sServiceURI&&!t.oModel){throw"Usage with oModelReference being an instance of Model.ReferenceByURI or Model.ReferenceByModel"}if(t.oModel){this._oModel=t.oModel}else{this._oModel=new e(t.sServiceURI)}if(this._oModel.getServiceMetadata().dataServices==undefined){throw"Model could not be loaded"}this.mergeV2Annotations(i);this._oQueryResultSet={};this._oParameterizationSet={};this._oEntityTypeSet={};this._oEntitySetSet={};this._oEntityTypeNameToEntitySetMap={};const n=this._oModel.getServiceMetadata().dataServices.schema[0];for(let e=-1,t;t=n.entityContainer[++e];){if(t.isDefaultEntityContainer=="true"){this._oDefaultEntityContainer=t;break}}const o=n.entityType;const r=[];const s=[];const a=[];let l;for(let e=-1,t;t=o[++e];){let e=false;if(t.extensions!=undefined){let i;for(l=-1;i=t.extensions[++l];){if(i.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE&&i.name=="semantics"){e=true;switch(i.value){case"aggregate":r.push(t);break;case"parameters":s.push(t);break;default:a.push(t)}}if(e){continue}}if(!e){a.push(t)}}else{a.push(t)}}let u;let c;let p;for(let e=-1,t;t=a[++e];){p=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntityType(this._oModel.getServiceMetadata(),n,t);this._oEntityTypeSet[p.getQName()]=p;c=this._getEntitySetsOfType(n,p.getQName());if(c.length==0){throw"Invalid consumption model: No entity set for entity type annotated with parameters semantics"}if(c.length>1){throw"Unsupported consumption model: More than one entity set for entity type annotated with parameters semantics"}u=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntitySet(this._oModel.getServiceMetadata(),n,c[0][0],c[0][1]);this._oEntitySetSet[u.getQName()]=u;this._oEntityTypeNameToEntitySetMap[p.getQName()]=u}const y={};let h;let m;for(let e=-1,t;t=s[++e];){p=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntityType(this._oModel.getServiceMetadata(),n,t);this._oEntityTypeSet[p.getQName()]=p;c=this._getEntitySetsOfType(n,p.getQName());if(c.length==0){throw"Invalid consumption model: No entity set for entity type annotated with parameters semantics"}if(c.length>1){throw"Unsupported consumption model: More than one entity set for entity type annotated with parameters semantics"}u=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntitySet(this._oModel.getServiceMetadata(),n,c[0][0],c[0][1]);this._oEntitySetSet[u.getQName()]=u;this._oEntityTypeNameToEntitySetMap[p.getQName()]=u;h=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Parameterization(p,u);this._oParameterizationSet[h.getName()]=h;y[p.getQName()]=h;const e=p.getQName();if(n.association!=undefined){for(l=-1;m=n.association[++l];){if(m.referentialConstraint==undefined){continue}let t=null;if(m.end[0].type==e&&m.end[0].multiplicity=="*"&&m.end[1].multiplicity=="1"){t=m.end[1].type}else if(m.end[1].type==e&&m.end[1].multiplicity=="*"&&m.end[0].multiplicity=="1"){t=m.end[0].type}if(!t){continue}if(m.referentialConstraint.dependent.propertyRef.length!=1){continue}const i=h.findParameterByName(m.referentialConstraint.dependent.propertyRef[0].name);if(i==null){continue}const n=this._oEntityTypeSet[t];const o=this._oEntityTypeNameToEntitySetMap[t];i.setValueSetEntity(n,o)}}}for(let e=-1,t;t=r[++e];){p=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntityType(this._oModel.getServiceMetadata(),n,t);this._oEntityTypeSet[p.getQName()]=p;const e=p.getQName();h=null;let i=null;if(n.association!=undefined){for(l=-1,m;m=n.association[++l];){let t=null;if(m.end[0].type==e){t=m.end[1].type}else if(m.end[1].type==e){t=m.end[0].type}else{continue}let n=null;n=y[t];if(n!=null){if(h!=null){throw`RESTRICTION: Unable to handle multiple parameter entity types of query entity ${p.name}`}else{h=n;i=m}}}}c=this._getEntitySetsOfType(n,p.getQName());if(c.length!=1){throw"Invalid consumption model: There must be exactly one entity set for an entity type annotated with aggregating semantics"}u=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntitySet(this._oModel.getServiceMetadata(),n,c[0][0],c[0][1]);this._oEntitySetSet[u.getQName()]=u;this._oEntityTypeNameToEntitySetMap[p.getQName()]=u;const o=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.QueryResult(this,p,u,h);this._oQueryResultSet[o.getName()]=o;if(h){h.setTargetQueryResult(o,i)}}},oUI5ODataModelAnnotatableObject:{objectName:"schema",keyPropName:"namespace",extensions:true,aSubObject:[{objectName:"entityType",keyPropName:"name",extensions:true,aSubObject:[{objectName:"property",keyPropName:"name",aSubObject:[],extensions:true}]},{objectName:"entityContainer",keyPropName:"name",extensions:false,aSubObject:[{objectName:"entitySet",keyPropName:"name",extensions:true,aSubObject:[]}]}]},mergeV2Annotations:function(e){let t;try{t=JSON.parse(e)}catch(e){return}let i;try{i=this._oModel.getServiceMetadata().dataServices}catch(e){return}for(const e in t){if(!(this.oUI5ODataModelAnnotatableObject.objectName===e)){continue}if(!(t[e]instanceof Array)){continue}this.mergeV2AnnotationLevel(i[this.oUI5ODataModelAnnotatableObject.objectName],t[this.oUI5ODataModelAnnotatableObject.objectName],this.oUI5ODataModelAnnotatableObject);break}return},mergeV2AnnotationLevel:function(e,t,i){for(let n=-1,o;o=t[++n];){for(let t=-1,n;n=e[++t];){if(!(o[i.keyPropName]==n[i.keyPropName])){continue}if(o.extensions!=undefined){if(n.extensions==undefined){n.extensions=[]}for(let e=-1,t;t=o.extensions[++e];){let e=false;for(let i=-1,o;o=n.extensions[++i];){if(t.name==o.name&&t.namespace==o.namespace){o.value=t.value;e=true;break}}if(!e){n.extensions.push(t)}}}for(let e=-1,t;t=i.aSubObject[++e];){for(const e in o){if(!(t.objectName==e)){continue}if(!(o[t.objectName]instanceof Array)){continue}if(n[t.objectName]==undefined||!(n[t.objectName]instanceof Array)){continue}this.mergeV2AnnotationLevel(n[t.objectName],o[t.objectName],t);break}}}}return},findQueryResultByName:function(e){let t=this._oQueryResultSet[e];if(!t&&this._oDefaultEntityContainer){const i=`${this._oDefaultEntityContainer.name}.${e}`;t=this._oQueryResultSet[i]}return t},getAllQueryResultNames:function(){if(this._aQueryResultNames){return this._aQueryResultNames}this._aQueryResultNames=new Array(0);for(const e in this._oQueryResultSet){this._aQueryResultNames.push(this._oQueryResultSet[e].getName())}return this._aQueryResultNames},getAllQueryResults:function(){return this._oQueryResultSet},getODataModel:function(){return this._oModel},_getEntitySetsOfType:function(e,t){const i=[];for(let n=-1,o;o=e.entityContainer[++n];){for(let e=-1,n;n=o.entitySet[++e];){if(n.entityType==t){i.push([o,n])}}}return i},_oModel:null,_oDefaultEntityContainer:null,_aQueryResultNames:null,_oQueryResultSet:null,_oParameterizationSet:null,_oEntityTypeSet:null,_oEntitySetSet:null,_oEntityTypeNameToEntitySetMap:null,_oActivatedWorkarounds:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.QueryResult=function(e,t,i,n){this._init(e,t,i,n)};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.QueryResult.prototype={_init:function(e,t,i,n,o){this._oModel=e;this._oEntityType=t;this._oEntitySet=i;this._oParameterization=n;this._oDimensionSet={};this._oMeasureSet={};const r=t.getTypeDescription().property;const s={};let a;let l;for(let e=-1,t;t=r[++e];){if(t.extensions==undefined){continue}for(let e=-1,i;i=t.extensions[++e];){if(!i.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue}switch(i.name){case"aggregation-role":switch(i.value){case"dimension":l=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Dimension(this,t);this._oDimensionSet[l.getName()]=l;break;case"measure":const e=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Measure(this,t);this._oMeasureSet[e.getName()]=e;break;case"totaled-properties-list":this._oTotaledPropertyListProperty=t;break}break;case"attribute-for":a=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.DimensionAttribute(this,t);s[a.getKeyProperty()]=a;break}}}for(const e in s){a=s[e];a.getDimension().addAttribute(a)}if(e._oActivatedWorkarounds.IdentifyTextPropertiesByName){const e=[];for(const i in this._oDimensionSet){l=this._oDimensionSet[i];if(!l.getTextProperty()){let n=null;n=t.findPropertyByName(`${i}Name`);if(!n){n=t.findPropertyByName(`${i}Text`)}if(!n){n=t.findPropertyByName(`${i}Desc`)}if(!n){n=t.findPropertyByName(`${i}Description`)}if(n){l.setTextProperty(n);e.push(n.name)}}}for(let t=-1,i;i=e[++t];){delete this._oDimensionSet[i]}}},getName:function(){return this.getEntitySet().getQName()},getParameterization:function(){return this._oParameterization},getAllDimensionNames:function(){if(this._aDimensionNames){return this._aDimensionNames}this._aDimensionNames=[];for(const e in this._oDimensionSet){this._aDimensionNames.push(this._oDimensionSet[e].getName())}return this._aDimensionNames},getAllDimensions:function(){return this._oDimensionSet},getAllMeasureNames:function(){if(this._aMeasureNames){return this._aMeasureNames}this._aMeasureNames=[];for(const e in this._oMeasureSet){this._aMeasureNames.push(this._oMeasureSet[e].getName())}return this._aMeasureNames},getAllMeasures:function(){return this._oMeasureSet},findDimensionByName:function(e){return this._oDimensionSet[e]},getTotaledPropertiesListProperty:function(){return this._oTotaledPropertyListProperty},findMeasureByName:function(e){return this._oMeasureSet[e]},getModel:function(){return this._oModel},getEntityType:function(){return this._oEntityType},getEntitySet:function(){return this._oEntitySet},_oModel:null,_oEntityType:null,_oEntitySet:null,_oParameterization:null,_aDimensionNames:null,_oDimensionSet:null,_aMeasureNames:null,_oMeasureSet:null,_oTotaledPropertyListProperty:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Parameterization=function(e,t){this._init(e,t)};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Parameterization.prototype={_init:function(e,t){this._oEntityType=e;this._oEntitySet=t;this._oParameterSet={};const i=e.getTypeDescription().property;for(let e=-1,t;t=i[++e];){if(t.extensions==undefined){continue}for(let e=-1,i;i=t.extensions[++e];){if(!i.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue}switch(i.name){case"parameter":const e=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Parameter(this,t);this._oParameterSet[e.getName()]=e;break}}}},setTargetQueryResult:function(e,t){this._oQueryResult=e;const i=`${this._oEntityType.getSchema().namespace}.${t.name}`;const n=this._oEntityType.getTypeDescription().navigationProperty;if(!n){throw"Invalid consumption model: Parameters entity type lacks navigation property for association to query result entity type"}for(let e=-1,t;t=n[++e];){if(t.relationship==i){this._oNavPropToQueryResult=t.name}}if(!this._oNavPropToQueryResult){throw"Invalid consumption model: Parameters entity type lacks navigation property for association to query result entity type"}},getName:function(){return this.getEntitySet().getQName()},getAllParameterNames:function(){if(this._aParameterNames){return this._aParameterNames}this._aParameterNames=[];for(const e in this._oParameterSet){this._aParameterNames.push(this._oParameterSet[e].getName())}return this._aParameterNames},getAllParameters:function(){return this._oParameterSet},findParameterByName:function(e){return this._oParameterSet[e]},getNavigationPropertyToQueryResult:function(){return this._oNavPropToQueryResult},getEntityType:function(){return this._oEntityType},getEntitySet:function(){return this._oEntitySet},_oEntityType:null,_oEntitySet:null,_oQueryResult:null,_oNavPropToQueryResult:null,_aParameterNames:null,_oParameterSet:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Parameter=function(e,t){this._init(e,t)};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Parameter.prototype={_init:function(e,t){this._oParameterization=e;this._oProperty=t;const i=e.getEntityType();if(t.extensions!=undefined){for(let e=-1,n;n=t.extensions[++e];){if(!n.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue}switch(n.name){case"parameter":switch(n.value){case"mandatory":this._bRequired=true;break;case"optional":this._bRequired=false;break;default:throw"Invalid annotation value for parameter property"}break;case"label":this._sLabelText=n.value;break;case"text":this._oTextProperty=i.findPropertyByName(n.value);break;case"upper-boundary":this._bIntervalBoundaryParameter=true;this._oUpperIntervalBoundaryParameterProperty=i.findPropertyByName(n.value);break;case"lower-boundary":this._bIntervalBoundaryParameter=true;this._oLowerIntervalBoundaryParameterProperty=i.findPropertyByName(n.value);break}}}if(!this._sLabelText){this._sLabelText=""}},setValueSetEntity:function(e,t){this._oValueSetEntityType=e;this._oValueSetEntitySet=t},getTextProperty:function(){return this._oTextProperty},getLabelText:function(){if(!this._sLabelText&&this._oQueryResult._oModel._oActivatedWorkarounds.CreateLabelsFromTechnicalNames){this._sLabelText=sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper.tokenizeNametoLabelText(this.getName())}return this._sLabelText},isOptional:function(){return!this._bRequired},isIntervalBoundary:function(){return this._bIntervalBoundaryParameter},isLowerIntervalBoundary:function(){return!!this._oUpperIntervalBoundaryParameterProperty},getPeerIntervalBoundaryParameter:function(){let e=null;if(this._oLowerIntervalBoundaryParameterProperty){e=this._oLowerIntervalBoundaryParameterProperty.name}else{e=this._oUpperIntervalBoundaryParameterProperty.name}if(!e){throw"Parameter is not an interval boundary"}return this._oParameterization.findParameterByName(e)},isValueSetAvailable:function(){return!!this._oValueSetEntityType},getName:function(){return this._oProperty.name},getProperty:function(){return this._oProperty},getContainingParameterization:function(){return this._oParameterization},getURIToValueEntitySet:function(e){let t=null;t=`${e||""}/${this._oValueSetEntitySet.getQName()}`;return t},_oParameterization:null,_oProperty:null,_sLabelText:null,_oTextProperty:null,_bRequired:false,_bIntervalBoundaryParameter:false,_oLowerIntervalBoundaryParameterProperty:null,_oUpperIntervalBoundaryParameterProperty:null,_oValueSetEntityType:null,_oValueSetEntitySet:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Dimension=function(e,t){this._init(e,t)};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Dimension.prototype={_init:function(e,t){this._oQueryResult=e;this._oProperty=t;this._oAttributeSet={};if(t.extensions!=undefined){for(let i=-1,n;n=t.extensions[++i];){if(!n.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue}switch(n.name){case"label":this._sLabelText=n.value;break;case"text":this._oTextProperty=e.getEntityType().findPropertyByName(n.value);break;case"super-ordinate":this._sSuperOrdinatePropertyName=n.value;break}}}if(!this._sLabelText){this._sLabelText=""}},getName:function(){return this._oProperty.name},getKeyProperty:function(){return this._oProperty},getTextProperty:function(){return this._oTextProperty},setTextProperty:function(e){this._oTextProperty=e},getLabelText:function(){if(!this._sLabelText&&this._oQueryResult._oModel._oActivatedWorkarounds.CreateLabelsFromTechnicalNames){this._sLabelText=sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper.tokenizeNametoLabelText(this.getName())}return this._sLabelText},getSuperOrdinateDimension:function(){if(!this._sSuperOrdinatePropertyName){return null}return this._oQueryResult.findDimensionByName(this._sSuperOrdinatePropertyName)},getHierarchy:function(){if(!this._oHierarchy){this._oHierarchy=this._oQueryResult.getEntityType().getHierarchy(this._oProperty.name)}return this._oHierarchy},getAllAttributeNames:function(){if(this._aAttributeNames){return this._aAttributeNames}this._aAttributeNames=[];for(const e in this._oAttributeSet){this._aAttributeNames.push(this._oAttributeSet[e].getName())}return this._aAttributeNames},getAllAttributes:function(){return this._oAttributeSet},findAttributeByName:function(e){return this._oAttributeSet[e]},addAttribute:function(e){this._oAttributeSet[e.getName()]=e},getContainingQueryResult:function(){return this._oQueryResult},_oQueryResult:null,_oProperty:null,_oTextProperty:null,_sLabelText:null,_sSuperOrdinatePropertyName:null,_aAttributeNames:null,_oAttributeSet:null,_oHierarchy:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.DimensionAttribute=function(e,t){this._init(e,t)};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.DimensionAttribute.prototype={_init:function(e,t){this._oQueryResult=e;this._oProperty=t;if(t.extensions!=undefined){for(let i=-1,n;n=t.extensions[++i];){if(!n.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue}switch(n.name){case"attribute-for":this._sDimensionName=n.value;break;case"label":this._sLabelText=n.value;break;case"text":this._oTextProperty=e.getEntityType().findPropertyByName(n.value);break}}}},getName:function(){return this._oProperty.name},getKeyProperty:function(){return this._oProperty},getTextProperty:function(){return this._oTextProperty},getLabelText:function(){return this._sLabelText},getDimension:function(){return this._oQueryResult.findDimensionByName(this._sDimensionName)},_oQueryResult:null,_oProperty:null,_oTextProperty:null,_sLabelText:null,_sDimensionName:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Measure=function(e,t){this._init(e,t)};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Measure.prototype={_init:function(e,t){this._oQueryResult=e;this._oProperty=t;if(t.extensions!=undefined){for(let i=-1,n;n=t.extensions[++i];){if(!n.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue}switch(n.name){case"label":this._sLabelText=n.value;break;case"text":this._oTextProperty=e.getEntityType().findPropertyByName(n.value);break;case"unit":this._oUnitProperty=e.getEntityType().findPropertyByName(n.value);break}}}if(!this._sLabelText){this._sLabelText=""}},getName:function(){return this._oProperty.name},getRawValueProperty:function(){return this._oProperty},getFormattedValueProperty:function(){return this._oTextProperty},getUnitProperty:function(){return this._oUnitProperty},getLabelText:function(){return this._sLabelText},_oQueryResult:null,_oProperty:null,_oTextProperty:null,_sLabelText:null,_oUnitProperty:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntitySet=function(e,t,i,n){this._init(e,t,i,n)};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntitySet.prototype={_init:function(e,t,i,n){this._oEntitySet=n;this._oContainer=i;this._oSchema=t;this._oModel=e;if(t.entityContainer.length>1){this._sQName=`${i.name}.${n.name}`}else{this._sQName=n.name}},getQName:function(){return this._sQName},getSetDescription:function(){return this._oEntitySet},getSchema:function(){return this._oSchema},getModel:function(){return this._oModel},_oEntitySet:null,_oContainer:null,_oSchema:null,_oModel:null,_sQName:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntityType=function(e,t,i){this._init(e,t,i)};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntityType.prototype={_init:function(e,t,i){this._oEntityType=i;this._oSchema=t;this._oModel=e;this._oPropertySet={};this._aFilterablePropertyNames=[];this._aSortablePropertyNames=[];this._aRequiredFilterPropertyNames=[];this._sQName=`${t.namespace}.${i.name}`;const n={};let o=null;for(let e=-1,t;t=i.property[++e];){this._aFilterablePropertyNames.push(t.name);this._aSortablePropertyNames.push(t.name);if(t.extensions==undefined){continue}for(let e=-1,i;i=t.extensions[++e];){if(!i.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue}switch(i.name){case"filterable":if(i.value=="false"){this._aFilterablePropertyNames.pop(t.name)}break;case"sortable":if(i.value=="false"){this._aSortablePropertyNames.pop(t.name)}break;case"required-filter":if(i.value=="true"){this._aRequiredFilterPropertyNames.push(t.name)}break;case"hierarchy-node-for":if(!(o=n[t.name])){o=n[t.name]={}}o.dimensionName=i.value;break;case"hierarchy-parent-node-for":case"hierarchy-parent-nod":if(!(o=n[i.value])){o=n[i.value]={}}o.parentNodeIDProperty=t;break;case"hierarchy-level-for":if(!(o=n[i.value])){o=n[i.value]={}}o.levelProperty=t;break;case"hierarchy-drill-state-for":case"hierarchy-drill-stat":if(!(o=n[i.value])){o=n[i.value]={}}o.drillStateProperty=t;break}}this._oPropertySet[t.name]=t}this._oRecursiveHierarchySet={};for(const e in n){const t=n[e];const o=this._oPropertySet[e];let r=this._oPropertySet[t.dimensionName];if(r==null){r=o}this._oRecursiveHierarchySet[r.name]=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.RecursiveHierarchy(i,o,t.parentNodeIDProperty,t.levelProperty,r)}},findPropertyByName:function(e){return this._oPropertySet[e]},getFilterablePropertyNames:function(){return this._aFilterablePropertyNames},getSortablePropertyNames:function(){return this._aSortablePropertyNames},getRequiredFilterPropertyNames:function(){return this._aRequiredFilterPropertyNames},getAllHierarchyPropertyNames:function(){if(this._aHierarchyPropertyNames){return this._aHierarchyPropertyNames}this._aHierarchyPropertyNames=[];for(const e in this._oRecursiveHierarchySet){this._aHierarchyPropertyNames.push(this._oRecursiveHierarchySet[e].getNodeValueProperty().name)}return this._aHierarchyPropertyNames},getHierarchy:function(e){if(this._oRecursiveHierarchySet[e]==undefined){return null}return this._oRecursiveHierarchySet[e]},getQName:function(){return this._sQName},getTypeDescription:function(){return this._oEntityType},getSchema:function(){return this._oSchema},getModel:function(){return this._oModel},_oEntityType:null,_oSchema:null,_oModel:null,_sQName:null,_oPropertySet:null,_aFilterablePropertyNames:null,_aRequiredFilterPropertyNames:null,_aHierarchyPropertyNames:null,_oRecursiveHierarchySet:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.RecursiveHierarchy=function(e,t,i,n,o){this._init(e,t,i,n,o)};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.RecursiveHierarchy.prototype={_init:function(e,t,i,n,o){this._oEntityType=e;this._oNodeIDProperty=t;this._oParentNodeIDProperty=i;this._oNodeLevelProperty=n;this._oNodeValueProperty=o},isRecursiveHierarchy:function(){return true},isLeveledHierarchy:function(){return false},getNodeIDProperty:function(){return this._oNodeIDProperty},getParentNodeIDProperty:function(){return this._oParentNodeIDProperty},getNodeLevelProperty:function(){return this._oNodeLevelProperty},getNodeValueProperty:function(){return this._oNodeValueProperty},_oNodeIDProperty:null,_oParentNodeIDProperty:null,_oNodeLevelProperty:null,_oNodeValueProperty:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.FilterExpression=function(e,t,i){this._init(e,t,i)};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.FilterExpression.prototype={_init:function(e,t,i){this._oEntityType=i;this._oSchema=t;this._oModel=e;this._aFilterCondition=[]},clear:function(){this._aFilterCondition=[]},addCondition:function(e,t,i,n){const o=this._oEntityType.findPropertyByName(e);if(o==null){throw`Cannot add filter condition for unknown property name ${e}`}const r=this._oEntityType.getFilterablePropertyNames();if(r.indexOf(e)===-1){throw`Cannot add filter condition for not filterable property name ${e}`}this._aFilterCondition.push({property:o,op:t,val1:i,val2:n});return this._aFilterablePropertyNames},addSetCondition:function(e,i){const n=this._oEntityType.findPropertyByName(e);if(n==null){throw`Cannot add filter condition for unknown property name ${e}`}const o=this._oEntityType.getFilterablePropertyNames();if(o.indexOf(e)===-1){throw`Cannot add filter condition for not filterable property name ${e}`}for(let e=-1,o;o=i[++e];){this._aFilterCondition.push({property:n,op:t.EQ,val1:o})}return this._aFilterablePropertyNames},getExpressionAsUI5FilterArray:function(){const e=[];for(let t=-1,n;n=this._aFilterCondition[++t];){e.push(new i(n.property.name,n.op,n.val1,n.val2))}return e},getURIFilterOptionValue:function(){if(this._aFilterCondition.length==0){return""}this._aFilterCondition.sort((e,t)=>{if(e.property.name==t.property.name){return 0}if(e.property.name>t.property.name){return 1}return-1});let e=this._aFilterCondition[0].property.name;let i="";let n="";for(let o=-1,r;r=this._aFilterCondition[++o];){if(e!=r.property.name){i+=`${i==""?"":" and "}(${n})`;n="";e=r.property.name}switch(r.op){case t.BT:n+=`${n==""?"":" or "}(${r.property.name} ${t.GE.toLowerCase()} ${sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper.renderPropertyFilterValue(r.val1,r.property.type)} and ${r.property.name} ${t.LE.toLowerCase()} ${sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper.renderPropertyFilterValue(r.val2,r.property.type)})`;break;default:n+=`${n==""?"":" or "}(${r.property.name} ${r.op.toLowerCase()} ${sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper.renderPropertyFilterValue(r.val1,r.property.type)})`}}i+=`${i==""?"":" and "}(${n})`;return i},getEntityType:function(){return this._oEntityType},getSchema:function(){return this._oSchema},getModel:function(){return this._oModel},_oEntityType:null,_oSchema:null,_oModel:null,_aFilterCondition:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortOrder={Ascending:"asc",Descending:"desc"};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortExpression=function(e,t,i){this._init(e,t,i)};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortExpression.prototype={_init:function(e,t,i){this._oEntityType=i;this._oSchema=t;this._oModel=e;this._aSortCondition=[]},_containsSorter:function(e){let t=null;for(let i=-1,n;n=this._aSortCondition[++i];){if(n.property.name===e){t={sorter:n,index:i};break}}return t},_removeFromArray:function(e,t,i){const n=e.slice((i||t)+1||e.length);e.length=t<0?e.length+t:t;return e.push.apply(e,n)},clear:function(){this._aSortCondition=[]},addSorter:function(e,t){const i=this._oEntityType.findPropertyByName(e);if(i==null){throw`Cannot add sort condition for unknown property name ${e}`}if(this._containsSorter(e)!=null){throw`Sort condition for this property name is already defined ${e}`}const n=this._oEntityType.getSortablePropertyNames();if(n.indexOf(e)===-1){throw`Cannot add sort condition for not sortable property name ${e}`}this._aSortCondition.push({property:i,order:t});return this},removeSorter:function(e){if(!e){return}const t=this._containsSorter(e);if(t){this._removeFromArray(this._aSortCondition,t.index)}},getExpressionsAsUI5SorterArray:function(){const e=[];for(let t=-1,i;i=this._aSortCondition[++t];){e.push(new n(i.property.name,i.order==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortOrder.Descending))}return e},getExpressionAsUI5Sorter:function(){const e=this.getExpressionsAsUI5SorterArray();if(e.length==0){return null}return e[0]},getURIOrderByOptionValue:function(){if(this._aSortCondition.length==0){return""}let e="";for(let t=-1,i;i=this._aSortCondition[++t];){e+=`${i.property.name} ${i.order}`;if(t<this._aSortCondition.length-1){e+=", "}}return e},getEntityType:function(){return this._oEntityType},getSchema:function(){return this._oSchema},getModel:function(){return this._oModel},_oEntityType:null,_oSchema:null,_oModel:null,_aSortCondition:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.ParameterizationRequest=function(e){this._init(e)};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.ParameterizationRequest.prototype={_init:function(e){if(!e){throw"No parameterization given"}this._oParameterization=e;this._oParameterValueAssignment=[]},getParameterization:function(){return this._oParameterization},setParameterValue:function(e,t,i){const n=this._oParameterization.findParameterByName(e);if(!n){throw`Invalid parameter name ${e}`}if(i!=null){if(!n.isIntervalBoundary()){throw`Range value cannot be applied to parameter ${e} accepting only single values`}if(!n.isLowerIntervalBoundary()){throw`Range value given, but parameter ${e} does not hold the lower boundary`}}if(!n.isIntervalBoundary()){if(t==null){delete this._oParameterValueAssignment[e]}else{this._oParameterValueAssignment[e]=t}}else{if(t==null&&i!=null){throw`Parameter ${e}: An upper boundary cannot be given without the lower boundary`}if(t==null){delete this._oParameterValueAssignment[e];i=null}else{this._oParameterValueAssignment[e]=t}const o=n.getPeerIntervalBoundaryParameter();if(i==null){i=t}if(t==null){delete this._oParameterValueAssignment[o.getName()]}else{this._oParameterValueAssignment[o.getName()]=i}}return},getURIToParameterizationEntitySet:function(e){return`${e||""}/${this._oParameterization.getEntitySet().getQName()}`},getURIToParameterizationEntry:function(e){const t=this._oParameterization.getAllParameters();for(const e in t){if(this._oParameterValueAssignment[e]==undefined){throw`Parameter ${e} has no value assigned`}}let i="";let n=true;for(const e in this._oParameterValueAssignment){i+=`${(n?"":",")+e}=${sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper.renderPropertyKeyValue(this._oParameterValueAssignment[e],t[e].getProperty().type)}`;n=false}return`${e||""}/${this._oParameterization.getEntitySet().getQName()}(${i})`},_oParameterization:null,_oParameterValueAssignment:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.QueryResultRequest=function(e){this._init(e)};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.QueryResultRequest.prototype={_init:function(e,t){this._oQueryResult=e;this._oParameterizationRequest=t;this._oAggregationLevel={};this._oMeasures={};this._bIncludeEntityKey=false;this._oFilterExpression=null},setParameterizationRequest:function(e){this._oParameterizationRequest=e},getQueryResult:function(){return this._oQueryResult},setAggregationLevel:function(e){this._oAggregationLevel={};if(!e){e=this._oQueryResult.getAllDimensionNames()}this.addToAggregationLevel(e)},addToAggregationLevel:function(e){if(!e){return}for(let t=-1,i;i=e[++t];){if(!this._oQueryResult.findDimensionByName(i)){throw`${i} is not a valid dimension name`}this._oAggregationLevel[i]={key:true,text:false,attributes:null}}},removeFromAggregationLevel:function(e){if(!e){return}for(let t=-1,i;i=e[++t];){if(!this._oQueryResult.findDimensionByName(i)){throw`${i} is not a valid dimension name`}if(this._oAggregationLevel[i]!=undefined){delete this._oAggregationLevel[i];this.getSortExpression().removeSorter(i)}}},getAggregationLevel:function(){const e=[];for(const t in this._oAggregationLevel){e.push(t)}return e},getAggregationLevelDetails:function(e){if(this._oAggregationLevel[e]==undefined){throw`Aggregation level does not include dimension ${e}`}return this._oAggregationLevel[e]},setMeasures:function(e){if(!e){e=this._oQueryResult.getAllMeasureNames()}this._oMeasures={};for(let t=-1,i;i=e[++t];){if(!this._oQueryResult.findMeasureByName(i)){throw`${i} is not a valid measure name`}this._oMeasures[i]={value:true,text:false,unit:false}}},getMeasureNames:function(){const e=[];for(const t in this._oMeasures){e.push(t)}return e},includeDimensionKeyTextAttributes:function(e,t,i,n){const o=[];if(e){if(this._oAggregationLevel[e]==undefined){throw`${e} is not included in the aggregation level`}o.push(e)}else{for(const e in this._oAggregationLevel){o.push(e)}n=null}for(let e=-1,r;r=o[++e];){if(t!=null){this._oAggregationLevel[r].key=t}if(i!=null){this._oAggregationLevel[r].text=i}if(n!=null){this._oAggregationLevel[r].attributes=n}}},includeMeasureRawFormattedValueUnit:function(e,t,i,n){const o=[];if(e){if(this._oMeasures[e]==undefined){throw`${e} is not part of the query result`}o.push(e)}else{for(const e in this._oMeasures){o.push(e)}}for(let e=-1,r;r=o[++e];){if(t!=null){this._oMeasures[r].value=t}if(i!=null){this._oMeasures[r].text=i}if(n!=null){this._oMeasures[r].unit=n}}},getFilterExpression:function(){if(this._oFilterExpression==null){const e=this._oQueryResult.getEntityType();this._oFilterExpression=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.FilterExpression(e.getModel(),e.getSchema(),e)}return this._oFilterExpression},setFilterExpression:function(e){this._oFilterExpression=e},getSortExpression:function(){if(this._oSortExpression==null){const e=this._oQueryResult.getEntityType();this._oSortExpression=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortExpression(e.getModel(),e.getSchema(),e)}return this._oSortExpression},setSortExpression:function(e){this._oSortExpression=e},setRequestOptions:function(e,t){if(e){this._bIncludeEntityKey=e}if(t){this._bIncludeCount=t}},setResultPageBoundaries:function(e,t){if(e!=null&&typeof e!=="number"){throw"Start value must be null or numeric"}if(t!==null&&typeof t!=="number"){throw"End value must be null or numeric"}if(e==null){e=1}if(e<1||e>(t==null?e:t)){throw"Invalid values for requested page boundaries"}this._iSkipRequestOption=e>1?e:null;this._iTopRequestOption=t!=null?t-e+1:null},getResultPageBoundaries:function(){let e;let t;if(this._iSkipRequestOption==null){e=1;t=1}else{e=this._iSkipRequestOption;t=this._iSkipRequestOption+this._iTopRequestOption}return{start:e,end:this._iTopRequestOption!=null?t:null}},getURIToQueryResultEntitySet:function(e){let t=null;if(this._oQueryResult.getParameterization()){if(!this._oParameterizationRequest){throw"Missing parameterization request"}else{t=`${this._oParameterizationRequest.getURIToParameterizationEntry(e)}/${this._oQueryResult.getParameterization().getNavigationPropertyToQueryResult()}`}}else{t=`${e||""}/${this._oQueryResult.getEntitySet().getQName()}`}return t},getURIQueryOptionValue:function(e){let t=null;switch(e){case"$select":{let e="";let i;for(const t in this._oAggregationLevel){const n=this._oQueryResult.findDimensionByName(t);const o=this._oAggregationLevel[t];if(o.key==true){e+=(e==""?"":",")+n.getKeyProperty().name}if(o.text==true&&n.getTextProperty()){e+=(e==""?"":",")+n.getTextProperty().name}if(o.attributes){let t;for(i=-1;t=o.attributes[++i];){e+=(e==""?"":",")+n.findAttributeByName(t).getName()}}}for(const t in this._oMeasures){const i=this._oQueryResult.findMeasureByName(t);const n=this._oMeasures[t];if(n.value==true){e+=(e==""?"":",")+i.getRawValueProperty().name}if(n.text==true&&i.getFormattedValueProperty()){e+=(e==""?"":",")+i.getFormattedValueProperty().name}if(n.unit==true&&i.getUnitProperty()){e+=(e==""?"":",")+i.getUnitProperty().name}}if(this._bIncludeEntityKey){const t=this._oQueryResult.getEntityType().getTypeDescription().key.propertyRef;let n;for(i=-1;n=t[++i];){e+=(e==""?"":",")+n.name}}t=e||null;break}case"$filter":{let e=null;if(this._oFilterExpression){e=this._oFilterExpression.getURIFilterOptionValue()}t=e||null;break}case"$orderby":{let e=null;if(this._oSortExpression){e=this._oSortExpression.getURIOrderByOptionValue()}t=e||null;break}case"$top":{if(this._iTopRequestOption!==null){t=this._iTopRequestOption}break}case"$skip":{t=this._iSkipRequestOption;break}default:break}return t},getURIToQueryResultEntries:function(e){const t=this.getURIToQueryResultEntitySet(e);const i=this.getURIQueryOptionValue("$select");const n=this.getURIQueryOptionValue("$filter");const o=this.getURIQueryOptionValue("$orderby");const r=this.getURIQueryOptionValue("$top");const s=this.getURIQueryOptionValue("$skip");let a=t;let l=false;if(i){a+=`?$select=${i}`;l=true}if(this._oFilterExpression&&n){if(!l){a+="?";l=true}else{a+="&"}a+=`$filter=${n}`}if(this._oSortExpression&&o){if(!l){a+="?";l=true}else{a+="&"}a+=`$orderby=${o}`}if(this._iTopRequestOption&&r){if(!l){a+="?";l=true}else{a+="&"}a+=`$top=${r}`}if(this._iSkipRequestOption&&s){if(!l){a+="?";l=true}else{a+="&"}a+=`$skip=${s}`}if(this._bIncludeCount){if(!l){a+="?";l=true}else{a+="&"}a+="$inlinecount=allpages"}return a},_oQueryResult:null,_oParameterizationRequest:null,_oAggregationLevel:null,_oMeasures:null,_bIncludeEntityKey:null,_bIncludeCount:null,_oFilterExpression:null,_oSortExpression:null,_iSkipRequestOption:0,_iTopRequestOption:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.ParameterValueSetRequest=function(e){this._init(e)};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.ParameterValueSetRequest.prototype={_init:function(e){this._oParameter=e;this._oValueSetResult={};this._oFilterExpression=null;this._oSortExpression=null},includeParameterText:function(e){if(e!=null){this._oValueSetResult.text=e}},getFilterExpression:function(){if(this._oFilterExpression==null){const e=this._oParameter.getContainingParameterization().getEntityType();this._oFilterExpression=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.FilterExpression(e.getModel(),e.getSchema(),e)}return this._oFilterExpression},setFilterExpression:function(e){this._oFilterExpression=e},getSortExpression:function(){if(this._oSortExpression==null){const e=this._oQueryResult.getEntityType();this._oSortExpression=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortExpression(e.getModel(),e.getSchema(),e)}return this._oSortExpression},setSortExpression:function(e){this._oSortExpression=e},getURIQueryOptionValue:function(e){let t=null;switch(e){case"$select":{let e="";e+=(e==""?"":",")+this._oParameter.getProperty().name;if(this._oValueSetResult.text==true&&this._oParameter.getTextProperty()){e+=(e==""?"":",")+this._oParameter.getTextProperty().name}t=e||null;break}case"$filter":{let e=null;if(this._oFilterExpression){e=this._oFilterExpression.getURIFilterOptionValue()}t=e||null;break}case"$orderby":{let e=null;if(this._oSortExpression){e=this._oSortExpression.getURIOrderByOptionValue()}t=e||null;break}default:break}return t},getURIToParameterValueSetEntries:function(e){let t=null;t=`${e||""}/${this._oParameter.getContainingParameterization().getEntitySet().getQName()}`;const i=this.getURIQueryOptionValue("$select");const n=this.getURIQueryOptionValue("$filter");const o=this.getURIQueryOptionValue("$orderby");let r=t;let s=false;if(i){r+=`?$select=${i}`;s=true}if(this._oFilterExpression&&n){if(!s){r+="?";s=true}else{r+="&"}r+=`$filter=${n}`}if(this._oSortExpression&&o){if(!s){r+="?";s=true}else{r+="&"}r+=`$orderby=${o}`}return r},_oParameter:null,_oFilterExpression:null,_oSortExpression:null,_oValueSetResult:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.DimensionMemberSetRequest=function(e,t){this._init(e,t)};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.DimensionMemberSetRequest.prototype={_init:function(e,t){this._oDimension=e;this._oParameterizationRequest=t;this._oValueSetResult={};this._oFilterExpression=null;this._oSortExpression=null},setParameterizationRequest:function(e){this._oParameterizationRequest=e},includeDimensionTextAttributes:function(e,t){if(e!=null){this._oValueSetResult.text=e}if(t!=null){this._oValueSetResult.attributes=t}},getFilterExpression:function(){if(this._oFilterExpression==null){const e=this._oDimension.getContainingQueryResult().getEntityType();this._oFilterExpression=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.FilterExpression(e.getModel(),e.getSchema(),e)}return this._oFilterExpression},setFilterExpression:function(e){this._oFilterExpression=e},getSortExpression:function(){if(this._oSortExpression==null){const e=this._oQueryResult.getEntityType();this._oSortExpression=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortExpression(e.getModel(),e.getSchema(),e)}return this._oSortExpression},setSortExpression:function(e){this._oSortExpression=e},hasMasterDataAvailable:function(){return false},getURIQueryOptionValue:function(e){let t=null;switch(e){case"$select":{let e="";e+=(e==""?"":",")+this._oDimension.getKeyProperty().name;if(this._oValueSetResult.text==true&&this._oDimension.getTextProperty()){e+=(e==""?"":",")+this._oDimension.getTextProperty().name}if(this._oValueSetResult.attributes){for(let t=-1,i;i=this._oValueSetResult.attributes[++t];){e+=(e==""?"":",")+this._oDimension.findAttributeByName(i).getName()}}t=e||null;break}case"$filter":{let e=null;if(this._oFilterExpression){e=this._oFilterExpression.getURIFilterOptionValue()}t=e||null;break}case"$orderby":{let e=null;if(this._oSortExpression){e=this._oSortExpression.getURIOrderByOptionValue()}t=e||null;break}default:break}return t},getURIToDimensionMemberEntries:function(e){let t=null;if(this._oDimension.getContainingQueryResult().getParameterization()){if(!this._oParameterizationRequest){throw"Missing parameterization request"}else{t=`${this._oParameterizationRequest.getURIToParameterizationEntry(e)}/${this._oDimension.getContainingQueryResult().getParameterization().getNavigationPropertyToQueryResult()}`}}else{t=`${e||""}/${this._oDimension.getContainingQueryResult().getEntitySet().getQName()}`}const i=this.getURIQueryOptionValue("$select");const n=this.getURIQueryOptionValue("$filter");const o=this.getURIQueryOptionValue("$orderby");let r=t;let s=false;if(i){r+=`?$select=${i}`;s=true}if(this._oFilterExpression&&n){if(!s){r+="?";s=true}else{r+="&"}r+=`$filter=${n}`}if(this._oSortExpression&&o){if(!s){r+="?";s=true}else{r+="&"}r+=`$orderby=${o}`}return r},_oDimension:null,_oParameterizationRequest:null,_oFilterExpression:null,_oSortExpression:null,_oValueSetResult:null};return{}},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil", ["sap/ui/model/FilterOperator","sap/ui/model/analytics/odata4analytics","sap/ui/core/format/NumberFormat","sap/ui/model/odata/ODataModel","sap/base/Log","sap/ui/thirdparty/jquery","sap/base/util/UriParameters","sap/ushell/utils/UrlParsing","sap/ushell/services/CrossApplicationNavigation"],(e,t,i,n,s,jQuery,r,a,l)=>{"use strict";const o=t.ParameterizationRequest;const c=t.QueryResultRequest;const u=t.Model.ReferenceByModel;const f=t.Model;sap=sap||{};sap.ushell=sap.ushell||{};sap.ushell.components=sap.ushell.components||{};sap.ushell.components.tiles.indicatorTileUtils=sap.ushell.components.tiles.indicatorTileUtils||{};sap.ushell.components.tiles.indicatorTileUtils.util=sap.ushell.components.tiles.indicatorTileUtils.util||{};sap.ushell.components.tiles.indicatorTileUtils.util=function(t,a){const g={};const T={ANN:"years",WEE:"weeks",DAY:"days",HUR:"hours",MIN:"minutes"};const h={};const m={};return{getScheduledJob:function(e){return h[e]},setScheduledJob:function(e,t){h[e]=t},isCallInProgress:function(e){return m[e]},setUnsetCallInProgress:function(e,t){m[e]=t},getTimeUnitMap:function(){return T},getHanaUser:function(){return authObject.userName},addSystemToServiceUrl:function(e,t){s.info("Hana Adapter --\x3e Add System to Service Url");if(sap.ushell&&sap.ushell.Container){if(t){sap.ushell.Container.getServiceAsync("URLParsing").then(i=>{sap.ui.model.odata.ODataUtils.setOrigin(e,{alias:t})})}else{sap.ushell.Container.getServiceAsync("URLParsing").then(t=>{sap.ui.model.odata.ODataUtils.setOrigin(e)})}}return e},getODataModelByServiceUri:function(e){e=this.addSystemToServiceUrl(e);if(!g[e]){const t=new n(e,{loadMetadataAsync:true,json:true});g[e]=t}return g[e]},getEdmType:function(e,t){let i=null;if(e instanceof n){i=e}else{i=this.getODataModelByServiceUri(e)}if(i&&i.getServiceMetadata()){const e=i.getServiceMetadata();const n=e.dataServices.schema[0].entityType;if(n){for(let e=0;e<n.length;e++){const i=n[e];const s=i.property;for(let e=0;e<s.length;e++){const i=s[e];if(i.name==t){return i.type}}}}}return null},getMillisecond:function(e,t){let i;switch(t){case"seconds":i=e*1e3;break;case"minutes":i=e*60*1e3;break;case"hours":i=e*60*60*1e3;break;case"days":i=e*24*60*60*1e3;break;case"weeks":i=e*7*24*60*60*1e3;break;case"months":i=e*4*7*24*60*60*1e3;break;case"years":i=e*12*4*7*24*60*60*1e3;break}return i},getUTCDate:function(){const e=new Date;return e},isCacheValid:function(e,t,i,n,s){const r=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(e);if(!r){return false}else if(!(i&&Number(i))){return true}const a=this.getMillisecond(i,T[n]);let l;if(r.CachedTime instanceof Date){l=r.CachedTime&&r.CachedTime.getTime()}else{l=r.CachedTime&&parseInt(r.CachedTime.substr(6),10)}const o=this.getUTCDate();return l>=t&&a>=o-l&&!s},getMantissaLength:function(e){const t=e.toString();let i=0;if(e<0){i=1}if(t.indexOf(".")===-1){return e<0?t.length-1:t.length}return t.substring(i,t.indexOf(".")).length},getLocaleFormattedValue:function(e,t,n,s,r){sap.ui.require("sap.ui.core.format.NumberFormat");s=s||false;r=r||null;if(s){return i.getCurrencyInstance({style:"short",showMeasure:false}).format(e,r)}let a=2;const l={style:"short"};let o;if(!(n==-1||n==null)){l.shortDecimals=Number(n);l.minFractionDigits=Number(n);l.maxFractionDigits=Number(n)}let c=i.getInstance(l);if(t==-2){if(e>9999){o="????"}else if(e>-.001&&e<0||e<.001&&e>0){o="0"}else{if(e.toString().indexOf(".")!=-1){o=Number(e).toFixed(4-e.toString().indexOf("."))}else{o=Number(e)}o=c.format(o)}}else if(n==-1||n==null){const t=this.getMantissaLength(e);if(!(t%3)){a=1}if(t%3===1){a=3}if(t%3===2){a=2}if(Math.abs(e)%Math.pow(10,t-1)==0){a=0}else if(Math.abs(e)%Math.pow(10,t-1)<6*Math.pow(10,t-4)){a=0}c=i.getInstance({style:"short",shortDecimals:a});o=c.format(e)}else{o=c.format(e)}return o},getPlatform:function(e){return(new r(window.location.href).get("sb_metadata")||e||"HANA").toUpperCase()},getTileTitleSubtitle:function(e){const t={};if(e.bag&&e.bag.getBagIds()&&e.bag.getBagIds().length){t.title=e.bag.getBag("sb_tileProperties").getText("title")||e.bag.getBag("sb_tileProperties").getProperty("title")||e.preview.getTitle();t.subTitle=e.bag.getBag("sb_tileProperties").getText("description")||e.bag.getBag("sb_tileProperties").getProperty("description")||e.preview.getDescription()}else{t.title=e.preview.getTitle();t.subTitle=e.preview.getDescription()}return t},scheduleFetchDataJob:function(e){let t;if(this.getView().getViewName().indexOf("DualTile")!==-1){t=this.oKpiTileView.oConfig}else{t=this.oConfig}const i=`${t.TILE_PROPERTIES.id}data`;let n=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(i);if(n){clearTimeout(n);n=undefined}const s=sap.ushell.components.tiles.indicatorTileUtils.util.getTimeUnitMap();const r=sap.ushell.components.tiles.indicatorTileUtils.util.getCachingTime(t);const a=sap.ushell.components.tiles.indicatorTileUtils.util.getCachingTimeUnit(t);const l=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(r,s[a]);let o;if(this.cacheTime instanceof Date){o=this.cacheTime}else{o=new Date(parseInt(this.cacheTime.substr(6),10))}let c=l-(sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate()-o);if(c<=0){c=0}else if(c>2147483646){c=2147483646}if(!e){c=3e5}if(this.getView().getViewName().indexOf("DualTile")!==-1){n=setTimeout(this.refreshPress.bind(this),c)}else{n=setTimeout(this.refreshHandler.bind(this,false,true),c);sap.ushell.components.tiles.indicatorTileUtils.util.setScheduledJob(i,n)}this.updateDatajobScheduled=true},scheduleTimeStampJob:function(){const e=`${this.oConfig.TILE_PROPERTIES.id}time`;let t=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(e);let i;if(t){clearTimeout(t);t=undefined}if(this.cacheTime instanceof Date){i=this.cacheTime}else{i=new Date(parseInt(this.cacheTime.substr(6),10),13)}const n=sap.ushell.components.tiles.indicatorTileUtils.util.getTimeDifference(sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate()-i);t=setTimeout(this.setTimeStamp.bind(this,this.cacheTime),n.timer);sap.ushell.components.tiles.indicatorTileUtils.util.setScheduledJob(e,t);this.updateTimeStampjobScheduled=true},getBoolValue:function(e){let t=false;if(typeof e==="boolean"&&e){t=true}return t},getSeconds:function(e){return e/1e3},getMinutes:function(e){return this.getSeconds(e)/60},getHours:function(e){return this.getMinutes(e)/60},getDays:function(e){return this.getHours(e)/24},getWeeks:function(e){return this.getDays(e)/7},getMonths:function(e){return this.getWeeks(e)/4},getYears:function(e){return this.getMonths(e)/12},getTimeDifference:function(e){const t={};if(e){const i=this.getMinutes(e);const n=this.getHours(e);const s=this.getDays(e);if(i<5){t.time=0;t.unit="minutes";t.timer=Math.round(this.getMillisecond(5-i,"minutes"))}else if(i>=5&&i<60){if(i<10){t.time=5}else{t.time=i-i%10}t.unit="minutes";t.timer=Math.round(this.getMillisecond(10-i%10,"minutes"))}else if(n>=1&&n<24){t.unit="hours";t.time=n-n%1;t.timer=Math.round(this.getMillisecond(1-n%1,"hours"))}else if(s>=1&&s<2){t.unit="days";t.time=s-s%1;t.timer=Math.round(this.getMillisecond(1-s%1,"days"))}else{t.unit="days";t.time=s-s%1;t.timer=this.getMillisecond(2,"days")}}else{t.timer=6e3;t.unit="days";t.timer=2e3}return t},getCachingTime:function(e){return e.CACHINGTIME&&Number(e.CACHINGTIME)||e.TILE_PROPERTIES.cachingTime&&Number(e.TILE_PROPERTIES.cachingTime)},getCachingTimeUnit:function(e){return e.CACHINGUNIT||e.TILE_PROPERTIES.cachingTimeUnit},getFrontendCacheQuery:function(e,t,i,n){let r;try{let e=n.url.addSystemToServiceUrl("/sap/opu/odata/SSB/SMART_BUSINESS_RUNTIME_SRV");e=sap.ushell.components.tiles.indicatorTileUtils.util.cacheBustingMechanism(e);r=this.getODataModelByServiceUri(e);e="/CacheParameters(P_CacheType=1)/Results";return{oModel:r,uri:e}}catch(e){s.error("FrontEnd cache Metadata failed");return null}},isDualTile:function(e){const t=e&&e.TILE_PROPERTIES&&e.TILE_PROPERTIES.tileType;if(t.indexOf("DT-")==-1){return false}return true},writeFrontendCacheByChipAndUserId:function(e,t,i,n,r){function a(e){s.info("cache write successFully");r(e)}function l(){s.error("cache update failed");r(null)}try{let t=e.url.addSystemToServiceUrl("/sap/opu/odata/SSB/SMART_BUSINESS_RUNTIME_SRV/");t=sap.ushell.components.tiles.indicatorTileUtils.util.cacheBustingMechanism(t);const n=this.getODataModelByServiceUri(t);const s="/CacheData";n.create(s,i,{async:true,success:a,error:l})}catch(e){s.error(e)}},getKpiChipsOnPage:function(e,t){const i=[];sap.ushell.Container.getServiceAsync("FlpLaunchPage").then(n=>{n.getGroups().done(n=>{if(n&&n instanceof Array&&n.length){s.info("Group Chip fetch")}t(e,i)})})},getFrontendCache:function(e,t){const i=this;let n=sap.ushell.components.tiles.indicatorTileUtils.cache.getFrontEndCacheDeferredObject(t.url.getApplicationSystem());let r;if(n){r=n}else{r=jQuery.Deferred()}const a=e&&e.TILE_PROPERTIES&&e.TILE_PROPERTIES.id;const l=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(a);if(l){n.resolve(true)}else if(n){return n.promise()}else{sap.ushell.components.tiles.indicatorTileUtils.cache.setFrontEndCacheDefferedObject(t.url.getApplicationSystem(),r);n=r;this.getKpiChipsOnPage(a,(e,r)=>{if(r){const a=i.getFrontendCacheQuery(r,sap.ushell.Container.getUser().getId(),r,t);if(a){const t=a.oModel;const i=a.uri;let r=false;t.read(i,null,null,true,t=>{if(t&&t.results&&t.results instanceof Array&&t.results.length){jQuery.each(t.results,(e,t)=>{sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.ChipId,t)})}if(sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(e)){r=true}n.resolve(r)},e=>{if(e&&e.response){s.error(`${e.message} : ${e.request.requestUri}`)}n.reject()})}else{n.reject()}}else{n.resolve(false)}})}return n.promise()},getModelerRuntimeServiceModel:function(){let e="/sap/hba/r/sb/core/odata/runtime/SMART_BUSINESS.xsodata";e=sap.ushell.components.tiles.indicatorTileUtils.util.cacheBustingMechanism(e);return this.getODataModelByServiceUri(e)},getSapFontErrorCode:function(){return String.fromCharCode(57521)},getSapFontBusyCode:function(){return String.fromCharCode(57842)},prepareFilterStructure:function(e,t){const i=[];if(t){e=e.concat(t)}for(let t=0;t<e.length;t++){const n={};n.comparator=e[t].OPERATOR;n.filterPropertyName=e[t].NAME;if(e[t].ID){n.id=e[t].ID}n.type=e[t].TYPE;n.value=e[t].VALUE_1;n.valueTo=e[t].VALUE_2;i.push(n)}return i},getODataModelByServiceUriFromChipAPI:function(e,t){e=t.url.addSystemToServiceUrl(e);if(!g[e]){const t=new n(e,true);g[e]=t}return g[e]},cacheBustingMechanism:function(e){if(window["sap-ushell-config"].cacheBusting.cacheBusterToken){const t=window["sap-ushell-config"].cacheBusting&&window["sap-ushell-config"].cacheBusting.cacheBusterToken;e=`${e}?_=${t}`}return e},getRunTimeUri:function(e){let t="/sap/hba/r/sb/core/odata/runtime/SMART_BUSINESS.xsodata";let i="/sap/opu/odata/SSB/SMART_BUSINESS_RUNTIME_SRV";if(e.toUpperCase()=="HANA"){if(window["sap-ushell-config"].cacheBusting){t=sap.ushell.components.tiles.indicatorTileUtils.util.cacheBustingMechanism(t)}return t}if(window["sap-ushell-config"].cacheBusting){i=sap.ushell.components.tiles.indicatorTileUtils.util.cacheBustingMechanism(i)}return i},getFilterFromRunTimeService:function(e,t,i,n){const s=e.TILE_PROPERTIES.sb_metadata;const r=this.getODataModelByServiceUriFromChipAPI(this.getRunTimeUri(s),t);const a="ID eq '#EVALUATIONID'".replace("#EVALUATIONID",e.EVALUATION.ID);const l=r.read("/EVALUATION_FILTERS",null,{$filter:a},true,function(e){let t=[];if(e.results.length){t=e.results}i.call(this,t)},n);return l},_getOData4AnalyticsObject:function(e){let t=null;if(e instanceof n){t=e}else if(typeof e==="string"){t=this.getODataModelByServiceUri(e)}else{throw new Error(`Invalid Input to Create ODataModel Object : ${e}`)}const i=new f(u(t));return i},findTextPropertyForDimension:function(e,t,i){try{const n=this._getOData4AnalyticsObject(e);const s=n.findQueryResultByName(t);const r=s.findDimensionByName(i);if(r.getTextProperty()){return r.getTextProperty().name}return i}catch(e){s.error(`Error Fetching Text Property for ${i} : ${e.toString()}`)}},getEvalValueMeasureName:function(e,t,i){const n=e.EVALUATION_VALUES;for(let e=0;e<n.length;e++){if(n[e].TYPE==t){if(i==="FIXED"){return n[e].FIXED}return n[e].COLUMN_NAME}}},getSemanticColorName:function(e){let t="";if(e=="Error"){t="sb.error"}if(e=="Neutral"){t="sb.neutral"}if(e=="Critical"){t="sb.critical"}if(e=="Good"){t="sb.good"}return t},setTooltipInTile:function(e,t,i){let n="";const s=sap.ushell.components.tiles.utils.getResourceBundle();if(t=="NT"||t=="DT"){if(i.status){n+=`${s.getText("sb.status")}: ${s.getText(i.status)}\n`}if(i.actual){n+=`${s.getText("sb.actual")}: ${i.actual}\n`}if(i.target){n+=`${s.getText("sb.target")}: ${i.target}\n`}if(i.cH){n+=`${s.getText("sb.ch")}: ${i.cH}\n`}if(i.wH){n+=`${s.getText("sb.wh")}: ${i.wH}\n`}if(i.wL){n+=`${s.getText("sb.wl")}: ${i.wL}\n`}if(i.cL){n+=`${s.getText("sb.cl")}: ${i.cL}\n`}}if(t=="CONT"||t=="COMP"){if(i.measure&&t=="CONT"){if(i&&i.contributionTile.contributionTile&&i.contributionTile.contributionTile[1]==="asc"){n+=`${s.getText("sb.bottomn")}: ${i.contributionTile[0]}\n`}else if(i&&i.contributionTile.contributionTile&&i.contributionTile.contributionTile.length){n+=`${s.getText("sb.topn")}: ${i.contributionTile[0]}\n`}}if(i.m1&&(i.v1==undefined||i.v1==null?false:i.v1.toString())&&i.c1){n+=`${i.m1}: ${i.v1} ${s.getText(i.c1)}\n`}if(i.m2&&(i.v2==undefined||i.v2==null?false:i.v2.toString())&&i.c2){n+=`${i.m2}: ${i.v2} ${s.getText(i.c2)}\n`}if(i.m3&&(i.v3==undefined||i.v3==null?false:i.v3.toString())&&i.c3){n+=`${i.m3}: ${i.v3} ${s.getText(i.c3)}\n`}}if(e&&e.setTooltip){e.setTooltip(n)}},_getFormattedTileProperties:function(e){e=e||{};const t=["sb_metadata","sb_navigation","sb_catalog"];let i=false;for(let n=0;!i&&n<t.length;n++){i=i||new r(window.location.href).get(t[n])||e[t[n]]}e.sb_metadata=(new r(window.location.href).get("sb_metadata")||e.sb_metadata||"HANA").toLowerCase();e.sb_navigation=(new r(window.location.href).get("sb_navigation")||e.sb_navigation||"abap").toLowerCase();e.sb_catalog=(new r(window.location.href).get("sb_catalog")||e.sb_catalog||"HANA").toLowerCase();e.isPlatformInfoPresent=i;return e},getEvaluationDetailsFromRunTimeService:function(e,t,i,n){const s=this.getODataModelByServiceUri(this.getRunTimeUri(t));const r="ID eq '#EVALUATIONID'".replace("#EVALUATIONID",i);s.read(e,null,{$filter:r},true,function(e){let t=[];if(e.results.length){t=e.results}n.call(this,t)})},getParsedChip:function(e,t,i){try{const n={};const s=JSON.parse(e);const r=JSON.parse(s.TILE_PROPERTIES).evaluationId||"";if(s.TILE_PROPERTIES){const e=JSON.parse(s.TILE_PROPERTIES);if(e&&(e.instanceId||e.catalogId)){return false}}const a=this;if(s.blankTile){n.BLANKTILE=s.blankTile}if(s.cachingTime){n.CACHINGTIME=s.cachingTime}if(s.cachingTimeUnit){n.CACHINGUNIT=s.cachingTimeUnit}if(s.TAGS){n.TAGS=JSON.parse(s.TAGS)}if(s.ADDITIONAL_FILTERS){n.ADDITIONAL_FILTERS=JSON.parse(s.ADDITIONAL_FILTERS)}if(s.ADDITIONAL_APP_PARAMETERS){n.ADDITIONAL_APP_PARAMETERS=JSON.parse(s.ADDITIONAL_APP_PARAMETERS)}n.TILE_PROPERTIES=this._getFormattedTileProperties(JSON.parse(s.TILE_PROPERTIES));const l=n.TILE_PROPERTIES.sb_metadata;if(s.EVALUATION_FILTERS){n.EVALUATION_FILTERS=JSON.parse(s.EVALUATION_FILTERS);if(s.EVALUATION_VALUES){n.EVALUATION_VALUES=JSON.parse(s.EVALUATION_VALUES);if(s.EVALUATION){n.EVALUATION=JSON.parse(s.EVALUATION);if(i){i(n)}else{return n}}else if(!t){a.getEvaluationDetailsFromRunTimeService("/EVALUATIONS",l,r,e=>{n.EVALUATION=e;if(i){i(n)}else{return n}})}else if(i){i(n)}else{return n}}else if(!t){a.getEvaluationDetailsFromRunTimeService("/EVALUATION_VALUES",l,r,e=>{n.EVALUATION_VALUES=e;if(s.EVALUATION){n.EVALUATION=JSON.parse(s.EVALUATION);if(i){i(n)}else{return n}}else{a.getEvaluationDetailsFromRunTimeService("/EVALUATIONS",l,r,e=>{n.EVALUATION=e;if(i){i(n)}else{return n}})}})}else if(i){i(n)}else{return n}}else if(t){if(i){i(n)}else{return n}}else{a.getEvaluationDetailsFromRunTimeService("/EVALUATION_FILTERS",l,r,e=>{n.EVALUATION_FILTERS=e;if(s.EVALUATION_VALUES){n.EVALUATION_VALUES=JSON.parse(s.EVALUATION_VALUES);if(s.EVALUATION){n.EVALUATION=JSON.parse(s.EVALUATION);if(i){i(n)}else{return n}}else{a.getEvaluationDetailsFromRunTimeService("/EVALUATIONS",l,r,e=>{n.EVALUATION=e;if(i){i(n)}else{return n}})}}else{a.getEvaluationDetailsFromRunTimeService("/EVALUATION_VALUES",l,r,e=>{n.EVALUATION_VALUES=e;if(s.EVALUATION){n.EVALUATION=JSON.parse(s.EVALUATION);if(i){i(n)}else{return n}}else{a.getEvaluationDetailsFromRunTimeService("/EVALUATIONS",l,r,e=>{n.EVALUATION=e;if(i){i(n)}else{return n}})}})}})}}catch(e){return false}},getNavigationTarget:function(e,t){let i;const n={};n.evaluationId=e.EVALUATION.ID;n.chipId=e.TILE_PROPERTIES.id;if(t){n["sap-system"]=t}n.tileType=e.TILE_PROPERTIES.tileType;if(e.TILE_PROPERTIES.dimension){n.dimension=e.TILE_PROPERTIES.dimension}if(e.TILE_PROPERTIES.storyId){n.storyId=e.TILE_PROPERTIES.storyId}if(e.TILE_PROPERTIES.apfConfId){n["sap-apf-configuration-id"]=e.TILE_PROPERTIES.apfConfId}if(e.TILE_PROPERTIES.isPlatformInfoPresent){n.sb_metadata=e.TILE_PROPERTIES.sb_metadata;n.sb_navigation=e.TILE_PROPERTIES.sb_navigation;n.sb_catalog=e.TILE_PROPERTIES.sb_catalog}if(e.ADDITIONAL_APP_PARAMETERS){for(i in e.ADDITIONAL_APP_PARAMETERS){if(e.ADDITIONAL_APP_PARAMETERS.hasOwnProperty(i)){if(e.ADDITIONAL_APP_PARAMETERS[i].constructor==Array){const t=e.ADDITIONAL_APP_PARAMETERS[i];for(let e=0;e<t.length;e++){n[i]=t[e]}}else{n[i]=e.ADDITIONAL_APP_PARAMETERS[i]}}}}let s=l&&l.hrefForExternal({target:{semanticObject:e.TILE_PROPERTIES.semanticObject,action:e.TILE_PROPERTIES.semanticAction},params:n})||"";if(e.ADDITIONAL_FILTERS){const t=e.ADDITIONAL_FILTERS;let i="&";for(let e=0;e<t.length;e++){if(t[e].OPERATOR==="EQ"){i=`${i}/${t[e].NAME}=${t[e].VALUE_1}`}}s+=i}return s},getChipTitle:function(e){let t="";if(e){const i=e.EVALUATION||{};t=i.INDICATOR_TITLE||""}return t},getstringifyTileConfig:function(e){const t={};t.EVALUATION=JSON.stringify(e.EVALUATION);t.EVALUATION_FILTERS=JSON.stringify(e.EVALUATION_FILTERS);t.EVALUATION_VALUES=JSON.stringify(e.EVALUATION_VALUES);t.TILE_PROPERTIES=JSON.stringify(e.TILE_PROPERTIES);return JSON.stringify(t)},getChipSubTitle:function(e){let t="";if(e){const i=e.EVALUATION||{};t=i.TITLE||""}return t},getAllMeasures:function(e,t){let i=[];try{const n=this._getOData4AnalyticsObject(e);const s=n.findQueryResultByName(t);i=s.getAllMeasureNames()}catch(e){s.error(`Error Fetching All Measures : ${e.toString()}`)}return i},getFormattingMetadata:function(e,t,i){const s={};s._hasCurrency=false;s._hasSapText=false;let r=null;if(e instanceof n){r=u(e)}else{const t=this.getODataModelByServiceUri(e);r=u(t)}const a=new f(r);const l=a.findQueryResultByName(t);const o=l.getAllMeasures();if(o[i]){const e=o[i]._oTextProperty&&o[i]._oTextProperty.name?o[i]._oTextProperty.name:"";if(e!=""){s._hasSapText=true;s._sapTextColumn=e}else if(o[i].hasOwnProperty("_oUnitProperty")){const e=o[i]._oUnitProperty.extensions;for(let t=0;t<o[i]._oUnitProperty.extensions.length;t++){if(e[t].name==="semantics"&&e[t].value==="currency-code"){s._hasCurrency=true;s._currencyColumn=o[i]._oUnitProperty.name}}}}return s},getAllDimensions:function(e,t){function i(e,t){let i=0;let n=0;const s=[];while(i<e.length&&n<t.length){if(e[i]<t[n]){i++}else if(e[i]>t[n]){n++}else{s.push(e[i]);i++;n++}}return s}let n=[];let r=[];try{const s=this._getOData4AnalyticsObject(e);const a=s.findQueryResultByName(t);const l=a.getEntityType();r=l.getFilterablePropertyNames();n=a.getAllDimensionNames();if(r&&r.length){n=i(r.sort(),n.sort())}}catch(e){s.error(`Error Fetching All Dimesions : ${e.toString()}`)}return n},prepareQueryServiceUri:function(t,i,r,a,l,g,T){function h(e){return e.replace(/'/g,"''")}let m=null;function p(e){let t=e.toJSON();const i=t.charAt(t.length-1).toUpperCase();if(i.charCodeAt(0)>=65&&i.charCodeAt(0)<=90){t=t.slice(0,-1)}return t}function d(e){if(e){try{if(e==+e){e=window.parseInt(e)}const t=new Date(e);const i=t.getTime();if(isNaN(i)){return e}return p(t)}catch(e){}}return e}try{let p=null;if(t instanceof n){p=u(t)}else{const e=this.getODataModelByServiceUri(t);p=u(e)}const E=new f(p);const A=E.findQueryResultByName(i);const I=new c(A);if(r){I.setMeasures(r.split(","));I.includeMeasureRawFormattedValueUnit(null,true,true,true)}if(a){if(typeof a==="string"){m=a;m=m.split(",")}for(let e=0;e<m.length;e++){I.addToAggregationLevel([m[e]]);const t=A.getAllDimensions();if(t[m[e]].getTextProperty()!=null){I.includeDimensionKeyTextAttributes([m[e]],true,true,null)}}}if(l&&l.length){const i=[];const n=[];let r;for(let e=0,t=l.length;e<t;e++){r=l[e];if(r.type==="PA"){n.push(r)}else if(r.type==="FI"){i.push(r)}}if(i.length){const n=I.getFilterExpression();for(let s=0,a=i.length;s<a;s++){r=i[s];if(this.getEdmType(t,r.filterPropertyName)=="Edm.DateTime"){r.value=d(r.value);r.valueTo=d(r.valueTo)}if(r.comparator==e.BT){n.addCondition(r.filterPropertyName,r.comparator,h(r.value),r.valueTo)}else{const e=r.value.split(",");for(let t=0,i=e.length;t<i;t++){n.addCondition(r.filterPropertyName,r.comparator,h(e[t].replace(/\^\|/g,",")),null)}}}}if(n.length){if(A.getParameterization()){const e=new o(A.getParameterization());const t=A.getParameterization();let i;let r;let a;let l;let c;for(let o=0,u=n.length;o<u;o++){i=n[o];r=t.findParameterByName(i.filterPropertyName);if(r.isIntervalBoundary()===true&&r.isLowerIntervalBoundary()===true){c=r.getPeerIntervalBoundaryParameter();for(let e=0,t=n.length;e<t;e++){if(n[e].filterPropertyName===c.getName()){l=h(n[e].value);break}}a=h(i.value);if(l){e.setParameterValue(i.filterPropertyName,a,l)}}else if(r.isIntervalBoundary()===true&&r.isLowerIntervalBoundary()===false){s.info("Future development")}else{e.setParameterValue(i.filterPropertyName,h(i.value))}}I.setParameterizationRequest(e)}}}let S=I.getURIToQueryResultEntries();if(g&&g.length){S=`${S}&$orderby=`;for(let e=0,t=g.length;e<t;e++){const t=g[e].sortOrder||"asc";if(t){S+=`${g[e].element} ${t},`}}S=S.slice(0,S.length-1)}if(T){S=`${S}&$top=${T}`}const O=A.getAllMeasures();const N=[];for(let e=0;e<r.split(",").length;e++){N.push(O[r.split(",")[e]].getUnitProperty())}return{uri:S,model:E.getODataModel(),unit:N}}catch(e){s.error(`Error Preparing Query Service Uri using OData4Analytics Library : ${e.toString()}`);if(arguments.length){s.error("Arguments Passed to this function");s.error(`${arguments[0]},${arguments[1]},${arguments[2]},${arguments[3]}`)}else{s.error("NO Arguments passed to this function")}return null}},getAllEntitySet:function(e){let t=[];try{const i=this._getOData4AnalyticsObject(e);t=i.getAllQueryResultNames()}catch(e){s.error(`Error fetching Enity Set : ${e.toString()}`)}return t},getAllMeasuresWithLabelText:function(e,i){const n=[];try{const s=this._getOData4AnalyticsObject(e);const r=s.findQueryResultByName(i);const a=r.getAllMeasureNames();for(let e=0;e<a.length;e++){const i=a[e];t.oMeasure=r.findMeasureByName(i);n.push({key:i,value:oMeasure.getLabelText()})}}catch(e){s.error(`Error Fetching All Measures : ${e.toString()}`)}return n},getAllDimensionsWithLabelText:function(e,t){const i=[];try{const n=this._getOData4AnalyticsObject(e);const s=n.findQueryResultByName(t);const r=s.getAllDimensionNames();for(let e=0;e<r.length;e++){const t=r[e];const n=s.findDimensionByName(t);let a=null;if(n.getTextProperty()!=null){a=n.getTextProperty().name}i.push({key:t,value:n.getLabelText(),textProperty:a})}}catch(e){s.error(`Error Fetching All Dimesions : ${e.toString()}`)}return i},getAllInputParams:function(e,t){let i=[];try{const n=this._getOData4AnalyticsObject(e);const s=n.findQueryResultByName(t);if(s.getParameterization()){const e=s.getParameterization();i=e.getAllParameterNames()}}catch(e){s.error(`Error Fetching Input Params : ${e.toString()}`)}return i},getAllInputParamsWithFlag:function(e,t){const i=[];try{const n=this._getOData4AnalyticsObject(e);const s=n.findQueryResultByName(t);if(s.getParameterization()){const e=s.getParameterization();const t=e.getAllParameterNames();for(let n=0;n<t.length;n++){const s=t[n];const r=e.findParameterByName(s);i.push({name:s,optional:r.isOptional()})}}}catch(e){s.error(`Error Fetching Input Params : ${e.toString()}`)}return i},formatOdataObjectToString:function(e){if(e&&e.constructor==Object){if(e.__edmType=="Edm.Time"){const t=e.ms;const i=Math.floor(t/1e3%60);const n=Math.floor(t/6e4%60);const s=Math.floor(t/36e5%24);return`${s}H${n}M${i}S`}}return e},generateCombinations:function(e){function t(e,t){while(t.length<e){t=`0${t}`}return t}let i=Math.pow(2,e.length);const n=[];let s=0;while(i>1){let r=(i-1).toString(2);r=t(e.length,r);n[s]=[];for(let t=0;t<r.length;t++){if(Number(r[t])){n[s].push(e[t])}}i--;s++}return n},logError:function(e,t){if(e=="no data"&&t){const e=sap.ushell.components.tiles.utils.getResourceBundle();t.setFailedText(e.getText("sb.noData"))}s.error(e.toString())},numberOfLeadingZeros:function(e){e=String(e);let t=0;const i=e.indexOf(".");if(i==-1){return 0}if(Number(e.split(".")[0])!=0){return 0}let n=i+1;while(e[n++]=="0"){++t}return t},formatValue:function(e,t,i){i=i||3;const n={3:"K",6:"M",9:"B",12:"T",0:""};n["-3"]="m";n["-6"]="u";n["-9"]="n";n["-12"]="t";n["-2"]="%";let s;let r;const a=Number(e).toPrecision(i);const l=this.numberOfLeadingZeros(a);if(l>0&&t<0){s=a*Math.pow(10,l+i);r=-(l+i)}else{s=Number(a.split("e")[0]);r=Number(a.split("e")[1])||0}if(!e&&e!=0){return{value:"",unitPrefix:""}}let o;if(t>=0){if(r%3!=0){if(r%3==2){if(r+1==t){r=r+1;s=s/10}else{r=r-2;s=s*100}}else if(r+2==t){r=r+2;s=s/100}else{r--;s=s*10}}else if(r==15){s=s*1e3;r=12}}else if(t=="-2"){o=this.formatValue(e*100,0)}else if(r>=0&&e<10&&t=="-3"){s=e*Math.pow(10,3);r=-3}else if(r>=0){return this.formatValue(e,0)}else{r=Math.abs(r);t=Math.abs(t);if(t>r){s=s/Math.pow(10,r%3);r=r-r%3}else{const e=r-t;s=s/Math.pow(10,e);r=r-e}r=0-r}s+="";if(t=="-2"){const e=o.unitPrefix==""?Number(`${o.value}`).toFixed(4-`${o.value}`.indexOf(".")):Number(`${o.value}`).toFixed(3-`${o.value}`.indexOf("."));return{value:Number(e),unitPrefix:o.unitPrefix+n[-2]}}s=Number(s).toFixed(4-s.indexOf("."));return{value:Number(s),unitPrefix:n[r]}},isSmartbusinessChipAndCachable:function(e){const t=this.getParsedChip(e&&e.getConfigurationParameter("tileConfiguration"));return t&&t.TILE_PROPERTIES&&t.TILE_PROPERTIES.tileType&&this.getCachingTime(t)},getHanaClient:function(){let e;function t(t,i,n){e=t.sessionClient;sap.ushell.components.tiles.indicatorTileUtils.cache.setCacheHanaClient(e);sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED.resolve(e)}function i(e,t,i){s.error(e.responseText);s.error("session client call failed");sap.ushell.components.tiles.indicatorTileUtils.cache.setCacheHanaClient(null);sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED.reject()}const n=sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED||jQuery.Deferred();const r=sap.ushell.components.tiles.indicatorTileUtils.cache.getCacheHanaClient();if(r!=undefined){e=r;sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED.resolve(e)}else if(sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED){return sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED.promise()}else{sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED=n;jQuery.ajax({type:"GET",async:false,dataType:"json",url:"/sap/hba/r/sb/core/logic/GetSessionClient.xsjs",success:t,error:i})}return sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED.promise()},abortPendingODataCalls:function(e){try{if(e){e.abort()}}catch(e){this.logError(e)}}}}(window,jQuery);sap.ushell.components.tiles.indicatorTileUtils.cache=function(){const e={};const t={};const i="HANA_CLIENT";return{getCacheHanaClient:function(){return e[i]},setCacheHanaClient:function(t){e[i]=t},getEvaluationByChipId:function(t){if(e[t]){return e[t]}return null},getEvaluationById:function(e){return this.getEvaluationByChipId(e)},setEvaluationById:function(t,i){e[t]=i},getFrontEndCacheDeferredObject:function(t){if(e[t]){return e[t]}return null},setFrontEndCacheDefferedObject:function(t,i){e[t]=i},getKpivalueById:function(e){if(t[e]){return t[e]}return null},setKpivalueById:function(e,i){t[e]=i}}}();return{}},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorcomparison/ComparisonTile.controller", ["sap/ushell/components/tiles/generic","sap/m/library","sap/base/Log"],(e,i,t)=>{"use strict";const o=i.DeviationIndicator;const l=i.ValueColor;const s=i.Size;const a=i.LoadState;const n=i.FrameType;const c=e.extend("sap.ushell.components.tiles.indicatorcomparison.ComparisonTile",{onInit:function(){this.KPI_VALUE_REQUIRED=false},_processDataForComparisonChart:function(e,i,t){const o=[];const l={};let s;let a;let n;let c;let T=[];const r=this;let E=null;let u;for(s=0;s<e.results.length;s++){u=e.results[s]}T=sap.ushell.components.tiles.indicatorTileUtils.util.getAllMeasuresWithLabelText(this.oTileApi.url.addSystemToServiceUrl(this.oConfig.EVALUATION.ODATA_URL),this.oConfig.EVALUATION.ODATA_ENTITYSET);for(s=0,n=T.length;s<n;s++){a=T[s];l[a.key]=a.value}const h=r.oConfig.TILE_PROPERTIES.COLUMN_NAMES||r.oConfig.EVALUATION.COLUMN_NAMES;for(s=0;s<h.length;s++){const e={};const i=h[s];e.value=Number(u[i.COLUMN_NAME]);let a=Number(u[i.COLUMN_NAME]);let n=false;const T=r._getEvaluationThresholdMeasures();const p=T?Array.prototype.indexOf.call(T,i.COLUMN_NAME):-1;if(p>-1){n=true}if(r.oConfig.EVALUATION.SCALING==-2&&n){a*=100}const C=r.isCurrencyMeasure(i.COLUMN_NAME);if(t&&t[s]&&u[t[s].name]){E=u[t[s].name]}c=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(a,r.oConfig.EVALUATION.SCALING,r.oConfig.EVALUATION.DECIMAL_PRECISION,C,E);if(r.oConfig.EVALUATION.SCALING==-2&&n){c+=" %"}e.displayValue=c.toString();if(t){if(t[s]&&u[t[s].name]){e.displayValue+=` ${u[t[s].name]}`}}e.color=i.semanticColor;e.title=l[i.COLUMN_NAME]||i.COLUMN_NAME;e.measure=i.COLUMN_NAME;e.isCurM=C;o.push(e)}return o},fetchChartData:function(e,i,o,l){function s(e,i){let t=false;if(e&&e.results&&e.results.length){for(let o=0,l=i.length;o<l&&!t;o++){t=e.results[0][i[o].COLUMN_NAME]!==null}}return t}const a=this;try{const n=this.oConfig.EVALUATION.ODATA_ENTITYSET;const c=this.oConfig.EVALUATION.COLUMN_NAME;let T=c;let r;if(this.oConfig.TILE_PROPERTIES.COLUMN_NAMES){for(r=0;r<this.oConfig.TILE_PROPERTIES.COLUMN_NAMES.length;r++){if(this.oConfig.TILE_PROPERTIES.COLUMN_NAMES[r].COLUMN_NAME!=this.oConfig.EVALUATION.COLUMN_NAME){T=`${T},${this.oConfig.TILE_PROPERTIES.COLUMN_NAMES[r].COLUMN_NAME}`}}}else{for(r=0;r<this.oConfig.EVALUATION.COLUMN_NAMES.length;r++){if(this.oConfig.EVALUATION.COLUMN_NAMES[r].COLUMN_NAME!=this.oConfig.EVALUATION.COLUMN_NAME){T=`${T},${this.oConfig.EVALUATION.COLUMN_NAMES[r].COLUMN_NAME}`}}}const E=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(e);const u=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(a.oConfig.TILE_PROPERTIES.id);let h;if(sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(a.oConfig)){if(u){h=u.Data&&JSON.parse(u.Data)}}const p=a.oTileApi.configuration.getParameterValueAsString("timeStamp");const C=sap.ushell.components.tiles.indicatorTileUtils.util.isCacheValid(a.oConfig.TILE_PROPERTIES.id,p,a.chipCacheTime,a.chipCacheTimeUnit,a.tilePressed);if(h&&!h.rightData||!u||!C&&a.oTileApi.visible.isVisible()||E||i&&a.oTileApi.visible.isVisible()||a.getView().getViewData().refresh){if(a.kpiValueFetchDeferred){a.kpiValueFetchDeferred=false;const e=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.oConfig.EVALUATION_FILTERS,this.oConfig.ADDITIONAL_FILTERS);const i=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(a.oRunTimeODataModel,n,T,null,e,3);this.comparisionChartODataRef=i.model.read(i.uri,null,null,true,e=>{a.kpiValueFetchDeferred=true;let t={};if(i.unit){t.unit=i.unit}if(s(e,a.oConfig.TILE_PROPERTIES.COLUMN_NAMES||a.oConfig.EVALUATION.COLUMN_NAMES)){a.oConfig.TILE_PROPERTIES.FINALVALUE=e;a.oConfig.TILE_PROPERTIES.FINALVALUE=a._processDataForComparisonChart(a.oConfig.TILE_PROPERTIES.FINALVALUE,T.split(",")[0],i.unit);t.data=a.oConfig.TILE_PROPERTIES.FINALVALUE;const l={};a.cacheTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();l.ChipId=a.oConfig.TILE_PROPERTIES.id;l.Data=JSON.stringify(t);l.CacheMaxAge=Number(a.chipCacheTime);l.CacheMaxAgeUnit=a.chipCacheTimeUnit;l.CacheType=1;const s=a.getLocalCache(l);a.updateDatajobScheduled=false;const n=`${a.oConfig.TILE_PROPERTIES.id}data`;let c=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(n);if(c){clearTimeout(c);c=undefined}if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(a.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(a.oConfig.TILE_PROPERTIES.id,s);let e=false;if(u){e=true}if(a.chipCacheTime){sap.ushell.components.tiles.indicatorTileUtils.util.writeFrontendCacheByChipAndUserId(a.oTileApi,a.oConfig.TILE_PROPERTIES.id,l,e,e=>{if(e){a.cacheTime=e&&e.CachedTime;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(a.oConfig.TILE_PROPERTIES.id,e);a.setTimeStamp()}if(a.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(a.oConfig)){a.setTimeStamp(a.cacheTime)}})}}else{const e=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(a.oConfig.TILE_PROPERTIES.id);let i;if(e){if(!e.CachedTime){e.CachedTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate()}i=e.Data;if(i){i=JSON.parse(i);i.rightData=t}e.Data=JSON.stringify(i);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(a.oConfig.TILE_PROPERTIES.id,e)}else{i={};i.rightData=t;s.Data=JSON.stringify(i);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(a.oConfig.TILE_PROPERTIES.id,s)}a.cacheWriteData=t}o.call(a,a.oConfig.TILE_PROPERTIES.FINALVALUE)}else if(e.results.length==0){a.oConfig.TILE_PROPERTIES.FINALVALUE=e;if(sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(a.oConfig.TILE_PROPERTIES.id)){t=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(a.oConfig.TILE_PROPERTIES.id);t.data=e}else{t.data=e}sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(a.oConfig.TILE_PROPERTIES.id,t);o.call(a,a.oConfig.TILE_PROPERTIES.FINALVALUE);a.setNoData()}else{sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(a.oConfig.TILE_PROPERTIES.id,{empty:"empty"});a.setNoData()}},e=>{a.kpiValueFetchDeferred=true;if(e&&e.response){t.error(`${e.message} : ${e.request.requestUri}`);l.call(a,e)}})}}else if(u&&u.Data){let e;const i=a.oConfig&&a.oConfig.TILE_PROPERTIES&&a.oConfig.TILE_PROPERTIES.tileType;if(i.indexOf("DT-")==-1){e=u.Data&&JSON.parse(u.Data)}else{e=u.Data&&JSON.parse(u.Data);e=e.rightData}a.cacheTime=u.CachedTime;if(a.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(a.oConfig)){a.setTimeStamp(a.cacheTime)}if(e.data&&e.data.length){a.oConfig.TILE_PROPERTIES.FINALVALUE=e.data;o.call(a,a.oConfig.TILE_PROPERTIES.FINALVALUE)}else{a.oConfig.TILE_PROPERTIES.FINALVALUE=e.data;o.call(a,a.oConfig.TILE_PROPERTIES.FINALVALUE);a.setNoData()}}else{a.setNoData()}}catch(e){a.kpiValueFetchDeferred=true;l.call(a,e)}},doProcess:function(e,i){const t=this;this.setTextInTile();this.fetchChartData(e,i,function(e){this.CALCULATED_KPI_VALUE=e;this._updateTileModel({data:this.CALCULATED_KPI_VALUE});if(t.oConfig.TILE_PROPERTIES.frameType==n.TwoByOne){t.oKpiTileView.oGenericTile.setFrameType(n.TwoByOne);t.getView().getViewData().parentController._updateTileModel(this.getTile().getModel().getData());const e={};e.data=this.CALCULATED_KPI_VALUE;t.getView().getViewData().deferredObj.resolve()}else{t.oKpiTileView.oGenericTile.setFrameType(n.OneByOne);t.oKpiTileView.oGenericTile.removeAllTileContent();t.oKpiTileView.oGenericTile.addTileContent(t.oKpiTileView.oNVConfS);this.oKpiTileView.oGenericTile.setState(a.Loaded)}this.setToolTip(null,this.CALCULATED_KPI_VALUE,"COMP");if(this.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.util.scheduleFetchDataJob.call(this,this.oTileApi.visible.isVisible())}},this.logError)},doDummyProcess:function(){const e=this;this.setTextInTile();e._updateTileModel({value:8888,size:s.Auto,frameType:n.OneByOne,state:a.Loading,valueColor:l.Error,indicator:o.None,title:"Liquidity Structure",footer:"Current Quarter",description:"Apr 1st 2013 (B$)",data:[{title:"Measure 1",value:1.2,color:"Good"},{title:"Measure 2",value:.78,color:"Good"},{title:"Measure 3",value:1.4,color:"Error"}]});this.oKpiTileView.oGenericTile.setState(a.Loaded)}});return c});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorcomparison/ComparisonTile.view", ["sap/ui/core/mvc/JSView","sap/ui/model/analytics/odata4analytics","sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil","sap/suite/ui/microchart/ComparisonMicroChartData","sap/suite/ui/microchart/ComparisonMicroChart","sap/m/GenericTile","sap/ui/model/json/JSONModel","sap/m/library"],(e,i,t,o,s,a,r,l)=>{"use strict";sap.ui.getCore().loadLibrary("sap.suite.ui.microchart");sap.ui.jsview("sap.ushell.components.tiles.indicatorcomparison.ComparisonTile",{getControllerName:function(){return"sap.ushell.components.tiles.indicatorcomparison.ComparisonTile"},createContent:function(){this.setHeight("100%");this.setWidth("100%");const e=l.Size;const i=this;i.oGenericTileData={};i.oCmprsDataTmpl=new o({title:"{title}",value:"{value}",color:"{color}",displayValue:"{displayValue}"});i.oCmprsChrtTmpl=new s({size:e.Responsive,scale:"{/scale}",data:{template:i.oCmprsDataTmpl,path:"/data"}});i.oNVConfS=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",footer:"{/footerComp}",content:i.oCmprsChrtTmpl});i.oGenericTile=new a({subheader:"{/subheader}",frameType:"{/frameType}",size:"{/size}",header:"{/header}",tileContent:[i.oNVConfS]});i.oGenericTileModel=new r;i.oGenericTileModel.setData(i.oGenericTileData);i.oGenericTile.setModel(i.oGenericTileModel);return i.oGenericTile}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorcontribution/ContributionTile.controller", ["sap/ushell/components/tiles/generic","sap/m/library","sap/base/Log"],(e,i,t)=>{"use strict";const o=i.DeviationIndicator;const l=i.ValueColor;const s=i.Size;const a=i.LoadState;const n=i.FrameType;const c=e.extend("sap.ushell.components.tiles.indicatorcontribution.ContributionTile",{onInit:function(){this.KPI_VALUE_REQUIRED=false},_processDataForComparisonChart:function(e,i,t,o){const l=this.oConfig.TILE_PROPERTIES.semanticColorContribution;const s=[];let a;let n;for(let c=0;c<e.results.length;c++){const r=e.results[c];const T={};try{T.title=r[t].toString()}catch(e){T.title=""}T.value=Number(r[i]);let u=Number(r[i]);if(this.oConfig.EVALUATION.SCALING==-2){u*=100}const E=this.isCurrencyMeasure(i);n=r[o];a=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(u,this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,E,n);T.displayValue=a.toString();if(typeof l==="undefined"){T.color="Neutral"}else{T.color=l}if(T&&o){T[o]=n}s.push(T)}return s},fetchChartData:function(e,i,o,l){const s=this;try{const a=this.oConfig.EVALUATION.ODATA_ENTITYSET;let n;s.setThresholdValues();if(this.oConfig.TILE_PROPERTIES.semanticMeasure){n=`${this.oConfig.EVALUATION.COLUMN_NAME},${this.oConfig.TILE_PROPERTIES.semanticMeasure}`}else{n=this.oConfig.EVALUATION.COLUMN_NAME}let c=null;let r=this.oConfig.TILE_PROPERTIES.dimension;const T=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(e);const u=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(s.oConfig.TILE_PROPERTIES.id);let E;if(sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(s.oConfig)){if(u){E=u.Data&&JSON.parse(u.Data)}}const h=s.oTileApi.configuration.getParameterValueAsString("timeStamp");const p=sap.ushell.components.tiles.indicatorTileUtils.util.isCacheValid(s.oConfig.TILE_PROPERTIES.id,h,s.chipCacheTime,s.chipCacheTimeUnit,s.tilePressed);if(E&&!E.rightData||!u||!p&&s.oTileApi.visible.isVisible()||T||i&&s.oTileApi.visible.isVisible()||s.getView().getViewData().refresh){if(s.kpiValueFetchDeferred){s.kpiValueFetchDeferred=false;const e=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.oConfig.EVALUATION_FILTERS,this.oConfig.ADDITIONAL_FILTERS);const i={};i["0"]=`${n},asc`;i["1"]=`${n},desc`;i["2"]=`${r},asc`;i["3"]=`${r},desc`;const T=i[this.oConfig.TILE_PROPERTIES.sortOrder||"0"].split(",");const E=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(s.oRunTimeODataModel,a,n,r,e,3);if(this.oConfig.TILE_PROPERTIES.semanticMeasure){E.uri+=`&$top=3&$orderby=${T[0]} ${T[2]}`}else{E.uri+=`&$top=3&$orderby=${T[0]} ${T[1]}`}this.comparisionChartODataRef=E.model.read(E.uri,null,null,true,e=>{s.kpiValueFetchDeferred=true;let i={};if(e&&e.results&&e.results.length){if(E.unit[0]){s._updateTileModel({unit:e.results[0][E.unit[0].name]});c=E.unit[0].name;i.unit=E.unit[0];i.unit.name=E.unit[0].name}r=sap.ushell.components.tiles.indicatorTileUtils.util.findTextPropertyForDimension(s.oRunTimeODataModel,a,r);i.dimension=r;s.oConfig.TILE_PROPERTIES.FINALVALUE=e;s.oConfig.TILE_PROPERTIES.FINALVALUE=s._processDataForComparisonChart(s.oConfig.TILE_PROPERTIES.FINALVALUE,n.split(",")[0],r,c);i.data=s.oConfig.TILE_PROPERTIES.FINALVALUE;i.isCurM=s.isACurrencyMeasure(s.oConfig.EVALUATION.COLUMN_NAME);const t={};s.cacheTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();t.ChipId=s.oConfig.TILE_PROPERTIES.id;t.Data=JSON.stringify(i);t.CacheMaxAge=Number(s.chipCacheTime);t.CacheMaxAgeUnit=s.chipCacheTimeUnit;t.CacheType=1;const l=s.getLocalCache(t);s.updateDatajobScheduled=false;const T=`${s.oConfig.TILE_PROPERTIES.id}data`;let h=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(T);if(h){clearTimeout(h);h=undefined}if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(s.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(s.oConfig.TILE_PROPERTIES.id,l);let e=false;if(u){e=true}if(s.chipCacheTime){sap.ushell.components.tiles.indicatorTileUtils.util.writeFrontendCacheByChipAndUserId(s.oTileApi,s.oConfig.TILE_PROPERTIES.id,t,e,e=>{if(e){s.cacheTime=e&&e.CachedTime;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(s.oConfig.TILE_PROPERTIES.id,e)}if(s.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(s.oConfig)){s.setTimeStamp(s.cacheTime)}})}}else{const e=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(s.oConfig.TILE_PROPERTIES.id);let t;if(e){if(!e.CachedTime){e.CachedTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate()}t=e.Data;if(t){t=JSON.parse(t);if(s.oKpiTileView.getViewName()=="tiles.indicatornumeric.NumericTile"){t.leftData=i}else{t.rightData=i}}e.Data=JSON.stringify(t);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(s.oConfig.TILE_PROPERTIES.id,e)}else{t={};t.rightData=i;l.Data=JSON.stringify(t);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(s.oConfig.TILE_PROPERTIES.id,l)}s.cacheWriteData=i}o.call(s,s.oConfig.TILE_PROPERTIES.FINALVALUE)}else if(e.results.length==0){s.oConfig.TILE_PROPERTIES.FINALVALUE=e;if(sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(s.oConfig.TILE_PROPERTIES.id)){i=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(s.oConfig.TILE_PROPERTIES.id);i.data=e}else{i.data=e}sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(s.oConfig.TILE_PROPERTIES.id,i);o.call(s,s.oConfig.TILE_PROPERTIES.FINALVALUE);s.setNoData()}else{sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(s.oConfig.TILE_PROPERTIES.id,{empty:"empty"});s.setNoData()}},e=>{s.kpiValueFetchDeferred=true;if(e&&e.response){t.error(`${e.message} : ${e.request.requestUri}`);l.call(s,e)}})}}else if(u&&u.Data){let e;const i=s.oConfig&&s.oConfig.TILE_PROPERTIES&&s.oConfig.TILE_PROPERTIES.tileType;if(i.indexOf("DT-")==-1){e=u.Data&&JSON.parse(u.Data)}else{e=u.Data&&JSON.parse(u.Data);e=e.rightData}s.cacheTime=u.CachedTime;if(s.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(s.oConfig)){s.setTimeStamp(s.cacheTime)}if(e.data&&e.data.length){if(e.unit){s._updateTileModel({unit:e.data[0][e.unit.name]})}r=e.dimension;s.oConfig.TILE_PROPERTIES.FINALVALUE=e.data;o.call(s,s.oConfig.TILE_PROPERTIES.FINALVALUE)}else if(e&&e.data&&e.data instanceof Array&&e.data.length==0){s.oConfig.TILE_PROPERTIES.FINALVALUE=e.data;o.call(s,s.oConfig.TILE_PROPERTIES.FINALVALUE);s.setNoData()}else{s.setNoData()}}else{s.setNoData()}}catch(e){s.kpiValueFetchDeferred=true;l.call(s,e)}},doProcess:function(e,i){const t=this;this.DEFINITION_DATA=this.oConfig;this._updateTileModel(this.DEFINITION_DATA);this.setTextInTile();this.fetchChartData(e,i,function(e){this.CALCULATED_KPI_VALUE=e;this._updateTileModel({data:this.CALCULATED_KPI_VALUE});if(t.oConfig.TILE_PROPERTIES.frameType==n.TwoByOne){t.oKpiTileView.oGenericTile.setFrameType(n.TwoByOne);t.oKpiTileView.oGenericTile.removeAllTileContent();t.getView().getViewData().parentController._updateTileModel(this.getTile().getModel().getData());t.getView().getViewData().deferredObj.resolve()}else{t.oKpiTileView.oGenericTile.setFrameType(n.OneByOne);t.oKpiTileView.oGenericTile.removeAllTileContent();t.oKpiTileView.oGenericTile.addTileContent(t.oKpiTileView.oNVConfS);this.oKpiTileView.oGenericTile.setState(a.Loaded)}this.setToolTip(null,this.CALCULATED_KPI_VALUE,"CONT");if(this.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.util.scheduleFetchDataJob.call(this,this.oTileApi.visible.isVisible())}},this.logError)},doDummyProcess:function(){const e=this;e.setTextInTile();e._updateTileModel({value:8888,size:s.Auto,frameType:n.OneByOne,state:a.Loading,valueColor:l.Error,indicator:o.None,title:"US Profit Margin",footer:"Current Quarter",description:"Maximum deviation",data:[{title:"Americas",value:10,color:"Neutral"},{title:"EMEA",value:50,color:"Neutral"},{title:"APAC",value:-20,color:"Neutral"}]});this.oKpiTileView.oGenericTile.setState(a.Loaded)}});return c});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorcontribution/ContributionTile.view", ["sap/ui/core/mvc/JSView","sap/ui/model/analytics/odata4analytics","sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil","sap/suite/ui/microchart/ComparisonMicroChartData","sap/suite/ui/microchart/ComparisonMicroChart","sap/m/GenericTile","sap/ui/model/json/JSONModel","sap/m/library"],(e,i,t,o,s,a,n,r)=>{"use strict";sap.ui.getCore().loadLibrary("sap.suite.ui.microchart");sap.ui.jsview("sap.ushell.components.tiles.indicatorcontribution.ContributionTile",{getControllerName:function(){return"sap.ushell.components.tiles.indicatorcontribution.ContributionTile"},createContent:function(){this.setHeight("100%");this.setWidth("100%");const e=r.Size;const i=this;i.oGenericTileData={};i.oCmprsDataTmpl=new o({title:"{title}",value:"{value}",color:"{color}",displayValue:"{displayValue}"});i.oCmprsChrtTmpl=new s({size:e.Responsive,scale:"{/scale}",data:{template:i.oCmprsDataTmpl,path:"/data"}});i.oNVConfS=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",footer:"{/footerComp}",content:i.oCmprsChrtTmpl});i.oGenericTile=new a({subheader:"{/subheader}",frameType:"{/frameType}",size:"{/size}",header:"{/header}",tileContent:[i.oNVConfS]});i.oGenericTileModel=new n;i.oGenericTileModel.setData(i.oGenericTileData);i.oGenericTile.setModel(i.oGenericTileModel);return i.oGenericTile}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatordeviation/DeviationTile.controller", ["sap/ushell/components/tiles/generic","sap/m/library"],(e,t)=>{"use strict";const i=t.ValueColor;const o=t.LoadState;const r=t.FrameType;const l=e.extend("sap.ushell.components.tiles.indicatordeviation.DeviationTile",{onInit:function(){this.KPI_VALUE_REQUIRED=true},doProcess:function(e,t){const i=this;let l;l=t.targetValue;let s=Number(e);this.setThresholdValues();if(this.oConfig.EVALUATION.SCALING==-2){s*=100}let a=this.isCurrencyMeasure(this.oConfig.EVALUATION.COLUMN_NAME);const n=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(s),this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,a,this.CURRENCY_CODE);this.CALCULATED_KPI_VALUE=Number(e);const u={};const A=this.getThresholdsObjAndColor(t).returnColor;const h={value:Number(e),color:A};u.actualValueLabel=n.toString();u.actual=h;u.thresholds=[];u.thresholds=this.getThresholdsObjAndColor(t).arrObj;const C=this.DEFINITION_DATA.EVALUATION_VALUES;let c;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){c=Number(l);if(this.oConfig.EVALUATION.SCALING==-2){c*=100}a=this.isCurrencyMeasure(this.oConfig.EVALUATION.COLUMN_NAME);l=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(c,this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,a,this.CURRENCY_CODE);u.targetValue=Number(c);u.targetValueLabel=l.toString()}else{for(let e=0;e<C.length;e++){if(C[e].TYPE==="TA"){c=Number(l);if(this.oConfig.EVALUATION.SCALING==-2){c*=100}a=this.isCurrencyMeasure(this.oConfig.EVALUATION.COLUMN_NAME);l=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(c,this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,a,this.CURRENCY_CODE);u.targetValue=Number(c);u.targetValueLabel=l.toString()}}}if(this.oConfig.EVALUATION.SCALING==-2){u.scale="%"}this._updateTileModel(u);if(this.DEFINITION_DATA.TILE_PROPERTIES.frameType==r.TwoByOne){i.getView().getViewData().parentController._updateTileModel(this.getTile().getModel().getData());i.getView().getViewData().deferredObj.resolve();sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(`${i.oConfig.TILE_PROPERTIES.id}defferedRight`,false)}else{this.oKpiTileView.oGenericTile.setState(o.Loaded)}this.setToolTip(A,s,"DT");if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){if(i.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.util.scheduleFetchDataJob.call(this,this.oTileApi.visible.isVisible())}}},getThresholdsObjAndColor:function(e){try{const t={};t.arrObj=[];t.returnColor=i.Neutral;const o=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;let r;let l;let s;let a;if(o==="MI"){s=Number(e.criticalHighValue)||0;a=Number(e.warningHighValue)||0;if(s&&a){s=window.parseFloat(s);a=window.parseFloat(a);t.arrObj.push({value:s,color:i.Error});t.arrObj.push({value:a,color:i.Critical});if(this.CALCULATED_KPI_VALUE<a){t.returnColor=i.Good}else if(this.CALCULATED_KPI_VALUE<=s){t.returnColor=i.Critical}else{t.returnColor=i.Error}}}else if(o==="MA"){l=Number(e.criticalLowValue)||0;r=Number(e.warningLowValue)||0;if(l&&r){l=window.parseFloat(l);r=window.parseFloat(r);t.arrObj.push({value:l,color:i.Error});t.arrObj.push({value:r,color:i.Critical});if(this.CALCULATED_KPI_VALUE<l){t.returnColor=i.Error}else if(this.CALCULATED_KPI_VALUE<=r){t.returnColor=i.Critical}else{t.returnColor=i.Good}}}else{s=Number(e.criticalHighValue)||0;a=Number(e.warningHighValue)||0;l=Number(e.criticalLowValue)||0;r=Number(e.warningLowValue)||0;if(r&&a&&l&&l){s=window.parseFloat(s);a=window.parseFloat(a);r=window.parseFloat(r);l=window.parseFloat(l);t.arrObj.push({value:s,color:i.Error});t.arrObj.push({value:a,color:i.Critical});t.arrObj.push({value:r,color:i.Critical});t.arrObj.push({value:l,color:i.Error});if(this.CALCULATED_KPI_VALUE<l||this.CALCULATED_KPI_VALUE>s){t.returnColor=i.Error}else if(this.CALCULATED_KPI_VALUE>=l&&this.CALCULATED_KPI_VALUE<=r||this.CALCULATED_KPI_VALUE>=a&&this.CALCULATED_KPI_VALUE<=s){t.returnColor=i.Critical}else{t.returnColor=i.Good}}}return t}catch(e){this.logError(e)}},doDummyProcess:function(){const e=this;this.setTextInTile();e._updateTileModel({actual:{value:120,color:i.Good},targetValue:100,thresholds:[{value:0,color:i.Error},{value:50,color:i.Critical},{value:150,color:i.Critical},{value:200,color:i.Error}],showActualValue:true,showTargetValue:true});this.oKpiTileView.oGenericTile.setState(o.Loaded)}});return l});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatordeviation/DeviationTile.view", ["sap/ui/core/mvc/JSView","sap/ui/model/analytics/odata4analytics","sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil","sap/m/library","sap/suite/ui/microchart/BulletMicroChartData","sap/suite/ui/microchart/BulletMicroChart","sap/m/GenericTile","sap/ui/model/json/JSONModel"],(e,t,a,i,s,l,o,n)=>{"use strict";const r=i.Size;const u=i.LoadState;sap.ui.getCore().loadLibrary("sap.suite.ui.microchart");sap.ui.jsview("sap.ushell.components.tiles.indicatordeviation.DeviationTile",{getControllerName:function(){return"sap.ushell.components.tiles.indicatordeviation.DeviationTile"},createContent:function(){this.setHeight("100%");this.setWidth("100%");let e="Lorem ipsum";let t="Lorem ipsum";const a=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.getViewData().chip);if(a.title&&a.subTitle){e=a.title;t=a.subTitle}const i={subheader:t,header:e,footerNum:"",footerComp:"",frameType:"OneByOne",state:u.Loading,scale:""};const c=new s({value:"{value}",color:"{color}"});this.oBCTmpl=new l({size:r.Responsive,scale:"{/scale}",actual:{value:"{/actual/value}",color:"{/actual/color}"},targetValue:"{/targetValue}",actualValueLabel:"{/actualValueLabel}",targetValueLabel:"{/targetValueLabel}",thresholds:{template:c,path:"/thresholds"},state:"{/state}",showActualValue:"{/showActualValue}",showTargetValue:"{/showTargetValue}"});this.oNVConfS=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",footer:"{/footerNum}",content:this.oBCTmpl});this.oGenericTile=new o({subheader:"{/subheader}",frameType:"{/frameType}",size:"{/size}",header:"{/header}",tileContent:[this.oNVConfS]});const h=new n;h.setData(i);this.oGenericTile.setModel(h);return this.oGenericTile}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatornumeric/NumericTile.controller", ["sap/ushell/components/tiles/generic","sap/m/library"],(e,i)=>{"use strict";const t=i.DeviationIndicator;const o=i.ValueColor;const s=i.LoadState;const l=i.FrameType;const n=e.extend("sap.ushell.components.tiles.indicatornumeric.NumericTile",{onInit:function(){this.KPI_VALUE_REQUIRED=true},doProcess:function(e,i){const t=this;this.CALCULATED_KPI_VALUE=e;const o=this.getTrendColor(i);const n=this.getTrendIndicator(i.trendValue);let a="";let r=this.CALCULATED_KPI_VALUE;if(this.oConfig.EVALUATION.SCALING==-2){r*=100;this.getView().oNVConfContS.setFormatterValue(false)}const c=this.isCurrencyMeasure(this.oConfig.EVALUATION.COLUMN_NAME);a=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(r),this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,c,this.CURRENCY_CODE);if(this.oConfig.EVALUATION.SCALING==-2){this._updateTileModel({scale:"%"})}this._updateTileModel({value:a.toString(),valueColor:o,indicator:n});if(t.oConfig.TILE_PROPERTIES.frameType==l.OneByOne){this.oKpiTileView.oGenericTile.setState(s.Loaded);this.setToolTip(o,r,"NT")}else{t.getView().getViewData().parentController._updateTileModel(this.getTile().getModel().getData());t.getView().getViewData().deferredObj.resolve();sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(`${t.oConfig.TILE_PROPERTIES.id}defferedLeft`,false)}this.setToolTip(o,r,"NT");if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){if(t.chipCacheTime){sap.ushell.components.tiles.indicatorTileUtils.util.scheduleFetchDataJob.call(this,t.oTileApi.visible.isVisible())}}},doDummyProcess:function(){const e=this;this.setTextInTile();if(!(e.oConfig.BLANKTILE||e.oConfig.TILE_PROPERTIES.blankTile)){e._updateTileModel({value:"10.34",scale:"M",valueColor:o.Neutral,indicator:t.None})}else{this.oKpiTileView.oNVConfContS.setIcon("sap-icon://BusinessSuiteInAppSymbols/icon-multiple-charts")}this.oKpiTileView.oGenericTile.setState(s.Loaded)}});return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatornumeric/NumericTile.view", ["sap/ui/core/mvc/JSView","sap/ui/model/analytics/odata4analytics","sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil","sap/m/library","sap/m/NumericContent","sap/m/GenericTile","sap/ui/model/json/JSONModel"],(e,t,i,o,s,n,a)=>{"use strict";const l=o.DeviationIndicator;const r=o.ValueColor;const u=o.LoadState;sap.ui.getCore().loadLibrary("sap.suite.ui.commons");sap.ui.jsview("sap.ushell.components.tiles.indicatornumeric.NumericTile",{getControllerName:function(){return"sap.ushell.components.tiles.indicatornumeric.NumericTile"},createContent:function(){let e="Lorem ipsum";let t="Lorem ipsum";const i=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.getViewData().chip);if(i.title&&i.subTitle){e=i.title;t=i.subTitle}const o={subheader:t,header:e,footerNum:"",footerComp:"",scale:"",unit:"",value:"",size:"Auto",frameType:"OneByOne",state:u.Loading,valueColor:r.Neutral,indicator:l.None,title:"",footer:"",description:""};this.oNVConfContS=new s({value:"{/value}",scale:"{/scale}",unit:"{/unit}",indicator:"{/indicator}",valueColor:"{/valueColor}",size:"{/size}",formatterValue:true,truncateValueTo:5,nullifyValue:false});this.oNVConfS=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",footer:"{/footerNum}",content:this.oNVConfContS});this.oGenericTile=new n({subheader:"{/subheader}",frameType:"{/frameType}",size:"{/size}",header:"{/header}",tileContent:[this.oNVConfS]});const c=new a;c.setData(o);this.oGenericTile.setModel(c);return this.oGenericTile}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/sbtilecontent", ["sap/m/TileContent","sap/m/TileContentRenderer","sap/ui/core/Control"],(e,t,n)=>{"use strict";const i=n.extend("numeric.TileContent_Timestamp",{ontap:function(e){if(this.getParent().getRefreshOption()){e.preventDefault();e.cancelBubble=true;if(e.stopPropagation){e.stopPropagation()}this.getParent().fireRefresh()}},renderer:function(e,t){e.write("<div");e.writeElementData(t);e.addClass("sapMTileCntFtrTxt");if(t.getParent().getRefreshOption()){e.addClass("sapMLnk")}e.writeClasses();e.addStyle("position","absolute");e.addStyle("z-index","2");e.addStyle(e.getConfiguration().getRTL()?"left":"right","auto");e.writeStyles();e.write(">");const n=t.getParent().getTimestamp();if(n){if(!t.getParent().getRefreshOption()){e.writeEscaped(n)}else if(e.getConfiguration().getRTL()){e.writeEscaped(`${n}`);e.writeIcon("sap-icon://refresh","sapMCmpTileUnitInner")}else{e.writeIcon("sap-icon://refresh","sapMCmpTileUnitInner");e.writeEscaped(`${n}`)}}e.write("</div>")}});return e.extend("sap.ushell.components.tiles.sbtilecontent",{metadata:{properties:{timestamp:{type:"string"},refreshOption:{type:"boolean"}},events:{refresh:{}}},init:function(){this.addDependent(this._oTimestamp=new i)},getAltText:function(){let t=e.prototype.getAltText.apply(this,arguments);if(this.getTimestamp()){t+=(t===""?"":"\n")+this.getTimestamp()}return t},renderer:{_renderFooter:function(e,n){t._renderFooter.apply(this,arguments);e.renderControl(n._oTimestamp)}}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/utils", ["sap/base/i18n/Localization","sap/ui/core/Element","sap/ui/core/Locale","sap/ushell/services/ClientSideTargetResolution/PrelaunchOperations","sap/ushell/resources","sap/ui/thirdparty/datajs","sap/ui/core/mvc/View","sap/ui/model/json/JSONModel","sap/ui/core/library","sap/m/library","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/core/IconPool","sap/ui/core/Icon","sap/m/SelectDialog","sap/m/StandardListItem","sap/m/Text","sap/m/TableSelectDialog","sap/m/Column","sap/m/ColumnListItem","sap/ui/core/CustomData","sap/ui/core/Item","sap/ui/core/message/MessageType","sap/m/Label","sap/ui/model/Sorter","sap/ui/thirdparty/jquery","sap/base/Log","sap/ui/core/format/NumberFormat"],(e,t,i,a,n,s,o,l,r,c,p,u,g,d,_,f,b,y,I,m,V,v,w,S,h,jQuery,x,T)=>{"use strict";const P=r.ValueState;const D=r.mvc.ViewType;const C=c.ButtonType;const A={};A.isInitial=function(e){return e==="App Launcher  Static"||e==="App Launcher  Dynamic"||e==="Target Mapping"};A.awaitResourceBundle=n.awaitResourceBundle;A.getResourceBundleModel=function(){return n.i18nModel};A.getResourceBundle=function(){return n.i18n};A.getEmptyRowObj=function(e){return{name:"",mandatory:false,value:"",isRegularExpression:false,defaultValue:"",valEnabled:false||!e,defValEnabled:true,editable:e}};A.getEmptyTileActionsRowObj=function(e){const t=A.getResourceBundle();return{menu_title:"",target_type:t.getText("configuration.tile_actions.table.target_type.url"),navigation_target:"",action:"",icon:"",isTargetTypeIntent:false,editable:e}};function R(e,t){const i={};const a=A.getResourceBundle();i.menu_title=e.text;i.icon=e.icon;if(e.targetURL.charAt(0)==="#"){i.target_type=a.getText("configuration.tile_actions.table.target_type.intent");const t=e.targetURL.split("-");i.navigation_target=t[0].substring(1,t[0].length);i.action=t[1];i.isTargetTypeIntent=true}else{i.target_type=a.getText("configuration.tile_actions.table.target_type.url");i.navigation_target=e.targetURL;i.action="";i.isTargetTypeIntent=false}i.editable=t;return i}A.getTileNavigationActionsRows=function(e,t){let i=[];let a=[];a=this.getTileNavigationActions(e);if(a.length){for(let e=0;e<a.length;e++){i.push(R(a[e],t))}}else{i=[this.getEmptyTileActionsRowObj(t)]}return i};A.getTileNavigationActions=function(e){let t=[];let i="";const a=e.bag.getBag("tileNavigationActions");if(a.getPropertyNames().indexOf("tile_navigation_actions")>=0){t=JSON.parse(a.getProperty("tile_navigation_actions"));for(let e=0;e<t.length;e++){if(t[e].text){if(a.getTextNames().indexOf(`action_tile_${e+1}`)>=0){i=a.getText(`action_tile_${e+1}`)}t[e].text=i}}}return t};function E(e){const t={};t.text=e.menu_title;t.icon=e.icon;if(e.action){t.targetURL=`#${e.navigation_target}-${e.action}`}else{t.targetURL=e.navigation_target}return t}A.tileActionsRows2TileActionsArray=function(e){const t=[];for(let i=0;i<e.length;i++){if(e[i].menu_title){t.push(E(e[i]))}}return t};A.populateTileNavigationActionsBag=function(e,t){e.setProperty("tile_navigation_actions",JSON.stringify(t));for(let i=0;i<t.length;i++){const a=t[i].text;e.setText(`action_tile_${i+1}`,a)}};A.getDefaultFormFactors=function(){return{appDefault:false,manual:{desktop:true,tablet:true,phone:true},defaultParam:true}};A.buildFormFactorsObject=function(e){return{appDefault:e.getProperty("/config/appFormFactor"),manual:{desktop:e.getProperty("/config/desktopChecked"),tablet:e.getProperty("/config/tabletChecked"),phone:e.getProperty("/config/phoneChecked")}}};A.tableHasDuplicateParameterNames=function(e){const t={};for(let i=0;i<e.length;i++){const a=e[i].name;if(a!==""){if(t[a]){return true}t[a]=true}}return false};A.tableHasInvalidSapPrelaunchOperationValue=function(e){for(let t=0;t<e.length;t++){if(e[t].name==="sap-prelaunch-operations"){if(a.parseAndValidateOperations(e[t].defaultValue)===null){return false}break}}return true};function k(e){let t="";if(e.mandatory){if(e.isRegularExpression){t=`{${e.name}=${encodeURIComponent(e.value)}}`}else{t=`${e.name}=${encodeURIComponent(e.value)}`}}else{t=`[${e.name}=${encodeURIComponent(e.defaultValue)}]`}return t}A.getMappingSignatureString=function(e,t){let i="";for(let t=0;t<e.length;t++){if(e[t].name){i+=`${k(e[t])}&`}}return t?`${i}*=*`:i.substring(0,i.length-1)};function L(e,t){const i={};if(e.charAt(0)==="["){i.mandatory=false;i.isRegularExpression=false;i.value="";e=e.substring(1,e.length-1);i.name=e.substring(0,e.indexOf("="));i.defaultValue=decodeURIComponent(e.substring(e.indexOf("=")+1))}else{i.mandatory=true;i.defaultValue="";if(e.charAt(0)==="{"){i.isRegularExpression=true;e=e.substring(1,e.length-1)}else{i.isRegularExpression=false}i.name=e.substring(0,e.indexOf("="));i.value=decodeURIComponent(e.substring(e.indexOf("=")+1))}i.editable=t;if(t){i.valEnabled=i.mandatory;i.defValEnabled=!i.mandatory}else{i.valEnabled=true;i.defValEnabled=true}return i}A.getMappingSignatureTableData=function(e,t){const i=[];const a=e.split("&");for(let e=0;e<a.length;e++){const n=a[e];if(n!=="*=*"){i.push(L(a[e],t))}}return i};A.getAllowUnknownParametersValue=function(e){if(e&&e.substring(e.length-3,e.length)==="*=*"){return true}return false};A.getMappingSignature=function(e,t){const i=t?"allowed":"ignored";const a=new RegExp("%%UserDefault[.].+%%");let n=[];const s={parameters:{},additional_parameters:i};e.forEach(e=>{s.parameters[e.name]={required:e.mandatory,rename_to:e.rename_to};if(e.defaultValue){n=a.exec(e.defaultValue);if(n){e.defaultValue=n[0]}s.parameters[e.name].defaultValue={value:e.defaultValue}}if(e.value){n=a.exec(e.value);if(n){e.value=n[0]}s.parameters[e.name].filter={value:e.value};if(e.isRegularExpression){s.parameters[e.name].filter.format="regexp"}}});return s};A.getSignatureTableData=function(e,t){const i=[];let a={};let n={};const s=e.parameters;for(const e in s){n=s[e];a={};a.editable=t;a.name=e;a.mandatory=n.required;if(n.rename_to){a.rename_to=n.rename_to}else{a.rename_to=n.renameTo}if(t){a.valEnabled=a.mandatory;a.defValEnabled=!a.mandatory}else{a.valEnabled=true;a.defValEnabled=true}if(n.filter){a.value=n.filter.value;if(n.filter.format&&n.filter.format==="regexp"){a.isRegularExpression=true}}if(n.defaultValue){a.defaultValue=n.defaultValue.value}i.push(a)}return i};A.getTranslatedTitle=function(e){if(e.bag){const t=e.bag.getBag("tileProperties");if(t.getTextNames().indexOf("display_title_text")>=0){return t.getText("display_title_text")}}if(e.title){return e.title.getTitle()}if(e.preview){return e.preview.getTitle()}return""};A.getTranslatedSubtitle=function(e,t){if(e.bag){const t=e.bag.getBag("tileProperties");if(t.getTextNames().indexOf("display_subtitle_text")>=0){return t.getText("display_subtitle_text")}}if(typeof t.display_subtitle_text==="string"){return t.display_subtitle_text}if(e.preview&&e.preview.getDescription&&e.preview.getDescription()){return e.preview.getDescription()}return""};A.getTranslatedProperty=function(e,t,i){if(e.bag){const t=e.bag.getBag("tileProperties");if(t.getTextNames().indexOf(i)>=0){return t.getText(i)}}return t[i]};A.getActionConfiguration=function(e,t){const i=e.configuration.getParameterValueAsString("tileConfiguration");const a=JSON.parse(i||"{}");let n;if(typeof t==="undefined"){t=e.configurationUi.isEnabled()}if(t){n=A.getResourceBundle()}a.semantic_object=a.semantic_object||(t?`[${n.getText("configuration.semantic_object")}]`:"");a.semantic_action=a.semantic_action||(t?`[${n.getText("configuration.semantic_action")}]`:"");a.navigation_provider=a.navigation_provider||"";a.navigation_provider_role=a.navigation_provider_role||"";a.navigation_provider_instance=a.navigation_provider_instance||"";a.target_application_id=a.target_application_id||"";a.target_application_alias=a.target_application_alias||"";a.display_info_text=a.display_info_text||"";a.editable=true;if(e.configurationUi&&e.configurationUi.isReadOnly){if(e.configurationUi.isReadOnly()){a.editable=false}}return a};A.getViewConfiguration=function(e){const t=e.getViewData();const i=t.chip;const a=A.getAppLauncherConfig(i,true,true);return a};A.getConfigurationUi=function(e,t){let i;let a;let n;let s;let r;const c=e.getViewData();const p=A.getViewConfiguration(e);const u=new l({config:p,tileModel:e.getModel()});return o.create({type:D.XML,viewData:c,viewName:t}).then(t=>{t.setModel(u);i=t.byId("navigation_semantic_objectInput")||t.byId("semantic_objectInput");if(i){i.getModel().setProperty("/enabled",p.navigation_use_semantic_object);i.getModel().setProperty("/value",p.semantic_object||p.navigation_semantic_object)}a=t.byId("navigation_provider_roleInput");if(a){a.getModel().setProperty("/value",p.navigation_provider_role)}n=t.byId("navigation_provider_instanceInput");if(n){n.getModel().setProperty("/value",p.navigation_provider_instance)}s=t.byId("target_application_aliasInput");if(s){s.getModel().setProperty("/value",p.target_application_alias)}r=t.byId("targetTypeInput");if(r){if(!t.getModel().getProperty("/config/transaction")){t.getModel().setProperty("/config/transaction",{})}if(!t.getModel().getProperty("/config/web_dynpro")){t.getModel().setProperty("/config/web_dynpro",{})}if(e.getModel().getProperty("/config/navigation_provider")==="LPD"){A.displayLpdCustApplicationTypeFields(t)}else if(e.getModel().getProperty("/config/navigation_provider")==="WCF"){r.setSelectedKey("WCF");A.displayWCFApplicationTypeFields(t)}else if(e.getModel().getProperty("/config/navigation_provider")==="SAPUI5"||e.getModel().getProperty("/config/navigation_provider")===""){r.setSelectedKey("SAPUI5");A.displaySapui5ApplicationTypeFields(t)}else if(e.getModel().getProperty("/config/navigation_provider")==="TR"){A.displayTransactionApplicationTypeFields(t)}else if(e.getModel().getProperty("/config/navigation_provider")==="WDA"){A.displayWebDynproApplicationTypeFields(t)}else if(e.getModel().getProperty("/config/navigation_provider")==="URL"){A.displayURLApplicationTypeFields(t)}else if(e.getModel().getProperty("/config/navigation_provider")==="URLT"){A.displayURLTApplicationTypeFields(t);u.setProperty("/config/editable",false);u.setProperty("/config/manualFormFactor",false)}}return t})};A._updateTilePropertiesTexts=function(e,t){const i=t.getTextNames();const a=e.getModel();i.forEach(e=>{a.setProperty(`/data/${e}`,t.getText(e));a.setProperty(`/config/${e}`,t.getText(e))})};A._updateTileConfiguration=function(e,t){const i=e.getModel();const a=JSON.parse(t);let n;Object.keys(a).forEach(e=>{n=a[e];i.setProperty(`/data/${e}`,n);i.setProperty(`/config/${e}`,n);if(e==="navigation_target_url"){i.setProperty(`/nav/${e}`,n)}})};A.aData=[];A.aActionData=[];A.aRoleData=[];A.aAliasData=[];A.objectSelectDoSearch=function(e){const t=e.getParameter("value");if(t!==undefined){e.getParameter("itemsBinding").filter(new p([new p("name",u.Contains,t),new p("obj",u.Contains,t)],false))}};A.actionSelectDoSearch=function(e){const t=e.getParameter("value");if(t!==undefined){e.getParameter("itemsBinding").filter(new p([new p("text",u.Contains,t)],false))}};A.roleSelectDoSearch=function(e){const t=e.getParameter("value");if(t!==undefined){e.getParameter("itemsBinding").filter(new p([new p("role",u.Contains,t),new p("instance",u.Contains,t)],false))}};A.instanceSelectDoSearch=function(e){const t=e.getParameter("value");if(t!==undefined){const i=[];if(t!==""){i.push(new p("instance",u.Contains,t))}const a=e.getSource().getCustomData();const n=a[0].getValue();if(n!==""){i.push(new p("role",u.EQ,n))}if(i.length>0){e.getParameter("itemsBinding").filter(new p(i,true))}}};A.instanceSuggest=function(e,t){const i=[];const a=t.getParameter("suggestValue");if(a!==""){i.push(new p("instance",u.Contains,a))}const n=e.getView();const s=n.byId("navigation_provider_roleInput");const o=s.getValue();if(o!==""){i.push(new p("role",u.EQ,o))}if(i.length>0){t.oSource.getBinding("suggestionItems").filter(new p(i,true))}};A.aliasSuggest=function(e,t){const i=[];const a=t.getParameter("suggestValue");if(a!==""){i.push(new p("alias",u.Contains,a))}const n=e.getView();const s=n.byId("navigation_provider_instanceInput");const o=s.getValue();if(o!==""){i.push(new p("instance",u.EQ,o))}if(i.length>0){t.oSource.getBinding("suggestionItems").filter(new p(i,true))}};A.aliasSelectDoSearch=function(e){const t=[];const i=e.getParameter("value");if(i!==undefined){if(i!==""){t.push(new p("alias",u.Contains,i))}const a=e.getSource().getCustomData();const n=a[0].getValue();t.push(new p("instance",u.EQ,n));e.getParameter("itemsBinding").filter(new p(t,true))}};A.objectSelectUpdateDialog=function(e,t){if(t!==undefined){e.getBinding("items").filter([new p("name",u.Contains,t)])}};A.actionSelectUpdateDialog=function(e,t){if(t!==undefined){e.getBinding("items").filter([new p("text",u.Contains,t)])}};A.roleSelectUpdateDialog=function(e,t){if(t!==undefined){e.getBinding("items").filter([new p("role",u.Contains,t)])}};A.instanceSelectUpdateDialog=function(e,t){const i=[];if(t!==undefined){i.push(new p("instance",u.Contains,t))}const a=e.getCustomData();const n=a[0].getValue();if(n!==""){i.push(new p("role",u.EQ,n))}if(i.length>0){e.getBinding("items").filter(i,true)}};A.aliasSelectUpdateDialog=function(e,t){const i=[];if(t!==undefined){i.push(new p("alias",u.Contains,t))}const a=e.getCustomData();const n=a[0].getValue();if(n!==""){i.push(new p("instance",u.EQ,n))}if(i.length>0){e.getBinding("items").filter(i,true)}};A.sSelectedColor=(jQuery(".sapMStdTileIconDiv").css("color")||"#007cc0").split(" ").join("");A.sDeselectedColor=(jQuery(".sapMLabel:not(.sapFioriDropZoneText )").css("color")||"#666666").split(" ").join("");A.iconSelect=function(e,t){e.setColor(t?A.sSelectedColor:A.sDeselectedColor);e.setActiveColor(t?A.sDeselectedColor:A.sSelectedColor)};A.onSelectIcon=function(e,t,i,a){const n=e.getView();const s=n.getModel();let o;if(t){o=s.getProperty("/config/tile_actions_selected_icon")}else{o=s.getProperty("/config/selected_icon")}if(o){A.iconSelect(o,false)}o=a.getSource();A.iconSelect(o,true);s.setProperty("/config/ok.enabled",true);if(t){s.setProperty("/config/tile_actions_selected_icon",o)}else{s.setProperty("/config/selected_icon",o)}n.byId("selectIconDialog").setTitle(o.getSrc())};A.onSelectIconClose=function(e){e.byId("selectIconDialog").close()};A.onSelectIconOk=function(e,t){let i=e.getModel().getProperty("/config/selected_icon");if(!t){e.getModel().setProperty("/config/display_icon_url",i.getSrc());e.byId("iconInput").setValueState(P.None)}else{i=e.getModel().getProperty("/config/tile_actions_selected_icon");if(i){t.setValue(i.getSrc());t.setValueState(P.None)}}A.onSelectIconClose(e)};A.iconSelectOnValueHelpRequest=function(e,i,a){const n=e.getView();const s=n.getModel();const o=n.byId("icons");let l=g.getIconCollectionNames();const r=n.byId("selectIconDialog");const c=n.byId("ok");let p;let u;let _;let f;let b=false;o.destroyContent();if(a){u=t.getElementById(i.getParameter("id"));p=u.getValue()}else{p=s.getProperty("/config/display_icon_url")}c.attachEventOnce("press",()=>{A.onSelectIconOk(n,u)});l.sort();l=l.filter(e=>{if(e==="BusinessSuiteInAppSymbols"){b=true;return false}return true});if(b){l.push("BusinessSuiteInAppSymbols")}for(let t=0;t<l.length;++t){_=g.getIconNames(l[t]);_.sort();for(let i=0;i<_.length;++i){f=g.getIconURI(_[i],l[t]);o.addContent(new d({height:"38px",press:A.onSelectIcon.bind(null,e,a,u),size:"2rem",src:f,tooltip:f,width:"38px"}))}}const y=o.getContent();s.setProperty("/config/ok.enabled",false);r.bindProperty("title",{model:"i18n",path:"configuration.select_icon"});for(let e=0;e<y.length;++e){if(y[e].getSrc()===p){if(a){s.setProperty("/config/tile_actions_selected_icon",y[e])}else{s.setProperty("/config/selected_icon",y[e])}A.iconSelect(y[e],true);s.setProperty("/config/ok.enabled",true);r.setTitle(p)}else{A.iconSelect(y[e],false)}}r.open()};A.objectSelectOnValueHelpRequest=function(e,i,a){const n=e.getView();const s=A.getResourceBundle().getText("configuration.semantic_object");let o;const r=new l;let c=new _("semantic_object_select_dialog",{title:s,search:A.objectSelectDoSearch,liveChange:A.objectSelectDoSearch});const p=new f({title:"{obj}"});if(a){o=t.getElementById(i.getParameter("id"))}else{o=n.byId("semantic_objectInput")||n.byId("navigation_semantic_objectInput")}const u=o.getValue();c.open(u);r.setData(e.aDefaultObjects.concat(A.aData));c.bindAggregation("items","/",p);c.setModel(r);A.objectSelectUpdateDialog(c,u);c.attachCancel(e=>{o.setValue(u);if(!a){o.fireChange()}c.destroy();c=null});c.attachConfirm(e=>{const t=e.getParameter("selectedItem");if(t){o.setValue(t.getTitle());if(!a){o.fireChange()}}c.destroy();c=null})};A.actionSelectOnValueHelpRequest=function(e,i,a){const n=e.getView();const s=A.getResourceBundle().getText("configuration.semantic_action");let o;const r=new l;let c=new _("semantic_action_select_dialog",{title:s,search:A.actionSelectDoSearch,liveChange:A.actionSelectDoSearch});const p=new f({title:"{text}"});if(a){o=t.getElementById(i.getParameter("id"))}else{o=n.byId("semantic_actionInput")||n.byId("navigation_semantic_actionInput")}const u=o.getValue();c.open(u);r.setData(A.aActionData);c.bindAggregation("items","/items",p);c.setModel(r);A.actionSelectUpdateDialog(c,u);c.attachCancel(e=>{o.setValue(u);if(!a){o.fireChange()}c.destroy();c=null});c.attachConfirm(e=>{const t=e.getParameter("selectedItem");if(t){o.setValue(t.getTitle());if(!a){o.fireChange();o.fireLiveChange({newValue:t.getTitle()})}}c.destroy();c=null})};A.roleSelectOnValueHelpRequest=function(e){const t=e.getView();const i=A.getResourceBundle().getText("configuration.navigation_provider_role");const a=new l;let n=new y("role_select_dialog",{title:i,search:A.roleSelectDoSearch,liveChange:A.roleSelectDoSearch,columns:[new I({header:[new b({text:A.getResourceBundle().getText("configuration.navigation_provider_role")})]}),new I({header:[new b({text:A.getResourceBundle().getText("configuration.navigation_provider_instance")})]})]});const s=new m({cells:[new b({text:"{role}"}),new b({text:"{instance}"})]});const o=t.byId("navigation_provider_roleInput");const r=t.byId("navigation_provider_instanceInput");const c=o.getValue();n.open(c);a.setData(e.aDefaultObjects.concat(A.aRoleData));n.bindAggregation("items","/",s);n.setModel(a);A.roleSelectUpdateDialog(n,c);n.attachCancel(e=>{o.setValue(c);o.fireChange();n.destroy();n=null});n.attachConfirm(e=>{const t=e.getParameter("selectedItem");if(t){o.setValue(t.getCells()[0].getText());r.setValue(t.getCells()[1].getText());o.fireChange();r.fireChange()}n.destroy();n=null})};A.instanceSelectOnValueHelpRequest=function(e){const t=e.getView();const i=A.getResourceBundle().getText("configuration.navigation_provider_instance");const a=new l;let n=new _("instance_select_dialog",{title:i,search:A.instanceSelectDoSearch,liveChange:A.instanceSelectDoSearch});const s=new f({title:"{instance}"});const o=t.byId("navigation_provider_instanceInput");const r=o.getValue();const c=t.byId("navigation_provider_roleInput").getValue();n.addCustomData(new V({key:"role",value:c}));n.open(r);a.setData(e.aDefaultObjects.concat(A.aRoleData));n.bindAggregation("items","/",s);n.setModel(a);A.instanceSelectUpdateDialog(n,r);n.attachCancel(e=>{o.setValue(r);o.fireChange();n.destroy();n=null});n.attachConfirm(e=>{const t=e.getParameter("selectedItem");if(t){o.setValue(t.getTitle());o.fireChange()}n.destroy();n=null})};A.applicationAliasSelectOnValueHelpRequest=function(e){const t=e.getView();const i=A.getResourceBundle().getText("configuration.target_application_alias");const a=new l;let n=new _("alias_select_dialog",{title:i,search:A.aliasSelectDoSearch,liveChange:A.aliasSelectDoSearch});const s=new f({title:"{alias}"});const o=t.byId("target_application_aliasInput");const r=o.getValue();const c=t.byId("navigation_provider_instanceInput").getValue();n.addCustomData(new V({key:"instance",value:c}));n.open(r);a.setData(e.aDefaultObjects.concat(A.aAliasData));n.bindAggregation("items","/",s);n.setModel(a);A.aliasSelectUpdateDialog(n,r);n.attachCancel(e=>{o.setValue(r);o.fireChange();n.destroy();n=null});n.attachConfirm(e=>{const t=e.getParameter("selectedItem");if(t){o.setValue(t.getTitle());o.fireChange()}n.destroy();n=null})};A.onTargetTypeChange=function(e){const i=e.getParameter("id");const a=t.getElementById(i).getParent().getCells();const n=e.getSource().getSelectedKey();if(n==="INT"){a[3].setEnabled(true);a[2].setShowValueHelp(true);a[2].setValue("")}else{a[2].setShowValueHelp(false);a[2].setValue("");a[3].setEnabled(false);a[3].setValue("")}};A.addTileActionsRow=function(e){const t=e.getModel();const i=t.getProperty("/config/tile_actions_rows");const a=this.getEmptyTileActionsRowObj();i.push(a);t.setProperty("/config/tile_actions_rows",i)};A.deleteTileActionsRow=function(e){const t=e.getModel();const i=t.getProperty("/config/tile_actions_rows");const a=e.byId("tileActions");const n=a.getSelectedIndices();const s=n.sort((e,t)=>t-e).slice();for(let e=0;e<s.length;e++){a.removeSelectionInterval(s[e],s[e]);i.splice(s[e],1)}t.setProperty("/config/tile_actions_rows",i)};A.checkInput=function(e,t){const i=A.getResourceBundle();const a=e.byId("iconInput");const n=e.byId("useLpdCheckbox");const s=e.byId("navigation_semantic_objectInput")||e.byId("semantic_objectInput");const o=e.byId("navigation_semantic_actionInput")||e.byId("semantic_actionInput");let l=P.None;let r=null;const c=String(t.getParameter("newValue")||"").trim();switch(t.getSource()){case a:if(c!==""&&c.substring(0,11)!=="sap-icon://"){l=P.Error;r=i.getText("configuration.display_icon_url.warning")}break;case n:if(!n.getSelected()){o.setValueState(P.None);s.setValueState(P.None)}break;case s:if(/[-#&? ]/.test(c)){l=P.Error;r=i.getText("configuration.semantic_object.error_invalid_chars")}else if(c===""){l=P.Error}break;case o:if(/[-#&? ]/.test(c)){l=P.Error;r=i.getText("configuration.semantic_action.error_invalid_chars")}else if(c===""){l=P.Error}break;default:break}if(l){t.getSource().setValueState(l);if(r!==null){t.getSource().setValueStateText(r||"")}}};A.checkInputOnSaveConfig=function(e){const t=e.byId("iconInput");const i=e.byId("navigation_semantic_objectInput");const a=e.byId("navigation_semantic_actionInput");const n=e.byId("useLpdCheckbox");const s=A.getResourceBundle();let o=false;if(t.getValue()!==""&&!A.isIconURIValid(t.getValue())){t.setValueState(P.Error);t.setValueStateText(s.getText("configuration.display_icon_url.warning"));o=true}if(n.getSelected()&&/[-#&? ]/.test(i.getValue())){i.setValueState(P.Error);i.setValueStateText(s.getText("configuration.semantic_object.error_invalid_chars"));o=true}else if(n.getSelected()&&i.getValue()===""){i.setValueState(P.Error);o=true}if(/[-#&? ]/.test(a.getValue())){a.setValueState(P.Error);a.setValueStateText(s.getText("configuration.semantic_action.error_invalid_chars"));o=true}else if(n.getSelected()&&a.getValue()===""){a.setValueState(P.Error);o=true}return o};A.checkTileActions=function(e){const t=e.getModel().getProperty("/config/tile_actions_rows");const i=A.getResourceBundle();let a=false;for(let e=0;e<t.length;e++){if(!t[e].menu_title&&(t[e].navigation_target||t.length>1)){t[e].valueState=P.Error;a=true}else{t[e].valueState=P.None}if(t[e].icon){if(!A.isIconURIValid(t[e].icon)){t[e].iconValueState=P.Error;t[e].iconValueStateText=i.getText("configuration.display_icon_url.warning");a=true}}}e.getModel().setProperty("/config/tile_actions_rows",t);return a};A.isIconURIValid=function(e){let t=[];let i="";let a="";let n="";t=/sap-icon:\/\/(.+)\//.exec(e);if(t){i=t[1];t=/\/\/.+\/(.+)/.exec(e);if(t){a=t[1]}else{a=""}n=g.getIconURI(a,i);if(n!==e){return false}}else{t=/sap-icon:\/\/(.+)/.exec(e);if(t){a=t[1];if(!g.getIconInfo(a)){return false}}else{return false}}return true};A.checkTMInput=function(e,t){const i=A.getResourceBundle();const a=e.byId("semantic_objectInput");const n=e.byId("semantic_actionInput");const s=e.byId("target_application_descriptionInput");const o=e.byId("target_application_urlInput");const l=e.byId("target_application_componentInput");const r=e.byId("navigation_provider_roleInput");const c=e.byId("navigation_provider_instanceInput");const p=e.byId("target_application_aliasInput");const u=e.byId("target_application_idInput");const g=String(t.getParameter("newValue")||"").trim();let d=P.None;let _=null;switch(t.getSource()){case a:if(/[-#&? ]/.test(g)){d=P.Error;_=i.getText("configuration.semantic_object.error_invalid_chars")}if(n.getValue()===""){n.setValueState(P.Error)}break;case n:if(/[-#&? ]/.test(g)){d=P.Error;_=i.getText("configuration.semantic_action.error_invalid_chars")}else if(g===""){d=P.Error}break;case s:if(g===""){d=P.Error}break;case o:if(g!==""&&!/^[-~+,;:?%&#=/.\w]+$/.test(g)){d=P.Error;_=i.getText("configuration.target_application.url.error_invalid_chars")}break;case l:if(g===""){d=P.Error}else if(g.substring(0,17)==="SAPUI5.Component="){d=P.Error;_=i.getText("configuration.target_application.component.error_invalid_input")}break;case r:if(g===""){d=P.Error}else if(!/^[\w/]+$/.test(g)){d=P.Error;_=i.getText("configuration.target_application.role.error_invalid_chars")}break;case c:if(g===""){d=P.Error}else if(!/^[\w/]+$/.test(g)){d=P.Error;_=i.getText("configuration.target_application.instance.error_invalid_chars")}break;case p:if(g===""&&u.getValue()===""){d=P.Error;_=i.getText("configuration.target_application.alias_id.warning")}else if(g!==""&&u.getValue()!==""){d=P.Error;_=i.getText("configuration.target_application.alias_id.warning");u.setValueState(d);u.setValueStateText(_)}else{u.setValueState(P.None)}break;case u:if(g===""&&p.getValue()===""){d=P.Error;_=i.getText("configuration.target_application.alias_id.warning")}else if(g!==""&&p.getValue()!==""){d=P.Error;_=i.getText("configuration.target_application.alias_id.warning");p.setValueState(d);p.setValueStateText(_)}else if(g!==""&&!/^[A-Fa-f0-9]+$/.test(g)){d=P.Error;_=i.getText("configuration.target_application.alias_id.error_invalid_chars")}else{p.setValueState(P.None)}break;default:break}if(d){t.getSource().setValueState(d);if(_!==null){t.getSource().setValueStateText(_||"")}}};A.checkTMInputOnSaveConfig=function(e){const t=A.getResourceBundle();const i=e.byId("semantic_objectInput");const a=e.byId("semantic_actionInput");const n=e.byId("target_application_descriptionInput");const s=e.byId("target_application_urlInput");const o=e.byId("target_application_componentInput");const l=e.byId("navigation_provider_roleInput");const r=e.byId("navigation_provider_instanceInput");const c=e.byId("target_application_aliasInput");const p=e.byId("target_application_idInput");const u=e.byId("targetTypeInput");const g=e.byId("target_transactionInput");const d=e.byId("target_web_dynpro_applicationInput");const _=e.byId("target_wcf_application_idInput");const f=e.byId("desktopCB");const b=e.byId("tabletCB");const y=e.byId("phoneCB");let I=false;i.setValue(i.getValue().trim());if(/[-#&? ]/.test(i.getValue())){i.setValueState(P.Error);i.setValueStateText(t.getText("configuration.semantic_object.error_invalid_chars"));I=true}a.setValue(a.getValue().trim());if(/[-#&? ]/.test(a.getValue())){a.setValueState(P.Error);a.setValueStateText(t.getText("configuration.semantic_action.error_invalid_chars"));I=true}else if(a.getValue()===""){a.setValueState(P.Error);I=true}const m=e.getModel().getProperty("/config/navigation_provider");let V;if(m==="SAPUI5"){if(n.getValue()===""){n.setValueState(P.Error);I=true}if(s.getValue()!==""&&!/^[-~+,;:?%&#=/.\w]+$/.test(s.getValue())){s.setValueState(P.Error);s.setValueStateText(t.getText("configuration.target_application.url.error_invalid_chars"));I=true}if(o.getValue()===""){o.setValueState(P.Error);I=true}else if(o.getValue().substring(0,17)==="SAPUI5.Component="){o.setValueState(P.Error);o.setValueStateText(t.getText("configuration.target_application.component.error_invalid_input"));I=true}}else if(m==="LPD"){if(l.getValue()===""){l.setValueState(P.Error);I=true}if(!/^[\w]+$/.test(l.getValue())){l.setValueState(P.Error);V=t.getText("configuration.target_application.role.error_invalid_chars");l.setValueStateText(V);I=true}if(r.getValue()===""){r.setValueState(P.Error);I=true}if(!/^[\w]+$/.test(r.getValue())){r.setValueState(P.Error);V=t.getText("configuration.target_application.instance.error_invalid_chars");r.setValueStateText(V);I=true}if(c.getValue()===""&&p.getValue()===""){V=t.getText("configuration.target_application.alias_id.warning");c.setValueState(P.Error);c.setValueStateText(V);p.setValueState(P.Error);p.setValueStateText(V);I=true}if(c.getValue()!==""&&p.getValue()!==""){V=t.getText("configuration.target_application.alias_id.warning");c.setValueState(P.Error);c.setValueStateText(V);p.setValueState(P.Error);p.setValueStateText(V);I=true}if(p.getValue()!==""&&!/^[A-Fa-f0-9]+$/.test(p.getValue())){p.setValueState(P.Error);p.setValueStateText(t.getText("configuration.target_application.alias_id.error_invalid_chars"));I=true}}else if(m==="TR"){if(g.getValue()===""){g.setValueState(P.Error);I=true}}else if(m==="WDA"){if(d.getValue()===""){d.setValueState(P.Error);I=true}}else if(m==="WCF"){if(_.getValue()===""){_.setValueState(P.Error);I=true}}else if(m==="URL"){if(s.getValue()===""){s.setValueState(P.Error);I=true}else if(!/^[-~+,;:?%&#=/.\w]+$/.test(s.getValue())){s.setValueState(P.Error);s.setValueStateText(t.getText("configuration.target_application.url.error_invalid_chars"));I=true}}else{u.setValueState(P.Error);u.setValueStateText(t.getText("configuration.navigation_provider.error_invalid_provider"));I=true}if(!f.getSelected()&&!b.getSelected()&&!y.getSelected()){V=t.getText("configuration.form_factor.warning");f.setValueState(P.Error);f.setValueStateText(V);b.setValueState(P.Error);b.setValueStateText(V);y.setValueState(P.Error);y.setValueStateText(V);I=true}return I};A.updateTooltipForDisabledProperties=function(e){const t=e.getModel();const i=t.getProperty("/config/isLocaleSuitable");if(!i){const i=A.getResourceBundle();const a=i.getText("edit_configuration.original_locale_not_fit_tooltip",[t.getProperty("/config/userLocale"),t.getProperty("/config/orgLocale")]);e.byId("titleInput").setTooltip(a);e.byId("subtitleInput").setTooltip(a);e.byId("keywordsInput").setTooltip(a);e.byId("infoInput").setTooltip(a)}};A.updateMessageStripForOriginalLanguage=function(e){const t=e.getModel();if(t.getProperty("/config/isLocaleSuitable")===false){const i=A.getResourceBundle().getText("edit_configuration.original_locale_not_fit_message",[t.getProperty("/config/orgLocale").toUpperCase(),t.getProperty("/config/userLocale").toUpperCase()]);const a=e.byId("messageStrip");a.setVisible(true);a.setText(i);a.setType(w.Warning)}};A.createSemanticObjectModel=function(e,t,i){const a=e.getView();const n="/sap/opu/odata/UI2/INTEROP/SemanticObjects";const o=[{obj:"",name:""},{obj:"*",name:"*"}];const r=(i||o).slice(0);const c=new l;c.setSizeLimit(999999);c.setProperty("/value","");c.setProperty("/enabled",true);t.bindAggregation("suggestionItems","suggest>/items",new v({text:"{suggest>obj}"}));t.setModel(c,"suggest");if(A.aData.length>0){setTimeout(()=>{c.setData({items:r.concat(A.aData)},true)},0);return}s.read({requestUri:n,headers:{Accept:"application/json"}},e=>{let t;let i;let a;for(a=0;a<e.results.length;a=a+1){t=e.results[a].id;i=e.results[a].text;A.aData.push({obj:t,name:i||t})}c.setData({items:r.concat(A.aData)},true)},e=>{let t=e&&e.message?e.message:e;if(e.response){t+=` - ${e.response.statusCode} ${e.response.statusText}`}x.error(`Could not fetch data: ${n}: ${t}`,null,a.getViewName()||"sap.ushell.components.tiles.utils")})};A.createRoleModel=function(e,t,i){const a=e.getView();const n="/sap/opu/odata/UI2/INTEROP/GetLPDInstances";const o=new l;const r=new l;o.setSizeLimit(999999);r.setSizeLimit(999999);o.setProperty("/value","");o.setProperty("/enabled",true);r.setProperty("/value","");r.setProperty("/enabled",true);const c=new m({cells:[new S({text:"{role}"}),new S({text:"{instance}"})]});t.bindAggregation("suggestionRows","/items",c);i.bindAggregation("suggestionItems","/items",new v({text:"{instance}"}));i.setModel(r);t.setModel(o);t.attachSuggestionItemSelected(e=>{i.setValue(e.getParameter("selectedRow").getCells()[1].getText());i.fireChange()});if(A.aRoleData.length>0){o.setData({items:A.aRoleData},false);r.setData({items:A.aRoleData},false);return}s.read({requestUri:n,headers:{Accept:"application/json"}},e=>{let t;let i;let a;for(a=0;a<e.results.length;a=a+1){t=e.results[a].lpdRole;i=e.results[a].instance;A.aRoleData.push({role:t,instance:i})}o.setData({items:A.aRoleData},true);r.setData({items:A.aRoleData},true)},e=>{let t=e&&e.message?e.message:e;if(e.response){t+=` - ${e.response.statusCode} ${e.response.statusText}`}x.error(`Could not fetch data: ${n}: ${t}`,null,a.getViewName()||"sap.ushell.components.tiles.utils")})};A.createAliasModel=function(e,t){const i=e.getView();let a="/sap/opu/odata/UI2/INTEROP/GetLPDAppAlias";const n=new l;n.setSizeLimit(999999);n.setProperty("/value","");n.setProperty("/enabled",true);t.bindAggregation("suggestionItems","/items",new v({text:"{alias}"}));t.setModel(n);const o=A.getAppLauncherConfig(i.oViewData.chip,true,true);if(o&&o.navigation_provider_role&&o.navigation_provider_instance){if(o.navigation_provider_role!==""&&o.navigation_provider_instance!==""){a=`${a}?role='${o.navigation_provider_role}'&instance='${o.navigation_provider_instance}'`}}s.read({requestUri:a,headers:{Accept:"application/json"}},e=>{let t;let i;let a;let s;let o;A.aAliasData=[];for(s=0;s<e.results.length;s=s+1){t=e.results[s].lpdApplicationAlias;i=e.results[s].lpdRole;a=e.results[s].lpdInstance;A.aAliasData.push({role:i,instance:a,alias:t})}o=n.getData();if(o){o.items=A.aAliasData}else{o={items:A.aAliasData}}n.setData(o,false)},e=>{let t=e&&e.message?e.message:e;if(e.response){t+=` - ${e.response.statusCode} ${e.response.statusText}`}x.error(`Could not fetch data: ${a}: ${t}`,null,i.getViewName()||"sap.ushell.components.tiles.utils")})};A.updateAliasModel=function(e,t){const i=t.getModel();const a=e.byId("navigation_provider_instanceInput").getValue();const n=e.byId("navigation_provider_roleInput").getValue();const o=`/sap/opu/odata/UI2/INTEROP/GetLPDAppAlias?role='${n}'&instance='${a}'`;s.read({requestUri:o,headers:{Accept:"application/json"}},e=>{let t;let a;let n;let s;A.aAliasData=[];for(let i=0;i<e.results.length;i=i+1){t=e.results[i].lpdApplicationAlias;n=e.results[i].lpdRole;s=e.results[i].lpdInstance;A.aAliasData.push({role:n,instance:s,alias:t})}a=i.getData();if(a){a.items=A.aAliasData}else{a={items:A.aAliasData}}i.setData(a,false)},t=>{let i=t&&t.message?t.message:t;if(t.response){i+=` - ${t.response.statusCode} ${t.response.statusText}`}x.error(`Could not fetch data: ${o}: ${i}`,null,e.getViewName()||"sap.ushell.components.tiles.utils")})};A.createActionModel=function(e,t){const i=new l;const a=e.getView();i.setData({items:[{text:"display"},{text:"approve"},{text:"displayFactSheet"},{text:"manage"},{text:"create"},{text:"monitor"},{text:"track"},{text:"change"},{text:"register"},{text:"release"},{text:"analyzeKPIDetails"},{text:"lookup"},{text:"manageLineItems"}]});A.aActionData=i.getData();const n=A.getAppLauncherConfig(a.oViewData.chip,true,true);const s=n.navigation_semantic_action||n.semantic_action;if(s){if(!i.getData().items.some(e=>e.text===s)){i.getData().items.push({text:s})}}t.bindAggregation("suggestionItems","items>/items",new v({text:"{items>text}"}));t.setModel(i,"items");t.getBinding("suggestionItems").sort(new h("text",false))};A.createNavigationProviderModel=function(e,t){const i=new l;const a=A.getResourceBundle();const n=[{key:"SAPUI5",text:a.getText("configuration.target_application.sapui5")},{key:"LPD",text:a.getText("configuration.target_application.lpd_cust")},{key:"TR",text:a.getText("configuration.target_application.transaction")},{key:"WDA",text:a.getText("configuration.target_application.web_dynpro")},{key:"URL",text:a.getText("configuration.target_application.url")}];const s=A.getViewConfiguration(e.getView()).navigation_provider;if(s==="WCF"){n.push({key:"WCF",text:a.getText("configuration.target_application.wcf")})}else if(s==="URLT"){n.push({key:"URLT",text:a.getText("configuration.target_application.urlt")})}i.setData({items:n});t.bindItems("items>/items",new v({key:"{items>key}",text:"{items>text}"}));t.setModel(i,"items");t.getBinding("items").sort(new h("text",false))};A.displayApplicationTypeFields=function(e,t){switch(e){case"LPD":A.displayLpdCustApplicationTypeFields(t);break;case"SAPUI5":A.displaySapui5ApplicationTypeFields(t);break;case"TR":A.displayTransactionApplicationTypeFields(t);break;case"WDA":A.displayWebDynproApplicationTypeFields(t);break;case"URL":A.displayURLApplicationTypeFields(t);break;case"WCF":A.displayWCFApplicationTypeFields(t);break;case"URLT":A.displayURLTApplicationTypeFields(t);break}};A.displayWCFApplicationTypeFields=function(e){e.byId("navigation_provider_role").setVisible(false);e.byId("navigation_provider_roleInput").setVisible(false);e.byId("navigation_provider_instance").setVisible(false);e.byId("navigation_provider_instanceInput").setVisible(false);e.byId("target_application_alias").setVisible(false);e.byId("target_application_aliasInput").setVisible(false);e.byId("target_application_id").setVisible(false);e.byId("target_application_idInput").setVisible(false);e.byId("application_description").setVisible(true);e.byId("target_application_descriptionInput").setVisible(true);e.byId("application_url").setVisible(false);e.byId("target_application_urlInput").setVisible(false);e.byId("application_component").setVisible(false);e.byId("target_application_componentInput").setVisible(false);e.byId("target_transaction").setVisible(false);e.byId("target_transactionInput").setVisible(false);e.byId("target_wcf_application_id").setVisible(true);e.byId("target_wcf_application_idInput").setVisible(true);e.byId("target_web_dynpro_application").setVisible(false);e.byId("target_web_dynpro_applicationInput").setVisible(false);e.byId("target_web_dynpro_configuration").setVisible(false);e.byId("target_web_dynpro_configurationInput").setVisible(false);e.byId("target_system_alias").setVisible(true);e.byId("target_system_aliasInput").setVisible(true);e.byId("urlt_application_component").setVisible(false);e.byId("urlt_application_componentInput").setVisible(false);e.byId("target_urlt_system_alias").setVisible(false);e.byId("target_urlt_system_aliasInput").setVisible(false);e.byId("application_type_deprecated").setVisible(false)};A.displaySapui5ApplicationTypeFields=function(e){e.byId("navigation_provider_role").setVisible(false);e.byId("navigation_provider_roleInput").setVisible(false);e.byId("navigation_provider_instance").setVisible(false);e.byId("navigation_provider_instanceInput").setVisible(false);e.byId("target_application_alias").setVisible(false);e.byId("target_application_aliasInput").setVisible(false);e.byId("target_application_id").setVisible(false);e.byId("target_application_idInput").setVisible(false);e.byId("application_description").setVisible(true);e.byId("target_application_descriptionInput").setVisible(true);e.byId("application_url").setVisible(true);e.byId("target_application_urlInput").setVisible(true);e.byId("application_component").setVisible(true);e.byId("target_application_componentInput").setVisible(true);e.byId("target_transaction").setVisible(false);e.byId("target_transactionInput").setVisible(false);e.byId("target_wcf_application_id").setVisible(false);e.byId("target_wcf_application_idInput").setVisible(false);e.byId("target_web_dynpro_application").setVisible(false);e.byId("target_web_dynpro_applicationInput").setVisible(false);e.byId("target_web_dynpro_configuration").setVisible(false);e.byId("target_web_dynpro_configurationInput").setVisible(false);e.byId("target_system_alias").setVisible(false);e.byId("target_system_aliasInput").setVisible(false);e.byId("urlt_application_component").setVisible(false);e.byId("urlt_application_componentInput").setVisible(false);e.byId("target_urlt_system_alias").setVisible(false);e.byId("target_urlt_system_aliasInput").setVisible(false);e.byId("application_type_deprecated").setVisible(false)};A.displayLpdCustApplicationTypeFields=function(e){e.byId("application_description").setVisible(false);e.byId("target_application_descriptionInput").setVisible(false);e.byId("application_url").setVisible(false);e.byId("target_application_urlInput").setVisible(false);e.byId("application_component").setVisible(false);e.byId("target_application_componentInput").setVisible(false);e.byId("navigation_provider_role").setVisible(true);e.byId("navigation_provider_roleInput").setVisible(true);e.byId("navigation_provider_instance").setVisible(true);e.byId("navigation_provider_instanceInput").setVisible(true);e.byId("target_application_alias").setVisible(true);e.byId("target_application_aliasInput").setVisible(true);e.byId("target_application_id").setVisible(true);e.byId("target_application_idInput").setVisible(true);e.byId("target_transaction").setVisible(false);e.byId("target_transactionInput").setVisible(false);e.byId("target_wcf_application_id").setVisible(false);e.byId("target_wcf_application_idInput").setVisible(false);e.byId("target_web_dynpro_application").setVisible(false);e.byId("target_web_dynpro_applicationInput").setVisible(false);e.byId("target_web_dynpro_configuration").setVisible(false);e.byId("target_web_dynpro_configurationInput").setVisible(false);e.byId("target_system_alias").setVisible(false);e.byId("target_system_aliasInput").setVisible(false);e.byId("urlt_application_component").setVisible(false);e.byId("urlt_application_componentInput").setVisible(false);e.byId("target_urlt_system_alias").setVisible(false);e.byId("target_urlt_system_aliasInput").setVisible(false);e.byId("application_type_deprecated").setVisible(true)};A.displayTransactionApplicationTypeFields=function(e){e.byId("application_description").setVisible(true);e.byId("target_application_descriptionInput").setVisible(true);e.byId("application_url").setVisible(false);e.byId("target_application_urlInput").setVisible(false);e.byId("application_component").setVisible(false);e.byId("target_application_componentInput").setVisible(false);e.byId("navigation_provider_role").setVisible(false);e.byId("navigation_provider_roleInput").setVisible(false);e.byId("navigation_provider_instance").setVisible(false);e.byId("navigation_provider_instanceInput").setVisible(false);e.byId("target_application_alias").setVisible(false);e.byId("target_application_aliasInput").setVisible(false);e.byId("target_application_id").setVisible(false);e.byId("target_application_idInput").setVisible(false);e.byId("target_transaction").setVisible(true);e.byId("target_transactionInput").setVisible(true);e.byId("target_wcf_application_id").setVisible(false);e.byId("target_wcf_application_idInput").setVisible(false);e.byId("target_web_dynpro_application").setVisible(false);e.byId("target_web_dynpro_applicationInput").setVisible(false);e.byId("target_web_dynpro_configuration").setVisible(false);e.byId("target_web_dynpro_configurationInput").setVisible(false);e.byId("target_system_alias").setVisible(true);e.byId("target_system_aliasInput").setVisible(true);e.byId("urlt_application_component").setVisible(false);e.byId("urlt_application_componentInput").setVisible(false);e.byId("target_urlt_system_alias").setVisible(false);e.byId("target_urlt_system_aliasInput").setVisible(false);e.byId("application_type_deprecated").setVisible(false)};A.displayWebDynproApplicationTypeFields=function(e){e.byId("application_description").setVisible(true);e.byId("target_application_descriptionInput").setVisible(true);e.byId("application_url").setVisible(false);e.byId("target_application_urlInput").setVisible(false);e.byId("application_component").setVisible(false);e.byId("target_application_componentInput").setVisible(false);e.byId("navigation_provider_role").setVisible(false);e.byId("navigation_provider_roleInput").setVisible(false);e.byId("navigation_provider_instance").setVisible(false);e.byId("navigation_provider_instanceInput").setVisible(false);e.byId("target_application_alias").setVisible(false);e.byId("target_application_aliasInput").setVisible(false);e.byId("target_application_id").setVisible(false);e.byId("target_application_idInput").setVisible(false);e.byId("target_transaction").setVisible(false);e.byId("target_transactionInput").setVisible(false);e.byId("target_wcf_application_id").setVisible(false);e.byId("target_wcf_application_idInput").setVisible(false);e.byId("target_web_dynpro_application").setVisible(true);e.byId("target_web_dynpro_applicationInput").setVisible(true);e.byId("target_web_dynpro_configuration").setVisible(true);e.byId("target_web_dynpro_configurationInput").setVisible(true);e.byId("target_system_alias").setVisible(true);e.byId("target_system_aliasInput").setVisible(true);e.byId("urlt_application_component").setVisible(false);e.byId("urlt_application_componentInput").setVisible(false);e.byId("target_urlt_system_alias").setVisible(false);e.byId("target_urlt_system_aliasInput").setVisible(false);e.byId("application_type_deprecated").setVisible(false)};A.displayURLApplicationTypeFields=function(e){e.byId("navigation_provider_role").setVisible(false);e.byId("navigation_provider_roleInput").setVisible(false);e.byId("navigation_provider_instance").setVisible(false);e.byId("navigation_provider_instanceInput").setVisible(false);e.byId("target_application_alias").setVisible(false);e.byId("target_application_aliasInput").setVisible(false);e.byId("target_application_id").setVisible(false);e.byId("target_application_idInput").setVisible(false);e.byId("application_description").setVisible(true);e.byId("target_application_descriptionInput").setVisible(true);e.byId("application_url").setVisible(true);e.byId("target_application_urlInput").setVisible(true);e.byId("application_component").setVisible(false);e.byId("target_application_componentInput").setVisible(false);e.byId("target_transaction").setVisible(false);e.byId("target_transactionInput").setVisible(false);e.byId("target_wcf_application_id").setVisible(false);e.byId("target_wcf_application_idInput").setVisible(false);e.byId("target_web_dynpro_application").setVisible(false);e.byId("target_web_dynpro_applicationInput").setVisible(false);e.byId("target_web_dynpro_configuration").setVisible(false);e.byId("target_web_dynpro_configurationInput").setVisible(false);e.byId("target_system_alias").setVisible(true);e.byId("target_system_aliasInput").setVisible(true);e.byId("urlt_application_component").setVisible(false);e.byId("urlt_application_componentInput").setVisible(false);e.byId("target_urlt_system_alias").setVisible(false);e.byId("target_urlt_system_aliasInput").setVisible(false);e.byId("application_type_deprecated").setVisible(false)};A.displayURLTApplicationTypeFields=function(e){e.byId("navigation_provider_role").setVisible(false);e.byId("navigation_provider_roleInput").setVisible(false);e.byId("navigation_provider_instance").setVisible(false);e.byId("navigation_provider_instanceInput").setVisible(false);e.byId("target_application_alias").setVisible(false);e.byId("target_application_aliasInput").setVisible(false);e.byId("target_application_id").setVisible(false);e.byId("target_application_idInput").setVisible(false);e.byId("application_description").setVisible(true);e.byId("target_application_descriptionInput").setVisible(true);e.byId("application_url").setVisible(false);e.byId("target_application_urlInput").setVisible(false);e.byId("application_component").setVisible(false);e.byId("target_application_componentInput").setVisible(false);e.byId("target_transaction").setVisible(false);e.byId("target_transactionInput").setVisible(false);e.byId("target_wcf_application_id").setVisible(false);e.byId("target_wcf_application_idInput").setVisible(false);e.byId("target_web_dynpro_application").setVisible(false);e.byId("target_web_dynpro_applicationInput").setVisible(false);e.byId("target_web_dynpro_configuration").setVisible(false);e.byId("target_web_dynpro_configurationInput").setVisible(false);e.byId("target_system_alias").setVisible(false);e.byId("target_system_aliasInput").setVisible(false);e.byId("urlt_application_component").setVisible(true);e.byId("urlt_application_componentInput").setVisible(true);e.byId("target_urlt_system_alias").setVisible(true);e.byId("target_urlt_system_aliasInput").setVisible(true);e.byId("application_type_deprecated").setVisible(false)};A.getAppLauncherConfig=function(t,a,n){let s;const o=t.configuration.getParameterValueAsString("tileConfiguration");let l;try{l=JSON.parse(o||"{}")}catch(e){x.error("Error while trying to parse tile configuration",e,"sap.ushell.components.tiles.utils");return{}}l.editable=true;if(t.configurationUi&&t.configurationUi.isReadOnly){if(t.configurationUi.isReadOnly()){l.editable=false}}const r=A.getTranslatedTitle(t);const c=A.getTranslatedSubtitle(t,l);const p=A.getTranslatedProperty(t,l,"display_info_text");const u=A.getTranslatedProperty(t,l,"display_search_keywords");if(a){s=A.getResourceBundle();if(n&&t.bag){const a=t.bag.getOriginalLanguage();const n=new i(e.getLanguageTag()).getSAPLogonLanguage();const s=e.getLanguage();l.isLocaleSuitable=a===""||a.toLowerCase()===n.toLowerCase()||a.toLowerCase()===s.toLowerCase();l.orgLocale=a;l.userLocale=n}}l.display_icon_url=l.display_icon_url||"";if(p!==undefined){l.display_info_text=p}else if(l.display_info_text===undefined){if(a&&!n){l.display_info_text=`[${s.getText("configuration.display_info_text")}]`}else{l.display_info_text=""}}l.navigation_semantic_object=l.navigation_semantic_object||"";l.navigation_semantic_action=l.navigation_semantic_action||"";l.navigation_semantic_parameters=l.navigation_semantic_parameters||"";l.display_number_unit=l.display_number_unit||"";l.display_number_factor=l.display_number_factor||"";l.service_refresh_interval=l.service_refresh_interval?parseInt(l.service_refresh_interval,10):0;l.service_url=l.service_url||"";l.navigation_target_url=l.navigation_target_url||"";if(a&&A.isInitial(r)){l.display_title_text=n?"":`[${s.getText("configuration.display_title_text")}]`;l.display_subtitle_text=n?"":`[${s.getText("configuration.display_subtitle_text")}]`}else{l.display_title_text=r||l.display_title_text||"";if(c!==undefined){l.display_subtitle_text=c}else if(l.display_subtitle_text===undefined){l.display_subtitle_text=""}}l.navigation_use_semantic_object=l.navigation_use_semantic_object!==false;l.display_search_keywords=u||l.display_search_keywords||"";if(a){l.display_number_value=l.display_number_value||1234}l.form_factors=l.form_factors?l.form_factors:A.getDefaultFormFactors();l.desktopChecked=l.form_factors.manual.desktop;l.tabletChecked=l.form_factors.manual.tablet;l.phoneChecked=l.form_factors.manual.phone;l.manualFormFactor=!l.form_factors.appDefault&&l.editable;l.appFormFactor=l.form_factors.appDefault;l.formFactorConfigDefault=!!l.form_factors.defaultParam;if(l.signature){l.rows=A.getSignatureTableData(l.signature,n&&l.editable)}else{l.rows=l.mapping_signature&&l.mapping_signature!=="*=*"?A.getMappingSignatureTableData(l.mapping_signature,n&&l.editable):[A.getEmptyRowObj(l.editable)]}if(l.signature){l.isUnknownAllowed=l.signature.additional_parameters==="allowed"||l.signature.additionalParameters==="allowed"}else{l.isUnknownAllowed=l.mapping_signature!==undefined?A.getAllowUnknownParametersValue(l.mapping_signature):true}if(a){l.tile_actions_rows=A.getTileNavigationActionsRows(t,l.editable)}else if(!l.actions){l.actions=A.getTileNavigationActions(t)}if(a){const e=t.bag.getBag("deprecationProperties");const i=e.getProperty("deprecation");let a=null;if(i){a=s.getText(i==="D"?"configuration.app_deprecated":"configuration.app_archived",[e.getProperty("successor")])}l.deprecation_text=a}return l};A.getDataToDisplay=function(e,t){let i=0;let a;let n;let s;let o;const l={display_icon_url:t.icon||e.display_icon_url||"",display_title_text:t.title||e.display_title_text||"",display_number_value:!isNaN(t.number)?t.number:"...",display_number_unit:t.numberUnit||e.display_number_unit||"",display_info_text:t.info||e.display_info_text||"",display_info_state:t.infoState||"Neutral",display_subtitle_text:t.subtitle||e.display_subtitle_text||"",display_state_arrow:t.stateArrow||"None",display_number_state:t.numberState||"None",display_number_digits:t.numberDigits>=0?t.numberDigits:4,display_number_factor:t.numberFactor||"",display_search_keyword:t.keywords||e.display_search_keyword||"",targetParams:[]};if(t.infoStatus){l.display_info_state=t.infoStatus}if(t.targetParams){l.targetParams.push(t.targetParams)}if(t.results){for(a=0,n=t.results.length;a<n;a=a+1){s=t.results[a].number||0;if(typeof s==="string"){s=parseFloat(s)}i=i+s;o=t.results[a].targetParams;if(o){l.targetParams.push(o)}}l.display_number_value=i}if(!isNaN(t.number)){if(typeof t.number==="string"){t.number=t.number.trim()}if(t.number===""){l.display_number_value="..."}else{const e=this._shouldProcessDigits(t.number,t.numberDigits);const i=l.display_icon_url?4:5;if(t.number&&t.number.toString().length>=i||e){const e=this._normalizeNumber(t.number,i,t.numberFactor,t.numberDigits);l.display_number_factor=e.numberFactor;l.display_number_value=e.displayNumber}else{const e=T.getFloatInstance({maxFractionDigits:i});l.display_number_value=e.format(t.number)}}}if(l&&l.display_number_state){switch(l.display_number_state){case"Positive":l.display_number_state="Good";break;case"Negative":l.display_number_state="Error";break}}return l};A._normalizeNumber=function(e,t,i,a){let n;if(isNaN(e)){n=e}else{const t=T.getFloatInstance({maxFractionDigits:a});if(!i){const t=Math.abs(e);if(t>=1e9){i="B";e/=1e9}else if(t>=1e6){i="M";e/=1e6}else if(t>=1e3){i="K";e/=1e3}}n=t.format(e)}let s=n;const o=s[t-1];t-=o==="."||o===","?1:0;s=s.substring(0,t);return{displayNumber:s,numberFactor:i}};A._shouldProcessDigits=function(e,t){let i;e=typeof e!=="string"?e.toString():e;if(e.indexOf(".")!==-1){i=e.split(".")[1].length;if(i>t){return true}}return false};A.getTileSettingsAction=function(e,t,i){const a=A.getResourceBundle();const n=!i||i==="tile"?"tileSettingsBtn":"linkSettingsBtn";return{id:n,text:a.getText(n),press:function(){return new Promise(n=>{sap.ui.require(["sap/m/Button","sap/m/Dialog","sap/ui/core/mvc/View","sap/ui/layout/form/SimpleForm","sap/ui/layout/library"],(s,o,r,c,p)=>{const u=p.form.SimpleFormLayout;const g={showGroupSelection:false,title:e.getProperty("/config/display_title_text"),subtitle:e.getProperty("/config/display_subtitle_text")};if(!i||i==="tile"){g.info=e.getProperty("/config/display_info_text");g.icon=e.getProperty("/config/display_icon_url");g.keywords=e.getProperty("/config/display_search_keywords")}else if(i==="link"){g.showInfo=false;g.showIcon=false;g.showPreview=false}r.create({viewName:"module:sap/ushell/ui/footerbar/SaveAsTile.view"}).then(e=>{const r=new l(g);e.setModel(r);const p=new c({id:"tileSettings",layout:u.GridLayout,content:[e]}).addStyleClass("sapUshellAddBookmarkForm");const d=new s("bookmarkOkBtn",{text:a.getText("okBtn"),type:C.Emphasized,press:function(){t(e);f.close()},enabled:true});const _=new s("bookmarkCancelBtn",{text:a.getText("cancelBtn"),press:function(){f.close()}});var f=new o({id:"settingsDialog",title:!i||i==="tile"?a.getText("tileSettingsDialogTitle"):a.getText("linkSettingsDialogTitle"),contentWidth:"400px",content:p,beginButton:d,endButton:_,horizontalScrolling:false,afterClose:function(){f.destroy()}}).addStyleClass("sapContrastPlus");function b(e){d.setEnabled(!!e.trim())}e.getTitleInput().attachLiveChange(function(){b(this.getValue())});f.open();n(f)})})})}}};A.getSemanticNavigationUrl=function(e){let t=`#${String(e.navigation_semantic_object||"").trim()}`;t+=`-${String(e.navigation_semantic_action||"").trim()}`;if(e.navigation_semantic_parameters&&String(e.navigation_semantic_parameters||"").trim().length>0){t+=`?${String(e.navigation_semantic_parameters||"").trim()}`}return t};A.addParamsToUrl=function(e,t){let i="";const a=e.indexOf("?")!==-1;const n=t.targetParams;let s;if(n&&n.length>0){for(s=0;s<n.length;s=s+1){i+=n[s];if(s<n.length-1){i+="&"}}}if(i.length>0){if(!a){e+="?"}else{e+="&"}e+=i}return e};return A},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/visualizationOrganizer/Component", ["sap/base/Log","sap/m/library","sap/m/MessageBox","sap/m/GroupHeaderListItem","sap/ui/core/Element","sap/ui/core/UIComponent","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/json/JSONModel","sap/ushell/Config","sap/ushell/Container","sap/ushell/library","sap/ushell/resources"],(e,t,i,n,s,o,a,r,l,c,g,u,d)=>{"use strict";const h=t.ButtonType;const p=u.ContentNodeType;return o.extend("sap.ushell.components.visualizationOrganizer.Component",{metadata:{version:"1.141.1",library:"sap.ushell",dependencies:{libs:["sap.m"]},properties:{pressed:{type:"boolean",group:"Misc",defaultValue:false}}},init:function(){o.prototype.init.apply(this,arguments);this.aPersonalizablePages=[];this.mVizIdInPages=new Map;this.stVizIdInSection=new Set},requestData:function(){const e=!c.last("/core/shell/enablePersonalization")&&c.last("/core/spaces/myHome/enabled");const t=c.last("/core/spaces/myHome/myHomePageId");return g.getServiceAsync("CommonDataModel").then(e=>e.getAllPages()).then(i=>{if(e){i=i.filter(e=>e.identification.id===t)}this.aPersonalizablePages=i.map(e=>({id:e.identification.id,title:e.identification.title}));this._fillVizIdMaps(i);return this.aPersonalizablePages})},_fillVizIdMaps:function(e){this.mVizIdInPages=new Map;e.forEach(e=>{Object.keys(e.payload.sections).forEach(t=>{Object.keys(e.payload.sections[t].viz).forEach(i=>{const n=e.payload.sections[t].viz[i].vizId;if(this.mVizIdInPages.has(n)){this.mVizIdInPages.get(n).add(e.identification.id)}else{this.mVizIdInPages.set(n,new Set([e.identification.id]))}})})})},isVizIdPresent:function(e,t){if(t){return this.stVizIdInSection.has(e)}const i=this.mVizIdInPages.get(e);return!!(i&&i.size)},formatPinButtonIcon:function(e,t){return this.isVizIdPresent(decodeURIComponent(e),t)?"sap-icon://accept":"sap-icon://add"},formatPinButtonType:function(e,t){return this.isVizIdPresent(decodeURIComponent(e),t)?h.Emphasized:h.Default},formatPinButtonTooltip:function(e,t){const i=this.isVizIdPresent(decodeURIComponent(e),!!t);if(!t&&i){return d.i18n.getText("EasyAccessMenu_PinButton_Toggled_Tooltip")}if(!t&&!i){return d.i18n.getText("EasyAccessMenu_PinButton_UnToggled_Tooltip")}if(t.sectionID&&i){return d.i18n.getText("VisualizationOrganizer.Button.Tooltip.RemoveFromSection")}if(t.sectionID&&!i){return d.i18n.getText("VisualizationOrganizer.Button.Tooltip.AddToSection")}if(!t.sectionID&&i){return d.i18n.getText("VisualizationOrganizer.Button.Tooltip.RemoveFromPage",[t.pageTitle])}return d.i18n.getText("VisualizationOrganizer.Button.Tooltip.AddToPage",[t.pageTitle])},onTilePinButtonClick:function(e,t){const i=e.getSource();const n=i.getBindingContext().getProperty();if(i.getBusy()){return Promise.resolve()}if(t){i.setBusy(true);return this._applyOrganizationChangeToSection(i,n,t).then(()=>{i.setBusy(false)})}if(this.aPersonalizablePages.length===1){i.setBusy(true);return this._applyChangeToPage(i,n,this.aPersonalizablePages[0]).then(()=>{i.setBusy(false)})}return this.toggle(i,n)},open:function(e,t){let i=s.getElementById("sapUshellVisualizationOrganizerPopover");let n=Promise.resolve();if(!i){n=new Promise((e,t)=>{sap.ui.require(["sap/ui/core/Fragment"],i=>{i.load({name:"sap.ushell.components.visualizationOrganizer.VisualizationOrganizerPopover",type:"XML",controller:this}).then(e).catch(t)})}).then(e=>{i=e;i.setModel(new l({pages:[],searchTerm:""}));i.setModel(d.i18nModel,"i18n")})}return n.then(()=>{this.oOpenBy=e;this.sVisualizationId=decodeURIComponent(t.id);this.sVisualizationTitle=t.title;this.oVizInfo=t;this.fnResetPopup=this._resetPopup.bind(this);i.attachAfterClose(this.fnResetPopup);return Promise.all([g.getServiceAsync("Menu"),g.getServiceAsync("Pages")]).then(e=>{let i;const n=e[0];const s=e[1];if(t.isBookmark){i=s._findBookmarks({url:t.url}).then(e=>{const t=e.map(e=>e.pageId);return Promise.resolve(new Set(t))})}else{i=this.mVizIdInPages.get(this.sVisualizationId)}return Promise.all([n.getContentNodes([p.Space,p.Page]),i])}).then(t=>{let n=t[0];const s=t[1];const o=!c.last("/core/shell/enablePersonalization")&&c.last("/core/spaces/myHome/enabled");const a=c.last("/core/spaces/myHome/myHomeSpaceId");const r=[];n=this._filterPersonalizableContentNodes(n);n.forEach(e=>{if(o&&e.id!==a){return}e.children.forEach(t=>{if(!this._isPersonalizablePage(t.id)){return}r.push({id:t.id,title:t.label,space:e.label,spaceId:e.id,selected:s&&s.has(t.id)})})});const l=i.getModel();l.setProperty("/pages",r);l.setProperty("/pinnedPages",s);this._updatePagesList();i.openBy(e)})})},_filterPersonalizableContentNodes:function(e){if(!Array.isArray(e)){return[]}return e.reduce((e,t)=>{t.children=this._filterPersonalizableContentNodes(t.children);if(t.type===p.HomepageGroup||t.type===p.Space||t.type===p.Page&&t.isContainer){e.push(t)}return e},[])},cancel:function(){const e=s.getElementById("sapUshellVisualizationOrganizerPopover");const t=this._retrieveChangedPageIds();if(e&&t.deleteFromPageIds.length===0&&t.addToPageIds.length===0){e.close()}else{i.show(d.i18n.getText("VisualizationOrganizer.MessageBox.Description"),{id:"sapUshellVisualizationOrganizerDiscardDialog",title:d.i18n.getText("VisualizationOrganizer.MessageBox.Title"),actions:[d.i18n.getText("VisualizationOrganizer.MessageBox.ActionDiscard"),i.Action.CANCEL],emphasizedAction:d.i18n.getText("VisualizationOrganizer.MessageBox.ActionDiscard"),onClose:function(t){if(t===d.i18n.getText("VisualizationOrganizer.MessageBox.ActionDiscard")){e.close()}}})}},toggle:function(e,t){const i=s.getElementById("sapUshellVisualizationOrganizerPopover");if(i&&i.isOpen()&&i._oOpenBy&&i._oOpenBy.getId()===e.getId()){this.cancel();return Promise.resolve()}return this.open(e,t)},_applyOrganizationChangeToSection:function(e,t,i){return g.getServiceAsync("Pages").then(n=>{let s;const o=decodeURIComponent(t.id);const a=t.title;const r=i.pageID;const l=i.sectionID;const c=this._getTextMsgSectionContext(i,o,a);if(this.stVizIdInSection.has(o)){s=n.findVisualization(r,l,o).then(e=>{if(e.length===0){return Promise.resolve()}let t;const i=n.getPageIndex(r);const s=e.sort((e,t)=>t.sectionIndex-e.sectionIndex);s.forEach(e=>{e.vizIndexes.sort((e,t)=>t-e)});s.forEach(e=>{const s=e.sectionIndex;e.vizIndexes.forEach(e=>{if(!t){t=n.deleteVisualization(i,s,e)}else{t=t.then(()=>n.deleteVisualization(i,s,e))}})});return t}).then(()=>{this.stVizIdInSection.delete(o)})}else{s=n.addVisualization(r,l,o).then(()=>{this.stVizIdInSection.add(o)})}return s.then(()=>{e.getBinding("icon")?.refresh(true);e.getBinding("type")?.refresh(true);e.getBinding("tooltip")?.refresh(true);sap.ui.require(["sap/m/MessageToast"],e=>{e.show(c,{offset:"0 -50"})})})})},_getTextMsgSectionContext:function(e,t,i){const n=e.sectionID;const s=e.sectionTitle;const o=e.pageTitle;if(n&&this.stVizIdInSection.has(t)){return d.i18n.getText("VisualizationOrganizer.MessageToastSectionContextRemove",[i||t,s,o])}if(n&&!this.stVizIdInSection.has(t)){return d.i18n.getText("VisualizationOrganizer.MessageToastSectionContextAdd",[i||t,s,o])}if(!n&&this.stVizIdInSection.has(t)){return d.i18n.getText("VisualizationOrganizer.MessageToastPageRemove",[i||t,o])}if(!n&&!this.stVizIdInSection.has(t)){return d.i18n.getText("VisualizationOrganizer.MessageToastPageAdd",[i||t,o])}},_organizeVisualizations:function(){const e=this._retrieveChangedPageIds();if(this.oVizInfo.isBookmark){return this._applyBookmarkOrganizationChange(e,true)}return this._applyOrganizationChange(e,true)},_applyOrganizationChange:function(e,t){const i=e.addToPageIds.length+e.deleteFromPageIds.length;if(!i){return Promise.resolve()}const n=this.sVisualizationId;const s=this.oOpenBy;const o=new Set;let a;let r=g.getServiceAsync("Pages").then(e=>{a=e});e.deleteFromPageIds.forEach(e=>{if(!o.has(e)){o.add(e);r=r.then(()=>a.findVisualization(e,null,n).then(e=>{const t=[];for(let i=e.length-1;i>=0;i--){const n=e[i];const s=a.getPageIndex(n.pageId);for(let e=n.vizIndexes.length-1;e>=0;e--){const i=n.vizIndexes[e];t.push(a.deleteVisualization(s,n.sectionIndex,i))}}return Promise.all(t)}))}this.mVizIdInPages.get(n).delete(e)});e.addToPageIds.forEach(e=>{r=r.then(()=>a.addVisualization(e,null,n));if(this.mVizIdInPages.has(n)){this.mVizIdInPages.get(n).add(e)}else{this.mVizIdInPages.set(n,new Set([e]))}});return r.then(()=>{if(s){s.getBinding("icon")?.refresh(true);s.getBinding("type")?.refresh(true);s.getBinding("tooltip")?.refresh(true)}if(t){sap.ui.require(["sap/m/MessageToast"],e=>{e.show(d.i18n.getText("VisualizationOrganizer.MessageToast"))})}})},_resetPopup:function(e){const t=s.getElementById("sapUshellVisualizationOrganizerPopover");const i=s.getElementById("sapUshellVisualizationOrganizerSpacesList");const n=s.getElementById("sapUshellVisualizationOrganizerSearch");const o=s.getElementById("sapUshellVisualizationOrganizerSelectedPages");t.detachAfterClose(this.fnResetPopup);n.setValue("");o.setType(h.Default);i.getBinding("items").filter(null);i.removeSelections();delete this.fnResetPopup;delete this.sVisualizationId;delete this.sVisualizationTitle},onSelectionChange:function(e){const t=e.getParameter("listItem");const i=e.getParameter("selected");this._changeSelectionForAllPagesWithTheSamePageId(t,i)},_changeSelectionForAllPagesWithTheSamePageId:function(e,t){const i=e.getModel();const n=e.getBindingContext();const s=n.getProperty("id");const o=t!==undefined?t:!n.getProperty("selected");const a=i.getProperty("/pages");for(let e=0;e<a.length;e++){const t=a[e];if(t.id===s){t.selected=o}}i.setProperty("/pages",a)},_onSearch:function(e){const t=s.getElementById("sapUshellVisualizationOrganizerSelectedPages");let i=this.getPressed();if(e.sId==="press"){i=!i;this.setPressed(i);t.setPressed(i)}this._updatePagesList()},_updatePagesList:function(){const e=s.getElementById("sapUshellVisualizationOrganizerSpacesList");const t=s.getElementById("sapUshellVisualizationOrganizerSearch");const i=e.getBinding("items");const n=t.getValue();const o=this.getPressed();if(o){i.filter(new a({filters:[new a({filters:[new a({path:"title",operator:r.Contains,value1:n}),new a({path:"selected",operator:r.EQ,value1:o})],and:true}),new a({filters:[new a({path:"space",operator:r.Contains,value1:n}),new a({path:"selected",operator:r.EQ,value1:o})],and:true})],and:false}))}else{i.filter(new a({filters:[new a({path:"title",operator:r.Contains,value1:n}),new a({path:"space",operator:r.Contains,value1:n})],and:false}))}if(i.getLength()===0){e.setNoDataText(d.i18n.getText(n?"VisualizationOrganizer.PagesList.NoResultsText":"VisualizationOrganizer.PagesList.NoDataText"))}},loadSectionContext:function(t){this.stVizIdInSection.clear();if(!t||!t.pageID){return Promise.resolve(null)}return g.getServiceAsync("Pages").then(i=>{const n=decodeURIComponent(t.pageID);const s=t.sectionID?decodeURIComponent(t.sectionID):"";return i.loadPage(n).then(e=>{const t=i.getModel().getProperty(e);const n=this._createSectionContext(t,s);return n}).catch(()=>{e.warning(`${n} cannot be loaded. Please, check the id of the page.`);return Promise.resolve(null)})})},_createSectionContext:function(e,t){const i=e.sections;let n;if(t){n=i.find(e=>e.id===t);this._initVizIdsInSection(n);return{pageID:e.id,sectionID:t,pageTitle:e.title,sectionTitle:n.title}}i.forEach(e=>{this._initVizIdsInSection(e)});return{pageID:e.id,sectionID:t,pageTitle:e.title}},_initVizIdsInSection:function(e){e.visualizations.forEach(e=>{this.stVizIdInSection.add(e.vizId)})},getPersonalizablePages:function(){return this.aPersonalizablePages},_isPersonalizablePage:function(e){const t=this.aPersonalizablePages.findIndex(t=>t.id===e);return t>-1},_retrieveChangedPageIds:function(){const e=s.getElementById("sapUshellVisualizationOrganizerSpacesList");const t=s.getElementById("sapUshellVisualizationOrganizerSearch");const i=e.getModel();const n=i.getProperty("/pinnedPages")||new Set;e.getBinding("items").filter(null);const o=e.getItems().filter(e=>e.isA("sap.m.StandardListItem"));t.fireSearch();const a={};const r=[];const l=[];o.forEach(e=>{const t=e.getBindingContext().getProperty("id");if(!a[t]){a[t]=true;if(e.getSelected()&&!n.has(t)){r.push(t)}else if(!e.getSelected()&&n.has(t)){l.push(t)}}});return{addToPageIds:r,deleteFromPageIds:l}},okay:function(){const t=s.getElementById("sapUshellVisualizationOrganizerPopover");if(t.getBusy()){return}t.setBusy(true);this._organizeVisualizations().then(()=>{t.setBusy(false);t.close()}).catch(t=>{e.error("Could not save the selected pages on the VisualizationOrganizerPopover",t)})},onHierarchyAppsPinButtonClick:function(e,t){const i=e.getSource();const n=i.getParent().getBinding("title").getContext().getObject();if(i.getBusy()){return Promise.resolve(false)}n.isBookmark=true;n.title=n.text;if(t){i.setBusy(true);return this._applyBookmarkTileChangeToSection(n,t).then(()=>{i.setBusy(false);return Promise.resolve(true)})}if(this.aPersonalizablePages.length===1){i.setBusy(true);return this._applyChangeToPage(i,n,this.aPersonalizablePages[0]).then(()=>{i.setBusy(false);return Promise.resolve(true)})}return new Promise(e=>{this.toggle(i,n).then(()=>{const t=s.getElementById("sapUshellVisualizationOrganizerPopover");if(t&&t.isOpen()){t.attachEventOnce("afterClose",()=>{e(true)})}else{e(false)}})})},_applyBookmarkOrganizationChange:function(e,t){const i=e.addToPageIds.length+e.deleteFromPageIds.length;if(!i){return Promise.resolve()}const n=this.oVizInfo;const s=new Set;let o;let a;let r=Promise.all([g.getServiceAsync("BookmarkV2"),g.getServiceAsync("Pages")]).then(e=>{o=e[0];a=e[1];return Promise.resolve()});e.deleteFromPageIds.forEach(e=>{if(!s.has(e)){s.add(e);r=r.then(()=>a.deleteBookmarks({url:n.url},e))}});e.addToPageIds.forEach(e=>{r=r.then(()=>{const t={url:n.url,title:n.text,subtitle:n.subtitle,icon:n.icon};const i={type:u.ContentNodeType.Page,id:e,isContainer:true};return o.addBookmark(t,i)})});return r.then(()=>{if(t){sap.ui.require(["sap/m/MessageToast"],e=>{e.show(d.i18n.getText("VisualizationOrganizer.MessageToast"))})}})},_applyBookmarkTileChangeToSection:function(e,t){return g.getServiceAsync("Pages").then(i=>{let n;let s;const o=e.url;const a=e.title;const r=t.pageID;const l=t.sectionID;if(e.bookmarkCount>0){s=d.i18n.getText("VisualizationOrganizer.MessageToastSectionContextRemove",[a,t.sectionTitle,t.pageTitle]);n=i.deleteBookmarks({url:o},r,l)}else{const c={url:o,title:e.text,subtitle:e.subtitle,icon:e.icon};s=d.i18n.getText("VisualizationOrganizer.MessageToastSectionContextAdd",[a,t.sectionTitle,t.pageTitle]);n=i.addBookmarkToPage(r,c,l)}return n.then(()=>{sap.ui.require(["sap/m/MessageToast"],e=>{e.show(s,{offset:"0 -50"})})})})},updateBookmarkCount:function(e,t){return g.getServiceAsync("Pages").then(i=>{const n=e.map(e=>i._findBookmarks({url:e.url}).then(i=>{if(t){i=i.filter(e=>t.pageID===e.pageId&&t.sectionID===e.sectionId)}e.bookmarkCount=i.length;return e}));return Promise.all(n)})},formatBookmarkPinButtonTooltip:function(e,t){let i;if(t){if(e>0){i="VisualizationOrganizer.Button.Tooltip.RemoveFromSection"}else{i="VisualizationOrganizer.Button.Tooltip.AddToSection"}}else if(e>0){i="EasyAccessMenu_PinButton_Toggled_Tooltip"}else{i="EasyAccessMenu_PinButton_UnToggled_Tooltip"}return d.i18n.getText(i)},_applyChangeToPage:function(e,t,i){const n=decodeURIComponent(t.id);const s=t.title;const o=i.id;const a=t.isBookmark?t.bookmarkCount>0:this.isVizIdPresent(n);const r={addToPageIds:a?[]:[o],deleteFromPageIds:a?[o]:[]};const l=d.i18n.getText(a?"VisualizationOrganizer.MessageToastPageRemove":"VisualizationOrganizer.MessageToastPageAdd",[s||n,i.title]);this.oVizInfo=t;this.sVisualizationId=n;let c;if(t.isBookmark){c=this._applyBookmarkOrganizationChange(r,false)}else{c=this._applyOrganizationChange(r,false)}return c.then(()=>{e.getBinding("icon")?.refresh(true);e.getBinding("type")?.refresh(true);e.getBinding("tooltip")?.refresh(true);sap.ui.require(["sap/m/MessageToast"],e=>{e.show(l,{offset:"0 -50"})})})},groupBySpace:function(e){return{key:e.getProperty("spaceId"),title:e.getProperty("space")}},getGroupHeader:function(e){return new n({title:e.title})},exit:function(){const e=s.getElementById("sapUshellVisualizationOrganizerPopover");if(e){e.destroy()}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/workPageBuilder/Component", ["sap/ui/core/UIComponent"],t=>{"use strict";return t.extend("sap.ushell.components.workPageBuilder.Component",{metadata:{manifest:"json",library:"sap.ushell",interfaces:["sap.ui.core.IAsyncContentCreation"],events:{workPageEdited:{},visualizationFilterApplied:{parameters:{filters:{type:"array"}}},closeEditMode:{parameters:{saveChanges:{type:"boolean"}}}}},init:function(){t.prototype.init.apply(this,arguments)},getEditMode:function(){return this.getRootControl().getController().getEditMode()},setEditMode:function(t){this.getRootControl().getController().setEditMode(t)},setPreviewMode:function(t){this.getRootControl().getController().setPreviewMode(t)},getPreviewMode:function(){return this.getRootControl().getController().getPreviewMode()},getPageData:function(){return this.getRootControl().getController().getPageData()},setPageData:async function(t){this.getRootControl().getController().setPageData(t)},setVisualizationData:function(t){return this.getRootControl().getController().setVisualizationData(t)},setCategoryTree:async function(t){return this.getRootControl().getController().setCategoryTree(t)},getNavigationDisabled:function(){return this.getRootControl().getController().getNavigationDisabled()},setNavigationDisabled:function(t){this.getRootControl().getController().setNavigationDisabled(t)},getUshellContainer:function(){return sap.ui.require("sap/ushell/Container")||window.parent.sap.ui.require("sap/ushell/Container")},setShowFooter:function(t){this.getRootControl().getController().setShowFooter(t)},setShowPageTitle:function(t){this.getRootControl().getController().setShowPageTitle(t)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/workPageBuilder/controller/WorkPageBuilder.accessibility", ["sap/f/library"],t=>{"use strict";const o=t.NavigationDirection;function e(){this._oFocusHistory={oLastGrid:null,sLastDirection:null,iLastRow:null,iTargetRow:null};this._bInitialItemFocused=false}e.prototype._handleBorderReached=function(t,o){const e=this._getCurrentFocusElement();const i=t.getSource().getAggregation("_gridContainer");const s=t.getParameter("direction");const r=t.getParameter("row");const n=t.getParameter("column");if(this._isOppositeDirection(s)&&this._oFocusHistory.oLastGrid&&!this._oFocusHistory.oLastGrid.isDestroyed()&&r===this._oFocusHistory.iTargetRow){this._oFocusHistory.oLastGrid.focusItemByDirection(s,this._oFocusHistory.iLastRow,n);this._saveFocusHistory(i,s,r)}else{const t=this._findNextGrid(e,o,s);if(t){const o=this._findSuitableRowInGrid(t,e,s);t.focusItemByDirection(s,o,n);this._saveFocusHistory(i,s,r,o)}}};e.prototype._isOppositeDirection=function(t){switch(this._oFocusHistory.sLastDirection){case o.Right:return t===o.Left;case o.Left:return t===o.Right;case o.Up:return t===o.Down;case o.Down:return t===o.Up;default:return false}};e.prototype._findNextGrid=function(t,o,e){const i=this._getAllGrids(o);const s=[];i.forEach(o=>{if(o===t){return}const i=this._getDistanceToElementInDirection(t,o.getDomRef(),e);if(i){s.push({oGrid:o,iDistance:i})}});const r=s.sort((t,o)=>t.iDistance-o.iDistance);return r[0]?r[0].oGrid:null};e.prototype._getAllGrids=function(t){const o=t.getRows();const e=[];o.forEach(t=>{const o=t.getColumns();o.forEach(t=>{const o=t.getCells();o.forEach(t=>{const o=t.getAggregation("_gridContainer");if(o){e.push(o)}})})});return e};e.prototype._findSuitableRowInGrid=function(t,o,e){const i=t.getNavigationMatrix();let s;const r=i.findIndex(t=>t.find(t=>{if(t===false||t===s){return false}s=t;if(this._getDistanceToElementInDirection(o,t,e)!==null){return true}}));return r>=0?r:0};e.prototype._getDistanceToElementInDirection=function(t,e,i){const s=e.getBoundingClientRect();const r=t.getBoundingClientRect();switch(i){case o.Right:if(r.right<s.left&&r.bottom>s.top&&r.top<s.bottom){return s.left-r.right}break;case o.Left:if(r.left>s.right&&r.bottom>s.top&&r.top<s.bottom){return r.left-s.right}break;case o.Down:if(r.bottom<s.top&&r.left<s.right&&r.right>s.left){return s.top-r.bottom}break;case o.Up:if(r.top>s.bottom&&r.left<s.right&&r.right>s.left){return r.top-s.bottom}break;default:break}return null};e.prototype._saveFocusHistory=function(t,o,e,i){this._oFocusHistory.oLastGrid=t;this._oFocusHistory.sLastDirection=o;this._oFocusHistory.iLastRow=e;this._oFocusHistory.iTargetRow=i};e.prototype._getCurrentFocusElement=function(){return document.activeElement};e.prototype.focusFirstItem=function(t){const o=this._getAllGrids(t);const e=o.find(t=>t.getItems().length>0);if(e&&!this._bInitialItemFocused){this._bInitialItemFocused=true;const t=e.getItems()[0];const o=t.getDomRef();if(o){const t=o.closest(".sapFGridContainerItemWrapper");if(t){t.focus({preventScroll:true})}}}};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/workPageBuilder/controller/WorkPageBuilder.controller", ["sap/base/Log","sap/base/i18n/Localization","sap/base/util/ObjectPath","sap/base/util/deepExtend","sap/f/GridContainerItemLayoutData","sap/m/library","sap/ui/core/Element","sap/ui/core/Fragment","sap/ui/core/InvisibleMessage","sap/ui/core/library","sap/ui/core/mvc/Controller","sap/ui/integration/ActionDefinition","sap/ushell/utils/workpage/WorkPageHost","sap/ui/integration/widgets/Card","sap/ui/model/json/JSONModel","sap/ushell/adapters/cdm/v3/_LaunchPage/readUtils","sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations","sap/ushell/adapters/cdm/v3/utilsCdm","sap/ushell/ui/launchpad/VizInstanceCdm","sap/ushell/utils","sap/ushell/utils/workpage/WorkPageVizInstantiation","sap/ushell/components/workPageBuilder/controller/WorkPageBuilder.accessibility","sap/ushell/components/workPageBuilder/controller/WorkPageBuilder.layout","sap/ui/integration/library"],(e,t,o,i,n,s,r,a,l,d,c,g,u,h,p,f,C,P,m,w,v,D,y,_)=>{"use strict";const M=d.ValueState;const E=["PR","CO","PG"];const V=6;const k=24;const z=2;const A=4;const b=s.LoadState;const x=d.InvisibleMessageMode;const B=_.CardPreviewMode;return c.extend("sap.ushell.components.workPageBuilder.controller.WorkPageBuilder",{onInit:async function(){const e=this.byId("workPage");this._fnDeleteRowHandler=this.deleteRow.bind(this);this._fnDeleteCellHandler=this.deleteCell.bind(this);this._fnSaveCardConfiguration=this._onSaveCardEditor.bind(this);this._fnResetCardConfiguration=this._onResetCardConfigurations.bind(this);this.oModel=new p({maxColumns:A,editMode:false,previewMode:false,loaded:false,navigationDisabled:false,showFooter:false,showPageTitle:true,data:{workPage:null,visualizations:[],usedVisualizations:[]}});this.oModel.setSizeLimit(Infinity);this._saveHost();e.bindElement({path:"/data/workPage"});this.oWorkPageBuilderAccessibility=new D;this.oWorkPageVizInstantiation=await v.getInstance();this.getView().setModel(this.oModel);y.register(e);this.getView().setModel(y.getModel(),"viewSettings");this.oContentFinderPromise=new Promise(e=>{this.fnContentFinderPromiseResolve=e})},_onVisualizationFilterApplied:function(e){this.getOwnerComponent().fireEvent("visualizationFilterApplied",e.getParameters())},onExit:function(){y.deregister();if(this.oContentFinderPromise){this.oContentFinderPromise.then(e=>{e.destroy()})}if(this.oCardEditorDialogPromise){this.oCardEditorDialogPromise.then(e=>{e.destroy()})}if(this.oCardResetDialogPromise){this.oCardResetDialogPromise.then(e=>{e.destroy()})}if(this.oDeleteCell){this.oDeleteCell.then(e=>{e.destroy()})}if(this.oLoadDeleteDialog){this.oLoadDeleteDialog.then(e=>{e.destroy()})}},onGridContainerBorderReached:function(e){const t=this.byId("workPage");this.oWorkPageBuilderAccessibility._handleBorderReached(e,t)},onAddColumn:function(e){const t=this.getView().getModel();const o=e.getSource();const i=o.getParent();const n=i.indexOfAggregation("columns",o);const s=i.getBindingContext().getPath();const r=`${s}/columns/`;const a=`${o.getBindingContext().getPath()}/descriptor/value/columnWidth`;const l=t.getProperty(r);const d=l.length;const c=e.getParameter("left");if(d>=A){return}const g=o.getProperty("columnWidth");const u=Math.floor(g/2)>=V?Math.floor(g/2):V;const h=u%2;t.setProperty(a,u+h);const p=i.indexOfAggregation("columns",o)+(c===true?0:1);const f=this._createEmptyColumn(u-h);const C=[l.slice(0,p),f,l.slice(p)].flat();const P=C.reduce((e,t)=>e+this._getColumnWidth(t),0);if(P>k){this._calculateColWidths(C,n,P)}t.setProperty(r,C);this.getOwnerComponent().fireEvent("workPageEdited")},focusFirstItem:function(e){const t=e.getSource();this.oWorkPageBuilderAccessibility.focusFirstItem(t)},setEditMode:function(e){this.oModel.setProperty("/editMode",!!e)},setPreviewMode:function(e){this.oModel.setProperty("/previewMode",!!e)},getPreviewMode:function(){return this.oModel.getProperty("/previewMode")},getEditMode:function(){return this.oModel.getProperty("/editMode")},setShowFooter:function(e){this.oModel.setProperty("/showFooter",!!e)},setShowPageTitle:function(e){this.oModel.setProperty("/showPageTitle",!!e)},setPageData:function(e){let t={};const i=o.get("workPage.usedVisualizations.nodes",e);const n=o.get("workPage.contents",e);if(i&&i.length>0){t=i.reduce((e,t)=>{e[t.id]=t;return e},{})}this.oModel.setProperty("/data/usedVisualizations",t);this.oModel.setProperty("/data/workPage",n);this.oModel.setProperty("/loaded",true)},getPageData:function(){const e=this.oModel.getProperty("/data/usedVisualizations")||{};return{workPage:{contents:this.oModel.getProperty("/data/workPage"),usedVisualizations:{nodes:Object.values(e)}}}},setVisualizationData:function(e){return this.oContentFinderPromise.then(t=>{t.setVisualizationData(e)})},setCategoryTree:function(e){return this.oContentFinderPromise.then(t=>{t.setCategoryTree(e)})},onGridColumnsChange:function(e){const t=e.getParameter("columns");const o=e.getSource();o.getWidgets().filter(e=>e.isA("sap.ui.integration.widgets.Card")).forEach(e=>{e.setLayoutData(new n({columns:t,minRows:1}))})},onDeleteColumn:function(e){const t=this.getView().getModel();const o=e.getSource();const i=o.getColumnWidth();const n=o.getParent();const s=n.indexOfAggregation("columns",o);const r=n.getBindingContext().getPath();const a=`${r}/columns/`;const l=t.getProperty(a);const d=l.filter((e,t)=>t!==s);let c=i/2;let g=s-1<0?s:s-1;while(c>0){const e=d[g];this._setColumnWidth(e,this._getColumnWidth(e)+z);g=++g>=d.length?0:g++;c--}t.setProperty(a,d);n.invalidate();this.getOwnerComponent().fireEvent("workPageEdited")},onAddFirstRow:function(){const e="/data/workPage/rows/";this.getView().getModel().setProperty(e,[this._createEmptyRow()]);this.getOwnerComponent().fireEvent("workPageEdited")},onAddRow:function(e){const t=this.getView().getModel();const o=e.getSource();const i=this.byId("workPage");const n="/data/workPage/rows/";const s=t.getProperty(n);const r=this._createEmptyRow();const a=i.indexOfAggregation("rows",o)+(e.getParameter("bottom")===true?1:0);const l=[s.slice(0,a),r,s.slice(a)].flat();t.setProperty(n,l);this.getOwnerComponent().fireEvent("workPageEdited")},onResize:function(e){const o=e.getParameter("posXDiff");const i=e.getSource();const n=i.getParent();const s=n.getSingleColumnWidth();if(s<=0){return}const r=t.getRTL();const a=o/s;if(a>-1&&a<1){return}const l=a<0?Math.floor(o/s):Math.ceil(o/s);const d=l>=0?"right":"left";let c=d==="right"?z:-z;const g=n.indexOfAggregation("columns",i);const u=g-1;const h=n.getColumnFlexValues();c=r?c:-c;if(!this._resizeAllowed(h.length,h[u],h[g],c)){return}h[u]-=c;h[g]+=c;n.setGridLayoutString(h);this._updateModelWithColumnWidths(n,u,g,h[u],h[g])},_resizeAllowed:function(e,t,o,i){const n=this.getView().getModel("viewSettings");const s=n.getProperty("/currentBreakpoint/columnMinFlex");if(t-i<s){return false}if(o+i<s){return false}const r=n.getProperty("/currentBreakpoint/maxColumnsPerRow");if(e>r){return false}return true},onResizeCompleted:function(){this.getOwnerComponent().fireEvent("workPageEdited")},onDeleteCell:function(e){const t=e.getSource().getParent().getParent();const o=t.getWidgets();if(o?.[0]&&o.length===1&&o[0].isA("sap.ui.integration.widgets.Card")){return this.deleteCell(e,{cell:t,dialog:false})}if(!this.oDeleteCell){const e=this.getOwnerComponent().getRootControl();this.oDeleteCell=a.load({id:e.createId("cellDeleteDialog"),name:"sap.ushell.components.workPageBuilder.view.WorkPageCellDeleteDialog",controller:this}).then(e=>{e.setModel(this.getView().getModel("i18n"),"i18n");return e})}return this.oDeleteCell.then(e=>{e.getBeginButton().detachEvent("press",this._fnDeleteCellHandler);e.getBeginButton().attachEvent("press",{cell:t,dialog:true},this._fnDeleteCellHandler);e.open()})},deleteCell:function(e,t){const o=t.cell;const i=this.getView().getModel();const n=o.getParent();const s=n.indexOfAggregation("cells",o);const r=`${n.getBindingContext().getPath()}/cells`;const a=i.getProperty(r);const l=a.filter((e,t)=>t!==s);i.setProperty(r,l);this.getOwnerComponent().fireEvent("workPageEdited");if(t.dialog){return this.oDeleteCell.then(e=>{e.close()})}return Promise.resolve()},_deleteVisualization:function(e){const t=e.getParent().getParent();const o=e.getBindingContext();const i=o.getPath();const n=this.getView().getModel();const s=i.substring(0,i.lastIndexOf("/"));const r=t.indexOfAggregation("widgets",e);const a=n.getProperty(s);const l=a.filter((e,t)=>t!==r);n.setProperty(s,l);this.getOwnerComponent().fireEvent("workPageEdited")},onEditTitle:function(){this.getOwnerComponent().fireEvent("workPageEdited")},onWidgetAdded:function(){this.getOwnerComponent().fireEvent("workPageEdited")},onContentFinderComponentCreated:async function(e){const t=e.getParameter("component");t.attachContentFinderClosed(null,function(){t?.detachVisualizationsAdded(this._onAddVisualization,this);t?.detachVisualizationFilterApplied(this._onVisualizationFilterApplied,this);t?.setContextData({restrictedVisualizations:[]})},this);this.fnContentFinderPromiseResolve(t)},openContentFinder:function(e){const t=e.getSource();const o=this.getView().getModel("i18n").getResourceBundle();return this.oContentFinderPromise.then(e=>{e.attachVisualizationsAdded(t,this._onAddVisualization,this);e.attachVisualizationFilterApplied(t,this._onVisualizationFilterApplied,this);e.show({visualizationFilters:{displayed:["tiles","cards"],selected:"tiles",available:[{key:"tiles",title:o.getText("ContentFinder.AppSearch.VisualizationsFilter.Tiles"),types:["sap.ushell.StaticAppLauncher","sap.ushell.DynamicAppLauncher"]},{key:"cards",title:o.getText("ContentFinder.AppSearch.VisualizationsFilter.Cards"),types:["sap.card"]}]}})})},openTilesAppSearch:function(e){const t=e.getSource().getParent().getParent();const o=this.getView().getModel("i18n").getResourceBundle();return this.oContentFinderPromise.then(e=>{e.setContextData({restrictedVisualizations:this._getRestrictedVisualizationIds(t)});e.attachVisualizationsAdded(t,this._onAddVisualization,this);e.attachVisualizationFilterApplied(t,this._onVisualizationFilterApplied,this);e.show({visualizationFilters:{displayed:["tiles"],selected:"tiles",available:[{key:"tiles",title:o.getText("ContentFinder.AppSearch.VisualizationsFilter.Tiles"),types:["sap.ushell.StaticAppLauncher","sap.ushell.DynamicAppLauncher"]}]}})})},_getRestrictedVisualizationIds:function(e){return e.getWidgets().map(e=>{if(e.isA("sap.ushell.ui.launchpad.VizInstanceCdm")){return e.getProperty("vizRefId")}})},_onAddVisualization:function(e,t){const o=this.getView().getModel();const i=e.getParameter("visualizations");if(i.length>0){i.forEach(e=>{const t=`/data/usedVisualizations/${e.id}`;if(!o.getProperty(t)){o.setProperty(t,e.vizData)}});const e=this._instantiateWidgetData(i);if(t.isA("sap.ushell.components.workPageBuilder.controls.WorkPageCell")){this._setCellData(t,e)}if(t.isA("sap.ushell.components.workPageBuilder.controls.WorkPageColumn")){this._setColumnData(t,e)}}},_instantiateWidgetData:function(e){let t=[];let o;return e.map(e=>{o=this._generateUniqueId(t);t=t.concat([o]);return{id:o,visualization:{id:e.vizData.id}}})},_setCellData:function(e,t){const o=this.getView().getModel();const i=e.getBindingContext().getPath();const n=Object.assign({},o.getProperty(i));n.widgets=n.widgets.concat(t);o.setProperty(i,n);this.onWidgetAdded()},_setColumnData:function(e,t,o){const i=this.getView().getModel();const n=e.getBindingContext().getPath();const s=Object.assign({},i.getProperty(n));const r={id:this._generateUniqueId(),descriptor:{value:{},schemaVersion:"3.2.0"},widgets:t.concat([])};if(!s.cells){s.cells=[]}if(o===undefined||o>s.cells.length){o=s.cells.length}const a=s.cells.concat([]);a.splice(o,0,r);s.cells=a;i.setProperty(n,s);this.onWidgetAdded()},onDeleteRow:function(e){const t=this.getOwnerComponent().getRootControl();const o=e.getSource().getBindingContext();if(!this.oLoadDeleteDialog){this.oLoadDeleteDialog=a.load({id:t.createId("rowDeleteDialog"),name:"sap.ushell.components.workPageBuilder.view.WorkPageRowDeleteDialog",controller:this}).then(e=>{e.setModel(this.getView().getModel("i18n"),"i18n");return e})}return this.oLoadDeleteDialog.then(e=>{e.getBeginButton().detachEvent("press",this._fnDeleteRowHandler);e.getBeginButton().attachEvent("press",{rowContext:o},this._fnDeleteRowHandler);e.open()})},deleteRow:function(e,t){const o=this.getView().getModel();const i=t.rowContext;const n=o.getProperty("/data/workPage/rows");const s=i.getObject();const r=n.filter(e=>e.id!==s.id);o.setProperty("/data/workPage/rows",r);this.getOwnerComponent().fireEvent("workPageEdited");return this.oLoadDeleteDialog.then(e=>{e.close()})},onRowDeleteCancel:function(){return this.oLoadDeleteDialog.then(e=>{e.close()})},onCellDeleteCancel:function(){return this.oDeleteCell.then(e=>{e.close()})},_createErrorTile:function(){return new m({state:b.Failed}).attachPress(this.onVisualizationPress,this).bindEditable("/editMode").bindSizeBehavior("viewSettings>/currentBreakpoint/sizeBehavior").setLayoutData(new n({columns:2,rows:2}))},widgetFactory:function(t,o){const i=o.getProperty("visualization/id");if(!i){e.error("No vizId found in widget context.");return this._createErrorTile()}const n=this.getView().getModel().getProperty(`/data/usedVisualizations/${i}`);if(!n||!n.type){e.error(`No viz or vizType found for vizId ${i}`);return this._createErrorTile()}const s=o.getProperty("configurations")||[];const r=n.configurations||[];const a=this._getMergedAndSortedConfigurations(s,r);const l=o.getPath();switch(n.type){case"sap.card":return this._createCard(n,s,a,l);case"sap.ushell.StaticAppLauncher":case"sap.ushell.DynamicAppLauncher":case"ssuite.smartbusiness.tiles.dual":case"ssuite.smartbusiness.tiles.numeric":case"ssuite.smartbusiness.tiles.contribution":case"ssuite.smartbusiness.tiles.deviation":case"ssuite.smartbusiness.tiles.trend":case"ssuite.smartbusiness.tiles.comparison":return this._createVizInstance(n);default:e.error(`Unknown type for widget ${n.type}`);return this._createErrorTile()}},_getMergedAndSortedConfigurations:function(e,t){if(e.length===0&&t.length===0){return[]}const o=E.reduce((o,n)=>{const s=e.find(e=>e.level===n);const r=t.find(e=>e.level===n);const a=i({},r,s);if(Object.keys(a).length>0){o[n]=a}return o},{});return this._sortConfigurations(Object.values(o))},_sortConfigurations:function(e){const t=e&&e.sort((e,t)=>E.indexOf(e.level)-E.indexOf(t.level));return t.map(e=>e.settings.value)},_createVizInstance:function(t){const o=i({},t,{preview:this.oModel.getProperty("/previewMode")});if(this.oModel.getProperty("/navigationDisabled")&&o._siteData){delete o._siteData.target;delete o._siteData.targetURL}const s=this.oWorkPageVizInstantiation.createVizInstance(o);if(!s){e.error("No VizInstance was created.");return this._createErrorTile()}return s.setActive(true).bindPreview("/previewMode").attachPress(this.onVisualizationPress,this).bindEditable("/editMode").bindSizeBehavior("viewSettings>/currentBreakpoint/sizeBehavior").bindClickable({path:"/navigationDisabled",formatter:function(e){return!e}}).setLayoutData(new n(s.getLayout()))},formatRowAriaLabel:function(e,t=[],o){const i=this.getView().getModel("i18n").getResourceBundle();if(o){return i.getText("WorkPage.Row.Named.AriaLabel",[o])}const n=t.findIndex(t=>t.id===e);if(n<0){return""}return i.getText("WorkPage.Row.Unnamed.AriaLabel",[n+1])},onVisualizationPress:function(e){const t=e.getParameter("scope");const o=e.getParameter("action");if(t==="Actions"&&o==="Remove"){this._deleteVisualization(e.getSource())}},_createCard:function(t={},i=[],s=[],r=""){const a={};const l=t.descriptor&&t.descriptor.value&&t.descriptor.value["sap.card"];const d=t.descriptorResources&&(t.descriptorResources.baseUrl||t.descriptorResources.descriptorPath);const c=i.some(e=>e.level==="PG");let g;if(!l&&!d){e.error("No descriptor or descriptorResources for Card");return(new h).setLayoutData(new n({columns:2,rows:2}))}if(l){a.manifest=t.descriptor.value;g=!!o.get(["descriptor","value","sap.card","configuration"],t);if(d){a.baseUrl=t.descriptorResources.baseUrl+t.descriptorResources.descriptorPath}}else if(d){a.manifest=t.descriptorResources.baseUrl+t.descriptorResources.descriptorPath;if(!a.manifest.endsWith(".json")){a.manifest+="/manifest.json"}}a.referenceId=t?.provider?.id;if(a.baseUrl&&a.baseUrl.substr(-1)!=="/"){a.baseUrl+="/"}const u=new h(a);if(g){const e=this._createCardConfigurationActionDefinition(u,r,this._openCardConfigurationEditor.bind(this));u.addActionDefinition(e)}if(c){const e=this._createCardResetActionDefinition(i,r,this._openResetCardConfigurationDialog.bind(this));u.addActionDefinition(e)}return u.setModel(this.oModel,"workPageModel").bindProperty("previewMode",{path:"workPageModel>/previewMode",formatter:function(e){return e?B.MockData:B.Off}}).setManifestChanges(s).addStyleClass("workpageCellWidget").setHost(this.oHost).setLayoutData(new n({columns:16,minRows:1}))},_createCardConfigurationActionDefinition:function(e,t,o){const i=this.getView().getModel("i18n").getResourceBundle().getText("WorkPage.Card.ActionDefinition.Configure");const n=new g({type:"Custom",visible:"{/editMode}",buttonType:"Transparent",text:i});n.setModel(this.oModel);n.attachPress({card:e,widgetContextPath:t},o);return n},_createCardResetActionDefinition:function(e,t,o){const i=this.getView().getModel("i18n").getResourceBundle().getText("WorkPage.Card.ActionDefinition.Reset");const n=new g({type:"Custom",visible:"{/editMode}",buttonType:"Transparent",text:i});n.setModel(this.oModel);n.attachPress({widgetContextPath:t,widgetConfigurations:e},o);return n},_openCardConfigurationEditor:function(e,t){if(!this.oCardEditorDialogPromise){this.oCardEditorDialogPromise=this._createCardEditorDialog(t.card)}const o=this._createCardEditor(t.card);return Promise.all([o,this.oCardEditorDialogPromise]).then(e=>{this.oCardEditorDialog=e[1];this.oCardEditorDialog.removeAllContent();this.oCardEditorDialog.getBeginButton().detachPress(this._fnSaveCardConfiguration).attachPress(t.widgetContextPath,this._fnSaveCardConfiguration);this._setCardDialogTitle(this.oCardEditorDialog,t.card);this.oCardEditorDialog.addContent(e[0]);this.oCardEditorDialog.open()})},_openResetCardConfigurationDialog:function(e,t){if(!this.oCardResetDialogPromise){this.oCardResetDialogPromise=this._createResetCardConfigurationDialog()}return this.oCardResetDialogPromise.then(e=>{this.oCardResetDialog=e;this.getView().addDependent(this.oCardResetDialog);this.oCardResetDialog.getBeginButton().detachPress(this._fnResetCardConfiguration).attachPress(t,this._fnResetCardConfiguration);this.oCardResetDialog.open()})},_onResetCardConfigurations:function(e,t){const o=e.getSource().getParent();const i=t.widgetConfigurations;const n=`${t.widgetContextPath}/configurations`;const s=i.filter(e=>e.level!=="PG");this.oModel.setProperty(n,s);this.getOwnerComponent().fireEvent("workPageEdited");o.close()},_createResetCardConfigurationDialog:function(){const e=this.getView().getModel("i18n").getResourceBundle();const t=e.getText("WorkPage.CardEditor.DeleteConfigurationDialog.Title");const o=e.getText("WorkPage.CardEditor.DeleteConfigurationDialog.Content");const i=e.getText("WorkPage.CardEditor.DeleteConfigurationDialog.Accept");const n=e.getText("WorkPage.CardEditor.DeleteConfigurationDialog.Deny");return new Promise((e,r)=>{sap.ui.require(["sap/m/Dialog","sap/m/Button","sap/m/Text"],(r,a,l)=>{const d=new r({id:this.createId("cardConfigurationResetDialog"),type:s.DialogType.Message,state:M.Warning,title:t,content:new l({text:o}),beginButton:new a({type:s.ButtonType.Emphasized,text:i}),endButton:new a({text:n,press:function(){d.close()}})});e(d)},r)})},_setCardDialogTitle:function(e,t){const o=this.getView().getModel("i18n").getResourceBundle();const i=this._getCardTitle(t)?o.getText("WorkPage.CardEditor.Title",[this._getCardTitle(t)]):o.getText("WorkPage.CardEditor.Title.NoCardTitle");e.setTitle(i)},_createCardEditor:function(e){return new Promise((t,o)=>{sap.ui.require(["sap-ui-integration-card-editor"],()=>{sap.ui.require(["sap/ui/integration/designtime/editor/CardEditor"],o=>{t(new o({previewPosition:"right",card:e,mode:"content"}))},o)},o)})},_createCardEditorDialog:function(e){const t=this.getView().getModel("i18n").getResourceBundle();const o=t.getText("WorkPage.CardEditor.Save");const i=t.getText("WorkPage.CardEditor.Cancel");return new Promise((e,t)=>{sap.ui.require(["sap/m/Dialog","sap/m/Button"],(t,n)=>{const r=new t({id:this.createId("cardEditorDialog"),contentWidth:"40rem",beginButton:new n({text:o,type:s.ButtonType.Emphasized}),endButton:new n({text:i,press:function(){r.close()}})});e(r)},t)})},_getCardTitle:function(e){if(e.getCardHeader()&&e.getCardHeader().getTitle()){return e.getCardHeader().getTitle()}},_onSaveCardEditor:function(e,t){const o=e.getSource().getParent();const n=o.getContent()[0];const s=n.getCard();const r=`${t}/configurations`;const a=n.getCurrentSettings();let l=this.oModel.getProperty(r)||[];let d=l.find(e=>e.level==="PG");if(!d){d={};d.id=this._generateUniqueId();d.level="PG";d.settings={value:a,schemaVersion:"3.2.0"};l.push(d)}else{l=l.map(e=>{if(e.level==="PG"){e.settings.value=i({},e.settings.value,a)}return e})}this.oModel.setProperty(r,l);s.setManifestChanges([a]);this.getOwnerComponent().fireEvent("workPageEdited");o.close()},saveEditChanges:function(){this.getOwnerComponent().fireEvent("closeEditMode",{saveChanges:true})},cancelEditChanges:function(){this.getOwnerComponent().fireEvent("closeEditMode",{saveChanges:false})},onCellDrop:function(e){const t=e.getParameter("draggedControl");const o=e.getParameter("droppedControl");const i=e.getParameter("dropPosition");const n=t.getParent();const s=o.getParent();const r=n.indexOfAggregation("cells",t);let a=s.indexOfAggregation("cells",o);if(i==="After"){a++}this._moveCell(n,s,r,a)},onCellDropOnEmptyColumn:function(e){const t=e.getParameter("draggedControl");const o=e.getParameter("droppedControl");const i=t.getParent();const n=i.indexOfAggregation("cells",t);const s=0;this._moveCell(i,o,n,s)},onVisualizationDropBetweenCells:function(e){const t=e.getParameter("draggedControl");const o=e.getParameter("droppedControl");const i=e.getParameter("dropPosition");const n=t.getParent().getParent();const s=o.getParent();let r=s.indexOfAggregation("cells",o);if(i==="After"){r++}this._moveVisualizationToCellOrColumn(t,n,s,r)},onVisualizationDropOnCell:function(e){const t=e.getParameter("draggedControl");const o=e.getParameter("droppedControl");const i=t.getParent().getParent();const n=0;this._moveVisualizationToCellOrColumn(t,i,o,n)},onVisualizationDropOnEmptyWidgetContainer:function(e){const t=e.getParameter("draggedControl");const o=e.getParameter("droppedControl");const i=t.getParent().getParent();this._moveVisualizationToCellOrColumn(t,i,o)},_moveVisualizationToCellOrColumn:function(e,t,o,i){const n=this.getView().getModel();const s=`${t.getBindingContext().getPath()}/widgets`;const r=n.getProperty(s);const a=t.indexOfAggregation("widgets",e);const d=e.getBindingContext().getPath();const c=n.getProperty(d);r.splice(a,1);const g=[].concat(r);n.setProperty(s,g);if(o.isA("sap.ushell.components.workPageBuilder.controls.WorkPageCell")){this._setCellData(o,[c])}else if(o.isA("sap.ushell.components.workPageBuilder.controls.WorkPageColumn")){this._setColumnData(o,[c],i)}l.getInstance().announce(this.getView().getModel("i18n").getResourceBundle().getText("WorkPage.Message.WidgetMoved"),x.Assertive);this.getOwnerComponent().fireEvent("workPageEdited")},_moveCell:function(e,t,o,i){const n=this.getView().getModel();const s=t.getId()===e.getId();const r=`${e.getBindingContext().getPath()}/cells`;const a=`${t.getBindingContext().getPath()}/cells`;const d=n.getProperty(r);let c=n.getProperty(a);if(s){if(o<i){i--}if(o===i){return}}const g=d.filter((e,t)=>t!==o);if(s){c=g}const u=[c.slice(0,i),d[o],c.slice(i)].flat();n.setProperty(r,g);n.setProperty(a,u);l.getInstance().announce(this.getView().getModel("i18n").getResourceBundle().getText("WorkPage.Message.WidgetMoved"),x.Assertive);this.getOwnerComponent().fireEvent("workPageEdited")},onWidgetOnCellDrop:function(e){const t=e.getParameter("draggedControl");const o=t.getParent().getParent();const i=e.getParameter("droppedControl");const n=o.indexOfAggregation("widgets",t);const s=i.getBindingContext().getProperty("widgets").length;this._moveVisualization(o,i,n,s)},onWidgetOnCellDragEnter:function(e,t){const o=e.getParameter("target");const i=!!o.getBindingContext().getProperty("widgets").length;if(o.getTileMode()&&i||t===i){e.preventDefault()}},onGridDrop:function(e){const t=e.getSource();const o=e.getParameter("draggedControl");const i=e.getParameter("droppedControl");const n=e.getParameter("dropPosition");const s=o.getParent().getParent();const r=s.indexOfAggregation("widgets",o);let a=t.indexOfAggregation("widgets",i);const l=t.getId()===s.getId();if(n==="After"){a++}if(l){if(r<a){a--}if(r===a){return}}this._moveVisualization(s,t,r,a)},_moveVisualization:function(e,t,o,i){const n=this.getView().getModel();const s=`${e.getBindingContext().getPath()}/widgets`;const r=`${t.getBindingContext().getPath()}/widgets`;const a=s===r;const d=n.getProperty(s);let c=n.getProperty(r);const g=d[o];const u=d.filter((e,t)=>t!==o);if(a){c=u}const h=[c.slice(0,i),g,c.slice(i)].flat();n.setProperty(s,u);n.setProperty(r,h);l.getInstance().announce(this.getView().getModel("i18n").getResourceBundle().getText("WorkPage.Message.WidgetMoved"),x.Assertive);this.getOwnerComponent().fireEvent("workPageEdited")},tileMode:function(e){const t=this.getView().getModel();let i;return!!e&&(e.length>1||!e.some(e=>{i=t.getProperty(`/data/usedVisualizations/${o.get("visualization.id",e)}`);return o.get("type",i)==="sap.card"}))},showAppSearchButton:function(e,t){return this.tileMode(e)&&t},_updateModelWithColumnWidths:function(e,t,o,i,n){const s=this.getView().getModel();const r=e.getBindingContext();const a=r.getPath();const l=`${a}/columns/${t}/descriptor/value/columnWidth`;const d=`${a}/columns/${o}/descriptor/value/columnWidth`;s.setProperty(l,i);s.setProperty(d,n)},_getColumnWidth:function(e){return o.get("descriptor.value.columnWidth",e)||k},_setColumnWidth:function(e,t){o.set("descriptor.value.columnWidth",t,e)},_calculateColWidths:function(e,t,o){const i=e[t];if(this._getColumnWidth(i)-z>=V){this._setColumnWidth(i,this._getColumnWidth(i)-z);o=o-z}if(o>k){const i=t-1>=0?t-1:e.length-1;this._calculateColWidths(e,i,o)}return e},_createEmptyColumn:function(e){return{id:this._generateUniqueId(),descriptor:{value:{columnWidth:e},schemaVersion:"3.2.0"},configurations:[],cells:[]}},_createEmptyRow:function(){return{id:this._generateUniqueId(),descriptor:{value:{title:""},schemaVersion:"3.2.0"},columns:[this._createEmptyColumn(k)]}},_saveHost:function(){this.oHost=r.getElementById("sap.shell.host.environment");if(!this.oHost){this.oHost=new u("sap.shell.host.environment");this.oHost._setContainer(this.getOwnerComponent().getUshellContainer());if(this.oModel){const e=this.oModel.bindProperty("/navigationDisabled");this.oHost._setNavigationDisabled(e.getValue());e.attachChange(e=>{this.oHost._setNavigationDisabled(e.getSource().getValue())})}}},getNavigationDisabled:function(){return this.oModel.getProperty("/navigationDisabled")},setNavigationDisabled:function(e){this.oModel.setProperty("/navigationDisabled",e)},_generateUniqueId:function(e){let t=(e||[]).concat([]);const o=this.oModel.getProperty("/data/workPage");const i=this._collectIds.bind(this);t=t.concat(i(o));(o.rows||[]).forEach(e=>{t=t.concat(i(e));(e.columns||[]).forEach(e=>{t=t.concat(i(e));(e.cells||[]).forEach(e=>{t=t.concat(i(e));(e.widgets||[]).forEach(e=>{t=t.concat(i(e))})})})});t=t.filter(e=>!!e);return w.generateUniqueId(t)},_collectIds:function(e){const t=[e.id];const o=e.configurations||[];const i=o.map(e=>e.id);return t.concat(i)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/workPageBuilder/controller/WorkPageBuilder.layout", ["sap/m/library","sap/ui/core/ResizeHandler","sap/base/Log","sap/ui/model/json/JSONModel","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/utils"],(e,t,i,o,l,s,n)=>{"use strict";const r=e.TileSizeBehavior;function a(){this._oLayoutModel=new o({currentBreakpoint:{}})}a.prototype._onLayoutChange=function(){let e;if(!this._oControl){return}if(this._oControl instanceof Element){e=this._oControl}else{e=this._oControl.isA("sap.ui.core.Control")?this._oControl.getDomRef():null}if(!e){return}this.onResize({size:{width:e.getBoundingClientRect().width}})};a.prototype.register=function(e){if(this._sResizeHandlerId){i.warning("A ResizeHandler is already registered. Deregister first.");return}this._oControl=e;this._sResizeHandlerId=t.register(this._oControl,this.onResize.bind(this));l.on("/core/home/sizeBehavior").do(this._onLayoutChange.bind(this));s.on("themeChanged").do(this._onLayoutChange.bind(this))};a.prototype.getModel=function(){return this._oLayoutModel};a.prototype.deregister=function(){if(this._sResizeHandlerId){t.deregister(this._sResizeHandlerId);this._sResizeHandlerId=null}};a.prototype.onResize=async function(e){if(this.iWidth===e.size.width){return}this.iWidth=e.size.width;const t=await this._getBreakpointSettingsForWidth(e.size.width);this._oLayoutModel.setProperty("/currentBreakpoint",t)};a.prototype._getBreakpointSettingsForWidth=async function(e){const t=await this._getBreakpointSettings();for(const i in t){if(e<=t[i].high&&e>=t[i].low){return t[i]}}};a.prototype._formatNumericThemeParam=function(e){if(e&&e.indexOf(".")===0){e=`0${e}`}return e};a.prototype._getWorkPageColumnMinFlex=function(e){const t=this._oControl.getDomRef();if(!t){return 4}const i=t.querySelector(".workPageRowInner");if(!i){return 4}if(i.offsetWidth<=0){return 4}return Math.ceil(e/(i.offsetWidth/24))};a.prototype._getBreakpointSettings=async function(){const e=l.last("/core/home/sizeBehavior");const t=e===r.Small?r.Small:r.Responsive;const i=e===r.Small?"_sap_ushell_Tile_SpacingXS":"_sap_ushell_Tile_Spacing";const o=e===r.Small?"_sap_ushell_Tile_WidthXS":"_sap_ushell_Tile_Width";const s={"lt-lp":this._getWorkPageColumnMinFlex(416),"lt-sp":this._getWorkPageColumnMinFlex(400),"st-lp":this._getWorkPageColumnMinFlex(352),"st-sp":this._getWorkPageColumnMinFlex(336)};const[a,h]=await n.getThemingParameters([i,"_sap_ushell_Tile_SpacingXS"]);const m={lt:this._formatNumericThemeParam(a),st:this._formatNumericThemeParam(h)};const[p,u]=await n.getThemingParameters([o,"_sap_ushell_Tile_WidthXS"]);const g={lt:this._formatNumericThemeParam(p),st:this._formatNumericThemeParam(u)};return[{high:Infinity,low:1724,sizeBehavior:t,gap:m.lt,rowSize:g.lt,name:"lt-lp-4",maxColumnsPerRow:4,columnMinFlex:s["lt-lp"]},{high:1723,low:1660,sizeBehavior:t,gap:m.lt,rowSize:g.lt,name:"lt-sp-4",maxColumnsPerRow:4,columnMinFlex:s["lt-sp"]},{high:1659,low:1468,sizeBehavior:r.Small,gap:m.st,rowSize:g.st,name:"st-lp-4",maxColumnsPerRow:4,columnMinFlex:s["st-lp"]},{high:1467,low:1404,sizeBehavior:r.Small,gap:m.st,rowSize:g.st,name:"st-sp-4",maxColumnsPerRow:4,columnMinFlex:s["st-sp"]},{high:1403,low:1296,sizeBehavior:t,gap:m.lt,rowSize:g.lt,name:"lt-lp-3",maxColumnsPerRow:3,columnMinFlex:s["lt-lp"]},{high:1295,low:1248,sizeBehavior:t,gap:m.lt,rowSize:g.lt,name:"lt-sp-3",maxColumnsPerRow:3,columnMinFlex:s["lt-sp"]},{high:1247,low:1104,sizeBehavior:r.Small,gap:m.st,rowSize:g.st,name:"st-lp-3",maxColumnsPerRow:3,columnMinFlex:s["st-lp"]},{high:1103,low:1056,sizeBehavior:r.Small,gap:m.st,rowSize:g.st,name:"st-sp-3",maxColumnsPerRow:3,columnMinFlex:s["st-sp"]},{high:1055,low:880,sizeBehavior:t,gap:m.lt,rowSize:g.lt,name:"lt-lp-2",maxColumnsPerRow:2,columnMinFlex:s["lt-lp"]},{high:879,low:848,sizeBehavior:t,gap:m.lt,rowSize:g.lt,name:"lt-sp-2",maxColumnsPerRow:2,columnMinFlex:s["lt-sp"]},{high:847,low:752,sizeBehavior:r.Small,gap:m.st,rowSize:g.st,name:"st-lp-2",maxColumnsPerRow:2,columnMinFlex:s["st-lp"]},{high:751,low:720,sizeBehavior:r.Small,gap:m.st,rowSize:g.st,name:"st-sp-2",maxColumnsPerRow:2,columnMinFlex:s["st-sp"]},{high:719,low:456,sizeBehavior:t,gap:m.lt,rowSize:g.lt,name:"lt-lp-1",maxColumnsPerRow:1,columnMinFlex:s["lt-lp"]},{high:455,low:440,sizeBehavior:t,gap:m.lt,rowSize:g.lt,name:"lt-sp-1",maxColumnsPerRow:1,columnMinFlex:s["lt-sp"]},{high:439,low:392,sizeBehavior:r.Small,gap:m.st,rowSize:g.st,name:"st-lp-1",maxColumnsPerRow:1,columnMinFlex:s["st-lp"]},{high:391,low:376,sizeBehavior:r.Small,gap:m.st,rowSize:g.st,name:"st-sp-1",maxColumnsPerRow:1,columnMinFlex:s["st-sp"]},{high:375,low:0,sizeBehavior:r.Small,gap:m.st,rowSize:g.st,name:"st-sp-0",maxColumnsPerRow:1,columnMinFlex:s["st-sp"]}]};return new a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/workPageBuilder/controls/WorkPage", ["sap/ui/core/Control","sap/ushell/components/workPageBuilder/controls/WorkPageRenderer","sap/m/IllustratedMessage","sap/m/Button","sap/m/library","sap/ushell/utils","sap/ushell/ui/launchpad/ExtendedChangeDetection"],(e,t,i,a,s,l,r)=>{"use strict";const n=s.IllustratedMessageSize;const o=s.IllustratedMessageType;const u=e.extend("sap.ushell.components.workPageBuilder.controls.WorkPage",{metadata:{library:"sap.ushell",properties:{editMode:{type:"boolean",group:"Misc",defaultValue:false,bindable:true},showTitle:{type:"boolean",group:"Misc",defaultValue:true,bindable:true},emptyIllustrationTitle:{type:"string",group:"Misc",defaultValue:"",bindable:true},emptyIllustrationMessage:{type:"string",group:"Misc",defaultValue:"",bindable:true},emptyIllustrationButtonText:{type:"string",group:"Misc",defaultValue:"",bindable:true},loaded:{type:"boolean",defaultValue:false,bindable:true},breakpoint:{type:"string",defaultValue:"lt-lp-4",bindable:true}},defaultAggregation:"rows",aggregations:{rows:{type:"sap.ushell.components.workPageBuilder.controls.WorkPageRow",multiple:true,singularName:"row",bindable:true},title:{type:"sap.ui.core.Control",multiple:false,defaultValue:null,bindable:true},_emptyIllustration:{type:"sap.m.IllustratedMessage",multiple:false,visibility:"hidden"}},events:{addFirstRow:{},afterRendering:{}}},renderer:t});u.prototype.init=function(){this._oRowsChangeDetection=new r("rows",this);this.oDelegate={onAfterRendering:function(){l.setPerformanceMark("FLP -- work page after rendering")}};this.addDelegate(this.oDelegate);e.prototype.init.apply(this,arguments)};u.prototype.onAfterRendering=function(){this.fireEvent("afterRendering")};u.prototype.exit=function(){this._oRowsChangeDetection.destroy();this.removeDelegate(this.oDelegate);e.prototype.exit.apply(this,arguments)};u.prototype.getIllustratedMessage=function(){if(!this.getAggregation("_emptyIllustration")){this.setAggregation("_emptyIllustration",this._createIllustratedMessage())}return this.getAggregation("_emptyIllustration")};u.prototype._createIllustratedMessage=function(){return new i(`${this.getId()}-emptyWorkpageMessage`,{illustrationType:o.AddColumn,illustrationSize:n.Small,title:this.getEmptyIllustrationTitle(),description:this.getEmptyIllustrationMessage(),additionalContent:[new a(`${this.getId()}-addFirstRowButton`,{text:this.getEmptyIllustrationButtonText(),press:function(){this.fireEvent("addFirstRow")}.bind(this)}).addStyleClass("sapUiTinyMarginBegin sapUiTinyMarginEnd")],visible:"{/editMode}"})};return u});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/workPageBuilder/controls/WorkPageButton", ["sap/ui/core/Control","sap/ui/core/Icon"],(t,e)=>{"use strict";const n=t.extend("sap.ushell.components.workPageBuilder.controls.WorkPageButton",{metadata:{library:"sap.ushell",properties:{icon:{type:"sap.ui.core.URI",defaultValue:"",bindable:true},tooltip:{type:"string",defaultValue:"",bindable:true}},aggregations:{_icon:{type:"sap.ui.core.Icon",multiple:false,defaultValue:null,visibility:"hidden"}},events:{press:{}}},renderer:{apiVersion:2,render:function(t,e){t.openStart("button",e);t.class("workPageButton");t.attr("title",e.getTooltip());t.openEnd();t.openStart("span");t.class("workPageButtonInner");t.openEnd();t.renderControl(e.getIconControl());t.close("span");t.close("button")}}});n.prototype.init=function(){this._fnHandleClick=this.onClick.bind(this);t.prototype.init.apply(this,arguments)};n.prototype.onClick=function(t){t.preventDefault();t.stopPropagation();this.fireEvent("press")};n.prototype.onBeforeRendering=function(){if(this.getDomRef()){this.getDomRef().removeEventListener("click",this._fnHandleClick)}};n.prototype.onAfterRendering=function(){this.getDomRef().addEventListener("click",this._fnHandleClick)};n.prototype.getIconControl=function(){if(!this.getAggregation("_icon")){this.setAggregation("_icon",new e(`${this.getId()}-icon`,{src:this.getIcon(),tooltip:this.getTooltip()}).addStyleClass("workPageButtonIcon"))}return this.getAggregation("_icon")};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/workPageBuilder/controls/WorkPageCell", ["sap/f/GridContainer","sap/f/GridContainerSettings","sap/f/dnd/GridDropInfo","sap/m/IllustratedMessage","sap/m/library","sap/ui/core/Control","sap/ui/core/dnd/DragInfo","sap/ui/core/library","sap/ui/core/ResizeHandler","sap/ushell/ui/launchpad/ExtendedChangeDetection"],(e,t,i,r,o,a,n,s,l,g)=>{"use strict";const d=o.IllustratedMessageSize;const p=o.IllustratedMessageType;const u=s.dnd.DropLayout;const h=s.dnd.DropPosition;const c=a.extend("sap.ushell.components.workPageBuilder.controls.WorkPageCell",{metadata:{library:"sap.ushell",properties:{deleteWidgetTooltip:{type:"string",defaultValue:"",bindable:true},addApplicationButtonText:{type:"string",defaultValue:"",bindable:true},editMode:{type:"boolean",defaultValue:false,bindable:true},tileMode:{type:"boolean",defaultValue:false,bindable:true},gridContainerGap:{type:"string",group:"Appearance",defaultValue:"0.5rem",bindable:true},gridContainerRowSize:{type:"string",group:"Appearance",defaultValue:"5.25rem",bindable:true},emptyIllustrationTitle:{type:"string",group:"Misc",defaultValue:"",bindable:true},emptyIllustrationMessage:{type:"string",group:"Misc",defaultValue:"",bindable:true}},defaultAggregation:"widgets",aggregations:{widgets:{type:"sap.ui.core.Control",multiple:true,singularName:"widget",bindable:true,dnd:true,forwarding:{getter:"getGridContainer",aggregation:"items"}},_gridContainer:{type:"sap.f.GridContainer",multiple:false,visibility:"hidden"},headerBar:{type:"sap.m.OverflowToolbar",multiple:false},_emptyIllustration:{type:"sap.m.IllustratedMessage",multiple:false,visibility:"hidden"}},events:{moveVisualization:{},gridColumnsChange:{},gridContainerBorderReached:{}}},renderer:{apiVersion:2,render:function(e,t){e.openStart("div",t);e.class("workPageCell");if(t.getTileMode()){e.class("workPageCellTileMode")}else{e.class("workPageCellCardMode")}e.openEnd();e.openStart("div");e.class("workpageCellWidgetToolbar");e.openEnd();e.renderControl(t.getHeaderBar());e.close("div");const i=t.getAggregation("widgets");if(i.length<=0){e.renderControl(t.getIllustratedMessage())}else{e.renderControl(t.getGridContainer())}e.close("div")}}});c.prototype.init=function(){this._aRegistrationIds=[];this._oWidgetsChangeDetection=new g("widgets",this);this._oWidgetsChangeDetection.attachItemAdded(this.invalidate,this);a.prototype.init.apply(this,arguments)};c.prototype.exit=function(){this._deregisterResizeHandles();this._oWidgetsChangeDetection.destroy();a.prototype.exit.apply(this,arguments)};c.prototype._deregisterResizeHandles=function(){if(this._aRegistrationIds.length>0){this._aRegistrationIds.forEach(e=>{l.deregister(e)});this._aRegistrationIds=[]}};c.prototype.insertAggregation=function(e,t,i,r){if(e==="widgets"&&t.isA("sap.ui.integration.widgets.Card")){this._aRegistrationIds.push(l.register(this,this._resizeCard.bind(this,t)))}a.prototype.insertAggregation.apply(this,arguments)};c.prototype._resizeCard=function(e,t){const i=this.getAggregation("_gridContainer")&&this.getAggregation("_gridContainer").getDomRef();if(!i){return}const r=parseFloat(window.getComputedStyle(i).width);if(r){e.setWidth(`${r}px`)}};c.prototype.getGridContainer=function(){let e=this.getAggregation("_gridContainer");if(!e){e=this._createGridContainer().attachColumnsChange(e=>{this.fireEvent("gridColumnsChange",e.getParameters())});this.setAggregation("_gridContainer",e.addStyleClass("workPageGridContainer"))}if(!this.getEditMode()||!this.getTileMode()||e.getItems().length===0){e.removeAllDragDropConfig()}else if(e.getDragDropConfig().length===0){e.addDragDropConfig(new n({groupName:"CellGridContainer",sourceAggregation:"items"})).addDragDropConfig(new i({groupName:"CellGridContainer",targetAggregation:"items",dropIndicatorSize:function(e){let t=2;if(e.getLayoutData()&&e.getLayoutData().getColumns()){t=e.getLayoutData().getColumns()}return{rows:1,columns:t}},dropPosition:h.Between,dropLayout:u.Horizontal,drop:this.onDrop.bind(this)}))}return e.setInlineBlockLayout(true).setSnapToRow(false).setLayout(new t({columnSize:this.getGridContainerRowSize(),gap:this.getGridContainerGap()}))};c.prototype._createGridContainer=function(){return new e(`${this.getId()}--workPageCellGridContainer`,{containerQuery:false,minHeight:"0",borderReached:this.onBorderReached.bind(this)})};c.prototype.onBorderReached=function(e){this.fireEvent("gridContainerBorderReached",e.getParameters())};c.prototype.onDrop=function(e){this.fireEvent("moveVisualization",e.getParameters())};c.prototype.getIllustratedMessage=function(){if(!this.getAggregation("_emptyIllustration")){this.setAggregation("_emptyIllustration",this._createIllustratedMessage())}return this.getAggregation("_emptyIllustration")};c.prototype._createIllustratedMessage=function(){return new r(`${this.getId()}-emptyCellMessage`,{illustrationType:p.NoColumnsSet,illustrationSize:d.Small,title:this.getEmptyIllustrationTitle(),description:this.getEmptyIllustrationMessage(),visible:"{/editMode}"})};c.prototype.onfocusin=function(){if(!this.hasStyleClass("workPageCellFocused")){this.addStyleClass("workPageCellFocused")}};c.prototype.onfocusout=function(){if(this.hasStyleClass("workPageCellFocused")){this.removeStyleClass("workPageCellFocused")}};return c});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/workPageBuilder/controls/WorkPageColumn", ["sap/m/Button","sap/m/library","sap/ui/core/Control","sap/ushell/components/workPageBuilder/controls/WorkPageButton","sap/ushell/components/workPageBuilder/controls/WorkPageColumnRenderer","sap/ushell/components/workPageBuilder/controls/WorkPageColumnResizer","sap/ushell/ui/launchpad/ExtendedChangeDetection"],(e,t,o,n,i,s,l)=>{"use strict";const d=t.ButtonType;const r=o.extend("sap.ushell.components.workPageBuilder.controls.WorkPageColumn",{metadata:{library:"sap.ushell",properties:{columnWidth:{type:"int",defaultValue:24,bindable:true},editMode:{type:"boolean",group:"Misc",defaultValue:false,bindable:true},ariaLabelPlaceholder:{type:"string",group:"Misc",defaultValue:"",bindable:true},deleteColumnButtonTooltip:{type:"string",group:"Misc",defaultValue:"",bindable:true},addColumnButtonTooltip:{type:"string",group:"Misc",defaultValue:"",bindable:true},addWidgetButtonText:{type:"string",group:"Misc",defaultValue:"",bindable:true}},dnd:{draggable:false,droppable:true},defaultAggregation:"cells",aggregations:{cells:{type:"sap.ushell.components.workPageBuilder.controls.WorkPageCell",multiple:true,singularName:"cell",bindable:true,dnd:true},_deleteButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_addWidgetButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_addButtonLeft:{type:"sap.ushell.components.workPageBuilder.controls.WorkPageButton",multiple:false,visibility:"hidden"},_addButtonRight:{type:"sap.ushell.components.workPageBuilder.controls.WorkPageButton",multiple:false,visibility:"hidden"},_resizer:{type:"sap.ushell.components.workPageBuilder.controls.WorkPageColumnResizer",multiple:false,visibility:"hidden"}},events:{addColumn:{left:{type:"boolean"}},addWidget:{},removeColumn:{},columnResized:{parameters:{posXDiff:{type:"float"}}},columnResizeCompleted:{}}},renderer:i});r.prototype.init=function(){this._fnHandleResize=this._handleResizerMoved.bind(this);this._fnHandleResizeCompleted=this._handleResizerReleased.bind(this);this._oResizer=(new s).setParent(this).attachEvent("resizerMoved",this._fnHandleResize).attachEvent("resizerReleased",this._fnHandleResizeCompleted);this._oCellsChangeDetection=new l("cells",this);o.prototype.init.apply(this,arguments)};r.prototype.exit=function(){this._oResizer.detachEvent("resizerMoved",this._fnHandleResize).detachEvent("resizerReleased",this._fnHandleResizeCompleted);this._oCellsChangeDetection.destroy();o.prototype.exit.apply(this,arguments)};r.prototype._createDeleteButton=function(){return new e(`${this.getId()}-deleteColumnButton`,{icon:"sap-icon://delete",tooltip:this.getDeleteColumnButtonTooltip(),press:function(){this.fireEvent("removeColumn")}.bind(this)}).addStyleClass("workPageColumnDeleteButton")};r.prototype.getDeleteButton=function(){if(!this.getAggregation("_deleteButton")){this.setAggregation("_deleteButton",this._createDeleteButton())}return this.getAggregation("_deleteButton")};r.prototype._createAddButton=function(e){const t=e==="left"?"workPageColumnButtonLeft":"workPageColumnButtonRight";return new n(`${this.getId()}-addColumnButton-${e}`,{icon:"sap-icon://add",tooltip:this.getAddColumnButtonTooltip(),press:function(){this.fireEvent("addColumn",{left:e==="left"})}.bind(this)}).addStyleClass(`workPageDividerButton ${t}`)};r.prototype.getAddButton=function(e){if(e==="left"){if(!this.getAggregation("_addButtonLeft")){this.setAggregation("_addButtonLeft",this._createAddButton("left"))}return this.getAggregation("_addButtonLeft")}if(!this.getAggregation("_addButtonRight")){this.setAggregation("_addButtonRight",this._createAddButton("right"))}return this.getAggregation("_addButtonRight")};r.prototype.getResizer=function(){return this._oResizer};r.prototype._handleResizerMoved=function(e){const t=e.getParameters();this.fireEvent("columnResized",t)};r.prototype._handleResizerReleased=function(){this.fireEvent("columnResizeCompleted")};r.prototype._createAddWidgetButton=function(){return new e(`${this.getId()}-addWidgetButton`,{text:this.getAddWidgetButtonText(),type:d.Emphasized,press:function(){this.fireEvent("addWidget")}.bind(this)}).addStyleClass("workPageAddWidgetButton")};r.prototype.getAddWidgetButton=function(){if(!this.getAggregation("_addWidgetButton")){this.setAggregation("_addWidgetButton",this._createAddWidgetButton())}return this.getAggregation("_addWidgetButton")};r.prototype.getCappedColumnCount=function(){const e=this.getParent();return e.getCappedColumnCount()};r.prototype.getIndex=function(){return this.getParent().indexOfAggregation("columns",this)};r.prototype.getMaxColumns=function(){return this.getParent().getMaxColumns()};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/workPageBuilder/controls/WorkPageColumnRenderer", ["sap/base/strings/formatMessage"],e=>{"use strict";const t={apiVersion:2,render:function(t,o){if(!o.getVisible()){return}const n=o.getIndex();const r=o.getMaxColumns();const l=o.getCappedColumnCount();const a=o.getCells();const s=a.length===0;t.openStart("div",o);if(o.getAriaLabelPlaceholder()){t.attr("aria-label",e(o.getAriaLabelPlaceholder(),[n+1,l]))}if(n===0){t.class("workPageColumnFirst")}if(n===l-1){t.class("workPageColumnLast")}if(s){t.class("workPageColumnEmpty")}t.class("workPageColumn");t.attr("data-index",n+1);t.attr("data-count",l);t.openEnd();if(s){t.openStart("div");t.class("workPageCell");t.class("workPageCellEmpty");t.openEnd()}else{for(let e=0;e<a.length;e++){t.renderControl(a[e])}}if(o.getEditMode()){if(l>1&&s){t.renderControl(o.getDeleteButton())}if(n!==0){t.renderControl(o.getResizer())}if(l<r){t.renderControl(o.getAddButton("left"))}if(n===l-1&&l<r){t.renderControl(o.getAddButton("right"))}t.openStart("div");t.class("workPageColumnToolbar");t.openEnd();t.renderControl(o.getAddWidgetButton());t.close("div")}if(s){t.close("div")}t.close("div")}};return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/workPageBuilder/controls/WorkPageColumnResizer", ["sap/ui/core/Control"],e=>{"use strict";const t=e.extend("sap.ushell.components.workPageBuilder.controls.WorkPageColumnResizer",{metadata:{library:"sap.ushell",events:{resizerMoved:{parameters:{posXDiff:{type:"float"}}},resizerReleased:{}}},renderer:{apiVersion:2,render:function(e,t){e.openStart("div",t);e.class("workPageDivider");e.attr("tabindex","0");e.openEnd();e.openStart("div");e.class("workPageDividerInner");e.openEnd();e.close("div");e.close("div")}}});t.prototype.init=function(){this._fnMouseMove=this.mouseMove.bind(this);this._fnMouseUp=this.mouseUp.bind(this)};t.prototype.exit=function(){window.document.removeEventListener("mousemove",this._fnMouseMove);window.document.removeEventListener("mouseup",this._fnMouseUp)};t.prototype.mouseUp=function(){window.document.removeEventListener("mouseup",this._fnMouseUp);window.document.removeEventListener("mousemove",this._fnMouseMove);this.fireEvent("resizerReleased")};t.prototype.mouseMove=function(e){this.fireEvent("resizerMoved",{posXDiff:e.pageX-this.getXOrigin()})};t.prototype.onmousedown=function(){window.document.addEventListener("mousemove",this._fnMouseMove);window.document.addEventListener("mouseup",this._fnMouseUp)};t.prototype.onkeydown=function(e){if([37,39].indexOf(e.keyCode)===-1){return}const t=this.getParent().getParent();let o=t.getSingleColumnWidth();if(e.keyCode===37){o=-o}this.fireEvent("resizerMoved",{posXDiff:o});this.fireEvent("resizerReleased")};t.prototype.getXOrigin=function(){const e=this.$().get(0).getBoundingClientRect();return e.x+e.width/2};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/workPageBuilder/controls/WorkPageRenderer", [],()=>{"use strict";const e={apiVersion:2};e.render=function(e,t){e.openStart("div",t);if(t.getTitle()&&t.getTitle().getText()){e.attr("aria-label",t.getTitle().getText())}e.class("workPage");e.class("sapContrastPlus");e.attr("data-wp-breakpoint",t.getBreakpoint());if(t.getEditMode()){e.class("workPageEditMode")}if(t.getShowTitle()&&t.getTitle()!==null&&t.getTitle().getText()!==""){e.class("workPageHasTitle")}e.openEnd();if(t.getShowTitle()){e.openStart("div");e.class("workPageTitle");e.openEnd();e.renderControl(t.getTitle());e.close("div")}const o=t.getRows();if(o.length<=0&&t.getLoaded()){e.renderControl(t.getIllustratedMessage())}else{e.openStart("div",`${t.getId()}-rows`);e.openEnd();for(let t=0;t<o.length;t++){e.renderControl(o[t])}e.close("div")}e.close("div")};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/workPageBuilder/controls/WorkPageRow", ["sap/ui/core/Control","sap/ushell/components/workPageBuilder/controls/WorkPageButton","sap/ushell/ui/launchpad/ExtendedChangeDetection","sap/ushell/components/workPageBuilder/controls/WorkPageRowRenderer"],(t,e,o,n)=>{"use strict";const i=t.extend("sap.ushell.components.workPageBuilder.controls.WorkPageRow",{metadata:{library:"sap.ushell",properties:{editMode:{type:"boolean",group:"Misc",defaultValue:false,bindable:true},addRowButtonTooltip:{type:"string",group:"Misc",defaultValue:"",bindable:true},maxColumns:{type:"int",group:"Misc",defaultValue:4,bindable:true},columnMinFlex:{type:"int",group:"Misc",defaultValue:4,bindable:true},ariaLabel:{type:"string",group:"Misc",defaultValue:"",bindable:true}},defaultAggregation:"columns",aggregations:{columns:{type:"sap.ushell.components.workPageBuilder.controls.WorkPageColumn",multiple:true,singularName:"column"},headerBar:{type:"sap.m.IBar",multiple:false},controlButtons:{type:"sap.m.Button",multiple:true,singularName:"controlButton"},title:{type:"sap.m.Title",multiple:false},messageStrip:{type:"sap.m.MessageStrip",multiple:false},_addButtonBottom:{type:"sap.ushell.components.workPageBuilder.controls.WorkPageButton",multiple:false,visibility:"hidden"},_addButtonTop:{type:"sap.ushell.components.workPageBuilder.controls.WorkPageButton",multiple:false,visibility:"hidden"}},events:{addRow:{parameters:{bottom:{type:"boolean"}}}}},renderer:n});i.prototype.init=function(){this._oColumnsChangeDetection=new o("columns",this);t.prototype.init.apply(this,arguments)};i.prototype.exit=function(){this._oColumnsChangeDetection.destroy();t.prototype.exit.apply(this,arguments)};i.prototype.getSingleColumnWidth=function(){const t=this.getDomRef();if(!t){return 1}const e=t.querySelector(".workPageRowInner");if(!e){return 1}return e.offsetWidth/24};i.prototype.onfocusin=function(){if(!this.hasStyleClass("workPageRowFocused")){this.addStyleClass("workPageRowFocused")}};i.prototype.onfocusout=function(){if(this.hasStyleClass("workPageRowFocused")){this.removeStyleClass("workPageRowFocused")}};i.prototype._createAddButton=function(t){const o=t==="bottom"?"workPageRowButtonBottom":"workPageRowButtonTop";return new e(`${this.getId()}-addRowButton-${t}`,{icon:"sap-icon://add",tooltip:this.getAddRowButtonTooltip(),press:function(){this.fireEvent("addRow",{bottom:t==="bottom"})}.bind(this)}).addStyleClass(`workPageRowButton ${o}`)};i.prototype.getAddButton=function(t){if(t==="bottom"){if(!this.getAggregation("_addButtonBottom")){this.setAggregation("_addButtonBottom",this._createAddButton(t))}return this.getAggregation("_addButtonBottom")}else if(!this.getAggregation("_addButtonTop")){this.setAggregation("_addButtonTop",this._createAddButton(t))}return this.getAggregation("_addButtonTop")};i.prototype.getIndex=function(){return this.getParent().indexOfAggregation("rows",this)};i.prototype.getColumnFlexValues=function(){return this.getColumns().map(t=>t.getColumnWidth())};i.prototype.getGridLayoutString=function(){const t=this.getColumnFlexValues();return`${t.join("-")}`};i.prototype.setGridLayoutString=function(t){const e=this.getDomRef();if(!e){return}const o=e.querySelector(".workPageRowInner");if(!o){return}o.dataset.wpGridLayout=`${t.join("-")}`};i.prototype.getCappedColumnCount=function(){const t=this.getColumns().length;const e=this.getMaxColumns();if(this.getEditMode()){return t}return t>e?e:t};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/workPageBuilder/controls/WorkPageRowRenderer", ()=>{"use strict";const t={apiVersion:2,render:function(t,e){if(!e.getVisible()){return}const o=e.getIndex();const r=e.getColumns();const n=e.getCappedColumnCount();t.openStart("div",e);t.attr("role","region");const i=e.getTitle();t.attr("aria-label",e.getAriaLabel());t.class("workPageRow");if(o===0){t.class("workPageRowFirst")}t.openEnd();t.openStart("div");t.class("workPageRowLimiter");t.openEnd();if(e.getEditMode()){const o=e.getControlButtons();if(o.length>0){t.openStart("div");t.class("workPageRowControlButtons");t.openEnd();for(let e=0;e<o.length;e++){t.renderControl(o[e])}t.close("div")}}if(e.getEditMode()){t.renderControl(e.getHeaderBar())}else{t.renderControl(i)}if(e.getMessageStrip()){t.renderControl(e.getMessageStrip())}t.openStart("div");t.class("workPageRowInner");t.attr("data-wp-grid-layout",e.getGridLayoutString());t.attr("data-wp-col-min-flex",e.getColumnMinFlex());t.attr("data-wp-cols",n);t.openEnd();for(let e=0;e<n;e++){t.renderControl(r[e])}if(e.getEditMode()){t.renderControl(e.getAddButton("top"));t.renderControl(e.getAddButton("bottom"))}t.close("div");t.close("div");t.close("div")}};return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/workPageRuntime/Component", ["sap/ui/core/UIComponent"],t=>{"use strict";return t.extend("sap.ushell.components.workPageRuntime.Component",{metadata:{manifest:"json",library:"sap.ushell",interfaces:["sap.ui.core.IAsyncContentCreation"]},getNavigationDisabled:function(){const t=this.getComponentData()||{};return!!t.navigationDisabled},hideRuntime:function(){this.getRootControl().getController().hideRuntime()},onRouteMatched:function(){this.getRootControl().getController().onRouteMatched()}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/workPageRuntime/controller/WorkPageRuntime.controller", ["sap/base/Log","sap/ui/core/mvc/Controller","sap/ushell/utils/workpage/WorkPageService","sap/base/util/deepExtend","sap/ushell/EventHub","sap/ushell/components/pages/controller/PagesAndSpaceId","sap/ushell/Config","sap/ushell/Container"],(e,t,o,a,n,i,r,s)=>{"use strict";return t.extend("sap.ushell.components.workPageRuntime.controller.WorkPageRuntime",{onInit:function(){const e=s.getRendererInternal();this.oWorkPageService=new o;this.oWorkPageNavContainer=this.byId("workPageNavContainer");this.oEmptyPage=this.byId("emptyPage");this._oWorkPageBuilderComponentCreatedPromise=new Promise((e,t)=>{this._oWorkPageBuilderComponentResolve=e;this._oWorkPageBuilderComponentReject=t});this._oInitPromise=this._getPageId().then(t=>{this._sPageId=t;return this._onWorkPageLoad().finally(()=>{n.emit("CenterViewPointContentRendered");if(!this.getOwnerComponent().getNavigationDisabled()){this.oContainerRouter=e.getRouter();this.oContainerRouter.getRoute("home").attachMatched(this.onRouteMatched.bind(this,false));this.oContainerRouter.getRoute("openFLPPage").attachMatched(this.onRouteMatched.bind(this,false))}})}).catch(this._handleErrors.bind(this))},_navigate:function(){this.oWorkPageNavContainer.to(this.byId("workPage"))},onWorkPageBuilderCreated:function(e){this._oWorkPageBuilderComponent=e.getParameter("component");this._oWorkPageBuilderComponentResolve(this._oWorkPageBuilderComponent)},_handleErrors:function(t){e.error("An error occurred while loading the page",t);this.oWorkPageNavContainer.to(this.byId("errorPage"))},onRouteMatched:function(){e.debug("cep/editMode: on Route matched","Work Page runtime");return this._getPageId().then(e=>{this._sPageId=e;return this._onWorkPageLoad()}).catch(this._handleErrors.bind(this)).then(()=>{n.emit("CloseFesrRecord",Date.now())})},_onWorkPageLoad:async function(){this._oLoadWorkPageAndVisualizationsPromise=this.oWorkPageService.loadWorkPageAndVisualizations(this._sPageId,true);const[e,t]=await Promise.all([this._oWorkPageBuilderComponentCreatedPromise,this._oLoadWorkPageAndVisualizationsPromise]);this._oOriginalData=a({},t);await e.setPageData(t);this._navigate()},_getPageId:function(){if(r.last("/core/workPages/myHome/pageId")){return Promise.resolve(r.last("/core/workPages/myHome/pageId"))}return i.getPageAndSpaceId().then(e=>e.pageId)},hideRuntime:function(){e.debug("cep/editMode: navigate to empty page","Page runtime");this.oWorkPageNavContainer.to(this.oEmptyPage)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/functionBindPrototype", ["sap/base/Log"],e=>{"use strict";e.error("The application uses an obsolete sap.ushell.functionBindPrototype module.","The reference to this module has to be removed.")},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/iconfonts", ["sap/ui/core/IconPool"],F=>{"use strict";const E={};E.registerFiori2IconFont=function(){F.registerFont({fontFamily:"SAP-icons-TNT",collectionName:"SAP-icons-TNT",fontURI:sap.ui.require.toUrl("sap/tnt/themes/base/fonts/"),lazy:true});F.registerFont({fontFamily:"SAP-icons-TNT",collectionName:"TNTIcons",fontURI:sap.ui.require.toUrl("sap/tnt/themes/base/fonts/"),lazy:true});F.registerFont({fontFamily:"BusinessSuiteInAppSymbols",collectionName:"BusinessSuiteInAppSymbols",fontURI:sap.ui.require.toUrl("sap/ushell/themes/base/fonts/"),lazy:true});const E={fontFamily:"SAP-icons",collectionName:"Fiori2",icons:[["F0017","e05e"],["F0020","e0c3"],["F0021","e10d"],["F0392","e04f"],["F0394","e044"],["F0395","e132"],["F0396","e064"],["F0397","e0a4"],["F0398","e0a4"],["F0399","e044"],["F0401","e08d"],["F0402","e13e"],["F0403","e13e"],["F0404","e033"],["F0405","e0b3"],["F0406","e043"],["F0407","e043"],["F0408","e043"],["F0409","e075"],["F0410","e007"],["F0411","e075"]]};const e={fontFamily:"Fiori2",collectionName:"Fiori2",icons:[["F0002","E236"],["F0003","E202"],["F0004","E203"],["F0005","E204"],["F0006","E205"],["F0009","E206"],["F0010","E207"],["F0012","E208"],["F0014","E209"],["F0018","E200"],["F0019","E201"],["F0023","E20A"],["F0024","E20B"],["F0025","E20C"],["F0026","E20D"],["F0072","E23A"],["F0100","E23B"],["F0101","E23C"],["F0102","E23D"],["F0106","E20F"],["F0144","E210"],["F0190","E23E"],["F0194","E23F"],["F0210","E242"],["F0211","E243"],["F0212","E244"],["F0217","E211"],["F0220","E213"],["F0243","E215"],["F0244","E216"],["F0245","E217"],["F0248","E21A"],["F0249","E21B"],["F0252","E21E"],["F0257","E21F"],["F0281","E220"],["F0282","E221"],["F0283","E222"],["F0284","E223"],["F0292","E224"],["F0295","E225"],["F0296","E226"],["F0316","E227"],["F0317","E228"],["F0321","E229"],["F0339","E22A"],["F0340","E22B"],["F0341","E22C"],["F0342","E22D"],["F0365","E212"],["F0366","E22F"],["F0367","E230"],["F0368","E231"],["F0369","E235"],["F0370","E22E"],["F0372","E232"],["F0380","E233"],["F0381","E234"],["F0382","E246"],["F0390","E20E"],["F0412","E214"],["F0429","E2A6"],["F0013","E237"],["F0016","E238"],["F0028","E239"],["F0029","E283"],["F0030","E284"],["F0031","E285"],["F0032","E286"],["F0033","E287"],["F0034","E288"],["F0036","E289"],["F0038","E28A"],["F0039","E28B"],["F0041","E28C"],["F0044","E28D"],["F0293","E28E"],["F0294","E28F"],["F0297","E290"],["F0298","E291"],["F0299","E292"],["F0300","E293"],["F0301","E294"],["F0302","E295"],["F0303","E296"],["F0304","E297"],["F0305","E298"],["F0306","E299"],["F0323","E29A"],["F0324","E29B"],["F0326","E29C"],["F0327","E29D"],["F0328","E29E"],["F0329","E29F"],["F0331","E2A1"],["F0332","E2A2"],["F0343","E2A3"],["F0344","E2A4"],["F0345","E2A5"],["F0388","E2A7"],["F0391","E2A0"],["F0260","E2B4"],["FD10n","E2B5"],["FK10n","E2B6"],["FS10n","E2B7"],["FBL5n","E2B8"],["FBL1n","E2B9"],["FFS01","E2BA"],["FBL3n","E2BB"],["FCOA1","E2BC"]]};const o={fontFamily:"Fiori2",collectionName:"Fiori3",icons:[["F0246","E218"],["F0247","E219"],["F0250","E21C"],["F0251","E21D"],["F0263","E2A8"],["F0508","E2A9"],["F0509","E2AA"],["F0510","E2AB"],["F0533","E2AC"],["F0534","E2AD"],["F0535","E2AE"],["F0536","E2AF"],["F0537","E2B0"],["F0538","E2B1"],["Lumira001","E2B2"]]};const i={fontFamily:"Fiori2",collectionName:"Fiori4",icons:[["F0194","E2BD"],["F0260","E2B4"],["F0433","E2BE"],["F0499","E2BF"],["F0500","E2C0"],["F0501","E2C1"],["F0502","E2C2"],["F0503","E2C3"],["F0504","E2C4"],["F0507","E2C5"],["F0530","E2C6"],["F0531","E2C7"],["F0539","E2C8"],["F0544","E2C9"],["F0545","E2CA"],["F0547","E2CB"],["F0576","E2CC"],["F0578","E2CD"],["F0579","E2CE"],["F0580","E2CF"],["F0581","E2D0"],["F0582","E2D1"],["F0583","E2D2"],["F0584","E2D3"],["F0586","E2D4"],["F0587","E2D5"],["F0588","E2D6"],["F0589","E2D7"],["F0590","E2D8"],["F0591","E2D9"],["F0593","E2DA"],["F0594","E2DB"],["F0597","E2DC"],["F0603","E2DD"],["F0604","E2DE"],["F0605","E2DF"],["F0606","E2E0"],["F0607","E2E1"],["F0608","E2E2"],["F0609","E2E3"],["F0615","E2E4"],["F0616","E2E5"],["F0618","E2E6"],["F0617","E2E7"],["F0622","E2E8"],["F0623","E2E9"],["F0624","E2EA"],["F0625","E2EB"],["F0626","E2EC"],["F0627","E2ED"],["F0629","E2EE"],["F0630","E2EF"],["F0632","E2F0"],["F0633","E2F1"],["F0634","E2F2"],["F0635","E2F3"],["F0636","E2F4"],["F0638","E2F5"],["F0639","E2F6"],["F0643","E2F7"],["F0644","E2F8"],["F0645","E2F9"],["F0646","E2FA"],["F0648","E2FB"],["F0649","E2FC"],["F0650","E2FD"],["F0654","E2FE"],["F0655","E2FF"],["F0659","E300"],["F0660","E301"],["F0661","E302"],["F0665","E303"],["F0666","E304"],["F0667","E305"],["F0671","E306"],["F0672","E307"],["F0673","E308"],["F0675","E309"],["F0676","E30A"],["F0677","E30B"],// License Blocked Documents
["F0678","E30C"],["F0679","E30D"],["F0680","E30E"],["F0682","E30F"],["F0683","E310"],["F0684","E240"],["F0685","E312"],["F0686","E313"],["F0687","E314"],["F0690","E315"],["F0691","E316"],["F0692","E317"],["F0693","E318"],["F0694","E319"],["F0695","E31A"],["F0700","E31B"],["F0598","E31C"]]};const n={fontFamily:"Fiori2",collectionName:"Fiori5",icons:[["F2001","E31E"],["F0839","E320"],["F0263","E321"],["F0266","E322"],["F0270","E323"],["F0273","E324"],["F0439","E325"],["F0443","E326"],["F0549","E327"],["F0550","E328"],["F0551","E329"],["F0577","E32A"],["F0585","E32B"],["F0637","E32C"],["F0668","E32D"],["F0669","E32E"],["F0670","E330"],["F0688","E331"],["F0689","E332"],["F0701","E333"],["F0702","E334"],["F0703","E335"],["F0706","E336"],["F0707","E337"],["F0708","E338"],["F0711","E339"],["F0712","E33A"],["F0731","E33B"],["F0732","E33C"],["F0733","E33D"],["F0735","E33E"],["F0736","E340"],["F0737","E341"],["F0742","E342"],["F0743","E343"],["F0744","E344"],["F0745","E345"],["F0746","E346"],["F0747","E347"],["F0748","E348"],["F0749","E349"],["F0750","E34A"],["F0751","E34B"],["F0755","E34C"],["F0756","E34D"],["F0757","E34E"],["F0758","E350"],["F0759","E351"],["F0760","E352"],["F0761","E353"],["F0763","E354"],["F0764","E355"],["F0765","E356"],["F0768","E357"],["F0770","E358"],["F0771","E359"],["F0772","E35A"],["F0774","E35B"],["F0776","E35C"],["F0777","E35D"],["F0778","E35E"],["F0788","E360"],["F0789","E361"],["F0790","E362"],["F0791","E363"],["F0792","E364"],["F0793","E365"],["F0794","E366"],["F0806","E367"],["F0807","E368"],["F0808","E369"],["F0809","E36A"],["F0810","E36B"],["F0811","E36C"],["F0812","E36D"],["F0813","E36E"],["F0814","E370"],["F0815","E371"],["F0816","E372"],["F0817","E373"],["F0818","E374"],["F0819","E375"],["F0820","E376"],["F0821","E377"],["F0822","E378"],["F0823","E379"],["F0824","E37A"],["F0825","E37B"],["F0826","E37C"],["F0827","E37D"],["F0828","E37E"],["F0829","E380"],["F0830","E381"],["F0831","E382"],["F0717","E384"],["F0718","E383"],["F0241","E385"],["F0246","E386"],["F0250","E387"],["F0248","E388"],["F0252","E389"],["F0600","E38A"],["F0674","E38B"],["F0247","E38E"],["F0251","E390"]]};const t={fontFamily:"Fiori2",collectionName:"Fiori6",icons:[["F0670-1","E393"],["F0670-2","E394"],["F0670-3","E395"],["F0670-4","E396"],["F0795","E397"],["F0866","E3A0"],["F0865","E3A1"],["F0867","E3A2"],["F0868","E3A3"],["F0869","E3A4"],["F0870","E3A5"],["F0138","E3A6"],["F0752","E3A7"],["F0753","E3A8"],["F0773","E3A9"],["F0891","E3AA"],["F0892","E3AB"],["F1023","E3AC"],["F0767","E3AD"],["F0849","E3AE"]]};const s={fontFamily:"Fiori2",collectionName:"Fiori7",icons:[["F1079","E3B0"],["F0738","E3B1"],["F1301","E3B2"],["F1302","E3B3"],["F1303","E3B4"],["F1338","E3B5"],["F1263","E3B6"],["F1373","E3B7"],["F0863","E3B8"],["F0955","E3B9"],["F1068","E3BA"],["F1242","E3BB"],["F1405","E3BC"],["F1406","E3BD"],["F1407","E3BE"],["F1408","E3BF"],["F1409","E3C0"],["F1410","E3C1"],["F1411","E3C2"],["F1412","E3C3"],["F1413","E3C4"],["F1414","E3C5"],["F1415","E3C6"],["F1476","E3C7"],["F0797","E3C8"],["F0798","E3C9"],["F0800","E3CA"],["F0801","E3CB"],["F0804","E3CC"],["F0850","E3CD"],["F0890","E3CE"],["F1075","E3CF"],["F1394","E3D0"],["F1061","E3D1"],["F1062","E3D2"],["F1255","E3D3"],["F1077","E3D4"],["F0843","E3D5"],["F1076","E3D6"],["F0859","E3D7"],["F1060","E3D8"],["F1053","E3D9"],["F0900","E3DA"],["F0840","E3DB"],["F0842-1","E3A6"],["F0842-2","E22C"]]};const a={fontFamily:"Fiori2",collectionName:"Fiori8",icons:[["F1317","E3DC"],["F1318","E3DD"],["F1319","E3DE"],["F1369","E3DF"],["F1475","E3E0"],["F1345","E3E1"],["F1248","E3E2"],["F1067","E3E3"],["F1332","E3E4"],["F1333","E3E5"],["F1334","E3E6"],["F1335","E3E7"],["F1520","E3E8"],["F1457","E3E9"],["F1504","E3EA"],["F1505","E3EB"]]};const r={fontFamily:"Fiori2",collectionName:"Fiori9",icons:[["F1094","E3EC"],["F1096","E3ED"],["F1353","E3EE"],["F1354","E3EF"],["F1428","E3F0"],["F1492","E3F1"],["F1515","E3F2"],["F1516","E3F3"],["F0997","E400"],["F1512","E401"],["F1562","E402"],["F1564","E403"],["F1599","E404"],["F1596","E405"],["F1254","E406"],["F1618","E407"],["F1561","E408"],["learning-compass","E409"],["partner-enablement","E40A"]]};const c={fontFamily:"Fiori2",collectionName:"S4Hana",icons:[["S0001","E3F4"],["S0002","E3F5"],["S0003","E3F6"],["S0004","E3F7"],["S0005","E3F8"],["S0006","E3F9"],["S0007","E3FA"],["S0008","E3FB"],["S0009","E3FC"],["S0010","E3FD"],["S0011","E3FE"],["S0012","E3FF"]]};const l={fontFamily:"FioriInAppIcons",collectionName:"FioriInAppIcons",icons:[["Hierarchal Tree","e700"],["Open","e701"],["Blocked","e702"],["Partially Blocked","e703"],["Open1","e704"],["Partially Adopted","e705"],["Due","e706"],["Overdue","e707"],["Sort","e708"],["Missing Parts","e709"],["Fire","e70a"],["Dangerous Chemicals","e70b"],["Share","e70c"],["Entertainment","e70d"],["Gift","e70e"],["QR Code","e70f"],["Wifi-Online","e710"],["Wifi-Offline","e711"],["Sunrise","e712"],["Sunset","e713"],["Afternoon","e714"],["Night","e715"],["Loading Date","e715"],["Cloudy","e717"],["Rain","e718"],["Storm","e719"],["Partly Sunny","e71a"],["Heavy Rain","e71b"],["Foggy","e71c"],["Snow","e71d"],["Risk Assessment","e71e"],["Database","e71f"],["Marine","e720"],["Blister","e721"],["Pills","e722"],["Main-Sequence","e723"],["Parallel Sequence","e724"],["Alternative Sequence","e725"],["3D","e726"],["Presentation","e727"],["Mute","e728"],["Windy","e729"],["Oil Tank","e72a"],["Location Assets","e72b"],["Transport Systems","e72c"],["Field","e72d"],["Field Group","e72e"],["Record","e730"],["Record Group","e731"]]};const A={fontFamily:"Fiori2",collectionName:"FioriNonNative",icons:[["FN0001","E392"],["FN0002","E398"],["FN0003","E399"],["FN0004","E39A"],["FN0005","E39B"],["FN0006","E39C"],["FN0007","E39D"],["FN0008","E39E"],["FN0009","E39F"]]};this.registerFonts(e,E,o,i,n,t,s,a,r,l,A,c)};E.registerFonts=function(...E){E.forEach(E=>{E.icons.forEach(e=>{F.addIcon(e[0],E.collectionName,{fontFamily:E.fontFamily,content:e[1],overWrite:false,suppressMirroring:true})})})};return E},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/library", ["sap/ui/base/DataType","sap/ui/core/Lib","sap/ui/core/library","sap/m/library"],(e,a,l,t)=>{"use strict";const s=a.init({name:"sap.ushell",apiVersion:2,version:"1.141.1",dependencies:["sap.ui.core","sap.m"],types:["sap.ushell.AllMyAppsState","sap.ushell.AllMyAppsProviderType","sap.ushell.AppTitleState","sap.ushell.ContentNodeType","sap.ushell.appIntegration.contracts.StatefulType","sap.ushell.components.container.ApplicationType","sap.ushell.DisplayFormat","sap.ushell.NavigationState","sap.ushell.ui.launchpad.ViewPortState","sap.ushell.ui.tile.State","sap.ushell.ui.tile.StateArrow","sap.ushell.VisualizationLoadState","sap.ushell.AppType","sap.ushell.FloatingNumberType"],interfaces:["sap.ushell.renderer.INavContainerPage"],controls:["sap.ushell.appIntegration.ApplicationContainer","sap.ushell.appIntegration.IframeApplicationContainer","sap.ushell.appIntegration.UI5ApplicationContainer","sap.ushell.components.container.ApplicationContainer","sap.ushell.components.factsheet.controls.PictureTile","sap.ushell.components.factsheet.controls.PictureViewer","sap.ushell.components.factsheet.controls.PictureViewerItem","sap.ushell.components.shell.Settings.userDefaults.UserDefaultsForm","sap.ushell.components.tiles.sbtilecontent","sap.ushell.components.workPageBuilder.controls.WorkPage","sap.ushell.components.workPageBuilder.controls.WorkPageButton","sap.ushell.components.workPageBuilder.controls.WorkPageCell","sap.ushell.components.workPageBuilder.controls.WorkPageColumn","sap.ushell.components.workPageBuilder.controls.WorkPageColumnResizer","sap.ushell.components.workPageBuilder.controls.WorkPageRow","sap.ushell.renderer.NavContainer","sap.ushell.ui.launchpad.VizInstance","sap.ushell.ui.launchpad.VizInstanceBase","sap.ushell.ui.launchpad.VizInstanceAbap","sap.ushell.ui.launchpad.VizInstanceCdm","sap.ushell.ui.launchpad.VizInstanceLaunchPage","sap.ushell.ui.launchpad.VizInstanceLink","sap.ushell.ui.AppContainer","sap.ushell.ui.ContentNodeSelector","sap.ushell.ui.ContentNodeTreeItem","sap.ushell.ui.CustomGroupHeaderListItem","sap.ushell.ui.ShellHeader","sap.ushell.ui.appfinder.AppBox","sap.ushell.ui.appfinder.AppBoxInternal","sap.ushell.ui.appfinder.PinButton","sap.ushell.ui.footerbar.AboutButton","sap.ushell.ui.footerbar.AddBookmarkButton","sap.ushell.ui.footerbar.ContactSupportButton","sap.ushell.ui.footerbar.JamDiscussButton","sap.ushell.ui.footerbar.JamShareButton","sap.ushell.ui.footerbar.LogoutButton","sap.ushell.ui.footerbar.SendAsEmailButton","sap.ushell.ui.launchpad.ActionItem","sap.ushell.ui.launchpad.AnchorItem","sap.ushell.ui.launchpad.AnchorNavigationBar","sap.ushell.ui.launchpad.CatalogEntryContainer","sap.ushell.ui.launchpad.CatalogsContainer","sap.ushell.ui.launchpad.DashboardGroupsContainer","sap.ushell.ui.launchpad.GroupHeaderActions","sap.ushell.ui.launchpad.GroupListItem","sap.ushell.ui.launchpad.LinkTileWrapper","sap.ushell.ui.launchpad.LoadingDialog","sap.ushell.ui.launchpad.Page","sap.ushell.ui.launchpad.PlusTile","sap.ushell.ui.launchpad.Section","sap.ushell.ui.launchpad.Tile","sap.ushell.ui.launchpad.TileContainer","sap.ushell.ui.launchpad.TileState","sap.ushell.ui.launchpad.TileStateInternal","sap.ushell.ui.launchpad.section.CompactArea","sap.ushell.ui.shell.FloatingContainer","sap.ushell.ui.shell.NavigationMiniTile","sap.ushell.ui.shell.OverflowListItem","sap.ushell.ui.shell.RightFloatingContainer","sap.ushell.ui.shell.ShellAppTitle","sap.ushell.ui.shell.ShellFloatingAction","sap.ushell.ui.shell.ShellFloatingActions","sap.ushell.ui.shell.ShellHeadItem","sap.ushell.ui.shell.ShellNavigationMenu","sap.ushell.ui.shell.SidePane","sap.ushell.ui.shell.SubHeader","sap.ushell.ui.shell.SysInfoBar","sap.ushell.ui.shell.ToolArea","sap.ushell.ui.shell.ToolAreaItem","sap.ushell.ui.tile.DynamicTile","sap.ushell.ui.tile.ImageTile","sap.ushell.ui.tile.StaticTile","sap.ushell.ui.tile.TileBase"],elements:["sap.ushell.ui.launchpad.AccessibilityCustomData"],extensions:{"sap.ui.support":{diagnosticPlugins:["sap/ushell/support/plugins/flpConfig/FlpConfigurationPlugin"]}}});s.AllMyAppsState={FirstLevel:"FirstLevel",SecondLevel:"SecondLevel",Details:"Details",FirstLevelSpread:"FirstLevelSpread"};s.AllMyAppsProviderType={HOME:0,EXTERNAL:1,CATALOG:2};s.AppTitleState={ShellNavMenuOnly:"ShellNavMenuOnly",AllMyAppsOnly:"AllMyAppsOnly",ShellNavMenu:"ShellNavMenu",AllMyApps:"AllMyApps"};s.ContentNodeType={HomepageGroup:"HomepageGroup",Space:"Space",Page:"Page",Visualization:"Visualization"};s.appIntegration=s.appIntegration||{};s.appIntegration.contracts=s.appIntegration.contracts||{};s.appIntegration.contracts.StatefulType={NotSupported:"NotSupported",ContractV1:"ContractV1",ContractV2:"ContractV2"};e.registerEnum("sap.ushell.appIntegration.contracts.StatefulType",s.appIntegration.contracts.StatefulType);s.components=s.components||{};s.components.container=s.components.container||{};s.components.container.ApplicationType={NWBC:"NWBC",SAPUI5:"SAPUI5",TR:"TR",URL:"URL",WCF:"WCF",WDA:"WDA"};e.registerEnum("sap.ushell.components.container.ApplicationType",s.components.container.ApplicationType);s.DisplayFormat={Standard:"standard",Compact:"compact",Flat:"flat",FlatWide:"flatWide",StandardWide:"standardWide"};e.registerEnum("sap.ushell.DisplayFormat",s.DisplayFormat);s.NavigationState={InProgress:"InProgress",Finished:"Finished"};s.ui=s.ui||{};s.ui.launchpad=s.ui.launchpad||{};s.ui.launchpad.ViewPortState={Left:"Left",Center:"Center",Right:"Right",LeftCenter:"LeftCenter",CenterLeft:"CenterLeft",RightCenter:"RightCenter",CenterRight:"CenterRight"};s.ui.tile=s.ui.tile||{};s.ui.tile.State={Neutral:"Neutral",None:"None",Negative:"Negative",Error:"Error",Positive:"Positive",Success:"Success",Critical:"Critical",Warning:"Warning"};e.registerEnum("sap.ushell.ui.tile.State",s.ui.tile.State);s.ui.tile.StateArrow={None:"None",Up:"Up",Down:"Down"};e.registerEnum("sap.ushell.ui.tile.StateArrow",s.ui.tile.StateArrow);s.VisualizationLoadState={Loading:"Loading",Loaded:"Loaded",InsufficientRoles:"InsufficientRoles",OutOfRoleContext:"OutOfRoleContext",NoNavTarget:"NoNavTarget",Failed:"Failed",Disabled:"Disabled"};s.AppType={OVP:"OVP",SEARCH:"Search",FACTSHEET:"FactSheet",COPILOT:"Co-Pilot",URL:"External Link",APP:"Application"};s.FloatingNumberType={None:"None",Notifications:"Notifications",OverflowButton:"OverflowButton"};e.registerEnum("sap.ushell.FloatingNumberType",s.FloatingNumberType);s.NavigationBarMenuState={Button:"Button",Menu:"Menu"};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/modules/NavigationMenu", ["sap/ushell/Config","sap/ushell/modules/NavigationMenu/NavigationMenuMode"],(i,e)=>{"use strict";class o{NavigationMenuMode=e;constructor(){i.emit("/core/sideNavigation/enabled",true)}setNavigationListProvider(e,o){i.emit("/core/sideNavigation/navigationListProvider",{modulePath:e,configuration:JSON.stringify(o||{})})}setFixedNavigationListProvider(e,o){i.emit("/core/sideNavigation/fixedNavigationListProvider",{modulePath:e,configuration:JSON.stringify(o||{})})}setMode(o){if(!Object.values(e).includes(o)){throw new Error(`Invalid mode: ${o}`)}i.emit("/core/sideNavigation/mode",o)}}return new o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/modules/NavigationMenu/ListProvider", [],()=>{"use strict";class e{constructor(e){}async getRootItem(){throw new Error("Method not implemented.")}async findSelectedKey(){throw new Error("Method not implemented.")}}return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/modules/NavigationMenu/ListProviderAPI", [],()=>{"use strict";class e{getConfigValue(e){if(false){return undefined}throw new Error("Method not implemented.")}getNavContainerFacade(){if(false){return undefined}throw new Error("Method not implemented.")}async updateSelectedKey(){throw new Error("Method not implemented.")}openSideNavigation(){throw new Error("Method not implemented.")}closeSideNavigation(){throw new Error("Method not implemented.")}expandSideNavigation(){throw new Error("Method not implemented.")}collapseSideNavigation(){throw new Error("Method not implemented.")}}return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/modules/NavigationMenu/NavContainer", [],()=>{"use strict";class e{add(e){throw new Error("Method not implemented.")}to(e){throw new Error("Method not implemented.")}toRoot(){throw new Error("Method not implemented.")}}return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/modules/NavigationMenu/NavigationMenuMode", [],()=>{"use strict";const e={Docked:"Docked",Popover:"Popover"};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/navigation/NavigationState", ["sap/ui/base/EventProvider"],n=>{"use strict";class i{#n=false;#i=new n;startNavigation(){if(this.#n){return}this.#n=true;this.#i.fireEvent("navigationStateChanged",{isNavigationRunning:this.#n})}endNavigation(){if(!this.#n){return}this.#n=false;this.#i.fireEvent("navigationStateChanged",{isNavigationRunning:this.#n})}isNavigationRunning(){return this.#n}attachNavigationStateChanged(...n){this.#i.attachEvent("navigationStateChanged",...n)}detachNavigationStateChanged(...n){this.#i.detachEvent("navigationStateChanged",...n)}reset(){this.destroy();this.#i=new n;this.#n=false}destroy(){this.#i.destroy()}}return new i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/navigationMode", ["sap/base/Log","sap/base/util/isPlainObject","sap/ushell/Config"],(e,n,a)=>{"use strict";const i={};function o(n){let a=true;if(n){if(typeof n!=="object"){a=false}else{Object.keys(n).forEach(e=>{if(["GUI","WDA","WCF"].indexOf(e)===-1){a=false}else if(typeof n[e]!=="boolean"){a=false}})}}if(!a){e.error("Invalid parameter: 'enableInPlaceForClassicUIs' must be an object; allowed properties: GUI|WDA, type boolean",`Actual parameter: ${JSON.stringify(n)}`,"sap.ushell.services.navigationMode")}}function t(e){switch(e){case"TR":return"GUI";case"WDA":return"WDA";case"WCF":return"WCF";default:return undefined}}i._isInplaceEnabledForApplicationType=function(e){const i=a.last("/core/navigation/enableInPlaceForClassicUIs");o(i);if(n(i)){return i[t(e)]}return false};i._getInternalNavigationMode=function(n,a){const i=a.applicationType;const o={SAPUI5:{inplace:"embedded",explace:"newWindowThenEmbedded",frameless:"newWindowThenEmbedded"},WDA:{inplace:"embedded",explace:"newWindowThenEmbedded",frameless:"newWindow"},TR:{inplace:"embedded",explace:"newWindowThenEmbedded",frameless:"newWindow"},URL:{inplace:"embedded",explace:"newWindow",frameless:"newWindow"},WCF:{inplace:"embedded",explace:"newWindowThenEmbedded",frameless:"newWindow"}};if(!o.hasOwnProperty(i)){e.error(`${i} is not a valid application type`,`expected one of ${Object.keys(o).join(", ")}`,"sap.ushell.navigationMode");return null}if(n!=="inplace"&&n!=="explace"&&n!=="frameless"){e.error(`${n} is not a valid external navigation mode`,"expected one of 'inplace', 'explace' or 'frameless'","sap.ushell.navigationMode");return null}if(i==="SAPUI5"&&n==="frameless"){e.error(`'${n}' is not a valid external navigation mode for application type '${i}'`,`falling back to internal navigation mode '${o.SAPUI5.frameless}'`,"sap.ushell.navigationMode")}if(i==="URL"){const i=a.appCapabilities?a.appCapabilities.templateNavigationMode:undefined;if(i){const a={embedded:{inplace:"embedded",explace:"newWindowThenEmbedded",frameless:"newWindowThenEmbedded"},standalone:{inplace:"newWindow",explace:"newWindow",frameless:"newWindow"}};if(i==="standalone"&&n==="inplace"){e.warning("Inplace navigation was requested for an app that supports only standalone mode! 'newWindow' used instead...","sap.ushell.navigationMode")}if(i==="embedded"&&n==="frameless"){e.warning("Frameless navigation was requested for an app that supports only embedded mode! 'newWindowThenEmbedded' used instead...","sap.ushell.navigationMode")}return a[i][n]}}return o[i][n]};i.getExternalNavigationMode=function(n){const a={embedded:"inplace",newWindowThenEmbedded:"explace",replace:"inplace",newWindow:"explace"};if(!a.hasOwnProperty(n)){e.error(`${n} is not a recognized internal navigation mode`,`expected one of ${Object.keys(a).join(",")}`,"sap.ushell.navigationMode");return null}return a[n]};const d=["NWBC","WDA","TR","WCF"];i.getNavigationMode=function(n,a,o){const t=n.additionalInformation;const l=n.applicationType;let s;let r;const p={navigationMode:undefined,explicitNavMode:false};if(["inplace","explace"].indexOf(o)>=0){p["sap-ushell-next-navmode"]=o}if(["inplace","explace","frameless"].indexOf(a)>=0){const o=i._getInternalNavigationMode(a,n);e.debug(`Navigation mode was forced to ${o} because sap-ushell-navmode parameter was set to ${a} for target`,"sap.ushell.navigationMode");p.navigationMode=o;p.explicitNavMode=true;return p}if(i._isInplaceEnabledForApplicationType(l)===true){p.navigationMode=i._getInternalNavigationMode("inplace",n)}if(n.appCapabilities&&n.appCapabilities.navigationMode){p.navigationMode=n.appCapabilities.navigationMode;return p}if((t===null||typeof t==="string"||typeof t==="undefined")&&(l==="URL"||l==="SAPUI5")){if(t&&t.indexOf("managed=")===0){if(t==="managed=FioriWave1"){p.navigationMode="embedded";return p}if(t==="managed="){p.navigationMode="newWindow";return p}return p}if(t&&t.indexOf("SAPUI5.Component=")===0){s="[a-zA-Z0-9_]+";r=["^SAPUI5.Component=",s,"([.]",s,")*$"].join("");if(!new RegExp(r).test(t)){e.warning(["The UI5 component name in",t,"is not valid.","Please use names satisfying",r].join(" "))}p.navigationMode="embedded";return p}p.navigationMode="newWindow";return p}if(p.navigationMode===undefined){if(d.indexOf(l)>-1){p.navigationMode="newWindowThenEmbedded"}else if(l==="SAPUI5"){p.navigationMode="embedded"}else{p.navigationMode="newWindow";e.error(`Invalid ApplicationType: ${l}`)}}return p};i.computeNavigationModeForHomepageTiles=function(e,n,a){const i={applicationType:e,additionalInformation:n};if(d.indexOf(e)>-1&&a){return"embedded"}return this.getNavigationMode(i).navigationMode};return i},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/override", ["sap/m/GroupHeaderListItem","sap/ui/base/ManagedObject","sap/base/util/uid","sap/base/util/each"],(t,e,n,s)=>{"use strict";const i={};i.updateAggregation=function(t){if(this.isTreeBinding(t)){e.prototype.updateAggregation.apply(this,arguments)}else{const s=this.mBindingInfos[t];const o=s.binding;const r=o.getContexts();const a=s.factory;const g=this.getMetadata().getJSONKeys()[t];const d=`${g._sMutator}Group`;const l=o.isGrouped()&&this[d];let u=[];const p=function(t){const e=`${this.getId()}-${n()}`;const i=a(e,t);if(i.isA("sap.ui.integration.widgets.Card")){i.setBindingContext(t,"ushellCardModel")}else{i.setBindingContext(t,s.model)}this[g._sMutator](i)}.bind(this);if(l){e.prototype.updateAggregation.apply(this,arguments)}else{u=this[g._sGetter]();i._adaptCurrentGroup(r,u);i._updateCurrentGroup(r,u,s.model,p);u.length=r.length}}};i._adaptCurrentGroup=function(t,e){let n;let s;let i;for(n=0;n<t.length;n++){s=!!(e[n]&&e[n].isA("sap.ui.integration.widgets.Card"));i=!!t[n].getProperty(`${t[n].sPath}/isCard`);if(s||i){let t=n;for(;t<e.length;t++){e[t].destroy()}break}}};i._updateCurrentGroup=function(t,e,n,s){let i;for(i=0;i<t.length;i++){if(i<e.length&&!e[i].bIsDestroyed){e[i].setBindingContext(t[i],n)}else{s(t[i])}}for(;i<e.length;++i){e[i].destroy()}};i.updateAggregationGrouped=function(e){const n=this.mBindingInfos[e];const i=n.binding;const o=n.factory;let r;let a=null;let g=null;let d=null;const l=this;let u=l.getItems();let p=0;let c=0;let f;let h;const y=[];g=i.isGrouped()&&this.addItemGroup;s(i.getContexts(),(e,m)=>{if(g&&i.aSorters.length>0){a=i.aSorters[0].fnGroup(m);if(typeof a==="string"){a={key:a}}if(a.key!==d){let e;if(n.groupHeaderFactory){e=n.groupHeaderFactory(a)}const s=e||new t({title:a.text||a.key}).addStyleClass("sapMListHdr");l.insertAggregation("items",s,c,true);c=c+1;d=a.key}}u=l.getItems();for(f=c;f<u.length;f=f+1){if(u[f].constructor===t){y.push(l.removeItem(u[f]));u=l.getItems()}}if(c<u.length){u[c].setBindingContext(m,n.model);if(u[c].aDelegates){s(u[c].aDelegates,(t,e)=>{e.vThis=m})}}else{h=`${l.getId()}-${c}`;r=o(h,m);r.setBindingContext(m,n.model);l.addItem(r)}c=c+1;p=c});for(f=u.length-1;f>=p;f=f-1){y.push(l.removeItem(u[f]))}setTimeout(()=>{s(y,(t,e)=>{e.destroy()})},1)};i.updateAggregatesFactory=function(t){return function(){i.updateAggregation.bind(this)(t)}};return i},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/performance/FesrEnhancer", ["sap/base/Log","sap/base/util/deepExtend","sap/ui/performance/trace/FESR","sap/ushell/EventHub","sap/ushell/performance/ShellAnalytics","sap/ushell/renderer/RendererManagedComponents"],(e,t,n,r,a,i)=>{"use strict";const s="FesrEnhancer";const o="[FesrFlp]";const c={HOME_INITIAL:"FLP@LOAD",HOME_LOADING:"FLP@DURING_LOAD",FINDER_INITIAL:"FLP@LOAD_FINDER",APP_INITIAL:"FLP@DEEP_LINK",NAVIGATION:"NAVIGATION",CUSTOM_HOME_INITIAL:"FLPCUSTOMHOME"};const l=[c.HOME_INITIAL,c.FINDER_INITIAL,c.CUSTOM_HOME_INITIAL,c.APP_INITIAL];const u={APP_START:1,STEP_IN_APP:2,UNKNOWN:3};const d=["stepName","appNameLong","appNameShort","interactionType","timeToInteractive"];const p={stepName:{maxLength:20,postfix:"@H2H"},appNameShort:{maxLength:20}};const f={_fnOriginalOnBeforeCreated:null,_oLastTrackedRecord:null,init:function(){if(n.getActive()){a.enable();this._fnOriginalOnBeforeCreated=n.onBeforeCreated;n.onBeforeCreated=this._onBeforeCreatedHandler.bind(this)}},reset:function(){n.onBeforeCreated=this._fnOriginalOnBeforeCreated;a.disable();this._setLastTrackedRecord(null)},_getPerformanceEntries:function(e,t){if(t){return performance.getEntriesByName(e)}return performance.getEntriesByType("mark").filter(t=>t.name.includes(e))},_getLastTrackedApplicationId:function(){const e=a.getCurrentApplication();if(e){return e.id}return null},_getLastTrackedRecord:function(){return this._oLastTrackedRecord},_setLastTrackedRecord:function(e){this._oLastTrackedRecord=e},_getLastFesrHandle:function(){const e=this._oLastFesrHandle;this._oLastFesrHandle=undefined;return e!==undefined?e:null},_setLastFesrHandle:function(e){this._oLastFesrHandle=e},_onBeforeCreatedHandler:function(n,a){let i=t({},n);try{const{scenario:t,relatedRecord:n}=this._detectScenario(i);e.debug(`${o} identified scenario: ${t}`,null,s);const a=this._getLastTrackedApplicationId();if(a){i.appNameShort=a}let u;switch(t){case c.HOME_INITIAL:case c.CUSTOM_HOME_INITIAL:case c.FINDER_INITIAL:u=this._enhanceInitialStart(i,t,n);break;case c.APP_INITIAL:u=this._enhanceInitialAppStart(t,n);break;case c.NAVIGATION:case c.HOME_LOADING:u=this._enhanceNavigationRecord(t,n);break;default:e.debug(`${o} unknown scenario, step name: ${i.stepName}`,null,s);this._setLastFesrHandle(i);return i}if(l.includes(t)){r.emit("startUpFesrEnhanced",Date.now())}u=this.sanitizeEnhancement(u);i={...i,...u};e.debug(`${o} passing enhancements:`,JSON.stringify(u,null,2),s)}catch(t){e.error(`${o} Could not enhance the FESR:`,t,s)}e.debug(`${o}      => UI5: ${i.stepName} - ${i.appNameShort}`,null,s);this._setLastFesrHandle(i);return i},shortenAccordingToFormatter:function(e,t){let n="";if(t&&t.maxLength){n=e.substring(0,t.maxLength)}else{n=e}return n},shortenWithPostfix:function(e,t,n=0){const r=p[t];if(r){if(r.postfix){if(e.endsWith(r.postfix)){const t={...r,maxLength:r.maxLength-r.postfix.length+n};const a=this.shortenAccordingToFormatter(e.slice(0,-1*t.postfix.length),t);return a+t.postfix}}return this.shortenAccordingToFormatter(e,r)}return e},sanitizeValue:function(e,t){if(d.includes(t)&&e){if(typeof e==="string"&&e.includes(":")){const[n,r]=e.split(":");return`${this.shortenWithPostfix(n,t,-5)}:${r}`}return this.shortenWithPostfix(e,t)}},sanitizeEnhancement:function(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];const a=this.sanitizeValue(r,n);if(a!==undefined){t[n]=a}return t},{})},_getRelevantPerformanceMark:function(t){if(!t){e.warning(`${o} Could not determine performance mark`,"No Statistical Record found",s);return}const n=[];if(t.getTargetIsHomeApp()){n.push(this._getPerformanceEntries("FLP-TTI-Homepage-Custom",true)[0])}else{switch(t.getTargetApplication()){case"FLP_HOME":n.push(this._getPerformanceEntries("FLP-TTI-Homepage",true)[0]);break;case"FLP_PAGE":n.push(this._getPerformanceEntries("FLP-TTI-Homepage",true)[0]);n.push(this._getPerformanceEntries("FLP-Pages-Service-loadPage-end",false)[0]);break;case"FLP_FINDER":n.push(this._getPerformanceEntries("FLP-TTI-AppFinder",true)[0]);break;default:}}return n.filter(e=>{if(!e){return false}if(typeof e.startTime!=="number"){return false}if(e.startTime>t.getTimeStart()){return true}return false})[0]},_detectScenario:function(t){if(t.stepName==="undetermined_startup"){let n;const r=a.getLastClosedRecord();if(r){this._setLastTrackedRecord(r)}else{e.warning(`${o} Identified undetermined_startup but could not find a closed StatisticalRecord`,null,s);return{scenario:null,relatedRecord:null}}if(r.getTargetIsHomeApp()){n=c.CUSTOM_HOME_INITIAL}else{switch(t.appNameLong){case"sap.ushell.components.appfinder":n=c.FINDER_INITIAL;break;default:if(i.isManagedComponentName(t.appNameLong)){if(r.getStep()===c.APP_INITIAL){n=c.APP_INITIAL}else{n=c.HOME_INITIAL}}else{n=c.APP_INITIAL}}}return{scenario:n,relatedRecord:r}}const n=this._getLastTrackedRecord();const r=a.getNextNavigationRecords(n);if(r.length){const t=r[r.length-1];if(r.length>1){const t=r.reduce((e,t,n)=>{if(n<r.length-1){e.push(t.getTargetHash())}return e},[]);e.warning(`${o} skipped Records:`,JSON.stringify(t,null,2),s)}if(n&&t.isEqual(n)){return{scenario:null,relatedRecord:null}}this._setLastTrackedRecord(t);const a=t.getStep()===c.HOME_LOADING?c.HOME_LOADING:c.NAVIGATION;return{scenario:a,relatedRecord:t}}return{scenario:null,relatedRecord:null}},_enhanceInitialStart:function(t,n,r){const a={};if(n===c.CUSTOM_HOME_INITIAL){a.stepName=`${n}@${t.appNameShort}`}else{a.stepName=n}a.interactionType=u.APP_START;a.appNameShort=r.getTargetAppNameShort()||r.getTargetApplication();const i=this._getRelevantPerformanceMark(r);if(i){e.debug(`${o} using performance mark: ${i.name}`,null,s);a.timeToInteractive=i.startTime}else{e.warning(`${o} Scenario ${n} detected did not found a performance mark`,null,s)}return a},_enhanceNavigationRecord:function(t,n){const r={};if(t!=="FLP@DURING_LOAD"){r.stepName=n.getStep()}if(n.getTargetApplicationType()==="UI5"){r.interactionType=u.APP_START}r.appNameShort=n.getTargetAppNameShort()||n.getTargetApplication();const a=this._getRelevantPerformanceMark(n);if(/^FLP_BACK/.test(r.stepName)&&a){e.debug(`${o} using performance mark: ${a.name}`,null,s);r.timeToInteractive=a.startTime-n.getTimeStart()}return r},_enhanceInitialAppStart:function(e,t){const n={};n.stepName=e;if(t.getTargetApplicationType()==="UI5"){n.interactionType=u.APP_START}else{n.interactionType=u.STEP_IN_APP}return n}};return f},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/performance/ShellAnalytics", ["sap/base/Log","sap/ushell/EventHub","sap/ushell/services/AppConfiguration","sap/ushell/performance/StatisticalRecord","sap/ushell/utils","sap/ushell/Container"],(e,n,t,a,i,r)=>{"use strict";const o="ShellAnalytics";const c="[FesrFlp]";let s=[];let l=[];let p=false;let u=false;let d=false;let h;let f;let g;const m={EXPLACE:"EXPLACE",INPLACE:"INPLACE"};const A={"sap.ushell.components.appfinder":"FLP_FINDER","sap.ushell.components.pages":"FLP_PAGE","sap.ushell.components.homepage":"FLP_HOME"};function C(e){if(!e){return false}return e.id==="FLP_HOME"||e.id==="FLP_PAGE"}function v(e){return e&&e.isHomeApp}function N(){return s}function I(){const e=N().filter(e=>e.isClosed());if(e.length>0){return e[e.length-1]}return null}function y(e){if(!e){return N().filter(e=>e.isClosed())}return N().filter(n=>e.getTimeStart()<n.getTimeStart()&&n.isClosed())}function E(){return f}function P(n){e.debug(`${c} ShellAnalytics setCurrentApplication: ${n&&n.id}`,null,o);f=n}function L(){g=performance.now();i.setPerformanceMark("FLP -- change hash")}function S(){if(!h){const e=s[s.length-1]||null;h=new a(e);s.push(h)}return h}function T(e){if(d){d=false;return}const n=S();n.setTargetHash(e);n.setTimeStart(g||performance.now())}function R(e){const n=e||"";if(n.slice(-7)==="(TCODE)"){return n.replace(/ .*/,"").replace(/^\*/,"").replace(/,/g,"").substring(0,15).concat(" (TR)")}return n}function H(e){let n="";const t=e.componentInstance&&e.componentInstance.getManifest();if(t&&t["sap.app"]&&t["sap.app"].id){n=t["sap.app"].id}return n}async function F(){const e=await r.getServiceAsync("AppLifeCycle");const n=e.getCurrentApplication();if(!n){return{}}const a=n&&n.componentInstance&&n.componentInstance.sId&&n.componentInstance.sId.includes("homeApp-component");let i;if(n.getTechnicalParameter){i=n.getTechnicalParameter("sap-fiori-id")}else{i=Promise.resolve([])}const o=await i;let c=o&&o[0];if(a){return{type:"UI5",id:c,isHomeApp:true}}if(n.homePage){const e=A[H(n)]||"FLP_HOME";return{type:"UI5",id:e}}if(n.applicationType==="UI5"){if(!c){c=H(n);c=A[c]||c}c=c.replace(/,/g,"");return{type:"UI5",id:c}}const s=t.getMetadata().technicalName||t.getCurrentApplication().text||n.applicationType;const l=R(s);return{type:n.applicationType,id:l}}function w(e,n,t,a){if(a){a.setSourceApplication(e&&e.id);a.setTargetApplication(n&&n.id);a.setTargetApplicationType(n&&n.type);a.setNavigationMode(t);a.setTargetIsHomeApp(v(n));a.setSourceIsHomeApp(v(e));if(!p&&(v(n)||C(n))){p=true;a.setHomepageLoading(true)}a.closeRecord()}}async function b(e){const n=await r.getServiceAsync("AppLifeCycle");const{ApplicationType:t}=n;return[t.WDA,t.NWBC,t.TR].includes(e)}function M(e){if(!h){return}const n=h;h=null;F().then(async t=>{const a=E();const i=await b(t.type);if(e&&e.technicalName&&i){t.id=R(e.technicalName);t.type=t.id.slice(-4)==="(TR)"?"GUI":"NWBC"}P(t);w(a,t,m.INPLACE,n)})}function O(){d=true;const e=h;h=null;const n=E();w(n,null,m.EXPLACE,e)}function $(){if(h){const e=E();h.setSourceApplication(e?e.id:undefined);h.closeRecordWithError();h=null}}async function _(){const e=await r.getServiceAsync("ShellNavigationInternal");e.hashChanger.attachEvent("hashChanged",L);e.hashChanger.attachEvent("shellHashChanged",L)}async function U(){const e=await r.getServiceAsync("ShellNavigationInternal");e.hashChanger.detachEvent("hashChanged",L);e.hashChanger.detachEvent("shellHashChanged",L)}function W(e){const n=S();n.enhanceTargetApplicationData({pageId:e.pageId,spaceId:e.spaceId})}function D(){if(u){return}u=true;const t=[{once:true,eventName:"ShellNavigationInitialized",handler:_},{eventName:"trackHashChange",handler:T},{eventName:"doHashChangeError",handler:$},{once:true,eventName:"firstSegmentCompleteLoaded",handler:M},{once:true,eventName:"firstCatalogSegmentCompleteLoaded",handler:M},{once:true,eventName:"PagesRuntimeRendered",handler:M},{once:true,eventName:"CustomHomeRendered",handler:M},{eventName:"PageRendered",handler:W},{eventName:"FESRAppLoaded",handler:M},{eventName:"openedAppInNewWindow",handler:O},{eventName:"CloseFesrRecord",handler:M}];const a=t.map(t=>{if(t.once){return n.once(t.eventName).do((...n)=>{e.debug(`${c} Incoming event: ${t.eventName}`,JSON.stringify(n[0],null,2),o);t.handler(...n)})}return n.on(t.eventName).do((...n)=>{e.debug(`${c} Incoming event: ${t.eventName}`,JSON.stringify(n[0],null,2),o);t.handler(...n)})});l=[...l,...a]}function G(){if(!u){return}l.forEach(e=>{e.off()});l=[];U();P(null);s=[];h=null;u=false;d=false}return{enable:D,disable:G,getAllRecords:N,getCurrentApplication:E,getLastClosedRecord:I,getNextNavigationRecords:y}},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/performance/StatisticalRecord", ["sap/base/Log","sap/ui/performance/trace/Interaction","sap/ushell/api/performance/Extension"],(t,i,e)=>{"use strict";const r="StatisticalRecord";const s="[FesrFlp]";const o={OPEN:"OPEN",CLOSED:"CLOSED",ERROR:"ERROR"};const a=new e;class n{#t=null;#i=null;#e=false;#r=o.OPEN;#s=null;#o=null;#a=null;#n=null;#l=null;#c=null;#p=null;#h=null;#d=null;#u={};#g=null;constructor(){t.debug(`${s} ======================================`," OPEN ",r);t.debug(`${s} Opening Record`,null,r);this.#A()}setNavigationMode(t){if(this.isClosed()||this.isClosedWithError()){throw new Error("Statistical record is already closed!")}this.#i=t}setHomepageLoading(t){if(this.isClosed()||this.isClosedWithError()){throw new Error("Statistical record is already closed!")}this.#e=t}getSourceApplication(){return this.#l}#A(){if(!this.#g){t.debug(`${s} Interaction Start`,null,r);this.#g=i.notifyAsyncStep()}}#E(){if(this.#g){t.debug(`${s} Interaction End`,null,r);this.#g();this.#g=null}}#m(){t.debug(`${s} Calculating Step`,null,r);const i=a.getNavigationSource();const e=i?`:${i.id}`:"";const o=this.#h||this.#S(this.#p);const n=this.#c||this.#S(this.#l);if(!this.#p&&!this.#l){return""}if(!this.#l&&o){return"FLP@DURING_LOAD"}if(!this.#l&&!o){return"FLP@DEEP_LINK"}if(!o&&!n){return`A2A@${this.#l}${e}`}if(this.#l&&o&&!n){return`FLP_BACK@${this.#l}${e}`}if(n&&o){if(["FLP_FINDER","FLP_HOME"].includes(this.#p)){return`${this.#p}@H2H${e}`}if(this.#h){return`${this.#p}@H2H${e}`}return`${this.#u.pageId}@H2H${e}`}if(this.#S(this.#l)){return`FLP@HOMEPAGE_TILE${e}`}if(this.#c){return`APPSTART@CUSTOMHOME${e}`}return""}isEqual(t){return this.#a===t.getTimeStart()}closeRecord(){this.#s=this.#m();this.#r=o.CLOSED;this.#n=performance.now();if(this.#a){this.#t=this.#n-this.#a}this.#E();t.debug(`${s} Closing Record`,`${this.#s} - ${this.getTargetAppNameShort()||this.#p}`,r);t.debug(`${s} ======================================`,"___ CLOSE ___",r)}closeRecordWithError(){this.#r=o.ERROR;this.#n=performance.now();this.#t=this.#n-this.#a;this.#E();t.debug(`${s} Closing Record with Error`,`${this.getTargetAppNameShort()||this.#p}`,r);t.debug(`${s} ======================================`,"___ CLOSE ___",r)}isClosed(){return this.#r===o.CLOSED}isClosedWithError(){return this.#r===o.ERROR}getStep(){if(!this.isClosed()&&!this.isClosedWithError()){throw new Error("Statistical record is still open no step can be determined!")}return this.#s}getTimeStart(){return this.#a}setTimeStart(t){if(this.isClosed()||this.isClosedWithError()){throw new Error("Statistical record is already closed!")}this.#a=t}getTimeEnd(){return this.#n}setSourceApplication(i){if(this.isClosed()||this.isClosedWithError()){throw new Error("Statistical record is already closed!")}t.debug(`${s} Record setSource: ${i}`,null,r);this.#l=i}getTargetApplication(){return this.#p}setTargetApplication(i){if(this.isClosed()||this.isClosedWithError()){throw new Error("Statistical record is already closed!")}t.debug(`${s} Record setTarget: ${i}`,null,r);this.#p=i}getTargetAppNameShort(){if(this.#p==="FLP_PAGE"){const{pageId:t}=this.#u;if(t){return"FLP_PAGE"}}return null}getTargetApplicationType(){return this.#d}setTargetApplicationType(t){if(this.isClosed()||this.isClosedWithError()){throw new Error("Statistical record is already closed!")}this.#d=t}setTargetIsHomeApp(t){if(this.isClosed()||this.isClosedWithError()){throw new Error("Statistical record is already closed!")}this.#h=!!t}getTargetIsHomeApp(){return!!this.#h}setTargetHash(t){if(this.isClosed()||this.isClosedWithError()){throw new Error("Statistical record is already closed!")}this.#o=t}getTargetHash(){return this.#o}setSourceIsHomeApp(t){if(this.isClosed()||this.isClosedWithError()){throw new Error("Statistical record is already closed!")}this.#c=!!t}getSourceIsHomeApp(){return!!this.#c}#S(t){return t&&["FLP_HOME","FLP_PAGE","FLP_FINDER"].includes(t)}enhanceTargetApplicationData(t){if(this.isClosed()||this.isClosedWithError()){throw new Error("Statistical record is already closed!")}this.#u={...this.#u,...t}}}return n},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/plugins/BaseRTAPlugin", ["sap/ui/core/Component","sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils","sap/ushell/appRuntime/ui5/plugins/baseRta/CheckConditions","sap/ushell/appRuntime/ui5/plugins/baseRta/Trigger"],(t,i,e,n)=>{"use strict";const o=t.extend("sap.ushell.plugins.BaseRTAPlugin",{sType:null,init:function(t){this.mConfig=t;this.mConfig.i18n=this.getModel("i18n").getResourceBundle();this.mConfig.loadPlugins=this._loadPlugins.bind(this);this.mConfig.onStartHandler=this._onStartHandler.bind(this);this.mConfig.onErrorHandler=this._onErrorHandler.bind(this);this.mConfig.onStopHandler=this._onStopHandler.bind(this);this.oTrigger=new n(this.mConfig);this._oPluginPromise=(async()=>{await this.oTrigger.getInitPromise();if(this.mConfig.checkRestartRTA&&e.checkRestartRTA(this.mConfig.layer)){await this.oTrigger.triggerStartRta(this)}const t=await i.getAppLifeCycleService();await t.attachAppLoaded(this._onAppLoaded,this)})()},getPluginPromise:function(){return this._oPluginPromise},exit:function(){this._oPluginPromise=this._oPluginPromise.then(i.getAppLifeCycleService).then(t=>{t.detachAppLoaded(this._onAppLoaded,this);if(this._onRendererCreated){const t=i.getContainer();t.detachRendererCreatedEvent(this._onRendererCreated,this)}})},_onAppLoaded:async function(){if(await e.checkRtaPrerequisites()){if(e.checkRestartRTA(this.mConfig.layer)){this.oTrigger.triggerStartRta(this)}this._setButtonVisibility(true)}else{this._setButtonVisibility(false)}},_onAdapt:function(){return this.oTrigger.triggerStartRta(this)},_setButtonVisibility:function(t){if(!this.oActionButton){return}if(t){this.oActionButton.showForAllApps();this.oActionButton.showOnHome()}else{this.oActionButton.hideForAllApps();this.oActionButton.hideOnHome()}},_exitAdaptation:function(){if(this._switchToDefaultMode){this._switchToDefaultMode()}this.oTrigger.exitRta()},_onStartHandler:function(){},_onErrorHandler:function(){this._exitAdaptation()},_onStopHandler:function(){this._exitAdaptation()},_loadPlugins:function(){return Promise.resolve()}});return o},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/plugins/appwarmup/Component", ["sap/ui/core/Component","sap/ui/core/service/ServiceFactory","sap/ui/core/service/ServiceFactoryRegistry","./ShellUIService","sap/base/Log"],(e,a,t,s,n)=>{"use strict";const p=sap.ui.require.toUrl("sap/ushell/plugins/ghostapp");const i={name:"sap.ushell.plugins.ghostapp",manifest:true,asyncHints:{libs:[{name:"sap.m"},{name:"sap.ui.core"},{name:"sap.f"},{name:"sap.suite.ui.generic.template"},{name:"sap.ui.comp"},{name:"sap.ui.fl"},{name:"sap.ui.generic.app"},{name:"sap.ui.generic.template"},{name:"sap.ui.table"},{name:"sap.ui.unified"},{name:"sap.uxap"},{name:"sap.ui.layout"}],cacheTokens:{dataSources:{"/ghostapp-c9f1f0bd-ff78-4660-9a1f-295814f00fe0/":"20180613155243"}},requests:[{name:"sap.ui.fl.changes",reference:"sap.ushell.plugins.ghostapp.Component"}],waitFor:{}},id:"sap.ushell.plugins.ghostapp",componentData:{startupParameters:{},technicalParameters:{}},async:true};const o="sap.ushell.plugins.appwarmup.Component";return e.extend(o,{metadata:{version:"1.141.1",library:"sap.ushell"},doWarmUp:function(){const o=[];o.push(new Promise((e,a)=>{sap.ui.require(["sap/ui/model/odata/ODataMetadata"],a=>{const t=a.prototype._loadMetadata;a.prototype._loadMetadata=function(e,s){if(this.sUrl&&this.sUrl.startsWith("/ghostapp-c9f1f0bd-ff78-4660-9a1f-295814f00fe0/$metadata")){this.sUrl=`${p}/metadata.xml`;a.prototype._loadMetadata=t}return t.call(this,e,s)};e()},a)}));Promise.all(o).then(()=>{t.register("sap.ushell.plugins.appwarmup.ShellUIService",new a(s));return e.create(i)}).then(e=>{const a=document.createElement("div");a.style.visibility="hidden";document.body.appendChild(a);sap.ui.require(["sap/ui/core/ComponentContainer"],t=>{const s=new t;s.setComponent(e);s.placeAt(a);s.addEventDelegate({onAfterRendering:function(){setTimeout(()=>{s.destroy()},5e3)}})})}).catch(function(){n.error("GhostApp component could not be created",null,this)})},init:function(){this.doWarmUp()}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/plugins/appwarmup/ShellUIService", ["sap/ui/core/service/Service"],e=>{"use strict";return e.extend("sap.ushell.plugins.appwarmup.ShellUIService",{setTitle:function(){return},setHierarchy:function(){return},setBackNavigation:function(){return},getTitle:function(){return},setRelatedApps:function(){return}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/plugins/ghostapp/Component", ["sap/ui/generic/app/AppComponent"],e=>{"use strict";return e.extend("sap.ushell.plugins.ghostapp.Component",{metadata:{manifest:"json",library:"sap.ushell"}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/plugins/ghostapp/FakeModel", ["sap/ui/model/odata/v2/ODataModel"],e=>{"use strict";const t=e.extend("sap.ushell.plugins.ghostapp.FakeModel",{constructor:function(t,s){e.apply(this,arguments);this.setDeferredGroups(["undefined",this.sDefaultChangeGroup])},setDeferredGroups:function(){e.prototype.setDeferredGroups.apply(this,arguments);this.mDeferredGroups.undefined="undefined"}});t.getMetadata().getName=function(){return"sap.ui.model.odata.v2.ODataModel"};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/plugins/rta-personalize/Component", ["sap/base/Log","sap/ushell/plugins/BaseRTAPlugin"],(e,s)=>{"use strict";const n=s.extend("sap.ushell.plugins.rta-personalize.Component",{sType:"rta-personalize",metadata:{manifest:"json",library:"sap.ushell"},init:function(){e.error("[Deprecated] The FLP plugin for RTA Personalization (sap.ushell.plugins.rta-personalize) is no longer supported.")}});return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/plugins/rta/Component", ["sap/base/Log","sap/ushell/plugins/BaseRTAPlugin","sap/ushell/appRuntime/ui5/plugins/baseRta/CheckConditions","sap/ushell/appRuntime/ui5/plugins/baseRta/Renderer"],(n,e,t,i)=>{"use strict";const s=e.extend("sap.ushell.plugins.rta.Component",{sType:"rta",metadata:{manifest:"json",library:"sap.ushell"},init:function(){if(s.runningInstance){this.destroy();n.error("RTAPlugin was already initialized, only one instance is allowed");return}s.runningInstance=this.getId();const a={sComponentName:"sap.ushell.plugins.rta",layer:"CUSTOMER",developerMode:false,id:"RTA_Plugin_ActionButton",text:"RTA_BUTTON_TEXT",icon:"sap-icon://wrench",visible:true,checkRestartRTA:true};e.prototype.init.call(this,a);this._oPluginPromise=this._oPluginPromise.then(t.checkRtaPrerequisites.bind(t)).then(n=>i.createActionButton(this,this._onAdapt.bind(this),n)).then(n=>{this.oActionButton=n})},exit:function(){if(s.runningInstance===this.getId()){s.runningInstance=null}}});return s},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/AccessKeysHandler", ["sap/ui/base/EventProvider","sap/ui/Device","sap/ui/core/Element","sap/ui/thirdparty/hasher","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/state/StateManager","sap/ushell/Container","sap/ushell/state/ShellModel"],(e,t,n,s,o,i,r,l,a,c)=>{"use strict";const u=l.LaunchpadState;const d=l.ShellMode;const{Default:h,Headerless:f,Minimal:p}=d;const y=e.extend("sap.ushell.renderer.AccessKeysHandler",{constructor:function(){e.apply(this,arguments);i.on("AppRendered").do(this.appOpenedHandler.bind(this));this.bFocusOnShell=true;this.bFocusPassedToExternalHandlerFirstTime=true;this.isFocusHandledByAnotherHandler=false;this.fnExternalKeysHandler=null;this.sLastExternalKeysHandlerUrl=null;this.fnExternalShortcuts=null;this.bForwardNavigation=true;this.aShortcutsDescriptions=[]}});y.prototype.init=function(){this.oConfigModel=c.getConfigModel();document.addEventListener("keydown",e=>{if(e.keyCode===16){return}this.bForwardNavigation=!e.shiftKey;if(e.key==="Tab"||e.key==="F6"){setTimeout(()=>{this._handleEventUsingExternalKeysHandler(e)},0)}else{this._handleEventUsingExternalKeysHandler(e)}const t=l.getShellMode();const n=l.getLaunchpadState();if(t!==f){let s=false;if(n===u.Home){s=l.isLegacyHome()}else{s=[h,p].includes(t)}this.handleShortcuts(e,s)}if(this.fnExternalShortcuts){this.fnExternalShortcuts(e)}},true);this._cancelHelpEvent=this._cancelHelpEvent.bind(this)};y.prototype.appOpenedHandler=function(){const e=s.getHash();if(e!==this.sLastExternalKeysHandlerUrl){this.fnExternalKeysHandler=null}this.sLastExternalKeysHandlerUrl=e};y.prototype._focusItemInOverflowPopover=function(e,t){const s=n.getElementById("headEndItemsOverflow");if(s&&s.isOpen()){if(s.getContent().length){this._focusItemInPopover(e,s.getContent()[0].getItems())}}else if(t<10){const n=window.document.getElementById("endItemsOverflowBtn");if(n){n.click();const s=this;window.setTimeout(()=>{s._focusItemInOverflowPopover(e,++t)},300)}}};y.prototype._focusItemInUserMenu=function(e,t){const s=n.getElementById("sapUshellUserActionsMenuPopover");if(s&&s.isOpen()){if(s.getContent().length){this._focusItemInPopover(e,s.getContent()[0].getItems())}}else if(t<10){const n=this;i.emit("showUserActionsMenu",Date.now());window.setTimeout(()=>{n._focusItemInUserMenu(e,++t)},300)}};y.prototype._focusItemInPopover=function(e,t){for(let n=0;n<t.length;n++){const s=t[n].getId().split("-");if(s[s.length-1]===e){t[n].getDomRef().focus();return}}};y.prototype._handleAccessOverviewKey=function(e){const n=this.oConfigModel.getProperty("/searchAvailable");const s=this.oConfigModel.getProperty("/personalization");const i=o.last("/core/catalog/enabled");const l=o.last("/core/shell/model/enableNotifications");let a=[];a=a.concat(this.aShortcutsDescriptions);let c;let u;if(t.os.macintosh){c=r.i18n.getText("OptionKey");u=r.i18n.getText("CommandKey")}else{c=r.i18n.getText("AltKey");u=r.i18n.getText("ControlKey")}if(window.document.getElementById("shell-header")){if(i&&e){a.push({text:`${c} + A`,description:r.i18n.getText("hotkeyFocusOnAppFinderButton")})}if(n){a.push({text:`${c} + F`,description:r.i18n.getText("hotkeyFocusOnSearchButton")})}a.push({text:`${c} + H`,description:r.i18n.getText("hotkeyHomePage")});a.push({text:`${c} + M`,description:r.i18n.getText("hotkeyFocusOnUserActionMenu")});if(l){a.push({text:`${c} + N`,description:r.i18n.getText("hotkeyFocusOnNotifications")})}if(e){a.push({text:`${c} + S`,description:r.i18n.getText("hotkeyFocusOnSettingsButton")});a.push({text:`${r.i18n.getText("ControlKey")} + ${r.i18n.getText("CommaKey")}`,description:r.i18n.getText("hotkeyOpenSettings")})}if(s&&i){a.push({text:`${r.i18n.getText("ControlKey")} + ${r.i18n.getText("EnterKey")}`,description:r.i18n.getText("hotkeyExitEditing")})}if(n){a.push({text:`${u} + ${r.i18n.getText("ShiftKey")} + F`,description:r.i18n.getText("hotkeyFocusOnSearchField")})}}sap.ui.require(["sap/m/Label","sap/m/MessageBox","sap/m/Text","sap/m/VBox"],(e,t,n,s)=>{const o=new s;a.forEach(t=>{o.addItem(new e({text:t.description}));o.addItem(new n({text:t.text}).addStyleClass("sapUiSmallMarginBottom"))});t.show(o,{id:"hotKeysGlossary",title:r.i18n.getText("hotKeysGlossary"),styleClass:"sapContrastPlus"})})};y.prototype._focusAppFinderButton=function(){if(!o.last("/core/catalog/enabled")){return}if(this._isFocusInDialog()){return}if(o.last("/core/shellBar/enabled")){n.getElementById("shell-header").setFocusToAppFinderButton();return}const e=window.document.getElementById("openCatalogBtn");if(e){e.focus();return}const t=a.getRendererInternal("fiori2").getShellConfig();if(t.moveAppFinderActionToShellHeader){this._focusItemInOverflowPopover("openCatalogBtn",0);return}this._focusItemInUserMenu("openCatalogBtn",0)};y.prototype._focusSettingsButton=function(){if(this._isFocusInDialog()){return}const e=window.document.getElementById("userSettingsBtn");if(e){e.focus();return}const t=a.getRendererInternal("fiori2").getShellConfig();if(t.moveUserSettingsActionToShellHeader){this._focusItemInOverflowPopover("userSettingsBtn",0);return}this._focusItemInUserMenu("userSettingsBtn",0)};y.prototype._blockBrowserDefault=function(e){return new Promise(n=>{if(t.browser.name==="ie"){let t=window.document.getElementById("shell-header");if(t){t.setAttribute("accesskey",e.key);window.setTimeout(()=>{t=window.document.getElementById("shell-header");if(t){t.removeAttribute("accesskey");n()}},0)}}else{n()}e.preventDefault()})};y.prototype._handleAltShortcutKeys=function(e,t){const s=n.getElementById("shell-header");const r=n.getElementById("sapUshellUserActionsMenuPopover");const l=n.getElementById("shellNotificationsPopover");if(this._isFocusInInput()){return}if(s){if(t){if(e.keyCode===65){this._blockBrowserDefault(e).then(this._focusAppFinderButton.bind(this))}else if(e.keyCode===83){this._blockBrowserDefault(e).then(this._focusSettingsButton.bind(this))}}if(e.keyCode===70){this._blockBrowserDefault(e).then(()=>{if(this._isFocusInDialog()){return}const e=window.document.getElementById("sf");const t=window.document.getElementById("searchFieldInShell-button");if(e){e.focus()}else if(t){t.focus()}else{this._focusItemInOverflowPopover("sf",0)}})}else if(e.keyCode===72){this._blockBrowserDefault(e).then(()=>{if(this._isFocusInDialog()){return}if(o.last("/core/shellBar/enabled")){s.setFocusToLogo()}else{const e=document.getElementById("shell-header-logo");if(e){e.focus()}}})}else if(e.keyCode===77){this._blockBrowserDefault(e).then(()=>{if(this._isFocusInDialog()){return}if(!(r&&r.isOpen())){i.emit("showUserActionsMenu",Date.now())}})}else if(e.keyCode===78){this._blockBrowserDefault(e).then(()=>{if(this._isFocusInDialog()){return}if(!(l&&l.isOpen())){i.emit("showNotifications",Date.now())}})}}};y.prototype._handleCtrlShortcutKeys=function(e,t){if(e.shiftKey){if(e.keyCode===70){if(this._isFocusInDialog()){return}const t=n.getElementById("sf");if(t){if(o.last("/core/shellBar/enabled")){t.fireClick()}else{t.firePress()}e.preventDefault();e.stopPropagation()}}}else if(e.keyCode===188&&t){if(this._isFocusInDialog()){return}const t=n.getElementById("userSettingsBtn");if(t&&!this._isFocusInATable()){t.firePress();e.preventDefault();e.stopPropagation()}}else if(e.keyCode===112){if(this._isFocusInDialog()){return}this._handleAccessOverviewKey(t)}else if(e.keyCode===83){if(this._isFocusInDialog()){return}const t=window.document.getElementById("appFinderSearch-I");if(t){t.focus();e.preventDefault();e.stopPropagation()}}else if(e.keyCode===13){if(this._isFocusInDialog()){return}if(o.last("/core/spaces/enabled")){this.fireEvent("editModeDone")}else{const t=n.getElementById("sapUshellDashboardFooterDoneBtn");if(t&&t.getDomRef()){t.firePress();e.preventDefault();e.stopPropagation()}}}};y.prototype.handleShortcuts=function(e,n){if(t.os.macintosh&&e.metaKey&&e.shiftKey&&e.keyCode===70){const t=window.document.getElementById("sf");if(t){t.firePress();e.preventDefault();e.stopPropagation()}e.preventDefault()}else if(e.altKey&&!e.shiftKey&&!e.ctrlKey){this._handleAltShortcutKeys(e,n)}else if(e.ctrlKey&&!e.altKey){this._handleCtrlShortcutKeys(e,n)}};y.prototype.registerAppKeysHandler=function(e){this.fnExternalKeysHandler=e;this.sLastExternalKeysHandlerUrl=s.getHash()};y.prototype.resetAppKeysHandler=function(){this.fnExternalKeysHandler=null};y.prototype.getAppKeysHandler=function(){return this.fnExternalKeysHandler};y.prototype.registerAppShortcuts=function(e,t){this.fnExternalShortcuts=e;this.aShortcutsDescriptions=t};y.prototype._handleFocusBackToMe=function(e,t){this.bFocusOnShell=true;let s;if(t){s=window.document.getElementById(t)}else{this.fromOutside=true;if(e){e.preventDefault();this.bForwardNavigation=!e.shiftKey||e.key==="F6"}const t=n.getElementById("shell-header");if(t&&!o.last("/core/shellBar/enabled")){t.setFocusOnShellHeader(!this.bForwardNavigation);this.fromOutside=false}}if(s){s.focus();this.fromOutside=false}this.bFocusPassedToExternalHandlerFirstTime=true};y.prototype.setIsFocusHandledByAnotherHandler=function(e){this.isFocusHandledByAnotherHandler=e};y.prototype.sendFocusBackToShell=function(e){let t;let n;if(typeof e==="string"){n=e}else if(typeof e==="object"){t=e}this._handleFocusBackToMe(t,n)};y.prototype._handleEventUsingExternalKeysHandler=function(e){if(!this.bFocusOnShell&&!this.isFocusHandledByAnotherHandler){if(typeof this.fnExternalKeysHandler==="function"){this.fnExternalKeysHandler(e,this.bFocusPassedToExternalHandlerFirstTime);this.bFocusPassedToExternalHandlerFirstTime=false}}this.setIsFocusHandledByAnotherHandler(false)};y.prototype._cancelHelpEvent=function(e){e.preventDefault();document.removeEventListener("help",this._cancelHelpEvent)};y.prototype._isFocusInInput=function(){const e=(document.activeElement||{}).tagName;return e==="INPUT"||e==="TEXTAREA"};y.prototype._isFocusInDialog=function(){let e=document.activeElement;for(;e!==document.body;e=e.parentNode){if(e.classList.contains("sapMDialog")){return true}}return false};y.prototype._isFocusInATable=function(){let e=document.activeElement;let t;for(;e!==document.body;e=e.parentNode){t=e.classList;if(t.contains("sapUiCompSmartTable")||t.contains("sapUiMdcTable")||t.contains("sapMListTbl")||t.contains("sapUiTable")){return true}}return false};return new y});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/History", [],()=>{"use strict";function t(){this._history=[];this._backwards=false;this._historyPosition=-1;this._virtual={};this.hashChange=function(t){const i=this._history.indexOf(t);if(i===-1){if(this._historyPosition+1<this._history.length){this._history=this._history.slice(0,this._historyPosition+1)}this._history.push(t);this._historyPosition+=1;this.backwards=false;this.forwards=false}else{this.backwards=this._historyPosition>i;this.forwards=this._historyPosition<i;this._historyPosition=i}};this.pop=function(){let t;if(this._history.length>0){t=this._history.pop();this._historyPosition--}return t};this.isVirtualHashchange=function(t,i){return this._virtual.hasOwnProperty(i)&&this.getCurrentHash()===t&&this._history.length-1>this._historyPosition&&this._history[this._historyPosition+1]===i};this.setVirtualNavigation=function(t){this._virtual[t]=true};this.getCurrentHash=function(){return this._history[this._historyPosition]||null};this.getHashIndex=function(t){return this._history.indexOf(t)};this.getHistoryLength=function(){return this._history.length}}return new t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/LogonFrameProvider", ["sap/m/Button","sap/m/Dialog","sap/ui/core/Element","sap/ui/core/HTML","sap/ushell/ui/footerbar/ContactSupportButton","sap/ushell/Config","sap/ushell/resources","sap/ushell/Container"],(e,t,s,n,o,l,a,i)=>{"use strict";function r(e){const t=document.getElementById("sap-ui-blocklayer-popup");if(t){if(e){t.classList.add("sapUshellSamlDialogHidden")}else{t.classList.remove("sapUshellSamlDialogHidden")}}}function c(){const e=s.getElementById("SAMLDialog");if(e){e.destroy()}}function u(){c();const s=new t({id:"SAMLDialog",title:a.i18n.getText("samlDialogTitle"),contentWidth:"50%",contentHeight:"50%",content:new n("SAMLDialogFrame",{content:'<iframe id=SAMLDialogFrame src=""></iframe>'}),endButton:new e({text:a.i18n.getText("samlCloseBtn"),press:i.cancelLogon.bind(i)})}).addStyleClass("sapUshellIframeDialog sapContrastPlus sapUshellSamlDialogHidden");if(l.last("/core/extension/SupportTicket")){const e=new o;e.setWidth("150px");e.setIcon("");s.setBeginButton(e)}s.open();r(true);return document.getElementById("SAMLDialogFrame")}function d(){const e=s.getElementById("SAMLDialog");if(e){e.removeStyleClass("sapUshellSamlDialogHidden");r(true)}}const p={create:u,show:d,destroy:c};return p});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/NavContainer", ["sap/base/Log","sap/ui/core/Control","sap/ui/core/Element","sap/ui/core/RenderManager","sap/ui/Device","sap/ushell/Container","sap/ushell/renderer/NavContainerRenderer","sap/ushell/utils"],(e,t,r,s,n,o,i,a)=>{"use strict";const p=t.extend("sap.ushell.renderer.NavContainer",{metadata:{library:"sap.ushell",properties:{visible:{type:"boolean",group:"Appearance",defaultValue:true},currentPageId:{type:"string",defaultValue:"",visibility:"hidden"}},aggregations:{pages:{type:"sap.ui.core.Control",multiple:true,singularName:"page"}},events:{beforeNavigate:{parameters:{fromId:{type:"string"},from:{type:"sap.ui.core.Control"},toId:{type:"string"},to:{type:"sap.ui.core.Control"}}},afterNavigate:{parameters:{fromId:{type:"string"},from:{type:"sap.ui.core.Control"},toId:{type:"string"},to:{type:"sap.ui.core.Control"}}}}},renderer:i});p.prototype.init=function(){t.prototype.init.apply(this,arguments);this.setBusyIndicatorDelay(4e3)};p.prototype.addPage=function(e){if(this.getPages().indexOf(e)>-1){return this}this._setPageVisibility(e,false);this.addAggregation("pages",e,true);const t=this.getDomRef();if(t){const r=(new s).getInterface();r.render(e,t);r.destroy()}return this};p.prototype.removePage=function(e){this.removeAggregation("pages",e,true);const t=this.getProperty("currentPageId");if(t===e){this.setProperty("currentPageId","",true)}return this};p.prototype.getPageById=function(e){return this.getPages().reduce((t,r)=>{if(r.getId()===e){return r}return t},null)};p.prototype._setPageVisibility=function(e,t){if(e.isA("sap.ushell.renderer.INavContainerPage")){e.setVisibility(t);return}if(t){e.removeStyleClass("sapUShellNavContainerPageHidden")}else{e.addStyleClass("sapUShellNavContainerPageHidden")}};p.prototype.navTo=function(t){const r=this.getPageById(t);const s=this.getProperty("currentPageId");const n=this.getPageById(s);if(!r){e.error("NavContainer: invalid navigation target");return}this._storeFocus();this.fireBeforeNavigate({toId:t,to:r,fromId:s,from:n});this.setBusy(false);this.getPages().forEach(e=>{this._setPageVisibility(e,e.getId()===t)});this.setProperty("currentPageId",t,true);this._restoreFocus(r.getId());this.fireAfterNavigate({toId:t,to:r,fromId:s,from:n})};p.prototype._storeFocus=async function(){const e=o.getRendererInternal("fiori2").byId("Shell-home-component-container");const t=e&&e.getId();const s=this.getProperty("currentPageId");const i=s&&t===s;const p=n.system.desktop&&i;if(!p){return}const[u]=await a.requireAsync(["sap/ushell/renderer/AccessKeysHandler"]);const c=r.closestTo(document.activeElement);this._sLastFocusId=c?c.getId():null;this._fnLastAppKeyHandler=u.getAppKeysHandler()};p.prototype._restoreFocus=async function(e){const t=o.getRendererInternal("fiori2").byId("Shell-home-component-container");const s=t&&t.getId();const i=s===e;const p=n.system.desktop&&i;if(!p){return}const[u]=await a.requireAsync(["sap/ushell/renderer/AccessKeysHandler"]);if(this._sLastFocusId){u.registerAppKeysHandler(this._fnLastAppKeyHandler);const e=r.getElementById(this._sLastFocusId);if(e){e.focus()}}};return p});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/NavContainerRenderer", ["sap/ushell/resources"],e=>{"use strict";const r={apiVersion:2};r.render=function(r,t){if(!t.getVisible()){return}r.openStart("main",t);r.attr("role","main");r.attr("aria-label",e.i18n.getText("ShellContent.AriaLabel"));r.openEnd();t.getPages().forEach(e=>{r.renderControl(e)});r.close("main")};return r},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/Renderer", ["sap/ui/core/Component","sap/ui/core/Element","sap/ui/core/UIComponent","sap/ushell/ui/shell/ToolAreaItem","sap/ushell/Config","sap/ushell/Container","sap/ushell/EventHub","sap/ushell/utils","sap/ushell/appIntegration/AppLifeCycle","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ushell/components/SharedComponentUtils","sap/ushell/services/AppConfiguration","sap/ushell/resources","sap/ui/thirdparty/hasher","sap/ui/thirdparty/jquery","sap/base/Log","sap/base/util/deepExtend","sap/base/util/extend","sap/ui/base/Object","sap/base/util/ObjectPath","sap/ui/core/library","sap/ushell/library","sap/ui/core/mvc/View","sap/ushell/ui/shell/ShellHeadItem","sap/m/NotificationListItem","sap/ushell/renderer/ShellLayout","sap/ushell/renderer/utils","sap/ushell/ui/launchpad/ActionItem","sap/ushell/state/ShellModel","sap/ushell/state/StateManager","sap/ushell/navigation/NavigationState","sap/ushell/renderers/fiori2/RendererExtensions"],function(e,t,n,o,r,i,s,a,l,p,c,u,d,h,f,jQuery,g,m,y,S,w,C,I,b,A,v,P,B,F,H,R,E,T){"use strict";const _=C.mvc.ViewType;const L=I.AppType;const V=R.LaunchpadState;const k=R.Operation;const M=R.ShellMode;const{Headerless:z,Merged:j,Blank:U,Lean:N}=M;const D=n.extend("sap.ushell.renderer.Renderer",{metadata:{version:"1.141.1",dependencies:{version:"1.141.1",libs:["sap.ui.core","sap.m"],components:[]},interfaces:["sap.ui.core.IAsyncContentCreation"],routing:{config:{async:true,controlId:"viewPortContainer",clearAggregation:false,controlAggregation:"pages"},routes:[{name:"appfinder-legacy",pattern:"Shell-home&/appFinder/:menu:/:filter:"},{name:"home",pattern:["Shell-home?:hashParameters:","Shell-home&/:innerHash*:","Shell-home"],target:function(){if(r.last("/core/homeApp/enabled")){return"homeapp"}if(r.last("/core/workPages/enabled")&&!r.last("/core/workPages/runtimeSwitcher")){return"workpages"}if(r.last("/core/workPages/enabled")&&r.last("/core/workPages/runtimeSwitcher")){return"runtimeSwitcher"}if(r.last("/core/spaces/enabled")){return"pages"}return"home"}()},{name:"appfinder",pattern:["Shell-appfinder?:hashParameters:&/:innerHash*:","Shell-appfinder?:hashParameters*:","Shell-appfinder&/:innerHash*:","Shell-appfinder"],target:function(){if(r.last("/core/site/siteId")&&r.last("/core/catalog/enabled")&&r.last("/core/workPages/contentFinderStandalone")&&r.last("/core/workPages/enabled")){return"contentfinder"}return r.last("/core/catalog/enabled")?"appfinder":undefined}()},{name:"openFLPPage",pattern:["Launchpad-openFLPPage?:hashParameters:","Launchpad-openFLPPage"],target:function(){if(r.last("/core/workPages/enabled")&&!r.last("/core/workPages/runtimeSwitcher")){return"workpages"}if(r.last("/core/workPages/enabled")&&r.last("/core/workPages/runtimeSwitcher")){return"runtimeSwitcher"}if(r.last("/core/spaces/enabled")){return"pages"}return"home"}()},{name:"openWorkPage",pattern:["Launchpad-openWorkPage?:hashParameters:","Launchpad-openWorkPage"],target:"workpages"},{name:"wzsearch",pattern:["WorkZoneSearchResult-display:?query:"],target:"wzsearch"}],targets:{home:{name:"sap.ushell.components.homepage",type:"Component",id:"Shell-home-component",options:{manifest:false,asyncHints:{preloadBundles:r.last("/core/home/featuredGroup/enable")?["sap/ushell/preload-bundles/homepage-af-dep.js","sap/ushell/components/homepage/cards-preload.js"]:["sap/ushell/preload-bundles/homepage-af-dep.js"]},componentData:{config:{enablePersonalization:true,enableHomePageSettings:false}}}},appfinder:{name:"sap.ushell.components.appfinder",type:"Component",id:"Shell-appfinder-component",options:{manifest:false,asyncHints:{preloadBundles:["sap/ushell/preload-bundles/homepage-af-dep.js"]},componentData:{config:{enablePersonalization:true,enableHomePageSettings:false}}}},contentfinder:{name:"sap.ushell.components.contentFinderStandalone",type:"Component",id:"Shell-appfinder-component",options:{manifest:true,asyncHints:{preloadBundles:[]},componentData:{}}},pages:{name:"sap.ushell.components.pages",type:"Component",id:"pages-component",options:{componentData:{},asyncHints:{preloadBundles:["sap/ushell/preload-bundles/homepage-af-dep.js"]}}},workpages:{name:r.last("/core/workPages/defaultComponent/name"),type:"Component",id:"workPageRuntime-component",options:r.last("/core/workPages/defaultComponent")},runtimeSwitcher:{name:"sap.ushell.components.runtimeSwitcher",type:"Component",id:"runtimeSwitcher-component",options:{componentData:{}}},wzsearch:{name:"sap.ushell.components.cepsearchresult.app",type:"Component",id:"cepsearchresult-app-component",options:{manifest:true,componentData:{config:{enablePersonalization:true,enableHomePageSettings:false}}}}}}},init:function(){n.prototype.init.apply(this,arguments);const t=this.getRouter();["appfinder-legacy","home","appfinder","openFLPPage","openWorkPage","wzsearch"].forEach(e=>{t.getRoute(e).attachBeforeMatched(()=>{s.emit("trackHashChange",f.getHash());E.endNavigation()})});if(r.last("/core/homeApp/enabled")){this._getHomeAppTarget().then(e=>{t.getTargets().addTarget("homeapp",e);t.getTarget("homeapp").attachEventOnce("display",()=>{s.emit("CoreResourcesComplementLoaded",{status:"success"})})})}t.getRoute("home").attachMatched(this._prepareHomepage,this);t.getRoute("openFLPPage").attachMatched(this._prepareHomepage,this);t.getRoute("openWorkPage").attachMatched(this._prepareHomepage,this);t.getRoute("appfinder-legacy").attachMatched(e=>{t.navTo("appfinder",{},true)});t.getRoute("appfinder").attachMatched(async function(n){if(!r.last("/core/catalog/enabled")){g.warning("AppFinder is disabled. Re-route to the homepage.");t.navTo("home",null,true);return}const o=e.getComponentById(this.createId("Shell-appfinder-component"));const s=n.getParameter("arguments");if(i.getRendererInternal("fiori2")){l.getShellUIService().setBackNavigation();i.getRendererInternal("fiori2").setCurrentCoreView("appFinder")}d.setCurrentApplication(null);const a=o.getRouter();o.getRootControl().loaded().then(()=>{a.parse(s["innerHash*"]||"")});l.switchViewState(V.App,false,"Shell-appfinder");u.initializeAccessKeys()},this);t.getRoute("wzsearch").attachMatched(e=>{l.getShellUIService().setBackNavigation();l.switchViewState(V.App,false,"cepsearchresult-app")});const o=new c(p);o.setDefaultBindingMode("OneWay");this.setModel(o,"device");this.setModel(h.i18nModel,"i18n")}});D.prototype._prepareHomepage=function(e){if(d.getCurrentApplication()){i.getServiceAsync("ShellNavigationInternal").then(e=>{e.setIsInitialNavigation(false)})}const t=f.getHash();if(!r.last("/core/spaces/enabled")&&t.indexOf("Launchpad-openFLPPage")===0){i.getServiceAsync("ShellNavigationInternal").then(e=>{e.replaceHashWithoutNavigation("Shell-home")})}const n=r.last("/core/shell/homePageTitle");const o=h.getTranslationFromJSON(n)||h.i18n.getText("homeBtn_tooltip");const s=this.getShellConfig().rootIntent;const p=!s||a.isFlpHomeIntent(s);l.switchViewState(p?V.Home:V.App,false,"Shell-home");this.setCurrentCoreView("home");d.setCurrentApplication(null);l.getShellUIService().setTitle(o);l.getShellUIService().setHierarchy();l.getShellUIService().setRelatedApps();u.initializeAccessKeys()};D.prototype._getHomeAppTarget=function(){return i.getServiceAsync("Ui5ComponentLoader").then(e=>{const t=r.last("/core/homeApp/component");const n=e.getCoreResourcesComplementBundle();if(t.url){return{name:"rendererTargetWrapper",type:"Component",id:"homeApp-component-wrapper",path:"sap/ushell/renderer",options:{componentData:{componentId:"homeApp-component",name:t.name,url:t.url},asyncHints:Object.assign({},t.asyncHints||{},{preloadBundles:n})}}}return{name:"error",type:"Component",id:"homeApp-component",path:"sap/ushell/components/homeApp",options:{componentData:{},asyncHints:{preloadBundles:n}}}})};D.prototype.createContent=function(){const e=this.getComponentData()||{};const t={applications:{"Shell-home":{}},rootIntent:"Shell-home"};const n=R.getShellMode();if(e.config){if(e.config.rootIntent===undefined){e.config.migrationConfig=true}e.config=m(t,e.config);y(e.config.applications["Shell-home"],r.last("/core/home"),r.last("/core/catalog"));if([z,j,U].includes(n)){e.config.enablePersonalization=false;r.emit("/core/shell/enablePersonalization",false)}else{e.config.enablePersonalization=r.last("/core/shell/enablePersonalization")}if([N].includes(n)){e.config.showRecentActivity=false}else if(e.config.showRecentActivity===undefined){e.config.showRecentActivity=r.last("/core/shell/model/showRecentActivity")}r.emit("/core/shell/model/showRecentActivity",e.config.showRecentActivity);if(!e.config.enablePersonalization){e.config.moveEditHomePageActionToShellHeader=false;if(!e.config.enableAppFinder){e.config.moveAppFinderActionToShellHeader=false}}}if(!this.getComponentData().async){let t;g.error("sap/ushell/renderer/Renderer component is created synchronously. Synchronous instantiation is not allowed. Please use async:true in component data");(function(){t=this._createSyncContent(e)}).bind(this)();return t}return b.create({id:"mainShell",viewName:"module:sap/ushell/renderer/Shell.view",height:"100%",viewData:e}).then(e=>{e.addStyleClass("sapUshellRenderer");this._oShellView=e;this.shellCtrl=e.getController();B.init(e.getController());return e})};D.prototype._createSyncContent=function(e){const t=sap.ui.view("mainShell",{type:_.JS,viewName:"sap.ushell.renderers.fiori2.Shell",height:"100%",viewData:e});t.addStyleClass("sapUshellRenderer");this._oShellView=t;t.loaded().then(e=>{this.shellCtrl=e.oController;B.init(e.getController())});return t};D.prototype.createExtendedShellState=function(e,t){g.error("The function createExtendedShellState was deprecated  discontinued.")};D.prototype.applyExtendedShellState=function(e,t){g.error("The function applyExtendedShellState was discontinued.")};D.prototype.showLeftPaneContent=function(e,t,n){this._updateItemStates(e,t,n,"sidePane.items",k.Add)};D.prototype.showHeaderItem=function(e,t,n){const o=Array.isArray(e)?e:[e];const r=this._sanitizeStates(n);o.forEach(e=>{R.updateManagedControl(e,!t);if(t){R.updateCurrentState("header.headItems",k.Add,e);return}R.updateBaseStates(r,"header.headItems",k.Add,e)})};D.prototype.showRightFloatingContainerItem=function(e,t,n){this._updateItemStates(e,t,n,"rightFloatingContainer.items",k.Add)};D.prototype.showRightFloatingContainer=function(e){R.updateCurrentState("rightFloatingContainer.visible",k.Set,e)};D.prototype.showToolAreaItem=function(e,t,n){this._updateItemStates(e,t,n,"toolArea.items",k.Add)};D.prototype.showActionButton=function(e,n,o){const r=Array.isArray(e)?e:[e];const{buttons:i,actions:s}=r.reduce((e,n)=>{const o=t.getElementById(n);const r=S.isObjectA(o,"sap.m.Button")&&!S.isObjectA(o,"sap.ushell.ui.launchpad.ActionItem");if(r){e.buttons.push(n)}else{e.actions.push(n)}return e},{buttons:[],actions:[]});if(i.length){this.convertButtonsToActions(i,n,o)}this._updateItemStates(s,n,o,"userActions.items",k.Add)};D.prototype.showFloatingActionButton=function(e,t,n){this._updateItemStates(e,t,n,"floatingActions.items",k.Add)};D.prototype.showHeaderEndItem=function(e,t,n){this._updateItemStates(e,t,n,"header.headEndItems",k.Add)};D.prototype._sanitizeStates=function(e){const t=Array.isArray(e)?e:[];const n=t.filter(e=>e!==undefined&&e!==null).filter(e=>{const t=Object.values(this.LaunchpadState).includes(e);if(!t){throw new Error(`Invalid launchpad state: ${e}`)}return t});if(n.length===0){return Object.values(this.LaunchpadState)}return n};D.prototype._updateItemStates=function(e,t,n,o,r){const i=Array.isArray(e)?e:[e];const s=this._sanitizeStates(n);i.forEach(e=>{R.updateManagedControl(e,!t);if(t){R.updateCurrentState(o,r,e);return}R.updateBaseStates(s,o,r,e)})};D.prototype.setHeaderVisibility=function(e,t,n){const o=this._sanitizeStates(n);if(t){R.updateCurrentState("header.visible",k.Set,e);return}R.updateBaseStates(o,"header.visible",k.Set,e)};D.prototype.showSubHeader=function(e,t,n){this._updateItemStates(e,t,n,"subHeader.items",k.Add)};D.prototype.showSignOutItem=function(e,t){this.showActionButton(["logoutBtn"],e,t)};D.prototype.showSettingsItem=function(e,t){this.showActionButton(["userSettingsBtn"],e,t)};D.prototype.setFooter=function(e){this.shellCtrl.setFooter(e)};D.prototype.setNavigationBar=function(e){this.shellCtrl.setNavigationBar(e)};D.prototype.setSideNavigation=function(e){this.shellCtrl.setSideNavigation(e)};D.prototype.setShellShapes=function(e){this.shellCtrl.setShellShapes(e)};D.prototype.setShellFooter=function(e){const n=new jQuery.Deferred;const o=this;let r;const i=e.controlType;const s=e.oControlProperties;if(!i){g.warning("You must specify control type in order to create it");n.reject(new Error("You must specify control type in order to create it"));return n.promise()}if(!s){g.warning("You must specify control properties in order to create it");n.reject(new Error("You must specify control properties in order to create it"));return n.promise()}const a=i.replace(/\./g,"/");sap.ui.require([a],e=>{r=t.getElementById(s.id);if(!r){r=new e(s)}if(o.lastFooterId){o.removeFooter()}o.lastFooterId=r.getId();o.shellCtrl.setFooter(r);n.resolve(r)});return n.promise()};D.prototype.setFooterControl=function(e,t){const n=e.replace(/\./g,"/");const o=sap.ui.require(n);let r=false;if(o){r=true}else if(!w.get(e||"")){g.error(`Renderer.setFooterControl: the referenced control resource ${e} is not available.`,undefined,"sap.ushell.renderer.Renderer");return undefined}const i=this.createItem(t,undefined,t=>{if(e){if(r){return new o(t)}const n=w.get(e||"");return new n(t)}g.warning("You must specify control type in order to create it");return undefined});if(this.lastFooterId){this.removeFooter()}this.lastFooterId=i.getId();this.shellCtrl.setFooter(i);return i};D.prototype.hideHeaderItem=function(e,t,n){this._updateItemStates(e,t,n,"header.headItems",k.Remove)};D.prototype.removeToolAreaItem=function(e,t,n){this._updateItemStates(e,t,n,"toolArea.items",k.Remove)};D.prototype.removeRightFloatingContainerItem=function(e,t,n){this._updateItemStates(e,t,n,"rightFloatingContainer.items",k.Remove)};D.prototype.hideActionButton=function(e,t,n){this._updateItemStates(e,t,n,"userActions.items",k.Remove)};D.prototype.hideLeftPaneContent=function(e,t,n){this._updateItemStates(e,t,n,"sidePane.items",k.Remove)};D.prototype.hideFloatingActionButton=function(e,t,n){this._updateItemStates(e,t,n,"floatingActions.items",k.Remove)};D.prototype.hideHeaderEndItem=function(e,t,n){this._updateItemStates(e,t,n,"header.headEndItems",k.Remove)};D.prototype.hideSubHeader=function(e,t,n){this._updateItemStates(e,t,n,"subHeader.items",k.Remove)};D.prototype.removeFooterById=function(e){if(e===this.shellCtrl.getFooterId()){this.shellCtrl.removeFooter()}const n=t.getElementById(e);if(n){n.destroy()}};D.prototype.removeFooter=function(){this.shellCtrl.removeFooter();if(this.lastFooterId){const e=t.getElementById(this.lastFooterId);if(e){e.destroy()}this.lastFooterId=undefined}};D.prototype.addShellSubHeader=function(e){const n=new jQuery.Deferred;const o=this;let r;const i=e.controlType;const s=e.oControlProperties;const a=e.bIsVisible;const l=e.bCurrentState;const p=e.aStates;if(!i){g.warning("You must specify control type in order to create it");n.reject(new Error("You must specify control type in order to create it"));return n.promise()}if(!s){g.warning("You must specify control properties in order to create it");n.reject(new Error("You must specify control properties in order to create it"));return n.promise()}const c=i.replace(/\./g,"/");sap.ui.require([c],e=>{r=t.getElementById(s.id);if(!r){r=new e(s);R.addManagedControl(r.getId(),!l)}if(a){o.showSubHeader(r.getId(),l,p)}n.resolve(r)});return n.promise()};D.prototype.addSubHeader=function(e,t,n,o,r){const i=this._sanitizeStates(r);const s=e.replace(/\./g,"/");const a=sap.ui.require(s);let l=false;if(a){l=true}else if(!w.get(e||"")){g.error(`Renderer.setFooterControl: the referenced control resource ${e} is not available.`,undefined,"sap.ushell.renderer.Renderer");return undefined}const p=this.createItem(t,o,t=>{if(e){if(l){return new a(t)}const n=w.get(e||"");return new n(t)}g.warning("You must specify control type in order to create it");return undefined});if(n){this.showSubHeader(p.getId(),o,i)}return p};D.prototype.addUserAction=function(e){const n=new jQuery.Deferred;const o=this;let{controlType:r}=e;const{oControlProperties:i,bIsVisible:s,bCurrentState:a,aStates:l}=e;if(!r){if(t.getElementById(i?.id)){r="sap.ushell.ui.launchpad.ActionItem"}else{const e="You must specify control type in order to create it";g.warning(e);n.reject(new Error(e));return n.promise()}}if(!i){const e="You must specify control properties in order to create it";g.warning(e);n.reject(new Error(e));return n.promise()}const p=r==="sap.m.Button"?"sap.ushell.ui.launchpad.ActionItem":r;const c=p.replace(/\./g,"/");sap.ui.require([c],e=>{let r=t.getElementById(i.id);if(!r){r=new e(i);R.addManagedControl(r.getId(),!a)}if(s){o.showActionButton(r.getId(),a,l)}n.resolve(r)},()=>{const e=`The control type ${p} is not available.`;g.error(e);n.reject(new Error(e))});return n.promise()};D.prototype.addActionButton=function(e,t,n,o,r){const i=this._sanitizeStates(r);let s=false;if(e==="sap.m.Button"){e="sap.ushell.ui.launchpad.ActionItem"}const a=e.replace(/\./g,"/");const l=sap.ui.require(a);if(l){s=true}else if(!w.get(e||"")){g.error(`Renderer.setFooterControl: the referenced control resource ${e} is not available.`,undefined,"sap.ushell.renderer.Renderer");return undefined}const p=this.createItem(t,o,t=>{if(e){if(s){return new l(t)}const n=w.get(e||"");return new n(t)}g.warning("You must specify control type in order to create it");return undefined});if(n){this.showActionButton(p.getId(),o,i)}return p};D.prototype.addFloatingButton=function(e){const n=new jQuery.Deferred;const o=this;let r;const i=e.controlType||"sap.m.Button";const s=e.oControlProperties;const a=e.bIsVisible;const l=e.bCurrentState;const p=e.aStates;if(!s){g.warning("You must specify control properties in order to create it");n.reject(new Error("You must specify control properties in order to create it"));return n.promise()}const c=i.replace(/\./g,"/");sap.ui.require([c],e=>{r=t.getElementById(s.id);if(!r){r=new e(s);R.addManagedControl(r.getId(),!l)}if(a){o.showFloatingActionButton(r.getId(),l,p)}n.resolve(r)});return n.promise()};D.prototype.addFloatingActionButton=function(e,t,n,o,r){const i=this._sanitizeStates(r);let s=false;if(!e){e="sap.m.Button"}const a=e.replace(/\./g,"/");const l=sap.ui.require(a);if(l){s=true}else if(!w.get(e||"")){g.error(`Renderer.setFooterControl: the referenced control resource ${e} is not available.`,undefined,"sap.ushell.renderer.Renderer");return undefined}const p=this.createItem(t,o,t=>{if(e){if(s){return new l(t)}const n=w.get(e||"");return new n(t)}g.warning("You must specify control type in order to create it");return undefined});if(n){this.showFloatingActionButton(p.getId(),o,i)}return p};D.prototype.addSidePaneContent=function(e){const n=new jQuery.Deferred;const o=this;let r;const i=e.controlType;const s=e.oControlProperties;const a=e.bIsVisible;const l=e.bCurrentState;const p=e.aStates;if(!i){g.warning("You must specify control type in order to create it");n.reject(new Error("You must specify control type in order to create it"));return n.promise()}if(!s){g.warning("You must specify control properties in order to create it");n.reject(new Error("You must specify control properties in order to create it"));return n.promise()}const c=i.replace(/\./g,"/");sap.ui.require([c],e=>{r=t.getElementById(s.id);if(!r){r=new e(s);R.addManagedControl(r.getId(),!l)}if(a){o.showLeftPaneContent(r.getId(),l,p)}n.resolve(r)});return n.promise()};D.prototype.addLeftPaneContent=function(e,t,n,o,r){const i=this._sanitizeStates(r);const s=e.replace(/\./g,"/");const a=sap.ui.require(s);let l;if(a){l=true}else if(!w.get(e||"")){g.error(`Renderer.setFooterControl: the referenced control resource ${e} is not available.`,undefined,"sap.ushell.renderer.Renderer");return undefined}const p=this.createItem(t,o,t=>{if(e){if(l){return new a(t)}const n=w.get(e||"");return new n(t)}g.warning("You must specify control type in order to create it");return undefined});if(n){this.showLeftPaneContent(p.getId(),o,i)}return p};D.prototype.addHeaderItem=function(e,t,n,o,i){if(typeof arguments[0]==="object"&&typeof arguments[1]==="boolean"){t=arguments[0];n=arguments[1];o=arguments[2];i=arguments[3]}else{g.error("sap.ushell.renderer.Renderer: The parameter 'controlType' of the function 'addHeaderItem' is deprecated. Usage will be ignored!")}const s=this._sanitizeStates(i);const a=this.createItem(t,o,e=>{if(r.last("/core/shellBar/enabled")){const t=sap.ui.require("sap/ushell/gen/ui5/webcomponents/dist/Button");e={...e,click:e.press};delete e.press;if(e.ariaHaspopup){e.accessibilityAttributes={...e.accessibilityAttributes||{},hasPopup:e.ariaHaspopup};delete e.ariaHaspopup}return new t(e)}return new A(e)});if(n){this.showHeaderItem(a.getId(),o,s)}return a};D.prototype.addRightFloatingContainerItem=function(e,t,n,o){const r=this._sanitizeStates(o);const i=this.createItem(e,n,e=>new v(e).addStyleClass("sapUshellNotificationsListItem"));if(t){this.showRightFloatingContainerItem(i.getId(),n,r)}return i};D.prototype.addToolAreaItem=function(e,t,n,r){const i=this._sanitizeStates(r);if(t!==null){e.visible=!!t}function s(e){return new o(e)}const a=this.createItem(e,n,s);if(t){this.showToolAreaItem([a.getId()],n,i);if(n){const e=R.getLaunchpadState();this.showToolArea(e,true)}else{i.forEach(e=>{this.showToolArea(e,true)})}}return a};D.prototype.addHeaderEndItem=function(e,t,n,o,i){if(typeof arguments[0]==="object"&&typeof arguments[1]==="boolean"){t=arguments[0];n=arguments[1];o=arguments[2];i=arguments[3]}const s=this._sanitizeStates(i);const a=this.createItem(t,o,e=>{if(r.last("/core/shellBar/enabled")){if(typeof e.press==="function"){e={...e,click:e.press}}delete e.press;delete e.ariaLabel;const t=sap.ui.require("sap/ushell/gen/ui5/webcomponents-fiori/dist/ShellBarItem");return new t(e)}return new A(e)});if(n){this.showHeaderEndItem(a.getId(),o,s)}return a};D.prototype.getModelConfiguration=function(){return this.shellCtrl.getModelConfiguration()};D.prototype.addEndUserFeedbackCustomUI=function(e,t){if(e||t){g.info("Application calls sap.ushell.Renderer.addEndUserFeedbackCustomUI. This function is deprecated. The call has no effect.")}};D.prototype.addUserPreferencesEntry=function(e){this.shellCtrl.addUserPreferencesEntry(e)};D.prototype.addUserPreferencesGroupedEntry=function(e){return this.shellCtrl.addUserPreferencesEntry(e,true)};D.prototype.setHeaderTitle=function(e){this.shellCtrl.setHeaderTitle(e)};D.prototype.setLeftPaneVisibility=function(e,t){if(!e){e=this.LaunchpadState.Home}R.updateBaseStates([e],"sidePane.visible",k.Set,t)};D.prototype.showToolArea=function(e,t){if(!e){e=this.LaunchpadState.Home}R.updateBaseStates([e],"toolArea.visible",k.Set,t)};D.prototype.setHeaderHiding=function(e){g.error("sap.ushell.Renderer.setHeaderHiding: Functionality was discontinued.")};D.prototype.setFloatingContainerContent=function(e,t,n){this._updateItemStates([e.getId()],t,n,"floatingContainer.items",k.Add)};D.prototype.setFloatingContainerVisibility=function(e){R.updateAllBaseStates("floatingContainer.visible",k.Set,e)};D.prototype.getFloatingContainerState=function(){return H.getModel().getProperty("/floatingContainer/state")};D.prototype.getFloatingContainerVisiblity=function(){return H.getModel().getProperty("/floatingContainer/visible")};D.prototype.getRightFloatingContainerVisibility=function(){return this.shellCtrl.getRightFloatingContainerVisibility()};D.prototype.setFloatingContainerDragSelector=function(e){R.updateAllBaseStates("floatingContainer.dragSelector",k.Set,e)};D.prototype.LaunchpadState={App:"app",Home:"home"};D.prototype.createTriggers=function(e,t,n){g.error("'createTriggers' was discontinued.")};D.prototype.convertButtonsToActions=function(e,n,o){const r=this._sanitizeStates(o);const i={};const s=this;e.forEach(e=>{const o=t.getElementById(e);i.id=o.getId();i.text=o.getText();i.icon=o.getIcon();i.tooltip=o.getTooltip();i.enabled=o.getEnabled();i.visible=o.getVisible();if(o.mEventRegistry&&o.mEventRegistry.press){i.press=o.mEventRegistry.press[0].fFunction}o.destroy();s.addActionButton("sap.ushell.ui.launchpad.ActionItem",i,i.visible,n,r)})};D.prototype.createItem=function(e,n,o){let r;if(e&&e.id){r=t.getElementById(e.id)}if(!r){r=o(e);R.addManagedControl(r.getId(),!n)}return r};D.prototype.addEntryInShellStates=function(){g.error("'addEntryInShellStates' was deprecated and discontinued.")};D.prototype.removeCustomItems=function(){g.error("'removeCustomItems' was deprecated and discontinued.")};D.prototype.addCustomItems=function(){g.error("'addCustomItems' was deprecated and discontinued.")};D.prototype.addRightViewPort=function(){};D.prototype.addLeftViewPort=function(){};D.prototype.getShellController=function(){return this.shellCtrl};D.prototype.getViewPortContainerCurrentState=function(){return"Center"};D.prototype.ViewPortContainerNavTo=function(e,t,n){this.shellCtrl.getNavContainer().navTo(t)};D.prototype.switchViewPortStateByControl=function(){};D.prototype.ViewPortContainerAttachAfterSwitchStateAnimationFinished=function(){};D.prototype.setUserActionsMenuSelected=function(e){this.shellCtrl.setUserActionsMenuSelected(e)};D.prototype.setNotificationsSelected=function(e){this.shellCtrl.setNotificationsSelected(e)};D.prototype.addShellDanglingControl=function(e){this.shellCtrl.getView().addDanglingControl(e)};D.prototype.getShellConfig=function(){return this.shellCtrl.getView().getViewData()?this.shellCtrl.getView().getViewData().config||{}:{}};D.prototype.getEndUserFeedbackConfiguration=function(){return{}};D.prototype.reorderUserPrefEntries=function(e){return this.shellCtrl._reorderUserPrefEntries(e)};D.prototype.logRecentActivity=function(e){if(!e.appType){e.appType=L.APP}if(!e.appId){e.appId=e.url}return this.shellCtrl._logRecentActivity(e)};D.prototype.setCurrentCoreView=function(e){this.currentCoreView=e};D.prototype.getCurrentCoreView=function(){return this.currentCoreView};D.prototype._isBuiltInIntent=function(e){if(!D._aBuiltInRoutes){const e=this.getManifestEntry("/sap.ui5/routing/routes");D._aBuiltInRoutes=e.reduce((e,t)=>e.concat(t.pattern),[])}if(!e||!e.semanticObject||!e.action){return false}const t=`${e.semanticObject}-${e.action}`;return D._aBuiltInRoutes.indexOf(t)!==-1};this.addTopHeaderPlaceHolder=function(){};this.removeTopHeaderPlaceHolder=function(){};D.prototype.updateHeaderItem=function(e,n){const o=t.getElementById(e);if(o&&n){if(n.hasOwnProperty("floatingNumber")){o.setFloatingNumber(n.floatingNumber)}}};D.prototype.destroyButton=function(e){if(!e){return}const n=Array.isArray(e)?e:[e];n.forEach(e=>{const n=t.getElementById(e);if(n){n.destroy()}})};D.prototype.waitForShellLayout=function(){return this.shellCtrl.getView().waitForShellLayout()};D.prototype.destroy=function(){const e=this.shellCtrl?this.shellCtrl.awaitPendingInitializations():Promise.resolve();return e.then(function(){return n.prototype.destroy.apply(this,arguments)}.bind(this)).then(()=>{P.destroyLayout()})};setTimeout(()=>{sap.ui.require(["sap/ushell/renderers/fiori2/Renderer"],()=>{})},0);return D});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/RendererAppContainer", ["sap/base/Log","sap/ui/core/Control","sap/ui/core/Component","sap/ui/core/ComponentContainer","sap/ui/core/library"],(e,t,i,o,n)=>{"use strict";const r=n.ComponentLifecycle;const s=t.extend("sap.ushell.renderer.RendererAppContainer",{metadata:{properties:{childId:{type:"string",defaultValue:""},name:{type:"string",defaultValue:""},url:{type:"string",defaultValue:""}},aggregations:{child:{multiple:false,type:"sap.ui.core.ComponentContainer",visibility:"hidden"}},events:{childDestroyed:{}}},renderer:{apiVersion:2,render:function(e,t){e.openStart("div",t);e.style("width","100%");e.style("height","100%");e.openEnd();const i=t.getAggregation("child");if(i){e.renderControl(i)}e.close("div")}}});s.prototype.setName=function(e){this.setProperty("name",e);if(this._hasValidConfig()){this.loadChild()}return this};s.prototype.setUrl=function(e){this.setProperty("url",e);if(this._hasValidConfig()){this.loadChild()}return this};s.prototype.setChildId=function(e){this.setProperty("childId",e);if(this._hasValidConfig()){this.loadChild()}return this};s.prototype._hasValidConfig=function(){return!!this.getUrl()&&!!this.getName()&&!!this.getChildId()};s.prototype.loadChild=async function(){if(!this._hasValidConfig()){throw new Error("The RenderAppContainer does not yet have all of the required properties set, and thus can not be loaded.")}if(this._getChild()){throw new Error("The RenderAppContainer already has a Component loaded. A Component is not allowed to be loaded twice!")}if(!this._oComponentPromise){this._oComponentPromise=i.create({id:this.getChildId(),name:this.getName(),url:this.getUrl(),componentData:{}}).then(e=>{this._oComponentPromise=null;function t(){return new o({component:e,height:"100%",lifecycle:r.Container,width:"100%"})}let n;const s=i.getOwnerComponentFor(this);if(s){n=s.runAsOwner(t)}else{n=t()}e.setParent(n);this.setAggregation("child",n);return n}).catch(()=>{const t=`The RenderAppContainer could not load the configured Component: ${this.getName()}`;e.error(t);return t})}return this._oComponentPromise};s.prototype._getChild=function(){return this.getAggregation("child")};s.prototype.getChild=async function(){return this._getChild()||this.loadChild()};s.prototype.destroyChild=function(){this.destroyAggregation("child");this.fireChildDestroyed();return this};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/RendererManagedComponents", ["sap/ushell/Config"],e=>{"use strict";const n={Home:"Home",AppDiscovery:"AppDiscovery"};class o{#e;constructor(){this.#n()}#n(){this.#e=[{id:"home",componentName:"sap.ushell.components.homepage",componentInstanceId:"Shell-home-component",category:n.Home},{id:"pages",componentName:"sap.ushell.components.pages",componentInstanceId:"pages-component",category:n.Home},{id:"workPageRuntime",componentName:"sap.ushell.components.workPageRuntime",componentInstanceId:"workPageRuntime-component",category:n.Home},{id:"appFinder",componentName:"sap.ushell.components.appfinder",componentInstanceId:"Shell-appfinder-component",category:n.AppDiscovery},{id:"contentFinder",componentName:"sap.ushell.components.contentFinderStandalone",componentInstanceId:"Shell-appfinder-component",category:n.AppDiscovery},{id:"homeApp",componentName:e.last("/core/homeApp/component")?.name,componentInstanceId:"homeApp-component",category:n.Home},{id:"runtimeSwitcher",componentName:"sap.ushell.components.runtimeSwitcher",componentInstanceId:"runtimeSwitcher-component",category:n.Home},{id:"homeAppComponentWrapper",componentName:"sap.ushell.renderer.rendererTargetWrapper",componentInstanceId:"homeApp-component-wrapper",category:n.Home},{id:"ShellBar",componentName:"sap.ushell.components.shell.ShellBar",componentInstanceId:null,category:null}]}ComponentCategory=n;isManagedComponentName(e){if(!e){return false}return this.#e.some(n=>n.componentName===e)}isManagedComponentInstance(e,n=[]){let o;if(e.isA("sap.ui.core.ComponentContainer")){o=e.getComponentInstance()}else if(e.isA("sap.ui.core.Component")){o=e}if(!o){return false}return this.#e.filter(e=>{if(!n.length){return true}return n.includes(e.category)}).some(e=>o.getId().endsWith(e.componentInstanceId))}reset(){this.#n()}}return new o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/Shell.controller", ["sap/ushell/renderer/History","sap/base/Log","sap/base/util/extend","sap/m/InstanceManager","sap/ui/core/Component","sap/ui/core/Element","sap/ui/core/EventBus","sap/ui/core/library","sap/ui/core/mvc/Controller","sap/ui/core/routing/HashChanger","sap/ui/core/routing/History","sap/ui/Device","sap/ui/performance/trace/Interaction","sap/ui/thirdparty/hasher","sap/ui/thirdparty/jquery","sap/ushell/appIntegration/AppLifeCycle","sap/ushell/appIntegration/PostMessageManager","sap/ushell/ApplicationType/UrlPostProcessing","sap/ushell/bootstrap/SchedulingAgent","sap/ushell/components/SharedComponentUtils","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/library","sap/ushell/performance/FesrEnhancer","sap/ushell/renderer/LogonFrameProvider","sap/ushell/resources","sap/ushell/services/AppConfiguration","sap/ushell/utils","sap/ushell/utils/UrlParsing","sap/ushell/utils/WindowUtils","sap/ushell/renderer/ShellLayout","sap/ushell/Container","sap/ushell/state/modules/BackNavigation","sap/ushell/state/ShellModel","sap/ushell/state/StateManager","sap/ushell/renderers/fiori2/LogonFrameProvider","sap/ushell/renderers/fiori2/History","sap/ushell/renderer/RendererManagedComponents","sap/ushell/ui5service/ShellUIServiceFactory","sap/ushell/navigation/NavigationState"],(e,t,n,i,a,o,s,r,l,c,h,g,d,p,jQuery,u,f,y,v,m,w,S,b,C,_,A,I,H,N,E,T,P,M,F,D,R,L,x,U,B)=>{"use strict";const k=x.ComponentCategory;const O=T.ShellArea;const W=r.routing.HistoryDirection;const $=b.AppType;const V=D.LaunchpadState;const z=D.Operation;const j=D.ShellMode;const{Standalone:q,Embedded:K,Minimal:G}=j;let Q=true;let X=false;const Y={embedded:0,newWindowThenEmbedded:1,newWindow:1,replace:0};const J={embedded:"embedded",newWindowThenEmbedded:"newWindowThenEmbedded",newWindow:"newWindow",replace:"replace"};let Z={};C.init();const ee="Shell.controller";const te="[FesrFlp]";return l.extend("sap.ushell.renderer.Shell",{_aDoables:[],addDoable:function(e){this._aDoables.push(e)},_aDanglingControls:[],addDanglingControl:function(e){this._aDanglingControls.push(e)},_aDanglingBindings:[],addDanglingBinding:function(e){this._aDanglingBindings.push(e)},removeDanglingBinding:function(e){const t=this._aDanglingBindings.findIndex(t=>t===e);if(t>-1){this._aDanglingBindings.splice(t,1)}},_aPendingInitializations:[],addPendingInitialization:function(e){this._aPendingInitializations.push(e);return e},awaitPendingInitializations:function(){const e=this._aPendingInitializations.length;return Promise.allSettled(this._aPendingInitializations).then(()=>{const t=this._aPendingInitializations.length;if(e<t){return this.awaitPendingInitializations()}})},onComponentTargetDisplay:function(e){const t=e.getParameters();const n=t.control;const i=t.object;if(this.bRestorePreviousHash){this.bRestorePreviousHash=false}n.navTo(i.getId())},onInit:function(){const t=a.getOwnerComponentFor(this.getView())?.getRouter();t.getTarget("home").attachDisplay(this.onComponentTargetDisplay,this);t.getTarget("appfinder").attachDisplay(this.onComponentTargetDisplay,this);t.getTarget("contentfinder").attachDisplay(this.onComponentTargetDisplay,this);t.getTarget("pages").attachDisplay(this.onComponentTargetDisplay,this);t.getTarget("workpages").attachDisplay(this.onComponentTargetDisplay,this);t.getTarget("runtimeSwitcher").attachDisplay(this.onComponentTargetDisplay,this);t.getTarget("wzsearch").attachDisplay(this.onComponentTargetDisplay,this);if(w.last("/core/homeApp/enabled")){t.getTarget("homeapp").attachDisplay(this.onComponentTargetDisplay,this)}t.oHashChanger=c.getInstance();t.initialize(true);this.bEnableHashChange=true;Q=true;const n=this.getView();const i=n.getViewData()||{};const r=window.matchMedia("(min-width: 600px)");const l=i.config||{};n.setModel(this._getConfigModel(),"configModel");n.setModel(F.getModel(),"shellModel");this._bindTabTitle();this._bindContentDensity();w.emit("/core/shell/model/personalization",w.last("/core/shell/enablePersonalization"));function h(e){w.emit("/core/shell/model/isPhoneWidth",!e.matches)}if(r.addListener){r.addListener(h);h(r)}n.setModel(A.i18nModel,"i18n");s.getInstance().subscribe("externalSearch",this.externalSearchTriggered,this);s.getInstance().subscribe("sap.ushell","appOpened",this.onAppOpened,this);s.getInstance().subscribe("ESHSearchFinished",this._logSearchActivity,this);this._setConfigurationToModel();this._registerAndCreateEventHubDoables();U.attachBackNavigationChanged(this._onBackNavigationChanged,this);this.history=e;this.oNavContainer=o.getElementById("viewPortContainer");u.init(this.oNavContainer,l.disableHomeAppCache);Promise.all([P.getServiceAsync("ShellNavigationInternal"),P.getServiceAsync("AppLifeCycle")]).then(e=>{const n=e[0];this._oAppLifeCycleService=e[1];this._oAppLifeCycleService.init(this.oNavContainer);this._initShellNavigationInternal(n,this._oAppLifeCycleService,t)});P.setLogonFrameProvider(this._getLogonFrameProvider());if(g.system.desktop){sap.ui.require(["sap/ushell/renderer/AccessKeysHandler"],e=>{e.init()})}window.onbeforeunload=function(){if(P&&P.getDirtyFlag()&&!(g.browser.name===g.browser.BROWSER.INTERNET_EXPLORER&&u.getCurrentApplication().container.getApplicationType()==="NWBC")){return A.i18n.getText("dataLossExternalMessage")}return};if(Z.enableOnlineStatus){sap.ui.require(["sap/ushell/ui5service/UserStatus"],e=>{this.oUserStatus=new e({scopeObject:this.getOwnerComponent(),scopeType:"component"})})}if(!l.disableSignOut&&(l.sessionTimeoutTileStopRefreshIntervalInMinutes>0||l.sessionTimeoutReminderInMinutes>0)){this._createSessionHandler(l)}if(g.system.desktop){sap.ui.require(["sap/ushell/renderer/AccessKeysHandler"],e=>{n.waitForShellLayout().then(()=>{const t=document.getElementById(O.NavigationBar);t.addEventListener("focusin",()=>{e.bFocusOnShell=false;e.bFocusPassedToExternalHandlerFirstTime=false});t.addEventListener("focusout",()=>{e.bFocusOnShell=true;e.bFocusPassedToExternalHandlerFirstTime=true});const n=document.getElementById(O.RendererRootView);n.addEventListener("focusin",()=>{e.bFocusOnShell=false;e.bFocusPassedToExternalHandlerFirstTime=false});n.addEventListener("focusout",()=>{e.bFocusOnShell=true;e.bFocusPassedToExternalHandlerFirstTime=true})})})}},_initShellNavigationInternal:function(e,t,n){this.oShellNavigationInternal=e;this.oShellNavigationInternal.registerPrivateFilters(t);this.oShellNavigationInternal.registerExtraRouter(n);this.oShellNavigationInternal.registerNavigationFilter(this._handleEmptyHash.bind(this));this.oShellNavigationInternal.init(this.doHashChange.bind(this));this.oShellNavigationInternal.registerNavigationFilter(this._disableSourceAppRouter.bind(this));this.oShellNavigationInternal.registerNavigationFilter(this.handleDataLoss.bind(this));this.oShellNavigationInternal.registerNavigationFilter(this._unblockUI.bind(this));u.registerHandleHashChange(this.oShellNavigationInternal);S.emit("ShellNavigationInitialized",Date.now())},_bindContentDensity:function(){const e=F.getModel().bindProperty("/application/contentDensity");function t(){const t=e.getValue();const n=t==="compact";document.body.classList.toggle("sapUiSizeCompact",n);document.body.classList.toggle("sapUiSizeCozy",!n)}t.call(this);e.attachChange(t);this._aDanglingBindings.push(e)},_bindTabTitle:function(){const e=F.getModel().bindProperty("/application/title");const t=F.getModel().bindProperty("/application/titleAdditionalInformation");function n(){const e=this._calculateWindowTitle();if(e){I.setWindowTitle(e)}}n.call(this);e.attachChange(n.bind(this));t.attachChange(n.bind(this));this._aDanglingBindings.push(e);this._aDanglingBindings.push(t)},_calculateWindowTitle:function(){let e="";const t=F.getModel().getProperty("/application/title")||"";const n=F.getModel().getProperty("/application/titleAdditionalInformation");if(n?.searchTerm){if(n.searchScope){e=A.i18n.getText("titleWindowSearchTermWithScope",[n.searchTerm,n.searchScope])}else{e=A.i18n.getText("titleWindowSearchTerm",[n.searchTerm])}}else if(n?.headerText&&n?.additionalContext){e=A.i18n.getText("titleWindow",[n.headerText,n.additionalContext])}else{e=n?.headerText||n?.additionalContext||t}return e},_getConfigModel:function(){return F.getConfigModel()},getNavContainer:function(){return o.getElementById("viewPortContainer")},_registerAndCreateEventHubDoables:function(){[S.once("CenterViewPointContentRendered").do(this._loadCoreExt.bind(this)),S.once("PagesRuntimeRendered").do(this._loadCoreExt.bind(this)),S.once("AppRendered").do(this._loadCoreExtNonUI5.bind(this)),S.once("CoreResourcesComplementLoaded").do(this._onCoreResourcesComplementLoaded.bind(this)),S.once("loadRendererExtensions").do(this._loadRendererExtensionPlugins.bind(this)),S.once("loadWarmupPlugins").do(this._loadWarmupPlugins.bind(this)),S.once("loadTrackingActivitiesSetting").do(this._loadTrackingActivitiesSetting.bind(this)),S.once("initMessagePopover").do(this._initializeMessagePopover.bind(this))].forEach(e=>{this.addDoable(e)});this.addDoable(S.on("toggleContentDensity").do(this.toggleContentDensity.bind(this)))},_onBackNavigationChanged:async function(e){const t=e.getParameters().data;const n=D.getShellMode();const i=D.getLaunchpadState();if(t){M.setNavigateBack(t);if(i===V.App&&[G,q,K].includes(n)){P.getRendererInternal("fiori2").showHeaderItem("backBtn",true)}}else{M.resetNavigateBack()}},toggleContentDensity:function(e){const t=e.contentDensity==="compact";return f.sendRequestToAllApplications("sap.ushell.appRuntime.uiDensityChange",{isTouch:t?"0":"1"},false)},_handleEmptyHash:function(e){e=typeof e==="string"?e:"";e=e.split("?")[0];if(e.length===0){const e=this.getView()?this.getView().getViewData():{};Z=e.config||{};if(Z.migrationConfig){return this.oShellNavigationInternal.NavigationFilterStatus.Continue}if(Z.rootIntent){window.setTimeout(()=>{p.setHash(Z.rootIntent)},0);return this.oShellNavigationInternal.NavigationFilterStatus.Abandon}}return this.oShellNavigationInternal.NavigationFilterStatus.Continue},_unblockUI:function(){o.getElementById("shell-header")?.setBlocked?.(false);o.getElementById("menubar")?.setBlocked?.(false);return this.oShellNavigationInternal.NavigationFilterStatus.Continue},_notifyAsyncStep:function(){return d.notifyAsyncStep()},_setConfigurationToModel:function(){const e=this.getView().getViewData();if(e){Z=e.config||{}}if(Z){if(Z.states){t.error("The 'states' configuration was discontinued")}if(Z.enableSetTheme!==undefined){this._getConfigModel().setProperty("/setTheme",Z.enableSetTheme)}this._getConfigModel().setProperty("/contentDensity",Z.enableContentDensity===undefined?true:Z.enableContentDensity);if(Z.migrationConfig!==undefined){this._getConfigModel().setProperty("/migrationConfig",Z.migrationConfig)}if(Z.enableUserDefaultParameters!==undefined){this._getConfigModel().setProperty("/userDefaultParameters",Z.enableUserDefaultParameters)}if(Z.disableHomeAppCache!==undefined){this._getConfigModel().setProperty("/disableHomeAppCache",Z.disableHomeAppCache)}this._getConfigModel().setProperty("/enableHelp",w.last("/core/extension/enableHelp"));this._getConfigModel().setProperty("/searchAvailable",Z.enableSearch!==false);if(Z.title!==undefined){this.setHeaderTitle(Z.title)}}},_loadTrackingActivitiesSetting:async function(e){try{let t=await this._getPersData({container:"flp.settings.FlpSettings",item:"userActivitesTracking"});if(t===undefined){t=true}this._getConfigModel().setProperty("/enableTrackingActivity",t);S.emit("StepDone",e.stepName)}catch(n){t.error("Failed to load tracking activities state from the personalization, tracking activities is disabled",n,"sap.ushell.components.flp.settings.FlpSettings");this._getConfigModel().setProperty("/enableTrackingActivity",false);S.emit("StepDone",e.stepName)}},_getPreviousPageDirty:function(){return X},_setPreviousPageDirty:function(e){X=e},getModelConfiguration:function(){const e=this.getView().getViewData();let t;if(e){const i=e.config||{};t=n({},i)}delete t.applications;return t},_getLogonFrameProvider:function(){return _},onExit:function(){Q=true;this._aDoables.forEach(e=>{e.off()});this._aDoables=[];U.detachBackNavigationChanged(this._onBackNavigationChanged,this);this._aDanglingControls.forEach(e=>{e.destroy()});this._aDanglingControls=[];this._aDanglingBindings.forEach(e=>{e.destroy()});this._aDanglingBindings=[];s.getInstance().unsubscribe("externalSearch",this.externalSearchTriggered,this);s.getInstance().unsubscribe("ESHSearchFinished",this._logSearchActivity,this);s.getInstance().unsubscribe("sap.ushell","appOpened",this.onAppOpened,this);if(this.oShellNavigationInternal&&this.oShellNavigationInternal.hashChanger){this.oShellNavigationInternal.hashChanger.destroy()}sap.ui.require("sap/ushell/UserActivityLog")?.deactivate();D.destroy(true);u.reset?.()},_getCurrentAppRouter:function(){const e=this._oAppLifeCycleService;const t=e&&e.getCurrentApplication&&e.getCurrentApplication();const n=t&&t.componentInstance;if(n){return n.getRouter()}return null},_disableSourceAppRouter:function(e,t){if(!this.bEnableHashChange||this.bRestorePreviousHash){return this.oShellNavigationInternal.NavigationFilterStatus.Continue}const n=this.oShellNavigationInternal.hashChanger.isInnerAppNavigation(e,t);if(!n){const e=this._getCurrentAppRouter();if(e&&e.isInitialized()){e.stop()}}return this.oShellNavigationInternal.NavigationFilterStatus.Continue},_resumeAppRouterIgnoringCurrentHash:function(){const e=this._getCurrentAppRouter();if(e){e.initialize(true)}},handleDataLoss:function(e,t){const n=this.oShellNavigationInternal.hashChanger;const i=n.getReloadApplication();if(this.bReloadApplication!==null&&this.bReloadApplication!==undefined){n.setReloadApplication(this.bReloadApplication);this.bReloadApplication=null}if(t===""||p.disableBlueBoxHashChangeTrigger===true){return this.oShellNavigationInternal.NavigationFilterStatus.Continue}if(!this.bEnableHashChange&&!this.bRedoNavigation){this.bEnableHashChange=true;return this.oShellNavigationInternal.NavigationFilterStatus.Custom}if(this.bRestorePreviousHash){return this.oShellNavigationInternal.NavigationFilterStatus.Continue}if(this.bRedoNavigation){this.bRedoNavigation=false;this.bEnableHashChange=true;this.bExplaceNavigation=false;return this.oShellNavigationInternal.NavigationFilterStatus.Continue}const a=N.parseShellHash(e);const o=P.getRendererInternal()._isBuiltInIntent(a);const s=a.params["sap-ushell-navmode"];const r=s&&s[0];if(!o&&(this.bExplaceNavigation||r==="explace"||r==="frameless")){this.bExplaceNavigation=false;return this.oShellNavigationInternal.NavigationFilterStatus.Continue}const l=P.getDirtyFlag();const c=P.isAsyncDirtyStateProviderSet();if(!c&&!l){X=l;return this.oShellNavigationInternal.NavigationFilterStatus.Continue}const g=h.getInstance().getHistoryStateOffset()<0;this._oLastDataLossPromise=Promise.all([this._waitForHash(t),P.getServiceAsync("NavTargetResolutionInternal"),P.getDirtyFlagsAsync()]).then(async t=>{const n=t[1];const a=t[2];X=a;if(!a){this.bRedoNavigation=true;this._restoreHashUsingAction(e,"redo");return}if(o){if(this._handleDirtyStateUserConfirm()){this.bRedoNavigation=true;this._restoreHashUsingAction(e,"redo")}return}const s=`#${e}`;try{const t=await n.resolveHashFragment(s);const a=t.targetNavigationMode==="explace"||t.targetNavigationMode==="frameless";const o=g&&t.navigationMode===J.newWindowThenEmbedded;if(a&&!o){this.bExplaceNavigation=true;this.bRedoNavigation=true;this._restoreHashUsingAction(e,"redo")}else if(this._handleDirtyStateUserConfirm()){this.bRedoNavigation=true;this.bReloadApplication=i;this._restoreHashUsingAction(e,"redo")}}catch{this.bRedoNavigation=true;this._restoreHashUsingAction(e,"redo")}});return this._restoreHashUsingAction(t,"undo")},_waitForHash:function(e){const t=`#${e}`;return new Promise(e=>{function n(){const i=t===decodeURIComponent(window.location.hash);if(i){window.removeEventListener("hashchange",n);e()}}window.addEventListener("hashchange",n)})},_handleDirtyStateUserConfirm:function(){t.debug(`${te} Interaction Start`,"_handleDirtyStateUserConfirm",ee);const e=this._notifyAsyncStep();if(window.confirm(A.i18n.getText("dataLossInternalMessage"))){P.setDirtyFlag(false);t.debug(`${te} Interaction End`,"_handleDirtyStateUserConfirm",ee);e();X=true;return true}t.debug(`${te} Interaction End`,"_handleDirtyStateUserConfirm",ee);e();return false},_restoreHashUsingAction:function(e,t){const n=this.oShellNavigationInternal.wasHistoryEntryReplaced();const i=this._getRestoreHashStrategy(n,t);this._resumeAppRouterIgnoringCurrentHash();return this._restoreHash(i,e)},_getRestoreHashStrategy:function(e,t){if(e){return{strategy:"replaceHash",stepCount:0}}let n;let i=h.getInstance().getHistoryStateOffset();if(i===undefined||i>=0){i=1}else if(i<0){i=-1}if(t==="undo"){if(i<0){n="historyForward"}else{n="historyBack"}this.sLastUndoStrategy=n}else{switch(this.sLastUndoStrategy){case"historyBack":n="historyForward";break;case"historyForward":n="historyBack";break;default:n="replaceHash"}}return{strategy:n,stepCount:1}},_restoreHash:function(e,t){const n={status:this.oShellNavigationInternal.NavigationFilterStatus.Custom,hash:""};switch(e.strategy){case"historyBack":this.bEnableHashChange=false;this._windowHistoryBack(e.stepCount);break;case"historyForward":this.bEnableHashChange=false;this._windowHistoryForward(e.stepCount);break;case"replaceHash":this.bEnableHashChange=false;p.replaceHash(t);break;default:throw new Error("Cannot execute unknown navigation strategy")}return n},_setEnableHashChange:function(e){this.bEnableHashChange=e},_logRecentActivity:async function(e){if(!this.oInitialEnableTrackingPromise){if(w.last("/core/shell/model/enableTrackingActivity")!==undefined){this.oInitialEnableTrackingPromise=Promise.resolve()}else{this.oInitialEnableTrackingPromise=new Promise(e=>{w.once("/core/shell/model/enableTrackingActivity").do(e)})}}await this.oInitialEnableTrackingPromise;if(w.last("/core/shell/model/enableTrackingActivity")){const t=await P.getServiceAsync("UserRecents");return t.addActivity(e)}t.warning("Tracking is not enabled",null,"sap.ushell.renderer.Shell.controller");throw new Error("Tracking is not enabled")},doHashChange:function(e,n,i,a,o){t.debug(`${te} Interaction Start`,"doHashChange",ee);H.setPerformanceMark("FLP-ShellController-doHashChange-begin");m.toggleUserActivityLog();S.emit("trackHashChange",e);const s=new jQuery.Deferred;this._bWasHistoryEntryReplaced=this.oShellNavigationInternal.wasHistoryEntryReplaced();this.oShellNavigationInternal.resetHistoryEntryReplaced();if(!this.bEnableHashChange){this.bEnableHashChange=true;s.resolve();B.endNavigation();return s.promise()}if(this.bRestorePreviousHash){this.bRestorePreviousHash=false;s.resolve();B.endNavigation();return s.promise()}const r=N.ensureLeadingHash(e);const l=N.ensureLeadingHash(i);if(o){t.error(`Error when parsing the hash: '${r}'`,o);this.hashChangeFailure(this.history.getHistoryLength(),o.message,null,"sap.ushell.renderer.Shell.controller",false).then(s.resolve.bind(s)).catch(s.reject.bind(s));B.endNavigation();return s.promise()}const c=this._notifyAsyncStep();this._doHashChange(r,n,l).catch(()=>{S.emit("doHashChangeError",Date.now())}).finally(()=>{t.debug(`${te} Interaction End`,"doHashChange",ee);c();B.endNavigation();s.resolve()});return s.promise()},_doHashChange:async function(e,n,i){const a=this.history.getHistoryLength();this.history.hashChange(e,i);const o=I.getCurrentApplication();try{const s=await this._resolveHashFragment(e,n);if(!s&&window.QUnit!==undefined){return}const r=s.resolvedHashFragment;const l=s.parsedShellHash;if(r.navigationMode===null){if(H.isColdStart()){p.setHash("");return}this.bEnableHashChange=false;this.history.pop();this._windowHistoryBack(1);return}await u.storeAppExtensions();D.stallChanges();const c=await this._openAppViaNWBC(r,o);if(c===true){this.logOpenAppAction(r,n).catch(()=>{t.info("NWBC application was not logged.",undefined,"sap.ushell.renderer.Shell.controller")});D.applyStalledChanges();return}if(r.navigationMode===J.newWindow){this.logOpenAppAction(r,n).catch(()=>{t.info("Application in new window was not logged.",undefined,"sap.ushell.renderer.Shell.controller")});await this._openAppExplace(r,o);D.applyStalledChanges();return}const h=this._rewriteRootIntentForMigrationConfig(r,e);if(h){D.applyStalledChanges();return}try{const s=this.oShellNavigationInternal.isInitialNavigation();try{await this._openAppInplace(l,e,r,i,n,o)}catch(n){t.error(`Application initialization for intent "${e}" failed.`,n);const i=I.getMetadata(r);this.oShellNavigationInternal.setIsInitialNavigation(s);await this.hashChangeFailure(a,n.name,n.message,i?i.title:"",false)}}catch(n){t.error("Failed to open application",n,"sap.ushell.renderer.Shell.controller");const i=A.i18n.getText("cannot_load_ui5_component_details",[e]);const s=`Failed to load UI5 component for navigation intent "${e}"`;I.setCurrentApplication(o);await this.hashChangeFailure(a,{title:A.i18n.getText("error"),message:A.i18n.getText("failed_to_open_ui5_component"),technicalMessage:s},{info:i,technicalMessage:`${n.message}\n${n.stack}`},"sap.ushell.renderer.Shell.controller",false)}}catch(n){t.error("Hash change handling failed. Could not open app.",n,"sap.ushell.renderer.Shell.controller");const i=A.i18n.getText("cannot_resolve_navigation_target_details",[e]);const o=`Failed to resolve navigation target "${e}". This is most likely caused by an incorrect SAP Fiori launchpad content configuration or by missing role assignment.`;await this.hashChangeFailure(a,{title:A.i18n.getText("error"),message:A.i18n.getText("failed_to_open_app_missing_configuration_or_role_assignment"),technicalMessage:o},{info:i,fixedShellHash:e,technicalMessage:n.message},"sap.ushell.renderer.Shell.controller",false);throw n}},_rewriteRootIntentForMigrationConfig:function(e,t){if(w.last("/core/shell/model/migrationConfig")){Z.migrationConfig=false;this._getConfigModel().setProperty("/migrationConfig",false);if(e&&t==="#"){Z.rootIntent=""}else if(t==="#"){window.setTimeout(()=>{p.setHash(Z.rootIntent)},0);return true}}return false},_openAppExplace:async function(e,t){e.url=y.processUrl(e.url,e.applicationType,true,undefined);u.publishAppOpeningEvent(e);const n=E.openURL(e.url);if(!n&&!this._checkWindowLocationSearch("workzone-mobile-app=true")){const e=A.i18n.getText("fail_to_start_app_popup_blocker",[window.location.hostname]);this.delayedMessageError(e)}u.publishAppOpenedEvent(e);this._restorePreviousHashAfterOpenNewWindow(e,t)},_closeAllDialogs:function(){if(i&&Q){i.closeAllDialogs();i.closeAllPopovers()}Q=true},_resolveHashFragment:async function(e,n){const i=N.parseShellHash(e)||{};const a=this._getConfig();let o;if(window["sap-ushell-async-libs-promise-directstart"]){try{const e=await window["sap-ushell-async-libs-promise-directstart"];delete window["sap-ushell-async-libs-promise-directstart"];o=e.resolvedHashFragment}catch(e){delete window["sap-ushell-async-libs-promise-directstart"];throw e}}else{const t=await P.getServiceAsync("NavTargetResolutionInternal");o=await H.promisify(t.resolveHashFragment(e+(n??"")))}if(!o&&window.QUnit!==undefined&&!window._bTestNullNavigationMode){return}if(!o){o={navigationMode:null}}I.setCurrentApplication(o);const s=N.getBasicHash(e);if(a?.applications?.[s]){o.applicationConfiguration=a.applications[s]}o.sFixedShellHash=e;if(`${i.semanticObject}-${i.action}`===a.rootIntent){o.navigationMode=J.embedded}if(o.navigationMode!==null&&!o.navigationMode){t.error("Mandatory member 'navigationMode' is missing in the resolution result! Temporarily set to 'embedded' for further processing...","sap.ushell.renderer.Shell.controller");o.navigationMode=J.embedded}this._setEffectiveNavigationMode(o);H.setPerformanceMark("FLP-ShellController-resolveHashFragment-end");return{resolvedHashFragment:o,parsedShellHash:i}},_setEffectiveNavigationMode:function(e){if(!e){return}const t=e.navigationMode;if(t===J.newWindowThenEmbedded){if(H.isColdStart()||h.getInstance().getDirection()===W.Backwards){e.navigationMode=J.embedded}else{e.navigationMode=J.newWindow;if(!H.isNativeWebGuiNavigation(e)){e.applicationType="URL";e.url=this._getCurrentLocationHash()}}return}if(t===J.newWindow&&H.isColdStart()){if(this._hasAppCapabilitiesNavigationMode(e)&&e.appCapabilities.navigationMode===J.embedded){e.navigationMode=J.embedded;return}e.navigationMode=J.replace;return}if(t===J.newWindow&&this._hasAppCapabilitiesNavigationMode(e)&&e.appCapabilities.navigationMode===J.embedded){e.url=this._getCurrentLocationHash()}},_hasAppCapabilitiesNavigationMode:function(e){return H.isPlainObject(e.appCapabilities)&&e.appCapabilities.hasOwnProperty("navigationMode")},_openAppInplace:async function(e,n,i,a,o){if(i.replaceHashBeforeOpenAppInplace){p.replaceHash(i.replaceHashBeforeOpenAppInplace)}this._closeAllDialogs();const s=i.navigationMode;if(s===J.replace){this.oShellNavigationInternal.setIsInitialNavigation(false);this.bEnableHashChange=false;this._changeWindowLocation(i.url);return}if(s!==J.embedded){return this.hashChangeFailure(this.history.getHistoryLength(),`Navigation mode '${s}' was not recognized`,null,"sap.ushell.renderer.Shell.controller",false)}i.targetNavigationMode=H.isColdStart()?"explace":"inplace";if(!H.isColdStart()&&!this._bWasHistoryEntryReplaced){this.oShellNavigationInternal.setIsInitialNavigation(false)}u.resetGlobalShellUIService();const r=this._isFLPIntent(a);const l=await u.startApplication(e,i,o||"",r);const c=l.getNavigationRedirectHash();if(typeof c==="string"){t.warning(`Performing navigation redirect to hash "${c}"`);this.history.pop();const e=await P.getServiceAsync("ShellNavigationInternal");return e.toExternal({target:{shellHash:c}},undefined,false)}const h=this._getConfig();const g=N.getBasicHash(n);const d=n==="#"||h.rootIntent&&g===N.getBasicHash(h.rootIntent);await l.navTo(d);const f=I.getMetadata(i);S.emit("CloseFesrRecord",{time:Date.now(),technicalName:f.technicalName});return},_openAppViaNWBC:async function(e,n){const i=e&&(H.isNativeWebGuiNavigation(e)||e.nativeNWBCNavigation);if(!i){return false}const a=H.getPrivateEpcm();const o=Y[e.navigationMode];let s;if(H.hasNavigationModeCapability()){s=o||Y[J.embedded]}const r=await this._appendUserIdToUrl("sap-user",e.url);const l=await H.appendSapShellParam(r);const c=e.applicationType;const h=e?.appCapabilities?.appFrameworkId;let g;try{if(H.isSAPLegacyApplicationType(c,h)){const t=Object.create(null);const n=await P.getServiceAsync("Navigation");const i=H.getParamKeys(l);if(i.aAppStateNamesArray.length>0){const e=await n.getAppStateData(i.aAppStateKeysArray);i.aAppStateNamesArray.forEach((n,i)=>{if(e[i]){t[n]=e[i]}})}t["sap-flp-url"]=P.getFLPUrl(true);t["system-alias"]=e.systemAlias;g=[{name:"sap-flp-params",value:JSON.stringify(t)}]}}catch{}try{u.publishAppOpeningEvent(e);if(!a.doNavigate(l,s,undefined,undefined,undefined,undefined,undefined,g)){return false}u.publishAppOpenedEvent(e);await this._restoreAfterNwbcNavigation(e,n);if(this._oAppLifeCycleService.getCurrentApplication()&&this._oAppLifeCycleService.getCurrentApplication().homePage){this._setMenuVisible(true);this._setSideNavigationVisible(true)}return true}catch(n){t.error("Application initialization failed due to an Exception:",n);await this.hashChangeFailure(this.history.getHistoryLength(),n.name,n.message,e.text,false);return false}},_restoreAfterNwbcNavigation:async function(e,t){if(this.history.getHistoryLength()===1&&!this._oAppLifeCycleService.getCurrentApplication()){const e=await P.getServiceAsync("Navigation");e.navigate({target:{shellHash:"#"},writeHistory:false});return}this._restorePreviousHashAfterOpenNewWindow(e,t)},_appendUserIdToUrl:async function(e,t){const n=await P.getServiceAsync("UserInfo");const i=n.getUser().getId();const a=t.indexOf("?")>=0?"&":"?";return`${t+a+e}=${i}`},_restorePreviousHashAfterOpenNewWindow:function(e,t){this.history.pop();const n=e.componentHandle&&e.componentHandle.getInstance&&e.componentHandle.getInstance({});if(n){n.destroy()}this._resumeAppRouterIgnoringCurrentHash();this.bRestorePreviousHash=true;this._windowHistoryBack(1);I.setCurrentApplication(t);S.emit("openedAppInNewWindow",Date.now())},_isShellHomeIntent:function(e){return e==="#"||e===Z.rootIntent},hashChangeFailure:async function(e,t,n,i,a){D.discardStalledChanges();if(H.isPlainObject(t)){this.reportError(t.technicalMessage,n.technicalMessage,i);const e=await P.getServiceAsync("MessageInternal");e.show(e.Type.ERROR,t.message,{title:t.title,details:n})}else{this.reportError(t,n,i);this.delayedMessageError(A.i18n.getText("fail_to_start_app_try_later"))}Q=false;this._resumeAppRouterIgnoringCurrentHash();if(e===0){p.setHash("")}else if(new URLSearchParams(window.location.search).get("bFallbackToShellHome")){p.setHash("")}else{this.bEnableHashChange=a;P.setDirtyFlag(X);this._windowHistoryBack(1)}},reportError:function(e,n,i){t.error(e,n,i)},delayedMessageError:async function(e){try{await H.awaitTimeout(0);const t=await P.getServiceAsync("MessageInternal");t.error(e)}catch{}},_checkWindowLocationSearch:function(e){return window.location.search.indexOf(e)>-1},_windowHistoryBack:function(e){window.history.go(-1*e)},_windowHistoryForward:function(e){window.history.go(e)},_changeWindowLocation:function(e){window.location.href=e},_setMenuVisible:function(e){const t=document.getElementById(O.NavigationBar);if(!t){return}e=e||w.last("/core/menu/enabled")&&w.last("/core/menu/visibleInAllStates");t.classList.toggle("sapUshellShellHidden",!e)},_setSideNavigationVisible:function(e){const t=document.getElementById(O.SideNavigation);if(!t){return}e=e||w.last("/core/sideNavigation/enabled")&&w.last("/core/sideNavigation/mode")==="Docked";t.classList.toggle("sapUshellShellHidden",!e)},onAppOpened:function(e,n,i){if(i.targetNavigationMode!=="explace"&&i.targetNavigationMode!=="frameless"){this._setMenuVisible(false)}this._setSideNavigationVisible(true);const a=this.oShellNavigationInternal.hashChanger.getAppHash();const o=a?`&/${a}`:null;this.logOpenAppAction(i,o).catch(()=>{t.info("Opened application was not logged.",undefined,"sap.ushell.renderer.Shell.controller")});this._notifyUITracer(i)},externalSearchTriggered:function(e,t,n){w.emit("/core/shell/model/searchTerm",n.searchTerm);n.query=n.searchTerm},onBeforeNavigate:function(e){const t=e.getParameter("to");const n=x.isManagedComponentInstance(t,[k.Home]);this._setMenuVisible(n);this._setSideNavigationVisible(n)},onAfterNavigate:function(e){s.getInstance().publish("sap.ushell","navigated",{})},logOpenAppAction:async function(e,t){const n=w.last("/core/shell/enableRecentActivity")&&w.last("/core/shell/enableRecentActivityLogging");if(!n){throw new Error("Tracking of RecentActivity is disabled.")}const i=I.getMetadata(e);const a=e.sFixedShellHash||this._getCurrentLocationHash();const o={title:i.title,appType:$.APP,url:t?a+t:a};const s=N.parseShellHash(a);if(s){o.appId=`#${N.constructShellHash({semanticObject:s.semanticObject,action:s.action})}`}else{o.appId=a}if(a&&a.indexOf("#Action-search")===-1&&a.indexOf("#Shell-startIntent")===-1){await H.awaitTimeout(1500);await this._logRecentActivity(o);return}throw new Error("RecentActivity was not logged.")},_notifyUITracer:function(e){try{const t=e.reservedParameters?.["sap-fiori-id"]?.[0]||e.reservedParameters?.["sap-ui-app-id-hint"]?.[0]||e.ui5ComponentName;S.emit("UITracer.trace",{reason:"NavigateApp",source:"Intent",data:{applicationId:t||"",applicationType:e.applicationType||"",hash:e.sFixedShellHash||"",targetNavigationMode:e.targetNavigationMode||"",providerId:e.contentProviderId||"",targetUrl:e.url||""}})}catch(e){t.warning("Could not emit UITracer.trace event",e,"sap.ushell.renderer.Shell.controller")}},_logSearchActivity:function(){if(w.last("/core/shell/enableRecentActivity")&&w.last("/core/shell/enableRecentActivityLogging")){let e="";try{e=o.getElementById("searchFieldInShell-input").getModel().getLastSearchTerm()}catch(e){t.error("Shell: last search term is not available to log a recent activity",e)}this._logRecentActivity({appId:"#Action-search",appType:$.SEARCH,title:e,url:`#${p.getHash()}`}).catch(()=>{t.info("Search activity was not logged.",undefined,"sap.ushell.renderer.Shell.controller")})}},_loadCoreExtNonUI5:function(e){if(e&&e.applicationType!=="SAPUI5"){this._loadCoreExt()}},_onCoreResourcesComplementLoaded:function(){H.setPerformanceMark("SchedulingAgent-StartOfFlow");const e=this.getView();if(e){e.createPostCoreExtControls()}v._initialize();S.emit("startScheduler")},_loadRendererExtensionPlugins:async function(e){const t=new URLSearchParams(window.location.search);const n=t.get("sap-ushell-xx-pluginmode")==="delayed";const i=await P.getServiceAsync("PluginManager");if(n){await H.awaitTimeout(5e3)}i.loadPlugins("RendererExtensions").always(()=>{S.emit("StepDone",e.stepName)})},_loadWarmupPlugins:async function(e){const n=await P.getServiceAsync("PluginManager");n.loadPlugins("AppWarmup").always(()=>{t.debug("WARMUP plugins loaded",null,"sap.ushell.renderer.Shell");S.emit("StepDone",e.stepName);H.setPerformanceMark("SchedulingAgent-EndOfFlow");H.setPerformanceMeasure("SchedulingAgentTotalTime","SchedulingAgent-StartOfFlow","SchedulingAgent-EndOfFlow")})},_loadCoreExt:async function(){await P.getServiceAsync("Ui5ComponentLoader");S.emit("loadCoreResourcesComplement",Date.now())},getRightFloatingContainerVisibility:function(){const e=this.getView().getRightFloatingContainer();return e&&e.getVisible()},setHeaderTitle:function(e){D.updateAllBaseStates("header.secondTitle",z.Set,e||"")},setNavigationBar:function(e){e.placeAt(O.NavigationBar,"only");this.addDanglingControl(e)},setSideNavigation:function(e){e.placeAt(O.SideNavigation,"only");this.addDanglingControl(e)},setShellShapes:function(e){if(e.placeAt){e.placeAt(O.ShellShapes,"only");this.addDanglingControl(e)}else if(e instanceof Node){document.getElementById(O.ShellShapes).appendChild(e)}},setFooter:function(e){if(typeof e!=="object"||!e.getId){throw new Error("oFooter value is invalid")}const n=this.getFooterId();if(n){t.warning(`You can only set one footer. Replacing existing footer "${n}", with the new footer "${e.getId()}".`)}D.updateAllBaseStates("footer.content",z.Set,e.getId());e.placeAt(O.Footer,"only");this.addDanglingControl(e);if(e._applyContextClassFor){e._applyContextClassFor("footer")}},getFooterId:function(){return F.getModel().getProperty("/footer/content")},removeFooter:function(){const e=this.getFooterId();if(e){const t=o.getElementById(e);if(t&&t.destroy){t.destroy()}}D.updateAllBaseStates("footer.content",z.Set,"")},addUserPreferencesEntry:function(e,t){this._validateUserPrefEntryConfiguration(e,t);return this._updateUserPrefModel(e,t)},_validateUserPrefEntryConfiguration:function(e,t){if(!e||typeof e!=="object"){throw new Error("object oConfig was not provided")}if(!e.title){throw new Error("title was not provided")}if(!e.value){throw new Error("value was not provided")}if(typeof e.entryHelpID!=="undefined"){if(typeof e.entryHelpID!=="string"){throw new Error("entryHelpID type is invalid")}else if(e.entryHelpID===""){throw new Error("entryHelpID should not be an empty string")}}if(e.title&&typeof e.title!=="string"){throw new Error("title type is invalid")}if(typeof e.value!=="function"&&typeof e.value!=="string"&&typeof e.value!=="number"){throw new Error("value type is invalid")}["onSave","content","onCancel"].forEach(t=>{if(e[t]&&typeof e[t]!=="function"){throw new Error(`"${t}" type is "${typeof e[t]}" but should be a function`)}});if(t){[{name:"groupingId",type:"string"},{name:"groupingTabTitle",type:"string"},{name:"groupingTabHelpId",type:"string"}].forEach(t=>{if(!e[t.name]){throw new Error(`${t.name} is missing`)}else if(typeof e[t.name]!==t.type){throw new Error(`"${t.name}" type is "${typeof e[t.name]}" but should be a "${t.type}"`)}})}},_createSessionHandler:function(e){const t=2e4;sap.ui.require(["sap/ushell/SessionHandler"],n=>{this.oSessionHandler=new n;this.oSessionHandler.initLogout();window.setTimeout(()=>{this.oSessionHandler.init({sessionTimeoutReminderInMinutes:e.sessionTimeoutReminderInMinutes,sessionTimeoutIntervalInMinutes:e.sessionTimeoutIntervalInMinutes,sessionTimeoutTileStopRefreshIntervalInMinutes:e.sessionTimeoutTileStopRefreshIntervalInMinutes,enableAutomaticSignout:e.enableAutomaticSignout})},t)})},_getSessionHandler:function(){return this.oSessionHandler},_navBack:async function(){this.setUserActionsMenuSelected(false);M.navigateBack()},_updateUserPrefModel:function(e,t){const n=this._getModelEntryFromEntryObject(e);let i=w.last("/core/userPreferences/entries")||[];if(t){n.groupingEnablement=true;n.groupingId=e.groupingId;n.groupingTabTitle=e.groupingTabTitle;n.groupingTabHelpId=e.groupingTabHelpId}i.push(n);i=this._reorderUserPrefEntries(i);w.emit("/core/userPreferences/entries",i);return n.id},_getModelEntryFromEntryObject:function(e){return{id:H._getUid(),entryHelpID:e.entryHelpID,title:e.title,valueArgument:e.value,valueResult:null,onSave:e.onSave,onCancel:e.onCancel,contentFunc:e.content,contentResult:null,icon:e.icon,provideEmptyWrapper:e.provideEmptyWrapper}},_reorderUserPrefEntries:function(e){const t=[];const n=["userAccountEntry","themes","language","notificationsEntry","homepageEntry","spacesEntry","userActivitiesEntry","userDefaultEntry"];const i={};for(let t=e.length-1;t>=0;t--){if(n.indexOf(e[t].id)!==-1){const n=e.splice(t,1)[0];i[n.id]=n}}n.forEach(e=>{const n=i[e];if(n){t.push(n)}});return t.concat(e)},_getConfig:function(){return Z||{}},_getPersData:async function(e){const t=a.getOwnerComponentFor(this.getView());const n=await P.getServiceAsync("PersonalizationV2");const i={keyCategory:n.KeyCategory.FIXED_KEY,writeFrequency:n.WriteFrequency.LOW,clientStorageAllowed:true};const o=await n.getPersonalizer(e,i,t);return o.getPersData()},_getCurrentLocationHash:function(){return window.location.hash},setUserActionsMenuSelected:function(e){S.emit("showUserActionsMenu",e)},setNotificationsSelected:function(e){S.emit("showNotifications",e)},_isFLPIntent:function(e){const t=N.getBasicHash(e);const n=["Shell-home","Shell-appfinder","Launchpad-openFLPPage","Launchpad-openWorkPage"];return n.some(e=>t===e)},_usesNavigationRedirect:async function(e){if(!e){return false}const n=e.getInstance({});if(!n){return false}if(typeof n.navigationRedirect!=="function"){return false}const i=n.navigationRedirect();if(!i||typeof i.then!=="function"){return false}try{const e=await H.promisify(i);t.warning(`Performing navigation redirect to hash "${e}"`);n.destroy();this.history.pop();const a=await P.getServiceAsync("ShellNavigationInternal");a.toExternal({target:{shellHash:e}},undefined,false);return true}catch{return false}},_adaptIsUrlSupportedResultForMessagePopover:async function(e){const t=await P.getServiceAsync("Navigation");try{await t.isUrlSupported(e.url);e.promise.resolve({allowed:true,id:e.id})}catch{e.promise.resolve({allowed:false,id:e.id})}},_initializeMessagePopover:async function(e){const[t]=await H.requireAsync(["sap/m/MessagePopover"]);if(t?.setDefaultHandlers){t.setDefaultHandlers({asyncURLHandler:this._adaptIsUrlSupportedResultForMessagePopover})}S.emit("StepDone",e.stepName)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/Shell.view", ["sap/base/Log","sap/m/Avatar","sap/m/library","sap/ui/core/Component","sap/ui/core/Element","sap/ushell/renderer/shellHeader/ShellHeader.controller","sap/ushell/ui/launchpad/AccessibilityCustomData","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/utils","sap/ui/core/mvc/View","sap/ui/core/mvc/XMLView","sap/ui/core/Fragment","sap/ushell/api/NewExperience","sap/ushell/renderer/ShellLayout","sap/ushell/renderer/Shell.controller","sap/ushell/state/ShellModel","sap/ushell/state/StateManager","sap/ushell/Config","sap/ushell/Container","sap/ushell/state/BindingHelper","sap/ui/core/ComponentContainer"],(e,t,n,i,l,o,a,r,s,d,h,c,g,u,p,f,y,A,M,m,b,C)=>{"use strict";const S=n.AvatarSize;const w=A.Operation;const v=p.ShellArea;const P={Property:"Property",List:"List"};return h.extend("sap.ushell.renderer.Shell",{getControllerName:function(){return"sap.ushell.renderer.Shell"},waitForShellLayout:function(){if(!this._oShellLayoutPromise){this._oShellLayoutPromise=new Promise(e=>{this.getController().addDoable(r.once("ShellLayoutApplied").do(e))})}return this._oShellLayoutPromise},getViewDataConfig:function(){const e=this.getViewData()||{};const t=e.config||{};return t},createContent:function(){this._createUserActionsMenuButton(y.getConfigModel());this._allowUpToThreeActionInShellHeader();A.init(this.getViewDataConfig());this.initBackgroundImage();const e=this.createShellHeader();this.setNavigationBarMinHeight();const t=this.createRendererRootView();this.setDisplayBlock(true);d.setPerformanceMark("FLP - Shell.view rendering started!");return Promise.all([t,e]).then(e=>{const t=e[0];return t})},initBackgroundImage:function(){this.waitForShellLayout().then(()=>{const e=document.getElementById(v.BackgroundImage);const t=["<div class='sapUiShellBackgroundImage sapUiGlobalBackgroundImageForce sapUshellShellBG sapContrastPlus'></div>","<div class='sapMShellBG sapUiGlobalBackgroundImage'></div>"].join("\n");e.insertAdjacentHTML("afterbegin",t)})},createRendererRootView:function(){const e=this.getController();return g.load({name:"sap.ushell.renderer.RendererRootView",controller:e}).then(e=>{b.overrideUpdateAggregation(e);return e})},createRendererRootViewFallback:function(){const e=this.getController();return g.load({name:"sap.ushell.renderer.RendererRootViewFallback",controller:e}).then(e=>{b.overrideUpdateAggregation(e);return e})},createShellHeader:async function(){if(M.last("/core/shellBar/enabled")){return i.create({name:"sap.ushell.components.shell.ShellBar"}).then(e=>{e.setModel(s.i18nModel,"i18n");e.setModel(u.getModel(),"newExperience");e.setModel(y.getModel(),"shellModel");this.waitForShellLayout().then(()=>{const t=new C({component:e,id:"shell-header",async:true});e.enhanceComponentContainerAPI(t);t.placeAt(v.ShellHeader,"only");this.addDanglingControl(t);this._oShellHeader=t})})}else if(!M.last("/core/shellBar/enabled")){const e=new o;return g.load({name:"sap.ushell.renderer.shellHeader.ShellHeader",controller:e}).then(t=>{b.overrideUpdateAggregation(t);t.setModel(s.i18nModel,"i18n");t.setModel(u.getModel(),"newExperience");t.setModel(y.getModel(),"shellModel");this.addDanglingControl(t);this._oShellHeader=t;this.waitForShellLayout().then(()=>{t.placeAt(v.ShellHeader,"only");e.onInit()})})}},setNavigationBarMinHeight:function(){return m.getServiceAsync("Menu").then(e=>e.isMenuEnabled()).then(e=>{if(!e){return}this.waitForShellLayout().then(()=>{const e=document.getElementById(v.NavigationBar);e.classList.add("sapUshellMenuBarHeight")})}).catch(t=>{e.info("Could not apply min-height of the navigationBar",t)})},createRightFloatingContainer:function(){this.addPendingInitialization(new Promise(e=>{sap.ui.require(["sap/ushell/ui/shell/RightFloatingContainer"],t=>{const n=new t({id:"right-floating-container",top:"2",right:"2",hideItemsAfterPresentation:true,visible:"{shellModel>/rightFloatingContainer/visible}",floatingContainerItems:{path:"shellModel>/rightFloatingContainer/items",factory:b.factory}});b.overrideUpdateAggregation(n);n.setModel(y.getModel(),"shellModel");this.addDanglingControl(n);this._oRightFloatingContainer=n;e();this.waitForShellLayout().then(()=>{n.placeAt(v.RightFloatingContainer,"only")})})}))},createSubHeader:function(){sap.ui.require(["sap/ushell/ui/shell/SubHeader"],e=>{const t=new e({id:"subhdr",content:{path:"shellModel>/subHeader/items",factory:b.factory}});b.overrideUpdateAggregation(t);t.setModel(y.getModel(),"shellModel");this.addDanglingControl(t);this.waitForShellLayout().then(()=>{t.placeAt(v.SubHeader,"only")})})},createFloatingContainer:async function(){const e=await i.create({name:"sap.ushell.components.shell.FloatingContainer"});this.addDanglingControl(e);return e},createSidePane:function(){sap.ui.require(["sap/ushell/ui/shell/SidePane"],e=>{const t=new e({id:"shell-sidePane",visible:"{shellModel>/sidePane/visible}",content:{path:"shellModel>/sidePane/items",factory:b.factory}});b.overrideUpdateAggregation(t);t.setModel(y.getModel(),"shellModel");this.addDanglingControl(t);this.waitForShellLayout().then(()=>{t.placeAt(v.SidePane,"only")})})},createToolArea:function(){sap.ui.require(["sap/ushell/ui/shell/ToolArea"],e=>{const t=new e({id:"shell-toolArea",visible:"{shellModel>/toolArea/visible}",toolAreaItems:{path:"shellModel>/toolArea/items",factory:b.factory}});b.overrideUpdateAggregation(t);t.setModel(y.getModel(),"shellModel");this.addDanglingControl(t);this.waitForShellLayout().then(()=>{t.placeAt(v.ToolArea,"only")})})},createFloatingActions:function(){sap.ui.require(["sap/ushell/ui/shell/ShellFloatingActions"],e=>{const t=new e({id:"shell-floatingActions",floatingActions:{path:"shellModel>/floatingActions/items",factory:b.factory}});b.overrideUpdateAggregation(t);t.setModel(y.getModel(),"shellModel");this.addDanglingControl(t);this.waitForShellLayout().then(()=>{t.placeAt(v.FloatingActions,"only")})})},initAllMyAppsView:function(){return m.getServiceAsync("AllMyApps").then(e=>{if(e.isEnabled()){return this.createAllMyAppsView()}})},createAllMyAppsView:function(){return c.create({id:"allMyAppsView",viewName:"sap.ushell.renderer.allMyApps.AllMyApps"}).then(e=>{e.setModel(y.getConfigModel(),"configModel");e.setModel(s.i18nModel,"i18n");e.addCustomData(new a({key:"aria-label",value:s.i18n.getText("allMyApps_headerTitle"),writeToDom:true}));this.addDanglingControl(e);if(M.last("/core/shellBar/enabled")){l.getElementById(this.getShellHeader().getAppTitle()).setAllMyApps(e)}else{this.getShellHeader().getAppTitle().setAllMyApps(e)}})},createPostCoreExtControls:function(){const e=y.getModel();sap.ui.require(["sap/ui/core/Popup"],e=>{e.setInitialZIndex(11)});this.bindFactory({model:e,factory:this.createFloatingContainer.bind(this),bindingPath:"/floatingContainer/items",bindingType:P.List,valueCheck:function(e){return!!e.length}});this.bindFactory({model:e,factory:this.createRightFloatingContainer.bind(this),bindingPath:"/rightFloatingContainer/visible",bindingType:P.Property,valueCheck:function(e){return!!e}});this.bindFactory({model:e,factory:this.createSubHeader.bind(this),bindingPath:"/subHeader/items",bindingType:P.List,valueCheck:function(e){return!!e.length}});this.bindFactory({model:e,factory:this.createToolArea.bind(this),bindingPath:"/toolArea/visible",bindingType:P.Property,valueCheck:function(e){return!!e}});this.bindFactory({model:e,factory:this.createSidePane.bind(this),bindingPath:"/sidePane/visible",bindingType:P.Property,valueCheck:function(e){return!!e}});this.bindFactory({model:e,factory:this.createFloatingActions.bind(this),bindingPath:"/floatingActions/items",bindingType:P.List,valueCheck:function(e){return!!e.length}});this.addPendingInitialization(this.initAllMyAppsView())},_allowUpToThreeActionInShellHeader:function(){const e=["moveAppFinderActionToShellHeader","moveUserSettingsActionToShellHeader","moveContactSupportActionToShellHeader","moveEditHomePageActionToShellHeader"];const t=this.getViewDataConfig();e.reduce((e,n)=>{if(e>=3){t[n]=false;return e}if(t[n]){e++}return e},0)},_createUserActionsMenuButton:function(e){const n=m.getUser();const i=s.i18n.getText("UserActionsMenuToggleButtonAria",[n.getFullName()||n.getId()]);const l=this.addDanglingControl.bind(this);let o;if(M.last("/core/shellBar/enabled")){sap.ui.require(["sap/ushell/gen/ui5/webcomponents/dist/Avatar","sap/m/Image"],(t,a)=>{o=new t({id:"userActionsMenuHeaderButton",icon:"sap-icon://person-placeholder",initials:n.getInitials(),tooltip:i,click:function(){r.emit("showUserActionsMenu",Date.now())},image:new a({src:"{configModel>/userImage/personPlaceHolder}"})});o.setModel(e,"configModel");l(o);A.updateAllBaseStates("header.headEndItems",w.Add,"userActionsMenuHeaderButton")})}else{o=new t({id:"userActionsMenuHeaderButton",src:"{configModel>/userImage/personPlaceHolder}",initials:n.getInitials(),ariaHasPopup:"Menu",displaySize:S.XS,tooltip:i,press:function(){r.emit("showUserActionsMenu",Date.now())}});o.setModel(e,"configModel");this.addDanglingControl(o);A.updateAllBaseStates("header.headEndItems",w.Add,"userActionsMenuHeaderButton")}},getShellHeader:function(){return this._oShellHeader},getRightFloatingContainer:function(){return this._oRightFloatingContainer},bindFactory:function(e){const t=e.model;const n=e.factory;const i=e.bindingPath;const l=e.bindingType;const o=e.valueCheck;let a=t.getProperty(i);if(o(a)){n()}else{let e;switch(l){case P.List:e=t.bindList(i);break;default:e=t.bindProperty(i)}this.addDanglingBinding(e);e.attachChange(function(){a=e.getModel().getProperty(e.getPath());if(o(a)){this.removeDanglingBinding(e);e.destroy();n()}},this)}},addDanglingBinding:function(e){this.getController().addDanglingBinding(e)},removeDanglingBinding:function(e){this.getController().removeDanglingBinding(e)},addDanglingControl:function(e){this.getController().addDanglingControl(e)},addPendingInitialization:function(e){return this.getController().addPendingInitialization(e)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/ShellLayout", ["sap/base/Log","sap/ui/base/EventProvider","sap/ushell/EventHub","sap/ushell/state/ShellModel"],(e,t,a,o)=>{"use strict";const i={RootDomRef:"shellLayout",ShellHeader:"header-shellArea",RendererRootView:"canvas",SideNavigation:"sideNavigation-shellArea",SidePane:"sidePane-shellArea",Footer:"footer-shellArea",ToolArea:"toolArea-shellArea",SubHeader:"subHeader-shellArea",NavigationBar:"navigationBar-shellArea",FloatingActions:"floatingActions-shellArea",FloatingContainer:"floatingContainer-shellArea",FloatingContainerDockStart:"floatingContainerDockStart-shellArea",FloatingContainerDockEnd:"floatingContainerDockEnd-shellArea",RightFloatingContainer:"rightFloatingContainer-shellArea",BackgroundImage:"backgroundImage-shellArea",HelpContent:"helpContent-shellArea",WebComponents:"WebComponents-shellArea"};class n{#e=null;#t=false;#a=new t;#o=[];#i=[];#n=null;ShellArea=i;constructor(){this.#l()}#l(){this.#n=o.getModel();[this.#n.bindProperty("/sideNavigation/visible"),this.#n.bindProperty("/sidePane/visible"),this.#n.bindProperty("/toolArea/visible")].forEach(e=>{e.attachChange(()=>{this.#s()});this.#o.push(e)});this.#i.push(a.on("sideNavigationModeChanged").do(e=>{this.#e=e;this.#s()}));this.#t=this.hasAdjacentSideContentBeforeMain()}applyLayout(t){const a=document.getElementById(t);i.RendererRootView=t;const o=[`<div id='${i.RootDomRef}' class='sapUshellFlexRow'>`,`    <div id='${i.BackgroundImage}' data-sap-ui-root-content=true></div>`,`    <div id='${i.WebComponents}' data-sap-ui-root-content=true></div>`,"    <div id='sapUshellPopupWithinArea' class='sapUshellFlexGrowShrink sapUshellFlexRow'>",`        <div id='${i.FloatingContainerDockStart}' class='sapUshellFloatingContainerDock' data-sap-ui-root-content=true></div>`,"        <div class='sapUshellFlexGrowShrink sapUshellFlexColumn'>",`            <div id='${i.ShellHeader}' data-sap-ui-root-content=true></div>`,"            <div class='sapUshellFlexGrowShrink sapUshellFlexRow'>",`                <div id='${i.SideNavigation}' data-sap-ui-root-content=true></div>`,"                <div class='sapUshellFlexGrowShrink sapUshellFlexColumn'>",`                    <div id='${i.SubHeader}' data-sap-ui-root-content=true></div>`,"                    <div class='sapUshellFlexGrowShrink sapUshellFlexRow'>",`                        <div id='${i.ToolArea}' class='sapUshellPositionRelative' data-sap-ui-root-content=true></div>`,`                        <div id='${i.SidePane}' data-sap-ui-root-content=true></div>`,"                        <div class='sapUshellFlexGrowShrink sapUshellFlexColumn'>",`                            <div id='${i.NavigationBar}' data-sap-ui-root-content=true></div>`,"                            <div class='sapUshellFlexGrowShrink sapUshellPositionRelative sapUshellOverflowHidden sapUshellFlexColumn'>",`                                <div id='${i.RendererRootView}' class='sapUshellFlexGrowShrink sapUshellPositionRelative sapUshellShell' data-sap-ui-root-content=true></div>`,`                                <div id='${i.FloatingActions}' data-sap-ui-root-content=true></div>`,`                                <div id='${i.RightFloatingContainer}' data-sap-ui-root-content=true></div>`,"                            </div>","                        </div>","                    </div>","                </div>","            </div>",`            <footer id='${i.Footer}' class='sapUshellPositionStatic sapMPageFooter' data-sap-ui-root-content=true></footer>`,"        </div>",`        <div id='${i.FloatingContainerDockEnd}' class='sapUshellFloatingContainerDock' data-sap-ui-root-content=true></div>`,`        <div id='${i.FloatingContainer}' data-sap-ui-root-content=true></div>`,"    </div>",`    <div id='${i.HelpContent}' data-sap-ui-root-content=true></div>`,"</div>"].join("\n");const n=Object.keys(i).some(e=>{if(e==="RendererRootView"){return false}const t=i[e];return!!document.getElementById(t)});if(n){e.warning("Found a ShellArea element. Did not apply the layout","sap.ushell.renderer.ShellLayout");return}document.body.insertAdjacentHTML("afterbegin",`<div id='tmp'>${o}</div>`);const l=document.getElementById("tmp");a.replaceWith.apply(a,Array.from(l.childNodes));l.remove()}destroyLayout(){const e=document.getElementById(i.RootDomRef);if(e){document.getElementById(i.RootDomRef).remove()}}hasAdjacentSideContentBeforeMain(){const e=this.#n.getProperty("/sideNavigation/visible");const t=this.#n.getProperty("/sidePane/visible");const a=this.#n.getProperty("/toolArea/visible");if(t||a){return true}if(e&&this.#e==="Docked"){return true}return false}#s(){if(this.#t!==this.hasAdjacentSideContentBeforeMain()){this.#t=!this.#t;this.#a.fireEvent("adjacentSideContentBeforeMainChanged",{hasAdjacentContentBefore:this.#t})}}attachAdjacentSideContentBeforeMainChanged(...e){this.#a.attachEvent("adjacentSideContentBeforeMainChanged",...e)}detachAdjacentSideContentBeforeMainChanged(...e){this.#a.detachEvent("adjacentSideContentBeforeMainChanged",...e)}reset(){this.#o.forEach(e=>{e.destroy()});this.#o=[];this.#i.forEach(e=>{e.off()});this.#i=[];this.#l()}}return new n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/allMyApps/AllMyApps.controller", ["sap/m/library","sap/m/StandardListItem","sap/ui/core/EventBus","sap/ui/core/mvc/Controller","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ui/performance/Measurement","sap/ushell/Config","sap/ushell/library","sap/ushell/renderer/allMyApps/AllMyAppsManager","sap/ushell/resources","sap/ushell/utils/WindowUtils","sap/ushell/EventHub","sap/ushell/state/ShellModel","sap/ushell/Container","sap/ushell/renderers/fiori2/allMyApps/AllMyAppsManager"],(e,t,s,i,l,n,o,a,r,p,d,g,h,c,u,M)=>{"use strict";const A=e.ListType;const y=r.AllMyAppsState;const f=r.AllMyAppsProviderType;const L=r.AppTitleState;let m=false;return i.extend("sap.ushell.renderer.allMyApps.AllMyApps",{iNumberOfProviders:0,onInit:function(){this.bFirstLoadOfAllMyApps=true;const e=new n;const t=this.getView();const i=s.getInstance();e.setSizeLimit(1e4);e.setProperty("/AppsData",[]);e.setProperty("/catalogEnabled",a.last("/core/catalog/enabled"));t.setModel(d.i18nModel,"i18n");t.setModel(e,"allMyAppsModel");if(!this._fnResizeHandler){this._fnResizeHandler=this._adjustItemNavigationColumns.bind(this);window.addEventListener("resize",this._fnResizeHandler)}i.subscribe("launchpad","allMyAppsFirstCatalogLoaded",this.updateMasterFocusAndDetailsContext,this);i.subscribe("launchpad","allMyAppsFirstCatalogLoaded",this.onDetailLoad,this);i.subscribe("launchpad","allMyAppsMasterLoaded",this.onMasterLoad,this);i.subscribe("launchpad","allMyAppsNoCatalogsLoaded",this.onNoCatalogsLoaded,this)},_getConfigModel:function(){return c.getConfigModel()},onExit:function(){const e=s.getInstance();if(this._fnResizeHandler){window.removeEventListener("resize",this._fnResizeHandler);delete this._fnResizeHandler}const t=this.getView();const i=t&&t.byId("oItemsContainerlist");const l=i&&i.getDomRef();if(this._fnFocusInHandler&&l){l.removeEventListener("focusin",this._fnFocusInHandler);delete this._fnFocusInHandler}e.unsubscribe("launchpad","allMyAppsFirstCatalogLoaded",this.updateMasterFocusAndDetailsContext);e.unsubscribe("launchpad","allMyAppsFirstCatalogLoaded",this.onDetailLoad,this);e.unsubscribe("launchpad","allMyAppsMasterLoaded",this.onMasterLoad,this);e.unsubscribe("launchpad","allMyAppsNoCatalogsLoaded",this.onNoCatalogsLoaded,this)},_adjustItemNavigationColumns:function(){const e=this.getView();const t=e&&e.byId("oItemsContainerlist");const s=t&&t.getItemNavigation();const i=t&&t.getItems();if(s&&i.length>1){const e=i[0].getDomRef();const t=i[1].getDomRef();if(e&&t){const i=e.getBoundingClientRect().y===t.getBoundingClientRect().y;s.setColumns(i?2:1)}}},onBeforeRendering:function(){const e=this.getView();const t=e&&e.byId("oItemsContainerlist");const s=t&&t.getDomRef();if(this._fnFocusInHandler&&s){s.removeEventListener("focusin",this._fnFocusInHandler);delete this._fnFocusInHandler}},onAfterRendering:function(){return new Promise((e,t)=>{const s=this;const i=this.getView();const n=i.getModel("allMyAppsModel");const o=this._getSplitApp();const a=i.byId("sapUshellAllMyAppsMasterPage");const r=i.byId("sapUshellAllMyAppsDetailsPage");if(!this.bAfterInitialLoading){if(a){a.setBusy(true)}if(r){r.setBusy(true)}o.toMaster(this.createId("sapUshellAllMyAppsMasterPage"),"show");if(!l.system.phone){o.toDetail("sapUshellAllMyAppsDetailsPage","show")}}if(this.bFirstLoadOfAllMyApps){n.setProperty("/AppsData",[])}else{const e=n.getProperty("/AppsData");n.setProperty("/AppsData",e)}const p=i.byId("oItemsContainerlist");const d=p&&p.getDomRef();if(!this._fnFocusInHandler&&d){this._fnFocusInHandler=this._adjustItemNavigationColumns.bind(this);d.addEventListener("focusin",this._fnFocusInHandler)}setTimeout(()=>{s._getAllMyAppsManager().loadAppsData(n,s._getPopoverObject(),s.bFirstLoadOfAllMyApps);s._isSingleDataSource().then(t=>{m=t;s.switchToInitialState();s.bFirstLoadOfAllMyApps=false;e()})},0)})},switchToInitialState:function(){const e=this._getDataSourceList();return this._isSingleDataSource().then(t=>{if(t){this._getConfigModel().setProperty("/allMyAppsMasterLevel",y.FirstLevelSpread);e.bindItems("allMyAppsModel>/AppsData/0/groups",this._getMasterListItemTemplate)}else{this._getConfigModel().setProperty("/allMyAppsMasterLevel",y.FirstLevel);e.bindItems("allMyAppsModel>/AppsData",this._getMasterListItemTemplate())}if(l.system.phone){this._getSplitApp().toMaster(this.createId("sapUshellAllMyAppsMasterPage"),"show")}e.invalidate();this.updateMasterFocusAndDetailsContext(undefined,undefined,{bFirstCatalogLoadedEvent:true});this._getPopoverHeaderLabel().setText(d.i18n.getText("allMyApps_headerTitle"));this.updateHeaderButtonsState()})},handleSwitchToMasterAreaOnPhone:function(){const e=this._getDataSourcesSelectedPath();const t=e.split("/");this._getSplitApp().toMaster(this.createId("sapUshellAllMyAppsMasterPage"),"show");return this._isSingleDataSource().then(e=>{if(e){this._getConfigModel().setProperty("/allMyAppsMasterLevel",y.FirstLevelSpread)}else if(t.length===3){this._getConfigModel().setProperty("/allMyAppsMasterLevel",y.FirstLevel)}else{this._getConfigModel().setProperty("/allMyAppsMasterLevel",y.SecondLevel)}this.updateHeaderButtonsState()})},handleMasterListItemPress:function(e){this.lastPressedMasterItem=e.getParameter("listItem");const t=this._getClickedDataSourceItemPath(this.lastPressedMasterItem);const s=this.getView();const i=s.getModel("allMyAppsModel");const l=i.getProperty(`${t}/type`);const n=this._getConfigModel().getProperty("/allMyAppsMasterLevel");const o=this._getCustomPanel();const a=this._getCustomPanelLabel();const r=this._getCustomPanelLink();const p=l===f.CATALOG;let d;if(p||n===y.FirstLevelSpread||n===y.SecondLevel){d=this.handleMasterListItemPressToDetails(t)}else{d=this.handleMasterListItemPressToSecondLevel(t)}o.setBindingContext(d,"allMyAppsModel");a.setBindingContext(d,"allMyAppsModel");if(r&&r.getVisible&&r.getVisible()){r.setBindingContext(d,"allMyAppsModel")}},handleMasterListItemPressToSecondLevel:function(e){const t=this.getView();const s=t.getModel("allMyAppsModel");const i=s.getProperty(`${e}/type`);const n=s.getProperty(`${e}/title`);const o=this._getSplitApp();const a=this._getDataSourceList();if(!l.system.phone){o.toDetail(this.createId("sapUshellAllMyAppsDetailsPage"))}a.bindItems(`allMyAppsModel>${e}/groups`,this._getMasterListItemTemplate());this._getConfigModel().setProperty("/allMyAppsMasterLevel",y.SecondLevel);const r=this._setBindingContext(`${e}/groups/0`,t.byId("oItemsContainerlist"));a.invalidate();a.setSelectedItem(a.getItems()[0]);const p=a.getSelectedItem();if(p){p.focus()}if(i===f.HOME){this._getPopoverHeaderLabel().setText(d.i18n.getText("allMyApps_homeEntryTitle"))}else if(i===f.EXTERNAL){this._getPopoverHeaderLabel().setText(n)}this._getDetailsHeaderLabel().setText(s.getProperty(`${e}/groups/0/title`));this.updateHeaderButtonsState();return r},handleMasterListItemPressToDetails:function(e){const t=this.getView();const s=t.getModel("allMyAppsModel");const i=this._setBindingContext(e,t.byId("oItemsContainerlist"));this._getDetailsHeaderLabel().setText(s.getProperty(`${e}/title`));if(l.system.phone){this._getSplitApp().toDetail(this.createId("sapUshellAllMyAppsDetailsPage"));this._getConfigModel().setProperty("/allMyAppsMasterLevel",y.Details)}this.updateHeaderButtonsState();return i},onMasterLoad:function(){const e=this.getView();const t=this._getPopoverHeaderBackButton();this.bAfterInitialLoading=true;e.byId("sapUshellAllMyAppsMasterPage").setBusy(false);t.focus();this._isSingleDataSource().then(e=>{m=e;this.updateMasterFocusAndDetailsContext(undefined,undefined,{bFirstCatalogLoadedEvent:false})})},onDetailLoad:function(){const e=this.getView();const t=e.byId("sapUshellAllMyAppsDetailsPage");t.setBusy(false);this.bAfterInitialLoading=true;if(!l.system.phone){this._getSplitApp().toDetail(this.createId("sapUshellAllMyAppsDetailsPage"),"show")}},onNoCatalogsLoaded:function(){const e=this.getView();const t=e.byId("sapUshellAllMyAppsDetailsPage");t.setBusy(false);this.bAfterInitialLoading=true;if(!l.system.phone&&!m){this._getSplitApp().toDetail(this.createId("sapUshellAllMyAppsEmptyDetailsPage"),"show")}else if(!l.system.phone&&m){this._getSplitApp().toDetail(this.createId("sapUshellAllMyAppsDetailsPage"))}},updateMasterFocusAndDetailsContext:function(e,t,s){const i=this.getView();const l=i.getModel("allMyAppsModel");const n=this._getInitialFirstLevelSelectionIndex();const a=this._getDataSourceList();const r=this._getCustomPanelLabel();const p=this._getCustomPanelLink();let d;let g;if(m===true){d=l.createBindingContext("/AppsData/0/groups/0");g=l.getProperty(d.getPath())}else{d=l.createBindingContext(`/AppsData/${n}`);g=l.getProperty(d.getPath())}i.byId("oItemsContainerlist").setBindingContext(d,"allMyAppsModel");r.setBindingContext(d,"allMyAppsModel");i.byId("sapUshellAllMyAppsCustomPanel").setBindingContext(d,"allMyAppsModel");if(p.getVisible()){p.setBindingContext(d,"allMyAppsModel")}if(g!==undefined){this._getDetailsHeaderLabel().setText(g.title)}if(s.bFirstCatalogLoadedEvent===true){a.invalidate()}if(s.bFirstCatalogLoadedEvent===false&&n===0){this.onNoCatalogsLoaded()}a.setSelectedItem(a.getItems()[n]);const h=a.getSelectedItem();if(h){setTimeout(()=>{h.focus()},0)}if(s.bFirstCatalogLoadedEvent){o.end("FLP:ShellAppTitle.onClick");o.end("FLP:ShellNavMenu.footerClick")}},handleCustomPanelLinkPress:function(e){const t=this.getView();const s=t.byId("sapUshellAllMyAppsCustomPanelLink");const i=s.getVisible()?s.getBindingContext("allMyAppsModel").getObject():{};if(i.handlePress){i.handlePress(e.getSource(),i)}},updateHeaderButtonsState:function(){this._getShellAppTitleToggleListButton().setVisible(this.getToggleListButtonVisible());this._getPopoverHeaderBackButton().setVisible(this.getBackButtonVisible())},getToggleListButtonVisible:function(){const e=this.getCurrentState();const t=l.media.getCurrentRange(l.media.RANGESETS.SAP_STANDARD).name==="Phone";const s=(t||l.system.phone)&&e===y.Details;return s},getBackButtonVisible:function(){const e=this._getConfigModel().getProperty("/shellAppTitleState");if(e!==L.AllMyAppsOnly){return true}const t=this.getCurrentState();return t===y.SecondLevel||t===y.Details},onAppItemClick:function(e){const t=this.getView().getModel("allMyAppsModel");const s=e.getSource().getBindingContext("allMyAppsModel").getPath();const i=t.getProperty(`${s}/url`);if(i){h.emit("UITracer.trace",{reason:"LaunchApp",source:"Tile",data:{targetUrl:i}});if(i[0]==="#"){hasher.setHash(i);setTimeout(()=>{this.getView().getParent().close()},50)}else{g.openURL(i,"_blank")}}},getCurrentState:function(){return this._getConfigModel().getProperty("/allMyAppsMasterLevel")},_isSingleDataSource:function(){return u.getServiceAsync("AllMyApps").then(e=>{if(e.isCatalogAppsEnabled()){return false}if(!e.isExternalProviderAppsEnabled()&&e.isHomePageAppsEnabled()){return true}return e.isExternalProviderAppsEnabled()&&Object.keys(e.getDataProviders()).length===1&&!e.isHomePageAppsEnabled()})},_getInitialFirstLevelSelectionIndex:function(){const e=this.getView();const t=e.getModel("allMyAppsModel");const s=t.getProperty("/AppsData");for(let e=0;e<s.length;e++){const t=s[e];if(t.type===f.CATALOG){return e}}return 0},_getPopoverHeaderBackButton:function(){if(!this._oPopoverHeaderBackButton){this._oPopoverHeaderBackButton=this._getPopoverHeaderContent(0)}return this._oPopoverHeaderBackButton},_getShellAppTitleToggleListButton:function(){if(!this._oShellAppTitleToggleListButton){this._oShellAppTitleToggleListButton=this._getPopoverHeaderContent(1)}return this._oShellAppTitleToggleListButton},_getPopoverHeaderContent:function(e){const t=this._getPopoverObject().getCustomHeader();const s=t.getContentLeft();const i=s[e];return i},_getPopoverHeaderLabel:function(){const e=this._getPopoverObject().getCustomHeader();const t=e.getContentMiddle();return t[0]},_getPopoverObject:function(){return this.getView().getParent()},_getDetailsHeaderLabel:function(){return this.getView().byId("sapUshellAllMyAppsDetailsHeaderLabel")},_setBindingContext:function(e,t){const s=this.getView().getModel("allMyAppsModel");const i=s.createBindingContext(e);t.setBindingContext(i,"allMyAppsModel");return i},_getClickedDataSourceItemPath:function(e){return e.getBindingContext("allMyAppsModel").getPath()},_getAllMyAppsManager:function(){return p},_getDataSourcesSelectedPath:function(){return this.lastPressedMasterItem.getBindingContextPath()},getControllerName:function(){return"sap.ushell.renderer.allMyApps.AllMyApps"},formatListItemType:function(e,t){const s=l.system.phone||t===y.FirstLevel&&e!==f.CATALOG;return s?A.Navigation:A.Active},_getMasterListItemTemplate:function(){if(!this.oTemplate){this.oTemplate=new t({type:{parts:["allMyAppsModel>type","/allMyAppsMasterLevel"],formatter:this.formatListItemType},title:"{allMyAppsModel>title}",wrapping:true})}return this.oTemplate},_getSplitApp:function(){return this.getView().byId("sapUshellAllMyAppsMasterDetail")},_getDataSourceList:function(){return this.getView().byId("sapUshellAllMyAppsDataSourcesList")},_getCustomPanel:function(){return this.getView().byId("sapUshellAllMyAppsCustomPanel")},_getCustomPanelLabel:function(){return this.getView().byId("sapUshellAllMyAppsCustomPanelLabel")},_getCustomPanelLink:function(){return this.getView().byId("sapUshellAllMyAppsCustomPanelLink")}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/allMyApps/AllMyAppsManager", ["sap/ui/core/EventBus","sap/ui/thirdparty/hasher","sap/ui/thirdparty/jquery","sap/ushell/resources","sap/ushell/library","sap/ushell/Container"],(t,e,jQuery,s,o,i)=>{"use strict";const a=o.AllMyAppsProviderType;function r(){}r.prototype.loadAppsData=function(e,s,o){return i.getServiceAsync("AllMyApps").then(i=>{this.oPopover=s;if(!i.isEnabled()){return}this.iNumberOfProviders=0;this.oModel=e;if(i.isHomePageAppsEnabled()){this._handleGroupsData()}if(i.isExternalProviderAppsEnabled()){this._handleExternalProvidersData(e)}if(i.isCatalogAppsEnabled()){this._handleCatalogs(o)}if(!i.isCatalogAppsEnabled()||i.isCatalogAppsEnabled()&&o){const e=t.getInstance();e.publish("launchpad","allMyAppsMasterLoaded")}})};r.prototype._handleGroupsData=function(){const t=this._getGroupsData();const e={title:s.i18n.getText("allMyApps_homeEntryTitle")};let o;return new Promise((e,s)=>{t.done(e).fail(s)}).then(t=>{e.groups=t;e.type=a.HOME;if(t.length===0){return}o=this.oModel.getProperty("/AppsData");if(o){const t=this._getIndexByType(o,e.type);if(t!==undefined){o[t]=e}else{o.unshift(e)}}this.oModel.setProperty("/AppsData",o);this.iNumberOfProviders+=1})};r.prototype._getIndexByType=function(t,e){if(t.length<=0){return 0}for(let s=0;s<t.length;s++){if(t[s].type===e){return s}}};r.prototype._getGroupsData=function(){const t=new jQuery.Deferred;i.getServiceAsync("FlpLaunchPage").then(t=>Promise.all([t.getDefaultGroup(),t.getGroups()])).then(t=>{this.oDefaultGroup=t[0];const e=t[1];const s=[];e.forEach(t=>{s.push(this._getFormattedGroup(t))});return Promise.all(s)}).then(e=>{const s=e.filter(t=>t&&(t.apps.length>0||t.numberCustomTiles>0));t.resolve(s)});return t.promise()};r.prototype._getFormattedGroup=function(t){let e;let o;let a;return i.getServiceAsync("FlpLaunchPage").then(i=>{if(i.isGroupVisible(t)===false){return}if(i.getGroupId(t)===i.getGroupId(this.oDefaultGroup)){o=s.i18n.getText("my_group")}else{o=i.getGroupTitle(t)}e={};e.title=o;e.apps=[];a=i.getGroupTiles(t);return this._getFormattedGroupApps(a)}).then(t=>{if(!t){return}e.apps=t.aFormattedApps;e.numberCustomTiles=t.iNumberOfCustomTiles;if(t.iNumberOfCustomTiles===1){e.sCustomLabel=s.i18n.getText("allMyApps_customStringSingle");e.sCustomLink=s.i18n.getText("allMyApps_customLinkHomePageSingle")}else{e.sCustomLabel=s.i18n.getText("allMyApps_customString",[t.iNumberOfCustomTiles]);e.sCustomLink=s.i18n.getText("allMyApps_customLinkHomePage")}e.handlePress=this._onHandleGroupPress;return e})};r.prototype._getFormattedGroupApps=function(t){const e=[];let s=0;return i.getServiceAsync("FlpLaunchPage").then(o=>{const i=[];t.forEach(t=>{if(o.isTileIntentSupported(t)){const o=this._getAppEntityFromTile(t).then(t=>{if(t){e.push(t)}else{s++}});i.push(o)}});return Promise.all(i)}).then(()=>({iNumberOfCustomTiles:s,aFormattedApps:e}))};r.prototype._onHandleGroupPress=function(s,o){e.setHash("#Shell-home");this.oPopover.close();const i=t.getInstance();i.subscribe("launchpad","dashboardModelContentLoaded",()=>{i.publish("launchpad","scrollToGroupByName",{groupName:o.title,isInEditTitle:false})},this);i.publish("launchpad","scrollToGroupByName",{groupName:o.title,isInEditTitle:false})};r.prototype._handleExternalProvidersData=function(){const e=this;return i.getServiceAsync("AllMyApps").then(s=>{const o=s.getDataProviders();const i=Object.keys(o);let r;let l;let n;let p;let u;let g;if(i.length>0){for(u=0;u<i.length;u++){r=i[u];l=o[r];n=l.getTitle();p={};p.title=n;g=l.getData();g.done(function(s){if(s&&s.length>0){this.groups=s;this.type=a.EXTERNAL;e.oModel.setProperty(`/AppsData/${e.iNumberOfProviders}`,this);e.iNumberOfProviders+=1;const o=t.getInstance();o.publish("launchpad","allMyAppsMasterLoaded")}}.bind(p))}}})};r.prototype._handleNotFirstCatalogsLoad=function(){const e=this.oModel.getProperty("/AppsData");const s=a.CATALOG;if(e.length&&e[e.length-1].type===s){this.bFirstCatalogLoaded=true;t.getInstance().publish("launchpad","allMyAppsFirstCatalogLoaded",{bFirstCatalogLoadedEvent:true})}};r.prototype._handleCatalogs=function(t){if(!t){this._handleNotFirstCatalogsLoad();return Promise.resolve()}this.bFirstCatalogLoaded=false;this.aPromises=[];return i.getServiceAsync("FlpLaunchPage").then(t=>{t.getCatalogs().done(()=>{jQuery.when.apply(jQuery,this.aPromises).then(this._onDoneLoadingCatalogs.bind(this))}).fail(()=>{this._onGetCatalogsFail(s.i18n.getText("fail_to_load_catalog_msg"))}).progress(this._addCatalogToModel.bind(this))})};r.prototype._addCatalogToModel=function(o){let r;let l={apps:[],numberCustomTiles:0,type:null};let n;const p=[i.getServiceAsync("FlpLaunchPage")];if(this._oAddCatalogToModelPromise){p.push(this._oAddCatalogToModelPromise)}this._oAddCatalogToModelPromise=Promise.all(p).then(t=>{r=t[0];l.type=a.CATALOG;const e=r.getCatalogTiles(o);this.aPromises.push(e);return e}).then(t=>{if(t.length===0){return}const e=r.getCatalogTitle(o);const s=this.oModel.getProperty("/AppsData");for(n=0;n<s.length;n++){if(s[n].type===a.CATALOG&&s[n].title===e){l=s[n];break}}l.title=r.getCatalogTitle(o);return this._getFormattedGroupApps(t)}).then(o=>{if(!o){return}Array.prototype.push.apply(l.apps,o.aFormattedApps);l.numberCustomTiles=o.iNumberOfCustomTiles;if(l.numberCustomTiles===1){l.sCustomLabel=s.i18n.getText("allMyApps_customStringSingle");l.sCustomLink=s.i18n.getText("allMyApps_customLinkAppFinderSingle")}else{l.sCustomLabel=s.i18n.getText("allMyApps_customString",[l.numberCustomTiles]);l.sCustomLink=s.i18n.getText("allMyApps_customLinkAppFinder")}l.handlePress=function(t,s){this.oPopover.close();e.setHash(`#Shell-home&/appFinder/catalog/${JSON.stringify({catalogSelector:s.title,tileFilter:"",tagFilter:"[]",targetGroup:""})}`)}.bind(this);if(l.apps.length>0||l.numberCustomTiles>0){this.oModel.setProperty(`/AppsData/${n}`,l);if(this.bFirstCatalogLoaded===false){t.getInstance().publish("launchpad","allMyAppsFirstCatalogLoaded",{bFirstCatalogLoadedEvent:true});this.bFirstCatalogLoaded=true}this.iNumberOfProviders+=1}});return this._oAddCatalogToModelPromise};r.prototype._onGetCatalogsFail=function(t){return i.getServiceAsync("MessageInternal").then(e=>{e.info(t)})};r.prototype._onDoneLoadingCatalogs=function(){const e=this.oModel.getProperty("/AppsData");e.sort((t,e)=>{const s=t.title.toUpperCase();const o=e.title.toUpperCase();if(s<o){return-1}if(s>o){return 1}return 0});this.oModel.setProperty("/AppsData",e);const s=t.getInstance();if(!this.bFirstCatalogLoaded){s.publish("launchpad","allMyAppsNoCatalogsLoaded")}};r.prototype._getAppEntityFromTile=function(t){return i.getServiceAsync("FlpLaunchPage").then(e=>{let s;const o=e.getCatalogTilePreviewTitle(t);const i=e.getCatalogTilePreviewSubtitle(t);const a=e.getCatalogTileTargetURL(t);if(a&&(o||i)){s={};s.url=a;if(o){s.title=o;s.subTitle=i}else{s.title=i}return s}})};return new r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/rendererTargetWrapper/Component", ["sap/ui/core/UIComponent","sap/ui/model/json/JSONModel","sap/ushell/Container","sap/ushell/EventHub","sap/ushell/resources"],(t,e,n,o,s)=>{"use strict";return t.extend("sap.ushell.renderer.rendererTargetWrapper.Component",{metadata:{manifest:"json",library:"sap.ushell"},init:function(){t.prototype.init.apply(this,arguments);const a=this.getComponentData();this.setModel(new e(a));this.setModel(s.i18nModel,"i18n");this._oReloadCurrentAppDoable=o.on("reloadCurrentApp").do(async t=>{const e=t.sAppId;if(!e){return}const o=await this.rootControlLoaded();const s=o.getController();const a=await s.getComponentInstance();if(a&&a.getId()===e){await s.reloadApp();const t=await this.getComponentInstance();const e=await n.getServiceAsync("AppLifeCycle");e.prepareCurrentAppObject("UI5",t,true)}})},getComponentInstance:async function(){const t=await this.rootControlLoaded();const e=t.getController();return await e.getComponentInstance()},destroy:async function(){const e=await this.getComponentInstance();if(e){e.destroy()}this._oReloadCurrentAppDoable.off();delete this._oReloadCurrentAppDoable;t.prototype.destroy.apply(this,arguments)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/rendererTargetWrapper/RendererTarget.controller", ["sap/ui/core/EventBus","sap/ui/core/mvc/Controller"],(e,n)=>{"use strict";return n.extend("sap.ushell.renderer.rendererTargetWrapper.RendererTarget",{onInit:function(){const e=this.byId("appContainer");e.loadChild()},reloadApp:function(){const e=this.byId("appContainer");e.destroyChild();return e.loadChild()},getComponentInstance:async function(){const e=this.byId("appContainer");const n=await e.getChild();if(typeof n.getComponentInstance==="function"){return n.getComponentInstance()}},onChildDestroy:function(){e.getInstance().publish("sap.ushell.renderer.Renderer","appClosed",{})}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/search/searchComponent/Component", ["sap/ui/core/UIComponent","sap/ui/core/mvc/View","sap/esh/search/ui/i18n","sap/base/util/ObjectPath","sap/ui/core/routing/Router","sap/ushell/Container"],(e,t,n,r,i,s)=>{"use strict";return e.extend("sap/ushell/renderer/search/searchComponent",{metadata:{manifest:"json",library:"sap.ushell",interfaces:["sap.ui.core.IAsyncContentCreation"],config:{title:n.getText("searchAppTitle"),compactContentDensity:true,cozyContentDensity:true}},init:function(){e.prototype.init.apply(this,arguments);this.oRouter=new i;this.oRouter.initialize()},getRouter:function(){return this.oRouter},createContent:function(){let e;const n=r.get("sap-ushell-config.services.SearchCEP")!==undefined;const i=s.getFLPPlatform(true);const o=n===true&&i==="cFLP";if(o===true){e="module:sap/ushell/renderer/search/searchComponent/view/CEPSearchApp.view"}else{e="module:sap/ushell/renderer/search/searchComponent/view/SearchApp.view"}return t.create({id:"searchContainerApp",viewName:e})}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/search/searchComponent/controller/CEPSearchApp.controller", ["sap/ui/core/Element","sap/ui/core/mvc/Controller","sap/esh/search/ui/SearchModel","sap/ushell/Container","../../util"],(e,t,o,a,n)=>{"use strict";return t.extend("sap/ushell/renderer/search/searchComponent/SearchApp",{onInit:async function(){o.getModelSingleton({},"flp");const e=this.getOwnerComponent().getRouter();e.getHashChanger().attachEvent("hashChanged",this.hashChanged)},hashChanged:function(){const e=o.getModelSingleton({},"flp");e.parseURL()},onExit:function(){const t=this.getOwnerComponent().getRouter();t.getHashChanger().detachEvent("hashChanged",this.hashChanged);this.oSF=e.getElementById("CEPSearchField");this.oPlaceHolderSF=e.getElementById("PlaceHolderSearchField");if(this.oSF&&this.oSF.getValue()!==""){this.oSF.setValue("")}if(this.oPlaceHolderSF&&this.oPlaceHolderSF.getValue()!==""){this.oPlaceHolderSF.setValue("")}const o=this.oView.getContent()[0].oTablePersoController;if(o&&o.getTablePersoDialog&&o.getTablePersoDialog()){o.getTablePersoDialog().destroy()}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/search/searchComponent/controller/SearchApp.controller", ["sap/ui/core/mvc/Controller","sap/esh/search/ui/SearchShellHelper","sap/esh/search/ui/SearchModel","sap/ushell/renderer/search/util"],(e,t,a,s)=>{"use strict";const n=!t.collapseSearch;return e.extend("sap/ushell/renderer/search/searchComponent/SearchApp",{onInit:function(){const e=this.getOwnerComponent().getRouter();e.getHashChanger().attachEvent("hashChanged",this.hashChanged);if(t.oSearchFieldGroup===undefined){t.init()}if(n){t.setSearchState("EXP_S")}else{t.expandSearch()}},hashChanged:function(){const e=a.getModelSingleton({},"flp");e.parseURL()},onExit:function(){const e=this.getOwnerComponent().getRouter();e.getHashChanger().detachEvent("hashChanged",this.hashChanged);const a=this.oView.getContent()[0].oTablePersoController;if(a&&a.getTablePersoDialog&&a.getTablePersoDialog()){a.getTablePersoDialog().destroy()}if(t.resetModel){t.resetModel()}if(n){if(t.getDefaultOpen()!==true){if(t.setSearchStateSync){t.setSearchStateSync("COL")}else{t.setSearchState("COL")}}else{t.setSearchState("EXP")}}else{if(!s.isSearchFieldExpandedByDefault()){t.collapseSearch()}else{t.expandSearch()}}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/search/searchComponent/view/CEPSearchApp.view", ["sap/ui/core/mvc/View","sap/m/Label","sap/esh/search/ui/SearchCompositeControl","sap/esh/search/ui/SearchModel"],(e,r,n,o)=>{"use strict";return e.extend("sap.ushell.renderer.search.searchComponent.view.CEPSearchApp",{getControllerName:function(){return"sap.ushell.renderer.search.searchComponent.controller.CEPSearchApp"},createContent:function(){const e=o.getModelSingleton({},"flp");return new n({model:e,applicationComponent:"HAN-AS-INA-UI"})}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/search/searchComponent/view/SearchApp.view", ["sap/ui/core/mvc/View","sap/m/Label","sap/esh/search/ui/SearchCompositeControl","sap/esh/search/ui/SearchModel"],(e,r,n,o)=>{"use strict";return e.extend("sap.ushell.renderer.search.searchComponent.view.SearchApp",{getControllerName:function(){return"sap.ushell.renderer.search.searchComponent.controller.SearchApp"},createContent:function(){const e=o.getModelSingleton({},"flp");return new n({model:e,applicationComponent:"HAN-AS-INA-UI"})}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/search/util", ["sap/ui/core/Element","sap/ushell/Container"],(e,t)=>{"use strict";return{isSearchFieldExpandedByDefault:function(){const n=e.getElementById("shell-header")||{isExtraLargeState:function(){return false}};const a=t.getRendererInternal("fiori2").getShellController();const r=a.getView();const i=(r.getViewData()?r.getViewData().config:{})||{};return i.openSearchAsDefault||n.isExtraLargeState()}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/shellHeader/ShellHeader.controller", ["sap/m/library","sap/ui/core/Element","sap/ui/core/mvc/Controller","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ui/thirdparty/hasher","sap/ushell/api/NewExperience","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/library","sap/ushell/ui/shell/OverflowListItem","sap/ushell/Container","sap/ushell/state/modules/BackNavigation","sap/ushell/state/ShellModel","sap/ushell/state/StateManager"],(e,t,n,a,s,i,o,r,l,d,h,m,f,u,c)=>{"use strict";const p=e.ListType;const E=d.FloatingNumberType;const g=c.LaunchpadState;const I=c.Operation;const v="endItemsOverflowBtn";return n.extend("sap.ushell.renderer.shellHeader.ShellHeader",{onInit:function(){this.aDoables=[];this.aDoables.push(l.on("navigateBack").do(this.pressNavBackButton.bind(this)));this.aDoables.push(l.on("showEndItemOverflow").do(this.pressEndItemsOverflow.bind(this)));this.aDoables.push(l.on("navigateFromShellApplicationNavigationMenu").do(this.navigateFromShellApplicationNavigationMenu.bind(this)));this.aDoables.push(l.on("setHeaderCentralAreaElement").do(this._handleSetHeaderCentralAreaElement.bind(this)));this.aDoables.push(r.on("/core/shellHeader/homeUri").do(this._updateHomeUri.bind(this)));this._updateHomeUri(r.last("/core/shellHeader/homeUri"));this.aDoables.push(l.on("updateHeaderOverflowState").do(this._handleHeadEndItemsOverflow.bind(this)));a.media.attachHandler(this._handleHeadEndItemsOverflow,this,a.media.RANGESETS.SAP_STANDARD);this.oHeadEndBinding=u.getModel().bindList("/header/headEndItems");this.oHeadEndBinding.attachChange(this._handleHeadEndItemsOverflow,this);o.attachActiveChanged(this._handleHeadEndItemsOverflow,this)},_handleSetHeaderCentralAreaElement:function(e){const{id:t,currentState:n,states:a}=e;if(n){c.updateCurrentState("header.centralAreaElement",I.Set,t)}else if(Array.isArray(a)){c.updateBaseStates(a,"header.centralAreaElement",I.Set,t)}else{c.updateAllBaseStates("header.centralAreaElement",I.Set,t)}},_addHeadEndItem:function(e,t,n){this._updateHeadEndItems(e,I.Add,t,n)},_removeHeadEndItem:function(e,t,n){this._updateHeadEndItems(e,I.Remove,t,n)},_updateHeadEndItems:function(e,t,n,a){if(n){c.updateCurrentState("header.headEndItems",t,e)}else if(Array.isArray(a)&&a.length>0){c.updateBaseStates(a,"header.headEndItems",t,e)}else{c.updateAllBaseStates("header.headEndItems",t,e)}},_handleHeadEndItemsOverflow:function(){const e=u.getModel().getProperty("/header/headEndItems");const n=e.indexOf(v)>-1;const s=a.media.getCurrentRange(a.media.RANGESETS.SAP_STANDARD).name;if(s==="Phone"&&(o.isActive()||!n&&e.length>2)){this._addHeadEndItem(v,false,[g.Home,g.App]);this._moveNewExperienceToOverflow()}else if(s!=="Phone"&&n){const e=t.getElementById("headEndItemsOverflow");if(e){if(o.isActive()){const e=o.getOverflowItemControl();e.getParent()?.removeItem?.(e)}e.destroy()}this._removeHeadEndItem(v,false,[g.Home,g.App]);this._moveNewExperienceToShellHeader()}},_moveNewExperienceToOverflow:function(){if(o.isActive()){this._addHeadEndItem(o.getOverflowItemId(),false,[g.Home,g.App])}o.showInOverflow()},_moveNewExperienceToShellHeader:function(){if(o.isActive()){this._removeHeadEndItem(o.getOverflowItemId(),false,[g.Home,g.App])}o.showInShellHeader()},_updateHomeUri:function(e){const n=t.getElementById("shell-header");if(n){n.setHomeUri(e)}},pressNavBackButton:async function(){l.emit("showUserActionsMenu",false);f.navigateBack()},pressEndItemsOverflow:function(e){let n=t.getElementById("headEndItemsOverflow");const a=t.getElementById(e);let i=Promise.resolve();let o;if(!a){return}if(!n){i=new Promise((e,t)=>{sap.ui.require(["sap/ui/core/Fragment"],n=>{n.load({name:"sap.ushell.renderer.HeadEndItemsOverflowPopover",type:"XML",controller:this}).then(e).catch(t)},t)}).then(e=>{n=e;const a=t.getElementById("headEndItemsOverflowList");a.enhanceAccessibilityState=function(e,t){if(!e.isA("sap.ushell.ui.shell.OverflowListItem")){return t}if(e.getFloatingNumberType()!==E.None){t.describedby=e._oAriaDescribedbyText.getId()}return t};o=new s({headEndItems:u.getModel().getProperty("/header/headEndItems")});n.setModel(o)})}i.then(()=>{if(n.isOpen()){n.close()}else{if(t.getElementById("shellNotificationsPopover")){l.emit("showNotifications",false)}n.openBy(a)}})},headEndItemsOverflowItemFactory:function(e,n){if(o.isActive()&&n.getObject()===o.getOverflowItemId()){return o.getOverflowItemControl()}const a=t.getElementById(n.getObject());const s=a.getBindingPath("floatingNumber");const i=a.getText();const r=a.getTooltip();const l=new h({id:`${e}-${a.getId()}`,icon:a.getIcon(),iconInset:true,tooltip:r!==i?r:null,title:i,type:p.Active,floatingNumber:s?{path:s}:undefined,floatingNumberMaxValue:a.getFloatingNumberMaxValue(),floatingNumberType:a.getFloatingNumberType(),visible:a.getVisible(),press:function(){if(a){a.firePress();const e=a.getTarget();if(e){m.getServiceAsync("Navigation").then(t=>{t.navigate({target:{shellHash:e}})})}}const e=t.getElementById("headEndItemsOverflow");if(e.isOpen()){e.close()}}});if(a._oAriaLabel){l.addAriaLabelledBy(a._oAriaLabel)}if(s){l.setModel(a.getModel())}return l},destroyHeadEndItemsOverflow:function(e){if(o.isActive()){const e=o.getOverflowItemControl();e.getParent()?.removeItem?.(e)}e.getSource().destroy()},isHeadEndItemInOverflow:function(e){return e!=="ENDITEMSOVERFLOWBTN"&&!this.isHeadEndItemNotInOverflow(e)},isHeadEndItemNotInOverflow:function(e){const t=this.isHeadEndItemOverflow();const n=a.media.getCurrentRange(a.media.RANGESETS.SAP_STANDARD).name;if(e==="ENDITEMSOVERFLOWBTN"){return t}if(!t){return true}if(["USERACTIONSMENUHEADERBUTTON","BACKBTN"].indexOf(e)>-1){return true}if(n==="Phone"){return false}if(["SF","FLOATINGCONTAINERBUTTON"].indexOf(e)>-1){return true}if(n==="Desktop"&&e==="COPILOTBTN"){return true}return false},isHeadEndItemOverflow:function(){let e=0;let n;const s=u.getModel().getProperty("/header/headEndItems");if(s.indexOf("endItemsOverflowBtn")===-1){return false}const i=a.media.getCurrentRange(a.media.RANGESETS.SAP_STANDARD).name;let o=3;if(i==="Phone"){o=1}for(let a=0;a<s.length;a++){n=t.getElementById(s[a]);if(n&&n.getVisible()){e++}}if(t.getElementById("endItemsOverflowBtn").getVisible()){return e>o+1}return e>o},navigateFromShellApplicationNavigationMenu:function(e){if(i.getHash()!==e.substr(1)){l.emit("centerViewPort",Date.now());i.setHash(e)}const n=t.getElementById("shellAppTitle");if(n){n.close()}},onExit:function(){this.aDoables.forEach(e=>{e.off()});this.oHeadEndBinding.destroy();o.detachActiveChanged(this._handleHeadEndItemsOverflow,this)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/utils", ["sap/ui/core/EventBus","sap/ushell/EventHub"],(e,r)=>{"use strict";function n(n){setTimeout(()=>{e.getInstance().publish("sap.ushell","rendererLoaded",{rendererName:"fiori2"})},0);r.emit("RendererLoaded",{rendererName:"fiori2"})}function i(r,n){setTimeout(()=>{e.getInstance().publish("sap.ushell.renderers.fiori2.Renderer",r,n)},0)}return{publishExternalEvent:i,init:n}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderers/fiori2/History", ["sap/ushell/renderer/History"],e=>{"use strict";return e},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderers/fiori2/LogonFrameProvider", ["sap/ushell/renderer/LogonFrameProvider"],e=>{"use strict";return e},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderers/fiori2/Renderer", ["sap/ushell/renderer/Renderer"],t=>{"use strict";const o=t.extend("sap.ushell.renderers.fiori2.Renderer");o.prototype.showHeaderItem=function(o,e,p){t.prototype.showHeaderItem.apply(this,arguments)};o.prototype.showToolAreaItem=function(o,e,p){t.prototype.showToolAreaItem.apply(this,arguments)};o.prototype.showActionButton=function(o,e,p){t.prototype.showActionButton.apply(this,arguments)};o.prototype.showFloatingActionButton=function(o,e,p){t.prototype.showFloatingActionButton.apply(this,arguments)};o.prototype.showHeaderEndItem=function(o,e,p){t.prototype.showHeaderEndItem.apply(this,arguments)};o.prototype.setHeaderVisibility=function(o,e,p){t.prototype.setHeaderVisibility.apply(this,arguments)};o.prototype.showSubHeader=function(o,e,p){t.prototype.showSubHeader.apply(this,arguments)};o.prototype.setFooter=function(o){t.prototype.setFooter.apply(this,arguments)};o.prototype.setShellFooter=function(o){return t.prototype.setShellFooter.apply(this,arguments)};o.prototype.setFooterControl=function(o,e){return t.prototype.setFooterControl.apply(this,arguments)};o.prototype.hideHeaderItem=function(o,e,p){t.prototype.hideHeaderItem.apply(this,arguments)};o.prototype.removeToolAreaItem=function(o,e,p){t.prototype.removeToolAreaItem.apply(this,arguments)};o.prototype.hideActionButton=function(o,e,p){t.prototype.hideActionButton.apply(this,arguments)};o.prototype.hideLeftPaneContent=function(o,e,p){t.prototype.hideLeftPaneContent.apply(this,arguments)};o.prototype.hideFloatingActionButton=function(o,e,p){t.prototype.hideFloatingActionButton.apply(this,arguments)};o.prototype.hideHeaderEndItem=function(o,e,p){t.prototype.hideHeaderEndItem.apply(this,arguments)};o.prototype.hideSubHeader=function(o,e,p){t.prototype.hideSubHeader.apply(this,arguments)};o.prototype.removeFooter=function(){t.prototype.removeFooter.apply(this,arguments)};o.prototype.getCurrentViewportState=function(){return"Center"};o.prototype.addShellSubHeader=function(o){return t.prototype.addShellSubHeader.apply(this,arguments)};o.prototype.addSubHeader=function(o,e,p,r,n){return t.prototype.addSubHeader.apply(this,arguments)};o.prototype.addUserAction=function(o){return t.prototype.addUserAction.apply(this,arguments)};o.prototype.addActionButton=function(o,e,p,r,n){return t.prototype.addActionButton.apply(this,arguments)};o.prototype.addFloatingButton=function(o){return t.prototype.addFloatingButton.apply(this,arguments)};o.prototype.addFloatingActionButton=function(o,e,p,r,n){return t.prototype.addFloatingActionButton.apply(this,arguments)};o.prototype.addSidePaneContent=function(o){return t.prototype.addSidePaneContent.apply(this,arguments)};o.prototype.addLeftPaneContent=function(o,e,p,r,n){return t.prototype.addLeftPaneContent.apply(this,arguments)};o.prototype.addHeaderItem=function(o,e,p,r,n){return t.prototype.addHeaderItem.apply(this,arguments)};o.prototype.addToolAreaItem=function(o,e,p,r){return t.prototype.addToolAreaItem.apply(this,arguments)};o.prototype.addHeaderEndItem=function(o,e,p,r,n){return t.prototype.addHeaderEndItem.apply(this,arguments)};o.prototype.addEndUserFeedbackCustomUI=function(o,e){t.prototype.addEndUserFeedbackCustomUI.apply(this,arguments)};o.prototype.addUserPreferencesEntry=function(o){t.prototype.addUserPreferencesEntry.apply(this,arguments)};o.prototype.setHeaderTitle=function(o){t.prototype.setHeaderTitle.apply(this,arguments)};o.prototype.setLeftPaneVisibility=function(o,e){t.prototype.setLeftPaneVisibility.apply(this,arguments)};o.prototype.showToolArea=function(o,e){t.prototype.showToolArea.apply(this,arguments)};o.prototype.LaunchpadState=t.prototype.LaunchpadState;return o},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderers/fiori2/RendererExtensions", ["sap/base/Log","sap/ui/core/Element","sap/ushell/Container"],(e,r,n)=>{"use strict";function i(e,r,i){n.getRendererInternal("fiori2").hideHeaderItem(e.getId(),false,[r,i])}function t(e,r,i){n.getRendererInternal("fiori2").showActionButton(e.getId(),false,[r,i])}function s(e,r,i){n.getRendererInternal("fiori2").hideActionButton(e.getId(),false,[r,i])}function o(e,r,i){n.getRendererInternal("fiori2").showLeftPaneContent(e.getId(),false,[r,i])}function d(e,r){n.getRendererInternal("fiori2").hideLeftPaneContent(false,[e,r])}function a(e,r,i){n.getRendererInternal("fiori2").showFloatingActionButton(e.getId(),false,[r,i])}function l(e,r,i){n.getRendererInternal("fiori2").hideFloatingActionButton(e.getId(),false,[r,i])}function f(e,r,i){n.getRendererInternal("fiori2").showHeaderEndItem(e.getId(),false,[r,i])}function u(e,r,i){n.getRendererInternal("fiori2").hideHeaderEndItem(e.getId(),false,[r,i])}function h(){return n.getRendererInternal("fiori2").getModelConfiguration()}function c(){e.info("Application calls sap.ushell.Renderer.addEndUserFeedbackCustomUI. This function is deprecated. The call has no effect.")}function p(e){n.getRendererInternal("fiori2").addUserPreferencesEntry(e)}function g(e){n.getRendererInternal("fiori2").addUserPreferencesGroupedEntry(e)}function R(e){n.getRendererInternal("fiori2").setHeaderTitle(e)}function I(e,r){n.getRendererInternal("fiori2").setLeftPaneVisibility(e,r)}function E(e){n.getRendererInternal("fiori2").setHeaderHiding(e)}function P(e){n.getRendererInternal("fiori2").setFooter(e)}function C(){n.getRendererInternal("fiori2").removeFooter()}function m(){this.addHeaderItem=function(r,i,t){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");n.getRendererInternal("fiori2").showHeaderItem(r.getId(),false,[i,t])};this.setHeaderItemVisibility=function(i,t,s,o){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");const d=r.getElementById(i);if(o){n.getRendererInternal("fiori2").showHeaderItem(d.getId(),s,[t])}};this.addSubHeader=function(r,i,t){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");n.getRendererInternal("fiori2").showSubHeader(r.getId(),false,[i,t])};this.removeSubHeader=function(r,i,t){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");n.getRendererInternal("fiori2").hideSubHeader(r.getId(),false,[i,t])};this.addHeaderEndItem=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");f(...r)};this.removeHeaderItem=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");i(...r)};this.removeHeaderEndItem=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");u(...r)};this.addEndUserFeedbackCustomUI=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");c(...r)};this.addOptionsActionSheetButton=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");t(...r)};this.removeOptionsActionSheetButton=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");s(...r)};this.setFooter=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");P(...r)};this.removeFooter=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");C(...r)};this.addUserPreferencesEntry=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");p(...r)};this.addUserPreferencesGroupedEntry=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");g(...r)};this.setHeaderTitle=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");R(...r)};this.setHeaderHiding=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");E(...r)};this.LaunchpadState={App:"app",Home:"home"};this.addFloatingActionButton=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");a(...r)};this.removeFloatingActionButton=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");l(...r)};this.setLeftPaneContent=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");o(...r)};this.removeLeftPaneContent=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");d(...r)};this.setLeftPaneVisibility=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");I(...r)};this.getConfiguration=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");return h(...r)}}const x=new m;return x},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderers/fiori2/Shell.controller", ["sap/ushell/renderer/Shell.controller"],e=>{"use strict";return e.extend("sap.ushell.renderers.fiori2.Shell")});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderers/fiori2/Shell.view", ["sap/base/Log","sap/m/Avatar","sap/m/library","sap/ushell/renderer/shellHeader/ShellHeader.controller","sap/ushell/ui/launchpad/AccessibilityCustomData","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/utils","sap/ui/core/mvc/XMLView","sap/ui/core/Core","sap/ui/core/Component","sap/ushell/Container","sap/ushell/renderer/ShellLayout","sap/ushell/state/ShellModel","sap/ushell/state/StateManager","sap/ushell/state/BindingHelper"],(e,t,n,i,o,l,a,r,s,d,h,c,g,u,p,f)=>{"use strict";const y=n.AvatarSize;const A=p.Operation;const M=g.ShellArea;const m={Property:"Property",List:"List"};sap.ui.jsview("sap.ushell.renderers.fiori2.Shell",{getControllerName:function(){return"sap.ushell.renderers.fiori2.Shell"},waitForShellLayout:function(){if(!this._oShellLayoutPromise){this._oShellLayoutPromise=new Promise(e=>{this.getController().addDoable(l.once("ShellLayoutApplied").do(e))})}return this._oShellLayoutPromise},getViewDataConfig:function(){const e=this.getViewData()||{};const t=e.config||{};return t},createContent:function(){this._createUserActionsMenuButton(u.getConfigModel());this._allowUpToThreeActionInShellHeader();p.init(this.getViewDataConfig());this.initBackgroundImage();this.createShellHeaderSync();this.setNavigationBarMinHeight();const e=this.createRendererRootViewSync();this.setDisplayBlock(true);r.setPerformanceMark("FLP - Shell.view rendering started!");return e},initBackgroundImage:function(){this.waitForShellLayout().then(()=>{const e=document.getElementById(M.BackgroundImage);const t=["<div class='sapUiShellBackgroundImage sapUiGlobalBackgroundImageForce sapContrastPlus'></div>","<div class='sapMShellBG sapUiGlobalBackgroundImage'></div>"].join("\n");e.insertAdjacentHTML("afterbegin",t)})},createRendererRootViewSync:function(){const e=this.getController();const t=sap.ui.xmlfragment("sap.ushell.renderer.RendererRootView",e);f.overrideUpdateAggregation(t);return t},createRendererRootViewSyncFallback:function(){const e=this.getController();const t=sap.ui.xmlfragment("sap.ushell.renderer.RendererRootViewFallback",e);f.overrideUpdateAggregation(t);return t},createShellHeaderSync:function(){const e=new i;const t=sap.ui.xmlfragment("sap.ushell.renderer.shellHeader.ShellHeader",e);f.overrideUpdateAggregation(t);t.setModel(u.getModel(),"shellModel");t.setModel(a.i18nModel,"i18n");this.addDanglingControl(t);this._oShellHeader=t;this.waitForShellLayout().then(()=>{t.placeAt(M.ShellHeader,"only");e.onInit()});return t},setNavigationBarMinHeight:function(){return sap.ushell.Container.getServiceAsync("Menu").then(e=>e.isMenuEnabled()).then(e=>{if(!e){return}this.waitForShellLayout().then(()=>{const e=document.getElementById(M.NavigationBar);e.classList.add("sapUshellMenuBarHeight")})}).catch(t=>{e.info("Could not apply min-height of the navigationBar",t)})},createRightFloatingContainer:function(){sap.ui.require(["sap/ushell/ui/shell/RightFloatingContainer"],e=>{const t=new e({id:"right-floating-container",top:"2",right:"2",hideItemsAfterPresentation:true,visible:"{shellModel>/rightFloatingContainer/visible}",floatingContainerItems:{path:"shellModel>/rightFloatingContainer/items",factory:f.factory}});f.overrideUpdateAggregation(t);t.setModel(u.getModel(),"shellModel");this.addDanglingControl(t);this._oRightFloatingContainer=t;this.waitForShellLayout().then(()=>{t.placeAt(M.RightFloatingContainer,"only")})})},createSubHeader:function(){sap.ui.require(["sap/ushell/ui/shell/SubHeader"],e=>{const t=new e({id:"subhdr",content:{path:"shellModel>/subHeader/items",factory:f.factory}});f.overrideUpdateAggregation(t);t.setModel(u.getModel(),"shellModel");this.addDanglingControl(t);this.waitForShellLayout().then(()=>{t.placeAt(M.SubHeader,"only")})})},createFloatingContainer:function(){return h.create({name:"sap.ushell.components.shell.FloatingContainer"})},createSidePane:function(){sap.ui.require(["sap/ushell/ui/shell/SidePane"],e=>{const t=new e({id:"shell-sidePane",visible:"{shellModel>/sidePane/visible}",content:{path:"shellModel>/sidePane/items",factory:f.factory}});f.overrideUpdateAggregation(t);t.setModel(u.getModel(),"shellModel");this.addDanglingControl(t);this.waitForShellLayout().then(()=>{t.placeAt(M.SidePane,"only")})})},createToolArea:function(){sap.ui.require(["sap/ushell/ui/shell/ToolArea"],e=>{const t=new e({id:"shell-toolArea",visible:"{shellModel>/toolArea/visible}",toolAreaItems:{path:"shellModel>/toolArea/items",factory:f.factory}});f.overrideUpdateAggregation(t);t.setModel(u.getModel(),"shellModel");this.addDanglingControl(t);this.waitForShellLayout().then(()=>{t.placeAt(M.ToolArea,"only")})})},createFloatingActions:function(){sap.ui.require(["sap/ushell/ui/shell/ShellFloatingActions"],e=>{const t=new e({id:"shell-floatingActions",floatingActions:{path:"shellModel>/floatingActions/items",factory:f.factory}});f.overrideUpdateAggregation(t);t.setModel(u.getModel(),"shellModel");this.addDanglingControl(t);this.waitForShellLayout().then(()=>{t.placeAt(M.FloatingActions,"only")})})},initAllMyAppsView:function(){return sap.ushell.Container.getServiceAsync("AllMyApps").then(e=>{if(e.isEnabled()){return this.createAllMyAppsView()}})},createAllMyAppsView:function(){return s.create({id:"allMyAppsView",viewName:"sap.ushell.renderer.allMyApps.AllMyApps"}).then(e=>{e.setModel(u.getConfigModel(),"configModel");e.setModel(a.i18nModel,"i18n");e.addCustomData(new o({key:"aria-label",value:a.i18n.getText("allMyApps_headerTitle"),writeToDom:true}));this.addDanglingControl(e);this.getShellHeader().getAppTitle().setAllMyApps(e)})},createPostCoreExtControls:function(){const e=u.getModel();sap.ui.require(["sap/ui/core/Popup"],e=>{e.setInitialZIndex(11)});this.bindFactory({model:e,factory:this.createFloatingContainer.bind(this),bindingPath:"/floatingContainer/items",bindingType:m.List,valueCheck:function(e){return!!e.length}});this.bindFactory({model:e,factory:this.createRightFloatingContainer.bind(this),bindingPath:"/rightFloatingContainer/visible",bindingType:m.Property,valueCheck:function(e){return!!e}});this.bindFactory({model:e,factory:this.createSubHeader.bind(this),bindingPath:"/subHeader/items",bindingType:m.List,valueCheck:function(e){return!!e.length}});this.bindFactory({model:e,factory:this.createToolArea.bind(this),bindingPath:"/toolArea/visible",bindingType:m.Property,valueCheck:function(e){return!!e}});this.bindFactory({model:e,factory:this.createSidePane.bind(this),bindingPath:"/sidePane/visible",bindingType:m.Property,valueCheck:function(e){return!!e}});this.bindFactory({model:e,factory:this.createFloatingActions.bind(this),bindingPath:"/floatingActions/items",bindingType:m.List,valueCheck:function(e){return!!e.length}});this.addPendingInitialization(this.initAllMyAppsView())},_allowUpToThreeActionInShellHeader:function(){const e=["moveAppFinderActionToShellHeader","moveUserSettingsActionToShellHeader","moveContactSupportActionToShellHeader","moveEditHomePageActionToShellHeader"];const t=this.getViewDataConfig();e.reduce((e,n)=>{if(t[n]){e++}else{t[n]=false}return e},0)},_createUserActionsMenuButton:function(e){const n=c.getUser();const i=a.i18n.getText("UserActionsMenuToggleButtonAria",[n.getFullName()||n.getId()]);const o=new t({id:"userActionsMenuHeaderButton",src:"{configModel>/userImage/personPlaceHolder}",initials:n.getInitials(),ariaHasPopup:"Menu",displaySize:y.XS,tooltip:i,press:function(){l.emit("showUserActionsMenu",Date.now())}});o.setModel(e,"configModel");this.addDanglingControl(o);p.updateAllBaseStates("header.headEndItems",A.Add,"userActionsMenuHeaderButton")},getShellHeader:function(){return this._oShellHeader},getRightFloatingContainer:function(){return this._oRightFloatingContainer},bindFactory:function(e){const t=e.model;const n=e.factory;const i=e.bindingPath;const o=e.bindingType;const l=e.valueCheck;let a=t.getProperty(i);if(l(a)){n()}else{let e;switch(o){case m.List:e=t.bindList(i);break;default:e=t.bindProperty(i)}this.addDanglingBinding(e);e.attachChange(function(){a=e.getModel().getProperty(e.getPath());if(l(a)){this.removeDanglingBinding(e);e.destroy();n()}},this)}},addDanglingBinding:function(e){this.getController().addDanglingBinding(e)},removeDanglingBinding:function(e){this.getController().removeDanglingBinding(e)},addDanglingControl:function(e){this.getController().addDanglingControl(e)},addPendingInitialization:function(e){return this.getController().addPendingInitialization(e)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderers/fiori2/allMyApps/AllMyAppsManager", ["sap/ushell/renderer/allMyApps/AllMyAppsManager"],e=>{"use strict";return e},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/resources", ["sap/base/i18n/Localization","sap/ui/model/resource/ResourceModel"],(e,r)=>{"use strict";const t={};t.i18n=null;t.i18nModel=new r({bundleUrl:sap.ui.require.toUrl("sap/ushell/renderer/resources/resources.properties"),bundleLocale:e.getLanguage(),async:true});t._pResourceBundle=t.i18nModel.getResourceBundle().then(e=>{t.i18n=e});t.awaitResourceBundle=async function(){await t._pResourceBundle};t.getTranslationFromJSON=function(r){if(!r){return""}try{const t=JSON.parse(r);const n=e.getLanguage().toLowerCase();for(const[e,r]of Object.entries(t)){if(e.toLowerCase()===n){return r}}for(const[e,r]of Object.entries(t)){const t=e.toLowerCase();if(t.startsWith(n)||n.startsWith(t)){return r}}return t.default||""}catch{return r}};return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/AllMyApps", [],()=>{"use strict";function t(t,e,n){const i=n&&n.config;let r=false;const s={};this.isEnabled=function(){r=!!(!i||i.enabled!==false);return r};this.isHomePageAppsEnabled=function(){return!!(!i||i.showHomePageApps!==false)};this.isCatalogAppsEnabled=function(){return!!(!i||i.showCatalogApps!==false)};this.isExternalProviderAppsEnabled=function(){return!!(!i||i.showExternalProviders!==false)};this.registerExternalProvider=function(t,e){if(!t||t===""){return}if(!e.getTitle||!e.getData){return}s[t]=e};this.getDataProviders=function(){return s};this.init=function(){}}t.hasNoAdapter=true;return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/AppConfiguration", ["sap/base/i18n/Localization","sap/base/i18n/ResourceBundle","sap/base/Log","sap/base/util/ObjectPath","sap/m/library","sap/ui/core/IconPool","sap/ui/thirdparty/hasher","sap/ui/thirdparty/jquery","sap/ui/util/Mobile","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/utils/UrlParsing","sap/ushell/utils","sap/ushell/Container","sap/ushell/Config"],(t,e,n,i,s,a,o,jQuery,r,c,p,l,u,h,f)=>{"use strict";const g=s.ButtonType;function d(){const s={};let d=true;let m=null;let y=[];const I=[];this._applicationOpenedHandler=function(){d=false;while(I.length>0){I.shift()()}};c.on("AppRendered").do(this._applicationOpenedHandler.bind(this));this.addActivity=function(t){const e=new jQuery.Deferred;h.getServiceAsync("UserRecents").then(e=>e.addActivity(t)).then(e.resolve).catch(e.reject);return e.promise()};this.setApplicationInInitMode=function(){d=true};this.getApplicationRequestQueue=function(){return I};this.getCurrentApplication=function(){return m};this.getCurrentAppliction=this.getCurrentApplication;this.getMetadata=function(t,e){if(!t){t=m}if(t){let n;if(e){n=e.slice(1)}else{n=o?.getHash?o.getHash():""}const i=this._getMemoizationKey(n);return this._getMetadata(t,i)}return{}};this._getMemoizationKey=function(t){const[e,n]=t.split("?");const i=this._processParams(n);if(i){return e+i}const s=l.parseShellHash(t);if(s){const{semanticObject:t,action:e}=s;return`${t}-${e}`}return""};this._processParams=function(t){if(!t){return""}const e={};t.split("&").forEach(t=>{const[n,i]=t.split("=");e[n]=i});const n=Object.keys(e).sort();const i=n.reduce((t,n,i)=>{const s=`${n}=${e[n]}`;return`${t}${i>0?"&":"?"}${s}`},"");return i};this._getMetadata=function(t,e){if(!s.hasOwnProperty(e)||!s[e].complete){this.addMetadata(t,e)}if(!s[e]){s[e]={complete:false}}if(!s[e].title){s[e].title=t.text||p.i18n.getText("default_app_title")}return s[e]};this.setCurrentApplication=function(t){if(m===t){return}m=t;I.splice(0)};this.setHeaderHiding=function(){n.warning("Application configuration headerHiding property is deprecated and has no effect")};this.addApplicationSettingsButtons=function(t){if(d){I.push(()=>{this._addApplicationSettingsButtons(t)})}else{this._addApplicationSettingsButtons(t)}};this._addApplicationSettingsButtons=function(t){const e=h.getRendererInternal("fiori2");const n=[];for(let e=0;e<t.length;e++){const i=t[e];n.push(i.getId());i.setIcon(i.getIcon()||a.getIconURI("customize"));if(p.i18n.getText("userSettings")===i.getProperty("text")){i.setProperty("text",p.i18n.getText("userAppSettings"))}i.setType(g.Unstyled)}if(e){if(y.length){e.hideActionButton(y,true)}y=n;e.showActionButton(n,true,undefined,true)}};this.setWindowTitle=function(e){const n=p.getTranslationFromJSON(f.last("/core/shell/windowTitleExtension"));if(n){if(t.getRTL()){e=`${n} - ${e}`}else{e=`${e} - ${n}`}}window.document.title=e};this.setIcons=function(t){r.setIcons(t)};this.setApplicationFullWidth=function(t){this.setApplicationFullWidthInternal(t)};this.setApplicationFullWidthInternal=function(t){c.emit("setApplicationFullWidth",{bValue:t,date:Date.now()})};this.getApplicationName=function(t){const e=t?.additionalInformation;if(e){const t=/^SAPUI5\.Component=(.+)$/i.exec(e);if(t){return t[1]}}return null};this.getApplicationUrl=function(t){let e=t?.url;const n="P_TCODE";if(e){if(t.applicationType==="NWBC"&&e.indexOf(n)){return e}const i=e.indexOf("?");if(i>=0){e=e.slice(0,i)}if(e.slice(-1)!=="/"){e+="/"}}return e};this._getPropertyValueFromConfig=function(t,e,n){const i=`${e}Resource`;if(n&&t.hasOwnProperty(i)){return n.getText(t[i])}if(t.hasOwnProperty(e)){return t[e]}};this._getPropertyValueFromManifest=function(t,e,n){const s=e[n].manifestEntryKey;const a=e[n].path||"";const o=t.getManifestEntry(s);return i.get(a,o)};this.addMetadata=function(i,a){try{const o=this.getApplicationName(i);const r=this.getApplicationUrl(i);const c={fullWidth:{manifestEntryKey:"sap.ui",path:"fullWidth"},hideLightBackground:{manifestEntryKey:"sap.ui",path:"hideLightBackground"},title:{manifestEntryKey:"sap.app",path:"title"},icon:{manifestEntryKey:"sap.ui",path:"icons.icon"},favIcon:{manifestEntryKey:"sap.ui",path:"icons.favIcon"},homeScreenIconPhone:{manifestEntryKey:"sap.ui",path:"icons.phone"},"homeScreenIconPhone@2":{manifestEntryKey:"sap.ui",path:"icons.phone@2"},homeScreenIconTablet:{manifestEntryKey:"sap.ui",path:"icons.tablet"},"homeScreenIconTablet@2":{manifestEntryKey:"sap.ui",path:"icons.tablet@2"},startupImage320x460:{manifestEntryKey:"sap.ui",path:"icons.startupImage640x920"},startupImage640x920:{manifestEntryKey:"sap.ui",path:"icons.startupImage640x920"},startupImage640x1096:{manifestEntryKey:"sap.ui",path:"icons.startupImage640x1096"},startupImage768x1004:{manifestEntryKey:"sap.ui",path:"icons.startupImage768x1004"},startupImage748x1024:{manifestEntryKey:"sap.ui",path:"icons.startupImage748x1024"},startupImage1536x2008:{manifestEntryKey:"sap.ui",path:"icons.startupImage1536x2008"},startupImage1496x2048:{manifestEntryKey:"sap.ui",path:"icons.startupImage1496x2048"},compactContentDensity:{manifestEntryKey:"sap.ui5",path:"contentDensities.compact"},cozyContentDensity:{manifestEntryKey:"sap.ui5",path:"contentDensities.cozy"}};const p=i?.componentHandle;if(!a){return}if(!s.hasOwnProperty(a)){s[a]={complete:false}}if(!s[a].complete){let l;let h;if(p){l=p.getInstance();h=p.getMetadata()}else if(o){n.warning(`No component handle available for '${o}'; SAPUI5 component metadata is incomplete`,null,"sap.ushell.services.AppConfiguration");return}if(l&&h){let n;const o=l._getManifestEntry("/sap.ui5/config",true);s[a].complete=true;if(o){let i=o.resourceBundle;if(i){if(i.slice(0,1)!=="/"){i=r+i}n=e.create({url:i,locale:t.getLanguage()})}}const p=!!l.getManifest();for(const t in c){if(c.hasOwnProperty(t)){if(p){s[a][t]=this._getPropertyValueFromManifest(l,c,t)}if(o&&s[a][t]===undefined){s[a][t]=this._getPropertyValueFromConfig(o,t,n)}}}s[a].version=l.getManifestEntry("/sap.app/applicationVersion/version");s[a].technicalName=h.getComponentName();this._setTitleFromNavResult(s[a],i)}else if(u.isApplicationTypeEmbeddedInIframe(i.applicationType)){const t="/~canvas;window=app/wda/";const e=i.url.indexOf(t);const n="/sap/bc/webdynpro/sap/";const o="/bc/gui/sap/its/webgui";const r=i.url.indexOf(o);if(e>=0){s[a].technicalName=i.url.substring(e+t.length,i.url.indexOf("/",e+t.length))}if(i.url.indexOf(n)>=0){s[a].technicalName=new RegExp(`${n}(.*)[?]`).exec(i.url)[1]}s[a].complete=true;if(r>=0){const t="etransaction=";const e=i.url.indexOf(t,r+o.length);const n=i.url.indexOf("&",e);const c=n>=0?n:i.url.length;s[a].technicalName=`${decodeURIComponent(i.url.substring(e+t.length,c))} (TCODE)`}}else{n.warning("No technical information for the given application could be determined",null,"sap.ushell.services.AppConfiguration")}}const l=["favIcon","homeScreenIconPhone","homeScreenIconPhone@2","homeScreenIconTablet","homeScreenIconTablet@2","startupImage320x460","startupImage640x920","startupImage640x1096","startupImage768x1004","startupImage748x1024","startupImage1536x2008","startupImage1496x2048"];const h=r?.[r.length-1]==="/"?r.substring(0,r.length-1):r;l.forEach(t=>{const e=s[a][t];let n=null;if(e){n=this._isUrlRelative(e)?`${h}/${e}`:e}s[a][t]=n})}catch(t){n.warning("Application configuration could not be parsed",t)}};this._isUrlRelative=function(t){if(!t){return false}if(t.match(/^https?:\/\/.*/)){return false}return t[0]!=="/"};this._setTitleFromNavResult=function(t,e){const n=e?.text;const i=t.technicalName;const s=f.last("/core/shell/useAppTitleFromNavTargetResolution")||[];if(n&&s.includes(i)){t.title=n}}}return new d},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/AppLifeCycle", ["sap/ui/base/EventProvider","sap/ui/core/Component","sap/ui/thirdparty/hasher","sap/ui/thirdparty/URI","sap/ushell/AppInfoParameters","sap/ushell/Config","sap/ushell/Container","sap/ushell/EventHub","sap/ushell/services/AppConfiguration","sap/ushell/TechnicalParameters","sap/ushell/renderer/RendererManagedComponents"],(e,t,n,p,i,o,a,r,s,l,c)=>{"use strict";const u="appLoaded";function h(t,n,p,i){this._oCurrentApplication=null;this._oCurrentApplicationContainer=null;this._oEventProvider=new e;if(window.QUnit===undefined&&a.inAppRuntime()===false){if(o.last("/core/shell/enableMessageBroker")){a.getServiceAsync("MessageBroker").then(async e=>{await e.connect(e.ClientAlias.FLP,()=>{});e.subscribe(e.ClientAlias.FLP,[{channelId:"flp-app-info",version:"1.0"}],this._handleIncomingMessageBrokerMessage.bind(this,e))})}}}h.prototype.init=function(e){e.attachAfterNavigate(this.onAfterNavigate.bind(this))};h.prototype._handleIncomingMessageBrokerMessage=function(e,t,n,p,i){if(n==="flp-app-info"&&p==="get-current-app-info"&&this._oCurrentApplication){this._oCurrentApplication.getAllAppInfo(true).then(n=>{e.publish("flp-app-info",e.ClientAlias.FLP,Date.now().toString(),p,[t],n)})}};h.prototype.onAfterNavigate=async function(e){let n=false;const p=e.getParameter("to");let i;if(p?.isA?.("sap.ushell.appIntegration.ApplicationContainer")){i=p}let o;if(i&&typeof i.getComponentHandle==="function"&&i.getComponentHandle()){o=i.getComponentHandle().getInstance()}else if(i){const e=i.getAggregation("child");if(e){o=e.getComponentInstance()}}else{o=t.getComponentById(p?.getComponent?.());if(o?.isA?.("sap.ushell.renderer.rendererTargetWrapper.Component")){o=await o.getComponentInstance()}}if(o){n=c.isManagedComponentInstance(o)}let a=i&&typeof i.getApplicationType==="function"&&i.getApplicationType();if((!a||a==="URL")&&o){a="UI5"}this._setCurrentApplicationObject(a,o,n,i)};h.prototype._getAppIntent=async function(e){const t=n.getHash();let i;if(!t){throw new Error("Could not identify current application hash")}const o=a.getServiceAsync("URLParsing");return o.then(n=>{i=n.parseShellHash(t);if(e===true&&this._oCurrentApplicationContainer&&typeof this._oCurrentApplicationContainer.getCurrentAppUrl==="function"){const e=this._oCurrentApplicationContainer.getCurrentAppUrl();if(e){const t=new p(e).search(true);if(t.hasOwnProperty("sap-remote-intent")){i.semanticObject=t["sap-remote-intent"].split("-")[0];i.action=t["sap-remote-intent"].split("-")[1];delete i.params["sap-shell-so"];delete i.params["sap-shell-action"]}}}return i})};h.prototype._setCurrentApplicationObject=function(e,t,n,p){this._oCurrentApplicationContainer=p;this._oCurrentApplication={applicationType:e,componentInstance:t,homePage:n,getTechnicalParameter:function(n){return l.getParameterValue(n,t,p,e)},getIntent:this._getAppIntent.bind(this),getInfo:function(e){return i.getInfo(e,this._oCurrentApplication,p)}.bind(this),getAllAppInfo:function(e){return i.getAllAppInfo(e,this._oCurrentApplication,t,p).then(t=>{if(e===true){t.applicationType=this._oCurrentApplication.applicationType;t.homePage=this._oCurrentApplication.homePage}else{t.applicationType={value:this._oCurrentApplication.applicationType};t.homePage={value:this._oCurrentApplication.homePage}}return t})}.bind(this),getSystemContext:function(){const e=s.getCurrentApplication()||{};const t=e.contentProviderId||"";return a.getServiceAsync("ClientSideTargetResolution").then(e=>e.getSystemContext(t))},disableKeepAliveAppRouterRetrigger:function(e){r.emit("disableKeepAliveRestoreRouterRetrigger",{disable:e,appId:this._oCurrentApplicationContainer?.getCurrentAppId(),componentId:this._oCurrentApplication.componentInstance?.oContainer?.sId,date:Date.now()})}.bind(this)};setTimeout(()=>{this._oEventProvider.fireEvent(u,this._oCurrentApplication);r.last("trackHashChange");this._oCurrentApplication.getInfo(["technicalAppComponentId"]).then(e=>{if(!c.isManagedComponentName(e?.technicalAppComponentId)){r.emit("FESRAppLoaded",{technicalName:e.technicalAppComponentId})}});if(window.QUnit===undefined&&a.inAppRuntime()===false){if(o.last("/core/shell/enableMessageBroker")){a.getServiceAsync("MessageBroker").then(e=>{this._oCurrentApplication.getAllAppInfo(true).then(t=>{e.publish("flp-app-info",e.ClientAlias.FLP,"new-app-info","*",t)})})}}},0)};h.prototype.getCurrentApplication=function(){return this._oCurrentApplication};h.prototype.attachAppLoaded=function(e,t,n){this._oEventProvider.attachEvent(u,e,t,n)};h.prototype.detachAppLoaded=function(e,t){this._oEventProvider.detachEvent(u,e,t)};h.prototype.prepareCurrentAppObject=function(e,t,n,p,i){this._setCurrentApplicationObject(e,t,n,p,i)};h.prototype.reloadCurrentApp=function(){const e=this.getCurrentApplication();r.emit("reloadCurrentApp",{sAppContainerId:this._oCurrentApplicationContainer?.getId?.(),sAppId:e.componentInstance?.getId?.(),sCurrentHash:n.getHash(),date:Date.now()})};h.prototype.setAppInfo=function(e,t){i.setCustomAttributes(e?.info);if(o.last("/core/shell/enableMessageBroker")){a.getServiceAsync("MessageBroker").then(e=>{this._oCurrentApplication.getAllAppInfo(true).then(n=>{e.publish("flp-app-info",e.ClientAlias.FLP,t===true?"new-app-info":"app-info-update","*",n)})})}};h.prototype.ApplicationType={UI5:"UI5",WDA:"WDA",NWBC:"NWBC",URL:"URL",TR:"TR"};h.prototype.AppInfoParameterName={productName:"productName",theme:"theme",languageTag:"languageTag",appIntent:"appIntent",appFrameworkId:"appFrameworkId",technicalAppComponentId:"technicalAppComponentId",appId:"appId",appVersion:"appVersion",appSupportInfo:"appSupportInfo",appFrameworkVersion:"appFrameworkVersion","abap.transaction":"abap.transaction"};h.hasNoAdapter=true;return h},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/AppState", ["sap/ui/base/Object","sap/ui/thirdparty/jquery","sap/ushell/services/appstate/AppState","sap/ushell/services/appstate/AppStatePersistencyMethod","sap/ushell/services/appstate/Sequentializer","sap/ushell/services/appstate/SequentializingAdapter","sap/ushell/services/appstate/WindowAdapter","sap/ushell/utils"],(e,jQuery,t,s,n,i,r,o)=>{"use strict";function p(e){return o.isDefined(e)&&o.isDefined(e.transient)?!!e.transient:true}function a(e,t,s,n){this._oConfig=n&&n.config;this._sSessionKey="";this._oAdapter=new i(e);this._oAdapter=new r(this,this._oAdapter,n)}a.prototype._getSessionKey=function(){if(!this._sSessionKey){this._sSessionKey=this._getGeneratedKey()}return this._sSessionKey};a.prototype.getAppState=function(e){const s=new jQuery.Deferred;let n;this._loadAppState(e).done((e,i,r,o)=>{n=new t(this,e,false,i,undefined,undefined,undefined,r,o);s.resolve(n)}).fail(()=>{n=new t(this,e);s.resolve(n)});return s.promise()};a.prototype._getGeneratedKey=function(e){let t=o.generateRandomKey();if(e){t=`TAS${t}`.substring(0,41)}else{t=`AS${t}`.substring(0,40)}return t};a.prototype.createEmptyAppState=function(n,i,r,o){let a="";let d="";const u=i||p(this._oConfig);const f=this._getGeneratedKey(u);if(r!==undefined&&!this.isPersistencyMethodSupported(r)){r=undefined}if(n){if(!e.isObjectA(n,"sap.ui.core.UIComponent")){throw new Error("oComponent passed must be a UI5 Component")}const t=n.getMetadata&&n.getMetadata();if(t){if(typeof n.getMetadata().getName==="function"){a=t.getName()||""}if(!a&&t.getComponentName){a=t.getComponentName()}if(typeof n.getManifest==="function"&&typeof n.getManifest()==="object"&&typeof n.getManifest()["sap.app"]==="object"){d=n.getManifest()["sap.app"].ach||""}}}if(u===true){r=undefined}else if(r===undefined&&this.isPersistencyMethodSupported(s.PersonalState)){r=s.PersonalState}return new t(this,f,true,undefined,a,d,u,r)};a.prototype.createEmptyUnmodifiableAppState=function(){const e=this._getGeneratedKey();const s=new t(this,e,false);return s};a.prototype._saveAppState=function(e,t,n,i,r,a,d){const u=this._getSessionKey();const f=o.isDefined(r)?r:p(this._oConfig);if(f){a=undefined;d=undefined}else if(a!==undefined){if(!this.isPersistencyMethodSupported(a)){if(this.isPersistencyMethodSupported(s.PersonalState)){a=s.PersonalState}else{a=undefined}d=undefined}}return this._oAdapter.saveAppState(e,u,t,n,i,f,a,d)};a.prototype._keyIsJson=function(e){if(typeof e==="string"&&e.indexOf("{")===0){try{JSON.parse(e);return true}catch{return false}}return false};a.prototype._loadAppState=function(e){if(this._keyIsJson(e)){return(new jQuery.Deferred).resolve(e,e).promise()}return this._oAdapter.loadAppState(e)};a.prototype.deleteAppState=function(e){return this._oAdapter.deleteAppState(e)};a._getSequentializer=function(){return new n};a.prototype.getSupportedPersistencyMethods=function(){if(this._oAdapter.getSupportedPersistencyMethods){return this._oAdapter.getSupportedPersistencyMethods()}return[]};a.prototype.isPersistencyMethodSupported=function(e){const t=this.getSupportedPersistencyMethods();if(t.length>0&&e!==undefined){return t.indexOf(e)>=0}return false};function d(e,t){const s=new RegExp(`(?:${t}=)([^&/]+)`);const n=s.exec(e);let i;if(n&&n.length===2){i=n[1]}return i}a.prototype.setAppStateToPublic=function(e){const t=d(e,"sap-xapp-state");const n=d(e,"sap-iapp-state");const i=new jQuery.Deferred;jQuery.when(t&&this.makeStatePersistent(t,s.PublicState),n&&this.makeStatePersistent(n,s.PublicState)).done((s,r)=>{if(t&&t!==s){e=e.replace(t,s)}if(n&&n!==r){e=e.replace(n,r)}i.resolve(e,t,n,s,r)}).fail(i.reject);return i.promise()};a.prototype.makeStatePersistent=function(e,t,s){const n=new jQuery.Deferred;if(this.getSupportedPersistencyMethods().length===0){return n.resolve(e)}if(this._keyIsJson(e)){return n.resolve(e)}if(this.isPersistencyMethodSupported(t)){this.getAppState(e).done(i=>{if(i._iPersistencyMethod!==t){i.bTransient=false;i._iPersistencyMethod=t;i._oPersistencySettings=s;if(e.startsWith("TAS")){e=e.substring(1,e.length)}this._saveAppState(e,i._sData,i._sAppName,i._sACHComponent,false,t,s).done(()=>{n.resolve(e)}).fail(n.reject)}else{n.resolve(e)}}).fail(n.reject)}else{n.reject(new Error(`AppState.makeStatePersistent - adapter does not support persistence method: ${t}`))}return n.promise()};a.prototype.getPersistentWhenShared=function(){return this._oConfig&&this._oConfig.persistentWhenShared===true?true:false};a.WindowAdapter=r;a.hasNoAdapter=false;return a},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/AppType", ["sap/ushell/library","sap/ushell/utils/AppType"],(e,s)=>{"use strict";const p=JSON.parse(JSON.stringify(e.AppType));p.getDisplayName=s.getDisplayName;return p});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Bookmark", ["sap/ui/core/EventBus","sap/ui/thirdparty/jquery","sap/ushell/Config","sap/ushell/library","sap/ushell/utils","sap/base/util/deepClone","sap/base/util/deepExtend","sap/base/Log"],(e,jQuery,o,r,t,a,s,n)=>{"use strict";const i="sap.ushell.services.Bookmark";const c="X-SAP-UI2-HANA:hana?remoteId=HANA_CATALOG";const l=r.ContentNodeType;function u(){this._oLaunchPageServicePromise=sap.ushell.Container.getServiceAsync("LaunchPage");if(o.last("/core/spaces/enabled")){this._oPagesServicePromise=sap.ushell.Container.getServiceAsync("Pages")}this._addBookmarkToContentNodes=function(e,o,r,t){const a=o.map(async o=>{if(o&&o.hasOwnProperty("type")&&o.isContainer){switch(o.type){case l.Page:return this.addBookmarkToPage(e,o.id,t);case l.HomepageGroup:return new Promise((e,r)=>{this._oLaunchPageServicePromise.then(t=>{t.getGroupById(o.id).done(e).fail(r)})}).then(o=>this.addBookmarkToHomepageGroup(e,o,r,t));default:throw new Error(`Bookmark Service: The API needs to be called with a valid content node type. '${o.type}' is not supported.`)}}throw new Error("Bookmark Service: Not a valid content node.")});return Promise.all(a)};this.addBookmark=function(e,r,t){const a=new jQuery.Deferred;const s=o.last("/core/shell/enablePersonalization");const c=o.last("/core/spaces/enabled");const l=o.last("/core/spaces/myHome/enabled");if(!s&&(!c||!l)){return a.resolve().promise()}this._checkBookmarkParameters(e).then(()=>this._changeUrlStatesToPersistent(e.url)).then(o=>{e.url=o;if(typeof r==="undefined"&&c){return sap.ushell.Container.getServiceAsync("Menu").then(e=>e.getDefaultSpace()).then(e=>{const o=e&&e.children&&e.children[0];return o}).then(o=>this._addBookmarkToContentNodes(e,[o],false,t))}if((typeof r==="undefined"||!r.hasOwnProperty("type"))&&!Array.isArray(r)){return this.addBookmarkToHomepageGroup(e,r,false,t)}const a=[].concat(r);return this._addBookmarkToContentNodes(e,a,false,t)}).then(a.resolve).catch(e=>{n.error("Error during Bookmark creation: ",e,i);a.reject(e)});return a.promise()};this.addCustomBookmark=async function(e,o,r,t){const n=a(o);const i=s(n,{vizType:e,vizConfig:{"sap.flp":{chipConfig:n.chipConfig},"sap.platform.runtime":{includeManifest:!n.loadManifest}}});delete i.chipConfig;delete i.loadManifest;i.url=await this._changeUrlStatesToPersistent(i.url);const c=[].concat(r);return this._addBookmarkToContentNodes(i,c,true,t)};this.addBookmarkToHomepageGroup=async function(r,t,a,s){if(o.last("/core/spaces/enabled")){throw new Error("Bookmark Service: The API is not available in spaces mode.")}return new Promise((o,n)=>{this._oLaunchPageServicePromise.then(i=>{let c;if(a){c=i.addCustomBookmark(r,t,s)}else{c=i.addBookmark(r,t,s)}c.done(r=>{const a={tile:r,group:t};e.getInstance().publish("sap.ushell.services.Bookmark","bookmarkTileAdded",a);o()}).fail(n)})})};this.addBookmarkToPage=async function(e,r,t){if(!o.last("/core/spaces/enabled")){throw new Error("Bookmark Service: 'addBookmarkToPage' is not valid in launchpad home page mode, use 'addBookmark' instead.")}const a=o.last("/core/shell/enablePersonalization");const s=o.last("/core/spaces/myHome/enabled");const n=o.last("/core/spaces/myHome/myHomePageId");if(!a&&(!s||s&&r!==n)){throw new Error("Bookmark Service: Add bookmark is not allowed as the personalization functionality is not enabled.")}if(e&&(typeof e.title!=="string"||typeof e.url!=="string")){throw new Error("Bookmark Service - Invalid bookmark data.")}return this._oPagesServicePromise.then(o=>o.addBookmarkToPage(r,e,undefined,t))};this.addBookmarkByGroupId=function(e,r,t){const a=new jQuery.Deferred;if(o.last("/core/spaces/enabled")){return a.reject(new Error("Bookmark Service: The API 'addBookmarkByGroupId' is not supported in launchpad spaces mode.")).promise()}this._oLaunchPageServicePromise.then(o=>{o.getGroups().done(o=>{const s=o.find(e=>e.id===r)||null;this.addBookmark(e,s,t).done(a.resolve).fail(a.reject)}).fail(a.reject)}).catch(a.reject);return a.promise()};this.getShellGroupIDs=function(e){const r=new jQuery.Deferred;if(o.last("/core/spaces/enabled")){return r.reject(new Error("Bookmark Service: The API 'getShellGroupIDs' is not supported in launchpad spaces mode.")).promise()}this._oLaunchPageServicePromise.then(o=>{o.getGroupsForBookmarks(e).done(e=>{e=e.map(e=>({id:o.getGroupId(e.object),title:e.title}));r.resolve(e)}).fail(r.reject)});return r.promise()};this._doAddCatalogTileToGroup=function(e,o,r,t){this._oLaunchPageServicePromise.then(a=>{if(t){a.getGroups().fail(e.reject).done(s=>{const i=s.some(s=>{if(a.getGroupId(s)===t){this._addToGroup(r,e,o,s);return true}});if(!i){const o=`Group '${t}' is unknown`;n.error(o,null,"sap.ushell.services.Bookmark");e.reject(new Error(o))}})}else{a.getDefaultGroup().fail(e.reject).done(t=>{this._addToGroup(r,e,o,t)})}});return e.promise()};this._isSameCatalogTile=function(e,o,r){const t=r.getCatalogTileId(o);if(t===undefined){return false}return t.indexOf(e)===0};this._addToGroup=function(o,r,t,a){return this._oLaunchPageServicePromise.then(s=>{s.getCatalogTiles(o).fail(r.reject).done(i=>{const c=s.getGroupId(a);const l=i.some(o=>{if(this._isSameCatalogTile(t,o,s)){s.addTile(o,a).fail(r.reject).done(()=>{r.resolve();e.getInstance().publish("sap.ushell.services.Bookmark","catalogTileAdded",c)});return true}});if(!l){const e=`No tile '${t}' in catalog '${s.getCatalogId(o)}'`;n.error(e,null,"sap.ushell.services.Bookmark");r.reject(new Error(e))}})})};this.addCatalogTileToGroup=function(e,r,t){const a=new jQuery.Deferred;n.error("Deprecated API call of 'sap.ushell.Bookmark.addCatalogTileToGroup'. Please use 'addBookmark' instead",null,"sap.ushell.services.Bookmark");if(o.last("/core/spaces/enabled")){return a.reject(new Error("Bookmark Service: The API 'addCatalogTileToGroup' is not supported in launchpad spaces mode.")).promise()}this._oLaunchPageServicePromise.then(o=>{const s=t?this._isMatchingRemoteCatalog:this._isLegacyHANACatalog;t=t||{id:c};o.onCatalogTileAdded(e);o.getCatalogs().fail(a.reject).done(i=>{let c;i.forEach(e=>{if(s(e,t,o)){if(!c){c=e}else{n.warning(`More than one matching catalog: ${JSON.stringify(t)}`,null,"sap.ushell.services.Bookmark")}}});if(c){this._doAddCatalogTileToGroup(a,e,c,r)}else{const e=`No matching catalog found: ${JSON.stringify(t)}`;n.error(e,null,"sap.ushell.services.Bookmark");a.reject(new Error(e))}})});return a.promise()};this._checkBookmarkParameters=async function(e){if(!e){throw new Error("Invalid Bookmark Data: No bookmark parameters passed.")}const o=e.dataSource;let r;if(o){if(o.type!=="OData"){throw new Error(`Invalid Bookmark Data: Unknown data source type: ${o.type}`)}r=o.settings&&o.settings.odataVersion;const e=["2.0","4.0"];if(!e.includes(r)){throw new Error(`Invalid Bookmark Data: Unknown OData version in the data source: ${r}`)}}if(e.serviceUrl){return sap.ushell.Container.getServiceAsync("ReferenceResolver").then(r=>{if(r.hasSemanticDateRanges(e.serviceUrl)&&!o){throw new Error("Invalid Bookmark Data: Provide a data source to use semantic date ranges.")}})}};this._isMatchingRemoteCatalog=function(e,o,r){const t=r.getCatalogData(e);return t.remoteId===o.remoteId&&t.baseUrl.replace(/\/$/,"")===o.baseUrl.replace(/\/$/,"")};this._isLegacyHANACatalog=function(e,o,r){return r.getCatalogId(e)===c};this.countBookmarks=function(e,r){const t=new jQuery.Deferred;if(o.last("/core/spaces/enabled")){this._oPagesServicePromise.then(o=>o.countBookmarks({url:e,contentProviderId:r})).then(t.resolve).catch(t.reject)}else{this._oLaunchPageServicePromise.then(o=>{o.countBookmarks(e,r).done(t.resolve).fail(t.reject)})}return t.promise()};this.countCustomBookmarks=async function(e){if(!e||!e.url||!e.vizType){throw new Error("countCustomBookmarks: Some required parameters are missing.")}if(o.last("/core/spaces/enabled")){const o=await this._oPagesServicePromise;return o.countBookmarks(e)}const r=await this._oLaunchPageServicePromise;return r.countCustomBookmarks(e)};this.deleteBookmarks=function(r,t){const a=new jQuery.Deferred;if(o.last("/core/spaces/enabled")){this._oPagesServicePromise.then(e=>e.deleteBookmarks({url:r,contentProviderId:t})).then(a.resolve).catch(a.reject)}else{this._oLaunchPageServicePromise.then(o=>{o.deleteBookmarks(r,t).done(o=>{e.getInstance().publish("sap.ushell.services.Bookmark","bookmarkTileDeleted",r);a.resolve(o)}).fail(a.reject)})}return a.promise()};this.deleteCustomBookmarks=async function(r){if(!r||!r.url||!r.vizType){throw new Error("deleteCustomBookmarks: Some required parameters are missing.")}if(o.last("/core/spaces/enabled")){return this._oPagesServicePromise.then(e=>e.deleteBookmarks(r))}return this._oLaunchPageServicePromise.then(e=>e.deleteCustomBookmarks(r)).then(o=>{e.getInstance().publish("sap.ushell.services.Bookmark","bookmarkTileDeleted",r.url);return o})};this.updateBookmarks=function(e,r,t){const a=new jQuery.Deferred;if(o.last("/core/spaces/enabled")){Promise.all([this._oPagesServicePromise,this._changeUrlStatesToPersistent(r.url)]).then(([o,a])=>{r.url=a;return o.updateBookmarks({url:e,contentProviderId:t},r)}).then(a.resolve).catch(a.reject)}else{Promise.all([this._oLaunchPageServicePromise,this._changeUrlStatesToPersistent(r.url)]).then(([o,s])=>{r.url=s;o.updateBookmarks(e,r,t).done(a.resolve).fail(a.reject)})}return a.promise()};this.updateCustomBookmarks=async function(e,r){if(!e||!e.url||!e.vizType){throw new Error("updateCustomBookmarks: Some required parameters are missing.")}const t=s({},r,{vizConfig:{"sap.flp":{chipConfig:r.chipConfig},"sap.platform.runtime":{includeManifest:!r.loadManifest}}});delete t.chipConfig;delete t.loadManifest;t.url=await this._changeUrlStatesToPersistent(t.url);if(o.last("/core/spaces/enabled")){return this._oPagesServicePromise.then(o=>o.updateBookmarks(e,t))}return this._oLaunchPageServicePromise.then(o=>o.updateCustomBookmarks(e,t))};this.getContentNodes=async function(){if(o.last("/core/spaces/enabled")){const e=await sap.ushell.Container.getServiceAsync("Menu");return e.getContentNodes()}return new Promise(async(e,o)=>{const r=await this._oLaunchPageServicePromise;r.getGroupsForBookmarks().done(o=>{const t=o.map(e=>({id:r.getGroupId(e.object),label:e.title,type:l.HomepageGroup,isContainer:true}));e(t)}).fail(o)})};this._changeUrlStatesToPersistent=async function(e){const o=await sap.ushell.Container.getServiceAsync("AppState");const r=o.getPersistentWhenShared();if(o.getSupportedPersistencyMethods().length===0&&r!==true){return e}if(e&&e.length>0){return t.promisify(o.setAppStateToPublic(e))}return e}}u.hasNoAdapter=true;return u},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/BookmarkV2", ["sap/ui/core/EventBus","sap/ushell/Config","sap/ushell/library","sap/base/util/deepClone","sap/base/util/deepExtend","sap/base/Log","sap/ushell/utils","sap/ushell/Container"],(e,t,a,o,r,s,i,n)=>{"use strict";const c="sap.ushell.services.BookmarkV2";const u=a.ContentNodeType;function d(){this._getLaunchPageService=function(){if(!this._oLaunchPageServicePromise){this._oLaunchPageServicePromise=n.getServiceAsync("LaunchPage")}return this._oLaunchPageServicePromise};this._getPagesService=function(){if(!this._oPagesServicePromise){this._oPagesServicePromise=n.getServiceAsync("Pages")}return this._oPagesServicePromise};this._addBookmarkToContentNodes=async function(e,t,a,o){const r=t.map(async t=>{if(t&&t.hasOwnProperty("type")&&t.isContainer){if(t.type===u.Page){return this.addBookmarkToPage(e,t.id,o)}if(t.type===u.HomepageGroup){const r=await this._getLaunchPageService();const s=await i.promisify(r.getGroupById(t.id));return this.addBookmarkToHomepageGroup(e,s,a,o)}throw new Error(`Bookmark Service: The API needs to be called with a valid content node type. '${t.type}' is not supported.`)}throw new Error("Bookmark Service: Not a valid content node.")});return Promise.all(r)};this.addBookmark=async function(e,a,r){const i=t.last("/core/shell/enablePersonalization");const u=t.last("/core/spaces/enabled");const d=t.last("/core/spaces/myHome/enabled");if(!i&&(!u||!d)){return}try{await this._checkBookmarkParameters(e);const t=o(e,20);t.url=await this._changeUrlStatesToPersistent(t.url);if(typeof a==="undefined"&&u){const e=await n.getServiceAsync("Menu");const a=await e.getDefaultSpace();const o=a&&a.children&&a.children[0];return this._addBookmarkToContentNodes(t,[o],false,r)}if((typeof a==="undefined"||!a.hasOwnProperty("type"))&&!Array.isArray(a)){return this.addBookmarkToHomepageGroup(t,a,false,r)}const s=[].concat(a);return this._addBookmarkToContentNodes(t,s,false,r)}catch(e){s.error("Error during Bookmark creation: ",e,c);throw e}};this.addCustomBookmark=async function(e,t,a,s){const i=o(t);const n=r(i,{vizType:e,vizConfig:{"sap.flp":{chipConfig:i.chipConfig},"sap.platform.runtime":{includeManifest:!i.loadManifest}}});delete n.chipConfig;delete n.loadManifest;n.url=await this._changeUrlStatesToPersistent(n.url);const c=[].concat(a);return this._addBookmarkToContentNodes(n,c,true,s)};this.addBookmarkToHomepageGroup=async function(a,o,r,s){if(t.last("/core/spaces/enabled")){throw new Error("Bookmark Service: The API is not available in spaces mode.")}const n=await this._getLaunchPageService();let c;if(r){c=await i.promisify(n.addCustomBookmark(a,o,s))}else{c=await i.promisify(n.addBookmark(a,o,s))}const u={tile:c,group:o};e.getInstance().publish("sap.ushell.services.Bookmark","bookmarkTileAdded",u)};this.addBookmarkToPage=async function(e,a,o){if(!t.last("/core/spaces/enabled")){throw new Error("Bookmark Service: 'addBookmarkToPage' is not valid in launchpad home page mode, use 'addBookmark' instead.")}const r=t.last("/core/shell/enablePersonalization");const s=t.last("/core/spaces/myHome/enabled");const i=t.last("/core/spaces/myHome/myHomePageId");if(!r&&(!s||s&&a!==i)){throw new Error("Bookmark Service: Add bookmark is not allowed as the personalization functionality is not enabled.")}if(e&&(typeof e.title!=="string"||typeof e.url!=="string")){throw new Error("Bookmark Service - Invalid bookmark data.")}const n=await this._getPagesService();return n.addBookmarkToPage(a,e,undefined,o)};this.addBookmarkByGroupId=async function(e,a,o){if(t.last("/core/spaces/enabled")){throw new Error("Bookmark Service: The API 'addBookmarkByGroupId' is not supported in launchpad spaces mode.")}const r=await this._getLaunchPageService();const s=await i.promisify(r.getGroups());const n=s.find(e=>e.id===a)||null;await this.addBookmark(e,n,o)};this.getShellGroupIDs=async function(e){if(t.last("/core/spaces/enabled")){throw new Error("Bookmark Service: The API 'getShellGroupIDs' is not supported in launchpad spaces mode.")}const a=await this._getLaunchPageService();let o=await i.promisify(a.getGroupsForBookmarks(e));o=o.map(e=>({id:a.getGroupId(e.object),title:e.title}));return o};this._checkBookmarkParameters=async function(e){if(!e){throw new Error("Invalid Bookmark Data: No bookmark parameters passed.")}const t=e.dataSource;let a;if(t){if(t.type!=="OData"){throw new Error(`Invalid Bookmark Data: Unknown data source type: ${t.type}`)}a=t.settings&&t.settings.odataVersion;const e=["2.0","4.0"];if(!e.includes(a)){throw new Error(`Invalid Bookmark Data: Unknown OData version in the data source: ${a}`)}}if(e.serviceUrl){const a=await n.getServiceAsync("ReferenceResolver");if(a.hasSemanticDateRanges(e.serviceUrl)&&!t){throw new Error("Invalid Bookmark Data: Provide a data source to use semantic date ranges.")}}};this.countBookmarks=async function(e,a){if(!t.last("/core/spaces/enabled")){const t=await this._getLaunchPageService();return i.promisify(t.countBookmarks(e,a))}const o=await this._getPagesService();return o.countBookmarks({url:e,contentProviderId:a})};this.countCustomBookmarks=async function(e){if(!e||!e.url||!e.vizType){throw new Error("countCustomBookmarks: required parameters are missing.")}if(!t.last("/core/spaces/enabled")){const t=await this._getLaunchPageService();return t.countCustomBookmarks(e)}const a=await this._getPagesService();return a.countBookmarks(e)};this.deleteBookmarks=async function(a,o){if(!t.last("/core/spaces/enabled")){const t=await this._getLaunchPageService();const r=await i.promisify(t.deleteBookmarks(a,o));e.getInstance().publish("sap.ushell.services.Bookmark","bookmarkTileDeleted",a);return r}const r=await this._getPagesService();return r.deleteBookmarks({url:a,contentProviderId:o})};this.deleteCustomBookmarks=async function(a){if(!a||!a.url||!a.vizType){throw new Error("deleteCustomBookmarks: Some required parameters are missing.")}if(!t.last("/core/spaces/enabled")){const t=await this._getLaunchPageService();await t.deleteCustomBookmarks(a);e.getInstance().publish("sap.ushell.services.Bookmark","bookmarkTileDeleted",a.url);return}const o=await this._getPagesService();return o.deleteBookmarks(a)};this.updateBookmarks=async function(e,a,r){const s=o(a,20);s.url=await this._changeUrlStatesToPersistent(s.url);if(!t.last("/core/spaces/enabled")){const t=await this._getLaunchPageService();return i.promisify(t.updateBookmarks(e,s,r))}const n=await this._getPagesService();return n.updateBookmarks({url:e,contentProviderId:r},s)};this.updateCustomBookmarks=async function(e,a){if(!e||!e.url||!e.vizType){throw new Error("deleteCustomBookmarks: Some required parameters are missing.")}const o=r({},a,{vizConfig:{"sap.flp":{chipConfig:a.chipConfig},"sap.platform.runtime":{includeManifest:!a.loadManifest}}});delete o.chipConfig;delete o.loadManifest;o.url=await this._changeUrlStatesToPersistent(o.url);if(!t.last("/core/spaces/enabled")){const t=await this._getLaunchPageService();return t.updateCustomBookmarks(e,o)}const s=await this._getPagesService();return s.updateBookmarks(e,o)};this.getContentNodes=async function(){if(!t.last("/core/spaces/enabled")){const e=await this._getLaunchPageService();const t=await i.promisify(e.getGroupsForBookmarks());const a=t.map(t=>({id:e.getGroupId(t.object),label:t.title,type:u.HomepageGroup,isContainer:true}));return a}const e=await n.getServiceAsync("Menu");return e.getContentNodes()};this._changeUrlStatesToPersistent=async function(e){const t=await n.getServiceAsync("AppState");const a=t.getPersistentWhenShared();if(t.getSupportedPersistencyMethods().length===0&&a!==true){return e}if(!e||typeof e!=="string"){return e}return i.promisify(t.setAppStateToPublic(e))}}d.hasNoAdapter=true;return d},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ClientSideTargetResolution", ["sap/base/Log","sap/base/util/isPlainObject","sap/base/util/ObjectPath","sap/base/util/extend","sap/ushell/ApplicationType","sap/ushell/navigationMode","sap/ushell/services/ClientSideTargetResolution/Formatter","sap/ushell/services/ClientSideTargetResolution/InboundIndex","sap/ushell/services/ClientSideTargetResolution/InboundProvider","sap/ushell/services/ClientSideTargetResolution/ParameterMapping","sap/ushell/services/ClientSideTargetResolution/PrelaunchOperations","sap/ushell/services/ClientSideTargetResolution/Search","sap/ushell/services/ClientSideTargetResolution/StagedLogger","sap/ushell/services/ClientSideTargetResolution/SystemContext","sap/ushell/services/ClientSideTargetResolution/Utils","sap/ushell/services/ClientSideTargetResolution/VirtualInbounds","sap/ushell/services/ClientSideTargetResolution/XAppStateProcessing","sap/ui/thirdparty/jquery","sap/ushell/TechnicalParameters","sap/ushell/utils","sap/ushell/utils/UrlParsing","sap/ushell/Container"],(e,t,n,s,i,a,o,r,l,u,c,d,p,f,g,h,m,jQuery,b,y,v,S)=>{"use strict";function R(e,t,n,s){this._init.apply(this,arguments)}R.prototype._init=function(t,n,s,i){this._iLogId=0;if(!this._implementsServiceInterface(t)){e.error("Cannot get Inbounds","ClientSideTargetResolutionAdapter should implement getInbounds method","sap.ushell.services.ClientSideTargetResolution");return}this._oInboundProvider=new l(t.getInbounds.bind(t));this._oHaveEasyAccessSystemsDeferreds={userMenu:null,sapMenu:null};this._oServiceConfiguration=i;this._oAdapter=t};R.prototype._implementsServiceInterface=function(e){if(typeof e.getInbounds==="function"){return true}return false};R.prototype._extractInboundFilter=function(e){if(!this._oAdapter.hasSegmentedAccess){return undefined}if(typeof e!=="string"){return undefined}const t=e.indexOf("#")===0?e:`#${e}`;const n=v.parseShellHash(t);if(!n||!n.semanticObject||!n.action){return undefined}return[{semanticObject:n.semanticObject,action:n.action}]};R.prototype.resolveHashFragment=async function(e){const t=this._extractInboundFilter(e);const n=await this._oInboundProvider.getInbounds(t);const s=await this._resolveHashFragment(e,n);return s};R.prototype._resolveHashFragmentWithFallback=async function(t,n,s){if(typeof this._oAdapter.resolveHashFragmentFallback!=="function"){e.error("Cannot resolve hash fragment",`${t} has matched an inbound that cannot be resolved client side and no resolveHashFragmentFallback method was implemented in ClientSideTargetResolutionAdapter`,"sap.ushell.services.ClientSideTargetResolution");throw new Error("No fallback provided")}const i=await y.promisify(this._oAdapter.resolveHashFragmentFallback(t,n,s));return i};R.prototype.resolveTileIntent=async function(e){const t=this._extractInboundFilter(e);const n=await this._oInboundProvider.getInbounds(t);const s=await this._resolveTileIntent(e,n);return s};R.prototype.resolveTileIntentInContext=async function(e,t){const n=r.createIndex(e.concat(h.getInbounds()));const s=await this._resolveTileIntent(t,n);return s};R.prototype._resolveHashFragment=async function(t,n){const s=t.indexOf("#")===0?t:`#${t}`;const i=v.parseShellHash(s);if(i===undefined){e.error(`Could not parse shell hash '${t}'`,"please specify a valid shell hash","sap.ushell.services.ClientSideTargetResolution");throw new Error(`Could not parse shell hash '${t}'please specify a valid shell hash`)}i.formFactor=y.getFormFactor();let a=await this._getMatchingInbounds(i,n,{bExcludeTileInbounds:true});if(a.length===0){e.warning(`Could not resolve ${t}`,"rejecting promise","sap.ushell.services.ClientSideTargetResolution");throw new Error(`Could not resolve ${t}`)}a=this._applySapNavigationScopeFilter(a,i);const o=a[0];o.fullHash=s;function r(e,t){return this[e]===undefined?"<undefined>":t}function l(e,t){return e==="_original"?undefined:r.call(this,e,t)}if(e.getLevel()>=e.Level.DEBUG){const t=JSON.stringify(o,l,"   ");e.debug("The following target will now be resolved",t,"sap.ushell.services.ClientSideTargetResolution")}return this._resolveSingleMatchingTarget(o,s)};R.prototype._applySapNavigationScopeFilter=function(e,t){const s=t&&t.params&&t.params["sap-navigation-scope-filter"];if(!s){return e}const i=e.filter(e=>{const t=n.get("inbound.signature.parameters",e);const i=t&&t["sap-navigation-scope"];if(i){return s[0]===i.defaultValue.value}return undefined});return i.length>0?i:e};R.prototype._resolveSingleMatchingTarget=async function(t,s){const o=v.parseShellHash(s);const r=[o.semanticObject,o.action].join("-");const l=(t.inbound.resolutionResult||{}).applicationType;let d;if(this._oAdapter.resolveSystemAlias){d=(...e)=>{const t=new jQuery.Deferred;y.promisify(this._oAdapter.resolveSystemAlias.apply(this._oAdapter,e)).then(t.resolve).catch(t.reject);return t}}const p=!!t.inbound.templateContext;const f=i.getEasyAccessMenuResolver(r,l);if(f&&!p){const e=await f(o,t,d,i.WDA.enableWdaCompatibilityMode);const n=a.getNavigationMode(e,(t.intentParamsPlusAllDefaults["sap-ushell-navmode"]||[])[0],(t.intentParamsPlusAllDefaults["sap-ushell-next-navmode"]||[])[0]);y.shallowMergeObject(e,n);e.appId=t.inbound.resolutionResult.appId;e.inboundPermanentKey=t.inbound.permanentKey||t.inbound.id;return e}const g=this._getReservedParameters(t);u.mapParameterNamesAndRemoveObjects(t);const h=await S.getServiceAsync("AppState");t=await m.mixAppStateIntoResolutionResultAndRename(t,h);delete t.intentParamsPlusAllDefaults["sap-tag"];delete t.mappedIntentParamsPlusSimpleDefaults["sap-tag"];t.mappedDefaultedParamNames=t.mappedDefaultedParamNames.filter(e=>e!=="sap-tag");const b=n.get("inbound.resolutionResult.url",t);await c.executePrelaunchOperations(t,g["sap-prelaunch-operations"]);try{let n;if(i[l]){n=i[l].generateResolutionResult}else{n=()=>this._constructFallbackResolutionResult(t,s)}const o=await n(t,b,d);const r=a.getNavigationMode(o,(t.intentParamsPlusAllDefaults["sap-ushell-navmode"]||[])[0],(t.intentParamsPlusAllDefaults["sap-ushell-next-navmode"]||[])[0]);y.shallowMergeObject(o,r);o.reservedParameters=g;o.appId=t.inbound.resolutionResult.appId;o.inboundPermanentKey=t.inbound.permanentKey||t.inbound.id;if(t.inbound.resolutionResult?.appInfo){o.appInfo=t.inbound.resolutionResult.appInfo}e.debug("Intent was resolved to the following target",JSON.stringify(o,null,3),"sap.ushell.services.ClientSideTargetResolution");y.shallowMergeObject(t.resolutionResult,o);return t.resolutionResult}catch(e){if(typeof e.message==="string"&&e.message.indexOf("fallback:")>=0){const e=await this._constructFallbackResolutionResult(t,s);y.shallowMergeObject(t.resolutionResult,e);return t.resolutionResult}throw e}};R.prototype._getReservedParameters=function(e){const t=b.getParameters({injectFrom:"startupParameter"}).map(e=>e.name);const n=g.extractParameters(t,e.intentParamsPlusAllDefaults);b.getParameters({injectFrom:"inboundParameter"}).forEach(t=>{const s=t.name;const i=e.inbound&&e.inbound.signature&&e.inbound.signature.parameters;if(i&&Object.keys(i).length>0){const t=i[s];const a=t&&t.defaultValue&&t.defaultValue.hasOwnProperty("value");const o=t&&t.filter&&t.filter.hasOwnProperty("value");if(t&&(o||a)){if(a){n[s]=t.defaultValue.value}else{n[s]=t.filter.value}}else{delete n[s]}delete e.intentParamsPlusAllDefaults[s];const r=e.defaultedParamNames.indexOf(s);if(r>=0){e.defaultedParamNames.splice(r,1)}}});return n};R.prototype._resolveTileIntent=async function(t,n){const s=t.indexOf("#")===0?t:`#${t}`;const i=v.parseShellHash(s);if(i===undefined){e.error(`Could not parse shell hash '${t}'`,"please specify a valid shell hash","sap.ushell.services.ClientSideTargetResolution");throw new Error("Cannot parse shell hash")}i.formFactor=y.getFormFactor();const a=await this._getMatchingInbounds(i,n,{bExcludeTileInbounds:false});if(a.length===0){e.warning(`Could not resolve ${t}`,"no matching targets were found","sap.ushell.services.ClientSideTargetResolution");throw new Error("No matching targets found")}const o=a[0];return this._resolveSingleMatchingTileIntent(o,s)};R.prototype._resolveSingleMatchingTileIntent=async function(t,o){const r=(t.inbound.resolutionResult||{}).applicationType;let l;if(this._oAdapter.resolveSystemAlias){l=(...e)=>{const t=new jQuery.Deferred;y.promisify(this._oAdapter.resolveSystemAlias.apply(this._oAdapter,e)).then(t.resolve).catch(t.reject);return t}}u.mapParameterNamesAndRemoveObjects(t);const c=await S.getServiceAsync("AppState");t=await m.mixAppStateIntoResolutionResultAndRename(t,c);delete t.intentParamsPlusAllDefaults["sap-tag"];delete t.mappedIntentParamsPlusSimpleDefaults["sap-tag"];t.mappedDefaultedParamNames=t.mappedDefaultedParamNames.filter(e=>e!=="sap-tag");const d=n.get("inbound.resolutionResult.url",t);let p;if(i[r]){p=i[r].generateResolutionResult}else{p=()=>this._constructFallbackResolutionResult(t,o)}const f=await p(t,d,l);y.shallowMergeObject(t.resolutionResult,f);const g=s({},t.inbound.tileResolutionResult);g.startupParameters=t.effectiveParameters;const h=a.getNavigationMode(f,(t.intentParamsPlusAllDefaults["sap-ushell-navmode"]||[])[0],(t.intentParamsPlusAllDefaults["sap-ushell-next-navmode"]||[])[0]);y.shallowMergeObject(g,h);e.debug("Tile Intent was resolved to the following target",JSON.stringify(g,null,3),"sap.ushell.services.ClientSideTargetResolution");return g};R.prototype._constructFallbackResolutionResult=async function(t,n){const i={};Object.keys(t.intentParamsPlusAllDefaults).forEach(e=>{if(Array.isArray(t.intentParamsPlusAllDefaults[e])){i[e]=t.intentParamsPlusAllDefaults[e]}});const a=t.mappedDefaultedParamNames||t.defaultedParamNames;if(a.length>0){i["sap-ushell-defaultedParameterNames"]=[JSON.stringify(a)]}e.warning("Cannot resolve hash fragment client side",`${n} has matched an inbound that cannot be resolved client side. Using fallback logic`,"sap.ushell.services.ClientSideTargetResolution");const o=await this._resolveHashFragmentWithFallback(n,s({},t.inbound),i);const r={};["applicationType","additionalInformation","url","applicationDependencies","text"].forEach(e=>{if(o.hasOwnProperty(e)){r[e]=o[e]}});return r};R.prototype.getDistinctSemanticObjects=async function(){const e={};const t=await this._oInboundProvider.getInbounds();t.getAllInbounds().forEach(t=>{if(typeof t.semanticObject==="string"&&t.semanticObject!=="*"&&!t.hideIntentLink&&t.semanticObject.length>0){e[t.semanticObject]=true}});return Object.keys(e).sort()};R.prototype.getLinks=async function(n){let i;if(arguments.length===1&&t(arguments[0])){const e=arguments[0];i=s({},e);["action","semanticObject"].forEach(t=>{if(e.hasOwnProperty(t)){i[t]=e[t]}});if(i.appStateKey){i.params=i.params||{};i.params["sap-xapp-state"]=[i.appStateKey];delete i.appStateKey}}else if(arguments.length<=3){e.warning("Passing positional arguments to getLinks is deprecated","Please use nominal arguments instead","sap.ushell.services.ClientSideTargetResolution");const t=arguments[0];const n=arguments[1];const s=arguments[2];i={semanticObject:t,params:n,ignoreFormFactor:s}}else{throw new Error("Invalid arguments for getLinks")}const a=await this._oInboundProvider.getInbounds();const o=await this._getLinks(i,a);return o};R.prototype._validateGetSemanticObjectLinksArgs=function(t){const n=t.semanticObject;const s=t.action;const i=!t.hasOwnProperty("action");if(typeof n!=="undefined"||i){if(typeof n!=="string"){e.error("invalid input for _getLinks",`the semantic object must be a string, got ${Object.prototype.toString.call(n)} instead`,"sap.ushell.services.ClientSideTargetResolution");return"invalid semantic object"}if(i&&n.match(/^\s+$/)){e.error("invalid input for _getLinks",`the semantic object must be a non-empty string, got '${n}' instead`,"sap.ushell.services.ClientSideTargetResolution");return"invalid semantic object"}if(!i&&n.length===0){e.error("invalid input for _getLinks",`the semantic object must not be an empty string, got '${n}' instead`,"sap.ushell.services.ClientSideTargetResolution");return"invalid semantic object"}}if(typeof s!=="undefined"){if(typeof s!=="string"){e.error("invalid input for _getLinks",`the action must be a string, got ${Object.prototype.toString.call(s)} instead`,"sap.ushell.services.ClientSideTargetResolution");return"invalid action"}if(s.length===0){e.error("invalid input for _getLinks",`the action must not be an empty string, got '${s}' instead`,"sap.ushell.services.ClientSideTargetResolution");return"invalid action"}}return undefined};R.prototype._getLinks=async function(t,s){const i=t.semanticObject;const a=t.action;const o=t.params;const r=!!t.withAtLeastOneUsedParam;const l=!!t.treatTechHintAsFilter;const u=t.ignoreFormFactor;const c=t.hasOwnProperty("sortResultsBy")?t.sortResultsBy:"intent";if(t.hasOwnProperty("sortResultOnTexts")){e.warning("the parameter 'sortResultOnTexts' was experimental and is no longer supported",`getLinks results will be sorted by '${c}'`,"sap.ushell.services.ClientSideTargetResolution")}const d={bExcludeTileInbounds:true};const p=this._validateGetSemanticObjectLinksArgs(t);if(t.tags){d.tags=t.tags}if(p){throw new Error(p)}if(i==="*"){return[]}function f(e){const t=v.paramsToString(e);return t?`?${t}`:""}const h=y.getFormFactor();const m=v.parseParameters(f(o));const b={semanticObject:i===""?undefined:i,action:a,formFactor:u?undefined:h,params:m};if(l){b.treatTechHintAsFilter=true}const S=await this._getMatchingInbounds(b,s,d);const R={};const w=S.map(e=>{const s=i||e.inbound.semanticObject;const a=`#${s}-${e.inbound.action}`;let o;if(s==="*"){return undefined}if(e.inbound.action==="*"){return undefined}if(e.inbound&&e.inbound.hasOwnProperty("hideIntentLink")&&e.inbound.hideIntentLink===true){return undefined}if(!R.hasOwnProperty(a)){R[a]={matchingInbound:e.inbound,count:1};if(e.inbound.signature.additionalParameters==="ignored"){o=g.filterObjectKeys(m,t=>t.indexOf("sap-")===0||e.inbound.signature.parameters.hasOwnProperty(t),false)}else{o=m}if(r){const e=Object.keys(o).some(e=>e.indexOf("sap-")!==0);if(!e){R[a].hideReason="getLinks called with 'withAtLeastOneUsedParam = true', but the inbound had no business parameters defined.";return undefined}}const s=g.inboundSignatureMeetsParameterOptions(e.inbound.signature.parameters,t.paramsOptions||[]);if(!s){R[a].hideReason="inbound signature does not meet the requested parameter filter options";return undefined}const i={intent:a+f(o),text:e.inbound.title};if(e.inbound.icon){i.icon=e.inbound.icon}if(e.inbound.subTitle){i.subTitle=e.inbound.subTitle}if(e.inbound.shortTitle){i.shortTitle=e.inbound.shortTitle}const l=n.get("inbound.signature.parameters.sap-tag.defaultValue.value",e);if(l){i.tags=[l]}return i}R[a].count++;return undefined}).filter(e=>typeof e==="object");if(c!=="priority"){w.sort((e,t)=>e[c]<t[c]?-1:1)}if(w.length===0){e.debug("_getLinks returned no results")}else if(e.getLevel()>=e.Level.DEBUG){if(e.getLevel()>=e.Level.TRACE){const t=[];const n=[];w.forEach(e=>{const s=e.intent.split("?")[0];const i=R[s];let a="";if(i.hideReason){a=`(${i.hideReason})`}else if(i.count>1){a=`(${i.count-1} others matched)`}const o=`- ${s}${a}\n  text: ${e.text}\n  full intent: ${e.intent}`;if(i.hideReason){n.push(o)}else{t.push(o)}});e.debug("_getLinks filtered to the following unique intents:",`\n${t.join("\n")}`,"sap.ushell.services.ClientSideTargetResolution");e.debug("_getLinks would have also returned the following unique intents, but something prevented this:",n.join("\n"),"sap.ushell.services.ClientSideTargetResolution")}else{e.debug("_getLinks filtered to unique intents.",`Reporting histogram: \n - ${Object.keys(R).join("\n - ")}`,"sap.ushell.services.ClientSideTargetResolution")}}return w};R.prototype._getMatchingInbounds=async function(t,n,s){let i;let a;let r;let l;if(s){i=s.tags;r=s.bExcludeTileInbounds}if(e.getLevel()>=e.Level.DEBUG){a=++this._iLogId}p.begin(()=>{function e(e){const t=e.action||(typeof e.action==="undefined"?"<any>":"<invalid-value>");const n=e.semanticObject||(typeof e.semanticObject==="undefined"?"<any>":"<invalid-value>");return v.constructShellHash({semanticObject:n,action:t,params:e.params})}const n=e(t);return{logId:a,title:`Matching Intent '${n}' to inbounds (form factor: ${t.formFactor||"<any>"})`,moduleName:"sap.ushell.services.ClientSideTargetResolution",stages:["STAGE1: Find matching inbounds","STAGE2: Resolve references","STAGE3: Rematch with references","STAGE4: Sort matched targets"]}});function u(){p.end(()=>({logId:a}))}const c=t.semanticObject;const f=t.action;this._oShellHash=t;const g=i?n.getSegmentByTags(i):n.getSegment(c,f);if(r){l=g.filter(e=>!e.tileResolutionResult||!e.tileResolutionResult.isCustomTile)}else{l=g}let h=null;if(this._oAdapter.getContentProviderDataOriginsLookup){h=this._oAdapter.getContentProviderDataOriginsLookup.bind(this._oAdapter)}const m=await d.match(t,l,{},h,e.getLevel()>=e.Level.DEBUG);p.log(()=>({logId:a,stage:1,prefix:"",lines:Object.keys(m.noMatchReasons||{}).map(e=>`${e} ${m.noMatchReasons[e]}`)}));p.log(()=>{const e=m.matchResults.map(e=>o.formatInbound(e.inbound));return{logId:a,stage:1,prefix:e.length>0?"":"",lines:e.length>0?e:["No inbound was matched"]}});const b={};let y=false;let R=Object.keys(m.missingReferences);R.forEach(e=>{const t=Object.keys(m.missingReferences[e]);y=y||t.length>0;b[e]=t});R=R.filter(e=>{if(b[e].length>0){return true}delete b[e];return false});let w;if(y){try{R.forEach(e=>{p.log(()=>({logId:a,stage:2,line:`@ Must resolve the following references with contentProviderId = "${e}":`,prefix:"",lines:b[e]}))});const e=await S.getServiceAsync("ReferenceResolver");const t=await Promise.all(R.map(e=>this.getSystemContext(e)));const n=await Promise.all(R.map((n,s)=>e.resolveReferences(b[n],t[s])));const s={matchResults:m.matchResults,referencesToInclude:{}};R.forEach((e,t)=>{const i=n[t];s.referencesToInclude[e]=i;if(Object.keys(i).length>0){p.log(()=>({logId:a,stage:2,line:` resolved references with contentProviderId = "${e}" to the following values:`,prefix:"",lines:Object.keys(i).map(e=>`${e}: '${i[e]}'`)}))}});w=s}catch(e){p.log(()=>({logId:a,stage:2,prefix:"",line:`Failed to resolve references: ${e.message}`}));u();return[]}}else{p.log(()=>({logId:a,stage:2,prefix:"",line:"No need to resolve references"}));w={matchResults:m.matchResults,referencesToInclude:null}}let I;if(w.referencesToInclude){const e=w.matchResults;const n=e.map(e=>e.inbound);I=await d.match(t,n,w.referencesToInclude,h,0);p.log(()=>{const e=I.matchResults||[];if(e.length>=1){return{logId:a,stage:3,line:"The following inbounds re-matched:",lines:e.map(e=>o.formatInbound(e.inbound)),prefix:""}}return{logId:a,stage:3,line:"No inbounds re-matched",prefix:"-"}})}else{p.log(()=>({logId:a,stage:3,line:"rematch was skipped (no references to resolve)",prefix:""}));I=w}const P=I.matchResults||[];if(P.length<=1){p.log(()=>({logId:a,stage:4,line:"Nothing to sort"}));u();return P}const T=d.sortMatchingResultsDeterministic(I.matchResults||[]);p.log(()=>{const e=T.map(e=>`${o.formatInbound(e.inbound||{})+(e.matchesVirtualInbound?" (virtual)":"")}\n[ Sort Criteria ] `+`\n * 1 * sap-priority: '${e["sap-priority"]}'`+`\n * 2 * Sort string: '${e.priorityString}\n * 3 * Deterministic blob: '${d.serializeMatchingResult(e)}'`);return{logId:a,stage:4,line:"Sorted inbounds as follows:",lines:e,prefix:".",number:true}});u();return T};R.prototype._isIntentSupportedOne=async function(e,t){const n=v.parseShellHash(e);if(e==="#"){return true}if(n===undefined){throw new Error(`Could not parse shell hash '${e}'`)}n.formFactor=y.getFormFactor();const s=await this._getMatchingInbounds(n,t,{bExcludeTileInbounds:true});return s.length>0};R.prototype.isIntentSupported=async function(e){const t=await this._oInboundProvider.getInbounds();const n=await this._isIntentSupported(e,t);return n};R.prototype._isIntentSupported=async function(e,t){const n={};await Promise.all(e.map(async e=>{const s=await this._isIntentSupportedOne(e,t);n[e]={supported:s}}));return n};R.prototype.getUserDefaultParameterNames=async function(e){const t=await this._oInboundProvider.getInbounds();const n=await this._getUserDefaultParameterNames(t.getAllInbounds(),e);return n};R.prototype._getUserDefaultParameterNames=function(e,t){const n={simple:{},extended:{}};e=e.filter(e=>{if(e.contentProviderId===undefined&&t.id===""){return true}return e.contentProviderId===t.id});return S.getServiceAsync("ReferenceResolver").then(t=>{e.forEach(e=>{const s=e.signature&&e.signature.parameters||[];Object.keys(s).forEach(e=>{const i=s[e];let a;if(i){if(i.filter&&i.filter.format==="reference"){a=i.filter.value}else if(i.defaultValue&&i.defaultValue.format==="reference"){a=i.defaultValue.value}if(typeof a==="string"){const e=t.extractUserDefaultReferenceName(a);if(typeof e==="string"){n.simple[e]={}}const s=t.extractExtendedUserDefaultReferenceName(a);if(typeof s==="string"){n.extended[s]={}}}}})});return n})};R.prototype.getEasyAccessSystems=function(e){e=e||"sapMenu";if(!this._oHaveEasyAccessSystemsDeferreds[e]){this._oHaveEasyAccessSystemsDeferreds[e]=this._getEasyAccessSystems(e)}return this._oHaveEasyAccessSystemsDeferreds[e]};R.prototype._getEasyAccessSystems=async function(s){const a={};const r=i.getEasyAccessMenuDefinitions().reduce((e,t)=>{const n=t.easyAccessMenu.intent.split("-")[1];e[n]={appType:t.type,priority:t.easyAccessMenu.systemSelectionPriority};return e},{});let l;switch(s){case"userMenu":l=i.getEasyAccessMenuDefinitions().reduce((e,t)=>{const n=t.easyAccessMenu.intent;e[n]=t.easyAccessMenu.showSystemSelectionInUserMenu;return e},{});break;case"sapMenu":l=i.getEasyAccessMenuDefinitions().reduce((e,t)=>{const n=t.easyAccessMenu.intent;e[n]=t.easyAccessMenu.showSystemSelectionInSapMenu;return e},{});break;default:throw new Error(`Invalid menu type: '${s}'`)}const u=await this._oInboundProvider.getInbounds();const c={};const d=y.getFormFactor();u.getAllInbounds().filter(e=>{if(!e){return false}const t=[e.semanticObject,e.action].join("-");return l[t]&&e.deviceTypes&&d!==undefined&&e.deviceTypes[d]}).forEach(s=>{let i;if(t(s.signature.parameters["sap-system"])&&s.signature.parameters["sap-system"].hasOwnProperty("filter")){i=n.get("signature.parameters.sap-system.filter.value",s)}if(typeof i==="string"){const e=r[s.action].priority;const t=r[s.action].appType;if(!a[i]){c[i]=-1;a[i]={appType:{}}}if(c[i]<e){a[i].text=s.title;c[i]=e}a[i].appType[t]=true}else{e.warning(`Cannot extract sap-system from easy access menu inbound: ${o.formatInbound(s)}`,`This parameter is supposed to be a string. Got '${i}' instead.`,"sap.ushell.services.ClientSideTargetResolution")}});return a};R.prototype.getSystemContext=async function(e){const t=e===undefined?"":e;const n=await y.promisify(this._oAdapter.resolveSystemAlias(t));const s=f.createSystemContextFromSystemAlias(n);return s};R.hasNoAdapter=false;return R},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ClientSideTargetResolution/Formatter", [],()=>{"use strict";function e(e){const n=e||{};const t=n.parameters||{};const r={optional:"[FORMAT]",required:"FORMAT"};const o={regexp:"/VALUE/",reference:"@VALUE@",value:"VALUE",plain:"VALUE",_unknown:"?VALUE?"};const a={allowed:"<+>",notallowed:"<->",ignored:"<o>",_unknown:"<?>"};const u=t&&Object.prototype.toString.apply(t)==="[object Object]"&&Object.keys(t).length>0;if(!u){return`<no params>${a[n.additionalParameters]||a._unknown}`}const s=[];Object.keys(t).forEach(e=>{const n=t[e];const a=n.required?"required":"optional";const u=n.filter&&n.filter.value;const c=n.defaultValue&&n.defaultValue.value;const i=n.filter&&n.filter.format||"plain";const l=n.defaultValue&&n.defaultValue.format||"plain";const f=[];const p=o[i]||o._unknown;const d=o[l]||o._unknown;if(u){f.push(r.required.replace("FORMAT",p.replace("VALUE",u)))}if(c){f.push(r.optional.replace("FORMAT",d.replace("VALUE",c)))}s.push(r[a].replace("FORMAT",`${e}:${f.join("")}`))});return s.join(",")+(a[n.additionalParameters]||a._unknown)}function n(n){return`#${n.semanticObject}-${n.action}{${e(n.signature)}}`}function t(e){function n(e){const n=[{re:new RegExp(/^[/](.+)[/]$/),format:"regexp"},{re:new RegExp(/^[@](.+)[@]$/),format:"reference"},{re:new RegExp(/^[?](.+)[?]$/),format:"???"}].reduce((n,t)=>{const r=e.match(t.re);if(n){return n}if(!r){return null}return{format:t.format,value:r[1]}},null);if(n){return n}return{value:e}}function t(e){let t;let r;let o;const a="<no params>";const u="[^\\]\\[]";const s=`(${u}+?):(${u}*)(.*)`;const c=`\\[${s}\\]`;const i=`${a}|${c}|${s}`;const l=new RegExp(`^${i}$`);const f={success:false,name:null,value:{}};const p=e.match(l);if(!p){return f}const d=p.shift();while(p.length>0){o=p.shift();r=p.shift();t=p.shift();if(o){f.name=o;if(r){f.value.filter=n(r)}if(t){f.value.defaultValue=n(t.replace(/\[(.+)\]/,"$1"))}f.value.required=d.charAt(0)!=="["}}f.success=true;return f}function r(e){return[{"<+>":"allowed"},{"<->":"notallowed"},{"<o>":"ignored"}].reduce((n,t,r,o)=>{if(n){return n}const a=Object.keys(t)[0];if(e===a){return t[a]}return null},null)}function o(e){const n=[];e.split(":").reduce((e,t,r,o)=>{let a;let u;let s;if(r===0){return t}if(r<o.length-1){s=t.split(",");if(s.length>1){u=s.pop();a=s.join(",")}else{return`${e}:${t}`}}else{a=t}n.push([e,a].join(":"));return u},"");return n}const a={parameters:{}};const u=e.substr(e.length-3,3);const s=!!u.match(/<[?o+-]>/);let c=e;if(s){c=e.substr(0,e.length-3)}const i=o(c);i.forEach(n=>{const r=t(n);if(!r.success){throw new Error(`Cannot parse parameters from ${e}`)}if(r.name){a.parameters[r.name]=r.value}});if(s){const e=r(u);if(e){a.additionalParameters=r(u)}}else{a.additionalParameters="ignored"}return a}function r(e){const n=e.match(/^#(.+?)-(.+?)({(.+)})?$/);if(!n){throw new Error("Cannot parse inbound")}const r={semanticObject:n[1],action:n[2],signature:{parameters:{}}};if(!n[3]){return r}r.signature=t(n[4]);return r}return{formatInboundSignature:e,parseInboundSignature:t,parseInbound:r,formatInbound:n}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ClientSideTargetResolution/InboundIndex", ["sap/base/util/ObjectPath","sap/base/Log"],(e,n)=>{"use strict";function t(){return this.index.all}function i(e){if(e==="*"||e===undefined){return this.index.all}return(this.index.segment[e]||[]).concat(this.index.always)}function a(e){return e.map(function(e){return this.index.tag[e]||[]},this).reduce((e,n)=>{Array.prototype.push.apply(e,n.filter(e=>e.isAlreadyInUnion?false:e.isAlreadyInUnion=true));return e},[]).map(e=>{delete e.isAlreadyInUnion;return e})}const r={getSegment:i,getAllInbounds:t,getSegmentByTags:a};function s(n,t){const i=e.get("signature.parameters.sap-tag.defaultValue.value",n);if(!i){return}if(!t.tag[i]){t.tag[i]=[]}t.tag[i].push(n)}function u(e,n){const t=e.semanticObject;if(t==="*"){n.always.push(e)}else{if(!n.segment[t]){n.segment[t]=[]}n.segment[t].push(e)}}function d(e){const t={all:e,segment:{},always:[],tag:{}};e.forEach((e,i)=>{if(!e){n.warning("Void inbound provided to indexer","the inbound will be skipped");return}s(e,t);u(e,t)});r.index=t;return r}return{createIndex:d,private:{tagInbound:s,createIndex:d,segmentInbound:u}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ClientSideTargetResolution/InboundProvider", ["sap/ushell/services/ClientSideTargetResolution/VirtualInbounds","sap/ushell/services/ClientSideTargetResolution/InboundIndex","sap/ushell/utils"],(n,e,t)=>{"use strict";function i(){this._init.apply(this,arguments)}i.prototype._init=function(n){this._fnRetrieveInbounds=n;this._oInboundsRetrievalPromise=null};i.prototype.getInbounds=function(n){if(n){return this._getSomeInbounds(n)}return this._getAllInbounds()};i.prototype._getSomeInbounds=async function(i){const s=await t.promisify(this._fnRetrieveInbounds(i));return e.createIndex(s.concat(n.getInbounds()))};i.prototype._getAllInbounds=function(){if(!this._oInboundsRetrievalPromise){this._oInboundsRetrievalPromise=t.promisify(this._fnRetrieveInbounds()).then(t=>e.createIndex((t||[]).concat(n.getInbounds())))}return this._oInboundsRetrievalPromise};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ClientSideTargetResolution/ParameterMapping", ["sap/base/Log"],e=>{"use strict";function a(e,a,r){if(!r||!Array.isArray(r)){return e}if(a&&a.parameters&&a.parameters[e]&&a.parameters[e].renameTo){return a.parameters[e].renameTo}return e}function r(r){const t={};const s=r.intentParamsPlusAllDefaults;Object.keys(s).sort().forEach(n=>{const i=a(n,r.inbound.signature,s[n]);if(Array.isArray(r.intentParamsPlusAllDefaults[n])){if(t[i]){e.error(`collision of values during parameter mapping : "${n}" -> "${i}"`)}else{t[i]=r.intentParamsPlusAllDefaults[n]}}});r.mappedIntentParamsPlusSimpleDefaults=t}return{mapParameterNamesAndRemoveObjects:r,getRenameParameterName:a}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ClientSideTargetResolution/PrelaunchOperations", ["sap/base/Log","sap/base/util/deepExtend","sap/fe/navigation/SelectionVariant","sap/ushell/utils","sap/ushell/Container"],(e,t,r,a,n)=>{"use strict";const i="sap.ushell.services.ClientSideTargetResolution.PrelaunchOperations";async function s(e){if(!e){return null}return n.getServiceAsync("AppState").then(t=>new Promise((r,a)=>{t.getAppState(e).done(e=>{r(e)}).fail(e=>{a(e)})}))}async function o(e,t,r,i,s){if(e.startupParametersModified){t.mappedIntentParamsPlusSimpleDefaults=i}if(e.defaultedParameterNamesModified){t.mappedDefaultedParamNames=s}if(e.selectionVariantModified){const e=await n.getServiceAsync("AppState");const i=e.createEmptyAppState(undefined,true);i.setData({selectionVariant:r.toJSONObject()});await a.promisify(i.save());t.mappedIntentParamsPlusSimpleDefaults["sap-xapp-state"]=[i.getKey()]}return Promise.resolve(t)}function l(e){const t=e.type;switch(t){case"merge":case"split":return`${t} - source: ${e.source} & target: ${e.target}`;case"delete":return`${t} - target: ${e.target}`;default:return""}}function u(e,t){if(t.getSelectOption(e)){return t.getSelectOption(e)[0].Low}return undefined}function c(e,t){if(t.getSelectOption(e)){return t.getSelectOption(e)[0].High}return undefined}function d(e,t){if(t[e]){return t[e][0]}return undefined}function p(e,t,r){const a=e.source[0];const n=e.source[1];const i=u(a,t);const s=u(n,t);const o=d(a,r);const l=d(n,r);let c;let p;const f=e.target;function m(e,t){if(t===undefined||e===t){return e}return undefined}if(i&&s){c=m(i,o);p=m(s,l)}else if(o&&l){c=m(o,i);p=m(l,s)}if(c&&p&&!t.getSelectOption(f)&&!r.hasOwnProperty(f)){t.addSelectOption(f,"I","BT",c,p);return{selectionVariantModified:true,startupParametersModified:false,defaultedParameterNamesModified:false}}return{}}function f(t,r,a){const n=t.target;const i=t.source;if(!r.getSelectOption(i)){e.error(`Invalid split operation: ${i} does not exist in selection variant`);return false}if(r.getSelectOption(n[0])){e.error(`Invalid split operation: ${n[0]} already exists in selection variant`);return false}if(r.getSelectOption(n[1])){e.error(`Invalid split operation: ${n[1]} already exists in selection variant`);return false}if(a[n[0]]){e.error(`Invalid split operation: ${n[0]} already exists in startup parameters`);return false}if(a[n[1]]){e.error(`Invalid split operation: ${n[1]} already exists in startup parameters`);return false}return true}function m(e,t,r){const a=e.target;const n=e.source;const i=f(e,t,r);if(i){const e=u(n,t);const i=c(n,t);t.addSelectOption(a[0],"I","EQ",e,null);r[a[0]]=[e];t.addSelectOption(a[1],"I","EQ",i||e,null);r[a[1]]=[i||e];return{selectionVariantModified:true,startupParametersModified:true,defaultedParameterNamesModified:false}}return{}}function g(t,r,a,n){const i=t.target;const s={selectionVariantModified:false,startupParametersModified:false,defaultedParameterNamesModified:false};for(let t=0;t<i.length;t++){const o=i[t];if(o==="sap-xapp-state"){e.warning("Cannot execute delete: 'sap-xapp-state' is not allowed to be deleted");continue}if(r.getParameter(o)){r.removeParameter(o);s.selectionVariantModified=true}if(r.getSelectOption(o)){r.removeSelectOption(o);s.selectionVariantModified=true}if(a[o]){delete a[o];s.startupParametersModified=true}const l=n.indexOf(o);if(l>-1){n.splice(l,1);s.defaultedParameterNamesModified=true}}return s}function y(t){let r;if(t===""){return[]}t=t.replaceAll("",'"');t=t.replaceAll("",'"');try{r=JSON.parse(t)}catch(t){e.error("Cannot parse operation array: sap-prelaunch-operations should be in json format.",t);return[]}if(!Array.isArray(r)){e.error("Invalid operation array: sap-prelaunch-operations should be an array.");return[]}return r}function P(t){if(t.length===0){return null}const r={split:true,merge:true,delete:true};const a=t.filter(e=>!r[e.type]);if(a.length>0){e.error(`Invalid operation: the following sap-prelaunch-operations are invalid: ${a.join(", ")}`);return null}const n=t.some(e=>e.type==="split"&&e.target[0]===e.target[1]);if(n){e.error("Invalid operation: split operation contains the same target value. Use two different target values instead.");return null}const i=t.some(e=>{if(e.type==="split"){return!e.hasOwnProperty("source")||!e.hasOwnProperty("target")||typeof e.source!=="string"||!Array.isArray(e.target)||Object.keys(e).length!==3||Object.keys(e.target).length!==2}if(e.type==="merge"){return!e.hasOwnProperty("source")||!e.hasOwnProperty("target")||typeof e.target!=="string"||!Array.isArray(e.source)||Object.keys(e).length!==3||Object.keys(e.source).length!==2}if(e.type==="delete"){return!e.hasOwnProperty("target")||!Array.isArray(e.target)||Object.keys(e).length!==2}});if(i){e.error("Invalid operation: one or more operations are specified in an incorrect format.");return null}return t}function h(e){const t=y(e);return P(t)}function O(t,r,a,n){const s=e.getLevel()>=e.Level.DEBUG?[]:null;const o={selectionVariantModified:false,startupParametersModified:false};r.forEach(r=>{let i={};switch(r.type){case"split":i=m(r,t,a);break;case"merge":i=p(r,t,a);break;case"delete":i=g(r,t,a,n);break;default:e.error(`Invalid operation: ${r.type} prelaunch operation type is not supported`)}if(s){const e=Object.keys(i).length!==0?"":"";s.push(`${e} ${l(r)}`)}if(Object.keys(i).length===0){e.warning(`Cannot execute ${l(r)}`)}o.selectionVariantModified=o.selectionVariantModified||i.selectionVariantModified;o.startupParametersModified=o.startupParametersModified||i.startupParametersModified;o.defaultedParameterNamesModified=o.defaultedParameterNamesModified||i.defaultedParameterNamesModified});if(s){e.debug(`${i}\n${s.join("\n")}`)}return o}function v(e,a){if(!a){return Promise.resolve(e)}const n=e.mappedIntentParamsPlusSimpleDefaults;const i=e.mappedDefaultedParamNames;const l=n["sap-xapp-state"]&&n["sap-xapp-state"][0];const u=h(a);if(!u||u.length===0){return Promise.resolve(e)}return s(l).then(a=>{const s=a?a.getData():{};const l=t({},n);const c=t([],i);let d;if(s.selectionVariant){d=new r(JSON.stringify(s.selectionVariant))}else{d=new r}const p=O(d,u,l,c);return o(p,e,d,l,c)})}return{executePrelaunchOperations:v,parseAndValidateOperations:h}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ClientSideTargetResolution/Search", ["sap/ushell/utils","sap/ushell/services/ClientSideTargetResolution/Utils","sap/ushell/services/ClientSideTargetResolution/VirtualInbounds","sap/ushell/services/ClientSideTargetResolution/Formatter","sap/ushell/TechnicalParameters","sap/base/Log"],(e,t,n,r,a,i)=>{"use strict";const s=[undefined,"GUI","WDA","UI5"];function o(e,t){const n=e.inbound.resolutionResult;if(!n){return""}return["applicationType","ui5ComponentName","url","additionalInformation","text"].map(e=>{if(t){return n.hasOwnProperty(e)?`${e}:${n[e]}`:""}return n.hasOwnProperty(e)?n[e]:""}).join("")}function u(e){return e.sort((e,t)=>{if((e["sap-priority"]||0)-(t["sap-priority"]||0)!==0){return-((e["sap-priority"]||0)-(t["sap-priority"]||0))}if(e.priorityString<t.priorityString){return 1}if(e.priorityString>t.priorityString){return-1}const n=o(e);const r=o(t);if(n<r){return 1}else if(n>r){return-1}return 0})}function l(e,t){let n;if(e&&e["sap-priority"]&&e["sap-priority"][0]){n=parseInt(e["sap-priority"][0],10);if(!isNaN(n)){t["sap-priority"]=n}}return}function c(e,t,n,r){if(!t){return true}if(!e&&e!==""){return false}const a=t.value;if(t.format==="reference"){if(/UserDefault\.extended\./.test(a)){i.error(`Illegal inbound: extended user default '${a}' used as filter`);return false}if(n.hasOwnProperty(a)){return e===n[a]}r[a]=true;return true}if(t.format==="value"||t.format==="plain"||t.format===undefined){return e===t.value}else if(t.format==="regexp"){return!!e.match(`^${t.value}$`)}i.error("Illegal oFilter format");return false}function f(e){return e.inbound&&e.inbound.resolutionResult&&e.inbound.resolutionResult["sap.ui"]&&e.inbound.resolutionResult["sap.ui"].technology}function d(e){return e.inbound&&e.inbound.resolutionResult&&e.inbound.resolutionResult.appId}function p(e,t,n,r,a){const i={};const s={};Object.keys(e).forEach(t=>{if(t!=="sap-ushell-defaultedParameterNames"){i[t]=e[t]}});if(!t){return i}Object.keys(t).forEach(e=>{const a=t[e];let o;let u=false;if(!i[e]&&a.hasOwnProperty("defaultValue")){if(a.defaultValue.format&&a.defaultValue.format==="reference"){o=a.defaultValue.value;if(n.hasOwnProperty(o)){if(typeof n[o]==="string"){i[e]=[n[o]];u=true}else if(typeof n[o]==="object"){i[e]=n[o];u=true}}else{i[e]=[a.defaultValue];r.push(a.defaultValue.value)}}else{i[e]=[a.defaultValue.value];u=true}if(u){s[e]=true}}});Object.keys(s).sort().forEach(e=>{a.push(e)});return i}function m(e,t){e.resolutionResult={contentProviderId:t.contentProviderId};if(t&&t.resolutionResult&&t.resolutionResult.hasOwnProperty("sap.platform.runtime")){e.resolutionResult["sap.platform.runtime"]=t.resolutionResult["sap.platform.runtime"]}Object.keys(e.intentParamsPlusAllDefaults).slice(0).forEach(t=>{if(!Array.isArray(e.intentParamsPlusAllDefaults[t])){if(!e.resolutionResult.oNewAppStateMembers){e.resolutionResult.oNewAppStateMembers={}}e.resolutionResult.oNewAppStateMembers[t]=e.intentParamsPlusAllDefaults[t]}})}function h(e,t){e.forEach(e=>{t[e]=true})}function P(e){const t=e.intentParamsPlusAllDefaults["sap-ui-tech-hint"]&&e.intentParamsPlusAllDefaults["sap-ui-tech-hint"][0];const n=e.defaultedParamNames&&e.defaultedParamNames.indexOf("sap-ui-tech-hint")>=0;if(t&&f(e)===t){return n?1:2}return 0}function g(e){const t=e.intentParamsPlusAllDefaults["sap-ui-app-id-hint"]&&e.intentParamsPlusAllDefaults["sap-ui-app-id-hint"][0];if(t&&t===d(e)){return 1}return 0}function y(e){const t=f(e);const n=s.indexOf(t);return Math.max(0,n)}function b(e,t){function n(e){const t=`000${e}`;return t.substr(t.length-3)}return[`AIDM=${g(e)}`,`CURCP=${t.isCurrentContentProvider?"1":"0"}`,e.genericSO?"g":"x",`TECM=${P(e)}`,`MTCH=${n(t.countMatchingParams)}`,`MREQ=${n(t.countMatchingRequiredParams)}`,`NFIL=${n(t.countMatchingFilterParams)}`,`NDEF=${n(t.countDefaultedParams)}`,`POT=${n(t.countPotentiallyMatchingParams)}`,`RFRE=${n(999-t.countFreeInboundParams)}`,`TECP=${y(e)}`].join(" ")}function R(e,t){let n=false;if(e.signature.additionalParameters==="allowed"||e.signature.additionalParameters==="ignored"){return true}if(e.signature.additionalParameters==="notallowed"||e.signature.additionalParameters===undefined){n=Object.keys(t).every(t=>!(!e.signature.parameters[t]&&t.indexOf("sap-")!==0))}else{i.error("Unexpected value of inbound for signature.additionalParameters")}return n}function O(e,t,n,r,i){const s=e.signature.parameters;let o=0;let u=0;let l=0;let c=0;let f=false;const d={};function p(e){return!a.isTechnicalParameter(e)}const m=Object.keys(n).filter(p);const h=r.filter(p);Object.keys(s).filter(p).forEach(e=>{const r=t[e];const a=r&&r[0];const i=s[e];const f=n.hasOwnProperty(e);if(f){++o;if(i.filter){++l}if(i.required){++u}}else if(a===null||a===undefined){++c}});if(i){d.countPotentiallyMatchingParams=m.filter(e=>s.hasOwnProperty(e)).length}else{d.countPotentiallyMatchingParams=m.length}if(n&&n["sap-app-origin-hint"]&&(n["sap-app-origin-hint"][0]||n["sap-app-origin-hint"][0]==="")){const t=n["sap-app-origin-hint"][0];f=t===e.contentProviderId}d.countDefaultedParams=h.length;d.countMatchingParams=o;d.countMatchingRequiredParams=u;d.countMatchingFilterParams=l;d.countFreeInboundParams=c;d.isCurrentContentProvider=f;return d}function I(e,t,n,r,a,i){const s=Object.keys(e).every(n=>{const r=t[n];const s=r&&r[0];const o=e[n];if(o.required&&(s===null||s===undefined)){return false}if(o.filter){if(!c(s,o.filter,a,i)){return false}}return true});return s}function $(e,a,i,s,o){const u={inbound:a};function c(e,t,n){e.matches=false;e.noMatchReason=t;e.noMatchDebug=n;return e}function d(t){t.matches=true;t.matchesVirtualInbound=n.isVirtualInbound(a);t.parsedIntent=e;return t}const P=a.semanticObject==="*";u.genericSO=P;const g=e.semanticObject===undefined||e.semanticObject===a.semanticObject||P;if(!g){return c(u,`Semantic object "${e.semanticObject}" did not match`)}const y=e.action===undefined||e.action===a.action;if(!y){return c(u,`Action "${e.action}" did not match`)}const $=!a.deviceTypes||e.formFactor===undefined||a.deviceTypes[e.formFactor];if(!$){return c(u,`Form factor "${e.formFactor}" did not match`,`Inbound: [${Object.keys(a.deviceTypes).filter(e=>!!a.deviceTypes[e]).join(", ")}]`)}const M=e.params&&e.params["sap-ui-tech-hint"]&&e.params["sap-ui-tech-hint"][0];if(e.treatTechHintAsFilter&&M){const e=f({inbound:a});if(e!==M){return c(u,`Tech Hint as filter "${M}" did not match`,`Inbound: [${e}]`)}}const v=[];const D=[];const j=e.params||{};const A=p(j,a.signature&&a.signature.parameters,i,v,D);const w=A["sap-system"]&&A["sap-system"][0];const S=A["sap-app-origin"]&&A["sap-app-origin"][0];const T=a.contentProviderId;if(S&&S!==T){return c(u,`Content provider as filter "${S}" did not match`,`Inbound: [${T}]`)}if(w&&typeof T==="string"&&o&&!o[w]){return c(u,`Data origin "${w}" is not compatible with the content provider "${T}"`,`Inbound: [${Object.keys(o).join(", ")}]`)}u.intentParamsPlusAllDefaults=A;u.defaultedParamNames=D;l(A,u);const F=I(a.signature.parameters,A,j,D,i,s);if(!F){return c(u,"Inbound parameter signature did not match",r.formatInboundSignature(a.signature))}const C=t.constructParameterDominatorMap(a.signature.parameters);const N=t.findDominatedDefaultParameters(A,D,C);const x=D.filter(e=>!N[e]);const E=t.filterObjectKeys(A,e=>!N[e]);if(!R(a,E)){return c(u,"Additional parameters not allowed",r.formatInboundSignature(a.signature))}const k=a.signature.additionalParameters==="ignored";if(k){t.filterObjectKeys(E,e=>{if(e.indexOf("sap-")===0){return true}if(a.signature.parameters.hasOwnProperty(e)){return true}return false},true)}const V=O(a,A,j,D,k);m(u,a);u.intentParamsPlusAllDefaults=E;u.defaultedParamNames=x;u.priorityString=b(u,V);h(v,s);return d(u)}async function M(t,n,a,i,s){function o(e,t,n){const a=r.formatInbound(n);e[a]=t.noMatchReason+(t.noMatchDebug?`| DEBUG: ${t.noMatchDebug}`:"")}let u;if(i){u=await e.promisify(i())}const l=n.reduce((e,n)=>{const r=n.contentProviderId||"";const i=a[r]||{};if(!e.missingReferences[r]){e.missingReferences[r]={}}const l=$(t,n,i,e.missingReferences[r],u?u[r]:null);if(l.matches){e.matchResults.push(l)}else if(s){o(e.noMatchReasons,l,n)}return e},{matchResults:[],noMatchReasons:{},missingReferences:{}});return l}return{match:M,matchOne:$,sortMatchingResultsDeterministic:u,matchesFilter:c,checkAdditionalParameters:R,addDefaultParameterValues:p,extractSapPriority:l,serializeMatchingResult:o}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ClientSideTargetResolution/StagedLogger", ["sap/base/Log"],e=>{"use strict";const n={};function o(e){const o=e();if(!o.hasOwnProperty("logId")){throw new Error("'logId' argument was not provided in #begin method of StagedLogger.")}const t=o.logId;if(n[t]){throw new Error(`'cannot call #begin twice with same log id: '${t}'`)}else{n[t]={}}const l=n[t];l.title=o.title||null;l.moduleName=o.moduleName||null;function r(e,n){if(n===1){return e}return r(e,n-1)+e}l.stages=o.stages.map(e=>[e,r("-",e.length)]);return t}function t(e){let o;let t;const l=e();if(!l.hasOwnProperty("logId")){throw new Error("'logId' argument was not provided in #log method of StagedLogger.")}const r=l.logId;const g=l.stage;t=l.prefix;const i=l.lines;o=l.line;const s=l.number;if(!i&&o&&t){o=`${t} ${o}`}const a=n[r].stages[g-1];if(o){a.push(o)}if(i){if(t){t=(o?" ":"")+t}const e=i.map((e,n)=>(s?n+1:"")+(t?`${t} `:"")+e);a.push.apply(a,e)}}function l(o){const t=o();if(!t.hasOwnProperty("logId")){throw new Error("'logId' argument was not provided in #log method of StagedLogger.")}const l=t.logId;const r=n[l];if(typeof r!=="object"){throw new Error("Logger .end was called on an already ended logger")}const g=r.stages.map(e=>e.join("\n")).join("\n\n");e.debug(`[REPORT #${l}] ${r.title}`,`\n${g}\n`,r.moduleName);delete n[l]}function r(){return n}return{begin:function(){if(e.getLevel()>=e.Level.DEBUG){o.apply(null,arguments)}},log:function(){if(e.getLevel()>=e.Level.DEBUG){t.apply(null,arguments)}},end:function(){if(e.getLevel()>=e.Level.DEBUG){l.apply(null,arguments)}},_getLogs:r}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ClientSideTargetResolution/SystemContext", ["sap/base/util/ObjectPath","sap/ui/thirdparty/URI"],(t,e)=>{"use strict";const r={};r._getProtocol=function(){return new e(window.location.toString()).protocol()};r.createSystemContextFromSystemAlias=function(r){return{id:r.id,label:r.label||r.id,getFullyQualifiedXhrUrl:function(i){const n=new e(i).protocol();if(n==="http"||n==="https"){return i}const o=this._getProtocol();let s="";if(o==="https"){s=t.get("https.xhr.pathPrefix",r)||""}else if(o==="http"){s=t.get("http.xhr.pathPrefix",r)||""}if(s){if(i.indexOf("dynamic_dest")>-1){return i}return e.joinPaths(s,i).query(new e(i).query()).href()}return i}.bind(this),getProperty:function(e){const i=t.get("properties",r)||{};return i[e]}}};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ClientSideTargetResolution/Utils", ["sap/base/util/deepExtend"],e=>{"use strict";function t(e,t,n){const r={};t.forEach(o=>{const c=n[o].dominatedBy;const s=c.some(n=>{const r=!!e[n];const c=n!==o;const s=t.indexOf(n)===-1;return r&&s&&c});if(s){r[o]=true}});return r}function n(e){const t={};const n={};Object.keys(e).forEach(r=>{const o=e[r].renameTo||r;n[o]=n[o]||{renameTo:o,dominatedBy:[]};n[o].dominatedBy.push(r);n[o].dominatedBy=n[o].dominatedBy.sort();t[r]=n[o]});return t}function r(t,n,r){const o=r?t:e({},t);Object.keys(o).forEach(e=>{if(n(e)===false){delete o[e]}});return o}function o(e,t){const n=Object.keys(e).reduce((n,r)=>{const o=e[r];if(t(r,o)){n[r]=o}return n},{});return n}function c(e,t){return t.every(t=>{const n=t.name;const r=t.options;const o=e[n];return Object.keys(r).every(e=>{const t=r[e];if(e==="required"){return!!(o||{}).required===t}return false})})}function s(e,t){const n={};e.forEach(e=>{if(t[e]){n[e]=t[e];delete t[e]}});return n}return{inboundSignatureMeetsParameterOptions:c,filterObjectKeys:r,filterObject:o,constructParameterDominatorMap:n,findDominatedDefaultParameters:t,extractParameters:s}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ClientSideTargetResolution/VirtualInbounds", [],()=>{"use strict";const e={};const a=[{hideIntentLink:true,semanticObject:"Action",action:"search",deviceTypes:{desktop:true,tablet:true,phone:true},signature:{parameters:{},additionalParameters:"notallowed"},resolutionResult:{applicationType:"SAPUI5",ui5ComponentName:"sap.ushell.renderer.search.searchComponent",additionalInformation:"SAPUI5.Component=sap.ushell.renderer.search.searchComponent",url:sap.ui.require.toUrl("sap/ushell/renderer/search/searchComponent"),loadCoreExt:true,loadDefaultDependencies:false}},{hideIntentLink:true,semanticObject:"FLPPageTemplate",action:"manage",deviceTypes:{desktop:true,tablet:false,phone:false},signature:{parameters:{pageTemplateId:{required:false,defaultValue:{value:""}}},additionalParameters:"ignored"},resolutionResult:{applicationType:"URL",ui5ComponentName:"nw.core.flp.pagecomposer.conf",additionalInformation:"SAPUI5.Component=nw.core.flp.pagecomposer.conf",url:"/sap/bc/ui5_ui5/sap/sui_paget_man",applicationDependencies:{manifest:"/sap/bc/lrep/content/apps/nw.core.flp.pagecomposer.conf/app/sap/sui_paget_man/manifest.appdescr",name:"nw.core.flp.pagecomposer.conf",self:{name:"nw.core.flp.pagecomposer.conf",url:"/sap/bc/ui5_ui5/sap/sui_paget_man"},asyncHints:{libs:[{name:"nw.core.flp.transport.cust",url:{final:false,url:"/sap/bc/ui5_ui5/sap/sui_tr_cust"}}]}},async:true,loadDefaultDependencies:false}}];e.isVirtualInbound=function(e){return a.some(a=>a===e)};e.getInbounds=function(){return a};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ClientSideTargetResolution/XAppStateProcessing", ["sap/ushell/services/ClientSideTargetResolution/Utils","sap/base/util/ObjectPath","sap/base/util/isEmptyObject","sap/base/util/isPlainObject","sap/fe/navigation/SelectionVariant","sap/base/Log","sap/ushell/utils"],(e,t,a,n,r,s,i)=>{"use strict";function o(e){return e.oNewAppStateMembers&&!a(e.oNewAppStateMembers)}function u(e){return e.inbound&&e.inbound.signature&&e.inbound.signature.parameters&&Object.keys(e.inbound.signature.parameters).some(t=>!!e.inbound.signature.parameters[t].renameTo)}function l(e){e.defaultedParamNames=e.defaultedParamNames.filter(t=>{if(e.intentParamsPlusAllDefaults[t]&&!Array.isArray(e.intentParamsPlusAllDefaults[t])){if(!(e.resolutionResult.oNewAppStateMembers&&e.resolutionResult.oNewAppStateMembers[t])){return false}}return true})}function m(e){const a=t.get("inbound.signature.parameters",e)||{};const n={};e.defaultedParamNames.forEach(e=>{const t=a[e]&&a[e].renameTo||e;if(n[t]){s.error(`renaming of defaultedParamNames creates duplicates${e}->${t}`)}else{n[t]=true}});e.mappedDefaultedParamNames=Object.keys(n).sort()}function c(e){l(e);m(e);delete e.resolutionResult.oNewAppStateMembers}async function p(e,t){const a=await i.promisify(e.getAppState(t));return a.getData()}function d(e){return e===undefined||n(e)}function f(e,t){return Array.isArray(e)&&e.some(e=>t.indexOf(e)!==-1)}function g(e,t){if(e&&e.selectionVariant){const a=new r(JSON.stringify(e.selectionVariant));const n=a.getSelectOptionsPropertyNames()||[];const s=a.getParameterNames()||[];if(f(n,t)||f(s,t)){return true}}return false}function P(e,t,a,n){const i=new r;const o=e.getParameterNames()||[];const u=e.getSelectOptionsPropertyNames()||[];let l;let m;o.forEach(r=>{l=e.getParameter(r);if(n&&!a[r]){t.deleted=true;return}if(a[r]&&a[r].renameTo){if(i.getParameter(a[r].renameTo)===undefined&&i.getSelectOption(a[r].renameTo)===undefined){i.addParameter(a[r].renameTo,l);t.changed=true}else{s.error(`renaming of appstate creates duplicates ${r}->${a[r].renameTo}`)}}else if(i.getParameter(r)===undefined&&i.getSelectOption(r)===undefined){i.addParameter(r,l)}});u.forEach(r=>{m=e.getSelectOption(r);if(n&&!a[r]){t.deleted=true;return}if(a[r]&&a[r].renameTo){if(i.getSelectOption(a[r].renameTo)===undefined&&i.getParameter(a[r].renameTo)===undefined){i.massAddSelectOption(a[r].renameTo,m);t.changed=true}else{s.error(`renaming of appstate creates duplicates ${r}->${a[r].renameTo}`)}}else if(i.getSelectOption(r)===undefined&&i.getParameter(r)===undefined){i.massAddSelectOption(r,m)}});o.forEach(t=>{e.removeParameter(t)});u.forEach(t=>{e.removeSelectOption(t)});i.getParameterNames().forEach(t=>{e.addParameter(t,i.getParameter(t))});i.getSelectOptionsPropertyNames().forEach(t=>{e.massAddSelectOption(t,i.getSelectOption(t))});return e}async function S(e,t){const a=e.getData()||{};let n;const s={};const u=t.inbound.signature;const l=t.resolutionResult;if(a.selectionVariant){n=new r(JSON.stringify(a.selectionVariant))}else{n=new r}if(o(l)){Object.keys(l.oNewAppStateMembers).forEach(e=>{n.massAddSelectOption(e,l.oNewAppStateMembers[e].Ranges)})}const m=u.additionalParameters==="ignored";n=P(n,s,u.parameters,m);if(n.getParameterNames().length!==0||n.getSelectOptionsPropertyNames().length!==0||s.deleted){a.selectionVariant=n.toJSONObject()}if(!s.changed&&!s.deleted&&!o(l)){c(t);return}e.setData(a);await i.promisify(e.save());t.intentParamsPlusAllDefaults["sap-xapp-state"]=[e.getKey()];t.mappedIntentParamsPlusSimpleDefaults["sap-xapp-state"]=[e.getKey()];c(t)}async function b(t,a){let n;const r=t.resolutionResult;const s=t.inbound&&(t.inbound.signature||{});const i=o(r)||s.additionalParameters==="ignored"||u(t);if(!i){c(t);return t}const l=t.intentParamsPlusAllDefaults["sap-xapp-state"]&&t.intentParamsPlusAllDefaults["sap-xapp-state"][0];if(l){const i=await p(a,l);if(d(i)){if(o(r)){const t=e.constructParameterDominatorMap(s.parameters);Object.keys(r.oNewAppStateMembers).forEach(e=>{const a=t[e].dominatedBy;if(g(i,a)){delete r.oNewAppStateMembers[e]}})}const l=s.additionalParameters==="ignored";if(!o(r)&&!u(t)&&!l){c(t);return t}n=a.createEmptyAppState(undefined,true);if(n){n.setData(i);await S(n,t);return t}}else{delete r.oNewAppStateMembers;c(t);return t}}if(o(r)){const e=a.createEmptyAppState(undefined,true);await S(e,t);return t}c(t);return t}return{mixAppStateIntoResolutionResultAndRename:b,_hasRenameTo:u}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/CommonDataModel", ["sap/ushell/services/CommonDataModel/PersonalizationProcessor","sap/ushell/services/CommonDataModel/vizTypeDefaults/VizTypeDefaults","sap/base/util/ObjectPath","sap/ui/thirdparty/jquery","sap/base/util/isPlainObject","sap/ushell/services/CommonDataModel/SiteConverter","sap/base/util/isEmptyObject","sap/base/util/deepClone","sap/base/util/deepExtend","sap/base/util/extend","sap/base/util/Version","sap/ushell/Config","sap/base/util/values","sap/ushell/library","sap/ushell/utils","sap/ushell/adapters/cdm/v3/_LaunchPage/readApplications","sap/base/Log","sap/ushell/Container"],(e,t,i,jQuery,o,s,r,n,a,l,p,c,u,h,g,d,f,y)=>{"use strict";const P=h.DisplayFormat;const _=h.ContentNodeType;const m="sap.ushell.services.CommonDataModel";function z(t,i,o,r){this._oAdapter=t;this._oPersonalizationProcessor=new e;this._oSiteConverter=new s;this._oSiteDeferred=new jQuery.Deferred;this._oOriginalSite={};this._bPersonalizationLoadingFailed=false;this._oPersonalizedSiteForCDMVersion30={};this._bLoadPersonalizationForCDMVersion30Late=false;this._oPersonalizedPages={};this._oPersonalizationDeltasForCDMVersion31={};this._mGetPagesPromises={};this._pGetSiteFromAdapter=t.getSite().then(e=>{this._oOriginalSite=a({},e);const t=new p(e._version);if(t.compareTo("3.1.0")<0){const t=g.isFlpHomeIntent();if(t){this._loadAndApplyPersonalizationForCDMVersion30(e)}else{this._bLoadPersonalizationForCDMVersion30Late=true}}else{this._prepareSiteForCDMVersion31()}return e}).fail(e=>{this._oSiteDeferred.reject(e);this._bLoadPersonalizationForCDMVersion30Late=false})}z.prototype._loadAndApplyPersonalizationForCDMVersion30=async function(e){try{const t=await this._getPersonalization(e._version);this._oPersonalizedSiteForCDMVersion30=await this._triggerMixinPersonalizationInSite(e,t);this._oSiteDeferred.resolve(this._oPersonalizedSiteForCDMVersion30)}catch(e){this._oSiteDeferred.reject(e)}};z.prototype._prepareSiteForCDMVersion31=function(){this._ensureStandardVizTypesPresent(this._oOriginalSite).then(()=>{this._ensureProperDisplayFormats(this._oOriginalSite);this._oSiteDeferred.resolve(this._oOriginalSite)})};z.prototype._applyPagePersonalization=function(e,t){const i=e.identification.id;if(Object.keys(t).length){const e=t.classicHomePage;if(e&&e.version==="3.1.0"){Object.keys(e).forEach(i=>{if(!t[i]){t[i]=e[i]}});delete t.classicHomePage;t._version=t.version}const i=new p(t._version||t.version);if(i.compareTo("3.1.0")<0){t={classicHomePage:t,_version:"3.1.0",version:"3.1.0"}}}this._oPersonalizationDeltasForCDMVersion31=t;const o=n(t[i],20)||{};const s=this._oSiteConverter.convertTo("3.0.0",n(e,20));return this._triggerMixinPersonalizationInSite(s,o).then(e=>{this._oPersonalizedPages[i]=this._oSiteConverter.convertTo("3.1.0",n(e,20));return this._oPersonalizedPages[i]})};z.prototype._migratePersonalizedPages=async function(e){if(typeof this._oAdapter.migratePersonalizedPages!=="function"){return e}const t=await this._oAdapter.migratePersonalizedPages(e);if(t.length){await this.save(t)}return e};z.prototype._triggerMixinPersonalizationInSite=async function(e,t){const i=await g.promisify(this._oPersonalizationProcessor.mixinPersonalization(e,t));this._ensureCompleteSite(i);this._ensureGroupsOrder(i);await this._ensureStandardVizTypesPresent(i);this._ensureProperDisplayFormats(i);return i};z.prototype.getHomepageGroups=function(){const e=new jQuery.Deferred;this.getSite().then(t=>{const i=t&&t.site&&t.site.payload&&t.site.payload.groupsOrder?t.site.payload.groupsOrder:[];e.resolve(i)});return e.promise()};z.prototype.getGroups=function(){const e=new jQuery.Deferred;this.getSite().then(t=>{const i=[];Object.keys(t.groups).forEach(e=>{i.push(t.groups[e])});e.resolve(i)});return e.promise()};z.prototype.getGroup=function(e){const t=new jQuery.Deferred;this.getSite().then(i=>{const o=i.groups[e];if(o){t.resolve(o)}else{t.reject(new Error(`Group ${e} not found`))}});return t.promise()};z.prototype.getSite=function(){if(this._bLoadPersonalizationForCDMVersion30Late){this.getSiteWithoutPersonalization().then(e=>this._loadAndApplyPersonalizationForCDMVersion30(e));this._bLoadPersonalizationForCDMVersion30Late=false}return this._oSiteDeferred.promise()};z.prototype.getSiteWithoutPersonalization=function(){return this._pGetSiteFromAdapter};z.prototype.getPage=async function(e){const t=c.last("/core/shell/enablePersonalization");const i=c.last("/core/spaces/myHome/enabled");const o=c.last("/core/spaces/myHome/myHomePageId");await this._pGetSiteFromAdapter;if(this._oPersonalizedPages[e]){return this._oPersonalizedPages[e]}if(t||i&&e===o){let t;let i;let o;try{t=await this._getPageFromAdapter(e);i=await this._getPersonalization(this._oOriginalSite._version)}catch(t){f.error(`CommonDataModel Service: Cannot get page ${e}`,t);throw t}try{o=await this._applyPagePersonalization(t,i)}catch(e){f.error("CommonDataModel Service: Cannot mixin the personalization",e);throw e}const s=await this._migratePersonalizedPages([o]);return s[0]}return this._getPageFromAdapter(e)};z.prototype._getPageFromAdapter=async function(e){if(!this._oAdapter.getPage){return n(this._oOriginalSite.pages[e],20)}const t=await this._oAdapter.getPage(e);const i=await this.getCachedVisualizations();const o=await this.getCachedVizTypes();this._oOriginalSite.pages[e]=t;this._oOriginalSite.visualizations=i;this._oOriginalSite.vizTypes=o;return n(t,20)};z.prototype._filterForProperPages=function(e){return e.filter(e=>!!e)};z.prototype.getPages=function(e){const t=c.last("/core/shell/enablePersonalization");const i=c.last("/core/spaces/myHome/enabled");const o=c.last("/core/spaces/myHome/myHomePageId");let s;if(this._mGetPagesPromises[e.toString()]){s=this._mGetPagesPromises[e.toString()]}else{s=Promise.resolve(this._pGetSiteFromAdapter).then(()=>{if(t||i){return Promise.all([this._getPagesFromAdapter(e),this._getPersonalization(this._oOriginalSite._version)]).catch(e=>{f.error("CommonDataModel Service: Cannot get pages",e);throw new Error("CommonDataModel Service: Cannot get pages")}).then(e=>{const i=e[0];const s=e[1];return Promise.all(Object.keys(i).map(e=>{if(this._oPersonalizedPages[e]){return Promise.resolve(this._oPersonalizedPages[e])}if(!t&&e!==o){return Promise.resolve(i[e])}return this._applyPagePersonalization(i[e],s).catch(e=>{f.error("Personalization Processor: Cannot mixin the personalization.",e);throw new Error("Personalization Processor: Cannot mixin the personalization.")})})).then(e=>this._migratePersonalizedPages(e)).then(e=>this._filterForProperPages(e))})}return this._getPagesFromAdapter(e).then(e=>this._filterForProperPages(u(e)))});this._mGetPagesPromises[e.toString()]=s}return s};z.prototype._getPagesFromAdapter=async function(e){if(!this._oAdapter.getPages){const t={};for(const i in this._oOriginalSite.pages){if(e.includes(this._oOriginalSite.pages[i].identification.id)){t[i]=this._oOriginalSite.pages[i]}}return n(t,20)}const t=await this._oAdapter.getPages(e);const i=await this.getCachedVisualizations();const o=await this.getCachedVizTypes();this._oOriginalSite.visualizations=i;this._oOriginalSite.vizTypes=o;Object.keys(t).forEach(e=>{this._oOriginalSite.pages[e]=t[e]});return n(t,20)};z.prototype.getAllPages=async function(e){if(e&&e.personalizedPages){return this._getAllPersonalizedPages()}const t=await this._getAssignedPageIds();return this.getPages(t)};z.prototype._getAssignedPageIds=async function(){const e=await y.getServiceAsync("Menu");const t=await e.getContentNodes();const i=[];t.forEach(e=>{this._collectPageIds(e,i)});return i};z.prototype._collectPageIds=function(e,t){if(e.type===_.Page){if(t.indexOf(e.id)===-1){t.push(e.id)}}if(e.children!==undefined){e.children.forEach(e=>{this._collectPageIds(e,t)})}};z.prototype._getAllPersonalizedPages=async function(){await this._pGetSiteFromAdapter;const e=await this._getAssignedPageIds();const t=await this._getPersonalization(this._oOriginalSite._version);const i=[];Object.keys(t).forEach(o=>{if(o==="version"||o==="_version"){return}if(!e.includes(o)){return}const s=t[o];if(Object.keys(s).length>1){i.push(o)}});if(i.length>0){return this.getPages(i)}return[]};z.prototype.getApplications=function(){return new Promise((e,t)=>{this.getSite().then(i=>{const o=i.applications;if(o){e(o)}else{t(new Error("CDM applications not found."))}}).fail(t)})};z.prototype.getVizTypes=async function(){if(typeof this._oAdapter.getVizTypes==="function"){const e=await this._getSiteProperty("vizTypes");const t=await this._oAdapter.getVizTypes();return l(e,t)}return this.getCachedVizTypes()};z.prototype.getCachedVizTypes=async function(){let e;if(typeof this._oAdapter.getCachedVizTypes==="function"){e=await this._oAdapter.getCachedVizTypes()}const t=await this._getSiteProperty("vizTypes");return l(t,e)};z.prototype.getVizType=async function(e){let t;if(typeof this._oAdapter.getVizType==="function"){t=await this._oAdapter.getVizType(e)}const i=await this._getSiteProperty("vizTypes");if(t){i[e]=t}return i[e]};z.prototype.getVisualizations=async function(){if(typeof this._oAdapter.getVisualizations==="function"){const e=await this._getSiteProperty("visualizations");const t=await this._oAdapter.getVisualizations();return l(e,t)}return this.getCachedVisualizations()};z.prototype.getCachedVisualizations=async function(){let e;if(typeof this._oAdapter.getCachedVisualizations==="function"){e=await this._oAdapter.getCachedVisualizations()}const t=await this._getSiteProperty("visualizations");return l(t,e)};z.prototype._getSiteProperty=function(e){return new Promise((t,o)=>{this.getSite().then(s=>{const r=i.get(e,s);if(r){t(r)}else{const t=e.toString();o(new Error(`CDM ${t} not found.`))}}).fail(o)})};z.prototype.getGroupFromOriginalSite=function(e){const t=new jQuery.Deferred;if(typeof e==="string"&&this._oOriginalSite&&this._oOriginalSite.groups&&this._oOriginalSite.groups[e]){t.resolve(a({},this._oOriginalSite.groups[e]))}else{t.reject(new Error("Group does not exist in original site."))}return t.promise()};z.prototype.getOriginalPage=function(e){return n(this._oOriginalSite.pages[e],20)};z.prototype.save=function(e){const t=new jQuery.Deferred;if(this._bPersonalizationLoadingFailed){const e="Prior personalization loading failed, cancelling save to prevent data loss. Saving this personalization will only be possible after reloading the FLP again.";f.error(e,null,m);t.reject(new Error(e));return t.promise()}if(this._oOriginalSite._version==="3.1.0"){if(!e){return t.reject(new Error("No page id was provided")).promise()}if(typeof e==="string"){e=[e]}this._saveCdmVersion31(e).then(t.resolve).catch(t.reject)}else{this._saveCdmVersion30().then(t.resolve).catch(t.reject)}return t.promise()};z.prototype._saveCdmVersion30=function(){const e=this._oOriginalSite;const t=this._oPersonalizedSiteForCDMVersion30;return new Promise((i,o)=>{this._oPersonalizationProcessor.extractPersonalization(n(t,20),n(e,20)).done(i).fail(o)}).catch(e=>{f.error("Personalization Processor: Cannot extract personalization.",e,m);throw new Error("Personalization Processor: Cannot extract personalization.")}).then(e=>{if(r(e)){return Promise.resolve()}return this._setPersonalization(e)})};z.prototype._saveCdmVersion31=function(e){const t=e.map(e=>{const t=this._oSiteConverter.convertTo("3.0.0",this._oOriginalSite.pages[e]);const i=this._oSiteConverter.convertTo("3.0.0",this._oPersonalizedPages[e]);return new Promise((o,s)=>{this._oPersonalizationProcessor.extractPersonalization(n(i,20),n(t,20)).done(t=>{o({pageId:e,personalization:t})}).fail(t=>{f.error(`Cannot extract personalization of page ${e}:`,t,m);o()})})});return Promise.all(t).then(e=>{let t=false;e.forEach(e=>{if(!e){return}if(!r(e.personalization)){t=true;if(this._oPersonalizationDeltasForCDMVersion31.version===undefined||this._oPersonalizationDeltasForCDMVersion31._version===undefined){this._oPersonalizationDeltasForCDMVersion31.version=this._oOriginalSite._version;this._oPersonalizationDeltasForCDMVersion31._version=this._oOriginalSite._version}this._oPersonalizationDeltasForCDMVersion31[e.pageId]=e.personalization}});if(t){return this._setPersonalization(this._oPersonalizationDeltasForCDMVersion31)}return Promise.resolve()})};z.prototype._getPersonalization=function(e){return g.promisify(this._oAdapter.getPersonalization(e)).catch(e=>{f.error("Could not get page personalization",e,m);this._bPersonalizationLoadingFailed=true;return{}})};z.prototype._setPersonalization=function(e,t){if(this._oPendingPersonalizationDeferred){if(!this._oNextPersonalizationQuery){this._oNextPersonalizationQuery={fnNextCall:null,aPromiseResolvers:[]}}return new Promise((i,o)=>{this._oNextPersonalizationQuery.fnNextCall=this._setPersonalization.bind(this,e,t);this._oNextPersonalizationQuery.aPromiseResolvers.push({resolve:i,reject:o})})}this._oPendingPersonalizationDeferred=this._oAdapter.setPersonalization(e,t);return new Promise((e,t)=>{this._oPendingPersonalizationDeferred.then(e).fail(t).always(()=>{delete this._oPendingPersonalizationDeferred;if(this._oNextPersonalizationQuery){const e=this._oNextPersonalizationQuery.fnNextCall();this._cleanupPersonalizationQueuePromises(e,this._oNextPersonalizationQuery.aPromiseResolvers);delete this._oNextPersonalizationQuery}})})};z.prototype._cleanupPersonalizationQueuePromises=function(e,t){t.forEach(t=>{e.then(t.resolve).catch(t.reject)})};z.prototype.registerContentProvider=function(){f.error("CommonDataModel.registerContentProvider is obsolete and should not be used.")};z.prototype._ensureCompleteSite=function(e){if(!e.groups){return}const t=e.groups;Object.keys(t).forEach(e=>{if(!t[e]){delete t[e]}else{if(!t[e].payload){t[e].payload={}}if(!t[e].payload.links){t[e].payload.links=[]}if(!t[e].payload.tiles){t[e].payload.tiles=[]}if(!t[e].payload.groups){t[e].payload.groups=[]}}})};z.prototype._ensureGroupsOrder=function(e){const t=i.get("site.payload.groupsOrder",e);const o=e.groups;let s=0;if(!t){return}while(s<t.length){const e=t[s];if(!o[e]){t.splice(s,1)}else{s++}}};z.prototype.getPlugins=function(){function e(e,t){const o=Object.keys(t).length;if(o===0){return{}}if(o>1){f.warning(`Multiple inbounds are defined for plugin '${e}'`,"Plugin startup configuration will be determined using "+"the first signature inbound with semanticObject:Shell and action:plugin for plugin.",m)}const s=Object.values(t).find(e=>e&&e.semanticObject==="Shell"&&e.action==="plugin");if(s===undefined){f.error(`Cannot find inbound with semanticObject:Shell and action:plugin for plugin '${e}'`,"plugin startup configuration cannot be determined correctly",m);return{}}const r=i.get("signature.parameters",s)||{};return Object.keys(r).reduce((e,t)=>{const o=i.get(`${t}.defaultValue.value`,r);if(typeof o==="string"){e[t]=o}return e},{})}let t;return function(s){if(s!==undefined){t=s}if(t){return jQuery.when(t)}t={};return this.getSiteWithoutPersonalization().then(s=>{const r=s.applications||{};Object.keys(r).filter(function(e){return i.get("type",this[e]["sap.flp"])==="plugin"},r).forEach(function(s){const r=this[s];let n={};if(!o(r["sap.platform.runtime"])){f.error(`Cannot find 'sap.platform.runtime' section for plugin '${s}'`,"plugin might not be started correctly","sap.ushell.services.CommonDataModel")}else if(!o(r["sap.platform.runtime"].componentProperties)){f.error(`Cannot find 'sap.platform.runtime/componentProperties' section for plugin '${s}'`,"plugin might not be started correctly","sap.ushell.services.CommonDataModel")}else{n=r["sap.platform.runtime"].componentProperties}t[s]={url:n.url,component:r["sap.ui5"].componentName};const a=i.get("crossNavigation.inbounds",r["sap.app"])||{};const p=e(s,a);const c=l(n.config||{},p);if(c){t[s].config=c}if(n.asyncHints){t[s].asyncHints=n.asyncHints}const u=i.get("deviceTypes",r["sap.ui"]);if(u){t[s].deviceTypes=u}},r);return g.deepFreeze(t)})}}();z.prototype._mapDisplayFormats=function(e){const t={tile:P.Standard,standard:P.Standard,link:P.Compact,compact:P.Compact,flat:P.Flat,flatWide:P.FlatWide,tileWide:P.StandardWide,standardWide:P.StandardWide};const i=Object.keys(t).filter(t=>e.indexOf(t)>-1);return i.map(e=>t[e])};z.prototype._ensureProperDisplayFormats=function(e){if(e.vizTypes){Object.keys(e.vizTypes).forEach(t=>{if(e.vizTypes[t]["sap.flp"]&&e.vizTypes[t]["sap.flp"].vizOptions){const o=e.vizTypes[t];const s=i.get("vizOptions.displayFormats.supported",o["sap.flp"]);const r=i.get("vizOptions.displayFormats.default",o["sap.flp"]);if(s){e.vizTypes[t]["sap.flp"].vizOptions.displayFormats.supported=this._mapDisplayFormats(s)}if(r){e.vizTypes[t]["sap.flp"].vizOptions.displayFormats.default=this._mapDisplayFormats([r])[0]}}})}if(e.hasOwnProperty("pages")){Object.keys(e.pages).forEach(t=>{const i=e.pages[t];if(i.payload&&i.payload.sections){const e=i.payload.sections;Object.keys(e).forEach(t=>{const i=e[t];Object.keys(i.viz).forEach(e=>{const t=i.viz[e];if(t.displayFormatHint){const e=this._mapDisplayFormats([t.displayFormatHint])[0];t.displayFormatHint=e||t.displayFormatHint}})})}})}else if(e.hasOwnProperty("groups")){Object.keys(e.groups).forEach(t=>{const i=e.groups[t];i.payload.tiles.forEach(e=>{if(e.displayFormatHint){const t=this._mapDisplayFormats([e.displayFormatHint])[0];e.displayFormatHint=t||e.displayFormatHint}})})}};z.prototype._ensureStandardVizTypesPresent=async function(e){if(!(e._version&&e._version.startsWith("3."))){return}if(!e.vizTypes){e.vizTypes={}}const i=await t.getAll();Object.keys(i).forEach(t=>{e.vizTypes[t]=e.vizTypes[t]||i[t]})};z.prototype.getMenuEntries=async function(e){const t=await this.getSite();const o=i.get(`menus.${e}.payload.menuEntries`,t);return n(o)||[]};z.prototype.getContentProviderIds=async function(){const e=await this.getSite();const t=Object.keys(e.systemAliases);const i={};u(e.applications).forEach(e=>{const o=d.getContentProviderId(e);if(t.includes(o)){i[o]=true}});return Object.keys(i)};z.hasNoAdapter=false;return z},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/CommonDataModel/PersonalizationProcessor", ["sap/base/Log","sap/base/util/deepClone","sap/base/util/extend","sap/base/util/isEmptyObject","sap/base/util/ObjectPath","sap/ui/thirdparty/jquery"],(e,r,i,o,t,jQuery)=>{"use strict";function s(){}s.prototype._getItemIndex=function(e,r){let i;for(i=0;i<e.length;i++){if(e[i].id===r){break}}i=i>=e.length?-1:i;return i};s.prototype._applyRenameGroup=function(e,r,i){let o;let t=false;if(!r){return false}if(e&&i&&i.groups&&i.groups[e]){o=i.groups[e];if(o.identification&&o.identification.title){i.groups[e].identification.title=r;t=true}}return t};s.prototype._applyGroupVisibility=function(e,r,i){let o=false;if(r===undefined){return false}if(e&&i&&i.groups&&i.groups[e]){i.groups[e].identification.isVisible=r;o=true}return o};s.prototype.mixinPersonalization=function(e,r){const i=new jQuery.Deferred;const t=this;if(!r||o(r)){return i.resolve(e).promise()}if(r.groups){Object.keys(r.groups).forEach(i=>{const o=r.groups[i];if(e.groups[i]){if(o.identification){if(o.identification.title){t._applyRenameGroup(i,o.identification.title,e)}if(o.identification.hasOwnProperty("isVisible")&&o.identification.isVisible===false){t._applyGroupVisibility(i,false,e)}}}})}this._applyAddGroups(e,r);if(r.removedGroups&&Array.isArray(r.removedGroups)){r.removedGroups.forEach(r=>{t._applyRemoveGroup(e,r)})}this._applyMoveGroup(e,r);this._applyItemChanges(e,r);this._applyTileSettings(e,r);return i.resolve(e).promise()};s.prototype._applyAddGroups=function(e,i){const o=[];e.site=e.site||{};e.site.payload=e.site.payload||{};e.site.payload.groupsOrder=e.site.payload.groupsOrder||[];e.groups=e.groups||{};if(Array.isArray(i.groupOrder)){e.site.payload.groupsOrder.forEach(e=>{if(i.groupOrder.indexOf(e)===-1){if(i.removedGroups&&i.removedGroups.indexOf(e)===-1||!i.removedGroups){o.push(e)}}})}if(Array.isArray(i.groupOrder)&&i.addedGroups&&Object.keys(i.addedGroups).length>0){Object.keys(i.addedGroups).forEach(o=>{e.groups[o]=r(i.addedGroups[o],20);e.groups[o].payload.isPreset=false});e.site.payload.groupsOrder=i.groupOrder}o.forEach(r=>{e.site.payload.groupsOrder.push(r)})};s.prototype._checkRenameGroup=function(e,r,i,o){if(e&&r&&i){if(i[e]){if(r[e].identification.title!==i[e].identification.title){o=o||{};o.groups=o.groups||{};o.groups[e]=o.groups[e]||{};o.groups[e].identification=o.groups[e].identification||{};o.groups[e].identification.title=r[e].identification.title}}}return o};s.prototype._applyTileSettings=function(e,r){if(!r.modifiedTiles){return}const i=Object.keys(e.groups).map(function(e){return this[e]},e.groups);const o=Object.keys(r.modifiedTiles).map(function(e){return this[e]},r.modifiedTiles);i.some(e=>{["tiles","links"].forEach(r=>{if(e.payload[r]){e.payload[r].some(e=>{let r;o.some((i,o)=>{if(i.id===e.id){if(i.title!==undefined){e.title=i.title}if(i.subTitle!==undefined){e.subTitle=i.subTitle}if(i.info!==undefined){e.info=i.info}if(i.displayFormatHint!==undefined){e.displayFormatHint=i.displayFormatHint}r=o;return true}return false});if(r!==undefined){o.splice(r,1)}return o.length===0})}});return o.length===0})};s.prototype._checkGroupVisibility=function(e,r,i,o){if(e&&r&&i){if(i[e]){if(r[e].identification.isVisible!==i[e].identification.isVisible&&typeof r[e].identification.isVisible==="boolean"){o=o||{};o.groups=o.groups||{};o.groups[e]=o.groups[e]||{};o.groups[e].identification=o.groups[e].identification||{};o.groups[e].identification.isVisible=r[e].identification.isVisible}}}return o};s.prototype._addGroupToPersonalizationDelta=function(e,r,o){let t=false;let s;let a;if(e&&e.site&&e.site.payload&&e.site.payload.groupsOrder&&e.groups&&o&&e.groups[o]&&r){s=e.site.payload.groupsOrder;a=e.groups[o];r.addedGroups=r.addedGroups||{};r.addedGroups[o]={};r.addedGroups[o].identification=i({},a.identification);r.addedGroups[o].payload=i({},a.payload);r.addedGroups[o].payload.tiles=[];r.addedGroups[o].payload.links=[];r.groupOrder=s;t=true}return t};s.prototype.extractPersonalization=function(e,r){const i=new jQuery.Deferred;let t;const s={};let a;let l;const p=this;if(e&&e.groups&&r&&r.groups){t=e.groups;a=r.groups;l=this._getExtractHelperObject(r,e,s);Object.keys(a).forEach(i=>{p._checkRemoveGroup(e,s,i);p._extractFromOriginalSiteOneGroup(r,l,i,"tiles");p._extractFromOriginalSiteOneGroup(r,l,i,"links")});Object.keys(t).forEach(r=>{if(a[r]){p._checkRenameGroup(r,t,a,s);p._checkGroupVisibility(r,t,a,s)}else{p._addGroupToPersonalizationDelta(e,s,r)}p._extractFromPersonalizedSiteOneGroup(e,l,r,"tiles");p._extractFromPersonalizedSiteOneGroup(e,l,r,"links")});this._checkMoveGroup(e,r,s);this._cleanupRemovedGroups(r,s);if(l.oPersonalizationDelta.movedTiles&&o(l.oPersonalizationDelta.movedTiles)){delete l.oPersonalizationDelta.movedTiles}if(l.oPersonalizationDelta.movedLinks&&o(l.oPersonalizationDelta.movedLinks)){delete l.oPersonalizationDelta.movedLinks}}if(r._version){s._version=r._version}return i.resolve(s).promise()};s.prototype._checkRemoveGroup=function(e,r,i){let o=false;if(e&&e.groups&&r&&i){if(!e.groups[i]){r.removedGroups=r.removedGroups||[];r.groupOrder=r.groupOrder||[];if(r.removedGroups.indexOf(i)===-1){r.removedGroups.push(i)}if(e.site&&e.site.payload&&e.site.payload.groupsOrder&&Array.isArray(e.site.payload.groupsOrder)){r.groupOrder=e.site.payload.groupsOrder.slice(0)}}o=true}return o};s.prototype._applyRemoveGroup=function(e,r){let i;let o;let t;if(e&&e.groups&&e.site&&e.site.payload&&e.site.payload.groupsOrder&&r){i=e.groups;o=e.site.payload.groupsOrder;t=o.indexOf(r);if(!(t===-1)){o.splice(t,1);delete i[r];return true}}return false};s.prototype._checkMoveGroup=function(e,r,i){let o;let t;let s=false;let a=false;if(e.site&&e.site.payload&&Array.isArray(e.site.payload.groupsOrder)&&r.site&&r.site.payload&&Array.isArray(r.site.payload.groupsOrder)){o=e.site.payload.groupsOrder;t=r.site.payload.groupsOrder;if(o.length===t.length){s=function(){let e=false;let r;for(r=0;r<t.length;r++){if(t[r]!==o[r]){e=true;break}}return e}();if(s){i.groupOrder=o;a=true}}}return a};s.prototype._applyMoveGroup=function(e,r){let i=false;if(Array.isArray(r.groupOrder)){e.site=e.site||{};e.site.payload=e.site.payload||{};if(!Array.isArray(e.site.payload.groupsOrder)){e.site.payload.groupsOrder=[]}if(e.site.payload.groupsOrder.length===r.groupOrder.length){e.site.payload.groupsOrder=r.groupOrder;i=true}}return i};s.prototype._getHashedItemsFromSite=function(e){let r=null;if(e&&e.groups){if(Object.keys(e.groups).length>0){r={};Object.keys(e.groups).forEach(i=>{const o=e.groups[i];let t;r[i]={};if(o.payload){["tiles","links"].forEach(e=>{r[i][e]={};if(Array.isArray(o.payload[e])){t=o.payload[e];t.forEach((o,t)=>{let s;if(o&&o.id){s=o.id;r[i][e][s]={iIndex:t,sItemId:o}}})}})}})}}return r};s.prototype._getExtractHelperObject=function(e,r,i){let o=null;o={};o.oHashedItemsOriginal=this._getHashedItemsFromSite(e)||{};o.oHashedItemsPersonalized=this._getHashedItemsFromSite(r);o.oPersonalizationDelta=i;return o};s.prototype._extractFromOriginalSiteOneGroup=function(e,r,i,o){let t=false;let s;let a;let l="movedTiles";o=o||"tiles";if(o!=="tiles"){l="movedLinks"}function p(e,r){a[e]=a[e]?a[e]:{};a[e].fromGroup=r;a[e].toGroup=null}if(r&&r.oHashedItemsPersonalized&&r.oPersonalizationDelta&&e&&e.groups&&e.groups[i]&&e.groups[i].payload&&Array.isArray(e.groups[i].payload[o])){s=e.groups[i].payload[o];r.oPersonalizationDelta[l]=r.oPersonalizationDelta[l]?r.oPersonalizationDelta[l]:{};a=r.oPersonalizationDelta[l];if(r.oHashedItemsPersonalized[i]){s.forEach(e=>{if(!r.oHashedItemsPersonalized[i][o][e.id]){p(e.id,i)}});t=true}else{s.forEach(e=>{p(e.id,i)});t=true}}return t};s.prototype._extractPersonalizationDeltaForTile=function(e,r,i,s){const a=t.get(["oHashedItemsOriginal",i,s,e.id,"sItemId"],r);if(!a){return false}const l={};if(e.title!==a.title){l.title=e.title}if(e.subTitle!==a.subTitle){l.subTitle=e.subTitle}if(e.info!==a.info){l.info=e.info}if(e.displayFormatHint!==a.displayFormatHint&&!(e.displayFormatHint==="default"&&!a.displayFormatHint)){l.displayFormatHint=e.displayFormatHint}if(o(l)){return false}if(!r.oPersonalizationDelta.modifiedTiles){r.oPersonalizationDelta.modifiedTiles={}}const p=r.oPersonalizationDelta.modifiedTiles;l.id=e.id;p[e.id]=l;return true};s.prototype._extractFromPersonalizedSiteOneGroup=function(r,i,o,t){let s=false;let a;let l;let p=false;let n;const u=this;let d="movedTiles";t=t||"tiles";if(t!=="tiles"&&t!=="links"){return s}if(t!=="tiles"){d="movedLinks"}if(i&&i.oPersonalizationDelta&&r&&r.groups&&r.groups[o]&&r.groups[o].payload&&Array.isArray(r.groups[o].payload[t])){n=r.groups[o].payload[t];i.oPersonalizationDelta[d]=i.oPersonalizationDelta[d]?i.oPersonalizationDelta[d]:{};a=i.oPersonalizationDelta[d];l=[];n.forEach((r,s)=>{if(!r){return}l.push(r.id);if(i.oHashedItemsOriginal[o]&&i.oHashedItemsOriginal[o][t][r.id]){if(a[r.id]){e.error("Extract personalization failed",`The Tile ID ${r.id} is not unique in the site`,"PersonalizationProcessor");delete a[r.id]}if(i.oHashedItemsOriginal[o][t][r.id].iIndex!==s){p=true}u._extractPersonalizationDeltaForTile(r,i,o,t)}else{p=true;if(a[r.id]){if(a[r.id].fromGroup&&a[r.id].fromGroup!==o){if(!a[r.id].toGroup){a[r.id].toGroup=o;u._extractPersonalizationDeltaForTile(r,i,a[r.id].fromGroup,t)}}}else{a[r.id]={};a[r.id].fromGroup=null;a[r.id].toGroup=o;a[r.id].item=r}}});if(p){i.oPersonalizationDelta.groups=i.oPersonalizationDelta.groups||{};i.oPersonalizationDelta.groups[o]=i.oPersonalizationDelta.groups[o]||{};i.oPersonalizationDelta.groups[o].payload=i.oPersonalizationDelta.groups[o].payload||{};if(t==="tiles"){i.oPersonalizationDelta.groups[o].payload.tileOrder=l}else{i.oPersonalizationDelta.groups[o].payload.linkOrder=l}}s=true}return s};s.prototype._cleanupRemovedGroups=function(e,r){let i;let o;if(r.removedGroups&&r&&Array.isArray(r.removedGroups)&&r.removedGroups.length>0){r.removedGroups.forEach(t=>{if(e&&e.groups&&e.groups[t]&&e.groups[t].payload){[{sType:"tiles",sPersonalizationDeltaType:"movedTiles"},{sType:"links",sPersonalizationDeltaType:"movedLinks"}].forEach(s=>{if(Array.isArray(e.groups[t].payload[s.sType])){i=e.groups[t].payload[s.sType];i.forEach(e=>{if(r[s.sPersonalizationDeltaType]){o=r[s.sPersonalizationDeltaType][e.id];if(o&&o.fromGroup&&o.fromGroup===t&&!o.toGroup){delete r[s.sPersonalizationDeltaType][e.id]}}})}})}})}};s.prototype._setItemOrderOnSiteCollection=function(e,r){let i=true;const o=e.length;const t={};let s;let a;let l;let p;if(!Array.isArray(e)||!Array.isArray(e)||e.length!==r.length){return false}const n=e.splice(0,e.length);for(s=0;s<r.length;s++){l=r[s];a=n.shift();if(a&&l===a.id){e.push(a)}else if(t[l]){e.push(t[l]);delete t[l];if(a){t[a.id]=a}}else if(a){t[a.id]=a;p=false;while(n.length>0){a=n.shift();if(l===a.id){e.push(a);p=true;break}else{t[a.id]=a}}if(!p){i=false}}}if(e.length!==o){i=false}return i};s.prototype._setItemOrderOnSiteGroupForItemType=function(e,r,i){let o=true;let t;let s;if(i==="tiles"||i==="links"){s=i==="tiles"?"tileOrder":"linkOrder"}else{return false}if(r.payload&&Array.isArray(r.payload[s])&&r.payload[s].length>0){if(e.payload&&Array.isArray(e.payload[i])&&e.payload[i].length>0){t=this._setItemOrderOnSiteCollection(e.payload[i],r.payload[s]);if(!t){o=false}}else{o=false}}return o};s.prototype._setItemOrderOnSite=function(e,r){let i=true;let o;const t=this;if(e.groups&&r.groups){Object.keys(r.groups).forEach(s=>{if(r.groups[s]&&e.groups[s]){o=t._setItemOrderOnSiteGroupForItemType(e.groups[s],r.groups[s],"tiles");if(!o){i=false}o=t._setItemOrderOnSiteGroupForItemType(e.groups[s],r.groups[s],"links");if(!o){i=false}}})}return i};s.prototype._applyMoveItemsWithoutOrder=function(e,r,i){let t=true;let s;let a;let l="tileOrder";let p;let n;let u;let d=[];const f=this;function y(o,t){let s=true;if(e.groups[t]&&e.groups[t].payload&&r.groups&&r.groups[t]&&r.groups[t].payload&&Array.isArray(r.groups[t].payload[l])&&r.groups[t].payload[l].length>0){if(!Array.isArray(e.groups[t].payload[i])){e.groups[t].payload[i]=[]}e.groups[t].payload[i].push(o)}else{s=false}return s}if(i==="tiles"||i==="links"){a=i==="tiles"?"movedTiles":"movedLinks";l=i==="tiles"?"tileOrder":"linkOrder"}else{return false}if(!e||!e.groups||!e.site||!e.site.payload||!Array.isArray(e.site.payload.groupsOrder)||!r){return false}if(r[a]){Object.keys(r[a]).forEach(l=>{p=r[a][l];if(p.fromGroup){if(p.toGroup){if(p.fromGroup!==p.toGroup){if(e.groups[p.fromGroup]&&e.groups[p.fromGroup].payload&&Array.isArray(e.groups[p.fromGroup].payload[i])){d=e.groups[p.fromGroup].payload[i];n=f._getItemIndex(d,l);if(n>=0){u=d.splice(n,1);s=y(u[0],p.toGroup);if(!s){t=false}}else{t=false}}else{t=false}}else{t=false}}else if(e.groups[p.fromGroup]&&e.groups[p.fromGroup].payload&&Array.isArray(e.groups[p.fromGroup].payload[i])){d=e.groups[p.fromGroup].payload[i];n=f._getItemIndex(d,l);if(n>=0){d.splice(n,1)}else{t=false}}else{t=false}}else if(p.toGroup){if(p.item&&!o(p.item)){s=y(p.item,p.toGroup);if(!s){t=false}}else{t=false}}else{t=false}})}return t};s.prototype._applyItemChanges=function(e,r){let i=true;let o;o=this._applyMoveItemsWithoutOrder(e,r,"tiles");if(!o){i=false}o=this._applyMoveItemsWithoutOrder(e,r,"links");if(!o){i=false}if(r.groups){o=this._setItemOrderOnSite(e,r);if(!o){i=false}}return i};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/CommonDataModel/SiteConverter", ["sap/base/Log"],e=>{"use strict";function i(){}i.prototype.convertTo=function(i,t){if(t._version==="3.0.0"||t.identification&&t.payload){switch(i){case"3.0.0":return this._convertPageToSite(t);case"3.1.0":return this._convertSiteToPage(t);default:e.error("The received version for the site/page conversion is not supported");return{}}}else{e.error("The site converter did not receive a correct page/site object.");return{}}};i.prototype._convertPageToSite=function(e){const i={groups:{},_version:"3.0.0",site:{identification:e.identification,payload:{groupsOrder:e.payload.layout.sectionOrder}}};const t=e.payload.sections;for(let o=0;o<Object.keys(t).length;o++){const r=Object.keys(t)[o];const a=e.payload.sections[r];i.groups[r]={identification:{id:a.id,title:a.title},payload:{tiles:this._convertVizPayloadObjectToArray(a)}};if("visible"in a){i.groups[r].identification.isVisible=a.visible}if("preset"in a){i.groups[r].payload.isPreset=a.preset}if("locked"in a){i.groups[r].payload.locked=a.locked}if("default"in a){i.groups[r].payload.isDefaultGroup=a.default}}return i};i.prototype._convertSiteToPage=function(e){const i={identification:e.site.identification,payload:{layout:{sectionOrder:e.site.payload.groupsOrder},sections:{}}};const t=e.groups;let o;let r;let a;for(let n=0;n<Object.keys(t).length;n++){o=Object.keys(t)[n];r=e.groups[o];a=this._createVizPayloadObject(r.payload.tiles);i.payload.sections[o]={id:r.identification.id,title:r.identification.title,layout:a.layout,viz:a.viz};const s=i.payload.sections[o];if("isVisible"in r.identification){s.visible=r.identification.isVisible}if("isPreset"in r.payload){s.preset=r.payload.isPreset}if("locked"in r.payload){s.locked=r.payload.locked}if("isDefaultGroup"in r.payload){s.default=r.payload.isDefaultGroup}}return i};i.prototype._createVizPayloadObject=function(e){const i=[];const t={};const o=e.reduce((e,t)=>{i.push(t.id);e[t.id]=t;return e},{});t.layout={vizOrder:i};t.viz=o;return t};i.prototype._convertVizPayloadObjectToArray=function(e){return e.layout.vizOrder.reduce((i,t)=>{i.push(e.viz[t]);return i},[])};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/CommonDataModel/vizTypeDefaults/VizTypeDefaults", ["sap/base/Log","sap/ui/core/Manifest","sap/base/util/deepClone","sap/base/util/extend","sap/base/util/isEmptyObject","sap/base/util/ObjectPath"],(s,e,a,t,n,i)=>{"use strict";const l={STATIC_LAUNCHER:"sap.ushell.StaticAppLauncher",DYNAMIC_LAUNCHER:"sap.ushell.DynamicAppLauncher",CARD:"sap.ushell.Card"};class c{static#s=null;#e=null;static async getAll(){if(!c.#s){c.#s=new c}return c.#s._getAll()}async _getAll(){if(!this.#e){this.#e={};const s={};s[l.STATIC_LAUNCHER]="sap/ushell/components/tiles/cdm/applauncher/manifest.json";s[l.DYNAMIC_LAUNCHER]="sap/ushell/components/tiles/cdm/applauncherdynamic/manifest.json";s[l.CARD]="sap/ushell/services/CommonDataModel/vizTypeDefaults/cardManifest.json";await Promise.all(Object.keys(s).map(async e=>{const a=s[e];const t=await this._loadManifest(a);this.#e[e]=t}))}return this.#e}async _loadManifest(s){const t=sap.ui.require.toUrl(s);const n=await e.load({manifestUrl:t,async:true});return a(n.getRawJson())}}return c});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Configuration", ["sap/ushell/Config","sap/ui/thirdparty/jquery","sap/ushell/Container"],(e,jQuery,t)=>{"use strict";function s(){this.attachSizeBehaviorUpdate=function(t){const s=e.on("/core/home/sizeBehavior");s.do(t);return{detach:s.off}};this.getAppsSystems=function(){const e=new jQuery.Deferred;t.getServiceAsync("CommonDataModel").then(t=>{t.getSiteWithoutPersonalization().done(t=>{const s=t&&t.systemAliases&&JSON.parse(JSON.stringify(t.systemAliases))||{};e.resolve(s)}).catch(()=>{e.resolve({})})}).catch(()=>{e.resolve({})});return e.promise()}}s.hasNoAdapter=true;return s},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ConfigurationDefaults", ["sap/base/Log","sap/ushell/bootstrap/common/common.create.configcontract.core"],(t,e)=>{"use strict";function n(t){const n=e.getDefaultConfiguration();this.getDefaults=async function(e){const a=await t.getDefaultConfig();return e.reduce((t,e)=>{let o;if(this._isValidConfigPath(e)){const t=e.split("/");const r=t.pop();let i=a;for(let e=0;e<t.length&&i;e++){i=i[t[e]]}if(i&&i.hasOwnProperty(r)){o={defaultValue:i[r]}}else if(n.hasOwnProperty(e)){o={defaultValue:n[e]}}}if(o&&o.hasOwnProperty("defaultValue")&&typeof o.defaultValue==="undefined"){o.defaultValue=null}t[e]=o;return t},{})}}n.prototype._isValidConfigPath=function(e){if(!e||typeof e!=="string"){t.warning("Configuration path should be string");return false}if(e.length===0){t.warning("Configuration path can not be empty string");return false}if(e.charAt(0)==="/"){t.warning(`Configuration path should not start with '/': ${e}`);return false}return true};n.hasNoAdapter=false;return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Container", ["sap/ushell/Container","sap/base/Log"],(e,s)=>{"use strict";s.warning("The use of sap/ushell/services/Container is deprecated. Please use sap/ushell/Container instead!");return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ContentExtensionAdapterFactory", ["sap/ushell/Config","sap/ushell/services/_ContentExtensionAdapterFactory/ContentExtensionAdapterConfig"],(t,e)=>{"use strict";const n={};n.getAdapters=async function(e){const r=n._getConfigAdapters(e);const s={};const i=r.map(async e=>{if(!t.last(e.configSwitch)){return}const r=await n._getAdapter(e);s[e.contentProviderName]=r});await Promise.all(i);return s};n._getConfigAdapters=function(t){if(!t){t=e._getConfigAdapters()}if(!Array.isArray(t)){t=[t]}return t};n._getAdapter=function(t){return new Promise((e,n)=>{const r=t.adapter.replaceAll(".","/");sap.ui.require([r],n=>{if(!n){e(null);return}const r={config:t.configHandler?.()||{}};e(new n(t.system,null,r))},n)})};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/CrossApplicationNavigation", ["sap/ushell/services/AppConfiguration","sap/ushell/services/_CrossApplicationNavigation/utils","sap/ushell/utils/type","sap/ushell/TechnicalParameters","sap/ushell/appIntegration/AppLifeCycle","sap/base/util/deepExtend","sap/base/util/isPlainObject","sap/ui/thirdparty/jquery","sap/base/util/ObjectPath","sap/base/util/merge","sap/ushell/utils","sap/ushell/ApplicationType","sap/ushell/UI5ComponentType","sap/base/Log","sap/ushell/utils/UrlParsing","sap/base/util/deepClone","sap/ui/base/Object","sap/ushell/api/common/ComponentInstantiation","sap/ushell/Container"],(t,e,n,a,s,i,r,jQuery,o,p,c,l,u,h,f,g,m,y,d)=>{"use strict";function A(l,u,A){let v;if(A&&A.config){v=A.config}function S(a,s){let i;let o;let p;if(typeof a!=="string"&&!r(a)&&a!==undefined){h.error("Unexpected input type",null,"sap.ushell.services.CrossApplicationNavigation");return undefined}if(a===undefined){return undefined}const c=t.getCurrentApplication();if(s){if(typeof s.getComponentData!=="function"||!r(s.getComponentData())||!s.getComponentData().startupParameters||!r(s.getComponentData().startupParameters)){h.error("Cannot call getComponentData on component","the component should be an application root component","sap.ushell.services.CrossApplicationNavigation")}else{const t=s.getComponentData().startupParameters;if(t.hasOwnProperty("sap-system")){i=t["sap-system"][0]}if(t.hasOwnProperty("sap-ushell-next-navmode")){o=t["sap-ushell-next-navmode"][0]}}}else{if(c&&c["sap-system"]){i=c["sap-system"]}else if(c&&c.url){i=new URL(c.url,window.location.href).searchParams.get("sap-system")}if(c&&c["sap-ushell-next-navmode"]){o=c["sap-ushell-next-navmode"]}else if(c&&c.url){o=new URL(c.url,window.location.href).searchParams.get("sap-ushell-next-navmode")}}if(c){p=c.contentProviderId}const l=e._injectParameters({type:n,inject:{"sap-system":i,"sap-ushell-navmode":o,"sap-app-origin-hint":p},injectEmptyString:{"sap-app-origin-hint":true},args:a});return l}function C(t){if(localStorage&&localStorage["sap-ushell-enc-test"]==="false"){return t}if(!v||!v["sap-ushell-enc-test"]){if(localStorage&&localStorage["sap-ushell-enc-test"]!=="true"){return t}}if(typeof t!=="string"&&!r(t)&&t!==undefined){h.error("Unexpected input type",null,"sap.ushell.services.CrossApplicationNavigation");return undefined}if(t===undefined){return undefined}if(r(t)){const e=i({},t);if(e.target&&e.target.shellHash){if(typeof e.target.shellHash==="string"){if(e.target.shellHash!=="#"&&e.target.shellHash!==""){e.target.shellHash=C(e.target.shellHash)}}return e}e.params=e.params||{};e.params["sap-ushell-enc-test"]=["A B%20C"];return e}let e=t;if(!/[?&]sap-system=/.test(e)){const t=e.indexOf("?")>-1?"&":"?";e+=`${t}sap-ushell-enc-test=${encodeURIComponent("A B%20C")}`}return e}this._extractInnerAppRoute=function(t){if(typeof t==="string"){const e=t.split("&/");const n=e.shift();return{intent:n,innerAppRoute:e.length>0?`&/${e.join("&/")}`:""}}if(Object.prototype.toString.apply(t)==="[object Object]"){const e=o.get("target.shellHash",t);if(typeof e==="string"){const n=this._extractInnerAppRoute(e);t.target.shellHash=n.intent;return{intent:t,innerAppRoute:n.innerAppRoute}}if(t.hasOwnProperty("appSpecificRoute")){const e=t.appSpecificRoute;delete t.appSpecificRoute;const n=typeof e==="string"&&e.indexOf("&/")!==0&&e.length>0;return{innerAppRoute:n?`&/${e}`:e,intent:t}}return{intent:t,innerAppRoute:""}}h.error("Invalid input parameter","expected string or object","sap.ushell.services.CrossApplicationNavigation");return{intent:t}};this._injectInnerAppRoute=function(t,e){if(!e){return t}if(typeof t==="string"){return t+e}if(Object.prototype.toString.apply(t)==="[object Object]"){const n=o.get("target.shellHash",t);if(typeof n==="string"){t.target.shellHash=this._injectInnerAppRoute(n,e);return t}t.appSpecificRoute=e}return t};this.hrefForExternal=function(t,i,r){if(typeof i!=="object"&&i!==undefined&&i!==null){r=i;i=undefined}if(r){const e=this.hrefForExternalAsync(t,i);return c.toDeferred(e)}h.error("Deprecated option 'bAsync=false'. Please use 'bAsync=true' instead",null,"sap.ushell.services.CrossApplicationNavigation");let o=p({},t);const l=this._extractInnerAppRoute(o);const u=l.intent;e.addXAppStateFromParameter(u,"sap-xapp-state-data");o=S(u,i);o=e.injectStickyParameters({args:o,appLifeCycle:s,technicalParameters:a,type:n});o=C(o);o=this._injectInnerAppRoute(o,l.innerAppRoute);const f=d.getService("ShellNavigationInternal");if(!f){h.debug("Shell not available, no Cross App Navigation");return""}return f.hrefForExternalSync(o,undefined,i)};this.hrefForExternalAsync=async function(t,i){let r=p({},t);const o=this._extractInnerAppRoute(r);const l=o.intent;try{await e.addXAppStateFromParameterAsync(l,"sap-xapp-state-data");r=S(l,i);const t=await e.injectStickyParametersAsync({args:r,appLifeCycle:s,technicalParameters:a,type:n});r=t;r=C(r);r=this._injectInnerAppRoute(r,o.innerAppRoute);const p=await d.getServiceAsync("ShellNavigationInternal");const u=p.hrefForExternal(r,undefined,i);return c.promisify(u)}catch(t){h.debug("Shell not available, no Cross App Navigation");return""}};this.expandCompactHash=function(t){const e=Promise.resolve().then(async()=>{const e=await d.getServiceAsync("NavTargetResolutionInternal");const n=e.expandCompactHash(t);return c.promisify(n)});return c.toDeferred(e)};this.backToPreviousApp=async function(){const t=await this.isInitialNavigationAsync();if(t){return this.toExternal({target:{shellHash:"#"},writeHistory:false})}this.historyBack()};this.historyBack=function(t){let e=-1;if(t&&typeof t==="number"){if(t<=0){h.warning("historyBack called with an argument <= 0 and will result in a forward navigation or refresh","expected was an argument > 0","sap.ushell.services.CrossApplicationNavigation#historyBack")}e=t*-1}window.history.go(e)};this.isInitialNavigation=function(){h.error("Deprecated API call of 'sap.ushell.CrossApplicationNavigation.isInitialNavigation'. Please use 'isInitialNavigationAsync' instead",null,"sap.ushell.services.CrossApplicationNavigation");const t=d.getService("ShellNavigationInternal");if(!t){h.debug("ShellNavigationInternal service not available","This will be treated as the initial navigation","sap.ushell.services.CrossApplicationNavigation");return true}const e=t.isInitialNavigation();if(typeof e==="undefined"){return true}return e};this.isInitialNavigationAsync=async function(){try{const t=await d.getServiceAsync("ShellNavigationInternal");const e=t.isInitialNavigation();if(typeof e==="undefined"){return true}return e}catch(t){h.debug("ShellNavigationInternal service not available","This will be treated as the initial navigation","sap.ushell.services.CrossApplicationNavigation");return true}};this.toExternal=async function(t,i){const r=t.writeHistory;let o=p({},t);const c=p({},o);this._processShellHashWithParams(o);const l=this._extractInnerAppRoute(o);const u=l.intent;try{const t=await d.getServiceAsync("AppLifeCycle");const p=await d.getServiceAsync("ShellNavigationInternal");const h=t.getCurrentApplication();const f=h&&await h.getIntent();this._checkIfAppNeedsToBeReloaded(c,h,f,p.hashChanger);await e.addXAppStateFromParameterAsync(u,"sap-xapp-state-data");o=S(u,i);const g=await e.injectStickyParametersAsync({args:o,appLifeCycle:s,technicalParameters:a,type:n});o=g;o=C(o);delete o.writeHistory;o=this._injectInnerAppRoute(o,l.innerAppRoute);return await p.toExternal(o,i,r)}catch(t){h.error("CrossAppNavigation.toExternal failed",t,"sap.ushell.services.CrossApplicationNavigation")}};this._checkIfAppNeedsToBeReloaded=function(t,e,n,a){if(!e||!n||!t||!t.target){return}if(t.target.shellHash){const e=f.parseShellHash(t.target.shellHash)||{};t.target={semanticObject:e.semanticObject,action:e.action,contextRaw:e.contextRaw};t.appSpecificRoute=e.appSpecificRoute;t.params=Object.assign({},t.params,e.params)}if(t.appSpecificRoute){return}if(e.applicationType!=="UI5"){return}if(t.target.semanticObject!==n.semanticObject){return}if(t.target.action!==n.action){return}const s={params:{}};if(t.params){Object.keys(t.params).forEach(e=>{const n=t.params[e];const a=Array.isArray(n)?n:[n];s.params[e]=a.map(t=>t.toString())})}if(!f.haveSameIntentParameters(s,n)){return}a.setReloadApplication(true)};this.hrefForAppSpecificHash=function(t){h.error("Deprecated API call of 'sap.ushell.CrossApplicationNavigation.hrefForAppSpecificHash'. Please use 'hrefForAppSpecificHashAsync' instead",null,"sap.ushell.services.CrossApplicationNavigation");const e=d.getService("ShellNavigationInternal");if(e){return e.hrefForAppSpecificHash(t)}h.debug("Shell not available, no Cross App Navigation; fallback to app-specific part only");return`#${encodeURI(t)}`};this.hrefForAppSpecificHashAsync=async function(t){try{const e=await d.getServiceAsync("ShellNavigationInternal");return e.hrefForAppSpecificHash(t)}catch(e){h.debug("Shell not available, no Cross App Navigation; fallback to app-specific part only");return`#${encodeURI(t)}`}};this.getPrimaryIntent=function(t,e){const n={};let a;const s=/^#\w+-displayFactSheet(?:$|\?.)/;n.tags=["primaryAction"];n.semanticObject=t;if(e){n.params=e}return this.getLinks(n).then(t=>{if(t.length===0){delete n.tags;n.action="displayFactSheet";a=function(t,e){if(t.intent===e.intent){return 0}const n=s.test(t.intent)^s.test(e.intent);if(n){return s.test(t.intent)?-1:1}return t.intent<e.intent?-1:1};return this.getLinks(n)}a=function(t,e){if(t.intent===e.intent){return 0}return t.intent<e.intent?-1:1};return t}).then(t=>t.length===0?null:t.sort(a)[0])};this.getSemanticObjectLinks=function(t,i,r,o,p,l){const u=Promise.resolve().then(()=>e.injectStickyParametersAsync({args:{params:i},appLifeCycle:s,technicalParameters:a,type:n})).then(e=>{e=S(e,o).params;e=C({params:e}).params;let n;if(Array.isArray(t)){n=[];t.forEach(t=>{n.push([{semanticObject:t[0],params:t[1],ignoreFormFactor:!!t[2],ui5Component:t[3],appStateKey:t[4],compactIntents:!!t[5]}])})}else{n={semanticObject:t,params:e,ignoreFormFactor:r,ui5Component:o,appStateKey:p,compactIntents:!!l}}return Promise.all([d.getServiceAsync("NavTargetResolutionInternal"),n])}).then(t=>{const e=t[0];const n=t[1];return c.invokeUnfoldingArrayArguments(e.getLinks.bind(e),[n])});return c.toDeferred(u)};this.getLinks=function(t){const e=c.invokeUnfoldingArrayArguments(this._getLinks.bind(this),[t]);return c.toDeferred(e)};this._getLinks=async function(t){if(typeof t==="undefined"){t={}}let r=i({},t);r.compactIntents=!!r.compactIntents;r.action=r.action||undefined;r.paramsOptions=e.extractGetLinksParameterOptions(r.params);const o=await e.injectStickyParametersAsync({args:r,appLifeCycle:s,technicalParameters:a,type:n});r=o;let p;if(r.params){p=e.extractGetLinksParameterDefinition(r.params)}else{p=r.params}let l=S({params:p},r.ui5Component).params;l=C({params:l}).params;if(r.appStateKey){l["sap-xapp-state"]=[r.appStateKey];delete r.appStateKey}r.params=l;const u=await d.getServiceAsync("NavTargetResolutionInternal");const h=u.getLinks(r);return c.promisify(h)};this.getDistinctSemanticObjects=function(){const t=Promise.resolve().then(async()=>{const t=await d.getServiceAsync("NavTargetResolutionInternal");const e=t.getDistinctSemanticObjects();return c.promisify(e)});return c.toDeferred(t)};this.isIntentSupported=function(t,e){const n=Promise.resolve().then(async()=>{const n={};const a=t.map(t=>{const a=S(t,e);n[a]=t;return a});const s=await d.getServiceAsync("NavTargetResolutionInternal");const i=s.isIntentSupported(a);const r=await c.promisify(i);const o={};Object.keys(r).forEach(t=>{o[n[t]]=r[t]});return o});return c.toDeferred(n)};this.isNavigationSupported=function(t,e){const n=Promise.resolve().then(async()=>{const n=g(t).map(t=>{const n=this._extractInnerAppRoute(t);return S(n.intent,e)});const a=await d.getServiceAsync("NavTargetResolutionInternal");const s=a.isNavigationSupported(n);return c.promisify(s)});return c.toDeferred(n)};this.isUrlSupported=async function(t){if(typeof t!=="string"){throw new Error("Input is not a string")}if(!f.isIntentUrl(t)){return}const e=f.getHash(t);const n={target:{shellHash:e}};const a=this.isNavigationSupported([n]);const s=await c.promisify(a);if(s[0].supported){return}throw new Error("Navigation not supported")};this.createComponentInstance=function(t,e,n){const a=Promise.resolve().then(async()=>{const a=this._checkComponentConfig(e);if(a){throw new Error(a)}const s=e?.componentData;return y.createComponentInstance(t,s,n)});return c.toDeferred(a)};this.createComponentData=async function(t,e){const n=this._checkComponentConfig(e);if(n){throw new Error(n)}const a=e?.componentData;return y.createComponentInstantiationData(t,a)};this._checkComponentConfig=function(t){if(t){const e=Object.keys(t).length;if(e>1||e===1&&!t.componentData){return"`oConfig` argument should either be an empty object or contain only the `componentData` property."}}return null};this.createEmptyAppState=function(t,e,n,a){h.error("Deprecated API call of 'sap.ushell.CrossApplicationNavigation.createEmptyAppState'. Please use 'createEmptyAppStateAsync' instead",null,"sap.ushell.services.CrossApplicationNavigation");const s=d.getService("AppState");if(!m.isA(t,"sap.ui.core.UIComponent")){throw new Error("The passed oAppComponent must be a UI5 Component.")}return s.createEmptyAppState(t,e,n,a)};this.createEmptyAppStateAsync=async function(t,e,n,a){if(!m.isA(t,"sap.ui.core.UIComponent")){throw new Error("The passed oAppComponent must be a UI5 Component.")}const s=await d.getServiceAsync("AppState");return s.createEmptyAppState(t,e,n,a)};this.getStartupAppState=function(t){this._checkComponent(t);const e=t.getComponentData();const n=e&&e["sap-xapp-state"];const a=n&&n[0];return this.getAppState(t,a)};this._checkComponent=function(t){if(!m.isA(t,"sap.ui.core.UIComponent")){throw new Error("oComponent passed must be a UI5 Component")}};this.getAppState=function(t,e){const n=Promise.resolve().then(async()=>{this._checkComponent(t);const n=await d.getServiceAsync("AppState");if(typeof e!=="string"){if(e!==undefined){h.error("Illegal Argument sAppStateKey ")}await c.awaitTimeout(0);const a=n.createEmptyUnmodifiableAppState(t);return a}const a=n.getAppState(e);return c.promisify(a)});return c.toDeferred(n)};this.getAppStateData=function(t){const e=c.invokeUnfoldingArrayArguments(this._getAppStateData.bind(this),[t]);return c.toDeferred(e)};this._getAppStateData=function(t){const e=Promise.resolve().then(async()=>{const e=await d.getServiceAsync("AppState");if(typeof t!=="string"){if(t!==undefined){h.error("Illegal Argument sAppStateKey ")}await c.awaitTimeout(0);return}const n=e.getAppState(t);const a=await c.promisify(n);return a.getData()}).catch(()=>{});return c.toDeferred(e)};this.saveMultipleAppStates=function(t){const e=Promise.resolve().then(async()=>{const e=t.map(t=>t.save());return Promise.all(e)});return c.toDeferred(e)};this._processShellHashWithParams=function(t){if(t?.processParams===true&&t?.target?.shellHash&&t?.params){const e=f.parseShellHash(t.target.shellHash);t.target={semanticObject:e.semanticObject,action:e.action,contextRaw:e.contextRaw};t.appSpecificRoute=e.appSpecificRoute;t.params=Object.assign({},t.params,e.params)}};this.getSupportedAppStatePersistencyMethods=function(){h.error("Deprecated API call of 'sap.ushell.CrossApplicationNavigation.getSupportedAppStatePersistencyMethods'. Please use 'getSupportedAppStatePersistencyMethodsAsync' instead",null,"sap.ushell.services.CrossApplicationNavigation");const t=d.getService("AppState");return t.getSupportedPersistencyMethods()};this.getSupportedAppStatePersistencyMethodsAsync=async function(){const t=await d.getServiceAsync("AppState");return t.getSupportedPersistencyMethods()};this.makeStatePersistent=function(t,e,n){const a=Promise.resolve().then(async()=>{const a=await d.getServiceAsync("AppState");const s=a.makeStatePersistent(t,e,n);return c.promisify(s)});return c.toDeferred(a)};this.resolveIntent=function(t){const e=Promise.resolve().then(async()=>{const e=await d.getServiceAsync("NavTargetResolutionInternal");const n=e.resolveHashFragment(t);const a=await c.promisify(n);return{url:a.url}});return c.toDeferred(e)}}A.hasNoAdapter=true;return A},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/DarkModeSupport", ["sap/base/Log","sap/ui/core/Theming","sap/ushell/Container"],(e,t,o)=>{"use strict";const n="(prefers-color-scheme: dark)";const s="(forced-colors: active)";const r="(prefers-contrast: more)";const i=[{id:"sap_fiori_3_set",type:"SET",label:"SAP Quartz (Set)",set:{themes:[{id:"sap_fiori_3",colorScheme:"LIGHT",contrast:"LOW"},{id:"sap_fiori_3_dark",colorScheme:"DARK",contrast:"LOW"},{id:"sap_fiori_3_hcw",colorScheme:"LIGHT",contrast:"HIGH"},{id:"sap_fiori_3_hcb",colorScheme:"DARK",contrast:"HIGH"}]}},{id:"sap_horizon_set",type:"SET",label:"SAP Horizon (Set)",set:{themes:[{id:"sap_horizon",colorScheme:"LIGHT",contrast:"LOW"},{id:"sap_horizon_dark",colorScheme:"DARK",contrast:"LOW"},{id:"sap_horizon_hcw",colorScheme:"LIGHT",contrast:"HIGH"},{id:"sap_horizon_hcb",colorScheme:"DARK",contrast:"HIGH"}]}}];function a(){}a.Mode={LIGHT:"LIGHT",DARK:"DARK"};a.prototype.prefersDark=function(){return window.matchMedia(n).matches};a.prototype.prefersContrast=function(){return window.matchMedia(s).matches||window.matchMedia(r).matches};a.prototype.setup=async function(){if(o.getUser().getDetectDarkMode()){await this.enableDarkModeBasedOnSystem()}};a.prototype.canAutomaticallyToggleDarkMode=function(){const e=new URLSearchParams(window.location.search);if(e.get("sap-theme")||e.get("sap-ui-theme")){return false}return true};a.prototype.isThemeSupportDarkMode=function(e){e=e||this._getCurrentTheme();return!!this._getThemeSet(e)};a.prototype._toggleDarkModeBasedOnSystemColorScheme=async function(){const e=this._getCurrentTheme();const t=this._getThemeSet(e);const n=this._getThemeFromSet(t,e);if(n){const e=this.prefersDark()?"DARK":"LIGHT";const s=this.prefersContrast()?"HIGH":"LOW";const r=this._findThemeInSet(t,e,s)||this._findThemeInSet(t,e,n.contrast);if(r?.id&&r.id!==n.id){const e=await o.getServiceAsync("UserInfo");await e.updateThemeRoot(r.id);o.getUser().setTheme(r.id);e.updateUserPreferences(o.getUser())}}};a.prototype._applyDefaultUserTheme=function(){const e=o.getUser();if(e.constants&&e.constants.themeFormat){e.applyTheme(e.getTheme(e.constants.themeFormat.ORIGINAL_THEME))}};a.prototype._toggleMediaListener=function(e){if(e&&!this.fnOnMediaChange){this.fnOnMediaChange=this._toggleDarkModeBasedOnSystemColorScheme.bind(this);window.matchMedia(n).addEventListener("change",this.fnOnMediaChange)}if(!e&&this.fnOnMediaChange){window.matchMedia(n).removeEventListener("change",this.fnOnMediaChange);this.fnOnMediaChange=null}};a.prototype.enableDarkModeBasedOnSystem=async function(){if(!this.canAutomaticallyToggleDarkMode()){e.warning("Automatic dark mode detection is disabled when the theme is provided via url parameter");return}const t=await o.getServiceAsync("UserInfo");let n;if(t?.getThemeList){n=await t.getThemeList()}this._aThemeSets=n?.sets?.length?n.sets:i;await this._toggleDarkModeBasedOnSystemColorScheme();this._toggleMediaListener(true)};a.prototype.disableDarkModeBasedOnSystem=function(){this._toggleMediaListener(false);this._applyDefaultUserTheme()};a.prototype.toggleDetection=async function(e){if(e){await this.enableDarkModeBasedOnSystem()}else{this.disableDarkModeBasedOnSystem()}};a.prototype._getCurrentTheme=function(){return t.getTheme()};a.prototype._getThemeSet=function(e){const t=o.getUser().getThemeSet();const n=this._aThemeSets||[];function s(t){return!!t?.set.themes?.find?.(t=>t?.id===e)}const r=n.find(e=>e.id===t);return s(r)?r:n.find(s)};a.prototype._getThemeFromSet=function(e,t){return e?.set.themes.find(e=>e.id===t)};a.prototype._findThemeInSet=function(e,t,o){return e?.set.themes.find(e=>e?.colorScheme===t&&e?.contrast===o)};a.hasNoAdapter=true;return a},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/EndUserFeedback", ["sap/ui/thirdparty/URI"],e=>{"use strict";function t(){this.sendFeedback=function(){return Promise.resolve()};this.getLegalText=function(){return""};this.isEnabled=async function(){throw new Error("EndUserFeedback service is deprecated and therefore always disabled.")};this.getPathOfURL=function(t){const r=new e(t);return r.pathname()}}t.hasNoAdapter=true;return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Extension", ["sap/base/Log","sap/ui/core/Element","sap/ushell/services/Extension/Item","sap/ushell/Container","sap/ushell/utils"],(e,t,n,i,r)=>{"use strict";function o(){}o.prototype._createItemVisibilityHandler=function(e,t,n){return async function i(o,a,d){const s=d?[d]:undefined;if(o){await r.promisify(t(e,a,s));return}await r.promisify(n(e,a,s))}};o.prototype._createControl=async function(e,t){return r.promisify(e(...t))};o.prototype.createHeaderItem=async function(n,i={}){if(n.id){if(t.getElementById(n.id)){throw new Error("The control id is not allowed for header items! The id will be generated automatically and must not be set by the application.")}e.error("The control id is not allowed for header items! The id will be generated automatically. - For plugins use sap.ushell.services.FrameBoundExtension instead.");delete n.id}const{position:r,helpId:o}=i;const a=["begin","end",undefined];if(!a.includes(r)){throw new Error(`Unexpected Input: '${r}' is not a valid position!`)}if(r==="begin"){return this._createHeaderStartItem(n,o)}return this._createHeaderEndItem(n,o)};o.prototype._createHeaderStartItem=async function(e,t){const r=i.getRendererInternal();const o=[e,false,undefined,undefined];const a=r.addHeaderItem.bind(r);const d=r.showHeaderItem.bind(r);const s=r.hideHeaderItem.bind(r);const l=await this._createControl(a,o);const c=this._createItemVisibilityHandler(l.getId(),d,s);if(t){l.data("help-id",t,true)}return new n(l,c)};o.prototype._createHeaderEndItem=async function(e,t){const r=i.getRendererInternal();const o=[e,false,undefined,undefined];const a=r.addHeaderEndItem.bind(r);const d=r.showHeaderEndItem.bind(r);const s=r.hideHeaderEndItem.bind(r);const l=await this._createControl(a,o);const c=this._createItemVisibilityHandler(l.getId(),d,s);if(t){l.data("help-id",t,true)}return new n(l,c)};o.prototype.createUserAction=async function(r,o={}){if(r.id){if(t.getElementById(r.id)){throw new Error("The control id is not allowed for header items! The id will be generated automatically and must not be set by the application.")}e.error("The control id is not allowed for header items! The id will be generated automatically. - For plugins use sap.ushell.services.FrameBoundExtension instead.");delete r.id}const a=i.getRendererInternal();const d=[{controlType:o.controlType||"sap.m.Button",oControlProperties:r,bIsVisible:false,bCurrentState:undefined,aStates:undefined}];const s=a.addUserAction.bind(a);const l=a.showActionButton.bind(a);const c=a.hideActionButton.bind(a);const u=await this._createControl(s,d);const p=this._createItemVisibilityHandler(u.getId(),l,c);if(o.helpId){u.data("help-id",o.helpId,true)}return new n(u,p)};o.prototype.setSecondTitle=async function(e){const t=i.getRendererInternal();t.setHeaderTitle(e)};o.hasNoAdapter=true;return o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Extension/Item", ["sap/base/Log","sap/ushell/state/StateManager"],(t,i)=>{"use strict";class e{#t=null;#i={};#e=async(t,i,e)=>{throw new Error("Shall be implemented by item")};constructor(t,e){this.#t=t;this.#e=e;i.removeManagedControl(this.#t.getId());i.addManagedControl(this.#t.getId())}async destroy(){this.hideForAllApps().hideForCurrentApp().hideOnHome();this.#t.destroy()}setVisibilityForCurrentApp(i){if(!i&&this.#i[this.#r()]){t.warning("The item was set to 'visible' for the current launchpad state and cannot be turned off for this app")}this.#e(i,true,undefined)}setVisibilityForLaunchpadState(t,e){if(e){i.updateManagedControl(this.#t.getId(),true)}this.#i[t]=e;this.#e(e,false,t)}showForCurrentApp(){this.setVisibilityForCurrentApp(true);return this}hideForCurrentApp(){if(this.#i[this.#r()]){t.warning("The extension was set visible for the current launchpad state and cannot be turned off for this app")}this.setVisibilityForCurrentApp(false);return this}showForAllApps(){this.setVisibilityForLaunchpadState("app",true);return this}hideForAllApps(){this.setVisibilityForLaunchpadState("app",false);return this}showOnHome(){this.setVisibilityForLaunchpadState("home",true);return this}hideOnHome(){this.setVisibilityForLaunchpadState("home",false);return this}#r(){const t=i.getLaunchpadState();return t}}return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/FlpLaunchPage", ["sap/base/Log","sap/base/util/extend","sap/ushell/services/ContentExtensionAdapterFactory","sap/ui/thirdparty/jquery","sap/ushell/resources","sap/ushell/Config","sap/m/library","sap/m/GenericTile","sap/ushell/Container"],(e,t,r,jQuery,o,i,n,s,a)=>{"use strict";const l=n.LoadState;function u(n){const u=this;const d=[];this.oAdapters={default:n};const g=r.getAdapters();g.then(e=>{t(this.oAdapters,e)});this.getGroups=function(){if(i.last("/core/spaces/enabled")){return(new jQuery.Deferred).resolve([]).promise()}const t=new jQuery.Deferred;g.then(()=>{const r=Object.keys(u.oAdapters).map(e=>u._getAdapter(e).getGroups());jQuery.when.apply(jQuery,r).done(function(){t.resolve([].concat.apply([],arguments))}).fail(()=>{e.error("getGroups failed")})});return t.promise()};this.getGroupsForBookmarks=function(t){const r=new jQuery.Deferred;this.getGroups().then(i=>{this.getDefaultGroup().then(e=>{if(i.length>0){i=i.filter(e=>{if(t===true){return this.isGroupVisible(e)}return!this.isGroupLocked(e)&&this.isGroupVisible(e)});i=i.map(t=>({title:t===e&&o.i18n.getText("my_group")||this.getGroupTitle(t),object:t}))}r.resolve(i)}).catch(t=>{e.error(`getGroupsForBookmarks - getDefaultGroup - failed: ${t.message}`);r.reject(t)})}).catch(t=>{e.error(`getGroupsForBookmarks - getGroups - failed: ${t.message}`);r.reject(t)});return r.promise()};this.getGroupTilesForSearch=function(e){const t=this._getAdapter(e.contentProvider);if(t.getGroupTileClones){return t.getGroupTileClones(e)}return Promise.resolve(this.getGroupTiles(e))};this.getDefaultGroup=function(){const t=this._getAdapter().getDefaultGroup();t.fail(()=>{e.error("getDefaultGroup failed")});return t};this.getGroupTitle=function(e){return this._getAdapter(e.contentProvider).getGroupTitle(e)};this.getGroupId=function(e){return this._getAdapter(e.contentProvider).getGroupId(e)};this.getGroupById=function(e){const t=new jQuery.Deferred;this.getGroups().then(r=>{t.resolve(r.find(t=>this.getGroupId(t)===e))});return t.promise()};this.getGroupTiles=function(e){return this._getAdapter(e.contentProvider).getGroupTiles(e)};this.getTilesByGroupId=function(e){const t=new jQuery.Deferred;this.getGroupById(e).then(r=>{if(r){let o=this._getAdapter(r.contentProvider).getGroupTiles(r);if(o){o=o.map(t=>({id:this.getTileId(t),title:this.getTileTitle(t),subtitle:this.getCatalogTilePreviewSubtitle(t),url:this.getCatalogTileTargetURL(t),icon:this.getCatalogTilePreviewIcon(t),groupId:e}))}else{o=[]}t.resolve(o)}else{t.resolve([])}});return t.promise()};this.getLinkTiles=function(e){return this._getAdapter(e.contentProvider).getLinkTiles(e)};this.addGroupAt=function(t,r){let o;const i=r;const n=this._getAdapter();if(n.addGroupAt){o=n.addGroupAt(t,r);o.fail(()=>{e.error(`addGroup ${t} failed`)})}else{const r=new jQuery.Deferred;o=n.addGroup(t);o.done(e=>{const t=this.moveGroup(e,i);const o=e;t.done(()=>{r.resolve(o)});t.fail(r.reject)});o.fail(o=>{e.error(`addGroup ${t} failed`,o);r.reject(o)});return r.promise()}return o};this.addGroup=function(t){const r=this._getAdapter().addGroup(t);r.fail(()=>{e.error(`addGroup ${t} failed`)});return r};this.removeGroup=function(t,r){const o=this._getAdapter(t.contentProvider).removeGroup(t,r);o.fail(()=>{e.error(`Fail to removeGroup ${u.getGroupTitle(t)}`)});return o};this.resetGroup=function(t,r){const o=this._getAdapter(t.contentProvider).resetGroup(t,r);o.fail(()=>{e.error(`Fail to resetGroup ${u.getGroupTitle(t)}`)});return o};this.isGroupRemovable=function(e){return this._getAdapter(e.contentProvider).isGroupRemovable(e)};this.isGroupLocked=function(e){const t=this._getAdapter(e.contentProvider);if(typeof t.isGroupLocked==="function"){return t.isGroupLocked(e)}return false};this.isGroupFeatured=function(e){const t=this._getAdapter(e.contentProvider);if(typeof t.isGroupFeatured==="function"){return t.isGroupFeatured(e)}return false};this.moveGroup=function(t,r){const o=this._getAdapter(t.contentProvider).moveGroup(t,r);o.fail(()=>{e.error(`Fail to moveGroup ${u.getGroupTitle(t)}`)});return o};this.setGroupTitle=function(t,r){const o=this._getAdapter(t.contentProvider).setGroupTitle(t,r);o.fail(()=>{e.error(`Fail to set Group title: ${u.getGroupTitle(t)}`)});return o};this.hideGroups=function(t){const r=new jQuery.Deferred;const o=this._getAdapter();if(typeof o.hideGroups!=="function"){r.reject(new Error("hideGroups() is not implemented in the Adapter."))}else{o.hideGroups(t).done(()=>{r.resolve()}).fail(t=>{e.error("Fail to store groups visibility",t);r.reject(t)})}return r.promise()};this.isGroupVisible=function(e){const t=this._getAdapter(e.contentProvider);if(typeof t.isGroupVisible==="function"){return t.isGroupVisible(e)}return true};this.addTile=function(t,r){return this._getAdapter(r.contentProvider).addTile(t,r).fail((r,o)=>{e.error(`Fail to add Tile: ${u.getCatalogTileId(t)}`,o,"sap.ushell.services.LaunchPage")})};this.removeTile=function(t,r,o){const i=new jQuery.Deferred;a.getServiceAsync("AppState").then(n=>{this._getAdapter(t.contentProvider).removeTile(t,r,o).done(()=>{const e=this.getCatalogTileTargetURL(r);this.deleteURLStatesPersistentData(e,n);i.resolve()}).fail(t=>{e.error(`Fail to remove Tile: ${this.getTileId(r)}`,t);i.reject(t)})}).catch(i.reject);return i.promise()};this.moveTile=function(t,r,o,i,n,s){const a=this._getAdapter().moveTile(t,r,o,i,n,s);a.fail(()=>{e.error(`Fail to move Tile: ${u.getTileId(t)}`)});return a};this.isLinkPersonalizationSupported=function(e){const t=e&&e.contentProvider;const r=this._getAdapter(t);if(typeof r.isLinkPersonalizationSupported==="function"){return r.isLinkPersonalizationSupported(e)}return false};this.getTileId=function(e){const t=e&&e.contentProvider;return this._getAdapter(t).getTileId(e)};this.getTileTitle=function(e){const t=e&&e.contentProvider;return this._getAdapter(t).getTileTitle(e)};this.getTileType=function(e){const t=e&&e.contentProvider;const r=this._getAdapter(t);if(r.getTileType){return r.getTileType(e)}return"tile"};this.getTileView=function(e){const t=e&&e.contentProvider;let r=this._getAdapter(t).getTileView(e);if(typeof r.promise!=="function"){r=(new jQuery.Deferred).resolve(r).promise()}return r};this.getCardManifest=function(e){const t=e&&e.contentProvider;return this._getAdapter(t).getCardManifest(e)};this.getAppBoxPressHandler=function(e){const t=e&&e.contentProvider;const r=this._getAdapter(t);if(r.getAppBoxPressHandler){return r.getAppBoxPressHandler(e)}return undefined};this.getTileSize=function(e){const t=e&&e.contentProvider;return this._getAdapter(t).getTileSize(e)};this.getTileTarget=function(e){const t=e&&e.contentProvider;return this._getAdapter(t).getTileTarget(e)};this.getTileDebugInfo=function(e){const t=e&&e.contentProvider;const r=this._getAdapter(t);if(typeof r.getTileDebugInfo==="function"){return r.getTileDebugInfo(e)}return undefined};this.isTileIntentSupported=function(e){const t=e&&e.contentProvider;const r=this._getAdapter(t);if(typeof r.isTileIntentSupported==="function"){return r.isTileIntentSupported(e)}return true};this.refreshTile=function(e){const t=e&&e.contentProvider;this._getAdapter(t).refreshTile(e)};this.setTileVisible=function(e,t){const r=e&&e.contentProvider;this._getAdapter(r).setTileVisible(e,t)};this.registerTileActionsProvider=function(e){if(typeof e!=="function"){throw new Error("Tile actions Provider is not a function")}d.push(e)};this.getTileActions=function(e){const t=[];let r;const o=e&&e.contentProvider;const i=this._getAdapter(o);if(typeof i.getTileActions==="function"){r=i.getTileActions(e);if(r&&r.length){t.push.apply(t,r)}}for(let o=0;o<d.length;o++){r=d[o](e);if(r&&r.length){t.push.apply(t,r)}}return t};this.getCatalogs=function(){return this._getAdapter().getCatalogs()};this.isCatalogsValid=function(){return this._getAdapter().isCatalogsValid()};this.getCatalogData=function(t){const r=this._getAdapter();if(typeof r.getCatalogData!=="function"){e.warning("getCatalogData not implemented in adapter",null,"sap.ushell.services.LaunchPage");return{id:this.getCatalogId(t)}}return r.getCatalogData(t)};this.getCatalogError=function(e){return this._getAdapter().getCatalogError(e)};this.getCatalogId=function(e){return this._getAdapter().getCatalogId(e)};this.getCatalogTitle=function(e){return this._getAdapter().getCatalogTitle(e)};this.getCatalogTiles=function(t){const r=this._getAdapter().getCatalogTiles(t);r.fail(()=>{e.error(`Fail to get Tiles of Catalog: ${u.getCatalogTitle(t)}`)});return r};this.getCatalogTileId=function(e){return this._getAdapter(e.contentProvider).getCatalogTileId(e)};this.getCatalogTileContentProviderId=function(e){if(this._getAdapter(e.contentProvider).getCatalogTileContentProviderId){return this._getAdapter(e.contentProvider).getCatalogTileContentProviderId(e)}return""};this.getStableCatalogTileId=function(e){const t=this._getAdapter(e.contentProvider);if(t&&!t.getStableCatalogTileId){return null}return t.getStableCatalogTileId(e)};this.getCatalogTileTitle=function(e){const t=e&&e.contentProvider;return this._getAdapter(t).getCatalogTileTitle(e)};this.getCatalogTileSize=function(e){const t=e&&e.contentProvider;return this._getAdapter(t).getCatalogTileSize(e)};this.getCatalogTileViewControl=function(e,t){const r=e&&e.contentProvider;const o=this._getAdapter(r);if(typeof o.getCatalogTileViewControl==="function"){return o.getCatalogTileViewControl(e,t)}const i=new jQuery.Deferred;const n=this.getCatalogTileView(e,t);i.resolve(n);return i.promise()};this.getCatalogTileView=function(t,r){e.error("Deprecated API call of 'sap.ushell.LaunchPage.getCatalogTileView'. Please use 'getCatalogTileViewControl' instead",null,"sap.ushell.services.LaunchPage");const o=t&&t.contentProvider;const i=this._getAdapter(o);if(i.getCatalogTileView){return i.getCatalogTileView(t,r)}const n=this.getTileTitle(t)||this.getCatalogTileTitle(t);return this._createErrorTile(n,"The LaunchPageAdapter does not support getCatalogTileView")};this._createErrorTile=function(e,t){const r=new s({state:l.Failed,header:e,subheader:t||""}).addStyleClass("sapUshellTileError");return r};this.getCatalogTileTargetURL=function(e){const t=e&&e.contentProvider;return this._getAdapter(t).getCatalogTileTargetURL(e)};this.getCatalogTileTags=function(e){const t=e&&e.contentProvider;const r=this._getAdapter(t);if(typeof r.getCatalogTileTags==="function"){return r.getCatalogTileTags(e)}return[]};this.getCatalogTileKeywords=function(e){const t=e&&e.contentProvider;return this._getAdapter(t).getCatalogTileKeywords(e)};this.getCatalogTileTechnicalAttributes=function(e){const t=e&&e.contentProvider;const r=this._getAdapter(t);if(typeof r.getCatalogTileTechnicalAttributes==="function"){return r.getCatalogTileTechnicalAttributes(e)}return[]};this.getCatalogTilePreviewTitle=function(e){const t=e&&e.contentProvider;return this._getAdapter(t).getCatalogTilePreviewTitle(e)};this.getCatalogTilePreviewInfo=function(e){const t=e&&e.contentProvider;if(this._getAdapter(t).getCatalogTilePreviewInfo){return this._getAdapter(t).getCatalogTilePreviewInfo(e)}return""};this.getCatalogTilePreviewSubtitle=function(e){const t=e&&e.contentProvider;const r=this._getAdapter(t);if(r.getCatalogTilePreviewSubtitle){return r.getCatalogTilePreviewSubtitle(e)}return undefined};this.getCatalogTilePreviewIcon=function(e){const t=e&&e.contentProvider;return this._getAdapter(t).getCatalogTilePreviewIcon(e)};this.addBookmark=function(t,r,o){const i=new jQuery.Deferred;if(this._hasRequiredBookmarkParameters(t)){if(r&&this.isGroupLocked(r)){const t=`Tile cannot be added, target group (${this.getGroupTitle(r)})is locked!`;e.error(t);return i.reject(new Error(t))}const n=r&&r.contentProvider;this._getAdapter(n).addBookmark(t,r,o).done(i.resolve).fail(r=>{e.error(`Fail to add bookmark for URL: ${t.url} and Title: ${t.title}`,r);i.reject(r)})}return i.promise()};this.addCustomBookmark=function(t,r,o){const i=new jQuery.Deferred;if(this._hasRequiredBookmarkParameters(t)){if(r&&this.isGroupLocked(r)){const t=`Tile cannot be added, target group (${this.getGroupTitle(r)})is locked!`;e.error(t);return i.reject(new Error(t))}const n=r&&r.contentProvider;this._getAdapter(n).addCustomBookmark(t,r,o).done(i.resolve).fail(r=>{e.error(`Fail to add bookmark for URL: ${t.url} and Title: ${t.title}`,r);i.reject(r)})}return i.promise()};this._hasRequiredBookmarkParameters=function(t){if(!t.title){e.error("Add Bookmark - Missing title");throw new Error("Title missing in bookmark configuration")}if(!t.url){e.error("Add Bookmark - Missing URL");throw new Error("URL missing in bookmark configuration")}return true};this.countBookmarks=function(t,r){if(!t||typeof t!=="string"){e.error("Fail to count bookmarks. No valid URL");throw new Error("Missing URL")}const o=this._getAdapter().countBookmarks(t,r);o.fail(()=>{e.error("Fail to count bookmarks")});return o};this.countCustomBookmarks=async function(e){if(!e.url||!e.vizType){throw new Error("countCustomBookmarks: Some required parameters are missing.")}return this._getAdapter().countCustomBookmarks(e)};this.deleteBookmarks=function(t,r){const o=new jQuery.Deferred;if(!t||typeof t!=="string"){return o.reject(new Error("Missing URL")).promise()}a.getServiceAsync("AppState").then(i=>{this._getAdapter().deleteBookmarks(t,undefined,r).done(e=>{this.deleteURLStatesPersistentData(t,i);o.resolve(e)}).fail(r=>{e.error(`Fail to delete bookmark for: ${t}`,r);o.reject(r)})}).catch(o.reject);return o.promise()};this.deleteCustomBookmarks=async function(e){if(!e.url||!e.vizType){throw new Error("deleteCustomBookmarks: Some required parameters are missing.")}return this._getAdapter().deleteCustomBookmarks(e)};this.updateBookmarks=function(t,r,o){if(!t||typeof t!=="string"){e.error("Fail to update bookmark. No valid URL");throw new Error("Missing URL")}if(!r||typeof r!=="object"){e.error(`Fail to update bookmark. No valid parameters, URL is: ${t}`);throw new Error("Missing parameters")}const i=new jQuery.Deferred;this._getAdapter().updateBookmarks(t,r,undefined,o).done(i.resolve).fail(r=>{e.error(`Fail to update bookmark for: ${t}`,r);i.reject(r)});return i.promise()};this.updateCustomBookmarks=async function(e,t){if(!e.url||!e.vizType||!t){throw new Error("updateCustomBookmarks: Some required parameters are missing.")}return this._getAdapter().updateCustomBookmarks(e,t)};this.onCatalogTileAdded=function(e){this._getAdapter().onCatalogTileAdded(e)};function c(e,t){const r=new RegExp(`(?:${t}=)([^&/]+)`);const o=r.exec(e);let i;if(o&&o.length===2){i=o[1]}return i}this.deleteURLStatesPersistentData=function(t,r){if(r.getSupportedPersistencyMethods().length===0){return}if(t&&t.length>0){try{const e=c(t,"sap-xapp-state");const o=c(t,"sap-iapp-state");if(e!==undefined||o!==undefined){this.countBookmarks(t).done(t=>{if(t===0){if(e!==undefined){r.deleteAppState(e)}if(o!==undefined){r.deleteAppState(o)}}})}}catch(t){e.error("error in deleting persistent state when bookmark is deleted",t,"sap.ushell.services.LaunchPage")}}}}u.prototype._getAdapter=function(e){return this.oAdapters[e]||this.oAdapters.default};u.hasNoAdapter=false;return u},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/FrameBoundExtension", ["sap/ui/core/Element","sap/ushell/services/FrameBoundExtension/FloatingContainer","sap/ushell/services/FrameBoundExtension/Footer","sap/ushell/services/FrameBoundExtension/Item","sap/ushell/services/FrameBoundExtension/SidePane","sap/ushell/services/FrameBoundExtension/ToolArea","sap/ushell/Container","sap/ushell/utils","sap/ushell/services/FrameBoundExtension/UserSettingsEntry"],(e,t,n,r,o,s,i,a,c)=>{"use strict";function d(){}d.prototype._createItemVisibilityHandler=function(e,t,n){return async function r(o,s,i){const c=i?[i]:undefined;if(o){await a.promisify(t(e,s,c));return}await a.promisify(n(e,s,c))}};d.prototype._createControl=async function(e,t){return a.promisify(e(...t))};d.prototype.createHeaderItem=async function(e,t={}){const{position:n}=t;const r=["begin","end",undefined];if(!r.includes(n)){throw new Error(`Unexpected Input: '${n}' is not a valid position!`)}if(n==="begin"){return this._createHeaderStartItem(e)}return this._createHeaderEndItem(e)};d.prototype._createHeaderStartItem=async function(t){const n=i.getRendererInternal();const o=[t,false,undefined,undefined];const s=n.addHeaderItem.bind(n);const a=n.showHeaderItem.bind(n);const c=n.hideHeaderItem.bind(n);const d=!!e.getElementById(t.id);const l=await this._createControl(s,o);const u=this._createItemVisibilityHandler(l.getId(),a,c);return new r(l,u,d)};d.prototype._createHeaderEndItem=async function(t){const n=i.getRendererInternal();const o=[t,false,undefined,undefined];const s=n.addHeaderEndItem.bind(n);const a=n.showHeaderEndItem.bind(n);const c=n.hideHeaderEndItem.bind(n);const d=!!e.getElementById(t.id);const l=await this._createControl(s,o);const u=this._createItemVisibilityHandler(l.getId(),a,c);return new r(l,u,d)};d.prototype.createSubHeader=async function(t,n={}){const o=i.getRendererInternal();const s=[{controlType:n.controlType||"sap.m.Bar",oControlProperties:t,bIsVisible:false,bCurrentState:undefined,aStates:undefined}];const a=o.addShellSubHeader.bind(o);const c=o.showSubHeader.bind(o);const d=o.hideSubHeader.bind(o);const l=!!e.getElementById(t.id);const u=await this._createControl(a,s);const p=this._createItemVisibilityHandler(u.getId(),c,d);return new r(u,p,l)};d.prototype.getSidePane=async function(){return new o};d.prototype.getToolArea=async function(){return new s};d.prototype.createUserAction=async function(t,n={}){const o=i.getRendererInternal();const s=[{controlType:n.controlType||"sap.m.Button",oControlProperties:t,bIsVisible:false,bCurrentState:undefined,aStates:undefined}];const a=o.addUserAction.bind(o);const c=o.showActionButton.bind(o);const d=o.hideActionButton.bind(o);const l=!!e.getElementById(t.id);const u=await this._createControl(a,s);const p=this._createItemVisibilityHandler(u.getId(),c,d);return new r(u,p,l)};d.prototype.createFooter=async function(e,t={}){const r=i.getRendererInternal();const o=[{controlType:t.controlType||"sap.m.Bar",oControlProperties:e}];const s=r.setShellFooter.bind(r);const a=await this._createControl(s,o);return new n(a)};d.prototype.addUserSettingsEntry=async function(e){const t=i.getRendererInternal();const n=t.getShellController().addUserPreferencesEntry(e);return new c(n)};d.prototype.addGroupedUserSettingsEntry=async function(e){const t=i.getRendererInternal();const n=t.getShellController().addUserPreferencesEntry(e,true);return new c(n)};d.prototype.getFloatingContainer=async function(){return new t};d.prototype.setSecondTitle=async function(e){const t=i.getRendererInternal();t.setHeaderTitle(e)};d.hasNoAdapter=true;return d});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/FrameBoundExtension/FloatingContainer", ["sap/ui/base/ManagedObject","sap/ui/core/EventBus","sap/ushell/Container"],(e,t,n)=>{"use strict";const i=e.extend("sap.ushell.services.FrameBoundExtension.FloatingContainer",{metadata:{library:"sap.ushell",events:{dockingStateUpdate:{parameters:{visible:{type:"boolean"},docked:{type:"boolean"}}}}},constructor:function(){e.apply(this,arguments);this._oRenderer=n.getRendererInternal();this._oEventDelegate=null;this._bDocked=null;t.getInstance().subscribe("launchpad","shellFloatingContainerIsDocked",this._handleDocking,this).subscribe("launchpad","shellFloatingContainerIsUnDocked",this._handleDocking,this).subscribe("launchpad","shellFloatingContainerIsUnDockedOnResize",this._handleDocking,this)}});i.prototype._handleDocking=function(e,t,n={}){const i=!!n.visible;if(t==="shellFloatingContainerIsDocked"&&this._bDocked!==true){this._bDocked=true;this.fireDockingStateUpdate({visible:i,docked:this._bDocked})}else if((t==="shellFloatingContainerIsUnDocked"||t==="shellFloatingContainerIsUnDockedOnResize")&&this._bDocked!==false){this._bDocked=false;this.fireDockingStateUpdate({visible:i,docked:this._bDocked})}};i.prototype.setContent=function(e,t){this._oRenderer.setFloatingContainerContent(e);this._oEventDelegate={onAfterRendering:()=>{this._oRenderer.setFloatingContainerDragSelector(t)}};e.addEventDelegate(this._oEventDelegate,this);return this};i.prototype.show=function(){this._oRenderer.setFloatingContainerVisibility(true);return this};i.prototype.hide=function(){this._oRenderer.setFloatingContainerVisibility(false);return this};i.prototype.isDocked=async function(){const e=this._oRenderer.getFloatingContainerState()||"";return e.startsWith("docked")};i.prototype.isVisible=async function(){return!!this._oRenderer.getFloatingContainerVisiblity()};i.prototype.exit=function(){t.getInstance().unsubscribe("launchpad","shellFloatingContainerIsDocked",this._handleDocking,this).unsubscribe("launchpad","shellFloatingContainerIsUnDocked",this._handleDocking,this).unsubscribe("launchpad","shellFloatingContainerIsUnDockedOnResize",this._handleDocking,this)};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/FrameBoundExtension/Footer", ["sap/ushell/Container"],r=>{"use strict";class e{#r=r.getRendererInternal();#e=null;constructor(r){this.#e=r}async getControl(){return this.#e}async destroy(){this.#r.removeFooterById(this.#e.getId());this.#e.destroy()}}return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/FrameBoundExtension/Item", ["sap/base/Log","sap/ushell/state/StateManager"],(t,i)=>{"use strict";class e{#t=null;#i={};#e=async(t,i,e)=>{throw new Error("Shall be implemented by item")};constructor(e,r,s){this.#t=e;this.#e=r;if(!s){i.removeManagedControl(this.#t.getId());i.addManagedControl(this.#t.getId())}else{t.warning("The control was pre-created and the application is responsible for the control life cycle")}}async getControl(){return this.#t}async destroy(){this.hideForAllApps().hideForCurrentApp().hideOnHome();this.#t.destroy()}setVisibilityForCurrentApp(i){if(!i&&this.#i[this.#r()]){t.warning("The item was set to 'visible' for the current launchpad state and cannot be turned off for this app")}this.#e(i,true,undefined)}setVisibilityForLaunchpadState(t,e){if(e){i.updateManagedControl(this.#t.getId(),true)}this.#i[t]=e;this.#e(e,false,t)}showForCurrentApp(){this.setVisibilityForCurrentApp(true);return this}hideForCurrentApp(){if(this.#i[this.#r()]){t.warning("The extension was set visible for the current launchpad state and cannot be turned off for this app")}this.setVisibilityForCurrentApp(false);return this}showForAllApps(){this.setVisibilityForLaunchpadState("app",true);return this}hideForAllApps(){this.setVisibilityForLaunchpadState("app",false);return this}showOnHome(){this.setVisibilityForLaunchpadState("home",true);return this}hideOnHome(){this.setVisibilityForLaunchpadState("home",false);return this}#r(){const t=i.getLaunchpadState();return t}}return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/FrameBoundExtension/SidePane", ["sap/ui/core/Element","sap/ushell/services/FrameBoundExtension/Item","sap/ushell/Container","sap/ushell/utils"],function(e,t,i,n){"use strict";class s{#e=i.getRendererInternal();#t=async(e,t,i)=>{const s=[i,e];await n.promisify(this.#e.setLeftPaneVisibility(...s))};async createItem(i,s){const r=[{controlType:s.controlType,oControlProperties:i,bIsVisible:false,bCurrentState:undefined,aStates:undefined}];const a=this.#e.addSidePaneContent.bind(this.#e);const o=this.#e.showLeftPaneContent.bind(this.#e);const d=this.#e.hideLeftPaneContent.bind(this.#e);const l=!!e.getElementById(i.id);const h=await n.promisify(a(...r));async function u(e,t,i){const s=i?[i]:undefined;if(e){await n.promisify(o(h.getId(),t,s));return}await n.promisify(d(h.getId(),t,s))}return new t(h,u,l)}setVisibilityForLaunchpadState(e,t){this.#t(t,false,e)}showForAllApps(){this.setVisibilityForLaunchpadState("app",true);return this}hideForAllApps(){this.setVisibilityForLaunchpadState("app",false);return this}showOnHome(){this.setVisibilityForLaunchpadState("home",true);return this}hideOnHome(){this.setVisibilityForLaunchpadState("home",false);return this}}return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/FrameBoundExtension/ToolArea", ["sap/ui/core/Element","sap/ushell/services/FrameBoundExtension/Item","sap/ushell/Container","sap/ushell/utils"],function(e,t,i,s){"use strict";class r{#e=i.getRendererInternal();#t=async(e,t,i)=>{const r=[i,e];await s.promisify(this.#e.showToolArea(...r))};async createItem(i){const r=[i,null,undefined,undefined];const n=this.#e.addToolAreaItem.bind(this.#e);const a=this.#e.showToolAreaItem.bind(this.#e);const o=this.#e.removeToolAreaItem.bind(this.#e);const d=!!e.getElementById(i.id);const l=await s.promisify(n(...r));async function h(e,t,i){const r=i?[i]:undefined;if(e){await s.promisify(a(l.getId(),t,r));return}await s.promisify(o(l.getId(),t,r))}return new t(l,h,d)}setVisibilityForLaunchpadState(e,t){this.#t(t,false,e)}showForAllApps(){this.setVisibilityForLaunchpadState("app",true);return this}hideForAllApps(){this.setVisibilityForLaunchpadState("app",false);return this}showOnHome(){this.setVisibilityForLaunchpadState("home",true);return this}hideOnHome(){this.setVisibilityForLaunchpadState("home",false);return this}}return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/FrameBoundExtension/UserSettingsEntry", ["sap/ushell/EventHub"],t=>{"use strict";class e{#t=null;constructor(t){this.#t=t}open(){t.emit("openUserSettings",{targetEntryId:this.#t,time:Date.now()})}}return e},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/LaunchPage", ["sap/ushell/Container"],e=>{"use strict";const t=["getGroups","getGroupsForBookmarks","getGroupTilesForSearch","getDefaultGroup","getGroupTitle","getGroupId","getGroupById","getGroupTiles","getTilesByGroupId","getLinkTiles","addGroupAt","addGroup","removeGroup","resetGroup","isGroupRemovable","isGroupLocked","isGroupFeatured","moveGroup","setGroupTitle","hideGroups","isGroupVisible","addTile","removeTile","moveTile","isLinkPersonalizationSupported","getTileId","getTileTitle","getTileType","getTileView","getCardManifest","getAppBoxPressHandler","getTileSize","getTileTarget","getTileDebugInfo","isTileIntentSupported","refreshTile","setTileVisible","registerTileActionsProvider","getTileActions","getCatalogs","isCatalogsValid","getCatalogData","getCatalogError","getCatalogId","getCatalogTitle","getCatalogTiles","getCatalogTileId","getCatalogTileContentProviderId","getStableCatalogTileId","getCatalogTileTitle","getCatalogTileSize","getCatalogTileViewControl","getCatalogTileView","getCatalogTileTargetURL","getCatalogTileTags","getCatalogTileKeywords","getCatalogTileTechnicalAttributes","getCatalogTilePreviewTitle","getCatalogTilePreviewInfo","getCatalogTilePreviewSubtitle","getCatalogTilePreviewIcon","addBookmark","addCustomBookmark","countBookmarks","countCustomBookmarks","deleteBookmarks","deleteCustomBookmarks","updateBookmarks","updateCustomBookmarks","onCatalogTileAdded","deleteURLStatesPersistentData"];function o(){this._oFlpLaunchPage=e.getService("FlpLaunchPage")}t.forEach(e=>{o.prototype[e]=function(...t){return this._oFlpLaunchPage[e](...t)}});o.hasNoAdapter=true;return o},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Menu", ["sap/ushell/Config","sap/ushell/library","sap/ushell/utils","sap/ui/model/json/JSONModel","sap/base/util/deepClone","sap/base/Log","sap/ushell/resources","sap/ushell/Container"],(e,t,n,i,r,o,a,s)=>{"use strict";const d=t.ContentNodeType;function p(){this._init.apply(this,arguments)}p.prototype._init=function(e){this.oAdapter=e;this.oModel=new i([]);this.oModel.setSizeLimit(1e3);this.bIsMenuModelFilled=false;this._aBlockedList=[]};p.prototype.isMenuEnabled=function(){return this.oAdapter.isMenuEnabled()};p.prototype.isSideNavigationEnabled=function(){if(this.oAdapter.isSideNavigationEnabled){return this.oAdapter.isSideNavigationEnabled()}return Promise.resolve(false)};p.prototype.getMenuEntries=async function(){const t=await this.oAdapter.getMenuEntries();if(e.last("/core/homeApp/enabled")){const n={id:e.last("/core/spaces/myHome/myHomeSpaceId"),title:a.i18n.getText("HomeApp.Menu.Title"),"help-id":"homeApp-menuEntry",description:"",icon:undefined,type:"IBN",target:{semanticObject:"Shell",action:"home",parameters:[],innerAppRoute:undefined},isHomeEntry:true,menuEntries:[]};t.splice(0,0,n)}return t.map(e=>{e.uid=n.generateUniqueId([]);if(e.menuEntries){e.menuEntries.forEach(e=>{e.uid=n.generateUniqueId([])})}return e})};p.prototype.getSpacesPagesHierarchy=async function(){let e;if(this.oAdapter.getContentNodeEntries){e=this.oAdapter.getContentNodeEntries()}else{e=this.getMenuEntries()}try{const t=await e;return{spaces:t.reduce((e,t)=>{let n;if(t.menuEntries&&t.menuEntries.length){n=this._getAccessiblePages(t.menuEntries)}else{n=this._getAccessiblePages([t])}if(n.length){e.push({title:t.title,id:n[0].spaceId,pages:n.map(e=>({title:e.title,id:e.id}))})}return e},[])}}catch(e){return{spaces:[]}}};p.prototype.getContentNodes=async function(e,t){if(!e){e=Object.values(d)}t=!!t;let n=await this.oAdapter.getContentNodes();n=r(n);const i=this._filterContentNodes(n,e,t);return i};p.prototype._filterContentNodes=function(e,t,n){if(!Array.isArray(e)){return[]}return e.reduce((e,i)=>{i.children=this._filterContentNodes(i.children,t,n);const r=t.includes(i.type);if(r||n&&i.children.length){e.push(i)}return e},[])};p.prototype.getDefaultSpace=async function(){const t=await this.getContentNodes([d.Space,d.Page]);if(e.last("/core/menu/personalization/enabled")){const e=await this.getMenuModel();const n=e.getData().filter(e=>e.type!=="separator"&&e.pinned).filter(e=>t.some(t=>e.id===t.id&&t.children.length)).reduce((e,t)=>e.pinnedSortOrder<t.pinnedSortOrder?e:t,{});const i=t.find(e=>n.id===e.id);if(i){return i}}const n=t.find(e=>e.children.length);return n};p.prototype.getMyHomeSpace=async function(){if(!e.last("/core/spaces/myHome/enabled")){return null}const t=e.last("/core/spaces/myHome/myHomeSpaceId");const n=await this.getContentNodes([d.Space,d.Page]);return n.find(e=>e.type===d.Space&&e.id===t)||null};p.prototype._getAccessiblePages=function(e){return e.filter(e=>e&&e.type==="IBN"&&e.target&&e.target.semanticObject==="Launchpad"&&e.target.action==="openFLPPage").map(e=>{const t=e.target.parameters.find(e=>e.name==="spaceId");const n=e.target.parameters.find(e=>e.name==="pageId");return{title:e.title,id:n&&n.value,spaceId:t&&t.value}})};p.prototype.hasMultiplePages=async function(e){const t=await this.getContentNodes([d.Space,d.Page]);const n=t.find(t=>t.type===d.Space&&t.id===e);return n&&n.children.length>1};p.prototype.isSpacePageAssigned=async function(e,t){const n=await this.getContentNodes([d.Space,d.Page]);const i=n.find(t=>t.type===d.Space&&t.id===e);if(!i){return false}const r=i.children.find(e=>e.type===d.Page&&e.id===t);return!!r};p.prototype.getSpaceAndPageTitles=async function(e,t){const n=await this.getContentNodes([d.Space,d.Page]);const i=n.find(t=>t.type===d.Space&&t.id===e);if(!i){return null}const r=i.children.find(e=>e.type===d.Page&&e.id===t);if(!r){return null}return{spaceTitle:i.label,pageTitle:r.label}};p.prototype.getMenuModel=async function(){if(!this.bIsMenuModelFilled){let t;if(e.last("/core/menu/personalization/enabled")){t=this._getMenuEntriesWithPersonalizationData()}else{t=this.getMenuEntries()}const n=await t;this.oModel.setData(n);this.bIsMenuModelFilled=true}return this.oModel};p.prototype._getMenuEntriesWithPersonalizationData=async function(){const t=await this.getMenuEntries();const n=await this.oAdapter.getMenuPersonalization();let i;const r={type:"separator",pinned:true};let o=true;if(t[0]&&t[0].isHomeEntry){t.splice(1,0,r)}else if(e.last("/core/menu/personalization/showNavigationBarMenuButton")){t.splice(0,0,r)}else{o=false}if(!n){i=t.map((e,t)=>{e.pinned=true;e.pinnedSortOrder=t;return e})}else{let e=1;if(t[0].isHomeEntry){e=2}i=t.map(t=>{t.pinned=n.pinnedSpaces.includes(t.id);t.pinnedSortOrder=n.pinnedSpaces.indexOf(t.id);if(t.pinnedSortOrder>-1){t.pinnedSortOrder=t.pinnedSortOrder+e}return t});if(o){t[0].pinned=true;t[0].pinnedSortOrder=0;if(t[0].isHomeEntry){t[1].pinned=true;t[1].pinnedSortOrder=1}}}return i};p.prototype._extractPersonalization=function(){const e={version:"1.0.0",pinnedSpaces:[]};const t=this.oModel.getData();e.pinnedSpaces=t.filter(e=>!e.isHomeEntry&&e.type!=="separator"&&e.pinned).sort((e,t)=>e.pinnedSortOrder-t.pinnedSortOrder).map(e=>e.id);return e};p.prototype.savePersonalization=async function(){const e=this._extractPersonalization();const t=await s.getServiceAsync("PersonalizationV2");const n={container:"sap.ushell.menuPersonalization",item:"data"};const i={validity:"Infinity",keyCategory:t.KeyCategory.FIXED_KEY,writeFrequency:t.WriteFrequency.HIGH,clientStorageAllowed:false};const r=await t.getPersonalizer(n,i);return r.setPersData(e)};p.prototype.moveMenuEntry=function(e,t){const n=this.oModel.getData();const i=n.find(t=>t.pinnedSortOrder===e);i.pinnedSortOrder=t-.5;n.map(e=>e).filter(e=>e.pinned).sort((e,t)=>e.pinnedSortOrder-t.pinnedSortOrder).forEach((e,t)=>{e.pinnedSortOrder=t});this.oModel.refresh(true)};p.prototype.isPinned=async function(t){if(e.last("/core/menu/personalization/enabled")===false){return true}const n=await this.getMenuModel();return n.getData().some(e=>e.id===t&&e.pinned)};p.prototype.isWorkPage=async function(e){if(this.oAdapter.isWorkPage){return this.oAdapter.isWorkPage(e)}return false};p.prototype._getNodeInfo=function(e,t,n,i){let r;for(let o=0;o<t.length;o++){if(!n){i=this._getManagerIdInNodeTree(e,t[o])}if(t[o].id===e){return{node:t[o],isRootNode:!n,managerId:i||null}}if(t[o].menuEntries&&t[o].menuEntries.length>0){r=this._getNodeInfo(e,t[o].menuEntries,true,i);if(r.node){return r}}}return{node:null,isRootNode:false,managerId:null}};p.prototype._nodeManagementPermitted=function(e,t,n){const i=this._getNodeInfo(e,t);if(!i.node){o.error(`Node with id ${e} cannot be found and will be skipped.`);return false}if(i.managerId&&i.managerId!==n){o.error(`Node with id ${e} cannot be managed by '${n}'`+` because it is already managed by '${i.managerId}'.`);return false}return true};p.prototype._getManagerIdInNodeTree=function(e,t,n){if(t.id===e){return n||t.managerId}if(t.managerId){n=t.managerId}if(t.menuEntries&&t.menuEntries.length>0){for(let i=0;i<t.menuEntries.length;++i){n=this._getManagerIdInNodeTree(e,t.menuEntries[i],n)}return n}return null};p.prototype._updateNode=function(e,t,i){const o=r(i||{});function a(e){if(e){e.uid=e.uid||n.generateUniqueId([]);(e.menuEntries||[]).forEach(a)}}a(o);return t.map(t=>{if(t.id===e){return o}if(t.menuEntries&&t.menuEntries.length>0){t.menuEntries=this._updateNode(e,t.menuEntries,o)}return t})};p.prototype._createEntryProviders=function(e,t,n){const i=n.getData();const r={};let o;for(let a=0;a<t.length;++a){o=t[a];if(!this._nodeManagementPermitted(o,i,e)){continue}r[o]={setData:function(e,t){const r=this._updateNode(e,i,t);n.setData(r)}.bind(this,o)}}return r};p.prototype._isManagerBlocked=function(e){return this._aBlockedList.indexOf(e)>-1};p.prototype._setManagerBlocked=function(e){this._aBlockedList.push(e)};p.prototype.getEntryProvider=async function(e,t){if(this._isManagerBlocked(e)){o.error(`ManagerId '${e}' is already listed as an entry manager.`);throw new Error(`ManagerId ${e} is already listed as an entry manager.`)}this._setManagerBlocked(e);const n=await this.getMenuModel();return this._createEntryProviders(e,t,n)};p.hasNoAdapter=false;return p});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Message", ["sap/ushell/services/MessageInternal"],e=>{"use strict";return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/MessageBroker", ["sap/ushell/services/MessageBroker/ClientAlias","sap/ushell/services/MessageBroker/ClientConnectionMessage","sap/ushell/services/MessageBroker/MessageBrokerEngine","sap/base/Log"],(e,t,n,s)=>{"use strict";let i={};function o(e,t,o){i=o?.config||{};n.setEnabled(this.isEnabled());if(!this.isEnabled()){s.warning("FLP's message broker service is disabled by shell configuration");return}}o.prototype.ClientConnectionMessage=t;o.prototype.ClientAlias=e;o.prototype.isEnabled=function(){return i.enabled??true};o.prototype.connect=async function(e,t){await n.connect(e,t)};o.prototype.disconnect=async function(e){await n.disconnect(e)};o.prototype.subscribe=async function(e,t,s,i){await n.subscribe(e,t,s,i)};o.prototype.unsubscribe=async function(e,t){await n.unsubscribe(e,t)};o.prototype.publish=async function(e,t,s,i,o,r){await n.publish(e,t,s,i,o,r)};o.prototype.addAcceptedOrigin=function(e){n.addAcceptedOrigin(e)};o.prototype.removeAcceptedOrigin=function(e){n.removeAcceptedOrigin(e)};o.prototype.getAcceptedOrigins=function(){return n.getAcceptedOrigins()};o.hasNoAdapter=true;return o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/MessageBroker/ClientAlias", [],()=>{"use strict";const e={AllClients:"*",FLP:"FLP"};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/MessageBroker/ClientConnectionMessage", [],()=>{"use strict";const e={ClientSubscribed:"clientSubscribed",ClientUnsubscribed:"clientUnsubscribed"};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/MessageBroker/MessageBrokerEngine", ["sap/base/Log","sap/base/util/deepClone","sap/ushell/services/MessageBroker/ClientAlias","sap/ushell/services/MessageBroker/ClientConnectionMessage"],(e,n,t,i)=>{"use strict";class s{#e=true;#n=false;#t=e.getLogger("sap.ushell.services.MessageBroker");#i=new Set;#s=new Set;#r={};#o={};#l=[];constructor(){this.addAcceptedOrigin(window.location.origin)}setEnabled(e){this.#e=e}async connect(e,n){if(!this.#e){throw new Error(`Cannot connect client '${e}': MessageBroker is not enabled`)}if(typeof e!=="string"||!e.length){throw new Error("Cannot connect client: Missing required parameter client id")}if(this.#s.has(e)){throw new Error(`Cannot connect client '${e}': Client is already connected`)}if(typeof n!=="function"){this.#t.error(`Missing required parameter 'fnClientConnectionCallback' for client '${e}'! It has to be provided as part of the connect() call`)}else{this.#r[e]={clientId:e,channels:[],clientConnectionCallback:n};this.#l.push(setTimeout(()=>{this.#c(e)},0))}this.#s.add(e)}#c(e){if(this.#n){return}const t=this.#r[e];if(!t){return}const s=Object.values(this.#r).filter(n=>n.clientId!==e);if(s.length){s.forEach(e=>{t.clientConnectionCallback(i.ClientSubscribed,e.clientId,n(e.channels))})}}async disconnect(e){if(!this.#e){throw new Error(`Cannot disconnect client '${e}': MessageBroker is not enabled`)}if(typeof e!=="string"||!e.length){throw new Error("Cannot disconnect client: Missing required parameter client id")}if(!this.#s.has(e)){throw new Error(`Cannot disconnect client '${e}': Client is already disconnected`)}for(const n in this.#o){this.#o[n]=this.#o[n].filter(n=>n.clientId!==e)}if(this.#r[e]?.channels.length){this.#a(i.ClientUnsubscribed,e,this.#r[e].channels)}delete this.#r[e];this.#s.delete(e)}async subscribe(e,t,s,r){if(!this.#e){throw new Error(`Cannot subscribe client '${e}': MessageBroker is not enabled`)}if(typeof e!=="string"||!e.length||!t.length||typeof s!=="function"){throw new Error(`Cannot subscribe client '${e}': Missing required parameter(s)`)}if(typeof r==="function"){this.#t.error(`The 'fnClientConnectionCallback' parameter was provided by client '${e}'. This parameter is deprecated and should be provided as part of the connect() call`)}if(!this.#s.has(e)){throw new Error(`Cannot subscribe client '${e}': Client is not connected`)}for(const n of t){const t=n.channelId;if(!this.#o[t]){this.#o[t]=[]}const i=this.#o[t].find(n=>n.clientId===e);if(!i){this.#o[t].push({clientId:e,messageCallback:s})}else{i.messageCallback=s}}const o=this.#r[e];if(!o){this.#r[e]={clientId:e,channels:n(t),clientConnectionCallback:r};this.#l.push(setTimeout(()=>{this.#c(e)},1e3))}else{for(const e of t){const n=o.channels.some(n=>n.channelId===e.channelId);if(!n){o.channels.push(e)}}}if(Object.keys(this.#r).length>1){this.#a(i.ClientSubscribed,e,t)}}async unsubscribe(e,n){if(!this.#e){throw new Error(`Cannot unsubscribe client '${e}': MessageBroker is not enabled`)}if(typeof e!=="string"||!e.length||!Array.isArray(n)||!n.length){throw new Error(`Cannot unsubscribe client '${e}': Missing required parameter(s)`)}if(!this.#s.has(e)){throw new Error(`Cannot unsubscribe client '${e}': Client is not connected`)}for(const t of n){const n=t.channelId;if(this.#o[n]){this.#o[n]=this.#o[n].filter(n=>n.clientId!==e)}else{this.#t.warning(`Cannot unsubscribe client '${e}': Channel '${n}' is unknown`)}}this.#r[e].channels=this.#r[e].channels.filter(e=>{const t=n.some(n=>n.channelId===e.channelId);return!t});this.#a(i.ClientUnsubscribed,e,n)}async publish(e,n,i,s,r,o){if(!this.#e){throw new Error(`Cannot publish message of client '${n}': MessageBroker is not enabled`)}if(typeof s==="string"&&(Array.isArray(r)||r===t.AllClients)){this.#t.error(`The parameter 'sMessageId' was provided by client '${n}'. It is deprecated and should not be provided`)}else{o=r;r=s;s=i;i=undefined}let l;if(r===t.AllClients){l=[t.AllClients]}else{l=[...r]}if(!this.#s.has(n)){throw new Error(`Cannot publish message '${s}' of client '${n}': Client '${n}' is not connected`)}if(!this.#o[e]){throw new Error(`Cannot publish message '${s}' of client '${n}': Channel '${e}' is unknown`)}const c=this.#o[e];const a=c.find(e=>e.clientId===n);if(!a){throw new Error(`Cannot publish message '${s}' of client '${n}': Client is not subscribed to the provided channel '${e}'`)}const h=l.includes(t.AllClients);let d=[];if(h){d=[...c]}else{for(const e of l){const n=c.find(n=>n.clientId===e);if(n){d.push(n)}}}if(!h&&!d.length){throw new Error(`Cannot publish message '${s}' of client '${n}': No target client(s) found in the provided channel '${e}'`)}this.#h(d,e,s,n,o)}addAcceptedOrigin(e){if(!this.#e){return}if(typeof e!=="string"||!e.length){throw new Error("Missing required parameter")}this.#i.add(e);const n=new URL(e);if(n.protocol==="https:"&&n.port===""){if(e.endsWith(":443")){this.#i.add(e.substring(0,e.length-4))}else{this.#i.add(`${e}:443`)}}if(n.protocol==="http:"&&n.port===""){if(e.endsWith(":80")){this.#i.add(e.substring(0,e.length-3))}else{this.#i.add(`${e}:80`)}}}removeAcceptedOrigin(e){if(!this.#e){return}if(typeof e!=="string"||!e.length){throw new Error("Missing required parameter")}this.#i.delete(e);const n=new URL(e);if(n.protocol==="https:"&&n.port===""){if(e.endsWith(":443")){this.#i.delete(e.substring(0,e.length-4))}else{this.#i.delete(`${e}:443`)}}if(n.protocol==="http:"&&n.port===""){if(e.endsWith(":80")){this.#i.delete(e.substring(0,e.length-3))}else{this.#i.delete(`${e}:80`)}}}getAcceptedOrigins(){if(!this.#e){return}return Array.from(this.#i.values())}getSubscribedClients(){if(!this.#e){return}return n(this.#o)}#a(e,t,i){for(const s of Object.values(this.#r)){if(s.clientId!==t){s.clientConnectionCallback(e,t,n(i))}}}#h(e,t,i,s,r){for(const o of e){if(o.clientId!==s){o.messageCallback(s,t,i,n(r))}}}reset(){this.#e=true;this.#n=false;this.#i.clear();this.#s.clear();this.#r={};this.#o={};this.addAcceptedOrigin(window.location.origin);this.#l.forEach(e=>{clearTimeout(e)});this.#l=[]}skipEmitInformAboutOtherClients(){this.#n=true}}return new s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/MessageInternal", ["sap/base/Log","sap/m/MessageBox","sap/ushell/Config","sap/ushell/resources","sap/m/Dialog","sap/m/Text","sap/m/Link","sap/m/Button","sap/m/VBox","sap/m/FormattedText","sap/m/library","sap/ui/core/library"],(e,t,n,s,o,i,a,r,l,c,u,d)=>{"use strict";const p=u.ButtonType;const f=u.DialogType;const h=d.ValueState;const y=u.FlexRendertype;function g(){let u;this.init=function(e){u=e;return this};this.show=function(t,n,s){if(!n){e.error("Message must not be empty.");return}if(u&&typeof u==="function"){u(t,n,s||{})}else{this.buildMessage(t,n,s||{})}};this.buildMessage=function(e,n,s){let o={title:s.title,actions:s.actions,details:s.details,onClose:s.callback,emphasizedAction:s.emphasizedAction};let i;switch(e){case g.Type.ERROR:this._createAndOpenErrorDialog(n,o);return;case g.Type.CONFIRM:if(!s.actions){i="confirm"}else if(s.actions.indexOf("DELETE")>-1){i="warning";o.emphasizedAction=t.Action.DELETE}else{o.icon=t.Icon.QUESTION;i="show"}break;case g.Type.INFO:i="info";this.buildAndSendMessageToast(n,s.duration||3e3);return;default:o={duration:s.duration||3e3};i="show";break}this.sendMessageBox(n,i,o)};this._copyToClipboard=function(e,t,n){let o=t.details;if(typeof t.details==="object"){o=JSON.stringify(t.details,null,"\t")}const i=[`Title: ${n||"-"}`,`Message: ${e||"-"}`,`Details: ${o||"-"}`];const a=document.activeElement;const r=document.createElement("textarea");let l;try{r.contentEditable=true;r.readonly=false;r.innerText=i.join("\n");document.documentElement.appendChild(r);if(navigator.userAgent.match(/ipad|iphone/i)){const e=document.createRange();e.selectNodeContents(r);window.getSelection().removeAllRanges();window.getSelection().addRange(e);r.setSelectionRange(0,999999)}else{r.select()}const e=document.execCommand("copy");l=e?"CopyWasSuccessful":"CopyWasNotSuccessful"}catch(e){l="CopyWasNotSuccessful"}finally{this.buildAndSendMessageToast(s.i18n.getText(l));document.documentElement.removeChild(r);window.getSelection().removeAllRanges();a.focus()}};this._createAndOpenErrorDialog=function(e,t){const o=t.details;let i;if(o){i=new c({htmlText:typeof o==="object"?o.info:o})}const a=this.errorWithDetails(e,i,t);if(n.last("/core/extension/SupportTicket")&&e!==s.i18n.getText("supportTicketCreationFailed")){a.addButton(new r({text:s.i18n.getText("contactSupportBtn"),press:()=>{sap.ui.require(["sap/ushell/ui/footerbar/ContactSupportButton"],e=>{const t=new e;if(t){t.showContactSupportDialog();t.destroy()}});a.close()}}))}if(document.queryCommandSupported("copy")){a.addButton(new r({text:s.i18n.getText("CopyToClipboardBtn"),press:this._copyToClipboard.bind(this,e,t,a.getTitle())}))}a.addButton(new r({text:s.i18n.getText("closeBtn"),type:p.Emphasized,press:a.close.bind(a)}))};this.buildAndSendMessageToast=function(e,t){sap.ui.require(["sap/m/MessageToast"],n=>{n.show(e,{duration:t})})};this.sendMessageBox=function(n,s,o){if(typeof t[s]==="function"){t[s](n,o)}else{e.error(`Unknown Message type: ${s}`,null,"MessageInternal Service")}};this.info=function(e,t){this.show(g.Type.INFO,e,{duration:t||3e3})};this.error=function(t,n){e.error(t);this.show(g.Type.ERROR,t,{title:n})};this.confirm=function(e,t,n,s){this.show(g.Type.CONFIRM,e,{title:n,callback:t,actions:s})};this.errorWithDetails=function(e,t,n,c){if(Array.isArray(t)){c=t;t=null}let u=typeof n==="string"?n:n?.title;if(typeof t==="string"){c=u;u=t;t=null}const d=new i({text:e,visible:!!e});if(t){d.addStyleClass("sapUiSmallMarginBottom")}const g=new o({state:h.Error,type:f.Message,contentWidth:"30rem",title:u||s.i18n.getText("error"),content:[new l({renderType:y.Bare,items:[d,new a({text:s.i18n.getText("ViewDetails"),visible:!!t,press:function(){g.getContent()[0].addItem(t);this.destroy()}})]})],buttons:c,endButton:new r({text:s.i18n.getText("closeBtn"),type:p.Emphasized,press:function(){g.close()}}),afterClose:function(){this.destroy()}}).addStyleClass("sapContrastPlus");if(typeof n?.onClose==="function"){g.attachAfterClose(n.onClose)}g.open();return g};this.Type=g.Type}g.Type={INFO:0,ERROR:1,CONFIRM:2};g.hasNoAdapter=true;return g});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/NavTargetResolution", ["sap/base/Log","sap/ushell/Container","sap/ushell/services/NavTargetResolutionInternal"],(e,t)=>{"use strict";function n(n,r,s,a){e.error("NavTargetResolution service has been called, which is deprecated. Remove all dependencies!",null,"sap.ushell.services.NavTargetResolution");this._oNavTargetResolutionInternal=t.getService("NavTargetResolutionInternal");this.expandCompactHash=function(e){return this._oNavTargetResolutionInternal.expandCompactHash(e)};this.resolveTarget=function(e){return this._oNavTargetResolutionInternal.resolveTarget(e)};this.resolveHashFragment=function(e){return this._oNavTargetResolutionInternal.resolveHashFragment(e)};this.isIntentSupported=function(e){return this._oNavTargetResolutionInternal.isIntentSupported(e)};this.registerCustomResolver=function(e){return this._oNavTargetResolutionInternal.registerCustomResolver(e)};this.isNavigationSupported=function(e){return this._oNavTargetResolutionInternal.isNavigationSupported(e)}}n.hasNoAdapter=false;return n},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/NavTargetResolutionInternal", ["sap/ushell/utils","sap/ushell/utils/UrlParsing","sap/ushell/utils/UrlShortening","sap/ushell/utils/HttpClient","sap/ushell/navigationMode","sap/ui/thirdparty/jquery","sap/ui/performance/Measurement","sap/base/util/deepExtend","sap/base/util/isPlainObject","sap/base/Log","sap/ushell/Container"],(e,t,n,s,i,jQuery,r,a,o,l,c)=>{"use strict";function u(u,p,h,d){const f=d?.config;const g=function(e){const t=this._isClientSideTargetResolutionEnabled()?this._resolveHashFragmentClientSide(e):u.resolveHashFragment(e);return t}.bind(this);let m;const v=[{name:"DefaultAdapter",isApplicable:function(){return true},resolveHashFragment:g.bind(this)}];let S;const b=new s;this._isClientSideTargetResolutionEnabled=function(){return!!(f&&f.enableClientSideTargetResolution)};this._nextResolveHashFragment=function(e,t){const n=e.pop();if(n.isApplicable(t)){l.info(`NavTargetResolutionInternal: custom resolver ${n.name} resolves ${t}`);const s=this._nextResolveHashFragment.bind(this,e);return n.resolveHashFragment(t,s)}return this._nextResolveHashFragment(e,t)};this._resolveHashFragmentClientSide=function(e){const t=this._validateHashFragment(e);if(!t.success){return(new jQuery.Deferred).reject(new Error(`${e} is not a valid hash fragment`)).promise()}const n=t.hashFragmentWithoutHash;return this._resolveHashFragmentClientSideAndFixApplicationType(n)};this._resolveHashFragmentClientSideAndFixApplicationType=function(e){const t=new jQuery.Deferred;c.getServiceAsync("ClientSideTargetResolution").then(t=>t.resolveHashFragment(e)).then(e=>{if(e&&e.applicationType==="SAPUI5"){e.applicationType="URL"}t.resolve(e)}).catch(t.reject);return t.promise()};this._validateHashFragment=function(t){let n="";const s={success:false};if(t&&t.charAt(0)!=="#"){throw new e.Error("Hash fragment expected in _validateHashFragment","sap.ushell.services.NavTargetResolutionInternal")}n=t.substring(1);if(n){s.success=true}s.hashFragmentWithoutHash=n;return s};this.expandCompactHash=function(e){const s=new jQuery.Deferred;const i=t.parseShellHash(e);if(i&&i.params&&i.params["sap-intent-param"]){c.getServiceAsync("AppState").then(t=>{t.getAppState(i.params["sap-intent-param"][0]).done(t=>{const i=t.getData("sap-intent-param");let r=e;if(i){r=n.expandParamGivenRetrievalFunction(e,"sap-intent-param",()=>i)}s.resolve(r)}).fail(()=>{s.resolve(e)})}).catch(s.reject)}else{s.resolve(e)}return s.promise()};const R=["NWBC","WDA","TR"];this._adjustResolutionResultForUi5Components=function(e){if(typeof e!=="object"){return}delete e["sap.platform.runtime"];if(e&&e.applicationType&&e.applicationType==="SAPUI5"){e.applicationType="URL"}if(e.applicationType==="URL"){const t=/^SAPUI5\.Component=(.*)/.exec(e.additionalInformation);const n=t&&t[1];if(n){e.ui5ComponentName=n}}};this._getSapSystem=function(e,t){let n;if(t&&t["sap-system"]){return t["sap-system"]}if(t&&t.url){n=new URL(t.url,window.location.href).searchParams.get("sap-system");if(n){return n}}if(R.indexOf(t.applicationType)>=0&&e&&e.substring(1)){n=new URL(e.substring(1),window.location.href).searchParams.get("sap-system");if(n){return n}}return undefined};this.resolveTarget=function(n){const s=a({},n);const i=new jQuery.Deferred;r.average("sap.ushell.navigation.resolveTarget");e.storeSapSystemToLocalStorage(s);const o=t.constructShellHash(s);c.getServiceAsync("NavTargetResolutionInternal").then(e=>{e.resolveHashFragment(`#${o}`).done(e=>{r.end("sap.ushell.navigation.resolveTarget");i.resolve({url:e.url,text:e.text,externalNavigationMode:e.targetNavigationMode==="explace"})}).fail(i.reject)}).catch(i.reject);return i.promise()};this.resolveHashFragment=function(e){const t=new jQuery.Deferred;r.average("sap.ushell.navigation.resolveHashFragment");this.expandCompactHash(e).done(n=>{let s=jQuery.when();if(n.indexOf("sap-ushell-enc-test")>=0){const e=/sap-ushell-enc-test=([^&]*)(&.*)?$/.exec(n);if(e){const t=e[1];if(t!=="A%20B%2520C"){s=new jQuery.Deferred;c.getServiceAsync("MessageInternal").then(e=>{e.error("This navigation is flagged as erroneous because"+" (likely the calling procedure) generated a wrong encoded hash."+" Please track down the encoding error and make sure to use the CrossApplicationNavigation service for navigation.","Navigation encoding wrong");s.resolve()}).catch(s.reject)}n=n.replace(/sap-ushell-enc-test=([^&]*)&/,"");n=n.replace(/[&?]sap-ushell-enc-test=([^&]*)$/,"")}}let a=this._invokeResolveHashChain(n);if(typeof u.processPostResolution==="function"){a=u.processPostResolution(n,a)}jQuery.when(a,s).done(n=>{this._adjustResolutionResultForUi5Components(n);if(n&&n.navigationMode!==undefined){n.targetNavigationMode=i.getExternalNavigationMode(n.navigationMode)}else{l.error("Resolution Result doesn't contain mandatory navigationMode!","sap.ushell.services.NavTargetResolutionInternal")}if(o(n)&&!n.hasOwnProperty("sap-system")){const t=this._getSapSystem(e,n);if(t){n["sap-system"]=t}}r.end("sap.ushell.navigation.resolveHashFragment");t.resolve(n)}).fail(t.reject)}).fail(t.reject);return t.promise().done(t=>this._recordNavigation("resolveHashFragment",{sHashFragment:e},t))};this._invokeResolveHashChain=function(e){const t=v.map(e=>e);return this._nextResolveHashFragment(t,e).done(e=>{S=e})};this.baseResolveHashFragment=g.bind(this);this._getGetLinksResolver=function(e){let t;if(this._isClientSideTargetResolutionEnabled()){t=this._getLinksClientSide.bind(this);return{resolver:t,warning:undefined,isGetSemanticObjectLinksCall:false}}if(Object.prototype.toString.apply(e.paramsOptions)==="[object Array]"&&e.paramsOptions.length>0){l.warning("Parameter options supplied to #getLinks will be ignored because FLP is not configured to use sap.ushell.services.ClientSideTargetResolution for target resolution",`provided parameters options: ${JSON.stringify(e.paramsOptions,null,4)}`,"sap.ushell.services.NavTargetResolutionInternal")}t=u&&u.getLinks&&u.getLinks.bind(u);if(t){return{resolver:t,warning:undefined,isGetSemanticObjectLinksCall:false}}t=u&&u.getSemanticObjectLinks&&u.getSemanticObjectLinks.bind(u);if(t){return{resolver:t,warning:e.hasOwnProperty("action")?"the action argument was given, however, NavTargetResolutionAdapter does not implement getLinks method. Action will be ignored.":undefined,isGetSemanticObjectLinksCall:true}}return{resolver:undefined,warning:"Cannot determine resolver for getLinks method",isGetSemanticObjectLinksCall:undefined}};this.getLinks=function(e){const t=e.semanticObject;const n=e.params;const s=e.ignoreFormFactor;const i=e.ui5Component;const r=e.appStateKey;const a=e.compactIntents;const o=new jQuery.Deferred;if(/\?/.test(t)){throw new Error("Parameter must not be part of semantic object")}let u=n===undefined?undefined:JSON.parse(JSON.stringify(n));if(r){u=u||{};u["sap-xapp-state"]=encodeURIComponent(r)}const p=this._getGetLinksResolver(e);if(p.warning){l.warning("A problem occurred while determining the resolver for getLinks",p.warning,"sap.ushell.services.NavTargetResolutionInternal")}const h=p.resolver;if(h){const n=function(e){if(a){this._shortenGetSemanticObjectLinksResults(e,i).done(o.resolve)}else{o.resolve(e)}}.bind(this);if(p.isGetSemanticObjectLinksCall){const e={target:{semanticObject:t,action:"dummyAction"},params:u};c.getServiceAsync("ShellNavigationInternal").then(r=>{r.hrefForExternal(e,true,i).then(e=>{const i=e.params||u;h(t,i,s).then(n).catch(o.reject)}).catch(o.reject)})}else{h(e).done(n).fail(o.reject)}}else{o.resolve([])}return o.promise().done(t=>this._recordNavigation("getLinks",{oArgs:e},t))};this.getDistinctSemanticObjects=function(){const e=new jQuery.Deferred;if(this._isClientSideTargetResolutionEnabled()){c.getServiceAsync("ClientSideTargetResolution").then(e=>e.getDistinctSemanticObjects()).then(e.resolve).catch(e.reject);return e.promise().done(e=>this._recordNavigation("getDistinctSemanticObjects",{},e))}if(u&&u.getDistinctSemanticObjects){return u.getDistinctSemanticObjects()}l.error("Cannot execute getDistinctSemanticObjects method","ClientSideTargetResolution must be enabled or NavTargetResolutionAdapter must implement getDistinctSemanticObjects method","sap.ushell.services.NavTargetResolutionInternal");return e.reject(new Error("Cannot execute getDistinctSemanticObjects")).promise()};this._getLinksClientSide=function(e){const n=new jQuery.Deferred;const s=new jQuery.Deferred;if((e.params||{}).hasOwnProperty("sap-intent-param")){const i=`#${e.semanticObject}-dummyAction?${t.paramsToString(e.params)}`;this.expandCompactHash(i).done(e=>{const n=t.parseShellHash(e);s.resolve(n.params)}).fail(n.reject)}else{s.resolve(e.params)}s.done(()=>{c.getServiceAsync("ClientSideTargetResolution").then(t=>t.getLinks(e)).then(n.resolve).catch(n.reject)});return n.promise()};this._shortenGetSemanticObjectLinksResults=function(e,n){const s=[];let i=0;let r=e.length;const a=new jQuery.Deferred;c.getServiceAsync("ShellNavigationInternal").then(o=>{e.forEach(e=>{const c=t.parseShellHash(e.intent);const u=o.compactParams(c.params,undefined,n);s.push(u);s[i].done(((n,i)=>{s[n]={text:e.text,intent:`#${c.semanticObject}-${c.action}?${t.paramsToString(i)}`}}).bind(null,i)).fail(((t,n)=>{l.warning("Cannot shorten GetSemanticObjectLinks result, using expanded form",`Failure message: ${n}; intent had title ''${e.title}'' and link ''${e.intent}'`,"sap.ushell.services.NavTargetResolutionInternal");s[t]={text:e.text,intent:e.intent}}).bind(null,i)).always(()=>{r--;if(r===0){a.resolve(s)}});i++})}).catch(a.reject);return a.promise()};this.isIntentSupported=function(e){const t={};const n=new jQuery.Deferred;if(this._isClientSideTargetResolutionEnabled()){c.getServiceAsync("ClientSideTargetResolution").then(t=>t.isIntentSupported(e)).then(n.resolve).catch(n.reject);return n.promise()}if(u.isIntentSupported){return u.isIntentSupported(e)}e.forEach(e=>{t[e]={supported:undefined}});return n.resolve(t).promise()};this._isIntentSupported=function(e){const t={};const n=new jQuery.Deferred;if(this._isClientSideTargetResolutionEnabled()){c.getServiceAsync("ClientSideTargetResolution").then(t=>t.isIntentSupported(e)).then(n.resolve).catch(n.reject);return n.promise()}if(u.isIntentSupported){return u.isIntentSupported(e)}e.forEach(e=>{t[e]={supported:undefined}});return n.resolve(t).promise()};this.isNavigationSupported=function(e){const n=new jQuery.Deferred;let s=[];s=e.map(e=>{if(typeof e==="string"){return e}return`#${t.constructShellHash(e)}`});this._isIntentSupported(s).done(e=>{const t=s.map(t=>e[t]||{supported:false});n.resolve(t)}).fail(n.reject.bind(n));return n.promise().done(t=>this._recordNavigation("isNavigationSupported",{aIntents:e},t))};this._recordNavigation=function(e,t,n){const s=f?.usageRecorder||{};if(s.enabled){const i=s.serviceUrl||"/navigation/api/v2/record";b.post(i,{headers:{"content-type":"application/json; charset=utf-8"},data:{function:e,parameters:JSON.stringify(t),result:JSON.stringify(n)}})}return n};this.registerCustomResolver=function(e){if(typeof e.name!=="string"){l.error("NavTargetResolutionInternal: Custom Resolver must have name {string} member");return false}if(typeof e.isApplicable!=="function"){l.error("NavTargetResolutionInternal: Custom Resolver must have isApplicable member");return false}if(typeof e.resolveHashFragment!=="function"){l.error('NavTargetResolutionInternal: Custom Resolver must have "resolveHashFragment" member');return false}v.push(e);return true};if(f&&Array.isArray(f.resolveLocal)){m=f.resolveLocal.map(e=>e.linkId);this.registerCustomResolver({name:"localResolveNavigationResolver",cleanHash:function(e){if(e===""){return"#"}const n=t.parseShellHash(e.substring(1));if(!n){return"#"}e=`#${n.semanticObject}-${n.action}`;return e},_getIndex:function(e){const t=this.cleanHash(e);return m.indexOf(t.substring(1))},isApplicable:function(e){return this._getIndex(e)>=0},resolveHashFragment:function(e){const n=this._getIndex(e);const s=new jQuery.Deferred;const i=JSON.parse(JSON.stringify(f.resolveLocal[n].resolveTo));const r=t.parseShellHash(e);if(r&&r.params){const e=t.paramsToString(r.params);if(e){const t=i.url.indexOf("?")>=0;i.url=i.url+(t?"&":"?")+e}}s.resolve(i);return s.promise()}})}this.registerCustomResolver({name:"LocalResolver",aElement:undefined,cleanHash:function(e){if(e===""){return undefined}const n=t.parseShellHash(e.substring(1));if(!n){return undefined}e=`#${n.semanticObject}-${n.action}`;return e},isApplicable:function(e){e=this.cleanHash(e);if(!e){return false}return e==="#Test-url"||e==="#Test-local1"||e==="#Test-local2"||e==="#Test-config"||e==="#Test-clear"},parseUrl:function(e){if(!this.aElement){this.aElement=window.document.createElement("a")}this.aElement.href=e;return this.aElement},resolveHashFragment:function(t){const n=new jQuery.Deferred;const s=this;t=this.cleanHash(t);if(!t){return false}const i={"#Test-config":{applicationType:"URL",url:"/sap/bc/ui5_ui5/ui2/ushell/test-resources/sap/ushell/demoapps/FioriSandboxConfigApp",additionalInformation:"SAPUI5.Component=sap.ushell.demoapps.FioriSandboxConfigApp",navigationMode:"embedded"},none:{applicationType:"URL",url:"",additionalInformation:""}};function r(e){if(localStorage){return localStorage[e]}return undefined}function a(t){if(e.calculateOrigin(s.parseUrl(t))!==e.calculateOrigin(window.location)){return undefined}return t}function o(e){return new URLSearchParams(window.location.search).get(e)}function c(e,t){if(localStorage){localStorage[e]=t}}let u;if(i[t]){u=i[t]}else if(t==="#Test-clear"){c("sap.ushell.#Test-local1",undefined);c("sap.ushell.#Test-local2",undefined);l.info("NavTargetResolutionInternal: Local storage keys for #Test have been cleared");u=i["#Test-config"]}else if(t==="#Test-local1"||t==="#Test-local2"||t==="#Test-url"){u=r(`sap.ushell.${t}`);let e;if(!u||u==="undefined"){e={applicationType:"URL",navigationMode:"embedded"}}else{e=JSON.parse(u)}if(window.location.hostname==="localhost"||f&&f.allowTestUrlComponentConfig){const n=`sap-ushell-test-${t.substring(6)}`;const s=o(`${n}-additionalInformation`);if(s){e.additionalInformation=s}const i=o(`${n}-url`);if(i){e.url=a(i)}}if(!e.url){l.info(`NavTargetResolutionInternal: No configured app for ${t} found ( local storage or url params sap-ushell-test-local1-url  sap-ushell-test-local1-additionalInfo  not supplied? `);l.info("NavTargetResolutionInternal: Defaulting to config app ...\n");n.reject(new Error("URL is not resolvable"));return n.promise()}e.url=a(e.url);u=e}if(u.url===undefined){n.reject(new Error("URL is not resolvable"));return n.promise()}l.info(`NavTargetResolutionInternal: As URL:  http://localhost:8080/sap/bc/ui5_ui5/ui2/ushell/shells/abap/FioriLaunchpad.html?sap-ushell-test-local1-url=${encodeURIComponent(u&&u.url||"")}&sap-ushell-test-local1-additionalInformation=${encodeURIComponent(u&&u.additionalInfo||"")}#Test-local1`);l.info(`NavTargetResolutionInternal: Resolving ${t} to ${JSON.stringify(u)}`);n.resolve(u);return n.promise()}});this.getCurrentResolution=function(){return S}}u.hasNoAdapter=false;return u});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Navigation", ["sap/base/Log","sap/base/util/deepClone","sap/base/util/deepExtend","sap/base/util/isPlainObject","sap/base/util/ObjectPath","sap/ui/base/Object","sap/ui/thirdparty/hasher","sap/ushell/appIntegration/AppLifeCycle","sap/ushell/Container","sap/ushell/services/Navigation/utils","sap/ushell/services/AppConfiguration","sap/ushell/TechnicalParameters","sap/ushell/utils","sap/ushell/utils/type","sap/ushell/utils/UrlParsing"],(t,e,a,n,i,s,r,p,o,c,l,u,h,f,g)=>{"use strict";function m(m,y,d){let S;if(d&&d.config){S=d.config}this.getTargetWithCurrentSystem=function(e,a){if(typeof e!=="string"&&!n(e)&&e!==undefined){t.error("Unexpected input type",null,"sap.ushell.services.Navigation");return undefined}if(e===undefined){return undefined}let i;let s;const r=l.getCurrentApplication();if(a){let e;try{e=a.getComponentData().startupParameters}catch(t){}if(!n(e)){t.error("Cannot call getComponentData on component","the component should be an application root component","sap.ushell.services.Navigation")}else{if(e.hasOwnProperty("sap-system")){i=e["sap-system"][0]}if(e.hasOwnProperty("sap-ushell-next-navmode")){s=e["sap-ushell-next-navmode"][0]}}}else{if(r&&r["sap-system"]){i=r["sap-system"]}else if(r&&r.url){i=new URL(r.url,window.location.href).searchParams.get("sap-system")}if(r&&r["sap-ushell-next-navmode"]){s=r["sap-ushell-next-navmode"]}else if(r&&r.url){s=new URL(r.url,window.location.href).searchParams.get("sap-ushell-next-navmode")}}let p;if(r){p=r.contentProviderId}const o=c.injectParameters({type:f,inject:{"sap-system":i,"sap-ushell-navmode":s,"sap-app-origin-hint":p},injectEmptyString:{"sap-app-origin-hint":true},args:e});return o};this.amendTargetWithSapUshellEncTestParameter=function(e){if(localStorage&&localStorage["sap-ushell-enc-test"]==="false"){return e}if(!S||!S["sap-ushell-enc-test"]){if(localStorage&&localStorage["sap-ushell-enc-test"]!=="true"){return e}}if(typeof e!=="string"&&!n(e)&&e!==undefined){t.error("Unexpected input type",null,"sap.ushell.services.Navigation");return undefined}if(e===undefined){return undefined}if(n(e)){const t=a({},e);if(t.target&&t.target.shellHash){if(typeof t.target.shellHash==="string"){if(t.target.shellHash!=="#"&&t.target.shellHash!==""){t.target.shellHash=this.amendTargetWithSapUshellEncTestParameter(t.target.shellHash)}}return t}t.params=t.params||{};t.params["sap-ushell-enc-test"]=["A B%20C"];return t}let i=e;if(!/[?&]sap-system=/.test(i)){const t=i.indexOf("?")>-1?"&":"?";i+=`${t}sap-ushell-enc-test=${encodeURIComponent("A B%20C")}`}return i};this._extractInnerAppRoute=function(e){if(typeof e==="string"){const t=e.split("&/");const a=t.shift();return{intent:a,innerAppRoute:t.length>0?`&/${t.join("&/")}`:""}}if(n(e)){const t=i.get("target.shellHash",e);if(typeof t==="string"){const{intent:a,innerAppRoute:n}=this._extractInnerAppRoute(t);e.target.shellHash=a;return{intent:e,innerAppRoute:n}}if(e.hasOwnProperty("appSpecificRoute")){const t=e.appSpecificRoute;delete e.appSpecificRoute;const a=typeof t==="string"&&t.indexOf("&/")!==0&&t.length>0;return{innerAppRoute:a?`&/${t}`:t,intent:e}}return{intent:e,innerAppRoute:""}}t.error("Invalid input parameter","expected string or object","sap.ushell.services.Navigation");return{intent:e}};this._injectInnerAppRoute=function(t,e){if(!e){return t}if(typeof t==="string"){return t+e}if(n(t)){const a=i.get("target.shellHash",t);if(typeof a==="string"){t.target.shellHash=this._injectInnerAppRoute(a,e);return t}t.appSpecificRoute=e}return t};this.getHref=async function(a={},n){try{let i=e(a);if(!i.target){t.debug("Navigation.getHref: No target provided using current hash as fallback","sap.ushell.services.Navigation");const e=g.parseShellHash(r.getHash());i.target={semanticObject:e.semanticObject,action:e.action,contextRaw:e.contextRaw};i.params=e.params;if(e.appSpecificRoute&&!i.appSpecificRoute){i.appSpecificRoute=e.appSpecificRoute}}const{intent:s,innerAppRoute:l}=this._extractInnerAppRoute(i);await c.addXAppStateFromParameter(s,"sap-xapp-state-data");i=this.getTargetWithCurrentSystem(s,n);i=await c.injectStickyParameters({args:i,appLifeCycle:p,technicalParameters:u,type:f});i=this.amendTargetWithSapUshellEncTestParameter(i);i=this._injectInnerAppRoute(i,l);const h=await o.getServiceAsync("ShellNavigationInternal");return h.hrefForExternal(i,undefined,n)}catch(e){t.error("href could not be calculated",e,"sap.ushell.services.Navigation")}};this.backToPreviousApp=async function(){const t=await this.isInitialNavigation();if(t){return this.navigate({target:{shellHash:"#"},writeHistory:false})}this.historyBack();return undefined};this.historyBack=function(e){let a=-1;if(e&&typeof e==="number"){if(e<=0){t.warning("historyBack called with an argument <= 0 and will result in a forward navigation or refresh","expected was an argument > 0","sap.ushell.services.Navigation#historyBack")}a=e*-1}window.history.go(a)};this.isInitialNavigation=async function(){try{const t=await o.getServiceAsync("ShellNavigationInternal");const e=t.isInitialNavigation();if(typeof e==="undefined"){return true}return e}catch(e){t.debug("ShellNavigationInternal service not available","This will be treated as the initial navigation","sap.ushell.services.Navigation");return true}};this.navigate=async function(a,n){try{let t=e(a);const i=a.writeHistory;this._processShellHashWithParams(t);const{intent:s,innerAppRoute:r}=this._extractInnerAppRoute(t);const l=await o.getServiceAsync("AppLifeCycle");const h=await o.getServiceAsync("ShellNavigationInternal");const g=l.getCurrentApplication();const m=await(g&&g.getIntent());const y=e(a);this._checkIfAppNeedsToBeReloaded(y,g,m,h.hashChanger);await c.addXAppStateFromParameter(s,"sap-xapp-state-data");t=this.getTargetWithCurrentSystem(s,n);t=await c.injectStickyParameters({args:t,appLifeCycle:p,technicalParameters:u,type:f});t=this.amendTargetWithSapUshellEncTestParameter(t);delete t.writeHistory;t=this._injectInnerAppRoute(t,r);await h.toExternal(t,n,i)}catch(e){t.error("Navigation.navigate failed",e,"sap.ushell.services.Navigation")}};this._checkIfAppNeedsToBeReloaded=function(t,e,a,n){if(!e||!a||!t||!t.target){return}if(t.target.shellHash){const e=g.parseShellHash(t.target.shellHash)||{};t.target={semanticObject:e.semanticObject,action:e.action,contextRaw:e.contextRaw};t.appSpecificRoute=e.appSpecificRoute;t.params=Object.assign({},t.params,e.params)}if(t.appSpecificRoute){return}if(e.applicationType!=="UI5"){return}if(t.target.semanticObject!==a.semanticObject){return}if(t.target.action!==a.action){return}const i={params:{}};if(t.params){Object.keys(t.params).forEach(e=>{const a=t.params[e];const n=Array.isArray(a)?a:[a];i.params[e]=n.map(t=>t.toString())})}if(!g.haveSameIntentParameters(i,a)){return}n.setReloadApplication(true)};this.getPrimaryIntent=async function(t,e){const a={};a.tags=["primaryAction"];a.semanticObject=t;if(e?.params){a.params=e.params}const[n]=await this.getLinks([a]);if(n.length===0){delete a.tags;a.action="displayFactSheet";const[t]=await this.getLinks([a]);return t.length===0?null:t.sort((t,e)=>{const a=/^#\w+-displayFactSheet(?:$|\?.)/;if(t.intent===e.intent){return 0}const n=a.test(t.intent)^a.test(e.intent);if(n){return a.test(t.intent)?-1:1}return t.intent<e.intent?-1:1})[0]}return n.length===0?null:n.sort((t,e)=>{if(t.intent===e.intent){return 0}return t.intent<e.intent?-1:1})[0]};this.getLinks=async function(t=[]){if(!Array.isArray(t)){throw new Error("Unexpected Input: aLinkFilter has to be an array with plain objects!")}const e=t.every(t=>{if(Array.isArray(t)){return false}if(n(t)){return true}return false});if(!e){throw new Error("Unexpected Input: aLinkFilter has to be an array with plain objects!")}if(t.length===0){t.push({})}return Promise.all(t.map(async t=>{let e=a({},t);e.compactIntents=!!e.compactIntents;e.action=e.action||undefined;e.paramsOptions=c.extractGetLinksParameterOptions(e.params);e=await c.injectStickyParameters({args:e,appLifeCycle:p,technicalParameters:u,type:f});let n;if(e.params){n=c.extractGetLinksParameterDefinition(e.params)}else{n=e.params}let i=this.getTargetWithCurrentSystem({params:n},e.ui5Component).params;i=this.amendTargetWithSapUshellEncTestParameter({params:i}).params;if(e.appStateKey){i["sap-xapp-state"]=[e.appStateKey];delete e.appStateKey}e.params=i;const s=await o.getServiceAsync("NavTargetResolutionInternal");return h.promisify(s.getLinks(e))}))};this.getSemanticObjects=async function(){const t=await o.getServiceAsync("NavTargetResolutionInternal");return h.promisify(t.getDistinctSemanticObjects())};this.isNavigationSupported=async function(t,a){const n=e(t).map(t=>{const{intent:e}=this._extractInnerAppRoute(t);return this.getTargetWithCurrentSystem(e,a)});const i=await o.getServiceAsync("NavTargetResolutionInternal");return h.promisify(i.isNavigationSupported(n))};this.isUrlSupported=async function(t){if(typeof t!=="string"){throw new Error("Url is not supported: It is not a string.")}if(g.isIntentUrl(t)){const e=g.getHash(t);const a={target:{shellHash:e}};const n=await this.isNavigationSupported([a]);if(!n[0].supported){throw new Error("Url is not supported: No matching intent was found.")}}};this.createEmptyAppState=async function(t,e,a,n){if(!s.isObjectA(t,"sap.ui.core.UIComponent")){throw new Error("The passed oAppComponent must be a UI5 Component.")}const i=await o.getServiceAsync("AppState");return i.createEmptyAppState(t,e,a,n)};this.getStartupAppState=function(t){this._checkComponent(t);const e=t.getComponentData()&&t.getComponentData()["sap-xapp-state"]&&t.getComponentData()["sap-xapp-state"][0];return this.getAppState(t,e)};this._checkComponent=function(t){if(!s.isObjectA(t,"sap.ui.core.UIComponent")){throw new Error("oComponent passed must be a UI5 Component")}};this.getAppState=async function(e,a){this._checkComponent(e);const n=await o.getServiceAsync("AppState");if(typeof a!=="string"){if(a!==undefined){t.error("Illegal Argument sAppStateKey ")}return n.createEmptyUnmodifiableAppState(e)}return h.promisify(n.getAppState(a))};this.getAppStateData=async function(e){if(!Array.isArray(e)){throw new Error("Unexpected Input: aAppStateKeys has to be an array with app state keys!")}const a=await o.getServiceAsync("AppState");return Promise.all(e.map(e=>{if(typeof e!=="string"){if(e!==undefined){t.error("Illegal Argument sAppStateKey ")}return Promise.resolve({})}return h.promisify(a.getAppState(e)).then(t=>t.getData()).catch(()=>({}))}))};this.saveAppStates=function(t){const e=t.map(t=>h.promisify(t.save()));return Promise.all(e)};this._processShellHashWithParams=function(t){if(n(t)){const e=!!t.processParams;const a=i.get("target.shellHash",t);const s=t.params;if(e&&a&&n(s)){const e=g.parseShellHash(a);t.target={semanticObject:e.semanticObject,action:e.action,contextRaw:e.contextRaw};t.appSpecificRoute=e.appSpecificRoute;t.params=Object.assign({},s,e.params)}}};this.getSupportedAppStatePersistencyMethods=async function(){const t=await o.getServiceAsync("AppState");return t.getSupportedPersistencyMethods()};this.updateAppStatePersistencyMethodAndSave=async function(t,e,a){const n=await o.getServiceAsync("AppState");return h.promisify(n.makeStatePersistent(t,e,a))};this.resolveIntent=async function(t){const e=await o.getServiceAsync("NavTargetResolutionInternal");return h.promisify(e.resolveHashFragment(t)).then(t=>({url:t.url}))}}m.hasNoAdapter=true;return m});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Navigation/compatibility", ["sap/base/util/isPlainObject","sap/ushell/Container","sap/ushell/services/Navigation/utils","sap/ushell/TechnicalParameters","sap/ushell/utils","sap/ushell/utils/type"],(t,e,a,n,s,r)=>{"use strict";const i={};i.getLinks=async function(a={}){const n=await e.getServiceAsync("Navigation");if(t(a)){const[t]=await n.getLinks([a]);return t}const s=a.reduce((t,[e])=>{t.push(e);return t},[]);const r=await n.getLinks(s);const i=r.reduce((t,e)=>{t.push([e]);return t},[]);return i};i.getAppStateData=async function(t){const a=await e.getServiceAsync("Navigation");if(typeof t==="string"){const[e]=await a.getAppStateData([t]);return e}const n=t.reduce((t,[e])=>{t.push(e);return t},[]);const s=await a.getAppStateData(n);const r=s.reduce((t,e)=>{t.push([e]);return t},[]);return r};i.getSemanticObjectLinks=async function(t,i,c,o,p,u){const g=await e.getServiceAsync("Navigation");const[l]=await s.requireAsync(["sap/ushell/appIntegration/AppLifeCycle"]);let m=await a.injectStickyParameters({args:{params:i},appLifeCycle:l,technicalParameters:n,type:r});m=g.getTargetWithCurrentSystem(m,o).params;m=g.amendTargetWithSapUshellEncTestParameter({params:m}).params;const y=await e.getServiceAsync("NavTargetResolutionInternal");if(!Array.isArray(t)){const e=y.getLinks({semanticObject:t,params:m,ignoreFormFactor:c,ui5Component:o,appStateKey:p,compactIntents:!!u});return s.promisify(e)}return Promise.all(t.map(async t=>{const[e,a,n,r,i,c]=t;const o=y.getLinks({ignoreFormFactor:!!n,compactIntents:!!c,semanticObject:e,params:a,ui5Component:r,appStateKey:i});const p=await s.promisify(o);return[p]}))};i.isIntentSupported=async function(t,a){const n=await e.getServiceAsync("Navigation");const r={};const i=t.map(t=>{const e=n.getTargetWithCurrentSystem(t,a);r[e]=t;return e});const c=await e.getServiceAsync("NavTargetResolutionInternal");const o=c.isNavigationSupported(i);const p=await s.promisify(o);return p.reduce((t,e,a)=>{const n=i[a];const s=r[n];t[s]=e;return t},{})};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Navigation/utils", ["sap/base/util/isPlainObject","sap/base/util/ObjectPath","sap/base/Log","sap/ushell/Container","sap/ushell/utils/UrlParsing"],(t,e,r,n,a)=>{"use strict";const s={};s.extractGetLinksParameterOptions=function(t){return s._parseGetLinksParameters(t).filter(t=>Object.keys(t.options).length>0).map(t=>({name:t.name,options:t.options}))};s.extractGetLinksParameterDefinition=function(t){return s._parseGetLinksParameters(t).reduce((t,e)=>{t[e.name]=e.value;return t},{})};s._parseGetLinksParameters=function(t){if(Object.prototype.toString.apply(t)!=="[object Object]"){return[]}const e=JSON.parse(JSON.stringify(t));return Object.keys(e).map(t=>{let r=e[t];let n={};if(Object.prototype.toString.apply(r)==="[object Object]"){r=r.value;delete e[t].value;n=e[t]}return{name:t,value:r,options:n}})};s._safeParseToObject=function(t){try{return JSON.parse(t)}catch(t){r.error("Cannot parse the given string to object",t)}return null};s._createAppStateFromData=function(t){return n.getServiceAsync("AppState").then(e=>{const r=e.createEmptyAppState(null);r.setData(t);r.save();return r.getKey()})};s._extractParameter=function(n,c){let i;let o=null;if(typeof n==="string"){if(n.indexOf(`${c}=`)===-1){return{intent:n,data:null}}const t=a.parseShellHash(n);if(!t){return{intent:n,data:null}}o=t.params[c];delete t.params[c];i=a.constructShellHash(t);return{intent:i,data:o}}if(t(n)){const t=e.get("target.shellHash",n);if(typeof t==="string"){const e=s._extractParameter(t,c);n.target.shellHash=e.intent;return{intent:n,data:e.data}}const r=n.params;if(r&&r[c]){const t=r[c];o=typeof t==="string"?[t]:t;delete r[c]}return{intent:n,data:o}}r.error("Invalid input parameter","expected string or object");return{intent:n}};s.addXAppStateFromParameter=function(t,e){const r=s._extractParameter(t,e);const n=r.intent;const a=r.data&&r.data[0];if(!a){return Promise.resolve()}const c=s._safeParseToObject(a);if(!c){return Promise.resolve()}return s._createAppStateFromData(c).then(t=>{s._injectParameter(n,"sap-xapp-state",t)})};s._injectParameter=function(t,r,n){if(typeof t==="string"){const e=a.parseShellHash(t);e.params[r]=n;return a.constructShellHash(e)}if(Object.prototype.toString.apply(t)==="[object Object]"){const a=e.get("target.shellHash",t);if(typeof a==="string"){t.target.shellHash=s._injectParameter(a,r,n);return t}if(!t.params){t.params={}}t.params[r]=n}return t};s.injectParameters=function(t){const e=t.inject;const r=t.injectEmptyString||{};const n=t.type;const a=t.args;function c(t,e){return t||t===""&&e}if(n.isPlainObject(a)){if(a.target&&a.target.shellHash){if(typeof a.target.shellHash==="string"){a.target.shellHash=s.injectParameters({inject:e,injectEmptyString:r,type:t.type,args:a.target.shellHash})}return a}const n=Object.keys(e).reduce((t,n)=>{const a=e[n];const s=r[n]===true;if(c(a,s)&&typeof t==="string"){const e=new RegExp(`[&]${n}`);const r=!e.test(t);if(r){const e=t?"&":"";t+=`${e+n}=${a}`}}else if(c(a,s)&&!t.hasOwnProperty(n)){t[n]=a}return t},a.params||{});if(n&&Object.keys(n).length>0){a.params=n}return a}let i=a;if(i){Object.keys(e).forEach(t=>{const n=e[t];const a=r[t]===true;const s=new RegExp(`[?&]${t}`);const o=!s.test(i);if(c(n,a)&&o){const e=i.indexOf("?")>-1?"&":"?";i+=`${e+t}=${n}`}})}return i};s.injectStickyParameters=function(t){return n.getServiceAsync("AppLifeCycle").then(e=>s._injectStickyParameters(t,e))};s._injectStickyParameters=function(t,e){if(!e||Object.keys(e).length<=0){return t.args}const r=e.getCurrentApplication();if(!r||Object.keys(r).length<=0){return t.args}const n=t.appLifeCycle;const a=t.technicalParameters;const c=a.getParameters({sticky:true}).reduce((t,e)=>{const s=e.name;const c=r.componentInstance;const i=r.applicationType;let o;if(i==="UI5"){o={}}else{o=n.getCurrentApplication().container}const p=a.getParameterValueSync(s,c,o,i);const l=e.stickyName||s;t[l]=p;return t},{});const i={type:t.type,inject:c,args:t.args};return s.injectParameters(i)};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/NavigationDataProvider", ["sap/ushell/resources","sap/ushell/utils","sap/ushell/utils/LaunchpadError"],(t,s,e)=>{"use strict";function i(){this.S_COMPONENT_NAME="sap.ushell.services.NavigationDataProvider";this._init.apply(this,arguments)}i.prototype._init=function(t,s){this.oAdapter=t};i.prototype.getNavigationData=function(){return new Promise((i,a)=>{const n=this.oAdapter.getSystemAliases&&this.oAdapter.getSystemAliases()||{};s.promisify(this.oAdapter.getInbounds()).then(t=>{i({systemAliases:n,inbounds:t})}).catch(s=>{const i=new e(s.message,{component:this.S_COMPONENT_NAME,description:t.i18n.getText("NavigationDataProvider.CannotLoadData"),detail:s},s);a(i)})})};i.hasNoAdapter=false;return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Notifications", ["sap/ui/thirdparty/jquery","sap/ushell/Container","sap/ushell/services/NotificationsV2"],(jQuery,t)=>{"use strict";function i(i,n,e){this._getNotificationsV2=function(){if(!this.oNotificationsV2Promise){this.oNotificationsV2Promise=t.getServiceAsync("NotificationsV2");this.oNotificationsV2Promise.then(t=>{this._oNotificationsV2Service=t})}return this.oNotificationsV2Promise};this._proxyV2=function(t,i){const n=new jQuery.Deferred;this._getNotificationsV2().then(n=>n[t].apply(n,i)).then(n.resolve).catch(n.reject);return n.promise()};this._proxyV2sync=function(t,i,n){const e=this._oNotificationsV2Service;return e[t].apply(e,n)};this.isEnabled=function(){const t=e?.config;return!!(t?.serviceUrl&&t?.enabled)};this.init=function(){this._proxyV2("init")};this.getUnseenNotificationsCount=function(){return this._proxyV2("getUnseenNotificationsCount")};this.getNotificationsCount=function(){return this._proxyV2sync("getNotificationsCount","0")};this.getNotificationsByTypeWithGroupHeaders=function(){return this._proxyV2("getNotificationsByTypeWithGroupHeaders")};this.getNotificationsGroupHeaders=function(){return this._proxyV2("getNotificationsGroupHeaders")};this.getNotificationsBufferInGroup=function(t,i,n){return this._proxyV2("getNotificationsBufferInGroup",arguments)};this.getNotificationsBufferBySortingType=function(t,i,n){return this._proxyV2("getNotificationsBufferBySortingType",arguments)};this.getNotifications=function(){return this._proxyV2("getNotifications",arguments)};this.executeBulkAction=function(t,i){return this._proxyV2("executeBulkAction",arguments)};this.dismissBulkNotifications=function(t){return this._proxyV2("dismissBulkNotifications",arguments)};this.executeAction=function(t,i){return this._proxyV2("executeAction",arguments)};this.sendBulkAction=function(t,i){return this._proxyV2("sendBulkAction",arguments)};this.sendBulkDismiss=function(t){return this._proxyV2("sendBulkDismiss",arguments)};this.markRead=function(t){return this._proxyV2("markRead",arguments)};this.dismissNotification=function(t){return this._proxyV2("dismissNotification",arguments)};this.registerNotificationsUpdateCallback=function(t){this._proxyV2("registerNotificationsUpdateCallback",arguments)};this.registerDependencyNotificationsUpdateCallback=function(t,i){this._proxyV2("registerNotificationsUpdateCallback",arguments)};this.registerNotificationCountUpdateCallback=function(t){this._proxyV2("registerNotificationCountUpdateCallback",arguments)};this.notificationsSeen=function(){this._setNotificationsAsSeen()};this.isFirstDataLoaded=function(){return this._proxyV2sync("isFirstDataLoaded",false)};this.readSettings=function(){return this._readSettingsFromServer()};this.saveSettingsEntry=function(t){return this._writeSettingsEntryToServer(t)};this.getUserSettingsFlags=function(){return this._proxyV2("getUserSettingsFlags")};this.setUserSettingsFlags=function(t){this._proxyV2("setUserSettingsFlags",arguments)};this._getNotificationSettingsMobileSupport=function(){return this._proxyV2sync("_getNotificationSettingsMobileSupport",false)};this._getDismissNotifications=function(){return this._proxyV2sync("_getDismissNotifications",[])};this.filterDismisssedItems=function(t,i){return this._proxyV2sync("_getDismissNotifications",[],arguments)};this._addDismissNotifications=function(t){this._proxyV2sync("_getDismissNotifications",null,arguments)};this._initializeDismissNotifications=function(){this._proxyV2sync("_initializeDismissNotifications")};this._getNotificationSettingsEmailSupport=function(){return this._proxyV2sync("_getNotificationSettingsEmailSupport",false)};this.destroy=function(){this._proxyV2sync("destroy")};this._readUnseenNotificationsCount=function(t){return this._proxyV2("_readUnseenNotificationsCount",arguments)};this.readNotificationsCount=function(){return this._proxyV2("readNotificationsCount",arguments)};this._getNotificationSettingsAvailability=function(){return this._proxyV2("_getNotificationSettingsAvailability")};this._setNotificationsAsSeen=function(){return this._proxyV2("_setNotificationsAsSeen")};this._readNotificationsData=function(t){return this._proxyV2("_readNotificationsData",arguments)};this._getHeaderXcsrfToken=function(){return this._proxyV2sync("_getHeaderXcsrfToken")};this._getDataServiceVersion=function(){return this._proxyV2sync("_getDataServiceVersion")};this._getRequestURI=function(t,i){return this._proxyV2sync("_getRequestURI","",arguments)};this._readSettingsFromServer=function(){return this._proxyV2("readSettings")};this._readMobileSettingsFromServer=function(){return this._proxyV2sync("_readMobileSettingsFromServer","")};this._readEmailSettingsFromServer=function(){return this._proxyV2sync("_readEmailSettingsFromServer","")};this._readChannelSettingsFromServer=function(t){return this._proxyV2("_readChannelSettingsFromServer",arguments)};this._checkWebSocketActivity=function(){return this._proxyV2("_checkWebSocketActivity",arguments)};this._writeSettingsEntryToServer=function(t){return this._proxyV2("_writeSettingsEntryToServer",arguments)};this._updateNotificationsConsumers=function(){this._proxyV2sync("_updateNotificationsConsumers")};this._updateDependentNotificationsConsumers=function(){this._proxyV2sync("_updateDependentNotificationsConsumers")};this._updateNotificationsCountConsumers=function(){this._proxyV2sync("_updateNotificationsCountConsumers")};this._updateAllConsumers=function(){this._proxyV2sync("_updateAllConsumers")};this._getModel=function(){return this._proxyV2sync("_getModel")};this._getMode=function(){return this._proxyV2sync("_getMode")};this._setWorkingMode=function(){this._proxyV2sync("_setWorkingMode")};this._performFirstRead=function(){this._proxyV2sync("_performFirstRead")};this._fioriClientStep=function(){this._proxyV2sync("_fioriClientStep")};this._webSocketStep=function(){this._proxyV2sync("_webSocketStep")};this._webSocketRecoveryStep=function(){this._proxyV2sync("_webSocketRecoveryStep")};this._activatePollingAfterInterval=function(){this._proxyV2sync("_activatePollingAfterInterval")};this._activatePolling=function(){this._proxyV2sync("_activatePolling")};this._formatAsDate=function(t){return new Date(t)};this._notificationAlert=function(t){this._proxyV2sync("_notificationAlert",arguments)};this._getFioriClientRemainingDelay=function(){return this._proxyV2sync("_getFioriClientRemainingDelay",arguments)};this._establishWebSocketConnection=function(){this._proxyV2sync("_establishWebSocketConnection",arguments)};this._isFioriClientMode=function(){return this._proxyV2sync("_isFioriClientMode")};this._isPackagedMode=function(){return this._proxyV2sync("_isPackagedMode")};this._setNativeIconBadge=function(t){this._proxyV2sync("_setNativeIconBadge",arguments)};this._setNativeIconBadgeWithDelay=function(){this._proxyV2sync("_setNativeIconBadgeWithDelay")};this._getIntentsFromConfiguration=function(t){return this._proxyV2sync("_getIntentsFromConfiguration",[],arguments)};this._handlePushedNotification=function(t){this._proxyV2sync("_handlePushedNotification",null,arguments)};this._registerForPush=function(){this._proxyV2sync("_registerForPush")};this._addPushNotificationHandler=function(){this._proxyV2sync("_addPushNotificationHandler")};this._isIntentBasedConsumption=function(){return this._proxyV2sync("_isIntentBasedConsumption")};this._getConsumedIntents=function(t){return this._proxyV2sync("_getConsumedIntents","",arguments)};this._revalidateCsrfToken=function(){return this._proxyV2("_revalidateCsrfToken")};this._csrfTokenInvalid=function(t){return this._proxyV2sync("_csrfTokenInvalid",true,arguments)};this._invalidCsrfTokenRecovery=function(t,i,n){this._proxyV2sync("_invalidCsrfTokenRecovery",null,arguments)};this._getWebSocketObjectObject=function(t,i){this._proxyV2sync("_getWebSocketObjectObject",null,arguments)};this.getOperationEnum=function(){return this._proxyV2sync("getOperationEnum",{})};this._readUserSettingsFlagsFromPersonalization=function(){this._proxyV2sync("_readUserSettingsFlagsFromPersonalization")};this._writeUserSettingsFlagsToPersonalization=function(t){return this._proxyV2("_writeUserSettingsFlagsToPersonalization",arguments)};this._getUserSettingsPersonalizer=function(){return this._proxyV2sync("_getUserSettingsPersonalizer")};this._updateCSRF=function(t){this._proxyV2sync("_updateCSRF",null,arguments)};this._userSettingInitialization=function(){this._proxyV2sync("_userSettingInitialization")};this._closeConnection=function(){this._proxyV2sync("_closeConnection")};this._resumeConnection=function(){this._proxyV2sync("_resumeConnection")}}i.hasNoAdapter=true;return i},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/NotificationsV2", ["sap/base/Log","sap/base/i18n/Localization","sap/ui/core/EventBus","sap/ushell/utils/Deferred","sap/ui/core/ws/SapPcpWebSocket","sap/ui/model/json/JSONModel","sap/ui/thirdparty/datajs","sap/ushell/utils","sap/ushell/Container","sap/ushell/utils/LaunchpadError"],(e,t,i,s,n,o,a,r,c,f)=>{"use strict";const u="/sap/bc/apc/iwngw/notification_push_apc";const l=60;function d(d,h,g){this.Priority={LOW:"LOW",MEDIUM:"MEDIUM",HIGH:"HIGH"};this.Nature={POSITIVE:"POSITIVE",NEGATIVE:"NEGATIVE",NEUTRAL:"NEUTRAL"};const p=new o;const N=g&&g.config;const _={getNotifications:{},getNotificationsByType:{},getNotificationsInGroup:{},getBadgeNumber:{},resetBadgeNumber:{},getNotificationTypesSettings:{},getNotificationsGroupHeaders:{},getMobileSupportSettings:{},getEmailSupportSettings:{},getWebSocketValidity:{},getNotificationCount:{}};const S=[];const T=[];const I=5e3;const m=6e3;const v={NOTIFICATIONS:0,NOTIFICATIONS_BY_TYPE:1,GET_BADGE_NUMBER:2,RESET_BADGE_NUMBER:3,GET_SETTINGS:4,GET_MOBILE_SUPPORT_SETTINGS:5,NOTIFICATIONS_GROUP_HEADERS:6,NOTIFICATIONS_IN_GROUP:7,GET_NOTIFICATIONS_COUNT:8,VALIDATE_WEBSOCKET_CHANNEL:9,GET_EMAIL_SUPPORT_SETTINGS:10,NOTIFICATIONS_BY_DATE_DESCENDING:"notificationsByDateDescending",NOTIFICATIONS_BY_PRIORITY_DESCENDING:"notificationsByPriorityDescending",NOTIFICATIONS_BY_TYPE_DESCENDING:"notificationsByTypeDescending"};const C={PACKAGED_APP:0,FIORI_CLIENT:1,WEB_SOCKET:2,POLLING:3};const b=new s;const E=new s;const y=b.promise();const P=10;const R=new Date;let D;let O;let A;let B;let U;let k=false;let w=[];let F=false;let $=false;let G=true;let q="fetch";let M;let L=false;let H;let V=false;let W=true;let J;let X;let x=false;let z=false;let j=[];let Y;this.isEnabled=function(){if(!N.enabled||!N.serviceUrl){G=false;if(N.enabled&&!N.serviceUrl){e.warning("No serviceUrl was found in the service configuration")}}else{G=true}return G};this.init=function(){if(!F&&this.isEnabled()){i.getInstance().subscribe("launchpad","sessionTimeout",this.destroy,this);Y=this.fireInitialRequest();this.lastNotificationDate=new Date;this._setWorkingMode();F=true;this.bUpdateDependencyInitiatorExists=false;this._userSettingInitialization()}i.getInstance().subscribe("launchpad","setConnectionToServer",this._onSetConnectionToServer,this)};this.fireInitialRequest=async function(){return new Promise(e=>{const t={requestUri:`${N.serviceUrl}/GetBadgeNumber()`,headers:{"X-CSRF-Token":q}};a.request(t,t=>{if(t.response){this._updateCSRF(t.response)}e()},t=>{if(t.response){this._updateCSRF(t.response)}e()})})};this.fireODataRequest=async function(e){await Y;if(e.headers&&e.headers["X-CSRF-Token"]){e.headers["X-CSRF-Token"]=q}a.request.apply(this,arguments)};this.fireODataRead=async function(e){await Y;if(e.headers&&e.headers["X-CSRF-Token"]){e.headers["X-CSRF-Token"]=q}a.read.apply(this,arguments)};this._onSetConnectionToServer=function(e,t,i){if(i.active){this._resumeConnection()}else{this._closeConnection()}};this.getUnseenNotificationsCount=function(){return Promise.resolve(p.getProperty("/UnseenCount"))};this.setUnseenNotificationsCount=function(e){return Promise.resolve(p.setProperty("/UnseenCount",e))};this.getNotificationsCount=function(){return p.getProperty("/NotificationsCount")||"0"};this._createRequest=function(e){const i={"Accept-Language":t.getLanguageTag().toString(),"X-CSRF-Token":this._getHeaderXcsrfToken()||"fetch"};return{requestUri:e,headers:i}};this.getNotificationsByTypeWithGroupHeaders=function(){const t=this._createRequest(this._getRequestURI(v.NOTIFICATIONS_BY_TYPE));return new Promise((i,s)=>{this.fireODataRequest(t,i,t=>{if(t.response&&t.response.statusCode===200&&t.response.body){i(t.response.body)}else{e.error("Notification service - oData executeAction failed: ",t,"sap.ushell.services.NotificationsV2");const i=new f(`Failed to fetch data: ${t.message}`,{dataJsError:t});s(i)}})})};this.getNotificationsGroupHeaders=function(){const t=this._createRequest(this._getRequestURI(v.NOTIFICATIONS_GROUP_HEADERS));return new Promise((i,s)=>{this.fireODataRequest(t,i,t=>{if(t.response&&t.response.statusCode===200&&t.response.body){i(t.response.body)}else{e.error("Notification service - oData executeAction failed: ",t,"sap.ushell.services.NotificationsV2");const i=new f(`Failed to fetch data: ${t.message}`,{dataJsError:t});s(i)}})})};this.getNotificationsBufferInGroup=function(t,i,s){const n=this;const o={group:t,skip:i,top:s};const a=this._createRequest(this._getRequestURI(v.NOTIFICATIONS_IN_GROUP,o));return new Promise((t,i)=>{this.fireODataRequest(a,e=>{n._updateCSRF(e.response);t(e.value)},s=>{if(s.response&&s.response.statusCode===200&&s.response.body){n._updateCSRF(s.response);t(JSON.parse(s.response.body).value)}else{e.error("Notification service - oData executeAction failed: ",s,"sap.ushell.services.NotificationsV2");const t=new f(`Failed to fetch data: ${s.message}`,{dataJsError:s});i(t)}})})};this.getNotificationsBufferBySortingType=function(t,i,s){const n=this;const o={skip:i,top:s};const a=this._createRequest(this._getRequestURI(t,o));return new Promise((o,r)=>{this.fireODataRequest(a,e=>{n._updateCSRF(e.response);o(e.value)},a=>{if(a.response&&a.response.statusCode===200&&a.response.body){n._updateCSRF(a.response);const t=this._parseJSON(a.response.body);if(t){o(t.value)}else{e.error("Notification service - oData executeAction failed: ",a,"sap.ushell.services.NotificationsV2");const t=new f(`Failed to fetch data: ${a.message}`,{dataJsError:a});r(t)}}else if(n._csrfTokenInvalid(a)&&x===false){n._invalidCsrfTokenRecovery(o,r,n.getNotificationsBufferBySortingType,[t,i,s])}else{e.error("Notification service - oData executeAction failed: ",a,"sap.ushell.services.NotificationsV2");const t=new f(`Failed to fetch data: ${a.message}`,{dataJsError:a});r(t)}})})};this.getNotifications=function(){if(H===C.FIORI_CLIENT||H===C.PACKAGED_APP){return this._readNotificationsData(false).then(()=>p.getProperty("/Notifications"))}return Promise.resolve(p.getProperty("/Notifications"))};this.executeBulkAction=function(e,t){return new Promise((i,s)=>{this.sendBulkAction(e,t).then(e=>{const t=[];const n=[];e.forEach(e=>{const i=e.NotificationId;if(e.Success){t.push(i)}else{n.push(i)}});const o={succededNotifications:t,failedNotifications:n};if(n.length){s(o)}else{i(o)}})})};this.dismissBulkNotifications=function(e){return this.sendBulkDismiss(e)};this.executeAction=function(t,i){const s=this;const n=`${N.serviceUrl}/ExecuteAction`;const o={NotificationId:t,ActionId:i};const a={requestUri:n,method:"POST",data:o,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json",DataServiceVersion:M,"X-CSRF-Token":q}};return new Promise((n,o)=>{this.fireODataRequest(a,e=>{const t={isSucessfull:true,message:""};if(e&&e.response&&e.response.statusCode===200&&e.response.body){const i=JSON.parse(e.response.body);t.isSucessfull=i.Success;t.message=i.MessageText}n(t)},a=>{const r={isSucessfull:false,message:""};if(a.response&&a.response.statusCode===200&&a.response.body){const e=JSON.parse(a.response.body);r.isSucessfull=e.Success;r.message=e.MessageText;n(r)}else if(s._csrfTokenInvalid(a)&&x===false){s._invalidCsrfTokenRecovery(n,o,s.executeAction,[t,i])}else{e.error("Notification service - oData executeAction failed: ",a,"sap.ushell.services.NotificationsV2");const t=new f(`Failed to fetch data: ${a.message}`,{dataJsError:a});o(t)}})})};this.sendBulkAction=function(t,i){const s=this;const n=`${N.serviceUrl}/BulkActionByHeader`;const o={ParentId:t,ActionId:i};const a={requestUri:n,method:"POST",data:o,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json",DataServiceVersion:M,"X-CSRF-Token":q}};return new Promise((n,o)=>{this.fireODataRequest(a,e=>{let t;if(e&&e.response&&e.response.statusCode===200&&e.response.body){const i=JSON.parse(e.response.body);t=i.value}n(t)},a=>{if(a.response&&a.response.statusCode===200&&a.response.body){const e=JSON.parse(a.response.body);const t=e.value;n(t)}else if(s._csrfTokenInvalid(a)&&x===false){s._invalidCsrfTokenRecovery(n,o,s.sendBulkAction,[t,i])}else{e.error("Notification service - oData executeBulkAction failed: ",a.message,"sap.ushell.services.NotificationsV2");const t=new f(`Failed to fetch data: ${a.message}`,{dataJsError:a});o(t)}})})};this.sendBulkDismiss=function(t){const i=this;const s=`${N.serviceUrl}/DismissAll`;const n={ParentId:t};const o={requestUri:s,method:"POST",data:n,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json",DataServiceVersion:M,"X-CSRF-Token":q}};return new Promise((s,n)=>{this.fireODataRequest(o,()=>s(),o=>{if(o.response&&o.response.statusCode===200){s()}else if(i._csrfTokenInvalid(o)&&x===false){i._invalidCsrfTokenRecovery(s,n,i.sendBulkDismiss,[t])}else{const t=o?o.message:"";e.error("Notification service - oData executeBulkAction failed: ",t,"sap.ushell.services.NotificationsV2");const i=new f(`Failed to fetch data: ${o.message}`,{dataJsError:o});n(i)}})})};this.markRead=function(t){const i=this;const s=`${N.serviceUrl}/MarkRead`;const n={NotificationId:t};const o={requestUri:s,method:"POST",data:n,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json",DataServiceVersion:M,"X-CSRF-Token":q}};return new Promise((s,n)=>{this.fireODataRequest(o,()=>s(),o=>{if(i._csrfTokenInvalid(o)&&x===false){i._invalidCsrfTokenRecovery(s,n,i.markRead,[t])}else{e.error("Notification service - oData reset badge number failed: ",o,"sap.ushell.services.NotificationsV2");const t=new f(`Failed to fetch data: ${o.message}`,{dataJsError:o});n(t)}})})};this.dismissNotification=function(t){const i=`${N.serviceUrl}/Dismiss`;const s=this;const n={NotificationId:t};const o={requestUri:i,method:"POST",data:n,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json",DataServiceVersion:M,"X-CSRF-Token":q}};return new Promise((i,n)=>{this.fireODataRequest(o,()=>{s._addDismissNotifications(t);i()},o=>{if(s._csrfTokenInvalid(o)&&x===false){s._invalidCsrfTokenRecovery(i,n,s.dismissNotification,[t])}else{e.error("Notification service - oData dismiss notification failed: ",o,"sap.ushell.services.NotificationsV2");const t=new f(`Failed to fetch data: ${o.message}`,{dataJsError:o});n(t)}})})};this.registerNotificationsUpdateCallback=function(e){S.push(e)};this.registerNotificationCountUpdateCallback=function(e){T.push(e)};this.isFirstDataLoaded=function(){return V};this.getUserSettingsFlags=async function(){try{await r.promisify(y)}catch(e){}return{highPriorityBannerEnabled:W}};this.setUserSettingsFlags=function(e){W=e.highPriorityBannerEnabled;this._writeUserSettingsFlagsToPersonalization(e)};this._getNotificationSettingsMobileSupport=function(){return J};this._getDismissNotifications=function(){return j};this.filterDismisssedItems=function(e,t){return e.filter(e=>!t.some(t=>t===e.originalItemId))};this._addDismissNotifications=function(e){if(j.indexOf(e)===-1){j.push(e)}};this._initializeDismissNotifications=function(){j=[]};this._getNotificationSettingsEmailSupport=function(){return X};this.destroy=function(){$=true;if(O){clearTimeout(O)}else if(A){clearTimeout(A)}else if(B){clearTimeout(B)}if(H===C.WEB_SOCKET&&D){D.close()}i.getInstance().unsubscribe("launchpad","sessionTimeout",this.destroy,this);i.getInstance().unsubscribe("launchpad","setConnectionToServer",this._onSetConnectionToServer,this)};this._readUnseenNotificationsCount=function(){const t=this;const i=this._createRequest(this._getRequestURI(v.GET_BADGE_NUMBER));return new Promise((s,n)=>{this.fireODataRead(i,(e,i)=>{p.setProperty("/UnseenCount",i.data.GetBadgeNumber.Number);t._setNativeIconBadge(i.data.GetBadgeNumber.Number);s(i.data.GetBadgeNumber.Number)},i=>{if(i.response&&i.response.statusCode===200&&i.response.body){const e=JSON.parse(i.response.body);p.setProperty("/UnseenCount",e.value);t._setNativeIconBadge(e.value);s(e.value)}else{e.error("Notification service - oData read unseen notifications count failed: ",i.message,"sap.ushell.services.NotificationsV2");const t=new f(`Failed to fetch data: ${i.message}`,{dataJsError:i});n(t)}})})};this.readNotificationsCount=function(){const t=this._createRequest(this._getRequestURI(v.GET_NOTIFICATIONS_COUNT));return new Promise((i,s)=>{this.fireODataRead(t,(e,t)=>i(t.data),t=>{if(t.response&&t.response.statusCode===200&&t.response.body){const e=JSON.parse(t.response.body);i(e.value)}else{e.error("Notification service - oData read notifications count failed: ",t.message,"sap.ushell.services.NotificationsV2");const i=new f(`Failed to fetch data: ${t.message}`,{dataJsError:t});s(i)}})})};this._getNotificationSettingsAvailability=function(){return E.promise()};this.notificationsSeen=function(){const t=this;const i={requestUri:this._getRequestURI(v.RESET_BADGE_NUMBER),method:"POST",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json",DataServiceVersion:M,"X-CSRF-Token":q}};if(this._isFioriClientMode()===true||this._isPackagedMode()===true){this._setNativeIconBadge(0)}return new Promise((s,n)=>{this.fireODataRequest(i,s,i=>{if(t._csrfTokenInvalid(i)){t._invalidCsrfTokenRecovery(s,n,t.notificationsSeen)}else{e.error("Notification service - oData reset badge number failed: ",i,"sap.ushell.services.NotificationsV2");const t=new f(`Failed to fetch data: ${i.message}`,{dataJsError:i});n(t)}})})};this._readNotificationsData=function(e){const t=this;this.readNotificationsCount().then(e=>p.setProperty("/NotificationsCount",e));const i=this._readUnseenNotificationsCount(e).then(()=>{if(e===true){t._updateNotificationsCountConsumers()}});const s=this.getNotificationsBufferBySortingType(v.NOTIFICATIONS_BY_DATE_DESCENDING,0,P).then(i=>{p.setProperty("/Notifications",i);t._notificationAlert(i);if(e===true){t._updateNotificationsConsumers()}});return Promise.all([i,s])};this._getHeaderXcsrfToken=function(){return q};this._getDataServiceVersion=function(){return M};this._getRequestURI=function(e,t){const i=encodeURI(this._getConsumedIntents(e));let s;switch(e){case v.NOTIFICATIONS:if(_.getNotifications.basic===undefined){_.getNotifications.basic=`${N.serviceUrl}/Notifications?$expand=Actions,NavigationTargetParams&$filter=IsGroupHeader%20eq%20false`}if(this._isIntentBasedConsumption()){if(_.getNotifications.byIntents===undefined){_.getNotifications.byIntents=_.getNotifications.basic.concat(`&intents%20eq%20${i}`)}return _.getNotifications.byIntents}return _.getNotifications.basic;case v.NOTIFICATIONS_BY_TYPE:if(_.getNotificationsByType.basic===undefined){_.getNotificationsByType.basic=`${N.serviceUrl}/Notifications?$expand=Actions,NavigationTargetParams`}if(this._isIntentBasedConsumption()){if(_.getNotificationsByType.byIntents===undefined){_.getNotificationsByType.byIntents=_.getNotificationsByType.basic.concat(`&$filter=intents%20eq%20${i}`)}return _.getNotificationsByType.byIntents}return _.getNotificationsByType.basic;case v.NOTIFICATIONS_GROUP_HEADERS:if(_.getNotificationsGroupHeaders.basic===undefined){_.getNotificationsGroupHeaders.basic=`${N.serviceUrl}/Notifications?$expand=Actions,NavigationTargetParams&$filter=IsGroupHeader%20eq%20true`}if(this._isIntentBasedConsumption()){if(_.getNotificationsGroupHeaders.byIntents===undefined){_.getNotificationsGroupHeaders.byIntents=_.getNotificationsGroupHeaders.basic.concat(`&intents%20eq%20${i}`)}return _.getNotificationsGroupHeaders.byIntents}return _.getNotificationsGroupHeaders.basic;case v.NOTIFICATIONS_IN_GROUP:s=`${N.serviceUrl}/Notifications?$expand=Actions,NavigationTargetParams&$orderby=CreatedAt desc&$filter=IsGroupHeader eq false and ParentId eq ${t.group}&$skip=${t.skip}&$top=${t.top}`;if(this._isIntentBasedConsumption()===true){s=s.concat(`&intents%20eq%20${i}`)}break;case v.GET_BADGE_NUMBER:if(_.getBadgeNumber.basic===undefined){_.getBadgeNumber.basic=`${N.serviceUrl}/GetBadgeNumber()`}if(this._isIntentBasedConsumption()){if(_.getBadgeNumber.byIntents===undefined){_.getBadgeNumber.byIntents=`${N.serviceUrl}/GetBadgeCountByIntent(${i})`}return _.getBadgeNumber.byIntents}return _.getBadgeNumber.basic;case v.GET_NOTIFICATIONS_COUNT:if(_.getNotificationCount.basic===undefined){_.getNotificationCount.basic=`${N.serviceUrl}/Notifications/$count`}return _.getNotificationCount.basic;case v.RESET_BADGE_NUMBER:if(_.resetBadgeNumber.basic===undefined){_.resetBadgeNumber.basic=`${N.serviceUrl}/ResetBadgeNumber`}return _.resetBadgeNumber.basic;case v.GET_SETTINGS:if(_.getNotificationTypesSettings.basic===undefined){_.getNotificationTypesSettings.basic=`${N.serviceUrl}/NotificationTypePersonalizationSet`}return _.getNotificationTypesSettings.basic;case v.GET_MOBILE_SUPPORT_SETTINGS:if(_.getMobileSupportSettings.basic===undefined){_.getMobileSupportSettings.basic=`${N.serviceUrl}/Channels(ChannelId='SAP_SMP')`}return _.getMobileSupportSettings.basic;case v.GET_EMAIL_SUPPORT_SETTINGS:if(_.getEmailSupportSettings.basic===undefined){_.getEmailSupportSettings.basic=`${N.serviceUrl}/Channels(ChannelId='SAP_EMAIL')`}return _.getEmailSupportSettings.basic;case v.VALIDATE_WEBSOCKET_CHANNEL:if(_.getWebSocketValidity.basic===undefined){_.getWebSocketValidity.basic=`${N.serviceUrl}/Channels('SAP_WEBSOCKET')`}return _.getWebSocketValidity.basic;case v.NOTIFICATIONS_BY_DATE_DESCENDING:s=`${N.serviceUrl}/Notifications?$expand=Actions,NavigationTargetParams&$orderby=CreatedAt%20desc&$filter=IsGroupHeader%20eq%20false&$skip=${t.skip}&$top=${t.top}`;if(this._isIntentBasedConsumption()===true){s=s.concat(`&intents%20eq%20${i}`)}break;case v.NOTIFICATIONS_BY_PRIORITY_DESCENDING:s=`${N.serviceUrl}/Notifications?$expand=Actions,NavigationTargetParams&$orderby=Priority%20desc&$filter=IsGroupHeader%20eq%20false&$skip=${t.skip}&$top=${t.top}`;if(this._isIntentBasedConsumption()===true){s=s.concat(`&intents%20eq%20${i}`)}break;default:s=""}return s};this.readSettings=function(){const t=this._createRequest(this._getRequestURI(v.GET_SETTINGS));return new Promise((i,s)=>{this.fireODataRequest(t,e=>i(e.results),t=>{if(t.response&&t.response.statusCode===200&&t.response.body){i(t.response.body)}else{e.error("Notification service - oData get settings failed: ",t,"sap.ushell.services.NotificationsV2");const i=new f(`Failed to fetch data: ${t.message}`,{dataJsError:t});s(i)}})})};this._readMobileSettingsFromServer=function(){return this._readChannelSettingsFromServer(v.GET_MOBILE_SUPPORT_SETTINGS)};this._readEmailSettingsFromServer=function(){return this._readChannelSettingsFromServer(v.GET_EMAIL_SUPPORT_SETTINGS)};this._readChannelSettingsFromServer=function(t){const i=this._getRequestURI(t);const s=this._createRequest(i);let n;let o;return new Promise(t=>{this.fireODataRequest(s,e=>{if(typeof e.results==="string"){n=JSON.parse(e.results);n.successStatus=true;o=JSON.stringify(n);t(o)}else{e.results.successStatus=true;t(e.results)}},i=>{if(i.response&&i.response.statusCode===200&&i.response.body){n=JSON.parse(i.response.body);n.successStatus=true;o=JSON.stringify(n);t(o)}else{e.error("Notification service - oData get settings failed: ",i,"sap.ushell.services.NotificationsV2");t(JSON.stringify({successStatus:false}))}})})};this._checkWebSocketActivity=function(){const t=this._createRequest(this._getRequestURI(v.VALIDATE_WEBSOCKET_CHANNEL));return new Promise(i=>{this.fireODataRequest(t,e=>{if(typeof e.results==="string"){const t=JSON.parse(e.results);i(t.IsActive)}else{i(false)}},t=>{if(t.response&&t.response.statusCode===200&&t.response.body){const e=JSON.parse(t.response.body);i(e.IsActive)}else{e.error("Notification service - oData get settings failed: ",t,"sap.ushell.services.NotificationsV2");i(false)}})})};this.saveSettingsEntry=function(t){const i=this;const s=`${this._getRequestURI(v.GET_SETTINGS)}(NotificationTypeId=${t.NotificationTypeId})`;const n={requestUri:s,method:"PUT",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json",DataServiceVersion:M,"X-CSRF-Token":q}};n.data=JSON.parse(JSON.stringify(t));n.data["@odata.context"]="$metadata#NotificationTypePersonalizationSet/$entity";return new Promise((s,o)=>{this.fireODataRequest(n,s,n=>{if(n.response&&n.response.statusCode===200&&n.response.body){s(n.response.body)}else if(i._csrfTokenInvalid(n)&&x===false){i._invalidCsrfTokenRecovery(s,o,i.saveSettingsEntry,[t])}else{e.error("Notification service - oData set settings entry failed: ",n,"sap.ushell.services.NotificationsV2");const t=new f(`Failed to fetch data: ${n.message}`,{dataJsError:n});o(t)}})})};this._updateNotificationsConsumers=function(){S.forEach(e=>e())};this._updateNotificationsCountConsumers=function(){T.forEach(e=>e())};this._updateAllConsumers=function(){this._updateNotificationsConsumers();this._updateNotificationsCountConsumers()};this._getModel=function(){return p};this._getMode=function(){return H};this._setWorkingMode=function(){let e;if(N.intentBasedConsumption===true){w=this._getIntentsFromConfiguration(N.consumedIntents);if(w.length>0){k=true}}if(this._isPackagedMode()){H=C.PACKAGED_APP;e=this._getIntentsFromConfiguration(window.fiori_client_appConfig.applications);if(e.length>0){w=e}if(w.length>0){k=true}this._registerForPush();this._readNotificationsData(true);this._setNativeIconBadgeWithDelay();return}this._performFirstRead()};this._performFirstRead=function(){const t=this;this._readNotificationsData(true).then(()=>{const e=t._getFioriClientRemainingDelay();if(e<=0){t._fioriClientStep()}else{O=setTimeout(()=>{t._fioriClientStep()},e)}V=true}).catch(t=>{e.error("Notifications oData read failed. Error:",t)})};this._fioriClientStep=function(){if(this._isFioriClientMode()){H=C.FIORI_CLIENT;this._addPushNotificationHandler();this.getUnseenNotificationsCount().then(e=>{this._setNativeIconBadge(e)})}else{this._webSocketStep()}};this._webSocketStep=function(){H=C.WEB_SOCKET;this._establishWebSocketConnection()};this._webSocketRecoveryStep=function(){if(L===false){L=true;A=window.setTimeout(this._webSocketStep.bind(this),I)}else{this._activatePollingAfterInterval()}};this._activatePollingAfterInterval=function(){U=N.pollingIntervalInSeconds||l;window.clearTimeout(B);B=window.setTimeout(this._activatePolling.bind(this),r.sanitizeTimeoutDelay(U*1e3))};this._activatePolling=function(){U=N.pollingIntervalInSeconds||l;H=C.POLLING;this._readNotificationsData(true);window.clearTimeout(B);U=window.setTimeout(this._activatePolling.bind(this,U,false),r.sanitizeTimeoutDelay(U*1e3))};this._deactivatePolling=function(){if(H===C.POLLING){window.clearTimeout(U)}};this._formatAsDate=function(e){return new Date(e)};this._notificationAlert=function(e){if(W===false){return}const t=[];let s=0;for(const i in e){if(this.lastNotificationDate&&this._formatAsDate(e[i].CreatedAt)>this.lastNotificationDate){if(e[i].Priority==="HIGH"){t.push(e[i])}}if(s<this._formatAsDate(e[i].CreatedAt)){s=this._formatAsDate(e[i].CreatedAt)}}if(this.lastNotificationDate&&t.length>0){i.getInstance().publish("sap.ushell.services.Notifications","onNewNotifications",t)}this.lastNotificationDate=s};this._getFioriClientRemainingDelay=function(){return m-(new Date-R)};this._establishWebSocketConnection=function(){const t=this;let i=false;try{D=this._getWebSocketObjectObject(N.webSocketUrl||u,[n.SUPPORTED_PROTOCOLS.v10]);D.attachMessage(this,e=>{const i=e.getParameter("pcpFields");if(i&&i.Command&&i.Command==="Notification"){t._readNotificationsData(true)}});D.attachOpen(this,()=>{t._checkWebSocketActivity().then(e=>{if(!e){i=true;D.close();t._activatePollingAfterInterval()}});e.info("Notifications UShell service WebSocket: webSocket connection opened")});D.attachClose(this,s=>{e.warning(`Notifications UShell service WebSocket: attachClose called with code: ${s.mParameters.code} and reason: ${s.mParameters.reason}`);if(!$&&!i){t._webSocketRecoveryStep()}});D.attachError(this,()=>{e.warning("Notifications UShell service WebSocket: attachError called!")})}catch(t){e.error("Exception occurred while creating new sap.ui.core.ws.SapPcpWebSocket. Message:",t)}};this._isFioriClientMode=function(){return!(sap.FioriClient===undefined)};this._isPackagedMode=function(){return window.fiori_client_appConfig&&window.fiori_client_appConfig.prepackaged===true};this._setNativeIconBadge=function(e){if(sap.Push&&sap.Push.setBadgeNumber){sap.Push.setBadgeNumber(e,()=>{})}};this._setNativeIconBadgeWithDelay=function(){setTimeout(()=>{this.getUnseenNotificationsCount().then(e=>{this._setNativeIconBadge(e)})},4e3)};this._getIntentsFromConfiguration=function(e){const t=[];if(e&&e.length>0){let i;for(let s=0;s<e.length;s++){i=e[s].intent;t.push(i)}}return t};this._handlePushedNotification=function(e){let t;let i;let s;let n=[];if(e!==undefined){if(e.additionalData===undefined||e.additionalData.foreground===true){this._readNotificationsData(true)}else{if(e.additionalData&&e.additionalData.NavigationTargetObject){t=e.additionalData.NavigationTargetObject}else{t=e.NavigationTargetObject}if(e.additionalData&&e.additionalData.NavigationTargetAction){i=e.additionalData.NavigationTargetAction}else{i=e.NavigationTargetAction}if(e.additionalData&&e.additionalData.NavigationTargetParam){s=e.additionalData.NavigationTargetParam}else{s=e.NavigationTargetParam}if(s){if(typeof s==="string"||s instanceof String){n[0]=s}else if(Array.isArray(s)===true){n=s}}const o=e.NotificationId;if(t&&i){r.toExternalWithParameters(t,i,n)}this.markRead(o);this._readNotificationsData(true)}}};this._registerForPush=function(){if(sap.Push){sap.Push.initPush(this._handlePushedNotification.bind(this))}};this._addPushNotificationHandler=function(){document.addEventListener("deviceready",this._registerForPush.bind(this),false)};this._isIntentBasedConsumption=function(){return k};this._getConsumedIntents=function(e){let t="";if(!this._isIntentBasedConsumption()){return t}if(w.length>0){if(e!==v.GET_BADGE_NUMBER){t="&"}for(let i=0;i<w.length;i++){if(e===v.GET_BADGE_NUMBER){if(i===0){t=w[i]}else{t=`${t},${w[i]}`}}else{t=`${t}NavigationIntent%20eq%20%27${w[i]}%27`}}}return t};this._revalidateCsrfToken=function(){q="fetch";z=false;return this.getNotificationsBufferBySortingType(v.NOTIFICATIONS_BY_DATE_DESCENDING,0,1)};this._csrfTokenInvalid=function(e){const t=e.response;const i=t&&t.statusCode===403;const s=t&&t.headers["x-csrf-token"]||"";const n=s.toLowerCase()==="required";return i&&n};this._invalidCsrfTokenRecovery=function(t,i,s,n){const o=this;x=true;this._revalidateCsrfToken().then(()=>{s.apply(o,n).then(t).catch(e=>{i(e)}).finally(()=>{x=false})}).catch(t=>{x=false;e.error("Notification service - oData markRead failed: ",t.message,"sap.ushell.services.NotificationsV2");i(t)})};this._getWebSocketObjectObject=function(e,t){return new n(e,t)};this.getOperationEnum=function(){return v};this._readUserSettingsFlagsFromPersonalization=function(){const t=this;this._getUserSettingsPersonalizer().then(i=>{i.getPersData().then(e=>{if(e===undefined){t._writeUserSettingsFlagsToPersonalization({highPriorityBannerEnabled:W})}else{W=e.highPriorityBannerEnabled}b.resolve()}).catch(t=>{e.error("Reading User Settings flags from Personalization service failed",t);b.reject(t)})}).catch(t=>{e.error("Personalization service does not work:");e.error(`${t.name}: ${t.message}`);e.error("Reading User Settings flags from Personalization service failed")})};this._writeUserSettingsFlagsToPersonalization=function(t){return this._getUserSettingsPersonalizer().then(e=>e.setPersData(t)).catch(t=>{e.error("Personalization service does not work:");e.error(`${t.name}: ${t.message}`)})};this._getUserSettingsPersonalizer=function(){if(!this.oUserSettingsPersonalizerPromise){this.oUserSettingsPersonalizerPromise=c.getServiceAsync("PersonalizationV2").then(e=>{const t={keyCategory:e.KeyCategory.FIXED_KEY,writeFrequency:e.WriteFrequency.LOW,clientStorageAllowed:true};const i={container:"sap.ushell.services.Notifications",item:"userSettingsData"};return e.getPersonalizer(i,t)})}return this.oUserSettingsPersonalizerPromise};this._updateCSRF=function(e){if(z===true||e.headers===undefined){return}if(this._getHeaderXcsrfToken()==="fetch"){q=e.headers["x-csrf-token"]||e.headers["X-CSRF-Token"]||e.headers["X-Csrf-Token"]||"fetch"}if(!this._getDataServiceVersion()){M=e.headers.DataServiceVersion||e.headers["odata-version"]}z=true};this._userSettingInitialization=function(){if(this._bSettingsInitialized){return}this._bSettingsInitialized=true;const t={settingsAvailable:false,mobileAvailable:false,emailAvailable:false};this._readUserSettingsFlagsFromPersonalization();const i=this.readSettings();const s=this._readMobileSettingsFromServer();const n=this._readEmailSettingsFromServer();const o=[i,s,n];i.then(()=>{t.settingsAvailable=true}).catch(t=>{e.warning("User settings for the Notification service are not available.",t);E.promise().catch(()=>{});E.reject(t)});s.then(e=>{const i=JSON.parse(e);if(i.successStatus){J=e?i.IsActive:false;t.mobileAvailable=J}else{J=false;t.mobileAvailable=false}}).catch(()=>{e.warning("Mobile settings for the Notification service are not available.");J=false;t.mobileAvailable=false});n.then(e=>{const i=JSON.parse(e);if(i.successStatus){X=e?i.IsActive:false;t.emailAvailable=X}else{X=false;t.emailAvailable=false}}).catch(()=>{e.warning("Email settings for the Notification service are not available.");X=false;t.emailAvailable=false});Promise.all(o).then(()=>{E.resolve(t)}).catch(()=>e.warning("Settings for the Notification service are not loaded completely."))};this._closeConnection=function(){if(!$){if(H===C.WEB_SOCKET&&D){D.close();$=true}if(H===C.POLLING&&B){window.clearTimeout(B);$=true}}};this._resumeConnection=function(){if($){$=false;this._webSocketStep()}};this._parseJSON=function(e){try{return JSON.parse(e)}catch(e){this._deactivatePolling();return false}}}d.hasNoAdapter=true;return d},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PageBuilding", ["sap/ui/thirdparty/jquery"],jQuery=>{"use strict";function e(e,t){this.getFactory=function(){return e.getFactory()};this.getPage=function(t){return e.getFactory().createPage(t)};this.getPageSet=function(t){const r=new jQuery.Deferred;e.getFactory().createPageSet(t,r.resolve.bind(r),e=>{r.reject(new Error(e))});return r.promise()}}e.hasNoAdapter=false;return e},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PagePersistence", [],()=>{"use strict";function t(){this._init.apply(this,arguments)}t.prototype._init=function(t,e){this._oServiceConfiguration=e;this.oAdapter=t;this._pagesCache=[]};t.prototype.getPage=function(t){if(!this._pagesCache[t]){this._pagesCache[t]=this.oAdapter.getPage(t)}return this._pagesCache[t]};t.prototype.getPages=function(t){return this.oAdapter.getPages(t)};t.hasNoAdapter=false;return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PageReferencing", ["sap/ushell/services/_PageReferencing/PageReferencer"],e=>{"use strict";function r(){}r.prototype.createReferencePage=function(r){return e.createReferencePage(r)};r.hasNoAdapter=true;return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Pages", ["sap/base/Log","sap/ushell/utils/RestrictedJSONModel","sap/base/util/deepClone","sap/base/util/extend","sap/base/util/deepExtend","sap/ushell/resources","sap/ushell/utils","sap/ushell/Config","sap/ushell/Container","sap/ushell/adapters/cdm/v3/utilsCdm","sap/ushell/adapters/cdm/v3/_LaunchPage/readUtils","sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations","sap/base/util/ObjectPath"],(t,e,i,a,o,s,n,r,c,l,d,h,u)=>{"use strict";function g(){this.COMPONENT_NAME="sap.ushell.services.Pages";this._oCdmServicePromise=c.getServiceAsync("CommonDataModel");this._oCSTRServicePromise=c.getServiceAsync("ClientSideTargetResolution");this._oPagesModel=new e({pages:[]});this._bImplicitSaveEnabled=true;this._aPagesToBeSaved=[]}g.prototype._generateId=function(t){const e=[];const i=this.getModel().getProperty(this.getPagePath(t));i.sections.forEach(t=>{e.push(t.id);t.visualizations.forEach(t=>{e.push(t.id)})});return n.generateUniqueId(e)};g.prototype.getModel=function(){return this._oPagesModel};g.prototype.enableImplicitSave=function(t){this._bImplicitSaveEnabled=t};g.prototype.getPageIndex=function(t){const e=this._oPagesModel.getProperty("/pages");for(let i=0;i<e.length;++i){if(e[i].id===t){return i}}return undefined};g.prototype.getPagePath=function(t){const e=this.getPageIndex(t);if(typeof e==="undefined"){return""}return`/pages/${e}`};g.prototype.loadPage=async function(e){const i=this.getPagePath(e);if(i){return i}n.setPerformanceMark(["FLP-Pages-Service-loadPage-start[",e,"]"].join(""));let a;try{a=await this._oCdmServicePromise}catch(e){t.error("Pages - loadPage: Couldn't resolve CDM Service.",e,this.COMPONENT_NAME);throw e}try{const t=await a.getPage(e);const i=await a.getCachedVisualizations();const o=await a.getApplications();const s=await a.getCachedVizTypes();const r=await this._getModelForPage(t,i,o,s);const c=this._oPagesModel.getProperty("/pages/").length;const l=`/pages/${c}`;this._oPagesModel._setProperty(l,r);n.setPerformanceMark(["FLP-Pages-Service-loadPage-end[",e,"]"].join(""));return l}catch(e){t.error("Pages - loadPage: Failed to gather site data.",e,this.COMPONENT_NAME);throw e}};g.prototype.loadPages=async function(e){let i;try{i=await this._oCdmServicePromise}catch(e){t.error("Pages - loadPages: Couldn't resolve CDM Service.",e,this.COMPONENT_NAME);throw e}await i.getPages(e);const a=await Promise.all(e.map(t=>this.loadPage(t)));const o={};e.forEach((t,e)=>{o[t]=a[e]});return o};g.prototype.findVisualization=async function(e,i,a,o){let s;try{s=await this._oCdmServicePromise}catch(e){t.error("Pages - findVisualization: Personalization cannot be saved: CDM Service cannot be retrieved.",e,this.COMPONENT_NAME);throw e}try{const t=await this.loadPage(e);await s.getCachedVisualizations();await s.getApplications();const n=this.getModel().getProperty(`${t}/sections`)||[];return n.reduce((t,s,n)=>{if(i&&s.id!==i){return t}const r=s.visualizations.reduce((t,e,i)=>{if(a&&e.vizId===a||o&&e.id===o){t.push(i)}return t},[]);if(r.length){t.push({pageId:e,sectionIndex:n,vizIndexes:r})}return t},[])}catch(e){t.error("Pages - findVisualization: Couldn't load page, get visualizations or applications.",e,this.COMPONENT_NAME);throw e}};g.prototype.moveVisualization=async function(e,a,o,s,n){if(a===s&&o===n){return Promise.resolve({visualizationIndex:n})}this.setPersonalizationActive(true);const r=this._oPagesModel.getProperty(`/pages/${e}`);const c=r.id;const l=r.sections;const d=l[a];const h=l[s];const u=d.id;const g=h.id;const p=d.visualizations[o];const P=p.id;d.visualizations=d.visualizations.concat([]);h.visualizations=h.visualizations.concat([]);d.visualizations.splice(o,1);if(n===-1){n=h.visualizations.length}h.visualizations.splice(n,0,p);let f;if(h.visualizations[n]){f=n-1}else{f=h.visualizations.length-2}let v;if(h.visualizations[f]){v=h.visualizations[f].id}if(d.default&&!d.visualizations.length){l.splice(a,1)}this._oPagesModel.refresh();let y;try{const t=await this._oCdmServicePromise;y=await t.getPage(c)}catch(e){this.setPersonalizationActive(false);t.error("Pages - moveVisualization: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",e,this.COMPONENT_NAME);throw e}try{const t=y.payload.sections[u];const e=t.layout.vizOrder;const o=t.viz;const s=y.payload.sections[g];const r=s.layout.vizOrder;const l=s.viz;const d=i(o[P]);const h=e.indexOf(P);e.splice(h,1);const p=v?r.indexOf(v)+1:0;r.splice(p,0,P);if(u!==g){delete o[P];l[P]=d}if(t.default&&!Object.keys(o).length){delete y.payload.sections[u];y.payload.layout.sectionOrder.splice(a,1)}await this._conditionalSavePersonalization(c);return{visualizationIndex:n}}catch(t){this.setPersonalizationActive(false);throw t}};g.prototype.deleteVisualization=async function(e,i,a){const o=this._oPagesModel.getProperty(`/pages/${e}`);const s=o.sections[i];if(s.default&&s.visualizations.length<2){return this.deleteSection(e,i)}this.setPersonalizationActive(true);const n=s.visualizations;const r=n[a];n.splice(a,1);this._oPagesModel.refresh();let c;try{const t=await this._oCdmServicePromise;c=await t.getPage(o.id)}catch(e){this.setPersonalizationActive(false);t.error("Pages - deleteVisualization: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",e,this.COMPONENT_NAME);throw e}try{const t=c.payload.sections[s.id].layout.vizOrder;const e=c.payload.sections[s.id].viz;const i=t.indexOf(r.id);delete e[r.id];if(i>-1){t.splice(i,1)}return await this._conditionalSavePersonalization(c.identification.id)}catch(t){this.setPersonalizationActive(false);throw t}};g.prototype._getSectionIndex=function(t,e){const i=this.getModel().getProperty(`${t}/sections`)||[];for(let t=0;t<i.length;t+=1){if(i[t].id===e){return t}}};g.prototype._getVisualizationData=async function(t,e,i,a,o,s,n){const r=a||{vizId:e};const c={applications:o,visualizations:i,vizTypes:s};const l=await d.getVizData(c,r,n);if(!l.id){l.id=this._generateId(t)}return l};g.prototype.addVisualization=async function(e,i,a,o){let n;try{n=await this._oCdmServicePromise}catch(e){t.error("Pages - addVisualization: Personalization cannot be saved: CDM Service cannot be retrieved.",e,this.COMPONENT_NAME);throw e}try{let r;try{r=await Promise.all([this.loadPage(e),n.getVisualizations(),n.getApplications(),n.getVizTypes()])}catch(e){t.error("Pages - addVisualization: Personalization cannot be saved: Failed to load page, get visualizations or get applications.",e,this.COMPONENT_NAME);throw e}const[c,l,d,h]=r;const u=this._getSectionIndex(c,i);const g=this.getModel().getProperty(`${c}/sections`)||[];const p=await this._getVisualizationData(e,a,l,null,d,h);if(o){p.displayFormatHint=o}let P;for(let t=0;t<g.length;t++){if(g[t].default){P=t}}if(u!==undefined||P!==undefined){this.setPersonalizationActive(true);const s=u!==undefined?u:P||0;const r=`${c}/sections/${s}/visualizations`;this.getModel().getProperty(r).push(p);this.getModel().refresh();let l;try{l=await n.getPage(e)}catch(e){t.error("Pages - addVisualization: Personalization cannot be saved: Failed to get page.",e,this.COMPONENT_NAME);throw e}const d=l.payload.sections[i||l.payload.layout.sectionOrder[0]];d.layout.vizOrder.push(p.id);d.viz[p.id]={id:p.id,vizId:a};if(o){d.viz[p.id].displayFormatHint=o}return this._conditionalSavePersonalization(e)}const f=parseInt(c.split("/")[2],10);return await this.addSection(f,0,{title:s.i18n.getText("DefaultSection.Title"),default:true,visualizations:[p]})}catch(t){this.setPersonalizationActive(false);throw t}};g.prototype.copyVisualization=function(t,e,i){const a=i.isBookmark;if(!a){return this.addVisualization(t,e,i.vizId,i.displayFormatHint)}return this.addBookmarkToPage(t,{title:i.title,subtitle:i.subtitle,url:i.targetURL,icon:i.icon,info:i.info,serviceUrl:i.indicatorDataSource?i.indicatorDataSource.path:"",serviceRefreshInterval:i.indicatorDataSource?i.indicatorDataSource.refresh:"",numberUnit:i.numberUnit,vizType:i.vizType,vizConfig:i.vizConfig},e)};g.prototype.moveSection=async function(e,i,a){if(i===a){return Promise.resolve()}this.setPersonalizationActive(true);const o=this._oPagesModel.getProperty(`/pages/${e}/id`);const s=this._oPagesModel.getProperty(`/pages/${e}/sections`);const n=this._oPagesModel.getProperty(`/pages/${e}/sections/${i}`);const r=n.id;s.splice(i,1);if(i<a){a--}s.splice(a,0,n);this._oPagesModel.refresh();let c;try{const t=await this._oCdmServicePromise;c=await t.getPage(o)}catch(e){this.setPersonalizationActive(false);t.error("Pages - moveSection: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",e,this.COMPONENT_NAME);throw e}try{const t=c.payload.layout.sectionOrder;t.splice(t.indexOf(r),1);t.splice(a,0,r);return await this._conditionalSavePersonalization(o)}catch(t){this.setPersonalizationActive(false);throw t}};g.prototype.addSection=async function(e,i,a){this.setPersonalizationActive(true);const o=a||{};const s=this._oPagesModel.getProperty(`/pages/${e}/sections`);const n=this._oPagesModel.getProperty(`/pages/${e}/id`);const r={id:o.id!==undefined?o.id:this._generateId(n),title:o.title!==undefined?o.title:"",visible:o.visible!==undefined?o.visible:true,preset:o.preset!==undefined?o.preset:false,locked:o.locked!==undefined?o.locked:false,default:o.default!==undefined?o.default:false,visualizations:o.visualizations!==undefined?o.visualizations:[]};s.splice(i,0,r);this._oPagesModel.refresh();let c;try{const t=await this._oCdmServicePromise;c=await t.getPage(n)}catch(e){this.setPersonalizationActive(false);t.error("Pages - addSection: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",e,this.COMPONENT_NAME);throw e}try{const t={id:r.id,title:r.title,visible:r.visible,preset:r.preset,locked:r.locked,default:r.default,layout:{vizOrder:[]},viz:{}};if(r.visualizations){let e;for(let i=0;i<r.visualizations.length;i++){e=r.visualizations[i];t.layout.vizOrder.push(e.id);if(e.isBookmark){t.viz[e.id]=d.getVizRef(e)}else{t.viz[e.id]={id:e.id,vizId:e.vizId};if(e.displayFormatHint){t.viz[e.id].displayFormatHint=e.displayFormatHint}}}}c.payload.layout.sectionOrder.splice(i,0,r.id);c.payload.sections[r.id]=t;return await this._conditionalSavePersonalization(n)}catch(t){this.setPersonalizationActive(false);throw t}};g.prototype.deleteSection=async function(e,i){this.setPersonalizationActive(true);const a=this._oPagesModel.getProperty(`/pages/${e}/id`);const o=this._oPagesModel.getProperty(`/pages/${e}/sections`);const s=o[i].id;o.splice(i,1);this._oPagesModel.refresh();let n;try{const t=await this._oCdmServicePromise;n=await t.getPage(a)}catch(e){this.setPersonalizationActive(false);t.error("Pages - deleteSection: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",e,this.COMPONENT_NAME);throw e}try{delete n.payload.sections[s];n.payload.layout.sectionOrder.splice(i,1);return await this._conditionalSavePersonalization(a)}catch(t){this.setPersonalizationActive(false);throw t}};g.prototype.setSectionVisibility=async function(e,i,a){this.setPersonalizationActive(true);const o=this._oPagesModel.getProperty(`/pages/${e}/id`);const s=this._oPagesModel.getProperty(`/pages/${e}/sections/${i}/id`);const n=this._oPagesModel.getProperty(`/pages/${e}/sections/${i}`);if(n.visible===a){return Promise.resolve()}n.visible=a;this._oPagesModel.refresh();let r;try{const t=await this._oCdmServicePromise;r=await t.getPage(o)}catch(e){this.setPersonalizationActive(false);t.error("Pages - setSectionVisibility: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",e,this.COMPONENT_NAME);throw e}try{r.payload.sections[s].visible=a;return await this._conditionalSavePersonalization(o)}catch(t){this.setPersonalizationActive(false);throw t}};g.prototype.renameSection=async function(e,i,a){this.setPersonalizationActive(true);const o=this._oPagesModel.getProperty(`/pages/${e}`);const s=o.sections[i];s.title=a;this._oPagesModel.refresh();let n;try{const t=await this._oCdmServicePromise;n=await t.getPage(o.id)}catch(e){this.setPersonalizationActive(false);t.error("Pages - renameSection: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",e,this.COMPONENT_NAME);throw e}try{n.payload.sections[s.id].title=a;return await this._conditionalSavePersonalization(n.identification.id)}catch(t){this.setPersonalizationActive(false);throw t}};g.prototype.resetSection=async function(e,a){this.setPersonalizationActive(true);const o=this._oPagesModel.getProperty(`/pages/${e}/id`);const s=this._oPagesModel.getProperty(`/pages/${e}/sections/${a}/id`);let n;let r;let c;let l;let d;try{const t=await this._oCdmServicePromise;n=await t.getCachedVisualizations();r=await t.getApplications();c=await t.getPage(o);l=await t.getOriginalPage(o);d=await t.getCachedVizTypes()}catch(e){this.setPersonalizationActive(false);t.error("Pages - resetSection: Personalization cannot be saved: Failed to gather data from CDM Service.",e,this.COMPONENT_NAME);throw e}try{const t=await this._getModelForPage(l,n,r,d);const h=i(t.sections.find(t=>t.id===s),20);const u=h.visualizations.map(t=>t.id);const g=this._oPagesModel.getProperty(`/pages/${e}`);g.sections.forEach(t=>{if(h.id!==t.id){t.visualizations.forEach(e=>{if(u.indexOf(e.id)!==-1){const a=this._generateId(o);const s=i(c.payload.sections[t.id].viz[e.id]);delete c.payload.sections[t.id].viz[e.id];const n=c.payload.sections[t.id].layout.vizOrder.indexOf(s.id);s.id=a;c.payload.sections[t.id].viz[a]=s;c.payload.sections[t.id].layout.vizOrder[n]=a;e.id=a}})}});this._oPagesModel._setProperty(`/pages/${e}/sections/${a}`,h);c.payload.sections[h.id]=l.payload.sections[h.id];return await this._conditionalSavePersonalization(c.identification.id)}catch(t){this.setPersonalizationActive(false);throw t}};g.prototype.resetPage=async function(e){this.setPersonalizationActive(true);const a=this._oPagesModel.getProperty(`/pages/${e}/id`);let o;let s;let n;let r;let c;try{const t=await this._oCdmServicePromise;o=await t.getCachedVisualizations();s=await t.getApplications();n=await t.getPage(a);r=await t.getOriginalPage(a);c=await t.getCachedVizTypes()}catch(e){this.setPersonalizationActive(false);t.error("Pages - resetPage: Personalization cannot be saved: Failed to gather data from CDM Service.",e,this.COMPONENT_NAME);throw e}try{const t=await this._getModelForPage(r,o,s,c);this._oPagesModel._setProperty(`/pages/${e}`,t);n.payload=i(r.payload);return await this._conditionalSavePersonalization(n.identification.id)}catch(t){this.setPersonalizationActive(false);throw t}};g.prototype.setPersonalizationActive=function(t){if(!this._bDirtyState&&t===true){this._bDirtyState=true;this._oCopiedModelData=i(this._oPagesModel.getProperty("/"),20)}else if(this._bDirtyState&&t===false){this._oPagesModel._setData(this._oCopiedModelData);this._bDirtyState=false}};g.prototype.savePersonalization=async function(e){let a;if(!e){a=i(this._aPagesToBeSaved)}else{a=[e]}try{const t=await this._oCdmServicePromise;await Promise.all(a.map(e=>{const i=this._aPagesToBeSaved.indexOf(e);this._aPagesToBeSaved.splice(i,1);return new Promise((i,a)=>{t.save(e).then(i).catch(a)}).catch(t=>{if(this._aPagesToBeSaved.indexOf(e)===-1){this._aPagesToBeSaved.push(e)}throw t})}));this._bDirtyState=false}catch(e){t.error("Pages - savePersonalization: Personalization cannot be saved: CDM Service cannot be retrieved or the save process encountered an error.",e,this.COMPONENT_NAME);throw e}};g.prototype._conditionalSavePersonalization=function(t){if(this._bImplicitSaveEnabled){return this.savePersonalization(t)}if(this._aPagesToBeSaved.indexOf(t)===-1){this._aPagesToBeSaved.push(t)}return Promise.resolve()};g.prototype._getModelForPage=async function(e,i,a,o){const c={id:e&&e.identification&&e.identification.id||"",title:e&&e.identification&&e.identification.title||"",description:"",sections:[]};n.setPerformanceMark(["FLP-Pages-Service-getModelForPage-start[",c.id,"]"].join(""));const l=await this._oCSTRServicePromise;const d=r.last("/core/catalog/enableHideGroups");for(const n of e.payload.layout.sectionOrder){const r=e.payload.sections[n];const h={id:r.id||"",title:r.default?s.i18n.getText("DefaultSection.Title"):r.title||"",visualizations:[],visible:!d||(r.visible!==undefined?r.visible:true),locked:r.locked!==undefined?r.locked:false,preset:r.preset!==undefined?r.preset:true,default:r.default!==undefined?r.default:false};c.sections.push(h);for(const s of r.layout.vizOrder){const n=r.viz[s];const c=n.vizId;const d=await l.getSystemContext(n.contentProviderId);const u=await this._getVisualizationData(e.identification.id,c,i,n,a,o,d);const g=await this._isIntentSupported(u,l);if(!g){t.warning(`The visualization with title '${u.title}' and ID '${u.vizId}' is filtered out, because intent '${u.targetURL}' is not supported.`,null,this.COMPONENT_NAME)}else{h.visualizations.push(u)}}}n.setPerformanceMark(["FLP-Pages-Service-getModelForPage-end[",c.id,"]"].join(""));return c};g.prototype.removeUnsupportedVisualizations=async function(t,e){const i=await this._oCSTRServicePromise;const a=this.getModel().getProperty(`/pages/${t}/sections/${e}/visualizations/`);const o=[];for(let t=a.length-1;t>=0;--t){o.push(this._isIntentSupported(a[t],i).then(((t,e)=>{if(!e){a.splice(t,1)}return e}).bind(this,t)))}const s=await Promise.all(o);if(s.indexOf(false)!==-1){this.getModel().refresh()}};g.prototype._isIntentSupported=async function(t,e){if(t.target===undefined){return false}if(t.target.type==="URL"){if(h.isStandardVizType(t.vizType)){return Promise.resolve(!!t.target.url)}return true}try{const i=await e.isIntentSupported([t.targetURL]);return i[t.targetURL].supported}catch{return false}};g.prototype.addBookmarkToPage=async function(e,i,a,o){if(!e){throw new Error("Pages - addBookmarkToPage: Adding bookmark tile failed: No page id is provided.")}const n=d.getBookmarkVizTypeIds(i);this.setPersonalizationActive(true);const[r,c]=await Promise.all([this._oCdmServicePromise,this._oCSTRServicePromise]);const h=await Promise.all(n.map(t=>r.getVizType(t)));const g={};h.forEach((t,e)=>{g[n[e]]=t;return g});let p;try{p=await Promise.all([this.loadPage(e),g,c.getSystemContext(o)])}catch(e){t.error("Pages - addBookmarkToPage: Personalization cannot be saved: Could not load page.",e,this.COMPONENT_NAME);throw e}const[P,f,v]=p;const y={id:this._generateId(e),vizType:i.vizType,title:i.title,subTitle:i.subtitle,icon:i.icon,info:i.info,numberUnit:i.numberUnit,target:l.toTargetFromHash(i.url),indicatorDataSource:{path:i.serviceUrl,refresh:i.serviceRefreshInterval},vizConfig:i.vizConfig,isBookmark:true};if(i.dataSource){y.dataSource={type:i.dataSource.type,settings:{odataVersion:u.get(["dataSource","settings","odataVersion"],i)}}}if(o){y.contentProviderId=o}const z=await this._getVisualizationData(e,undefined,{},y,{},f,v);const _=parseInt(/pages\/(\d+)/.exec(P)[1],10);const m=this._oPagesModel.getProperty(P);let w;if(a){w=m.sections.find(t=>t.id===a);if(!w){t.error("Pages - addBookmarkToPage: Adding bookmark tile failed: specified section was not found in the page.");throw new Error("Pages - addBookmarkToPage: Adding bookmark tile failed: specified section was not found in the page.")}}else{w=m.sections.find(t=>t.default);if(!w){return this.addSection(_,0,{title:s.i18n.getText("DefaultSection.Title"),default:true,visualizations:[z]})}}try{w.visualizations.push(z);this._oPagesModel.refresh();let i;try{i=await r.getPage(e)}catch(e){t.error("Pages - addBookmarkToPage: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",e,this.COMPONENT_NAME);throw e}const a=i.payload.sections[w.id];a.layout.vizOrder.push(z.id);a.viz[z.id]=d.getVizRef(z);return await this._conditionalSavePersonalization(e)}catch(t){this.setPersonalizationActive(false);throw t}};g.prototype._visitPages=async function(t){const e=await this._oCdmServicePromise;const i=await e.getAllPages()||[];i.forEach(e=>{t(e)})};g.prototype._visitSections=function(t){return this._visitPages(e=>{const i=e.payload&&e.payload.sections||{};Object.keys(i).forEach(a=>{t(i[a],e)})})};g.prototype._visitVizReferences=function(t){return this._visitSections((e,i)=>{const a=e.viz||{};Object.keys(a).forEach(o=>{t(a[o],e,i)})})};g.prototype._findBookmarks=async function(t){const e=[];let i=l.toTargetFromHash(t.url);i=d.harmonizeTarget(i);await this._visitVizReferences((a,o,s)=>{if(a.isBookmark&&t.vizType===a.vizType&&(a.contentProviderId||"")===(t.contentProviderId||"")&&l.isSameTarget(i,a.target)){e.push({vizRefId:a.id,sectionId:o.id,pageId:s.identification.id})}});return e};g.prototype.countBookmarks=async function(t){const e=await this._findBookmarks(t);return e.length};g.prototype.deleteBookmarks=async function(t,e,i){let a=0;const o=await this._findBookmarks(t);await o.reduce((t,o)=>{if(e&&o.pageId!==e){return t}if(i&&o.sectionId!==i){return t}return t.then(()=>this.findVisualization(o.pageId,o.sectionId,null,o.vizRefId)).then(t=>{const e=t[0];const i=this.getPageIndex(e.pageId);return this.deleteVisualization(i,e.sectionIndex,e.vizIndexes[0])}).then(()=>{a=a+1}).catch(()=>{})},Promise.resolve());return a};g.prototype.updateBookmarks=async function(e,i){if(!e||!e.url||typeof e.url!=="string"){t.error("Fail to update bookmark. No valid URL");throw new Error("Invalid URL provided")}if(!i||typeof i!=="object"){t.error(`Fail to update bookmark. No valid parameters, URL is: ${e.url}`);throw new Error("Missing parameters")}let a=0;const o=await Promise.all([this._findBookmarks(e)]);const s=o[0];await s.reduce((t,e)=>t.then(()=>this.findVisualization(e.pageId,e.sectionId,null,e.vizRefId)).then(t=>{const e=t[0];const a=this.getPageIndex(e.pageId);const o={subtitle:i.subtitle,icon:i.icon,info:i.info,numberUnit:i.numberUnit,indicatorDataSource:{path:i.serviceUrl,refresh:i.serviceRefreshInterval},vizConfig:i.vizConfig};if(i.title){o.title=i.title}if(i.url){o.target=d.harmonizeTarget(l.toTargetFromHash(i.url))}return this.updateVisualization(a,e.sectionIndex,e.vizIndexes[0],o)}).then(()=>{a=a+1}).catch(()=>{}),Promise.resolve());return a};g.prototype.updateVisualization=async function(t,e,s,n){const r=await this._oCdmServicePromise;const[c,h,u]=await Promise.all([r.getCachedVisualizations(),r.getApplications(),r.getCachedVizTypes()]);const g=this._oPagesModel.getProperty(`/pages/${t}`);const p=g.sections[e];const P=p.visualizations;let f=P[s];const v={};this.setPersonalizationActive(true);if(this._isPropertyChanged(f.title,n.title)){v.title=n.title}if(n.target&&!l.isSameTarget(f.target,n.target)){v.target=n.target}if(this._isPropertyChanged(f.subtitle,n.subtitle)){v.subtitle=n.subtitle}if(this._isPropertyChanged(f.icon,n.icon)){v.icon=n.icon}if(this._isPropertyChanged(f.info,n.info)){v.info=n.info}if(this._isPropertyChanged(f.numberUnit,n.numberUnit)){v.numberUnit=n.numberUnit}if(this._isPropertyChanged(f.displayFormatHint,n.displayFormatHint)){v.displayFormatHint=n.displayFormatHint}if(n.indicatorDataSource&&f.indicatorDataSource&&(this._isPropertyChanged(f.indicatorDataSource.path,n.indicatorDataSource.path)||this._isPropertyChanged(f.indicatorDataSource.refresh,n.indicatorDataSource.refresh))){v.indicatorDataSource=i(f.indicatorDataSource);a(v.indicatorDataSource,n.indicatorDataSource)}if(n.vizConfig){f.vizConfig=o({},f.vizConfig,n.vizConfig);v.vizConfig=f.vizConfig}a(f,v);const y=d.getVizRef(f);f=await this._getVisualizationData(g.id,y.vizId,c,y,h,u);P[s]=f;this._oPagesModel.refresh();await this._updateVisualizationCDMData(g.id,p.id,f.id,v);return{pageId:g.id,sectionId:p.id,vizRefId:f.id}};g.prototype._updateVisualizationCDMData=async function(e,i,o,s){let n;try{const t=await this._oCdmServicePromise;n=await t.getPage(e)}catch(e){this.setPersonalizationActive(false);t.error("Pages - updateVisualization: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",e,this.COMPONENT_NAME);throw e}try{const t=n.payload.sections[i].viz[o];const e=d.getVizRef(s);e.vizConfig=s.vizConfig;a(t,e);return await this._conditionalSavePersonalization(n.identification.id)}catch(t){this.setPersonalizationActive(false);throw t}};g.prototype._isPropertyChanged=function(t,e){if((e||e==="")&&t!==e){return true}return false};g.hasNoAdapter=true;return g},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Personalization", ["sap/base/Log","sap/ui/base/ManagedObject","sap/ui/base/Object","sap/ui/core/Core","sap/ui/thirdparty/jquery","sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/constants","sap/ushell/services/_Personalization/ContextContainer","sap/ushell/services/PersonalizationV2/WindowAdapter","sap/ushell/services/_Personalization/TransientPersonalizer","sap/ushell/services/_Personalization/PersonalizationContainer","sap/ushell/services/_Personalization/Personalizer","sap/ushell/services/personalization/VariantSetAdapter","sap/ushell/services/_Personalization/Variant","sap/ushell/services/_Personalization/VariantSet","sap/ushell/services/PersonalizationV2/WindowAdapterContainer"],(e,t,n,r,jQuery,a,i,o,s,p,d,c,l,u,f,h,_)=>{"use strict";function A(e,t,n,r){this._oConfig=r&&r.config||{};this._oAppVariantAdapterWithBackendAdapter=this._configureAppVariantStorage(this._oConfig.appVariantStorage);this._oAdapterWithBackendAdapter={lazy:false,instance:new p(this,e)};this._oAdapterWindowOnly={lazy:false,instance:new p(this,undefined)};this._oContainerMap=new a.Map;this._oPendingOperationsMap=new a.Map}A.prototype.SAVE_DEFERRED_DROPPED="Deferred save dropped (OK) - Data superseded by subsequent save";A.prototype.constants=o;A.prototype._configureAppVariantStorage=function(e){const t=this;const n="sap.ushell.adapters.AppVariantPersonalizationAdapter";if(!e){e={adapter:{module:n}}}if(Object.keys(e).length===0||e.enabled===false){return}const r=e.adapter&&e.adapter.module||n;const a=r.split(".").join("/");function i(){if(!t._oAppVariantAdapterLoadPromise){t._oAppVariantAdapterLoadPromise=new jQuery.Deferred;sap.ui.require([a],e=>{try{const n=new e;const r=new p(t,n);t._oAppVariantAdapterLoadPromise.resolve(r)}catch(e){t._oAppVariantAdapterLoadPromise.reject(e)}},e=>{t._oAppVariantAdapterLoadPromise.reject(e)})}return t._oAppVariantAdapterLoadPromise.promise()}return{lazy:true,create:i}};A.prototype.getGeneratedKey=function(){return a.generateRandomKey()};A.prototype.getPersonalizer=function(e,t,n){n=n||this._getApplicationComponent();return new l(this,this._oAdapterWithBackendAdapter.instance,e,t,n)};A.prototype._getApplicationComponent=function(){const e=t._sOwnerId;if(e){const t=r.getComponent(e);if(n.isA(t,"sap.ui.core.UIComponent")){return t}}return undefined};A.prototype.getTransientPersonalizer=function(){return new d};A.prototype.getContainer=function(e,t,n){n=n||this._getApplicationComponent();return this._createContainer(e,t,false,n)};A.prototype.createEmptyContainer=function(e,t,n){n=n||this._getApplicationComponent();return this._createContainer(e,t,true,n)};A.prototype._createContainer=function(e,t,n,r){const o=new jQuery.Deferred;if(typeof e!=="string"){throw new a.Error("sContainerKey is not a string: sap.ushell.services.Personalization"," ")}const p=!!(i.isAppVariant(r)&&(!t||!t.shared)&&this._oAppVariantAdapterWithBackendAdapter);const d=i.adjustScope(t);let c=i.addContainerPrefix(e);if(p){const e=r.getManifestObject();d.component=r;d.appVarId=e.getEntry("/sap.ui5/appVariantId");d.appVersion=e.getEntry("/sap.app/applicationVersion/version");c+=`#${e.getEntry("/sap.ui5/appVariantId")}`}const l=p?this._oAppVariantAdapterWithBackendAdapter:this._oAdapterWithBackendAdapter;const u=this._oAdapterWindowOnly;const f=i.pickAdapter(t,u,l);i.loadAdapter(f).then(e=>{let t;const a=new s(this,e,c,d,r);const i=e&&e.supportsGetWithoutSubsequentLoad===true;if(n&&i){t=new jQuery.Deferred;t.resolve(a)}else{t=a.load()}t.fail(e=>{o.reject(e)}).done(()=>{if(n||a._isExpired()){a.clear()}o.resolve(a)})}).catch(o.reject);return o.promise()};A.prototype.delContainer=function(e,t){let n={};let r="";t=this._adjustScope(t);r=i.addContainerPrefix(e);n=new jQuery.Deferred;const a=this._pendingContainerOperations_cancelAddNext(e,null);a.always(()=>{this.getContainer(e,t).fail(t=>{this._pendingContainerOperations_cancelAddNext(e,n);n.reject(t)}).done(()=>{this._pendingContainerOperations_cancelAddNext(e,n);const a=t.validity===0?this._oAdapterWindowOnly:this._oAdapterWithBackendAdapter;i.loadAdapter(a).then(e=>{e.delAdapterContainer(r,t).fail(n.reject).done(n.resolve)}).catch(n.reject)})});return n.promise()};A.prototype._pendingContainerOperations_flushAddNext=function(e,t){let n=this._oPendingOperationsMap.get(e);if(!n){n=new jQuery.Deferred;n.resolve()}if(t!==null){this._oPendingOperationsMap.put(e,t)}if(!n||n.state()!=="pending"){return n}clearTimeout(n._sapTimeoutId);n._sapTimeoutId=undefined;if(typeof n._sapFnSave==="function"){const e=n._sapFnSave;n._sapFnSave=undefined;e()}return n};A.prototype._pendingContainerOperations_cancelAddNext=function(e,t){let n=this._oPendingOperationsMap.get(e);if(!n){n=new jQuery.Deferred;n.resolve()}if(t!==null){this._oPendingOperationsMap.put(e,t)}if(!n||n.state()!=="pending"){return n}if(n._sapTimeoutId){clearTimeout(n._sapTimeoutId);n._sapTimeoutId=undefined;n.resolve(A.prototype.SAVE_DEFERRED_DROPPED)}return n};A.prototype.getPersonalizationContainer=function(e){if(typeof e!=="string"){throw new a.Error("sContainerKey is not a string: sap.ushell.services.Personalization"," ")}const t=i.addContainerPrefix(e);if(this._oContainerMap.containsKey(t)){return this._oContainerMap.get(t).promise()}const n=new jQuery.Deferred;const r=new c(this._oAdapterWithBackendAdapter.instance,t);r.done(n.resolve).fail(n.reject);this._oContainerMap.put(t,n);return n.promise()};A.prototype.delPersonalizationContainer=function(e){const t=i.addContainerPrefix(e);const n=new jQuery.Deferred;this.getPersonalizationContainer(e).fail(n.reject).done(()=>{this._oAdapterWithBackendAdapter.instance.delAdapterContainer(t).fail(n.reject).done(()=>{this._oContainerMap.remove(t);n.resolve()})});return n.promise()};A.prototype._getBackendAdapter=function(){return this._oAdapterWithBackendAdapter.instance._oBackendAdapter};A.prototype.resetEntirePersonalization=async function(){const e=this._getBackendAdapter();const t=await this.isResetEntirePersonalizationSupported();if(t){return e.resetEntirePersonalization()}throw new Error("Reset entire personalization is not supported")};A.prototype.isResetEntirePersonalizationSupported=async function(){const t=this._getBackendAdapter();if(typeof t.resetEntirePersonalization!=="function"){return false}if(typeof t.isResetEntirePersonalizationSupported==="function"){try{const e=await t.isResetEntirePersonalizationSupported();return e}catch(t){e.error(`isResetEntirePersonalizationSupported failed with error: ${t.toString()}`);throw t}}return true};A.prototype._adjustScope=i.adjustScope;A.hasNoAdapter=false;A.ContextContainer=s;A.Variant=f;A.VariantSet=h;A.VariantSetAdapter=u;A.WindowAdapter=p;A.WindowAdapterContainer=_;return A},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PersonalizationV2", ["sap/base/Log","sap/base/util/Deferred","sap/ui/base/ManagedObject","sap/ui/base/Object","sap/ui/core/Component","sap/ui/thirdparty/jquery","sap/ushell/utils","sap/ushell/services/PersonalizationV2/utils","sap/ushell/services/PersonalizationV2/constants","sap/ushell/services/PersonalizationV2/ContextContainer","sap/ushell/services/PersonalizationV2/WindowAdapter","sap/ushell/services/PersonalizationV2/TransientPersonalizer","sap/ushell/services/PersonalizationV2/Personalizer","sap/ushell/services/PersonalizationV2/VariantSetAdapter","sap/ushell/services/PersonalizationV2/Variant","sap/ushell/services/PersonalizationV2/VariantSet","sap/ushell/services/PersonalizationV2/WindowAdapterContainer"],(e,t,n,a,r,jQuery,i,o,s,p,d,c,l,u,f,h,A)=>{"use strict";function _(e,t,n,a){this._oConfig=a&&a.config||{};this._oAppVariantAdapterWithBackendAdapter=this._configureAppVariantStorage(this._oConfig.appVariantStorage);this._oAdapterWithBackendAdapter={lazy:false,instance:new d(this,e)};this._oAdapterWindowOnly={lazy:false,instance:new d(this,undefined)};this._oContainerMap=new i.Map;this._oPendingOperationsMap=new i.Map}_.prototype.SAVE_DEFERRED_DROPPED="Deferred save dropped (OK) - Data superseded by subsequent save";_.prototype.constants=s;_.prototype.KeyCategory=s.keyCategory;_.prototype.WriteFrequency=s.writeFrequency;_.prototype._configureAppVariantStorage=function(e){const t=this;const n="sap.ushell.adapters.AppVariantPersonalizationAdapter";if(!e){e={adapter:{module:n}}}if(Object.keys(e).length===0||e.enabled===false){return}const a=e.adapter&&e.adapter.module||n;const r=a.split(".").join("/");function i(){if(!t._oAppVariantAdapterLoadPromise){t._oAppVariantAdapterLoadPromise=new jQuery.Deferred;sap.ui.require([r],e=>{try{const n=new e;const a=new d(t,n);t._oAppVariantAdapterLoadPromise.resolve(a)}catch(e){t._oAppVariantAdapterLoadPromise.reject(e)}},e=>{t._oAppVariantAdapterLoadPromise.reject(e)})}return t._oAppVariantAdapterLoadPromise.promise()}return{lazy:true,create:i}};_.prototype.getGeneratedKey=async function(){return i.generateRandomKey()};_.prototype.getPersonalizer=async function(e,t,n){n=n||this._getApplicationComponent();return new l(this,this._oAdapterWithBackendAdapter.instance,e,t,n)};_.prototype._getApplicationComponent=function(){const e=n._sOwnerId;if(e){const t=r.getComponentById(e);if(a.isObjectA(t,"sap.ui.core.Component")){return t}}return undefined};_.prototype.getTransientPersonalizer=async function(){return new c};_.prototype.getContainer=async function(e,t,n){n=n||this._getApplicationComponent();const a=await this._createContainer(e,t,false,n);return a};_.prototype.createEmptyContainer=async function(e,t,n){n=n||this._getApplicationComponent();const a=await this._createContainer(e,t,true,n);return a};_.prototype._createContainer=async function(e,t,n,a){if(typeof e!=="string"){throw new i.Error("sContainerKey is not a string: sap.ushell.services.Personalization"," ")}const r=!!(o.isAppVariant(a)&&(!t||!t.shared)&&this._oAppVariantAdapterWithBackendAdapter);const s=o.adjustScope(t);let d=o.addContainerPrefix(e);if(r){const e=a.getManifestObject();s.component=a;s.appVarId=e.getEntry("/sap.ui5/appVariantId");s.appVersion=e.getEntry("/sap.app/applicationVersion/version");d+=`#${e.getEntry("/sap.ui5/appVariantId")}`}const c=r?this._oAppVariantAdapterWithBackendAdapter:this._oAdapterWithBackendAdapter;const l=this._oAdapterWindowOnly;const u=o.pickAdapter(t,l,c);const f=await o.loadAdapter(u);const h=new p(this,f,d,s,a);const A=f&&f.supportsGetWithoutSubsequentLoad===true;if(!(n&&A)){await h.load()}if(n||h.isExpired()){h.clearData()}return h};_.prototype.deleteContainer=function(t,n){let a="";n=this._adjustScope(n);a=o.addContainerPrefix(t);const r=new jQuery.Deferred;const s=this._pendingContainerOperations_cancelAddNext(t,null);s.always(()=>{this.getContainer(t,n).then(()=>{this._pendingContainerOperations_cancelAddNext(t,r);const i=n.validity===0?this._oAdapterWindowOnly:this._oAdapterWithBackendAdapter;o.loadAdapter(i).then(t=>{t.delAdapterContainer(a,n).fail(t=>{e.error("Delete failed",t);r.reject(t)}).done(r.resolve)}).catch(t=>{e.error("Delete failed",t);r.reject(t)})}).catch(n=>{e.error("Delete failed",n);this._pendingContainerOperations_cancelAddNext(t,r);r.reject(n)})});return i.promisify(r.promise())};_.prototype._pendingContainerOperations_flushAddNext=function(e,t){let n=this._oPendingOperationsMap.get(e);if(!n){n=new jQuery.Deferred;n.resolve()}if(t!==null){this._oPendingOperationsMap.put(e,t)}if(!n||n.state()!=="pending"){return n}clearTimeout(n._sapTimeoutId);n._sapTimeoutId=undefined;if(typeof n._sapFnSave==="function"){const e=n._sapFnSave;n._sapFnSave=undefined;e()}return n};_.prototype._pendingContainerOperations_cancelAddNext=function(e,t){let n=this._oPendingOperationsMap.get(e);if(!n){n=new jQuery.Deferred;n.resolve()}if(t!==null){this._oPendingOperationsMap.put(e,t)}if(!n||n.state()!=="pending"){return n}if(n._sapTimeoutId){clearTimeout(n._sapTimeoutId);n._sapTimeoutId=undefined;n.resolve(_.prototype.SAVE_DEFERRED_DROPPED)}return n};_.prototype._getBackendAdapter=function(){return this._oAdapterWithBackendAdapter.instance._oBackendAdapter};_.prototype.resetEntirePersonalization=async function(){const e=this._getBackendAdapter();const t=await this.isResetEntirePersonalizationSupported();if(t){return e.resetEntirePersonalization()}throw new Error("Reset entire personalization is not supported")};_.prototype.isResetEntirePersonalizationSupported=async function(){const t=this._getBackendAdapter();if(typeof t.resetEntirePersonalization!=="function"){return false}if(typeof t.isResetEntirePersonalizationSupported==="function"){try{const e=await t.isResetEntirePersonalizationSupported();return e}catch(t){e.error("isResetEntirePersonalizationSupported failed with error:",t);throw t}}return true};_.prototype._adjustScope=o.adjustScope;_.hasNoAdapter=false;_.ContextContainer=p;_.Variant=f;_.VariantSet=h;_.VariantSetAdapter=u;_.WindowAdapter=d;_.WindowAdapterContainer=A;return _});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PersonalizationV2/ContextContainer", ["sap/ushell/utils","sap/ushell/services/PersonalizationV2/utils","sap/ushell/services/PersonalizationV2/constants.private","sap/ui/core/format/DateFormat","sap/ui/core/UIComponent","sap/ui/thirdparty/jquery","sap/base/Log"],(t,e,n,i,o,jQuery,r)=>{"use strict";function a(){this._init.apply(this,arguments)}a.prototype._init=function(t,n,i,r,a){this._oService=t;this._sContainerKey=i;this._oAdapterContainer={};this._oScope=r||e.adjustScope(r);this._aLoadedKeys=[];this._oUnmodifiableContainer=undefined;let s;if(!(a instanceof o)&&a!==undefined){throw new Error("oComponent passed is not a UI5 Component and not undefined")}if(a&&a.getMetadata&&a.getMetadata().getComponentName){s=a.getMetadata().getComponentName()}this.clearData();if(!this._sContainerKey||typeof this._sContainerKey!=="string"){throw new Error("Invalid container key: sap.ushell.services.PersonalizationV2")}this._oAdapterContainer=n.getAdapterContainer(this._sContainerKey,this._oScope,s);return this};a.prototype._getValidity=function(){return this._oScope.validity};a.prototype.clearData=function(){this._oItemMap={};this._aLoadedItemKeys=[];this._clear=true;this._oItemMap=new t.Map};a.prototype.load=function(){const e=new jQuery.Deferred;if(!this._sContainerKey){throw new Error("Invalid container key: sap.ushell.services.PersonalizationV2")}this.clearData();const n=this._oService._pendingContainerOperations_flushAddNext(this._sContainerKey,e);const i=this;n.always(()=>{i._oAdapterContainer.load().fail(t=>{e.reject(t)}).done(()=>{i._copyFromAdapter();if(i.isExpired()){i.clearData()}e.resolve()})});return t.promisify(e.promise())};a.prototype._copyFromAdapter=function(){const t=this._oAdapterContainer.getItemKeys().splice(0);t.forEach(t=>{this._oItemMap.put(t,JSON.stringify(this._oAdapterContainer.getItemValue(t)))});this._aLoadedItemKeys=this._oItemMap.keys().splice(0)};a.prototype.isExpired=function(){if(this._getValidity()===Infinity||this._getValidity()===0){return false}const t=this._getItemValueInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_EXPIRE);const e=i.getDateInstance({pattern:n.S_ABAPTIMESTAMPFORMAT});const o=e.format(new Date,true);return t&&o>t};a.prototype._copyToAdapterUpdatingValidity=function(){let t=[];if(this._clear){t=this._oAdapterContainer.getItemKeys().splice(0);t.forEach(t=>{this._oAdapterContainer.delItem(t)});this._clear=false}if(this._getValidity()===Infinity||this._getValidity()===0){this._delItemInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_SCOPE);this._delItemInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_EXPIRE);this._delItemInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_STORAGE)}else{const t=i.getDateInstance({pattern:n.S_ABAPTIMESTAMPFORMAT});const e=new Date;const o=t.format(e,true);const r=t.format(new Date(e.getTime()+this._getValidity()*6e4),true);this._setItemValueInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_SCOPE,this._oScope);this._setItemValueInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_EXPIRE,r);this._setItemValueInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_STORAGE,o)}t=this._oItemMap.keys();t.forEach(t=>{this._oAdapterContainer.setItemValue(t,e.cloneToObject(this._oItemMap.get(t)))});const o=this._aLoadedItemKeys.filter(e=>!(t.indexOf(e)>-1));o.forEach(t=>{this._oAdapterContainer.delItem(t)})};a.prototype.save=function(e){this._copyToAdapterUpdatingValidity();const n=new jQuery.Deferred;const i=this._oService._pendingContainerOperations_cancelAddNext(this._sContainerKey,n);const o=this;function r(){i.always(()=>{try{o._oAdapterContainer.save().fail(t=>{n.reject(t)}).done(()=>{n.resolve()})}catch(t){n.reject(t)}})}n._sapFnSave=r;n._sapTimeoutId=setTimeout(r,e);return t.promisify(n.promise())};a.prototype.flushPendingRequests=function(){this._copyToAdapterUpdatingValidity();const e=new jQuery.Deferred;const n=this._oService._pendingContainerOperations_flushAddNext(this._sContainerKey,e);n.fail(t=>{e.reject(t)}).done(()=>{e.resolve()});return t.promisify(e.promise())};a.prototype.getItemKeys=function(){const t=this._oItemMap.keys().filter(t=>t.startsWith(n.S_ITEM_PREFIX));return t.map(t=>t.replace(n.S_ITEM_PREFIX,"",""))};a.prototype._getInternalKeys=function(){return this._oItemMap.keys().splice(0)};a.prototype.getItemValue=function(t){return this._getItemValueInternal(n.S_ITEM_PREFIX,t)};a.prototype._getItemValueInternal=function(t,n){if(typeof n!=="string"||typeof t!=="string"){return}return e.cloneToObject(this._oItemMap.get(t+n))};a.prototype.containsItem=function(t){if(typeof t!=="string"){return undefined}return this._oItemMap.containsKey(n.S_ITEM_PREFIX+t)};a.prototype.setItemValue=function(t,e){this._setItemValueInternal(n.S_ITEM_PREFIX,t,e)};a.prototype._setItemValueInternal=function(t,e,n){if(typeof e!=="string"||typeof t!=="string"){throw Error("Parameter value of sItemKey or sItemValue is not a string: sap.ushell.services.PersonalizationV2")}if(e.length>40){r.error(`Personalization Service item key/variant set name ("${e}") should be less than 40 characters [current :${e.length}]`)}this._oItemMap.put(t+e,JSON.stringify(n))};a.prototype.deleteItem=function(t){this._delItemInternal(n.S_ITEM_PREFIX,t)};a.prototype._delItemInternal=function(t,e){if(typeof e!=="string"){return}if(typeof t!=="string"){return}this._oItemMap.remove(t+e)};a.prototype.getKey=function(){return this._sContainerKey.substring(n.S_CONTAINER_PREFIX.length)};return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PersonalizationV2/Personalizer", ["sap/ushell/utils","sap/base/Log"],(t,e)=>{"use strict";function r(t,e,r,i,n){this._sPersContainer="";this._sPersItem="";this._sPersVariant=null;this._oAdapter=e;this._oPersonalizationService=t;this._oScope=i;this._oComponent=n;if(!r||!r.container||!r.item||typeof r.container!=="string"||typeof r.item!=="string"){throw new Error("Invalid input for oPersId: sap.ushell.services.Personalization")}this._sPersContainer=r.container;this._sPersItem=r.item}r.prototype._getContainer=function(t){if(!this._oGetContainerPromise){this._oGetContainerPromise=this._oPersonalizationService.getContainer(t,this._oScope,this._oComponent)}return this._oGetContainerPromise};r.prototype.getPersData=function(){return this._getContainer(this._sPersContainer).then(t=>t.getItemValue(this._sPersItem)).catch(t=>{e.error(`Failed to get personalization data for Personalizer container: ${this._sPersContainer}`,t);throw t})};r.prototype.setPersData=function(r){return this._getContainer(this._sPersContainer).then(e=>{e.setItemValue(this._sPersItem,r);return t.promisify(e.save())}).catch(t=>{e.error(`Failed to get personalization data for Personalizer container: ${this._sPersContainer}`,t);throw t})};r.prototype.deletePersData=function(){return this._getContainer(this._sPersContainer).then(e=>{e.deleteItem(this._sPersItem);return t.promisify(e.save())}).catch(t=>{e.error(`Fail to delete Personalization data for Personalizer container: ${this._sPersContainer}`,t);throw t})};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PersonalizationV2/TransientPersonalizer", [],()=>{"use strict";function e(){this._oValue=undefined}e.prototype.getPersData=async function(){return this._oValue};e.prototype.setPersData=async function(e){this._oValue=e};e.prototype.deletePersData=async function(){this._oValue=undefined};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PersonalizationV2/Variant", ["sap/ushell/services/PersonalizationV2/utils"],t=>{"use strict";function a(t,a,e){if(typeof a!=="string"){throw new Error("Parameter value of sVariantKey is not a string: sap.ushell.services.Personalization")}if(typeof e!=="string"){throw new Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization")}this._oVariantSet=t;this._sVariantKey=a;this._sVariantName=e}a.prototype.getVariantKey=function(){return this._sVariantKey};a.prototype.getVariantName=function(){return this._sVariantName};a.prototype.setVariantName=function(t){const a=this._oVariantSet._getVariantSet();if(typeof t!=="string"){throw new Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization")}if(this._oVariantSet.getVariantKeyByName(t)!==undefined){throw new Error(`Variant with name '${t}' already exists in variant set '${this._oVariantSet._sVariantSetKey}': sap.ushell.services.Personalization"`)}if(Object.hasOwn(a,"variants")&&Object.hasOwn(a.variants,this._sVariantKey)){const e=a.variants[this._sVariantKey];e.name=t;this._sVariantName=t;this._oVariantSet._serialize()}else{throw new Error("Variant does not longer exist")}};a.prototype.getItemValue=function(a){if(typeof a!=="string"){return}const e=this._oVariantSet._getVariantSet().variants[this._sVariantKey].variantData;if(!Object.hasOwn(e,a)){return}return t.clone(e[a])};a.prototype.setItemValue=function(a,e){if(typeof a!=="string"){throw new Error("Parameter value of sItemKey is not a string: sap.ushell.services.Personalization")}const i=this._oVariantSet._getVariantSet().variants&&this._oVariantSet._getVariantSet().variants[this._sVariantKey];if(!i){throw new Error("Variant does not longer exist")}if(!i.variantData){i.variantData={}}const r=i.variantData;r[a]=t.clone(e);this._oVariantSet._serialize()};a.prototype.containsItem=function(t){if(typeof t!=="string"){return undefined}const a=this._oVariantSet._getVariantSet().variants[this._sVariantKey].variantData;return Object.hasOwn(a,t)};a.prototype.getItemKeys=function(){const t=this._oVariantSet._getVariantSet().variants[this._sVariantKey].variantData;let a;const e=[];for(a in t){if(Object.hasOwn(t,a)){e.push(a)}}e.sort();return e};a.prototype.deleteItem=function(t){if(typeof t!=="string"){return}const a=this._oVariantSet._getVariantSet().variants[this._sVariantKey].variantData;delete a[t];this._oVariantSet._serialize()};return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PersonalizationV2/VariantSet", ["sap/ushell/utils","sap/ushell/services/PersonalizationV2/constants.private","sap/ushell/services/PersonalizationV2/Variant"],(t,a,e)=>{"use strict";function n(e,n){let r;const i=new t.Map;this._oContextContainer=n;this._sVariantSetKey=e;this._oVariantSetData=this._oContextContainer._getItemValueInternal(a.S_VARIANT_PREFIX,this._sVariantSetKey);if(!Object.hasOwn(this._oVariantSetData,"currentVariant")){throw new Error("Corrupt variant set data: sap.ushell.services.Personalization")}if(Object.hasOwn(this._oVariantSetData,"variants")){for(r in this._oVariantSetData.variants){if(Object.hasOwn(this._oVariantSetData.variants,r)){const t=this._oVariantSetData.variants[r].name;const a=this._oVariantSetData.variants[r].variantData;if(i.containsKey(t)){throw new Error("Variant name already exists: sap.ushell.services.Personalization")}else{if(typeof r!=="string"){throw new Error("Parameter value of sVariantKey is not a string: sap.ushell.services.Personalization")}if(typeof t!=="string"){throw new Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization")}if(a&&typeof a!=="object"){throw Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization")}i.put(t,r)}}}}else{throw new Error("Corrupt variant set data: sap.ushell.services.Personalization")}return this}n.prototype._getVariantSet=function(){return this._oVariantSetData};n.prototype._serialize=function(){this._oContextContainer._setItemValueInternal(a.S_VARIANT_PREFIX,this._sVariantSetKey,this._oVariantSetData)};n.prototype.getCurrentVariantKey=function(){return this._getVariantSet().currentVariant};n.prototype.setCurrentVariantKey=function(t){this._getVariantSet().currentVariant=t;this._serialize()};n.prototype.getVariantKeys=function(){const a=new t.Map;const e=this._getVariantSet(this._sVariantSetKey);let n;if(Object.hasOwn(e,"variants")){for(n in e.variants){if(Object.hasOwn(e.variants,n)){a.put(n,"dummy")}}}else{throw new Error("Corrupt variant set data: sap.ushell.services.Personalization")}return a.keys()};n.prototype.getVariantNamesAndKeys=function(){const a=new t.Map;const e=new t.Map;const n=this._getVariantSet(this._sVariantSetKey);let r;if(Object.hasOwn(n,"variants")){for(r in n.variants){if(Object.hasOwn(n.variants,r)){const t=n.variants[r].name;if(a.containsKey(t)){throw new Error("Variant name already exists: sap.ushell.services.Personalization")}else{a.put(t,r)}e.put(r,"dummy")}}}else{throw new Error("Corrupt variant set data: sap.ushell.services.Personalization")}return a.entries};n.prototype.getVariant=function(t){if(typeof t!=="string"){return undefined}const a=this._getVariantSet(this._sVariantSetKey);if(Object.hasOwn(a,"variants")&&Object.hasOwn(a.variants,t)){const n=a.variants[t].name;const r=a.variants[t].variantData;const i=new e(this,t,n,r);return i}return undefined};n.prototype.getVariantKeyByName=function(t){if(typeof t!=="string"){return undefined}const a=this._getVariantSet(this._sVariantSetKey);let e;if(Object.hasOwn(a,"variants")){for(e in a.variants){if(Object.hasOwn(a.variants,e)){if(t===a.variants[e].name){return e}}}}else{throw new Error("Corrupt variant set data: sap.ushell.services.Personalization")}return undefined};n.prototype.containsVariant=function(t){const a=this._getVariantSet();if(typeof t!=="string"){return undefined}return Object.hasOwn(a,"variants")&&Object.hasOwn(a.variants,t)};n.prototype.addVariant=function(t){const a=this.getVariantKeys();const n=parseInt(a.sort((t,a)=>t-a).reverse()[0],10);const r=isNaN(n)?"0":(n+1).toString();if(a.indexOf(r)>=0){throw new Error(`Variant key '${r}' already exists in variant set '${this._sVariantSetKey}': sap.ushell.services.Personalization`)}if(typeof t!=="string"){throw new Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization")}if(this.getVariantKeyByName(t)!==undefined){const a=`(Old key: '${this.getVariantKeyByName(t)}' New key: '${r}')`;throw new Error(`Variant name '${t}' already exists in variant set '${this._sVariantSetKey}' ${a}: sap.ushell.services.Personalization`)}const i=new e(this,r,t);this._getVariantSet(this._sVariantSetKey).variants[r]={name:t,variantData:{}};this._serialize();return i};n.prototype.deleteVariant=function(t){if(typeof t!=="string"){return}const a=this._getVariantSet();if(a&&a.variants){delete this._oVariantSetData.variants[t]}this._serialize()};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PersonalizationV2/VariantSetAdapter", ["sap/ushell/services/PersonalizationV2/constants.private","sap/ushell/services/PersonalizationV2/VariantSet"],(t,n)=>{"use strict";function e(t){this._oContextContainer=t}e.prototype.save=function(){return this._oContextContainer.save()};e.prototype.getVariantSetKeys=function(){const n=this._oContextContainer._getInternalKeys();const e=n.map(n=>n.replace(t.S_VARIANT_PREFIX,"",""));return e};e.prototype.containsVariantSet=function(t){return this.getVariantSetKeys().indexOf(t)>=0};e.prototype.getVariantSet=function(e){const o=this._oContextContainer._getItemValueInternal(t.S_VARIANT_PREFIX,e);if(!o){return}return new n(e,this._oContextContainer)};e.prototype.addVariantSet=function(e){if(this.containsVariantSet(e)){throw new Error(`Container already contains a variant set with key '${e}': sap.ushell.services.Personalization`)}const o={currentVariant:null,variants:{}};this._oContextContainer._setItemValueInternal(t.S_VARIANT_PREFIX,e,o);const a=new n(e,this._oContextContainer);return a};e.prototype.deleteVariantSet=function(n){this._oContextContainer._delItemInternal(t.S_VARIANT_PREFIX,n)};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PersonalizationV2/WindowAdapter", ["sap/ui/thirdparty/jquery","sap/ushell/services/PersonalizationV2/WindowAdapterContainer"],(jQuery,e)=>{"use strict";function t(e,t){this._oBackendAdapter=t;if(t){this.supportsGetWithoutSubsequentLoad=t.supportsGetWithoutSubsequentLoad}}t.prototype.data={};t.prototype.getAdapterContainer=function(r,o,n){const a=this._oBackendAdapter&&this._oBackendAdapter.getAdapterContainer(r,o,n);return new e(r,o,a,t)};t.prototype.delAdapterContainer=function(e,r){const o=new jQuery.Deferred;delete t.prototype.data[e];if(this._oBackendAdapter){this._oBackendAdapter.delAdapterContainer(e,r).done(()=>{o.resolve()}).fail(e=>{o.reject(e)})}else{o.resolve()}return o.promise()};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PersonalizationV2/WindowAdapterContainer", ["sap/ushell/utils","sap/ushell/services/PersonalizationV2/utils","sap/ui/thirdparty/jquery"],(e,t,jQuery)=>{"use strict";function n(t,n,o,i){this._oBackendContainer=o;this._oItemMap=new e.Map;this._sContainerKey=t;this.WindowAdapter=i}function o(e){let t;const n=e.getItemKeys();for(t=0;t<n.length;t=t+1){e.delItem(n[t])}}n.prototype.load=function(){const e=new jQuery.Deferred;let n;let i;if(this.WindowAdapter.prototype.data[this._sContainerKey]){this._oItemMap.entries=t.clone(this.WindowAdapter.prototype.data[this._sContainerKey]);if(this._oBackendContainer){o(this._oBackendContainer);i=this.getItemKeys();for(n=0;n<i.length;n=n+1){this._oBackendContainer.setItemValue(i[n],this._oItemMap.get(i[n]))}}e.resolve()}else if(this._oBackendContainer){const o=this;this._oBackendContainer.load().done(()=>{i=o._oBackendContainer.getItemKeys();for(n=0;n<i.length;n=n+1){o.setItemValue(i[n],o._oBackendContainer.getItemValue(i[n]))}this.WindowAdapter.prototype.data[o._sContainerKey]=t.clone(o._oItemMap.entries);e.resolve()}).fail(t=>{e.reject(t)})}else{this.WindowAdapter.prototype.data[this._sContainerKey]={};e.resolve()}return e.promise()};n.prototype.save=function(){const e=new jQuery.Deferred;this.WindowAdapter.prototype.data[this._sContainerKey]=t.clone(this._oItemMap.entries);if(this._oBackendContainer){this._oBackendContainer.save().done(()=>{e.resolve()}).fail(t=>{e.reject(t)})}else{e.resolve()}return e.promise()};n.prototype.getItemKeys=function(){return this._oItemMap.keys()};n.prototype.containsItem=function(e){return this._oItemMap.containsKey(e)};n.prototype.getItemValue=function(e){return this._oItemMap.get(e)};n.prototype.setItemValue=function(e,t){this._oItemMap.put(e,t);if(this._oBackendContainer){this._oBackendContainer.setItemValue(e,t)}};n.prototype.delItem=function(e){this._oItemMap.remove(e);if(this._oBackendContainer){this._oBackendContainer.delItem(e)}};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PersonalizationV2/constants", [],()=>{"use strict";const E={FIXED_KEY:"FIXED_KEY",GENERATED_KEY:"GENERATED_KEY"};const e={HIGH:"HIGH",LOW:"LOW"};return{keyCategory:E,writeFrequency:e}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PersonalizationV2/constants.private", [],()=>{"use strict";return{S_CONTAINER_PREFIX:"sap.ushell.personalization#",S_ITEM_PREFIX:"ITEM#",S_VARIANT_PREFIX:"VARIANTSET#",S_ABAPTIMESTAMPFORMAT:"yyyyMMddHHmmss",S_ADMIN_PREFIX:"ADMIN#",S_ITEMKEY_SCOPE:"sap-ushell-container-scope",S_ITEMKEY_STORAGE:"sap-ushell-container-storageUTCTimestamp",S_ITEMKEY_EXPIRE:"sap-ushell-container-expireUTCTimestamp"}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PersonalizationV2/utils", ["sap/ushell/services/PersonalizationV2/constants","sap/ushell/services/PersonalizationV2/constants.private","sap/ushell/utils","sap/ui/thirdparty/jquery","sap/base/Log"],(e,t,n,jQuery,i)=>{"use strict";function r(e,t){let n;for(n in t){if(typeof t[n]!=="function"){if(t.hasOwnProperty(n)){if(n===e){return true}}}}return false}function a(e){if(e.length>40){i.error(`Personalization Service container key ("${e}") should be less than 40 characters [current :${e.length}]`)}return t.S_CONTAINER_PREFIX+e}function l(e,t,n){if(e&&e.validity===0){return t}return n}function o(t){const n={validity:Infinity,keyCategory:e.keyCategory.GENERATED_KEY,writeFrequency:e.writeFrequency.HIGH,clientStorageAllowed:false};if(t){n.validity=t.validity;if(n.validity===null||n.validity===undefined||typeof n.validity!=="number"){n.validity=Infinity}if(!(typeof n.validity==="number"&&(n.validity>=0&&n.validity<1e3||n.validity===Infinity))){n.liftime=Infinity}n.keyCategory=r(t.keyCategory,e.keyCategory)?t.keyCategory:n.keyCategory;n.writeFrequency=r(t.writeFrequency,e.writeFrequency)?t.writeFrequency:n.writeFrequency;if(typeof t.clientStorageAllowed==="boolean"&&(t.clientStorageAllowed===true||t.clientStorageAllowed===false)){n.clientStorageAllowed=t.clientStorageAllowed}}return n}async function u(e){if(!e.lazy){return n.promisify(jQuery.when(e.instance))}return n.promisify(e.create.call(null))}function f(e){if(!e){return false}const t=e.getManifestObject();if(!t){return false}const n=t.getEntry("/sap.ui5/appVariantId");if(!n){return false}const i=t.getComponentName();if(n===i){return false}return true}function y(e){if(e===undefined){return undefined}try{return JSON.parse(e)}catch{return undefined}}function s(e){if(e===undefined){return undefined}try{return JSON.parse(JSON.stringify(e))}catch{return undefined}}return{adjustScope:o,cloneToObject:y,clone:s,addContainerPrefix:a,pickAdapter:l,isAppVariant:f,loadAdapter:u}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PluginManager", ["sap/base/Log","sap/ui/thirdparty/jquery","sap/ushell/appIntegration/PostMessagePluginInterface","sap/ushell/services/PluginManager/Extensions","sap/ushell/UI5ComponentType","sap/ushell/utils","sap/ushell/Container","sap/ushell/services/PluginManager/SimpleExpression"],(e,jQuery,n,i,t,o,s,r)=>{"use strict";const l="sap.ushell.services.PluginManager";const a="sap-ushell-plugin-type";const u="RendererExtensions";const c="sap.ushell.components.shell.defaults";const g=[u,"UserDefaults","UserImage","AppWarmup"];function f(f,p,h){const d=this;this._oPluginCollection={};this._oCategoryLoadingProgress={};this._mInitializedComponentPromise={};this._sPluginAgentsNames="";this._oConfig=h&&h.config||{};if(this._oConfig.isBlueBox===undefined){this._oConfig.isBlueBox=false}g.forEach(e=>{d._oPluginCollection[e]={};d._oCategoryLoadingProgress[e]=new jQuery.Deferred});this._handlePluginCreation=async function(n,i,t,s){const r=d._oPluginCollection[n][i];o.setPerformanceMark(`FLP -- PluginManager.loadPlugin[${n}][${i}]`);try{if(r.hasOwnProperty("component")){if(d._mInitializedComponentPromise.hasOwnProperty(r.component)){d._mInitializedComponentPromise[r.component].catch(()=>{}).then(()=>{d._instantiateComponent(r,t,s)})}else{d._mInitializedComponentPromise[r.component]=d._instantiateComponent(r,t,s)}}else{e.error(`Invalid plugin configuration. The plugin ${i} must contain a <component> key`,l)}}catch(n){e.error(`Error while loading bootstrap plugin: ${r.component}`||"",l);if(t){t.reject(n)}}};this._getFileNameForXhrAuth=function(){return"Component-preload.js"};this._handleXhrAuthentication=function(n,i){let t;if(n&&["true",true,"X"].indexOf(n["sap-ushell-xhr-authentication"])>-1){if(!i){e.error(["Illegal state: configuration parameter 'sap-ushell-xhr-authentication-timeout' set, but no component URL specified.","XHR authentication request will not be sent. Please check the target mapping definitions for plug-ins","and the application index."].join(" "),undefined,l);return jQuery.when()}if(n.hasOwnProperty("sap-ushell-xhr-authentication-timeout")){t=parseInt(n["sap-ushell-xhr-authentication-timeout"],10);if(isNaN(t)){e.error(["Invalid value for configuration parameter 'sap-ushell-xhr-authentication-timeout' for plug-in component with URL '",i,"': '",n["sap-ushell-xhr-authentication-timeout"],"' is not a number. Timeout will be ignored."].join(""),undefined,l)}else{s.setXhrLogonTimeout(i,t)}}return jQuery.ajax(`${i}/${this._getFileNameForXhrAuth()}`,{dataType:"text"})}return jQuery.when()};this._instantiateComponent=function(n,o,r){const a=new jQuery.Deferred;const u=JSON.parse(JSON.stringify(n));const c={ui5ComponentName:u.component,url:u.url,getExtensions:i.bind(null,n.component)};function g(n){return function(i){n=n||`Cannot create UI5 plugin component: (componentId/appdescrId :${c.ui5ComponentName})\n${i} properties ${JSON.stringify(c)}\n This indicates a plugin misconfiguration, see e.g. Note 2316443.`;e.error(n,i,l);if(o){o.reject(i)}a.reject(i)}}u.name=u.component;delete u.component;c.applicationDependencies=u;if(u.config){c.applicationConfiguration=u.config;delete u.config}c.loadDefaultDependencies=false;if(r!==undefined){c.oPostMessageInterface=r}s.getServiceAsync("Ui5ComponentLoader").then(e=>{this._handleXhrAuthentication(c.applicationConfiguration,u.url).done(()=>{e.createComponent(c,{},[],t.Plugin).then(function(e){if(o){o.resolve(e)}a.resolve.apply(this,arguments)}).catch(g())}).fail(g("XHR logon for FLP plugin failed"))}).catch(g());return a.promise()};this.getSupportedPluginCategories=function(){return JSON.parse(JSON.stringify(g))};this.getRegisteredPlugins=function(){return JSON.parse(JSON.stringify(this._oPluginCollection))};this.isPluginConfigured=function(e,n=u){if(!this._oPluginCollection[n]){return false}const i=new URLSearchParams(window.location.search).get("sap-ushell-xx-pluginmode")||"";const t=this.filterPluginIds(Object.keys(this._oPluginCollection[n]),i,n);return t.includes(e)};this.registerPlugins=async function(n){let i;if(!n){return}if(this._oConfig.isBlueBox===true){i=new URLSearchParams(window.location.search).get("sap-plugins");if(i&&i.length>0){i=`,${i},`}else{i=undefined}}const t=await this._addPluginsIntoCollection(n,i);try{if(this._oConfig.isBlueBox!==true){this._buildNamesOfPluginsWithAgents()}}catch(n){e.error("failed to build plugin agents names list",n,"sap.ushell.services.PluginManager")}t.forEach(e=>{if(Object.hasOwn(this._oCategoryLoadingProgress,e)&&this._oCategoryLoadingProgress[e].state()==="resolved"){this.loadPlugins(e)}})};this._addPluginsIntoCollection=async function(n,i=""){const t=[];for(const s of Object.keys(n).sort()){const r=n[s]||{};const c=r.config||{};const f=c[a]||"";r.enabled??=true;if(r.enabled===false){continue}if(!this._isFormFactorSupported(r)){e.info(`Plugin '${s}' filtered from result: form factor not supported`);continue}if(this._oConfig.isBlueBox===true&&c["sap-plugin-agent"]===true){const e=c["sap-plugin-agent-id"]||s;if(!i.includes(`,${e},`)){continue}}if(Object.hasOwn(r,"module")){const n=(r.module||"").replace(/\./g,"/");e.error(`Plugin ${s} cannot get registered, because the module mechanism for plugins is not valid anymore. Plugins need to be defined as SAPUI5 components.`,l);try{await o.requireAsync([n])}catch(i){e.error(`Plugin module ${n} is not found.`,i)}continue}if(Object.hasOwn(c,a)){if(g.includes(f)){if(!t.includes(f)){t.push(f)}this._oPluginCollection[f][s]=JSON.parse(JSON.stringify(r))}else{e.warning(`Plugin ${s} will not be inserted into the plugin collection of the PluginManager, because of unsupported category ${f}`,l)}}else{this._oPluginCollection[u][s]=JSON.parse(JSON.stringify(r));if(!t.includes(u)){t.push(u)}}}return t};this._isFormFactorSupported=function(e){const n=e.deviceTypes;const i=o.getFormFactor();if(n&&n[i]===false){return false}return true};this.getPluginLoadingPromise=function(e){if(this._oCategoryLoadingProgress.hasOwnProperty(e)){return this._oCategoryLoadingProgress[e].promise()}};this.filterPluginIds=function(e,n,i){let t;if(n.startsWith("allow-filter-")){t="allowFilterPluginsAccordingToSimpleExpression"}else if(n.startsWith("discard")){t="discardAlmostAllPlugins"}else{t="unknownFilterMode"}switch(t){case"allowFilterPluginsAccordingToSimpleExpression":const t=n.replace("allow-filter-","");return r.filterByExpression(e,t);case"discardAlmostAllPlugins":return e.filter(e=>d._oPluginCollection[i][e].component===c);case"unknownFilterMode":default:return e}};this.loadPlugins=function(i){let t;o.setPerformanceMark(`FLP -- PluginManager.startLoadPlugins[${i}]`);if(i===u){t=n.getInterface()}if(g&&Array.prototype.indexOf.call(g,i)!==-1){if(d._oCategoryLoadingProgress[i].pluginLoadingTriggered===undefined){d._oCategoryLoadingProgress[i].pluginLoadingTriggered=true}if(Object.keys(d._oPluginCollection[i]).length>0){const e=[];let n=Object.keys(d._oPluginCollection[i]);const s=new URLSearchParams(window.location.search).get("sap-ushell-xx-pluginmode")||"";n=this.filterPluginIds(n,s,i,d);n.forEach(n=>{const o=d._oPluginCollection[i][n];if(!o.loaded){o.loaded=true;const s=new jQuery.Deferred;e.push(s.promise());d._handlePluginCreation(i,n,s,t)}});if(e.length>0){Promise.allSettled(e.map((e,i)=>new Promise(t=>{const o={pluginName:n[i],success:true};e.done(()=>{t(o)}).fail(e=>{o.success=false;o.error=e;t(o)})}))).then(e=>{o.setPerformanceMark(`FLP -- PluginManager.endLoadPlugins[${i}]`);d._oCategoryLoadingProgress[i].resolve(e.map(e=>e.value))})}}else{d._oCategoryLoadingProgress[i].resolve()}}else{e.error(`Plugins with category ${i} cannot be loaded by the PluginManager`,l);d._oCategoryLoadingProgress[i].reject(new Error(`Plugins with category ${i} cannot be loaded by the PluginManager`))}return d._oCategoryLoadingProgress[i].promise()};this._buildNamesOfPluginsWithAgents=function(){let e="";Object.keys(d._oPluginCollection).forEach(n=>{Object.keys(d._oPluginCollection[n]).forEach(i=>{const t=d._oPluginCollection[n][i];if(t&&t.enabled&&t.enabled===true){if(t.config&&t.config["sap-plugin-agent"]===true){e+=`${t.config["sap-plugin-agent-id"]||i},`}}})});if(e.endsWith(",")){e=e.slice(0,-1)}this._sPluginAgentsNames=e};this._getNamesOfPluginsWithAgents=function(){return this._sPluginAgentsNames}}f.hasNoAdapter=true;return f},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PluginManager/Extensions", ["sap/ushell/services/PluginManager/HeaderExtensions","sap/ushell/services/PluginManager/MenuExtensions"],(e,n)=>{"use strict";function r(e){return Promise.resolve(n(e))}function s(){return Promise.resolve(e)}const i={Header:s,Menu:r};async function t(e,n){const r=i[n];if(!r){throw new Error(`Unsupported extension: '${n}'`)}return r(e)}return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PluginManager/HeaderExtensions", ["sap/ushell/EventHub"],e=>{"use strict";function t(t,r,a){e.emit("setHeaderCentralAreaElement",{id:t,currentState:r,states:a})}return{setHeaderCentralAreaElement:t}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PluginManager/MenuExtensions", ["sap/ushell/Container"],e=>{"use strict";function n(n){return function r(t){return e.getServiceAsync("Menu").then(e=>e.getEntryProvider(n,t))}}return function(e){return{getMenuEntryProvider:n(e)}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PluginManager/SimpleExpression", [],()=>{"use strict";const e={};e.parseAndEvaluate=function(t,p){const s=p.split(" ");return e.evaluate(t,s)};e.evaluate=function(e,t){const p=[];let s;while(t.length){switch(s=t.shift()){case"includes":p.push(e.includes(p.pop()));break;case"not":p.push(!p.pop());break;case"and":p.push(p.pop()&&p.pop());break;case"or":p.push(p.pop()||p.pop());break;default:p.push(s)}}return p.pop()};e.filterByExpression=function(t,p){return t.filter(t=>e.parseAndEvaluate(t,p))};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ReferenceResolver", ["sap/base/Log","sap/base/i18n/Formatting","sap/base/i18n/date/CalendarType","sap/base/util/deepExtend","sap/base/util/isEmptyObject","sap/ui/core/Lib","sap/ui/core/Supportability","sap/ui/core/format/DateFormat","sap/ui/model/odata/ODataUtils","sap/ui/model/odata/v4/ODataUtils","sap/ushell/User","sap/ushell/utils","sap/ushell/Container"],(e,t,n,a,s,r,i,l,c,o,u,f,d)=>{"use strict";const m="sap.ushell.services.ReferenceResolver";function g(){this.getValue=async function(e){let n;if(e==="User.env.sap-ui-legacy-date-format"){n=t.getABAPDateFormat()}if(e==="User.env.sap-ui-legacy-number-format"){n=t.getABAPNumberFormat()}if(e==="User.env.sap-ui-legacy-time-format"){n=t.getABAPTimeFormat()}if(e==="User.env.sap-language"){n=d.getUser().getLanguage()}if(e==="User.env.sap-languagebcp47"){n=d.getUser().getLanguageBcp47()}if(e==="User.env.sap-accessibility"){n=d.getUser().getAccessibilityMode()?"X":undefined}if(e==="User.env.sap-statistics"){n=i.isStatisticsEnabled()?"true":undefined}if(e==="User.env.sap-theme"){n=d.getUser().getTheme(u.prototype.constants.themeFormat.THEME_NAME_PLUS_URL)}if(e==="User.env.sap-theme-name"){n=d.getUser().getTheme()}if(e==="User.env.sap-theme-NWBC"){n=d.getUser().getTheme(u.prototype.constants.themeFormat.NWBC)}return{value:n}}}function h(t,i,u){this._getUserEnvReferenceResolver=function(){if(!this.oUserEnvReferenceResolver){this.oUserEnvReferenceResolver=new g}return this.oUserEnvReferenceResolver};this.resolveReferences=async function(t,n){const a=[];let r=true;const i={};const l={};const c=t.map(t=>{let n;if(t.indexOf("User.env.")===0){n=t;l[n]=1}if(t.indexOf("UserDefault.")===0){n=this._extractAnyUserDefaultReferenceName(t);i[n]=1}if(typeof n!=="string"){r=false;e.error(`'${t}' is not a legal reference name`,null,m)}return{full:t,name:n}});if(!r){throw new Error("One or more references could not be resolved")}if(!n){const e=await d.getServiceAsync("ClientSideTargetResolution");n=await e.getSystemContext()}const o=await d.getServiceAsync("UserDefaultParameters");Object.keys(i).forEach(e=>{a.push(o.getValue(e,n))});const u=this._getUserEnvReferenceResolver();Object.keys(l).forEach(e=>{a.push(u.getValue(e))});const f=await Promise.all(a);const g={};let h=0;Object.keys(i).forEach(e=>{i[e]=f[h];h=h+1});Object.keys(l).forEach(e=>{l[e]=f[h];h=h+1});c.forEach(e=>{let t;if(e.full.indexOf("UserDefault.extended.")===0){t=this.mergeSimpleAndExtended(i[e.name]);if(!s(t)){g[e.full]=t}else{g[e.full]=undefined}}else if(e.full.indexOf("UserDefault.")===0){g[e.full]=i[e.name].value}else if(e.full.indexOf("User.env.")===0){g[e.full]=l[e.name].value}});return g};this._extractAnyUserDefaultReferenceName=function(e){const t=this.extractExtendedUserDefaultReferenceName(e);if(typeof t==="string"){return t}return this.extractUserDefaultReferenceName(e)};this.extractExtendedUserDefaultReferenceName=function(e){if(typeof e!=="string"||e.indexOf("UserDefault.extended.")!==0){return undefined}return e.replace(/^UserDefault[.]extended[.]/,"")};this.extractUserDefaultReferenceName=function(e){if(typeof e!=="string"||e.indexOf("UserDefault.")!==0||e.indexOf("UserDefault.extended.")===0){return undefined}return e.replace(/^UserDefault[.]/,"")};this.mergeSimpleAndExtended=function(e){const t=a({},e.extendedValue);if(typeof e.value==="string"){if(!Array.isArray(t.Ranges)){t.Ranges=[]}t.Ranges.push({Sign:"I",Option:"EQ",Low:e.value,High:null})}return t};function h(e){const t=/{([^}%]*%%[^%]+%%)}?/g;const n=/([^%]*)%%/;const a=/%%([^%]+)%%/;const s=[];let r=t.exec(e);while(r){const i=n.exec(r[1]);const l=a.exec(r[1]);s.push({edmType:i[1],name:l[1]});r=t.exec(e)}return s}this._extractUrlPlaceholders=function(e,t){let n=/[^(?]*/.exec(e);let a=n===null?[]:h(n[0]);const s=a.map(e=>e.name);n=/[(?][^]*/.exec(e);a=n===null?[]:h(n[0]);const r=a.filter(e=>{const n=e.name;if(t.test(n)){return true}s.push(n);return false});return{extractedReferences:r,ignoredReferences:s}};this._replaceUrlPlaceholders=function(e,t,n){let a=e;const s=[];const r=n?o.formatLiteral.bind(o):c.formatValue.bind(c);t.forEach(e=>{const t=e.name;let n=null;let i=false;while(n!==a){n=a;if(e.value!==undefined){const n=r(e.value,e.edmType);a=a.replace(`{${e.edmType}%%${t}%%}`,window.encodeURIComponent(n))}else{i=true;a=a.replace(`{${e.edmType}%%${t}%%}`,"")}}if(i){s.push(t)}});return{resolvedUrl:a,placeholdersWithoutValue:s}};this.resolveUserDefaultParameters=async function(e,t){const n=this._extractUrlPlaceholders(e,/^UserDefault\.(?!extended\.).+/);const a=n.extractedReferences;const s=n.ignoredReferences;if(a.length===0){return{url:e,defaultsWithoutValue:[],ignoredReferences:s}}const r=a.map(e=>e.name);const i=await this.resolveReferences(r,t);a.forEach(e=>{e.value=i[e.name]});const l=this._replaceUrlPlaceholders(e,a);return{url:l.resolvedUrl,defaultsWithoutValue:l.placeholdersWithoutValue,ignoredReferences:s}};this._loadDynamicDateRange=async function(){await r.load("sap.ui.unified");const[e]=await f.requireAsync(["sap/m/DynamicDateRange"]);return e};this._rSemanticDateRangeRegex=/^DynamicDate\..+/;this.resolveSemanticDateRanges=async function(t,n){const a=this._extractUrlPlaceholders(t,this._rSemanticDateRangeRegex);const s=a.extractedReferences;const r=a.ignoredReferences;if(s.length===0){return{url:t,hasSemanticDateRanges:false,invalidSemanticDates:[],ignoredReferences:r}}const i=["2.0","4.0"];if(!n||!i.includes(n)){throw new Error(`Invalid OData version: ${n}`)}const l=n==="4.0";const c=await this._resolveSemanticDateRanges(s,l);const o=this._replaceUrlPlaceholders(t,c,l);if(e.getLevel()>=e.Level.DEBUG){const a=c.filter(e=>"value"in e);e.debug("Resolving semantic date ranges \n"+`- OData Version: ${n}\n`+`- URL: ${t}\n`+`- ignoring references: ${JSON.stringify(r,null,4)}\n`+`- resolved semantic date ranges: ${JSON.stringify(a,null,4)}\n`+`- invalid semantic date ranges: ${JSON.stringify(o.placeholdersWithoutValue,null,4)}\n`+`- final URL: ${o.resolvedUrl}`,null,m)}return{url:o.resolvedUrl,hasSemanticDateRanges:s.length>0,invalidSemanticDates:o.placeholdersWithoutValue,ignoredReferences:r}};this._resolveSemanticDateRanges=async function(e,t){const n=this._getDateTimeFormatters();const a=await this._loadDynamicDateRange();return e.map(e=>{const s={name:e.name,edmType:e.edmType};const r=e.name.split(".");const i={operator:r[1],values:[]};let l;if(r.length===3){l=r[2]}else if(r.length===4){i.values.push(r[2]);l=r[3]}else if(r.length===5){i.values=r.slice(2,4);l=r[4]}let c;try{c=a.toDates(i)}catch(e){return s}if(r.length>=3&&l!=="start"&&l!=="end"){return s}let o;if(l==="end"){o=c[1]}else{o=c[0]}if(!o){return s}switch(e.edmType){case"Edm.String":s.value=n.string.format(o);break;case"Edm.Date":s.value=n.date.format(o);break;case"Edm.DateTime":o.setUTCFullYear(o.getFullYear(),o.getMonth(),o.getDate());o.setUTCHours(0,0,0,0);s.value=o;break;case"Edm.DateTimeOffset":if(t){s.value=n.dateTimeOffsetV4.format(o,true)}else{s.value=o}break;default:break}return s})};this._getDateTimeFormatters=function(){if(!this._oDateTimeFormatters){this._oDateTimeFormatters={string:l.getDateInstance({pattern:"yyyyMMdd",calendarType:n.Gregorian}),date:l.getDateInstance({pattern:"yyyy-MM-dd",calendarType:n.Gregorian}),dateTimeOffsetV4:l.getDateInstance({pattern:"yyyy-MM-dd'T'HH:mm:ss'.'SSS'Z'",calendarType:n.Gregorian})}}return this._oDateTimeFormatters};this.hasSemanticDateRanges=function(e){const t=this._extractUrlPlaceholders(e,this._rSemanticDateRangeRegex);return t.extractedReferences.length>0}}h.hasNoAdapter=true;return h},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Search", ["sap/ui/core/Lib"],e=>{"use strict";function t(e,t){this.init.apply(this,arguments)}t.prototype={init:function(e,t,r,a){this.oAdapter=e;this.oContainerInterface=t;this.appSearchDeferred=null},getAppSearch:function(){if(this.appSearchPromise){return this.appSearchPromise}this.appSearchPromise=new Promise(t=>{e.load("sap.esh.search.ui").then(()=>{sap.ui.require(["sap/esh/search/ui/appsearch/AppSearch"],e=>{t(new e({}))})})});return this.appSearchPromise},isSearchAvailable:function(){return this.oAdapter.isSearchAvailable()},prefetch:async function(){const e=await this.getAppSearch();return e.prefetch()},queryApplications:async function(e){e.top=e.top||10;e.skip=e.skip||0;const t=await this.getAppSearch();const r=await t.search(e);return{totalResults:r.totalCount,searchTerm:e.searchTerm,getElements:function(){return r.tiles}}}};t.hasNoAdapter=false;return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/SearchCEP", ["sap/base/Log","sap/ushell/utils/WindowUtils","sap/ushell/EventHub","sap/base/util/deepExtend","sap/ushell/utils/UrlParsing","sap/ushell/Container"],(e,r,t,o,s,i)=>{"use strict";const a={count:0,data:[]};function n(e,r,t,o){this.oAdapter=e;this._mSearchProviders={default:{},external:{}}}n.prototype.suggest=function(e){return this.search(e)};n.prototype.search=function(e){if(typeof this.oAdapter.search==="function"){return this.oAdapter.search(e)}return Promise.resolve(a)};n.prototype.navigate=async function(e,o){let a=e.url;if(!a){return}t.emit("UITracer.trace",{reason:"LaunchApp",source:"Search",data:{targetUrl:a}});if(a.startsWith("#")){if(o){const e=s.parseShellHash(a);if(e){e.params.searchTerm=o;a=s.constructShellHash(e)}}const e=await i.getServiceAsync("Navigation");return e.navigate({target:{shellHash:a}})}r.openURL(a)};n.prototype.registerDefaultSearchProvider=function(e){const r=o(e);r.name=r.id.replace(/\./g,"_");this._mSearchProviders.default[r.id]=r;return Promise.resolve()};n.prototype.registerExternalSearchProvider=async function(r){const s=o(r);const i=Function.prototype;const a={id:"SearchProvider needs an id",title:"SearchProvider needs a title",execSearch:"SearchProvider needs an execSearch callback"};const n={minQueryLength:1,maxQueryLength:100,defaultItemCount:3,maxItemCount:10,priority:10,closePopover:true,itemPress:i,popoverClosed:i};for(const r in a){if(!s[r]){e.error(a[r]);throw new Error(a[r])}}for(const e in n){if(!s.hasOwnProperty(e)){s[e]=n[e]}}s.name=s.id.replace(/\./g,"_");this._mSearchProviders.external[s.id]=s;t.emit("updateExtProviderLists",Date.now());return Promise.resolve()};n.prototype.unregisterExternalSearchProvider=function(e){if(this._mSearchProviders.external[e]){delete this._mSearchProviders.external[e]}t.emit("updateExtProviderLists",Date.now());return Promise.resolve()};n.prototype.getSearchProviders=function(){return Promise.resolve(o(this._mSearchProviders))};n.prototype.getSearchProvidersPriorityArray=function(){const e=[];for(const r in this._mSearchProviders){e.push.apply(e,Object.values(this._mSearchProviders[r]))}e.sort((e,r)=>e.priority-r.priority);return Promise.resolve(e)};n.prototype.getExternalSearchProvidersPriorityArray=function(){const e=[];for(const r in this._mSearchProviders.external){e.push(this._mSearchProviders.external[r])}e.sort((e,r)=>e.priority-r.priority);return Promise.resolve(e)};n.prototype.getDefaultSearchProviders=function(){const e=Object.values(this._mSearchProviders.default);return Promise.resolve(e)};n.prototype.getExternalSearchProviders=function(){const e=Object.values(this._mSearchProviders.external);return Promise.resolve(e)};n.hasNoAdapter=false;return n},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/SearchableContent", ["sap/ushell/Config","sap/ushell/Container","sap/ushell/adapters/cdm/v3/_LaunchPage/readApplications","sap/ushell/adapters/cdm/v3/_LaunchPage/readPages","sap/ushell/adapters/cdm/v3/_LaunchPage/readUtils","sap/ushell/adapters/cdm/v3/utilsCdm","sap/base/util/values","sap/ushell/library","sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations","sap/base/Log","sap/ushell/utils/UrlParsing","sap/ushell/utils"],(t,e,i,a,n,s,o,l,r,c,p,u)=>{"use strict";const d=l.DisplayFormat;function g(){}g.COMPONENT_NAME="sap/ushell/services/SearchableContent";g.prototype.getApps=async function(e={}){const i={includeAppsWithoutVisualizations:false,enableVisualizationPreview:true};const a={includeAppsWithoutVisualizations:e.includeAppsWithoutVisualizations??i.includeAppsWithoutVisualizations,enableVisualizationPreview:e.enableVisualizationPreview??i.enableVisualizationPreview};if(!t.last("/core/spaces/enabled")){try{const t=await this._getLaunchPageAppData(a);const e=this._filterGetApps(t,a);c.debug(`SearchableContent@getApps in classic mode found ${e.length} apps`);return e}catch(t){c.error("SearchableContent@getApps in classic mode failed",t);throw t}}const n=await this._getPagesAppData(a);return this._filterGetApps(n,a)};g.prototype._filterGetApps=function(t,e){let i=t;i.forEach(t=>{const e=t.visualizations;const i=[];t.visualizations=[];e.forEach(e=>{const a=JSON.stringify({title:e.title,subtitle:e.subtitle,icon:e.icon,vizType:e.vizType});if(i.indexOf(a)===-1){t.visualizations.push(e);i.push(a)}})});if(!e.includeAppsWithoutVisualizations){i=i.filter(t=>t.visualizations.length>0)}u.setPerformanceMark("FLP-Search-FilterApps",{bUseUniqueMark:true});return i};g.prototype._getLaunchPageAppData=async function(t){const i=await e.getServiceAsync("FlpLaunchPage");const[a,n]=await this._collectLaunchPageTiles(i);const s=a.concat(n);const l=await Promise.all(s.map(async t=>{const e=a.includes(t);const n={tileId:null,tile:t};let s;try{if(e){n.tileId=i.getCatalogTileId(t)}else{n.tileId=i.getTileId(t)}s=i.getCatalogTilePreviewTitle(t)}catch(t){c.error(`Could not get search data from tile ${n.tileId}`,t)}if(!s){try{const a=await new Promise((a,n)=>{if(e){i.getCatalogTileViewControl(t).done(a).fail(n)}else{i.getTileView(t).done(a).fail(n)}});n.view=a;return n}catch(t){c.error(`Could not get search data from tile ${n.tileId}`,t);return n}}return n}));const r={};const p=l.map(e=>{try{return this._buildVizDataFromLaunchPageTile(e.tile,t,i)}catch(t){c.error(`Could not get search data from tile ${e.tileId}`,t);return null}}).filter(t=>t);l.forEach(t=>{const e=t.view;if(e){if(!e.destroy){c.error(`The tile with id '${t.tileId}' does not implement mandatory function destroy`)}else{e.destroy()}}});p.forEach(t=>{const e=t.targetURL;if(e){if(r[e]){r[e].visualizations.push(t)}else{r[e]=this._buildAppDataFromViz(t)}}});return o(r)};g.prototype._collectLaunchPageTiles=function(t){const e=t.getGroups().then(e=>e.reduce(async(e,i)=>{const[a,n]=await Promise.all([e,t.getGroupTilesForSearch(i)]);return a.concat(n)},Promise.resolve([])));const i=t.getCatalogs().then(e=>e.reduce(async(e,i)=>{const[a,n]=await Promise.all([e,t.getCatalogTiles(i)]);return a.concat(n)},Promise.resolve([])));return Promise.all([i,e])};g.prototype._getPagesAppData=async function(t){const i=await e.getServiceAsync("CommonDataModel");const[a,n,s,l,r]=await Promise.all([i.getAllPages({personalizedPages:true}),i.getApplications(),i.getVisualizations(),i.getVizTypes(),e.getServiceAsync("ClientSideTargetResolution")]);const c={applications:n,visualizations:s,vizTypes:l};const p={};await this._applyCdmVisualizations(c,p,t);await this._applyCdmPages(c,a,p,t);await this._filterAppDataByIntent(p,r);this._applyCdmApplications(c,p,t);return o(p)};g.prototype._filterAppDataByIntent=async function(t,e){const i=Object.keys(t).map(t=>p.isIntentUrlAsync(t).then(e=>e?t:null));const a=await Promise.all(i);const n=a.filter(t=>!!t);if(n.length===0){return}const s=500;let o=0;let l=s;const r=[];while(o<n.length){r.push(n.slice(o,l));o=o+s;l=l+s}return r.reduce((i,a)=>i.then((t=>{u.setPerformanceMark("FLP-Search-IntentPackageStart");return e.isIntentSupported(t)}).bind(null,a)).then(e=>{Object.keys(e).forEach(i=>{if(!e[i].supported&&t[i]){delete t[i]}})}).catch(()=>{}),Promise.resolve())};g.prototype._applyCdmApplications=function(t,e,a){const n={};Object.keys(e).forEach(a=>{try{const n=e[a].visualizations;const s=n.find(t=>t.target.appId&&t.target.inboundId);if(s){const o=t.applications[s.target.appId];const l=i.getInbound(o,s.target.inboundId);e[a]=this._buildAppDataFromAppAndInbound(o,l);e[a].visualizations=n;e[a].target=n[0].target}else{e[a]=this._buildAppDataFromViz(n[0]);e[a].visualizations=n;e[a].target=n[0].target}}catch(t){c.error(`Could not get search data from application ${a}`,t)}});if(a.includeAppsWithoutVisualizations){o(e).forEach(t=>{n[t.id]=t});o(t.applications).forEach(t=>{const a=i.getId(t);const s=o(i.getInbounds(t));const l=s.length>0?s[0]:undefined;if(!n.hasOwnProperty(a)){e[a]=this._buildAppDataFromAppAndInbound(t,l,true)}})}};g.prototype._applyCdmVisualizations=async function(t,e,i){for(const a in t.visualizations){try{const s={vizId:a,displayFormatHint:d.Standard};const o=await n.getVizData(t,s);const l=o.targetURL;if(i.enableVisualizationPreview){this._changeVizType(o);o.preview=true}if(l){if(e[l]){e[l].visualizations.push(o)}else{e[l]={visualizations:[o]}}}}catch(t){c.error(`Could not get search data from visualization ${a}`,t)}}};g.prototype._applyCdmPages=async function(t,e,i,s){for(const o of e){const e=a.getVisualizationReferences(o);for(let a of e){try{if(a.displayFormatHint&&a.displayFormatHint!==d.Standard){a=Object.assign({},a);a.displayFormatHint=d.Standard}const e=await n.getVizData(t,a);const o=e.targetURL;if(s.enableVisualizationPreview){this._changeVizType(e);e.preview=true}if(o){if(i[o]){i[o].visualizations.push(e)}else{i[o]={visualizations:[e]}}}}catch(t){c.error(`Could not get search data from vizReference ${a.id}`,t)}}}};g.prototype._changeVizType=function(t){if(t._instantiationData.platform==="CDM"&&!r.isStandardVizType(t.vizType)){t.vizType="sap.ushell.StaticAppLauncher";t._instantiationData.vizType={"sap.ui5":{componentName:"sap.ushell.components.tiles.cdm.applauncher"}}}};g.prototype._buildAppDataFromAppAndInbound=function(t,e,a){e=e||{};const n=i.getId(t);const o={id:n,title:e.title||i.getTitle(t),subtitle:e.subTitle||i.getSubTitle(t),icon:e.icon||i.getIcon(t),info:e.info||i.getInfo(t),keywords:e.keywords||i.getKeywords(t),technicalAttributes:i.getTechnicalAttributes(t),visualizations:[]};let l;if(a){l=s.toHashFromInbound(e,n);if(l){o.targetURL=`#${l}`}}return o};g.prototype._buildAppDataFromViz=function(t){return{id:t.vizId,title:t.title,subtitle:t.subtitle,icon:t.icon,info:t.info,keywords:t.keywords,technicalAttributes:t.technicalAttributes,target:t.target,visualizations:[t]}};g.prototype._buildVizDataFromLaunchPageTile=function(t,e,i){let a;if(i.getCatalogTileTargetURL(t)&&i.isTileIntentSupported(t)){a={id:i.getTileId(t)||i.getCatalogTileId(t),vizId:i.getCatalogTileId(t)||i.getTileId(t)||"",vizType:"",title:i.getCatalogTilePreviewTitle(t)||i.getCatalogTileTitle(t)||i.getTileTitle(t)||"",subtitle:i.getCatalogTilePreviewSubtitle(t)||"",icon:i.getCatalogTilePreviewIcon(t)||"sap-icon://business-objects-experience",info:i.getCatalogTilePreviewInfo(t)||"",keywords:i.getCatalogTileKeywords(t)||[],technicalAttributes:i.getCatalogTileTechnicalAttributes(t)||[],target:{type:"URL",url:i.getCatalogTileTargetURL(t)},targetURL:i.getCatalogTileTargetURL(t)};a._instantiationData={platform:"LAUNCHPAGE",launchPageTile:t};if(t.getContract){t.getContract("preview").setEnabled(e.enableVisualizationPreview)}if(e.enableVisualizationPreview){if(!t.getChip){a._instantiationData={platform:"CDM",vizType:{"sap.ui5":{componentName:"sap.ushell.components.tiles.cdm.applauncher"}}}}}}return a};g.hasNoAdapter=true;return g},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ShellNavigation", ["sap/base/Log","sap/ushell/Container"],(t,e)=>{"use strict";function i(i,a,n){t.error("Deprecated service call. Please migrate any dependencies to this service.",null,"sap.ushell.services.ShellNavigation");this._oShellNavigationInternal=e.getService("ShellNavigationInternal");this.NavigationFilterStatus=this._oShellNavigationInternal.NavigationFilterStatus;this.hashChanger=this._oShellNavigationInternal.hashChanger}i.prototype.getNavigationContext=function(){return this._oShellNavigationInternal.getNavigationContext()};i.prototype.compactParams=function(t,e,i,a){return this._oShellNavigationInternal.compactParams(t,e,i,a)};i.prototype.init=function(t){return this._oShellNavigationInternal.init(t)};i.prototype.wasHistoryEntryReplaced=function(){return this._oShellNavigationInternal.wasHistoryEntryReplaced()};i.prototype.resetHistoryEntryReplaced=function(){this._oShellNavigationInternal.resetHistoryEntryReplaced()};i.prototype.replaceHashWithoutNavigation=function(t){this._oShellNavigationInternal.replaceHashWithoutNavigation(t)};i.prototype.registerNavigationFilter=function(t){this._oShellNavigationInternal.registerNavigationFilter(t)};i.prototype.unregisterNavigationFilter=function(t){this._oShellNavigationInternal.unregisterNavigationFilter(t)};i.hasNoAdapter=true;return i},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ShellNavigationHashChanger", ["sap/base/Log","sap/base/util/isEmptyObject","sap/ui/core/routing/HashChanger","sap/ui/performance/trace/Interaction","sap/ui/thirdparty/hasher","sap/ui/thirdparty/jquery","sap/ushell/Container","sap/ushell/navigation/NavigationState","sap/ushell/utils/UrlShortening","sap/ushell/utils/UrlParsing"],(t,e,a,n,i,jQuery,s,r,o,h)=>{"use strict";const p={HASH_SET:{name:"hashSet",historyEntry:true},HASH_REPLACED:{name:"hashReplaced",historyEntry:false},SHELL_HASH_CHANGED:{name:"shellHashChanged",historyEntry:true,usedByUi5HistoryDetection:true,ui5EventParameterNames:{oldHash:"oldAppSpecificRouteNoSeparator",newHash:"newAppSpecificRouteNoSeparator"},updateHashOnly:true},SHELL_HASH_PARAMETER_CHANGED:{name:"shellHashParameterChanged",historyEntry:null},HASH_CHANGED:{name:"hashChanged",historyEntry:false,usedByUi5HistoryDetection:true,ui5EventParameterNames:{newHash:"newHash",fullHash:"fullHash"}}};const l="ShellNavigationHashChanger";const c="[FesrFlp]";const u=a.extend("sap.ushell.services.ShellNavigationHashChanger",{constructor:function(t){this.oServiceConfig=t;this._oNavigationState={};a.apply(this);this._initializedByShellNav=false;this._bReloadApplication=false;this.privfnShellCallback=null;this.privappHashPrefix="&/";this.privhashPrefix="#";this.aNavigationFilters=[];this.NavigationFilterStatus={Continue:"Continue",Custom:"Custom",Abandon:"Abandon",Keep:"Keep"};this.getRelevantEventsInfo=function(){return this._getAllEvents().filter(t=>t.usedByUi5HistoryDetection).map(t=>{const e={name:t.name,paramMapping:t.ui5EventParameterNames};if(t.updateHashOnly!==undefined){e.updateHashOnly=t.updateHashOnly}return e})}}});u.prototype.privgetCurrentShellHash=function(){const t=this.privsplitHash(i.getHash());return{hash:`#${t?.shellPart||""}`}};u.prototype.privconstructHash=function(t){const e=this.privgetCurrentShellHash();e.hash+=t;return e};u.prototype.privconstructShellHash=function(t){return h.constructShellHash(t)};u.prototype.privsplitHash=function(t){if(t===undefined||t===null||t===""){return{shellPart:null,appSpecificRoute:null,intent:null,params:null}}const a=h.parseShellHash(t);if(a===undefined||a===null){return null}const n=a.params&&!e(a.params)?a.params:null;const i=a.appSpecificRoute;a.appSpecificRoute=undefined;return{shellPart:this.privstripLeadingHash(this.privconstructShellHash(a))||null,appSpecificRoute:i||null,intent:a.semanticObject&&a.action&&`${a.semanticObject}-${a.action}${a.contextRaw||""}`||null,params:n}};u.prototype.privsetHash=function(t,e,a){i.prependHash="";t=this.privstripLeadingHash(t);e=e||"";if(a===undefined){a=true}if(a){this.fireEvent(p.HASH_SET.name,{sHash:e});i.setHash(t)}else{this.fireEvent(p.HASH_REPLACED.name,{sHash:e});i.replaceHash(t)}};u.prototype.privstripLeadingHash=function(t){if(t[0]==="#"){return t.substring(1)}return t};u.prototype.registerNavigationFilter=function(t){if(typeof t!=="function"){throw new Error("fnFilter must be a function")}this.aNavigationFilters.push(t)};u.prototype.unregisterNavigationFilter=function(t){if(typeof t!=="function"){throw new Error("fnFilter must be a function")}this.aNavigationFilters=this.aNavigationFilters.filter(e=>e!==t)};function f(t,e,a){this.oAppState=undefined;this.oPromise=(new jQuery.Deferred).resolve();this.getNextKey=function(){this.oAppState=t.createEmptyAppState(e,a);return this.oAppState.getKey()};this.store=function(t){this.oAppState.setData(t);const e=this.oAppState.save();this.oPromise=jQuery.when(this.oPromise,e)};this.getPromise=function(){return this.oPromise}}u.prototype.compactParams=function(t,e,a,n){const i=new jQuery.Deferred;const r=h.constructShellHash({target:{semanticObject:"SO",action:"action"},params:t});if(t===undefined||Object.keys(t).length===0){return i.resolve(t).promise()}s.getServiceAsync("AppState").then(t=>{const s=new f(t,a,n);const p=o.compactHash(r,e,s);const l=h.parseParameters(p.hash.match(/\?.*/)[0]);s.getPromise().done(()=>{i.resolve(l)}).fail(i.reject)});return i.promise()};u.prototype.hrefForExternal=async function(t,e){let a=await this.hrefForExternalNoEncAsync(t,e);if(e){a.hash=encodeURI(a.hash)}else{a=encodeURI(a)}return a};u.prototype.hrefForExternalSync=function(t,e,a){let n=this.hrefForExternalNoEnc(t,e,a);if(e){n.hash=encodeURI(n.hash)}else{n=encodeURI(n)}return n};u.prototype.hrefForExternalNoEnc=function(e,a,n,i){t.error("Deprecated API call of 'sap.ushell.services.ShellNavigationHashChanger.hrefForExternalNoEnc'. Please use 'hrefForExternalNoEncAsync' instead",null,"sap.ushell.services.ShellNavigationHashChanger");if(i){const t=new jQuery.Deferred;this.hrefForExternalNoEncAsync(e,a).then(t.resolve).catch(t.reject);return t.promise()}const s=this.privhrefForExternalNoEnc(e);if(a){return{hash:s.hash,params:s.params,skippedParams:s.skippedParams}}return s.hash};u.prototype.hrefForExternalNoEncAsync=async function(t,e){let a;const n=this.privhrefForExternalNoEnc(t);if(e){a={hash:n.hash,params:n.params,skippedParams:n.skippedParams}}else{a=n.hash}return a};u.prototype.privhrefForExternalNoEnc=function(t){if(t===undefined){return this.privgetCurrentShellHash()}if(t&&t.target&&(typeof t.target.semanticObject==="string"||typeof t.target.shellHash==="string")){return{hash:`#${this.privconstructShellHash(t)}`}}return this.privgetCurrentShellHash()};u.prototype.privgetAppHash=function(t){let e;if(t&&t.target&&typeof t.target.shellHash==="string"){const a=h.parseShellHash(t.target.shellHash);e=a&&a.appSpecificRoute;e=e&&e.substring(2)}return e};u.prototype.hrefForAppSpecificHash=function(t){return encodeURI(this.privconstructHash(this.privappHashPrefix+t).hash)};u.prototype.toExternal=function(t,e,a){const n=this.privhrefForExternalNoEnc(t).hash;const i=this.privgetAppHash(t);this.privsetHash(n,i,a);return Promise.resolve()};u.prototype.toAppHash=function(t,e){const a=this.privconstructHash(this.privappHashPrefix+t).hash;this.privsetHash(a,t,e)};u.prototype.initShellNavigation=function(e){if(this._initializedByShellNav){t.info("initShellNavigation already called on this ShellNavigationHashChanger instance.");return false}this.privfnShellCallback=e;i.changed.add(this.treatHashChanged,this);if(!i.isActive()){i.initialized.addOnce(this.treatHashChanged,this);i.init()}else{this.treatHashChanged(i.getHash())}this._initializedByShellNav=true;return true};u.prototype.init=function(){if(this._initialized){t.info("init already called on this ShellNavigationHashChanger instance.");return false}const e=this.privsplitHash(i.getHash());const a=(e?.appSpecificRoute||"  ").substring(2);const n=a?"&/":"";const s=e?.shellPart||"";this.fireEvent(p.HASH_CHANGED.name,{newHash:a,fullHash:s+n+a});this._initialized=true;return true};u.prototype._removeInnerAppSeparator=function(t){return(t||"").replace("&/","")};u.prototype._startFesrInteraction=function(){if(!this._fnResolveFesrInteraction){t.debug(`${c} Interaction Start`,null,l);this._fnResolveFesrInteraction=n.notifyAsyncStep()}};u.prototype._endFesrInteraction=function(){if(this._fnResolveFesrInteraction){t.debug(`${c} Interaction End`,null,l);this._fnResolveFesrInteraction();this._fnResolveFesrInteraction=null}};u.prototype._trackNavigation=function(t,e){this._oNavigationState.newHash=t;this._oNavigationState.oldHash=e};u.prototype.getCurrentNavigationState=function(){return this._oNavigationState};u.prototype.treatHashChanged=function(e,a){r.startNavigation();this._trackNavigation(e,a);this._startFesrInteraction();if(this.inAbandonFlow){this._endFesrInteraction();this.setReloadApplication(false);r.endNavigation();return}let n;e=o.expandHash(e);a=o.expandHash(a);const s=this.privsplitHash(e);let l=this.privsplitHash(a);if(!s){const t=new Error(`Illegal new hash - cannot be parsed: '${e}'`);this.fireEvent(p.SHELL_HASH_CHANGED.name,{newShellHash:e,newAppSpecificRoute:null,fullHash:e,oldShellHash:l?l.shellPart:a,error:t});this.privfnShellCallback(e,null,l?l.shellPart:a,l?l.appSpecificRoute:null,t);this._endFesrInteraction();this.setReloadApplication(false);return}if(!l){l={shellPart:a,appSpecificRoute:null}}for(let s=0;s<this.aNavigationFilters.length;s++){try{let t;const r=this.aNavigationFilters[s].call(undefined,e,a);let o=r;if(typeof r!=="string"){o=r.status;t=r.hash}if(o===this.NavigationFilterStatus.Custom){if(t&&t.length>0){this.inAbandonFlow=true;i.replaceHash(t);this.inAbandonFlow=false}this._endFesrInteraction();this.setReloadApplication(false);return}if(o===this.NavigationFilterStatus.Abandon){this.inAbandonFlow=true;i.replaceHash(a);this.inAbandonFlow=false;this._endFesrInteraction();this.setReloadApplication(false);return}if(o===this.NavigationFilterStatus.Keep){n=true}}catch(e){t.error("Error while calling Navigation filter! ignoring filter...",e,"sap.ushell.services.ShellNavigationHashChanger")}}if(n){this.fireEvent(p.HASH_CHANGED.name,{newHash:e,oldHash:a,fullHash:e});this._endFesrInteraction();this.setReloadApplication(false);r.endNavigation();return}const c=a===undefined;const u=h.compareHashes(e,a);u.sameIntent=u.sameIntent&&!c;const f=u.sameIntent&&u.sameParameters&&u.sameAppSpecificRoute;if(f){t.info("Navigation happened but hash stayed the same",null,"sap.ushell.services.ShellNavigationHashChanger");this.fireEvent(p.HASH_CHANGED.name,{newHash:this._removeInnerAppSeparator(s.appSpecificRoute),oldHash:this._removeInnerAppSeparator(l.appSpecificRoute),fullHash:e});this._endFesrInteraction();this.setReloadApplication(false);return}const H=u.sameIntent&&u.sameParameters;if(H){if(this.getReloadApplication()){this.setReloadApplication(false)}else{const a=this._removeInnerAppSeparator(s.appSpecificRoute);const n=this._removeInnerAppSeparator(l.appSpecificRoute);t.info(`Inner App Hash changed from '${n}' to '${a}'`,null,"sap.ushell.services.ShellNavigationHashChanger");this.fireEvent(p.HASH_CHANGED.name,{newHash:a,oldHash:n,fullHash:e});this._endFesrInteraction();r.endNavigation();return}}if(u.sameIntent&&this.hasListeners(p.SHELL_HASH_PARAMETER_CHANGED.name)){const e=h.paramsToString(s.params);const a=h.paramsToString(l.params);t.info(`Shell hash parameters changed from '${a}' to '${e}'`,null,"sap.ushell.services.ShellNavigationHashChanger");this.fireEvent(p.SHELL_HASH_PARAMETER_CHANGED.name,{oNewParameters:s.params,oOldParameters:l.params});this._endFesrInteraction();this.setReloadApplication(false);r.endNavigation();return}t.info(`Outer shell hash changed from '${a}' to '${e}'`,null,"sap.ushell.services.ShellNavigationHashChanger");this.fireEvent(p.SHELL_HASH_CHANGED.name,{newShellHash:s.shellPart,newAppSpecificRoute:s.appSpecificRoute,fullHash:e,oldShellHash:l.shellPart,oldAppSpecificRoute:l.appSpecificRoute,error:"",oldAppSpecificRouteNoSeparator:this._removeInnerAppSeparator(l.appSpecificRoute),newAppSpecificRouteNoSeparator:this._removeInnerAppSeparator(s.appSpecificRoute)});this.privfnShellCallback(s.shellPart,s.appSpecificRoute,l.shellPart,l.appSpecificRoute);this._endFesrInteraction();this.setReloadApplication(false)};u.prototype.setHash=function(t){this.toAppHash(t,true)};u.prototype.replaceHash=function(t){this.toAppHash(t,false)};u.prototype.getHash=function(){return this.getAppHash()};u.prototype.getAppHash=function(){const t=this.privsplitHash(i.getHash());const e=(t?.appSpecificRoute||"  ").substring(2);return e};u.prototype.destroy=function(){i.changed.remove(this.treatHashChanged,this);a.prototype.destroy.apply(this,arguments)};u.prototype._getAllEvents=function(){return Object.keys(p).map(t=>p[t])};u.prototype.getReplaceHashEvents=function(){return this._getAllEvents().filter(t=>t.historyEntry===false).map(t=>t.name)};u.prototype.getSetHashEvents=function(){return this._getAllEvents().filter(t=>t.historyEntry===true).map(t=>t.name)};u.prototype.isInnerAppNavigation=function(t,e){const a=h.parseShellHash(t);const n=h.parseShellHash(e);const i=e===undefined;const s=h.haveSameIntent(a,n)&&!i;const r=h.haveSameIntentParameters(a,n);return s&&r};u.prototype.getReloadApplication=function(){return this._bReloadApplication};u.prototype.setReloadApplication=function(t){this._bReloadApplication=t};return u});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ShellNavigationInternal", ["sap/ui/core/EventBus","sap/ushell/services/ShellNavigationHashChanger","sap/ui/core/routing/HashChanger"],(t,e,i)=>{"use strict";function n(n,a,s){function h(){sap.ui.require(["sap/m/MessageBox"],t=>{t.show("Due to a configuration change on the server,\nclient and server are out of sync.\n We strongly recommend to reload the page soon.\nReload page now?",{icon:t.Icon.ERROR,title:"Client out of sync with server.",actions:[t.Action.YES,t.Action.NO],onClose:function(e){if(e===t.Action.YES){window.setTimeout(()=>{window.location.reload()},0)}}})})}const r=s&&s.config;this.hashChanger=new e(r);this._navigationFilterForForwardingToRegisteredRouters=function(t,e){const i=this._aRouters.some(t=>t.match(e));if(i){const e=t.getCurrentApplication();const i=e&&e.componentInstance&&!e.homePage;if(i){const t=e.componentInstance.getRouter();if(t){t.stop()}}return this.NavigationFilterStatus.Keep}return this.NavigationFilterStatus.Continue};this.getNavigationContext=function(){const t=this.hashChanger.getCurrentNavigationState();const e=!this.hashChanger.isInnerAppNavigation(t.oldHash,t.newHash);return{isCrossAppNavigation:e,innerAppRoute:this.hashChanger.getHash()}};this.isInitialNavigation=function(){return this._bIsInitialNavigation};this.setIsInitialNavigation=function(t){this._bIsInitialNavigation=t};this.hrefForExternal=function(t,e,i){return this.hashChanger.hrefForExternal(t,e,i)};this.hrefForExternalSync=function(t,e,i){return this.hashChanger.hrefForExternalSync(t,e,i)};this.hrefForAppSpecificHash=function(t){return this.hashChanger.hrefForAppSpecificHash(t)};this.compactParams=function(t,e,i,n){return this.hashChanger.compactParams(t,e,i,n)};this.toExternal=function(t,e,i){return this.hashChanger.toExternal(t,e,i)};this.toAppHash=function(t,e){this.hashChanger.toAppHash(t,e)};this.init=function(e){this._bIsInitialNavigation=true;hasher.prependHash="";i.replaceHashChanger(this.hashChanger);const n=t.getInstance();n.subscribe("sap.ui.core.UnrecoverableClientStateCorruption","RequestReload",h);this.hashChanger.initShellNavigation(e);this._enableHistoryEntryReplacedDetection();return this};this._enableHistoryEntryReplacedDetection=function(){this._lastHashChangeMode=null;this._fnOriginalSetHash=hasher.setHash;this._fnOriginalReplaceHash=hasher.replaceHash;hasher.setHash=function(){this._hashChangedByApp=true;this._lastHashChangeMode="setHash";return this._fnOriginalSetHash.apply(hasher,arguments)}.bind(this);hasher.replaceHash=function(){this._hashChangedByApp=true;this._lastHashChangeMode="replaceHash";return this._fnOriginalReplaceHash.apply(hasher,arguments)}.bind(this)};this.wasHistoryEntryReplaced=function(){return this._lastHashChangeMode==="replaceHash"};this.resetHistoryEntryReplaced=function(){this._lastHashChangeMode=null};this.replaceHashWithoutNavigation=function(t){hasher.changed.active=false;this._fnOriginalSetHash(t);hasher.changed.active=true};this.NavigationFilterStatus=this.hashChanger.NavigationFilterStatus;this.registerNavigationFilter=function(t){this.hashChanger.registerNavigationFilter(t)};this._aRouters=[];this.registerExtraRouter=function(t){this._aRouters.push(t)};this.unregisterNavigationFilter=function(t){this.hashChanger.unregisterNavigationFilter(t)};this.registerNavigationFilter(()=>{if(!this._hashChangedByApp){this.resetHistoryEntryReplaced()}this._hashChangedByApp=undefined;return this.NavigationFilterStatus.Continue});this.registerPrivateFilters=function(t){this.registerNavigationFilter(this._navigationFilterForForwardingToRegisteredRouters.bind(this,t))}}n.hasNoAdapter=true;return n},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/SmartNavigation", ["sap/ui/thirdparty/jquery","sap/ushell/utils","sap/ushell/services/AppConfiguration","sap/base/Log","sap/ushell/utils/UrlParsing","sap/ushell/Container"],(jQuery,e,t,n,r,i)=>{"use strict";function a(e,t,n){this._oServiceConfig=n;this._oCrossAppNavigationServicePromise=i.getServiceAsync("CrossApplicationNavigation");this._oPersonalizationServicePromise=i.getServiceAsync("Personalization");this._oHashCodeCache={"":0}}a.STATISTIC_COLLECTION_WINDOW_DAYS=90;a.PERS_CONTAINER_KEY_PREFIX="ushell.smartnav.";a.ONE_DAY_IN_MILLISECOND=24*60*60*1e3;a.prototype.getLinks=function(e){const r=new jQuery.Deferred;n.error("Call to deprecated service: 'SmartNavigation.getLinks'. Please use 'CrossApplicationNavigation.getLinks' instead",null,"sap.ushell.services.SmartNavigation");this._oCrossAppNavigationServicePromise.then(i=>{const a=i.getLinks(e);if(!this._isTrackingEnabled(this._oServiceConfig)){a.done(r.resolve).fail(r.reject);return}const o=t.getCurrentApplication();const s=o.sShellHash;let c=o.componentHandle;if(o.componentHandle){c=o.componentHandle.getInstance()}if(!s){n.warning("Call to SmartNavigation#getLinks() simply delegated to CrossApplicationNavigation#getLinks()"+" because AppConfiguration#getCurrentApplication()#sShellHash evaluates to undefined.");a.done(r.resolve).fail(r.reject);return}const l=this._getNavigationOccurrences(s,c);jQuery.when(a,l).done((e,t)=>{if(t.length===0){r.resolve(e);return}const n=this._prepareLinksForSorting(e,t);e=n.sort((e,t)=>t.clickCount-e.clickCount);r.resolve(e)}).fail(r.reject)}).catch(r.reject);return r.promise()};a.prototype.toExternal=function(e){const r=arguments;n.error("Call to deprecated service: 'SmartNavigation.toExternal'. Please use 'CrossApplicationNavigation.toExternal' instead",null,"sap.ushell.services.SmartNavigation");this._oCrossAppNavigationServicePromise.then(i=>{if(!this._isTrackingEnabled(this._oServiceConfig)){i.toExternal.apply(i,r);return}const a=t.getCurrentApplication();const o=a.sShellHash;let s=a.componentHandle;if(a.componentHandle){s=a.componentHandle.getInstance()}if(!o){n.warning("Current shell hash could not be identified. Navigation will not be tracked.",null,"sap.ushell.services.SmartNavigation");i.toExternal.apply(i,r);return}const c=this._getHashFromOArgs(e.target);if(!c){n.warning("Destination hash does not conform with the ushell guidelines. Navigation will not be tracked.",null,"sap.ushell.services.SmartNavigation");i.toExternal.apply(i,r);return}this._recordNavigationOccurrences(o,c,s).then(()=>{i.toExternal.apply(i,r)})})};a.prototype.hrefForExternal=function(){n.error("Deprecated API call of 'sap.ushell.services.SmartNavigation.hrefForExternal'. Please use 'hrefForExternalAsync' instead.",null,"sap.ushell.services.SmartNavigation");const e=i.getService("CrossApplicationNavigation");return e.hrefForExternal.apply(e,arguments)};a.prototype.hrefForExternalAsync=async function(){n.error("Call to deprecated service: 'SmartNavigation.hrefForExternalAsync'. Please use 'CrossApplicationNavigation.hrefForExternalAsync' instead",null,"sap.ushell.services.SmartNavigation");const e=await this._oCrossAppNavigationServicePromise;return e.hrefForExternalAsync.apply(e,arguments)};a.prototype.getPrimaryIntent=function(){const e=new jQuery.Deferred;const t=arguments;n.error("Call to deprecated service: 'SmartNavigation.getPrimaryIntent'. Please use 'CrossApplicationNavigation.getPrimaryIntent' instead",null,"sap.ushell.services.SmartNavigation");this._oCrossAppNavigationServicePromise.then(n=>{n.getPrimaryIntent.apply(n,t).done(e.resolve).fail(e.reject)}).catch(e.reject);return e.promise()};a.prototype.trackNavigation=function(e){n.error("Call to deprecated service: 'SmartNavigation.trackNavigation'.",null,"sap.ushell.services.SmartNavigation");if(!this._isTrackingEnabled(this._oServiceConfig)){n.debug("Call to SmartNavigation#trackNavigation() ignored because Service is not enabled via Configuration",null,"sap.ushell.services.SmartNavigation");return jQuery.when(null)}const r=e.target;const i=t.getCurrentApplication();const a=i.sShellHash;if(!a){n.warning("Call to SmartNavigation#trackNavigation() simply ignored"+" because AppConfiguration#getCurrentApplication()#sShellHash evaluates to undefined.");return jQuery.when(null)}const o=this._getHashFromOArgs(r);if(!o){n.warning("Navigation not tracked - no valid destination provided",null,"sap.ushell.services.SmartNavigation");return jQuery.when(null)}n.debug(`Navigation to ${o} was tracked out of ${a}`,null,"sap.ushell.services.SmartNavigation");return this._recordNavigationOccurrences(a,o,i.componentHandle.getInstance())};a.prototype._isTrackingEnabled=function(t){return e.isDefined(t)&&e.isDefined(t.config)&&e.isDefined(t.config.isTrackingEnabled)?t.config.isTrackingEnabled:false};a.prototype._getHashCode=function(e){const t=`${e}`;if(this._oHashCodeCache[t]){return this._oHashCodeCache[t]}let n=0;let r=t.length;while(r--){n=(n<<5)-n+(t.charCodeAt(r)|0);n|=0}this._oHashCodeCache[t]=n;return n};a.prototype._getBaseHashPart=function(e){const t=r.parseShellHash(e);if(t&&t.semanticObject&&t.action){return`${t.semanticObject}-${t.action}`}throw new Error(`Invalid intent \`${e}\``)};a.prototype._getHashFromOArgs=function(e){if(!e){return null}if(e.shellHash&&r.parseShellHash(e.shellHash)){return this._getBaseHashPart(e.shellHash)}if(e.semanticObject&&e.action){return`${e.semanticObject}-${e.action}`}return null};a.prototype._getPersContainerKey=function(e){return a.PERS_CONTAINER_KEY_PREFIX+this._getHashCode(e)};a.prototype._getNavigationOccurrences=function(e,t){const n=new jQuery.Deferred;const r=this._getPersContainerKey(e);this._oPersonalizationServicePromise.then(e=>{const i=e.getContainer(r,{keyCategory:e.constants.keyCategory.FIXED_KEY,writeFrequency:e.constants.writeFrequency.HIGH,clientStorageAllowed:true},t);i.done(e=>{const t=e.getItemKeys();const r=t.map(t=>{const n=e.getItemValue(t);const r=Object.keys(n.actions);return r.map(e=>{const r=n.actions[e];const i=r.dailyFrequency.reduce((e,t)=>e+t,0);return{intent:`${t}-${e}`,clickCount:i}})});const i=r.reduce((e,t)=>{Array.prototype.push.apply(e,t);return e},[]);n.resolve(i)})}).catch(n.reject);return n.promise()};a.prototype._prepareLinksForSorting=function(e,t){const n={};t.forEach(e=>{n[e.intent]=e});e.forEach(e=>{const t=this._getBaseHashPart(e.intent);const r=n[t];e.clickCount=r?r.clickCount:0});return e};a.prototype._recordNavigationOccurrences=function(e,t,n){const i=r.parseShellHash(t);const a=this._getPersContainerKey(e);const o=i.semanticObject;const s=new jQuery.Deferred;this._oPersonalizationServicePromise.then(e=>{const t=e.getContainer(a,{keyCategory:e.constants.keyCategory.FIXED_KEY,writeFrequency:e.constants.writeFrequency.HIGH,clientStorageAllowed:true},n);t.done(e=>{let t=e.getItemValue(o);const n=i.action;if(!t){t={actions:{},latestVisit:Date.now(),dailyFrequency:[0]}}let r=t.actions[n];if(!r){r={latestVisit:Date.now(),dailyFrequency:[0]};t.actions[n]=r}this._updateHistoryEntryWithCurrentUsage(t);this._updateHistoryEntryWithCurrentUsage(r);e.setItemValue(o,t);e.save().done(s.resolve).fail(s.reject)}).fail(s.reject)}).catch(s.reject);return s.promise()};a.prototype._updateHistoryEntryWithCurrentUsage=function(e){const t=Date.now();const n=t-e.latestVisit;let r=Math.floor(n/a.ONE_DAY_IN_MILLISECOND);while(r--){e.dailyFrequency.unshift(0);if(e.dailyFrequency.length>a.STATISTIC_COLLECTION_WINDOW_DAYS){e.dailyFrequency.pop()}}++e.dailyFrequency[0];e.latestVisit=t;return e};a.hasNoAdapter=true;return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/SpaceContent", ["sap/ushell/Config","sap/base/util/deepClone","sap/ushell/library","sap/ui/thirdparty/hasher","sap/ushell/utils/WindowUtils","sap/base/Log","sap/ushell/EventHub","sap/ushell/Container"],(e,t,a,n,i,s,o,r)=>{"use strict";const c=a.AppType;function l(){}l.prototype.isPersonalizationEnabled=function(){return e.last("/core/shell/enablePersonalization")};l.prototype.getPage=async function(e){const a=await r.getServiceAsync("Pages");const n=await a.loadPage(e);return t(a.getModel().getProperty(n),20)};l.prototype.getPages=async function(e){const a=await r.getServiceAsync("Pages");const n=await a.loadPages(e);const i={};Object.keys(n).forEach(e=>{i[e]=t(a.getModel().getProperty(n[e]),20)});return i};l.prototype.addSection=async function(e,t,a){const n=await r.getServiceAsync("Pages");const i=n.getPageIndex(e);return n.addSection(i,t,a)};l.prototype.addVisualization=async function(e,t,a){const n=await r.getServiceAsync("Pages");return n.addVisualization(e,t,a)};l.prototype.moveVisualization=async function(e,t,a,n,i){const s=await r.getServiceAsync("Pages");const o=s.getPageIndex(e);return s.moveVisualization(o,t,a,n,i)};l.prototype.updateVisualization=async function(e,t,a,n){const i={displayFormatHint:n.displayFormatHint,title:n.title,subtitle:n.subtitle,info:n.info};const s=await r.getServiceAsync("Pages");const o=s.getPageIndex(e);return s.updateVisualization(o,t,a,i)};l.prototype.deleteVisualization=async function(e,t,a){const n=await r.getServiceAsync("Pages");const i=n.getPageIndex(e);return n.deleteVisualization(i,t,a)};l.prototype.instantiateVisualization=async function(e){const t=await r.getServiceAsync("VisualizationInstantiation");return t.instantiateVisualization(e)};l.prototype.launchTileTarget=function(t,a){if(typeof t!=="string"){s.error("Invalid target URL",null,"sap.ushell.services.SpaceContent");return}o.emit("UITracer.trace",{reason:"LaunchApp",source:"Tile",data:{targetUrl:t}});if(t.indexOf("#")===0){n.setHash(t)}else{if(a){const n=e.last("/core/shell/enableRecentActivity")&&e.last("/core/shell/enableRecentActivityLogging");if(n){const e={title:a,appType:c.URL,url:t,appId:t};r.getRendererInternal("fiori2").logRecentActivity(e)}}i.openURL(t,"_blank")}};l.prototype.getUserDefaultParameter=async function(e){const t=await r.getServiceAsync("ClientSideTargetResolution");const a=await r.getServiceAsync("UserDefaultParameters");const n=await t.getSystemContext("");const i=await a.getValue(e,n);if(!i.value&&!i.extendedValue){return null}const s={};if(i.value){s.value=i.value}if(i.extendedValue){s.extendedValue=i.extendedValue}return s};l.hasNoAdapter=true;return l});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/SupportTicket", ["sap/ushell/Config"],e=>{"use strict";function t(t,i,n,r){this.createTicket=function(e){return t.createTicket(e)};this.isEnabled=function(){return e.last("/core/extension/SupportTicket")}}t.hasNoAdapter=false;return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/UITracer", ["sap/ushell/EventHub","sap/base/util/isPlainObject","sap/base/Log","sap/ushell/Config","sap/ui/Device","sap/base/util/fetch"],(e,t,s,i,r,a)=>{"use strict";const n=32768;const c=2;const o=1;const h="UITracer.trace";function p(e,t,r){this._sServiceUrl=r.serviceUrl||"/bff/ui-trace/v1/trace";this._pToken=null;this._sToken="";this._resetTrace();this._attachBrowserEvents();this._attachEventHubEvents();this._sSpacesPages=i.last("/core/spaces/enabled")?"-spaces":"-groups";this._sSiteType=`wz-standard${this._sSpacesPages}`;this._sSiteId=new URLSearchParams(window.location.search).get("siteId")||i.last("/core/site/siteId");this._sDeviceType=this._getDeviceType();let a=document.querySelector("meta[name='sap.flp.cf.Config']")?.content;if(a){try{a=JSON.parse(a)}catch(e){s.error("UITracer: unable to parse sap.flp.cf.Config",e)}if(a&&a.scenario){if(a.scenario==="LAUNCHPAD"&&this._sSiteId==="sap.start.site"){this._sSiteType=`sap-start${this._sSpacesPages}`}else if(a.scenario==="WORKZONE"){this._sSiteType=`wz-advanced${this._sSpacesPages}`}else if(a.scenario==="WORKZONEHR"){this._sSiteType=`wz-advancedhr${this._sSpacesPages}`}}}this._initialized=Promise.resolve()}p.prototype._getToken=function(){this._pToken=a(this._sServiceUrl).then(e=>{this._sToken="-";return e.json()}).then(e=>{if(e&&e.token){this._sToken=e.token}}).catch(()=>{s.debug(`UITracer: getToken failed on ${this._sServiceUrl}`,"","sap.ushell.services.UITracer");this._sToken="-"})};p.prototype.trace=function(e){if(!this._sToken&&!this._pToken){this._getToken()}this._addEntry(e)};p.prototype._getDeviceType=function(){let e="desktop";if(r.system.tablet){e="tablet"}else if(r.system.phone){e="phone"}return`browser-${e}`};p.prototype._resetTrace=function(){this._aTrace=[];this._iSize=c};p.prototype._addEntry=function(e){if(t(e)&&Object.keys(e).length>0){try{const t=this._createTraceEntry(e);const i=this._getBlob(t).size+o;if(this._iSize+i>n){this._sendTrace()}this._iSize+=i;this._aTrace.push(t);s.debug(`UITracer: Trace entry added with size ${i}`,JSON.stringify(t),"sap.ushell.services.UITracer");return true}catch(e){return false}}return false};p.prototype._createTraceEntry=function(e){const t=JSON.parse(JSON.stringify(e));const s=t.data||{};s.siteType=this._sSiteType;s.siteId=this._sSiteId;s.deviceType=this._sDeviceType;t._ts=(new Date).toISOString();t.data=s;return t};p.prototype._sendTrace=function(e){if(!this._sToken||this._sToken==="-"){s.debug(`UITracer: _sendTrace failed, token ${this._sToken}`==="-"?"request failed ":"is missing","","sap.ushell.services.UITracer");return}if(this._aTrace.length>0){const t=this._aTrace[this._aTrace.length-1];if(!e&&t.reason==="LaunchApp"&&t.data&&t.data.targetUrl&&t.data.targetUrl.indexOf("#")===0){return}const i=this._getBlob({token:this._sToken,data:this._aTrace});try{window.navigator.sendBeacon(this._sServiceUrl,i);s.debug(`UITracer: _sendTrace to ${this._sServiceUrl} with size ${i.size} byte, entry count ${this._aTrace.length}`,"","sap.ushell.services.UITracer")}catch(e){s.debug(`UITracer: _sendTrace failed ${this._sServiceUrl} with size ${i.size} byte, entry count ${this._aTrace.length}`,"","sap.ushell.services.UITracer")}}this._resetTrace()};p.prototype._getBlob=function(e){if(t(e)||Array.isArray(e)){e=JSON.stringify(e)}if(typeof e==="string"){return new Blob([e],{type:"application/json"})}return null};p.prototype._attachBrowserEvents=function(){if(document.visibilityState){document.addEventListener("visibilitychange",()=>{if(document.visibilityState==="hidden"){this._sendTrace()}})}window.addEventListener("beforeunload",()=>{this._sendTrace(true)})};p.prototype._attachEventHubEvents=function(){e.on(h).do(e=>{this.trace(e)})};p.hasNoAdapter=true;return p},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/URLParsing", ["sap/base/Log","sap/ui/base/Object","sap/ushell/utils","sap/ushell/utils/UrlParsing","sap/ushell/Container"],(e,t,s,r,n)=>{"use strict";function a(){this.getShellHash=function(e){return r.getShellHash(e)};this.getHash=function(e){return r.getHash(e)};this.isIntentUrl=function(t){e.error("Deprecated API call of 'sap.ushell.URLParsing.isIntentUrl'. Please use 'isIntentUrlAsync' instead",null,"sap.ushell.services.URLParsing");return r.isIntentUrl(t)};this.isIntentUrlAsync=function(e){return r.isIntentUrlAsync(e)};this.parseParameters=function(e){return r.parseParameters(e)};this.paramsToString=function(e){return r.paramsToString(e)};this.removeParametersWithEmptyValue=function(e,t){r.removeParametersWithEmptyValue(e,t)};this.urlParametersToString=function(e,t,s){return r.urlParametersToString(e,t,s)};this.parseShellHash=function(e){return r.parseShellHash(e)};this.privstripLeadingHash=function(e){return r.privstripLeadingHash(e)};this.splitHash=function(e){return r.splitHash(e)};this.constructShellHash=function(e){return r.constructShellHash(e)};this.addSystemToServiceUrl=function(e,r){let a=r;if(!e||e.indexOf("/")!==0||e.indexOf("//")===0){throw new s.Error(`Invalid URL: ${e}`,"sap.ushell.services.URLParsing")}if(t.isA(r,"sap.ui.core.Component")){const e=typeof r.getComponentData==="function"&&r.getComponentData();a=e&&e.startupParameters&&e.startupParameters["sap-system"]&&e.startupParameters["sap-system"][0]}const i=n.getService("NavTargetResolutionInternal").getCurrentResolution();if(!a&&!r&&i&&i.url){a=new URL(i.url,window.location.href).searchParams.get("sap-system")}if(/^[^?]*(;mo([/;?]|$))/.test(e)){}else if(/^[^?]*(;o=([/;?]|$))/.test(e)){e=e.replace(/;o=([/;?]|$)/,`${a?`;o=${a}`:""}$1`)}else if(!/^[^?]*;o=/.test(e)&&a){e=e.replace(/(\/[^?]*?)(\/$|$|(\/?\?.*))/,`$1;o=${a}$2`)}n.addRemoteSystemForServiceUrl(e);return e}}a.hasNoAdapter=true;return a},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/URLShortening", ["sap/ushell/utils/UrlShortening"],e=>{"use strict";function a(){this.compactHash=e.compactHash.bind(e);this.checkHashLength=e.checkHashLength.bind(e);this.expandHash=e.expandHash.bind(e);this.expandParamGivenRetrievalFunction=e.expandParamGivenRetrievalFunction.bind(e)}a.hasNoAdapter=true;return a},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/URLTemplate", [],()=>{"use strict";function e(){this._init.apply(this,arguments)}e.prototype._init=function(e){this.oAdapter=e};e.prototype.handlePostTemplateProcessing=function(e,t,s){if(this.oAdapter&&this.oAdapter.handlePostTemplateProcessing){return this.oAdapter.handlePostTemplateProcessing(e,t,s)}return Promise.resolve(e)};e.hasNoAdapter=false;e.useConfiguredAdapterOnly=true;return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Ui5ComponentHandle", ()=>{"use strict";function t(t){this._oComponent=t}t.onBeforeApplicationInstanceCreated=function(){sap.ui.require(["sap/ushell/Fiori20AdapterTest"],()=>{})};t.prototype.getInstance=function(){return this._oComponent};t.prototype.getMetadata=function(){return this._oComponent.getMetadata()};t.prototype.getComponentName=function(){return this._oComponent.getMetadata().getComponentName()};t.prototype.destroy=function(){if(this._oComponent&&!this._oComponent.isDestroyed()){return this._oComponent.destroy()}};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Ui5ComponentLoader", ["sap/base/Log","sap/base/util/deepExtend","sap/ui/core/Component","sap/ui/core/Lib","sap/ui/core/util/AsyncHintsHelper","sap/ui/thirdparty/jquery","sap/ui/thirdparty/URI","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/services/Ui5ComponentHandle","sap/ushell/utils","sap/ushell/utils/UriParameters"],(e,t,o,n,r,jQuery,s,a,i,p,c,l)=>{"use strict";let u=["sap.ui.unified"];u=["sap.ca.scfld.md","sap.ca.ui","sap.me","sap.ui.unified"];function d(e,t,o,n){this._oServiceConfig=n&&n.config||{};this._oAdapter=e;i.once("loadCoreResourcesComplement").do(()=>{this.loadCoreResourcesComplement()})}d.prototype.modifyComponentProperties=async function(e,t){if(this._oAdapter.modifyComponentProperties){const o=await this._oAdapter.modifyComponentProperties(e.componentProperties,t);e.componentProperties=o}return e};d.prototype.createComponent=async function(t,o={},n,r){let s;try{s=await this.createComponentData(t,o,n);s=await this.modifyComponentProperties(s,r)}catch(o){e.error("Ui5ComponentLoader: Error while creating component data",o,"sap.ushell.services.Ui5ComponentLoader");return t}const a=await this.instantiateComponent(s);return a};d.prototype.createComponentData=async function(e={},t={},o){const n={};const r=e.applicationDependencies||{};this._logAnyApplicationDependenciesMessages(r.name,r.messages);if(!e.ui5ComponentName){throw new Error("Ui5ComponentLoader: ui5ComponentName is mandatory")}n.appPropertiesSafe=e;n.loadCoreExt=this._shouldLoadCoreExt(e);n.componentData=this._createComponentData(e);const s=a.last("/core/customPreload/enabled");const i=n.loadCoreExt&&s;const p=this._shouldLoadDefaultDependencies(e);const c=e.ui5ComponentId||this._constructAppComponentId(t);n.componentProperties=await this._createComponentProperties(c,e,o,i,p);delete n.appPropertiesSafe.loadCoreExt;delete n.appPropertiesSafe.loadDefaultDependencies;return n};d.prototype.instantiateComponent=async function(t){const o=t.componentProperties;o.componentData=t.componentData;p.onBeforeApplicationInstanceCreated.call(null,o);try{const e=await this._createUi5Component(o);const n=t.appPropertiesSafe;n.componentHandle=new p(e);const r=t.loadCoreExt;if(r){n.coreResourcesFullyLoaded=r;i.emit("CoreResourcesComplementLoaded",{status:"success"})}return n}catch(t){const n=o.name;const r=JSON.stringify(o,null,4);let s=`The issue is most likely caused by application ${n}`;let a=`Failed to load UI5 component with properties: '${r}'.`;if(t.stack){a+=` Error likely caused by:\n${t.stack}`}else{a+=` Error: '${t}'`}if(t.status==="parsererror"){s+=", as one or more of its resources could not be parsed"}s+=". Please create a support incident and assign it to the support component of the respective application.";e.error(s,a,n);throw t}};d.prototype.getCoreResourcesComplementBundle=function(){if(a.last("/core/customPreload/enabled")){return a.last("/core/customPreload/coreResourcesComplement")}return[]};d.prototype.loadCoreResourcesComplement=function(){if(!this.loadCoreResourcesComplementPromise){this.loadCoreResourcesComplementPromise=new Promise(async(e,t)=>{try{await this._loadBundle(this.getCoreResourcesComplementBundle());i.emit("CoreResourcesComplementLoaded",{status:"success"});e()}catch(e){i.emit("CoreResourcesComplementLoaded",{status:"failed"});t(e)}});this.loadCoreResourcesComplementPromise.finally(()=>{this.loadCoreResourcesComplementPromise=undefined})}return this.loadCoreResourcesComplementPromise};d.prototype._createUi5Component=function(e){if(e.manifest===undefined){e.manifest=false}return o.create(e)};d.prototype._shouldLoadCoreExt=function(e){let t=true;if(e.hasOwnProperty("loadCoreExt")){t=e.loadCoreExt}return t};d.prototype._shouldLoadDefaultDependencies=function(e){let t=true;if(e.hasOwnProperty("loadDefaultDependencies")){t=e.loadDefaultDependencies}if(this._oServiceConfig&&this._oServiceConfig.hasOwnProperty("loadDefaultDependencies")){t=t&&this._oServiceConfig.loadDefaultDependencies}return t};d.prototype._constructAppComponentId=function(e={}){const t=e.semanticObject||null;const o=e.action||null;if(!t||!o){return null}return`application-${t}-${o}-component`};d.prototype._removeCacheBusterTokenFromUrl=function(e){const t=new RegExp("[/]~[\\w-]+~[A-Z0-9]?");return e.replace(t,"")};d.prototype._removeParametersFromUrl=function(e){if(!e){return e}const t=e.indexOf("?");if(t>=0){return e.slice(0,t)}return e};d.prototype._getParameterMap=function(e){const t=l.fromURL(e||window.location.href).mParams;const o=t["sap-xapp-state"];const n=t["sap-xapp-state-data"];delete t["sap-xapp-state"];delete t["sap-xapp-state-data"];const r={startupParameters:t};if(n){r["sap-xapp-state"]=n}if(o){r["sap-xapp-state"]=o}return r};d.prototype._loadBundle=function(t){if(!Array.isArray(t)){e.error("Ui5ComponentLoader: loadBundle called with invalid arguments");return null}return Promise.all(t.map(e=>sap.ui.loader._.loadJSResourceAsync(e))).catch(o=>{e.error(`Ui5ComponentLoader: failed to load bundle resources: [${t.join(", ")}]`,o);throw o})};d.prototype._createComponentProperties=async function(o,i,p,l,d){const m=i.ui5ComponentName;const f=i.url;const C=i.applicationDependencies||{};const y=c.getParameterValueBoolean("sap-ushell-nocb");const h=t({},C);if(!h.asyncHints){h.asyncHints=d?{libs:u}:{}}if(l){const e=a.last("/core/customPreload/coreResourcesComplement");h.asyncHints.preloadBundles=[...h.asyncHints.preloadBundles||[],...e]}if(p){h.asyncHints.waitFor=p}if(!h.name){h.name=m}if(f){h.url=this._removeParametersFromUrl(f)}if(o){h.id=o}if(y&&h.asyncHints){r.modifyUrls(h.asyncHints,this._removeCacheBusterTokenFromUrl)}const P=h.manifest;if(typeof P==="string"&&P.length>0&&"sap.ui.fl"in n.all()){try{const[t]=await c.requireAsync(["sap/ui/fl/apply/api/FlexRuntimeInfoAPI"]);try{const e=t.getFlexVersion({reference:m});if(typeof e==="string"&&e.length>0){const t=new s(P);t.addQuery("version",e);h.manifest=t.toString()}return h}catch(t){e.error("Error when trying to get manifest version from 'sap.ui.fl.apply.api.FlexRuntimeInfoAPI'",t,"sap.ushell.services.Ui5ComponentLoader");return h}}catch(t){e.error("Error when trying to load 'sap/ui/fl/apply/api/FlexRuntimeInfoAPI'",t,"sap.ushell.services.Ui5ComponentLoader");return h}}return h};d.prototype._createComponentData=function(e){const o=e.componentData||{};const n=e.url;const r=e.applicationConfiguration;const s=e.reservedParameters;const a=t({startupParameters:{}},o);if(r){a.config=r}if(s){a.technicalParameters=s}const i=n&&n.indexOf("?")>=0;if(i){const e=this._getParameterMap(n);a.startupParameters=e.startupParameters;if(e["sap-xapp-state-data"]){a["sap-xapp-state"]=e["sap-xapp-state-data"]}if(e["sap-xapp-state"]){a["sap-xapp-state"]=e["sap-xapp-state"]}}if(e.getExtensions){a.getExtensions=e.getExtensions;delete e.getExtensions}if(e.oPostMessageInterface){a.oPostMessageInterface=e.oPostMessageInterface;delete e.oPostMessageInterface}return a};d.prototype._logAnyApplicationDependenciesMessages=function(t,o){if(!Array.isArray(o)){return}o.forEach(o=>{let n=String.prototype.toLowerCase.call(o.severity||"");n=["trace","debug","info","warning","error","fatal"].indexOf(n)!==-1?n:"error";e[n](o.text,o.details,t)})};d.prototype._setDefaultDependencies=function(e){u=e};d.hasNoAdapter=false;return d});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/UsageAnalytics", ["sap/base/Log"],e=>{"use strict";function r(r,t,s){this.setLegalText=function(){this._logDeprecationError()};this.systemEnabled=function(){this._logDeprecationError();return false};this.userEnabled=function(){this._logDeprecationError();return false};this.setCustomAttributes=function(e){this._logDeprecationError()};this._logDeprecationError=function(){e.error("UsageAnalytics service is deprecated, because the corresponding cloud service 'SAP Web Analytics' has been retired.",null,"sap.ushell.services.UsageAnalytics")}}r.hasNoAdapter=true;return r},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/UserDefaultParameterPersistence", ["sap/base/Log","sap/base/util/deepExtend","sap/base/util/ObjectPath","sap/ushell/Container","sap/ushell/utils"],(e,t,a,s,i)=>{"use strict";const r=["value","extendedValue","noEdit","alwaysAskPlugin","_shellData","pluginData"];function n(e,t,a,s){this._oAdapter=e;this._oData={}}n.prototype._cleanseValue=function(e){const a=t({},e);for(const e in a){if(a.hasOwnProperty(e)&&r.indexOf(e)<0){delete a[e]}}return a};n.prototype._getSystemContextFallback=async function(){e.warning("UserDefaultParameterPersistence: The systemContext was not provided, using defaultSystemContext as fallback");const t=await s.getServiceAsync("ClientSideTargetResolution");return t.getSystemContext()};n.prototype.loadParameterValue=async function(t,s){if(!s){s=await this._getSystemContextFallback()}const r=a.get([s.id,t],this._oData);if(r!==undefined){return r}const n=await i.promisify(this._oAdapter.loadParameterValue(t,s));const o=this._cleanseValue(n);a.set([s.id,t],o,this._oData);e.debug(`[UserDefaults] Fetched "${t}" for SystemContext=${s.id} from Persistence`,JSON.stringify(o,null,2));return o};n.prototype.saveParameterValue=async function(t,s,r){if(!r){r=await this._getSystemContextFallback()}if(!s){return i.promisify(this.deleteParameter(t,r))}const n=this._cleanseValue(s);if(s&&s.noStore===true){e.debug(`[UserDefaults] Skipped Save "${t}" for SystemContext=${r.id}`,"noStore=true");return}e.debug(`[UserDefaults] Saving "${t}" for SystemContext=${r.id} to Persistence`,JSON.stringify(n,null,2));a.set([r.id,t],n,this._oData);return i.promisify(this._oAdapter.saveParameterValue(t,n,r))};n.prototype.deleteParameter=async function(t,a){if(!a){a=await this._getSystemContextFallback()}if(this._oData[a.id]){e.debug(`[UserDefaults] Deleting "${t}" for SystemContext=${a.id} from Persistence`);delete this._oData[a.id][t]}return i.promisify(this._oAdapter.deleteParameter(t,a))};n.prototype.getStoredParameterNames=async function(e){if(!e){e=await this._getSystemContextFallback()}const t=await i.promisify(this._oAdapter.getStoredParameterNames(e));return t.sort()};n.hasNoAdapter=false;return n},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/UserDefaultParameters", ["sap/base/Log","sap/base/util/deepClone","sap/base/util/deepEqual","sap/base/util/deepExtend","sap/base/util/isEmptyObject","sap/ui/base/EventProvider","sap/ushell/utils","sap/ushell/Container"],(e,t,a,r,s,n,i,o)=>{"use strict";const u="valueStored";const l=["value","noEdit","noStore","extendedValue","alwaysAskPlugin"];function c(c,d,f,m){this._aPlugins=[];this._oUserDefaultParametersNames={};this._oWasParameterPersisted={};const h=new n;function g(e){const t=typeof e.getComponentData==="function"&&e.getComponentData()&&e.getComponentData().config&&e.getComponentData().config["sap-priority"]||0;if(typeof t!=="number"||isNaN(t)){return 0}return t}this._insertPluginOrdered=function(e,t){const a=g(t);for(let r=0;r<e.length&&t;++r){const s=g(e[r]);if(t&&a>s){e.splice(r,0,t);t=undefined}}if(t){e.push(t)}return e};this.registerPlugin=function(e){this._aPlugins=this._insertPluginOrdered(this._aPlugins,e)};this._getUserDefaultValueFromPlugin=async function(t,a,r,s){if(typeof t.getUserDefault==="function"){try{const n=await i.promisify(t.getUserDefault(a,s,r));const o=n||s;const u=this._getComponentNameOfPlugin(t);e.debug(`[UserDefaults] Fetched "${a}" for SystemContext="${r.id}" from Plugin="${u}"`,JSON.stringify(o,null,2));return o}catch{e.error(`invocation of getUserDefault("${a}") for plugin ${this._getComponentNameOfPlugin(t)} rejected.`,null,"sap.ushell.services.UserDefaultParameters")}}return s};this._iterateOverPluginsToGetDefaultValue=async function(e,t,a){await this._loadPlugins();return this._aPlugins.reduce(async(t,r)=>{const s=await t;return this._getUserDefaultValueFromPlugin(r,e,a,s)},Promise.resolve(t))};this._getStoreDate=function(){return(new Date).toString()};this._storeValue=async function(t,a,r,s){if(r&&a.extendedValue){try{const e=await o.getServiceAsync("ClientSideTargetResolution");const n=await e.getUserDefaultParameterNames(s);const i=this._extractKeyArrays(n);const u=i.extended.indexOf(t)<0;return this._saveParameterValue(t,a,r,u,s)}catch{e.error(`Cannot save value for ${t}. One or more plugins could not be loaded.`)}}return this._saveParameterValue(t,a,r,false,s)};this._saveParameterValue=async function(e,a,s,n,i){if(n){a.extendedValue=undefined}if(s&&this._valueIsEmpty(a)){a=undefined;this._oWasParameterPersisted[e]=false}else{a._shellData=r({storeDate:this._getStoreDate()},a._shellData)}try{const t=await o.getServiceAsync("UserDefaultParameterPersistence");await t.saveParameterValue(e,a,i)}catch{}const l={parameterName:e,parameterValue:t(a||{}),systemContext:i};h.fireEvent(u,l);return e};this._getPersistedValue=async function(e,t){const a=await o.getServiceAsync("UserDefaultParameterPersistence");return a.loadParameterValue(e,t)};this._valueIsEmpty=function(e){return!e||!e.value&&!e.extendedValue};this._haveSameMembersValue=function(e,t,r){return r.every(r=>e[r]===t[r]||a(e[r],t[r]))};this._getUserDefaultParameterNames=function(e){if(!this._oUserDefaultParametersNames[e.id]){this._oUserDefaultParametersNames[e.id]=new Promise(async t=>{const a=await o.getServiceAsync("ClientSideTargetResolution");const r=await a.getUserDefaultParameterNames(e);const s=this._extractKeyArrays(r);const n=s.extended;const i=s.allParameters;const u=this._arrayToObject(i);t({aAllParameterNames:i,aExtendedParameterNames:n,oMetadataObject:u})})}return this._oUserDefaultParametersNames[e.id]};this._isSupportedParameterName=async function(t,a){const r=await this._getUserDefaultParameterNames(a);if(!r.aAllParameterNames||r.aAllParameterNames.indexOf(t)===-1){e.error(`The given parameter "${t}" is not part of the list of parameters for the given system context.`);return false}return true};this.hasRelevantMaintainableParameters=async function(e){try{const t=await this._getUserDefaultParameterNames(e);if(!s(t)&&t.aAllParameterNames){const a=await Promise.all(t.aAllParameterNames.map(async t=>{try{const a=await this.getValue(t,e);if(a&&!a.hasOwnProperty("noEdit")){return true}}catch{}return false}));return a.some(e=>e)}}catch{}return false};this.getValue=async function(a,r){const s=await this._isSupportedParameterName(a,r);if(!s){return{value:undefined}}const n=await this._getPersistedValue(a,r).then(e=>{this._oWasParameterPersisted[a]=true;return e||{}}).catch(()=>({value:undefined}));const i=t(n);const o=!i._shellData&&this._valueIsEmpty(i)||i.noStore||i.alwaysAskPlugin;if(!o){return i}const u=await this._iterateOverPluginsToGetDefaultValue(a,n,r);if(!this._oWasParameterPersisted[a]||!this._haveSameMembersValue(i,u,l)){this._oWasParameterPersisted[a]=true;await this._storeValue(a,u,false,r).catch(t=>{e.error("Failed to store user default parameter: ",t)})}return u};this._addParameterValuesToParameters=async function(e,t,a){await Promise.all(t.map(async t=>{const r=await this.getValue(t,a);e[t].valueObject=r}));return e};this._arrayToObject=function(e){const t={};e.forEach(e=>{t[e]={}});return t};this._getComponentNameOfPlugin=function(e){try{return e.getMetadata().getComponentName()||""}catch(e){return"'name of plugin could not be determined'"}};this._getEditorDataAndValue=async function(t,a,s,n){const o=await Promise.all(this._aPlugins.map(async t=>{if(typeof t.getEditorMetadata==="function"){try{const e=t.getEditorMetadata(s,n);const a=await i.promisify(e);return a}catch(t){e.error("Error invoking getEditorMetaData on plugin:",t,"sap.ushell.services.UserDefaultParameters");return}}}));const u=[];const l=o.reverse().reduce((e,a)=>{t.forEach(t=>{if(a?.[t]?.editorMetadata){e[t].editorMetadata=a[t].editorMetadata}});return e},s);t.forEach(e=>{if(!(l[e]&&l[e].editorMetadata)){u.push(e)}});const c=await this._addParameterValuesToParameters(l,t,n);const d=r({},c);a.forEach(e=>{if(d[e]){d[e].editorMetadata=d[e].editorMetadata||{};d[e].editorMetadata.extendedUsage=true}});const f=Object.keys(d).splice(0);f.forEach(e=>{let t;if(d[e].valueObject&&d[e].valueObject.noEdit===true){delete d[e];t=u.indexOf(e);if(t>=0){u.splice(t,1)}}});if(u.length>0){e.error(`The following parameter names have no editor metadata and thus likely no configured plugin:\n"${u.join('",\n"')}".`)}return d};this.editorGetParameters=async function(e){const t=await this._getUserDefaultParameterNames(e);const{aAllParameterNames:a,aExtendedParameterNames:r,oMetadataObject:s}=t;if(s.length===0){return{}}await this._loadPlugins();return this._getEditorDataAndValue(a,r,s,e)};this._extractKeyArrays=function(e){const t={simple:e&&e.simple&&Object.keys(e.simple).sort()||[],extended:e&&e.extended&&Object.keys(e.extended).sort()||[]};const a=t.extended.filter(e=>t.simple.indexOf(e)<0);t.allParameters=t.simple.concat(a).sort();return t};this.editorSetValue=async function(e,t,a){await this._storeValue(e,t,true,a)};this.attachValueStored=function(e){h.attachEvent(u,e)};this.detachValueStored=function(e){h.detachEvent(u,e)};this._loadPlugins=async function(){const t=await o.getServiceAsync("PluginManager");try{await i.promisify(t.loadPlugins("UserDefaults"))}catch{e.error("One or more plugins could not be loaded");throw new Error("Initialization of plugins failed")}}}c.hasNoAdapter=true;return c},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/UserInfo", ["sap/base/Log","sap/ushell/User","sap/ushell/Container"],(e,t,i)=>{"use strict";const r={themeList:null,languageList:null,userSettingList:null};function s(t,s){this.getId=function(){return i.getUser().getId()};this.getFirstName=function(){return i.getUser().getFirstName()};this.getLastName=function(){return i.getUser().getLastName()};this.getFullName=function(){return i.getUser().getFullName()};this.getEmail=function(){return i.getUser().getEmail()};this.getUser=function(){return i.getUser()};this.getShellUserInfo=function(){return Promise.resolve({id:this.getId(),email:this.getEmail(),firstName:this.getFirstName(),lastName:this.getLastName(),fullName:this.getFullName()})};this.getCalendarWeekNumberingList=function(){return t.getCalendarWeekNumberingList?.()};this.getThemeList=function(){if(r.themeList){return r.themeList}const i=t.getThemeList();r.themeList=i;i.fail(()=>{e.error("getThemeList failed")});return i};this.updateThemeRoot=async function(e){if(t.getThemeRoot){const r=await t.getThemeRoot(e);if(r!==undefined){i.getUser().addThemeRootForTheme({id:e,root:r})}}};this.updateUserPreferences=function(){const r=t.updateUserPreferences(i.getUser());r.fail(t=>{e.error("updateAttributes failed:",t)});return r};this.getLanguageList=function(){if(r.languageList){return r.languageList}const i=t.getLanguageList();r.languageList=i;i.fail(()=>{e.error("getLanguageList failed")});return i};this.getUserSettingList=function(){if(r.userSettingList){return r.userSettingList}const i=t.getUserProfilePropertyValueLists();r.userSettingList=i;i.fail(()=>{e.error("getUserProfilePropertyValueLists failed")});return i};this.getUserSettingListEditSupported=function(){if(typeof t.getUserProfilePropertyValueLists!=="undefined"){return true}return false}}s.hasNoAdapter=false;return s},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/UserRecents", ["sap/base/util/ObjectPath","sap/ushell/services/UserRecents/RecentsList","sap/ushell/services/UserRecents/RecentActivity","sap/ushell/services/UserRecents/RecentAppsUsage","sap/ushell/utils/UrlParsing"],(e,t,c,o,a)=>{"use strict";function s(){this.oRecentSearches=new t("RecentSearches",10,s._compareSearchItems);this.oRecentDataSources=new t("RecentDataSources",6,s._compareDataSources);this.oRecentApps=new t("RecentApps",6,s._compareApps);this.oRecentActivity=new c(500);this.oAppsUsage=new o}s._compareSearchItems=function(e,t){let c=false;if(e.oDataSource&&t.oDataSource){if(e.oDataSource.objectName&&t.oDataSource.objectName){c=e.sTerm===t.sTerm&&e.oDataSource.objectName.value===t.oDataSource.objectName.value}if(!e.oDataSource.objectName&&!t.oDataSource.objectName){c=e.sTerm===t.sTerm}}if(!e.oDataSource&&!t.oDataSource){c=e.sTerm===t.sTerm}return c};s.prototype.noticeSearch=s.prototype.addSearchActivity;s.prototype.addSearchActivity=async function(e){await this.oRecentSearches.newItem(e);return this.oRecentSearches.getRecentItems()};s.prototype.getRecentSearches=function(){return this.oRecentSearches.getRecentItems()};s._compareDataSources=function(e,t){if(e.objectName&&t.objectName){return e.objectName.value===t.objectName.value}return false};s.prototype.noticeDataSource=s.prototype.addDataSourceActivity;s.prototype.addDataSourceActivity=async function(t){const c=e.get("objectName.value",t)||"";const o=e.get("objectName",t)||"";const a=c.toLowerCase()==="$$all$$";const s=o.toLowerCase()==="$$all$$";if(!a&&!s){await this.oRecentDataSources.newItem(t)}return this.oRecentDataSources.getRecentItems()};s.prototype.getRecentDataSources=function(){return this.oRecentDataSources.getRecentItems()};s._compareApps=function(e,t){return e.semanticObject===t.semanticObject&&e.action===t.action};s.prototype.noticeApp=s.prototype.addAppActivity;s.prototype.addAppActivity=async function(e){await this.oRecentApps.newItem(e);return this.oRecentApps.getRecentItems()};s.prototype.getRecentApps=function(){return this.oRecentApps.getRecentItems()};s.prototype.addActivity=async function(e){await this.oRecentActivity.newItem(e);return this.oRecentActivity.getRecentItems()};s.prototype.clearRecentActivities=async function(){await this.oRecentActivity.clearAllActivities()};s.prototype.getRecentActivity=function(){return this.oRecentActivity.getRecentItems()};s.prototype.getFrequentActivity=function(){return this.oRecentActivity.getFrequentItems()};s.prototype.addAppUsage=async function(e){const t=a.getBasicHash(e);await this.oAppsUsage.addAppUsage(t)};s.prototype.getAppsUsage=function(){return this.oAppsUsage.getAppsUsage()};s.hasNoAdapter=true;return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/UserRecents/RecentActivity", ["sap/base/Log","sap/base/util/extend","sap/ui/Device","sap/ushell/Container","sap/ushell/EventHub","sap/ushell/library","sap/ushell/services/UserRecents/UserRecentsBase","sap/ushell/utils/UrlParsing"],(e,t,n,r,s,i,a,c)=>{"use strict";const o=i.AppType;const p=a.extend("sap.ushell.services.UserRecents.RecentActivity",{constructor:function(e){a.call(this,"RecentActivity",e)}});const u=["#Shell-launchURL","#Shell-startGUI","#Shell-startIntent","#Shell-startURL","#Shell-startWDA"];p.MAX_DAYS=30;p.ITEM_COUNT=30;p._compareItems=function(e,t){const n=e.appType===t.appType;const r=e.url===t.url;const s=e.appId===t.appId;const i=e.title===t.title;if(n){if(e.appType!==o.APP){return r}if(s&&u.includes(e.appId)){return i}return s}else if(e.appType===o.APP||t.appType===o.APP){return s&&r}return false};p.prototype._updateIfAlreadyIn=function(e,n,r){return e.recentUsageArray.some(s=>{const{oItem:i,aUsageArray:c}=s;if(p._compareItems(i,n)){const p=n.appType===i.appType;const u=n.appType===o.APP;if(p||!u){t(i,n);i.timestamp=r;s.iTimestamp=r;s.mobile=undefined;s.tablet=undefined;s.desktop=undefined;s[this._getCurrentDevice()]=true;const l=i.appType===o.APP;if(p||!u&&!l){c[c.length-1]+=1;s.iCount+=1}e.recentUsageArray.sort(a.itemSorter)}return true}return false})};p.prototype._insertNew=function(e,t,n,r){t.timestamp=n;if(r){t.icon=r}const s={oItem:t,iTimestamp:n,aUsageArray:[1],iCount:1,mobile:undefined,tablet:undefined,desktop:undefined};s[this._getCurrentDevice()]=true;if(e.recentUsageArray.length===this.iMaxItems){e.recentUsageArray.pop()}e.recentUsageArray.unshift(s)};p.prototype.newItem=async function(e){const t=Date.now();const n=this._getActivityIcon(e.appType,e.icon);const r=this.getDayFromDate(new Date);const i=await this._getRecentActivitiesFromLoadedData();if(r!==i.recentDay){this._addNewDay(i);i.recentDay=r}const a=this._updateIfAlreadyIn(i,e,t);if(!a){this._insertNew(i,e,t,n)}await this.save(i);s.emit("newUserRecentsItem",i)};p.prototype._getActivityIcon=function(e,t){if(t){return t}switch(e){case o.SEARCH:return"sap-icon://search";case o.COPILOT:return"sap-icon://co";case o.URL:return"sap-icon://internet-browser";default:return"sap-icon://product"}};p.prototype.clearAllActivities=async function(){await this.save([]);s.emit("userRecentsCleared",Date.now())};p.prototype._getCurrentDevice=function(){if(n.system.desktop){return"desktop"}else if(n.system.tablet){return"tablet"}return"mobile"};p.prototype._filterRecentItems=async function(e){const t=this.getDayFromDate(new Date);const n=this._getCurrentDevice();const s=await this._getRecentActivitiesFromLoadedData();let i=false;if(t!==s.recentDay){this._addNewDay(s);s.recentDay=t;i=true}const a=s.recentUsageArray.reduce((e,t,r)=>{if(t[n]===undefined){const{url:n}=t.oItem;const s=c.getShellHash(n);if(s){e.intent.push({index:r,hash:s})}else{e.url.push({index:r})}}return e},{url:[],intent:[]});const o=i||a.url.length>0||a.intent.length>0;a.url.forEach(({index:e})=>{const t=s.recentUsageArray[e];t[n]=true});if(a.intent.length>0){const e=a.intent.map(({hash:e})=>({target:{shellHash:e}}));const t=await r.getServiceAsync("Navigation");const i=await t.isNavigationSupported(e);a.intent.forEach(({index:e},t)=>{const{supported:r}=i[t];const a=s.recentUsageArray[e];a[n]=r})}if(o){await this.save(s)}const p=this._getRecentItemsForCurrentDevice(s);if(e){return p.slice(0,e)}return p};p.prototype._getRecentItemsForCurrentDevice=function(e){const t=this._getCurrentDevice();return e.recentUsageArray.filter(e=>e[t])};p.prototype.getRecentItems=async function(){const e=await this._filterRecentItems(p.ITEM_COUNT);return e.map(e=>e.oItem)};p.prototype.getFrequentItems=async function(){const e=await this._filterRecentItems();let t=0;let n=[];let r=e[0]?new Date(e[0].iTimestamp).toDateString():"";for(let s=0;s<e.length&&t<p.MAX_DAYS;s++){const i=e[s];if(i.iCount>1){n.push(i)}const a=new Date(i.iTimestamp).toDateString();if(r!==a){t++;r=a}}n.sort((e,t)=>t.iCount-e.iCount);n=n.slice(0,p.ITEM_COUNT);return n.map(e=>e.oItem)};p.prototype._addNewDay=function(e){e.recentUsageArray.forEach(e=>{if(!e.aUsageArray){e.aUsageArray=[];e.iCount=0}const{aUsageArray:t}=e;t.push(0);if(t.length>p.MAX_DAYS){e.iCount-=t[0];t.shift()}})};p.prototype._getRecentActivitiesFromLoadedData=async function(){const t=await this.load();let n;let r;if(Array.isArray(t)){r=t}else{n=t}const s=n||{recentDay:null,recentUsageArray:r||[]};s.recentUsageArray=s.recentUsageArray.filter(t=>{const n=!!t?.oItem?.url;if(!n){e.error("FLP Recent Activity",t,"is not valid. The activity is removed from the list.")}return n});return s};return p});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/UserRecents/RecentAppsUsage", ["sap/base/Log","sap/ushell/services/UserRecents/UserRecentsBase","sap/ushell/utils"],(e,s,a)=>{"use strict";const t=s.extend("sap.ushell.services.UserRecents.RecentAppsUsage",{constructor:function(){s.call(this,"AppsUsage")}});t.MAX_DAYS=30;t.prototype.init=async function(){const s=this.getDayFromDate(new Date);let a=false;if(!a||s!==this.oAppsUsageData.recentDay){a=true;try{const e=await this.load();this.oAppsUsageData=e||{recentDay:null,recentAppsUsageMap:{}};await this.calculateInitialUsage(s);return this.oAppsUsageData}catch(s){e.error("Load data in Init failed",s,"sap.ushell.services.UserRecents.RecentAppsUsage");throw s}}};t.prototype.calculateInitialUsage=async function(e){if(e!==this.oAppsUsageData.recentDay){this._addNewDay();this.oAppsUsageData.recentDay=e;this._cleanUnusedHashes();await this.save(this.oAppsUsageData)}};t.prototype.addAppUsage=async function(e){if(!a.validHash(e)){throw new Error("Non valid hash")}await this.init();const s=this.oAppsUsageData.recentAppsUsageMap[e]||[];if(s.length===0){s[0]=1}else{s[s.length-1]+=1}this.oAppsUsageData.recentAppsUsageMap[e]=s;await this.save(this.oAppsUsageData)};t.prototype.getAppsUsage=async function(){await this.init();const e={};let s;let a;let t=true;for(const p in this.oAppsUsageData.recentAppsUsageMap){e[p]=this._getHashUsageSum(p);if(t){s=a=e[p];t=false}else if(e[p]<a){a=e[p]}else if(e[p]>s){s=e[p]}}return{usageMap:e,maxUsage:s,minUsage:a}};t.prototype._addNewDay=function(){let e;for(const s in this.oAppsUsageData.recentAppsUsageMap){e=this.oAppsUsageData.recentAppsUsageMap[s];e[e.length]=0;if(e.length>t.MAX_DAYS){e=e.shift()}}};t.prototype._cleanUnusedHashes=function(){let e;for(const s in this.oAppsUsageData.recentAppsUsageMap){e=this._getHashUsageSum(s);if(e===0){delete this.oAppsUsageData.recentAppsUsageMap[s]}}};t.prototype._getHashUsageSum=function(e){const s=this.oAppsUsageData.recentAppsUsageMap[e];return s.reduce((e,s)=>e+s,0)};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/UserRecents/RecentsList", ["sap/ushell/services/UserRecents/UserRecentsBase"],t=>{"use strict";const e=t.extend("sap.ushell.services.UserRecents.RecentsList",{constructor:function(e,s,i){t.apply(this,arguments);this._compareItems=i}});e.prototype._updateIfAlreadyIn=function(t,e,s){return t.some(t=>{let i;if(this._compareItems(t.oItem,e)){t.oItem=e;t.iTimestamp=s;t.iCount+=1;i=true}else{i=false}return i})};e.prototype._insertNew=function(e,s,i){const n={oItem:s,iTimestamp:i,iCount:1};if(e.length===this.iMaxItems){e.sort(t.itemSorter);e.pop()}e.push(n)};e.prototype.newItem=async function(t){const e=Date.now();const s=await this.load()||[];const i=this._updateIfAlreadyIn(s,t,e);if(!i){this._insertNew(s,t,e)}await this.save(s)};e.prototype.getRecentItems=async function(){const e=await this.load()||[];e.sort(t.itemSorter);const s=e.slice(0,this.iMaxItems);return s.map(t=>t.oItem)};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/UserRecents/UserRecentsBase", ["sap/base/Log","sap/ui/base/Object","sap/ushell/Container"],(e,t,o)=>{"use strict";const s=t.extend("sap.ushell.services.UserRecents.UserRecentsBase",{constructor:function(e,t){this.iMaxItems=t;this.sPersonalizationItemName=e;if(!s.prototype.oContainerPromise){s.prototype.oContainerPromise=o.getServiceAsync("PersonalizationV2").then(async e=>{const t="sap.ushell.services.UserRecents";const o={};const s=await e.getContainer(t,o);await s.load();return s})}}});s.prototype.load=async function(){try{const e=await s.prototype.oContainerPromise;return e.getItemValue(this.sPersonalizationItemName)}catch(t){e.error("Personalization service does not work:",t);throw t}};s.prototype.save=async function(t){try{const e=await s.prototype.oContainerPromise;e.setItemValue(this.sPersonalizationItemName,t);await e.save()}catch(t){e.error("Personalization service does not work:",t);throw t}};s.itemSorter=function(e,t){return t.iTimestamp-e.iTimestamp};s.prototype.getDayFromDate=function(e){return`${e.getUTCFullYear()}/${e.getUTCMonth()+1}/${e.getUTCDate()}`};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/VisualizationDataProvider", ["sap/ushell/resources","sap/ui/thirdparty/jquery","sap/ushell/library","sap/ushell/utils/chipsUtils","sap/base/Log","sap/ushell/utils/LaunchpadError"],(t,jQuery,e,i,a,o)=>{"use strict";const s=e.DisplayFormat;function l(){this.S_COMPONENT_NAME="sap.ushell.services.VisualizationDataProvider";this._init.apply(this,arguments)}l.prototype._init=function(t){this.oLaunchPageAdapter=t;this.oCatalogTilePromise=null};l.prototype._getCatalogTileIndex=function(){if(this._oCatalogTileIndexPromise){return this._oCatalogTileIndexPromise}const t=this.oLaunchPageAdapter;return t._getCatalogTileIndex()};l.prototype._getCatalogTiles=function(){if(this.oCatalogTilePromise){return this.oCatalogTilePromise}const t=this.oLaunchPageAdapter;this.oCatalogTilePromise=new Promise((e,i)=>{t.getCatalogs().then(a=>{const o=[];const s=[];const l={};for(let e=0;e<a.length;e++){if(typeof a[e].ui2catalog==="undefined"||a[e].ui2catalog.getType()!=="REMOTE"){o.push(t.getCatalogTiles(a[e]).then(t=>{s.push(t)}))}}jQuery.when.apply(null,o).done(()=>{const i=s.flat();for(let e=0;e<i.length;e++){const a=t.getStableCatalogTileId(i[e]);l[a]=i[e]}e(l)}).fail(i)}).fail(i)});return this.oCatalogTilePromise};l.prototype.getVisualizationData=function(){let e;const i=this.oLaunchPageAdapter;if(this._oVisualizationDataPromise){return this._oVisualizationDataPromise}this._oVisualizationDataPromise=Promise.all([this._getCatalogTiles(),this._getCatalogTileIndex()]).then(t=>{const a=t[0];e=t[1];const o=[];const s=[];Object.keys(a).forEach(t=>{const e=a[t];i.setTileVisible(e,false);s.push(i.isTileIntentSupportedAsync(e).then(e=>{if(e===true){o.push(t)}}))});return Promise.all(s).then(()=>{const t=o.map(t=>{const e=a[t];if(!i.getCatalogTilePreviewTitle(e)){return new Promise((t,a)=>{i.getCatalogTileViewControl(e).done(t).fail(a)}).then(i=>({id:t,catalogTile:e,view:i}))}return Promise.resolve({id:t,catalogTile:e})});return Promise.all(t)})}).then(t=>t.reduce((t,o)=>{const s=o.id;const l=o.view;const n=o.catalogTile;try{const a=n.getChip().getBaseChipId();t.visualizations[s]={vizType:a,title:i.getCatalogTilePreviewTitle(n),subTitle:i.getCatalogTilePreviewSubtitle(n),icon:i.getCatalogTilePreviewIcon(n),info:i.getCatalogTilePreviewInfo(n),keywords:i.getCatalogTileKeywords(n),size:i.getCatalogTileSize(n),indicatorDataSource:i.getCatalogTilePreviewIndicatorDataSource(n),url:i.getCatalogTileTargetURL(n),numberUnit:i.getCatalogTileNumberUnit(n),isCustomTile:i.isCustomTile&&i.isCustomTile(n)};if(e[s]){t.visualizations[s]._instantiationData={platform:"ABAP",simplifiedChipFormat:false,chip:e[s]}}if(t.visualizations[s].isCustomTile&&!t.vizTypes[a]){t.vizTypes[a]={id:a,url:undefined,vizOptions:{displayFormats:this._getDisplayFormats(n,t.visualizations[s].size)},tileSize:t.visualizations[s].size}}}catch(t){a.error(`Could not get visualization data from tile ${s}`,t,this.S_COMPONENT_NAME)}if(l){l.destroy()}return t},{visualizations:{},vizTypes:{},page:{}})).catch(e=>{throw new o(e.message,{component:this.S_COMPONENT_NAME,description:t.i18n.getText("VisualizationDataProvider.CannotLoadData"),detail:e.message},e)});return this._oVisualizationDataPromise};l.prototype._getDisplayFormats=function(t,e){let i=["tile"];let a="tile";const o=t.getContract("types");if(o){i=o.getAvailableTypes();a=o.getDefaultType()}return{supported:this._mapDisplayFormats(i,e),default:this._mapDisplayFormats([a],e)[0]}};l.prototype._mapDisplayFormats=function(t,e){const i={tile:s.Standard,tilewide:s.StandardWide,link:s.Compact,flat:s.Flat,flatwide:s.FlatWide};return t.map(t=>{t=i[t];if(t===s.Standard&&e==="1x2"){return s.StandardWide}return t})};l.prototype.loadVizType=async function(t){const e={chipId:t};try{const a=await i.loadChipInstanceFromSimplifiedChip(e);const o=i.getTileSize(a);return{id:t,url:undefined,vizOptions:{displayFormats:this._getDisplayFormats(a,o)},tileSize:o}}catch(e){a.error(`The chipInstance '${t}' could not be loaded: `,e)}};l.hasNoAdapter=false;return l});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/VisualizationInstantiation", ["sap/ushell/ui/launchpad/VizInstance","sap/ushell/ui/launchpad/VizInstanceAbap","sap/ushell/ui/launchpad/VizInstanceCdm","sap/ushell/ui/launchpad/VizInstanceLaunchPage","sap/ushell/ui/launchpad/VizInstanceLink","sap/m/library","sap/ushell/library","sap/base/util/ObjectPath","sap/ushell/EventHub","sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations"],(e,t,a,i,n,o,s,d,r,l)=>{"use strict";const c=o.LoadState;const u=s.DisplayFormat;function p(){}p.prototype.instantiateVisualization=function(o){let s;let p=d.get("_instantiationData.platform",o);const h={vizRefId:o.id,title:o.title,subtitle:o.subtitle,icon:o.icon,keywords:o.keywords,instantiationData:o._instantiationData,indicatorDataSource:o.indicatorDataSource,dataSource:o.dataSource,contentProviderId:o.contentProviderId,contentProviderLabel:o.contentProviderLabel,vizConfig:o.vizConfig,supportedDisplayFormats:o.supportedDisplayFormats,displayFormat:o.displayFormatHint,numberUnit:o.numberUnit,dataHelpId:o.vizId,preview:o.preview};if(h.indicatorDataSource){h.indicatorDataSource.ui5object=true}if((p==="ABAP"||p==="CDM")&&h.displayFormat===u.Compact){this._cleanInstantiationDataForLink(h);p="LINK"}if(p==="ABAP"){s=new t(h)}else if(p==="CDM"){s=new a(h)}else if(p==="LINK"){s=new n(h)}if(p==="LAUNCHPAGE"){s=new i(h)}if(!s){return new e({state:c.Failed})}s.setTargetURL(o.targetURL);if(p!=="LINK"){s.setInfo(o.info)}if(l.isStandardVizType(o.vizType)){try{s.load().then(()=>{r.emit("VizInstanceLoaded",o.id)})}catch(e){s.setState(c.Failed);r.emit("VizInstanceLoaded",o.id)}}else{s.setState(c.Loading);r.once("CoreResourcesComplementLoaded").do(()=>{try{s.load(true).then(()=>{s.setState(c.Loaded)})}catch(e){s.setState(c.Failed)}})}return s};p.prototype._cleanInstantiationDataForLink=function(e){delete e.info;delete e.icon;delete e.keywords;delete e.instantiationData;delete e.dataSource;delete e.contentProviderId;delete e.contentProviderLabel;delete e.vizConfig;delete e.numberUnit;delete e.indicatorDataSource;delete e.preview};p.hasNoAdapter=true;return p});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_AppState/AppStatePersistencyMethod", ["sap/base/Log"],t=>{"use strict";function e(){this.PersonalState="PersonalState";this.ACLProtectedState="ACLProtectedState";this.PublicState="PublicState";this.AuthorizationProtectedState="AuthorizationProtectedState"}t.error("sap/ushell/services/_AppState/AppStatePersistencyMethod is deprecated and will be removed in an upcoming release!");return new e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_ContentExtensionAdapterFactory/ContentExtensionAdapterConfig", ["sap/ushell/Config","sap/ushell/System","sap/ushell/services/_ContentExtensionAdapterFactory/FeaturedGroupConfig"],(e,t,r)=>{"use strict";const s={};const o=[{contentProviderName:"featured",adapter:"sap.ushell.adapters.cdm.v3.StaticGroupsAdapter",configSwitch:"/core/home/featuredGroup/enable",system:{alias:"",platform:"cdm"},configHandler:function(){const t=e.last("/core/shell/enableRecentActivity")&&e.last("/core/shell/model/showRecentActivity");const s=t&&e.last("/core/home/featuredGroup/frequentCard");const o=t&&e.last("/core/home/featuredGroup/recentCard");return r.getMockAdapterConfig(s,o)}}];s._getConfigAdapters=function(){o.forEach(e=>{e.system=new t(e.system)});return o};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_ContentExtensionAdapterFactory/FeaturedGroupConfig", ["sap/ushell/resources"],e=>{"use strict";const t={};function a(){const t=e.i18n.getText("featuredGroup.title");const a=e.i18n.getText("recentActivities");const n=e.i18n.getText("frequentActivities");const i=e.i18n.getText("top",[4]);const s={_version:"3.0.0",site:{identification:{version:"3.0",id:"c9dcc1f3-dec0-4db4-91d3-639bf38d91ce",title:"Featured Group",description:"Sample site for featured group cards"},payload:{groupsOrder:["FeaturedGroupCards"]}},catalogs:{},vizTypes:{"sap.ushell.Card":{"sap.app":{id:"sap.ushell.Card",type:"card",applicationVersion:{version:"1.0.0"}},"sap.ui":{deviceTypes:{desktop:true,tablet:true,phone:true}}}},visualizations:{FrequentCard:{vizType:"sap.ushell.Card",businessApp:"fin.cash.bankmaster.manage.BusinessApp",target:{appId:"fin.cash.bankmaster.manage",inboundId:"Bank-manage",parameters:{}},vizConfig:{"sap.flp":{columns:"4",rows:"4"},"sap.app":{id:"FrequentCard",type:"card"},"sap.card":{extension:"module:sap/ushell/ui/cards/FrequentActivitiesExtension",data:{extension:{method:"getData"}},type:"List",header:{title:n,status:{text:i},actions:[{type:"Navigation",parameters:{openUI:"FrequentActivities"}}]},content:{maxItems:4,item:{title:{value:"{Name}"},description:{value:"{Description}"},highlight:"{Highlight}",icon:{src:"{Icon}",label:"icon"},actions:[{type:"Navigation",enabled:"{Enabled}",parameters:{title:"{Name}",url:"{Url}",intentSemanticObject:"{Intent/SemanticObject}",intentAction:"{Intent/Action}",intentAppRoute:"{Intent/AppSpecificRoute}",intentParameters:"{Intent/Parameters}"}}]}}}}},RecentCard:{vizType:"sap.ushell.Card",businessApp:"fin.cash.bankmaster.manage.BusinessApp",target:{appId:"fin.cash.bankmaster.manage",inboundId:"Bank-manage",parameters:{}},vizConfig:{"sap.flp":{columns:"4",rows:"4"},"sap.app":{id:"RecentCard",type:"card"},"sap.card":{extension:"module:sap/ushell/ui/cards/RecentActivitiesExtension",type:"List",data:{extension:{method:"getData"}},header:{title:a,status:{text:i},actions:[{type:"Navigation",parameters:{openUI:"RecentActivities"}}]},content:{maxItems:4,item:{title:{label:"{{title_label}}",value:"{Name}"},description:{label:"{{description_label}}",value:"{Description}"},icon:{src:"{Icon}",label:"icon"},highlight:"{Highlight}",actions:[{type:"Navigation",enabled:"{Enabled}",parameters:{title:"{Name}",url:"{Url}",intentSemanticObject:"{Intent/SemanticObject}",intentAction:"{Intent/Action}",intentAppRoute:"{Intent/AppSpecificRoute}",intentParameters:"{Intent/Parameters}"}}]}}}}}},applications:{},groups:{FeaturedGroupCards:{identification:{id:"FeaturedGroupCards",title:t},contentProvider:"featured",isFeatured:true,payload:{locked:true,tiles:[{id:"frequentCard",vizId:"FrequentCard",contentProvider:"featured"},{id:"recentCard",vizId:"RecentCard",contentProvider:"featured"}],links:[],groups:[]}}},systemAliases:{}};return s}t.getMockAdapterConfig=function(e,t){const n=a();const i=n.groups.FeaturedGroupCards.payload.tiles;const s=n.visualizations;for(let a=0;a<i.length;a++){const n=i[a];const r=!e&&n.vizId==="FrequentCard";const o=!t&&n.vizId==="RecentCard";if(r||o){delete s[n.vizId];i.splice(a,1);a--}}return n};return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_CrossApplicationNavigation/utils", ["sap/base/util/isPlainObject","sap/base/util/ObjectPath","sap/base/Log","sap/ushell/utils/UrlParsing"],(t,e,r,a)=>{"use strict";const n={};n.extractGetLinksParameterOptions=function(t){return n.parseGetLinksParameters(t).filter(t=>Object.keys(t.options).length>0).map(t=>({name:t.name,options:t.options}))};n.extractGetLinksParameterDefinition=function(t){return n.parseGetLinksParameters(t).reduce((t,e)=>{t[e.name]=e.value;return t},{})};n.parseGetLinksParameters=function(t){if(Object.prototype.toString.apply(t)!=="[object Object]"){return[]}const e=JSON.parse(JSON.stringify(t));return Object.keys(e).map(t=>{let r=e[t];let a={};if(Object.prototype.toString.apply(r)==="[object Object]"){r=r.value;delete e[t].value;a=e[t]}return{name:t,value:r,options:a}})};n.safeParseToObject=function(t){try{return JSON.parse(t)}catch(t){r.error("Cannot parse the given string to object",t)}return null};n.createAppStateFromData=function(t){r.error("Deprecated API call of '_CrossApplicationNavigation.utils.createAppStateFromData'. Please use 'createAppStateFromDataAsync' instead",null,"sap.ushell.services._CrossApplicationNavigation.utils");const e=sap.ushell.Container.getService("AppState");const a=e.createEmptyAppState(null);a.setData(t);a.save();return a.getKey()};n.createAppStateFromDataAsync=function(t){return sap.ushell.Container.getServiceAsync("AppState").then(e=>{const r=e.createEmptyAppState(null);r.setData(t);r.save();return r.getKey()})};n.extractParameter=function(s,c){let i;let o=null;if(typeof s==="string"){if(s.indexOf(`${c}=`)===-1){return{intent:s,data:null}}const t=a.parseShellHash(s);if(!t){return{intent:s,data:null}}o=t.params[c];delete t.params[c];i=a.constructShellHash(t);return{intent:i,data:o}}if(t(s)){const t=e.get("target.shellHash",s);if(typeof t==="string"){const e=n.extractParameter(t,c);s.target.shellHash=e.intent;return{intent:s,data:e.data}}const r=s.params;if(r&&r[c]){const t=r[c];o=typeof t==="string"?[t]:t;delete r[c]}return{intent:s,data:o}}r.error("Invalid input parameter","expected string or object");return{intent:s}};n.addXAppStateFromParameter=function(t,e){const r=n.extractParameter(t,e);const a=r.intent;const s=r.data&&r.data[0];if(!s){return}const c=n.safeParseToObject(s);if(!c){return}const i=n.createAppStateFromData(c);n.injectParameter(a,"sap-xapp-state",i)};n.addXAppStateFromParameterAsync=function(t,e){const r=n.extractParameter(t,e);const a=r.intent;const s=r.data&&r.data[0];if(!s){return Promise.resolve()}const c=n.safeParseToObject(s);if(!c){return Promise.resolve()}return n.createAppStateFromDataAsync(c).then(t=>{n.injectParameter(a,"sap-xapp-state",t)})};n.injectParameter=function(t,r,s){if(typeof t==="string"){const e=a.parseShellHash(t);e.params[r]=s;return a.constructShellHash(e)}if(Object.prototype.toString.apply(t)==="[object Object]"){const a=e.get("target.shellHash",t);if(typeof a==="string"){t.target.shellHash=n.injectParameter(a,r,s);return t}if(!t.params){t.params={}}t.params[r]=s}return t};n._injectParameters=function(t){const e=t.inject;const r=t.injectEmptyString||{};const a=t.type;const s=t.args;function c(t,e){return t||t===""&&e}if(a.isPlainObject(s)){if(s.target&&s.target.shellHash){if(typeof s.target.shellHash==="string"){s.target.shellHash=n._injectParameters({inject:e,injectEmptyString:r,type:t.type,args:s.target.shellHash})}return s}const a=Object.keys(e).reduce((t,a)=>{const n=e[a];const s=r[a]===true;if(c(n,s)&&typeof t==="string"){const e=new RegExp(`[&]${a}`);const r=!e.test(t);if(r){const e=t?"&":"";t+=`${e+a}=${n}`}}else if(c(n,s)&&!t.hasOwnProperty(a)){t[a]=n}return t},s.params||{});if(a&&Object.keys(a).length>0){s.params=a}return s}let i=s;if(i){Object.keys(e).forEach(t=>{const a=e[t];const n=r[t]===true;const s=new RegExp(`[?&]${t}`);const o=!s.test(i);if(c(a,n)&&o){const e=i.indexOf("?")>-1?"&":"?";i+=`${e+t}=${a}`}})}return i};n.injectStickyParameters=function(t){r.error("Deprecated API call of '_CrossApplicationNavigation.utils.injectStickyParameters'. Please use 'injectStickyParametersAsync' instead",null,"sap.ushell.services._CrossApplicationNavigation.utils");const e=sap.ushell.Container.getService("AppLifeCycle");return n._injectStickyParameters(t,e)};n.injectStickyParametersAsync=function(t){return sap.ushell.Container.getServiceAsync("AppLifeCycle").then(e=>n._injectStickyParameters(t,e))};n._injectStickyParameters=function(t,e){if(!e||Object.keys(e).length<=0){return t.args}const r=e.getCurrentApplication();if(!r||Object.keys(r).length<=0){return t.args}const a=t.appLifeCycle;const s=t.technicalParameters;const c=s.getParameters({sticky:true}).reduce((t,e)=>{const n=e.name;const c=r.componentInstance;const i=r.applicationType;let o;if(i==="UI5"){o={}}else{o=a.getCurrentApplication().container}const p=s.getParameterValueSync(n,c,o,i);const l=e.stickyName||n;t[l]=p;return t},{});const i={type:t.type,inject:c,args:t.args};return n._injectParameters(i)};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_PageReferencing/PageReferencer", ["sap/base/util/deepExtend","sap/ui/thirdparty/jquery","sap/ushell/Container"],(e,jQuery,n)=>{"use strict";const t={};function r(e,n){const t={};e.forEach(e=>{e.viz.forEach(e=>{const r=e.target;if(r&&!t[r]){t[r]=n.resolveHashFragment(r)}})});return new Promise((e,n)=>{const r=[];Object.keys(t).forEach(e=>{r.push(t[e])});jQuery.when.apply(null,r).then(function(){const n=arguments;Object.keys(t).forEach((e,r)=>{t[e]=n[r].inboundPermanentKey});e(t)}).catch(n)})}function i(e,n){return{inboundPermanentKey:e[n.target],vizId:n.tileCatalogId}}function a(e,n){return{id:n.id,title:n.title,visualizations:n.viz.map(i.bind(null,e))}}t.createReferencePage=function(t,i){i=i||[];return n.getServiceAsync("NavTargetResolutionInternal").then(r.bind(null,i)).then(n=>{const r=e({},t);r.sections=i.map(a.bind(null,n));return Promise.resolve(r)})};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/ContextContainer", ["sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/constants.private","sap/ui/core/format/DateFormat","sap/ui/core/UIComponent","sap/ui/thirdparty/jquery","sap/base/Log"],(e,t,n,i,o,jQuery,r)=>{"use strict";function a(){this._init.apply(this,arguments)}a.prototype._init=function(n,i,r,a,s){this._oService=n;this._sContainerKey=r;this._oAdapterContainer={};this._oScope=a||t.adjustScope(a);this._aLoadedKeys=[];this._oUnmodifiableContainer=undefined;let p;if(!(s instanceof o)&&s!==undefined){throw new Error("oComponent passed must be a UI5 Component or must be undefined")}if(s&&s.getMetadata&&s.getMetadata().getComponentName){p=s.getMetadata().getComponentName()}this.clear();if(!this._sContainerKey||typeof this._sContainerKey!=="string"){throw new e.Error("Invalid container key: sap.ushell.services.Personalization"," ")}this._oAdapterContainer=i.getAdapterContainer(this._sContainerKey,this._oScope,p);return this};a.prototype.getValidity=function(){return this._oScope.validity};a.prototype._getValidity=function(){return this._oScope.validity};a.prototype.clear=function(){this._oItemMap={};this._aLoadedItemKeys=[];this._clear=true;this._oItemMap=new e.Map};a.prototype.load=function(){let t={};const n=this;t=new jQuery.Deferred;if(!this._sContainerKey){throw new e.Error("Invalid container key: sap.ushell.services.Personalization"," ")}this.clear();const i=this._oService._pendingContainerOperations_flushAddNext(this._sContainerKey,t);i.always(()=>{n._oAdapterContainer.load().fail(e=>{t.reject(e)}).done(()=>{n._copyFromAdapter();if(n._isExpired()){n.clear()}t.resolve()})});return t.promise()};a.prototype._copyFromAdapter=function(){const e=this;const t=e._oAdapterContainer.getItemKeys().splice(0);t.forEach(t=>{e._oItemMap.put(t,JSON.stringify(e._oAdapterContainer.getItemValue(t)))});this._aLoadedItemKeys=e._oItemMap.keys().splice(0)};a.prototype._isExpired=function(){if(this._getValidity()===Infinity||this._getValidity()===0){return false}const e=this._getItemValueInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_EXPIRE);const t=i.getDateInstance({pattern:n.S_ABAPTIMESTAMPFORMAT});const o=t.format(this._getNow(),true);return e&&o>e};a.prototype._getNow=function(){return new Date};a.prototype._copyToAdapterUpdatingValidity=function(){let e=[];let o=[];const r=this;let a;let s;let p;let _;if(this._clear){e=this._oAdapterContainer.getItemKeys().splice(0);e.forEach(e=>{r._oAdapterContainer.delItem(e)});this._clear=false}if(this._getValidity()===Infinity||this._getValidity()===0){this._delItemInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_SCOPE);this._delItemInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_EXPIRE);this._delItemInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_STORAGE)}else{s=i.getDateInstance({pattern:n.S_ABAPTIMESTAMPFORMAT});a=this._getNow();_=s.format(a,true);p=s.format(new Date(a.getTime()+this._getValidity()*6e4),true);this._setItemValueInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_SCOPE,this._oScope);this._setItemValueInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_EXPIRE,p);this._setItemValueInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_STORAGE,_)}e=this._oItemMap.keys();e.forEach(e=>{r._oAdapterContainer.setItemValue(e,t.cloneToObject(r._oItemMap.get(e)))});o=this._aLoadedItemKeys.filter(t=>!(e.indexOf(t)>-1));o.forEach(e=>{r._oAdapterContainer.delItem(e)})};a.prototype.save=function(){const e=this;this._copyToAdapterUpdatingValidity();const t=new jQuery.Deferred;const n=this._oService._pendingContainerOperations_cancelAddNext(this._sContainerKey,t);n.always(()=>{try{e._oAdapterContainer.save().fail(e=>{t.reject(e)}).done(()=>{t.resolve()})}catch(e){t.reject(e)}});return t.promise()};a.prototype.saveDeferred=function(e){const t=this;this._copyToAdapterUpdatingValidity();const n=new jQuery.Deferred;const i=this._oService._pendingContainerOperations_cancelAddNext(this._sContainerKey,n);function o(){i.always(()=>{try{t._oAdapterContainer.save().fail(e=>{n.reject(e)}).done(()=>{n.resolve()})}catch(e){n.reject(e)}})}n._sapFnSave=o;n._sapTimeoutId=setTimeout(o,e);return n.promise()};a.prototype.flush=function(){this._copyToAdapterUpdatingValidity();const e=new jQuery.Deferred;const t=this._oService._pendingContainerOperations_flushAddNext(this._sContainerKey,e);t.fail(t=>{e.reject(t)}).done(()=>{e.resolve()});return e.promise()};a.prototype.getItemKeys=function(){const e=this._oItemMap.keys().filter(e=>e.indexOf(n.S_ITEM_PREFIX)===0);return e.map(e=>e.replace(n.S_ITEM_PREFIX,"",""))};a.prototype._getInternalKeys=function(){return this._oItemMap.keys().splice(0)};a.prototype.getItemValue=function(e){return this._getItemValueInternal(n.S_ITEM_PREFIX,e)};a.prototype._getItemValueInternal=function(e,n){if(typeof n!=="string"||typeof e!=="string"){return undefined}return t.cloneToObject(this._oItemMap.get(e+n))};a.prototype.containsItem=function(e){if(typeof e!=="string"){return undefined}return this._oItemMap.containsKey(n.S_ITEM_PREFIX+e)};a.prototype.setItemValue=function(e,t){this._setItemValueInternal(n.S_ITEM_PREFIX,e,t)};a.prototype._setItemValueInternal=function(t,n,i){if(typeof n!=="string"||typeof t!=="string"){throw new e.Error("Parameter value of sItemKey or sItemValue is not a string: sap.ushell.services.Personalization"," ")}if(n.length>40){r.error(`Personalization Service item key/variant set name ("${n}") should be less than 40 characters [current :${n.length}]`)}this._oItemMap.put(t+n,JSON.stringify(i))};a.prototype.delItem=function(e){this._delItemInternal(n.S_ITEM_PREFIX,e)};a.prototype._delItemInternal=function(e,t){if(typeof t!=="string"){return undefined}if(typeof e!=="string"){return undefined}this._oItemMap.remove(e+t)};a.prototype.getKey=function(){return this._sContainerKey.substring(n.S_CONTAINER_PREFIX.length)};a.prototype.getUnmodifiableContainer=function(){const t=this;if(!this._oUnmodifiableContainer){this._oUnmodifiableContainer=function(){const n={};["clear","delItem","flush","load","save","saveDeferred","setItemValue"].forEach(t=>{n[t]=function(t){throw new e.Error(`Function ${t} can't be called on unmodifiable container`,"ContextContainer"," ")}.bind(undefined,t)});["containsItem","getItemKeys","getItemValue","getUnmodifiableContainer"].forEach(e=>{if(t[e]){n[e]=t[e].bind(t)}});return n}()}return this._oUnmodifiableContainer};return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/PersonalizationContainer", ["sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/constants.private","sap/ushell/services/_Personalization/PersonalizationContainerVariantSet","sap/ui/thirdparty/jquery"],(e,t,a,n,jQuery)=>{"use strict";function i(t,a){this._sContainerKey=a;this._oAdapterContainer={};this._aLoadedVariantSetKeys=[];this._aLoadedItemKeys=[];let n={};const i=this;this._init();n=new jQuery.Deferred;if(!this._sContainerKey||typeof this._sContainerKey!=="string"){throw new e.Error("Invalid container key: sap.ushell.services.Personalization"," ")}this._oAdapterContainer=t.getAdapterContainer(this._sContainerKey);this.load().fail(e=>{n.reject(e)}).done(()=>{n.resolve(i)});return n.promise()}i.prototype._init=function(){this._oVariantSetMap={};this._oItemMap={};this._aLoadedVariantSetKeys=[];this._aLoadedItemKeys=[];this._oVariantSetMap=new e.Map;this._oItemMap=new e.Map};i.prototype.load=function(){let i={};let r=[];let o=[];let s=[];let p=[];const l=this;function _(e){let n=[];let i=[];n=e.filter(e=>e.indexOf(a.S_ITEM_PREFIX)!==0);if(n.length===0){return e}i=e.filter(e=>e.indexOf(a.S_ITEM_PREFIX)===0);n.forEach(e=>{let n={};let r="";r=a.S_ITEM_PREFIX+e;n=t.clone(l._oAdapterContainer.getItemValue(e));l._oAdapterContainer.setItemValue(r,n);l._oAdapterContainer.delItem(e);if(i&&Array.prototype.indexOf.call(i,r)===-1){i.push(r)}});return i}i=new jQuery.Deferred;if(!this._sContainerKey){throw new e.Error("Invalid container key: sap.ushell.services.Personalization"," ")}this._init();this._oAdapterContainer.load().fail(e=>{i.reject(e)}).done(()=>{r=l._oAdapterContainer.getItemKeys().splice(0);o=r.filter(e=>e.indexOf(a.S_VARIANT_PREFIX)===0);o.forEach(e=>{let t={};t=new n(e,l._oAdapterContainer);l._oVariantSetMap.put(e,t)});s=r.filter(e=>e.indexOf(a.S_VARIANT_PREFIX)!==0);p=_(s);p.forEach(e=>{l._oItemMap.put(e,t.clone(l._oAdapterContainer.getItemValue(e)))});l._aLoadedVariantSetKeys=l._oVariantSetMap.keys().splice(0);l._aLoadedItemKeys=l._oItemMap.keys().splice(0);i.resolve()});return i.promise()};i.prototype.save=function(){let e;this._serializeVariantSets();this._serializeItems();const t=new jQuery.Deferred;function a(){t.resolve()}function n(e){t.reject(e)}try{e=this._oAdapterContainer.save();e.fail(n);e.done(a)}catch(e){t.reject(e)}return t.promise()};i.prototype.getItemKeys=function(){return this._oItemMap.keys().map(e=>e.replace(a.S_ITEM_PREFIX,"",""))};i.prototype.getItemValue=function(e){if(typeof e!=="string"){return undefined}return this._oItemMap.get(a.S_ITEM_PREFIX+e)};i.prototype.containsItem=function(e){if(typeof e!=="string"){return undefined}return this._oItemMap.containsKey(a.S_ITEM_PREFIX+e)};i.prototype.setItemValue=function(t,n){if(typeof t!=="string"){throw new e.Error("Parameter value of sItemKey is not a string: sap.ushell.services.Personalization"," ")}this._oItemMap.put(a.S_ITEM_PREFIX+t,n)};i.prototype.delItem=function(e){if(typeof e!=="string"){return}if(this.containsItem(e)){this._oItemMap.remove(a.S_ITEM_PREFIX+e)}};i.prototype._serializeItems=function(){let e=[];let a=[];const n=this;e=this._oItemMap.keys();e.forEach(e=>{n._oAdapterContainer.setItemValue(e,t.clone(n._oItemMap.get(e)))});a=this._aLoadedItemKeys.filter(t=>!(e.indexOf(t)>-1));a.forEach(e=>{n._oAdapterContainer.delItem(e)})};i.prototype.getVariantSetKeys=function(){let e=[];let t=[];t=this._oVariantSetMap.keys();e=t.map(e=>e.replace(a.S_VARIANT_PREFIX,"",""));return e};i.prototype.containsVariantSet=function(e){return this._oVariantSetMap.containsKey(a.S_VARIANT_PREFIX+e)};i.prototype.getVariantSet=function(e){let t={};const n=a.S_VARIANT_PREFIX+e;t=this._oVariantSetMap.get(n);return t};i.prototype.addVariantSet=function(t){let i={};let r={};let o="";if(this.containsVariantSet(t)){throw new e.Error(`Container already contains a variant set with key '${t}': sap.ushell.services.Personalization`," ")}o=a.S_VARIANT_PREFIX+t;i={currentVariant:null,variants:{}};this._oAdapterContainer.setItemValue(o,i);r=new n(o,this._oAdapterContainer);this._oVariantSetMap.put(o,r);return r};i.prototype._serializeVariantSets=function(){let e=[];let a=[];const n=this;e=this._oVariantSetMap.keys();e.forEach(e=>{let a={};let i={};a=n._oVariantSetMap.get(e);i=a._serialize();n._oAdapterContainer.setItemValue(e,t.clone(i))});a=this._aLoadedVariantSetKeys.filter(t=>!(e.indexOf(t)>-1));a.forEach(e=>{n._oAdapterContainer.delItem(e)})};i.prototype.delVariantSet=function(e){let t="";t=a.S_VARIANT_PREFIX+e;this._oVariantSetMap.remove(t);return this._oAdapterContainer.delItem(t)};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/PersonalizationContainerVariant", ["sap/ushell/utils"],t=>{"use strict";function e(e,r,n){if(typeof e!=="string"){throw new t.Error("Parameter value of sVariantKey is not a string: sap.ushell.services.Personalization"," ")}if(typeof r!=="string"){throw new t.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ")}if(n&&typeof n!=="object"){throw new t.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ")}this._oVariantKey=e;this._oVariantName=r;this._oItemMap=new t.Map;this._oItemMap.entries=n||{}}e.prototype.getVariantKey=function(){return this._oVariantKey};e.prototype.getVariantName=function(){return this._oVariantName};e.prototype.getItemValue=function(t){if(typeof t!=="string"){return undefined}return this._oItemMap.get(t)};e.prototype.setItemValue=function(e,r){if(typeof e!=="string"){throw new t.Error("Parameter value of sItemKey is not a string: sap.ushell.services.Personalization"," ")}return this._oItemMap.put(e,r)};e.prototype.containsItem=function(t){if(typeof t!=="string"){return undefined}return this._oItemMap.containsKey(t)};e.prototype.getItemKeys=function(){return this._oItemMap.keys()};e.prototype.delItem=function(t){if(typeof t!=="string"){return undefined}return this._oItemMap.remove(t)};e.prototype._serialize=function(){let t=[];const e={};const r={};const n=this;e.name=this.getVariantName();t=this._oItemMap.keys();t.forEach(t=>{r[t]=n.getItemValue(t)});e.variantData=r;return e};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/PersonalizationContainerVariantSet", ["sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/PersonalizationContainerVariant"],(t,a,e)=>{"use strict";function r(r,n){let i;let s;let o;let p;this._sVariantSetKey=r;this._oAdapterContainer=n;this._oVariantNameMap=new t.Map;this._oVariantMap=new t.Map;const u=a.clone(this._oAdapterContainer.getItemValue(r));if(u.hasOwnProperty("currentVariant")){this._sCurrentVariantKey=u.currentVariant}else{throw new t.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ")}if(u.hasOwnProperty("variants")){for(i in u.variants){if(u.variants.hasOwnProperty(i)){s=u.variants[i].name;o=u.variants[i].variantData;if(this._oVariantNameMap.containsKey(s)){throw new t.Error("Variant name already exists: sap.ushell.services.Personalization"," ")}else{this._oVariantNameMap.put(s,i);p=new e(i,s,o);this._oVariantMap.put(i,p)}}}}else{throw new t.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ")}return this}r.prototype.getCurrentVariantKey=function(){return this._sCurrentVariantKey};r.prototype.setCurrentVariantKey=function(t){this._sCurrentVariantKey=t};r.prototype.getVariantKeys=function(){return this._oVariantMap.keys()};r.prototype.getVariantNamesAndKeys=function(){return JSON.parse(JSON.stringify(this._oVariantNameMap.entries))};r.prototype.getVariant=function(t){if(typeof t!=="string"){return undefined}return this._oVariantMap.get(t)};r.prototype.getVariantKeyByName=function(t){if(typeof t!=="string"){return undefined}return this._oVariantNameMap.get(t)};r.prototype.containsVariant=function(t){if(typeof t!=="string"){return undefined}return this._oVariantMap.containsKey(t)};r.prototype.addVariant=function(a){let r=0;let n="";let i={};r=parseInt(this._oVariantMap.keys().sort((t,a)=>t-a).reverse()[0],10);n=isNaN(r)?"0":(r+1).toString();if(this._oVariantMap.containsKey(n)){throw new t.Error(`Variant key '${n}' already exists in variant set${this._sVariantSetKey}': sap.ushell.services.Personalization`," ")}if(typeof a!=="string"){throw new t.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ")}if(this._oVariantNameMap.containsKey(a)){throw new t.Error(`Variant name '${a}' already exists in variant set '${this._sVariantSetKey}' (Old key: '${this._oVariantNameMap.get(a)}' New key: '${n}') ': sap.ushell.services.Personalization`," ")}i=new e(n,a);this._oVariantMap.put(n,i);this._oVariantNameMap.put(a,n);return i};r.prototype._serialize=function(){let t=[];const a={};const e={};const r=this;a.currentVariant=this._sCurrentVariantKey;t=this.getVariantKeys();t.forEach(t=>{let a={};a=r._oVariantMap.get(t);e[t]=a._serialize()});a.variants=e;return a};r.prototype.delVariant=function(t){const a=this._oVariantMap.get(t);if(a){this._oVariantNameMap.remove(a.getVariantName());this._oVariantMap.remove(t)}};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/Personalizer", ["sap/ushell/utils","sap/ui/thirdparty/jquery","sap/base/Log"],(e,jQuery,t)=>{"use strict";function r(t,r,i,s,o){this._sPersContainer="";this._sPersItem="";this._sPersVariant=null;this._oAdapter=r;this._oService=t;this._oScope=s;this._oComponent=o;if(!i||!i.container||!i.item||typeof i.container!=="string"||typeof i.item!=="string"){throw new e.Error("Invalid input for oPersId: sap.ushell.services.Personalization"," ")}this._sPersContainer=i.container;this._sPersItem=i.item}r.prototype._getContainer=function(e){if(!this._oGetContainerPromise){this._oGetContainerPromise=this._oService.getContainer(e,this._oScope,this._oComponent)}return this._oGetContainerPromise};r.prototype.getPersData=function(){let e={};const r=this;e=new jQuery.Deferred;this._getContainer(this._sPersContainer).fail(t=>{e.reject(t)}).done(t=>{e.resolve(t.getItemValue(r._sPersItem))});e.fail(()=>{t.error(`Failed to get personalization data for Personalizer container: ${r._sPersContainer}`)});return e.promise()};r.prototype.setPersData=function(e){let r={};const i=this;r=new jQuery.Deferred;this._getContainer(this._sPersContainer).fail(e=>{r.reject(e)}).done(t=>{t.setItemValue(i._sPersItem,e);t.save().fail(e=>{r.reject(e)}).done(()=>{r.resolve()})});r.fail(e=>{t.error(`Fail to set Personalization data for Personalizer container: ${i._sPersContainer}`,e)});return r.promise()};r.prototype.delPersData=function(){let e={};const r=this;e=new jQuery.Deferred;this._getContainer(this._sPersContainer).fail(t=>{e.reject(t)}).done(t=>{t.delItem(r._sPersItem);t.save().fail(t=>{e.reject(t)}).done(()=>{e.resolve()})});const i=e.promise();i.fail(e=>{t.error(`Fail to delete Personalization data for Personalizer container: ${this._sPersContainer}`,e)});return i};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/TransientPersonalizer", ["sap/ui/thirdparty/jquery"],jQuery=>{"use strict";function e(){this._oValue=undefined}e.prototype.getPersData=function(){const e=new jQuery.Deferred;e.resolve(this._oValue);return e.promise()};e.prototype.setPersData=function(e){const t=new jQuery.Deferred;this._oValue=e;t.resolve();return t.promise()};e.prototype.delPersData=function(){const e=new jQuery.Deferred;this._oValue=undefined;e.resolve();return e.promise()};e.prototype.setValue=function(e){this._oValue=e};e.prototype.getValue=function(){return this._oValue};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/Variant", ["sap/ushell/utils","sap/ushell/services/_Personalization/utils"],(t,a)=>{"use strict";function e(a,e,r){if(typeof e!=="string"){throw new t.Error("Parameter value of sVariantKey is not a string: sap.ushell.services.Personalization"," ")}if(typeof r!=="string"){throw new t.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ")}this._oVariantSet=a;this._sVariantKey=e;this._sVariantName=r}e.prototype.getVariantKey=function(){return this._sVariantKey};e.prototype.getVariantName=function(){return this._sVariantName};e.prototype.setVariantName=function(a){const e=this._oVariantSet._getVariantSet();let r;if(typeof a!=="string"){throw new t.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ")}if(this._oVariantSet.getVariantKeyByName(a)!==undefined){throw new t.Error(`Variant with name '${a}' already exists in variant set '${this._oVariantSet._sVariantSetKey}': sap.ushell.services.Personalization`," ")}if(Object.prototype.hasOwnProperty.call(e,"variants")&&Object.prototype.hasOwnProperty.call(e.variants,this._sVariantKey)){r=e.variants[this._sVariantKey];r.name=a;this._sVariantName=a;this._oVariantSet._serialize()}else{throw new t.Error("Variant does not longer exist"," ")}};e.prototype.getItemValue=function(t){if(typeof t!=="string"){return undefined}const e=this._oVariantSet._getVariantSet().variants[this._sVariantKey].variantData;if(!Object.prototype.hasOwnProperty.call(e,t)){return undefined}return a.clone(e[t])};e.prototype.setItemValue=function(e,r){if(typeof e!=="string"){throw new t.Error("Parameter value of sItemKey is not a string: sap.ushell.services.Personalization"," ")}const i=this._oVariantSet._getVariantSet().variants&&this._oVariantSet._getVariantSet().variants[this._sVariantKey];if(!i){throw new t.Error("Variant does not longer exist"," ")}if(!i.variantData){i.variantData={}}const n=i.variantData;n[e]=a.clone(r);this._oVariantSet._serialize()};e.prototype.containsItem=function(t){if(typeof t!=="string"){return undefined}const a=this._oVariantSet._getVariantSet().variants[this._sVariantKey].variantData;return Object.prototype.hasOwnProperty.call(a,t)};e.prototype.getItemKeys=function(){const t=this._oVariantSet._getVariantSet().variants[this._sVariantKey].variantData;let a;const e=[];for(a in t){if(Object.prototype.hasOwnProperty.call(t,a)){e.push(a)}}e.sort();return e};e.prototype.delItem=function(t){if(typeof t!=="string"){return}const a=this._oVariantSet._getVariantSet().variants[this._sVariantKey].variantData;delete a[t];this._oVariantSet._serialize()};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/VariantSet", ["sap/ushell/utils","sap/ushell/services/_Personalization/constants.private","sap/ushell/services/_Personalization/Variant"],(t,e,a)=>{"use strict";function r(a,r){let n;let i;let s;const o=new t.Map;this._oContextContainer=r;this._sVariantSetKey=a;this._oVariantSetData=this._oContextContainer._getItemValueInternal(e.S_VARIANT_PREFIX,this._sVariantSetKey);if(!Object.prototype.hasOwnProperty.call(this._oVariantSetData,"currentVariant")){throw new t.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ")}if(Object.prototype.hasOwnProperty.call(this._oVariantSetData,"variants")){for(n in this._oVariantSetData.variants){if(Object.prototype.hasOwnProperty.call(this._oVariantSetData.variants,n)){i=this._oVariantSetData.variants[n].name;s=this._oVariantSetData.variants[n].variantData;if(o.containsKey(i)){throw new t.Error("Variant name already exists: sap.ushell.services.Personalization"," ")}else{if(typeof n!=="string"){throw new t.Error("Parameter value of sVariantKey is not a string: sap.ushell.services.Personalization"," ")}if(typeof i!=="string"){throw new t.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ")}if(s&&typeof s!=="object"){throw new t.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ")}o.put(i,n)}}}}else{throw new t.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ")}return this}r.prototype._getVariantSet=function(){return this._oVariantSetData};r.prototype._serialize=function(){this._oContextContainer._setItemValueInternal(e.S_VARIANT_PREFIX,this._sVariantSetKey,this._oVariantSetData)};r.prototype.getCurrentVariantKey=function(){return this._getVariantSet().currentVariant};r.prototype.setCurrentVariantKey=function(t){this._getVariantSet().currentVariant=t;this._serialize()};r.prototype.getVariantKeys=function(){const e=new t.Map;const a=this._getVariantSet(this._sVariantSetKey);let r;if(Object.prototype.hasOwnProperty.call(a,"variants")){for(r in a.variants){if(Object.prototype.hasOwnProperty.call(a.variants,r)){e.put(r,"dummy")}}}else{throw new t.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ")}return e.keys()};r.prototype.getVariantNamesAndKeys=function(){const e=new t.Map;const a=new t.Map;const r=this._getVariantSet(this._sVariantSetKey);let n;let i;if(Object.prototype.hasOwnProperty.call(r,"variants")){for(n in r.variants){if(Object.prototype.hasOwnProperty.call(r.variants,n)){i=r.variants[n].name;if(e.containsKey(i)){throw new t.Error("Variant name already exists: sap.ushell.services.Personalization"," ")}else{e.put(i,n)}a.put(n,"dummy")}}}else{throw new t.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ")}return e.entries};r.prototype.getVariant=function(t){if(typeof t!=="string"){return undefined}const e=this._getVariantSet(this._sVariantSetKey);let r;let n;let i;if(Object.prototype.hasOwnProperty.call(e,"variants")&&Object.prototype.hasOwnProperty.call(e.variants,t)){r=e.variants[t].name;i=e.variants[t].variantData;n=new a(this,t,r,i);return n}return undefined};r.prototype.getVariantKeyByName=function(e){if(typeof e!=="string"){return undefined}const a=this._getVariantSet(this._sVariantSetKey);let r;if(Object.prototype.hasOwnProperty.call(a,"variants")){for(r in a.variants){if(Object.prototype.hasOwnProperty.call(a.variants,r)){if(e===a.variants[r].name){return r}}}}else{throw new t.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ")}return undefined};r.prototype.containsVariant=function(t){const e=this._getVariantSet();if(typeof t!=="string"){return undefined}return Object.prototype.hasOwnProperty.call(e,"variants")&&Object.prototype.hasOwnProperty.call(e.variants,t)};r.prototype.addVariant=function(e){let r=[];let n=0;let i="";let s={};r=this.getVariantKeys();n=parseInt(r.sort((t,e)=>t-e).reverse()[0],10);i=isNaN(n)?"0":(n+1).toString();if(r.indexOf(i)>=0){throw new t.Error(`Variant key '${i}' already exists in variant set${this._sVariantSetKey}': sap.ushell.services.Personalization`," ")}if(typeof e!=="string"){throw new t.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ")}if(this.getVariantKeyByName(e)!==undefined){throw new t.Error(`Variant name '${e}' already exists in variant set '${this._sVariantSetKey}' (Old key: '${this.getVariantKeyByName(e)}' New key: '${i}') ': sap.ushell.services.Personalization`," ")}s=new a(this,i,e);this._getVariantSet(this._sVariantSetKey).variants[i]={name:e,variantData:{}};this._serialize();return s};r.prototype.delVariant=function(t){if(typeof t!=="string"){return}const e=this._getVariantSet();if(e&&e.variants){delete this._oVariantSetData.variants[t]}this._serialize()};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/VariantSetAdapter", ["sap/ushell/services/personalization/VariantSetAdapter","sap/base/Log"],(e,a)=>{"use strict";a.error("sap.ushell.services.Personalization.VariantSetAdapter has been deprecated. Please use sap.ushell.services.personalization.VariantSetAdapter instead");return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/WindowAdapter", ["sap/ushell/services/PersonalizationV2/WindowAdapter"],e=>{"use strict";return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/WindowAdapterContainer", ["sap/ushell/services/PersonalizationV2/WindowAdapterContainer"],e=>{"use strict";return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/constants", [],()=>{"use strict";return{keyCategory:{FIXED_KEY:"FIXED_KEY",GENERATED_KEY:"GENERATED_KEY"},writeFrequency:{HIGH:"HIGH",LOW:"LOW"}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/constants.private", [],()=>{"use strict";return{S_CONTAINER_PREFIX:"sap.ushell.personalization#",S_ITEM_PREFIX:"ITEM#",S_VARIANT_PREFIX:"VARIANTSET#",S_ABAPTIMESTAMPFORMAT:"yyyyMMddHHmmss",S_ADMIN_PREFIX:"ADMIN#",S_ITEMKEY_SCOPE:"sap-ushell-container-scope",S_ITEMKEY_STORAGE:"sap-ushell-container-storageUTCTimestamp",S_ITEMKEY_EXPIRE:"sap-ushell-container-expireUTCTimestamp"}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/utils", ["sap/ushell/services/_Personalization/constants","sap/ushell/services/_Personalization/constants.private","sap/ui/thirdparty/jquery","sap/base/Log"],(e,t,jQuery,n)=>{"use strict";function r(e,t){let n;for(n in t){if(typeof t[n]!=="function"){if(t.hasOwnProperty(n)){if(n===e){return true}}}}return false}function i(e){if(e.length>40){n.error(`Personalization Service container key ("${e}") should be less than 40 characters [current :${e.length}]`)}return t.S_CONTAINER_PREFIX+e}function a(e,t,n){if(e&&e.validity===0){return t}return n}function l(t){const n={validity:Infinity,keyCategory:e.keyCategory.GENERATED_KEY,writeFrequency:e.writeFrequency.HIGH,clientStorageAllowed:false};if(t){n.validity=t.validity;if(n.validity===null||n.validity===undefined||typeof n.validity!=="number"){n.validity=Infinity}if(!(typeof n.validity==="number"&&(n.validity>=0&&n.validity<1e3||n.validity===Infinity))){n.liftime=Infinity}n.keyCategory=r(t.keyCategory,e.keyCategory)?t.keyCategory:n.keyCategory;n.writeFrequency=r(t.writeFrequency,e.writeFrequency)?t.writeFrequency:n.writeFrequency;if(typeof t.clientStorageAllowed==="boolean"&&(t.clientStorageAllowed===true||t.clientStorageAllowed===false)){n.clientStorageAllowed=t.clientStorageAllowed}}return n}function o(e){if(!e.lazy){return jQuery.when(e.instance)}try{return e.create.call(null)}catch(e){return(new jQuery.Deferred).reject(e).promise()}}function u(e){if(!e){return false}const t=e.getManifestObject();if(!t){return false}const n=t.getEntry("/sap.ui5/appVariantId");if(!n){return false}const r=t.getComponentName();if(n===r){return false}return true}function f(e){if(e===undefined){return undefined}try{return JSON.parse(e)}catch(e){return undefined}}function c(e){if(e===undefined){return undefined}try{return JSON.parse(JSON.stringify(e))}catch(e){return undefined}}return{adjustScope:l,cloneToObject:f,clone:c,addContainerPrefix:i,pickAdapter:a,isAppVariant:u,loadAdapter:o}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/appstate/AppState", ["sap/base/Log","sap/ui/thirdparty/jquery"],(t,jQuery)=>{"use strict";function e(){const t=new jQuery.Deferred;this._oServiceInstance._saveAppState(this._sKey,this._sData,this._sAppName,this._sACHComponent,this._bTransient,this._sPersistencyMethod,this._oPersistencySettings).done(()=>{t.resolve()}).fail(e=>{t.reject(e)});return t.promise()}function s(){const t=new jQuery.Deferred;this._oServiceInstance._deleteAppState(this._sKey).done(()=>{t.resolve()}).fail(e=>{t.reject(e)});return t.promise()}function i(i,n,r,a,o,h,c,p,_){this._oServiceInstance=i;this._sKey=n;this._sData=a;this._sAppName=o;this._sACHComponent=h;this._bTransient=c;this._bModifiable=r;this._sPersistencyMethod=p;this._oPersistencySettings=_;if(this._bModifiable){this.setData=function(e){try{this._sData=JSON.stringify(e)}catch(e){t.error("Data can not be serialized",e,"sap.ushell.services.AppState.AppState");this._sData=undefined}};this.save=e.bind(this);this.delete=s.bind(this)}}i.prototype.getData=function(){let e;if(this._sData===undefined||this._sData===""){return undefined}try{e=JSON.parse(this._sData)}catch(e){t.error(`Could not parse [${this._sData}]`,e)}return e};i.prototype.getPersistencyMethod=function(){return this._sPersistencyMethod};i.prototype.getPersistencySettings=function(){return this._oPersistencySettings};i.prototype.getKey=function(){return this._sKey};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/appstate/AppStatePersistencyMethod", [],()=>{"use strict";function t(){this.PersonalState="PersonalState";this.ACLProtectedState="ACLProtectedState";this.PublicState="PublicState";this.AuthorizationProtectedState="AuthorizationProtectedState"}return new t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/appstate/AppStatePersistencySettings", [],()=>{"use strict";function e(e,i,t,s){this.CreatorUserID=e;this.SelectedUserIDs=i;this.RetrievalMapping=t;this.Expiration=s}return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/appstate/LimitedBuffer", [],()=>{"use strict";function t(t){this.index=-1;this.capacity=t;this.array=[]}t.prototype._clear=function(){this.array=[];this.index=-1};t.prototype.addAsHead=function(t,i,e,a){this.index=(this.index+1)%this.capacity;this.array[this.index]={key:t,value:i,persistencyMethod:e,persistencySettings:a}};t.prototype.getByKey=function(t){let i;let e;for(i=0;i<=this.capacity-1;i=i+1){e=(this.capacity+this.index-i)%this.capacity;if(this.array[e]&&this.array[e].key===t){return this.array[e]}}return undefined};t.prototype.deleteByKey=function(t){let i;let e;let a=false;for(i=0;i<=this.capacity-1;i=i+1){e=(this.capacity+this.index-i)%this.capacity;if(this.array[e]&&this.array[e].key===t){delete this.array[e];a=true}}return a};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/appstate/Sequentializer", ["sap/ui/thirdparty/jquery"],jQuery=>{"use strict";function e(){this.oLastPromise=new jQuery.Deferred;this.oLastPromise.resolve()}e.prototype.addToQueue=function(e){const t=new jQuery.Deferred;this.oLastPromise.always(()=>{const s=e();s.done(function(){t.resolve.apply(t,arguments)}).fail(function(){t.reject.apply(t,arguments)})});this.oLastPromise=t;return t.promise()};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/appstate/SequentializingAdapter", ["sap/ushell/services/appstate/Sequentializer"],e=>{"use strict";function t(t){this._oSequentializer=new e;this._oUnderlyingAdapter=t}t.prototype.saveAppState=function(e,t,r,n,i,p,d){const o=this._oUnderlyingAdapter.saveAppState.bind(this._oUnderlyingAdapter,e,t,r,n,i,p,d);return this._oSequentializer.addToQueue(o)};t.prototype.loadAppState=function(e){return this._oUnderlyingAdapter.loadAppState(e)};t.prototype.deleteAppState=function(e){if(this._oUnderlyingAdapter&&this._oUnderlyingAdapter.deleteAppState){return this._oUnderlyingAdapter.deleteAppState(e)}};t.prototype.getSupportedPersistencyMethods=function(){if(this._oUnderlyingAdapter&&this._oUnderlyingAdapter.getSupportedPersistencyMethods){return this._oUnderlyingAdapter.getSupportedPersistencyMethods()}return[]};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/appstate/WindowAdapter", ["sap/ushell/services/appstate/LimitedBuffer","sap/base/Log","sap/ui/thirdparty/jquery"],(e,t,jQuery)=>{"use strict";const o=500;const p=18;function r(){this._init.apply(this,arguments)}r.prototype._init=function(t,p,a){const n=a&&a.config&&a.config.initialAppStates||{};const s=a&&a.config&&a.config.initialAppStatesPromise;this._oServiceInstance=t;this._oBackendAdapter=p;if(!r.prototype.data){r.prototype.data=new e(o)}if(s){s.then(e=>{if(typeof e==="object"){Object.keys(e).forEach(t=>{r.prototype.data.addAsHead(t,e[t])})}})}Object.keys(n).forEach(e=>{r.prototype.data.addAsHead(e,n[e])})};r.prototype.saveAppState=function(e,t,o,p,a,n,s,i){this.sComponent=a;const d=new jQuery.Deferred;r.prototype.data.addAsHead(e,o,s,i);if(this._oBackendAdapter&&!n){return this._oBackendAdapter.saveAppState(e,t,o,p,a,s,i)}d.resolve();return d.promise()};r.prototype._checkIfTransient=function(e){return e.startsWith("TAS")};r.prototype.loadAppState=function(e){const o=new jQuery.Deferred;const a=r.prototype.data.getByKey(e);if(a){setTimeout(()=>{o.resolve(e,a.value,a.persistencyMethod,a.persistencySettings)},0);return o.promise()}try{if(window.opener&&window.opener.sap&&window.opener.sap.ushell){const t=window.opener.sap.ui.require("sap/ushell/services/AppState").WindowAdapter.prototype.data.getByKey(e);if(t){o.resolve(e,t.value);return o.promise()}}}catch(e){if(e.code===p){t.warning("AppState.js - loadAppState: Opener is not of the same origin and cannot be used for AppState resolving.")}else{t.warning("AppState.js - loadAppState: Opener is a FLP but AppState could not get resolved from there.")}}if(this._oBackendAdapter&&!this._checkIfTransient(e)){this._oBackendAdapter.loadAppState(e).done((e,t,p,a)=>{r.prototype.data.addAsHead(e,t);o.resolve(e,t,p,a)}).fail(o.reject.bind(o));return o.promise()}o.reject(new Error("AppState.js - loadAppState: Application State could not be loaded"));return o.promise()};r.prototype.deleteAppState=function(e){const t=new jQuery.Deferred;r.prototype.data.deleteByKey(e);if(this._oBackendAdapter&&this._oBackendAdapter.deleteAppState&&!this._checkIfTransient(e)){return this._oBackendAdapter.deleteAppState(e)}t.resolve();return t.promise()};r.prototype.getSupportedPersistencyMethods=function(){if(this._oBackendAdapter&&this._oBackendAdapter.getSupportedPersistencyMethods){return this._oBackendAdapter.getSupportedPersistencyMethods()}return[]};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/personalization/VariantSetAdapter", ["sap/ushell/services/_Personalization/constants.private","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/VariantSet"],(t,e,n)=>{"use strict";function a(t){this._oContextContainer=t}a.prototype.save=function(){return this._oContextContainer.save()};a.prototype.getVariantSetKeys=function(){const e=this._oContextContainer._getInternalKeys();let n=[];n=e.map(e=>e.replace(t.S_VARIANT_PREFIX,"",""));return n};a.prototype.containsVariantSet=function(t){return this.getVariantSetKeys().indexOf(t)>=0};a.prototype.getVariantSet=function(e){const a=this._oContextContainer._getItemValueInternal(t.S_VARIANT_PREFIX,e);if(!a){return undefined}return new n(e,this._oContextContainer)};a.prototype.addVariantSet=function(a){let i={};let r={};if(this.containsVariantSet(a)){throw new e.Error(`Container already contains a variant set with key '${a}': sap.ushell.services.Personalization`," ")}i={currentVariant:null,variants:{}};this._oContextContainer._setItemValueInternal(t.S_VARIANT_PREFIX,a,i);r=new n(a,this._oContextContainer);return r};a.prototype.delVariantSet=function(e){this._oContextContainer._delItemInternal(t.S_VARIANT_PREFIX,e)};return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/BaseState", ["sap/base/util/deepClone","sap/ushell/state/StrategyFactory","sap/ushell/state/StateManager/LaunchpadState"],(t,a,e)=>{"use strict";class s{#t={};constructor(a){Object.values(e).forEach(e=>{this.#t[e]=t(a)})}updateState(t,e,s,r){if(!t){Object.keys(this.#t).forEach(t=>{a.perform(this.#t[t],e,s,r)});return}a.perform(this.#t[t],e,s,r)}getStateData(a,e){const s=t(this.#t[e]);return s}}return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/BindingHelper", ["sap/ui/core/Element"],t=>{"use strict";class e{overrideUpdateAggregation(t){t.updateAggregation=this.#t}#t(t){const g=this.getBindingInfo(t).model;const i=[...this.getAggregation(t)||[]];i.forEach(e=>{this.removeAggregation(t,e,true)});this.getBinding(t).getCurrentContexts().forEach(i=>{const n=e.prototype.factory("",i);if(!n){return}n.setBindingContext(i,g);this.addAggregation(t,n,true)});this.invalidate()}factory(e,g){return t.getElementById(g.getObject())}}return new e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/ControlManager", ["sap/base/util/deepClone","sap/ui/core/Element"],(t,o)=>{"use strict";class r{#t=[];#o=[];#r=[];addManagedControl(t,o,r){if(!this.#t.includes(t)){this.#t.push(t)}if(r==="home"){o=false}const s=this.#r.includes(t);const e=this.#o.includes(t);if(o&&!e){this.#o.push(t)}else if(!o&&!s){this.#r.push(t)}}updateManagedControl(t,o){if(!this.#t.includes(t)){return}this.addManagedControl(t,o)}removeManagedControl(t){this.#t=this.#t.filter(o=>o!==t);this.#o=this.#o.filter(o=>o!==t);this.#r=this.#r.filter(o=>o!==t)}destroyManagedControls(){this.#o.forEach(t=>{if(this.#r.includes(t)){return}this.destroyManagedControl(t)});this.#o=[]}#s(){this.#t.forEach(t=>{this.destroyManagedControl(t)});this.#t=[]}destroyManagedControl(t){const r=o.getElementById(t);if(r){r.destroy()}}storeList(o={}){o.controlManager={currentControls:t(this.#o)}}restoreList(o={}){const{currentControls:r}=o.controlManager||{};if(r){this.#o=t(r)}else{this.#o=[]}}flushList(){this.#o=[]}destroyFromStorage(t={}){const{currentControls:o}=t.controlManager||{};if(Array.isArray(o)){o.forEach(t=>{this.destroyManagedControl(t)})}}reset(){this.destroy();this.#o=[];this.#r=[]}destroy(){this.#s()}}return new r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/CurrentState", ["sap/base/util/deepClone","sap/ui/base/EventProvider","sap/ushell/state/StrategyFactory"],(t,e,a)=>{"use strict";class s{#t=[];#e=new e;attachStateChange(...t){this.#e.attachEvent("stateChange",...t)}detachStateChange(...t){this.#e.detachEvent("stateChange",...t)}updateState(t,e,a){this.#t.push({path:t,value:a,operation:e})}flushState(){this.#t=[];this.#e.fireEvent("stateChange")}storeState(e){e.currentState={commandList:t(this.#t)}}restoreState(e){const{commandList:a}=e.currentState||{};if(a){this.#t=t(a)}else{this.#t=[]}this.#e.fireEvent("stateChange")}applyState(t){this.#t.forEach(({path:e,value:s,operation:i})=>{a.perform(t,e,i,s)})}reset(){this.destroy();this.#t=[];this.#e=new e}destroy(){this.#e.destroy()}}return new s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/KeepAlive", ["sap/ushell/state/ControlManager","sap/ushell/state/CurrentState"],(t,e)=>{"use strict";class s{store(s){e.storeState(s);t.storeList(s)}restore(s){e.restoreState(s);t.restoreList(s)}flush(){e.flushState();t.flushList()}destroy(e){t.destroyFromStorage(e)}}return new s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/ShellModel", ["sap/base/util/deepClone","sap/ui/model/json/JSONModel","sap/ushell/Config","sap/ushell/utils/RestrictedJSONModel"],(e,o,s,t)=>{"use strict";class l{#e=new t;#o=s.createModel("/core/shell/model",o);constructor(){this.#s(this.#e)}#s(e){const o=e.refresh.bind(e);e.refresh=function e(s){if(s){throw new Error("The shell model does not support force update.")}o()}}updateModel(o){const s=e(o);this.#e._setData(s)}getModel(){return this.#e}getConfigModel(){return this.#o}reset(){this.destroy();this.#e=new t;this.#o=s.createModel("/core/shell/model",o);this.#s(this.#e)}destroy(){this.#e.destroy();this.#o.destroy()}}return new l});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StateManager", ["sap/base/Log","sap/ushell/Config","sap/ushell/state/BaseState","sap/ushell/state/ControlManager","sap/ushell/state/CurrentState","sap/ushell/state/ShellModel","sap/ushell/state/StateRules","sap/ushell/state/StateManager/LaunchpadState","sap/ushell/state/StateManager/Operation","sap/ushell/state/StateManager/ShellMode","sap/ushell/utils"],(e,t,a,s,l,i,n,r,h,d,o)=>{"use strict";const{Default:u,Standalone:p,Lean:g,Minimal:S}=d;class c{#e=o.deepFreeze({sideNavigation:{visible:true},sidePane:{visible:false,items:[]},toolArea:{visible:false,items:[]},rightFloatingContainer:{visible:false,items:[]},floatingContainer:{visible:false,state:"floating",dragSelector:"",items:[]},userActions:{items:[]},floatingActions:{items:[]},header:{visible:true,logo:{src:undefined,alt:undefined},secondTitle:"",headItems:[],centralAreaElement:null,headEndItems:[]},subHeader:{items:[]},footer:{content:""},application:{title:"",titleAdditionalInformation:{headerText:"",additionalContext:"",searchTerm:"",searchScope:""},icon:"",contentDensity:"",subTitle:"",relatedApps:[],hierarchy:[]}});#t=false;#a=r.Home;#s=d.Default;#l=d.Default;#i=null;#n=l;#r=false;#h=false;#d=[];LaunchpadState=r;ShellMode=d;Operation=h;constructor(){this.#o()}#o(){const e=this.#u();this.#l=e;this.#s=e;this.#a=o.isFlpHomeIntent()?r.Home:r.App;this.#i=new a(this.#e);this.#n.attachStateChange(this.#p,this);this.#p()}init(e){if(this.#t){throw new Error("State Manager is already initialized!")}this.#t=true;n.setShellConfig(e);this.#p()}getShellMode(){return this.#l}getLaunchpadState(){return this.#a}switchState(e,t){this.#g(e);const a=t??this.#s;this.#S(a);this.#l=a;this.#a=e;this.#p()}updateBaseStates(e,t,a,s){this.#c(a);this.#f(e);if(this.#h){this.#d.push({handler:this.updateBaseStates.bind(this),args:arguments});return}e.forEach(e=>{this.#i.updateState(e,t,a,s)});this.#p()}updateAllBaseStates(e,t,a){this.updateBaseStates(Object.values(r),e,t,a)}updateCurrentState(e,t,a){this.#c(t);if(this.#h){this.#d.push({handler:this.updateCurrentState.bind(this),args:arguments});return}this.#n.updateState(e,t,a);this.#p()}refreshState(e){const t=i.getModel();const a=t.getBindings();const s=`/${e.replace(/\./g,"/")}`;const l=a.filter(e=>{const t=e.getResolvedPath();if(!t){return false}return t.startsWith(s)});l.forEach(e=>{e.refresh(true)})}addManagedControl(e,t){if(this.#h){this.#d.push({handler:this.addManagedControl.bind(this),flushHandler:(e,t)=>{s.destroyManagedControl(e)},args:arguments});return}s.addManagedControl(e,!t,this.#a)}updateManagedControl(e,t){if(this.#h){this.#d.push({handler:this.updateManagedControl.bind(this),args:arguments});return}s.updateManagedControl(e,!t)}removeManagedControl(e){if(this.#h){this.#d.push({handler:this.removeManagedControl.bind(this),args:arguments});return}s.removeManagedControl(e)}destroyManagedControls(){s.destroyManagedControls()}#p(){if(this.#h||this.#r){return}const e=this.#i.getStateData(this.#l,this.#a);this.#n.applyState(e);n.applyRules(e,this.#l,this.#a);i.updateModel(e)}#u(){let a;const s=new URLSearchParams(window.location.search);if(s.has("sap-ushell-config")){a=s.get("sap-ushell-config")}else{a=t.last("/core/state/shellMode");(()=>{if(s.has("appState")){a=s.get("appState");if(a){e.error("URL parameter 'appState' is given, but deprecated. Please use 'sap-ushell-config' instead!","sap.ushell.renderer.Renderer")}}else{a=t.last("/core/state/shellMode")}})()}a=a?.toLowerCase()??d.Default;try{this.#S(a)}catch(t){e.error(`Error occurred during validation: "${t.message}", Defaulting to default ShellMode`);a=d.Default}return a}stallChanges(){this.#h=true}applyStalledChanges(){this.#h=false;this.#r=true;this.#d.forEach(({handler:e,args:t})=>{e(...t)});this.#d=[];this.#r=false;this.#p()}discardStalledChanges(){this.#h=false;this.#d.forEach(({flushHandler:e,args:t})=>{if(e){e(...t)}});this.#d=[]}reset(){this.#n.detachStateChange(this.#p,this);this.#o();this.#t=false;this.#r=false;this.#h=false;this.#d=[]}resetAll(){n.reset();s.reset();i.reset();this.#n.reset();this.reset()}destroy(){this.#n.detachStateChange(this.#p,this);this.#n.destroy();i.destroy();s.destroy()}#S(e){if(!Object.values(d).includes(e)){throw new Error(`Invalid shell mode: ${e}`)}}#c(e){if(!Object.values(h).includes(e)){throw new Error(`Invalid operation: ${e}`)}}#g(e){if(!Object.values(r).includes(e)){throw new Error(`Invalid launchpad state: ${e}`)}}#f(e){if(!Array.isArray(e)){throw new Error("Launchpad states must be provided as an array!")}if(e.length===0){throw new Error("No launchpad states provided!")}e.forEach(e=>{this.#g(e)})}isLegacyHome(){if(this.getLaunchpadState()!==r.Home){return false}const e=[u,p,g,S];return e.includes(this.getShellMode())}}return new c});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StateManager/LaunchpadState", [],()=>{"use strict";const e={Home:"home",App:"app"};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StateManager/Operation", [],()=>{"use strict";const e={Add:"add",Remove:"remove",Set:"set"};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StateManager/ShellMode", [],()=>{"use strict";const e={Default:"",Standalone:"standalone",Embedded:"embedded",Merged:"merged",Headerless:"headerless",Lean:"lean",Blank:"blank",Minimal:"minimal"};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StateRules", ["sap/base/Log","sap/ushell/state/StateManager/LaunchpadState","sap/ushell/state/StateManager/Operation","sap/ushell/state/StateManager/ShellMode","sap/ushell/state/StrategyFactory"],(e,t,s,n,o)=>{"use strict";const{Default:i,Standalone:r,Embedded:l,Merged:a,Headerless:d,Lean:m,Blank:h,Minimal:f}=n;class u{#e=null;setShellConfig(e){this.#e=e}applyRules(e,t,s){this.#t(e,t,s);this.#s(e);this.#n(e);this.#o(e);this.#i(e)}#t(e,n,u){if(n===d){o.perform(e,"header.visible",s.Set,false)}if(n===d){o.perform(e,"sideNavigation.visible",s.Set,false)}let c;if(u===t.Home){c=![d,l,a].includes(n)}else{c=![d,r,l,a].includes(n)}if(!c){o.perform(e,"header.logo.src",s.Set,undefined)}if(!e.header.logo.src){o.perform(e,"header.logo.alt",s.Set,undefined)}if(u===t.Home){o.perform(e,"header.headItems",s.Remove,"backBtn")}else{const t=[i,r,l,a,m,f].includes(n);if(!t){o.perform(e,"header.headItems",s.Remove,"backBtn")}}const p=[i,r,f,l,m,h,a].includes(n);if(!p){o.perform(e,"header.headEndItems",s.Remove,"userActionsMenuHeaderButton")}let S;if(u===t.Home){S=[i,r,f,m].includes(n)}else{S=[i,f].includes(n)}if(!S){o.perform(e,"userActions.items",s.Remove,"openCatalogBtn")}let g;if(u===t.Home){g=[i,r,f,m].includes(n)}else{g=[i,f].includes(n)}if(!g){o.perform(e,"userActions.items",s.Remove,"userSettingsBtn")}let v;if(u===t.Home){v=[i,r,f,m].includes(n)}else{v=[i,f].includes(n)}if(!v){o.perform(e,"header.headEndItems",s.Remove,"NotificationsCountButton")}}#s(t){if(!this.#e){e.warning("StateRules not initialized: Cannot move UserAction ShellHeader");return}if(this.#e.moveEditHomePageActionToShellHeader){}if(this.#e.moveAppFinderActionToShellHeader){if(t.userActions.items.includes("openCatalogBtn")){o.perform(t,"userActions.items",s.Remove,"openCatalogBtn");o.perform(t,"header.headEndItems",s.Add,"openCatalogBtn")}}if(this.#e.moveUserSettingsActionToShellHeader){if(t.userActions.items.includes("userSettingsBtn")){o.perform(t,"userActions.items",s.Remove,"userSettingsBtn");o.perform(t,"header.headEndItems",s.Add,"userSettingsBtn")}}if(this.#e.moveContactSupportActionToShellHeader){if(t.userActions.items.includes("ContactSupportBtn")){o.perform(t,"userActions.items",s.Remove,"ContactSupportBtn");o.perform(t,"header.headEndItems",s.Add,"ContactSupportBtn")}}}#n(e){if(e.subHeader.items.length>1){const t=[...e.subHeader.items];for(let n=0;n<t.length-1;n++){const i=t[n];o.perform(e,"subHeader.items",s.Remove,i)}}}#o(e){if(e.sidePane.items.length>1){const t=[...e.sidePane.items];for(let n=0;n<t.length-1;n++){const i=t[n];o.perform(e,"sidePane.items",s.Remove,i)}}}#i(e){const t=3;const n=[...e.header.headItems];if(n.length>t){for(let i=t;i<n.length;i++){const t=n[i];o.perform(e,"header.headItems",s.Remove,t)}}}reset(){this.#e=null}}return new u});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StrategyFactory", ["sap/base/util/ObjectPath","sap/ushell/state/StateManager/Operation","sap/ushell/state/StrategyFactory/DefaultStrategy","sap/ushell/state/StrategyFactory/FloatingActionsStrategy","sap/ushell/state/StrategyFactory/FloatingContainerStrategy","sap/ushell/state/StrategyFactory/HeadItemsStrategy","sap/ushell/state/StrategyFactory/HeadEndItemsStrategy","sap/ushell/state/StrategyFactory/SidePaneStrategy","sap/ushell/state/StrategyFactory/SubHeaderStrategy","sap/ushell/state/StrategyFactory/UserActionsStrategy"],(t,e,a,r,s,i,n,o,l,y)=>{"use strict";class d{perform(t,a,r,s){const i=this.#t(a,r);if(r===e.Add||r===e.Remove){this.#e(t,a,s,i);return}this.#a(t,a,s,i)}#e(e,a,r,s){const i=t.get(a,e);if(!i){throw new Error(`Invalid path: ${a}`)}if(!Array.isArray(i)){throw new Error(`The path ${a} does not point to an array.`)}s(i,r)}#a(e,a,r,s){let i;let n;if(a.lastIndexOf(".")<0){i=a;n=e}else{i=a.substring(a.lastIndexOf(".")+1);const r=a.substring(0,a.lastIndexOf("."));n=t.get(r,e)}if(!n||!Object.hasOwn(n,i)){throw new Error(`Invalid path: ${a}`)}s(n,i,r)}#t(t,e){let d;switch(t){case"header.headItems":d=i[e]?.bind(i);break;case"header.headEndItems":d=n[e]?.bind(n);break;case"userActions.items":d=y[e]?.bind(y);break;case"floatingActions.items":d=r[e]?.bind(r);break;case"floatingContainer.items":d=s[e]?.bind(s);break;case"sidePane.items":d=o[e]?.bind(o);break;case"subHeader.items":d=l[e]?.bind(l);break;default:}if(!d){d=a[e]?.bind(a)}return d}}return new d});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StrategyFactory/DefaultStrategy", [],()=>{"use strict";class e{add(e,n){if(n===undefined||n===null){return}if(e.includes(n)){return}e.push(n)}remove(e,n){const i=e.indexOf(n);if(i===-1){return}e.splice(i,1)}set(e,n,i){e[n]=i}}return new e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StrategyFactory/FloatingActionsStrategy", ["sap/base/Log","sap/ui/core/Element"],(i,e)=>{"use strict";class n{add(n,t){if(!e.getElementById(t)){i.warning(`Failed to find control with id '${t}'`);return}if(n.includes(t)){this.#i(n,t)}this.#e(n,t)}#i(i,e){const n=i.indexOf(e);if(n===-1){return}i.splice(n,1)}#e(i,e){i.push(e)}}return new n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StrategyFactory/FloatingContainerStrategy", [],()=>{"use strict";class e{add(e,s){e.splice(0,e.length);e.push(s)}}return new e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StrategyFactory/HeadEndItemsStrategy", ["sap/base/Log","sap/ui/core/Element","sap/ushell/Config","sap/ushell/api/NewExperience"],(e,t,n,s)=>{"use strict";const l=10;class r{add(n,s){if(n.includes(s)){return}if(!t.getElementById(s)){e.warning(`Failed to find control with id '${s}'`);return}if(this.#e([...n,s])){e.error("The maximum number of head end items has been reached. The item could not be added.")}else{this.#t(n,s)}}#e(e){if(n.last("/core/shellBar/enabled")){return false}const t=[...new Set(e)];const s=["endItemsOverflowBtn"];const r=t.filter(e=>!s.includes(e)).length;return r>l}#t(e,t){e.push(t);const n={shellAppTitle:-7,shellBarSpacer:-4,sf:-3,"sap.das.webclientplugin.s4.shellitem":-2,"sap.das.webclientplugin.workzone.shellitem":-2,copilotBtn:-1,NotificationsCountButton:1,endItemsOverflowBtn:2,userActionsMenuHeaderButton:3,productSwitchBtn:4};n[s.getShellHeaderControl()?.getId()]=-5;n[s.getOverflowItemId()]=-6;e.sort((e,t)=>{const s=n[e]||0;const l=n[t]||0;if(s===l){return e.localeCompare(t)}return s-l})}}return new r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StrategyFactory/HeadItemsStrategy", ["sap/base/Log","sap/ui/core/Element"],(e,n)=>{"use strict";const t=3;class s{add(t,s){if(t.includes(s)){return}if(!n.getElementById(s)){e.warning(`Failed to find control with id '${s}'`);return}if(this.#e([...t,s])){e.error("The maximum number of head items has been reached. The item could not be added.")}else{this.#n(t,s)}}#e(e){const n=[...new Set(e)];const s=["backBtn","sideMenuExpandCollapseBtn"];const d=n.filter(e=>!s.includes(e)).length;return d>t}#n(e,n){e.push(n);const t={sideMenuExpandCollapseBtn:-2,backBtn:-1};e.sort((e,n)=>{const s=t[e]||0;const d=t[n]||0;return s-d})}}return new s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StrategyFactory/SidePaneStrategy", ["sap/base/Log","sap/ui/core/Element"],(e,i)=>{"use strict";class n{add(n,t){if(!i.getElementById(t)){e.warning(`Failed to find control with id '${t}'`);return}if(n.includes(t)){this.#e(n,t)}this.#i(n,t)}#e(e,i){const n=e.indexOf(i);if(n===-1){return}e.splice(n,1)}#i(e,i){e.push(i)}}return new n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StrategyFactory/SubHeaderStrategy", ["sap/base/Log","sap/ui/core/Element"],(e,d)=>{"use strict";class i{add(i,r){if(!d.getElementById(r)){e.warning(`Failed to find control with id '${r}'`);return}if(i.includes(r)){this.#e(i,r)}this.#d(i,r)}#e(e,d){const i=e.indexOf(d);if(i===-1){return}e.splice(i,1)}#d(e,d){e.push(d)}}return new i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StrategyFactory/UserActionsStrategy", [],()=>{"use strict";class t{add(t,n){if(t.includes(n)){return}t.push(n);const e={userSettingsBtn:-7,recentActivitiesBtn:-6,frequentActivitiesBtn:-5,openCatalogBtn:-4,ActionModeBtn:-3,EditModeBtn:-2,ContactSupportBtn:-1,dataPrivacyBtn:1,aboutBtn:2,logoutBtn:3};t.sort((t,n)=>{const i=e[t]||0;const s=e[n]||0;return i-s})}}return new t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/modules/BackNavigation", ["sap/ui/core/library","sap/ui/core/routing/History"],(t,i)=>{"use strict";const n=t.routing.HistoryDirection;function e(){let t;this.isBackNavigation=function(){return i.getInstance().getDirection()===n.Backwards};this.navigateBack=async function(){if(t){t();return}window.history.back()};this.setNavigateBack=function(i){t=i};this.resetNavigateBack=function(){t=undefined};this.restore=function(i){t=i.fnCustomBackNavigation};this.store=function(i){i.fnCustomBackNavigation=t};this.reset=function(){t=undefined}}return new e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/modules/ContentDensity", ["sap/ui/Device","sap/ushell/Container","sap/ushell/EventHub","sap/ushell/services/AppConfiguration","sap/ushell/state/StateManager"],(t,e,n,i,s)=>{"use strict";const a=s.Operation;class o{#t=()=>{throw new Error("ContentDensity is not initialized")};#e=false;#n=[];constructor(){this.#i()}async init(){if(this.#e){return}this.#e=true;this.#t=this.#s.bind(this);this.#n.push(n.on("toggleContentDensity").do(this.#t));const t=await e.getServiceAsync("AppLifeCycle");t?.attachAppLoaded(this.#t);await this.#s();s.refreshState("application.contentDensity")}#i(){const t=this.#a();const e=this.#o();if(t.length===1){s.updateAllBaseStates("application.contentDensity",a.Set,t[0]);s.updateCurrentState("application.contentDensity",a.Set,t[0]);return}s.updateAllBaseStates("application.contentDensity",a.Set,e);s.updateCurrentState("application.contentDensity",a.Set,e)}async resetContentDensity(){await this.#s()}async#s(){const t=await this.#c();const e=this.#p();const n=this.#a();const i=this.#o();if(n.length===1){s.updateAllBaseStates("application.contentDensity",a.Set,n[0]);s.updateCurrentState("application.contentDensity",a.Set,n[0]);return}const o=t||i;let c;if(e.length===1){c=e[0]}else{c=o}s.updateAllBaseStates("application.contentDensity",a.Set,o);s.updateCurrentState("application.contentDensity",a.Set,c)}#o(){if(t.support.touch){return"cozy"}return"compact"}#a(){if(!t.system.desktop&&!t.system.combi){return["cozy"]}return["cozy","compact"]}#p(){const t=i.getMetadata();const e=[];if(t.cozyContentDensity){e.push("cozy")}if(t.compactContentDensity){e.push("compact")}return e}async#c(){const t=await e.getServiceAsync("UserInfo");const n=t.getUser();return n?.getContentDensity()}async reset(){const t=await e.getServiceAsync("AppLifeCycle");t?.detachAppLoaded(this.#t);this.#n.forEach(t=>t.off());this.#t=()=>{throw new Error("Favicon is not initialized")};this.#e=false;this.#n=[]}}return new o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/modules/Favicon", ["sap/ui/core/Theming","sap/ui/util/Mobile","sap/ushell/Config","sap/ushell/utils"],(e,i,t,s)=>{"use strict";class a{#e=()=>{throw new Error("Favicon is not initialized")};#i=false;#t=[];init(){if(this.#i){return}this.#i=true;this.#e=this.#s.bind(this);e.attachApplied(this.#e);this.#t.push(t.on("/core/shell/favIcon").do(this.#e))}async#a(){let e;let i=false;const[a]=await s.getThemingParameters(["sapUiShellFavicon"]);if(a){const t=/url[\s]*\('?"?([^'")]*)'?"?\)/.exec(a);if(t){e=t[1];i=true}else if(a!=="''"&&a!=="none"){e=a}}const n=t.last("/core/shell/favIcon");if(!e&&n){e=n;i=true}if(!e){const i=sap.ui.require.toUrl("sap/ushell");e=`${i}/themes/base/img/launchpad_favicon.ico`}return{favicon:e,isCustomFavicon:i}}async#s(){const{favicon:e,isCustomFavicon:t}=await this.#a();let s;if(t){s={phone:e,"phone@2":e,tablet:e,"tablet@2":e,favicon:e,precomposed:false}}else{const i=sap.ui.require.toUrl("sap/ushell");s={phone:`${i}/themes/base/img/launchicons/phone-icon_120x120.png`,"phone@2":`${i}/themes/base/img/launchicons/phone-retina_180x180.png`,tablet:`${i}/themes/base/img/launchicons/tablet-icon_152x152.png`,"tablet@2":`${i}/themes/base/img/launchicons/tablet-retina_167x167.png`,favicon:e,precomposed:false}}i.setIcons(s)}reset(){e.detachApplied(this.#e);this.#t.forEach(e=>e.off());this.#e=()=>{throw new Error("Favicon is not initialized")};this.#i=false;this.#t=[]}}return new a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/modules/HeaderLogo", ["sap/base/i18n/Localization","sap/base/Log","sap/ui/core/Theming","sap/ushell/Config","sap/ushell/resources","sap/ushell/state/StateManager","sap/ushell/utils"],(t,e,o,s,i,a,n)=>{"use strict";const r=a.Operation;const l=sap.ui.require.toUrl("sap/ushell/themes/base/img/SAPLogo.svg");class c{#t=()=>{throw new Error("Favicon is not initialized")};#e=false;#o=[];init(){if(this.#e){return}this.#e=true;this.#t=this.#s.bind(this);o.attachApplied(this.#t);this.#o.push(s.on("/core/companyLogo/url").do(this.#t));this.#o.push(s.on("/core/companyLogo/accessibleText").do(this.#t))}async#i(){const t=s.last("/core/companyLogo/url");if(t){return t}const[e]=await n.getThemingParameters(["sapUiGlobalLogo"]);if(e){if(e==="none"){return l}const t=/url[\s]*\('?"?([^'")]*)'?"?\)/.exec(e);if(t){return t[1]}return""}return l}#a(o){if(!o){return""}if(o===l){return i.i18n.getText("sapLogoText")}const a=i.i18n.getText("SHELL_LOGO_TOOLTIP");let n;const r=s.last("/core/companyLogo/accessibleText");if(r){try{const e=JSON.parse(r);if(e){const o=t.getLanguage();n=e[o];if(!n){Object.keys(e).forEach(t=>{if(t.startsWith(o)){n=e[t]}})}if(!n){Object.keys(e).forEach(t=>{if(o.startsWith(t)){n=e[t]}})}if(!n){n=e.default}}}catch(t){e.warning(`Custom logo image ALT text is not a JSON string: '${r}'`,t);n=r}}return n||a}async#s(){const t=await this.#i();const e=this.#a(t);a.updateAllBaseStates("header.logo.src",r.Set,t);a.updateAllBaseStates("header.logo.alt",r.Set,e)}reset(){o.detachApplied(this.#t);this.#o.forEach(t=>t.off());this.#t=()=>{throw new Error("Favicon is not initialized")};this.#e=false;this.#o=[]}}return new c});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/support/plugins/flpConfig/FlpConfigurationPlugin", ["sap/ui/core/Element","sap/ui/core/Lib","sap/ui/core/RenderManager","sap/ui/core/support/Plugin","sap/ui/model/json/JSONModel","sap/m/Button","sap/m/IconTabBar","sap/m/IconTabFilter","sap/m/Label","sap/m/Text","sap/m/MessageStrip","sap/m/FlexBox","sap/ui/model/resource/ResourceModel","sap/m/SearchField","sap/m/MessageBox","sap/base/util/isEmptyObject"],(e,t,n,i,o,r,s,a,l,p,u,f,c,g,d,y)=>{"use strict";const h="SAP Fiori launchpad configuration";const b=new c({async:true,bundleName:"sap/ushell/support/plugins/flpConfig/i18n/FlpConfigurationPlugin"});let E;b.getResourceBundle().then(e=>{E=e});const I=i.extend("sap.ushell.support.plugins.flpConfig.FlpConfigurationPlugin",{constructor:function(e){i.apply(this,["sapUiFlpConfigurationPlugin",h,e]);this._oSupportStub=e;if(this.runsAsToolPlugin()){this._aEventIds=[`${this.getId()}ReceiveData`]}else{this._aEventIds=[`${this.getId()}RequestData`]}}});I.prototype.isToolPlugin=function(){return true};I.prototype.isAppPlugin=function(){return true};I.prototype.init=function(){i.prototype.init.apply(this,arguments);if(this.runsAsToolPlugin()){setTimeout(()=>{this.requestData()},500);const e=(new n).getInterface();e.openStart("div",this.getId());e.openEnd();e.close("div");e.flush(this.dom());e.destroy()}else{}};I.prototype.exit=function(){i.prototype.exit.apply(this,arguments)};I.prototype.requestData=function(){this._oSupportStub.sendEvent(`${this.getId()}RequestData`,{eventData:{data:{}}})};I.prototype.onsapUiFlpConfigurationPluginRequestData=function(e){const t={};this.prepareForSending(window["sap-ushell-config"],t);this._oSupportStub.sendEvent(`${this.getId()}ReceiveData`,{eventData:{data:t}})};I.prototype.onsapUiFlpConfigurationPluginReceiveData=async function(e){this.flpConfig=e.getParameter("eventData").data;await t.load("sap.ui.table");sap.ui.require(["sap/ui/table/TreeTable","sap/ui/table/Column","sap/ui/table/library"],(e,t,n)=>{this.getFlpConfigurationPluginUI(null,e,t,n.SelectionMode)})};function m(e,t){let n=0;if(e[t]){e[t].forEach(e=>{const i=m(e,t);if(i>n){n=i}})}return n+1}function C(){let t=0;const n=e.getElementById("sap-ui-support-flpConfigurationPlugin-TabBar").getSelectedKey();const i=e.getElementById("sap-ui-support-flpConfigurationPlugin-TabBar").getModel().getData();if(Array.isArray(i[n])){i[n].forEach((e,o)=>{const r=m(i[n][o],n);if(t<r){t=r}});if(t>0){e.getElementById(`sap-ui-support-flpConfigurationPlugin-TreeTable${n}`).expandToLevel(t-1)}else{d.error(new l({text:E.getText("MISSING_HIERARCHY_LEVEL")}))}}}function T(){const t=e.getElementById("sap-ui-support-flpConfigurationPlugin-TabBar").getSelectedKey();e.getElementById(`sap-ui-support-flpConfigurationPlugin-TreeTable${t}`).collapseAll()}function P(e,t,n,i,o){e.forEach((e,r)=>{if(e[t]){n=`${n}.${r}.${t}`;n=P(e[t],t,n,i,o)}else if(e.property.indexOf(o)>-1){n=`${n}.${r}`;i.push(n);n=n.substring(0,n.lastIndexOf("."))}});n=n.substring(0,n.lastIndexOf("."));if(isNaN(parseInt(n.substr(n.lastIndexOf(".")+1),10))){return n}return n.substring(0,n.lastIndexOf("."))}function w(e,t){for(let n=0;n<t.length;n++){if(e){e=e[t[n]]}}return e}function B(e,t,n){const i=n.split(",");for(let t=0;t<i.length-1;t++){e=e[i[t]]}e[i[i.length-1]]=t}function S(e,t,n){if(Array.isArray(e)){e.forEach(e=>{if(e[t]){n=S(e[t],t,n)}else{n+=1}});return n}return undefined}function x(e,t,n,i,o){if(t.length===1){e[t[0]]=n}else{const r=t.shift();e[r]=x(typeof e[r]==="undefined"?{}:e[r],t,n,i,o)}if(e[i]&&e.property&&e.value){delete e.value;e.property=""}return e}I.prototype.onPressSearchNewModel=function(t){let n;let i;let r;let s;let a;let l;let p;let u;let f;let c=[];const g={};let d="";const y={};const h={};let b=e.getElementById("sap-ui-support-flpConfigurationPlugin-TabBar").getModel("Full");const E=t.getParameter("query");if(!b){b=e.getElementById("sap-ui-support-flpConfigurationPlugin-TabBar").getModel().getData()}else{b=b.getData()}Object.keys(b).forEach(e=>{g[e]=0});if(E){for(const e in b){d=e;n=[];P(b[e],e,d,n,E);h[e]=n}Object.keys(h).forEach(e=>{s=h[e];for(let e=0;e<s.length;e++){a=s[e].split(".");l=[];for(let e=0;e<a.length;e++){if(!isNaN(parseInt(a[e],10))){l.push(parseInt(a[e],10))}else{l.push(a[e])}}for(let e=0;e<l.length;e+=2){p={property:""};p[l[0]]=[];if(isNaN(parseInt(l[e],10))){i=l.slice(0,e+1);if(!w(y,i)&&typeof w(y,l.slice(0,l.length-2))!=="object"){x(y,i,[p],l[0],i.length)}f=w(b,l.slice(0,e+2));if(f&&w(y,l.slice(0,e+2))){B(y,f.property,`${l.slice(0,e+2).toString()},property`)}else if(e!==l.length-2){c.push(l.slice(0,e+2).toString())}}}r=l.slice(0);x(y,l,{property:"",value:""},l[0],i.length);f=w(b,r);if(f){B(y,f.value,`${r.toString()},value`);B(y,f.property,`${r.toString()},property`)}}c.forEach(e=>{f=w(b,e.split(","));if(f&&w(y,e.split(","))){B(y,f.property,`${e},property`)}});c=[];if(y[e]&&Array.isArray(y[e][0][e])&&y[e][0][e].length===0){y[e]=y[e].splice(1)}});e.getElementById("sap-ui-support-flpConfigurationPlugin-TabBar").setModel(new o(y));e.getElementById("sap-ui-support-flpConfigurationPlugin-TabBar").setModel(new o(b),"Full");let t=0;Object.keys(g).forEach(n=>{u=n;if(y[u]&&Array.isArray(y[u])){y[u].forEach((e,n)=>{const i=m(y[u][n],u);if(t<i){t=i}})}e.getElementById(`sap-ui-support-flpConfigurationPlugin-TreeTable${n}`).expandToLevel(t-1);e.getElementById(n).setCount(S(y[n],n,0))})}else{Object.keys(g).forEach(t=>{e.getElementById(t).setCount(S(b[t],t,0))});e.getElementById("sap-ui-support-flpConfigurationPlugin-TabBar").setModel(new o(b))}};function A(e,t){if(typeof e!=="object"){return[{property:t,value:e}]}return Object.keys(e).map(n=>{const i={property:n};const o=e[n];if(typeof o==="object"&&o!==null&&!y(o)&&!Array.isArray(o)){i[t]=A(o,t);return i}try{i.value=JSON.stringify(o)}catch(e){i.value=o}return i})}I.prototype.prepareForSending=function(e,t){Object.keys(e).forEach(n=>{const i=e[n];switch(typeof i){case"object":if(i===null){t[n]=i;return}else if(Array.isArray(i)){t[n]=[]}else{t[n]={}}this.prepareForSending(e[n],t[n]);break;case"undefined":t[n]="undefined";return;case"function":return;default:t[n]=e[n];return}})};I.prototype.getNewConfigJSON=function(e){const t={};Object.keys(e).forEach(n=>{t[n]=A(e[n],n)});return t};I.prototype.getFlpConfigurationPluginUI=function(t,n,i,c){let d;const h={};const I=this.getNewConfigJSON(this.flpConfig);const m=new o(I);for(const e in I){h[e]=S(I[e],e,0)}if(!e.getElementById("sap-ui-support-flpConfigurationPlugin-TabBar")){if(!I||y(I)){new u({text:E.getText("ERROR_MESSAGE"),type:"Warning",showIcon:true,showCloseButton:false}).placeAt(this.getId())}else{d=new s("sap-ui-support-flpConfigurationPlugin-TabBar",{headerMode:"Inline"});Object.keys(this.flpConfig).forEach((e,t)=>{d.insertItem(new a(e,{key:e,text:e,count:h[e],content:[new n(`sap-ui-support-flpConfigurationPlugin-TreeTable${e}`,{rows:`{/${e}/}`,selectionMode:c.None,enableCellFilter:true,extension:[new f({items:[new r({icon:"sap-icon://expand",text:"{i18n>EXPAND_BUTTON}",press:C}),new r({icon:"sap-icon://collapse",text:"{i18n>COLLAPSE_BUTTON}",press:T})]})],columns:[new i({label:new l({text:"{i18n>COLUMN_PROPERTY}"}),template:new p({text:"{property}"})}),new i({label:new l({text:"{i18n>COLUMN_VALUE}"}),template:new p({text:"{value}"})})]})]}),t)});const e=new g({search:this.onPressSearchNewModel});e.placeAt(this.getId());d.setModel(m);d.setModel(b,"i18n");d.placeAt(this.getId())}}};return I});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/ContentNodeSelector", ["./ContentNodeSelectorRenderer","sap/base/util/deepClone","sap/m/Column","sap/m/ColumnListItem","sap/m/Label","sap/m/MultiInput","sap/m/Token","sap/ui/core/Element","sap/ui/core/Fragment","sap/ui/core/Control","sap/ui/Device","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/json/JSONModel","sap/ushell/Config","sap/ushell/Container","sap/ushell/library","sap/ushell/resources"],(e,t,n,o,s,i,l,a,r,c,d,p,u,g,h,_,y,f)=>{"use strict";const m=y.ContentNodeType;const b=c.extend("sap.ushell.ui.ContentNodeSelector",{metadata:{library:"sap.ushell",aggregations:{content:{type:"sap.m.MultiInput",multiple:false,visibility:"hidden"}},associations:{labelId:{type:"sap.ui.core.Control",multiple:false}},events:{selectionChanged:{},valueHelpEndButtonPressed:{}}},renderer:e});b.prototype.init=function(){this._oModel=new g({items:[],suggestions:[],isSpaces:h.last("/core/spaces/enabled")});this._oDeviceModel=new g(d);this.setModel(this._oModel,"_internal");this.setModel(this._oDeviceModel,"_device");this.setModel(f.i18nModel,"_i18n");if(!this.getAggregation("content")){const e=this._createMultiInput();this.setAggregation("content",e)}this.setBusyIndicatorDelay(0);this._loadContentNodes().then(this._overwriteLabel.bind(this))};b.prototype._createMultiInput=function(){const e=new i({ariaLabelledBy:this.getLabelId(),valueHelpRequest:this._showValueHelp.bind(this),tokenUpdate:this._onTokenUpdate.bind(this),required:true,suggestionColumns:[new n({header:new s({text:"{= ${_internal>/isSpaces} ? ${_i18n>contentNodeSelectorPage} : ${_i18n>contentNodeSelectorHomepageGroup}}"})}),new n({visible:"{= ${_internal>/isSpaces}}",header:new s({text:"{_i18n>contentNodeSelectorSpace}"})})],suggestionRows:{path:"_internal>/suggestions",template:new o({cells:[new s({text:"{_internal>label}"}),new s({visible:"{_internal>/isSpaces}",text:"{= ${_internal>spaceTitles}.join(', ')}"})]}),templateShareable:false}});e.addValidator(this._validateItem.bind(this));return e};b.prototype._overwriteLabel=function(){const e=this.getLabelId();const t=a.getElementById(e);if(t&&typeof t.setText==="function"){if(this._oModel.getProperty("/isSpaces")){t.setText(f.i18n.getText("contentNodeSelectorHomepagePages"))}else{t.setText(f.i18n.getText("contentNodeSelectorHomepageGroups"))}}if(t&&typeof t.setRequired==="function"&&t.isPropertyInitial("required")){t.setRequired(true)}};b.prototype.exit=function(){this._oModel.destroy();this._oDeviceModel.destroy()};b.prototype.setLabelId=function(e){this.setAssociation("labelId",e);this._overwriteLabel();const t=this.getAggregation("content");if(t){t.addAriaLabelledBy(e)}return this};b.prototype.getSelectedContentNodes=function(){const e=this.getAggregation("content");const n=e.getTokens();return n.map(e=>{const n=e.getBindingContext("_internal").getObject();const o=t(n);delete o.selected;delete o.spaceTitles;return o})};b.prototype._getMyHomeEnablement=function(){return new Promise((e,t)=>{const n=h.last("/core/spaces/myHome/enabled");const o=_.getUser().getShowMyHome();e(n&&o)})};b.prototype._filterPersonalizableContentNodes=function(e){if(!Array.isArray(e)){return[]}return e.reduce((e,t)=>{if(this._bShowOnlyMyHome&&t.id!==this._sMyHomeSpaceId&&t.id!==this._sMyHomePageId){return e}t.children=this._filterPersonalizableContentNodes(t.children);if(t.type===m.HomepageGroup||t.type===m.Space&&t.children.length||t.type===m.Page&&t.isContainer){e.push(t)}return e},[])};b.prototype._loadContentNodes=function(){this.setBusy(true);return Promise.all([_.getServiceAsync("BookmarkV2"),this._getMyHomeEnablement()]).then(e=>{const n=e[0];const o=e[1];const s=h.last("/core/shell/enablePersonalization");this._bShowOnlyMyHome=!s&&o;this._sMyHomeSpaceId=h.last("/core/spaces/myHome/myHomeSpaceId");this._sMyHomePageId=h.last("/core/spaces/myHome/myHomePageId");return n.getContentNodes().then(e=>{e=t(e);e=this._filterPersonalizableContentNodes(e);b._normalizeContentNodes(e);this._oModel.setProperty("/items",e);const n=b._getSuggestions(e);for(let e=0;e<n.length;e++){n[e].selected=false}this._oModel.setProperty("/suggestions",n);this.setBusy(false)})})};b.prototype._showValueHelp=function(e){const t=e.getSource();const n=t.getValue();if(!this._oValueHelpDialog){r.load({id:`${this.getId()}-ValueHelpDialog`,name:"sap.ushell.ui.ContentNodeSelectorValueHelp",controller:this}).then(e=>{this.addDependent(e);this._oValueHelpDialog=e;this._openValueHelpDialog(n)})}else{this._openValueHelpDialog(n)}};b.prototype._openValueHelpDialog=function(e){const t=r.byId(`${this.getId()}-ValueHelpDialog`,"ContentNodesTree");t.expandToLevel(1);this._oValueHelpDialog.open();const n=r.byId(`${this.getId()}-ValueHelpDialog`,"ContentNodesSearch");n.setValue(e);this._onValueHelpSearch()};b.prototype._onValueHelpSearch=function(){const e=r.byId(`${this.getId()}-ValueHelpDialog`,"ContentNodesSearch");const t=e.getValue();const n=r.byId(`${this.getId()}-ValueHelpDialog`,"ContentNodesTree");const o=n.getBinding("items");o.filter(new p({path:"label",operator:u.Contains,value1:t}))};b.prototype._onValueHelpBeginButtonPressed=function(){const e=r.byId(`${this.getId()}-ValueHelpDialog`,"ContentNodesTree");const t=e.getSelectedContextPaths();const n=this.getAggregation("content");n.destroyTokens();let o;let s;for(let e=0;e<t.length;e++){s=t[e];const i=this.getModel("_internal");const l=n.getAggregation("tokens").map(e=>e.getProperty("key")).indexOf(i.getProperty(s).id);if(l<0){o=this._createToken(s);n.addValidateToken({token:o})}}n.setValue("");this._oValueHelpDialog.close()};b.prototype._onValueHelpEndButtonPressed=function(){this.fireValueHelpEndButtonPressed();this._oValueHelpDialog.close()};b.prototype._onTokenUpdate=function(e){const t=e.getParameter("addedTokens");const n=e.getParameter("removedTokens");this._setTokensSelected(t,true);this._setTokensSelected(n,false);setTimeout(this.fireSelectionChanged.bind(this),0)};b.prototype._setTokensSelected=function(e,t){let n;for(let o=0;o<e.length;o++){n=e[o].getBindingContext("_internal");n.getModel().setProperty(n.getPath("selected"),t)}};b.prototype._validateItem=function(e){if(e.suggestedToken){return e.suggestedToken}const t=e.suggestionObject;if(!t){return null}const n=t.getBindingContext("_internal");return this._createToken(n.getPath())};b.prototype._createToken=function(e){const t=new l({key:"{_internal>id}",text:"{_internal>label}"});t.bindObject({path:e,model:"_internal"});return t};b._getSuggestions=function(e){const t=[];b._getChildren(e,t);return t};b._getChildren=function(e,t){let n;for(let o=0;o<e.length;o++){n=e[o];if(n.isContainer&&t.indexOf(n)===-1){t.push(n)}if(n.children){b._getChildren(n.children,t)}}};b._normalizeContentNodes=function(e){const t={};b._visitPages(e,(e,n)=>{n.spaceTitles=n.spaceTitles||[];if(t[n.id]){t[n.id].spaceTitles.push(e.label);return t[n.id]}n.spaceTitles.push(e.label);t[n.id]=n;return n})};b._visitPages=function(e,t){if(e===undefined||e===null){return}for(let n=0;n<e.length;n++){const o=e[n];if(o.type!==m.Space){return}if(o.children){for(let e=0;e<o.children.length;e++){const n=o.children[e];o.children[e]=t(o,n)}}}};b.prototype.clearSelection=function(){const e=this.getAggregation("content");const t=e.getTokens();t.forEach(e=>{const t=e.getBindingContext("_internal");this._oModel.setProperty(t.getPath("selected"),false)});e.destroyTokens()};b.prototype.setValueState=function(e){const t=this.getAggregation("content");t.setValueState(e)};b.prototype.setValueStateText=function(e){const t=this.getAggregation("content");t.setValueStateText(e)};return b});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/ContentNodeSelectorRenderer", [],()=>{"use strict";const e={apiVersion:2};e.render=function(e,n){e.openStart("div",n);e.openEnd();e.renderControl(n.getAggregation("content"));e.close("div")};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/ContentNodeTreeItem", ["sap/m/StandardTreeItem"],e=>{"use strict";const t=e.extend("sap.ushell.ui.bookmark.ContentNodeTreeItem",{metadata:{library:"sap.ushell",properties:{selectable:{type:"boolean",defaultValue:true,group:"Behavior"}}},renderer:e.getMetadata().getRenderer()});t.prototype.setSelected=function(t){this._bSelected=t;return e.prototype.setSelected.apply(this,arguments)};t.prototype.setSelectable=function(t){this.setProperty("selectable",t,false);if(t){e.prototype.setSelected.call(this,this._bSelected)}return this};t.prototype.isSelectable=function(){return this.getSelectable()};t.prototype.getModeControl=function(){if(!this.getSelectable()){return null}return e.prototype.getModeControl.apply(this,arguments)};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/CustomGroupHeaderListItem", ["sap/m/GroupHeaderListItem","sap/m/Text","./CustomGroupHeaderListItemRenderer"],(t,e,i)=>{"use strict";const s=t.extend("sap.ushell.ui.CustomGroupHeaderListItem",{metadata:{library:"sap.ushell",properties:{description:{type:"string",group:"Data",defaultValue:null}},aggregations:{_titleText:{type:"sap.m.Text",multiple:false,visibility:"hidden"},_descriptionText:{type:"sap.m.Text",multiple:false,visibility:"hidden"}}},renderer:i});s.prototype.setTitle=function(t){this.setProperty("title",t);const i=this.getAggregation("_titleText");if(i){i.setText(t)}else{this.setAggregation("_titleText",new e({text:t}),true)}};s.prototype.setDescription=function(t){this.setProperty("description",t);const i=this.getAggregation("_descriptionText");if(i){i.setText(t)}else{this.setAggregation("_descriptionText",new e({text:t}),true)}};s.prototype.getContentAnnouncement=function(){return`${this.getTitle()}, ${this.getDescription()}`};s.prototype.setCount=function(){return this};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/CustomGroupHeaderListItemRenderer", ["sap/ui/core/library","sap/ui/core/Renderer","sap/m/GroupHeaderListItemRenderer","sap/ushell/library"],(e,t,r,n)=>{"use strict";const s=e.TextDirection;const i=t.extend(r);i.apiVersion=2;i.renderLIAttributes=function(e,t){r.renderLIAttributes(e,t);e.class("sapUshellCGHLIContent")};i.renderLIContent=function(e,t){const r=t.getTitleTextDirection();e.openStart("span");e.class("sapMGHLITitle");if(r!==s.Inherit){e.attr("dir",r.toLowerCase())}e.openEnd();e.renderControl(t.getAggregation("_titleText"));if(t.getDescription()){e.voidStart("br");e.voidEnd();e.openStart("span");e.class("sapUshellCGHLIDescription");e.openEnd();e.renderControl(t.getAggregation("_descriptionText"));e.close("span")}e.close("span")};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/QuickAccess", ["sap/ui/core/Element","sap/ui/core/Fragment","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ui/thirdparty/hasher","sap/ushell/library","sap/ushell/Config","sap/ushell/Container","sap/ushell/resources","sap/ushell/utils","sap/ushell/utils/WindowUtils","sap/ushell/utils/AppType","sap/ushell/EventHub","sap/ushell/api/performance/Extension","sap/ushell/api/performance/NavigationSource"],(e,t,s,i,n,c,o,a,l,r,u,p,h,g,d)=>{"use strict";const f=c.AppType;const A={oExtension:new g,oModel:new i({recentActivities:[],frequentActivities:[]}),oQuickAccessDialog:null,_createQuickAccessDialog:async function(s){const i=await t.load({name:"sap.ushell.ui.QuickAccess",type:"XML",controller:this});i.setModel(this.oModel);i.attachAfterClose(this._onAfterClose.bind(this,s));e.getElementById("mainShell").addDependent(i);this.oQuickAccessDialog=i;return i},_onAfterClose:function(t){this.oQuickAccessDialog.destroy();if(s.system.desktop){const s=e.getElementById(t);if(s){s.focus()}else{sap.ui.require(["sap/ushell/components/ComponentKeysHandler"],e=>{e.getInstance().then(e=>{e.goToLastVisitedTile()})})}}},_updateQuickAccessDialog:async function(e){const t=e.getContent()[0];t.setBusy(true);const s=await a.getServiceAsync("UserRecents");const i=await new Promise(e=>{s.getRecentActivity().then(t=>{e(t.map(e=>{e.timestamp=r.formatDate(e.timestamp);return e}))}).catch(()=>{e([])})});const n=await new Promise(e=>{s.getFrequentActivity().then(t=>{e(t)}).catch(()=>{e([])})});this.oModel.setData({recentActivities:i,frequentActivities:n});this._setDialogContentHeight(e,Math.max(i.length,n.length));t.setBusy(false)},_setDialogContentHeight:function(e,t){let s=(t+.5)*4+2.75;if(s<18){s=18}else if(s>42){s=42}e.setContentHeight(`${s}rem`)},_closeDialog:function(){this.oQuickAccessDialog.close()},_titleFormatter:function(e,t){if(t===f.SEARCH){e=`"${e}"`}return e},_descriptionFormatter:function(e){if(e===f.SEARCH){return l.i18n.getText("recentActivitiesSearchDescription")}return p.getDisplayName(e)},_itemPress:function(e){const t=e.getParameter("listItem").getBindingContextPath();const s=this.oModel.getProperty(t);this.oExtension.addNavigationSource(/recentActivities/.test(t)?d.RecentlyUsed:d.FrequentlyUsed);h.emit("UITracer.trace",{reason:"LaunchApp",source:"Link",data:{targetUrl:s.url}});if(s.url[0]==="#"){n.setHash(s.url);this._closeDialog()}else{const e=o.last("/core/shell/enableRecentActivity")&&o.last("/core/shell/enableRecentActivityLogging");if(e){const e={title:s.title,appType:f.URL,url:s.url,appId:s.url};a.getRendererInternal("fiori2").logRecentActivity(e)}u.openURL(s.url,"_blank")}}};return{openQuickAccessDialog:async function(e,t){const s=await A._createQuickAccessDialog(t);const i=s.getContent()[0];A._updateQuickAccessDialog(s);i.setSelectedKey(e);s.setInitialFocus(e);s.open()},_getQuickAccess:function(){return A}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/ShellHeader", ["sap/base/i18n/Localization","sap/ui/core/Control","sap/ui/core/Element","sap/ui/Device","sap/ui/dom/units/Rem","sap/ui/thirdparty/hasher","sap/base/Log","sap/ushell/api/NewExperience","sap/ushell/EventHub","sap/ushell/library","sap/ushell/ui/ShellHeaderRenderer","sap/ushell/utils","sap/ushell/utils/WindowUtils","sap/ushell/state/StateManager","sap/ushell/Container","sap/ui/events/KeyCodes","sap/ushell/renderer/ShellLayout"],(e,t,n,i,o,a,s,r,l,h,d,u,c,g,p,f,y)=>{"use strict";const m=g.ShellMode;const S="sapUshellShellShowSearchOverlay";let L=0;let v;const R=t.extend("sap.ushell.ui.ShellHeader",{metadata:{library:"sap.ushell",properties:{logo:{type:"sap.ui.core.URI",defaultValue:""},logoAltText:{type:"string",defaultValue:""},homeUri:{type:"sap.ui.core.URI",defaultValue:"#"},searchState:{type:"string",defaultValue:"COL"},ariaLabel:{type:"string"},centralAreaElement:{type:"string",defaultValue:null},showNewExperienceSwitch:{type:"boolean",defaultValue:false},title:{type:"string",defaultValue:""}},aggregations:{headItems:{type:"sap.ushell.ui.shell.ShellHeadItem",multiple:true},headEndItems:{type:"sap.ui.core.Control",multiple:true},search:{type:"sap.ui.core.Control",multiple:false},appTitle:{type:"sap.ushell.ui.shell.ShellAppTitle",multiple:false}},associations:{},events:{searchSizeChanged:{}}},renderer:d});R.prototype.setHomeUri=function(e){if(c.hasInvalidProtocol(e)){s.fatal("Tried to set a URL with an invalid protocol as the home uri. Setting to an empty string instead.",null,"sap/ushell/ui/ShellHeader");e=""}this._bHomeIsRoot=u.isRootIntent(e);return this.setProperty("homeUri",e)};R.prototype.SearchState={COL:"COL",EXP:"EXP",EXP_S:"EXP_S"};R.prototype.FLPRangeSet={name:"Ushell",rangeBorders:[600,1024,1440,1920],rangeNames:["Phone","Tablet","Desktop","LargeDesktop","ExtraLargeDesktop"]};R.prototype.init=function(){i.media.initRangeSet(this.FLPRangeSet.name,this.FLPRangeSet.rangeBorders,"px",this.FLPRangeSet.rangeNames);const e=y.hasAdjacentSideContentBeforeMain();this._applySideContent(e);y.attachAdjacentSideContentBeforeMainChanged(this._handleSideContent,this);i.media.attachHandler(this.invalidate,this,this.FLPRangeSet.name);i.resize.attachHandler(this.refreshLayout,this);l.once("ShellNavigationInitialized").do(()=>{p.getServiceAsync("ShellNavigationInternal").then(e=>{this._rerenderLogoNavigationFilterBound=this._rerenderLogoNavigationFilter.bind(this,e);e.registerNavigationFilter(this._rerenderLogoNavigationFilterBound);this._rerenderLogoNavigationFilterBound.detach=function(){e.unregisterNavigationFilter(this._rerenderLogoNavigationFilterBound)}})});this._oLastFocusedHeaderElement=null;this._oEventDelegate={onfocusin:this._handleOnFocusIn,onkeydown:this._handleOnKeyDown,onBeforeFastNavigationFocus:this._handleOnBeforeFastNavigationFocus};this.addEventDelegate(this._oEventDelegate,this)};R.prototype.exit=function(){i.media.detachHandler(this.invalidate,this,this.FLPRangeSet.name);i.resize.detachHandler(this.refreshLayout,this);if(this._rerenderLogoNavigationFilterfnRerenderLogoNavigationFilter){this._rerenderLogoNavigationFilterfnRerenderLogoNavigationFilter.detach()}this.removeEventDelegate(this._oEventDelegate);delete this._oEventDelegate;y.detachAdjacentSideContentBeforeMainChanged(this._handleSideContent,this)};R.prototype._handleSideContent=function(e){const t=e.getParameters();const n=t.hasAdjacentContentBefore;this._applySideContent(n)};R.prototype._applySideContent=function(e){this.toggleStyleClass("sapUshellFixedPadding",e)};R.prototype.setFocusOnShellHeader=function(e){if(e){const e=this.getHeadEndItems();if(e.length>0){e[e.length-1].focus()}else{this.getAppTitle().focus()}}else{const e=this.getHeadItems();if(e.length>0){e[0].focus()}else{this.getAppTitle().focus()}}};R.prototype.setFocusOnSearchAfterRender=function(){const e=this.getSearchState();const t=n.getElementById("searchFieldInShell-input");if(e==="COL"&&t){const e=n.getElementById("sf");if(e){e.focus()}}};R.prototype.onsapspace=function(e){if(e.target===this.getDomRef("logo")){this._setLocationHref(e.target.href)}};R.prototype._setLocationHref=function(e){if(c.hasInvalidProtocol(e)){s.fatal("Tried to navigate to URL with an invalid protocol. Preventing navigation.",null,"sap/ushell/ui/ShellHeader");return}window.location.href=e};R.prototype.onAfterRendering=function(){const e=this.getDomRef();if(!v&&document.body.getBoundingClientRect().height===0){e.style.visibility="hidden";e.style.height="2.75rem";return}this.refreshLayout();setTimeout(()=>{if(!document.activeElement||document.activeElement===document.body){this.setFocusOnSearchAfterRender()}},1)};R.prototype._handleOnKeyDown=function(e){if(e.keyCode===f.ARROW_RIGHT||e.keyCode===f.ARROW_LEFT){this._handleArrowNavigation(e)}if(e.keyCode===f.END||e.keyCode===f.HOME){this._handleHomeEndNavigation(e)}return};R.prototype._handleArrowNavigation=function(e){const t=this.getDomRef();const n=document.activeElement;if(!n||!t.contains(n)||n.tagName==="INPUT"||n.tagName==="TEXTAREA"){return}const i=this._getFocusableHeaderItems();let o;let a=i.indexOf(n);if(a<0&&this._oLastFocusedHeaderElement){a=i.indexOf(this._oLastFocusedHeaderElement)}if(a>=0){const t=e.keyCode===f.ARROW_RIGHT?a+1:a-1;o=i[t]}if(!o){i[a].focus();return}o.focus()};R.prototype._handleHomeEndNavigation=function(e){const t=this.getDomRef();const n=document.activeElement;if(!n||!t.contains(n)||n.id==="searchFieldInShell-input-inner"){return}const i=this._getFocusableHeaderItems();let o;if(e.keyCode===f.END){o=i.at(-1)}else if(e.keyCode===f.HOME){o=i.at(0)}else{return}o.focus()};R.prototype._handleOnFocusIn=function(){const e=document.activeElement;this._oLastFocusedHeaderElement=e};R.prototype._getFocusableHeaderItems=function(){const t=this.getDomRef();const n=Array.from(t.querySelectorAll("*:is(input, textarea, select, button, a, [tabindex])")).filter(e=>!e.disabled&&!e.hidden&&(e.checkVisibility?.()??true)&&e.getAttribute("tabindex")!=="-1");if(e.getRTL()){return n.reverse()}return n};R.prototype._handleOnBeforeFastNavigationFocus=function(e){e.preventDefault();const t=this._getFocusableHeaderItems();if(this._oLastFocusedHeaderElement&&t.includes(this._oLastFocusedHeaderElement)){this._oLastFocusedHeaderElement.focus();return}this._oLastFocusedHeaderElement=null;if(document.getElementById("shell-header-logo")){document.getElementById("shell-header-logo").focus()}else{this.setFocusOnShellHeader()}};R.prototype.onThemeChanged=function(e){v=e.theme};R.prototype.getLogo=function(){return this.getProperty("logo")};R.prototype.getShowLogo=function(){return!!this.getProperty("logo")};R.prototype.refreshLayout=function(){if(!this.getDomRef()){return}if(this.getSearchVisible()){const e=this.getDomRef("hdr-search");e.style.display="none";this._hideElementsForSearch();e.style.display="";e.style["max-width"]=`${L}rem`;this.fireSearchSizeChanged({remSize:o.fromPx(e.getBoundingClientRect().width),isFullWidth:this.isPhoneState()||this.getDomRef("hdr-end").style.display==="none"})}};R.prototype.removeHeadItem=function(e){if(typeof e==="number"){e=this.getHeadItems()[e]}this.removeAggregation("headItems",e)};R.prototype.isExtraLargeState=function(){return i.media.getCurrentRange(this.FLPRangeSet.name).from===this.FLPRangeSet.rangeBorders[3]};R.prototype.isMediumOrBiggerState=function(){return i.media.getCurrentRange(this.FLPRangeSet.name).from>=this.FLPRangeSet.rangeBorders[0]};R.prototype.isPhoneState=function(){const e=i.media.getCurrentRange(i.media.RANGESETS.SAP_STANDARD).name;const t=this.getDomRef().getBoundingClientRect().width>L;return i.system.phone||e==="Phone"||!t};R.prototype.setSearchState=function(e,t,n){if(this.SearchState[e]&&this.getSearchState()!==e){if(typeof t==="boolean"){n=t;t=undefined}this.setProperty("searchState",e,false);const i=e!=="COL";document.body.classList.toggle(S,i&&n);L=i?t||35:0}};R.prototype._hideElementsForSearch=function(){if(this.isExtraLargeState()){return}let e;const t=this.getDomRef("hdr-search-container");const n=this.getDomRef("hdr-begin");const i=this.getDomRef("hdr-center");const a=this.getDomRef("hdr-end");if(this.getSearchState()==="EXP"||this.isPhoneState()){e=o.toPx(L+3)}else{e=o.toPx(9+.5)}const s=[n];Array.prototype.forEach.call(n.childNodes,e=>{s.unshift(e)});if(i){s.unshift(i)}n.style.flexBasis="";a.style.display="";s.forEach(e=>{if(e.getAttribute("id")==="shellAppTitle"){e.classList.remove("sapUiPseudoInvisibleText")}else{e.style.display=""}});let r;for(let o=0;o<s.length;o++){r=s[o];if(e>t.getBoundingClientRect().width){if(r.getAttribute("id")==="shellAppTitle"){r.classList.add("sapUiPseudoInvisibleText")}else{r.style.display="none";if(i&&o===0){n.style.flexBasis="auto"}}}else{return}}if(o.toPx(L)>t.getBoundingClientRect().width){a.style.display="none"}};R.prototype.getSearchWidth=function(){return L};R.prototype.isHomepage=function(){const e=`#${a.getHash()}`;const t=new RegExp("[?]"+"(?:"+"(?!&[/])."+")*");const n=e.replace(t,"");return u.isRootIntent(n)||n==="#Launchpad-openFLPPage"};R.prototype._rerenderLogoNavigationFilter=function(e,t,n){const i=e.hashChanger.isInnerAppNavigation(t,n);if(i){this.invalidate()}return e.NavigationFilterStatus.Continue};R.prototype.getSearchVisible=function(){return this.getSearchState()!==this.SearchState.COL};R.prototype.getCentralControl=function(){return n.getElementById(this.getCentralAreaElement())};R.prototype._getLeanMode=function(){return g.getShellMode()===m.Lean};R.prototype.getNewExperienceSwitchControl=function(){if(!r.isActive()){return}if(this.getShowNewExperienceSwitch()){return r.getShellHeaderControl()}};return R});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/ShellHeaderRenderer", ["sap/ushell/Config","sap/ushell/resources"],(e,t)=>{"use strict";const r={apiVersion:2};r.render=function(e,r){const n=r.getId();const a=r.getCentralControl();e.openStart("header",r);if(!r.getVisible()){e.style("display","none")}e.class("sapUshellShellHeader");e.class("sapContrastPlus");e.attr("aria-label",t.i18n.getText("Shell_Header_AriaLabel"));e.attr("data-sap-ui-customfastnavgroup","true");e.openEnd();e.openStart("div");e.attr("id",`${n}-hdr-begin`);e.class("sapUshellShellHeadBegin");if(a){e.class("sapUshellHeadWithCenter")}e.openEnd();this.renderReservedHeaderItems(e,r);this.renderLogo(e,r);this.renderHeaderItems(e,r);this.renderTitle(e,r);this.renderNewExperienceSwitch(e,r);e.close("div");if(a){e.openStart("div",a);e.attr("id",`${n}-hdr-center`);e.class("sapUshellShellHeadCenter");e.openEnd();e.renderControl(a);e.close("div")}e.openStart("div");e.attr("id",`${n}-hdr-search-container`);e.class("sapUshellShellHeadSearchContainer");e.openEnd();this.renderSearch(e,r);e.close("div");e.openStart("div");e.attr("id",`${n}-hdr-end`);e.class("sapUshellShellHeadEnd");e.openEnd();this.renderHeaderEndItems(e,r);e.close("div");e.close("header")};r.renderSearch=function(e,t){const r=t.getSearch();e.openStart("div");e.attr("id",`${t.getId()}-hdr-search`);e.attr("data-help-id","shellHeader-search");e.class("sapUshellShellSearch");e.style("max-width",`${t.getSearchWidth()}rem`);if(t.getSearchState()==="COL"){e.style("display","none")}e.openEnd();if(r){e.renderControl(r)}e.close("div")};r.renderNewExperienceSwitch=function(e,t){const r=t.getNewExperienceSwitchControl();if(r){e.openStart("div");e.attr("id",`${t.getId()}-hdr-new-experience-switch`);e.attr("data-help-id","ushell-new-experience-switch");e.openEnd();e.renderControl(r);e.close("div")}};r.renderTitle=function(e,t){const r=t.getTitle();e.renderControl(t.getAppTitle());if(r&&t.isMediumOrBiggerState()){e.openStart("div");e.attr("id",`${t.getId()}-hdr-shell-title`);e.class(t.getAppTitle()?"sapUshellShellHeadSubtitle":"sapUshellShellHeadTitle");e.openEnd();e.openStart("h2");e.class("sapUshellHeadTitle");e.attr("aria-level","2");e.attr("title",r);e.openEnd();e.text(r);e.close("h2");e.close("div")}};r.renderReservedHeaderItems=function(e,t){const r=t.getHeadItems();r.forEach(t=>{if(t.getId()==="sideMenuExpandCollapseBtn"||t.getId()==="backBtn"){e.renderControl(t)}})};r.renderHeaderItems=function(e,t){const r=t.getHeadItems();r.forEach(t=>{if(t.getId()!=="backBtn"&&t.getId()!=="sideMenuExpandCollapseBtn"){e.renderControl(t)}})};r.renderHeaderEndItems=function(e,t){t.getHeadEndItems().forEach(e.renderControl)};r.renderLogo=function(e,r){const n=r.getLogo();if(!n){return}const a=r._getLeanMode();const s=r._bHomeIsRoot?t.i18n.getText("homeBtn_tooltip_text"):t.i18n.getText("lastPage_tooltip");e.openStart(a?"div":"a");e.attr("id",`${r.getId()}-logo`);e.class("sapUshellShellIco");if(a){e.class("sapUshellLean")}else{e.attr("href",r.getHomeUri());e.attr("title",s);e.attr("role","button")}e.openEnd();e.voidStart("img");e.attr("id",`${r.getId()}-icon`);e.attr("alt",r.getLogoAltText(n));e.attr("src",n);e.voidEnd();e.close(a?"div":"a")};return r},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/appfinder/AppBox", ["sap/ushell/ui/appfinder/AppBoxInternal"],e=>{"use strict";const p=e.extend("sap.ushell.ui.appfinder.AppBox");return p});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/appfinder/AppBoxInternal", ["sap/ui/core/Control","sap/ui/core/Icon","sap/ui/core/IconPool","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/appfinder/AppBoxInternalRenderer","sap/ushell/Config"],(e,t,o,s,n,i,r)=>{"use strict";const l=e.extend("sap.ushell.ui.appfinder.AppBoxInternal",{metadata:{library:"sap.ushell",properties:{title:{type:"string",group:"Misc",defaultValue:null},subtitle:{type:"string",group:"Misc",defaultValue:null},icon:{type:"string",group:"Misc",defaultValue:null},url:{type:"string",group:"Misc",defaultValue:null},navigationMode:{type:"string",group:"Misc",defaultValue:null},contentProviderLabel:{type:"string",group:"Misc",defaultValue:""},showContentProviderLabel:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{pinButton:{type:"sap.m.Button",multiple:false}},events:{press:{},afterRendering:{}}},renderer:i});l.prototype.init=function(){this._oIcon=(new t).addStyleClass("sapUshellAppBoxIcon");this._oDoable=r.on("/core/contentProviders/providerInfo/showContentProviderInfoOnVisualizations").do(e=>{this.setProperty("showContentProviderLabel",e)})};l.prototype.destroy=function(){e.prototype.destroy.apply(this,arguments);this._oIcon.destroy();this._oDoable.off()};l.prototype.onAfterRendering=function(){const e=this.$("title");const t=this.$("subTitle");const o=parseInt(e.css("lineHeight"),10);const s=e.height();if(s/o>1){e.addClass("sapUshellAppBoxHeaderElementTwoLines");t.addClass("sapUshellAppBoxHeaderElementOneLine")}else{e.addClass("sapUshellAppBoxHeaderElementOneLine");t.addClass("sapUshellAppBoxHeaderElementTwoLines")}this.fireAfterRendering()};l.prototype.setIcon=function(e){this.setProperty("icon",e);this._oIcon.setSrc(o.isIconURI(e)?e:null)};l.prototype._getAriaLabel=function(){let e=this.getTitle();const t=this.getSubtitle();const o=this.getNavigationMode();const s=this.getShowContentProviderLabel()&&this.getContentProviderLabel();if(t){e+=` ${t}`}if(o){e+=` ${n.i18n.getText(`${o}NavigationMode`)}`}if(s){e+=` ${s}`}return e};l.prototype.onclick=l.prototype.firePress;l.prototype.onsapspace=function(e){e.preventDefault();this.firePress(e)};l.prototype.onsapenter=l.prototype.onsapspace;return l});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/appfinder/AppBoxInternalRenderer", ["sap/ushell/resources"],e=>{"use strict";const t={apiVersion:2};t.render=function(t,o){t.openStart("li",o);t.class("sapUshellAppBox");t.attr("aria-label",o._getAriaLabel());t.attr("aria-roledescription",e.i18n.getText("tile"));t.attr("aria-describedby",o.getId());t.openEnd();t.openStart("div");t.class("sapUshellAppBoxInner");t.openEnd();const l=o.getIcon();if(l){t.renderControl(o._oIcon)}t.openStart("div");if(l){t.class("sapUshellAppBoxHeader")}else{t.class("sapUshellAppBoxHeaderNoIcon")}t.openEnd();t.openStart("div",`${o.getId()}-title`);t.class("sapUshellAppBoxTitle");t.openEnd();t.text(o.getTitle());t.close("div");if(o.getSubtitle()){t.openStart("div",`${o.getId()}-subTitle`);t.class("sapUshellAppBoxSubtitle");t.openEnd();t.text(o.getSubtitle());t.close("div")}t.close("div");t.close("div");t.openStart("div");t.class("sapUshellAppBoxActionsArea");if(o.getTitle){t.attr("role","toolbar");t.attr("aria-label",o.getTitle())}t.openEnd();if(o.getShowContentProviderLabel()&&o.getContentProviderLabel()!==""){t.openStart("div",`${o.getId()}-contentProviderLabel`);t.class("sapUshellAppBoxContentProviderLabel");t.openEnd();t.openStart("span",`${o.getId()}-contentProviderLabelInner`);t.class("sapUshellAppBoxContentProviderLabelInner");t.attr("title",o.getContentProviderLabel().toUpperCase());t.openEnd();t.text(o.getContentProviderLabel());t.close("span");t.close("div")}t.renderControl(o.getPinButton());t.close("div");t.close("li")};return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/appfinder/AppBoxRenderer", ["sap/ushell/ui/appfinder/AppBoxInternalRenderer"],e=>{"use strict";return e},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/appfinder/PinButton", ["sap/m/Button","sap/ushell/library","sap/ushell/ui/appfinder/PinButtonRenderer"],(e,t,n)=>{"use strict";const r=e.extend("sap.ushell.ui.appfinder.PinButton",{metadata:{library:"sap.ushell",properties:{selected:{type:"boolean",group:"Appearance",defaultValue:false}}},renderer:n});r.prototype.onAfterRendering=function(){this.$("inner").toggleClass("sapUshellPinSelected",this.getSelected())};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/appfinder/PinButtonRenderer", ["sap/m/ButtonRenderer","sap/ui/core/Renderer"],(e,t)=>{"use strict";const r=t.extend(e);r.apiVersion=2;r.renderAccessibilityAttributes=function(e,t,r){r.pressed=t.getSelected();r.selected=null};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/bookmark/SaveOnPage.controller", ["sap/ui/core/mvc/Controller","sap/ushell/resources","sap/ui/thirdparty/hasher","sap/ui/core/library"],(e,t,o,r)=>{"use strict";const i=r.ValueState;return e.extend("sap.ushell.ui.bookmark.SaveOnPage",{onInit:function(){const e=this.getView();e.setModel(t.i18nModel,"i18n");this.byId("bookmarkTitleInput").attachLiveChange(function(){if(this.getValue()===""){this.setValueStateText(t.i18n.getText("bookmarkTitleInputError"));this.setValueState(i.Error)}else{this.setValueState(i.None)}});this.oContentNodeSelector=this.byId("SelectedNodesComboBox");this.oContentNodeSelector.attachSelectionChanged(function(){const e=this.getSelectedContentNodes();if(Array.isArray(e)&&e.length<1){this.setValueStateText(t.i18n.getText("bookmarkPageSelectError"));this.setValueState(i.Error)}else{this.setValueState(i.None)}});const o=this.byId("previewTileDynamic");o.addEventDelegate({onAfterRendering:function(){o.getDomRef().removeAttribute("tabindex")}});const r=this.byId("previewTile");r.addEventDelegate({onAfterRendering:function(){r.getDomRef().removeAttribute("tabindex")}})},removeFocusFromTile:function(){this.getView().getDomRef().querySelector(".sapMGT").removeAttribute("tabindex")},getBookmarkTileData:function(){const e=this.getView();const t=e.getModel();const r=e.getViewData();let i;if(r.customUrl){if(typeof r.customUrl==="function"){i=r.customUrl()}else{i=r.customUrl}}else{i=o.getHash()?`#${o.getHash()}`:window.location.href}const n={title:t.getProperty("/title"),subtitle:t.getProperty("/subtitle"),url:i,icon:t.getProperty("/icon"),info:t.getProperty("/info"),numberUnit:t.getProperty("/numberUnit"),serviceUrl:typeof r.serviceUrl==="function"?r.serviceUrl():r.serviceUrl,dataSource:t.getProperty("/dataSource"),serviceRefreshInterval:t.getProperty("/serviceRefreshInterval"),contentNodes:this.oContentNodeSelector.getSelectedContentNodes(),keywords:t.getProperty("/keywords")};const s=["title","subtitle","info"];s.forEach(e=>{n[e]=(n[e]||"").substring(0,256).trim()});return n},onValueHelpEndButtonPressed:function(){if(this.oContentNodeSelector&&this.oContentNodeSelector.fireSelectionChanged){this.oContentNodeSelector.fireSelectionChanged()}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/cards/FrequentActivitiesExtension", ["sap/ui/integration/Extension","sap/ushell/utils/UrlParsing","sap/ushell/utils/AppType","sap/ushell/library","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/Container"],(e,t,s,i,n,r,a,o)=>{"use strict";const c=i.AppType;function p(e,t){if(t===c.SEARCH){return`"${e}"`}return e}function l(e){if(e===c.SEARCH){return a.i18n.getText("recentActivitiesSearchDescription")}return s.getDisplayName(e)}return e.extend("sap.ushell.ui.cards.FrequentActivitiesExtension",{init:function(){e.prototype.init.apply(this,arguments);this.oUserRecentsPromise=o.getServiceAsync("UserRecents");this.oCrossAppNavPromise=o.getServiceAsync("CrossApplicationNavigation")},exit:function(){e.prototype.exit.apply(this,arguments);r.on("newUserRecentsItem").off();r.on("userRecentsCleared").off()},onCardReady:function(){r.on("newUserRecentsItem").do(()=>{this.getCard().refreshData()});r.on("userRecentsCleared").do(()=>{this.getCard().refreshData()})},getData:function(){if(this._sortedData){return Promise.resolve(this._resolvedData)}return this.oUserRecentsPromise.then(e=>e.getFrequentActivity()).then(this._getActivitiesAsCardItems.bind(this)).then(this._checkEnabled.bind(this))},_getActivitiesAsCardItems:function(e){const s=[];for(let i=0;i<e.length;i++){if(e[i].url&&e[i].url!==""){const n=t.parseShellHash(e[i].url);const r={Name:p(e[i].title,e[i].appType),Description:l(e[i].appType),Icon:e[i].icon||"sap-icon://product",Url:e[i].url};if(n){r.Intent={SemanticObject:n.semanticObject,Action:n.action,Parameters:n.params,AppSpecificRoute:n.appSpecificRoute}}else{r.Url=e[i].url}s.push(r)}}return s},_checkEnabled:function(e){const t=e.map(e=>this._isActionEnabled(e).then(t=>{e.Enabled=t;return e}));return Promise.all(t)},_isActionEnabled:function(e){const s=t.parseShellHash(e.Url);if(!s){return Promise.resolve(true)}const i=s.params;const n={target:{semanticObject:s.semanticObject,action:s.action},params:i};return this.oCrossAppNavPromise.then(e=>new Promise(t=>{e.isNavigationSupported([n]).done(e=>{t(e[0].supported)}).fail(()=>{t(false)})}))}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/cards/RecentActivitiesExtension", ["sap/ui/integration/Extension","sap/ushell/utils/UrlParsing","sap/ushell/utils/AppType","sap/ushell/library","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/Container"],(e,t,s,n,i,r,a,o)=>{"use strict";const c=n.AppType;function p(e,t){if(t===c.SEARCH){return`"${e}"`}return e}function l(e){if(e===c.SEARCH){return a.i18n.getText("recentActivitiesSearchDescription")}return s.getDisplayName(e)}return e.extend("sap.ushell.ui.cards.RecentActivitiesExtension",{init:function(){e.prototype.init.apply(this,arguments);this.oUserRecentsPromise=o.getServiceAsync("UserRecents");this.oCrossAppNavPromise=o.getServiceAsync("CrossApplicationNavigation")},exit:function(){e.prototype.exit.apply(this,arguments);r.on("newUserRecentsItem").off();r.on("userRecentsCleared").off()},onCardReady:function(){r.on("newUserRecentsItem").do(()=>{this.getCard().refreshData()});r.on("userRecentsCleared").do(()=>{this.getCard().refreshData()})},getData:function(){return this.oUserRecentsPromise.then(e=>e.getRecentActivity()).then(this._getActivitiesAsCardItems.bind(this)).then(this._checkEnabled.bind(this))},_getActivitiesAsCardItems:function(e){const s=[];for(let n=0;n<e.length;n++){if(e[n].url&&e[n].url!==""){const i=t.parseShellHash(e[n].url);const r={Name:p(e[n].title,e[n].appType),Description:l(e[n].appType),Icon:e[n].icon||"sap-icon://product",Url:e[n].url};if(i){r.Intent={SemanticObject:i.semanticObject,Action:i.action,Parameters:i.params,AppSpecificRoute:i.appSpecificRoute}}else{r.Url=e[n].url}s.push(r)}}return s},_checkEnabled:function(e){const t=e.map(e=>this._isActionEnabled(e).then(t=>{e.Enabled=t;return e}));return Promise.all(t)},_isActionEnabled:function(e){const s=t.parseShellHash(e.Url);if(!s){return Promise.resolve(true)}const n=s.params;const i={target:{semanticObject:s.semanticObject,action:s.action},params:n};return this.oCrossAppNavPromise.then(e=>new Promise(t=>{e.isNavigationSupported([i]).done(e=>{t(e[0].supported)}).fail(()=>{t(false)})}))}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/footerbar/AboutButton", ["sap/m/ButtonRenderer","sap/ushell/resources","sap/ushell/ui/launchpad/ActionItem","sap/ui/core/Fragment","sap/ushell/ui/footerbar/AboutDialog.controller"],(t,e,o,i,a)=>{"use strict";const s=o.extend("sap.ushell.ui.footerbar.AboutButton",{metadata:{library:"sap.ushell"},renderer:t});s.prototype.init=function(){if(o.prototype.init){o.prototype.init.apply(this,arguments)}this.setIcon("sap-icon://hint");this.setText(e.i18n.getText("about"));this.attachPress(this.showAboutDialog)};s.prototype.showAboutDialog=function(){return new Promise((t,o)=>{i.load({id:"aboutDialogFragment",name:"sap.ushell.ui.footerbar.AboutDialog",type:"XML",controller:new a}).then(o=>{o.setModel(e.i18nModel,"i18n");o.open();t()}).catch(o)})};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/footerbar/AboutDialog.controller", ["sap/m/Label","sap/m/Text","sap/ui/core/mvc/Controller","sap/ui/core/Fragment","sap/ui/core/Title","sap/ui/model/json/JSONModel","sap/ushell/services/AppConfiguration","sap/ushell/Config","sap/ushell/resources","sap/base/Log","sap/base/util/isEmptyObject","sap/ui/Device","sap/ushell/Container"],(e,t,o,n,a,i,s,r,p,u,l,c,m)=>{"use strict";return o.extend("sap.ushell.ui.footerbar.AboutDialog.controller",{onBeforeOpen:function(){this._setupAboutDialogModel();this._updateHeaderButtonVisibility();const e=n.byId("aboutDialogFragment","aboutDialogEntryList");e.setSelectedItem(e.getItems()[0])},onClose:function(){this._getDialog().close()},onAfterClose:function(){this._getDialog().destroy()},_getDialog:function(){if(!this.oAboutDialog){this.oAboutDialog=n.byId("aboutDialogFragment","aboutDialog")}return this.oAboutDialog},_setupAboutDialogModel:function(){const e=this._getDialog();this._setupAppInfoModel().catch(e=>{u.error("Failed to setup application info model.",e)});const t=this._getSystemInformation();const o=new i(t);const n=this._getUserEnvironmentInformation();const a=new i(n);e.setModel(o,"SysInfo");e.setModel(a,"UserEnvInfo")},_getSplitAppObj:function(){const e=n.byId("aboutDialogFragment","aboutDialogContainer");if(!e){u.info("SplitContainer object can't be found")}return e},onAfterMasterClose:function(){this._getSplitAppObj().setMode("ShowHideMode");this._updateHeaderButtonVisibility()},onItemPress:function(e){const t=e.getParameter("listItem").getCustomData()[0].getValue();const o=n.createId("aboutDialogFragment",t);this._getSplitAppObj().toDetail(o);if(c.system.desktop){this._getSplitAppObj().hideMaster()}if(c.system.phone){this._getSplitAppObj().setMode("HideMode");this.onAfterMasterClose();this._updateHeaderButtonVisibility()}},navigateBackToMaster:function(){this._getSplitAppObj().backToTopMaster();this._updateHeaderButtonVisibility()},onBeforeMasterOpen:function(){this._updateHeaderButtonVisibility()},navToggleButtonPressHandler:function(){if(this._getSplitAppObj().isMasterShown()){this._getSplitAppObj().hideMaster()}else{this._getSplitAppObj().showMaster()}this._updateHeaderButtonVisibility()},_updateHeaderButtonVisibility:function(){const e=this._getSplitAppObj().isMasterShown();const t=n.byId("aboutDialogFragment","aboutDialogNavBackButton");const o=n.byId("aboutDialogFragment","aboutDialogMenuButton");if(c.system.phone){t.setVisible(!e);if(!t){u.info("oBackButton object can't be found")}}else{if(c.orientation.portrait){o.setVisible(true);o.setPressed(e);o.setTooltip(p.i18n.getText(e?"ToggleButtonHide":"ToggleButtonShow"))}else{o.setVisible(false)}if(!o){u.info("oMenuButton object can't be found")}}},_setupAppInfoModel:function(){const e=this._getDialog();return new Promise((t,o)=>{m.getServiceAsync("AppLifeCycle").then(e=>{const t=e.getCurrentApplication();return Promise.all([t.getAllAppInfo(true),t.getAllAppInfo(false),this._getContentProviderLabel(t)])}).then(o=>{const n=s.getMetadata();const a=o[0]||{};const r=o[1]||{};const p=o[2];a.appTitle=a.title||a.appTitle||n.title||"";a.contentProviderLabel=p;const u=this._buildApplicationInformationObject(a,r);e.setModel(new i(u),"AppInfo");t()}).catch(e=>{o(e)})})},_buildApplicationInformationObject:function(e,t){const o=["appTitle","appId","abap.transaction","appVersion","appSupportInfo","technicalAppComponentId","appFrameworkId","appFrameworkVersion","contentProviderLabel"];const n={entries:[],customEntries:[]};o.forEach(t=>{if(e[t]){n.entries.push({parameterName:t,value:`{i18n>${t}}`,type:"label"});n.entries.push({parameterName:t,value:e[t],type:"text"})}});const a=Object.keys(t).filter(e=>{const o=t[e];return o.showInAbout}).sort((e,t)=>e.toLowerCase()<t.toLowerCase()?-1:1).map(e=>{const o=t[e];return{parameterName:e,...o}});a.forEach(e=>{n.customEntries.push({parameterName:e.parameterName,value:e.label,type:"label"});n.customEntries.push({parameterName:e.parameterName,value:e.value,type:"text"})});return n},_getSystemInformation:function(){const e=m.getLogonSystem();const t={entries:[]};const o=e.getProductName();if(o){t.entries.push({parameterName:"productName",value:"{i18n>productName}",type:"label"});t.entries.push({parameterName:"productName",value:o,type:"text"})}const n=e.getProductVersion();if(n){t.entries.push({parameterName:"productVersion",value:"{i18n>productVersionFld}",type:"label"});t.entries.push({parameterName:"productVersion",value:n,type:"text"})}const a=e.getSystemName();if(a){t.entries.push({parameterName:"systemName",value:"{i18n>systemName}",type:"label"});t.entries.push({parameterName:"systemName",value:a,type:"text"})}const i=e.getSystemRole();if(i){t.entries.push({parameterName:"systemRole",value:"{i18n>systemRole}",type:"label"});t.entries.push({parameterName:"systemRole",value:i,type:"text"})}const s=e.getTenantRole();if(s){t.entries.push({parameterName:"tenantRole",value:"{i18n>tenantRole}",type:"label"});t.entries.push({parameterName:"tenantRole",value:s,type:"text"})}return t},_getUserEnvironmentInformation:function(){const e=m.getUser();const t={entries:[]};const o=this._getDeviceType();if(o){t.entries.push({parameterName:"deviceType",value:"{i18n>deviceType}",type:"label"});t.entries.push({parameterName:"deviceType",value:o,type:"text"})}const n=e.getTheme();t.entries.push({parameterName:"activeTheme",value:"{i18n>activeTheme}",type:"label"});t.entries.push({parameterName:"activeTheme",value:n,type:"text"});const a=e.getContentDensity()==="cozy";t.entries.push({parameterName:"optimizedForTouch",value:"{i18n>AppearanceContentDensityLabel}",type:"label"});t.entries.push({parameterName:"optimizedForTouch",value:a?"{i18n>yes}":"{i18n>no}",type:"text"});const i=this._isTouchSupported();t.entries.push({parameterName:"touchSupported",value:"{i18n>touchSupported}",type:"label"});t.entries.push({parameterName:"touchSupported",value:i?"{i18n>yes}":"{i18n>no}",type:"text"});t.entries.push({parameterName:"userAgentFld",value:"{i18n>userAgentFld}",type:"label"});t.entries.push({parameterName:"userAgentFld",value:navigator.userAgent,type:"text"});return t},_getContentProviderLabel:function(e){if(r.last("/core/contentProviders/providerInfo/enabled")){return e.getSystemContext().then(e=>e.label)}return Promise.resolve(undefined)},_getDeviceType:function(){let e;if(c.system.combi){e="{i18n>configuration.form_factor_combi}"}else if(c.system.desktop){e="{i18n>configuration.form_factor_desktop}"}else if(c.system.tablet){e="{i18n>configuration.form_factor_tablet}"}else if(c.system.phone){e="{i18n>configuration.form_factor_phone}"}return e},_isTouchSupported:function(){return c.support.touch&&(c.system.tablet||c.system.phone||c.system.combi)},itemFactory:function(o,n){const i=n.getProperty("type");switch(i){case"label":return new e({text:n.getProperty("value")});case"title":return new a({text:n.getProperty("value")});default:return new t({text:n.getProperty("value")})}},calculateNumberOfColumns:function(e){if(!this.isFormVisible(e)){return 1}return Object.keys(e).length>1?2:1},isFormVisible:function(e){return!!e&&!l(e)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/footerbar/AddBookmarkButton", ["sap/base/Log","sap/m/Button","sap/m/ButtonRenderer","sap/m/Dialog","sap/m/library","sap/m/MessageBox","sap/m/Text","sap/m/VBox","sap/ui/core/library","sap/ui/core/mvc/View","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ushell/Config","sap/ushell/library","sap/ushell/resources","sap/ushell/state/StateManager"],(e,t,o,s,i,r,a,n,l,u,p,c,d,h,g,f)=>{"use strict";const y=i.ButtonType;const m=l.ValueState;const b=l.mvc.ViewType;const M=f.LaunchpadState;const S=f.ShellMode;const{Headerless:k,Standalone:B,Embedded:T,Merged:P}=S;const D=t.extend("sap.ushell.ui.footerbar.AddBookmarkButton",{metadata:{library:"sap.ushell",properties:{beforePressHandler:{type:"function",group:"Misc",defaultValue:null},afterPressHandler:{type:"function",group:"Misc",defaultValue:null},title:{type:"string",group:"Misc",defaultValue:null},subtitle:{type:"string",group:"Misc",defaultValue:null},info:{type:"string",group:"Misc",defaultValue:null},tileIcon:{type:"string",group:"Appearance",defaultValue:null},numberUnit:{type:"string",group:"Appearance",defaultValue:null},keywords:{type:"string",group:"Misc",defaultValue:null},customUrl:{type:"any",group:"Misc",defaultValue:null},serviceUrl:{type:"any",group:"Misc",defaultValue:null},dataSource:{type:"any",group:"Misc",defaultValue:null},serviceRefreshInterval:{type:"string",group:"Misc",defaultValue:null},showGroupSelection:{type:"boolean",group:"Misc",defaultValue:true},showPageSelection:{type:"boolean",group:"Misc",defaultValue:true},appData:{type:"object",group:"Misc",defaultValue:null,deprecated:true}}},renderer:o});D.prototype.init=function(){if(t.prototype.init){t.prototype.init.apply(this,arguments)}this.bSpaceEnabled=d.last("/core/spaces/enabled");this.bMyHomeEnabled=d.last("/core/spaces/myHome/enabled");this.setIcon("sap-icon://add-favorite");this.bindProperty("text",{path:"i18n>addToHomePageBtn"});this.setEnabled();this.oModel=new c({showGroupSelection:true,showPageSelection:true,title:"",subtitle:"",numberValue:0,info:"",icon:"",numberUnit:"",keywords:""});this.setModel(g.i18nModel,"i18n");this.attachPress(()=>{const e=this.getBeforePressHandler();if(e){e()}this.showAddBookmarkDialog()})};D.prototype.exit=function(){if(this.oDialog){this.oDialog.destroy()}if(this.oModel){this.oModel.destroy()}if(t.prototype.exit){t.prototype.exit.apply(this,arguments)}};D.prototype.setBookmarkTileView=function(e){this.bookmarkTileView=e};D.prototype.getBookmarkTileView=function(){return this.bookmarkTileView};D.prototype.showAddBookmarkDialog=function(){const e=this.getAppData()||{};const t={serviceUrl:this.getServiceUrl()||e.serviceUrl,customUrl:this.getCustomUrl()||e.customUrl};this.oModel.setProperty("/serviceUrl",!!t.serviceUrl);let o;if(this.bSpaceEnabled){o=u.create({type:b.XML,viewName:"sap.ushell.ui.bookmark.SaveOnPage",viewData:t})}else{o=u.create({viewName:"module:sap/ushell/ui/footerbar/SaveAsTile.view",viewData:t})}return o.then(e=>{this.setBookmarkTileView(e);e.setModel(this.oModel);e.setModel(g.i18nModel,"i18n");return this._openDialog(e)})};D.prototype._openDialog=function(e){this.oDialog=new s({id:"bookmarkDialog",title:"{i18n>addToHomePageBtn}",contentWidth:"25rem",content:e,beginButton:new t("bookmarkOkBtn",{text:"{i18n>saveBtn}",type:y.Emphasized,press:[this._handleOKButtonPress,this]}),endButton:new t("bookmarkCancelBtn",{text:"{i18n>cancelBtn}",press:[this._handleCancelButtonPress,this]}),stretch:p.system.phone,horizontalScrolling:false,afterClose:function(){const e=this.getAfterPressHandler();if(e){e()}this._restoreDialogEditableValuesToDefault();this.oDialog.destroy();delete this.oDialog}.bind(this)}).addStyleClass("sapContrastPlus");this.oDialog.open();this.oDialog.setModel(g.i18nModel,"i18n");return this.oDialog};D.prototype._handleOKButtonPress=function(){if(this.oDialog.getBusy()){return}if(!this.bSpaceEnabled){this._handleOKButtonPressClassicMode();return}this._handleOKButtonPressSpacesMode()};D.prototype._handleCancelButtonPress=function(){if(!this.bSpaceEnabled){this._handleCancelButtonPressClassicMode();return}this._handleCancelButtonPressSpacesMode()};D.prototype.setTitle=function(e){this.setProperty("title",e,true);this.oModel.setProperty("/title",e);return this};D.prototype.setSubtitle=function(e){this.setProperty("subtitle",e,true);this.oModel.setProperty("/subtitle",e);return this};D.prototype.setInfo=function(e){this.setProperty("info",e,true);this.oModel.setProperty("/info",e);return this};D.prototype.setTileIcon=function(e){this.setProperty("tileIcon",e,true);this.oModel.setProperty("/icon",e);return this};D.prototype.setShowGroupSelection=function(e){this.setProperty("showGroupSelection",e,true);this.oModel.setProperty("/showGroupSelection",e);return this};D.prototype.setNumberUnit=function(e){this.setProperty("numberUnit",e,true);this.oModel.setProperty("/numberUnit",e);return this};D.prototype.setServiceRefreshInterval=function(e){this.setProperty("serviceRefreshInterval",e,true);this.oModel.setProperty("/serviceRefreshInterval",e);return this};D.prototype.setDataSource=function(e){this.setProperty("dataSource",e,true);this.oModel.setProperty("/dataSource",e);return this};D.prototype.setKeywords=function(e){this.setProperty("keywords",e,true);this.oModel.setProperty("/keywords",e);return this};D.prototype.setAppData=function(e){this.setProperty("appData",e,true);const t=["showGroupSelection","title","subtitle","info","icon","numberUnit","keywords","serviceRefreshInterval","dataSource"];const o=["showInfo","showPreview"];Object.keys(e).forEach(s=>{if(t.indexOf(s)>-1){const t=s==="icon"?"tileIcon":s;this.setProperty(t,e[s],true)}if(t.indexOf(s)>-1||o.indexOf(s)>-1){this.oModel.setProperty(`/${s}`,e[s])}});return this};D.prototype._restoreDialogEditableValuesToDefault=function(){if(this.oModel){this.oModel.setProperty("/title",this.getTitle());this.oModel.setProperty("/subtitle",this.getSubtitle());this.oModel.setProperty("/info",this.getInfo())}};D.prototype._handleCancelButtonPressSpacesMode=function(){const e=this.getBookmarkTileView().getController();const t=e.getBookmarkTileData();if(t.title||t.subtitle||t.info||t.contentNodes.length){const e=g.i18n.getText("SaveAsTileDialog.MessageBox.Action.Discard");const t=g.i18n.getText("SaveAsTileDialog.MessageBox.Message.Discard");const o=g.i18n.getText("SaveAsTileDialog.MessageBox.Title.Discard");r.show(t,{title:o,actions:[e,r.Action.CANCEL],emphasizedAction:e,onClose:function(t){if(t===e){this.oDialog.close()}}.bind(this)})}else{this.oDialog.close()}};D.prototype._handleOKButtonPressSpacesMode=function(){const t=this.getBookmarkTileView().getController();const o=t.getBookmarkTileData();let s=true;if(o.contentNodes.length===0){const e=t.byId("SelectedNodesComboBox");if(e){e.setValueState(m.Error);e.setValueStateText(g.i18n.getText("bookmarkPageSelectError"));s=false}}if(!o.title||o.title.length<1){const e=t.byId("bookmarkTitleInput");if(e){e.setValueState(m.Error);e.setValueStateText(g.i18n.getText("bookmarkTitleInputError"));s=false}}if(!s){sap.ushell.Container.getServiceAsync("MessageInternal").then(e=>{e.info(g.i18n.getText("SaveAsTileDialog.MessageToast.ValidationFailed"))});return}this.oDialog.setBusy(true);this.oDialog.close();const i=sap.ushell.Container.getServiceAsync("BookmarkV2");const r=o.contentNodes.map(t=>i.then(e=>e.addBookmark(o,t)).then(()=>({pageId:t.id,status:"resolved"})).catch(o=>{e.error("Failed to add one a bookmark: ",o,"sap.ushell.ui.footerbar.AddBookmarkButton");return{pageId:t.id,error:o.message,status:"failed"}}));Promise.all(r).then(e=>{sap.ushell.Container.getServiceAsync("MessageInternal").then(t=>{const s=e.filter(e=>e.status==="resolved").length;const i=e.filter(e=>e.status==="failed");if(s===1){t.info(g.i18n.getText("SaveAsTileDialog.MessageToast.TileCreatedInPage"))}else if(s>1){t.info(g.i18n.getText("SaveAsTileDialog.MessageToast.TileCreatedInPages"))}if(i.length){this._showErrorDialog(i,s,o.title)}})})};D.prototype._showErrorDialog=function(e,t,o){sap.ushell.Container.getServiceAsync("MessageInternal").then(s=>{let i;let r;if(e.length===1){if(t===0){i=g.i18n.getText("SaveAsTileDialog.MessageBox.SinglePageError")}else{i=g.i18n.getText("SaveAsTileDialog.MessageBox.OnePageError")}r=g.i18n.getText("SaveAsTileDialog.MessageBox.PageErrorDetail",[o,e[0].pageId])}else if(e.length>1){if(t===0){i=g.i18n.getText("SaveAsTileDialog.MessageBox.AllPagesError")}else{i=g.i18n.getText("SaveAsTileDialog.MessageBox.SomePagesError")}const s=e.map(e=>e.pageId).join("\n");r=g.i18n.getText("SaveAsTileDialog.MessageBox.PagesErrorDetail",[o,s])}const l=new n({items:[new a({text:r}).addStyleClass("sapUiSmallMarginBottom"),new a({text:e.map(e=>e.error).join("\n")}).addStyleClass("sapUiSmallMarginBottom"),new a({text:g.i18n.getText("SaveAsTileDialog.MessageBox.PageErrorSolution")})]});s.errorWithDetails(i,l)})};D.prototype._handleCancelButtonPressClassicMode=function(){this.oDialog.close()};D.prototype._handleOKButtonPressClassicMode=async function(){const t=this.getBookmarkTileView();const o=t.getController();const s=o.getBookmarkTileData();if(!s.title||s.title.length<1){const e=t.getTitleInput();if(e){e.setValueState(m.Error);e.setValueStateText(g.i18n.getText("bookmarkTitleInputError"));throw new Error("Invalid bookmark title")}}this.oDialog.setBusy(true);this.oDialog.close();const i=s.group?s.group.object:"";delete s.group;return Promise.all([sap.ushell.Container.getServiceAsync("BookmarkV2"),sap.ushell.Container.getServiceAsync("MessageInternal")]).then(t=>{const o=t[0];const r=t[1];return o.addBookmark(s,i).then(()=>{r.info(g.i18n.getText("tile_created_msg"))}).catch(t=>{e.error("Failed to add bookmark",t,"sap.ushell.ui.footerbar.AddBookmarkButton");r.error(g.i18n.getText("fail_to_add_tile_msg"))})})};D.prototype.setEnabled=function(o){let s=true;const i=f.getLaunchpadState();const r=f.getShellMode();if(sap.ushell.Container){const e=d.last("/core/shell/enablePersonalization");if(e!==undefined){s=e}if(!s&&this.bSpaceEnabled&&this.bMyHomeEnabled){s=true}}if(!s||i===M.App&&[k,B,T,P].includes(r)){o=false}if(!sap.ushell.Container){if(this.getEnabled()){e.warning("Disabling 'Save as Tile' button: unified shell container not initialized",null,"sap.ushell.ui.footerbar.AddBookmarkButton")}o=false}t.prototype.setEnabled.call(this,o);if(!o){this.addStyleClass("sapUshellAddBookmarkButton")}};return D});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/footerbar/ContactSupportButton", ["sap/m/ButtonRenderer","sap/ushell/resources","sap/ushell/ui/launchpad/ActionItem"],(t,o,e)=>{"use strict";const a=e.extend("sap.ushell.ui.footerbar.ContactSupportButton",{metadata:{library:"sap.ushell"},renderer:t});a.prototype.init=function(){if(e.prototype.init){e.prototype.init.apply(this,arguments)}this.setIcon("sap-icon://email");this.setText(o.i18n.getText("contactSupportBtn"));this.attachPress(this.showContactSupportDialog)};a.prototype.showContactSupportDialog=function(){return new Promise(t=>{sap.ui.require(["sap/ushell/ui/footerbar/ContactSupportDialog.controller","sap/ui/core/Fragment"],async(o,e)=>{const a=await e.load({id:"contactSupportDialogFragment",name:"sap.ushell.ui.footerbar.ContactSupportDialog",type:"XML",controller:new o});a.attachAfterOpen(t);a.open()})})};return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/footerbar/ContactSupportDialog.controller", ["sap/ui/core/mvc/Controller","sap/ui/core/Fragment","sap/ui/model/json/JSONModel","sap/ushell/UserActivityLog","sap/ushell/resources","sap/ushell/Container","sap/ushell/state/StateManager"],(t,e,o,a,n,i,s)=>{"use strict";const c=s.LaunchpadState;const r="contactSupportDialogFragment";return t.extend("sap.ushell.ui.footerbar.ContactSupportDialog.controller",{onBeforeOpen:function(){this._setupModel()},onAfterClose:function(){this._getDialog().destroy();const t=window.document.activeElement;const e=window.document.getElementById("userActionsMenuHeaderButton");if(t&&t.tagName==="BODY"&&e){e.focus()}delete this.oSupportDialog},_getDialog:function(){if(!this.oSupportDialog){this.oSupportDialog=e.byId(r,"ContactSupportDialog")}return this.oSupportDialog},_setupModel:function(){const t=a.getMessageInfo();const e=t.userDetails;const i={showTechInfo:false,showAppData:s.getLaunchpadState()===c.App,subject:"",description:"",userName:e.fullName||"",host:window.location.host,email:e.eMail||"",language:e.Language||"",navigationHash:t.navigationData.navigationHash||"",applicationType:"",url:"",additionalInformation:""};if(t.navigationData.applicationInformation){i.applicationType=t.navigationData.applicationInformation.applicationType;i.url=t.navigationData.applicationInformation.url;i.additionalInformation=t.navigationData.applicationInformation.additionalInformation}const r=this._getDialog();const l=new o(i);r.setModel(n.i18nModel,"i18n");r.setModel(l);this.oClientContext=t},showTechnicalData:function(){this._getDialog().getModel().setProperty("/showTechInfo",true);e.byId(r,"subjectInput").focus()},_checkErrorState:function(t){if(!t.getValue()){t.setValueState("Error")}else{t.setValueState("None")}},onInputChange:function(t){this._checkErrorState(t.getSource())},closeDialog:function(){this._getDialog().close()},onSend:async function(){const t=e.byId(r,"subjectInput");const o=e.byId(r,"textArea");const a=t.getValue();const s=o.getValue();this._checkErrorState(t);this._checkErrorState(o);if(a&&s){const t=await i.getServiceAsync("SupportTicket");const e=await i.getServiceAsync("MessageInternal");try{await t.createTicket({subject:a,text:s,clientContext:this.oClientContext});e.info(n.i18n.getText("supportTicketCreationSuccess"))}catch(t){e.error(n.i18n.getText("supportTicketCreationFailed"))}this.closeDialog()}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/footerbar/JamDiscussButton", ["sap/base/Log","sap/m/Button","sap/m/ButtonRenderer","sap/ui/core/Component","sap/ushell/resources","sap/ushell/Container"],(s,e,t,i,n,o)=>{"use strict";const a=e.extend("sap.ushell.ui.footerbar.JamDiscussButton",{metadata:{library:"sap.ushell",properties:{beforePressHandler:{type:"any",group:"Misc",defaultValue:null},afterPressHandler:{type:"any",group:"Misc",defaultValue:null},jamData:{type:"object",group:"Misc",defaultValue:null}}},renderer:t});a.prototype.init=function(){const s=this;if(e.prototype.init){e.prototype.init.apply(this,arguments)}this.setEnabled();this.setIcon("sap-icon://discussion-2");this.setText(n.i18n.getText("discussBtn"));this.attachPress(function(){if(s.getBeforePressHandler()){s.getBeforePressHandler()()}this.showDiscussDialog(s.getAfterPressHandler())})};a.prototype.showDiscussDialog=function(s){if(!this.discussComponentPromise){this.discussComponentPromise=i.create({name:"sap.collaboration.components.fiori.feed.dialog",settings:this.getJamData()})}return this.discussComponentPromise.then(e=>{e.open();if(s){s()}})};a.prototype.setEnabled=function(t){if(!o){if(this.getEnabled()){s.warning("Disabling JamDiscussButton: unified shell container not initialized",null,"sap.ushell.ui.footerbar.JamDiscussButton")}t=false}else{const e=o.getUser();if(!(e&&e.isJamActive())){if(this.getEnabled()){s.info("Disabling JamDiscussButton: user not logged in or Jam not active",null,"sap.ushell.ui.footerbar.JamDiscussButton")}t=false;this.setVisible(false)}}e.prototype.setEnabled.call(this,t)};return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/footerbar/JamShareButton", ["sap/base/Log","sap/collaboration/components/fiori/sharing/dialog/Component","sap/m/Button","sap/m/ButtonRenderer","sap/ui/core/Component","sap/ushell/library","sap/ushell/resources","sap/ushell/Container"],(e,t,o,i,r,s,n,a)=>{"use strict";const l=o.extend("sap.ushell.ui.footerbar.JamShareButton",{metadata:{library:"sap.ushell",properties:{beforePressHandler:{type:"any",group:"Misc",defaultValue:null},afterPressHandler:{type:"any",group:"Misc",defaultValue:null},jamData:{type:"object",group:"Misc",defaultValue:null}}},renderer:i});l.prototype.init=function(){if(o.prototype.init){o.prototype.init.apply(this,arguments)}this.setEnabled();this.setIcon("sap-icon://share-2");this.setText(n.i18n.getText("shareBtn"));this.attachPress(()=>{if(this.getBeforePressHandler()){this.getBeforePressHandler()()}this.showShareDialog(this.getAfterPressHandler())})};l.prototype._createShareComponent=function(){this.oShareComponentPromise=r.create({name:"sap.collaboration.components.fiori.sharing.dialog",settings:this.getJamData()});return this.oShareComponentPromise};l.prototype.showShareDialog=function(t){if(!this.oShareComponentPromise){this.oShareComponentPromise=this._createShareComponent()}if(a.inAppRuntime()){this.adjustFLPUrl(this.getJamData()).catch(t=>{e.error("Could not retrieve FLP URL",t,"sap.ushell.ui.footerbar.JamShareButton");throw t}).then(()=>this.oShareComponentPromise.then(e=>{e.open();if(t){t()}}))}else{return this.oShareComponentPromise.then(e=>{e.open();if(t){t()}})}};l.prototype.exit=function(){if(this.shareComponentPromise){this.shareComponentPromise.then(e=>{e.destroy()})}if(o.prototype.exit){o.prototype.exit.apply(this,arguments)}};l.prototype.setEnabled=function(t){if(a.isInitialized()){const o=a.getUser();if(!(o&&o.isJamActive())){if(!t){e.info("Disabling JamShareButton: user not logged in or Jam not active",null,"sap.ushell.ui.footerbar.JamShareButton")}t=false;this.setVisible(false)}}else{if(!t){e.warning("Disabling JamShareButton: unified shell container not initialized",null,"sap.ushell.ui.footerbar.JamShareButton")}t=false}o.prototype.setEnabled.call(this,t)};l.prototype.adjustFLPUrl=function(e){if(e&&e.object&&e.object.id&&typeof e.object.id==="string"&&e.object.id===document.URL){return a.getFLPUrl(true).then(t=>{e.object.id=t})}return Promise.resolve()};return l},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/footerbar/LogoutButton", ["sap/base/Log","sap/m/ButtonRenderer","sap/m/MessageBox","sap/ui/core/ElementMetadata","sap/ushell/resources","sap/ushell/ui/launchpad/ActionItem","sap/ushell/ui/launchpad/LoadingDialog","sap/ushell/Container"],(t,e,i,o,n,s,a,l)=>{"use strict";const u=i.Action;const g=i.Icon;const p=s.extend("sap.ushell.ui.footerbar.LogoutButton",{metadata:{library:"sap.ushell"},renderer:e});p.prototype.init=function(){if(s.prototype.init){s.prototype.init.apply(this,arguments)}this.setIcon("sap-icon://log");this.setTooltip(n.i18n.getText("signoutBtn_tooltip"));this.setText(n.i18n.getText("signoutBtn_title"));this.attachPress(this.logout);this.setEnabled()};p.prototype.logout=function(){let t=true;let e=false;let s=new a({text:""});l.getGlobalDirty().done(p=>{t=false;if(e===true){s.exit();s=new a({text:""})}const r=n.i18n;let c;if(p===l.DirtyState.DIRTY){c={message:r.getText("unsaved_data_warning_popup_message"),icon:g.WARNING,messageTitle:r.getText("unsaved_data_warning_popup_title")}}else{c={message:r.getText("signoutConfirmationMsg"),icon:g.QUESTION,messageTitle:r.getText("signoutMsgTitle")}}i.show(c.message,c.icon,c.messageTitle,[u.OK,u.CANCEL],t=>{if(t===u.OK){s.openLoadingScreen();s.showAppInfo(n.i18n.getText("beforeLogoutMsg"),null);l.logout()}},o.uid("confirm"))});if(t===true){s.openLoadingScreen();e=true}};p.prototype.setEnabled=function(e){if(!l.isInitialized()){if(this.getEnabled()){t.warning("Disabling 'Logout' button: unified shell container not initialized",null,"sap.ushell.ui.footerbar.LogoutButton")}e=false}s.prototype.setEnabled.call(this,e)};return p});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/footerbar/SaveAsTile.controller", ["sap/ui/core/mvc/Controller","sap/base/Log","sap/ushell/resources","sap/ui/core/library","sap/ui/thirdparty/hasher","sap/ushell/Container"],(e,t,r,o,i,s)=>{"use strict";const n=o.ValueState;return e.extend("sap.ushell.ui.footerbar.SaveAsTile",{onInit:function(){const e=this.getView();e.getTitleInput().attachLiveChange(function(){if(this.getValue()===""){this.setValueStateText(r.i18n.getText("bookmarkTitleInputError"));this.setValueState(n.Error)}else{this.setValueState(n.None)}})},loadPersonalizedGroups:function(){return s.getServiceAsync("LaunchPage").then(e=>new Promise((t,r)=>{e.getGroupsForBookmarks().done(t).fail(r)})).then(e=>{const t=this.getView().getModel();t.setProperty("/groups",e);t.setProperty("/groups/length",e.length)}).catch(()=>{t.error("SaveAsTile controller: Unable to determine targets for bookmark placement.")})},getLocalizedText:function(e,t){return t?r.i18n.getText(e,t):r.i18n.getText(e)},getBookmarkTileData:function(){const e=this.getView();const t=e.getModel();const r=e.getViewData();let o;if(e.oGroupsSelect&&e.oGroupsSelect.getSelectedItem()){o=e.oGroupsSelect.getSelectedItem().getBindingContext().getObject()}let s;if(r.customUrl){if(typeof r.customUrl==="function"){s=r.customUrl()}else{s=r.customUrl}}else{s=i.getHash()?`#${i.getHash()}`:window.location.href}const n={title:t.getProperty("/title")||"",subtitle:t.getProperty("/subtitle")||"",url:s,icon:t.getProperty("/icon")||"",info:t.getProperty("/info")||"",numberUnit:t.getProperty("/numberUnit")||"",serviceUrl:typeof r.serviceUrl==="function"?r.serviceUrl():r.serviceUrl,dataSource:t.getProperty("/dataSource"),serviceRefreshInterval:t.getProperty("/serviceRefreshInterval"),group:o,keywords:t.getProperty("/keywords")||""};n.title=n.title.substring(0,256).trim();n.subtitle=n.subtitle.substring(0,256).trim();n.info=n.info.substring(0,256).trim();if(n.serviceUrl===undefined){delete n.serviceUrl;delete n.serviceRefreshInterval}return n},onExit:function(){const e=this.getView();const t=e.getTileView();t.destroy()}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/footerbar/SaveAsTile.view", ["sap/m/FlexBox","sap/m/VBox","sap/ui/layout/form/SimpleForm","sap/m/GenericTile","sap/m/ImageContent","sap/m/Input","sap/m/Label","sap/m/library","sap/m/NumericContent","sap/m/Select","sap/m/TileContent","sap/ui/core/ListItem","sap/ui/core/mvc/View","sap/ui/model/BindingMode","sap/ushell/resources","sap/ushell/ui/footerbar/SaveAsTile.controller"],(e,t,o,i,l,s,n,a,r,u,p,h,c,d,w)=>{"use strict";const b=a.FlexJustifyContent;const m=a.FlexAlignItems;return c.extend("sap.ushell.ui.footerbar.SaveAsTile",{getControllerName:function(){return"sap.ushell.ui.footerbar.SaveAsTile"},createContent:function(){this.oResourceBundle=w.i18n;this.viewData=this.getViewData()||{};this.appData=this.viewData.appData||{};this.oTitleInput=new s("bookmarkTitleInput",{placeholder:this.oResourceBundle.getText("bookmarkDialogoTitle_tooltip"),value:{path:"/title",mode:d.TwoWay}});this.oSubTitleInput=new s("bookmarkSubTitleInput",{placeholder:this.oResourceBundle.getText("bookmarkDialogoSubTitle_tooltip"),value:{path:"/subtitle",mode:d.TwoWay}});this.oInfoInput=new s("bookmarkInfoInput",{placeholder:this.oResourceBundle.getText("bookmarkDialogoDescription_tooltip"),value:{path:"/info",mode:d.TwoWay},visible:"{/showInfo}"});let a;if(this.viewData.serviceUrl){a=new i({header:"{/title}",subheader:"{/subtitle}",pressEnabled:false,ariaLabel:this.oResourceBundle.getText("previewFld"),tileContent:[new p({footer:"{/info}",unit:"{/numberUnit}",content:[new r({value:"{/numberValue}",truncateValueTo:5,icon:"{/icon}",withMargin:false,width:"100%"})]})]}).addStyleClass("sapUiResponsiveMargin")}else{a=new i({header:"{/title}",subheader:"{/subtitle}",pressEnabled:false,ariaLabel:this.oResourceBundle.getText("previewFld"),tileContent:[new p({footer:"{/info}",content:new l({src:"{/icon}"})})]}).addStyleClass("sapUiResponsiveMargin")}a.addEventDelegate({onAfterRendering:function(){a.getDomRef().removeAttribute("tabindex")}});this.setTileView(a);const c=new e("saveAsTileHBox",{items:[a],alignItems:m.Center,justifyContent:b.Center,visible:"{/showPreview}"}).addStyleClass("sapUshellAddBookmarkTileBackground");const g=new n("previewLbl",{text:this.oResourceBundle.getText("previewFld"),labelFor:c,visible:"{/showPreview}"});this.oGroupsSelect=new u("groupsSelect",{items:{path:"/groups",template:new h({text:"{title}"})},width:"100%",visible:{parts:["/showGroupSelection","/groups"],formatter:function(e,t){if(e&&!(t&&t.length)){this.oController.loadPersonalizedGroups()}return e}.bind(this)}});const T=new n("titleLbl",{showColon:true,required:true,text:this.oResourceBundle.getText("titleFld"),labelFor:this.oTitleInput});const f=new n("subtitleLbl",{showColon:true,text:this.oResourceBundle.getText("subtitleFld"),labelFor:this.oSubTitleInput});const v=new n("infoLbl",{text:this.oResourceBundle.getText("tileSettingsDialog_informationField"),showColon:true,labelFor:this.oInfoInput,visible:"{/showInfo}"});const I=this.oResourceBundle.getText("GroupListItem_label");const x=new n("groupLbl",{text:I,labelFor:this.oGroupsSelect,visible:"{/showGroupSelection}"});return[new t({items:[g,c]}).addStyleClass("sapUiSmallMargin"),new o({content:[T,this.oTitleInput,f,this.oSubTitleInput,v,this.oInfoInput,x,this.oGroupsSelect]})]},getTitleInput:function(){return this.oTitleInput},getTileView:function(){return this.tileView},setTileView:function(e){this.tileView=e}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/footerbar/SendAsEmailButton", ["sap/base/Log","sap/m/Button","sap/m/ButtonRenderer","sap/m/library","sap/ushell/resources","sap/ushell/Container","sap/ushell/state/ShellModel"],(e,t,s,i,n,l,r)=>{"use strict";const a=i.URLHelper;const o=t.extend("sap.ushell.ui.footerbar.SendAsEmailButton",{metadata:{library:"sap.ushell",properties:{beforePressHandler:{type:"function",group:"Misc",defaultValue:null},afterPressHandler:{type:"function",group:"Misc",defaultValue:null}}},renderer:s});o.prototype.init=function(){if(t.prototype.init){t.prototype.init.apply(this,arguments)}this.setIcon("sap-icon://email");this.setText(n.i18n.getText("sendEmailBtn"));this.setTooltip(n.i18n.getText("sendEmailBtn_tooltip"));this.attachPress(()=>{const e=this.getBeforePressHandler();if(e){e()}this.sendAsEmailPressed(this.getAfterPressHandler())})};o.prototype.sendAsEmailPressed=function(t){if(l.inAppRuntime()){sap.ui.require(["sap/ushell/appRuntime/ui5/AppCommunicationMgr"],e=>{e.sendMessageToOuterShell("sap.ushell.services.ShellUIService.sendEmailWithFLPButton",{bSetAppStateToPublic:true})})}else{const t=document.URL;const s=r.getModel().getProperty("/application/title");const i=s===undefined?n.i18n.getText("linkToApplication"):`${n.i18n.getText("linkTo")} '${s}'`;l.getServiceAsync("AppState").then(s=>{s.setAppStateToPublic(t).done(e=>{a.triggerEmail(null,i,e)}).fail(e.error)})}if(t){t()}};return o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/AccessibilityCustomData", ["sap/ui/core/ControlBehavior","sap/ui/core/CustomData"],(e,t)=>{"use strict";const i=t.extend("sap.ushell.ui.launchpad.AccessibilityCustomData",{metadata:{library:"sap.ushell"}});i.prototype._checkWriteToDom=function(){if(!e.isAccessibilityEnabled()){return null}const i=this.getKey();const a=t.prototype._checkWriteToDom.apply(this,arguments);if(a&&(i.indexOf("aria-")===0||i==="role"||i==="tabindex")){a.key=a.key.replace(/^data-/,"")}return a};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/ActionItem", ["sap/m/Button","sap/m/ButtonRenderer","sap/m/library"],(e,t,s)=>{"use strict";const r=s.ButtonType;const n=e.extend("sap.ushell.ui.launchpad.ActionItem",{metadata:{library:"sap.ushell",properties:{actionType:{type:"string",group:"Appearance",defaultValue:"standard"}},events:{press:{},afterRendering:{}}},renderer:t});n.prototype.setActionType=function(e){if(!this.sOrigType){this.sOrigType=this.getType()}this.setType(e==="action"?r.Unstyled:this.sOrigType||r.Standard);this.setProperty("actionType",e,true)};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/AnchorItem", ["sap/ui/core/Control","sap/ushell/ui/launchpad/AnchorItemRenderer","sap/ushell/library"],(e,t)=>{"use strict";const i=e.extend("sap.ushell.ui.launchpad.AnchorItem",{metadata:{library:"sap.ushell",properties:{title:{type:"string",group:"Misc",defaultValue:null},selected:{type:"boolean",group:"Misc",defaultValue:false},groupId:{type:"string",group:"Misc",defaultValue:null},defaultGroup:{type:"boolean",group:"Misc",defaultValue:false},helpId:{type:"string",group:"Misc",defaultValue:null},index:{type:"int",group:"Misc",defaultValue:null},isGroupVisible:{type:"boolean",group:"Misc",defaultValue:true},isGroupRendered:{type:"boolean",group:"Misc",defaultValue:false},isGroupDisabled:{type:"boolean",group:"Misc",defaultValue:false},locked:{type:"boolean",group:"Misc",defaultValue:false},posinset:{type:"int",group:"Misc",defaultValue:0},setsize:{type:"int",group:"Misc",defaultValue:0}},events:{press:{},afterRendering:{},visibilityChanged:{}}},renderer:t});i.prototype.init=function(){this.addDelegate({onAfterRendering:this.fireAfterRendering.bind(this),onclick:this.firePress.bind(this),onsapenter:this.firePress.bind(this),onsapspace:function(e){e.preventDefault();this.firePress()}.bind(this)})};i.prototype.setVisible=function(e,t){this.setProperty("visible",e,t);this.fireVisibilityChanged();return this};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/AnchorItemRenderer", ()=>{"use strict";const e={apiVersion:2,render:function(e,t){const s=t.getGroupId();const a=t.getSelected();e.openStart("li",t);e.attr("modelGroupId",s);e.attr("role","tab");e.attr("aria-selected",a);e.class("sapUshellAnchorItem");if(t.getSetsize()){e.attr("aria-posinset",t.getPosinset());e.attr("aria-setsize",t.getSetsize())}if(t.getHelpId()){if(t.getDefaultGroup()){e.class("help-id-homeAnchorNavigationBarItem")}else{e.class("help-id-anchorNavigationBarItem")}e.attr("data-help-id",t.getHelpId())}if(a){e.attr("tabindex","0");e.class("sapUshellAnchorItemSelected")}if(!t.getVisible()||!t.getIsGroupVisible()){e.class("sapUshellShellHidden")}e.openEnd();e.openStart("div",`${t.getId()}-inner`);e.class("sapUshellAnchorItemInner");if(t.getIsGroupDisabled()){e.class("sapUshellAnchorItemDisabled")}e.openEnd();e.text(t.getTitle());e.close("div");e.close("li")}};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/AnchorNavigationBar", ["./AnchorNavigationBarRenderer","sap/base/i18n/Localization","sap/base/util/isEmptyObject","sap/m/Bar","sap/m/Button","sap/ui/core/Element","sap/ui/core/ResizeHandler","sap/ui/Device","sap/ui/thirdparty/jquery","sap/ushell/library","sap/ushell/resources"],(t,e,s,o,i,l,r,n,jQuery,h,a)=>{"use strict";const c=o.extend("sap.ushell.ui.launchpad.AnchorNavigationBar",{metadata:{library:"sap.ushell",properties:{accessibilityLabel:{type:"string",defaultValue:null},selectedItemIndex:{type:"int",group:"Misc",defaultValue:0},overflowEnabled:{type:"boolean",group:"Misc",defaultValue:true}},aggregations:{groups:{type:"sap.ushell.ui.launchpad.AnchorItem",multiple:true,singularName:"group"}},events:{afterRendering:{},itemPress:{}}},renderer:t});c.prototype.init=function(){this.bGroupWasPressed=false;this.bIsRtl=e.getRTL();this._bIsRenderedCompletely=false;this.fnNavigationBarItemsVisibility=this.setNavigationBarItemsVisibility.bind(this);this.fnAdjustVisibleAnchorItemsAccessibility=this.adjustVisibleAnchorItemsAccessibility.bind(this)};c.prototype.onBeforeRendering=function(){if(this._sResizeListenerId){r.deregister(this._sResizeListenerId);this._sResizeListenerId=null}const t=window.document.getElementsByClassName("sapUshellAnchorNavigationBarItemsScroll")[0];if(t){t.removeEventListener("scroll",this.fnNavigationBarItemsVisibility)}};c.prototype.onAfterRendering=function(){const t=this.getDomRef();if(this._bIsRenderedCompletely){this.reArrangeNavigationBarElements();this.adjustVisibleAnchorItemsAccessibility();const e=window.document.getElementsByClassName("sapUshellAnchorNavigationBarItemsScroll")[0];if(e){e.addEventListener("scroll",this.fnNavigationBarItemsVisibility)}if(t){this._sResizeListenerId=r.register(t,this.reArrangeNavigationBarElements.bind(this))}}};c.prototype.openOverflowPopup=function(){const t=jQuery(".sapUshellAnchorItemOverFlow").hasClass("sapUshellAnchorItemOverFlowOpen");if(this.oOverflowButton&&!t){this.oOverflowButton.firePress()}};c.prototype.closeOverflowPopup=function(){if(this.oPopover){this.oPopover.close()}};c.prototype.reArrangeNavigationBarElements=function(){this.anchorItems=this.getVisibleGroups();const t=this.getSelectedItemIndex()||0;if(this.anchorItems.length){this.adjustItemSelection(t)}if(n.system.phone&&this.anchorItems.length){this.anchorItems.forEach(t=>{t.setIsGroupVisible(false)});this.anchorItems[this.getSelectedItemIndex()].setIsGroupVisible(true)}else{setTimeout(()=>{if(this.isDestroyed()){return}this.setNavigationBarItemsVisibility()},200)}};c.prototype._scrollToGroupByGroupIndex=function(t,e){const s=n.system.tablet?".sapUshellAnchorNavigationBarItemsScroll":".sapUshellAnchorNavigationBarItems";const o=document.documentElement.querySelector(s);const i=this.anchorItems[t].getDomRef();if(o&&i){const t=o.getBoundingClientRect();const e=i.getBoundingClientRect();const s=jQuery(o);const l=this.bIsRtl?s.scrollLeftRTL():o.scrollLeft;let r;if(e.left<t.left){r=e.left-t.left-16}else if(e.right>t.right){r=e.right-t.right+16}if(r){if(this.bIsRtl){s.scrollLeftRTL(l+r)}else{o.scrollLeft=l+r}}this.setNavigationBarItemsVisibility()}};c.prototype.setNavigationBarItemsVisibility=function(){if(!n.system.phone){this.setNavigationBarItemsVisibilityOnDesktop()}else if(this.anchorItems&&this.anchorItems.length>0){this.oOverflowButton.removeStyleClass("sapUshellShellHidden");const t=this.getSelectedItemIndex()||0;if(this.oPopover){this.oPopover.setTitle(this.anchorItems[t].getTitle())}}};c.prototype.setNavigationBarItemsVisibilityOnDesktop=function(){if(this.anchorItems.length&&(!this.isMostRightAnchorItemVisible()||!this.isMostLeftAnchorItemVisible())){this.oOverflowButton.removeStyleClass("sapUshellShellHidden")}else if(this.oOverflowButton){this.oOverflowButton.addStyleClass("sapUshellShellHidden")}if(this.bIsRtl){if(this.anchorItems.length&&!this.isMostLeftAnchorItemVisible()){this.oOverflowRightButton.removeStyleClass("sapUshellShellHidden")}else if(this.oOverflowRightButton){this.oOverflowRightButton.addStyleClass("sapUshellShellHidden")}if(this.anchorItems.length&&!this.isMostRightAnchorItemVisible()){this.oOverflowLeftButton.removeStyleClass("sapUshellShellHidden")}else if(this.oOverflowLeftButton){this.oOverflowLeftButton.addStyleClass("sapUshellShellHidden")}}else{if(this.anchorItems.length&&!this.isMostLeftAnchorItemVisible()){this.oOverflowLeftButton.removeStyleClass("sapUshellShellHidden")}else if(this.oOverflowLeftButton){this.oOverflowLeftButton.addStyleClass("sapUshellShellHidden")}if(this.anchorItems.length&&!this.isMostRightAnchorItemVisible()){this.oOverflowRightButton.removeStyleClass("sapUshellShellHidden")}else if(this.oOverflowRightButton){this.oOverflowRightButton.addStyleClass("sapUshellShellHidden")}}};c.prototype.adjustItemSelection=function(t){setTimeout(()=>{if(this.anchorItems&&this.anchorItems.length){this.anchorItems.forEach(t=>{t.setSelected(false)});if(t>=0&&t<this.anchorItems.length){this.anchorItems[t].setSelected(true);this._scrollToGroupByGroupIndex(t)}}},50)};c.prototype.isMostRightAnchorItemVisible=function(){const t=jQuery(".sapUshellAnchorNavigationBarInner");const e=!s(t)?t.width():0;const o=!s(t)&&t.offset()?t.offset().left:0;const i=this.bIsRtl?this.anchorItems[0].getDomRef():this.anchorItems[this.anchorItems.length-1].getDomRef();let l=!s(i)?jQuery(i).width():0;if(l<0){l=80}const r=i&&jQuery(i).offset()?jQuery(i).offset().left:0;return Math.ceil(r)+l<=o+e};c.prototype.isMostLeftAnchorItemVisible=function(){const t=jQuery(".sapUshellAnchorNavigationBarInner");const e=!s(t)&&t.offset()&&t.offset().left||0;const o=this.bIsRtl?this.anchorItems[this.anchorItems.length-1].getDomRef():this.anchorItems[0].getDomRef();const i=!s(o)&&jQuery(o).offset()?jQuery(o).offset().left:0;return Math.ceil(i)>=e};c.prototype.setSelectedItemIndex=function(t){if(t!==undefined){this.setProperty("selectedItemIndex",t,true)}};c.prototype.setOverflowEnabled=function(t){this.setProperty("overflowEnabled",t);if(this.oOverflowButton){this.oOverflowButton.setEnabled(t)}};c.prototype._getOverflowLeftArrowButton=function(){if(!this.oOverflowLeftButton){this.oOverflowLeftButton=new i({icon:"sap-icon://slim-arrow-left",tooltip:a.i18n.getText("scrollToTop"),press:function(){this._scrollToGroupByGroupIndex(0)}.bind(this)}).addStyleClass("sapUshellShellHidden");this.oOverflowLeftButton._bExcludeFromTabChain=true}return this.oOverflowLeftButton};c.prototype._getOverflowRightArrowButton=function(){if(!this.oOverflowRightButton){this.oOverflowRightButton=new i({icon:"sap-icon://slim-arrow-right",tooltip:a.i18n.getText("scrollToEnd"),press:function(){this._scrollToGroupByGroupIndex(this.anchorItems.length-1)}.bind(this)}).addStyleClass("sapUshellShellHidden");this.oOverflowRightButton._bExcludeFromTabChain=true}return this.oOverflowRightButton};c.prototype._getOverflowButton=function(){if(!this.oOverflowButton){this.oOverflowButton=new i("sapUshellAnchorBarOverflowButton",{icon:"sap-icon://slim-arrow-down",tooltip:a.i18n.getText("more_groups"),enabled:this.getOverflowEnabled(),press:function(){this._togglePopover()}.bind(this)}).addStyleClass("sapUshellShellHidden")}return this.oOverflowButton};c.prototype._togglePopover=function(){sap.ui.require(["sap/m/Popover","sap/ui/model/Filter","sap/ushell/ui/launchpad/GroupListItem","sap/m/List","sap/m/library"],(t,s,o,i,r)=>{const n=r.ListMode;if(!this.oPopover){this.oList=new i({mode:n.SingleSelectMaster,rememberSelections:false,selectionChange:function(t){this.fireItemPress({group:t.getParameter("listItem")});this.oPopover.close()}.bind(this)});this.oPopover=new t("sapUshellAnchorBarOverflowPopover",{showArrow:false,showHeader:false,placement:"Left",content:[this.oList],horizontalScrolling:false,beforeOpen:function(){const t=jQuery(".sapUshellAnchorItemOverFlow");const s=e.getRTL();const o=s?-1*t.outerWidth():t.outerWidth();this.setOffsetX(o)},afterClose:function(){jQuery(".sapUshellAnchorItemOverFlow").removeClass("sapUshellAnchorItemOverFlowOpen");jQuery(".sapUshellAnchorItemOverFlow").toggleClass("sapUshellAnchorItemOverFlowPressed",false)}}).addStyleClass("sapUshellAnchorItemsPopover").addStyleClass("sapContrastPlus")}if(this.oPopover.isOpen()){this.oPopover.close()}else{this.anchorItems=this.getVisibleGroups();this.oList.setModel(this.getModel());const t=this.getModel().getProperty("/tileActionModeActive");const e=new s("","EQ","a");e.fnTest=function(e){if(!e.visibilityModes[t?1:0]){return false}return e.isGroupVisible||t};this.oList.bindItems({path:"/groups",template:new o({title:"{title}",groupId:"{groupId}",index:"{index}"}),filters:[e]});const i=jQuery(".sapUshellAnchorItemSelected").attr("id");const r=l.getElementById(i);this.oList.getItems().forEach(t=>{if(r.mProperties.groupId===t.mProperties.groupId){t.addStyleClass("sapUshellAnchorPopoverItemSelected")}else{t.addStyleClass("sapUshellAnchorPopoverItemNonSelected")}});jQuery(".sapUshellAnchorItemOverFlow").toggleClass("sapUshellAnchorItemOverFlowPressed",true);this.oPopover.openBy(this.oOverflowButton)}})};c.prototype.getVisibleGroups=function(){return this.getGroups().filter(t=>t.getVisible())};c.prototype._setRenderedCompletely=function(t){this._bIsRenderedCompletely=t};c.prototype.handleAnchorItemPress=function(t){this.bGroupWasPressed=true;this.fireItemPress({group:t.getSource(),manualPress:true})};c.prototype.adjustVisibleAnchorItemsAccessibility=function(){const t=this.getVisibleGroups();const e=t.length;t.forEach((t,s)=>{t.setPosinset(s+1);t.setSetsize(e)})};c.prototype.addGroup=function(t,e){t.attachVisibilityChanged(this.fnAdjustVisibleAnchorItemsAccessibility);return this.addAggregation("groups",t,e)};c.prototype.insertGroup=function(t,e,s){t.attachVisibilityChanged(this.fnAdjustVisibleAnchorItemsAccessibility);return this.insertAggregation("groups",t,e,s)};c.prototype.removeGroup=function(t,e){t.detachVisibilityChanged(this.fnAdjustVisibleAnchorItemsAccessibility);return this.removeAggregation("groups",t,e)};c.prototype.exit=function(){if(this.oOverflowLeftButton){this.oOverflowLeftButton.destroy()}if(this.oOverflowRightButton){this.oOverflowRightButton.destroy()}if(this.oOverflowButton){this.oOverflowButton.destroy()}if(this.oPopover){this.oPopover.destroy()}if(o.prototype.exit){o.prototype.exit.apply(this,arguments)}if(this._sResizeListenerId){r.deregister(this._sResizeListenerId);this._sResizeListenerId=null}};return c});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/AnchorNavigationBarRenderer", ["sap/ushell/resources","sap/ui/core/library"],(e,t)=>{"use strict";const r=t.AccessibleLandmarkRole;const a={apiVersion:2};a.render=function(t,a){t.openStart("div",a);t.attr("role",r.Navigation);t.attr("aria-label",e.i18n.getText("Dashboard.Page.Header.AriaLabel"));t.attr("data-sap-ui-customfastnavgroup","true");t.class("sapUshellAnchorNavigationBar");t.class("sapMPageHeader");t.class("sapMIBar-CTX");t.class("sapMHeader-CTX");t.openEnd();t.openStart("div");t.class("sapUshellAnchorNavigationBarInner");t.openEnd();if(a.getGroups().length>0){a._setRenderedCompletely(true);t.openStart("div");t.class("sapUshellAnchorLeftOverFlowButton");t.accessibilityState(a._getOverflowLeftArrowButton(),{hidden:true});t.openEnd();t.renderControl(a._getOverflowLeftArrowButton());t.close("div");t.openStart("div");t.class("sapUshellAnchorNavigationBarItems");t.openEnd();t.openStart("ul");t.class("sapUshellAnchorNavigationBarItemsScroll");t.accessibilityState(a,{role:"tablist",label:e.i18n.getText("AnchorNavigationBar_AriaLabel")});t.openEnd();this.renderAnchorNavigationItems(t,a);t.close("ul");t.close("div");t.openStart("div");t.class("sapUshellAnchorRightOverFlowButton");t.accessibilityState(a._getOverflowRightArrowButton(),{hidden:true});t.openEnd();t.renderControl(a._getOverflowRightArrowButton());t.close("div");t.openStart("div");t.class("sapUshellAnchorItemOverFlow");t.accessibilityState(a._getOverflowButton(),{hidden:true});t.openEnd();t.renderControl(a._getOverflowButton());t.close("div")}t.close("div");t.close("div")};a.renderAnchorNavigationItems=function(e,t){t.getGroups().forEach(t=>{e.renderControl(t)})};a.shouldAddIBarContext=function(){return false};return a},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/CatalogEntryContainer", ["sap/base/Log","sap/ui/core/Control","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/TileContainerUtils","sap/ushell/Container"],(e,t,n,i,s,a)=>{"use strict";const l=t.extend("sap.ushell.ui.launchpad.CatalogEntryContainer",{metadata:{library:"sap.ushell",properties:{header:{type:"string",group:"Appearance",defaultValue:null},catalogSearchTerm:{type:"string",group:"Appearance",defaultValue:null},catalogTagSelector:{type:"object",group:"Appearance",defaultValue:null}},aggregations:{appBoxesContainer:{type:"sap.ushell.ui.appfinder.AppBoxInternal",multiple:true},customTilesContainer:{type:"sap.ushell.ui.launchpad.Tile",multiple:true}}},renderer:{apiVersion:2,render:function(e,t){e.openStart("div",t);e.attr("aria-labeledby",`${t.getId()}-title`);e.attr("role","group");e.class("sapUshellTileContainer");e.class("sapUshellCatalogTileContainer");e.openEnd();e.openStart("div");e.class("sapUshellTileContainerContent");e.attr("tabindex","-1");e.openEnd();let n=t.getHeader();if(n){if(i.i18n.hasText(n)){n=i.i18n.getText(n)}e.openStart("div");e.class("sapUshellTileContainerHeader");e.class("sapUshellCatalogTileContainerHeader");e.attr("id",`${t.getId()}-groupheader`);e.openEnd();e.openStart("div");e.class("sapUshellCatalogTileContainerHeaderInner");e.attr("id",`${t.getId()}-title`);e.openEnd();e.openStart("h2");e.class("sapUshellContainerTitle");e.class("sapUshellCatalogContainerTitle");e.attr("title",n);e.attr("aria-level","2");e.openEnd();e.text(n);e.close("h2");e.close("div");e.close("div")}const s=t.getAppBoxesContainer();let a;const l=t.getCustomTilesContainer();if(s.length>0||l.length>0){e.openStart("ul");e.class("sapUshellInner");e.openEnd();for(a=0;a<s.length;a++){e.renderControl(s[a])}if(s.length&&l.length){e.voidStart("br");e.voidEnd()}for(a=0;a<l.length;a++){e.renderControl(l[a])}e.close("ul")}e.close("div");e.close("div")}}});l.prototype.setAfterHandleElements=function(e){this.onAfterHandleElements=e};l.prototype.onAfterUpdate=function(e){this.fnCallback=e};l.prototype.updateAggregation=function(t){e.debug("Updating CatalogEntryContainer. Reason: ",t)};l.prototype.addNewItem=function(e,t){if(this.catalogState[t]!=="full"&&this.getAllocatedUnits&&!this.getAllocatedUnits()){this.catalogState[t]="partial";return false}if(t==="customTilesContainer"){const t=e.getObject&&e.getObject().src;if(t!==undefined){let e;if(t.Chip!==undefined&&t.Chip.getContract!==undefined){e=t.Chip.getContract("preview")}else if(t.getContract!==undefined){e=t.getContract("preview")}if(e!==undefined){e.setEnabled(true)}}a.getServiceAsync("FlpLaunchPage").then(t=>{t.getCatalogTileViewControl(e.getProperty("src")).done(t=>{e.getModel().setProperty(`${e.getPath()}/content`,[t])})})}const n=s.createNewItem.bind(this)(e,t);s.addNewItem.bind(this)(n,t);const i=t==="appBoxesContainer"?this.getAppBoxesContainer():this.getCustomTilesContainer();const l=e.getPath();this.indexingMaps[t].onScreenPathIndexMap[l]={aItemsRefrenceIndex:i.length-1,isVisible:true};return true};l.prototype.getNumberResults=function(){return{nAppboxes:this.nNumberOfVisibleElements.appBoxesContainer,nCustom:this.nNumberOfVisibleElements.customTilesContainer}};l.prototype.handleElements=function(e){const t=e;const n=this.mBindingInfos[t].binding;const i=n.getContexts();let a;if(!this.catalogState){this.catalogState={}}if(!this.catalogState[e]){this.catalogState[e]="start"}if(!this.indexingMaps){this.indexingMaps={}}if(!this.nNumberOfVisibleElements){this.nNumberOfVisibleElements=[]}if(!this.nNumberOfVisibleElements.customTilesContainer){this.nNumberOfVisibleElements.customTilesContainer=0}if(!this.nNumberOfVisibleElements.appBoxesContainer){this.nNumberOfVisibleElements.appBoxesContainer=0}if(!this.filters){this.filters={}}a=t==="appBoxesContainer"?this.getAppBoxesContainer():this.getCustomTilesContainer();this.indexingMaps[t]=s.indexOnScreenElements(a,false);const l=s.markVisibleOnScreenElementsSearchCatalog(i,this.indexingMaps[t],true);if(s.createMissingElementsInOnScreenElementsSearchCatalog(this.indexingMaps[t],i,l,this.addNewItem.bind(this),a,this.filters[t],t,this.processFiltering.bind(this))){if(this.getAllocatedUnits&&this.getAllocatedUnits()){this.catalogState[e]="full"}}a=t==="appBoxesContainer"?this.getAppBoxesContainer():this.getCustomTilesContainer();const o=s.showHideTilesAndHeaders(this.indexingMaps[t],a);this.nNumberOfVisibleElements[t]=o.nCountVisibleElements;if(this.fnCallback){this.fnCallback(this)}if(this.onAfterHandleElements){this.onAfterHandleElements(this)}};l.prototype.processFiltering=function(e,t){const n=e.getPath();if(t){const e=this.indexingMaps[t].onScreenPathIndexMap[n];if(e.isVisible&&this.currElementVisible){this.currElementVisible()}}};return l});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/CatalogsContainer", ["sap/base/Log","sap/ui/core/Control","sap/ui/performance/Measurement","sap/ushell/library","sap/ushell/ui/launchpad/TileContainerUtils","sap/ushell/resources"],(t,e,i,n,s,a)=>{"use strict";const l=e.extend("sap.ushell.ui.launchpad.CatalogsContainer",{metadata:{library:"sap.ushell",properties:{categoryFilter:{type:"string",defaultValue:"ALL"},categoryAllocateTiles:{type:"int",defaultValue:"0"}},aggregations:{catalogs:{type:"sap.ushell.ui.launchpad.CatalogEntryContainer",multiple:true}}},renderer:{apiVersion:2,render:function(t,e){const i=e.getCatalogs();t.openStart("div",e);t.class("sapUshellCatalogsContainer");t.openEnd();for(let e=0,n=i.length;e<n;++e){t.renderControl(i[e])}t.close("div")}}});l.prototype.onBeforeRendering=function(){if(this.getCatalogs().length){this.setBusy(false)}};l.prototype.setPagingManager=function(t){i.start("FLP:DashboardManager.CatalogsRendering","CatalogsRendering","FLP");i.pause("FLP:DashboardManager.CatalogsRendering");this.oPagingManager=t};l.prototype.updateAllocatedUnits=function(t){this.nAllocatedUnits=t};l.prototype.applyPagingCategoryFilters=function(t,e){const i=this.getCatalogs();this.nAllocatedUnits=t;if(e&&e!==a.i18n.getText("all")){this.sCatalogTerm=e}else{this.sCatalogTerm=""}if(!this.filters){this.filters={}}if(!this.filters.catalogEntry){this.filters.catalogEntry=function(t){const e=t.getPath();const i=t.getProperty("title")===this.sCatalogTerm;if(!this.sCatalogTerm){return}const n=this.indexingMaps.onScreenPathIndexMap[e];if(n){n.isVisible=i}}.bind(this)}if(!this.filters.pagination){this.filters.pagination=function(t){const e=t.getPath();const i=this.indexingMaps.onScreenPathIndexMap[e];if(!this.nAllocatedUnits){i.isVisible=false}}.bind(this)}if(!this.indexingMaps){return}this.indexingMaps=s.indexOnScreenElements(i);s.applyFilterOnAllItems(this.mBindingInfos.catalogs,this.filters,this.processFiltering.bind(this));if(this.indexingMaps){s.showHideTilesAndHeaders(this.indexingMaps,this.getCatalogs())}};l.prototype.processFiltering=function(t){const e=this.getCatalogs();const i=t.getPath();const n=this.indexingMaps.onScreenPathIndexMap[i];const s=e[n.aItemsRefrenceIndex];let a;if(n.isVisible&&(!this.catalogPagination[i]||this.catalogPagination[i]==="start")){if(this.catalogPagination[i]===undefined){this.catalogPagination[i]="start";s.catalogState={}}else if(this.catalogPagination[i]==="start"){const t=s.nNumberOfVisibleElements;this.nAllocatedUnits+=t.appBoxesContainer+t.customTilesContainer}a=this.nAllocatedUnits;s.handleElements("appBoxesContainer");s.handleElements("customTilesContainer");if(s.catalogState.appBoxesContainer==="full"&&s.catalogState.customTilesContainer==="full"){this.catalogPagination[i]="full"}if(a-this.nAllocatedUnits>0){this.bSearchResults=true}else{n.isVisible=false}}else if(n.isVisible&&this.catalogPagination[i]==="full"){const t=s.nNumberOfVisibleElements;const e=t.appBoxesContainer+t.customTilesContainer;if(e===0){n.isVisible=false}}};l.prototype.resetCatalogPagination=function(){this.catalogPagination={}};l.prototype.updateAggregation=function(n){t.debug("Updating TileContainer. Reason: ",n);try{i.resume("FLP:DashboardManager.CatalogsRendering");this.filterElements();i.pause("FLP:DashboardManager.CatalogsRendering")}catch(t){e.prototype.updateAggregation.apply(this,arguments)}};l.prototype.addNewItem=function(t,e){let i;const n=t.getPath();const a=s.createNewItem.bind(this)(t,e);if(!a.filters){a.filters={};a.filters.appBoxesContainer={};a.filters.customTilesContainer={};a.filters.appBoxesContainer.pagination=function(t){const e=this.indexingMaps.appBoxesContainer.onScreenPathIndexMap[t.getPath()];if(this.getAllocatedUnits){e.isVisible=!!this.getAllocatedUnits()}}.bind(a);a.filters.customTilesContainer.pagination=function(t){const e=this.indexingMaps.customTilesContainer.onScreenPathIndexMap[t.getPath()];if(this.getAllocatedUnits){e.isVisible=!!this.getAllocatedUnits()}}.bind(a)}a.nAllocatedUnits=this.nAllocatedUnits;a.getAllocatedUnits=function(){return this.nAllocatedUnits}.bind(this);a.elementFiltered=function(t){i=this.oPagingManager.getSizeofSupportedElementInUnits("tile");this.nAllocatedUnits+=t*i;if(this.nAllocatedUnits<=0){this.nAllocatedUnits=0}}.bind(this);a.elementsVisible=function(t){i=this.oPagingManager.getSizeofSupportedElementInUnits("tile");this.nAllocatedUnits-=t*i;if(this.nAllocatedUnits<=0){this.nAllocatedUnits=0}}.bind(this);a.newElementCreated=function(t,e){this.nAllocatedUnits-=this.oPagingManager.getSizeofSupportedElementInUnits("tile");if(this.nAllocatedUnits<=0){this.nAllocatedUnits=0}}.bind(this);a.currElementVisible=function(){this.nAllocatedUnits-=this.oPagingManager.getSizeofSupportedElementInUnits("tile");if(this.nAllocatedUnits<=0){this.nAllocatedUnits=0}}.bind(this);s.addNewItem.bind(this)(a,e);const l=this.getCatalogs();this.indexingMaps.onScreenPathIndexMap[n]={aItemsRefrenceIndex:l.length-1,isVisible:true};return true};l.prototype.handleFilters=function(){if(!this.catalogPagination){this.catalogPagination={}}if(!this.catalogsElementsMap){this.catalogsElementsMap={}}if(!this.filters){this.filters={}}};l.prototype.setHandleSearchCallback=function(t){this.handleSearchCallback=t};l.prototype.filterElements=function(){const t="catalogs";const e=this.mBindingInfos[t].binding;const i=e.getContexts();let n=this.getCatalogs();if(!this.indexingMaps){this.indexingMaps=s.indexOnScreenElements(n)}this.handleFilters();const a=s.markVisibleOnScreenElements(i,this.indexingMaps,false);if(!s.validateOrder(i,n,a)){throw new Error("Invalid order")}s.createMissingElementsInOnScreenElements(this.indexingMaps,i,a,this.addNewItem.bind(this),n,this.filters,t);n=this.getCatalogs();s.showHideTilesAndHeaders(this.indexingMaps,n);if(this.handleSearchCallback){this.handleSearchCallback()}};return l});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/DashboardGroupsContainer", ["sap/ui/base/ManagedObject","sap/ui/core/Control","sap/ui/core/Core","sap/ui/core/InvisibleText","sap/ushell/Config","sap/ushell/library","sap/ushell/override","sap/ushell/resources","sap/ushell/utils","./DashboardGroupsContainerRenderer"],(e,t,o,s,i,r,n,l,a,p)=>{"use strict";const u=t.extend("sap.ushell.ui.launchpad.DashboardGroupsContainer",{metadata:{library:"sap.ushell",properties:{accessibilityLabel:{type:"string",defaultValue:null},displayMode:{type:"string",defaultValue:null}},aggregations:{groups:{type:"sap.ui.core.Control",multiple:true,singularName:"group"}},events:{afterRendering:{}}},renderer:p});u.prototype.init=function(){this.addInvisibleAccessabilityTexts()};u.prototype.exit=function(){if(this.oTileText){this.oTileText.destroy()}if(this.oTileEditModeText){this.oTileEditModeText.destroy()}t.prototype.exit.apply(this,arguments)};u.prototype.updateGroups=n.updateAggregatesFactory("groups");u.prototype.onAfterRendering=function(){const e=this;const t={bUseUniqueMark:true};a.setPerformanceMark("FLP-TimeToInteractive_tilesLoaded",t);e.fireAfterRendering()};u.prototype.getGroupControlByGroupId=function(e){try{const t=this.getGroups();for(let o=0,s=t.length;o<s;++o){if(t[o].getGroupId()===e){return t[o]}}}catch{}return null};u.prototype.addLinksToUnselectedGroups=function(){const t=this.getGroups();t.forEach((t,o)=>{if(!t.getIsGroupSelected()){e.prototype.updateAggregation.call(t,"links")}})};u.prototype.removeLinksFromAllGroups=function(){const e=this.getGroups();e.forEach((e,t)=>{const o=e.getLinks();if(o.length){if(o[0].getMetadata().getName()==="sap.m.GenericTile"){e.removeAllLinks()}else{for(let e=0;e<o.length;e++){o[e].destroy()}}}})};u.prototype.removeLinksFromUnselectedGroups=function(){const e=this.getGroups();e.forEach((e,t)=>{const o=e.getLinks();if(o.length&&!e.getIsGroupSelected()){if(o[0].getMetadata().getName()==="sap.m.GenericTile"){e.removeAllLinks()}else{for(let e=0;e<o.length;e++){o[e].destroy()}}}})};u.prototype.addInvisibleAccessabilityTexts=function(){this.oTileText=new s("sapUshellDashboardAccessibilityTileText",{text:l.i18n.getText("tile")}).toStatic();const e=o.getLibraryResourceBundle("sap.m");if(e){this.oTileEditModeText=new s("sapUshellDashboardAccessibilityTileEditModeText",{text:e.getText("LIST_ITEM_NAVIGATION")}).toStatic()}};return u});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/DashboardGroupsContainerRenderer", ["sap/ushell/utils"],e=>{"use strict";const s={apiVersion:2};s.render=function(s,t){s.openStart("div",t);s.attr("data-sap-ui-customfastnavgroup","true");s.class("sapUshellDashboardGroupsContainer");if(t.getAccessibilityLabel()){s.accessibilityState(t,{role:"navigation",label:t.getAccessibilityLabel()})}s.openEnd();const a=t.getGroups();let r;for(let e=0;e<a.length;e++){r=a[e];s.openStart("div");s.class("sapUshellDashboardGroupsContainerItem");if(r.getIsGroupLocked()||r.getDefaultGroup()){s.class("sapUshellDisableDragAndDrop")}s.openEnd();s.renderControl(r);s.close("div")}s.close("div");e.setPerformanceMark("FLP -- dashboardgroupscontainer renderer")};return s},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/ExtendedChangeDetection", ["sap/ui/base/ManagedObject","sap/ushell/Config"],(t,e)=>{"use strict";const n=t.extend("sap.ushell.ui.launchpad.ExtendedChangeDetection",{metadata:{library:"sap.ushell",events:{itemDeleted:{},itemAdded:{},itemsReordered:{}}},constructor:function(n,i,o){t.call(this);this._oAggregation=i.getMetadata().getAggregation(n);this._oControl=i;this._sAggregationName=n;this._aSiblingAggregationNames=o;const s=e.last("/core/spaces/extendedChangeDetection/enabled");if(s){this._oControl[this._oAggregation._sUpdater]=this._updateAggregation.bind(this);this._oControl.bUseExtendedChangeDetection=true}}});n.oUpdateFromSiblingCache={};n.prototype._updateAggregation=function(){const t=this._oControl.getBindingInfo(this._sAggregationName);const e=t.binding;const n=this._isUpdateFromSibling();const i=e.aLastContextData||[];const o=i.map(e=>{try{const n=JSON.parse(e);return n[t.key]}catch{return e}});const s=e.getContexts();const r=s.map(e=>e.getProperty(t.key));const g=s.diff;let a;const l=[];const d=[];const h={};let c=false;let f=false;if(g){for(a=0;a<g.length;a++){const t=g[a];if(t.type==="insert"){l.push({item:r[t.index],index:t.index})}if(t.type==="delete"){d.push({item:o[t.index-l.length],index:t.index-l.length});o.splice(t.index-l.length,1)}}for(a=0;a<d.length;a++){h[d[a].item]=this._oControl.removeAggregation(this._sAggregationName,d[a].index,true)}for(a=0;a<l.length;a++){const e=l[a];const n=h[e.item];if(n&&!(g.length>=2&&g[0].index===g[1].index)){this._oControl.insertAggregation(this._sAggregationName,n,e.index,true);delete h[e.item]}else{this._createAndInsertItem(s[e.index],t,e.index);f=true}}c=!!Object.keys(h).length;for(const t in h){h[t].destroy();delete h[t]}}else if(!(n&&r.length===0&&o.length===0)){this._createAndInsertItems(s,t);f=true}else{return}this._updateBindingContexts(s);if(s.length===0){this._oControl.invalidate()}if(c){this.fireItemDeleted()}if(f){this.fireItemAdded()}if(!c&&!f&&g){this.fireItemsReordered()}if(g&&g.length&&!n){this._refreshSiblingBindings()}};n.prototype._isUpdateFromSibling=function(){const t=`${this._oControl.getId()}:${this._sAggregationName}`;if(n.oUpdateFromSiblingCache[t]){delete n.oUpdateFromSiblingCache[t];return true}return false};n.prototype._refreshSiblingBindings=function(){if(this._aSiblingAggregationNames){for(let t=0;t<this._aSiblingAggregationNames.length;++t){const e=this._aSiblingAggregationNames[t];const i=`${this._oControl.getId()}:${e}`;const o=this._oControl.getBinding(e);n.oUpdateFromSiblingCache[i]=true;o.refresh(true)}}};n.prototype._createAndInsertItems=function(t,e){this._oAggregation.destroy(this._oControl);for(let n=0;n<t.length;n++){this._createAndInsertItem(t[n],e,n)}};n.prototype._createAndInsertItem=function(t,e,n){const i=e.factory(null,t);this._oControl.insertAggregation(this._sAggregationName,i,n,true)};n.prototype._updateBindingContexts=function(t){const e=this._oAggregation.get(this._oControl);for(let n=0;n<e.length;n++){e[n].setBindingContext(t[n])}};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/FailedTileDialog", ["sap/ui/core/Fragment","sap/ui/model/json/JSONModel"],(e,t)=>{"use strict";return function(){function o(e){if(!e){throw new Error("Could not find the Tile of the given control")}if(e.isA(["sap.ushell.ui.launchpad.Tile","sap.ushell.ui.launchpad.LinkTileWrapper"])){return e}return o(e.getParent())}function i(e){if(!e){throw new Error("Could not find the Group of the given control")}if(e.isA("sap.ushell.ui.launchpad.TileContainer")){return e}return i(e.getParent())}function n(e){let t={};const n=o(e);if(n.getDebugInfo){const e=n.getDebugInfo();if(e){t=JSON.parse(e);t.debugInfo=e}}if(n.getTileCatalogId){const e=n.getTileCatalogId();if(e){t.chipId=decodeURIComponent(e)}}const r=i(e);const l=r.getBindingContext();if(l){const e=l.getProperty("object");if(e){t.groupId=e.getId()}}return t}this.openFor=function(o){function i(e){if(!e){throw new Error("Could not find the View of the given control")}return e.isA("sap.ui.core.mvc.View")?e:i(e.getParent())}const r=i(o);if(!r.oFailedTileDialog){return e.load({id:r.createId("failedTileDialogFragment"),name:"sap.ushell.ui.launchpad.FailedTileDialog",controller:this}).then(e=>{e.setModel(new t({}));e.bindObject({path:"/"});r.oFailedTileDialog=e;r.addDependent(r.oFailedTileDialog);this.openFor(o)})}const l=r.oFailedTileDialog.getModel();l.setProperty("/",n(o));l.setProperty("/showDetails",false);r.oFailedTileDialog.open();return Promise.resolve()};this.onShowDetails=function(e){e.getSource().getModel().setProperty("/showDetails",true)};this.onClose=function(e){e.getSource().getParent().close()}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/GroupHeaderActions", ["sap/m/Button","sap/m/library","sap/ui/core/Control","sap/ushell/library"],(t,e,o)=>{"use strict";const n=e.ButtonType;const i=e.PlacementType;const s=o.extend("sap.ushell.ui.launchpad.GroupHeaderActions",{metadata:{library:"sap.ushell",properties:{isOverflow:{type:"boolean",group:"Misc",defaultValue:false},tileActionModeActive:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}}},renderer:{apiVersion:2,render:function(t,e){t.openStart("div",e);t.openEnd();const o=e.getContent();if(e.getTileActionModeActive()){if(e.getIsOverflow()){const n=o.some(t=>t.getVisible());if(n){t.renderControl(e._getOverflowButton())}}else{o.forEach(e=>{t.renderControl(e)})}}t.close("div")}}});s.prototype.exit=function(){if(this._oOverflowButton){this._oOverflowButton.destroy()}if(this._oActionSheet){this._oActionSheet.destroy()}};s.prototype._getOverflowButton=function(){if(!this._oOverflowButton){this._oOverflowButton=new t({icon:"sap-icon://overflow",type:n.Transparent,enabled:"{= !${/editTitle}}",press:function(){sap.ui.require(["sap/m/ActionSheet"],t=>{if(!this._oActionSheet){this._oActionSheet=new t({placement:i.Auto})}this._oActionSheet.destroyButtons();this.getContent().forEach(t=>{const e=t.clone();e.setModel(t.getModel());e.setBindingContext(t.getBindingContext());this._oActionSheet.addButton(e)});this._oActionSheet.openBy(this._oOverflowButton)})}.bind(this)}).addStyleClass("sapUshellHeaderActionButton");this._oOverflowButton.setParent(this)}return this._oOverflowButton};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/GroupListItem", ["sap/m/ListItemBase","sap/ushell/library","sap/ushell/utils","./GroupListItemRenderer"],(e,t,r,i)=>{"use strict";const s=e.extend("sap.ushell.ui.launchpad.GroupListItem",{metadata:{library:"sap.ushell",properties:{title:{type:"string",group:"Misc",defaultValue:null},defaultGroup:{type:"boolean",group:"Misc",defaultValue:false},show:{type:"boolean",group:"Misc",defaultValue:true},groupId:{type:"string",group:"Misc",defaultValue:null},index:{type:"int",group:"Misc",defaultValue:null},numberOfTiles:{type:"int",group:"Misc",defaultValue:0},isGroupVisible:{type:"boolean",group:"Misc",defaultValue:true}},events:{press:{},afterRendering:{}}},renderer:i});s.prototype.exit=function(){e.prototype.exit.apply(this,arguments)};s.prototype.onAfterRendering=function(){this.fireAfterRendering()};s.prototype.groupHasVisibleTiles=function(){const e=this.getModel().getProperty(`/groups/${this.getIndex()}/tiles`);const t=this.getModel().getProperty(`/groups/${this.getIndex()}/links`);return r.groupHasVisibleTiles(e,t)};s.prototype.onclick=function(){this.firePress({id:this.getId()})};s.prototype.setGroupId=function(e){this.setProperty("groupId",e,true);return this};s.prototype.setTitle=function(e){this.setProperty("title",e);this.$().find(".sapMSLITitleOnly").text(e);return this};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/GroupListItemRenderer", ["sap/m/ListItemBaseRenderer","sap/ui/core/Renderer"],(e,s)=>{"use strict";const t=s.extend(e);t.apiVersion=2;t.renderLIAttributes=function(e){e.class("sapUshellGroupLI");e.class("sapUshellGroupListItem")};t.renderLIContent=function(e,s){e.openStart("div",s);e.class("sapMSLIDiv");e.class("sapMSLITitleDiv");if(!s.getVisible()){e.style("display","none")}e.openEnd();e.openStart("div",s);e.class("sapMSLITitleOnly");e.openEnd();e.text(s.getTitle());e.close("div");e.close("div")};return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/LinkTileWrapper", ["sap/base/Log","sap/ui/base/ManagedObject","sap/ui/core/Control","sap/ui/core/Core","sap/ui/thirdparty/jquery","sap/ushell/library","sap/ushell/ui/launchpad/AccessibilityCustomData","./LinkTileWrapperRenderer"],(e,t,i,s,jQuery,o,l,a)=>{"use strict";const r=i.extend("sap.ushell.ui.launchpad.LinkTileWrapper",{metadata:{library:"sap.ushell",properties:{uuid:{type:"string",group:"Misc",defaultValue:null},tileCatalogId:{type:"string",group:"Misc",defaultValue:null},tileCatalogIdStable:{type:"string",group:"Misc",defaultValue:null},target:{type:"string",group:"Misc",defaultValue:null},visible:{type:"boolean",group:"Misc",defaultValue:true},debugInfo:{type:"string",group:"Misc",defaultValue:null},animationRendered:{type:"boolean",group:"Misc",defaultValue:false},isLocked:{type:"boolean",group:"Misc",defaultValue:false},tileActionModeActive:{type:"boolean",group:"Misc",defaultValue:false},ieHtml5DnD:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{tileViews:{type:"sap.ui.core.Control",multiple:true,singularName:"tileView"},footItems:{type:"sap.ui.core.Control",multiple:true,singularName:"footItem"}},events:{press:{},coverDivPress:{},afterRendering:{},showActions:{}}},renderer:a});r.prototype.destroy=function(e){this.destroyTileViews();i.prototype.destroy.call(this,e)};r.prototype.addTileView=function(e,i){e.setParent(null);e.addCustomData(new l({key:"tabindex",value:"-1",writeToDom:true}));t.prototype.addAggregation.call(this,"tileViews",e,i)};r.prototype.destroyTileViews=function(){if(this.mAggregations.tileViews){this.mAggregations.tileViews.length=0}};r.prototype.onAfterRendering=function(){this.fireAfterRendering()};r.prototype.onclick=r.prototype._onPress;r.prototype.onsapenter=r.prototype._launchTileViaKeyboard;r.prototype.onsapspace=r.prototype._launchTileViaKeyboard;r.prototype._launchTileViaKeyboard=function(t){e.info("Tile pressed:",this.getDebugInfo(),"sap.ushell.ui.launchpad.LinkTileWrapper");s.getEventBus().publish("launchpad","dashboardTileLinkClick");if(this.getTileActionModeActive()){return}else if(this._getTileState()==="Failed"){this._onFailedStatePress()}else if(t.target.tagName!=="BUTTON"){let e=this.getTileViews()[0];let t=false;if(e.firePress){e.firePress()}else{while(e.getContent&&!t){e=e.getContent()[0];if(e.firePress){e.firePress();t=true}}}}};r.prototype._onPress=function(t){e.info("Tile pressed:",this.getDebugInfo(),"sap.ushell.ui.launchpad.LinkTileWrapper");s.getEventBus().publish("launchpad","dashboardTileLinkClick");if(!this.getTileActionModeActive()&&this._getTileState()==="Failed"){this._onFailedStatePress()}};r.prototype._onFailedStatePress=function(){if(!this.getTileActionModeActive()&&this._getTileState()==="Failed"){if(!this.FailedTileDialog){sap.ui.require(["sap/ushell/ui/launchpad/FailedTileDialog"],e=>{this.FailedTileDialog=new e;this._onFailedStatePress()})}else{this.FailedTileDialog.openFor(this)}return}};r.prototype._getTileState=function(){const e=this.getTileViews();let t;for(let i=0;i<e.length&&!t;++i){if(e[i].isA("sap.m.GenericTile")){t=e[i]}}if(!t){throw new Error("Could not find the wrapped Tile")}return t.getState()};r.prototype.setVisible=function(e){this.setProperty("visible",e,true);return this.toggleStyleClass("sapUshellHidden",!e)};r.prototype.setAnimationRendered=function(e){this.setProperty("animationRendered",e,true)};r.prototype._handleTileShadow=function(e,t){if(e.length){e.off("mouseenter mouseleave");let t;const i=e.css("border").split("px")[0];const s=this.getModel();if(i>0){t=e.css("border-color")}else{t=this.getRgba()}e.hover(function(){if(!s.getProperty("/tileActionModeActive")){const i=jQuery(e).css("box-shadow");const s=i?i.split(") ")[1]:null;let o;if(s){o=`${s} ${t}`;jQuery(this).css("box-shadow",o)}}},function(){jQuery(this).css("box-shadow","")})}};r.prototype.setUuid=function(e){this.setProperty("uuid",e,true);return this};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/LinkTileWrapperRenderer", ["sap/base/Log","sap/m/GenericTile","sap/m/library","sap/ushell/resources"],(e,t,a,i)=>{"use strict";const l=a.GenericTileMode;const n=a.LoadState;const s={apiVersion:2};s.render=function(a,s){let o=null;const d=s.getModel();function r(){o=new t({header:i.i18n.getText("cannotLoadTile"),mode:l.LineMode,state:n.Failed})}try{o=s.getTileViews()[0]}catch(t){e.warning("Failed to load tile view: ",t);r()}if(!o){e.warning("Failed to load tile view: the control has no tileViews");r()}a.openStart("div",s);if(d&&d.getProperty("/enableHelp")){a.attr("data-help-id",s.getTileCatalogId());if(s.getTileCatalogIdStable()){a.attr("data-help-id2",s.getTileCatalogIdStable())}}a.class("sapUshellLinkTile");if(!s.getVisible()){a.class("sapUshellHidden")}if(s.getIsLocked()){a.class("sapUshellLockedTile")}a.attr("tabindex","-1");a.openEnd();a.renderControl(o);a.close("div")};return s},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/LoadingDialog", ["sap/m/Label","sap/ui/core/Control","sap/ui/core/Icon","sap/ui/core/Popup","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/AccessibilityCustomData","./LoadingDialogRenderer"],(e,t,i,s,o,a,l,n)=>{"use strict";const p=t.extend("sap.ushell.ui.launchpad.LoadingDialog",{metadata:{library:"sap.ushell",properties:{iconUri:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},text:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},loadAnimationWithInterval:{type:"boolean",group:"Appearance",defaultValue:true}}},renderer:n});p.prototype.init=function(){this._oPopup=new s;this._oPopup.restoreFocus=false;this._oPopup.setShadow(false);this._oPopup.setModal(true,"sapUshellLoadingDialog");this.oIcon=new i;this._oLabel=new e(`${this.getId()}loadingLabel`).addStyleClass("sapUshellLoadingDialogLabel");this.sState="idle";this.sLoadingString=a.i18n.getText("genericLoading").replace("..."," ")};p.prototype.exit=function(){this._oPopup.close();this._oPopup.destroy();this.oIcon.destroy();this._oLabel.destroy()};p.prototype.isOpen=function(){return this._oPopup.isOpen()};p.prototype.openLoadingScreen=function(){if(this.sState==="idle"){this.sState="busy"}if(this.getLoadAnimationWithInterval()){this.addStyleClass("sapUshellVisibilityHidden");this._iTimeoutId=setTimeout(()=>{this.removeStyleClass("sapUshellVisibilityHidden");this.focus()},3e3)}else{this.removeStyleClass("sapUshellVisibilityHidden");this.focus()}if(!this.getVisible()){this.setVisible(true);this.$().show()}if(!this.isOpen()){this._oPopup.setContent(this);this._oPopup.setPosition("center center","center center",document,"0 0","fit");this._oPopup.open()}};p.prototype.showAppInfo=function(e,t,i){this.setText(e);this.setIconUri(t);this.oIcon.setSrc(t);this._oLabel.setText(e);this._oLabel.addCustomData(new l({key:"aria-hidden",value:"true",writeToDom:true}));const s=this.getDomRef("accessibility-helper");if(s&&i){s.innerText=this.sLoadingString}};p.prototype.closeLoadingScreen=function(){if(this._iTimeoutId){clearTimeout(this._iTimeoutId)}if(this.getVisible()){this.sState="idle";this.setVisible(false);this.$().hide();this._oPopup.close()}};return p});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/LoadingDialogRenderer", [],()=>{"use strict";const e={apiVersion:2,render:function(e,t){const n=t.getTooltip_AsString();e.openStart("div",t);e.class("sapUshellLoadingDialogControl");if(n){e.attr("title",n)}e.openEnd();this.renderAppInfo(e,t);e.close("div")},renderAppInfo:function(e,t){e.openStart("div");e.class("sapUshellLoadingDialogAppData");e.openEnd();if(t.getIconUri()){e.renderControl(t.oIcon)}e.openStart("span",`${t.getId()}-accessibility-helper`);e.class("sapUshellAccessibilityHelper");e.attr("aria-live","rude");e.attr("aria-relevant","additions text");e.openEnd();e.close("span");e.renderControl(t._oLabel);e.close("div")}};return e},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/Page", ["sap/m/Button","sap/m/library","sap/m/Menu","sap/m/MenuItem","sap/m/Text","sap/ui/core/Control","sap/ui/core/dnd/DragDropInfo","sap/ui/core/InvisibleMessage","sap/ui/core/library","sap/ushell/library","sap/ushell/resources","./PageRenderer"],(e,t,i,n,o,s,a,r,c,l,u,d)=>{"use strict";const p=t.ButtonType;const g=c.TextAlign;const h=c.InvisibleMessageMode;const f=l.DisplayFormat;const m=s.extend("sap.ushell.ui.launchpad.Page",{metadata:{library:"sap.ushell",properties:{edit:{type:"boolean",group:"Misc",defaultValue:false},enableSectionReordering:{type:"boolean",group:"Misc",defaultValue:false},dataHelpId:{type:"string",group:"Misc",defaultValue:""},noSectionsText:{type:"string",group:"Misc",defaultValue:""},showNoSectionsText:{type:"boolean",group:"Misc",defaultValue:true},showTitle:{type:"boolean",group:"Misc",defaultValue:false},title:{type:"string",group:"Misc",defaultValue:""}},defaultAggregation:"sections",aggregations:{sections:{type:"sap.ushell.ui.launchpad.Section",multiple:true,dnd:true},messageStrip:{type:"sap.m.MessageStrip",multiple:false},_addSectionButtons:{type:"sap.m.Button",multiple:true,visibility:"hidden"},_noSectionText:{type:"sap.m.Text",multiple:false,visibility:"hidden"}},events:{addSectionButtonPressed:{parameters:{index:{type:"int"}}},sectionDrop:{parameters:{draggedControl:{type:"sap.ushell.ui.launchpad.Section"},droppedControl:{type:"sap.ushell.ui.launchpad.Section"},dropPosition:{type:"string"}}}}},renderer:d});m.prototype.enhanceAccessibilityState=function(e,t){delete t.readonly};m.prototype.init=function(){this.setAggregation("_noSectionText",new o({text:u.i18n.getText("Page.NoSectionText"),width:"100%",textAlign:g.Center}));this._oDragDropInfo=new a({sourceAggregation:"sections",targetAggregation:"sections",dropPosition:"Between",dragStart:function(e){if(e.getParameter("target").getDefault()){e.preventDefault()}},dragEnter:function(e){if(e.getParameter("target").getDefault()){e.preventDefault()}},drop:function(e){this.fireSectionDrop(e.getParameters())}.bind(this)});this.addDelegate({onsappageup:this._handleKeyboardPageNavigation.bind(this),onsappagedown:this._handleKeyboardPageNavigation.bind(this),onsapdown:this._handleKeyboardArrowNavigation.bind(this,false),onsapdownmodifiers:this._handleKeyboardArrowNavigation.bind(this,true),onsapup:this._handleKeyboardArrowNavigation.bind(this,false),onsapupmodifiers:this._handleKeyboardArrowNavigation.bind(this,true),onsaphome:this._handleKeyboardHomeEndNavigation.bind(this),onsaphomemodifiers:this._handleKeyboardHomeEndNavigation.bind(this),onsapend:this._handleKeyboardHomeEndNavigation.bind(this),onsapendmodifiers:this._handleKeyboardHomeEndNavigation.bind(this),onfocusin:this._saveFocus.bind(this),onsapskipback:this._handleSkipBack.bind(this),onsapskipforward:this._handleSkipForward.bind(this),onBeforeFastNavigationFocus:this._handleBeforeFastNavigationFocus.bind(this)});this._oInvisibleMessageInstance=r.getInstance()};m.prototype._onSectionContextMenu=function(e,t){if(!this.getEdit()){return}for(let t=e.srcControl;!t.isA("sap.ushell.ui.launchpad.Section");t=t.getParent()){if(t.isA("sap.m.Input")||t.isA("sap.ushell.ui.launchpad.VizInstance")||t.isA("sap.ushell.ui.launchpad.VizInstanceLink")){return}}function o(e){const i=this.getSections();const n=i.indexOf(t);const o=i[e?n-1:n+1];this.fireSectionDrop({draggedControl:t,droppedControl:o,dropPosition:e?"Before":"After"})}const s=this.getEnableSectionReordering();const a=this.getSections().filter(e=>!e.getDefault());const r=a.indexOf(t);const c=new i("sapUshellSectionContextMenu",{items:[new n({text:"{i18n>Page.MoveSection.Up}",enabled:s&&r>0,press:o.bind(this,true)}),new n({text:"{i18n>Page.MoveSection.Down}",enabled:s&&r!==-1&&r<a.length-1,press:o.bind(this,false)})],closed:function(){setTimeout(this.destroy.bind(this))}}).setModel(u.i18nModel,"i18n");this.addDependent(c);e.preventDefault();c.openAsContextMenu(e,t)};m.prototype._saveFocus=function(e){const t=e.srcControl;if(t.isA("sap.ushell.ui.launchpad.Section")){if(t){if(t.indexOfVisualization(this._oLastFocusedViz)===-1){this._oLastFocusedViz=t.getVisualizations()[0];this._oLastFocusedSection=this._oLastFocusedViz?undefined:t}}else{this._oLastFocusedViz=undefined;this._oLastFocusedSection=undefined}}else if(t.isA("sap.f.GridContainer")){const i=t.getItems();this._oLastFocusedViz=i.find(t=>{const i=t.getDomRef();return i&&i.parentNode===e.target})}else if(t.isA("sap.ushell.ui.launchpad.VizInstanceLink")){this._oLastFocusedViz=t}};m.prototype._handleSkipBack=function(e){if(this.getEdit()){let t;const i=e.srcControl;if(i.isA("sap.f.GridContainer")||i.isA("sap.ushell.ui.launchpad.VizInstanceLink")){t=this._getAncestorSection(i)}if(t){e.preventDefault();t.focus()}}};m.prototype._handleSkipForward=function(e){let t;let i;const n=e.srcControl;if(n.isA("sap.ushell.ui.launchpad.Section")){i=n}if(i){if(i.indexOfVisualization(this._oLastFocusedViz)!==-1){t=this._oLastFocusedViz}else{t=i.getAllItems()[0]}}if(t){e.preventDefault();this._focusVisualization(t)}};m.prototype._handleBeforeFastNavigationFocus=function(e){const t=this.getSections();const i=this.getEdit();if(i&&this._oLastFocusedSection){this._oLastFocusedSection.focus()}else if(i&&e.forward&&this._oLastFocusedViz){this._getAncestorSection(this._oLastFocusedViz).focus()}else if(this._oLastFocusedViz&&this._oLastFocusedViz.getDomRef()){this._focusVisualization(this._oLastFocusedViz)}else if(i&&e.forward&&t.length>0){this._getFirstVisibleSection().focus()}else if(i&&!e.forward&&t.length>0){const e=t[0];if(e.getAllItems().length===0){e.focus()}else{this._focusVisualization(e.getAllItems()[0])}}else{const e=t.find(e=>e.getDomRef()&&e.getAllItems().length>0);this._focusVisualization(e.getAllItems()[0])}e.preventDefault()};m.prototype._getAncestorSection=function(e){if(!e){return null}if(e.isA("sap.ushell.ui.launchpad.Section")){return e}else if(e.getParent){return this._getAncestorSection(e.getParent())}return null};m.prototype.exit=function(){this._oDragDropInfo.destroy()};m.prototype.onBeforeRendering=function(){const t=this.getSections().length;const i=this.getAggregation("_addSectionButtons")||[];let n;for(let o=i.length;o<t+1;o++){n=new e({type:p.Transparent,icon:"sap-icon://add",text:u.i18n.getText("Page.Button.AddSection"),press:this.fireAddSectionButtonPressed.bind(this,{index:o})});n.addStyleClass("sapUshellPageAddSectionButton");this.addAggregation("_addSectionButtons",n)}};m.prototype.getFocusDomRef=function(){const e=this.getAggregation("_addSectionButtons")||[];if(!this.getSections().length&&e.length&&this.getEdit()){return e[0].getFocusDomRef()}return this.getDomRef()};m.prototype.setEnableSectionReordering=function(e){if(e===undefined||this.getEnableSectionReordering()===e){return this}this.setProperty("enableSectionReordering",!!e,true);if(e){this.addDragDropConfig(this._oDragDropInfo)}else{this.removeDragDropConfig(this._oDragDropInfo)}return this};m.prototype.setNoSectionsText=function(e){if(e===undefined||this.getNoSectionsText()===e){return this}this.setProperty("noSectionsText",e,true);const t=this.getAggregation("_noSectionText");t.setText(e||u.i18n.getText("Page.NoSectionText"));return this};m.prototype._focusVisualization=function(e){if(!e){return}else if(e.isA("sap.ushell.ui.launchpad.VizInstanceLink")){e.focus()}else{e.getDomRef().parentElement.focus()}};m.prototype._focusNextVisualization=function(e){const t=this.getSections();let i=this.indexOfSection(e.section);const n=e.event.getParameter?e.event.getParameter("event"):e.event;const o=n.target.firstElementChild;let s;let a;while(true){if(e.direction==="up"){i--}else{i++}s=t[i];if(!s){return}a=s.focusVisualization({keycode:n.keyCode,ref:o});if(a){n.preventDefault();return}}};m.prototype._handleKeyboardPageNavigation=function(e){if(this._isFocusInInput()){return}const t=this.getSections();for(let i=0;i<t.length;i++){const n=t[i].getDomRef();if(n.contains(window.document.activeElement)){this._focusNextVisualization({event:e,section:t[i],direction:e.type==="sappagedown"?"down":"up",prefIndex:0});return}}};m.prototype._handleKeyboardArrowNavigation=function(e,t){if(e&&!this.getEnableSectionReordering()||e&&!t.ctrlKey){return}const i=this.getSections();let n;let o;let s;for(let e=0;e<i.length;e++){n=i[e-1];o=i[e];s=i[e+1];if(window.document.activeElement===o.getFocusDomRef()){if(t.type==="sapup"&&n){n.focus()}else if(t.type==="sapdown"&&s){s.focus()}else if(t.type==="sapupmodifiers"&&n){if(n.getDefault()){return}this.fireSectionDrop({draggedControl:o,droppedControl:n,dropPosition:"Before"});t.preventDefault();t.stopPropagation()}else if(t.type==="sapdownmodifiers"&&s){if(o.getDefault()){return}this.fireSectionDrop({draggedControl:o,droppedControl:s,dropPosition:"After"});t.preventDefault();t.stopPropagation()}return}}};m.prototype._isFocusInInput=function(){const e=(document.activeElement||{}).tagName;return e==="INPUT"||e==="TEXTAREA"};m.prototype._handleKeyboardHomeEndNavigation=function(e){if(this._isFocusInInput()){return}let t;let i;let n=false;if(e.type==="saphome"){i=this._getSectionAreaItems(e.srcControl)}else if(e.type==="saphomemodifiers"){t=this._getFirstVisibleSection(true)}else if(e.type==="sapend"){i=this._getSectionAreaItems(e.srcControl);n=true}else if(e.type==="sapendmodifiers"){t=this._getLastVisibleSection(true);n=true}if(t){i=t.getAllItems()}if(n){this._focusVisualization(i[i.length-1])}else{this._focusVisualization(i[0])}e.preventDefault();e.stopPropagation()};m.prototype._getFirstVisibleSection=function(e){const t=this.getSections();return t.find(t=>this._isSectionVisible(t,e))};m.prototype._getLastVisibleSection=function(e){const t=this.getSections().reverse();return t.find(t=>this._isSectionVisible(t,e))};m.prototype._isSectionVisible=function(e,t){const i=t?false:this.getEdit();return i||e.getVisualizations().length>0&&e.getDomRef()&&e.getShowSection()};m.prototype._getSectionAreaItems=function(e){let t;let i;const n=e.getBindingContext();if(n){i=n.getProperty("displayFormatHint")}const o=this.getSections();const s=o.find(t=>{const i=t.getDomRef();return i&&i.contains(e.getDomRef())});if(s){switch(i){case f.Compact:return s.getCompactItems();case f.Standard:case f.StandardWide:return s.getDefaultItems();case f.Flat:case f.FlatWide:return s.getFlatItems();default:t=s.getDefaultItems();if(t.length>0){return t}t=s.getFlatItems();if(t.length>0){return t}t=s.getCompactItems();return t}}return[]};m.prototype._handleSectionBorderReached=function(e){this._focusNextVisualization(e.getParameters())};m.prototype.addAggregation=function(e,t){s.prototype.addAggregation.apply(this,arguments);if(e==="sections"){t.attachEvent("borderReached",this._handleSectionBorderReached.bind(this));t.addEventDelegate({oncontextmenu:e=>{this._onSectionContextMenu(e,t)}})}return this};m.prototype.insertAggregation=function(e,t){s.prototype.insertAggregation.apply(this,arguments);if(e==="sections"){t.attachEvent("borderReached",this._handleSectionBorderReached.bind(this));t.addEventDelegate({oncontextmenu:e=>{this._onSectionContextMenu(e,t)}})}return this};m.prototype.announceMove=function(){const e=u.i18n.getText("PageRuntime.Message.SectionMoved");this._oInvisibleMessageInstance.announce(e,h.Polite)};return m});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/PageRenderer", [],()=>{"use strict";const t={apiVersion:2};t.render=function(t,e){const o=e.getSections().filter(t=>e.getEdit()||t.getShowSection()&&t.getVisible());const i=o.length;const n=e.getDataHelpId();const a=e.getTitle();t.openStart("div",e);t.class("sapUshellPage");t.class("sapContrastPlus");t.attr("role","region");t.attr("aria-label",a);t.attr("data-sap-ui-customfastnavgroup","true");if(n){t.attr("data-help-id",n)}t.openEnd();if(e.getEdit()&&e.getAggregation("messageStrip")){t.renderControl(e.getAggregation("messageStrip"))}t.openStart("h2",`${e.getId()}-title`);t.class("sapMTitle");t.class("sapUshellPageTitle");if(!e.getShowTitle()){t.class("sapUiPseudoInvisibleText")}t.attr("aria-level","2");t.openEnd();t.text(a);t.close("h2");if(e.getEdit()&&!i){t.renderControl(e.getAggregation("_addSectionButtons")[0])}if(!i&&e.getShowNoSectionsText()){t.renderControl(e.getAggregation("_noSectionText"))}let s;let r;for(s=0;s<i;s++){r=o[s];t.openStart("div");t.class("sapUshellPageSection");t.openEnd();t.renderControl(r);if(e.getEdit()){t.renderControl(e.getAggregation("_addSectionButtons")[s+1])}t.close("div")}t.close("div")};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/PlusTile", ["sap/ui/core/Icon","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/PlusTileRenderer","sap/ushell/ui/launchpad/Tile"],(e,t,o,s,n)=>{"use strict";const i=n.extend("sap.ushell.ui.launchpad.PlusTile",{metadata:{library:"sap.ushell",properties:{groupId:{type:"string",group:"Misc",defaultValue:""},enableHelp:{type:"boolean",group:"Misc",defaultValue:false}},events:{press:{}}},renderer:s});i.prototype.init=function(){this.oIcon=new e({src:"sap-icon://add",tooltip:o.i18n.getText("openAppFinder_tooltip")})};i.prototype.exit=function(){if(this.oIcon){this.oIcon.destroy()}};i.prototype.onclick=function(){const e=this.getParent().getBindingContext().getObject();if(!e.object){return}this.firePress()};i.prototype.onsapspace=i.onclick;i.prototype.onsapenter=i.onclick;return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/PlusTileRenderer", ["sap/ushell/resources","sap/ushell/Config"],(l,s)=>{"use strict";const e={apiVersion:2,render:function(e,a){e.openStart("li",a);e.attr("tabindex","-1");e.class("sapUshellTile");e.class("sapUshellPlusTile");e.class("sapContrastPlus");e.class("sapMGT");if(s.last("/core/home/sizeBehavior")==="Small"){e.class("sapUshellSmall")}if(a.getEnableHelp()){e.class("help-id-plusTile")}e.attr("aria-label",l.i18n.getText("TilePlus_label"));e.openEnd();e.renderControl(a.oIcon);e.close("li")}};return e},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/Section", ["sap/base/Log","sap/base/util/deepClone","sap/f/dnd/GridDropInfo","sap/f/GridContainer","sap/f/GridContainerItemLayoutData","sap/f/GridContainerSettings","sap/m/Button","sap/m/Input","sap/m/Label","sap/m/library","sap/m/Text","sap/m/Title","sap/m/ToolbarSpacer","sap/m/OverflowToolbar","sap/m/OverflowToolbarLayoutData","sap/ui/core/Control","sap/ui/core/CustomData","sap/ui/core/Lib","sap/ui/core/dnd/DragInfo","sap/ui/core/dnd/DropInfo","sap/ui/core/InvisibleMessage","sap/ui/core/library","sap/ui/events/KeyCodes","sap/ui/model/Filter","sap/ushell/resources","sap/ushell/ui/launchpad/ExtendedChangeDetection","sap/ushell/library","sap/ushell/ui/launchpad/section/CompactArea","sap/ui/core/Element","sap/ushell/ui/launchpad/SectionRenderer"],(t,e,i,a,o,n,r,s,g,l,u,p,d,h,c,f,y,m,A,S,b,C,z,_,w,L,V,D,G,R)=>{"use strict";const I=l.ButtonType;const v=l.OverflowToolbarPriority;const x=l.TileSizeBehavior;const E=C.dnd.DropLayout;const T=C.dnd.DropPosition;const B=C.InvisibleMessageMode;const P=C.TextAlign;const F=C.TitleLevel;const X=V.DisplayFormat;function M(t,e,i){if(!Array.isArray(e)||!e.length){return null}if(t&&t.getDomRef){t=t.getDomRef()}if(!t){return e[i?e.length-1:0]}function a(t,e){const i=t.left+t.right-e.left-e.right;const a=t.top+t.bottom-e.top-e.bottom;return i*i+a*a}function o(t){const e=t.querySelector(".sapMGTLineStyleHelper");return(e||t).getBoundingClientRect()}const n=o(t);let r=null;let s=0;let g;let l;let u;for(let t=e.length-1;t>=0;t--){l=e[t].getDomRef();if(l){g=o(l);if(!g.width&&!g.height){continue}if(i&&g.top>=n.top||!i&&g.bottom<=n.bottom){continue}u=a(g,n);if(!r||u<s){r=e[t];s=u}}}return r}const N=f.extend("sap.ushell.ui.launchpad.Section",{metadata:{library:"sap.ushell",properties:{dataHelpId:{type:"string",group:"Misc",defaultValue:""},ariaLabel:{type:"string",group:"Misc",defaultValue:""},default:{type:"boolean",group:"Misc",defaultValue:false},editable:{type:"boolean",group:"Misc",defaultValue:false},enableAddButton:{type:"boolean",group:"Behavior",defaultValue:true},enableDeleteButton:{type:"boolean",group:"Behavior",defaultValue:true},enableGridBreakpoints:{type:"boolean",group:"Appearance",defaultValue:false},enableGridContainerQuery:{type:"boolean",group:"Appearance",defaultValue:false},enableResetButton:{type:"boolean",group:"Behavior",defaultValue:true},enableShowHideButton:{type:"boolean",group:"Behavior",defaultValue:true},enableVisualizationReordering:{type:"boolean",group:"Behavior",defaultValue:false},gridContainerGap:{type:"string",group:"Appearance",defaultValue:"0.5rem"},gridContainerGapXS:{type:"string",group:"Appearance",defaultValue:"0.475rem"},gridContainerGapS:{type:"string",group:"Appearance",defaultValue:"0.475rem"},gridContainerGapM:{type:"string",group:"Appearance",defaultValue:"0.5rem"},gridContainerGapL:{type:"string",group:"Appearance",defaultValue:"0.5rem"},gridContainerGapXL:{type:"string",group:"Appearance",defaultValue:"0.5rem"},gridContainerRowSize:{type:"string",group:"Appearance",defaultValue:"5.25rem"},gridContainerRowSizeXS:{type:"string",group:"Appearance",defaultValue:"4.375rem"},gridContainerRowSizeS:{type:"string",group:"Appearance",defaultValue:"5.25rem"},gridContainerRowSizeM:{type:"string",group:"Appearance",defaultValue:"5.25rem"},gridContainerRowSizeL:{type:"string",group:"Appearance",defaultValue:"5.25rem"},gridContainerRowSizeXL:{type:"string",group:"Appearance",defaultValue:"5.25rem"},noVisualizationsText:{type:"string",group:"Appearance",defaultValue:""},title:{type:"string",group:"Appearance",defaultValue:""},showNoVisualizationsText:{type:"boolean",group:"Behavior",defaultValue:false},showSection:{type:"boolean",group:"Misc",defaultValue:true},showLinks:{type:"boolean",group:"Behavior",defaultValue:true},sizeBehavior:{type:"sap.m.TileSizeBehavior",group:"Misc",defaultValue:x.Responsive}},defaultAggregation:"visualizations",aggregations:{visualizations:{type:"sap.ui.core.Control",bindable:"bindable",multiple:true},defaultItems:{type:"sap.ui.core.Control",multiple:true,forwarding:{idSuffix:"-defaultArea",aggregation:"items",forwardBinding:false},dnd:true},flatItems:{type:"sap.ui.core.Control",multiple:true,forwarding:{idSuffix:"-flatArea",aggregation:"items",forwardBinding:false},dnd:true},compactItems:{type:"sap.ui.core.Control",multiple:true,forwarding:{idSuffix:"-compactArea",aggregation:"items",forwardBinding:false},dnd:true},_title:{type:"sap.m.Title",multiple:false,hidden:true},_header:{type:"sap.m.OverflowToolbar",multiple:false,hidden:true},_noVisualizationsText:{type:"sap.m.Text",multiple:false,hidden:true},_defaultArea:{type:"sap.f.GridContainer",multiple:false,hidden:true},_flatArea:{type:"sap.f.GridContainer",multiple:false,hidden:true},_compactArea:{type:"sap.ushell.ui.launchpad.section.CompactArea",multiple:false,hidden:true}},events:{add:{},delete:{},reset:{},titleChange:{},visualizationDrop:{parameters:{draggedControl:{type:"sap.ui.core.Control"},droppedControl:{type:"sap.ui.core.Control"},dropPosition:{type:"string"}}},areaDragEnter:{parameters:{originalEvent:{type:"sap.ui.base.Event"},dragControl:{type:"sap.ui.core.Control"},sourceArea:{type:"string"},targetArea:{type:"string"}}},sectionVisibilityChange:{parameters:{visible:{type:"boolean"}}},borderReached:{parameters:{event:{type:"jQuery.Event"}}}}},renderer:R,resourceModel:w.i18nModel});function k(e){for(const t in X){if(e.displayFormatHint===X[t]){return X[t]}}if(e.displayFormatHint&&e.displayFormatHint!=="tile"){t.error(`DisplayFormat '${e.displayFormatHint}' not valid - 'standard' is used`)}return X.Standard}function O(){return new _({path:"",caseSensitive:true,test:function(t){const e=k(t);return e===X.Standard||e===X.StandardWide}})}function H(){return new _({path:"",caseSensitive:true,test:function(t){const e=k(t);return e===X.Flat||e===X.FlatWide}})}function W(){return new _({path:"",caseSensitive:true,test:function(t){return k(t)===X.Compact}})}N.prototype.bindAggregation=function(i,a){if(i==="visualizations"){if(a.filters){t.error("bind visualizations with pre-existing filters is not implemented.")}const i=e(a);i.filters=O();f.prototype.bindAggregation.call(this,"defaultItems",i);const o=e(a);o.filters=H();f.prototype.bindAggregation.call(this,"flatItems",o);const n=e(a);n.filters=W();f.prototype.bindAggregation.call(this,"compactItems",n)}else{f.prototype.bindAggregation.call(this,i,a)}return this};N.prototype.getAllItems=function(){return this.getDefaultItems().concat(this.getFlatItems(),this.getCompactItems())};N.prototype.getVisualizations=function(){const t=this.getAllItems();t.sort((e,i)=>{let a=e.getBindingContext().getPath();let o=parseInt(a.split("/").pop(),10);a=i.getBindingContext().getPath();let n=parseInt(a.split("/").pop(),10);if(o===n){o=t.indexOf(e);n=t.indexOf(i)}return o<n?-1:1});return t};N.prototype.filterVisualizations=function(t){const e=t?new _({filters:[O(),t],and:true}):O();const i=t?new _({filters:[H(),t],and:true}):H();const a=t?new _({filters:[W(),t],and:true}):W();this.getBinding("defaultItems").filter(e);this.getBinding("flatItems").filter(i);this.getBinding("compactItems").filter(a)};N.prototype.indexOfVisualization=function(t){return this.getVisualizations().indexOf(t)};N.prototype.addVisualization=function(e,i){t.error("Section.prototype.addVisualization should not be called");return this.addAggregation("visualizations",e,i)};N.prototype.insertVisualization=function(e,i,a){t.error("Section.prototype.insertVisualization should not be called");return this.insertAggregation("visualizations",e,i,a)};N.prototype.removeVisualization=function(e,i){t.error("Section.prototype.removeVisualization should not be called");return this.removeAggregation("visualizations",e,i)};N.prototype.onBorderReached=function(t){let e;const i=t.getParameter("event");const a=i.keyCode;const o=i.type;const n=G.closestTo(i.target.firstElementChild);switch(a){case z.ARROW_UP:e=this.getClosestVizualization(n,true);break;case z.ARROW_DOWN:e=this.getClosestVizualization(n,false);break;case z.ARROW_LEFT:e=this._getPreviousViz(n);break;case z.ARROW_RIGHT:e=this._getNextViz(n);break;default:return}if(e){this._focusItem(this.getItemPosition(e));i.preventDefault()}else{this.fireBorderReached({event:t,section:this,direction:o==="sapnext"?"down":"up"})}};N.prototype._getNextViz=function(t){const e=this.getAllItems();const i=e.indexOf(t);return i===-1?e[0]:e[i+1]};N.prototype._getPreviousViz=function(t){const e=this.getAllItems();const i=e.indexOf(t);return i===-1?e[e.length-1]:e[i-1]};N.prototype.handleEmptyContentAreas=function(){const t=!!this.getDefaultItems().length;const e=!!this.getFlatItems().length;const i=!!this.getCompactItems().length;const a=!t&&!i&&!e;this.toggleStyleClass("sapUshellSectionNoVisualizations",a);this.getAggregation("_defaultArea").toggleStyleClass("sapUshellSectionDefaultArea",t);this.getAggregation("_flatArea").toggleStyleClass("sapUshellSectionFlatArea",e);if(!t){this._removeTabIndexFromGridContainer(this.getAggregation("_defaultArea"))}if(!e){this._removeTabIndexFromGridContainer(this.getAggregation("_flatArea"))}const o=this.getDomRef();if(o){if(this.getEditable()&&this.getShowNoVisualizationsText()&&a){o.setAttribute("aria-describedBy",this.getAggregation("_noVisualizationsText").getId())}else{o.removeAttribute("aria-describedBy")}}};N.prototype._removeTabIndexFromGridContainer=function(t){const e=t.getFocusDomRef();if(e){e.setAttribute("tabindex","-1");for(let t=0;t<e.children.length;++t){e.children[t].setAttribute("tabindex","-1")}}};N.prototype.init=function(){this.setProperty("noVisualizationsText",w.i18n.getText("Section.NoVisualizationsText"),true);this.setAggregation("_title",new p({text:this.getTitle(),level:F.H3,visible:!this.getEditable()&&this.getShowSection()}).addStyleClass("sapUshellSectionTitle sapContrastPlus"));this._initHeaderAggregation();this.setAggregation("_noVisualizationsText",new u({text:this.getNoVisualizationsText(),textAlign:P.Center,visible:this.getEditable()&&this.getShowNoVisualizationsText()}).addStyleClass("sapUshellSectionNoVisualizationsText"));this._initGridContainerAggregation();this._initGridContainerAggregation(true);this._initCompactAreaAggregation(true);this._oInvisibleMessageInstance=b.getInstance();this._oDefaultItemsChangeDetection=new L("defaultItems",this,["flatItems","compactItems"]);this._oFlatItemsChangeDetection=new L("flatItems",this,["defaultItems","compactItems"]);this._oCompactItemsChangeDetection=new L("compactItems",this,["defaultItems","flatItems"]);this._fnGlobalDragStart=function(){const t=this.getAggregation("_flatArea").getDragDropConfig();const e=this.getAggregation("_compactArea").getDragDropConfig();t[0].setGroupName("Section");t[1].setGroupName("Section");e[0].setGroupName("Section");e[1].setGroupName("Section");e[2].setGroupName("Section")}.bind(this);this._fnGlobalDragEnd=function(){const t=this.getAggregation("_flatArea").getDragDropConfig();const e=this.getAggregation("_compactArea").getDragDropConfig();t[0].setGroupName("FlatArea");t[1].setGroupName("FlatArea");e[0].setGroupName("CompactArea");e[1].setGroupName("CompactArea");e[2].setGroupName("CompactArea")}.bind(this);document.addEventListener("dragstart",this._fnGlobalDragStart,false);document.addEventListener("dragend",this._fnGlobalDragEnd,false)};N.prototype._initHeaderAggregation=function(){const t=this.getTitle();const e=this.getDefault();const i=new s({maxLength:100,placeholder:w.i18n.getText("Section.TitlePlaceholder"),value:t,valueLiveUpdate:true,visible:!e,change:function(t){this.setTitle(t.getParameter("value"));this.fireTitleChange()}.bind(this),layoutData:new c({priority:v.NeverOverflow,shrinkable:true,minWidth:"9rem",maxWidth:"40rem"})});this.setAggregation("_header",new h({content:[new u({text:t,visible:e,layoutData:new c({priority:v.NeverOverflow})}),new g({text:w.i18n.getText("Section.Label.Title"),labelFor:i.getId(),showColon:true,visible:!e,layoutData:new c({priority:v.NeverOverflow})}),i,new d,new r({text:w.i18n.getText("Section.Button.AddVisualization"),type:I.Transparent,press:this.fireAdd.bind(this,{section:this}),visible:this.getEnableAddButton()&&!e}),new r({text:this.getShowSection()?w.i18n.getText("Section.Button.Hide"):w.i18n.getText("Section.Button.Show"),type:I.Transparent,press:function(){const t=!this.getShowSection();const e=m.getResourceBundleFor("sap.m");this._oInvisibleMessageInstance.announce([w.i18n.getText(t?"Section.nowBeingShown":"Section.nowBeingHidden"),w.i18n.getText("Section.ButtonLabelChanged"),w.i18n.getText(t?"Section.Button.Hide":"Section.Button.Show"),e.getText("ACC_CTR_TYPE_BUTTON")].join(" "),B.Polite);this.setShowSection(t);this.fireSectionVisibilityChange({visible:t})}.bind(this),visible:this.getEnableShowHideButton()&&!e}),new r({text:w.i18n.getText("Section.Button.Reset"),type:I.Transparent,press:this.fireReset.bind(this),visible:this.getEnableResetButton()&&!e}),new r({text:w.i18n.getText("Section.Button.Delete"),type:I.Transparent,press:this.fireDelete.bind(this),visible:this.getEnableDeleteButton()&&!e})],visible:this.getEditable()}).addStyleClass("sapUshellSectionHeader"))};N.prototype._initGridContainerAggregation=function(t){const e=new a({id:this.getId()+(t?"-flatArea":"-defaultArea"),containerQuery:this.getEnableGridContainerQuery(),minHeight:"0",visible:this.getEditable()||this.getShowSection(),customData:[new y({key:"default",value:this.getDefault()}),new y({key:"area",value:t?X.Flat:X.Standard})],layout:new n({rowSize:this.getGridContainerRowSize(),columnSize:this.getGridContainerRowSize(),gap:this.getGridContainerGap()}),layoutXS:new n({columns:0,rowSize:this.getGridContainerRowSizeXS(),columnSize:this.getGridContainerRowSizeXS(),gap:this.getGridContainerGapXS()}),layoutS:new n({columns:0,rowSize:this.getGridContainerRowSizeS(),columnSize:this.getGridContainerRowSizeS(),gap:this.getGridContainerGapS()}),layoutM:new n({columns:0,rowSize:this.getGridContainerRowSizeM(),columnSize:this.getGridContainerRowSizeM(),gap:this.getGridContainerGapM()}),layoutL:new n({columns:0,rowSize:this.getGridContainerRowSizeL(),columnSize:this.getGridContainerRowSizeL(),gap:this.getGridContainerGapL()}),layoutXL:new n({columns:0,rowSize:this.getGridContainerRowSizeXL(),columnSize:this.getGridContainerRowSizeXL(),gap:this.getGridContainerGapXL()}),dragDropConfig:[new A({enabled:this.getEnableVisualizationReordering(),groupName:t?"flatArea":"Section",sourceAggregation:"items"}),new i({enabled:this.getEnableVisualizationReordering(),groupName:t?"flatArea":"Section",dropLayout:E.Horizontal,dropPosition:T.Between,targetAggregation:"items",dropIndicatorSize:t?this._getFlatDropIndicatorSize.bind(this):this._getDefaultDropIndicatorSize.bind(this),dragEnter:this._onDragEnter.bind(this),drop:this._reorderVisualizations.bind(this)})]}).addStyleClass("sapUshellSectionGridContainer");if(this.getEnableGridBreakpoints()){const t=this.getSizeBehavior()==="Small";e.getLayoutXS().setColumns(4);e.getLayoutS().setColumns(4);e.getLayoutM().setColumns(6);e.getLayoutL().setColumns(t?12:10);e.getLayoutXL().setColumns(t?16:14)}e.addEventDelegate({onAfterRendering:this.handleEmptyContentAreas.bind(this)});e.attachBorderReached(this.onBorderReached.bind(this));this.setAggregation(t?"_flatArea":"_defaultArea",e)};N.prototype._initCompactAreaAggregation=function(){const t=new D({id:`${this.getId()}-compactArea`,enableLinkReordering:this.getEnableVisualizationReordering(),itemDrop:this._reorderVisualizations.bind(this),customData:[new y({key:"default",value:this.getDefault()}),new y({key:"area",value:X.Compact})],dragDropConfig:[new A({enabled:this.getEnableVisualizationReordering(),groupName:"CompactArea",sourceAggregation:"items"}),new S({enabled:this.getEnableVisualizationReordering(),groupName:"CompactArea",dropLayout:E.Horizontal,dropPosition:T.Between,targetAggregation:"items",dragEnter:this._onDragEnter.bind(this),drop:this._reorderVisualizations.bind(this)}),new S({enabled:this.getEnableVisualizationReordering(),groupName:"CompactArea",dragEnter:this._onDragEnter.bind(this),drop:this._reorderVisualizations.bind(this)})]}).addStyleClass("sapUshellSectionGridContainer");t.addEventDelegate({onAfterRendering:this.handleEmptyContentAreas.bind(this)});t.attachBorderReached(this.onBorderReached.bind(this));this.setAggregation("_compactArea",t)};N.prototype.setDefault=function(t){this.setProperty("default",t,true);const e=this.getAggregation("_header").getContent();e[0].setVisible(t);e[1].setVisible(!t);e[2].setVisible(!t);e[4].setVisible(this.getEnableAddButton()&&!t);e[5].setVisible(this.getEnableShowHideButton()&&!t);e[6].setVisible(this.getEnableResetButton()&&!t);e[7].setVisible(this.getEnableDeleteButton()&&!t);this.getAggregation("_defaultArea").getCustomData()[0].setValue(t);this.getAggregation("_flatArea").getCustomData()[0].setValue(t);this.getAggregation("_compactArea").getCustomData()[0].setValue(t);return this};N.prototype.setEditable=function(t){if(t===undefined||this.getEditable()===t){return this}this.setProperty("editable",t,true);this.toggleStyleClass("sapUshellSectionEdit",t);this.getAggregation("_title").setVisible(!t&&this.getShowSection());this.getAggregation("_header").setVisible(t);this.getAggregation("_noVisualizationsText").setVisible(t&&this.getShowNoVisualizationsText());this.getAggregation("_defaultArea").setVisible(t||this.getShowSection());this.getAggregation("_flatArea").setVisible(t||this.getShowSection());this.getAggregation("_compactArea").setVisible(t||this.getShowSection());const e=this.getDomRef();if(e){if(t){e.setAttribute("tabindex","0");if(this.getShowNoVisualizationsText()){e.setAttribute("aria-describedBy",this.getAggregation("_noVisualizationsText").getId())}else{e.removeAttribute("aria-describedBy")}}else{e.removeAttribute("tabindex")}}return this};N.prototype.setEnableAddButton=function(t){this.setProperty("enableAddButton",t,true);this.getAggregation("_header").getContent()[4].setVisible(t&&!this.getDefault());return this};N.prototype.setEnableDeleteButton=function(t){this.setProperty("enableDeleteButton",t,true);this.getAggregation("_header").getContent()[7].setVisible(t&&!this.getDefault());return this};N.prototype.setEnableGridBreakpoints=function(t){this.setProperty("enableGridBreakpoints",t,true);const e=this.getAggregation("_defaultArea");const i=this.getAggregation("_flatArea");if(t){const t=this.getSizeBehavior()==="Small";e.getLayoutXS().setColumns(4);e.getLayoutS().setColumns(4);e.getLayoutM().setColumns(6);e.getLayoutL().setColumns(t?12:10);e.getLayoutXL().setColumns(t?16:14);i.getLayoutXS().setColumns(4);i.getLayoutS().setColumns(4);i.getLayoutM().setColumns(6);i.getLayoutL().setColumns(t?12:10);i.getLayoutXL().setColumns(t?16:14)}else{e.getLayoutXS().setColumns(0);e.getLayoutS().setColumns(0);e.getLayoutM().setColumns(0);e.getLayoutL().setColumns(0);e.getLayoutXL().setColumns(0);i.getLayoutXS().setColumns(0);i.getLayoutS().setColumns(0);i.getLayoutM().setColumns(0);i.getLayoutL().setColumns(0);i.getLayoutXL().setColumns(0)}return this};N.prototype.setEnableGridContainerQuery=function(t){this.setProperty("enableGridContainerQuery",t,true);this.getAggregation("_defaultArea").setContainerQuery(t);this.getAggregation("_flatArea").setContainerQuery(t);return this};N.prototype.setEnableResetButton=function(t){this.setProperty("enableResetButton",t,true);this.getAggregation("_header").getContent()[6].setVisible(t&&!this.getDefault());return this};N.prototype.setEnableShowHideButton=function(t){this.setProperty("enableShowHideButton",t,true);this.getAggregation("_header").getContent()[5].setVisible(t&&!this.getDefault());return this};N.prototype.setEnableVisualizationReordering=function(t){this.setProperty("enableVisualizationReordering",t,true);const e=this.getAggregation("_compactArea");const i=this.getAggregation("_defaultArea").getDragDropConfig();const a=this.getAggregation("_flatArea").getDragDropConfig();const o=e.getDragDropConfig();e.setEnableLinkReordering(t);i[0].setEnabled(t);i[1].setEnabled(t);a[0].setEnabled(t);a[1].setEnabled(t);o[0].setEnabled(t);o[1].setEnabled(t);o[2].setEnabled(t);return this};N.prototype.setGridContainerGap=function(t){this.setProperty("gridContainerGap",t,true);this.getAggregation("_defaultArea").getLayout().setGap(t);this.getAggregation("_flatArea").getLayout().setGap(t);return this};N.prototype.setGridContainerGapXS=function(t){this.setProperty("gridContainerGapXS",t,true);this.getAggregation("_defaultArea").getLayoutXS().setGap(t);this.getAggregation("_flatArea").getLayoutXS().setGap(t);return this};N.prototype.setGridContainerGapS=function(t){this.setProperty("gridContainerGapS",t,true);this.getAggregation("_defaultArea").getLayoutS().setGap(t);this.getAggregation("_flatArea").getLayoutS().setGap(t);return this};N.prototype.setGridContainerGapM=function(t){this.setProperty("gridContainerGapM",t,true);this.getAggregation("_defaultArea").getLayoutM().setGap(t);this.getAggregation("_flatArea").getLayoutM().setGap(t);return this};N.prototype.setGridContainerGapL=function(t){this.setProperty("gridContainerGapL",t,true);this.getAggregation("_defaultArea").getLayoutL().setGap(t);this.getAggregation("_flatArea").getLayoutL().setGap(t);return this};N.prototype.setGridContainerGapXL=function(t){this.setProperty("gridContainerGapXL",t,true);this.getAggregation("_defaultArea").getLayoutXL().setGap(t);this.getAggregation("_flatArea").getLayoutXL().setGap(t);return this};N.prototype.setGridContainerRowSize=function(t){this.setProperty("gridContainerRowSize",t,true);const e=this.getAggregation("_defaultArea");const i=this.getAggregation("_flatArea");e.getLayout().setRowSize(t);e.getLayout().setColumnSize(t);i.getLayout().setRowSize(t);i.getLayout().setColumnSize(t);return this};N.prototype.setGridContainerRowSizeXS=function(t){this.setProperty("gridContainerRowSizeXS",t,true);const e=this.getAggregation("_defaultArea");const i=this.getAggregation("_flatArea");e.getLayoutXS().setRowSize(t);e.getLayoutXS().setColumnSize(t);i.getLayoutXS().setRowSize(t);i.getLayoutXS().setColumnSize(t);return this};N.prototype.setGridContainerRowSizeS=function(t){this.setProperty("gridContainerRowSizeS",t,true);const e=this.getAggregation("_defaultArea");const i=this.getAggregation("_flatArea");e.getLayoutS().setRowSize(t);e.getLayoutS().setColumnSize(t);i.getLayoutS().setRowSize(t);i.getLayoutS().setColumnSize(t);return this};N.prototype.setGridContainerRowSizeM=function(t){this.setProperty("gridContainerRowSizeM",t,true);const e=this.getAggregation("_defaultArea");const i=this.getAggregation("_flatArea");e.getLayoutM().setRowSize(t);e.getLayoutM().setColumnSize(t);i.getLayoutM().setRowSize(t);i.getLayoutM().setColumnSize(t);return this};N.prototype.setGridContainerRowSizeL=function(t){this.setProperty("gridContainerRowSizeL",t,true);const e=this.getAggregation("_defaultArea");const i=this.getAggregation("_flatArea");e.getLayoutL().setRowSize(t);e.getLayoutL().setColumnSize(t);i.getLayoutL().setRowSize(t);i.getLayoutL().setColumnSize(t);return this};N.prototype.setGridContainerRowSizeXL=function(t){this.setProperty("gridContainerRowSizeXL",t,true);const e=this.getAggregation("_defaultArea");const i=this.getAggregation("_flatArea");e.getLayoutXL().setRowSize(t);e.getLayoutXL().setColumnSize(t);i.getLayoutXL().setRowSize(t);i.getLayoutXL().setColumnSize(t);return this};N.prototype.setNoVisualizationsText=function(t){this.setProperty("noVisualizationsText",t,true);this.getAggregation("_noVisualizationsText").setText(t);return this};N.prototype.setTitle=function(t){this.setProperty("title",t,true);this.getAggregation("_title").setText(t);this.getAggregation("_header").getContent()[0].setText(t);this.getAggregation("_header").getContent()[2].setValue(t);const e=this.getDomRef();if(e){e.setAttribute("aria-label",this.getAriaLabel())}return this};N.prototype.setShowNoVisualizationsText=function(t){this.setProperty("showNoVisualizationsText",t,true);this.getAggregation("_noVisualizationsText").setVisible(this.getEditable()&&t);const e=this.getDomRef();if(e){if(this.getEditable()&&t){e.setAttribute("aria-describedBy",this.getAggregation("_noVisualizationsText").getId())}else{e.removeAttribute("aria-describedBy")}}return this};N.prototype.setShowSection=function(t){if(t===undefined||this.getShowSection()===t){return this}this.setProperty("showSection",t,true);this.toggleStyleClass("sapUshellSectionHidden",!t);this.getAggregation("_title").setVisible(!this.getEditable()&&t);this.getAggregation("_defaultArea").setVisible(this.getEditable()||t);this.getAggregation("_flatArea").setVisible(this.getEditable()||t);this.getAggregation("_compactArea").setVisible(this.getEditable()||t);this.getAggregation("_header").getContent()[5].setText(t?w.i18n.getText("Section.Button.Hide"):w.i18n.getText("Section.Button.Show"));return this};N.prototype.setSizeBehavior=function(t){this.setProperty("sizeBehavior",t,true);if(this.getEnableGridBreakpoints()){const e=this.getAggregation("_defaultArea");const i=this.getAggregation("_flatArea");e.getLayoutL().setColumns(t?12:10);e.getLayoutXL().setColumns(t?16:14);i.getLayoutL().setColumns(t?12:10);i.getLayoutXL().setColumns(t?16:14)}return this};N.prototype.destroy=function(){f.prototype.destroy.apply(this,arguments);this._oDefaultItemsChangeDetection.destroy();this._oFlatItemsChangeDetection.destroy();this._oCompactItemsChangeDetection.destroy();document.removeEventListener("dragstart",this._fnGlobalDragStart,false);document.removeEventListener("dragend",this._fnGlobalDragEnd,false);if(this._oInvisibleMessageInstance){this._oInvisibleMessageInstance.destroy()}};N.prototype.getTitleInput=function(){return this.getAggregation("_header").getContent()[2]};N.prototype._reorderVisualizations=function(t){this.fireVisualizationDrop(t.getParameters())};N.prototype.getClosestVizualization=function(t,e){const i=this.getAllItems();return M(t,i,e)};N.prototype.getClosestVizIndex=function(t,e){const i=this.getClosestVizualization(t,e);return i?this.indexOfVisualization(i):-1};N.prototype.getClosestCompactItemIndex=function(t,e){const i=M(t,this.getCompactItems(),e);if(i){return this.indexOfVisualization(i)}return e?this.getVisualizations().length:0};N.prototype._onDragEnter=function(t){const e=t.getParameter("dragSession");const i=e.getDragControl();const a=i.getParent();let o=e.getDropControl&&e.getDropControl();if(!o){return}if(!o.data("area")){o=o.getParent()}if(o.data("default")&&!a.data("default")){t.preventDefault()}this.fireAreaDragEnter({originalEvent:t,dragControl:i,sourceArea:a.data("area"),targetArea:o.data("area")})};N.prototype.addAggregation=function(t,e){if(t==="defaultItems"||t==="flatItems"){this._addVisualizationLayoutData(e)}f.prototype.addAggregation.apply(this,arguments);this.handleEmptyContentAreas();return this};N.prototype.insertAggregation=function(t,e){if(t==="defaultItems"||t==="flatItems"){this._addVisualizationLayoutData(e,t)}f.prototype.insertAggregation.apply(this,arguments);this.handleEmptyContentAreas();return this};N.prototype.getFocusDomRef=function(){if(this.getEditable()){return this.getDomRef()}if(this.getDefaultItems().length){return this.getAggregation("_defaultArea").getFocusDomRef()}if(this.getFlatItems().length){return this.getAggregation("_flatArea").getFocusDomRef()}return this.getAggregation("_compactArea").getFocusDomRef()};N.prototype._getVisualizationLayoutData=function(t){if(t.getLayout){return t.getLayout()}return{rows:2,columns:2}};N.prototype._getFlatVisualizationLayoutData=function(t){if(t.getLayout){return t.getLayout()}return{rows:1,columns:2}};N.prototype._addVisualizationLayoutData=function(t,e){if(!t.getLayoutData()){const i=e==="defaultItems"?this._getVisualizationLayoutData(t):this._getFlatVisualizationLayoutData(t);t.setLayoutData(new o(i))}};N.prototype._getDefaultDropIndicatorSize=function(t){return this._getDropIndicatorSize(t,X.Standard)};N.prototype._getFlatDropIndicatorSize=function(t){return this._getDropIndicatorSize(t,X.Flat)};N.prototype._getDropIndicatorSize=function(t,e){const i=t.getParent();const a=i&&i.data("area");if(e===a&&t.getLayoutData){const e=t.getLayoutData();return{rows:e.getRows(),columns:e.getColumns()}}const o={};let n=[];if(t.getSupportedDisplayFormats){n=t.getSupportedDisplayFormats()}if(e===X.Flat){o.rows=1;o.columns=2;if(!n.includes(X.Flat)&&n.includes(X.FlatWide)){o.columns=4}}else{o.rows=2;o.columns=2;if(!n.includes(X.Standard)&&n.includes(X.StandardWide)){o.columns=4}}return o};N.prototype.getItemPosition=function(t){if(isFinite(t)){t=this.getVisualizations()[t]}let e=this.getAggregation("_defaultArea").getItems().indexOf(t);if(e>=0){return{index:e,area:X.Standard}}e=this.getAggregation("_flatArea").getItems().indexOf(t);if(e>=0){return{index:e,area:X.Flat}}e=this.getAggregation("_compactArea").getItems().indexOf(t);if(e>=0){return{index:e,area:X.Compact}}return{index:-1,area:X.Standard}};N.prototype._focusItem=function(t){window.setTimeout(()=>{let e=t&&t.area?t.area:X.Standard;let i=t&&t.index?t.index:t;const a=this.getAggregation("_defaultArea").getItems().length;const o=this.getAggregation("_flatArea").getItems().length;const n=this.getAggregation("_compactArea").getItems().length;if(isNaN(i)||i<0){i=0}if(e===X.Standard&&a===0){e=X.Flat}if(e===X.Flat&&o===0){e=X.Compact}if(e===X.Compact&&n===0){e=X.Standard}if(a+o+n===0){e="section"}switch(e){case"section":this.focus();break;case X.Flat:if(i>=o){i=o-1}this.getAggregation("_flatArea").focusItem(i);break;case X.Compact:this.getAggregation("_compactArea").focusItem(i);break;default:if(i>=a){i=a-1}this.getAggregation("_defaultArea").focusItem(i);break}},0)};N.prototype.focusVisualization=function(t){let e;if(!this.getShowSection()&&!this.getEditable()){return false}const i=this.getAllItems();if(!i.length){return false}if(t&&t.area){this._focusItem(t);return true}if(t&&t.getMetadata){e=t}if(!e&&t&&t.keycode){switch(t.keycode){case z.ARROW_UP:e=this.getClosestVizualization(t.ref,true);break;case z.ARROW_DOWN:e=this.getClosestVizualization(t.ref,false);break;case z.ARROW_LEFT:t=-1;break;default:break}}if(!e&&t===-1){e=i[i.length-1]}if(!e){e=i[0]}this._focusItem(this.getItemPosition(e));return true};return N});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/SectionRenderer", [],()=>{"use strict";const e={apiVersion:2};function t(e){const t=!!e.getDefaultItems().length;const a=!!e.getFlatItems().length;const n=!!e.getCompactItems().length;return!t&&!n&&!a}e.render=function(e,a){const n=a.getDefault()?"recently-added-apps":a.getDataHelpId();const r=a.getEditable();const o=a.getAggregation("_noVisualizationsText");e.openStart("div",a);e.class("sapUshellSection");if(r){e.class("sapUshellSectionEdit");e.attr("tabindex","0")}if(!a.getShowSection()){e.class("sapUshellSectionHidden")}if(t(a)){e.class("sapUshellSectionNoVisualizations");if(r&&a.getShowNoVisualizationsText()){e.attr("aria-describedBy",o.getId())}}if(n){e.attr("data-help-id",n)}e.attr("role","region");e.attr("aria-label",a.getAriaLabel());e.openEnd();e.renderControl(a.getAggregation("_title"));e.renderControl(a.getAggregation("_header"));e.renderControl(o);e.renderControl(a.getAggregation("_defaultArea"));e.renderControl(a.getAggregation("_flatArea"));e.renderControl(a.getAggregation("_compactArea"));e.close("div")};return e},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/Tile", ["sap/base/Log","sap/m/Text","sap/ui/base/ManagedObject","sap/ui/core/Control","sap/ui/core/EventBus","sap/ui/core/Icon","sap/ui/thirdparty/jquery","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/AccessibilityCustomData","./TileRenderer"],(e,t,i,o,s,n,jQuery,l,a,r,c)=>{"use strict";const u=o.extend("sap.ushell.ui.launchpad.Tile",{metadata:{library:"sap.ushell",properties:{long:{type:"boolean",group:"Misc",defaultValue:false},uuid:{type:"string",group:"Misc",defaultValue:null},tileCatalogId:{type:"string",group:"Misc",defaultValue:null},tileCatalogIdStable:{type:"string",group:"Misc",defaultValue:null},isCustomTile:{type:"boolean",group:"Misc",defaultValue:false},target:{type:"string",group:"Misc",defaultValue:null},debugInfo:{type:"string",group:"Misc",defaultValue:null},rgba:{type:"string",group:"Misc",defaultValue:null},animationRendered:{type:"boolean",group:"Misc",defaultValue:false},isLocked:{type:"boolean",group:"Misc",defaultValue:false},showActionsIcon:{type:"boolean",group:"Misc",defaultValue:false},tileActionModeActive:{type:"boolean",group:"Misc",defaultValue:false},ieHtml5DnD:{type:"boolean",group:"Misc",defaultValue:false},navigationMode:{type:"string",group:"Misc",defaultValue:null},isDraggedInTabBarToSourceGroup:{type:"boolean",group:"Misc",defaultValue:false},noContainerMode:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{tileViews:{type:"sap.ui.core.Control",multiple:true,singularName:"tileView"},pinButton:{type:"sap.ui.core.Control",multiple:true,singularName:"pinButton"}},events:{press:{},coverDivPress:{},afterRendering:{},showActions:{},deletePress:{}}},renderer:c});u.prototype.init=function(){this.addDelegate({onkeyup:function(e){const t=e.originalEvent;const i=t.code==="Space"||e.keyCode===32;const o=t.code==="Enter"||e.keyCode===13;const s=t.altKey||t.shiftKey||t.ctrlKey||t.metaKey;if((i||o)&&!s){this._launchTileViaKeyboard(e)}}},this)};u.prototype.exit=function(){if(this.actionSheetIcon){this.actionSheetIcon.destroy()}if(this.actionIcon){this.actionIcon.destroy()}if(this.failedToLoadViewText){this.failedToLoadViewText.destroy()}};u.prototype.getFailedtoLoadViewText=function(){if(!this.failedToLoadViewText){this.failedToLoadViewText=new t({text:a.i18n.getText("Tile.failedToLoadView")})}return this.failedToLoadViewText};u.prototype.getActionSheetIcon=function(){if(!this.getTileActionModeActive()){return undefined}if(!this.actionSheetIcon){this.actionSheetIcon=new n({src:"sap-icon://overflow",tooltip:a.i18n.getText("configuration.category.tile_actions")}).addStyleClass("sapUshellTileActionIconDivBottomInner")}return this.actionSheetIcon};u.prototype.ontap=function(){e.info("Tile clicked:",this.getDebugInfo(),"sap.ushell.ui.launchpad.Tile");this.firePress()};u.prototype.destroy=function(e){this.destroyTileViews();o.prototype.destroy.call(this,e)};u.prototype.addTileView=function(e,t){e.setParent(null);i.prototype.addAggregation.call(this,"tileViews",e,t)};u.prototype.destroyTileViews=function(){if(this.mAggregations.tileViews){this.mAggregations.tileViews.length=0}};u.prototype.onBeforeRendering=function(){const e=this.getDomRef();if(e){const t=e.querySelector("a.sapUshellTileInner");if(t){t.onclick=null}if(document.activeElement===e){this.bFocused=true}this.sTabIndex=e.getAttribute("tabindex");if(this.sTabIndex){e.removeAttribute("tabindex")}}};u.prototype.onAfterRendering=function(){if(this.getIsDraggedInTabBarToSourceGroup()){const e=this.getParent();e.removeAggregation("tiles",this,false)}const e=this.getDomRef();if(e){if(this.sTabIndex){e.setAttribute("tabindex",this.sTabIndex);delete this.sTabIndex}if(this.bFocused){e.focus();delete this.bFocused}}this._redrawRGBA();this._disableInnerLink();this.fireAfterRendering()};u.prototype._disableInnerLink=function(){const e=this.getDomRef();const t=e.querySelector("a.sapUshellTileInner");if(t){t.onclick=function(e){e.preventDefault()}}};u.prototype._launchTileViaKeyboard=function(e){if(this.getTileActionModeActive()){this.fireCoverDivPress({id:this.getId()})}else{this._announceLoadingApplication();if(e.target.tagName!=="BUTTON"){let e=this.getTileViews()[0];let t=false;let i;let o;if(e.firePress){e.firePress({id:this.getId()})}else if(e.getComponentInstance){i=e.getComponentInstance();if(i._oController&&i._oController.oView.getContent()){o=i._oController.oView.getContent()[0];if(o&&o.firePress){o.firePress({id:this.getId()})}}}else{while(e.getContent&&!t){e=e.getContent()[0];if(e.firePress){e.firePress({id:this.getId()});t=true}}}}}};u.prototype.onfocusin=function(){const t=this.getDomRef();if(!t.classList.contains("sapUshellPlusTile")){const i=this.$().prevUntil("h3");let o;if(i.length>0){o=i[i.length-1].previousSibling}else{o=t.previousSibling}const s=t.querySelector(".sapUshellTileInner");if(s&&s.children&&s.children[0]){const i=[];if(o){i.push("sapUshellCatalogAccessibilityTileText")}else{i.push("sapUshellDashboardAccessibilityTileText")}const n=this.getNavigationMode();if(n){const t=a.i18n.getText(`${n}NavigationMode`);if(t){const e=`${this.getId()}-navigationMode`;if(!document.getElementById(e)){const i=document.createElement("div");i.setAttribute("id",e);i.style.display="none";i.innerText=t;s.appendChild(i)}i.push(e)}else{e.warning("The navigation mode is of a unkown mode, it can not be read!")}}i.push(s.children[0].getAttribute("id"));const l=t.querySelector(".sapUshellTileDeleteClickArea .sapUiIcon");if(l){i.push(l.id)}if(o){i.push(o.getAttribute("id"))}if(this.getTileActionModeActive()){i.push("sapUshellDashboardAccessibilityTileEditModeText")}t.setAttribute("aria-labelledby",i.join(" "))}}};u.prototype.onclick=function(e){if(this.getTileActionModeActive()){const t=e.originalEvent.srcElement;if(jQuery(t).closest(".sapUshellTileDeleteClickArea").length>0){this.fireDeletePress()}else{this.fireCoverDivPress({id:this.getId()})}}else{this._announceLoadingApplication()}};u.prototype._announceLoadingApplication=function(){const e=document.getElementById("sapUshellLoadingAccessibilityHelper-appInfo");const t=a.i18n.getText("screenReaderNavigationLoading");if(e){e.setAttribute("role","alert");e.innerText=t;setTimeout(()=>{e.removeAttribute("role");e.innerText=""},0)}};u.prototype._initDeleteAction=function(){const e=this;if(!this.deleteIcon){this.deleteIcon=new n({src:"sap-icon://decline",tooltip:a.i18n.getText("removeButtonTitle")});this.deleteIcon.addEventDelegate({onclick:function(t){e.fireDeletePress();t.stopPropagation()}});this.deleteIcon.addStyleClass("sapUshellTileDeleteIconInnerClass");this.deleteIcon.addCustomData(new r({key:"aria-label",value:a.i18n.getText("removeButtonLabel"),writeToDom:true}))}return this.deleteIcon};u.prototype.setShowActionsIcon=function(e){if(e){if(!this.actionIcon){this.actionIcon=new n({size:"1rem",src:"sap-icon://overflow",press:function(){this.fireShowActions();this.addStyleClass("showTileActionsIcon");const e=s.getInstance();function t(i,o,s){s.removeStyleClass("showTileActionsIcon");e.unsubscribe("dashboard","actionSheetClose",t)}e.subscribe("dashboard","actionSheetClose",t)}.bind(this)}).addStyleClass("sapUshellTileActionsIconClass")}}this.setProperty("showActionsIcon",e)};u.prototype.setIsDraggedInTabBarToSourceGroup=function(e){this.setProperty("isDraggedInTabBarToSourceGroup",e);this.setVisible(!e)};u.prototype.setRgba=function(e){this.setProperty("rgba",e);this._redrawRGBA()};u.prototype._redrawRGBA=function(){const e=this.getRgba();const t=this.$();if(e&&t){const i=this.getModel();t.css("background-color",e);t.off("mouseenter mouseleave");let o;const s=t.css("border").split("px")[0];if(s>0){o=t.css("border-color")}else{o=e}t.hover(()=>{if(i&&!i.getProperty("/tileActionModeActive")){const e=t.css("box-shadow");const i=e?e.split(") ")[1]:null;if(i){t.css("box-shadow",`${i} ${o}`)}}},()=>{t.css("box-shadow","")})}};return u});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileContainer", ["sap/base/Log","sap/m/Input","sap/m/library","sap/m/Text","sap/ui/base/ManagedObject","sap/ui/core/Control","sap/ui/core/EventBus","sap/ui/core/Icon","sap/ushell/override","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/PlusTile","sap/ushell/utils","sap/ushell/ui/launchpad/TileContainerRenderer","sap/ushell/Container","sap/ui/dom/jquery/selectText"],(e,t,i,o,s,n,l,r,a,u,p,d,c,f,h)=>{"use strict";const g=i.HeaderLevel;const y=n.extend("sap.ushell.ui.launchpad.TileContainer",{metadata:{library:"sap.ushell",properties:{scrollType:{type:"string",group:"Misc",defaultValue:"item"},animationSpeed:{type:"int",group:"Misc",defaultValue:500},groupId:{type:"string",group:"Misc",defaultValue:null},showHeader:{type:"boolean",group:"Misc",defaultValue:true},showPlaceholder:{type:"boolean",group:"Misc",defaultValue:true},defaultGroup:{type:"boolean",group:"Misc",defaultValue:false},isLastGroup:{type:"boolean",group:"Misc",defaultValue:false},headerText:{type:"string",group:"Misc",defaultValue:null},headerLevel:{type:"sap.m.HeaderLevel",group:"Misc",defaultValue:g.H2},groupHeaderLevel:{type:"sap.m.HeaderLevel",group:"Misc",defaultValue:g.H4},showGroupHeader:{type:"boolean",group:"Misc",defaultValue:true},homePageGroupDisplay:{type:"string",defaultValue:null},visible:{type:"boolean",group:"Misc",defaultValue:true},sortable:{type:"boolean",group:"Misc",defaultValue:true},showNoData:{type:"boolean",group:"Misc",defaultValue:false},noDataText:{type:"string",group:"Misc",defaultValue:""},isGroupLocked:{type:"boolean",group:"Misc",defaultValue:null},isGroupSelected:{type:"boolean",group:"Misc",defaultValue:false},editMode:{type:"boolean",group:"Misc",defaultValue:false},showBackground:{type:"boolean",group:"Misc",defaultValue:false},icon:{type:"string",group:"Misc",defaultValue:"sap-icon://locked"},showIcon:{type:"boolean",group:"Misc",defaultValue:false},deluminate:{type:"boolean",group:"Misc",defaultValue:false},showMobileActions:{type:"boolean",group:"Misc",defaultValue:false},enableHelp:{type:"boolean",group:"Misc",defaultValue:false},tileActionModeActive:{type:"boolean",group:"Misc",defaultValue:false},ieHtml5DnD:{type:"boolean",group:"Misc",defaultValue:false},showEmptyLinksArea:{type:"boolean",group:"Misc",defaultValue:false},showEmptyLinksAreaPlaceHolder:{type:"boolean",group:"Misc",defaultValue:false},hidden:{type:"boolean",group:"Misc",defaultValue:false},transformationError:{type:"boolean",group:"Misc",defaultValue:false},supportLinkPersonalization:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{tiles:{type:"sap.ui.core.Control",multiple:true,singularName:"tile"},links:{type:"sap.ui.core.Control",multiple:true,singularName:"link"},beforeContent:{type:"sap.ui.core.Control",multiple:true,singularName:"beforeContent"},afterContent:{type:"sap.ui.core.Control",multiple:true,singularName:"afterContent"},headerActions:{type:"sap.ui.core.Control",multiple:true,singularName:"headerAction"}},events:{afterRendering:{},add:{},titleChange:{}}},renderer:f});y.prototype.init=function(){this.bIsFirstTitleChange=true;this.setProperty("noDataText",p.i18n.getText("noFilteredItems"),true);this._sDefaultValue=p.i18n.getText("new_group_name");this.oNoLinksText=new o({text:p.i18n.getText("emptyLinkContainerInEditMode")}).addStyleClass("sapUshellNoLinksAreaPresentTextInner");this.oTransformationErrorText=new o({text:p.i18n.getText("transformationErrorText")}).addStyleClass("sapUshellTransformationErrorText");this.oTransformationErrorIcon=new r({src:"sap-icon://message-error"}).addStyleClass("sapUshellTransformationErrorIcon");this.oIcon=new r({src:this.getIcon()}).addStyleClass("sapUshellContainerIcon");this.oPlusTile=new d({groupId:this.getGroupId(),enableHelp:this.getEnableHelp(),press:[this.fireAdd,this]}).setParent(this);const e=function(){this.getDomRef("groupheader").focus();this._stopEdit();const t=this.oEditInputField.getDomRef();if(t){t.removeEventListener("focusout",e)}}.bind(this);this.oEditInputField=new t({placeholder:this._sDefaultValue,value:this.getHeaderText()}).addEventDelegate({onBeforeRendering:function(){const t=this.oEditInputField.getDomRef();if(t){t.removeEventListener("focusout",e)}}.bind(this),onAfterRendering:function(){setTimeout(()=>{const t=this.oEditInputField.$("inner");t.focus();t.selectText(0,t.val().length);const i=this.oEditInputField.getDomRef();if(i){i.addEventListener("focusout",e)}},0)}.bind(this)}).addStyleClass("sapUshellTileContainerTitleInput");h.getServiceAsync("FlpLaunchPage").then(e=>{if(e.isLinkPersonalizationSupported()){y.prototype.isLinkPersonalizationOveride()}});this.fnTitleTextClickHandler=this._titleTextClickHandler.bind(this)};y.prototype.onBeforeRendering=function(){const e=this.getDomRef("titleText");if(e){e.removeEventListener("click",this.fnTitleTextClickHandler)}const t=this.getTiles();const i=this.getLinks();const o=t.concat(i);o.forEach(e=>{const t=e.getDomRef();if(t){const e=t.getAttribute("data-oldTabindex");if(e){t.setAttribute("tabindex",e);t.removeAttribute("data-oldTabindex")}else{t.removeAttribute("tabindex")}}})};y.prototype.onAfterRendering=function(){const e=this.getDomRef("titleText");if(e){e.addEventListener("click",this.fnTitleTextClickHandler)}const t=this.getTiles();const i=this.getLinks();const o=t.concat(i);o.forEach(e=>{const t=e.getDomRef();if(t){const e=t.getAttribute("tabindex");if(e){t.setAttribute("data-oldTabindex",e)}t.setAttribute("tabindex","-1")}});const s=t.filter(e=>e.isA("sap.ui.integration.widgets.Card"));this._resizeCards(s);l.getInstance().publish("launchpad","GroupHeaderVisibility");this.fireAfterRendering()};y.prototype._titleTextClickHandler=function(){const e=this.getModel()&&this.getModel().getProperty("/enableRenameLockedGroup");const t=(e||!this.getIsGroupLocked())&&!this.getDefaultGroup()&&this.getTileActionModeActive();this.setEditMode(t)};y.prototype.updateAggregation=a.updateAggregation;y.prototype.setGroupId=function(e,t){this.setProperty("groupId",e,t);this.oPlusTile.setGroupId(e,t);return this};y.prototype.setShowIcon=function(e,t){this.setProperty("showIcon",e,t);this.oIcon.toggleStyleClass("sapUshellContainerIconHidden",!e);return this};y.prototype.groupHasTiles=function(){let e="";let t=this.getTiles();const i=[];if(this.getBindingContext()){e=this.getBindingContext().sPath;t=this.getModel().getProperty(e).tiles}return c.groupHasVisibleTiles(t,i)};y.prototype.getInnerContainersDomRefs=function(){const e=this.getDomRef();if(!e){return null}return[e.querySelector(".sapUshellTilesContainer-sortable"),e.querySelector(".sapUshellLineModeContainer")]};y.prototype.isLinkPersonalizationOveride=function(){y.prototype.updateLinks=function(e){const t=this.getParent();const i=t&&t.getDisplayMode&&t.getDisplayMode()==="tabs";if(i&&!this.getTileActionModeActive()){t.removeLinksFromUnselectedGroups()}if(this.getLinks().length>0){this.removeAllLinks()}s.prototype.updateAggregation.call(this,"links")};y.prototype.destroyLinks=function(t){e.debug(`link is destroyed because: ${t}`,null,"sap.ushell.ui.launchpad.TileContainer")}};y.prototype._resizeCards=function(e){let t;let i;const o=5.5;const s=.4375;let n;let l;let r;let a;for(let u=0;u<e.length;u++){t=e[u];i=t.getManifest();n=i["sap.flp"].rows;l=i["sap.flp"].columns;r=`${l*o+(l-3)*s}rem`;a=`${n*o+(n-1)*s}rem`;t.setHeight(a);t.setWidth(r)}};y.prototype.setEditMode=function(e,t){this.setProperty("editMode",e,t);if(e){this.oEditInputField.setValue(this.getHeaderText())}const i=this.getModel();if(i){i.setProperty("/editTitle",e)}};y.prototype._stopEdit=function(){const e=this.getHeaderText();let t=this.oEditInputField.getValue();let i;t=t.substring(0,256).trim()||this._sDefaultValue;i=t!==e;if(this.bIsFirstTitleChange&&t===this.oEditInputField.getPlaceholder()){i=true}this.bIsFirstTitleChange=false;if(this.getModel()&&this.getModel().getProperty("/editTitle")){this.getModel().setProperty("/editTitle",false,false)}if(i){this.fireTitleChange({newTitle:t});this.setHeaderText(t)}this.setEditMode(false)};y.prototype.exit=function(){if(this.oNoLinksText){this.oNoLinksText.destroy()}if(this.oTransformationErrorText){this.oTransformationErrorText.destroy()}if(this.oTransformationErrorIcon){this.oTransformationErrorIcon.destroy()}if(this.oIcon){this.oIcon.destroy()}if(this.oPlusTile){this.oPlusTile.destroy()}if(this.oEditInputField){this.oEditInputField.destroy()}const e=this.getDomRef("titleText");if(e){e.removeEventListener("click",this.fnTitleTextClickHandler)}if(n.prototype.exit){n.prototype.exit.apply(this,arguments)}};return y});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileContainerRenderer", ["sap/ushell/resources","sap/ushell/utils","sap/ushell/bootstrap/common/common.load.model","sap/ushell/Config","sap/ushell/ui/launchpad/AccessibilityCustomData","sap/ui/core/CustomData"],(e,t,s,o,a,i)=>{"use strict";const l={apiVersion:2};l.oModel=s.getModel();l.render=function(s,o){const l=o.getHeaderActions();const n=o.getBeforeContent();const r=o.getAfterContent();const d=o.getLinks();const c=d.length;const p=this;s.openStart("div",o);s.class("sapUshellTileContainer");if(!o.getVisible()){s.class("sapUshellHidden")}if(o.getDeluminate()){s.class("sapUshellDisableLockedGroupDuringDrag")}if(o.getEditMode()){s.class("sapUshellEditing")}if(o.getHidden()){s.class("sapUshellTileContainerEditModeHidden")}if(!o.getShowEmptyLinksArea()){s.class("sapUshellLinksAreaHidden")}if(o.getShowEmptyLinksAreaPlaceHolder()){s.class("sapUshellTileContainerEditMode");s.class("sapUshellTileContainerTabsModeEmptyLinksArea")}else{s.class("sapUshellEmptyLinksAreaPlaceHolder")}s.openEnd();if(n.length&&o.getTileActionModeActive()){s.openStart("div");s.class("sapUshellTileContainerBeforeContent");s.class("sapContrastPlus");s.openEnd();n.forEach(e=>{s.renderControl(e)});s.close("div")}s.openStart("div");s.class("sapUshellTileContainerContent");if(o.getIsGroupLocked()){s.class("sapUshellTileContainerLocked")}if(o.getDefaultGroup()){s.class("sapUshellTileContainerDefault")}if(o.getShowBackground()){s.class("sapUshellTileContainerEditMode")}s.openEnd();if(o.getShowBackground()){s.openStart("div");s.class("sapUshellGroupBackgroundContainer");s.class("sapContrastPlus");s.openEnd();s.close("div")}if(o.getShowHeader()){s.openStart("div",`${o.getId()}-groupheader`);s.class("sapUshellTileContainerHeader");s.class("sapContrastPlus");if(!o.getShowGroupHeader()){s.class("sapUshellFirstGroupHeaderHidden");s.class("sapUiPseudoInvisibleText")}if(o.getTileActionModeActive()){s.attr("tabindex","0")}let t;if(o.getDefaultGroup()){t=e.i18n.getText("ariaLabelEditModeGroupDefault",[o.getHeaderText()])}else if(o.getIsGroupLocked()){t=e.i18n.getText("ariaLabelEditModeGroupLocked",[o.getHeaderText()])}else{t=e.i18n.getText("ariaLabelEditModeGroup",[o.getHeaderText()])}s.attr("aria-label",t);s.openEnd();s.openStart("div",`${o.getId()}-title`);s.class("sapUshellContainerTitleFlex");s.openEnd();if(o.getEditMode()){s.renderControl(o.oEditInputField)}else{const e=o.getHeaderLevel().toLowerCase();s.openStart(e,`${o.getId()}-titleText`);s.class("sapUshellContainerTitle");s.attr("title",o.getHeaderText());s.attr("role","region");if(o.getTileActionModeActive()&&!o.getIsGroupLocked()&&!o.getDefaultGroup()){s.attr("tabindex","0")}s.openEnd();s.text(o.getHeaderText());s.close(e)}if(o.getIsGroupLocked()){s.renderControl(o.oIcon)}else if(o.getTileActionModeActive()){s.openStart("div");s.class("sapUshellContainerHeaderActions");s.openEnd();l.forEach(e=>{s.renderControl(e)});s.close("div")}s.close("div");s.close("div")}s.openStart("ul");s.class("sapUshellTilesContainer-sortable");s.class("sapUshellInner");s.openEnd();let g=false;o.getTiles().forEach(e=>{if(e.getVisible()){g=true}if(p._isUserActivityCard(e)){p._updateUserActivityCardVisibility(e)}s.renderControl(e)});if(o.getShowPlaceholder()){s.renderControl(o.oPlusTile)}if(o.getShowNoData()){this.renderNoData(s,o,!g)}s.close("ul");const u=o.getSupportLinkPersonalization();if(c>0||u){s.openStart("div");s.class("sapUshellLineModeContainer");if(!c&&u){s.class("sapUshellNoLinksAreaPresent");if(o.getTransformationError()){s.class("sapUshellNoLinksAreaPresentError")}s.openEnd();s.openStart("div");s.class("sapUshellNoLinksAreaPresentText");s.openEnd();s.renderControl(o.oNoLinksText);s.close("div")}else{s.openEnd()}if(u){if(o.getTransformationError()){s.openStart("div");s.class("sapUshellTransformationError");if(!o.transformationError){s.style("display","none")}s.openEnd();s.openStart("div");s.class("sapUshellTransformationErrorInnerWrapper");s.openEnd();s.renderControl(o.oTransformationErrorIcon);s.renderControl(o.oTransformationErrorText);s.close("div");s.close("div")}s.openStart("div");s.class("sapUshellLinksInnerContainer");s.openEnd();let e;let t;let l;let n;d.forEach((r,d)=>{e=r.getCustomData();t=false;l=false;n=false;e.forEach(e=>{if(e.getKey()==="aria-posinset"){e.setValue((d+1).toString());e.setWriteToDom(true);t=true}else if(e.getKey()==="aria-setsize"){e.setValue(c.toString());e.setWriteToDom(true);l=true}else if(e.getKey()==="help-id"){e.setValue(r.getBindingContext()&&r.getBindingContext().getProperty("tileCatalogId"));e.setWriteToDom(true);n=true}else if(e.getKey()==="help-id2"){e.setValue(r.getBindingContext()&&r.getBindingContext().getProperty("tileCatalogIdStable"));e.setWriteToDom(true);n=true}});if(!t){r.addCustomData(new a({key:"aria-posinset",value:(d+1).toString(),writeToDom:true}))}if(!l){r.addCustomData(new a({key:"aria-setsize",value:c.toString(),writeToDom:true}))}if(r.getModel()&&r.getModel().getProperty("/enableHelp")&&!n){r.addCustomData(new i({key:"help-id",value:r.getBindingContext()&&r.getBindingContext().getProperty("tileCatalogId"),writeToDom:true}));r.addCustomData(new i({key:"help-id2",value:r.getBindingContext()&&r.getBindingContext().getProperty("tileCatalogIdStable"),writeToDom:true}))}r.addStyleClass("sapUshellLinkTile");if(o.getIsGroupLocked()){r.addStyleClass("sapUshellLockedTile")}s.renderControl(r)});s.close("div")}else{d.forEach(e=>{s.renderControl(e)})}s.close("div")}s.close("div");if(r.length&&o.getTileActionModeActive()){s.openStart("div");s.class("sapUshellTileContainerAfterContent");s.class("sapContrastPlus");s.openEnd();r.forEach(e=>{s.renderControl(e)});s.close("div")}s.close("div");t.setPerformanceMark("FLP -- tile container renderer")};l.renderNoData=function(e,t,s){e.openStart("div",`${t.getId()}-listNoData`);e.class("sapUshellNoFilteredItems");e.class("sapUiStrongBackgroundTextColor");e.openEnd();e.text(s?t.getNoDataText():"");e.close("div")};l._isUserActivityCard=function(t){if(typeof t.getManifest!=="function"){return false}const s=t.getManifest();const o=s&&s["sap.card"]&&s["sap.card"].header&&s["sap.card"].header.title;return o===e.i18n.getText("recentActivities")||o===e.i18n.getText("frequentActivities")};l._updateUserActivityCardVisibility=function(e){e.setVisible(o.last("/core/shell/model/enableTrackingActivity"));o.on("/core/shell/model/enableTrackingActivity").do(t=>{e.setVisible(t)})};return l},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileContainerUtils", ["sap/base/util/uid"],e=>{"use strict";const t={};t.showHideTilesAndHeaders=function(e,t){let n;let r;let i;let l=0;let s=0;for(n in e.onScreenPathIndexMap){if(e.onScreenPathIndexMap.hasOwnProperty(n)){i=e.onScreenPathIndexMap[n];r=t[i.aItemsRefrenceIndex];if(r.getVisible()&&!i.isVisible){s++}r.setVisible(i.isVisible);if(i.isVisible){l++}}}return{nCountVisibleElements:l,nCountFilteredElement:s}};t.applyFilterOnItem=function(e,t,n,r){let i;for(i in t){if(t.hasOwnProperty(i)){t[i](e)}}if(n){n(e,r)}};t.createNewItem=function(t,n){const r=this.mBindingInfos[n];const i=r.factory;const l=function(t){const n=`${this.getId()}-${e()}`;const l=i(n,t);l.setBindingContext(t,r.model);return l}.bind(this);return l(t)};t.addNewItem=function(e,t){const n=this.getMetadata().getJSONKeys()[t];this[n._sMutator](e);return true};t.createMissingElementsInOnScreenElements=function(e,n,r,i,l,s,a){let o;let f;const c=n.length;for(f=r;f<c;f++){o=n[f].getPath();if(!e.onScreenPathIndexMap[o]){if(i(n[f],a)===false){return false}t.applyFilterOnItem(n[f],s)}else{throw new Error("Order problem needs to refresh")}}return true};t.createMissingElementsInOnScreenElementsSearchCatalog=function(e,n,r,i,l,s,a,o){let f;let c;const u=n.length;for(c=0;c<u;c++){f=n[c].getPath();if(!e.onScreenPathIndexMap[f]){if(i(n[c],a)===false){return false}}t.applyFilterOnItem(n[c],s,o,a)}return true};t.applyFilterOnAllItems=function(e,n,r){let i;const l=e.binding;if(!l){return}const s=l.getContexts();for(i=0;i<s.length;i++){t.applyFilterOnItem(s[i],n,r)}};t.validateOrder=function(e,t,n){let r;let i;let l;let s;let a;let o;let f;let c;if(e[n]&&t.length>0){r=t[t.length-1].getBindingContext().getPath();i=e[n].getPath();s=r.split("/");a=i.split("/");for(o=0;o<s.length&&o<a.length;o++){f=s[o];c=a[o];if(parseInt(f,10)&&parseInt(c,10)){if(parseInt(f,10)>parseInt(c,10)){return false}else if(parseInt(f,10)<parseInt(c,10)){return true}}else{for(l=0;l<c.length&&l<f.length;l++){if(f[l].charCodeAt()>c[l].charCodeAt()){return false}else if(f[l].charCodeAt()<c[l].charCodeAt()){return true}}}}}return true};t.markVisibleOnScreenElements=function(e,t,n){let r=0;let i;const l=e.length;for(r=0;r<l;r++){i=e[r].getPath();if(t.onScreenPathIndexMap[i]){if(n){t.onScreenPathIndexMap[i].isVisible=true}}else{return r}}return r};t.markVisibleOnScreenElementsSearchCatalog=function(e,t,n){let r=0;let i;const l=e.length;for(r=0;r<l;r++){i=e[r].getPath();if(t.onScreenPathIndexMap[i]){if(n){t.onScreenPathIndexMap[i].isVisible=true}}}return r};t.indexOnScreenElements=function(e,t){let n;let r;const i={onScreenPathIndexMap:{}};const l=e.length;let s;let a=true;if(t===false){a=false}for(r=0;r<l;r++){s=e[r];if(s.getBindingContext()){n=s.getBindingContext().getPath();if(!i.onScreenPathIndexMap[n]){i.onScreenPathIndexMap[n]={aItemsRefrenceIndex:r,isVisible:a}}}}return i};return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileRenderer", ["sap/base/Log","sap/ushell/Config"],(e,l)=>{"use strict";const t={apiVersion:2};t.render=function(t,i){let n=null;try{n=i.getTileViews()[0]}catch(l){e.warning("Failed to load tile view: ",l);n=i.getFailedtoLoadViewText()}const o=i.getParent();if(!o){return}const s=i.getNoContainerMode();t.openStart(s?"div":"li",i);if(l.last("/core/shell/model/enableHelp")){t.attr("data-help-id",i.getTileCatalogId());if(i.getTileCatalogIdStable()){t.attr("data-help-id2",i.getTileCatalogIdStable())}}t.class("sapUshellTile");if(i.getTileActionModeActive()){t.class("sapUshellTileWrapper")}if(n&&n.getContent){const e=n.getContent();e.forEach(e=>{if(e.isA("sap.m.GenericTile")){t.class("sapUshellFeedTileBG")}})}if(i.getLong()){t.class("sapUshellLong")}if(!i.getVisible()){t.class("sapUshellHidden")}if(i.getIsLocked()){t.class("sapUshellLockedTile")}if(l.last("/core/home/sizeBehavior")==="Small"){t.class("sapUshellSmall")}const a=`${o.getId()}-titleText`;t.attr("aria-describedby",a);t.openEnd();if(i.getTileActionModeActive()){this.renderTileActionMode(t,i);this.renderTileView(t,i,n)}else{t.openStart("div");t.class("sapUshellTileWrapper");t.openEnd();this.renderTileView(t,i,n);if(i.getShowActionsIcon()){t.renderControl(i.actionIcon)}t.close("div");this.renderTileActionsContainer(t,n,i.getPinButton())}t.close(s?"div":"li")};t.renderTileActionsContainer=function(e,l,t){t=t.length?t[0]:undefined;if(t){t.addStyleClass("sapUshellActionButton");e.openStart("div");e.class("sapUshellTilePinButtonOverlay");if(l.getHeader){e.attr("role","toolbar");e.attr("aria-label",l.getHeader())}e.openEnd();e.renderControl(t);e.close("div")}};t.renderTileView=function(e,l,t){e.openStart("div");e.class("sapUshellTileInner");if(l.getTileActionModeActive()){e.class("sapUshellTileActionBG")}e.openEnd();e.renderControl(t);e.close("div")};t.renderTileActionMode=function(e,l){e.openStart("div");e.class("sapUshellTileActionLayerDiv");e.openEnd();if(!l.getIsLocked()){e.openStart("div");e.class("sapUshellTileDeleteClickArea");e.openEnd();e.openStart("div");e.class("sapUshellTileDeleteIconOuterClass");e.openEnd();e.renderControl(l._initDeleteAction());e.close("div");e.close("div")}e.openStart("div");e.class("sapUshellTileActionDivCenter");e.openEnd();e.close("div");e.openStart("div");e.class("sapUshellTileActionIconDivBottom");e.openEnd();e.openStart("div");e.class("sapUshellTileActionIconDivBottomInnerDiv");e.openEnd();e.renderControl(l.getActionSheetIcon());e.close("div");e.close("div");e.close("div")};return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileState", ["sap/ushell/ui/launchpad/TileStateInternal","./TileStateRenderer"],(e,t)=>{"use strict";const a=e.extend("sap.ushell.ui.launchpad.TileState",{metadata:{library:"sap.ushell",properties:{state:{type:"string",group:"Misc",defaultValue:"Loaded"}},events:{press:{}}},renderer:t});return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileStateInternal", ["sap/ui/core/Control","sap/ui/core/Icon","sap/ushell/resources","sap/ui/core/HTML","./TileStateInternalRenderer","sap/ushell/library"],(e,t,i,s,n)=>{"use strict";const o=e.extend("sap.ushell.ui.launchpad.TileStateInternal",{metadata:{library:"sap.ushell",properties:{state:{type:"string",group:"Misc",defaultValue:"Loaded"}},events:{press:{}}},renderer:n});o.prototype.init=function(){this._rb=i.i18n;this._sFailedToLoad=this._rb.getText("cannotLoadTile");this._oWarningIcon=new t(`${this.getId()}-warn-icon`,{src:"sap-icon://notification",size:"1.37rem"}).addStyleClass("sapSuiteGTFtrFldIcnMrk");this.attachPress(this._onPress)};o.prototype.onclick=function(){this.firePress()};o.prototype._onPress=function(e){if(this.getState()!=="Failed"){return}if(!this.FailedTileDialog){sap.ui.require(["sap/ushell/ui/launchpad/FailedTileDialog"],t=>{this.FailedTileDialog=new t;this._onPress(e)})}else{this.FailedTileDialog.openFor(this)}};o.prototype._getBusyContainer=function(){if(!this._oBusyContainer){this._oBusyContainer=new s({content:"<div class='sapUshellTileStateLoading'><div>"});this._oBusyContainer.setBusy(true)}return this._oBusyContainer};o.prototype.exit=function(){this._oWarningIcon.destroy();if(this._oBusyContainer){this._oBusyContainer.destroy()}};o.prototype.setState=function(e,t){this.setProperty("state",e,t);return this};return o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileStateInternalRenderer", [],()=>{"use strict";const e={apiVersion:2};e.render=function(e,t){e.openStart("div",t);e.class("sapUshellGT");e.openEnd();const a=t.getState();e.openStart("div",`${t.getId()}-overlay`);e.class("sapUshellOverlay");if(a==="Failed"){e.attr("title",t._sFailedToLoad)}e.openEnd();switch(a){case"Loading":const a=t._getBusyContainer();e.renderControl(a);break;case"Failed":e.openStart("div",`${t.getId()}-failed-ftr`);e.class("sapUshellTileStateFtrFld");e.openEnd();e.openStart("div",`${t.getId()}-failed-icon`);e.class("sapUshellTileStateFtrFldIcn");e.openEnd();e.renderControl(t._oWarningIcon);e.close("div");e.openStart("div",`${t.getId()}-failed-text`);e.class("sapUshellTileStateFtrFldTxt");e.openEnd();e.text(t._sFailedToLoad);e.close("div");e.close("div");break;default:}e.close("div");e.close("div")};return e},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileStateRenderer", ["sap/ushell/ui/launchpad/TileStateInternalRenderer"],e=>{"use strict";return e},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/ViewPortState", ()=>{"use strict"},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/VizInstance", ["sap/m/ActionSheet","sap/m/GenericTile","sap/m/library","sap/m/Popover","sap/m/Text","sap/m/VBox","sap/ui/core/Component","sap/ui/core/Icon","sap/ui/core/Lib","sap/ui/events/PseudoEvents","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/VizInstanceBase","sap/ushell/ui/launchpad/VizInstanceRenderer"],(e,t,i,o,n,s,a,r,l,c,p,d,u,h)=>{"use strict";const f=i.PlacementType;const g=i.FrameType;const y=i.GenericTileScope;const m=i.LoadState;const b=p.DisplayFormat;const A=u.extend("sap.ushell.ui.launchpad.VizInstance",{metadata:{library:"sap.ushell",properties:{title:{type:"string",defaultValue:"",bindable:true},subtitle:{type:"string",defaultValue:"",bindable:true},height:{type:"int",defaultValue:2},width:{type:"int",defaultValue:2},info:{type:"string",defaultValue:"",bindable:true},icon:{type:"sap.ui.core.URI",defaultValue:"",bindable:true},numberUnit:{type:"string",defaultValue:"",bindable:true},state:{type:"sap.m.LoadState",defaultValue:m.Loaded,bindable:true},sizeBehavior:{type:"sap.m.TileSizeBehavior",defaultValue:undefined,bindable:true},editable:{type:"boolean",defaultValue:false,bindable:true},removable:{type:"boolean",defaultValue:true,bindable:true},clickable:{type:"boolean",defaultValue:true,bindable:true},active:{type:"boolean",defaultValue:false},targetURL:{type:"string"},indicatorDataSource:{type:"object",defaultValue:undefined},dataSource:{type:"object",defaultValue:undefined},keywords:{type:"string[]",defaultValue:[]},instantiationData:{type:"object",defaultValue:{}},contentProviderId:{type:"string",defaultValue:""},contentProviderLabel:{type:"string",defaultValue:""},vizConfig:{type:"object"},supportedDisplayFormats:{type:"sap.ushell.DisplayFormat[]",defaultValue:[b.Standard]},dataHelpId:{type:"string",defaultValue:""},vizRefId:{type:"string",defaultValue:""},displayFormat:{type:"sap.ushell.DisplayFormat",defaultValue:b.Standard},preview:{type:"boolean",defaultValue:false,bindable:true}},defaultAggregation:"tileActions",aggregations:{content:{type:"sap.ui.core.Control",multiple:false},tileActions:{type:"sap.m.Button",forwarding:{getter:"_getTileActionSheet",aggregation:"buttons"}}},events:{press:{parameters:{scope:{type:"sap.m.GenericTileScope"},action:{type:"string"}}},beforeActionSheetOpen:{},afterActionSheetClose:{}}},renderer:h});A.prototype.init=function(){this._pLoad=Promise.resolve();const e=new t({frameType:this._formatPlaceholderFrameType(this.getDisplayFormat()),state:this.getState()});this._disableTabindexOfGenericTile(e);this.setAggregation("content",e)};A.prototype.setDisplayFormat=function(e){this.setProperty("displayFormat",e);this._setSize();const t=this.getContent();if(t&&t.isA("sap.m.GenericTile")){t.setFrameType(this._formatPlaceholderFrameType(e))}return this};A.prototype.setState=function(e){this.setProperty("state",e);const t=this.getContent();if(t&&t.isA("sap.m.GenericTile")){t.setState(e)}return this};A.prototype.setSizeBehavior=function(e){this.setProperty("sizeBehavior",e);this.setTileSizeBehavior(e);return this};A.prototype.setEditable=function(e){this.setProperty("editable",e);this.setTileEditable(e);return this};A.prototype.setTileEditable=function(e){const t=e?y.ActionMore:y.Display;const i=this.getContent();if(i&&i.isA("sap.m.GenericTile")){i.setScope(t)}return this};A.prototype.setTileSizeBehavior=function(e){const t=this.getContent();if(t&&t.isA("sap.m.GenericTile")){t.setSizeBehavior(e)}return this};A.prototype._formatPlaceholderFrameType=function(e){this._setSize();switch(e){case b.Flat:return g.OneByHalf;case b.FlatWide:return g.TwoByHalf;case b.StandardWide:return g.TwoByOne;default:return g.OneByOne}};A.prototype.exit=function(){if(this._oActionModeButtonIconVBox){this._oActionModeButtonIconVBox.destroy()}if(this._oActionDivCenter){this._oActionDivCenter.destroy()}if(this._oActionSheet){this._oActionSheet.destroy()}if(this._oRemoveIconVBox){this._oRemoveIconVBox.destroy()}};A.prototype.getLayout=function(){return{columns:this.getWidth(),rows:this.getHeight()}};A.prototype.setContent=function(e){const t=this.getLayoutData();if(t&&t.isA("sap.f.GridContainerItemLayoutData")){t.setRows(this.getHeight());t.setColumns(this.getWidth())}const i=this.getDataHelpId();const o=this.getVizRefId();if(i){e.data("help-id",i,true);e.data("tile-id",i,true)}else{e.data("tile-id",o,true)}this._sGenericTileId=null;this._disableTabindexOfContent(e);this.setAggregation("content",e)};A.prototype._disableTabindexOfContent=function(e){if(e){if(e.isA("sap.ui.core.ComponentContainer")){const t=e.getComponent();const i=a.getComponentById(t);if(i){this._disableTabindexOfContent(i.getRootControl())}}else if(e.isA("sap.m.FlexBox")){const t=e;const i=e.getItems()[0];t.addEventDelegate({onAfterRendering:this._disableTabindexOfContent.bind(this,i)});this._disableTabindexOfContent(i)}else if(e.isA("sap.ui.core.mvc.View")){this._disableTabindexOfContent(e.getContent()[0])}else if(e.isA("sap.cloudfnd.smartbusiness.lib.reusetiles.Singleton")){this._disableTabindexOfContent(e.getContent())}else if(e.isA("sap.m.GenericTile")){this._disableTabindexOfGenericTile(e)}}};A.prototype._disableTabindexOfGenericTile=function(e){function t(e){const t=e.getFocusDomRef();if(t){this._sGenericTileId=t.id;if(t.getAttribute("tabindex")==="0"){t.setAttribute("tabindex",-1);t.tabIndex=-1}}}t.call(this,e);e.addEventDelegate({onAfterRendering:t.bind(this,e)})};A.prototype._getTileActionSheet=function(){if(!this._oActionSheet){this._oActionSheet=new e({placement:f.VerticalPreferedBottom});this._oActionSheet.attachAfterClose(this.fireAfterActionSheetClose.bind(this))}return this._oActionSheet};A.prototype._openActionMenu=function(){if(this._oActionModeIcon){if(!this._getTileActionSheet().isOpen()){this.fireBeforeActionSheetOpen()}if(this.getTileActions().length===0){this._openNoActionsPopover();return}this._getTileActionSheet().openBy(this._oActionModeIcon)}};A.prototype.getFocusDomRef=function(){if(this.getEditable()){return this._oActionModeIcon&&this._oActionModeIcon.getFocusDomRef()}const e=this.getContent();let t=e.findAggregatedObjects(true,e=>e.isA("sap.m.GenericTile")||e.isA("sap.f.Card")||e.isA("sap.m.SlideTile"));if(t.length){return t[0].getFocusDomRef()}if(e.isA("sap.ui.core.ComponentContainer")){const i=e.getComponentInstance();if(i?.findAggregatedObjects){t=i.findAggregatedObjects(true,e=>e.isA("sap.m.GenericTile")||e.isA("sap.f.Card")||e.isA("sap.m.SlideTile"));if(t.length){return t[0].getFocusDomRef()}}}return e.getFocusDomRef()};A.prototype.onclick=function(e){if(this._preventDefault(e)){this.firePress({scope:"Display",action:"Press"})}else if(this._oRemoveIconVBox&&this._oRemoveIconVBox.getDomRef&&this._oRemoveIconVBox.getDomRef()&&this._oRemoveIconVBox.getDomRef().contains(e.target)){this.firePress({scope:"Actions",action:"Remove"})}else if(this.getEditable()){this._openActionMenu()}};A.prototype.onBeforeRendering=function(){const e=this.getDomRef();if(e){e.removeEventListener("keyup",this._fnKeyupHandler);e.removeEventListener("touchend",this._fnTouchendHandler)}};A.prototype._openNoActionsPopover=function(){const e=new n({text:d.i18n.getText("tileHasNoActions")});new o({placement:f.VerticalPreferedBottom,showHeader:false,ariaLabelledBy:e.getId(),content:e}).addStyleClass("sapUiContentPadding").openBy(this._oActionModeIcon)};A.prototype.onAfterRendering=function(){const e=this.getDomRef();this._fnKeyupHandler=this.onkeyup.bind(this);this._fnTouchendHandler=this.onclick.bind(this);e.addEventListener("keyup",this._fnKeyupHandler,true);e.addEventListener("touchend",this._fnTouchendHandler,true);if(e.parentElement){e.parentElement.setAttribute("aria-description",d.i18n.getText("VizInstance.AriaDescription.Link"));if(this._sGenericTileId){e.parentElement.setAttribute("aria-labelledby",this._sGenericTileId)}}};A.prototype.onkeyup=function(e){this._preventDefault(e);if(this.getEditable()){if(c.events.sapdelete.fnCheck(e)||c.events.sapbackspace.fnCheck(e)){this.firePress({scope:"Actions",action:"Remove"});return}if(c.events.sapspace.fnCheck(e)||c.events.sapenter.fnCheck(e)){this._openActionMenu()}}};A.prototype._preventDefault=function(e){if(this.getEditable()||!this.getClickable()){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();return false}return true};A.prototype.load=function(){return this._pLoad};A.prototype.loaded=function(){return this._pLoad};A.prototype._setSize=function(){const e={};switch(this.getDisplayFormat()){case b.Flat:e.width=2;e.height=1;break;case b.FlatWide:e.width=4;e.height=1;break;case b.StandardWide:e.width=4;e.height=2;break;default:e.width=2;e.height=2;break}this.setWidth(e.width);this.setHeight(e.height)};A.prototype.getAvailableDisplayFormats=function(){const e=this.getSupportedDisplayFormats();const t=this.getDisplayFormat();const i=e.filter(e=>e!==t);const o=i.indexOf("compact");const n=this.getTitle();const s=this.getTargetURL();if(o>-1&&(!n||!s)){i.splice(o,1)}return i};A.prototype._getRemoveIconVBox=function(){if(!this._oRemoveIconVBox){const e=l.getResourceBundleFor("sap.m");const t=new r({id:`${this.getId()}-action-remove`,alt:e.getText("GENERICTILE_ACTIONS_ARIA_TEXT"),decorative:false,noTabStop:true,src:"sap-icon://decline",tooltip:d.i18n.getText("removeButtonTitle")}).addStyleClass("sapUshellTileDeleteIconInnerClass sapMPointer");this._oRemoveIconVBox=new s({items:[t]}).addStyleClass("sapUshellTileDeleteIconOuterClass sapUshellTileDeleteClickArea sapMPointer");this._oRemoveIconVBox.setParent(this)}return this._oRemoveIconVBox};A.prototype._getActionModeButtonIconVBox=function(){if(!this._oActionModeButtonIconVBox){const e=l.getResourceBundleFor("sap.m");this._oActionModeIcon=new r({id:`${this.getId()}-action-more`,decorative:false,alt:e.getText("LIST_ITEM_NAVIGATION"),noTabStop:true,src:"sap-icon://overflow",tooltip:d.i18n.getText("configuration.category.tile_actions")}).addStyleClass("sapUshellTileActionIconDivBottomInner sapMPointer");const t=this._oActionModeIcon.onkeyup;this._oActionModeIcon.onkeyup=function(){t.apply(this._oActionModeIcon,arguments);this.onkeyup.apply(this,arguments)}.bind(this);this._oActionModeButtonIconVBox=new s({items:[this._oActionModeIcon]}).addStyleClass("sapUshellTileActionIconDivBottom sapMPointer");this._oActionModeButtonIconVBox.setParent(this)}return this._oActionModeButtonIconVBox};return A});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/VizInstanceAbap", ["sap/base/util/Deferred","sap/ushell/ui/launchpad/VizInstance","sap/m/library","sap/base/Log","sap/ushell/library","sap/ushell/utils/chipsUtils","sap/ushell/ui/launchpad/VizInstanceRenderer","sap/ushell/Container"],(t,e,i,s,n,a,o,r)=>{"use strict";const p=i.LoadState;const h=n.DisplayFormat;const c=e.extend("sap.ushell.ui.launchpad.VizInstanceAbap",{metadata:{library:"sap.ushell"},renderer:o});c.prototype.init=function(){e.prototype.init.apply(this,arguments);this._oLoadDeferred=new t;this._oChipInstancePromise=r.getServiceAsync("PageBuilding").then(t=>{const e=t.getFactory();const i=this.getInstantiationData();let s;let n;if(!i.simplifiedChipFormat){s={chipId:i.chip.id,chip:i.chip}}else{const t=i.chip||{};n=t.bags;s={chipId:t.chipId,configuration:t.configuration?JSON.stringify(t.configuration):"{}"}}const o=e.createChipInstance(s);a.addBagDataToChipInstance(o,n);return o})};c.prototype.load=function(t){this._oChipInstancePromise.then(t=>{this._oChipInstance=t;return new Promise(this._oChipInstance.load)}).then(()=>{if(this.getPreview()){const t=this._oChipInstance.getContract("preview");if(t){t.setEnabled(true)}}this._setVisible(this.getActive());return this._oChipInstance.getImplementationAsSapui5Async()}).then(t=>{this._setChipInstanceType();this.setContent(t);if(t.getComponentInstance&&t.getComponentInstance()){t.getComponentInstance().setParent(this)}this._oLoadDeferred.resolve()}).catch(t=>{this.setState(p.Failed);this._oLoadDeferred.reject(t)});return this._oLoadDeferred.promise};c.prototype.loaded=function(){return this._oLoadDeferred.promise};c.prototype._setChipInstanceType=function(){const t=this._oChipInstance.getContract("types");if(t){t.setType(this._mapDisplayFormatToChip(this.getDisplayFormat()))}};c.prototype._mapDisplayFormatToChip=function(t){const e={};e[h.Standard]="tile";e[h.StandardWide]="tile";e[h.Compact]="link";e[h.Flat]="flat";e[h.FlatWide]="flatwide";return e[t]};c.prototype._setVisible=function(t){const e=this._oChipInstance&&!this._oChipInstance.isStub()&&this._oChipInstance.getContract("visible");if(e){e.setVisible(t)}};c.prototype.refresh=function(){if(this._oChipInstance){this._oChipInstance.refresh()}};c.prototype.setActive=function(t,e){this._setVisible(t);if(e){this.refresh()}return this.setProperty("active",t,false)};return c});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/VizInstanceBase", ["sap/ui/core/Control"],e=>{"use strict";const a=e.extend("sap.ushell.ui.launchpad.VizInstanceBase",{metadata:{library:"sap.ushell",properties:{active:{type:"boolean",defaultValue:false}}},renderer:(e,a)=>{e.openStart("div",a);e.class("sapUshellVizInstanceBase");e.close("div")}});return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/VizInstanceCdm", ["sap/base/util/Deferred","sap/ushell/ui/launchpad/VizInstance","sap/m/library","sap/ui/core/Component","sap/base/util/ObjectPath","sap/base/util/deepExtend","sap/ui/core/ComponentContainer","sap/ushell/UI5ComponentType","sap/ushell/ui/launchpad/VizInstanceRenderer","sap/ushell/Container"],(t,e,o,n,i,s,r,a,p,l)=>{"use strict";const h=o.LoadState;const c=e.extend("sap.ushell.ui.launchpad.VizInstanceCdm",{metadata:{library:"sap.ushell"},renderer:p});c.prototype.init=function(){e.prototype.init.apply(this,arguments);this._oLoadDeferred=new t};c.prototype.load=function(t){let e;if(t===true){e=this._loadCustomVizType()}else{e=this._loadStandardVizType()}e.then(t=>{this._oComponent=t;const e=new r({component:t});t.setParent(this);this.setContent(e);if(this.getSizeBehavior()){this.setTileSizeBehavior(this.getSizeBehavior())}this._setComponentTileVisible(this.getActive());this.setTileEditable(this.getEditable());this._oLoadDeferred.resolve(t)}).catch(t=>{this.setState(h.Failed);this._oLoadDeferred.reject(t)});return this._oLoadDeferred.promise};c.prototype.loaded=function(){return this._oLoadDeferred.promise};c.prototype._loadStandardVizType=function(){const t=this._getComponentConfiguration();return n.create(t)};c.prototype._loadCustomVizType=function(){const t=this._getCustomComponentConfiguration();const e={};const o=[];return l.getServiceAsync("Ui5ComponentLoader").then(n=>n.createComponent(t,e,o,a.Visualization)).then(t=>{if(t&&t.componentHandle&&t.componentHandle.getInstance){return t.componentHandle.getInstance()}throw new Error("Create component failed: no instance found in the component handle.")})};c.prototype._getComponentConfiguration=function(){const t=this.getInstantiationData().vizType;const e=this.getVizConfig();let o=i.get(["sap.platform.runtime","componentProperties"],t);o=s({},this._getComponentProperties(),o);const n={name:t["sap.ui5"].componentName,componentData:{properties:o},url:i.get(["sap.platform.runtime","componentProperties","url"],t),manifest:i.get(["sap.platform.runtime","componentProperties","manifest"],t),asyncHints:i.get(["sap.platform.runtime","componentProperties","asyncHints"],t)};const r=i.get(["sap.platform.runtime","includeManifest"],t);const a=i.get(["sap.platform.runtime","includeManifest"],e);if(r||a){n.manifest=s({},t,e)}if(typeof n.manifest==="object"){o.manifest=n.manifest}return n};c.prototype._getCustomComponentConfiguration=function(){const t=this._getComponentConfiguration();const e={loadCoreExt:true,loadDefaultDependencies:false,componentData:t.componentData,url:t.url,applicationConfiguration:{},reservedParameters:{},applicationDependencies:t,ui5ComponentName:t.name};return e};c.prototype._getComponentProperties=function(){return{title:this.getTitle(),subtitle:this.getSubtitle(),icon:this.getIcon(),info:this.getInfo(),indicatorDataSource:this.getIndicatorDataSource(),dataSource:this.getDataSource(),contentProviderId:this.getContentProviderId(),contentProviderLabel:this.getContentProviderLabel(),targetURL:this.getTargetURL(),displayFormat:this.getDisplayFormat(),numberUnit:this.getNumberUnit(),preview:this.getPreview()}};c.prototype._setComponentTileVisible=function(t){if(this._oComponent&&typeof this._oComponent.tileSetVisible==="function"){this._oComponent.tileSetVisible(t)}};c.prototype.setActive=function(t,e){this._setComponentTileVisible(t);if(e){this.refresh()}return this.setProperty("active",t,false)};c.prototype.setTileEditable=function(t){if(this._oComponent&&typeof this._oComponent.tileSetEditMode==="function"){this._oComponent.tileSetEditMode(t)}return this};c.prototype.setTileSizeBehavior=function(t){if(this._oComponent&&typeof this._oComponent.tileSetSizeBehavior==="function"){this._oComponent.tileSetSizeBehavior(t)}e.prototype.setTileSizeBehavior.apply(this,arguments);return this};c.prototype.setPreview=function(t){const o=!!this.getProperty("preview")&&!t;if(this._oComponent&&typeof this._oComponent.tileSetPreview==="function"){this._oComponent.tileSetPreview(t)}if(o){this.refresh()}e.prototype.setPreview.apply(this,arguments);return this};c.prototype.refresh=function(){if(this._oComponent&&typeof this._oComponent.tileRefresh==="function"){this._oComponent.tileRefresh()}};return c});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/VizInstanceLaunchPage", ["sap/base/util/Deferred","sap/ushell/ui/launchpad/VizInstance","sap/ushell/library","sap/ushell/ui/launchpad/VizInstanceRenderer"],(e,t,a,i)=>{"use strict";const n=a.DisplayFormat;const s=t.extend("sap.ushell.ui.launchpad.VizInstanceLaunchPage",{metadata:{library:"sap.ushell"},renderer:i});s.prototype.init=function(){t.prototype.init.apply(this,arguments);this._oLoadDeferred=new e};s.prototype.load=function(){const e=this.getInstantiationData().launchPageTile;sap.ushell.Container.getServiceAsync("FlpLaunchPage").then(t=>new Promise((a,i)=>{const n=this.getPreview();t.getCatalogTileViewControl(e,n).done(a).fail(()=>{t.getTileView(e).done(a).fail(i)})}).then(a=>{this._setDisplayFormatFromTileSize(e,t);this.setContent(a);if(a.getComponentInstance?.()){a.getComponentInstance().setParent(this)}})).then(()=>{this._oLoadDeferred.resolve()}).catch(e=>{this._oLoadDeferred.reject(e)});return this._oLoadDeferred.promise};s.prototype.loaded=function(){return this._oLoadDeferred.promise};s.prototype._setDisplayFormatFromTileSize=function(e,t){const a=t.getTileSize(e);if(a==="1x2"){this.setDisplayFormat(n.StandardWide)}else{this.setDisplayFormat(n.Standard)}};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/VizInstanceLink", ["sap/m/library","sap/ushell/library","sap/m/GenericTile","sap/ushell/ui/launchpad/VizInstance","sap/ui/thirdparty/hasher","sap/ushell/Config","sap/ushell/utils/WindowUtils","sap/m/ActionSheet","sap/ushell/EventHub","sap/ushell/Container"],(e,t,i,a,r,o,s,l,n,p)=>{"use strict";const u=e.GenericTileMode;const c=e.GenericTileScope;const d=t.AppType;const h=t.DisplayFormat;const y=i.extend("sap.ushell.ui.launchpad.VizInstanceLink",{metadata:{library:"sap.ushell",properties:{title:{type:"string",defaultValue:"",group:"Appearance",bindable:true},subtitle:{type:"string",defaultValue:"",group:"Appearance",bindable:true},editable:{type:"boolean",defaultValue:false,group:"Behavior",bindable:true},removable:{type:"boolean",defaultValue:true,group:"Behavior",bindable:true},active:{type:"boolean",group:"Misc",defaultValue:false},targetURL:{type:"string",group:"Misc"},mode:{type:"sap.m.GenericTileMode",group:"Appearance",defaultValue:u.LineMode},displayFormat:{type:"sap.ushell.DisplayFormat",defaultValue:h.Compact},supportedDisplayFormats:{type:"sap.ushell.DisplayFormat[]",defaultValue:[h.Compact]},dataHelpId:{type:"string",defaultValue:""},vizRefId:{type:"string",defaultValue:""},height:{type:"int",defaultValue:0},info:{type:"string",defaultValue:"",bindable:true},icon:{type:"sap.ui.core.URI",defaultValue:"",bindable:true},clickable:{type:"boolean",defaultValue:true,bindable:true},numberUnit:{type:"string",defaultValue:"",bindable:true},indicatorDataSource:{type:"object",defaultValue:undefined},dataSource:{type:"object",defaultValue:undefined},instantiationData:{type:"object",defaultValue:{}},contentProviderId:{type:"string",defaultValue:""},contentProviderLabel:{type:"string",defaultValue:""},keywords:{type:"string[]",defaultValue:[]},preview:{type:"boolean",defaultValue:false,bindable:true},vizConfig:{type:"object"}},defaultAggregation:"tileActions",aggregations:{tileActions:{type:"sap.m.Button",forwarding:{getter:"_getTileActionSheet",aggregation:"buttons"}},content:{type:"sap.ui.core.Control",multiple:false}},events:{beforeActionSheetOpen:{},afterActionSheetClose:{}}},renderer:i.getMetadata().getRenderer()});y.prototype.init=function(){i.prototype.init.apply(this,arguments);this.attachPress(this._handlePress,this);this._pLoad=Promise.resolve()};y.prototype.exit=function(){if(this._oActionSheet){this._oActionSheet.destroy()}};y.prototype._getTileActionSheet=function(){if(!this._oActionSheet){this._oActionSheet=new l;this._oActionSheet.attachAfterClose(this.fireAfterActionSheetClose.bind(this))}return this._oActionSheet};y.prototype._handlePress=function(){if(this.getEditable()){if(!this._getTileActionSheet().isOpen()){this.fireBeforeActionSheetOpen()}this._getTileActionSheet().openBy(this);return}const e=this.getTargetURL();if(!e){return}n.emit("UITracer.trace",{reason:"LaunchApp",source:"Link",data:{targetUrl:e}});if(e[0]==="#"){r.setHash(e)}else{const t=o.last("/core/shell/enableRecentActivity")&&o.last("/core/shell/enableRecentActivityLogging");if(t){const e={title:this.getTitle(),appType:d.URL,url:this.getTargetURL(),appId:this.getTargetURL()};p.getRendererInternal("fiori2").logRecentActivity(e)}s.openURL(e,"_blank")}};y.prototype.load=function(){return this._pLoad};y.prototype.loaded=function(){return this._pLoad};y.prototype.setVizRefId=function(e){if(!this.getDataHelpId()){this.data("tile-id",e,true)}return this.setProperty("vizRefId",e)};y.prototype.setDataHelpId=function(e){this.data("help-id",e,true);this.data("tile-id",e,true);return this.setProperty("dataHelpId",e)};y.prototype.setTitle=function(e){this.setHeader(e);return this.setProperty("title",e)};y.prototype.setSubtitle=function(e){this.setSubheader(e);return this.setProperty("subtitle",e)};y.prototype.setTargetURL=function(e){this.setUrl(e);return this.setProperty("targetURL",e)};y.prototype.setProperty=function(e,t,a){if(e==="title"){this.setProperty("header",t,a)}if(e==="subtitle"){this.setProperty("subheader",t,a)}if(e==="targetURL"){this.setProperty("url",t,a)}if(e==="editable"){if(t&&this.getRemovable()){this.setProperty("scope",c.Actions,a)}else if(t){this.setProperty("scope",c.ActionMore,a)}else{this.setProperty("scope",c.Display,a)}}if(e==="removable"){const e=this.getEditable();if(t&&e){this.setProperty("scope",c.Actions,a)}else if(e){this.setProperty("scope",c.ActionMore,a)}else{this.setProperty("scope",c.Display,a)}}return i.prototype.setProperty.apply(this,arguments)};y.prototype.getLayout=function(){return{columns:0,rows:0}};y.prototype.getAvailableDisplayFormats=a.prototype.getAvailableDisplayFormats;y.prototype.setTileEditable=a.prototype.setTileEditable;y.prototype.setTileSizeBehavior=a.prototype.setTileSizeBehavior;return y});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/VizInstanceRenderer", [],()=>{"use strict";const e={apiVersion:2};e.render=function(e,n){const t=this._prepareControlsToBeRendered(n);e.openStart("div",n);e.class("sapUshellVizInstance");if(n.getEditable()){e.class("sapUshellVizInstanceEdit")}e.openEnd();t.forEach(n=>{e.renderControl(n)});e.close("div")};e._prepareControlsToBeRendered=function(e){const n=[e.getContent()];if(e.getEditable()){if(e.getRemovable()){const t=e._getRemoveIconVBox();n.unshift(t)}const t=e._getActionModeButtonIconVBox();n.push(t)}return n};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/section/CompactArea", ["sap/ui/core/Control","sap/ui/events/KeyCodes","sap/ushell/library","./CompactAreaRenderer"],function(e,t,o,r){"use strict";const n=e.extend("sap.ushell.ui.launchpad.section.CompactArea",{metadata:{library:"sap.ushell",properties:{showEmptyLinksArea:{type:"boolean",group:"Misc",defaultValue:false},showEmptyLinksAreaPlaceHolder:{type:"boolean",group:"Misc",defaultValue:false},enableLinkReordering:{type:"boolean",group:"Behavior",defaultValue:false}},dnd:{draggable:false,droppable:true},aggregations:{items:{type:"sap.ui.core.Control",singularName:"item",multiple:true,dnd:true}},events:{borderReached:{parameters:{event:{type:"jQuery.Event"}}},itemDrop:{parameters:{draggedControl:{type:"sap.ui.core.Control"},droppedControl:{type:"sap.ui.core.Control"},dropPosition:{type:"string"}}}}},renderer:r});n.prototype.onBorderReached=this.fireBorderReached;n.prototype.onsapnext=function(e){e.stopImmediatePropagation(true);e.preventDefault();if(e.keyCode===t.ARROW_RIGHT){const e=this.getFocusedItemIndex();if(e>=0&&e<this.getItems().length-1){this.focusItem(e+1);return}}this.fireBorderReached({event:e})};n.prototype.onsapprevious=function(e){e.stopImmediatePropagation(true);e.preventDefault();if(e.keyCode===t.ARROW_LEFT){const e=this.getFocusedItemIndex();if(e>0){this.focusItem(e-1);return}}this.fireBorderReached({event:e})};n.prototype.onsapnextmodifiers=function(e){if(!this.getEnableLinkReordering()){return}const o=this.getFocusedItemIndex();const r=this.getItems();e.stopImmediatePropagation(true);e.preventDefault();if(e.keyCode===t.ARROW_RIGHT&&o>-1&&o<r.length-1){this.fireItemDrop({draggedControl:r[o],droppedControl:r[o+1],dropPosition:"After",browserEvent:e})}if(e.keyCode===t.ARROW_DOWN&&o>-1){this.fireItemDrop({draggedControl:r[o],droppedControl:null,dropPosition:"After",browserEvent:e})}};n.prototype.onsappreviousmodifiers=function(e){if(!this.getEnableLinkReordering()){return}const o=this.getFocusedItemIndex();const r=this.getItems();e.stopImmediatePropagation(true);e.preventDefault();if(e.keyCode===t.ARROW_LEFT&&o>0){this.fireItemDrop({draggedControl:r[o],droppedControl:r[o-1],dropPosition:"Before",browserEvent:e})}if(e.keyCode===t.ARROW_UP&&o>-1){this.fireItemDrop({draggedControl:r[o],droppedControl:null,dropPosition:"Before",browserEvent:e})}};n.prototype.focusItem=function(e){e=e||0;const t=this.getItems();if(e===-1||e>=t.length){e=t.length-1}if(e>=0){const o=t[e].getFocusDomRef()||t[e].getDomRef();(o.querySelector("a")||o).focus()}else{this.focus()}};n.prototype.onmousedown=function(e){const t=this.getDOMItemIndex(e.srcControl.getDomRef());let o=this.getFocusedItemIndex();if(o<0){o=0}if(t<0){window.setTimeout(()=>{this.focusItem(o)},0)}};n.prototype.getDOMItemIndex=function(e){let t=-1;this.getItems().forEach((o,r)=>{const n=o.getDomRef();if(n&&n.contains(e)){t=r}});return t};n.prototype.getFocusDomRef=function(){if(this.getItems().length){return this.getItems()[0].getFocusDomRef()}return this.getDomRef()};n.prototype.onfocusin=function(e){if(document.activeElement===this.getDomRef()){this.focusItem(0)}};n.prototype.getFocusedItemIndex=function(){return this.getDOMItemIndex(document.activeElement)};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/section/CompactAreaRenderer", ["sap/ushell/resources"],e=>{"use strict";const t={apiVersion:2};t.render=function(t,r){t.openStart("div",r);if(!r.getVisible()){t.style("display","none")}t.attr("role","group");t.attr("aria-label",e.i18n.getText("Section.CompactArea.Description"));t.style("width","100%");t.class("sapUshellSectionCompactArea");t.openEnd();r.getItems().forEach(t.renderControl);t.close("div")};return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/ContentRenderer", ["sap/ui/base/Object","sap/ui/core/RenderManager"],(e,t)=>{"use strict";const r=e.extend("sap.ushell.ui.shell.ContentRenderer",{constructor:function(r,i,s,n){e.apply(this);this._id=i;this._cntnt=s;this._ctrl=r;this._rm=(new t).getInterface();this._cb=n||function(){}},destroy:function(){this._rm.destroy();delete this._rm;delete this._id;delete this._cntnt;delete this._cb;delete this._ctrl;if(this._rerenderTimer){clearTimeout(this._rerenderTimer);delete this._rerenderTimer}e.prototype.destroy.apply(this,arguments)},render:function(){if(!this._rm){return}if(this._rerenderTimer){clearTimeout(this._rerenderTimer)}this._rerenderTimer=setTimeout(()=>{const e=document.getElementById(this._id);const t=e!==null;if(t){if(typeof this._cntnt==="string"){const e=this._ctrl.getAggregation(this._cntnt,[]);for(let t=0;t<e.length;t++){this._rm.renderControl(e[t])}}else{this._cntnt(this._rm)}this._rm.flush(e)}this._cb(t)},0)}});return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/NavigationMiniTile", ["sap/ui/core/Control","sap/ui/core/IconPool","sap/ushell/library"],(e,t)=>{"use strict";const n=e.extend("sap.ushell.ui.shell.NavigationMiniTile",{metadata:{library:"sap.ushell",properties:{title:{type:"string",group:"Misc",defaultValue:null},subtitle:{type:"string",group:"Misc",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},intent:{type:"string",group:"Misc",defaultValue:null}},aggregations:{},events:{press:{}}},renderer:{apiVersion:2,render:function(e,n){const s=n.getTitle();const i=n.getSubtitle();const l=n.getIcon();const a=t.createControlByURI(l);e.openStart("div",n);e.attr("tabindex","-1");e.class("sapUshellNavMiniTile");e.attr("role","listitem");e.attr("aria-label",i?`${s} ${i}`:s);e.openEnd();e.openStart("div");e.openEnd();e.openStart("span");e.class("sapUshellNavMiniTileTitle");e.openEnd();if(s){e.text(s)}e.close("span");e.close("div");e.openStart("div");e.openEnd();if(a){e.openStart("span");e.class("sapUshellNavMiniTileIcon");e.openEnd();e.renderControl(a);e.close("span")}else{e.openStart("span");e.class("sapUshellNavMiniTileSubtitle");e.openEnd();e.text(i||"");e.close("span")}e.close("div");e.close("div")}}});n.prototype.ontap=function(){this.firePress({})};n.prototype.onsapenter=function(){this.firePress({})};n.prototype.onsapspace=function(){this.firePress({})};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/OverflowListItem", ["sap/m/StandardListItem","sap/ui/core/CustomData","sap/ushell/library","sap/ushell/ui/shell/ShellHeadItem"],(e,t,a,o)=>{"use strict";const r=o.getMetadata().getProperties();const l=e.extend("sap.ushell.ui.shell.OverflowListItem",{metadata:{library:"sap.ushell",properties:{floatingNumber:{type:r.floatingNumber.type,group:r.floatingNumber.group,defaultValue:r.floatingNumber.defaultValue},floatingNumberMaxValue:{type:r.floatingNumberMaxValue.type,group:r.floatingNumberMaxValue.group,defaultValue:r.floatingNumberMaxValue.defaultValue},floatingNumberType:{type:r.floatingNumberType.type,group:r.floatingNumberType.group,defaultValue:r.floatingNumberType.defaultValue}}},renderer:{apiVersion:2}});l.prototype.init=o.prototype.init;l.prototype.onBeforeRendering=o.prototype.onBeforeRendering;l.prototype.tooltipFormatter=o.prototype.tooltipFormatter;l.prototype.floatingNumberFormatter=o.prototype.floatingNumberFormatter;l.prototype._getImage=function(){let a=this._oImage;if(!a){a=e.prototype._getImage.call(this)}if(this.getFloatingNumber()>0){a.addStyleClass("sapUshellShellHeadItmCounter");a.addCustomData(new t({key:"counter-content",value:this.floatingNumberFormatter(),writeToDom:true}))}else{a.removeStyleClass("sapUshellShellHeadItmCounter")}this._oImage=a;return this._oImage};return l},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/RightFloatingContainer", ["sap/base/i18n/Localization","sap/ui/core/Control","sap/ui/thirdparty/jquery","sap/ushell/resources","sap/ushell/library"],(e,t,jQuery,i)=>{"use strict";const n=t.extend("sap.ushell.ui.shell.RightFloatingContainer",{metadata:{library:"sap.ushell",properties:{size:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"56px"},top:{type:"string",group:"Appearance",defaultValue:"0"},right:{type:"string",group:"Appearance",defaultValue:"0"},textVisible:{type:"boolean",group:"Appearance",defaultValue:true},insertItemsWithAnimation:{type:"boolean",group:"Appearance",defaultValue:true,deprecated:true},hideItemsAfterPresentation:{type:"boolean",group:"Appearance",defaultValue:false},enableBounceAnimations:{type:"boolean",group:"Appearance",defaultValue:false},actAsPreviewContainer:{type:"boolean",group:"Appearance",defaultValue:false}},aggregations:{floatingContainerItems:{type:"sap.ui.core.Control",multiple:true}},events:{afterRendering:{}}},renderer:{apiVersion:2,render:function(t,n){const s=e.getRTL();t.openStart("aside",n);t.class("sapUshellRightFloatingContainer");t.style("top",`${n.getTop()}rem`);t.attr("aria-label",i.i18n.getText("FloatingContainer_AriaLabel"));t.style(s?"left":"right",`${n.getRight()}rem`);t.attr("data-role","alert");t.openEnd();t.openStart("ul");t.class("sapUshellNotificationListContainer");t.attr("role","list");t.openEnd();this.renderFloatingContainerItems(t,n);t.close("ul");t.close("aside")},renderFloatingContainerItems:function(e,t){const i=t.getInsertItemsWithAnimation();const n=t.getActAsPreviewContainer();const s=t.getFloatingContainerItems();let a;for(a=0;a<s.length;a++){if(n&&!i){s[a].addStyleClass("sapUshellNonAnimatedNotificationListItem")}else if(s[a].hasStyleClass("sapUshellNonAnimatedNotificationListItem")){s[a].addStyleClass("sapUshellNotificationsListItem");s[a].addStyleClass("sapUshellRightFloatingContainerItemBackToViewport");s[a].addStyleClass("sapUshellRightFloatingContainerItemHidden");s[a].addStyleClass("sapUshellRightFloatingContainerItmHeightVisible");s[a].removeStyleClass("sapUshellNonAnimatedNotificationListItem")}e.renderControl(s[a])}}}});n.prototype.init=function(){let e;addEventListener("resize",()=>{clearTimeout(e);e=setTimeout(this._handleResize.bind(this),100)});this.iRequiredItemsNumber=5};n.prototype.onBeforeRendering=function(){};n.prototype._setSize=function(){};n.prototype._handleResize=function(){if(this.getDomRef()&&this.getFloatingContainerItems().length){const e=this.iRequiredItemsNumber;const t=window.innerHeight;const i=this.getDomRef();const n=i.getBoundingClientRect().top;const s=jQuery(".sapUiSizeCompact").length>0?56:64;const a=this.$().find("li").eq(0);let o;if(!a.length){return}const l=a[0].clientHeight;const r=jQuery("#sapUshellDashboardFooter").outerHeight();this.iRequiredItemsNumber=Math.min(parseInt((t-n-s-r)/l,10),5);if(e!==this.iRequiredItemsNumber){o=this.getFloatingContainerItems();for(let e=0;e<o.length;e++){if(e<this.iRequiredItemsNumber||isNaN(this.iRequiredItemsNumber)){o[e].removeStyleClass("sapUshellShellHidden")}else{o[e].addStyleClass("sapUshellShellHidden")}}}}};n.prototype.onAfterRendering=function(){this.fireAfterRendering();setTimeout(()=>{this._handleResize()},500);this.addStyleClass("sapContrastPlus");this.addStyleClass("sapContrast");this.addStyleClass("sapUshellNotificationsListItem")};n.prototype.setVisible=function(e){this.setProperty("visible",e,true);if(e){jQuery(this.getDomRef()).css("visibility","visible")}else{jQuery(this.getDomRef()).css("visibility","hidden")}};n.prototype.setFloatingContainerItemsVisiblity=function(e){const t=this.getFloatingContainerItems();const i=e?300:0;const n=this.getInsertItemsWithAnimation();function s(i){if(e){t[i].removeStyleClass("sapUshellRightFloatingContainerItemBounceOut").addStyleClass("sapUshellRightFloatingContainerItemBounceIn")}else{t[i].removeStyleClass("sapUshellRightFloatingContainerItemBounceIn").addStyleClass("sapUshellRightFloatingContainerItemBounceOut")}}for(let a=0;a<t.length;a++){(function(a){return function(){if(n){setTimeout(()=>{s(a)},i+a*100)}else{t[a].setVisible(e)}}})(a)()}};n.prototype._animationBouncer=function e(t){function i(){if(!e._animationQueue.length){e._itemTimeoutId=undefined;return}const t=e._animationQueue.shift();t.addStyleClass("sapUshellRightFloatingContainerItmHeightVisible").addStyleClass("sapUshellRightFloatingContainerItemBounceIn");e._itemTimeoutId=setTimeout(i,100)}if(!e._animationQueue){e._animationQueue=[]}e._animationQueue.push(t);if(e._mainTimeoutId||e._itemTimeoutId){return}e._mainTimeoutId=setTimeout(()=>{e._mainTimeoutId=undefined;i()},500)};n.prototype.addFloatingContainerItem=function(e){this.addAggregation("floatingContainerItems",e);e.addStyleClass("sapContrastPlus");if(this.getInsertItemsWithAnimation()){e.addStyleClass("sapUshellNotificationsListItem");e.addStyleClass("sapUshellRightFloatingContainerItemHidden");if(this.getEnableBounceAnimations()){n.prototype._animationBouncer(e)}else{setTimeout(()=>{const t=this.getFloatingContainerItems();if(t.length>5){const e=t[t.length-1];e.addStyleClass("sapUshellRightFloatingContainerHideLastItem")}e.addStyleClass("sapUshellRightFloatingContainerItemBackToViewport").addStyleClass("sapUshellRightFloatingContainerItmHeightVisible")},500)}}else if(this.getActAsPreviewContainer()){e.addStyleClass("sapUshellNonAnimatedNotificationListItem")}if(this.getHideItemsAfterPresentation()){setTimeout(()=>{e.removeStyleClass("sapUshellRightFloatingContainerItemBackToViewport")},5e3)}};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/ShellAppTitle", ["sap/m/Bar","sap/m/Button","sap/m/Label","sap/m/HBox","sap/m/VBox","sap/m/library","sap/m/Popover","sap/m/ResponsivePopover","sap/m/Title","sap/m/ToggleButton","sap/ui/core/Element","sap/ui/core/Icon","sap/ui/core/IconPool","sap/ui/Device","sap/ui/performance/Measurement","sap/ui/thirdparty/hasher","sap/ushell/Config","sap/ushell/Container","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/AccessibilityCustomData","sap/ushell/state/StateManager","sap/ushell/state/ShellModel"],(e,t,o,s,n,l,i,p,r,a,c,h,u,d,g,y,A,f,M,v,T,S,C)=>{"use strict";const P=M.AppTitleState;const _=M.AllMyAppsState;const m=l.PlacementType;const N=S.ShellMode;const B=t.extend("sap.ushell.ui.shell.ShellAppTitle",{metadata:{library:"sap.ushell",properties:{title:{type:"string",group:"Data",defaultValue:null},subTitle:{type:"string",group:"Data",defaultValue:null},showAppTitle:{type:"boolean",group:"Data",defaultValue:true},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:"sap-icon://folder"}},associations:{navigationMenu:{type:"sap.ushell.ui.shell.ShellNavigationMenu"},allMyApps:{type:"sap.ui.core.mvc.View"},newExperienceControl:{type:"sap.ui.core.Control"}},events:{textChanged:{deprecated:true}}},renderer:{apiVersion:2,render:function(e,t){const o=t._getControlVisibilityAndState();const s=t.getText();e.openStart("div",t);e.class("sapUshellHeadTitle");if(o||d.system.phone){e.class("sapUshellAppTitleClickable")}e.openEnd();e.openStart("h1");e.class("sapUiPseudoInvisibleText");e.attr("aria-level","1");e.openEnd();e.text(s||"");e.close("h1");e.openStart("div",`${t.getId()}-button`);e.class("sapUshellAppTitle");if(o||d.system.phone){e.attr("tabindex","0")}if(t.getTooltip_AsString()){e.attr("title",t.getTooltip_AsString())}if(o){e.attr("role","button");e.attr("aria-haspopup","dialog");e.attr("aria-label",s)}e.openEnd();if(t.getShowAppTitle()){e.openStart("span");e.class("sapUshellAppTitleText");e.openEnd();e.text(s||"");e.close("span")}if(o&&s){e.openStart("span");e.class("sapUshellShellHeadAction");e.openEnd();e.renderControl(t.oIcon);e.close("span")}e.close("div");e.close("div")}}});B.prototype.init=function(){t.prototype.init.apply(this,arguments);this.oIcon=u.createControlByURI(u.getIconURI("slim-arrow-down"));this.oIcon.addStyleClass("sapUshellAppTitleMenuIcon");this._screenWidth=null;if(d.system.desktop){this.addEventDelegate({onkeydown:function(e){if(e.altKey&&e.keyCode===40){this.onclick(e)}}.bind(this)})}if(A.last("/core/shellBar/enabled")){d.resize.attachHandler(B._showAppTitleText.bind(this))}};B._showAppTitleText=function(e){const t=e.width;if(!this._screenWidth||Math.abs(this._screenWidth-t)>50){this.setShowAppTitle(true);this._screenWidth=t}};B.prototype._getNewExperienceWrapper=function(){if(!this._oNewExperienceWrapper){this._oNewExperienceWrapper=new n({renderType:"Bare"});this._oNewExperienceWrapper.addStyleClass("sapUiSmallMarginBeginEnd");this.addDependent(this._oNewExperienceWrapper)}return this._oNewExperienceWrapper};B.prototype.onBeforeRendering=function(){if(!A.last("/core/shellBar/enabled")){this.setShowAppTitle(d.media.getCurrentRange(d.media.RANGESETS.SAP_STANDARD).name!=="Phone")}};B.prototype.getFocusDomRef=function(){return this.getDomRef("button")};B._getCurrentState=function(){return C.getConfigModel().getProperty("/shellAppTitleState")};B._setCurrentState=function(e){C.getConfigModel().setProperty("/shellAppTitleState",e)};B.prototype.onclick=function(e){e.preventDefault();this.firePress();if(!this._getControlVisibilityAndState()){if(d.system.phone){y.setHash(A.last("/core/shellHeader/rootIntent"))}return}if(B._getCurrentState()===P.AllMyAppsOnly){g.start("FLP:ShellAppTitle.onClick","Click ShellAppTitle in HOME state, Launching AllMyApps","FLP");this._openCloseAllMyAppsPopover();return}this._openCloseNavMenuPopover()};B.prototype._openCloseAllMyAppsPopover=function(){if(!this.oAllMyAppsPopover){this.oAllMyAppsPopover=this._createAllMyAppsPopover()}if(this.oAllMyAppsPopover){if(this.oAllMyAppsPopover.isOpen()){this.oAllMyAppsPopover.close()}else{this.oAllMyAppsPopover.openBy(this)}}};B.prototype._openCloseNavMenuPopover=function(){if(!this.oNavMenuPopover){this.oNavMenuPopover=this._createNavMenuPopover()}B._setCurrentState(P.ShellNavMenu);if(this.oNavMenuPopover.isOpen()){this.oNavMenuPopover.close()}else{this.oNavMenuPopover.openBy(this)}if(this.oNavMenuPopover.getFooter()){const e=S.getShellMode()===N.Default;const t=S.isLegacyHome();this.oNavMenuPopover.getFooter().setVisible(e||t)}};B.prototype._getControlVisibilityAndState=function(){g.start("FLP:ShellAppTitle.getControlVisibilityAndState","Check AllMyApps and NavShellMenu visibility","FLP");const e=S.getShellMode()===N.Default;const t=S.isLegacyHome();const o=this._isNavMenuEnabled();let s=o;if(e||t){const e=A.last("/core/services/allMyApps/enabled");s=e||o;if(e&&o){B._setCurrentState(P.ShellNavMenu)}else if(!e&&o){B._setCurrentState(P.ShellNavMenuOnly)}else if(e&&!o){B._setCurrentState(P.AllMyAppsOnly)}}else{B._setCurrentState(P.ShellNavMenuOnly)}g.end("FLP:ShellAppTitle.getControlVisibilityAndState");return s};B.prototype._createAllMyAppsPopover=function(){const e=c.getElementById(this.getAllMyApps());if(!e){return null}const t=new p("sapUshellAllMyAppsPopover",{placement:m.Bottom,title:"",showArrow:true,customHeader:this._getPopoverHeader(),verticalScrolling:false,showHeader:{path:"configModel>/shellAppTitleState",formatter:function(e){return e!==P.ShellNavMenu}},content:[e],contentHeight:"28rem",contentWidth:"56rem"}).addStyleClass("sapContrastPlus");t.setModel(C.getConfigModel(),"configModel");t.attachBeforeOpen(()=>{f.getServiceAsync("AppLifeCycle").then(e=>{if(e.getCurrentApplication()?.homePage){const e=c.getElementById(this.getNewExperienceControl());if(e){const o=this._getNewExperienceWrapper();o.addItem(e);t.insertContent(o,0)}else if(this._oNewExperienceWrapper){this.addDependent(this._oNewExperienceWrapper)}}})});t.attachAfterOpen(()=>{const e=t.getCustomHeader();const o=e.getContentLeft()[0];const s=e.getContentLeft()[1];if(s.getVisible()){s.firePress();s.setPressed(true)}o.focus()});t.attachAfterClose(this._afterCloseAllMyAppsPopover.bind(this));return t};B.prototype._afterCloseAllMyAppsPopover=function(){if(this._bOpenNavigationMenu===true){this._bOpenNavigationMenu=false;this.oNavMenuPopover.openBy(this)}else if(!d.system.phone){this.focus()}};B.prototype._createNavMenuPopover=function(){const e=c.getElementById(this.getNavigationMenu());this.oTitle=new r("navMenuInnerTitle",{wrapping:true,text:"{shellModel>/application/title}"});this.oSecondTitle=new o("navMenuInnerSecondTitle",{text:"{shellModel>/header/secondTitle}",visible:"{= !!${shellModel>/header/secondTitle}}",wrapping:true});this.oIconControl=new h({src:"{shellModel>/application/icon}"});const t=new n({items:[this.oTitle,this.oSecondTitle]}).addStyleClass("sapUshellNavTitleBox");const l=new n({items:[this.oIconControl]}).addStyleClass("sapUiContentPadding");const p=new s("navMenuTitleBar",{width:"100%",items:[l,t]});const a=new i("sapUshellAppTitlePopover",{placement:m.Bottom,showArrow:true,showHeader:false,contentWidth:"20rem",horizontalScrolling:false,content:[p,e]}).addStyleClass("sapContrastPlus");if(A.last("/core/services/allMyApps/enabled")){a.setFooter(this._getPopoverFooterContent())}a.addStyleClass("sapUshellAppTitleNavigationMenuPopover");a.setModel(C.getModel(),"shellModel");C.getConfigModel().setProperty("/allMyAppsMasterLevel",_.FirstLevel);a.attachBeforeOpen(()=>{e._beforeOpen();const t=c.getElementById(this.getNewExperienceControl());if(t){const e=this._getNewExperienceWrapper();e.addItem(t);a.insertContent(e,1)}else if(this._oNewExperienceWrapper){this.addDependent(this._oNewExperienceWrapper)}});a.attachAfterOpen(()=>{e.$().on("touchmove.scrollFix",e=>{e.stopPropagation()});e._afterOpen()});a.attachAfterClose(this._afterCloseNavigationMenuPopover.bind(this));return a};B.prototype._afterCloseNavigationMenuPopover=function(){if(this._bOpenAllMyApps){this._bOpenAllMyApps=false;this._openCloseAllMyAppsPopover()}else if(!d.system.phone){this.focus()}};B.prototype._setAllMyAppsTitle=function(e){const t=B._getCurrentState();const o=C.getModel().getProperty("/header/secondTitle");if(o&&(t==="AllMyAppsOnly"||t==="AllMyApps")){e=`${e} - ${o}`}r.prototype.setText.apply(this,[e])};B.prototype._getPopoverHeader=function(){const t=new r({text:v.i18n.getText("allMyApps_headerTitle"),level:"H1"});t.setText=this._setAllMyAppsTitle.bind(t);const o=new e("sapUshellShellAppPopoverHeader",{contentLeft:[this._createPopoverBackButton(),this._createPopoverToggleButton()],contentMiddle:[t]});return o};B.prototype.onAfterRendering=function(){this._adjustAppTitleTooltip()};B.prototype._adjustAppTitleTooltip=function(){const e=this.getDomRef("button");const t=e&&e.firstChild;if(t){let e;const o=A.last("/core/services/allMyApps/enabled");const s=S.getShellMode()===N.Default;const n=S.isLegacyHome();const l=(s||n)&&o;const i=c.getElementById(this.getNavigationMenu());const p=i&&i.getItems()&&i.getItems().length>0;if(p){e=v.i18n.getText("shellNavMenu_openMenuTooltip_navigationMenu")}else if(l){e=v.i18n.getText("shellNavMenu_openMenuTooltip_allMyApps")}else{const o=t.offsetWidth<t.scrollWidth;e=o?this.getText():null}if(this.getTooltip()!==e){this.setTooltip(e)}}};B.prototype._createPopoverBackButton=function(){const e=new t("sapUshellAppTitleBackButton",{icon:u.getIconURI("nav-back"),press:[this._popoverBackButtonPressHandler,this],tooltip:v.i18n.getText("backBtn_tooltip"),visible:this.getAllMyAppsController().getBackButtonVisible()});e.addStyleClass("sapUshellCatalogNewGroupBackButton");return e};B.prototype._popoverBackButtonPressHandler=function(){const e=this.getAllMyAppsController();const t=e.getCurrentState();if(t===_.FirstLevel||t===_.FirstLevelSpread){if(B._getCurrentState()!==P.AllMyAppsOnly){B._setCurrentState(P.ShellNavMenu);this.oAllMyAppsPopover.close();this._bOpenNavigationMenu=true}}else if(t===_.SecondLevel){e.switchToInitialState()}else{e.handleSwitchToMasterAreaOnPhone()}e.updateHeaderButtonsState()};B.prototype._createPopoverToggleButton=function(){const e=this.getAllMyAppsController();const t=new a("sapUshellAllMyAppsToggleListButton",{icon:u.getIconURI("sap-icon://menu2"),press:function(t){e.switchToInitialState();this.setTooltip(t.getParameter("pressed")?v.i18n.getText("ToggleButtonHide"):v.i18n.getText("ToggleButtonShow"))},tooltip:v.i18n.getText("ToggleButtonShow"),visible:e.getToggleListButtonVisible()});d.media.attachHandler(()=>{t.setVisible(e.getToggleListButtonVisible())},this,d.media.RANGESETS.SAP_STANDARD);t.addStyleClass("sapUshellAllMyAppsToggleListButton");return t};B.prototype._getPopoverFooterContent=function(){const o=new t("allMyAppsButton",{text:v.i18n.getText("allMyApps_launchingButtonTitle"),press:this._allMyAppsButtonPressHandler.bind(this),visible:{path:"shellConfig>/shellAppTitleState",formatter:function(e){return e===P.ShellNavMenu}}});const s=new e("shellpopoverFooter",{contentMiddle:[o]});this.addCustomData(o,"role","button");this.addCustomData(o,"aria-label",v.i18n.getText("allMyApps_launchingButtonTitle"));return s};B.prototype._allMyAppsButtonPressHandler=function(){if(c.getElementById(this.getAllMyApps())){g.start("FLP:ShellNavMenu.footerClick","Click the footer of ShellNavMenu, Launching AllMyApps","FLP");B._setCurrentState(P.AllMyApps);this.oNavMenuPopover.close();this._bOpenAllMyApps=true}};B.prototype._isNavMenuEnabled=function(){const e=c.getElementById(this.getNavigationMenu());return e?e.getItems()&&e.getItems().length>0:false};B.prototype.addCustomData=function(e,t,o){e.addCustomData(new T({key:t,value:o,writeToDom:true}))};B.prototype.close=function(){if(this.oNavMenuPopover&&this.oNavMenuPopover.isOpen()){this.oNavMenuPopover.close()}if(this.oAllMyAppsPopover&&this.oAllMyAppsPopover.isOpen()){this.oAllMyAppsPopover.close()}};B.prototype.setTooltip=function(e){this.setAggregation("tooltip",e);this.oIcon.setTooltip(e)};B.prototype.getAllMyAppsController=function(){const e=c.getElementById(this.getAllMyApps());return e.getController()};B.prototype.onkeyup=function(e){t.prototype.onkeyup.apply(this,arguments);if(e.keyCode===32){this.onclick(e)}};B.prototype.onsapenter=B.prototype.onclick;B.prototype.exit=function(){const e=c.getElementById(this.getNavigationMenu());const t=c.getElementById(this.getAllMyApps());if(e){e.destroy()}if(t){t.destroy()}if(this.oAllMyAppsPopover){this.oAllMyAppsPopover.destroy()}if(this.oNavMenuPopover){this.oNavMenuPopover.destroy()}if(this.oIcon){this.oIcon.destroy()}};return B});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/ShellFloatingAction", ["sap/ui/thirdparty/jquery","sap/m/Button","./ShellFloatingActionRenderer","sap/ushell/library"],(jQuery,t,e)=>{"use strict";const i=t.extend("sap.ushell.ui.shell.ShellFloatingAction",{metadata:{library:"sap.ushell"},renderer:e});i.prototype.init=function(){this.addStyleClass("sapUshellShellFloatingAction");if(t.prototype.init){t.prototype.init.apply(this,arguments)}};i.prototype.exit=function(){t.prototype.exit.apply(this,arguments)};i.prototype.onAfterRendering=function(){if(this.data("transformY")){this.removeStyleClass("sapUshellShellFloatingActionTransition");jQuery(this.getDomRef()).css("transform",`translateY(${this.data("transformY")})`)}else{this.addStyleClass("sapUshellShellFloatingActionTransition")}};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/ShellFloatingActionRenderer", ["sap/ui/core/Renderer","sap/m/ButtonRenderer"],(e,r)=>{"use strict";const n=e.extend(r);n.apiVersion=2;return n},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/ShellFloatingActions", ["sap/ui/core/Control","sap/ushell/library","sap/ushell/resources","./ShellFloatingAction"],(t,e,s,l)=>{"use strict";const o=t.extend("sap.ushell.ui.shell.ShellFloatingActions",{metadata:{library:"sap.ushell",properties:{isFooterVisible:{type:"boolean",defaultValue:false}},aggregations:{floatingActions:{type:"sap.ushell.ui.shell.ShellFloatingAction",multiple:true,singularName:"floatingAction"}}},renderer:{apiVersion:2,render:function(t,e){const s=e.getFloatingActions();t.openStart("div",e);t.class("sapUshellShellFloatingActions");t.openEnd();if(s.length){let l;if(s.length===1){l=s[0]}else{l=e._createMultipleFloatingActionsButton(s);s.forEach(e=>{e.setVisible(false);t.renderControl(e)})}t.renderControl(l)}t.close("div")}}});o.prototype._createMultipleFloatingActionsButton=function(t){if(this._oButton){this._oButton.destroy();this._oButton=null}let e;const o=this;this._oButton=new l({id:`${this.getId()}-multipleFloatingActions`,icon:"sap-icon://add",visible:true,press:function(){if(!this.hasStyleClass("sapUshellShellFloatingActionRotate")){this.addStyleClass("sapUshellShellFloatingActionRotate");if(!e){e=parseInt(this.$().outerHeight(),10)+parseInt(o.$().css("bottom"),10)}t.forEach(t=>{t.setVisible(true)});setTimeout(()=>{t.forEach((t,s)=>{const l=e*(s+1);t.$().css("transform",`translateY(-${l}px)`);t.data("transformY",`-${l}px`)})},0)}else{this.removeStyleClass("sapUshellShellFloatingActionRotate");t.forEach(t=>{t.$().css("transform","translateY(0)")});setTimeout(()=>{t.forEach(t=>{t.setVisible(false);t.data("transformY",undefined)})},150)}},tooltip:s.i18n.getText("XXX")});return this._oButton};return o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/ShellHeadItem", ["sap/base/util/ObjectPath","sap/ui/core/Control","sap/ui/core/IconPool","sap/ui/core/InvisibleText","sap/ushell/library","sap/ushell/resources"],(e,t,a,i,o,n)=>{"use strict";const r=o.FloatingNumberType;const l=t.extend("sap.ushell.ui.shell.ShellHeadItem",{metadata:{library:"sap.ushell",properties:{startsSection:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},showSeparator:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},enabled:{type:"boolean",group:"Appearance",defaultValue:true},selected:{type:"boolean",group:"Appearance",defaultValue:false},showMarker:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},target:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},ariaLabel:{type:"string",group:"Accessibility",defaultValue:null},ariaHidden:{type:"boolean",group:"Accessibility",defaultValue:false},ariaHaspopup:{type:"string",group:"Accessibility",defaultValue:""},text:{type:"string",group:"Appearance",defaultValue:null},floatingNumber:{type:"int",group:"Appearance",defaultValue:null},floatingNumberMaxValue:{type:"int",group:"Appearance",defaultValue:999},floatingNumberType:{type:"sap.ushell.FloatingNumberType",group:"Appearance",defaultValue:r.None}},events:{press:{}}},renderer:{apiVersion:2,render:function(e,t){const i=t.getTarget();e.openStart("a",t);e.attr("tabindex","0");if(i){e.attr("href",i)}e.attr("role",i?"link":"button");const o=t.getAriaLabel();if(o){e.attr("aria-label",o)}const n=t.getAriaHidden();if(n){e.attr("aria-hidden",n)}const r=t.getAriaHaspopup();if(r){e.attr("aria-haspopup",r)}e.attr("aria-describedby",t._oAriaDescribedbyText.getId());if(t.getTooltip_AsString()){e.attr("title",t.getTooltip_AsString())}if(t.getFloatingNumber()>0){e.attr("data-counter-content",t.floatingNumberFormatter());e.class("sapUshellShellHeadItmCounter")}e.class("sapUshellShellHeadItm");if(!t.getEnabled()){e.class("sapUshellShellHeadItmDisabled")}if(t.getSelected()){e.class("sapUshellShellHeadItmSel")}const l=t.getText();const s=t.getTooltip_AsString();if(l||s){e.attr("title",s||l)}e.openEnd();e.openStart("span");e.class("sapUshellShellHeadItmCntnt");const u=t.getIcon();const p=a.isIconURI(u)&&a.getIconInfo(u);if(p){e.style("font-family",p.fontFamily);e.openEnd();e.text(p.content)}else{e.openEnd();e.voidStart("img");e.attr("id",`${t.getId()}-img-inner`);e.attr("src",u);e.voidEnd()}e.close("span");e.close("a")}}});l.prototype.init=function(){this._oAriaDescribedbyText=new i(`${this.getId()}-describedby`).toStatic();this.addDependent(this._oAriaDescribedbyText)};l.prototype.onBeforeRendering=function(){switch(this.getFloatingNumberType()){case r.None:this._oAriaDescribedbyText.setText("");break;default:const e=this.getFloatingNumber();if(!e){this._oAriaDescribedbyText.setText("")}else{const t=this.getFloatingNumberMaxValue();this._oAriaDescribedbyText.setText(e>t?n.i18n.getText("NotificationToggleButton.NewNotifications.MaxExceeded",[t]):n.i18n.getText("NotificationToggleButton.NewNotifications",[e]))}break}};l.prototype.tooltipFormatter=function(e){const t=typeof e!=="undefined"?e:this.getFloatingNumber();const a=this.getFloatingNumberMaxValue();switch(this.getFloatingNumberType()){case r.None:return"";case r.Notifications:if(!t){return n.i18n.getText("NotificationToggleButton.NoNewNotifications")}return t>a?n.i18n.getText("NotificationToggleButton.NewNotifications.MaxExceeded",[a]):n.i18n.getText("NotificationToggleButton.NewNotifications",[t]);case r.OverflowButton:let e=n.i18n.getText("shellHeaderOverflowBtn_tooltip");if(!t){return e}e+=` (${t>a?n.i18n.getText("NotificationToggleButton.NewNotifications.MaxExceeded",[a]):n.i18n.getText("NotificationToggleButton.NewNotifications",[t])})`;return e;default:}};l.prototype.floatingNumberFormatter=function(e){const t=typeof e!=="undefined"?e:this.getFloatingNumber();const a=this.getFloatingNumberMaxValue();return t>a?`${a}+`:t.toString()};l.prototype.onclick=function(e){if(this.getEnabled()){this.firePress();if(!this.getTarget()){e.preventDefault()}}};l.prototype.onkeyup=function(e){const t=e.originalEvent;const a=t.key;const i=t.shiftKey;if(["Enter"," "].includes(a)&&!i){this.onclick(e)}};e.set("sap.ui.unified.ShellHeadItem",l);return l},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/ShellNavigationMenu", ["sap/base/Log","sap/m/FlexBox","sap/m/Label","sap/m/List","sap/m/VBox","sap/ui/core/Control","sap/ui/Device","sap/ui/core/Element","sap/ui/thirdparty/jquery","sap/ui/events/KeyCodes","sap/ushell/library","sap/ushell/resources"],(e,t,i,s,o,n,a,r,jQuery,l,h,p)=>{"use strict";const d=n.extend("sap.ushell.ui.shell.ShellNavigationMenu",{metadata:{library:"sap.ushell",properties:{showRelatedApps:{type:"boolean",defaultValue:true}},aggregations:{items:{type:"sap.m.ListItem",singularName:"item"},miniTiles:{type:"sap.ushell.ui.shell.NavigationMiniTile",singularName:"miniTile"}},events:{}},renderer:{apiVersion:2,render:function(e,t){let i;e.openStart("div",t);e.openEnd();if(t.oItemsList){e.renderControl(t.oItemsList)}if(t.getShowRelatedApps()){i=t.getMiniTiles();if(i&&i.length>0){e.renderControl(t.oRelatedAppsVbox)}}e.close("div")}}});function c(e){this.init(e)}c.prototype.init=function(e){this.keyCodes=l;this.jqElement=e.$();this.jqElement.on("keydown.keyboardNavigation",this.keydownHandler.bind(this))};c.prototype.destroy=function(){if(this.jqElement){this.jqElement.off(".keyboardNavigation")}delete this.jqElement};c.prototype.keydownHandler=function(e){switch(e.keyCode){case this.keyCodes.ARROW_UP:this.upDownHandler(e,true);break;case this.keyCodes.ARROW_DOWN:this.upDownHandler(e,false);break;case this.keyCodes.ARROW_LEFT:this.leftRightHandler(e,false);break;case this.keyCodes.ARROW_RIGHT:this.leftRightHandler(e,true);break;case this.keyCodes.HOME:this.homeEndHandler(e,true);break;case this.keyCodes.END:this.homeEndHandler(e,false);break;case this.keyCodes.PAGE_UP:this.homeEndHandler(e,true);break;case this.keyCodes.PAGE_DOWN:this.homeEndHandler(e,false);break;case this.keyCodes.TAB:if(e&&e.shiftKey){this._setItemFocus(e,jQuery("#sapUshellNavHierarchyItems li:[tabindex='0']"))}else{this._setItemFocus(e,jQuery("#allMyAppsButton"))}break;default:break}};c.prototype.upDownHandler=function(e,t){const i=jQuery(document.activeElement);if(!i.hasClass("sapUshellNavMiniTile")){return false}const s=i.parent().parent();const o=i.parent().index();const n=s.children();let a;if(t){a=o-3;if(a<0){a+=9}}else{a=(o+3)%n.length}const r=n[a].children[0];this._setItemFocus(e,jQuery(r))};c.prototype.leftRightHandler=function(e,t){const i=jQuery(document.activeElement);if(!i.hasClass("sapUshellNavMiniTile")){return false}const s=i.parent();const o=t?"next":"prev";const n=s[o]();const a=n.index();const r=s.parent();let l;if(a===-1){l=t?0:r.children().length-1}else{l=a}const h=r.children()[l].children[0];if(!h){return false}this._setItemFocus(e,jQuery(h))};c.prototype.homeEndHandler=function(e,t){const i=t?"first":"last";const s=jQuery(document.activeElement);if(!s.hasClass("sapUshellNavMiniTile")){return false}e.preventDefault();const o=this.jqElement.find(".sapUshellNavMiniTile")[i]();this._setItemFocus(e,o)};c.prototype._setItemFocus=function(e,t){e.preventDefault();e.stopImmediatePropagation();jQuery(".sapUshellNavMiniTile").attr("tabindex",-1);t.attr("tabindex",0);t.focus()};c.prototype.setFocusToLastFocusedMiniTile=function(e){const t=jQuery(".sapUshellNavMiniTile[tabindex='0']");if(t&&t[0]){this._setItemFocus(e,jQuery(t))}else{this._setItemFocus(e,jQuery(jQuery(".sapUshellNavMiniTile")[0]))}};d.prototype.init=function(){};d.prototype._createItemsList=function(){this.oItemsList=new s("sapUshellNavHierarchyItems")};d.prototype._createMiniTilesBox=function(){this.oMiniTilesBox=new t("sapUshellNavRelatedAppsFlexBox",{justifyContent:"Center"})};d.prototype._beforeOpen=function(){if(!this.bInitialized){this.oRelatedAppsTitle=new i("sapUshellRelatedAppsLabel",{text:p.i18n.getText("shellNavMenu_relatedApps")});if(!this.oMiniTilesBox){this._createMiniTilesBox()}this.oRelatedAppsVbox=new o("sapUshellRelatedAppsItems",{items:[this.oRelatedAppsTitle,this.oMiniTilesBox]});this._extendInnerControlsForAccKeyboard();this.bInitialized=true}};d.prototype._afterOpen=function(){if(a.system.desktop){if(this.keyboardNavigation){this.keyboardNavigation.destroy()}this.keyboardNavigation=new c(this.oMiniTilesBox)}};d.prototype._extendInnerControlsForAccKeyboard=function(){if(a.system.desktop){this.oItemsList.addEventDelegate({onsaptabnext:function(e){if(jQuery(".sapUshellNavMiniTile").length){this.keyboardNavigation.setFocusToLastFocusedMiniTile(e)}else{const t=r.getElementById("allMyAppsButton");this.keyboardNavigation._setItemFocus(e,jQuery(t.getDomRef()))}}.bind(this)})}};d.prototype.getMiniTiles=function(){if(this.oMiniTilesBox){return this.oMiniTilesBox.getItems()}return[]};d.prototype.insertMiniTile=function(e,t){if(!this.oMiniTilesBox){this._createMiniTilesBox()}this.oMiniTilesBox.insertItem(e,t);return this};d.prototype.addMiniTile=function(t){if(!this.oMiniTilesBox){this._createMiniTilesBox()}if(this.oMiniTilesBox.getItems().length<9){this.oMiniTilesBox.addItem(t)}else{e.warning("ShellNavigationMenu.addMiniTile - miniTiles aggregation is already at maximum size of 9 elements "+"- current item was not added.")}return this};d.prototype.removeMiniTile=function(e){if(this.oMiniTilesBox){this.oMiniTilesBox.removeItem(e)}return this};d.prototype.removeAllMiniTiles=function(){if(this.oMiniTilesBox){this.oMiniTilesBox.removeAllItems()}return this};d.prototype.destroyMiniTiles=function(){if(this.oMiniTilesBox){this.oMiniTilesBox.destroyItems()}return this};d.prototype.indexOfMiniTile=function(e){if(this.oMiniTilesBox){return this.oMiniTilesBox.indexOfItem(e)}return-1};d.prototype.getItems=function(){if(this.oItemsList){return this.oItemsList.getItems()}return[]};d.prototype.insertItem=function(e,t){if(!this.oItemsList){this._createItemsList()}e=this._extendHierarchyItemForAcc(e);this.oItemsList.insertItem(e,t);return this};d.prototype.addItem=function(e){if(!this.oItemsList){this._createItemsList()}e=this._extendHierarchyItemForAcc(e);this.oItemsList.addItem(e);return this};d.prototype.removeItem=function(e){if(this.oItemsList){this.oItemsList.removeItem(e)}return this};d.prototype.removeAllItems=function(){if(this.oItemsList){this.oItemsList.removeAllItems()}return this};d.prototype.destroyItems=function(){if(this.oItemsList){this.oItemsList.destroyItems()}return this};d.prototype.indexOfItem=function(e){if(this.oItemsList){return this.oItemsList.indexOfItem(e)}return-1};d.prototype._extendHierarchyItemForAcc=function(e){if(a.system.desktop){e.addEventDelegate({onsapspace:function(e){this.firePress()}.bind(e)})}return e};d.prototype.exit=function(){if(this.oItemsList){this.oItemsList.destroy()}if(this.oMiniTilesBox){this.oMiniTilesBox.destroy()}if(this.bInitialized){this.oRelatedAppsVbox.destroy();this.oRelatedAppsTitle.destroy()}if(this.keyboardNavigation){this.keyboardNavigation.destroy()}};d.prototype.onAfterRendering=function(){const e=jQuery("#sapUshellNavHierarchyItems ul");e.attr("role","menu");e.attr("aria-label",p.i18n.getText("ShellNavigationMenu_HierarchyItemsAriaLabel"));jQuery("#sapUshellNavHierarchyItems li").attr("role","menuitem");const t=jQuery("#sapUshellNavRelatedAppsFlexBox");t.attr("role","list");t.attr("aria-labelledBy","sapUshellRelatedAppsLabel");const i=jQuery(".sapUshellNavMiniTile");for(let e=0;e<i.length;e++){jQuery(i[e]).attr("aria-setsize",i.length);jQuery(i[e]).attr("aria-posinset",e+1)}};return d});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/SidePane", ["sap/ui/Device","sap/ui/core/Control","sap/ushell/resources","sap/ushell/library"],(e,t,n,i)=>{"use strict";const s=t.extend("sap.ushell.ui.shell.SidePane",{metadata:{library:"sap.ushell",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}}},renderer:{apiVersion:2,render:function(e,t){e.openStart("aside",t);e.class("sapUshellSidePane");e.attr("aria-label",n.i18n.getText("SidePane_AriaLabel"));e.style("width",t._getContentWidth());e.openEnd();const i=t.getContent();i.forEach(t=>{e.renderControl(t)});e.close("aside")}}});s._WIDTH_PHONE=13;s._WIDTH_TABLET=13;s._WIDTH_DESKTOP=15;s.prototype.init=function(){e.resize.attachHandler(this._handleResize,this)};s.prototype._getContentWidth=function(){const t=e.media.getCurrentRange(e.media.RANGESETS.SAP_STANDARD).name;const n=`${s[`_WIDTH_${t.toUpperCase()}`]}rem`;return n};s.prototype._handleResize=function(){const e=this._getContentWidth();const t=this.getDomRef();if(t){t.style.height="";t.style.width=e}};s.prototype.exit=function(){e.resize.detachHandler(this._handleResize,this)};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/SubHeader", ["sap/ui/core/Control","sap/ushell/library"],(e,n)=>{"use strict";const r=e.extend("sap.ushell.ui.shell.SubHeader",{metadata:{library:"sap.ushell",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}}},renderer:{apiVersion:2,render:function(e,n){e.openStart("div",n);e.class("sapUshellSubHeader");e.openEnd();const r=n.getContent();if(r.length){e.renderControl(r[0])}e.close("div")}}});return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/SysInfoBar", ["sap/ui/core/Control","sap/ui/core/IconPool","sap/ui/core/Icon","sap/ushell/library","sap/m/Bar","sap/m/Label","sap/ui/core/CustomData","./SysInfoBarRenderer"],(e,s,t,o,l,a,r,n)=>{"use strict";const i={orange:"sapUshellSysInfoBarOrange",Orange:"sapUshellSysInfoBarOrange",red:"sapUshellSysInfoBarRed",Red:"sapUshellSysInfoBarRed",pink:"sapUshellSysInfoBarPink",Pink:"sapUshellSysInfoBarPink",violet:"sapUshellSysInfoBarViolet",Violet:"sapUshellSysInfoBarViolet",blue:"sapUshellSysInfoBarBlue",Blue:"sapUshellSysInfoBarBlue",green:"sapUshellSysInfoBarGreen",Green:"sapUshellSysInfoBarGreen",grey:"sapUshellSysInfoBarGrey",Grey:"sapUshellSysInfoBarGrey",gray:"sapUshellSysInfoBarGrey",Gray:"sapUshellSysInfoBarGrey",pink2:"sapUshellSysInfoBarPink2",Pink2:"sapUshellSysInfoBarPink2",violet2:"sapUshellSysInfoBarViolet2",Violet2:"sapUshellSysInfoBarViolet2",blue2:"sapUshellSysInfoBarBlue2",Blue2:"sapUshellSysInfoBarBlue2",green2:"sapUshellSysInfoBarGreen2",Green2:"sapUshellSysInfoBarGreen2",grey2:"sapUshellSysInfoBarGrey2",Grey2:"sapUshellSysInfoBarGrey2",gray2:"sapUshellSysInfoBarGrey2",Gray2:"sapUshellSysInfoBarGrey2"};const p=e.extend("sap.ushell.ui.shell.SysInfoBar",{metadata:{library:"sap.ushell",defaultAggregation:"_bar",properties:{icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""},text:{type:"string",group:"Misc",defaultValue:""},subText:{type:"string",group:"Misc",defaultValue:""},color:{type:"string",group:"Misc",defaultValue:"orange"}},aggregations:{_bar:{type:"sap.m.Bar",multiple:false,visibility:"hidden"}}},renderer:n});p.prototype.init=function(){const e=new l({id:`${this.getId()}-bar`}).addStyleClass("sapUshellSysInfoBar");e._setRootAccessibilityRole("complementary");e.data("sap-ui-fastnavgroup","false",false);this._oText=new a({id:`${this.getId()}-text`,text:this.getText(),design:"Bold"}).addStyleClass("sapUshellSysInfoBarText");this._oSubText=new a({id:`${this.getId()}-subText`,text:this.getSubText()}).addStyleClass("sapUshellSysInfoBarText");this.setAggregation("_bar",e,true);const s=new r({key:"help-id",value:"FLP-SysInfoBar",writeToDom:true});this.addCustomData(s)};p.prototype.exit=function(){this._oIcon=null;this._oText=null;this._oSubText=null};p.prototype.onBeforeRendering=function(){const e=this.getAggregation("_bar");e.removeAllContentMiddle();e.addContentMiddle(this._oIcon);e.addContentMiddle(this._oText);e.addContentMiddle(this._oSubText);if(this._isMappedColor(this.getColor())){this.addStyleClass(this._getMappedColorClass(this.getColor()))}else{this.addStyleClass("sapUshellSysInfoBarCustom")}};p.prototype.setText=function(e){this.setProperty("text",e,true);this._oText.setText(e)};p.prototype.setSubText=function(e){this.setProperty("subText",e,true);this._oSubText.setText(e)};p.prototype.setIcon=function(e){if(s.isIconURI(e)){if(this._oIcon){this._oIcon.destroy();this._oIcon=null}this._oIcon=s.createControlByURI({id:`${this.getId()}-icon`,src:e,densityAware:true,useIconTooltip:true},t).addStyleClass("sapUshellSysInfoBarText");this.invalidate()}else if(this._oIcon){this._oIcon.destroy();this._oIcon=null}this.setProperty("icon",e)};p.prototype.setColor=function(e){const s=this.getColor();if(this._isMappedColor(s)&&this.hasStyleClass(this._getMappedColorClass(s))){this.removeStyleClass(this._getMappedColorClass(s))}this.setProperty("color",e)};p.prototype._isMappedColor=function(e){return!!i[e]};p.prototype._getMappedColorClass=function(e){return i[e]||""};return p});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/SysInfoBarRenderer", ["sap/ushell/resources"],e=>{"use strict";const o={apiVersion:2};o.render=function(o,r){o.openStart("div",r);o.accessibilityState(r,{role:"complementary",label:e.i18n.getText("SysInfoBarAriaLabel",[r._oText.getText(),r._oSubText.getText()])});o.class("sapUshellSysInfoBar");if(!r._isMappedColor(r.getColor())){o.style("border",`1px solid ${r.getColor()}`);o.style("background-color",r.getColor())}o.openEnd();o.renderControl(r.getAggregation("_bar"));o.close("div")};return o},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/ToolArea", ["sap/ui/core/Control","sap/ushell/library","sap/ushell/resources"],(e,t,l)=>{"use strict";const s=e.extend("sap.ushell.ui.shell.ToolArea",{metadata:{library:"sap.ushell",aggregations:{toolAreaItems:{type:"sap.ushell.ui.shell.ToolAreaItem",multiple:true}}},renderer:{apiVersion:2,render:function(e,t){e.openStart("aside",t);e.class("sapUshellToolArea");e.attr("aria-label",l.i18n.getText("ToolArea_AriaLabel"));if(!t.hasItemsWithText()){e.class("sapUshellToolAreaTextHidden")}e.openEnd();e.openStart("div");e.attr("id",`${t.getId()}-cntnt`);e.class("sapUshellToolAreaContainer");e.openEnd();const s=t.getToolAreaItems();let a;let o;for(a=0;a<s.length;a++){o=s[a];if(o.getVisible()){e.openStart("div");e.class("sapUshellToolAreaContent");if(o.getSelected()){e.class("sapUshellToolAreaItemSelected")}e.openEnd();e.renderControl(o);e.close("div");e.openStart("div");e.class("sapUshellToolAreaContentSeparator");e.openEnd();e.close("div")}}e.close("div");e.close("aside")}}});s.prototype.hasItemsWithText=function(){const e=this.getToolAreaItems();let t;let l;for(t=0;t<e.length;t++){l=e[t];if(l.getVisible()&&l.getText()){return true}}return false};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/ToolAreaItem", ["sap/ui/thirdparty/jquery","sap/ui/core/Control","sap/ui/core/IconPool","sap/ushell/library"],(jQuery,e,t)=>{"use strict";const l=e.extend("sap.ushell.ui.shell.ToolAreaItem",{metadata:{library:"sap.ushell",properties:{icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},selected:{type:"boolean",group:"Appearance",defaultValue:false},text:{type:"string",group:"Appearance",defaultValue:null},ariaLabel:{type:"string",group:"Appearance",defaultValue:null},visible:{type:"boolean",group:"Appearance",defaultValue:true},expandable:{type:"boolean",group:"Appearance",defaultValue:false}},events:{press:{},expand:{}}},renderer:{apiVersion:2,render:function(e,l){let a;e.openStart("div",l);if(!l.getIcon()){e.class("sapUshellToolAreaItmTextOnly")}else{e.class("sapUshellToolAreaItm")}if(!l.getVisible()){e.class("sapUshellShellHidden")}if(l.getAriaLabel()){e.accessibilityState(l,{label:this.getAriaLabel(),role:"button"})}const s=l.getTooltip_AsString();if(s){e.attr("title",s)}e.attr("tabindex",0);e.openEnd();if(l.getIcon()){a=t.createControlByURI(l.getIcon());a.setUseIconTooltip(false);a.addStyleClass("sapUshellToolAreaItemIcon");e.renderControl(a)}if(l.getText()){e.openStart("span");e.class("sapUshellToolAreaItemText");e.openEnd();e.text(l.getText());e.close("span")}if(l.getExpandable()){this.renderExpandable(e)}e.close("div")},renderExpandable:function(e){const l=t.createControlByURI("sap-icon://icon-dropdown");l.addStyleClass("sapUshellToolAreaItemExpandable");e.renderControl(l)}}});l.prototype.onclick=function(e){if(this.$().parent().hasClass("sapUshellToolAreaItemSelected")){this.setSelected(false)}else{this.setSelected(true)}if(e.target.className.indexOf("sapUshellToolAreaItemExpandable")>0){this.fireExpand()}else{this.firePress()}};l.prototype.onsapenter=l.prototype.onclick;l.prototype.setExpandable=function(e){e=!!e;this.setProperty("expandable",e,true);this.$().toggleClass("sapUshellToolAreaItemExpandable",e)};l.prototype.setSelected=function(e){e=!!e;if(e){const e=jQuery(".sapUshellToolAreaItemSelected");e.each(function(){jQuery(this).removeClass("sapUshellToolAreaItemSelected")})}this.setProperty("selected",e,true);this.$().parent().toggleClass("sapUshellToolAreaItemSelected",e)};l.prototype.setVisible=function(e){const t=this.getParent()&&this.getParent().getDomRef();this.setProperty("visible",!!e,t);this.$().toggleClass("sapUshellShellHidden",!e)};l.prototype.setAriaLabel=function(e){this.setProperty("ariaLabel",e);return this};return l});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/DynamicTile", ["sap/ushell/library","./TileBase","./DynamicTileRenderer"],(e,t,a)=>{"use strict";const u=e.ui.tile.State;const r=e.ui.tile.StateArrow;const l=t.extend("sap.ushell.ui.tile.DynamicTile",{metadata:{library:"sap.ushell",properties:{numberValue:{type:"string",group:"Data",defaultValue:"0.0"},numberState:{type:"sap.ushell.ui.tile.State",group:"Appearance",defaultValue:u.Neutral},numberUnit:{type:"string",group:"Data",defaultValue:null},numberDigits:{type:"int",group:"Appearance",defaultValue:0},stateArrow:{type:"sap.ushell.ui.tile.StateArrow",group:"Appearance",defaultValue:r.None},numberFactor:{type:"string",group:"Data",defaultValue:null}}},renderer:a});return l});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/DynamicTileRenderer", ["sap/ui/core/Renderer","sap/ui/core/format/NumberFormat","sap/ushell/library","sap/ushell/ui/tile/TileBaseRenderer","sap/ushell/resources"],(e,t,i,s,a)=>{"use strict";const l=i.ui.tile.State;const n=i.ui.tile.StateArrow;const r=e.extend(s);r.apiVersion=2;r.renderPart=function(e,i){const s=i.getNumberValue();let r=i.getNumberFactor();let o=s.toString();const c=i.getIcon()?4:5;const u=this._shouldProcessDigits(o,i);if(o.length>c||u){const e=this._normalizeNumber(s,c,r,i);r=e.numberFactor;o=e.displayNumber}else if(o!==""){const e=t.getFloatInstance({maxFractionDigits:c});o=e.format(s)}e.openStart("div");e.class("sapUshellDynamicTile");e.openEnd();e.openStart("div");e.class("sapUshellDynamicTileData");e.class(l[i.getNumberState()]?`sapUshellDynamicTileData${i.getNumberState()}`:`sapUshellDynamicTileData${l.Neutral}`);e.openEnd();e.openStart("div");e.class("sapUshellDynamicTileIndication");e.openEnd();if(n[i.getStateArrow()]){e.openStart("div");e.class("sapUshellDynamicTileStateArrow");e.class(`sapUshellDynamicTileData${n[i.getStateArrow()]}`);e.openEnd();e.close("div")}e.voidStart("br");e.voidEnd();e.openStart("div");e.class("sapUshellDynamicTileNumberFactor");e.accessibilityState(i,{label:a.i18n.getText("TileUnits_lable")+r});e.openEnd();e.text(r);e.close("div");e.close("div");e.openStart("div");e.class("sapUshellDynamicTileNumber");if(o&&o!==""){e.accessibilityState(i,{label:a.i18n.getText("TileValue_lable")+o});e.openEnd();e.text(o)}else{e.openEnd();e.text(i.getNumberValue())}e.close("div");e.close("div");e.close("div")};r._normalizeNumber=function(e,i,s,a){let l;if(isNaN(e)){l=e}else{const i=t.getFloatInstance({maxFractionDigits:a.getNumberDigits()});if(!s){const t=Math.abs(e);if(t>=1e9){s="B";e/=1e9}else if(t>=1e6){s="M";e/=1e6}else if(t>=1e3){s="K";e/=1e3}}l=i.format(e)}let n=l;const r=n[i-1];i-=r==="."||r===","?1:0;n=n.substring(0,i);return{displayNumber:n,numberFactor:s}};r._shouldProcessDigits=function(e,t){const i=t.getNumberDigits();let s;if(e.indexOf(".")!==-1){s=e.split(".")[1].length;if(s>i){return true}}return false};r.getInfoPrefix=function(e){return e.getNumberUnit()};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/ImageTile", ["sap/ushell/library","./TileBase","./ImageTileRenderer"],(e,r,a)=>{"use strict";const l=r.extend("sap.ushell.ui.tile.ImageTile",{metadata:{library:"sap.ushell",properties:{imageSource:{type:"string",group:"Appearance",defaultValue:null}}},renderer:a});return l});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/ImageTileRenderer", ["sap/ui/core/Renderer","./TileBaseRenderer"],(e,r)=>{"use strict";const t=e.extend(r);t.apiVersion=2;t.renderPart=function(e,r){e.voidStart("img");e.class("sapUshellImageTile");e.attr("src",r.getImageSource());e.attr("alt"," ");e.voidEnd()};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/StaticTile", ["sap/ushell/library","sap/ushell/ui/tile/TileBase","sap/ushell/ui/tile/StaticTileRenderer"],(e,l,i)=>{"use strict";const s=l.extend("sap.ushell.ui.tile.StaticTile",{metadata:{library:"sap.ushell"},renderer:i});return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/StaticTileRenderer", ["sap/ui/core/Renderer","./TileBaseRenderer"],(e,n)=>{"use strict";const s=e.extend(n);s.apiVersion=2;s.renderPart=function(e,n){e.openStart("span");e.class("sapUshellStaticTile");e.openEnd();e.close("span")};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/TileBase", ["sap/ushell/library","sap/ui/core/Control","sap/ushell/library","./TileBaseRenderer"],(e,t,a,l)=>{"use strict";const r=e.ui.tile.State;const u=t.extend("sap.ushell.ui.tile.TileBase",{metadata:{library:"sap.ushell",properties:{title:{type:"string",group:"Data",defaultValue:null},subtitle:{type:"string",group:"Data",defaultValue:null},icon:{type:"string",group:"Data",defaultValue:null},info:{type:"string",group:"Data",defaultValue:null},infoState:{type:"sap.ushell.ui.tile.State",defaultValue:r.Neutral},targetURL:{type:"string",group:"Behavior",defaultValue:null},highlightTerms:{type:"any",group:"Appearance",defaultValue:[]}},aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},events:{press:{}}},renderer:l});u.prototype.ontap=function(e){this.firePress({})};u.prototype.onsapenter=function(e){this.firePress({})};u.prototype.onsapspace=function(e){this.firePress({})};return u});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/TileBaseRenderer", ["sap/ushell/library","sap/ushell/resources","sap/base/security/encodeXML","sap/ui/core/Icon"],(e,t,l,i)=>{"use strict";const s=e.ui.tile.State;const a={apiVersion:2};a.highlight=function(e,t){let i;let s;let a=l(t).replace(/&#xa;/g,"<br>");if(e&&e.length&&e.length>0){for(i=0;i<e.length;i=i+1){s=new RegExp(`(${l(e[i]).replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")})`,"gi");a=a.replace(s,"<b>$1</b>")}}return a};a.render=function(e,l){let a;let n;e.openStart("div",l);if(l.getTargetURL()){e.attr("data-targeturl",l.getTargetURL())}e.class("sapUshellTileBase");e.openEnd();e.openStart("div");e.class("sapUshellTileBaseHeader");e.openEnd();e.openStart("h3");e.class("sapUshellTileBaseTitle");e.accessibilityState(l,{label:t.i18n.getText("tileTypeListItem")+t.i18n.getText("TileDetails_lable")+t.i18n.getText("TileTitle_lable")+l.getTitle(),level:"3"});e.openEnd();e.unsafeHtml(this.highlight(l.getHighlightTerms(),l.getTitle()||""));e.close("h3");if(l.getSubtitle()){e.openStart("h4");e.class("sapUshellTileBaseSubtitle");e.accessibilityState(l,{label:t.i18n.getText("TileSubTitle_lable")+l.getSubtitle(),level:"4"});e.openEnd();e.unsafeHtml(this.highlight(l.getHighlightTerms(),l.getSubtitle()));e.close("h4")}e.close("div");if(typeof this.renderPart==="function"){this.renderPart(e,l)}if(l.getIcon()){n=new i({src:l.getIcon()});n.addStyleClass("sapUshellTileBaseIcon");e.renderControl(n)}if(l.getInfo()||typeof this.getInfoPrefix==="function"&&this.getInfoPrefix(l)){e.openStart("div");e.class("sapUshellTileBaseInfo");e.class(l.getInfoState()?`sapUshellTileBase${l.getInfoState()}`:`sapUshellTileBase${s.Neutral}`);e.accessibilityState(l,{label:t.i18n.getText("TileInfo_lable")+l.getInfo()});e.openEnd();if(typeof this.getInfoPrefix==="function"){a=this.getInfoPrefix(l);e.text(a)}if(l.getInfo()){if(a){e.text(", ")}e.unsafeHtml(this.highlight(l.getHighlightTerms(),l.getInfo()))}e.close("div")}e.close("div")};return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/utils", ["sap/ushell/EventHub","sap/ui/thirdparty/jquery"],(e,jQuery)=>{"use strict";function t(t){const s=new jQuery.Deferred;let n;let r=0;let i=0;let o=0;const l=[];const u=[];let f;const c={refresh:false};function a(e){if(e&&e.refresh===true){c.refresh=true}o++;s.notify()}function p(e){u.push({entry:f,message:e});i++;s.notify()}const h=e.last("UserSettingsOpened")||{};Object.keys(h).forEach(e=>{const s=parseInt(e,10);n=t[s].onSave();n.done(a);f=t[s].title;n.fail(p);l.push(n);r++});const d=jQuery.when.apply(null,l);d.done(()=>{e.emit("UserSettingsOpened",null);s.resolve(c)});s.progress(()=>{if(i>0&&i+o===r){s.reject(u)}});return s.promise()}return{saveUserPreferenceEntries:t}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui5service/ShellUIService", ["sap/base/Log","sap/base/util/extend","sap/base/util/isPlainObject","sap/ui/base/EventProvider","sap/ui/core/service/Service","sap/ui/thirdparty/hasher","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/services/AppConfiguration","sap/ushell/state/ShellModel","sap/ushell/state/StateManager","sap/ushell/utils","sap/ushell/utils/UrlParsing"],(e,t,i,a,n,s,r,l,o,c,h,u,f,d)=>{"use strict";const p=u.LaunchpadState;const g=u.Operation;const _=u.ShellMode;const{Default:v,Embedded:y}=_;const A="backNavigationChanged";const b="serviceDestroyed";const S=n.extend("sap.ushell.ui5service.ShellUIService",{constructor:function(){n.apply(this,arguments);this._oEventProvider=new a;this._bIsActive=true;this._bDestroyed=false;this._bInitialized=false;this._sLastTitle=null;this._aLastHierarchy=null;this._aLastRelatedApps=null;this._fnLastBackNavigation=null;this._bEnableAutoTitle=false;this._bEnableAutoHierarchy=false},initService:function(e){if(!e){if(!this._sLastTitle){this._initTitle()}if(!this._aLastHierarchy){this.setHierarchy()}if(!this._aLastRelatedApps){this.setRelatedApps()}if(!this._fnLastBackNavigation){this.setBackNavigation()}}const t=this.getContext().scopeObject;if(this._shouldEnableAutoHierarchy(t)){this._enableAutoHierarchy(t)}if(this._shouldEnableAutoTitle(t)){this._enableAutoTitle(t)}this._bInitialized=true},resetService:function(){this._sLastTitle=null;this._aLastHierarchy=null;this._aLastRelatedApps=null;this._fnLastBackNavigation=null;this._bInitialized=false},_isCallAllowed:function(){if(this._bDestroyed){e.error("The ShellUIService has been destroyed and cannot be used anymore.",null,"sap.ushell.ui5service.ShellUIService");return false}if(!this._bIsActive){e.warning("The ShellUIService is currently inactive and calls will be ignored.",null,"sap.ushell.ui5service.ShellUIService");return false}return true},setHierarchy:function(e){this._preventOverrideOfAutoHierarchy();if(!this._isCallAllowed()){return}if(typeof e!=="undefined"){this._ensureArrayOfObjectOfStrings(e,"setHierarchy")}this._changeHierarchy(e)},_initTitle:function(){if(!this._isCallAllowed()){return}const e=s.getHash()||"";const t=e.startsWith("Shell-startIntent");this._changeTitleAdditionalInformation();this._changeTitle("",t)},setTitle:function(e,t){this._preventOverrideOfAutoTitle();if(!this._isCallAllowed()){return}if(typeof e!=="undefined"&&typeof e!=="string"){throw new Error("'setTitle' was called with invalid arguments. The parameter should be a string")}this._changeTitleAdditionalInformation(t);this._changeTitle(e)},setBackNavigation:function(e){if(!this._isCallAllowed()){return}if(typeof e!=="undefined"&&typeof e!=="function"){throw new Error("'setBackNavigation' was called with invalid arguments. The parameter should be a function")}const t=this.getContext().scopeObject;this._oEventProvider.fireEvent(A,{data:e,component:t});this._fnLastBackNavigation=e},getTitle:function(){if(!this._isCallAllowed()){return}return h.getModel().getProperty("/application/title")},setRelatedApps:function(e){if(!this._isCallAllowed()){return}if(typeof e!=="undefined"){this._ensureArrayOfObjectOfStrings(e,"setRelatedApps")}this._changeRelatedApps(e)},attachBackNavigationChanged:function(...e){this._oEventProvider.attachEvent(A,...e)},detachBackNavigationChanged:function(...e){this._oEventProvider.detachEvent(A,...e)},attachServiceDestroyed:function(...e){this._oEventProvider.attachEvent(b,...e)},detachServiceDestroyed:function(...e){this._oEventProvider.detachEvent(b,...e)},_changeHierarchy:function(e){let i=[];if(!e){e=[]}const a=this._getHierarchyDefaultValue();e.forEach((e,a)=>{i[a]=t({},e)});i=i.concat(a);if(u.isLegacyHome()){u.updateBaseStates([p.Home],"application.hierarchy",g.Set,i)}u.updateCurrentState("application.hierarchy",g.Set,i);this._aLastHierarchy=i},_changeRelatedApps:function(e){if(!e){e=[]}if(u.isLegacyHome()){u.updateBaseStates([p.Home],"application.relatedApps",g.Set,e)}u.updateCurrentState("application.relatedApps",g.Set,e);this._aLastRelatedApps=e},_changeTitle:function(e,t){if(!e&&!t){e=this._getTitleDefaultValue()}if(u.isLegacyHome()){u.updateBaseStates([p.Home],"application.title",g.Set,e)}u.updateCurrentState("application.title",g.Set,e);f.setPerformanceMark("FLP -- title change");l.emit("TitleChanged",e);this._sLastTitle=e},_changeTitleAdditionalInformation:function(e){const t={headerText:e?.headerText||"",additionalContext:e?.additionalContext||"",searchTerm:e?.searchTerm||"",searchScope:e?.searchScope||""};if(u.isLegacyHome()){u.updateBaseStates([p.Home],"application.titleAdditionalInformation",g.Set,t)}u.updateCurrentState("application.titleAdditionalInformation",g.Set,t);f.setPerformanceMark("FLP -- titleAdditionalInformation change");l.emit("TitleAdditionalInformationChanged",t)},_getTitleDefaultValue:function(){let e="";const t=c.getMetadata();if(t&&t.title){e=t.title}return e},_getHierarchyDefaultValue:function(){const e=[];const t=r.last("/core/shellHeader/rootIntent");const i=u.getLaunchpadState();const a=u.getShellMode();if(i===p.App&&[v,y].includes(a)){e.push({icon:"sap-icon://home",title:o.i18n.getText("actionHomePage"),intent:t?`#${t}`:"#"});const i=r.last("/core/spaces/currentSpaceAndPage");if(i!==undefined){e.splice(0,0,{icon:"sap-icon://space-navigation",title:i.pageTitle,subtitle:i.pageTitle!==i.spaceTitle?i.spaceTitle:undefined,intent:`#${i.hash}`})}}return e},_shouldEnableAutoHierarchy:function(e){if(typeof e.getManifestEntry!=="function"){return false}const t=e.getManifestEntry("/sap.ui5/services/ShellUIService/settings/setHierarchy");return t==="auto"},_enableAutoHierarchy:function(t){const i=t.getRouter&&t.getRouter();if(!i){e.error("Could not enable automatic setHierarchy on the current app","Router could not be obtained on the app root component via getRouter","sap.ushell.ui5service.ShellUIService");return}this._bEnableAutoHierarchy=true;i.attachTitleChanged(function(e){const t=e.getParameter("history");const i=this._getCurrentShellHashWithoutAppRoute();const a=t.reverse().map(e=>({title:e.title,intent:`${i}&/${e.hash}`}));this._bSkipAutoHierarchyCheck=true;this.setHierarchy(a)},this)},_preventOverrideOfAutoHierarchy:function(){if(!this._bInitialized){return}if(this._bSkipAutoHierarchyCheck){this._bSkipAutoHierarchyCheck=false;return}const e=this._shouldEnableAutoHierarchy(this.getContext().scopeObject);if(e){throw new Error("Cannot set hierarchy manually - Auto hierarchy is enabled")}},_shouldEnableAutoTitle:function(e){if(typeof e.getManifestEntry!=="function"){return false}const t=e.getManifestEntry("/sap.ui5/services/ShellUIService/settings/setTitle");return t==="auto"},_enableAutoTitle:function(t){const i=t.getRouter&&t.getRouter();if(!i){e.error("Could not enable automatic setTitle on the current app","Router could not be obtained on the app root component via getRouter","sap.ushell.ui5service.ShellUIService");return}this._bEnableAutoTitle=true;const a=i.getTitleHistory()[0];if(a&&a.title){setTimeout(()=>{this._bSkipAutoTitleCheck=true;this.setTitle(a.title)},0)}i.attachTitleChanged(function(e){const t=e.getParameter("title");this._bSkipAutoTitleCheck=true;this.setTitle(t)},this)},_preventOverrideOfAutoTitle:function(){if(!this._bInitialized){return}if(this._bSkipAutoTitleCheck){this._bSkipAutoTitleCheck=false;return}const e=this._shouldEnableAutoTitle(this.getContext().scopeObject);if(e){throw new Error("Cannot set title manually - Auto title is enabled")}},_getCurrentShellHashWithoutAppRoute:function(){const t=`#${s.getHash()}`;const i=d.getShellHash(t);if(!i){e.error("Cannot get the current shell hash",`UrlParsing service returned a falsy value for ${t}`,"sap.ushell.ui5service.ShellUIService");return""}return`#${i}`},_ensureArrayOfObjectOfStrings:function(e,t){const a=Array.isArray(e)&&e.every(e=>i(e)&&Object.keys(e).length>0&&Object.keys(e).every(t=>typeof e[t]==="string"));if(!a){throw new Error(`'${t}' was called with invalid parameters. An array of non-empty objects with string values is expected`)}},setApplicationFullWidth:function(e){if(!this._isCallAllowed()){return}c.setApplicationFullWidthInternal(e)},setActive:function(e){this._bIsActive=e},getActive:function(){return this._bIsActive},exit:function(){this._oEventProvider.fireEvent(b);this._oEventProvider.destroy();this._bDestroyed=true}});return S});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui5service/ShellUIServiceFactory", ["sap/base/util/Deferred","sap/ui/base/EventProvider","sap/ui/core/Component","sap/ui/core/service/ServiceFactory","sap/ushell/Container","sap/ushell/EventHub","sap/ushell/ui5service/ShellUIService","sap/ushell/utils"],(e,t,n,s,i,o,c,r)=>{"use strict";const a="backNavigationChanged";const l=s.extend("sap.ushell.ui5service.ShellUIServiceFactory",{constructor:function(){s.apply(this,arguments);this._mServiceInstances=new Map;this._oGlobalServiceInstance=null;this._oCurrentApplication=null;this._oEventProvider=new t;this._aDoables=[]},init:async function(){this._AppLifeCycle=await i.getServiceAsync("AppLifeCycle");this._AppLifeCycle.attachAppLoaded(this._handleAppOpened,this);const e=o.on("reloadCurrentApp").do(this._handleReloadCurrentApp.bind(this));this._aDoables.push(e);await this.createInstanceInternal()},_setInitialAppValues:function(){if(this._oCurrentApplication?.componentInstance){const e=this._mServiceInstances.get(this._oCurrentApplication.componentInstance.getId());if(e?.instance){return}}if(r.isFlpHomeIntent()){return}this._oGlobalServiceInstance.getContext().scopeObject=this._oCurrentApplication.componentInstance||{};this._oGlobalServiceInstance.initService()},_handleAppOpened:function(e){this._oCurrentApplication=e.getParameters();this._setServiceActive(null);if(this._oCurrentApplication?.componentInstance){const e=this._oCurrentApplication.componentInstance;this._setServiceActive(e);this._resolveServiceInstance(e)}this._setInitialAppValues()},restore:function(e){const t=e.app;if(!t){this._setServiceActive(null);return}this._oCurrentApplication={componentInstance:t};this._setServiceActive(this._oCurrentApplication.componentInstance)},_handleReloadCurrentApp:function(){this._oCurrentApplication=null},_handleServiceDestroyed:function(e,t){this._mServiceInstances.delete(t.id)},attachBackNavigationChanged:function(...e){this._oEventProvider.attachEvent(a,...e)},detachBackNavigationChanged:function(...e){this._oEventProvider.detachEvent(a,...e)},_handleBackNavigationChanged:function(e){const t=e.getParameters();this._oEventProvider.fireEvent(a,t)},createInstance:async function(t){if(!t||!t.scopeObject){throw new Error("No service context provided")}const n=t.scopeObject.getId();const s=this._mServiceInstances.get(n);if(s){return s.deferred.promise}t.settings=t.settings||{};t.settings.isGlobal=false;t.settings.id=n;const i=new c(t);i.attachBackNavigationChanged(this._handleBackNavigationChanged,this);i.attachServiceDestroyed({id:n},this._handleServiceDestroyed,this);const o={instance:i,scopeObject:t.scopeObject||{},deferred:new e,resolved:false};this._mServiceInstances.set(n,o);const r=this._getRootComponent(t.scopeObject);if(this._isComponentActive(r)){this._resolveServiceInstance(r)}return o.deferred.promise},_getRootComponent:function(e){if(!e){return null}const t=n.getOwnerComponentFor(e);if(!t){return e}if(t.isA("sap.ushell.renderer.Renderer")){return e}return this._getRootComponent(t)},_isComponentActive:function(e){const t=this._oCurrentApplication?.componentInstance;if(!t||!e){return false}return e===t},createInstanceInternal:async function(){if(this._oGlobalServiceInstance){return this._oGlobalServiceInstance}const e={scopeObject:{getId:function(){return""}},scopeType:"component",settings:{isGlobal:true}};this._oGlobalServiceInstance=new c(e);this._oGlobalServiceInstance.attachBackNavigationChanged(this._handleBackNavigationChanged,this);return this._oGlobalServiceInstance},_setServiceActive(e){this._mServiceInstances.forEach(t=>{const n=this._getRootComponent(t.scopeObject);if(!e){t.instance.setActive(false)}else if(n===e){t.instance.setActive(true)}else{t.instance.setActive(false)}})},_resolveServiceInstance(e){if(!e){return}this._mServiceInstances.forEach(t=>{const n=this._getRootComponent(t.scopeObject);const s=n===e;if(s&&!t.resolved){const n=this._hasResolvedInstances(e);t.instance.initService(n);t.resolved=true;t.deferred.resolve(t.instance)}})},_hasResolvedInstances(e){if(!e){return false}return Array.from(this._mServiceInstances.values()).some(t=>{const n=this._getRootComponent(t.scopeObject);const s=n===e;return s&&t.resolved})},destroy(){s.prototype.destroy.apply(this,arguments);this._aDoables.forEach(e=>{e.off()});this._AppLifeCycle?.detachAppLoaded?.(this._handleAppOpened,this);this._mServiceInstances.forEach(e=>{e.instance.destroy()});this._oGlobalServiceInstance?.destroy?.();this._oEventProvider.destroy();this._oGlobalServiceInstance=null;this._mServiceInstances=null;this._oCurrentApplication=null;this._AppLifeCycle=null;this._aDoables=null},reset(){this.destroy();this._mServiceInstances=new Map;this._oEventProvider=new t;this._aDoables=[]}});return new l});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui5service/UserStatus", ["sap/ui/core/service/ServiceFactoryRegistry","sap/ui/core/service/ServiceFactory","sap/ui/core/service/Service","sap/ui/base/EventProvider"],(e,t,s,a)=>{"use strict";const r={statusChanged:"statusChanged",serviceStateChanged:"serviceStateChanged"};const i=s.extend("sap.ushell.ui5service.UserStatus",{init:function(){i.prototype.isEnabled=false;e.register("sap.ushell.ui5service.UserStatus",new t(i));this.oEventProvider=new a;i.prototype.AvailableStatus={AVAILABLE:"AVAILABLE",AWAY:"AWAY",BUSY:"BUSY",APPEAR_OFFLINE:"APPEAR_OFFLINE"}},exit:function(){this.oEventProvider.destroy()}});i.prototype.setEnabled=function(e){this.oEventProvider.fireEvent(r.serviceStateChanged,{data:e});i.prototype.isEnabled=e;return};i.prototype.setStatus=function(e){if(!i.prototype.isEnabled){throw new Error("Unable to change status because the UserStatus service is disabled.")}if(!i.prototype.AvailableStatus[e]&&e!==null){throw new Error("Enter a valid status.")}this.oEventProvider.fireEvent(r.statusChanged,{data:e})};i.prototype.attachStatusChanged=function(e){this.oEventProvider.attachEvent(r.statusChanged,e)};i.prototype.detachStatusChanged=function(e){this.oEventProvider.detachEvent(r.statusChanged,e)};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils", ["sap/base/Log","sap/base/util/isPlainObject","sap/base/util/ObjectPath","sap/base/util/uid","sap/ui/Device","sap/ui/core/Element","sap/ui/core/EventBus","sap/ui/thirdparty/jquery","sap/ui/thirdparty/URI","sap/base/util/deepClone","sap/ushell/utils/objectOperations","sap/ushell/utils/type","sap/ushell/renderer/History","sap/ushell/renderers/fiori2/History"],(e,t,n,r,i,a,s,jQuery,o,l,c,u,p,f)=>{"use strict";const d={};d.isArray=u.isArray;d.isPlainObject=u.isPlainObject;d.isDefined=u.isDefined;d.clone=l;d.getMember=c.getMember;d.updateProperties=c.updateProperties;d.getNestedObjectProperty=c.getNestedObjectProperty;d.deepFreeze=function(e){Object.keys(e).filter(n=>{const r=e[n];return t(r)||Array.isArray(r)}).forEach(t=>{e[t]=this.deepFreeze(e[t])});return Object.freeze(e)};d.removeDuplicatedActions=function(e){if(Array.isArray(e)){const t=e.reduce((e,t)=>{if(e.indexOf(t)<0){e.push(t)}return e},[]);return t}return e};d.storeSapSystemData=function(t,n){let r;let i;let a;const s=[t.id];if(arguments.length>1){s.unshift(n)}try{a=JSON.stringify(t)}catch(t){e.error("Cannot stringify and store expanded system data:",t)}if(a){i=d.getLocalStorage();r=d.generateLocalStorageKey("sap-system-data",s);i.setItem(r,a)}};d.getLocalSystemInSidFormat=function(){const e=sap.ui.require("sap/ushell/Container");const t=e.getLogonSystem();const n=t.getSystemName();const r=t.getClient();return`sid(${n}.${r})`};d.matchesLocalSid=function(e){return d.getLocalSystemInSidFormat().toLowerCase()===e.toLowerCase()};d.storeSapSystemToLocalStorage=function(e){const t=(e||{}).params;if(!t||!t.hasOwnProperty("sap-system")){return}if(d.isPlainObject(t["sap-system"])){const e=t["sap-system"];const n=t["sap-system-src"];if(typeof n==="string"){d.storeSapSystemData(e,n);t["sap-system-src"]=n}else{d.storeSapSystemData(e)}t["sap-system"]=e.id}else if(d.matchesLocalSid(t["sap-system"])){delete t["sap-system"]}};d.setPerformanceMark=function(e,t){if(performance&&performance.mark){if(!t){t={}}if(t.bUseUniqueMark){if(t.bUseLastMark){performance.clearMarks(e)}else if(performance.getEntriesByName(e,"mark").length>0){return}}performance.mark(e)}};d.setPerformanceMeasure=function(e,t,n){if(performance&&performance.measure&&t&&n){performance.measure(e,t,n)}};d.Error=function(t,n){this.name="sap.ushell.utils.Error";this.message=t;e.error(t,null,n)};d.Error.prototype=new Error;d.localStorageSetItem=function(t,n,r){let i;try{localStorage.setItem(t,n);if(r){i=document.createEvent("StorageEvent");i.initStorageEvent("storage",false,false,t,"",n,"",localStorage);dispatchEvent(i)}}catch(t){e.warning("Error calling localStorage.setItem():",t,"sap.ushell.utils")}};d.getLocalStorage=function(){return window.localStorage};d.getLocalStorageItem=function(e){return window.localStorage.getItem(e)};d.generateUniqueId=function(e){let t;let n;let r;if(Array.isArray(e)){n=e;r=function(e){return n.indexOf(e)===-1}}else{r=e}do{t=d._getUid()}while(!r(t));return t};d._getUid=function(){return r()};d.reload=function(){location.reload()};d.calculateOrigin=function(e){let t;if(e.origin){return e.origin}if(e.protocol&&e.hostname){return`${e.protocol}//${e.hostname}${e.port?`:${e.port}`:""}`}if(e.href){t=new o(e.href);return`${t.protocol()}://${t.hostname()}${t.port()?`:${t.port()}`:""}`}return undefined};d.getPrivateEpcm=function(){if(window.external&&window.external&&typeof window.external.getPrivateEpcm!=="undefined"){return window.external.getPrivateEpcm()}return undefined};d.hasNativeNavigationCapability=function(){return d.isFeatureBitEnabled(1)};d.getShellType=function(){return d.isFeatureBitEnabled(1)?"NWBC":"FLP"};d.hasNativeLogoutCapability=function(){return d.isFeatureBitEnabled(2)};d.hasNavigationModeCapability=function(){return d.isFeatureBitEnabled(4)};d.hasFLPReadyNotificationCapability=function(){return d.isFeatureBitEnabled(8)};d.hasFLPReady2NotificationCapability=function(){return d.isFeatureBitEnabled(16)};d.isFeatureBitEnabled=function(t){let n="0";const r=d.getPrivateEpcm();if(r){try{n=r.getNwbcFeatureBits();e.debug(`Detected epcm getNwbcFeatureBits returned feature bits: ${n}`)}catch(t){e.error("failed to get feature bit vector via call getNwbcFeatureBits on private epcm object",t,"sap.ushell.utils")}}return(parseInt(n,16)&t)>0};d.isApplicationTypeEmbeddedInIframe=function(e,t){return e==="NWBC"||e==="TR"||e==="WCF"||t===true&&e==="WDA"};d.isSAPLegacyApplicationType=function(e,t,n){const r=n===true?["TR","GUI","NWBC"]:["TR","GUI","NWBC","WDA","WCF"];return r.includes(e)||r.includes(t)};d.isTRApplicationType=function(e,t){return e==="TR"||t==="TR"};d.getParamKeys=function(t){const n=[];const r=[];let i;if(t.indexOf("sap-intent-param=")>0){i=/(?:sap-intent-param=)([^&/]+)/.exec(t);if(i&&i.length===2){r.push("sap-intent-param-data");n.push(i[1])}}if(t.indexOf("sap-xapp-state=")>0){i=/(?:sap-xapp-state=)([^&/]+)/.exec(t);if(i&&i.length===2){r.push("sap-xapp-state-data");n.push(i[1])}}else if(t.indexOf("sap-xapp-state-data=")>0){i=/(?:sap-xapp-state-data=)([^&/]+)/.exec(t);if(i&&i.length===2){try{const e=decodeURIComponent(i[1]);r.push("sap-xapp-state-data");n.push(e)}catch(t){e.error("Invalid encoding of the sap-xapp-state-data parameter in the url: ",i[1])}}}if(t.indexOf("sap-iapp-state=")>0){i=/(?:sap-iapp-state=)([^&/]+)/.exec(t);if(i&&i.length===2){r.push("sap-iapp-state-data");n.push(i[1])}}return{aAppStateNamesArray:r,aAppStateKeysArray:n}};d.appendSapShellParamSync=function(e,t,n){const r=t==="TR"?"":"-NWBC";if(n){e+=e.indexOf("?")>=0?"&":"?";e+=`sap-shell=${encodeURIComponent(`FLP${n}${r}`)}`}return e};d.appendSapShellParam=async function(e,t){const n=t==="TR"?"":"-NWBC";const r=await d.getUi5Version();if(r){e+=e.indexOf("?")>=0?"&":"?";e+=`sap-shell=${encodeURIComponent(`FLP${r}${n}`)}`}return e};d.filterOutParamsFromLegacyAppURL=function(e){const t=["sap-ach","sap-fiori-id","sap-hide-intent-link","sap-priority","sap-tag","sap-ui-app-id-hint","sap-ui-debug","sap-ui-fl-control-variant-id","sap-ui-fl-max-layer","sap-ui-tech-hint","sap-ui2-tcode","sap-ui2-wd-app-id","sap-ui2-wd-conf-id","sap-ushell-cdm-site-url","sap-ushell-navmode","sap-ushell-next-navmode","sap-ushell-url","sap-app-origin-hint"];let n=new o(e);n=n.removeSearch(t);return n.toString()};d.getIframeFeaturePolicies=function(){return"autoplay;battery;camera;display-capture;geolocation;gyroscope;magnetometer;microphone;midi;clipboard-write;clipboard-read;fullscreen;serial;"};function g(e){const t=/\d+(\.\d+){0,2}/.exec(e);if(t&&t[0]){return t[0]}return undefined}d.getUi5Version=function(){return new Promise((t,n)=>{sap.ui.require(["sap/ui/VersionInfo"],n=>{n.load().then(e=>{t(g(e.version))}).catch(()=>{e.error("UI5 version could not be determined.");t("")})})})};d.isNativeWebGuiNavigation=function(e){const t=n.get("applicationType",e);const r=n.get("appCapabilities.nativeNWBCNavigation",e);if(this.hasNativeNavigationCapability()&&(t==="TR"||r)){return true}return false};d.Map=function(){this.entries={}};d.Map.prototype.put=function(e,t){const n=this.get(e);this.entries[e]=t;return n};d.Map.prototype.containsKey=function(e){if(typeof e!=="string"){throw new d.Error(`Not a string key: ${e}`,"sap.ushell.utils.Map")}return Object.prototype.hasOwnProperty.call(this.entries,e)};d.Map.prototype.get=function(e){if(this.containsKey(e)){return this.entries[e]}};d.Map.prototype.keys=function(){return Object.keys(this.entries)};d.Map.prototype.remove=function(e){delete this.entries[e]};d.Map.prototype.toString=function(){const e=["sap.ushell.utils.Map("];e.push(JSON.stringify(this.entries));e.push(")");return e.join("")};d.getParameterValueBoolean=function(e,t){const n=new URLSearchParams(t||window.location.search);const r=n.getAll(e);const i=["true","x"];const a=["false",""];if(!r||r.length===0){return undefined}const s=r[0].toLowerCase();if(i.indexOf(s)>=0){return true}if(a.indexOf(s)>=0){return false}return undefined};d.call=function(t,n,r){let i;if(r){setTimeout(()=>{d.call(t,n,false)},0);return}try{t()}catch(t){i=t.message||t.toString();e.error(`Call to success handler failed: ${i}`,t,"sap.ushell.utils");if(n){n(t)}}};d.handleTilesVisibility=function(){d.getVisibleTiles()};d.refreshTiles=function(){s.getInstance().publish("launchpad","refreshTiles")};d.setTilesNoVisibility=function(){s.getInstance().publish("launchpad","setTilesNoVisibility")};d.validHash=function(e){return e&&e.constructor===String&&e.trim()!==""};d.getFormFactor=function(){const e=i.system;if(e.desktop){return e.SYSTEMTYPE.DESKTOP}if(e.tablet){return e.SYSTEMTYPE.TABLET}if(e.phone){return e.SYSTEMTYPE.PHONE}return undefined};d.getVisibleTiles=function(){const e=document.body.clientHeight;const t=a.getElementById("dashboardGroups");const n=a.getElementById("viewPortContainer");const r=0;const i=[];const o=[];const l=s.getInstance();let c;let u;let p;let f;let g;let h;let m;let y;let b;let w;let S;let C;let T;let E;let P;let v;let x;if(window.document.hidden){l.publish("launchpad","onHiddenTab")}if(t&&t.getGroups()&&n){C=jQuery(t.getDomRef());T=C?C.is(":visible"):false;E=t.getGroups();for(c=0;c<E.length;c=c+1){f=E[c];g=f.getTiles();h=f.getLinks();P=[g,h];for(p=0;p<P.length;p++){v=P[p];if(v){for(u=0;u<v.length;u++){m=v[u];if(!T||window.document.hidden){i.push(m)}else{y=jQuery(m.getDomRef());b=y.offset();if(b){w=y.offset().top;S=w+y.height();x=f.getVisible()&&S>r-300&&w<e+300;if(x){o.push({oTile:d.getTileModel(m),iGroup:c,bIsExtanded:!(S>r)||!(w<e)})}else if(o.length>0){l.publish("launchpad","visibleTilesChanged",o);return i}i.push(m)}}}}}}}if(o.length>0){l.publish("launchpad","visibleTilesChanged",o)}return i};d.getTileModel=function(e){let t;if(e.isA("sap.ui.integration.widgets.Card")){t=e.getBindingContext("ushellCardModel")}else{t=e.getBindingContext()}return t.getObject()?t.getObject():null};d.getTileObject=function(e){let t;if(e.isA("sap.ui.integration.widgets.Card")){t=e.getBindingContext("ushellCardModel")}else{t=e.getBindingContext()}return t.getObject()?t.getObject().object:null};d.recalculateBottomSpace=function(){const e=jQuery("#dashboardGroups").find(".sapUshellTileContainer:visible");const t=e.last();const n=jQuery(".sapUshellShellHead > header").height();const r=t.parent().height();const i=parseInt(t.find(".sapUshellContainerTitle").css("margin-top"),10);const a=parseInt(jQuery(".sapUshellDashboardGroupsContainer").css("padding-bottom"),10);let s;if(e.length===1){s=0}else{s=jQuery(window).height()-n-r-i-a;s=s<0?0:s}jQuery(".sapUshellDashboardGroupsContainer").css("margin-bottom",`${s}px`)};d.calcVisibilityModes=function(e,t){let n=true;let r=true;const a=e.pendingLinks&&e.pendingLinks.length?e.pendingLinks:e.links;const s=d.groupHasVisibleTiles(e.tiles,a);if(!s&&(!t||e.isGroupLocked||e.isDefaultGroup||i.system.phone||i.system.tablet&&!i.system.desktop)){n=false}if(!s&&!t){r=false}return[n,r]};d.groupHasVisibleTiles=function(e,t){let n=false;let r;let i;let a=!e?[]:e;const s=!t?[]:t;a=a.concat(s);if(!a.length){return false}for(r=0;r<a.length;r=r+1){i=a[r];if(i.isTileIntentSupported){n=true;break}}return n};d.invokeUnfoldingArrayArguments=async function(t,n){if(!Array.isArray(n[0])){return d.promisify(t.apply(this,n))}const r=n[0];if(r.length===0){return[]}const i=r.map(async n=>{if(!Array.isArray(n)){const t="Expected Array as nTh Argument of multivalue invocation: "+"first Argument must be array of array of arguments: single valued f(p1,p2), f(p1_2,p2_2), f(p1_3,p2_3) : "+"multivalued : f([[p1,p2],[p1_2,p2_2],[p1_3,p2_3]]";e.error(t);throw new Error(t)}return d.promisify(t.apply(this,n)).then(e=>[e])});return Promise.all(i)};d._getCurrentDate=function(){return new Date};d._convertToUTC=function(e){return Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())};d.formatDate=function(e){const t=sap.ui.require("sap/ushell/resources");if(!t){throw new Error("sap/ushell/resources was not required before utils.formatDate usage!")}const n=d._convertToUTC(new Date(e));const r=d._convertToUTC(d._getCurrentDate());const i=r-n;const a=parseInt(i/(1e3*60*60*24),10);if(a>0){if(a===1){return t.i18n.getText("time_day",[a])}return t.i18n.getText("time_days",[a])}const s=parseInt(i/(1e3*60*60),10);if(s>0){if(s===1){return t.i18n.getText("time_hour",[s])}return t.i18n.getText("time_hours",[s])}const o=parseInt(i/(1e3*60),10);if(o>0){if(o===1){return t.i18n.getText("time_minute",[o])}return t.i18n.getText("time_minutes",[o])}return t.i18n.getText("just_now")};d.toExternalWithParameters=function(e,t,n){return new Promise(r=>{sap.ui.require(["sap/ushell/Container"],i=>Promise.all([i.getServiceAsync("URLParsing"),i.getServiceAsync("Navigation")]).then(i=>{const a=i[0];const s=i[1];const o={};const l=t.split("&/");if(l.length>1){o.appSpecificRoute=`&/${l[1]}`}o.target={semanticObject:e,action:l[0]};if(n&&n.length>0){o.params={};n.forEach(e=>{o.params[e.Key]=e.Value})}r(s.navigate({target:{shellHash:a.constructShellHash(o)}}))}))})};d.moveElementInsideOfArray=function(e,t,n){if(!d.isArray(e)||t===undefined||n===undefined){throw new Error("Incorrect input parameters passed")}if(t>=e.length||n>=e.length||n<0||t<0){throw new Error("Index out of bounds")}const r=e.splice(t,1)[0];e.splice(n,0,r);return e};d.shallowMergeObject=function(e){return Array.prototype.slice.call(arguments,1,arguments.length).map(e=>({sourceObject:e,properties:Object.keys(e)})).reduce((e,t)=>{t.properties.forEach(n=>{e[n]=t.sourceObject[n]});return e},e)};d.getLocationHref=function(){return window.location.href};d.getLocationSearch=function(){return window.location.search};d.windowLocationReload=function(){window.location.reload()};d.windowLocationAssign=function(e){window.location.assign(e)};d.generateLocalStorageKey=function(e,t){const n=t.length;if(n===0){throw new Error("At least one id should be provided when generating the local storage key")}let r="$";if(n===2){r="#"}else if(n>2){r=`@${n}@`}return e+r+t.join(":")};d.isRootIntent=function(e){if(typeof e!=="string"){throw new Error("The given intent must be a string")}const t="renderers.fiori2.componentData.config.rootIntent";const r=n.get(t,window["sap-ushell-config"])||"#Shell-home";const i=r.replace("#","");const a=e.replace("#","");return a===""||a===i};d.isFlpHomeIntent=function(e){if(!e){e=window.location.hash;if(!e){e=n.get("renderers.fiori2.componentData.config.rootIntent",window["sap-ushell-config"])||"Shell-home"}}else if(typeof e!=="string"){throw new Error("The given intent must be a string")}const t=e.replace("#","");return t.indexOf("Shell-home")===0||t.indexOf("Launchpad-openFLPPage")===0||t.indexOf("Launchpad-openWorkPage")===0};d.generateRandomKey=function(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let t="";const n=new window.Uint32Array(40);window.crypto.getRandomValues(n);function r(t){const r=n[t]%e.length;return e[r]}while(t.length<40){t+=r(t.length)}return t};d.copyToClipboard=function(e){let t;const n=document.createElement("textarea");try{n.contentEditable=true;n.readonly=false;n.textContent=e;document.documentElement.appendChild(n);n.select();document.execCommand("copy");t=true}catch(e){t=false}finally{n.parentNode.removeChild(n)}return t};d._getUserSettingPersContainer=function(){return new Promise(e=>{sap.ui.require(["sap/ushell/Container"],t=>t.getServiceAsync("PersonalizationV2").then(t=>{const n={container:"sap.ushell.usersettings.personalization",item:"data"};const r={validity:"Infinity",keyCategory:t.KeyCategory.GENERATED_KEY,writeFrequency:t.WriteFrequency.HIGH,clientStorageAllowed:false};e(t.getPersonalizer(n,r))}))})};d.getHideEmptySpacesEnabled=function(){return new Promise(e=>{sap.ui.require(["sap/ushell/Config"],t=>{e(t)})}).then(e=>{const t=e.last("/core/spaces/hideEmptySpaces/enabled");if(!t){return Promise.resolve(false)}return d._getUserSettingPersContainer().then(e=>e.getPersData()).then(t=>{const n=(t||{}).hideEmptySpaces!==false;if(e.last("/core/spaces/hideEmptySpaces/userEnabled")!==n){e.emit("/core/spaces/hideEmptySpaces/userEnabled",n)}return n})})};d.setHideEmptySpacesEnabled=function(e){return new Promise(e=>{sap.ui.require(["sap/ushell/Config"],t=>{e(t)})}).then(t=>{const n=t.last("/core/spaces/hideEmptySpaces/enabled");if(!n){return Promise.resolve()}return d._getUserSettingPersContainer().then(n=>n.getPersData().then(r=>{r=r||{};const i=r.hideEmptySpaces!==false;if(i===!!e){return Promise.resolve()}r.hideEmptySpaces=e;return n.setPersData(r).then(()=>{t.emit("/core/spaces/hideEmptySpaces/userEnabled",e)})}))})};d.sanitizeTimeoutDelay=function(e){if(typeof e!=="number"){throw new Error("Invalid type! Expected type 'number'.")}const t=2147483647;return e>t?t:e};d.promisify=function(t,n){if(typeof t==="object"){if(t.done){return new Promise((r,i)=>{t.done((...t)=>{if(n){r(t);return}if(t.length>1){e.warning("jQuery.Deferred provided multiple return values, but only single return values are supported!")}r(t[0])}).fail(i)})}if(t.then){return t}}return Promise.resolve(t)};d.toDeferred=function(e){const t=new jQuery.Deferred;const n=this.promisify(e);n.then(t.resolve.bind(t)).catch(t.reject.bind(t));return t.promise()};d.requireAsync=function(e){return new Promise((t,n)=>{sap.ui.require(e,(...e)=>{t(e)},n)})};d.awaitTimeout=function(e=0){return new Promise(t=>{setTimeout(t,e)})};d.getThemingParameters=async function(e){const t=await new Promise((t,n)=>{sap.ui.require(["sap/ui/core/theming/Parameters"],n=>{const r=n.get({name:e,callback:t});if(r){t(r)}})});return e.map(e=>{if(typeof t!=="object"){return t}return t[e]})};d.isColdStart=function(){const e=sap.ui.require("sap/ushell/Container");const t=e.getRendererInternal("fiori2");const n=!t||!t.getCurrentCoreView();if(p.getHistoryLength()<=1&&n){return true}return false};d.getDocumentUrl=function(){return document.URL};d.handleSideContent=function(e){const t=e.getParameters();const n=t.hasAdjacentContentBefore;d.applySideContent.call(this,n)};d.applySideContent=function(e){this.rootControlLoaded().then(t=>{t.toggleStyleClass("sapUshellFixedPadding",e)})};return d});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/AppType", ["sap/ushell/library","sap/ushell/resources"],(e,t)=>{"use strict";const p=e.AppType;const r={};r.getDisplayName=function(e){switch(e){case p.OVP:return t.i18n.getText("Apptype.OVP");case p.SEARCH:return t.i18n.getText("Apptype.SEARCH");case p.FACTSHEET:return t.i18n.getText("Apptype.FACTSHEET");case p.COPILOT:return t.i18n.getText("Apptype.COPILOT");case p.URL:return t.i18n.getText("Apptype.URL");default:return t.i18n.getText("Apptype.APP")}};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/CallbackQueue", ["sap/base/Log","sap/base/util/Deferred","sap/ushell/utils"],(e,s,t)=>{"use strict";class r{#e=Promise.resolve();#s=1;async push(r,i){const a=this.#e;const o=new s;this.#e=a.then(()=>o.promise);this.#e.index=this.#s++;await a;let l=false;let c;try{c=await t.promisify(r())}catch(s){e.error("Error occurred in CallbackQueue:",s);l=true;c=s;if(i){try{c=await t.promisify(i(s));l=false}catch(s){e.error("Error occurred in CallbackQueue:",s);l=true;c=s}}}o.resolve();if(l){throw c}return c}async waitAllSettled(){const e=this.#e;await e;if(e!==this.#e){return this.waitAllSettled()}}}return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/Deferred", [],()=>{"use strict";class e{#e=null;#t=null;#s=null;constructor(){let e;let t;const s=new Promise((s,r)=>{e=s;t=r});this.#t=e.bind(s);this.#s=t.bind(s);s._state="pending";s.done=e=>{s.then(e);return s};s.fail=e=>{s.catch(e);return s};s.always=e=>{s.finally(e);return s};s.state=()=>s._state;this.#e=s}resolve(e){this.#e._state="resolved";this.#t(e);return this.#e}reject(e){this.#e._state="rejected";this.#s(e);return this.#e}promise(){return this.#e}}return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/DynamicTileRequest", ["sap/base/i18n/Localization","sap/ushell/utils/HttpClient","sap/ui/thirdparty/URI","sap/base/util/isEmptyObject","sap/ushell/utils/UriParameters","sap/base/Log","sap/ui/core/Configuration","sap/base/util/ObjectPath","sap/ushell/EventHub","sap/ushell/Container"],(e,t,s,r,n,i,a,o,l,u)=>{"use strict";const c="sap.ushell.utils.DynamicTileRequest";class h{#e=()=>{};#t=()=>{};#s=null;#r=null;#n=null;#i=null;#a=null;#o=null;#l=null;#u=null;#c=null;#h=Promise.resolve();constructor(e,t,s,r,n){this.#e=t;this.#t=s;this.#s=e;this.#r=o.get(["dataSource","settings","odataVersion"],n);this.#n=true;this.#i=r;this.#h=this.#f(e,r).then(e=>{if(e){this.#a=e}}).catch(e=>{i.error("Was not able to create a DynamicTileRequest:",e,c)});this._oInitialRefreshPromise=this.#h.then(()=>{if(this.#a){return this.refresh()}})}set originalUrl(e){throw new Error("originalUrl is read-only!")}get originalUrl(){return this.#s}set oDataVersion(e){throw new Error("oDataVersion is read-only!")}get oDataVersion(){return this.#r}refresh(){if(!this.#o){this.#o=this.#h.then(this.#g.bind(this)).then(e=>{if(e){return this.#d(e)}})}return this.#o}async#g(){if(!this.#n){return this.#a}try{const e=await u.getServiceAsync("ReferenceResolver");const t=await e.resolveSemanticDateRanges(this.#a,this.#r);if(t.ignoredReferences&&t.ignoredReferences.length>0||t.invalidSemanticDates&&t.invalidSemanticDates.length>0){const e=[].concat(t.invalidSemanticDates||[],t.ignoredReferences||[]);i.error(`The service URL contains invalid Reference(s): ${e.join(", ")}`,"",c);return}this.#n=t.hasSemanticDateRanges;return t.url}catch(e){i.error("Could not resolve semantic date ranges:",e,c);throw e}}#d(r){let n=new s(r).escapeQuerySpace(false);const i=e.getSAPLogonLanguage();if(i&&!n.hasQuery("sap-language")){n.addQuery("sap-language",i)}let a=false;if(n.is("relative")){a=true;n=n.absoluteTo(location.href)}const o=this.#R(a);const l={headers:o};this.#c=n.origin();this.#u=n.href();this.#l=new t(this.#c,l);return this.#l.get(n.relativeTo(this.#c).href()).then(this.#U.bind(this)).catch(this.#m.bind(this))}abort(){if(this.#o&&this.#l){this.#l.abortAll();this.#l=null;this.#o=null;return true}return false}#U(e){l.emit("UITracer.trace",{source:"Tile",reason:"FetchData",data:{providerId:this.#i,targetUrl:this.#u,status:200}});let t;try{t=JSON.parse(e.responseText)}catch{throw new Error("Was not able to parse response of dynamic tile request")}this.#l=null;this.#o=null;let s;if(typeof t==="object"){t=t.d?t.d:t;const e=n.fromURL(this.#u);if(e.get("$inlinecount")==="allpages"){s={number:t.__count}}else if(e.get("$count")==="true"){s={number:t["@odata.count"]}}else{s=this.#v(t)}}else if(typeof t==="string"||typeof t==="number"){s={number:t}}this.#e(s)}#m(e){l.emit("UITracer.trace",{source:"Tile",reason:"FetchData",data:{providerId:this.#i,targetUrl:this.#u,status:e.status}});this.#l=null;this.#o=null;this.#t(e)}#v(e){const t=["results","icon","title","number","numberUnit","info","infoState","infoStatus","targetParams","subtitle","stateArrow","numberState","numberDigits","numberFactor"];const s=Object.keys(e).reduce((s,r)=>{if(t.indexOf(r)>-1){s[r]=e[r]}return s},{});if(!r(s)){return s}const n=Object.keys(e)[0];if(n!==undefined&&Object.keys(e).length===1){return Object.keys(e[n]).reduce((s,r)=>{if(t.indexOf(r)>-1){s[r]=e[n][r]}return s},{})}return{}}#R(t){const s={"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0","Accept-Language":e.getLanguage()||"",Accept:"application/json, text/plain"};const r=e.getSAPLogonLanguage();if(r){s["sap-language"]=r}if(t){const e=u.getLogonSystem();const t=e&&e.getClient();if(t){s["sap-client"]=t}}return s}async#f(e,t){const s=await u.getServiceAsync("ClientSideTargetResolution");const r=await u.getServiceAsync("ReferenceResolver");const n=await s.getSystemContext(t);const a=await r.resolveUserDefaultParameters(e,n);if(a.defaultsWithoutValue&&a.defaultsWithoutValue.length>0){i.error(`The service URL contains User Default(s) with no set value: ${a.defaultsWithoutValue.join(", ")}`,"",c);return}if(a.ignoredReferences&&a.ignoredReferences.length>0){const e=a.ignoredReferences.filter(e=>!e.startsWith("DynamicDate"));if(e.length>0){i.error(`The service URL contains invalid Reference(s): ${e.join(", ")}`,"",c);return}}return a.url}destroy(){this.abort();this.#t=null;this.#e=null}}return h});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/HttpClient", ["sap/ui/core/Supportability","sap/ui/thirdparty/URI","sap/ushell/utils","sap/ushell/utils/LaunchpadError"],(e,t,s,o)=>{"use strict";function n(e,s){this._oOngoingRequests={};this._oCSRFTokens={};this._oDefaultOptions={headers:s&&s.headers||{}};if(typeof e==="string"){this._oBasePath=new t(e)}else{this._oDefaultOptions={headers:e&&e.headers||{}}}}n.prototype.get=function(e,t){return this._executeRequest("GET",e,t)};n.prototype.put=function(e,t){return this._executeRequest("PUT",e,t)};n.prototype.post=function(e,t){return this._executeRequest("POST",e,t)};n.prototype.patch=function(e,t){return this._executeRequest("PATCH",e,t)};n.prototype.delete=function(e,t){return this._executeRequest("DELETE",e,t)};n.prototype.options=function(e,t){return this._executeRequest("OPTIONS",e,t)};n.prototype.abortAll=function(){Object.keys(this._oOngoingRequests).forEach(e=>{this._oOngoingRequests[e].abort()})};n.prototype._executeRequest=async function(n,r,i){const a={};const u=e.isStatisticsEnabled();if(u){a["sap-statistics"]=u}let h;const c=new t(r);if(!c.is("url")){throw new Error("The provided resource path is not a valid URL.")}if(this._oBasePath){h=c.absoluteTo(this._oBasePath)}else{h=c}const p=new XMLHttpRequest;p._sapUshellHttpClientId=s.generateUniqueId(Object.keys(this._oOngoingRequests));this._oOngoingRequests[p._sapUshellHttpClientId]=p;const d=Object.assign({},a,this._oDefaultOptions.headers,i&&i.headers);return this._getCSRFTokenHeader(n,h).then(e=>{Object.assign(d,e);return new Promise((e,t)=>{const s=h.href();p.onload=this._onLoad.bind(this,e,t,{xhr:p,method:n,url:s,data:i});p.onerror=function(){const e=this._getFormattedResponse(p);const s=new o(`Failed to execute HTTP request: ${e.status} (${e.status})`,e);t(s)}.bind(this);p.onabort=function(){p.bAborted=true;const e=this._getFormattedResponse(p);const s=new o(`Failed to execute HTTP request: ${e.status} (${e.status})`,e);t(s)}.bind(this);p.onloadend=function(){delete this._oOngoingRequests[p._sapUshellHttpClientId]}.bind(this);p.open(n,s);Object.keys(d).forEach(e=>{p.setRequestHeader(e,d[e])});let r=i&&i.data||"";if(typeof r!=="string"){r=JSON.stringify(r)}p.send(r)})})};n.prototype._getCSRFTokenHeader=function(e,t){let s="";let o="";switch(e){case"HEAD":case"GET":case"OPTIONS":return Promise.resolve({"x-csrf-token":"fetch"});case"POST":s=this._getCSRFTokenKey(t);if(this._oCSRFTokens[s]){return Promise.resolve({"x-csrf-token":this._oCSRFTokens[s]})}o=t.href();if(this._oBasePath){o=this._oBasePath.origin()+this._oBasePath.directory()}return this._executeRequest("HEAD",o).then(e=>{const t=this._getCSRFTokenFromHeader(e.responseHeaders);if(!t){throw new Error("CSRF Token couldn't be fetched.")}return{"x-csrf-token":t}});case"PATCH":case"PUT":case"DELETE":s=this._getCSRFTokenKey(t);if(this._oCSRFTokens[s]){return Promise.resolve({"x-csrf-token":this._oCSRFTokens[s]})}o=t.href();if(this._oBasePath){o=this._oBasePath.origin()+this._oBasePath.directory()}return this._executeRequest("OPTIONS",o).then(e=>{const t=this._getCSRFTokenFromHeader(e.responseHeaders);if(!t){throw new Error("CSRF Token couldn't be fetched.")}return{"x-csrf-token":t}});default:return Promise.resolve({})}};n.prototype._onLoad=function(e,s,n){const r=this._getFormattedResponse(n.xhr);const i=this._getCSRFTokenFromHeader(r.responseHeaders);if(i){const o=this._getCSRFTokenKey(new t(n.url));if(i.toLowerCase()==="required"&&r.status===403){delete this._oCSRFTokens[o];return this._executeRequest(n.method,n.url,n.data).then(e).catch(s)}this._oCSRFTokens[o]=i}if(r.status>=200&&r.status<300){return e(r)}const a=new o(`Failed to execute HTTP request: ${r.status} (${r.status})`,r);s(a)};n.prototype._getCSRFTokenKey=function(e){if(this._oBasePath){return this._oBasePath.origin()+this._oBasePath.directory()}return e.origin()+e.directory()};n.prototype._getCSRFTokenFromHeader=function(e){const t=e.filter(e=>e.name==="x-csrf-token")[0];return t&&t.value};n.prototype._getFormattedResponse=function(e){return{aborted:e.bAborted||false,status:e.status,statusText:e.statusText,responseText:e.responseText,responseHeaders:e.getAllResponseHeaders().split(/\r\n/g).filter(e=>e.length>0).map(e=>{const t=e.split(":");return{name:t[0].trim(),value:t[1].trim()}})}};return n},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/LaunchpadError", [],()=>{"use strict";class r extends Error{constructor(r,s,t){super(r);this.name="LaunchpadError";this.details=s;this.originalError=t}}return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/RestrictedJSONModel", ["sap/ui/model/json/JSONModel"],t=>{"use strict";function e(){throw new Error("sap.ushell.utils.RestrictedJSONModel : Function not supported")}return t.extend("sap.ushell.utils.RestrictedJSONModel",{metadata:{events:{dataChange:{parameters:{}}}},constructor:function(){t.prototype.constructor.apply(this,arguments);this.setDefaultBindingMode("OneWay");this.setDefaultBindingMode=e;this.setSizeLimit(1e3);this.setData=e;this.setJSON=e;this.setProperty=e;this.loadData=e},_setData:function(){t.prototype.setData.apply(this,arguments);this.fireEvent("dataChange")},_setJSON:function(){this.setData=t.prototype.setData;t.prototype.setJSON.apply(this,arguments);this.setData=e;this.fireEvent("dataChange")},_setProperty:function(){this.setData=t.prototype.setData;t.prototype.setProperty.apply(this,arguments);this.setData=e;this.fireEvent("dataChange")},refresh:function(){t.prototype.refresh.apply(this,arguments);this.fireEvent("dataChange")}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/UriParameters", ()=>{"use strict";function r(r){const e=r.indexOf("#");if(e>=0){r=r.slice(0,e)}const s=r.indexOf("?");if(s>=0){return r.slice(s+1)}return""}class e extends URLSearchParams{#r;constructor(e){super(r(e))}get mParams(){if(this.#r===null||this.#r===undefined){this.#r=Array.from(this.keys()).reduce((r,e)=>{r[e]=this.getAll(e);return r},Object.create(null))}return this.#r}static fromURL(r){return new e(r)}}return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/UrlParsing", ["sap/ui/thirdparty/URI","sap/base/Log","sap/base/util/deepEqual","sap/base/util/merge","sap/ushell/TechnicalParameters","sap/ushell/utils"],(e,t,n,a,r,s)=>{"use strict";const o={};const c=/^(([A-Za-z0-9_/]+)-([A-Za-z0-9_/-]+)(~([A-Z0-9a-z=+/]+))?)?([?]([^&]|(&[^/]))*&?)?$/;o.getShellHash=function(e){const t=/[^#]*#(([^&]|&[^/])*)(&\/.*)?/;const n=t.exec(e);if(n){return n[1]}return undefined};o.getHash=function(e){const t=/#(.*)/;const n=t.exec(e);if(n){return n[1]}return undefined};o.isIntentUrl=function(e){return this._isIntentUrl(e,window.location.href)};o.isIntentUrlAsync=async function(e){const[t]=await s.requireAsync(["sap/ushell/Container"]);const n=await t.getFLPUrlAsync(true);return this._isIntentUrl(e,n)};o._isIntentUrl=function(t,n){const a=/^#/;if(typeof t!=="string"){return false}if(!a.test(t)){const a=new e(t).normalize();const r=`${a.protocol()}://${a.host()}${a.pathname()}`;const s=new e(n).normalize();const o=`${s.protocol()}://${s.host()}${s.pathname()}`;if(r!==o){return false}}const r=o.getHash(t);if(!r){return false}const s=o.parseShellHash(r);if(s&&s.semanticObject&&s.action){return true}return false};o.parseParameters=function(e){try{const t=new URLSearchParams(e);const n=t.keys();let a=n.next();const r={};while(a.done===false){r[decodeURIComponent(a.value)]=t.getAll(a.value);a=n.next()}return r}catch(n){t.error(`URL parsing - malformed URL parameters string: ${e}`,n);return{}}};function i(e,t,n){let a="";t=t||"&";n=n||"=";let r="";const s=[];for(const t in e){if(e.hasOwnProperty(t)){s.push(t)}}s.sort();for(let o=0;o<s.length;o=o+1){const c=s[o];if(Array.isArray(e[c])){for(let s=0;s<e[c].length;s=s+1){a+=r+encodeURIComponent(c)+n+encodeURIComponent(e[c][s]);r=t}}else{a+=r+encodeURIComponent(c)+n+encodeURIComponent(e[c]);r=t}}return a}o.paramsToString=function(e){return i(e)};o.removeParametersWithEmptyValue=function(e,t){if(!e){return}Object.keys(e).forEach(n=>{if(t.includes(n)&&e[n].length===1&&e[n][0]===""){delete e[n]}})};o.urlParametersToString=function(e,t,n){return i(e,t,n)};o.addParamsToUrl=function(t,n){const a=new e(t);Object.keys(n).forEach(e=>{a.addSearch(e,n[e])});return a.toString()};o.addShellParamsToURL=function(t,n){const a=new e(t);const r=a.hash();const s=a.toString().replace(r,"");const c=o.parseShellHash(r)||{};Object.assign(c.params,n.params);const i=`#${o.constructShellHash(c)}`;return s+i};o.parseShellHash=function(e){const t=c;if(!e){return undefined}const n=o.splitHash(e);const a=t.exec(n.shellPart);if(a){const e=a[2];const t=a[3];const r=a[5];const s=a[6];const c=o.parseParameters(s);return{semanticObject:e,action:t,contextRaw:r,params:c,appSpecificRoute:n.appSpecificRoute}}if(n.appSpecificRoute){return{semanticObject:undefined,action:undefined,contextRaw:undefined,params:{},appSpecificRoute:n.appSpecificRoute}}return undefined};o.privstripLeadingHash=function(e){if(e[0]==="#"){return e.substring(1)}return e};o.ensureLeadingHash=function(e){if(!e){e="#"}else if(e.charAt(0)!=="#"){e=`#${e}`}return e};o.getBasicHash=function(e){const t=this.parseShellHash(e);if(!t){return""}return`${t.semanticObject}-${t.action}`};o.splitHash=function(e){const t=/^(?:#|)([\S\s]*?)(&\/[\S\s]*)?$/;if(e===undefined||e===null||e===""){return{}}const n=t.exec(e);const a=n[1];if(a!==""&&!c.test(a)){return{}}const r=n[2];if(a||r){return{shellPart:a,appSpecificRoute:r}}return{}};function u(e,t){if(t){return e+t}return e}o.constructShellHash=function(e){let n;if(!e){return""}if(!e.target){e.target={};e.target.semanticObject=e.semanticObject;e.target.action=e.action;e.target.contextRaw=e.contextRaw}if(e.target.shellHash||e.target.shellHash===""){const t=o.privstripLeadingHash(e.target.shellHash);return u(t,e.appSpecificRoute)}if(e.target.semanticObject&&e.target.action){n=`${e.target.semanticObject}-${e.target.action.replace(/[?].*/,"")}`}else{return u("",e.appSpecificRoute)}if(e.target.contextRaw){n+=`~${e.target.contextRaw}`}let a="?";const r=[];for(const t in e.params){if(e.params.hasOwnProperty(t)){r.push(t)}}const s=e.params&&JSON.parse(JSON.stringify(e.params))||{};if(e.appStateKey){r.push("sap-xapp-state");s["sap-xapp-state"]=e.appStateKey}r.sort();for(let e=0;e<r.length;e=e+1){const o=r[e];if(Array.isArray(s[o])){if(s[o].length>1){t.error("Array startup parameters violate the designed intent of the Unified Shell Intent, use only single-valued parameters!")}for(let e=0;e<s[o].length;e=e+1){n+=`${a+encodeURIComponent(o)}=${encodeURIComponent(s[o][e])}`;a="&"}}else{n+=`${a+encodeURIComponent(o)}=${encodeURIComponent(s[o])}`;a="&"}}return u(n,e.appSpecificRoute)};o.compareHashes=function(e,t){const n=this.parseShellHash(e)||{};const a=this.parseShellHash(t)||{};return{sameIntent:this.haveSameIntent(n,a),sameParameters:this.haveSameIntentParameters(n,a),sameAppSpecificRoute:n.appSpecificRoute===a.appSpecificRoute}};o.haveSameIntent=function(e,t){e=e||{};t=t||{};return e.semanticObject===t.semanticObject&&e.action===t.action&&e.contextRaw===t.contextRaw};o.haveSameIntentParameters=function(e,t){e=e||{};t=t||{};const n=a({},e.params);const r=a({},t.params);return!this._parametersChanged(this._removeNonIntentParameters(n),this._removeNonIntentParameters(r))};o.getStableIntent=function(e){const t=this.parseShellHash(e)||{};const n=this._removeNonIntentParameters(t.params);const a=Object.keys(n).sort().reduce((e,t)=>{const a=n[t];a.sort();e[t]=a;return e},{});return this.constructShellHash({target:{semanticObject:t.semanticObject,action:t.action,contextRaw:t.contextRaw},params:a})};o._removeNonIntentParameters=function(e){const t=r.getParameters({isIntentParameter:false});let n;if(e){for(let a=0;a<t.length;a++){n=t[a];if(e[n.name]){delete e[n.name]}}}return e||{}};o._parametersChanged=function(e,t){return!n(e,t)};return o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/UrlShortening", ["sap/base/Log","sap/ushell/utils/UrlParsing"],(t,e)=>{"use strict";function a(){const a=this;this.ABBREV_PARAM_NAME="sap-intent-param";this.URL_LENGTH_LIMIT=1023;this.URL_PARAMS_LENGTH_LIMIT=512;this._replaceSapXAppStateRawWithKeyIfRequired=function(e,a){let r;if(typeof e!=="string"||/^[A-Z0-9]{40,41}$/.test(e)){return e}try{r=JSON.parse(e)}catch(a){t.error("This cannot happen: sap-xapp-state parameter value is neither key nor JSON parseable");return e}const s=a&&a.getNextKey();this._storeValue(s,r,a);return s};this.compactHash=function(r,s,n){let i;const c=[this.ABBREV_PARAM_NAME,"sap-system","sap-xapp-state"];if(s){s.forEach(t=>{c.push(t)})}const p=e.parseShellHash(r);if(!p){t.error(`the URL ${r} is not compliant. It may break the product and cause unwanted navigation behavior.`);return{hash:r}}i="";if(r.charAt(0)==="#"){i="#"}const o=p&&p.params&&p.params["sap-xapp-state"]&&p.params["sap-xapp-state"][0];if(o){p.params["sap-xapp-state"]=[this._replaceSapXAppStateRawWithKeyIfRequired(o,n)];r=i+e.constructShellHash({target:{semanticObject:p.semanticObject,action:p.action,contextRaw:p.contextRaw},params:p.params,appSpecificRoute:p.appSpecificRoute})}if(typeof r!=="string"||r.length<a.URL_LENGTH_LIMIT){return{hash:r}}if(p&&(p.params&&p.params[a.ABBREV_PARAM_NAME])){return{hash:r}}const h=n&&n.getNextKey();const u=this._splitParameters(p.params,c,h);if(!u.key){return{hash:r}}const l=e.paramsToString(u.tailParams);this._storeValue(u.key,l,n);return{hash:i+e.constructShellHash({target:{semanticObject:p.semanticObject,action:p.action,contextRaw:p.contextRaw},params:u.headParams,appSpecificRoute:p.appSpecificRoute}),params:u.headParams,skippedParams:u.tailParams}};this.checkHashLength=function(r){let s;if(typeof r!=="string"||r.length<a.URL_LENGTH_LIMIT){return{hash:r}}const n=e.parseShellHash(r);s="";if(r.charAt(0)==="#"){s="#"}const i=this._splitParameters(n.params,[],"DummyKey");if(i.key){t.error(`Application startup parameter length exceeds ${a.URL_PARAMS_LENGTH_LIMIT} characters, truncation occured!`);delete i.headParams[this.ABBREV_PARAM_NAME];return{hash:s+e.constructShellHash({target:{semanticObject:n.semanticObject,action:n.action,contextRaw:n.contextRaw},params:i.headParams,appSpecificRoute:n.appSpecificRoute}),params:i.headParams,skippedParams:i.tailParams}}t.error("URL exceeds dangerous limits, arbitrary shortening or worse may occur!");return{hash:r}};this._findIndex=function(t,e){let a=t.indexOf(e);if(a>=0){return a}a=-1;t.every((t,r)=>{if(t.length>0&&t[t.length-1]==="*"&&t.substring(0,t.length-1)===e.substring(0,t.length-1)){a=r;return false}return true});return a};this._cmpByList=function(t,e,a){t=t||[];if(e===a){return 0}const r=this._findIndex(t,e);const s=this._findIndex(t,a);if(r>=0&&s>=0){if(r-s!==0){return r-s}if(e<a){return-1}if(e>a){return+1}return 0}if(r>=0){return-1}if(s>=0){return+1}if(e<a){return-1}return+1};this._sortByPriority=function(t,e){return t.sort(this._cmpByList.bind(this,e))};this._splitParameters=function(e,a,r){let s;let n;let i;const c={};const p={};let o=false;let h;let u;let l=0;let f;let m=[];if(!r||typeof r!=="string"){throw new Error("sap.ushell.services.URLShortening._splitParameters: key must be supplied!")}for(s in e){if(Object.prototype.hasOwnProperty.call(e,s)){m.push(s)}}m.sort();m=this._sortByPriority(m,a);for(i=0;i<m.length;i=i+1){s=m[i];h=e[s];if(h.length>1){t.error("Array startup parameters violate the designed intent of the Unified Shell Intent, use only single-valued parameters!")}for(n=0;n<h.length;n=n+1){u=e[s][n];f=s.length+u.length;if(f+l>this.URL_PARAMS_LENGTH_LIMIT){if(p[s]){p[s].push(u)}else{p[s]=[u]}o=true}else if(c[s]){c[s].push(u)}else{c[s]=[u]}l=l+f+1}}if(o){c[this.ABBREV_PARAM_NAME]=[r]}return{key:r,tailParams:p,headParams:c}};this.expandHash=function(t){function e(t){return a._retrieveValue(t)}return this.expandParamGivenRetrievalFunction(t,this.ABBREV_PARAM_NAME,e)};this.expandParamGivenRetrievalFunction=function(t,a,r){let s;if(typeof t!=="string"){return t}const n=e.parseShellHash(t);const i=n&&n.params&&n.params[a]&&n.params[a][0];if(!i){return t}s="";if(t.charAt(0)==="#"){s="#"}const c=r(i);if(!c){return t}const p=this._blendParameters(n.params,a,c);return s+e.constructShellHash({target:{semanticObject:n.semanticObject,action:n.action,contextRaw:n.contextRaw},params:p,appSpecificRoute:n.appSpecificRoute})};this._retrieveValue=function(){return undefined};this._storeValue=function(t,e,a){if(a&&typeof a.store==="function"){a.store(e)}};this._blendParameters=function(t,a,r){const s=e.parseParameters(`?${r}`);let n;delete t[a];for(n in s){if(Object.prototype.hasOwnProperty.call(s,n)){if(t[n]){t[n]=t[n].concat(s[n])}else{t[n]=s[n]}}}return t}}const r=new a;return r},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/WindowUtils", ["sap/base/Log","sap/ui/util/isCrossOriginURL","sap/ushell/utils","sap/ushell/utils/UrlParsing"],(n,e,o,t)=>{"use strict";const r={};r.hasInvalidProtocol=function(n){const e=document.createElement("a");e.setAttribute("href",n);if(e.protocol==="javascript:"){return true}return false};r.isCrossOriginUrl=function(n){return e(n)};r.openURL=function(e,o,t,r){const i=r===undefined?true:r;const s=this.isCrossOriginUrl(e);t=t||"";if(i&&this.hasInvalidProtocol(e)){n.fatal("Tried to open a URL with an invalid protocol",null,"sap/ushell/utils/WindowUtils");throw new Error("Tried to open a URL with an invalid protocol")}if(s){if(t.toLowerCase().indexOf("noopener")===-1){if(t!==""){t+=","}t+="noopener"}if(t.toLowerCase().indexOf("noreferrer")===-1){t+=",noreferrer"}window.open(e,o,t);return true}return window.open(e,o,t)};r.getLeanURL=function(e,o){const t=e||o;if(this.hasInvalidProtocol(t)){n.fatal("Tried to construct a lean URL for input containing an invalid protocol",null,"sap/ushell/utils/WindowUtils");return""}if((t||"").charAt(0)!=="#"){return t}let r=window.location.search;if(!r){r="?sap-ushell-config=lean"}else if(r.indexOf("sap-ushell-config=")>=-1){r+="&sap-ushell-config=lean"}return window.location.origin+window.location.pathname+r+t};r._adjustQueryString=function(n,e,o){if((!e||e.length===0)&&(!o||o.length===0)){return n}const r=new URLSearchParams(n);const i=Array.from(r.keys()).reduce((n,e)=>{n[e]=r.getAll(e);return n},{});if(e&&e.length>0){e.forEach(n=>{const e=Object.keys(n)[0];if(e){i[e]=n[e]}})}if(o&&o.length>0){o.forEach(n=>{delete i[n]})}const s=t.urlParametersToString(i);return s!==""?`?${s}`:""};r.refreshBrowser=function(n,e){const t=o.getLocationHref();const i=o.getLocationSearch();const s=r._adjustQueryString(i,n,e);if(i===s){o.windowLocationReload()}else{const n=t.replace(i,s);o.windowLocationAssign(n)}};r.clearSapUserContextCookie=function(){window.document.cookie="sap-usercontext=;Path=/;Max-Age=-1"};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/chipsUtils", ["sap/base/Log","sap/base/util/ObjectPath","sap/ushell/Container"],(t,e,i)=>{"use strict";const n="X-SAP-UI2-CHIP:/UI2/DYNAMIC_APPLAUNCHER";const r="X-SAP-UI2-CHIP:/UI2/STATIC_APPLAUNCHER";const o={};o.getCatalogTilePreviewTitle=function(t){const e=o.getBagText(t,"tileProperties","display_title_text");return e||!t.isStub()&&t.getContract("preview")&&t.getContract("preview").getPreviewTitle()||undefined};o.getCatalogTilePreviewSubtitle=function(t){const e=o.getBagText(t,"tileProperties","display_subtitle_text");return e||!t.isStub()&&t.getContract("preview")&&t.getContract("preview").getPreviewSubtitle()||undefined};o.getCatalogTilePreviewIcon=function(t){const e=o._getConfigurationProperty(t,"tileConfiguration","display_icon_url");return e||!t.isStub()&&t.getContract("preview")&&t.getContract("preview").getPreviewIcon()||undefined};o.getCatalogTileTargetURL=function(t){const e=o._getConfigurationProperty(t,"tileConfiguration","navigation_target_url");return e||!t.isStub()&&t.getContract("preview")&&t.getContract("preview").getTargetUrl()||undefined};o.getCatalogTileNumberUnit=function(t){return o._getConfigurationProperty(t,"tileConfiguration","display_number_unit")};o.getCatalogTilePreviewInfo=function(t){return o.getBagText(t.getChip(),"tileProperties","display_info_text")};o.getCatalogTileSize=function(t){return o.getTileSize(t)};o.getCatalogTilePreviewIndicatorDataSource=function(t){let e;const i=o._getAppLauncherTileConfiguration(t);if(o._isAppLauncher(t)&&i&&i.service_url){e={path:i.service_url,refresh:i.service_refresh_interval}}return e};o._getConfigurationProperty=function(t,e,i){let n;let r;try{n=t.getConfigurationParameter(e);r=JSON.parse(n)}catch{return}if(r[i]!==undefined){return r[i]}};o.getBagText=function(t,e,i){if(t.getBagIds().indexOf(e)>-1&&t.getBag(e).getTextNames().indexOf(i)>-1){return t.getBag(e).getText(i)}};o.getTileSize=function(t){const e=!t.isStub()&&t.getConfigurationParameter("row")||"1";const i=!t.isStub()&&t.getConfigurationParameter("col")||"1";return`${e}x${i}`};o._getAppLauncherTileConfiguration=function(e){let i;const n=e.getConfigurationParameter("tileConfiguration");try{i=JSON.parse(n||"{}")}catch(i){t.error(`Tile with ID '${e.getId()}' has a corrupt configuration containing a 'tileConfiguration' value '${n}' which could not be parsed. If present, a (stringified) JSON is expected as value.`,i,"sap.ushell_abap.adapters.abap.LaunchPageAdapter");return{}}return i};o._isAppLauncher=function(t){const e=t.getChip().getBaseChipId();return e===n||e===r};o.getTileConfigurationFromSimplifiedChip=function(t){let e;try{e=JSON.parse(t.configuration.tileConfiguration)}catch(t){e={}}return e};o.getTargetUrlFromSimplifiedChip=function(t,e){const i=this.getCustomTileTargetFromSimplified(t);if(i){return`#${e.constructShellHash(i)}`}const n=this.getTileConfigurationFromSimplifiedChip(t);return n.navigation_target_url};o.getIndicatorDataSourceFromSimplifiedChip=function(t){const e=this.getTileConfigurationFromSimplifiedChip(t);const i=e.service_url;if(!i){return undefined}return{path:i,refresh:e.service_refresh_interval}};o.getTileSizeFromSimplifiedChip=function(t){const e=t.configuration;const i=e.row||1;const n=e.col||1;return`${i}x${n}`};o.getNumberUnitFromSimplifiedChip=function(t){const e=this.getTileConfigurationFromSimplifiedChip(t);return e.display_number_unit};o.getInfoFromSimplifiedChip=function(t){const e=t.bags.tileProperties;return e&&e.texts.display_info_text};o.getKeywordsFromSimplifiedChip=function(t){const e=t.bags.tileProperties;const i=e&&e.texts.display_search_keywords;if(i){return i.trim().split(/\s*,\s*/g)}return[]};o.isCustomTileFromSimplifiedChip=function(t){const e=t.chipId;return e!==n&&e!==r};o.loadChipInstanceFromSimplifiedChip=function(t){const e=t.bags;const n={chipId:t.chipId,configuration:t.configuration?JSON.stringify(t.configuration):"{}"};return i.getServiceAsync("PageBuilding").then(t=>{const i=t.getFactory();const r=i.createChipInstance(n);this.addBagDataToChipInstance(r,e);return new Promise((t,e)=>{r.load(t,t=>{e(new Error(t))})}).then(()=>r)})};o.addBagDataToChipInstance=function(e,i){if(!i){return}let n;for(const r in i){const o=i[r];const a=e.getBag(r);try{for(n in o.properties){a.setProperty(n,o.properties[n])}for(n in o.texts){a.setText(n,o.texts[n])}}catch(e){t.error("chipsUtils.addBagDataToChipInstance:",e)}}};o.getCustomTileTargetFromSimplified=function(t){if(t.chipId==="X-SAP-UI2-CHIP:/UI2/AR_SRVC_NEWS"){return{target:{semanticObject:"NewsFeed",action:"displayNewsList"}}}const e=JSON.parse(t.configuration.tileConfiguration||"{}");const i=JSON.parse(e.TILE_PROPERTIES||"{}");if(i.semanticObject&&i.semanticAction){return{target:{semanticObject:i.semanticObject,action:i.semanticAction},params:{EvaluationId:[i.evaluationId]}}}return null};return o},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/objectOperations", [],()=>{"use strict";const e={};e.getMember=function(e,r){const t=r.split(".");let n=e;if(!e){return undefined}t.forEach(e=>{if(typeof n!=="object"){return undefined}n=n[e.replace(/[|]/g,".")]});return n};e.updateProperties=function(e,r){Object.keys(e).forEach(t=>{if(r.hasOwnProperty(t)){e[t]=r[t]}})};e.getNestedObjectProperty=function(e,r,t){const n="Missing or invalid parameter";if(!e||!Array.isArray(e)||e.length===0||!r){throw new Error(n)}if(Array.isArray(r)&&r.length!==e.length){throw new Error(n)}let i=r;if(!Array.isArray(r)){i=Array.apply(null,Array(e.length)).map(()=>r)}const a=e.reduce((e,r,t)=>{if(e!==undefined){return e}return this.getMember(r,i[t])},undefined);return a!==undefined?a:t};return e},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/tilecard/TileCard", ["sap/base/Log"],e=>{"use strict";const a="sap.ushell.StaticAppLauncher";const t="sap.ushell.DynamicAppLauncher";const i="module:sap/ushell/utils/tilecard/TileCardExtension";const r=e.getLogger("sap.ushell.utils.tilecard.TileCard");const n={_version:"1.41.0","sap.app":{id:"sap.ushell.utils.tilecard.Error",type:"card",applicationVersion:{version:"1.123.0"},i18n:{bundleName:"sap.ushell.utils.tilecard.resources/resources"}},"sap.card":{type:"List",header:{title:"{{TileCard.Widget.NotAvailable}}",icon:{src:"sap-icon://sys-cancel"}}}};function s(e){const a=e.target;if(!a){return[]}if(a.semanticObject&&a.action){return[{type:"Navigation",parameters:{ibnTarget:{semanticObject:a.semanticObject,action:a.action},ibnParams:a.mParameters}}]}else if(a.type&&a.type==="URL"){return[{type:"Navigation",parameters:{url:a.url}}]}else if(e.targetURL){return[{type:"Navigation",parameters:{url:e.targetURL}}]}return[]}function l(e,a){const t={type:"Numeric",title:a.title||"",titleMaxLines:a.subtitle?2:3,subTitle:a.subtitle||"",subTitleMaxLines:1,wrappingType:"Hyphenated",icon:{src:a.icon||"",shape:"Square",visible:!!a.icon},actions:s(a),details:{text:a.info||"",state:"None"},banner:a.displayProviderLabel?[{text:a.contentProviderLabel}]:[]};if(e){const e=a.indicatorDataSource;t.data={updateInterval:e&&e.refreshInterval?e.refreshInterval:0,path:"/",request:{method:"GET",url:"{parameters>/dataPath/value}",withCredentials:true,retryAfter:1}};t.icon.src=`{= \${/_data/icon} || '${a.icon||""}'}`;t.icon.visible="{= !!${/_data/icon}}";t.unitOfMeasurement=`{= \${/numberUnit} || '${a.numberUnit||""}'}`;t.mainIndicator={number:"{/_data/number}",unit:"{/_data/unit}",trend:"{/_data/trend}",state:"{/_data/state}"};t.details={text:`{= \${/_data/details/text} || '${a.info||" "}'}`,state:"{= ${/_data/details/state} || 'None'}"}}return t}function d(e){const a=e.indicatorDataSource;if(!a){return""}let t=a.url;if(a.dataSource&&e.dataSource&&e.dataSource.uri){if(!e.dataSource.uri.endsWith("/")){e.dataSource.uri=`${e.dataSource.uri}/`}t=e.dataSource.uri+a.path;t=t.replaceAll("//","/")}return t||"/"}function o(e,a){return{_version:"1.41.0","sap.app":{id:a.id,type:"card",tags:{keywords:a.keywords},i18n:{bundleName:"sap.ushell.utils.tilecard.resources/resources"}},"sap.ui":a.vizConfig["sap.ui"]||{},"sap.flp":a.vizConfig["sap.flp"]||{},"sap.fiori":a.vizConfig["sap.fiori"]||{},"sap.card":{extension:e?i:"",header:l(e,a),type:"List",configuration:{parameters:{dataPath:{value:d(a)}}}}}}function u(e){if(e.vizType===t||e.vizType===a){return o(e.vizType===t,e)}return null}function c(e){switch(e){case"flat":return"TileFlat";case"standardWide":return"TileStandardWide";case"flatWide":return"TileFlatWide";case"compact":return"LinkHeader";default:return"TileStandard"}}function p(e){if(!Array.isArray(e.supportedDisplayFormats)||e.supportedDisplayFormats.length===0){return["TileStandard"]}const a=e.supportedDisplayFormats||["flat","standard","standardWide","flatWide","compact"];return a.map(e=>c(e))}function f(e){let a;try{a={descriptor:{value:u(e)},displayVariant:c(e.displayFormatHint||"standard"),availableDisplayVariants:p(e),error:false};if(!a.descriptor.value){throw new Error("No custom tile and no descriptor value")}r.debug("TileCard was initialized.",JSON.stringify(e))}catch(t){r.debug("TileCard cannot be initialized.",JSON.stringify(e));r.info("TileCard initialization failed",t);a={descriptor:{value:n},displayVariant:c(e.displayFormatHint||"standard"),availableDisplayVariants:p(["TileStandard","TileFlat","TileFlatWide","TileStandardWide"]),error:true}}return a}return{createTileCardConfiguration:f}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/tilecard/TileCardExtension", ["sap/ui/core/Core","sap/ui/integration/Extension","sap/ushell/utils/DynamicTileRequest","sap/ui/core/format/NumberFormat","sap/base/Log","sap/m/library","sap/ui/core/library"],(t,e,r,i,a,s,n)=>{"use strict";const u=e.extend("sap.ushell.utils.workpage.TileCardExtension");u._DynamicTileRequest=r;u._DynamicTileRequestTimeout=3e4;const o=a.getLogger("sap.ushell.utils.tilecard.TileCardExtension");const l=s.ValueColor;const m=n.ValueState;const c={Positive:"Positive",Negative:"Negative",Critical:"Critical"};const f=[{factor:1e6,value:"M"},{factor:1e3,value:"k"}];function b(t){if(t===c.Positive){return m.Success}else if(t===c.Negative){return m.Error}else if(t===c.Critical){return m.Warning}return m[t]||m.None}function d(t){if(t===c.Positive){return l.Good}else if(t===c.Negative){return l.Error}return l[t]||l.None}function h(t,e){if(t.info){return t.info}if(t.number==="#"){return e}return""}function p(t){if(!t.hasOwnProperty("number")||t.number==="..."||t.number==="#"){return l.None}return d(t.numberState)}function _(t){if(!t.hasOwnProperty("number")){t.number="..."}if(typeof t.number==="string"&&t.number!=="..."){t.number=parseFloat(t.number);if(isNaN(t.number)){t.number="#"}}if(!isNaN(t.number)){if(!t.hasOwnProperty("numberFactor")){t._data.unit="";if(t.number>=1e3){const e=f.find(e=>t.number/e.factor>=1&&t.number/(e.factor*1e3)<1);t._data.unit=e.value;t.number=t.number/e.factor}}else{t._data.unit=t.numberFactor}if(!t.hasOwnProperty("numberDigits")&&t._data.unit){t.numberDigits=2}const e=i.getFloatInstance({minFractionDigits:Math.min(t.numberDigits,3),maxFractionDigits:Math.min(t.numberDigits,3)});t.number=e.format(t.number)}return t.number}function g(t,e){if(!isNaN(t)){t={number:t}}if(Array.isArray(t.results)){t.targetParams=t.targetParams||[];t.number=t.results.reduce((e,r)=>{if(r.targetParams){t.targetParams.push(r.targetParams)}return e+(parseFloat(r.number)||0)},0)}t._data={};t._data.number=_(t);t._data.details={};t._data.details.text=h(t,e);t._data.details.state=b(t.infoState);t._data.state=p(t);t._data.trend=t.stateArrow||null;t._data.icon=t.icon||null;t._data.title=t.title||null;t._data.subtitle=t.subtitle||null;if(Array.isArray(t._data.targetParams)){t._data.targetParams=t.targetParams.join("&")}return t}u.prototype.onCardReady=function(){this.bFirstRequest=true;this._oCurrentDataRequest=null;this._oCurrentDataRequestSendTS=0;this._sErrorText=this.getCard().getTranslatedText("TileCard.Data.Error");this._sTimeoutText=this.getCard().getTranslatedText("TileCard.Data.Timeout");this._oErrorResponse=g({number:"...",info:this._sErrorText},this._sErrorText);this._oTimeoutResponse=g({number:"...",info:this._sTimeoutText},this._sErrorText)};u.prototype.fetch=function(t){if(t.startsWith("/.")){t=t.substring(1)}if(!this.bFirstRequest&&Date.now()-this._oCurrentDataRequestSendTS<2e3){return this._oCurrentDataRequest}this._oCurrentDataRequestSendTS=Date.now();this._oCurrentDataRequest=this._fetchTileCardData(t);if(this.bFirstRequest){this.bFirstRequest=false;return Promise.resolve(new Response(new Blob(['number: "..."'],{type:"application/json"}),{status:429}))}return this._oCurrentDataRequest};u.prototype._fetchTileCardData=function(e){let r=false;const i=this._sErrorText;return new Promise(t=>{setTimeout(()=>{r=true;t(this._oTimeoutResponse)},u._DynamicTileRequestTimeout);setTimeout(()=>{try{new u._DynamicTileRequest(e,a=>{o.debug("Dynamic tileCard request successful.",e);if(!r){t(g(a,i))}},function(){o.info("Dynamic tileCard request failed.",e);if(!r){t(this._oErrorResponse)}})}catch(e){o.error("Dynamic tileCard normalization failed.",e);if(!r){t(this._oErrorResponse)}}},1)}).then(e=>{const r=t.byId(this.getCard().getDomRef().id).getCardHeader();if(e.title){r.setTitle(e.title)}if(e.subtitle){r.setSubtitle(e.subtitle)}return new Response(new Blob([JSON.stringify(e)],{type:"application/json"}),{status:200})}).catch(t=>new Response(new Blob(["{}"],{type:"application/json"}),{status:200}))};return u});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/type", [],()=>{"use strict";function t(t){return Object.prototype.toString.apply(t)==="[object Array]"}function e(t){return Object.prototype.toString.apply(t)==="[object Object]"}function n(t){return typeof t!=="undefined"}return{isArray:t,isPlainObject:e,isDefined:n}},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/utilsCdm", ["sap/base/Log","sap/base/util/deepExtend","sap/base/util/ObjectPath","sap/ushell/utils/objectOperations","sap/ushell/utils/UrlParsing"],(e,t,a,i,s)=>{"use strict";function o(e,t){return i.getMember(e,t)}function n(e,a,i){a=t({},a);i=t({},i);const s={};s.semanticObject=a.semanticObject;s.action=a.action;s.title=a.title||o(i,"sap|app.title");s.info=a.info||o(i,"sap|app.info");s.icon=a.icon||o(i,"sap|ui.icons.icon");s.subTitle=a.subTitle||o(i,"sap|app.subTitle");s.shortTitle=a.shortTitle||o(i,"sap|app.shortTitle");let n;let p;let r;let l;let u;let c;let f=false;const m=o(i,"sap|platform|runtime");s.resolutionResult=t({},m);if(m){s.resolutionResult["sap.platform.runtime"]=t({},m)}if(o(i,"sap|ui.technology")==="GUI"){s.resolutionResult["sap.gui"]=o(i,"sap|gui")}if(o(i,"sap|ui.technology")==="WDA"){s.resolutionResult["sap.wda"]=o(i,"sap|wda")}if(o(i,"sap|ui.technology")==="URL"){if(i["sap.url"]){s.resolutionResult["sap.platform.runtime"]=s.resolutionResult["sap.platform.runtime"]||{};s.resolutionResult.url=i["sap.url"].uri;s.resolutionResult["sap.platform.runtime"].url=i["sap.url"].uri}else if(m&&m.uri){s.resolutionResult["sap.platform.runtime"].url=m.uri;s.resolutionResult.url=m.uri}}if(!s.resolutionResult["sap.ui"]){s.resolutionResult["sap.ui"]={}}s.resolutionResult["sap.ui"].technology=o(i,"sap|ui.technology");s.resolutionResult.applicationType=this._formatApplicationType(s.resolutionResult,i);s.resolutionResult.systemAlias=s.resolutionResult.systemAlias||a.systemAlias;s.resolutionResult.systemAliasSemantics="apply";s.resolutionResult.text=s.title;s.deviceTypes=o(i,"sap|ui.deviceTypes")||{};s.resolutionResult.appId=o(i,"sap|app.id");["desktop","tablet","phone"].forEach(e=>{if(Object.prototype.hasOwnProperty.call(a.deviceTypes||{},e)){s.deviceTypes[e]=a.deviceTypes[e]}if(!Object.prototype.hasOwnProperty.call(s.deviceTypes,e)){s.deviceTypes[e]=true}s.deviceTypes[e]=!!s.deviceTypes[e]});s.signature=a.signature||{};s.signature.parameters=s.signature.parameters||{};s.signature.additionalParameters=(a.signature||{}).additionalParameters||"allowed";const d=a.indicatorDataSource||o(i,`sap|app.crossNavigation.inbounds.${e}.indicatorDataSource`);let y=d?"#Shell-dynamicTile":"#Shell-staticTile";if(o(i,"sap|app.type")==="tile"||o(i,"sap|flp.type")==="tile"){y=s.resolutionResult;y.url=o(i,"sap|platform|runtime.componentProperties.url");y.componentName=o(i,"sap|ui5.componentName");if(o(i,"sap|platform|runtime.includeManifest")){y.componentProperties=y.componentProperties||{};y.componentProperties.manifest=t({},i);delete y.componentProperties.manifest["sap.platform.runtime"]}l=o(i,"sap|app.crossNavigation.outbounds.target");f=true}if(o(i,"sap|app.type")==="plugin"||o(i,"sap|flp.type")==="plugin"){return undefined}if(o(i,"sap|flp.tileSize")){n=o(i,"sap|flp.tileSize")}if(o(i,"sap|app.description")){p=o(i,"sap|app.description")}if(o(i,"sap|ui.technology")==="GUI"&&o(i,"sap|gui.transaction")){r=o(i,"sap|gui.transaction")}if(o(i,"sap|ui.technology")==="WDA"&&o(i,"sap|wda.applicationId")){r=o(i,"sap|wda.applicationId")}if(o(i,"sap|app.dataSources")){u=o(i,"sap|app.dataSources")}if(o(i,"sap|app.id")){c=o(i,"sap|app.id")}s.tileResolutionResult={appId:c,title:s.title,subTitle:s.subTitle,icon:s.icon,size:n,info:s.info,tileComponentLoadInfo:y,indicatorDataSource:d,dataSources:u,description:p,runtimeInformation:m,technicalInformation:r,deviceTypes:s.deviceTypes};s.tileResolutionResult.isCustomTile=f;if(l){s.tileResolutionResult.targetOutbound=l}return s}function p(e,t){const a=e.applicationType;if(a){return a}const i=o(t,"sap|platform|runtime.componentProperties.name")||o(t,"sap|ui5.componentName");if(o(t,"sap|flp.appType")==="UI5"||o(t,"sap|ui.technology")==="UI5"){e.applicationType="SAPUI5";e.additionalInformation=`SAPUI5.Component=${i}`;e.url=o(t,"sap|platform|runtime.componentProperties.url");e.applicationDependencies=o(t,"sap|platform|runtime.componentProperties");return"SAPUI5"}if(o(t,"sap|ui.technology")==="GUI"){e.applicationType="TR";e["sap.gui"]=o(t,"sap|gui");e.systemAlias=o(t,"sap|app.destination.name");return"TR"}if(o(t,"sap|ui.technology")==="WDA"){e.applicationType="WDA";e["sap.wda"]=o(t,"sap|wda");e.systemAlias=o(t,"sap|app.destination.name");return"WDA"}if(o(t,"sap|ui.technology")==="URL"){e.applicationType="URL";e.systemAlias=o(t,"sap|app.destination.name")}return"URL"}function r(t){if(!t){return[]}const a=[];try{const i=Object.keys(t.applications||{}).sort();i.forEach(i=>{try{const e=t.applications[i];const s=o(e,"sap|app.crossNavigation.inbounds");if(s){const t=Object.keys(s).sort();t.forEach(t=>{const i=s[t];const o=this.mapOne(t,i,e);if(o){a.push(o)}})}}catch(t){e.error(`Error in application ${i}:`,t)}})}catch(t){e.error("formatSite failed:",t);return[]}return a}function l(e){const t={target:{semanticObject:e.semanticObject,action:e.action},params:{}};const i=a.get("signature.parameters",e)||{};Object.keys(i).forEach(e=>{if(i[e].filter&&Object.prototype.hasOwnProperty.call(i[e].filter,"value")&&(i[e].filter.format===undefined||i[e].filter.format==="plain")){t.params[e]=[i[e].filter.value]}if(i[e].launcherValue&&Object.prototype.hasOwnProperty.call(i[e].launcherValue,"value")&&(i[e].launcherValue.format===undefined||i[e].launcherValue.format==="plain")){t.params[e]=[i[e].launcherValue.value]}});const o=s.constructShellHash(t);if(!o){return undefined}return o}function u(e){const t={target:{semanticObject:e.semanticObject,action:e.action},params:{}};const a=e.parameters||{};Object.keys(a).forEach(e=>{if(a.hasOwnProperty(e)&&typeof a[e].value==="object"){t.params[e]=[a[e].value.value]}});const i=s.constructShellHash(t);if(!i){return undefined}return i}return{formatSite:r,toHashFromInbound:l,toHashFromOutbound:u,mapOne:n,_formatApplicationType:p}},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/workpage/DestinationResolver", ["./WorkPageService","sap/ushell/Config","sap/ushell/utils/LaunchpadError"],(e,t,r)=>{"use strict";const i={NO_DESTINATION_FOUND:"NO_DESTINATION_FOUND",COULD_NOT_RETRIEVE_DESTINATIONS:"COULD_NOT_RETRIEVE_DESTINATIONS",NO_CARD_OR_DESTINATION_NAME:"NO_CARD_OR_DESTINATION_NAME",RESOLVED_URL_EMPTY:"RESOLVED_URL_EMPTY"};class s{#e;#t=new Map;constructor(){const e=new URLSearchParams(window.location.search);this._sSiteId=e.get("siteId")||t.last("/core/site/siteId");this.fetchData()}_getContentProviderDestinationMappings(){if(!this._providerPromise){this._providerPromise=new Promise((e,t)=>{this.fetchData().then(t=>{t.forEach(e=>{const t=new Map;e.logicalDataDestinationMappings.forEach(e=>{t.set(e.logicalDestinationName,e.resolvedUrl)});this.#t.set(e.id,t)});return e(this.#t)}).catch(e=>{t(e)})})}return this._providerPromise}async fetchData(){if(!this._dataPromise){try{this._dataPromise=new Promise(async(t,i)=>{this.#e=await new e;try{const e=await this.#e.loadSiteAndDataDestinationMappings();const n=e?.data?.site?.providers?.nodes;if(n&&Object.keys(n[0]).length){return t(n)}return i(new r("Failed to fetch destinations",{reason:s.ERROR_CODES.COULD_NOT_RETRIEVE_DESTINATIONS}))}catch(e){return i(new r("Failed to fetch destinations",{reason:s.ERROR_CODES.COULD_NOT_RETRIEVE_DESTINATIONS},e))}})}catch(e){throw new Error("DestinationResolver: Failed to Initialize the WorkPageService",e)}}return this._dataPromise}resolveCardDestination(e,t){return new Promise((n,a)=>{if(!e||!t){return a(new r("Could not resolver card destination",{reason:i.NO_CARD_OR_DESTINATION_NAME}))}this._getContentProviderDestinationMappings().then(o=>{const _=o.get(t.getReferenceId())?.get(e);if(_){return n(_)}else if(_===""){return a(new r("Could not resolver card destination",{reason:i.RESOLVED_URL_EMPTY}))}return a(new r("Could not resolver card destination",{reason:s.ERROR_CODES.NO_DESTINATION_FOUND}))}).catch(t=>{if(!this._sSiteId){return n(`${location.origin}/dynamic_dest/${e}`)}a(t)})})}}s.ERROR_CODES=i;return s},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/workpage/WorkPageHost", ["sap/base/Log","sap/ui/integration/Host","sap/ui/model/json/JSONModel","sap/ushell/Container","sap/ushell/EventHub","sap/ui/model/resource/ResourceModel","./DestinationResolver","sap/m/IllustratedMessageType","sap/m/IllustratedMessageSize"],(e,t,r,o,n,a,s,i,l)=>{"use strict";return function(e,c){const g=new t(e,c);g._oHostContext=null;g._oHostContextModel=null;g._destinationResolver=new s;g._mUnresolvedDestinations=new WeakMap;g.setResolveDestination(async(e,t)=>{if(!e||!t){throw new Error("No destination name or card instance given.")}return g._destinationResolver.resolveCardDestination(e,t).catch(r=>{const o=r.details?.reason;g._mUnresolvedDestinations.set(t,{error:o,destinationName:e})})});g.attachCardStateChanged(async e=>{const t=e.getParameter("card");const r=t.getBlockingMessage();if(r?.type==="Error"&&g._mUnresolvedDestinations.has(t)){r.illustrationType=i.UnableToLoad;r.illustrationSize=l.ExtraSmall;const e=await g._getBundle();switch(g._mUnresolvedDestinations.get(t)?.error){case s.ERROR_CODES.NO_DESTINATION_FOUND:r.title=e.getText("WorkPage.Host.DestinationResolver.Error.NoDestinationFound.Title",[g._mUnresolvedDestinations.get(t)?.destinationName||""]);r.description=e.getText("WorkPage.Host.DestinationResolver.Error.NoDestinationFound.Description",[t.getReferenceId()]);break;case s.ERROR_CODES.COULD_NOT_RETRIEVE_DESTINATIONS:r.title=e.getText("WorkPage.Host.DestinationResolver.Error.CouldNotRetrieveDestinations.Title",[g._mUnresolvedDestinations.get(t)?.destinationName]);r.description=e.getText("WorkPage.Host.DestinationResolver.Error.CouldNotRetrieveDestinations.Description");break;case s.ERROR_CODES.NO_CARD_OR_DESTINATION_NAME:r.title=e.getText("WorkPage.Host.DestinationResolver.Error.NoCardOrDestinationName.Title");r.description=e.getText("WorkPage.Host.DestinationResolver.Error.NoCardOrDestinationName.Description");break;case s.ERROR_CODES.RESOLVED_URL_EMPTY:r.title=e.getText("WorkPage.Host.DestinationResolver.Error.ResolvedUrlEmpty.Title",[g._mUnresolvedDestinations.get(t)?.destinationName]);r.description=e.getText("WorkPage.Host.DestinationResolver.Error.ResolvedUrlEmpty.Description",[t.getReferenceId()]);break;default:r.title=e.getText("WorkPage.Host.DestinationResolver.Error.Generic.Title",[g._mUnresolvedDestinations.get(t)?.destinationName]);r.description=e.getText("WorkPage.Host.DestinationResolver.Error.Generic.Description",[g._mUnresolvedDestinations.get(t)?.error])}t.showBlockingMessage(r);g._mUnresolvedDestinations.delete(t)}});g.attachCardInitialized(e=>{const t=e.getParameter("card");if(t&&t.isA&&t.isA("sap.ui.integration.widgets.Card")){n.emit("UITracer.trace",{source:"Card",reason:"Init",data:{cardId:t.getManifestEntry("/sap.app/id"),providerId:t.getReferenceId()}})}});g._setContainer=function(e){this.oContainer=e};g._setNavigationDisabled=function(e){this._bNavigationDisabled=!!e};g._executeNavigation=function(e){const t=e.getParameter("parameters");const r=e.getParameter("card");if(e.getParameter("type")!=="Navigation"||this._bNavigationDisabled){return Promise.resolve()}if(t&&t.hasOwnProperty("url")){n.emit("UITracer.trace",{reason:"LaunchApp",source:"Card",data:{cardId:r.getManifestEntry("/sap.app/id"),providerId:r.getReferenceId(),targetUrl:t.url}});return Promise.resolve()}e.preventDefault(true);return this.oContainer.getServiceAsync("Navigation").then(e=>{const o={};if(t.hasOwnProperty("ibnTarget")){o.target=t.ibnTarget}if(t.hasOwnProperty("ibnParams")){o.params=t.ibnParams}if(t.hasOwnProperty("ibnAppSpecificRoute")){o.appSpecificRoute=t.ibnAppSpecificRoute}n.emit("UITracer.trace",{reason:"LaunchApp",source:"Card",data:{cardId:r.getManifestEntry("/sap.app/id"),providerId:r.getReferenceId(),targetUrl:`#${o.target.semanticObject}-${o.target.action}`}});return e.navigate(o)})};g.attachAction(g._executeNavigation.bind(g));g.fetch=function(e,r,o,a){if(a&&a.isA&&a.isA("sap.ui.integration.widgets.Card")){return t.prototype.fetch.apply(this,arguments).then(t=>{n.emit("UITracer.trace",{source:"Card",reason:"FetchData",data:{cardId:a.getManifestEntry("/sap.app/id"),providerId:a.getReferenceId(),targetUrl:e,status:t.status}});return t})}return t.prototype.fetch.apply(this,arguments)};g.getContextValue=async function(e){if(!e){throw new Error("Invalid context path")}if(e.charAt(0)==="/"){return g.getContextValue(e.substring(1))}return g.getContext().then(()=>g._oHostContextModel.getProperty(`/${e}/value`))};g.getContext=async function(){if(!g._oHostContext){try{const e=await o.getServiceAsync("UserInfo");try{const t=await g._getBundle();g._oHostContext=g._applyHostContext(e,t)}catch(t){g._oHostContext=g._applyHostContext(e)}}catch(e){g._oHostContext={}}}return Promise.resolve(g._oHostContext)};g._getBundle=function(){if(!this._oResourceBundle){this._oResourceBundle=new a({bundleName:"sap.ushell.utils.workpage.resources.resources",async:true}).getResourceBundle()}return this._oResourceBundle};g._applyHostContext=function(e,t){if(!t){t={getText:function(e){return e}}}g._oHostContext={"sap.workzone":{label:t.getText("WorkPage.Host.Context.WorkZone.Label"),currentUser:{label:t.getText("WorkPage.Host.Context.WorkZone.CurrentUser.Label"),id:{label:t.getText("WorkPage.Host.Context.WorkZone.CurrentUser.Id.Label"),type:"string",tags:["technical"],placeholder:t.getText("WorkPage.Host.Context.WorkZone.CurrentUser.Id.Placeholder"),description:t.getText("WorkPage.Host.Context.WorkZone.CurrentUser.Id.Desc"),value:e.getId()},name:{label:t.getText("WorkPage.Host.Context.WorkZone.CurrentUser.Name.Label"),type:"string",placeholder:t.getText("WorkPage.Host.Context.WorkZone.CurrentUser.Name.Placeholder"),description:t.getText("WorkPage.Host.Context.WorkZone.CurrentUser.Name.Desc"),value:e.getFullName()},firstName:{label:t.getText("WorkPage.Host.Context.WorkZone.CurrentUser.FirstName.Label"),type:"string",placeholder:t.getText("WorkPage.Host.Context.WorkZone.CurrentUser.FirstName.Placeholder"),description:t.getText("WorkPage.Host.Context.WorkZone.CurrentUser.FirstName.Desc"),value:e.getFirstName()},lastName:{label:t.getText("WorkPage.Host.Context.WorkZone.CurrentUser.LastName.Label"),type:"string",placeholder:t.getText("WorkPage.Host.Context.WorkZone.CurrentUser.LastName.Placeholder"),description:t.getText("WorkPage.Host.Context.WorkZone.CurrentUser.LastName.Desc"),value:e.getLastName()},email:{label:t.getText("WorkPage.Host.Context.WorkZone.CurrentUser.Email.Label"),type:"string",placeholder:t.getText("WorkPage.Host.Context.WorkZone.CurrentUser.Email.Placeholder"),description:t.getText("WorkPage.Host.Context.WorkZone.CurrentUser.Email.Desc"),value:e.getEmail()}}}};g._oHostContextModel=new r(g._oHostContext);return g._oHostContext};return g}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/workpage/WorkPageService", ["sap/base/i18n/Localization","sap/ushell/utils/HttpClient","sap/base/util/ObjectPath","sap/ushell/Config","sap/base/Log","sap/ushell/Container","sap/base/util/deepExtend","sap/ushell/adapters/cdm/v3/utilsCdm","sap/ushell/adapters/cdm/v3/_LaunchPage/readUtils","sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations","sap/ushell/utils","sap/base/util/uid"],(e,t,n,a,s,i,r,o,p,c,u,l)=>{"use strict";function d(){this.httpClient=new t;this._sBaseUrl=a.last("/core/workPages/contentApiUrl");const e=new URLSearchParams(window.location.search);this._sSiteId=e.get("siteId")||a.last("/core/site/siteId")}d.prototype._validateData=async function(e){s.debug("cep/editMode: load Page: validate","Work Page service");if(e.errors&&e.errors.length>0){const t=e.errors.map(e=>e.message).join(",\n");throw new Error(t)}if(!n.get("data.workPage",e)){s.debug("cep/editMode: load Page: validate: reject: data is empty","Work Page service");throw new Error("Work Page data is empty")}return e};d.prototype.loadWorkPageAndVisualizations=async function(e,t){let n;let s;do{const i=a.last("/core/shell/intentNavigation");const r=this._createWorkPageQuery(this._sSiteId,e,s===undefined,n?.endCursor,i,t);const o=await this._doRequest(r);const p=await this._validateData(o);const c=await this._parseWorkPageData(p);if(!s){s=c.workPage}else{s.usedVisualizations.nodes.push(...c.workPage.usedVisualizations.nodes)}n=c.pageInfo}while(n?.hasNextPage);return Promise.resolve({workPage:s})};d.prototype._createWorkPageQuery=function(e,t,n,a,s,i){if(!e||!t){throw new Error(`Invalid Arguments, missing either siteId: ${e} or pageId: ${t}`)}const r=u.getFormFactor();const o=`\n            queryInput: {\n                filterWidgets: {\n                    visualization: {\n                        targetApp: {\n                            deviceType: { eq: "${r}" },\n                            launchType: { in: ["embedded", "standalone"] }\n                        }\n                    }\n                }\n            }`;return`{\n            workPage(\n                siteId: "${e}",\n                workPageId: "${t}"\n                ) {\n                    ${n?`\n                        id,\n                        contents${i?`(${o})`:""},\n                        editable,\n                        `:""}\n                    usedVisualizations${a?`(after:"${a}")`:""}{\n                        pageInfo{\n                            endCursor,\n                            hasNextPage\n                        }\n                        nodes{\n                            id,\n                            ${s?`\n                                targetAppIntent{\n                                    semanticObject,\n                                    action,\n                                    businessAppId\n                            },`:""}\n                            type,\n                            descriptor{\n                                value\n                            },\n                            descriptorResources{\n                                baseUrl,\n                                descriptorPath\n                            },\n                            provider{\n                                id\n                            },\n                            indicatorDataSource{\n                                url,\n                                refreshInterval\n                            }\n                        }\n                    }\n                }\n            }`.replace(/\s\s+/g,"").replace(/\n/gm,"")};d.prototype.loadSiteAndDataDestinationMappings=function(){const e=`{\n            site(siteId:"${this._sSiteId}") {\n              providers {\n                nodes {\n                  id,\n                  logicalDataDestinationMappings {\n                    logicalDestinationName,\n                    resolvedUrl\n                  }\n                }\n              }\n            }\n           }`.replace(/\s\s+/g,"").replace(/\n/gm,"");return this._doRequest(e)};d.prototype._parseWorkPageData=async function(e){const t=n.get("data.workPage.contents",e);const a=n.get("data.workPage.usedVisualizations.nodes",e)||[];const s=await this._transformVizData(a);const i=n.get("data.workPage.editable",e)===true;const r=n.get("data.workPage.usedVisualizations.pageInfo",e);return Promise.resolve({workPage:{contents:t,usedVisualizations:{nodes:s},editable:i},pageInfo:r})};d.prototype.loadVisualizations=function(e,t){let n=`\n        visualizations($queryInput: QueryVisualizationsInput) {\n            visualizations(queryInput: $queryInput, siteId: "${this._sSiteId}") {\n                totalCount,\n                nodes {\n                    id,\n                    type,\n                    descriptor {\n                        value,\n                        schemaVersion\n                    },\n                    descriptorResources {\n                        baseUrl,\n                        descriptorPath\n                    },\n                    indicatorDataSource {\n                        url,\n                        refreshInterval\n                    },\n                    targetAppIntent {\n                        semanticObject,\n                        action,\n                        businessAppId\n                    },\n                    systemLabel\n                }\n            }\n        }`;n=n.replace(/\n/g,"").replace(/ /g,"");n=`query ${n}`;if(t){const t=u.getFormFactor();e.filter=e.filter||[{}];e.filter=e.filter.map(e=>({...e,targetApp:{deviceType:{eq:t},launchType:{in:["embedded","standalone"]}}}))}const a={queryInput:e};return this._doRequest(n,JSON.stringify(a)).then(e=>({visualizations:e.data.visualizations||[],totalCount:e.data.totalCount||0}))};d.prototype._doRequest=function(t,n){let s=`${this._sBaseUrl}?query=${encodeURIComponent(t)}`;if(n){s+=`&variables=${encodeURIComponent(n)}`}const i={"Content-Type":"application/json",Accept:"application/json","Accept-Language":e.getLanguageTag().toString()};if(a.last("/core/site/sapCdmVersion")){i["sap-cdm-content-version"]=a.last("/core/site/sapCdmVersion")}return this.httpClient.get(s,{headers:i}).then(e=>{if(e.status<200||e.status>=300){throw new Error(`HTTP request failed with status: ${e.status} - ${e.statusText}`)}return JSON.parse(e.responseText||"{}")})};d.prototype._transformVizData=async function(e){const t=e.find(e=>e.type==="sap.ushell.StaticAppLauncher"||e.type==="sap.ushell.DynamicAppLauncher"||this._isSmartBusinessVizType(e));if(!t){return Promise.resolve(e)}const n=await i.getServiceAsync("CommonDataModel");const a=await n.getApplications();const s=await Promise.all(e.map(e=>{if(e.type==="sap.ushell.StaticAppLauncher"||e.type==="sap.ushell.DynamicAppLauncher"){return this._setApplicationProperties(e,a)}if(this._isSmartBusinessVizType(e)){return this._setSmartBusinessTilesProperties(e,n)}return e}));return Promise.resolve(s)};d.prototype._setApplicationProperties=async function(e,t){const s=n.get(["descriptor","value","sap.flp","target","appId"],e);const i=t[s];const u=n.get(["descriptor","value","sap.flp","indicatorDataSource","dataSource"],e);const l=n.get(["sap.app","dataSources",u],i);const d=n.get(["sap.app","contentProviderId"],i);const g=await p.getContentProviderLabel(d);const h=a.last("/core/shell/intentNavigation");const y={vizConfig:n.get(["descriptor","value"],e)};y.target=p.harmonizeTarget(c.getTarget(y)||{});if(h){e.target=y.target;e.targetURL=o.toHashFromTargetIntent(e.targetAppIntent,y.target)}const v=r({},e,{_siteData:{contentProviderId:d,contentProviderLabel:g,target:h?"":y.target,targetURL:h?"":o.toHashFromVizData(y,t),dataSource:l}});return v};d.prototype._isSmartBusinessVizType=function(e){return e.type.startsWith("ssuite.smartbusiness.tiles.")};d.prototype._setSmartBusinessTilesProperties=async function(e,t){const n=await t.getVizTypes();const a=l();return p.getVizData({vizTypes:n,visualizations:{[e.id]:{vizType:e,vizConfig:e.descriptor.value}}},{id:a,vizId:e.id,vizType:e.type}).then(t=>r({},e,{_siteData:t,vizType:t._instantiationData.vizType,descriptor:{value:t.vizConfig}}))};return d},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/workpage/WorkPageVizInstantiation", ["sap/ushell/services/VisualizationInstantiation","sap/base/util/ObjectPath","sap/base/Log","sap/base/util/deepExtend","sap/base/util/deepClone","sap/ushell/adapters/cdm/v3/utilsCdm","sap/ushell/adapters/cdm/v3/_LaunchPage/readUtils","sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations","sap/ushell/services/CommonDataModel/vizTypeDefaults/VizTypeDefaults","sap/ushell/utils/tilecard/TileCard","sap/ushell/Config"],(t,e,a,i,s,r,n,o,d,p,l)=>{"use strict";class c{static#t;#e;#a;static async getInstance(){if(!c.#t){const e=new t;const a=await d.getAll();c.#t=new c(e,a)}return c.#t}constructor(t,e){this.#e=t;this.#a=e}_getVizInstantiationData(t){const a=this.#a[t.type];if(!a&&t.type?.startsWith("ssuite.smartbusiness.tiles.")){return this._getSMBVizInstantiationData(t)}const i=l.last("/core/contentProviders/providerInfo/enabled");const s=i&&l.last("/core/contentProviders/providerInfo/showContentProviderInfoOnVisualizations");const r=l.last("/core/shell/intentNavigation");return{id:t.id,title:e.get(["descriptor","value","sap.app","title"],t),subtitle:e.get(["descriptor","value","sap.app","subTitle"],t),info:e.get(["descriptor","value","sap.app","info"],t),icon:e.get(["descriptor","value","sap.ui","icons","icon"],t),keywords:e.get(["descriptor","value","sap.app","tags","keywords"],t)||[],_instantiationData:{platform:"CDM",vizType:a},indicatorDataSource:e.get("indicatorDataSource",t),vizType:e.get("type",t),dataSource:e.get(["_siteData","dataSource"],t),contentProviderId:e.get(["_siteData","contentProviderId"],t),contentProviderLabel:e.get(["_siteData","contentProviderLabel"],t),displayProviderLabel:s,target:r?e.get("target",t):e.get(["_siteData","target"],t),targetURL:r?e.get("targetURL",t):e.get(["_siteData","targetURL"],t),vizConfig:e.get(["descriptor","value"],t),supportedDisplayFormats:e.get(["descriptor","value","sap.flp","vizOptions","displayFormats","supported"],t),displayFormatHint:e.get(["descriptor","value","sap.flp","vizOptions","displayFormats","default"],t)||"standard",numberUnit:e.get(["descriptor","value","sap.flp","numberUnit"],t),vizId:t.id,preview:t.preview}}_getSMBVizInstantiationData(t){const a=l.last("/core/contentProviders/providerInfo/enabled");const i=a&&l.last("/core/contentProviders/providerInfo/showContentProviderInfoOnVisualizations");const s=l.last("/core/shell/intentNavigation");return{id:t.id,title:e.get(["_siteData","title"],t),subtitle:e.get(["_siteData","subtitle"],t),info:e.get(["_siteData","info"],t),icon:e.get(["_siteData","icon"],t),keywords:e.get(["_siteData","keywords"],t),_instantiationData:{platform:"CDM",vizType:t.vizType},indicatorDataSource:e.get("indicatorDataSource",t),vizType:t.type,dataSource:e.get(["_siteData","dataSource"],t),contentProviderId:e.get(["provider","id"],t),contentProviderLabel:e.get(["_siteData","contentProviderLabel"],t),displayProviderLabel:i,target:s?e.get("target",t):e.get(["_siteData","target"],t),targetURL:s?e.get("targetURL",t):e.get(["_siteData","targetURL"],t),vizConfig:e.get(["descriptor","value"],t),supportedDisplayFormats:e.get(["_siteData","supportedDisplayFormats"],t),displayFormatHint:e.get(["_siteData","displayFormatHint"],t)||"standard",numberUnit:e.get(["descriptor","value","sap.flp","numberUnit"],t),vizId:t.id,preview:t.preview}}createVizInstance(t){const e=this.#e.instantiateVisualization(this._getVizInstantiationData(t));if(e){e.setActive(true)}return e}createTileCardConfiguration(t){return p.createTileCardConfiguration(this._getVizInstantiationData(t))}}return c},true);
sap.ui.require.preload({
	"sap/ushell/adapters/cdm/Settings/UserLanguageAndRegion/UserLanguageAndRegion.view.xml":'<mvc:View controllerName="sap.ushell.adapters.cdm.Settings.UserLanguageAndRegion.UserLanguageAndRegion"\n    xmlns="sap.m"\n    xmlns:form="sap.ui.layout.form"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:core="sap.ui.core"\n    xmlns:model="sap.ui.model"\n    height="32rem"\n><FlexBox\n        class="sapUiSmallMargin sapUiFlexJustifyContentCenter"\n        justifyContent="SpaceBetween"\n        direction="Column"\n        fitContainer="true"\n    ><form:SimpleForm\n            id="languageForm"\n            editable="true"\n            layout="ResponsiveGridLayout"\n            ariaLabelledBy="LanguageSettingsLabel"\n\t\t\tlabelSpanXL="3"\n\t\t\tlabelSpanL="3"\n\t\t\tlabelSpanM="3"\n\t\t\tlabelSpanS="12"\n\t\t\temptySpanXL="4"\n\t\t\temptySpanL="4"\n\t\t\temptySpanM="4"\n\t\t\tcolumnsXL="1"\n\t\t\tcolumnsL="1"\n\t\t\tcolumnsM="1"\n            width="100%"\n        ><form:content><Label text="{i18n>timeZoneFld}"/><HBox alignItems="Center"><Text id="selectedTimeZone" text="{/selectedTimeZone}" class="sapUiTinyMarginEnd"/><core:Icon src="sap-icon://information" tooltip="{i18n>timeZoneTooltip}"/></HBox><Label id="languageSettingsFormLabel" text="{i18n>languageAndRegionTit}" visible="{= !${/languageList}}" labelFor="languageSelectionText"/><Text id="languageSelectionText" text="{/selectedLanguageText}" visible="{= !${/languageList} }"/><Label id="languageSelectionLabel" text="{i18n>languageAndRegionTit}" visible="{= !!${/languageList}}" labelFor="languageSelectionSelect"/><ComboBox id="languageSelectionSelect"\n                visible="{= !!${/languageList} }"\n                items="{/languageList}"\n                selectedKey="{/selectedLanguage}"\n                valueState="{= ${/selectedLanguage} ? \'None\' : \'Error\'}"\n                change="._handleLanguageSelectChange"><core:Item key="{key}" text="{text}" /></ComboBox><Label text="{i18n>date}"/><Text id="selectedDateFormat" text="{/selectedDateFormat}" /><Label text="{i18n>time}"/><Text id="selectedTimeFormat" text="{/selectedTimeFormat}" /><Label text="{i18n>decimalFormat}"/><Text id="selectedDecimalFormat" text="{/selectedDecimalFormat}" /><Label text="{i18n>workWeek}"/><Text id="selectedWorkWeek" text="{/selectedWorkWeek}" /></form:content></form:SimpleForm><core:InvisibleText id="LanguageSettingsLabel" text="{i18n>languageAndRegionForm}" /><VBox><MessageStrip\n            text="{i18n>languageAndRegionsInfoPopup}"\n            type="Information"\n            showIcon="true"\n            class="sapUiSmallMarginBottom" /><Text text="{i18n>LanguageAndRegionHelpingText}" class="sapUshellFlpSettingsWideDescription" visible="{= !!${/languageList}}" width="100%"/></VBox></FlexBox></mvc:View>\n',
	"sap/ushell/appRuntime/ui5/AppRuntime.js":function(){
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
function _migrateV2ServiceConfig(e){"use strict";const t=sap.ui.require("sap/base/util/ObjectPath");[{from:"services.Bookmark",to:"services.BookmarkV2"},{from:"services.CrossApplicationNavigation",to:"services.Navigation"},{from:"services.Notifications",to:"services.NotificationsV2"},{from:"services.Personalization",to:"services.PersonalizationV2"},{from:"services.LaunchPage",to:"services.FlpLaunchPage"},{from:"services.ShellNavigation",to:"services.ShellNavigationInternal"},{from:"services.NavTargetResolution",to:"services.NavTargetResolutionInternal"}].forEach(s=>{const i=s.from.split(".")[1];const a=t.get(s.from,e);const n=t.get(s.to,e);if(a&&!n){const n={...a};if(n.module===`sap.ushell.services.${i}`){delete n.module}t.set(s.to,n,e)}})}function prepareUshellConfig(){"use strict";const e=sap.ui.require("sap/base/util/ObjectPath");let t={};const s=document.querySelector("meta[name='sap.ushellConfig.ui5appruntime']");if(s){t=JSON.parse(s.content)}const i=new URLSearchParams(window.location.search);if(i.has("sap-spaces")&&i.get("sap-spaces")==="true"){e.set("ushell.spaces.enabled",true,t)}if(i.has("sap-personalization")&&i.get("sap-personalization")==="false"){e.set("renderers.fiori2.componentData.config.enablePersonalization",false,t)}window["sap-ushell-config"]=t;_migrateV2ServiceConfig(window["sap-ushell-config"])}function prepareModules(){"use strict";sap.ui.require(["sap/ui/core/BusyIndicator"],e=>{try{if(apprtBIdiv){document.body.classList.remove("apprtBIbg");apprtBIdiv.parentNode.removeChild(apprtBIdiv);apprtBIstyle.parentNode.removeChild(apprtBIstyle)}e.show(0)}catch{e.show(0)}});if(document.URL.indexOf("ui5appruntime")>0){sap.ui.define("sap/ushell/URLTemplateProcessor",[],()=>({}));sap.ui.define("sap/ushell/ApplicationType/wdaResolution",[],()=>({}));sap.ui.define("sap/ushell/ApplicationType/guiResolution",[],()=>({}));if(document.URL.indexOf("sap-ui-app-id=")>0){sap.ui.define("sap/ushell/ApplicationType",[],()=>({URL:{type:"URL"},WDA:{type:"WDA"},TR:{type:"TR"},NWBC:{type:"NWBC"},WCF:{type:"WCF"},SAPUI5:{type:"SAPUI5"}}))}sap.ui.define("sap/ushell/components/applicationIntegration/AppLifeCycle",[],()=>({}));sap.ui.define("sap/ushell/appIntegration/AppLifeCycle",[],()=>({}));sap.ui.define("sap/ushell/services/appstate/WindowAdapter",[],()=>function(){});sap.ui.define("sap/ushell/services/appstate/SequentializingAdapter",[],()=>function(){});sap.ui.define("sap/ushell/services/appstate/Sequentializer",[],()=>function(){});sap.ui.define("sap/ushell/services/Configuration",[],()=>{function e(){this.attachSizeBehaviorUpdate=function(){};this.hasNoAdapter=true}e.hasNoAdapter=true;return e});sap.ui.define("sap/ushell/services/PluginManager/Extensions",[],()=>function(){});sap.ui.define("sap/ushell/services/MessageBroker/MessageBrokerEngine",[],()=>function(){});sap.ui.define("sap/ushell/bootstrap/common/common.load.core-min",[],()=>({loaded:false,load:function(e){}}))}}prepareUshellConfig();prepareModules();sap.ui.define(["sap/base/i18n/Formatting","sap/base/i18n/Localization","sap/base/Log","sap/base/util/ObjectPath","sap/base/util/deepExtend","sap/base/util/isEmptyObject","sap/m/library","sap/ui/core/BusyIndicator","sap/ui/core/ComponentContainer","sap/ui/core/Lib","sap/ui/core/routing/History","sap/ui/thirdparty/hasher","sap/ui/thirdparty/jquery","sap/ui/thirdparty/URI","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/appRuntime/ui5/performance/FesrEnhancer","sap/ushell/appRuntime/ui5/renderers/fiori2/AccessKeysAgent","sap/ushell/appRuntime/ui5/services/AppConfiguration","sap/ushell/appRuntime/ui5/services/AppLifeCycleAgent","sap/ushell/appRuntime/ui5/services/ShellUIService","sap/ushell/appRuntime/ui5/SessionHandlerAgent","sap/ushell/EventHub","sap/ushell/iconfonts","sap/ushell/UI5ComponentType","sap/ushell/ui5service/UserStatus","sap/ushell/utils/UrlParsing","sap/ushell/utils/WindowUtils","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/ushell/renderer/utils","sap/ushell/appRuntime/ui5/renderers/fiori2/Renderer"],(e,t,s,i,a,n,p,r,o,l,u,c,jQuery,h,d,m,f,g,y,v,R,A,C,b,I,P,S,U,w,L)=>{"use strict";const H=p.URLHelper;m.init();let F;let N;const T=(new h).search(true);let E=false;let k;let D=false;let M=false;let O=false;let B=false;let _;function x(){return{services:{CrossApplicationNavigation:{module:"sap.ushell.appRuntime.ui5.services.CrossApplicationNavigation",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},Navigation:{module:"sap.ushell.appRuntime.ui5.services.Navigation",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},NavTargetResolution:{module:"sap.ushell.appRuntime.ui5.services.NavTargetResolution",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},NavTargetResolutionInternal:{module:"sap.ushell.appRuntime.ui5.services.NavTargetResolutionInternal",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},ShellNavigation:{module:"sap.ushell.appRuntime.ui5.services.ShellNavigation",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},ShellNavigationInternal:{module:"sap.ushell.appRuntime.ui5.services.ShellNavigationInternal",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},ClientSideTargetResolution:{adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},AppConfiguration:{module:"sap.ushell.appRuntime.ui5.services.AppConfiguration"},Bookmark:{module:"sap.ushell.appRuntime.ui5.services.Bookmark",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},BookmarkV2:{module:"sap.ushell.appRuntime.ui5.services.BookmarkV2",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},Extension:{module:"sap.ushell.appRuntime.ui5.services.Extension"},FrameBoundExtension:{module:"sap.ushell.appRuntime.ui5.services.FrameBoundExtension"},LaunchPage:{module:"sap.ushell.appRuntime.ui5.services.LaunchPage",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},FlpLaunchPage:{module:"sap.ushell.appRuntime.ui5.services.FlpLaunchPage"},UserInfo:{module:"sap.ushell.appRuntime.ui5.services.UserInfo",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},UserDefaultParameters:{module:"sap.ushell.appRuntime.ui5.services.UserDefaultParameters",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},AppState:{module:"sap.ushell.appRuntime.ui5.services.AppState",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},AppLifeCycle:{module:"sap.ushell.appRuntime.ui5.services.AppLifeCycle",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},PluginManager:{config:{isBlueBox:true}},CommonDataModel:{module:"sap.ushell.appRuntime.ui5.services.CommonDataModel",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},ReferenceResolver:{module:"sap.ushell.appRuntime.ui5.services.ReferenceResolver"},MessageBroker:{module:"sap.ushell.appRuntime.ui5.services.MessageBroker"},Ui5ComponentLoader:{config:{loadDefaultDependencies:false}},Container:{adapter:{config:{userProfile:{defaults:{setThemePermitted:true}}}}}},ushell:{customPreload:{enabled:false}}}}function W(){this.main=function(){let e=Promise.resolve();const t=F._getURI();jQuery("body").css("height","100%").css("width","100%");d.init(true);this.getPageConfig(t);F.setModulePaths();const i=F.loadAdditionalLibs();if(t.hasOwnProperty("sap-remote-intent")){e=d.postMessageToFLP("sap.ushell.services.UserInfo.getLocaleData",undefined,undefined,3e3,{})}U.setAppLifeCycleAgent(y);y.expandSapIntentParams(F._getURI()).then(t=>{let a;let n;if(t.hasOwnProperty("sap-remote-intent")===true){U.setIsScube(true);n=t["sap-remote-intent"];if(n===undefined){s.error("Application cannot be opened. 'sAppIntent' is undefined")}U.setRemoteSystemId(t["sap-remote-system"]);F.adjustIframeURL()}else{a=t["sap-ui-app-id"]}F.init();const p=new Promise(e=>{sap.ui.require(["sap/ushell/appRuntime/ui5/services/UserInfo"],e)});i.push(F.initServicesContainer());Promise.all(i).then(()=>{F.initPostMessages();if(U.getIsScube()===true){N.getServiceAsync("CommonDataModel")}Promise.all([F.getAppInfo(a,n),p,e]).then(e=>{const s=e[0].oResolvedHashFragment;const i=e[0].oParsedHash;const p=e[2]||{};F._setUI5LocaleAttributes(p);R.init();f.init();F._setInitialAppRoute();F.createApplication(a,t,s,n,i).then(e=>{F.renderApplication(e)})})})})};this._setUI5LocaleAttributes=function(s){if(Object.keys(s).length>0){if(s.calendarType){e.setCalendarType(s.calendarType)}if(s.dateFormatShort){e.setDatePattern("short",s.dateFormatShort)}if(s.dateFormatMedium){e.setDatePattern("medium",s.dateFormatMedium)}if(s.numberFormatGroup){e.setNumberSymbol("group",s.numberFormatGroup)}if(s.numberFormatDecimal){e.setNumberSymbol("decimal",s.numberFormatDecimal)}if(s.timeFormatShort){e.setTimePattern("short",s.timeFormatShort)}if(s.timeFormatMedium){e.setTimePattern("medium",s.timeFormatMedium)}if(s.calendarMapping){e.setCustomIslamicCalendarData(s.calendarMapping)}if(s.timeZone){t.setTimezone(s.timeZone)}if(s.currencyFormats){e.setCustomCurrencies(s.currencyFormats)}}};this._setInitialAppRoute=function(){const e=P.parseShellHash(c.getHash());if(e&&e.appSpecificRoute&&e.appSpecificRoute.length>0){d.postMessageToFLP("sap.ushell.services.CrossApplicationNavigation.setInnerAppRoute",{appSpecificRoute:e.appSpecificRoute})}};this._getURI=function(){return(new h).query(true)};this.init=function(){C.registerFiori2IconFont();B=this._getURIParams()["sap-manifest-width"];g.setFullWidthFromManifest(B)};this.initPostMessages=function(){const e={"sap.ushell.appRuntime.hashChange":{async handler(e,t){const s=e.sHash;if(typeof s==="string"){const e=P.parseShellHash(s);const t=P.parseShellHash(c.getHash());if(e&&t&&e.semanticObject===t.semanticObject&&e.action===t.action){c.replaceHash(s)}}}},"sap.ushell.appRuntime.innerAppRouteChange":{async handler(e,t){const s=e.oHash?.fullHash;if(typeof s==="string"){c.replaceHash(s)}}},"sap.ushell.appRuntime.setDirtyFlag":{async handler(e,t){const s=e.bIsDirty;if(s!==N.getDirtyFlag()){N.setDirtyFlag(s)}}},"sap.ushell.appRuntime.getDirtyFlag":{async handler(e,t){return N.getDirtyFlag()}},"sap.ushell.appRuntime.themeChange":{async handler(e,t){const s=e.currentThemeId;N.getUser().setTheme(s)}},"sap.ushell.appRuntime.buttonClick":{async handler(e,t){L.handleHeaderButtonClick(e.buttonId)}},"sap.ushell.appRuntime.executeLogoutFunctions":{async handler(e,t){await N.executeAsyncAndSyncLogoutFunctions()}},"sap.ushell.appRuntime.uiDensityChange":{async handler(e,t){const s=e.isTouch;jQuery("body").toggleClass("sapUiSizeCompact",s==="0").toggleClass("sapUiSizeCozy",s==="1")}},"sap.ushell.appRuntime.handleDirtyStateProvider":{async handler(e,t){return N.handleDirtyStateProvider(e.oNavigationContext)}},"sap.ushell.services.MessageBroker._execute":{async handler(e,t){const s=await N.getServiceAsync("MessageBroker");await s.handleMessage(e)}}};Object.keys(e).forEach(t=>{d.setRequestHandler(t,e[t].handler)})};this.handleLinkElementOpen=function(e,t){try{if(t.isDefaultPrevented&&t.isDefaultPrevented()===true){return}const s=t.target;if(s&&s.tagName==="A"&&s.href&&s.href.indexOf("#")>0){if(s.target==="_blank"){const i=s.href.split("#");if(i[0].length===0||i[0]===document.URL.split("#")[0]){F.rebuildNewAppUrl(s.href,e).then(e=>{S.openURL(e)});t.preventDefault()}}else if(s.target===undefined||s.target===""||s.target==="_top"||s.target==="_self"){const e=s.href.split("#");const i=document.URL.split("#");if(e[0]===i[0]){const s=e[1]&&e[1].split("&/");const a=i[1]&&i[1].split("&/");if(typeof s[0]==="string"&&typeof a[0]==="string"&&s[0]!==a[0]){N.getServiceAsync("Navigation").then(t=>{t.navigate({target:{shellHash:e[1]}})});t.preventDefault()}}}}}catch(e){}};this.rebuildNewAppUrl=async function(e,t){const s=e.split("#");if(s[0].length===0||s[0]===document.URL.split("#")[0]){if(U.getIsScube()){const e=await U.checkIntentsConversionForScube([{intent:`#${s[1]}`}]);return t+e[0].intent}return`${t}#${s[1]}`}return e};this.getPageConfig=function(e){window["sap-ushell-config"]=a({},x(),window["sap-ushell-config"]);if(e.hasOwnProperty("sap-remote-intent")){const e=window["sap-ushell-config"].bootstrapPlugins;if(e&&e.hasOwnProperty("WAPluginAgent")&&e.WAPluginAgent.hasOwnProperty("config")){delete e.WAPluginAgent.config["sap-plugin-agent"]}}};this.setModulePaths=function(){if(window["sap-ushell-config"].modulePaths){const e=Object.keys(window["sap-ushell-config"].modulePaths);let t;for(const s in e){t=e[s];(function(e){const t={};t[e.replace(/\./g,"/")]=window["sap-ushell-config"].modulePaths[e];sap.ui.loader.config({paths:t})})(t)}}};this.loadAdditionalLibs=function(){const e=i.get("ui5.libs",window["sap-ushell-config"])||{};const t=[];Object.keys(e).forEach(s=>{if(e[s]===true){t.push(l.load(s))}});return t};this.adjustIframeURL=function(){};this.initServicesContainer=function(){return new Promise(e=>{sap.ui.require(["sap/ushell/appRuntime/ui5/services/Container"],t=>{N=t;N.init("apprt",{apprt:"sap.ushell.appRuntime.ui5.services.adapters"}).then(()=>{N.getFLPUrlAsync().then(e=>{jQuery(document).on("click.appruntime",F.handleLinkElementOpen.bind(F,e));jQuery(document).on("keydown.appruntime",t=>{if(t.code==="Enter"){return F.handleLinkElementOpen(e,t)}})});N.getServiceAsync("ShellNavigationInternal").then(t=>{_=t;_.init(()=>{});F._enableHistoryEntryReplacedDetection();e()})})})})};this._enableHistoryEntryReplacedDetection=function(){this._fnOriginalSetHash=c.setHash;this._fnOriginalReplaceHash=c.replaceHash;c.setHash=function(){if(c.disableCFLPUpdate===true){return this._fnOriginalSetHash.apply(c,arguments)}if(U.checkDataLossAndContinue()){return this._fnOriginalSetHash.apply(c,arguments)}}.bind(this);c.replaceHash=function(){if(c.disableCFLPUpdate===true){return this._fnOriginalReplaceHash.apply(c,arguments)}if(U.checkDataLossAndContinue()){return this._fnOriginalReplaceHash.apply(c,arguments)}}.bind(this)};this._getURIParams=function(){return T};this.getAppInfo=function(e,t){let s;let i;let a;if(e){s=window["sap-ushell-config"].ui5appruntime.config.appIndex.data;i=window["sap-ushell-config"].ui5appruntime.config.appIndex.module;a=window["sap-ushell-config"].ui5appruntime.config.appIndex.enableCache}return new Promise(p=>{if(e&&s&&!n(s)){y.init(i,F.createApplication.bind(F),F.renderApplication.bind(F),a,e,s);p({oResolvedHashFragment:s})}else{y.init(i,F.createApplication.bind(F),F.renderApplication.bind(F),a);y.getAppInfo(e,document.URL,t).then(p)}})};this.setHashChangedCallback=function(){if(M===true){return}c.changed.add(this._treatHashChanged.bind(this),this);M=true};this._treatHashChanged=async function(e,t){if(c.disableCFLPUpdate===true){return}if(e&&typeof e==="string"&&e.length>0){if(t&&typeof t==="string"&&t.length>0){const s=P.compareHashes(e,t);if(!s.sameIntent||!s.sameParameters){N.getServiceAsync("Navigation").then(t=>{t.navigate({target:{shellHash:e}})});return}}d.postMessageToFLP("sap.ushell.appRuntime.hashChange",{newHash:e,direction:u.getInstance().getDirection()})}};this.createApplication=function(e,t,i,a,n){const p=P.getHash(window.location.href);return new Promise(r=>{let l="";if(t.hasOwnProperty("sap-history-dir")){l=t["sap-history-dir"];_.hashChanger.fireEvent("hashReplaced",{hash:_.hashChanger.getHash(),direction:l});s.debug("AppRuntime.createApplication :: Informed by the FLP, to change the History direction "+`property in the Iframe to: ${l}`)}const u=new o({id:`${U.getIsScube()===true?a:e}-content`,width:"100%",height:"100%"});u.addStyleClass("sapAppRuntimeBaseStyle");let c="0";if(T.hasOwnProperty("sap-touch")){c=T["sap-touch"];if(c!=="0"&&c!=="1"){c="0"}}jQuery("body").toggleClass("sapUiSizeCompact",c==="0").toggleClass("sapUiSizeCozy",c==="1");if(O===false){const e=new v({scopeObject:u,scopeType:"component"});e.setBackNavigation();new I({scopeObject:u,scopeType:"component"});y.setShellUIService(e);w.init();O=true}(U.getIsScube()?Promise.resolve(""):y.getApplicationParameters(t)).then(s=>{i.url+=s;F.setHashChangedCallback();Promise.all([N.getServiceAsync("Ui5ComponentLoader"),N.getServiceAsync("AppLifeCycle")]).then(s=>{const o=s[0];const l=s[1];if(i.asyncHints&&Array.isArray(i.asyncHints.libs)){i.asyncHints.libs=i.asyncHints.libs.filter(e=>e.name!=="sap.ushell")}let c;let h;if(U.getIsScube()===true){c=i;h=n}else{c={ui5ComponentName:e,applicationDependencies:i,url:i.url};h=P.parseShellHash(p)}o.createComponent(c,h,[],b.Application).then(e=>{let s;if(U.getIsScube()===true){try{if(p&&p.indexOf("Shell-startIntent")===0){s=e.componentHandle.getInstance().getManifestEntry("/sap.app/title");if(typeof s==="string"){setTimeout(()=>{d.postMessageToFLP("sap.ushell.services.ShellUIService.setTitle",{sTitle:s})},2e3)}}}catch(e){}}u.setComponent(e.componentHandle.getInstance());m.setAppShortId(e.componentHandle);l.prepareCurrentAppObject("UI5",e.componentHandle.getInstance(),false,undefined);F.getCurrentAppInfo(l,t,c,s);F.considerChangingTheDefaultFullWidthVal(e);F.overrideUrlHelperFuncs();r({oComponentContainer:u,oResolutionResultWithComponentHandle:e,sAppIntent:a||"",ui5ComponentName:c.ui5ComponentName})})})})})};this.getCurrentAppInfo=function(e,t,s,i){const a=["appFrameworkVersion","appVersion"];if(!t["sap-startup-params"]||t["sap-startup-params"].indexOf("sap-fiori-id")===-1){a.push("appId")}if(!t["sap-startup-params"]||t["sap-startup-params"].indexOf("sap-ach")===-1){a.push("appSupportInfo")}const n=e.getCurrentApplication();n.getInfo(a).then(e=>{for(const t in e){if(e[t]===undefined||e[t]===""){delete e[t]}}e.appFrameworkId="UI5";e.technicalAppComponentId=s.ui5ComponentName;if(typeof i==="string"){e.appTitle=i}y.setCurrentAppAttributes(e);setTimeout(()=>{d.postMessageToFLP("sap.ushell.services.AppLifeCycle.updateCurrentAppInfo",{info:e})},500)})};this.considerChangingTheDefaultFullWidthVal=function(e){if(B===true||B==="true"){A.emit("appWidthChange",false)}const t=e.componentHandle.getInstance();const s=t.getMetadata();if(s){const e=t.getManifestEntry("/sap.ui/fullWidth");const s=t.getManifestEntry("/sap.ui5/config/fullWidth");if(e===true||e==="true"||s===true||s==="true"){A.emit("appWidthChange",true)}else if(e===false||e==="false"||s===false||s==="false"){A.emit("appWidthChange",false)}}};this.overrideUrlHelperFuncs=function(){if(E===true){return}E=true;if(H){H.triggerEmail=function(e,t,s,i,a){d.postMessageToFLP("sap.ushell.services.ShellUIService.sendEmail",{sTo:e,sSubject:t,sBody:s,sCc:i,sBcc:a,sIFrameURL:document.URL,bSetAppStateToPublic:true})};k=H.redirect;H.redirect=function(e,t){if(e&&t===true&&e.indexOf("#")>=0){N.getFLPUrlAsync().then(s=>{F.rebuildNewAppUrl(e,s).then(e=>{k.call(H,e,t)})})}else{k.call(H,e,t)}}}};function p(e){e.registerPlugins({RTAPluginAgent:{component:"sap.ushell.appRuntime.ui5.plugins.rtaAgent",url:sap.ui.require.toUrl("sap/ushell/appRuntime/ui5/plugins/rtaAgent"),config:{"sap-plugin-agent":true}}})}function W(e){e.registerPlugins({WAPluginAgent:{component:"sap.ushell.appRuntime.ui5.plugins.scriptAgent",url:sap.ui.require.toUrl("sap/ushell/appRuntime/ui5/plugins/scriptAgent"),config:{"sap-plugin-agent":true,scube:false}}})}this.loadPlugins=function(){if(D===true){return}D=true;N.getServiceAsync("PluginManager").then(e=>{p(e);if(U.getIsScube()===false){W(e)}e.loadPlugins("RendererExtensions")})};this.renderApplication=function(e){e.oComponentContainer.placeAt("content");r.hide();setTimeout(()=>{if(e.oResolutionResultWithComponentHandle.componentHandle.getInstance().active){e.oResolutionResultWithComponentHandle.componentHandle.getInstance().active()}F.loadPlugins()},0);y.setCurrentApp(e.oComponentContainer,e.sAppIntent,e.ui5ComponentName)}}const j=new W;j._prepareUshellConfig=prepareUshellConfig;F=j;j.main();return j});
this._migrateV2ServiceConfig=_migrateV2ServiceConfig;
this.prepareUshellConfig=prepareUshellConfig;
this.prepareModules=prepareModules;
},
	"sap/ushell/appRuntime/ui5/BusyIndicator.js":'// Copyright (c) 2009-2025 SAP SE, All Rights Reserved\nvar apprtBIdiv;document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("sap-ui-bootstrap");if(!e){return}const t=e.src;if(!t){return}const d=t.split("/resources/")[0];const n=document.createElement("link");n.rel="stylesheet";n.href=`${d}/resources/sap/ushell/appRuntime/ui5/BusyIndicator.css`;document.head.appendChild(n);apprtBIdiv=document.createElement("div");apprtBIdiv.classList.add("apprtBIcenter");apprtBIdiv.appendChild(document.createElement("div"));apprtBIdiv.appendChild(document.createElement("div"));apprtBIdiv.appendChild(document.createElement("div"));document.body.appendChild(apprtBIdiv)});\n',
	"sap/ushell/appRuntime/ui5/libsPreload.js":function(){
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
try{document.getElementById("sap-ui-bootstrap").setAttribute("data-sap-ui-libs","sap.ui.core,sap.m,sap.ui.fl")}catch{}try{document.getElementById("sap-ui-bootstrap").setAttribute("data-sap-ui-compatVersion","edge")}catch{}
},
	"sap/ushell/appRuntime/ui5/plugins/rtaAgent/manifest.json":'{"_version":"1.21.0","sap.app":{"_version":"1.1.0","i18n":{"bundleUrl":"i18n/i18n.properties","supportedLocales":[""],"fallbackLocale":""},"id":"sap.ushell.appRuntime.ui5.plugins.rtaAgent","title":"{{APP_TITLE}}","type":"component","applicationVersion":{"version":"1.0.0"},"ach":"CA-UI5-FL-RTA","embeddedBy":"../../../../","resources":"resources.json"},"sap.ui":{"_version":"1.1.0","technology":"UI5","supportedThemes":[],"deviceTypes":{"desktop":true,"tablet":true,"phone":false}},"sap.ui5":{"_version":"1.1.0","contentDensities":{"compact":true,"cozy":false},"dependencies":{"minUI5Version":"1.73.1","libs":{"sap.ui.core":{"minVersion":"1.73.1"},"sap.ui.fl":{"minVersion":"1.73.1"}}},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"i18n/i18n.properties","settings":{"supportedLocales":[""],"fallbackLocale":""}}}},"sap.flp":{"type":"plugin"}}',
	"sap/ushell/appRuntime/ui5/plugins/rtaShell/manifest.json":'{"_version":"1.21.0","sap.app":{"_version":"1.1.0","i18n":{"bundleUrl":"i18n/i18n.properties","supportedLocales":[""],"fallbackLocale":""},"id":"sap.ushell.appRuntime.ui5.plugins.rtaShell","title":"{{APP_TITLE}}","type":"component","applicationVersion":{"version":"1.0.0"},"ach":"CA-UI5-FL-RTA","embeddedBy":"../../../../","resources":"resources.json"},"sap.ui":{"_version":"1.1.0","technology":"UI5","supportedThemes":[],"deviceTypes":{"desktop":true,"tablet":true,"phone":false}},"sap.ui5":{"_version":"1.1.0","contentDensities":{"compact":true,"cozy":false},"dependencies":{"minUI5Version":"1.73.1","libs":{"sap.ui.core":{"minVersion":"1.73.1"},"sap.ui.fl":{"minVersion":"1.73.1"}}},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"i18n/i18n.properties","settings":{"supportedLocales":[""],"fallbackLocale":""}}}},"sap.flp":{"type":"plugin"}}',
	"sap/ushell/bootstrap/cdm/cdm-def-loader.js":function(){
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
(function(){"use strict";const t=document.getElementById("sap-ui-bootstrap").getAttribute("data-sap-ui-async");if(t&&t.toLowerCase()==="true"){sap.ui.require(["sap/ushell/bootstrap/cdm/cdm-def"]);return}sap.ui.requireSync("sap/ushell/bootstrap/cdm/cdm-def")})();
},
	"sap/ushell/bootstrap/sandbox2.js":function(){
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
(function(){"use strict";if(true){function o(){return new Promise(o=>{sap.ui.require(["sap/ushell/bootstrap/sandbox2/sandbox"],n=>{n.bootstrap().then(o)})})}window["sap-ui-config"]={"xx-bootTask":function(n){o().then(()=>{n()})}};return}if(!window["sap-ui-config"]){window["sap-ui-config"]={}}globalThis["sap-ui-config"].bootManifest="sap/ushell/bootstrap/sandbox2/sandboxBoot.json"})();
},
	"sap/ushell/bootstrap/sandbox2/sandbox.js":'// Copyright (c) 2009-2025 SAP SE, All Rights Reserved\nconst OBJECT_PROTOTYPE_KEYS=Object.getOwnPropertyNames(Object.prototype);sap.ui.define(["sap/base/Log","sap/base/util/ObjectPath","sap/ushell/bootstrap/common/common.util","sap/ushell/utils"],(t,e,i,o)=>{"use strict";const s={_loadJSON:async function(e){function i(){t.error("Failed to load Fiori Launchpad Sandbox configuration",e)}try{const t=await fetch(e,{headers:{"Content-Type":"application/json"}});if(t.ok){const e=await t.json();return e}i()}catch{i()}},mergeConfig:function(t,e,i){if(typeof e!=="object"){return}const o=i?JSON.parse(JSON.stringify(e)):e;Object.entries(o).forEach(([e,i])=>{if(OBJECT_PROTOTYPE_KEYS.includes(e)){return}if(Object.prototype.toString.apply(t[e])==="[object Object]"&&Object.prototype.toString.apply(i)==="[object Object]"){this.mergeConfig(t[e],i,false);return}t[e]=i})},_addAppsToSite:function(t){const o={};function s(t){return t.additionalInformation.replace("SAPUI5.Component=","")}function n(t,e){const i=s(t);const o=t.title||i.split(".").pop();const n=e.split("-");const a={"sap.app":{id:i,title:o,subTitle:t.description||"",ach:"CA-FLP-FE-COR",applicationVersion:{version:"1.0.0"},crossNavigation:{inbounds:{target:{semanticObject:n[0],action:n[1],signature:{parameters:{},additionalParameters:"allowed"}}}},tags:{keywords:o.split(" ")}},"sap.flp":{type:"application"},"sap.ui":{technology:"UI5",icons:{icon:"sap-icon://Fiori2/F0018"},deviceTypes:{desktop:true,tablet:true,phone:true}},"sap.ui5":{componentName:i},"sap.platform.runtime":{componentProperties:{url:t.url}}};return a}function a(t){const e=t.resolutionResult||{};const i=e.ui5ComponentName||s(e);const o=t.title||i.split(".").pop();const n={"sap.app":{id:i,title:o,subTitle:e.description||"",ach:"CA-FLP-FE-COR",applicationVersion:{version:"1.0.0"},crossNavigation:{inbounds:{target:{semanticObject:t.semanticObject,action:t.action,signature:t.signature}}},tags:{keywords:o.split(" ")}},"sap.flp":{type:"application"},"sap.ui":{technology:"UI5",icons:{icon:"sap-icon://Fiori2/F0018"},deviceTypes:t.deviceTypes},"sap.ui5":{componentName:i},"sap.platform.runtime":{componentProperties:{url:e.url}}};return n}function p(t,e){const i=s(t);const o=t.title||i.split(".").pop();const n={vizType:"sap.ushell.StaticAppLauncher",businessApp:i||"sap.ushell.sandbox.BusinessApp",vizConfig:{"sap.app":{title:o,subTitle:t.description||""},"sap.ui":{icons:{icon:t.icon},deviceTypes:{desktop:true,tablet:true,phone:true}},"sap.flp":{target:{type:"URL",url:`#${e}`}}}};return n}const c=t.services.CommonDataModel.adapter.config.siteData;const r=e.get("applications",t)||{};for(const[t,e]of Object.entries(r)){const i=`custom_viz_${t}`;const o=c.pages.page1.payload.sections.APPS;c.applications[t]=n(e,t);c.visualizations[t]=p(e,t);o.layout.vizOrder.push(i);o.viz[i]={id:i,vizId:t}}const l=JSON.parse(JSON.stringify(e.get("services.NavTargetResolutionInternal.adapter.config.applications",t)||{}));e.set("services.NavTargetResolutionInternal.adapter.config.applications",l,o);for(const[t,e]of Object.entries(l)){if(e.additionalInformation){c.applications[t]=n(e,t)}}const u=JSON.parse(JSON.stringify(e.get("services.ClientSideTargetResolution.adapter.config.inbounds",t)||{}));e.set("services.ClientSideTargetResolution.adapter.config.inbounds",u,o);for(const t of Object.values(u)){c.applications[`${t.semanticObject}-${t.action}`]=a(t)}const d=JSON.parse(JSON.stringify(e.get("services.LaunchPage.adapter.config.groups",t)||[]));e.set("services.LaunchPage.adapter.config.groups",d,o);d.forEach((t,e)=>{const i=t.id||`GROUP_${e}`;const o=c.pages.page1;o.payload.layout.sectionOrder.splice(e+1,0,i);o.payload.sections[i]={id:i,title:t.title,layout:{vizOrder:[]},viz:{}};const s=o.payload.sections[i];(t.tiles||[]).forEach((t,e)=>{const o=t.id||`${i}_tile_${e}`;s.layout.vizOrder.push(o);const n=t.formFactor||"Desktop,Tablet,Phone";const a=t.properties||{};const p={vizType:"sap.ushell.StaticAppLauncher",businessApp:"sap.ushell.sandbox.BusinessApp",vizConfig:{"sap.app":{title:t.title||a.title||"",subTitle:a.subtitle||""},"sap.ui":{icons:{icon:a.icon},deviceTypes:{desktop:n.indexOf("Desktop")>-1,tablet:n.indexOf("Tablet")>-1,phone:n.indexOf("Phone")>-1}},"sap.flp":{target:{type:"URL",url:a.targetURL||a.href||"#"}}}};c.visualizations[o]=p;s.viz[o]={id:o,vizId:o}})});delete t.applications;const f=i.getV2ServiceMigrationConfig(o);this.mergeConfig(t,f,true);this.mergeConfig(t,o,true);return t},_applyDefaultUshellConfig:function(t,e){const o=i.getV2ServiceMigrationConfig(t);this.mergeConfig(e,o,true);this.mergeConfig(e,t,true)},_applyDefaultSiteData:function(t,e){const i=e.services.CommonDataModel.adapter.config;i.siteData=t;delete i.siteDataUrl},_applyJsonApplicationConfig:async function(t,e){const o=/\\.json/i.test(t)?t:`${t}.json`;const s=await this._loadJSON(o);if(s){const t=i.getV2ServiceMigrationConfig(s);this.mergeConfig(e,t,true);this.mergeConfig(e,s,true)}},_getBootstrapScriptPath:function(){const t=window.document.getElementById("sap-ushell-bootstrap");const e=`${t.src.split("?")[0].split("/").slice(0,-1).join("/")}/`;return e},bootstrap:async function(){const t=new URLSearchParams(window.location.search).getAll("sap-ushell-sandbox-config");const e=this._getBootstrapScriptPath();const s=`${e}./sandbox2/sandboxConfig.json`;const n=`${e}./sandbox2/sandboxSite.json`;if(t.length===0){t.push("/appconfig/fioriSandboxConfig.json");t.push("../appconfig/fioriSandboxConfig.json")}if(!window["sap-ushell-config"]){window["sap-ushell-config"]={}}const a=window["sap-ushell-config"];i.migrateV2ServiceConfig(a);const[p,c]=await Promise.all([this._loadJSON(s),this._loadJSON(n)]);this._applyDefaultUshellConfig(p,a);this._applyDefaultSiteData(c,a);for(const e of t){await this._applyJsonApplicationConfig(e,a)}this._addAppsToSite(a);const r=sap.ui.require.toUrl("sap/ushell/demo");if(r.indexOf("sap/ushell/demoapps")===-1){sap.ui.loader.config({paths:{"sap/ushell/demo":"/ushell/test-resources/sap/ushell/demoapps"}})}if(a.modulePaths){const t=Object.keys(a.modulePaths).reduce((t,e)=>{t[e.replace(/\\./g,"/")]=a.modulePaths[e];return t},{});sap.ui.loader.config({paths:t})}const[l]=await o.requireAsync(["sap/ushell/Container"]);return l.init("cdm")}};return s});\n',
	"sap/ushell/bootstrap/ui5loader-config.js":function(){
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
(function(){"use strict";const o=window.sap&&window.sap.ui&&window.sap.ui.loader;if(!o){throw new Error("FLP bootstrap: ui5loader is needed, but could not be found")}const i={};const s=document.getElementById("sap-ui-bootstrap");const t=s&&s.getAttribute("src");const n=/^((?:.*\/)?resources\/~\d{14}~\/)/;let e;if(t&&n.test(t)){e=n.exec(t)[1];window["sap-ui-config"]=window["sap-ui-config"]||{};window["sap-ui-config"].resourceRoots=window["sap-ui-config"].resourceRoots||{};window["sap-ui-config"].resourceRoots[""]=e}o.config(i)})();
},
	"sap/ushell/components/appfinder/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.ushell.components.appfinder","applicationVersion":{"version":"1.141.1"},"i18n":{"bundleUrl":"../../renderer/resources/resources.properties","fallbackLocale":"en"},"ach":"CA-FLP-FE-COR","type":"component","title":"{{Component.AppFinder.Title}}","resources":"resources.json"},"sap.ui":{"fullWidth":true,"hideLightBackground":true,"technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"componentName":"sap.ushell.components.appfinder","rootView":{"viewName":"module:sap/ushell/components/appfinder/AppFinderView","async":true},"dependencies":{"minUI5Version":"1.30","libs":{"sap.ui.core":{},"sap.m":{}}},"routing":{"config":{"routerClass":"sap.m.routing.Router","controlId":"catalogViewMasterDetail","controlAggregation":"detailPages","clearAggregation":false,"async":true},"routes":[{"name":"userMenu","pattern":"userMenu/:filters:"},{"name":"sapMenu","pattern":"sapMenu/:filters:"},{"name":"catalog","pattern":["catalog/:filters:","",":filters:"]}]},"services":{"ShellUIService":{"factoryName":"sap.ushell.ui5service.ShellUIService"}},"contentDensities":{"compact":true,"cozy":true}}}',
	"sap/ushell/components/cards/Card.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    controllerName="sap.ushell.components.cards.Card"><GenericTile\n        header="{/data/display_title_text}"\n        subheader="{/data/display_subtitle_text}"\n        press="onPress"><TileContent footer="{i18n>cardTileCaption}" /></GenericTile></mvc:View>\n',
	"sap/ushell/components/cards/Configuration.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:codeeditor="sap.ui.codeeditor"\n    controllerName="sap.ushell.components.cards.Configuration"\n    height="100%"><VBox fitContainer="true" justifyContent="SpaceBetween"><MessageStrip\n            id="messageStrip"\n            showIcon="true"\n            showCloseButton="false"\n            type="Warning"\n            visible="{/config/displayOriginalLanguageWarning}"\n            text="{\n                parts: [\n                    \'i18n>edit_configuration.original_locale_not_fit_message\',\n                    \'/config/originalLanguage\',\n                    \'/config/sapLogonLanguage\'\n                ],\n                \'formatter\': \'.formatter\'\n            }" /><Title text="{i18n>configuration.category.card_manifest}" class="sapUiTinyMargin" /><codeeditor:CodeEditor id="manifestEditor" value="{/data/editorValue}" editable="{/config/manifestEditorEditable}" type="json"><codeeditor:layoutData><FlexItemData growFactor="1" /></codeeditor:layoutData></codeeditor:CodeEditor></VBox></mvc:View>\n',
	"sap/ushell/components/cepsearchresult/app/Main.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc"\n  xmlns="sap.m"\n  xmlns:f="sap.f"\n  width="100%"\n  height="100%"\n  controllerName="sap.ushell.components.cepsearchresult.app.Main"\n  class="sapUiCEPSRApp"\n  visible="false"><VBox id="searchResultHeader" class="sapUiCEPSRHeader"><f:DynamicPageTitle><f:heading><Title id="titleText"/></f:heading><f:navigationActions><Button id="titleButton" icon="sap-icon://overflow" type="Transparent" press="openTitleMenu"/></f:navigationActions></f:DynamicPageTitle><IconTabHeader id="searchCategoriesTabs" mode="Inline" select=".tabSelectionChange" class="sapUiCEPSRTabs"></IconTabHeader></VBox><VBox class="sapUiCEPSRAppScroll"><VBox class="sapUiCEPSRAppContent" id="searchResultContent"></VBox></VBox></mvc:View>\n',
	"sap/ushell/components/cepsearchresult/app/cards/searchresultwidget/manifest.json":'{"sap.app":{"id":"sap.ushell.components.cepsearchresult.app.cards.searchresultwidget","type":"card","title":"{{CARD.Widget.Title}}","subTitle":"{{CARD.Widget.SubTitle}}","applicationVersion":{"version":"1.0.0"},"i18n":{"bundleUrl":"i18n/i18n.properties","supportedLocales":["","ar","bg","ca","cs","da","de","el","en","en_US","en_US_sappsd","en_US_saptrc","es","et","fi","fr","hi","hr","hu","it","iw","ja","kk","ko","lt","lv","ms","nl","no","pl","pt","ro","ru","sh","sk","sl","sv","th","tr","uk","vi","zh_CN","zh_TW"],"fallbackLocale":"en"},"shortTitle":"{{CARD.Widget.SubTitle}}","info":"{{CARD.Widget.SubTitle}}","description":"{{CARD.Widget.SubTitle}}","tags":{"keywords":[]}},"sap.ui":{"technology":"UI5","icons":{"icon":"sap-icon://search"}},"sap.ui5":{"dependencies":{"minUI5Version":"1.106","libs":{"sap.m":{},"sap.f":{},"sap.ui.integration":{}},"components":{"sap.ushell.components.cepsearchresult.app":{"minVersion":"1.100.0","lazy":true}}},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"sap.ushell.components.cepsearchresult.app.cards.searchresultwidget.i18n.i18n","async":true}}}},"sap.card":{"type":"Component","extension":"./Extension","configuration":{"editor":"Config","parameters":{"init":{"value":false},"category":{"value":"app"},"searchTerm":{"value":""},"header":{"value":"default"},"headerNavigation":{"value":true},"view":{"value":"list"},"pageSize":{"value":5},"footer":{"value":"paginator"},"highlightResult":{"value":false}}},"header":{"title":"Custom Title (($count))","subtitle":"Custom Subtitle \'($searchText)\'","visible":"{= ${parameters>/header/value} !== \'none\' && ${parameters>/init/value}}","icon":{"src":"sap-icon://search","shape":"Square","backgroundColor":"Accent10"},"actions":[{"type":"Navigation","enabled":"{parameters>/headerNavigation/value}","parameters":{"ibnTarget":{"semanticObject":"WorkZoneSearchResult","action":"display"},"ibnParams":{"searchTerm":"{parameters>/searchTerm/value}","category":"{parameters>/category/value}","filter":""}}}]}}}',
	"sap/ushell/components/cepsearchresult/app/manifest.json":'{"sap.app":{"id":"sap.ushell.components.cepsearchresult.app","type":"application","applicationVersion":{"version":"1.0.0"},"i18n":{"bundleUrl":"i18n/i18n.properties"},"title":"{{SEARCHRESULTAPP.App.Title}}","subTitle":"{{SEARCHRESULTAPP.App.SubTitle}}"},"sap.ui":{"_version":"1.1.0","icons":{"icon":"sap-icon://search"},"deviceTypes":{"desktop":true,"tablet":true,"phone":true},"supportedThemes":[]},"sap.ui5":{"dependencies":{"libs":{"sap.ui.core":{},"sap.m":{},"sap.ui.integration":{}}},"config":{"fullWidth":true},"models":{"appI18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"sap.ushell.components.cepsearchresult.app.i18n.i18n","async":true}}},"resources":{"css":[{"uri":"./css/style.css"}]},"contentDensities":{"compact":true,"cozy":true},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}}}',
	"sap/ushell/components/contentFinder/dialog/manifest.json":'{"_version":"1.67.0","sap.app":{"id":"sap.ushell.components.contentFinder","applicationVersion":{"version":"1.141.1"},"i18n":"./resources/resources.properties","ach":"CA-FLP-FE-UI","type":"component","title":""},"sap.ui":{"fullWidth":false,"technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"autoPrefixId":true,"componentName":"sap.ushell.components.contentFinder","dependencies":{"minUI5Version":"1.99","libs":{"sap.ui.core":{},"sap.m":{},"sap.f":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"sap.ushell.components.contentFinder.resources.resources","async":true}}},"rootView":{"viewName":"sap.ushell.components.contentFinder.view.ContentFinderDialog","id":"contentFinderDialogView","type":"XML","async":true}}}',
	"sap/ushell/components/contentFinder/manifest.json":'{"_version":"1.67.0","sap.app":{"id":"sap.ushell.components.contentFinder","applicationVersion":{"version":"1.141.1"},"i18n":{"bundleUrl":"./resources/resources.properties","supportedLocales":["","ar","bg","ca","cnr","cs","cy","da","de","el","en","en-GB","en-US-x-sappsd","en-US-x-saprigi","en-US-x-saptrc","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","mk","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-TW"]},"ach":"CA-FLP-FE-UI","type":"component","title":""},"sap.ui":{"fullWidth":false,"technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"autoPrefixId":true,"componentName":"sap.ushell.components.contentFinder","dependencies":{"minUI5Version":"1.99","libs":{"sap.ui.core":{},"sap.m":{},"sap.f":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"sap.ushell.components.contentFinder.resources.resources","async":true,"supportedLocales":["","ar","bg","ca","cnr","cs","cy","da","de","el","en","en-GB","en-US-x-sappsd","en-US-x-saprigi","en-US-x-saptrc","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","mk","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-TW"]}}}}}',
	"sap/ushell/components/contentFinder/view/AppSearch.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:f="sap.f"\n    xmlns:l="sap.ui.layout"\n    xmlns:grid="sap.ui.layout.cssgrid"\n    core:require="{\n        fLibrary: \'sap/f/library\',\n        mLibrary: \'sap/m/library\'\n    }"\n    controllerName="sap.ushell.components.contentFinder.controller.AppSearch"\n    id="contentFinderAppSearchView"\n    height="100%"\n><VBox height="100%"><MessageStrip\n            text="{i18n>ContentFinder.AppSearch.MessageStrip.AppFinderFallbackText}"\n            type="Information"\n            showCloseButton="true"\n            class="sapUiResponsiveMargin"\n            visible="{= !!${ui>/linkToAppFinder} }"\n        ><link><Link text="{i18n>ContentFinder.AppSearch.MessageStrip.AppFinderFallbackLinkText}"\n                    target="_blank"\n                    href="{ui>/linkToAppFinder}" /></link></MessageStrip><f:FlexibleColumnLayout\n            id="contentFinderAppSearchFlexibleColumnLayout"\n            layout="{ui>/layoutType}"\n        ><f:layoutData><FlexItemData growFactor="1" /></f:layoutData><f:beginColumnPages><Page\n                    id="contentFinderAppSearchCategoryTreePage"\n                    enableScrolling="true"\n                    showHeader="false"\n                    backgroundDesign="List"\n                ><core:Fragment\n                        fragmentName="sap.ushell.components.contentFinder.view.AppSearchCategoryTree"\n                        type="XML"\n                        id="CategoryTreeFragment"\n                    /><core:Fragment\n                        fragmentName="sap.ushell.components.contentFinder.view.AppSearchCategoryTreeTable"\n                        type="XML"\n                        id="CategoryTreeTableFragment"\n                    /></Page></f:beginColumnPages><f:midColumnPages><Page\n                    id="contentFinderAppSearchDetailPage"\n                    enableScrolling="false"\n                    showHeader="false"\n                ><l:FixFlex\n                        id="contentFinderAppSearchLayout"\n                        minFlexSize="1px"\n                    ><l:fixContent><OverflowToolbar\n                                id="appSearchOverflowToolbar"\n                                asyncMode="false"\n                                style="Clear"\n                                class="contentFinderToolbar sapUiResponsiveMargin"\n                            ><OverflowToolbarToggleButton\n                                    id="categoryTreeToggleButton"\n                                    icon="sap-icon://menu2"\n                                    tooltip="{=\n                                        ${ui>/categoryTree/visible}\n                                        ? ${i18n>ContentFinder.AppSearch.Button.Tooltip.HideCatalogsTree}\n                                        : ${i18n>ContentFinder.AppSearch.Button.Tooltip.ShowCatalogsTree}\n                                    }"\n                                    press=".onCategoryTreeTogglePressed"\n                                    visible="{= (${ui>/componentSettings/showCategoryTreeWhenEmpty} || ${ui>/categoryTree/hasData})}"\n                                    pressed="{ui>/categoryTree/visible}"\n                                /><Title\n                                    id="appSearchVisualizationsTitle"\n                                    titleStyle="H5"\n                                    text="{\n                                        parts: [\n                                            \'ui>/visualizations/filters/selected\',\n                                            \'ui>/visualizations/filters/available\',\n                                            \'ui>/visualizations/filters/filterIsTitle\',\n                                            \'ui>/visualizations/searchTerm\',\n                                            \'ui>/categoryTree/selectedTitle\',\n                                            \'ui>/visualizations/showSelectedPressed\',\n                                            \'selection>/visualizations/items/length\',\n                                            \'data>/visualizations/items\',\n                                            \'data>/visualizations/totalCount\'\n                                        ], formatter: \'.formatter.formatAppSearchTitle\' }"\n                                ><layoutData><OverflowToolbarLayoutData\n                                            minWidth="6rem"\n                                            shrinkable="true"\n                                            priority="NeverOverflow"\n                                        /></layoutData></Title><SegmentedButton\n                                    id="selectVisualizationsFilter"\n                                    items="{ui>/visualizations/filters/available}"\n                                    selectedKey="{ui>/visualizations/filters/selected}"\n                                    selectionChange=".onSelectVisualizationsFilter"\n                                    enabled="{= ${selection>/visualizations/items/length} === 0 &amp;&amp; ${ui>/visualizations/loaded} }"\n                                    visible="{= !${ui>/visualizations/showSelectedPressed}\n                                        &amp;&amp; ${ui>/visualizations/filters/displayed/length} > 1\n                                        &amp;&amp; ${ui>/visualizations/filters/available/length} > 1\n                                    }"\n                                ><layoutData><OverflowToolbarLayoutData\n                                            priority="Low"\n                                        /></layoutData><items><SegmentedButtonItem\n                                            key="{ui>key}"\n                                            text="{ui>title}"\n                                            tooltip="{ui>title}"\n                                        /></items></SegmentedButton><ToolbarSpacer /><SearchField\n                                    id="appSearchField"\n                                    placeholder="{i18n>ContentFinder.AppSearch.SearchPlaceholder}"\n                                    search=".onSearch"\n                                    value="{ui>/visualizations/searchFieldValue}"\n                                ><layoutData><OverflowToolbarLayoutData\n                                            minWidth="6rem"\n                                            maxWidth="13.75rem"\n                                            shrinkable="false"\n                                            priority="High"\n                                        /></layoutData></SearchField><OverflowToolbarToggleButton\n                                    id="showAllSelectedBtn"\n                                    visible="{ui>/componentSettings/enablePersonalization}"\n                                    pressed="{ui>/visualizations/showSelectedPressed}"\n                                    enabled="{= ${selection>/visualizations/items/length} > 0 || ${ui>/visualizations/showSelectedPressed} }"\n                                    icon="sap-icon://multi-select"\n                                    text="{i18n>ContentFinder.AppSearch.Button.Tooltip.ShowSelected}"\n                                    tooltip="{= ${ui>/visualizations/showSelectedPressed} ? ${i18n>ContentFinder.AppSearch.Button.Tooltip.ShowAll} : ${i18n>ContentFinder.AppSearch.Button.Tooltip.ShowSelected}}"\n                                    press=".onShowSelectedPressed"\n                                ><layoutData><OverflowToolbarLayoutData\n                                            shrinkable="false"\n                                            priority="Low"\n                                        /></layoutData></OverflowToolbarToggleButton><SegmentedButton\n                                    id="selectListView"\n                                    selectionChange=".onViewSelectionChange"\n                                ><layoutData><OverflowToolbarLayoutData\n                                            priority="Low"\n                                        /></layoutData><items><SegmentedButtonItem\n                                            id="gridBtn"\n                                            icon="sap-icon://table-view"\n                                            tooltip="{i18n>ContentFinder.AppSearch.Button.Tooltip.GridView}"\n                                        /><SegmentedButtonItem\n                                            id="listBtn"\n                                            icon="sap-icon://list"\n                                            key="list"\n                                            tooltip="{i18n>ContentFinder.AppSearch.Button.Tooltip.ListView}"\n                                        /></items></SegmentedButton></OverflowToolbar></l:fixContent><l:flexContent><Page\n                                id="contentPage"\n                                showHeader="false"\n                                busy="{= !${ui>/visualizations/loaded}}"\n                            ><ScrollContainer class="sapUiResponsiveContentPadding" horizontal="false" vertical="true" height="100%"><Table\n                                        id="visualizationsTable"\n                                        fixedLayout="false"\n                                        includeItemInSelection="true"\n                                        updateStarted=".onUpdateStarted"\n                                        items="{\n                                            model: \'data\',\n                                            path: \'/visualizations/items\',\n                                            parameters: { totalCountPropertyPath: \'/visualizations/totalCount\' }\n                                        }"\n                                        mode="{ parts: [\n                                                \'ui>/componentSettings/enablePersonalization\',\n                                                \'ui>/visualizations/filters/selected\'\n                                            ], formatter: \'.formatter.formatVisualizationsListMode\'\n                                        }"\n                                        multiSelectMode="ClearAll"\n                                        growingScrollToLoad="true"\n                                        growingThreshold="{ui>/visualizations/growingThreshold}"\n                                        selectionChange=".onAppBoxSelected"\n                                        popinLayout="GridSmall"\n                                        sticky="{= mLibrary.Sticky.ColumnHeaders}"\n                                        rememberSelections="false"\n                                        visible="{ui>/visualizations/listView}"\n                                    ><columns><Column><Text\n                                                    id="applicationColumn"\n                                                    text="{i18n>ContentFinder.AppSearch.Label.Application}"\n                                                    tooltip="{i18n>ContentFinder.AppSearch.Label.Application}"\n                                                /></Column><Column\n                                                minScreenWidth="Small"\n                                                demandPopin="true"\n                                            ><Text\n                                                    id="appIdColumn"\n                                                    text="{i18n>ContentFinder.AppSearch.Label.FioriId}"\n                                                    tooltip="{i18n>ContentFinder.AppSearch.Label.FioriId}"\n                                                /></Column><Column\n                                                minScreenWidth="Medium"\n                                                demandPopin="true"\n                                            ><Text\n                                                    id="systemIdColumn"\n                                                    text="{i18n>ContentFinder.AppSearch.Label.SystemId}"\n                                                    tooltip="{i18n>ContentFinder.AppSearch.Label.SystemId}"\n                                                /></Column><Column\n                                                minScreenWidth="Large"\n                                                demandPopin="true"\n                                            ><Text\n                                                    id="informationColumn"\n                                                    text="{i18n>ContentFinder.AppSearch.Label.Information}"\n                                                    tooltip="{i18n>ContentFinder.AppSearch.Label.Information}"\n                                                /></Column><Column\n                                                minScreenWidth="XSmall"\n                                                demandPopin="true"\n                                                visible="{ui>/componentSettings/showApplicationLaunchButton}"\n                                            ><Text\n                                                    id="actionsColumn"\n                                                    text="{i18n>ContentFinder.AppSearch.Label.Actions}"\n                                                    tooltip="{i18n>ContentFinder.AppSearch.Label.Actions}"\n                                                /></Column></columns><items><core:Fragment\n                                                id="tilesListItems"\n                                                fragmentName="sap.ushell.components.contentFinder.view.AppSearchList"\n                                                type="XML"\n                                            /></items><noData><core:Fragment\n                                                id="VisualizationsNoDataIllustratedMessage"\n                                                fragmentName="sap.ushell.components.contentFinder.view.VisualizationsNoDataIllustratedMessage"\n                                                type="XML"\n                                            /></noData></Table><f:GridList\n                                        id="visualizationsGridList"\n                                        includeItemInSelection="true"\n                                        mode="{ parts: [\n                                                \'ui>/componentSettings/enablePersonalization\',\n                                                \'ui>/visualizations/filters/selected\'\n                                            ], formatter: \'.formatter.formatVisualizationsListMode\'\n                                        }"\n                                        growing="true"\n                                        growingScrollToLoad="true"\n                                        growingThreshold="{ui>/visualizations/growingThreshold}"\n                                        updateStarted=".onUpdateStarted"\n                                        items="{\n                                            model: \'data\',\n                                            key: \'id\',\n                                            path: \'/visualizations/items\',\n                                            parameters: { totalCountPropertyPath: \'/visualizations/totalCount\' }\n                                        }"\n                                        selectionChange=".onAppBoxSelected"\n                                        rememberSelections="false"\n                                        visible="{= !${ui>/visualizations/listView} }"\n                                    ><f:customLayout><grid:GridResponsiveLayout\n                                                containerQuery="true"\n                                            ><grid:layout><grid:GridSettings\n                                                        gridTemplateColumns="{= ${data>/visualizations/items}.length > 0 ? \'repeat(auto-fill, 19.0625rem)\' : \'\'}"\n                                                        gridAutoRows="{= ${data>/visualizations/items}.length > 0 ? \'12.75rem\' : \'\'}"\n                                                        gridGap="{= ${data>/visualizations/items}.length > 0 ? \'1rem\' : \'\'}"\n                                                    /></grid:layout></grid:GridResponsiveLayout></f:customLayout><core:Fragment\n                                            id="tilesBox"\n                                            fragmentName="sap.ushell.components.contentFinder.view.AppSearchBox"\n                                            type="XML"\n                                        /><f:noData><core:Fragment\n                                                id="VisualizationsNoDataIllustratedMessage"\n                                                fragmentName="sap.ushell.components.contentFinder.view.VisualizationsNoDataIllustratedMessage"\n                                                type="XML"\n                                            /></f:noData></f:GridList></ScrollContainer></Page></l:flexContent></l:FixFlex></Page></f:midColumnPages></f:FlexibleColumnLayout></VBox></mvc:View>\n',
	"sap/ushell/components/contentFinder/view/AppSearchBox.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:launchpad="sap.ushell.ui.launchpad"\n    core:require="{ formatMessage: \'sap/base/strings/formatMessage\' }"\n><CustomListItem\n        id="searchResult"\n        class="contentFinderAppBox"\n        highlight="{parts: [\'data>id\', \'data>/visualizations/restrictedItems\'], formatter: \'.formatter.formatIsVisualizationAdded\'}"\n        selected="{\n            parts: [\n                \'data>id\',\n                \'selection>/visualizations/items\'\n            ], formatter: \'.formatter.formatVisualizationSelected\'\n        }"\n        accDescription="{\n            parts: [\n                \'data>title\',\n                \'data>subtitle\',\n                \'data>id\',\n                \'i18n>ContentFinder.AppSearch.Label.FioriId\',\n                \'data>appId\',\n                \'i18n>ContentFinder.AppSearch.Label.SystemLabel\',\n                \'data>systemLabel\',\n                \'i18n>ContentFinder.AppSearch.Label.Information\',\n                \'data>info\',\n                \'i18n>ContentFinder.AppSearch.Text.LocalContentProvider\',\n                \'ui>/componentSettings/showAppBoxFieldsPlaceholder\',\n                \'i18n>ContentFinder.AppSearch.Text.FieldEmpty\',\n                \'i18n>ContentFinder.AppSearch.Message.AlreadyUsed\',\n                \'ui>/componentSettings/showLaunchButton\'\n            ],\n            formatter: \'.formatter.formatAppBoxAccDescription\'\n        }"\n    ><customData><launchpad:AccessibilityCustomData\n                writeToDom="true"\n                key="help-id"\n                value="{= ${data>dataHelpId} }"\n            /></customData><VBox\n            id="content"\n            justifyContent="SpaceBetween"\n            fitContainer="true"\n        ><HBox\n                alignItems="Stretch"\n                id="contentHeader"\n            ><layoutData><FlexItemData\n                        shrinkFactor="0"\n                        growFactor="0"\n                    /></layoutData><VBox\n                    id="avatar"\n                    class="sapUiTinyMarginEnd"\n                    visible="{= !!${data>icon} }"\n                ><Avatar\n                        id="appAvatar"\n                        visible="{= !!${data>icon} }"\n                        src="{= ${data>icon} }"\n                        backgroundColor="Transparent"\n                        showBorder="true"\n                        displaySize="XS"\n                    /></VBox><VBox\n                    id="title"\n                    justifyContent="Center"\n                ><Text\n                        id="appTitle"\n                        wrapping="true"\n                        maxLines="2"\n                        text="{= ${data>title} }"\n                        class="contentFinderAppBoxTitle"\n                        visible="{= !!${data>title} }"\n                        tooltip="{= ${data>title} }"\n                    /><Text\n                        id="appSubTitle"\n                        wrapping="false"\n                        text="{= ${data>subtitle} }"\n                        width="13rem"\n                        class="contentFinderAppBoxSubtitle"\n                        visible="{= !!${data>subtitle} }"\n                        tooltip="{= ${data>subtitle} }"\n                    /></VBox></HBox><VBox id="shrinkableVBox"><layoutData><FlexItemData\n                        shrinkFactor="1"\n                        growFactor="1"\n                    /></layoutData></VBox><HBox\n                id="appInformation"\n                height="64px"\n                alignItems="Stretch"\n                class="sapUiTinyMarginBottom"\n            ><layoutData><FlexItemData\n                        shrinkFactor="0"\n                        growFactor="0"\n                    /></layoutData><VBox\n                    id="labels"\n                    class="sapUiTinyMarginEnd contentFinderAppBoxLabel"\n                    justifyContent="Start"\n                ><Label\n                        id="appIdLabel"\n                        showColon="true"\n                        visible="{= !!(${ui>/componentSettings/showAppBoxFieldsPlaceholder} || ${data>appId}) }"\n                        text="{i18n>ContentFinder.AppSearch.Label.FioriId}"\n                        tooltip="{i18n>ContentFinder.AppSearch.Label.FioriId}"\n                        class="sapUiTinyMarginEnd"\n                    /><Label\n                        id="appSystemLabel"\n                        showColon="true"\n                        text="{i18n>ContentFinder.AppSearch.Label.SystemLabel}"\n                        tooltip="{i18n>ContentFinder.AppSearch.Label.SystemLabel}"\n                        class="sapUiTinyMarginEnd"\n                    /><Label\n                        id="informationLabel"\n                        showColon="true"\n                        visible="{= !!(${ui>/componentSettings/showAppBoxFieldsPlaceholder} || ${data>info}) }"\n                        text="{i18n>ContentFinder.AppSearch.Label.Information}"\n                        tooltip="{i18n>ContentFinder.AppSearch.Label.Information}"\n                        class="sapUiTinyMarginEnd"\n                    /></VBox><VBox\n                    id="texts"\n                    width="0px"\n                    justifyContent="Start"\n                    class="contentFinderAppBoxValue"\n                ><layoutData><FlexItemData growFactor="1" /></layoutData><Text\n                        id="appId"\n                        wrapping="false"\n                        visible="{= !!(${ui>/componentSettings/showAppBoxFieldsPlaceholder} || ${data>appId}) }"\n                        text="{= ${data>appId} || ${i18n>ContentFinder.AppSearch.Text.FieldEmpty} }"\n                        tooltip="{= ${data>appId} || ${i18n>ContentFinder.AppSearch.Text.FieldEmpty} }"\n                    /><Text\n                        id="systemLabel"\n                        wrapping="false"\n                        text="{= ${data>systemLabel} || ${i18n>ContentFinder.AppSearch.Text.LocalContentProvider} }"\n                        tooltip="{= ${data>systemLabel} || ${i18n>ContentFinder.AppSearch.Text.LocalContentProvider} }"\n                    /><Text\n                        id="info"\n                        wrapping="false"\n                        visible="{= !!(${ui>/componentSettings/showAppBoxFieldsPlaceholder} || ${data>info}) }"\n                        text="{= ${data>info} || ${i18n>ContentFinder.AppSearch.Text.FieldEmpty} }"\n                        tooltip="{= ${data>info} || ${i18n>ContentFinder.AppSearch.Text.FieldEmpty} }"\n                    /></VBox></HBox><HBox\n                id="actions"\n                justifyContent="End"\n                alignItems="Center"\n                height="2.25rem"\n            ><layoutData><FlexItemData\n                        shrinkFactor="0"\n                        growFactor="0"\n                    /></layoutData><Button\n                    id="applicationLaunchButton"\n                    icon="sap-icon://popup-window"\n                    type="Transparent"\n                    visible="{= !!(${ui>/componentSettings/showApplicationLaunchButton} &amp;&amp; ${data>launchUrl}) }"\n                    press=".onLaunchApplicationPressed"\n                    tooltip="{\n                        parts: [\n                            {path: \'i18n>ContentFinder.AppSearch.Button.Tooltip.LaunchApplication\'},\n                            \'data>title\'\n                        ],\n                        formatter: \'formatMessage\'\n                    }"\n                /></HBox></VBox></CustomListItem></core:FragmentDefinition>\n',
	"sap/ushell/components/contentFinder/view/AppSearchCategoryTree.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    core:require="{\n        fLibrary: \'sap/f/library\'\n    }"\n><ScrollContainer id="CategoryScrollContainer" width="100%" height="100%" vertical="true" visible="{= !${ui>/largeDataSet} }"><Tree\n            id="CategoryTree"\n            sticky="HeaderToolbar"\n            mode="SingleSelectMaster"\n            itemPress=".onCategoryTreeItemPressed"\n            updateFinished=".onCategoryTreeUpdateFinished"\n            items="{\n                path: \'/categoryTree\',\n                parameters: {\n                    numberOfExpandedLevels: 1,\n                    arrayNames: [\'nodes\']\n                }\n            }"\n            rememberSelections="false"\n        ><noData><IllustratedMessage\n                    id="illustratedMessageNoDataInCategoryTree"\n                    illustrationType="sapIllus-NoData"\n                    title="{i18n>ContentFinder.CategoryTree.NoData.Title}"\n                    description="{i18n>ContentFinder.CategoryTree.NoData.Description}" /></noData><headerToolbar><Toolbar><SearchField\n                        id="CategorySearch"\n                        placeholder="{i18n>ContentFinder.CategoryTree.Search}"\n                        width="100%"\n                        liveChange=".onCatalogTreeSearch"\n                    /><ToolbarSpacer /><Button\n                        id="categoryTreeCloseButton"\n                        text="{i18n>ContentFinder.CategoryTree.Close}"\n                        press=".onCategoryTreeTogglePressed"\n                        visible="{= ${ui>/layoutType} === fLibrary.LayoutType.OneColumn }"\n                    /></Toolbar></headerToolbar><items><CustomTreeItem\n                    id="CategoryTreeItem"\n                    type="{= ${inactive} === true ? \'Inactive\' : \'Active\'}"\n                ><content><ObjectIdentifier\n                            title="{title}"\n                            text="{parts: [\n                                    {path: \'contentProviderId\'},\n                                    {path: \'contentProviderLabel\'}\n                                ],\n                                formatter: \'.formatter.formatCategoryDescription\'\n                            }"\n                            class="sapUiTinyMarginEnd" /></content></CustomTreeItem></items></Tree></ScrollContainer></core:FragmentDefinition>\n',
	"sap/ushell/components/contentFinder/view/AppSearchCategoryTreeTable.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:table="sap.ui.table"\n    core:require="{\n        fLibrary: \'sap/f/library\'\n    }"\n><table:TreeTable\n\n            id="CategoryTreeTable"\n            selectionMode="Single"\n            selectionBehavior="RowOnly"\n            rowSelectionChange=".onCategoryTreeTableItemPressed"\n            columnHeaderVisible="false"\n            rows="{\n                path: \'/categoryTree\',\n                parameters: {\n                    numberOfExpandedLevels: 1,\n                    arrayNames: [\'nodes\']\n                }\n            }"\n            visibleRowCountMode="Auto"\n            visible="{= ${ui>/largeDataSet} }"\n        ><table:extension><Toolbar><SearchField\n                        id="CategorySearch"\n                        placeholder="{i18n>ContentFinder.CategoryTree.Search}"\n                        width="100%"\n                        liveChange=".onCatalogTreeTableSearch"\n                    /><ToolbarSpacer /><Button\n                        id="categoryTreeTableCloseButton"\n                        text="{i18n>ContentFinder.CategoryTree.Close}"\n                        press=".onCategoryTreeTogglePressed"\n                        visible="{= ${ui>/layoutType} === fLibrary.LayoutType.OneColumn }"\n                    /></Toolbar></table:extension><table:noData><IllustratedMessage\n                    id="illustratedMessageNoDataInCategoryTreeTable"\n                    illustrationType="sapIllus-NoData"\n                    title="{i18n>ContentFinder.CategoryTree.NoData.Title}"\n                    description="{i18n>ContentFinder.CategoryTree.NoData.Description}" /></table:noData><table:columns><table:Column><Label text="{i18n>ContentFinder.CategoryTree.Column.Title}" /><table:template><VBox class="sapUiTinyMarginTopBottom"><Label text="{title}" tooltip="{title}" design="Bold"/><Label\n                            text="{parts: [\n                                    {path: \'contentProviderId\'},\n                                    {path: \'contentProviderLabel\'}\n                                ],\n                                formatter: \'.formatter.formatCategoryDescription\'\n                            }"\n                            tooltip="{parts: [\n                                {path: \'contentProviderId\'},\n                                {path: \'contentProviderLabel\'}\n                                ],\n                                formatter: \'.formatter.formatCategoryDescription\'\n                            }"\n                            visible="{parts: [\n                                    {path: \'contentProviderId\'},\n                                    {path: \'contentProviderLabel\'}\n                                ],\n                                formatter: \'.formatter.isCategoryVisible\'\n                            }"/></VBox></table:template></table:Column></table:columns></table:TreeTable></core:FragmentDefinition>\n',
	"sap/ushell/components/contentFinder/view/AppSearchList.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:launchpad="sap.ushell.ui.launchpad"\n    core:require="{ formatMessage: \'sap/base/strings/formatMessage\' }"\n><ColumnListItem\n        id="contentFinderAppSearchItems"\n        class="contentFinderAppBox"\n        highlight="{parts: [\'data>id\', \'data>/visualizations/restrictedItems\'], formatter: \'.formatter.formatIsVisualizationAdded\'}"\n        selected="{\n            parts: [\n                \'data>id\',\n                \'selection>/visualizations/items\'\n            ], formatter: \'.formatter.formatVisualizationSelected\'\n        }"\n    ><customData><launchpad:AccessibilityCustomData\n                writeToDom="true"\n                key="help-id"\n                value="{= ${data>dataHelpId} }"\n            /></customData><cells><HBox id="applicationItem"><VBox\n                    id="avatar"\n                    visible="{= !!${data>icon} }"\n                    class="sapUiTinyMarginEnd"\n                ><Avatar\n                        id="appAvatar"\n                        visible="{= !!${data>icon} }"\n                        src="{= ${data>icon} }"\n                        backgroundColor="Transparent"\n                        showBorder="true"\n                        displaySize="XS"\n                    /></VBox><VBox\n                    id="title"\n                    justifyContent="Center"\n                ><Text\n                        id="appTitle"\n                        text="{= ${data>title} }"\n                        class="contentFinderAppBoxTitle"\n                        visible="{= !!${data>title} }"\n                        tooltip="{= ${data>title} }"\n                    /><Text\n                        id="appSubTitle"\n                        text="{= ${data>subtitle} }"\n                        class="contentFinderAppBoxSubtitle"\n                        visible="{= !!${data>subtitle} }"\n                        tooltip="{= ${data>subtitle} }"\n                    /></VBox></HBox><Text\n                id="appId"\n                visible="{= !!(${ui>/componentSettings/showAppBoxFieldsPlaceholder || ${data>appId}) }"\n                text="{= ${data>appId} || ${i18n>ContentFinder.AppSearch.Text.FieldEmpty} }"\n                tooltip="{= ${data>appId} || ${i18n>ContentFinder.AppSearch.Text.FieldEmpty} }"\n            /><Text\n                id="systemLabel"\n                text="{= ${data>systemLabel} || ${i18n>ContentFinder.AppSearch.Text.LocalContentProvider} }"\n                tooltip="{= ${data>systemLabel} || ${i18n>ContentFinder.AppSearch.Text.LocalContentProvider} }"\n            /><Text\n                id="info"\n                visible="{= !!(${ui>/componentSettings/showAppBoxFieldsPlaceholder} || ${data>info}) }"\n                text="{= ${data>info} || ${i18n>ContentFinder.AppSearch.Text.FieldEmpty} }"\n                tooltip="{= ${data>info} || ${i18n>ContentFinder.AppSearch.Text.FieldEmpty} }"\n            /><Button\n                id="applicationLaunchButton"\n                class="sapUiSmallMarginBegin"\n                icon="sap-icon://popup-window"\n                type="Transparent"\n                press=".onLaunchApplicationPressed"\n                visible="{= !!(${ui>/componentSettings/showApplicationLaunchButton} &amp;&amp; ${data>launchUrl}) }"\n                tooltip="{parts: [\n                        {path: \'i18n>ContentFinder.AppSearch.Button.Tooltip.LaunchApplication\'},\n                        \'data>title\'\n                    ], formatter: \'formatMessage\'}"\n            /></cells></ColumnListItem></core:FragmentDefinition>\n',
	"sap/ushell/components/contentFinder/view/ContentFinderDialog.view.xml":'<mvc:View\n    id="contentFinderView"\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    height="100%"\n    controllerName="sap.ushell.components.contentFinder.controller.ContentFinderDialog"\n    core:require="{ formatMessage: \'sap/base/strings/formatMessage\' }"\n><Dialog\n        id="contentFinderDialog"\n        contentWidth="{= ${ui>/componentSettings/showCategoryTreeWhenEmpty} || ${ui>/categoryTree/hasData} ? \'69rem\' : \'64.5rem\'}"\n        contentHeight="80%"\n        draggable="true"\n        resizable="true"\n        closeOnNavigation="true"\n        class="sapUiNoContentPadding"\n        horizontalScrolling="false"\n        verticalScrolling="false"\n        afterClose=".onAfterClose"\n        title="{i18n>ContentFinder.Dialog.Title}"\n    ><content><Page\n                id="contentFinderAppSearchPage"\n                enableScrolling="false"\n                showHeader="false"\n            ><mvc:XMLView\n                    id="contentFinderAppSearchView"\n                    async="true"\n                    height="100%"\n                    viewName="sap.ushell.components.contentFinder.view.AppSearch"\n                /></Page></content><beginButton><Button\n                id="addVisualizationsButton"\n                type="Emphasized"\n                visible="{= ${ui>/componentSettings/enablePersonalization} &amp;&amp; ${ui>/visualizations/filters/selected} === \'tiles\' }"\n                text="{\n                    parts: [\n                        {path: \'i18n>ContentFinder.Button.Add\'},\n                        {path: \'selection>/visualizations/items/length\'}\n                    ],\n                    formatter: \'formatMessage\'\n                }"\n                enabled="{= ${selection>/visualizations/items/length} > 0}"\n                press=".onAddButtonPressed"\n            /></beginButton><endButton><Button\n                id="cancelButton"\n                text="{i18n>ContentFinder.Button.Cancel}"\n                press=".onCancelButtonPressed"\n            /></endButton></Dialog></mvc:View>\n',
	"sap/ushell/components/contentFinder/view/VisualizationsNoDataIllustratedMessage.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"><IllustratedMessage\n        visible="{ui>/visualizations/loaded}"\n        illustrationType="{\n            parts: [\n                \'ui>/visualizations/searchTerm\',\n                \'ui>/customErrorMessage/type\'\n            ], formatter: \'.formatter.formatVisualizationsNoDataIllustratedMessageType\' }"\n        title="{\n            parts: [\n                \'ui>/categoryTree/itemPressed\',\n                \'ui>/visualizations/searchTerm\',\n                \'i18n>ContentFinder.AppSearch.IllustratedMessage.Tiles.NoData.Title\',\n                \'ui>/customErrorMessage/title\'\n            ], formatter: \'.formatter.formatVisualizationsNoDataIllustratedMessageTitle\' }"\n        description="{\n            parts: [\n                \'ui>/categoryTree/itemPressed\',\n                \'ui>/visualizations/searchTerm\',\n                \'ui>/componentSettings/noItemsInCatalogDescription\',\n                \'ui>/customErrorMessage/description\'\n            ], formatter: \'.formatter.formatVisualizationsNoDataIllustratedMessageDescription\' }"\n\n    /></core:FragmentDefinition>\n',
	"sap/ushell/components/contentFinderStandalone/manifest.json":'{"_version":"1.67.0","sap.app":{"id":"sap.ushell.components.contentFinderStandalone","applicationVersion":{"version":"1.141.1"},"i18n":{"bundleUrl":"./resources/resources.properties","supportedLocales":["","ar","bg","ca","cnr","cs","cy","da","de","el","en","en-GB","en-US-x-saprigi","en-US-x-saptrc","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","mk","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-TW"]},"ach":"CA-FLP-FE-UI","type":"component","title":""},"sap.ui":{"fullWidth":true,"technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"autoPrefixId":true,"componentName":"sap.ushell.components.contentFinderStandalone","componentUsages":{"appSearch":{"settings":{"id":"contentFinderAppSearch","enablePersonalization":false,"noItemsInCatalogDescription":"{{ContentFinderStandalone.AppSearch.IllustratedMessage.NoItems.InCatalog.Description}}","showAppBoxFieldsPlaceholder":false,"showApplicationLaunchButton":true,"showCategoryTreeWhenEmpty":false},"componentData":{"visualizationFilters":{"displayed":["tiles"],"selected":"tiles","available":[{"key":"tiles","title":"{{ContentFinderStandalone.AppSearch.VisualizationsFilter.Tiles}}","types":["sap.ushell.StaticAppLauncher","sap.ushell.DynamicAppLauncher","ssuite.smartbusiness.tiles.dual","ssuite.smartbusiness.tiles.numeric","ssuite.smartbusiness.tiles.contribution","ssuite.smartbusiness.tiles.deviation","ssuite.smartbusiness.tiles.trend","ssuite.smartbusiness.tiles.comparison"]}]}},"name":"sap.ushell.components.contentFinder","lazy":true}},"dependencies":{"minUI5Version":"1.123","libs":{"sap.ui.core":{},"sap.m":{},"sap.f":{}}},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"sap.ushell.components.contentFinderStandalone.resources.resources","async":true,"supportedLocales":["","ar","bg","ca","cnr","cs","cy","da","de","el","en","en-GB","en-US-x-saprigi","en-US-x-saptrc","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","mk","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-TW"]}}},"routing":{"config":{"routerClass":"sap.m.routing.Router","async":true},"routes":[]},"contentDensities":{"compact":true,"cozy":true},"services":{"ShellUIService":{"factoryName":"sap.ushell.ui5service.ShellUIService"}}}}',
	"sap/ushell/components/contentFinderStandalone/view/ContentFinderStandalone.view.xml":'<mvc:View\n    id="contentFinderStandaloneView"\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    height="100%"\n    controllerName="sap.ushell.components.contentFinderStandalone.controller.ContentFinderStandalone"\n><core:ComponentContainer\n        id="contentFinderStandaloneComponentContainer"\n        usage="appSearch"\n        height="100%"\n        componentCreated=".appSearchComponentCreated"\n        async="true"\n    /></mvc:View>\n',
	"sap/ushell/components/homeApp/error/HomeAppError.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:launchpad="sap.ushell.ui.launchpad"\n    controllerName="sap.ushell.components.homeApp.error.HomeAppError"\n    height="100%"><IllustratedMessage\n        id="errorPage"\n        illustrationType="sapIllus-UnableToLoad"\n        enableDefaultTitleAndDescription="false"\n        icon="{/icon}"\n        title="{/text}"\n        description="{/description}"><additionalContent><Button\n                text="{i18n>HomeApp.CannotLoadApp.CopyButton}"\n                press=".onCopyErrorDetailsPress" /></additionalContent></IllustratedMessage></mvc:View>',
	"sap/ushell/components/homeApp/error/manifest.json":'{"_version":"1.0.0","sap.fiori":{"registrationIds":[""]},"sap.app":{"id":"sap.ushell.components.homeApp.error","applicationVersion":{"version":"1.0.0"},"i18n":{"bundleUrl":"../../renderer/resources/resources.properties","supportedLocales":["","ar","bg","ca","cs","da","de","el","en","en_US","en_US_sappsd","en_US_saptrc","es","et","fi","fr","hi","hr","hu","it","iw","ja","kk","ko","lt","lv","ms","nl","no","pl","pt","ro","ru","sh","sk","sl","sv","th","tr","uk","vi","zh_CN","zh_TW"],"fallbackLocale":"en"},"ach":"CA-FLP-FE-COR","type":"component","title":"","resources":"resources.json"},"sap.ui":{"technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"componentName":"sap.ushell.components.homeApp.error","rootView":{"viewName":"sap.ushell.components.homeApp.error.HomeAppError","type":"XML","async":true},"dependencies":{"minUI5Version":"1.100","libs":{"sap.ui.core":{},"sap.m":{}}},"contentDensities":{"compact":true,"cozy":true}}}',
	"sap/ushell/components/homepage/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.ushell.components.homepage","applicationVersion":{"version":"1.141.1"},"i18n":{"bundleUrl":"../../renderer/resources/resources.properties","supportedLocales":["","ar","bg","ca","cs","da","de","el","en","en_US","en_US_sappsd","en_US_saptrc","es","et","fi","fr","hi","hr","hu","it","iw","ja","kk","ko","lt","lv","ms","nl","no","pl","pt","ro","ru","sh","sk","sl","sv","th","tr","uk","vi","zh_CN","zh_TW"],"fallbackLocale":"en"},"ach":"CA-FLP-FE-COR","type":"component","title":"{{Component.Homepage.Title}}","resources":"resources.json"},"sap.ui":{"fullWidth":true,"hideLightBackground":true,"technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"componentName":"sap.ushell.components.homepage","dependencies":{"minUI5Version":"1.30","libs":{"sap.ui.core":{},"sap.m":{}}},"contentDensities":{"compact":true,"cozy":true}}}',
	"sap/ushell/components/pages/MoveVisualization.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"><SelectDialog\n        items="{}"\n        search="_onMoveTileSearch"\n        title="{i18n>PageRuntime.Dialog.Title.MoveVisualization}"\n        confirm="_confirmSelect"\n        cancel="_onMoveTileDialogClose"\n        contentWidth="400px"\n        contentHeight="auto"><StandardListItem title="{title}" /></SelectDialog></core:FragmentDefinition>\n',
	"sap/ushell/components/pages/fragment/DialogPageNotExists.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Dialog\n        id="pageNotExistsDialog"\n        title="{i18n>PageRuntime.CannotLoadPage.ErrorTitle}"\n        class="sapUiResponsivePadding"\n        state="Error"><content><VBox class="sapUiSmallMargin"><Text text="{errorPage>/details}" /><Text class="sapUiSmallMarginTop" text="{errorPage>/technicalError}" /><Text class="sapUiSmallMarginTop" text="{errorPage>/pageAndSpaceId}" /></VBox></content><beginButton><Button\n                id="pageNotExistsDialogCopyButton"\n                text="{i18n>PageRuntime.CannotLoadPage.CopyButton}"\n                press="._copyToClipboard" /></beginButton><endButton><Button\n                id="pageNotExistsDialogCancelButton"\n                text="{i18n>PageRuntime.CannotLoadPage.CloseButton}"\n                press="._onDialogClose"\n                type="Emphasized" /></endButton></Dialog></core:FragmentDefinition>\n',
	"sap/ushell/components/pages/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.ushell.components.pages","applicationVersion":{"version":"1.141.1"},"i18n":{"bundleUrl":"../../renderer/resources/resources.properties","supportedLocales":["","ar","bg","ca","cs","da","de","el","en","en_US","en_US_sappsd","en_US_saptrc","es","et","fi","fr","hi","hr","hu","it","iw","ja","kk","ko","lt","lv","ms","nl","no","pl","pt","ro","ru","sh","sk","sl","sv","th","tr","uk","vi","zh_CN","zh_TW"],"fallbackLocale":"en"},"ach":"CA-FLP-FE-COR","type":"component","title":"{{Component.Pages.Title}}","resources":"resources.json"},"sap.ui":{"technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"componentName":"sap.ushell.components.pages","rootView":{"viewName":"sap.ushell.components.pages.view.PageRuntime","type":"XML","async":true},"dependencies":{"minUI5Version":"1.72","libs":{"sap.ui.core":{},"sap.m":{}}},"contentDensities":{"compact":true,"cozy":true}}}',
	"sap/ushell/components/pages/view/ImportDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\n                         xmlns:core="sap.ui.core"><Dialog title="{i18n>MyHome.ImportDialog.Title}" class="sapUiContentPadding" contentWidth="30rem"><content><Text text="{i18n>MyHome.ImportDialog.Info}" class="sapUiSmallMarginBottom" /><List\n                items="{/PersonalizedGroups}"\n                mode="MultiSelect"\n                growingThreshold="50"\n                class="sapUiSmallMarginBottom"\n                includeItemInSelection="true"\n                busy="{/busy}"><StandardListItem\n                    title="{title}"\n                    selected="{selected}" /></List></content><beginButton><Button\n                text="{i18n>MyHome.ImportDialog.Button.AddAppsToPage}"\n                press=".doImport"\n                type="Emphasized"\n                enabled="{= !${/busy}}"/></beginButton><endButton><Button text="{i18n>MyHome.ImportDialog.Button.Cancel}" press=".close" /></endButton></Dialog></core:FragmentDefinition>\n',
	"sap/ushell/components/pages/view/MessageStrip.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\n                         xmlns:core="sap.ui.core"><MessageStrip\n        text="{i18n>MyHome.InitialPage.MessageStrip.Text}"\n        showIcon="true"\n        visible="{view>/personalizationAvailable}"\n        close=".onMessageStripClose"\n        showCloseButton="true"><link><Link text="{i18n>MyHome.InitialPage.MessageStrip.Link}" press=".onImportDialogPress"/></link></MessageStrip></core:FragmentDefinition>\n',
	"sap/ushell/components/pages/view/MyHomeStart.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    controllerName="sap.ushell.components.pages.controller.MyHome"><Page showHeader="false"><core:Fragment fragmentName="sap.ushell.components.pages.view.MessageStrip" type="XML" class="sapUiSmallMargin" /><VBox\n              class="sapUiSmallMargin"\n              alignItems="Center"\n              justifyContent="Center"><IllustratedMessage\n                illustrationSize="Large"\n                illustrationType="sapIllus-NoData"\n                title="{i18n>MyHome.InitialPage.Title}"\n                description="{i18n>MyHome.InitialPage.Description}"><additionalContent><Button text="{i18n>MyHome.InitialPage.Button.EditPage}"\n                            press=".onEditPress"/></additionalContent></IllustratedMessage></VBox></Page></mvc:View>\n',
	"sap/ushell/components/pages/view/PageRuntime.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:dnd="sap.ui.core.dnd"\n    xmlns:data="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n    xmlns:launchpad="sap.ushell.ui.launchpad"\n    controllerName="sap.ushell.components.pages.controller.PageRuntime"\n    height="100%"\n    core:require="{\n        mobileLibrary: \'sap/m/library\'\n    }"><NavContainer id="pagesRuntimeNavContainer"><NavContainer id="pagesNavContainer" pages="{/pages}"><pages><Page\n                    data:pageId="{id}"\n                    showHeader="false"\n                    backgroundDesign="{= mobileLibrary.PageBackgroundDesign.Transparent }"\n                    floatingFooter="true"><content><launchpad:Page\n                            edit="{viewSettings>/actionModeEditActive}"\n                            dataHelpId="Page-{id}"\n                            sections="{\n                                path: \'sections\',\n                                factory: \'._sectionFactory\',\n                                key: \'id\'\n                            }"\n                            addSectionButtonPressed=".handleEditModeAction(\'addSection\', $event, ${$source>/}, ${$parameters>/})"\n                            enableSectionReordering="{viewSettings>/actionModeEditActive}"\n                            sectionDrop=".handleEditModeAction(\'moveSection\', $event, ${$source>/}, ${$parameters>/})"><launchpad:dragDropConfig><dnd:DropInfo\n                                    groupName="Section"\n                                    targetAggregation="sections"\n                                    dragEnter=".onDragEnter"\n                                    drop=".moveVisualization($event, ${$source>/}, ${$parameters>/})"/></launchpad:dragDropConfig></launchpad:Page></content><footer><Bar class="sapUshellDashboardFooter" visible="{viewSettings>/actionModeActive}"><contentRight><Button\n                                    text="{i18n>closeEditMode}"\n                                    type="Emphasized"\n                                    press=".handleEditModeAction(\'save\', $event, ${$source>/}, ${$parameters>/})"/></contentRight><customData><core:CustomData\n                                    key="sap-ui-fastnavgroup"\n                                    value="true"\n                                    writeToDom="true"/></customData></Bar></footer><landmarkInfo><PageAccessibleLandmarkInfo\n                            rootRole="Region"\n                            rootLabel="{i18n>PageSectionRegion}"\n                            headerRole="None"\n                            contentRole="None"\n                            footerRole="None"/></landmarkInfo></Page></pages><customData><core:CustomData\n                    key="help-id"\n                    value="{= ${viewSettings>/personalizationEnabled} ? \'general-page-id-pers-allowed\' : \'general-page-id-no-pers-allowed\'}"\n                    writeToDom="true"/></customData></NavContainer><Page\n            showHeader="false"\n            id="errorPage"\n            backgroundDesign="{= mobileLibrary.PageBackgroundDesign.Transparent }"><IllustratedMessage\n                title="{errorPage>/title}"\n                illustrationType="{= mobileLibrary.IllustratedMessageType.PageNotFound }"\n                enableDefaultTitleAndDescription="false"><additionalContent><Button\n                        class="sapUiTinyMarginEnd"\n                        text="{i18n>PageRuntime.CannotLoadPage.DetailsButton}"\n                        visible="{= !!${errorPage>/details} &amp;&amp; !${errorPage>/description}}"\n                        press="._pressViewDetailsButton"/></additionalContent></IllustratedMessage></Page><Page\n            id="emptyPage"\n            showHeader="false"\n            backgroundDesign="{= mobileLibrary.PageBackgroundDesign.Transparent }"/></NavContainer></mvc:View>\n',
	"sap/ushell/components/runtimeSwitcher/manifest.json":'{"_version":"1.39.0","sap.app":{"id":"sap.ushell.components.runtimeSwitcher","applicationVersion":{"version":"1.141.1"},"ach":"CA-FLP-FE-COR","type":"component","title":""},"sap.ui":{"technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"componentName":"sap.ushell.components.runtimeSwitcher","rootView":{"viewName":"sap.ushell.components.runtimeSwitcher.view.RuntimeSwitcher","type":"XML","async":true}}}',
	"sap/ushell/components/runtimeSwitcher/view/RuntimeSwitcher.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    controllerName="sap.ushell.components.runtimeSwitcher.controller.RuntimeSwitcher"\n    height="100%"\n    core:require="{\n        mobileLibrary: \'sap/m/library\'\n    }"><NavContainer id="switcherNavContainer"><Page\n            id="emptyPage"\n            showHeader="false"\n            backgroundDesign="{= mobileLibrary.PageBackgroundDesign.Transparent }"/><Page\n            id="pagesRuntime"\n            enableScrolling="false"\n            showHeader="false"\n            backgroundDesign="{= mobileLibrary.PageBackgroundDesign.Transparent }"/><Page\n            id="workpagesRuntime"\n            enableScrolling="false"\n            showHeader="false"\n            backgroundDesign="{= mobileLibrary.PageBackgroundDesign.Transparent }"/></NavContainer></mvc:View>\n',
	"sap/ushell/components/shell/FloatingContainer/FloatingContainer.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:floatingContainer="sap.ushell.components.shell.FloatingContainer.controls"\n    core:require="{\n        BindingHelper: \'sap/ushell/state/BindingHelper\'\n    }"><floatingContainer:FloatingContainer\n        id="shell-floatingContainer"\n        visible="{/floatingContainer/visible}"\n        fullHeight="{/containerStyles/fullHeight}"\n        content="{\n            path: \'shellModel>/floatingContainer/items\',\n            factory: \'BindingHelper.factory\'\n        }"></floatingContainer:FloatingContainer></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/FloatingContainer/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.ushell.components.shell.FloatingContainer","applicationVersion":{"version":"1.141.1"},"i18n":{"bundleUrl":"../../../renderer/resources/resources.properties","supportedLocales":["","ar","bg","ca","cs","da","de","el","en","en_US","en_US_sappsd","en_US_saptrc","es","et","fi","fr","hi","hr","hu","it","iw","ja","kk","ko","lt","lv","ms","nl","no","pl","pt","ro","ru","sh","sk","sl","sv","th","tr","uk","vi","zh_CN","zh_TW"],"fallbackLocale":"en"},"type":"component","title":"","resources":"resources.json"},"sap.ui":{"technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"dependencies":{"minUI5Version":"1.127","libs":{"sap.ui.core":{},"sap.m":{},"sap.tnt":{}}},"models":{},"contentDensities":{"compact":true,"cozy":true}}}',
	"sap/ushell/components/shell/MenuBar/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.ushell.components.shell.MenuBar","applicationVersion":{"version":"1.141.1"},"i18n":{"bundleUrl":"../../../renderer/resources/resources.properties","supportedLocales":["","ar","bg","ca","cs","da","de","el","en","en_US","en_US_sappsd","en_US_saptrc","es","et","fi","fr","hi","hr","hu","it","iw","ja","kk","ko","lt","lv","ms","nl","no","pl","pt","ro","ru","sh","sk","sl","sv","th","tr","uk","vi","zh_CN","zh_TW"],"fallbackLocale":"en"},"type":"component","title":"{{Component.MenuBar.Title}}","resources":"resources.json"},"sap.ui":{"technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"dependencies":{"minUI5Version":"1.114","libs":{"sap.ui.core":{},"sap.m":{},"sap.tnt":{}}},"models":{},"contentDensities":{"compact":true,"cozy":true}}}',
	"sap/ushell/components/shell/MenuBar/view/MenuBar.view.xml":'<mvc:View xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    controllerName="sap.ushell.components.shell.MenuBar.controller.MenuBar"\n    displayBlock="true"><IconTabHeader\n        class="sapUshellShellTabBar"\n        ariaTexts="{viewConfiguration>/ariaTexts}"\n        mode="Inline"\n        items="{\n            path: \'menu>/\',\n            factory: \'._menuFactory\'\n        }"\n        selectedKey="{viewConfiguration>/selectedKey}"\n        select=".onMenuItemSelection"><customData><core:CustomData\n                key="sap-ui-fastnavgroup"\n                value="true"\n                writeToDom="true"/></customData></IconTabHeader></mvc:View>\n',
	"sap/ushell/components/shell/MenuBar/view/MenuBarPersonalized.view.xml":'<mvc:View xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    controllerName="sap.ushell.components.shell.MenuBar.controller.MenuBar"\n    displayBlock="true"><IconTabHeader\n        class="sapUshellShellTabBar"\n        ariaTexts="{viewConfiguration>/ariaTexts}"\n        mode="Inline"\n        items="{\n            path: \'menu>/\',\n            filters: { path: \'pinned\', operator: \'EQ\', value1: true },\n            sorter: { path: \'pinnedSortOrder\', descending: false },\n            factory: \'._menuFactory\'\n        }"\n        selectedKey="{viewConfiguration>/selectedKey}"\n        select=".onMenuItemSelection"><customData><core:CustomData\n                key="sap-ui-fastnavgroup"\n                value="true"\n                writeToDom="true"/></customData></IconTabHeader></mvc:View>\n',
	"sap/ushell/components/shell/MenuBar/view/MenuBarWithPersonalizationButton.view.xml":'<mvc:View xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:tnt="sap.tnt"\n    controllerName="sap.ushell.components.shell.MenuBar.controller.MenuBar"\n    displayBlock="true"><tnt:ToolHeader\n        id= "navigationBar"\n        class="sapUshellShellToolHeader"><core:ComponentContainer\n            manifest="true"\n            async="true"\n            propagateModel="true"\n            name="sap.ushell.components.shell.NavigationBarMenu"\n            lifecycle="Container"\n            id="navigationBarMenu" /><IconTabHeader\n            class="sapUshellShellTabBar"\n            ariaTexts="{viewConfiguration>/ariaTexts}"\n            mode="Inline"\n            items="{\n                path: \'menu>/\',\n                filters: { path: \'pinned\', operator: \'EQ\', value1: true },\n                sorter: { path: \'pinnedSortOrder\', descending: false },\n                factory: \'._menuFactory\'\n            }"\n            selectedKey="{viewConfiguration>/selectedKey}"\n            select=".onMenuItemSelection"></IconTabHeader><tnt:customData><core:CustomData\n                key="sap-ui-fastnavgroup"\n                value="true"\n                writeToDom="true"/></tnt:customData></tnt:ToolHeader></mvc:View>\n',
	"sap/ushell/components/shell/NavigationBarMenu/manifest.json":'{"_version":"1.66.0","sap.app":{"id":"sap.ushell.components.shell.NavigationBarMenu","applicationVersion":{"version":"1.141.1"},"i18n":{"bundleUrl":"../../../renderer/resources/resources.properties","fallbackLocale":"en"},"type":"component","ach":"CA-FLP-FE-COR","title":"","resources":"resources.json"},"sap.ui":{"technology":"UI5","deviceTypes":{"desktop":true,"phone":true,"tablet":true}},"sap.ui5":{"dependencies":{"minUI5Version":"1.131.0","libs":{"sap.m":{},"sap.tnt":{},"sap.ui.core":{}}},"models":{},"contentDensities":{"compact":true,"cozy":true}}}',
	"sap/ushell/components/shell/NavigationBarMenu/view/ContextMenu.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.ui.unified"\n    xmlns:core="sap.ui.core"><Menu\n        id="ContextMenu"><items><MenuItemGroup\n                itemSelectionMode="None"><items><MenuItem\n                        id="MoveUp"\n                        enabled="{viewConfiguration>/contextMenu/enableMoveUp}"\n                        selected="false"\n                        text="{i18n>NavigationBarMenu.ContextMenu.MoveUp}"\n                        select="_moveSpaceUp"\n                        visible="{viewConfiguration>/contextMenu/showMoveUp}"/><MenuItem\n                        id="MoveDown"\n                        enabled="{viewConfiguration>/contextMenu/enableMoveDown}"\n                        selected="false"\n                        text="{i18n>NavigationBarMenu.ContextMenu.MoveDown}"\n                        select="_moveSpaceDown"\n                        visible="{viewConfiguration>/contextMenu/showMoveDown}" /><MenuItem\n                        id="PinUnpin"\n                        enabled="{viewConfiguration>/contextMenu/enablePin}"\n                        selected="{= ${spaces>pinned} ? true : false }"\n                        text="{= ${spaces>pinned} ? ${i18n>NavigationBarMenu.ContextMenu.UnpinSpace} : ${i18n>NavigationBarMenu.ContextMenu.PinSpace} }"\n                        select="handlePinButtonPress" /></items></MenuItemGroup></items></Menu></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/NavigationBarMenu/view/CustomTreeItem.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"><CustomTreeItem tooltip="{spaces>title}"><content><HBox\n                alignItems="Center"\n                width="100%"><Text\n                    id="spaceTitle"\n                    text="{spaces>title}"\n                    tooltip="{spaces>title}"><layoutData><FlexItemData growFactor="1" /></layoutData></Text><Button\n                    type="Transparent"\n                    class="sapUiTinyMarginEnd"\n                    icon="{= ${spaces>pinned} ? \'sap-icon://pushpin-on\' : \'sap-icon://pushpin-off\' }"\n                    press=".handlePinButtonPress"\n                    tooltip="{= ${spaces>pinned} ? ${i18n>NavigationBarMenu.Button.UnpinSpace} : ${i18n>NavigationBarMenu.Button.PinSpace} }"\n                    visible="{= ${spaces>pinned} === undefined ? false : true }"\n                    ariaDescribedBy="spaceTitle" /></HBox></content></CustomTreeItem></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/NavigationBarMenu/view/NavigationBarMenu.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:dnd="sap.ui.core.dnd"\n    xmlns:core="sap.ui.core"\n    id="NavigationBarMenuContent"\n><Tree\n        id="PinnedSpaces"\n        showSeparators="None"\n        noDataText="{i18n>NavigationBarMenu.PinnedSpaces.NoDataText}"\n        updateFinished="._onPinnedSpacesUpdateFinished"\n        beforeOpenContextMenu="_configureContextMenuEnablement"\n    ><contextMenu><core:Fragment\n                id="PinnedSpacesContextMenu"\n                fragmentName="sap.ushell.components.shell.NavigationBarMenu.view.ContextMenu"\n                type="XML"\n            /></contextMenu><dragDropConfig><dnd:DragDropInfo\n                sourceAggregation="items"\n                targetAggregation="items"\n                dropPosition="Between"\n                drop=".rearrangePinnedSpaces"\n            /></dragDropConfig><headerToolbar><Toolbar><Title\n                    id="PinnedSpacesTreeTitle"\n                    text="{i18n>NavigationBarMenu.PinnedSpaces.Title}"\n                /><ToolbarSpacer /><Button\n                    id="UnpinAllSpaces"\n                    text="{i18n>NavigationBarMenu.Button.UnpinAll}"\n                    tooltip="{i18n>NavigationBarMenu.Button.UnpinAll.Tooltip}"\n                    press=".unpinAllSpaces"\n                ><customData><core:CustomData\n                            key="help-id"\n                            value="shell-navigationBarMenu-unpinAllButton"\n                            writeToDom="true"\n                        /></customData></Button></Toolbar></headerToolbar></Tree><Tree\n            id="AllSpaces"\n            showSeparators="None"\n            noDataText="{i18n>NavigationBarMenu.AllSpaces.NoDataText}"\n            items="{path: \'spaces>/\', parameters: {arrayNames: [\'menuEntries\']}, factory: \'.allSpacesFactory\'}"\n            beforeOpenContextMenu="_configureContextMenuEnablement"><contextMenu><core:Fragment\n                    id="AllSpacesContextMenu"\n                    fragmentName="sap.ushell.components.shell.NavigationBarMenu.view.ContextMenu"\n                    type="XML" /></contextMenu><headerToolbar><Toolbar><Title text="{i18n>NavigationBarMenu.AllSpaces.Title}" /></Toolbar></headerToolbar><dependents><core:Fragment\n                    fragmentName="sap.ushell.components.shell.NavigationBarMenu.view.CustomTreeItem"\n                    type="XML" /></dependents></Tree></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/NavigationBarMenu/view/NavigationBarMenu.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    id="NavigationBarMenu"\n    controllerName="sap.ushell.components.shell.NavigationBarMenu.controller.NavigationBarMenu"\n><core:Fragment\n        fragmentName="sap.ushell.components.shell.NavigationBarMenu.view.NavigationBarMenu"\n        type="XML"\n    /></mvc:View>\n',
	"sap/ushell/components/shell/NavigationBarMenu/view/NavigationBarMenuButton.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    id="NavigationBarMenuButton"\n    controllerName="sap.ushell.components.shell.NavigationBarMenu.controller.NavigationBarMenuButton"><Button\n        id="NavigationBarMenuButtonControl"\n        icon="sap-icon://menu2"\n        enabled="{viewConfiguration>/enableMenuBarNavigation}"\n        press=".openNavigationBarMenuPopover"\n        tooltip="{i18n>NavigationBarMenu.Button.OpenPopover}"\n        ariaHasPopup="Dialog"><layoutData><OverflowToolbarLayoutData priority="NeverOverflow" /></layoutData><customData><core:CustomData\n                key="help-id"\n                value="shell-navigationBarPersonalizationButton"\n                writeToDom="true" /></customData></Button></mvc:View>\n',
	"sap/ushell/components/shell/NavigationBarMenu/view/NavigationBarMenuPopover.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n><Popover\n        id="NavigationBarMenuPopover"\n        class="sapUiContentPadding"\n        placement="Bottom"\n        showHeader="false"\n        modal="false"\n        initialFocus="PinnedSpaces"\n        contentWidth="30rem"><content><core:Fragment\n                fragmentName="sap.ushell.components.shell.NavigationBarMenu.view.NavigationBarMenu"\n                type="XML"\n            /></content></Popover></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/Notifications/Notifications.view.xml":'<mvc:View\n    controllerName="sap.ushell.components.shell.Notifications.Notifications"\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:core="sap.ui.core"\n    class="sapUshellNotificationsView"><IconTabBar\n        id="notificationIconTabBar"\n        backgroundDesign="Transparent"\n        headerBackgroundDesign="Transparent"\n        expandable="false"\n        selectedKey="sapUshellNotificationIconTabByDate"\n        select="onTabSelected"\n        class="sapUshellNotificationTabBar"><items><IconTabFilter\n                id="sapUshellNotificationIconTabByDate"\n                key="sapUshellNotificationIconTabByDate"\n                text="{i18n>notificationsSortByDate}"><NotificationList\n                    id="sapUshellNotificationsListDate"\n                    class="sapUshellNotificationsList sapContrastPlus"\n                    showSeparators="Inner"\n                    mode="None"\n                    noDataText="{i18n>noNotificationsMsg}"\n                    growing="true"\n                    growingThreshold="10"\n                    growingScrollToLoad="true"\n                    updateStarted=".onListUpdateStarted"\n                    items="{path: \'/notificationsByDateDescending/aNotifications\', templateShareable: true}"><core:Fragment fragmentName="sap.ushell.components.shell.Notifications.NotificationsListItem" type="XML"/></NotificationList></IconTabFilter><IconTabFilter\n                id="sapUshellNotificationIconTabByType"\n                key="sapUshellNotificationIconTabByType"\n                text="{i18n>notificationsSortByType}"><core:Fragment fragmentName="sap.ushell.components.shell.Notifications.NotificationsGroupListItem" type="XML"/></IconTabFilter><IconTabFilter\n                id="sapUshellNotificationIconTabByPrio"\n                key="sapUshellNotificationIconTabByPrio"\n                text="{i18n>notificationsSortByPriority}"><NotificationList\n                    id="sapUshellNotificationsListPriority"\n                    class="sapUshellNotificationsList sapContrastPlus"\n                    mode="None"\n                    noDataText="{i18n>noNotificationsMsg}"\n                    growing="true"\n                    growingThreshold="10"\n                    growingScrollToLoad="true"\n                    updateStarted=".onListUpdateStarted"\n                    items="{path: \'/notificationsByPriorityDescending/aNotifications\', templateShareable: true}"><core:Fragment fragmentName="sap.ushell.components.shell.Notifications.NotificationsListItem" type="XML"/></NotificationList></IconTabFilter></items></IconTabBar></mvc:View>\n',
	"sap/ushell/components/shell/Notifications/NotificationsGroupListItem.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    core:require="{\n        utils: \'sap/ushell/utils\'\n    }"><NotificationList\n        id="sapUshellNotificationsListType"\n        class="sapUshellNotificationsList sapContrastPlus"\n        mode="SingleSelect"\n        showSeparators="Inner"\n        noDataText="{i18n>noNotificationsMsg}"\n        items="{/notificationsByTypeDescending}"><NotificationListGroup\n            title="{GroupHeaderText}"\n            collapsed="{Collapsed}"\n            showEmptyGroup="true"\n            showItemsCounter="false"\n            enableCollapseButtonWhenEmpty="true"\n            autoPriority="false"\n            datetime="{ path: \'CreatedAt\', formatter: \'utils.formatDate\' }"\n            priority="{ path: \'Priority\', formatter: \'.priorityFormatter\' }"\n            busy="{= !!${Busy}}"\n            buttons="{\n                path: \'Actions\',\n                templateShareable: true,\n                sorter: { path: \'Nature\', descending: true }\n            }"\n            items="{\n                path: \'aNotifications\',\n                templateShareable: true\n            }"\n            close="onNotificationGroupItemClose"\n            onCollapse="onNotificationGroupItemCollapse"><core:Fragment fragmentName="sap.ushell.components.shell.Notifications.NotificationsListItem" type="XML" /><buttons><Button text="{GroupActionText}" press=".onNotificationGroupItemButtonPress" /></buttons></NotificationListGroup></NotificationList></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/Notifications/NotificationsListItem.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    core:require="{Utils: \'sap/ushell/utils\'}"><NotificationListItem\n        class="sapUshellNotificationsListItem sapContrastPlus"\n        press="onNotificationItemPress"\n        close="onNotificationItemClose"\n        datetime="{path: \'CreatedAt\', formatter: \'Utils.formatDate\'}"\n        description="{SubTitle}"\n        title="{= ${SensitiveText} ? ${SensitiveText} : ${Text}}"\n        buttons="{\n            path: \'Actions\',\n            sorter: {\n                path: \'Nature\',\n                descending: true\n            },\n            templateShareable: true\n        }"\n        unread="{= !${IsRead}}"\n        busy="{= ${Busy} ? ${Busy} : false}"\n        priority="{ path: \'Priority\', formatter: \'.priorityFormatter\'}"><buttons><Button\n                text="{ActionText}"\n                press="onNotificationItemButtonPress"/></buttons></NotificationListItem></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/Notifications/NotificationsListPopoverContent.view.xml":'<mvc:View\n    controllerName="sap.ushell.components.shell.Notifications.NotificationsList"\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:core="sap.ui.core"\n    xmlns:thirdparty="sap.ushell.gen.ui5.webcomponents-fiori.dist"\n    xmlns:thirdpartywc="sap.ushell.gen.ui5.webcomponents.dist"\n    core:require="{\n        formatMessage: \'sap/base/strings/formatMessage\',\n        Utils: \'sap/ushell/utils\',\n        mobileLibrary: \'sap/m/library\'\n    }"\n><thirdparty:NotificationList\n        id="sapUshellNotificationsList"\n        class="sapUshellNotificationsList sapContrastPlus"\n        itemClick=".onNotificationPress"\n        items="{\n            path: \'/notifications\',\n            filters: { path: \'items/length\', operator: \'GT\', value1: 0 },\n            templateShareable: false\n        }"\n    ><thirdparty:NotificationListGroupItem\n            items="{\n                path: \'items\',\n                templateShareable: false\n            }"\n            titleText="{titleText}"\n        ><thirdparty:NotificationListItem\n                titleText="{= ${SensitiveText} ? ${SensitiveText} : ${Text} }"\n                showClose="true"\n                close=".onNotificationRemovePress"\n                importance="{= ${Priority}.toUpperCase() === \'HIGH\' ? \'Important\' : \'Standard\'}"\n                text="{SubTitle}"\n                read="{= !!${IsRead} }"\n            ><thirdparty:footnotes><thirdpartywc:Label text="{path: \'CreatedAt\', formatter: \'Utils.formatDate\'}" wrappingType="None" /></thirdparty:footnotes><thirdparty:menu><thirdpartywc:Menu\n                        visible="{= !!${Actions} &amp;&amp; ${Actions}.length &gt; 0}"\n                        items="{path: \'Actions\', templateShareable: false}"\n                        itemClick=".onNotificationActionPress"\n                    ><thirdpartywc:MenuItem text="{ActionText}"></thirdpartywc:MenuItem></thirdpartywc:Menu></thirdparty:menu></thirdparty:NotificationListItem></thirdparty:NotificationListGroupItem></thirdparty:NotificationList><VBox\n        class="sapUiTinyMarginBeginEnd sapUiTinyMarginBottom"\n        width="auto"\n        alignItems="Stretch"><Button\n            id="sapUshellNotificationsListMoreButton"\n            text="{i18n>Notifications.Popover.Button.LoadMore}"\n            width="100%"\n            press=".onLoadMorePress"\n            visible="{= ${/hasMoreItemsInBackend} &amp;&amp; !${/listMaxReached} }"\n        /></VBox><IllustratedMessage\n        id="sapUshellNotificationsListNoData"\n        illustrationType="{= mobileLibrary.IllustratedMessageType.NoNotifications}"\n        title="{i18n>Notifications.Popover.NoData.Title}"\n        description="{i18n>Notifications.Popover.NoData.Description}"\n        visible="{parts: [\'/hasMoreItemsInBackend\', \'/listMaxReached\', \'/notifications\'], formatter: \'.formatShowNoDataIllustration\'}"\n        ariaTitleLevel="H3"><additionalContent><Button\n                id="sapUshellNotificationsListNoDataSettingsButton"\n                text="{i18n>Notifications.Popover.NoData.Button}"\n                press=".onSettingsPress"\n                type="Transparent"\n                visible="{/settingsAvailable}"\n            /></additionalContent></IllustratedMessage></mvc:View>\n',
	"sap/ushell/components/shell/Notifications/NotificationsListPopoverHeader.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:thirdpartywc="sap.ushell.gen.ui5.webcomponents.dist"\n    core:require="{\n        formatMessage: \'sap/base/strings/formatMessage\',\n        Utils: \'sap/ushell/utils\'\n    }"\n><OverflowToolbar style="Clear" design="Transparent"><Title\n            text="{i18n>Notifications.Popover.Title}"\n            tooltip="{i18n>Notifications.Popover.Title}"\n        /><ToolbarSpacer /><Button icon="sap-icon://sort" id="sortButton" press=".onSortMenuPress"/><thirdpartywc:Menu id="sortMenu" opener="sortButton" itemClick=".onSortMenuItemPress"><thirdpartywc:MenuItem id="sortMenuDate" text="{i18n>Notifications.Popover.Sort.Menu.Button.Date}"><thirdpartywc:customData><core:CustomData key="sortBy" value="notificationsByDateDescending" /></thirdpartywc:customData></thirdpartywc:MenuItem><thirdpartywc:MenuItem id="sortMenuPriority" text="{i18n>Notifications.Popover.Sort.Menu.Button.Priority}"><thirdpartywc:customData><core:CustomData key="sortBy" value="notificationsByPriorityDescending" /></thirdpartywc:customData></thirdpartywc:MenuItem></thirdpartywc:Menu><Button\n            icon="sap-icon://action-settings"\n            press=".onSettingsPress"\n            visible="{/settingsAvailable}"\n        /></OverflowToolbar></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/ProductSwitch/ProductSwitch.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:f="sap.f"><ResponsivePopover\n        id="sapUshellProductSwitchPopover"\n        placement="Bottom"\n        showArrow="true"\n        showHeader="false"\n        title="{i18n>productSwitch}"\n        class="sapUshellPopupContainer sapContrastPlus"><content><f:ProductSwitch change="onProductItemPress" items="{/}"><f:items><f:ProductSwitchItem title="{title}" src="{visual/icon}" subTitle="{subtitle}" targetSrc="{targetUrl}" /></f:items></f:ProductSwitch></content></ResponsivePopover></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/Search/manifest.json":'{"_version":"1.34.0","sap.app":{"id":"sap.ushell.components.shell.Search","applicationVersion":{"version":"1.141.1"},"i18n":{"bundleUrl":"../../../renderer/resources/resources.properties","fallbackLocale":"en"},"type":"component","title":"","resources":"resources.json"},"sap.ui":{"technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"dependencies":{"minUI5Version":"1.92","libs":{"sap.m":{},"sap.ui.layout":{}}},"models":{},"contentDensities":{"compact":true,"cozy":true}}}',
	"sap/ushell/components/shell/SearchCEP/SearchField.fragment.xml":'<core:FragmentDefinition\n    height="100%"\n    xmlns:core="sap.ui.core"\n    xmlns="sap.m"><Popover\n        initialFocus="CEPSearchField"\n        id="searchFieldPopover"\n        class="searchFieldPopover"\n        placement="Bottom"\n        showArrow="false"\n        showHeader="false"\n        offsetX="-13"\n        beforeOpen=".onBeforeOpen"\n        afterOpen=".onAfterOpen"\n        afterClose=".onAfterClose"\n        horizontalScrolling="false"\n        ariaLabelledBy="popoverTitle"><content><SearchField\n                id="CEPSearchField"\n                width="99%"\n                placeholder="{i18n>search}"\n                tooltip="{i18n>search}"\n                enableSuggestions="true"\n                search=".onSearch"\n                suggest=".onSuggest"\n                class="sapUshellCEPListCenter"\n            /><VBox id="Lists"></VBox></content></Popover></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/SearchCEPNew/manifest.json":'{"_version":"1.70.0","sap.app":{"id":"sap.ushell.components.shell.SearchCEPNew","type":"component","title":"SearchCEPNew","ach":"CA-FLP-FE-UI","applicationVersion":{"version":"1.141.1"}},"sap.ui":{"technology":"UI5","deviceTypes":{"desktop":true,"phone":true,"tablet":true}},"sap.ui5":{"dependencies":{"minUI5Version":"1.135","libs":{"sap.ui.core":{},"sap.ushell":{}}},"contentDensities":{"compact":true,"cozy":true},"componentName":"sap.ushell.components.shell.SearchCEPNew","models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"sap.ushell.components.shell.SearchCEPNew.resources.resources","async":true,"supportedLocales":["","ar","bg","ca","cnr","cs","cy","da","de","el","en","en-GB","en-US-x-saprigi","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","mk","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-TW"]}}}}}',
	"sap/ushell/components/shell/Settings/ContentWrapper.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    core:require="{\n        coreLibrary: \'sap/ui/core/library\'\n    }"><Page showHeader="false" busy="true"><content><ObjectHeader\n                title="{entryInfo>/title}"\n                titleLevel="{= coreLibrary.TitleLevel.H3}"\n                visible="{entryInfo>/showHeader}"\n                backgroundDesign="Solid"\n                class="sapUshellUserSettingDetailHeader"/><IconTabBar\n                expandable="false"\n                items="{entryInfo>/tabs}"\n                visible="{= ${entryInfo>/tabs}.length > 1}"\n                select=".onTabSelected"\n            ><items><IconTabFilter text="{entryInfo>groupingTabTitle}" key="{entryInfo>id}"><customData><core:CustomData key="help-id" value="{entryInfo>groupingTabHelpId}" writeToDom="{= !!${entryInfo>groupingTabHelpId}}" /></customData></IconTabFilter></items></IconTabBar></content></Page></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/Settings/ErrorContent.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><FlexBox\n        height="5rem"\n        alignItems="Center"\n        justifyContent="Center"><items><Text text="{/errorMessage}"/></items></FlexBox></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/Settings/UserSettings.view.xml":'<mvc:View\n    displayBlock="true"\n    controllerName="sap.ushell.components.shell.Settings.UserSettings"\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:core="sap.ui.core"><Dialog\n        id="userSettingsDialog"\n        class="sapUshellUserSetting sapContrastPlus"\n        showHeader="false"\n        contentHeight="42rem"\n        contentWidth="60rem"\n        afterClose="._afterClose"\n        escapeHandler="._handleCancel"\n        stretch="{device>/system/phone}"><customHeader><Bar id="settingsBar"><contentLeft><Button id="userSettingsNavBackButton"\n                            icon="sap-icon://nav-back"\n                            press="._navBackButtonPressHandler"\n                            tooltip="{i18n>ToggleButtonShow}"\n                            visible="false"/><ToggleButton id="userSettingsMenuButton"\n                                  icon="sap-icon://menu2"\n                                  press="._navToggleButtonPressHandler"\n                                  tooltip="{i18n>ToggleButtonShow}"\n                                  visible="false"/></contentLeft><contentMiddle><Title\n                        text="{i18n>userSettings}"\n                        id="userSettingsDialogTitle"/></contentMiddle></Bar></customHeader><content><SplitApp id="settingsApp"\n                      defaultTransitionNameDetail="show"\n                      mode="{= ${device>/system/desktop} ? \'StretchCompressMode\' : \'ShowHideMode\'}"\n                      afterMasterClose="._afterMasterClose"><masterPages><Page id="userSettingMaster"\n                          class="sapUshellUserSettingMaster"\n                          showHeader="false"><content><List id="userSettingEntryList"\n                                  items="{/entries}"\n                                  mode="SingleSelectMaster"\n                                  selectionChange="._onSelectionChange"\n                                  ariaLabelledBy="userSettingsDialogTitle"><StandardListItem\n                                    title="{title}"\n                                    description="{\n                                                parts: [\'id\', \'tabs\', \'results>/entries\'],\n                                                formatter: \'._formatDescription\'\n                                            }"\n                                    icon="{= !!${icon} ? ${icon} : \'sap-icon://action-settings\' }"\n                                    iconDensityAware="false"\n                                    visible="{visible}"\n                                    wrapping="true"><customData><core:CustomData key="help-id" value="{entryHelpID}"\n                                                         writeToDom="{= !!${entryHelpID}}"/></customData></StandardListItem></List></content></Page></masterPages></SplitApp></content><footer><OverflowToolbar><Button\n                    id="userSettingsMessagePopoverBtn"\n                    visible="false"\n                    press="._handleMessagePopoverPress"\n                    icon="sap-icon://message-error"\n                    ariaHasPopup="Dialog"/><ToolbarSpacer/><Button\n                    id="userSettingSaveButton"\n                    text="{i18n>saveBtn}"\n                    type="Emphasized"\n                    press="._handleSaveButtonPress"/><Button\n                    id="userSettingCancelButton"\n                    text="{i18n>cancelBtn}"\n                    press="._handleCancel"/></OverflowToolbar></footer></Dialog></mvc:View>\n',
	"sap/ushell/components/shell/Settings/appearance/Appearance.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    controllerName="sap.ushell.components.shell.Settings.appearance.Appearance"><IconTabBar ariaTexts="{/ariaTexts}" id="idIconTabBar" expandable="false"><items><IconTabFilter text="{i18n>AppearanceThemeMenu}" key="themeListTab"><MessageStrip\n                    text="{i18n>DeprecatedThemeWarning}"\n                    type="Warning"\n                    visible="{/deprecatedThemeSelected}"\n                    showIcon="true"\n                    showCloseButton="false"\n                    class="sapUiTinyMarginBottom" /><List\n                    items="{\n                        path: \'/options\',\n                        sorter: [{\n                            path: \'setId\',\n                            descending: false,\n                            group: true\n                        }, {\n                            path: \'contrast\',\n                            descending: true\n                        }, {\n                            path: \'colorScheme\',\n                            descending: true\n                        }, {\n                            path: \'name\',\n                            descending: false\n                        }],\n                        groupHeaderFactory: \'.getThemeSetHeader\'\n                    }"\n                    includeItemInSelection="true"\n                    mode="{= ${config>/themeConfigurable} ? \'SingleSelectMaster\' : \'None\'}"\n                    id="themeList"><items><CustomListItem selected="{isSelected}" accDescription="{name}"><customData><core:CustomData key="themeid" value="{id}" writeToDom="true" /></customData><FlexBox alignItems="Center" height="3.75rem"><core:Icon\n                                    class="sapUiSmallMarginBeginEnd"\n                                    width="3rem"\n                                    src="{icon}"\n                                    visible="{= !${avatar}}"\n                                    size="1.75rem" /><Image\n                                    class="sapUiSmallMarginBeginEnd"\n                                    src="{avatar}"\n                                    mode="{mode}"\n                                    visible="{= !!${avatar}}"\n                                    height="50px"\n                                    width="50px"\n                                    error=".onAvatarError"\n                                    decorative="true" /><Text\n                                    class="sapUiSmallMarginEnd"\n                                    maxLines="3"\n                                    text="{name}"><layoutData><FlexItemData growFactor="1" /></layoutData></Text><ObjectStatus\n                                    class="sapUiSmallMarginEnd"\n                                    text="{i18n>AppearanceThemeDeprecated}"\n                                    visible="{deprecated}"\n                                    state="Warning" /></FlexBox></CustomListItem></items></List></IconTabFilter><IconTabFilter\n                id="DisplaySettingsTab"\n                key="displaySettingsTab"\n                visible="{config>/displaySettingsTabVisible}"\n                text="{i18n>AppearanceLayoutAndBehaviorMenu}"><Panel><CheckBox\n                        id="showContentProviderInfoOnVisualizationsCheckbox"\n                        text="{i18n>AppearanceShowContentProviderInfoOnVisualizationsLabel}"\n                        visible="{config>/showContentProviderInfoOnVisualizationsConfigurable}"\n                        selected="{config>/showContentProviderInfoOnVisualizationsSelected}" /><VBox\n                        class="sapUshellFlpSettingsDescriptionBorder"\n                        visible="{config>/showContentProviderInfoOnVisualizationsConfigurable}"><Text\n                            class="sapUshellFlpSettingsDescription sapUshellFlpSettingsWide"\n                            text="{i18n>AppearanceShowContentProviderInfoOnVisualizationsText}"/></VBox><CheckBox\n                        id="contentDensityCheckBox"\n                        text="{i18n>AppearanceContentDensityLabel}"\n                        visible="{config>/contentDensityConfigurable}"\n                        selected="{config>/isCozyContentMode}" /><VBox\n                        class="sapUshellFlpSettingsDescriptionBorder"\n                        visible="{config>/contentDensityConfigurable}"><Text\n                            class="sapUshellFlpSettingsDescription sapUshellFlpSettingsWide"\n                            text="{i18n>appearanceCompactCozyDescriptionText}"/></VBox><HBox\n                        class="sapUiTinyMarginBegin"\n                        alignItems="Center"\n                        visible="{config>/sizeBehaviorConfigurable}"><Label\n                            id="sapUshellAppearanceTileSizeLabel"\n                            class="sapUiSmallMarginEnd"\n                            text="{i18n>AppearanceTileSizeLabel}"\n                            textAlign="{config>/textAlign}"\n                            labelFor="tileSizeRadioButtonGroup" /><RadioButtonGroup selectedIndex="{config>/tileSize}" id="tileSizeRadioButtonGroup"><buttons><RadioButton\n                                    text="{i18n>AppearanceTileSizeSmall}"\n                                    ariaLabelledBy="sapUshellAppearanceTileSizeLabel" /><RadioButton\n                                    text="{i18n>AppearanceTileSizeLarge}"\n                                    ariaLabelledBy="sapUshellAppearanceTileSizeLabel" /></buttons></RadioButtonGroup></HBox><VBox\n                        class="sapUshellFlpSettingsDescriptionBorder"\n                        visible="{config>/sizeBehaviorConfigurable}"><Text\n                            class="sapUshellFlpSettingsDescription sapUshellFlpSettingsWide"\n                            text="{i18n>appearanceTileSizeDescriptionText}"/></VBox></Panel></IconTabFilter></items></IconTabBar></mvc:View>\n',
	"sap/ushell/components/shell/Settings/homepage/HomepageSetting.view.xml":'<mvc:View\n    width="100%"\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"><VBox class="sapUiSmallMargin"><items><Label id="anchorBarLabel"\n                   class="sapUshellFlpSettingsLabel"\n                   text="{i18n>AnchorBarLabel}"/><RadioButtonGroup id="anchorBarDisplayMode" selectedIndex="{/displayMode}"\n                              ariaLabelledBy="anchorBarLabel"\n                              ariaDescribedBy="anchorBarDescription"><buttons><RadioButton id="anchorBarScrollModeRBtn"\n                                 text="{i18n>anchorBarScrollMode}"/><RadioButton id="anchorBarTabModeRBtn"\n                                 text="{i18n>anchorBarTabMode}"/></buttons></RadioButtonGroup><VBox class="sapUshellFlpSettingsDescriptionBorder"><items><Text id="anchorBarDescription"\n                          class="sapUshellFlpSettingsDescription"\n                          text="{i18n>homePageGroupDisplayDescriptionText}"/><Text\n                        id="anchorBarDescriptionSecondParagraph"\n                        class="sapUshellFlpSettingsDescription"\n                        text="{i18n>homePageGroupDisplayDescriptionText_secondParagraph}"\n                        visible="{/personalisationEnabled}"/></items></VBox></items></VBox></mvc:View>\n',
	"sap/ushell/components/shell/Settings/notifications/NotificationsSetting.view.xml":'<mvc:View\n    controllerName="sap.ushell.components.shell.Settings.notifications.NotificationsSetting"\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"><VBox class="sapUiSmallMargin"><CheckBox id="showHighPrioCheckbox" selected="{/flags/highPriorityBannerEnabled}" text="{i18n>Label.ShowAlertsForHighNotifications}"/><Table\n            id="table"\n            sticky="ColumnHeaders"\n            items="{\n                path: \'/rows\',\n                sorter: { path: \'NotificationTypeDesc\' }\n            }"><columns><Column id="columnNotificationType"><ObjectIdentifier text="{i18n>notificationType_column}" /></Column><Column id="columnMobileNotification" visible="{/flags/mobileNotificationsEnabled}" demandPopin="true"><Text id="columnMobileText" text="{i18n>iOSNotification_column}" /></Column><Column id="columnEmail" visible="{/flags/emailNotificationsEnabled}" demandPopin="true"><Text id="columnEmailText" text="{i18n>eMailFld}" /></Column><Column id="columnHighPriority" demandPopin="true"><Text id="columnHighPriorityText" text="{i18n>highNotificationsBanner_column}"/></Column><Column id="columnEnable"><Text id="columnEnableText" text="{i18n>Notifications_Settings_Show_Type_column}"/></Column></columns><items><ColumnListItem id="columnListItemNotifications" type="Inactive"><cells><ObjectIdentifier id="objectIdentifierTitle" title="{NotificationTypeDesc}"/></cells><cells><CheckBox\n                            id="cellCheckboxMobile"\n                            editable="{=!${DoNotDeliver}}"\n                            selected="{= !${DoNotDeliverMob}}"\n                            select=".onSelectMobile"/></cells><cells><CheckBox\n                            id="cellCheckboxEmail"\n                            editable="{= ${IsEmailEnabled} &amp;&amp; !${DoNotDeliver}}"\n                            selected="{= !${DoNotDeliverEmail}}"\n                            select=".onSelectEmail"/></cells><cells><CheckBox\n                            id="cellCheckboxHighPrio"\n                            editable="{=!${DoNotDeliver}}"\n                            selected="{= ${PriorityDefault} === \'HIGH\'}"\n                            select=".onSelectHighPriority"/></cells><cells><Switch\n                                id="cellSwitchEnable"\n                                state="{= !${DoNotDeliver}}"\n                                change=".onEnableSwitchChange"/></cells></ColumnListItem></items></Table></VBox></mvc:View>\n',
	"sap/ushell/components/shell/Settings/search/Search.view.xml":'<mvc:View width="100%" controllerName="sap.ushell.components.shell.Settings.search.Search"\r\n  xmlns="sap.m"\r\n  xmlns:mvc="sap.ui.core.mvc"><VBox id="searchContent" class="sapUshellUserSettingDetailContent" /></mvc:View>',
	"sap/ushell/components/shell/Settings/spaces/SpacesSetting.view.xml":'<mvc:View\n    controllerName="sap.ushell.components.shell.Settings.spaces.SpacesSetting"\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"><VBox class="sapUiSmallMargin"><CheckBox\n            text="{i18n>spacesModeLabel}"\n            visible="{/spaces/visible}"\n            selected="{/spaces/selected}"><customData><core:CustomData key="help-id" value="SpacesEntry-spacesMode" writeToDom="true" /></customData></CheckBox><VBox class="sapUshellFlpSettingsDescriptionBorder" visible="{/spaces/visible}"><Text class="sapUshellFlpSettingsDescription sapUshellFlpSettingsWide" text="{i18n>spacesModeDescriptionText}"/></VBox><CheckBox\n            text="{i18n>hideEmptySpacesLabel}"\n            visible="{/hideEmptySpaces/visible}"\n            selected="{/hideEmptySpaces/selected}"><customData><core:CustomData key="help-id" value="SpacesEntry-hideEmptySpaces" writeToDom="true" /></customData></CheckBox><VBox class="sapUshellFlpSettingsDescriptionBorder" visible="{/hideEmptySpaces/visible}"><Text class="sapUshellFlpSettingsDescription sapUshellFlpSettingsWide" text="{i18n>hideEmptySpacesDescriptionText}"/></VBox><CheckBox\n            text="{i18n>showMyHomeLabel}"\n            visible="{/showMyHome/visible}"\n            selected="{/showMyHome/selected}"><customData><core:CustomData key="help-id" value="SpacesEntry-showMyHome" writeToDom="true" /></customData></CheckBox><VBox class="sapUshellFlpSettingsDescriptionBorder" visible="{/showMyHome/visible}"><Text class="sapUshellFlpSettingsDescription sapUshellFlpSettingsWide" text="{i18n>showMyHomeDescriptionText}"/></VBox><CheckBox\n            text="{i18n>showMyHomeImportLabel}"\n            visible="{/showMyHomeImport/visible}"\n            selected="{/showMyHomeImport/selected}"><customData><core:CustomData key="help-id" value="SpacesEntry-showMyHomeImport" writeToDom="true" /></customData></CheckBox><VBox class="sapUshellFlpSettingsDescriptionBorder" visible="{/showMyHomeImport/visible}"><Text class="sapUshellFlpSettingsDescription sapUshellFlpSettingsWide" text="{i18n>showMyHomeImportDescription}"/></VBox></VBox></mvc:View>\n',
	"sap/ushell/components/shell/Settings/userAccount/UserAccountImgConsentSelector.fragment.xml":'<core:FragmentDefinition height="100%" width="100%" xmlns="sap.m" xmlns:core="sap.ui.core"><VBox><CheckBox id="imageConsentForUserCheckBox" selected="{config>/isImageConsentForUser}" text="{i18n>imgConsentMsg}"/><Panel expandable="true" headerText="{i18n>userImageConsentDialogShowTermsOfUse}" width="auto"><content><Text text="{i18n>userImageConsentDialogTermsOfUse}"/></content></Panel></VBox></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/Settings/userAccount/UserAccountSelector.view.xml":'<mvc:View\n    controllerName="sap.ushell.components.shell.Settings.userAccount.UserAccountSelector"\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:core="sap.ui.core"\n    core:require="{\n        coreLibrary: \'sap/ui/core/library\'\n    }"><ObjectHeader icon="{config>/icon}"\n                  title="{config>/name}"\n                  backgroundDesign="Solid"\n                  class="sapUshellUserSettingDetailHeader"\n                  titleLevel="{= coreLibrary.TitleLevel.H3}"/><IconTabBar applyContentPadding="true"\n                backgroundDesign="Transparent"><items><IconTabFilter text="{i18n>UserAccountFld}" key="userAccountSetting"><core:Fragment fragmentName="sap.ushell.components.shell.Settings.userAccount.UserAccountSetting"\n                               type="XML"/></IconTabFilter><IconTabFilter visible="{config>/imgConsentEnabled}" text="{i18n>ProfileImgId}"\n                           key="userAccountImgConsentSelector"><core:Fragment\n                    fragmentName="sap.ushell.components.shell.Settings.userAccount.UserAccountImgConsentSelector"\n                    type="XML"/></IconTabFilter></items></IconTabBar></mvc:View>\n',
	"sap/ushell/components/shell/Settings/userAccount/UserAccountSetting.fragment.xml":'<core:FragmentDefinition\n    height="100%"\n    width="100%"\n    xmlns="sap.m"\n    xmlns:form="sap.ui.layout.form"\n    xmlns:core="sap.ui.core"><VBox class="sapUiSmallMargin"><form:SimpleForm\n            editable="false"\n            layout="ColumnLayout"\n            ariaLabelledBy="UserAccountFormLabel"><Label text="{i18n>UserAccountNameFld}" labelFor="userAccountuserName"/><Text text="{config>/name}" id="userAccountuserName"/><Label text="{i18n>UserAccountIdFld}" labelFor="userAccountuserId" visible="{config>/displayUserId}"/><Text text="{config>/id}" id="userAccountuserId" visible="{config>/displayUserId}"/><Label text="{i18n>UserAccountEmailFld}" labelFor="userAccountuserMail"/><Text text="{config>/mail}" id="userAccountuserMail"/><Label text="{i18n>UserAccountServerFld}" labelFor="userAccountuserServer"/><Text text="{config>/server}" id="userAccountuserServer"/></form:SimpleForm><core:InvisibleText id="UserAccountFormLabel" text="{i18n>UserAccountFld}" /></VBox><VBox id="userAccountPersonalizationSection" class="sapUiSmallMargin"\n        visible="{config>/isResetPersonalizationVisible}"><Label text="{i18n>userAccountPersonalizationLabel}"/><Button id="resetPersonalizationButton" text="{i18n>userAccountResetPersonalizationButton}"\n            press="showMessageBoxWarningDeletePersonalization"/><Text class="sapUshellFlpSettingsWideDescription" text="{i18n>userAccountResetPersonalizationDescriptionText}"/></VBox></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/Settings/userAccount/UserAccountSetting.view.xml":'<mvc:View\n    controllerName="sap.ushell.components.shell.Settings.userAccount.UserAccountSelector"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"\n    core:require="{\n            coreLibrary: \'sap/ui/core/library\'\n        }"><ObjectHeader\n        icon="{config>/icon}"\n        iconDensityAware="false"\n        title="{config>/name}"\n        backgroundDesign="Solid"\n        class="sapUshellUserSettingDetailHeader"\n        titleLevel="{= coreLibrary.TitleLevel.H3}"/><core:Fragment fragmentName="sap.ushell.components.shell.Settings.userAccount.UserAccountSetting"\n                   type="XML"></core:Fragment></mvc:View>\n',
	"sap/ushell/components/shell/Settings/userActivities/UserActivitiesSetting.view.xml":'<mvc:View\n    controllerName="sap.ushell.components.shell.Settings.userActivities.UserActivitiesSetting"\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"><VBox\n        class="sapUiSmallMarginBegin"\n        ariaLabelledBy="UserActivitiesSettingsLabel"><CheckBox id="enableTrackingCheckbox" selected="{/checkboxIsChecked}" text="{i18n>trackingLabel}"\n                  wrapping="true"/><Button text="{i18n>cleanActivityLabel}" press=".onClearHistory" visible="{/checkboxIsChecked}"/><core:InvisibleText id="UserActivitiesSettingsLabel" text="{i18n>userActivities}"/></VBox></mvc:View>\n',
	"sap/ushell/components/shell/Settings/userDefaults/manifest.json":'{"_version":"1.12.0","sap.app":{"id":"sap.ushell.components.shell.Settings.userDefaults","applicationVersion":{"version":"1.0.0"},"i18n":{"bundleUrl":"../../renderer/resources/resources.properties","supportedLocales":["","ar","bg","ca","cs","da","de","el","en","en_US","en_US_sappsd","en_US_saptrc","es","et","fi","fr","hi","hr","hu","it","iw","ja","kk","ko","lt","lv","ms","nl","no","pl","pt","ro","ru","sh","sk","sl","sv","th","tr","uk","vi","zh_CN","zh_TW"],"fallbackLocale":"en"},"ach":"CA-FLP-FE-COR","type":"application"},"sap.ui":{"technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":true,"rootView":{"viewName":"sap.ushell.components.shell.Settings.userDefaults.view.UserDefaultsSetting","type":"XML","async":true,"id":"defaultParametersSelectorView"},"dependencies":{"minUI5Version":"1.82","libs":{"sap.m":{},"sap.ui.comp":{},"sap.ui.layout":{}}},"contentDensities":{"compact":true,"cozy":true}}}',
	"sap/ushell/components/shell/Settings/userDefaults/view/ExtendedValueDialog.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:valueHelp="sap.ui.comp.valuehelpdialog"\n    xmlns:core="sap.ui.core"><valueHelp:ValueHelpDialog\n        id="extendedValueDialog"\n        basicSearchText="{/label}"\n        title="{/label}"\n        supportRanges="true"\n        supportRangesOnly="true"\n        key="{/key}"\n        displayFormat="UpperCase"\n        descriptionKey="{/label}"\n        filterMode="true"\n        stretch="{device>/system/phone}"\n        cancel=".closeValueHelp"\n        afterClose=".afterCloseValueHelp"></valueHelp:ValueHelpDialog></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/Settings/userDefaults/view/UserDefaultsSetting.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:smartvariants="sap.ui.comp.smartvariants"\n    xmlns:userDefaults="sap.ushell.components.shell.Settings.userDefaults"\n    controllerName="sap.ushell.components.shell.Settings.userDefaults.controller.UserDefaultsSetting"><VBox visible="{= ${systemContexts>/systemContexts}.length > 1}" class="sapUshellSystemContextsSelection"><HBox alignItems="Center"><Label labelFor="systemContextSelect" text="{i18n>userDefaultsSystemTitle}" /><Select\n                id="systemContextSelect"\n                selectedKey="{systemContexts>/selectedKey}"\n                items="{systemContexts>/systemContexts}"\n                change=".handleSystemContextChanged"><core:ListItem text="{systemContexts>label}" key="{systemContexts>id}" /></Select></HBox><Text class="sapUshellFlpSettingsWideDescription" text="{i18n>userDefaultsSystemContextInfo}" /></VBox><VBox><smartvariants:SmartVariantManagement\n            id="defaultSettingsVariantManagement"\n            class="sapUshellSmartVariantManagement"\n            showSetAsDefault="false"\n            visible="false"\n            standardItemText="{i18n>userDefaultsStandardView}" /></VBox><Text\n        text="{i18n>userDefaultsDiffState}"\n        visible="{ path: \'DirtyState>/selectedVariant\', formatter: \'.displayDiffText\' }"\n        class="sapUshellDefaultValuesDirtyState sapUiTinyMarginTop" /><userDefaults:UserDefaultsForm id="userDefaultsForm" persistencyKey="UserDefaultsFormPersKey" /></mvc:View>\n',
	"sap/ushell/components/shell/Settings/userLanguageRegion/LanguageRegionSelector.view.xml":'<mvc:View controllerName="sap.ushell.components.shell.Settings.userLanguageRegion.LanguageRegionSelector"\n    xmlns="sap.m"\n    xmlns:form="sap.ui.layout.form"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:core="sap.ui.core"><VBox class="sapUiSmallMargin" visible="{= !!${/isSettingsLoaded}}"><MessageStrip\n            text="{i18n>SettingsCuaWarning}"\n            type="Information"\n            visible="{/cuaFlags/showWarning}"\n            showIcon="true"\n            showCloseButton="false"\n            class="sapUiMediumMarginBottom" /><form:SimpleForm\n            id="languageForm"\n            editable="true"\n            layout="ColumnLayout"\n            ariaLabelledBy="LanguageSettingsLabel"><Label id="LanguageSettingsFormLabel" text="{i18n>languageAndRegionTit}" visible="{= !${/languageList}}" labelFor="languageSelectionInput"/><Text id="languageSelectionInput" text="{/selectedLanguageText}" visible="{= !${/languageList} }"/><Label text="{i18n>languageAndRegionTit}" visible="{= !!${/languageList}}" labelFor="languageSelectionSelect"/><ComboBox id="languageSelectionSelect"\n                    visible="{= !!${/languageList} }"\n                    enabled="{/cuaFlags/preferredLogonLanguage}"\n                    items="{/languageList}"\n                    selectedKey="{/selectedLanguage}"\n                    valueState="{= ${/selectedLanguage} ? \'None\' : \'Error\'}"\n                    width="100%"\n                    change="._handleLanguageSelectChange"><core:Item key="{key}" text="{text}" /></ComboBox><Label text="{i18n>dateFormatFld}" visible="{= !${/DateFormatList}}" labelFor="dateFormatCombo"/><Text id="dateFormatCombo" visible="{= !${/DateFormatList}}" text="{/selectedDatePattern}" /><Label text="{i18n>dateFormatFld}" visible="{= !!${/DateFormatList}}" labelFor="DateFormatSelectionSelect"/><Select id="DateFormatSelectionSelect"\n                    visible="{= !!${/DateFormatList}}"\n                    enabled="{/cuaFlags/dateFormat}"\n                    items="{/DateFormatList}"\n                    width="100%"\n                    selectedKey="{/selectedDatePattern}"><core:Item key="{value}" text="{description}" /></Select><Label text="{i18n>weekNumberingFld}" visible="{=!!${/CalendarWeekNumberingList}}" labelFor="WeekNumberingSelectionSelect"/><Select id="WeekNumberingSelectionSelect"\n                    showSecondaryValues="true"\n                    visible="{=!!${/CalendarWeekNumberingList}}"\n                    items="{/CalendarWeekNumberingList}"\n                    width="100%"\n                    selectedKey="{/selectedCalendarWeekNumbering}"\n                    wrapItemsText="true"\n                    columnRatio="2:3"><core:ListItem text="{title}" additionalText="{description}" key="{value}"/></Select><Label text="{i18n>timeZoneFld}" visible="{= ${/isEnableUserProfileSetting}}" labelFor="TimeZoneSelectionSelect"/><ComboBox\n                    id="TimeZoneSelectionSelect"\n                    visible="{= !!${/TimeZoneList}}"\n                    enabled="{/cuaFlags/timeZone}"\n                    items="{\n                        path: \'/TimeZoneList\',\n                        sorter: { path: \'description\' }\n                    }"\n                    width="100%"\n                    selectedKey="{/selectedTimeZone}"\n                    valueState="{= ${/selectedTimeZone} ? \'None\' : \'Error\'}"\n                ><core:Item key="{value}" text="{description}" /></ComboBox><Label visible="{= !${/isTimeZoneFromServerInUI5}}"/><Text text="{i18n>TimeZoneHelpingText}" class="sapUshellFlpSettingsHint" visible="{= !${/isTimeZoneFromServerInUI5}}" width="100%"/><Label text="{i18n>timeFormatFld}" visible="{= !${/TimeFormatList}}" labelFor="hoursSegmentedButton"/><SegmentedButton id="hoursSegmentedButton" visible="{= !${/TimeFormatList}}" enabled="false" selectedKey="{/selectedTimeFormat}"><items><SegmentedButtonItem key="12h" text="{i18n>btn12h}" /><SegmentedButtonItem key="24h" text="{i18n>btn24h}" /></items></SegmentedButton><Label text="{i18n>timeFormatFld}" visible="{= !!${/TimeFormatList}}" labelFor="TimeFormatSelectionSelect"/><Select id="TimeFormatSelectionSelect"\n                    visible="{= !!${/TimeFormatList}}"\n                    enabled="{/cuaFlags/timeFormat}"\n                    items="{/TimeFormatList}"\n                    width="100%"\n                    selectedKey="{/selectedTimeFormat}"><core:Item key="{value}" text="{description}" /></Select><Label text="{i18n>numberFormatFld}" visible="{= ${/isEnableUserProfileSetting}}" labelFor="NumberFormatSelectionSelect" /><Select id="NumberFormatSelectionSelect"\n                    visible="{= !!${/NumberFormatList}}"\n                    enabled="{/cuaFlags/numberFormat}"\n                    items="{/NumberFormatList}"\n                    width="100%"\n                    selectedKey="{/selectedNumberFormat}"><core:Item key="{value}" text="{description}" /></Select></form:SimpleForm><Text text="{i18n>LanguageAndRegionHelpingText}" class="sapUshellFlpSettingsWideDescription" visible="{= !!${/languageList}}" width="100%"/><core:InvisibleText id="LanguageSettingsLabel" text="{i18n>languageAndRegionForm}" /></VBox></mvc:View>\n',
	"sap/ushell/components/shell/ShellBar/manifest.json":'{"_version":"1.70.0","sap.app":{"id":"sap.ushell.components.shell.ShellBar","applicationVersion":{"version":"1.141.1"},"type":"component","ach":"CA-FLP-FE-COR","title":"","resources":"resources.json"},"sap.ui":{"technology":"UI5","deviceTypes":{"desktop":true,"phone":true,"tablet":true}},"sap.ui5":{"dependencies":{"minUI5Version":"1.135","libs":{"sap.m":{},"sap.tnt":{},"sap.ui.core":{}}},"contentDensities":{"compact":true,"cozy":true},"rootView":{"viewName":"sap.ushell.components.shell.ShellBar.view.ShellBar","type":"XML","id":"ShellBarView"},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"sap.ushell.components.shell.ShellBar.resources.resources","async":true,"supportedLocales":["","ar","bg","ca","cnr","cs","cy","da","de","el","en","en-GB","en-US-x-saprigi","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","mk","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-TW"]}}}}}',
	"sap/ushell/components/shell/ShellBar/view/ShellBar.view.xml":'<mvc:View\n    controllerName="sap.ushell.components.shell.ShellBar.controller.ShellBar"\n    xmlns="sap.ushell.ui"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:m="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:thirdparty="sap.ushell.gen.ui5.webcomponents-fiori.dist"\n    visible="{shellModel>/header/visible}"\n    core:require="{\n        BindingHelper: \'sap/ushell/state/BindingHelper\',\n        icons: \'sap/ushell/thirdparty/ui5/webcomponents-icons/AllIcons\',\n        iconsTnt: \'sap/ushell/thirdparty/ui5/webcomponents-icons-tnt/AllIcons\',\n        iconsBusinessSuite: \'sap/ushell/thirdparty/ui5/webcomponents-icons-business-suite/AllIcons\'\n    }"\n><thirdparty:ShellBar\n        id="shellBar"\n        class="sapUshellShellSearch sapUshellShellBar"\n        secondaryTitle="{shellModel>/header/secondTitle}"\n        searchFieldToggle=".onSearchFieldToggle"\n        showSearchField="{/searchField/show}"\n        hideSearchButton="{/searchField/show}"\n        contentItemVisibilityChange=".onContentItemVisibilityChange"\n        searchButtonClick=".onSearchButtonClick"\n        showNotifications="{\n            path: \'shellModel>/header/headEndItems\',\n            formatter: \'.hasNotifications\'\n        }"\n        notificationsClick=".onNotificationsClick"\n        notificationsCount="{= %{configModel>/notificationsCount} > 0 ? %{configModel>/notificationsCount} : \'\'}"\n        showProductSwitch="{\n            path: \'shellModel>/header/headEndItems\',\n            formatter: \'.hasProducts\'\n        }"\n        productSwitchClick=".onProductSwitchClick"\n        profileClick=".onProfileClick"\n        startButton="{\n            path: \'shellModel>/header/headItems\',\n            factory: \'BindingHelper.factory\'\n        }"\n        items="{\n            path: \'shellModel>/header/headEndItems\',\n            factory: \'BindingHelper.factory\',\n            filters: [{ path: \'\', caseSensitive: true, test: \'.isHeadEndItem\' }]\n        }"\n        content="{\n            path: \'shellModel>/header/headEndItems\',\n            factory: \'BindingHelper.factory\',\n            filters: [{ path: \'\', caseSensitive: true, test: \'.isContentItem\' }]\n        }"\n        profile="{\n            path: \'shellModel>/header/headEndItems\',\n            factory: \'BindingHelper.factory\',\n            filters: [{ path: \'\', test: \'.isProfileMenu\' }]\n        }"\n    ><thirdparty:searchField><m:Input id="dummySearchInput"\n                     busy="true"\n                     busyIndicatorDelay="0"\n                     visible="{shellConfig>/searchAvailable}"/></thirdparty:searchField><thirdparty:branding><thirdparty:ShellBarBranding\n                href="{/logo/homeUri}"\n                target="_self"\n                text="{config>/windowTitleExtension}"><thirdparty:logo><m:Image\n                        src="{shellModel>/header/logo/src}"\n                        alt="{shellModel>/header/logo/alt}"\n                        tooltip="{= ${/logo/isRootIntent} ? ${i18n>homeBtn_tooltip_text} : ${i18n>lastPage_tooltip}}"\n                    /></thirdparty:logo></thirdparty:ShellBarBranding></thirdparty:branding><thirdparty:customData><core:CustomData\n                key="help-id"\n                value="ShellBar"\n                writeToDom="true"\n            /></thirdparty:customData></thirdparty:ShellBar></mvc:View>\n',
	"sap/ushell/components/shell/SideNavigation/fragment/AllSpaces.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    core:require="{\n        mLibrary: \'sap/m/library\'\n    }"><VBox width="{= %{viewConfiguration>/renderMode} === \'Popover\' ? \'20rem\' : \'\'}" renderType="{= mLibrary.FlexRendertype.Div}" id="allSpacesSideMenu"><Toolbar style="Clear"><Button type="Back" press="onPressNavigateBackToSideNav" /></Toolbar><ScrollContainer width="100%" height="100%" vertical="true"><core:ComponentContainer\n                id="NavigationBarMenuComponentContainer"\n                manifest="true"\n                async="true"\n                propagateModel="true"\n                lifecycle="Container"\n            /></ScrollContainer></VBox></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/SideNavigation/fragment/Popover.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:tnt="sap.tnt"\n    core:require="{\n        Device: \'sap/ui/Device\'\n    }"><ResponsivePopover\n        id="sideNavigationPopover"\n        verticalScrolling="false"\n        showHeader="{= Device.system.phone}"\n        placement="Bottom"\n        ariaLabelledBy="sideNavigationLabel"><core:InvisibleText id="sideNavigationLabel" text="{i18n>SideNavigation.PopoverLabel}"/></ResponsivePopover></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/SideNavigation/manifest.json":'{"_version":"1.68.0","sap.app":{"id":"sap.ushell.components.shell.SideNavigation","applicationVersion":{"version":"1.141.1"},"i18n":{"bundleUrl":"./resources/resources.properties","fallbackLocale":"en","supportedLocales":["","ar","bg","ca","cnr","cs","cy","da","de","el","en","en-GB","en-US-x-saprigi","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","mk","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-TW"]},"type":"component","ach":"CA-FLP-FE-COR","title":"","resources":"resources.json"},"sap.ui":{"technology":"UI5","deviceTypes":{"desktop":true,"phone":true,"tablet":true}},"sap.ui5":{"dependencies":{"minUI5Version":"1.132","libs":{"sap.m":{},"sap.tnt":{},"sap.ui.core":{}}},"resources":{"css":[{"uri":"css/style.css"}]},"rootView":{"viewName":"sap.ushell.components.shell.SideNavigation.view.Main","type":"XML"},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"sap.ushell.components.shell.SideNavigation.resources.resources","async":true,"supportedLocales":["","ar","bg","ca","cnr","cs","cy","da","de","el","en","en-GB","en-US-x-saprigi","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","mk","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-TW"]}}},"contentDensities":{"compact":true,"cozy":true}}}',
	"sap/ushell/components/shell/SideNavigation/view/Main.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:core="sap.ui.core"\n    xmlns:tnt="sap.tnt"\n    controllerName="sap.ushell.components.shell.SideNavigation.controller.SideNavigation"\n    displayBlock="true"\n    height="100%"\n    visible="{shellModel>/sideNavigation/visible}"\n    core:require="{\n        mLibrary: \'sap/m/library\',\n        tntLibrary: \'sap/tnt/library\'\n    }"><NavContainer id="navContainer" class="sapUshellSideNavigationPositionRelative sapUshellSideNavigationNavContainer"><tnt:SideNavigation\n            id="sideNavigation"\n            selectedKey="{viewConfiguration>/selectedKey}"\n            expanded="{viewConfiguration>/expanded}"\n            width="{= %{viewConfiguration>/renderMode} === \'Popover\' ? \'20rem\' : \'\'}"\n            design="{= %{viewConfiguration>/renderMode} === \'Popover\' ? tntLibrary.SideNavigationDesign.Plain : tntLibrary.SideNavigationDesign.Decorated}"\n        ><tnt:customData><core:CustomData\n                    key="sap-ui-fastnavgroup"\n                    value="true"\n                    writeToDom="true"\n                /></tnt:customData></tnt:SideNavigation></NavContainer></mvc:View>\n',
	"sap/ushell/components/shell/UserActionsMenu/UserActionsMenu.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:thirdparty="sap.ushell.gen.ui5.webcomponents-fiori.dist"\n    core:require="{\n        iconSettings: \'sap/ushell/thirdparty/ui5/webcomponents-icons/AllIcons\'\n    }"\n><thirdparty:UserMenu\n        opener="userActionsMenuHeaderButton"\n        id="sapUshellUserActionsMenuPopover"\n        menuItems="{\n            path: \'shellModel>/userActions/items\',\n            factory: \'.userActionsMenuItemFactory\',\n            filters: [{\n                path: \'\',\n                caseSensitive: true,\n                test: \'.filterUserActions\'\n            }]}"\n        signOutClick=".logout"\n        itemClick=".onItemPress"\n    ><thirdparty:accounts><thirdparty:UserMenuAccount\n                titleText="{/userName}"\n                avatarSrc="{configModel>/userImage/personPlaceHolder}"\n                avatarInitials="{/initials}"\n                subtitleText="{/identifier}"\n                description="{/userEmail}"\n                selected="true"\n            /></thirdparty:accounts></thirdparty:UserMenu></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/UserActionsMenu/UserActionsMenuPopover.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n><Popover\n        id="sapUshellUserActionsMenuPopover"\n        placement="Bottom"\n        showArrow="true"\n        showHeader="false"\n        class="sapUshellPopupContainer sapContrastPlus"\n    ><content><List\n                class="sapUshellPopoverList"\n                showSeparators="None"\n                includeItemInSelection="true"\n                items="{\n                    path: \'shellModel>/userActions/items\',\n                    factory: \'.userActionsMenuPopoverItemFactory\',\n                    filters: [{\n                        path: \'\',\n                        caseSensitive: true,\n                        test: \'.filterUserActions\'\n                    }]\n                }"\n            ><headerToolbar><Toolbar style="Clear"><Title\n                            titleStyle="H4"\n                            level="H1"\n                            text="{/userName}"\n                        ><customData><core:CustomData\n                                    xmlns:core="sap.ui.core"\n                                    key="help-id"\n                                    value="UserActionsMenu-UserName"\n                                    writeToDom="true"\n                                /></customData></Title></Toolbar></headerToolbar><infoToolbar><Toolbar\n                        class="sapUiTinyMarginBegin"\n                        style="Standard"\n                        design="Transparent"\n                    ><Title\n                            titleStyle="H5"\n                            level="H2"\n                            text="{/identifier}"\n                        ><customData><core:CustomData\n                                    xmlns:core="sap.ui.core"\n                                    key="help-id"\n                                    value="UserActionsMenu-UserIdentifier"\n                                    writeToDom="true"\n                                /></customData></Title></Toolbar></infoToolbar></List></content></Popover></core:FragmentDefinition>\n',
	"sap/ushell/components/tiles/action/ActionTile.view.xml":'<View\n    xmlns="sap.ui.core.mvc"\n    xmlns:ushell="sap.ushell.ui.tile"\n    controllerName="sap.ushell.components.tiles.action.ActionTile"\n    height="100%"\n    width="100%"><ushell:TileBase\n        id="actionTile"\n        title="{i18n>tile.display.action_chip}"\n        subtitle="{/displayText}"\n        icon="sap-icon://action"\n        press="onPress" /></View>\n',
	"sap/ushell/components/tiles/action/Configuration.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:form="sap.ui.layout.form"\n    xmlns:layout="sap.ui.layout"\n    xmlns:table="sap.ui.table"\n    controllerName="sap.ushell.components.tiles.action.Configuration"><MessageStrip\n        type="Warning"\n        enableFormattedText="true"\n        showIcon="true"\n        showCloseButton="false"\n        class="sapUiResponsiveMargin"\n        visible="{= !!${/config/deprecation_text}}"\n        text="{/config/deprecation_text}" /><form:Form id="configuration" maxContainerCols="2" minWidth="1024" editable="true"><form:layout><form:ResponsiveGridLayout /></form:layout><form:FormContainer id="categoryChipConfiguration" title="{i18n>configuration.category.action_chip_configuration}"><form:FormElement label="{i18n>configuration.semantic_object}"><Input\n                    id="semantic_objectInput"\n                    width="100%"\n                    tooltip="{i18n>configuration.semantic_object.tooltip}"\n                    maxLength="30"\n                    liveChange="onConfigurationInputChange"\n                    valueHelpRequest="onValueHelpRequest"\n                    showValueHelp="true"\n                    showSuggestion="true"\n                    value="{/value}"\n                    enabled="{/config/editable}" /></form:FormElement><form:FormElement label="{i18n>configuration.semantic_action}"><Input\n                    id="semantic_actionInput"\n                    value="{/config/semantic_action}"\n                    maxLength="50"\n                    liveChange="onConfigurationInputChange"\n                    enabled="{/config/editable}"\n                    valueHelpRequest="onActionValueHelpRequest"\n                    showValueHelp="true"\n                    showSuggestion="true"\n                    width="100%"\n                    tooltip="{i18n>configuration.semantic_action.tooltip}" /></form:FormElement></form:FormContainer><form:FormContainer id="categoryTargetApplication" title="{i18n>configuration.category.target_application}"><form:FormElement id="targetType" label="{i18n>configuration.target_applicationType}"><ComboBox\n                    id="targetTypeInput"\n                    selectedKey="{/config/navigation_provider}"\n                    enabled="{/config/editable}"\n                    selectionChange="onApplicationTypeChange" /></form:FormElement><form:FormElement id="application_description" label="{i18n>configuration.target_application.description}"><Input\n                    id="target_application_descriptionInput"\n                    value="{/config/display_title_text}"\n                    liveChange="onConfigurationInputChange"\n                    width="100%"\n                    enabled="{/config/editable}"\n                    tooltip="{i18n>configuration.target_application.description.tooltip}" /></form:FormElement><form:FormElement id="application_url" label="{i18n>configuration.target_application.url}"><Input\n                    id="target_application_urlInput"\n                    value="{/config/url}"\n                    enabled="{/config/editable}"\n                    maxLength="512"\n                    liveChange="onConfigurationInputChange"\n                    width="100%" tooltip="{i18n>configuration.target_application.url.tooltip}" /></form:FormElement><form:FormElement id="application_component" label="{i18n>configuration.target_application.component}"><Input\n                    id="target_application_componentInput"\n                    value="{/config/ui5_component}"\n                    enabled="{/config/editable}"\n                    liveChange="onConfigurationInputChange"\n                    width="100%"\n                    tooltip="{i18n>configuration.target_application.component.tooltip}" /></form:FormElement><form:FormElement id="navigation_provider_role" label="{i18n>configuration.navigation_provider_role}"><Input\n                    id="navigation_provider_roleInput"\n                    valueHelpRequest="onRoleValueHelpRequest"\n                    showValueHelp="true"\n                    showTableSuggestionValueHelp="true"\n                    enabled="{/config/editable}"\n                    showSuggestion="true"\n                    value="{/value}"\n                    width="100%"\n                    maxLength="10"\n                    class="sapUshellTargetMappingToUpperCase"\n                    tooltip="{i18n>configuration.navigation_provider_role.tooltip}"\n                    liveChange="onConfigurationInputChange"><suggestionColumns><Column hAlign="Begin" popinDisplay="Inline" demandPopin="true"><Label text="{i18n>configuration.navigation_provider_role}" /></Column><Column hAlign="Begin" popinDisplay="Inline" demandPopin="true"><Label text="{i18n>configuration.navigation_provider_instance}" /></Column></suggestionColumns></Input></form:FormElement><form:FormElement id="navigation_provider_instance"\n                label="{i18n>configuration.navigation_provider_instance}"><Input\n                    id="navigation_provider_instanceInput"\n                    value="{/value}"\n                    width="100%"\n                    maxLength="32"\n                    valueHelpRequest="onInstanceValueHelpRequest"\n                    enabled="{/config/editable}"\n                    showValueHelp="true"\n                    showSuggestion="true"\n                    suggest="instanceSuggest"\n                    tooltip="{i18n>configuration.navigation_provider_instance.tooltip}"\n                    liveChange="onConfigurationInputChange"\n                    class="sapUshellTargetMappingToUpperCase" /></form:FormElement><form:FormElement id="target_application_alias" label="{i18n>configuration.target_application_alias}"><Input\n                    id="target_application_aliasInput"\n                    value="{/value}"\n                    width="100%"\n                    valueHelpRequest="onAliasValueHelpRequest"\n                    enabled="{/config/editable}"\n                    showValueHelp="true"\n                    showSuggestion="true"\n                    suggest="aliasSuggest"\n                    tooltip="{i18n>configuration.target_application_alias.tooltip}"\n                    liveChange="onConfigurationInputChange" /></form:FormElement><form:FormElement id="target_application_id" label="{i18n>configuration.target_application_id}"><Input\n                    id="target_application_idInput"\n                    value="{/config/target_application_id}"\n                    width="100%"\n                    maxLength="32"\n                    enabled="{/config/editable}"\n                    tooltip="{i18n>configuration.target_application_id.tooltip}"\n                    liveChange="onConfigurationInputChange" /></form:FormElement><form:FormElement id="target_transaction" label="{i18n>configuration.target_transaction}"><Input\n                    id="target_transactionInput"\n                    value="{/config/transaction/code}"\n                    width="100%"\n                    maxLength="20"\n                    enabled="{/config/editable}"\n                    tooltip="{i18n>configuration.target_transaction.tooltip}"\n                    liveChange="onConfigurationInputChange" /></form:FormElement><form:FormElement id="target_wcf_application_id" label="{i18n>configuration.target_wcf.application_id}"><Input\n                    id="target_wcf_application_idInput"\n                    value="{/config/wcf/application_id}"\n                    width="100%"\n                    maxLength="30"\n                    enabled="{/config/editable}"\n                    liveChange="onConfigurationInputChange" /></form:FormElement><form:FormElement id="target_web_dynpro_application" label="{i18n>configuration.target_web_dynpro.application}"><Input\n                    id="target_web_dynpro_applicationInput"\n                    value="{/config/web_dynpro/application}"\n                    width="100%"\n                    maxLength="30"\n                    enabled="{/config/editable}"\n                    tooltip="{i18n>configuration.target_web_dynpro_application.tooltip}"\n                    liveChange="onConfigurationInputChange" /></form:FormElement><form:FormElement id="target_web_dynpro_configuration" label="{i18n>configuration.target_web_dynpro.configuration}"><Input\n                    id="target_web_dynpro_configurationInput"\n                    value="{/config/web_dynpro/configuration}"\n                    width="100%"\n                    maxLength="32"\n                    enabled="{/config/editable}"\n                    tooltip="{i18n>configuration.target_web_dynpro_application.tooltip}"\n                    liveChange="onConfigurationInputChange" /></form:FormElement><form:FormElement id="target_system_alias" label="{i18n>configuration.target_system_alias}"><Input\n                    id="target_system_aliasInput"\n                    value="{/config/target_system_alias}"\n                    width="100%"\n                    maxLength="30"\n                    enabled="{/config/editable}"\n                    tooltip="{i18n>configuration.target_system_alias.tooltip}"\n                    liveChange="onConfigurationInputChange" /></form:FormElement><form:FormElement id="urlt_application_component" label="{i18n>configuration.target_application.component}"><Input\n                    id="urlt_application_componentInput"\n                    value="{/config/url_template/parameters/ui5ComponentName}"\n                    enabled="{/config/editable}"\n                    liveChange="onConfigurationInputChange"\n                    width="100%"\n                    tooltip="{i18n>configuration.target_application.component.tooltip}" /></form:FormElement><form:FormElement id="target_urlt_system_alias" label="{i18n>configuration.target_system_alias}"><Input\n                    id="target_urlt_system_aliasInput"\n                    value="{/config/url_template/parameters/systemAlias}"\n                    width="100%"\n                    maxLength="30"\n                    enabled="{/config/editable}"\n                    tooltip="{i18n>configuration.target_system_alias.tooltip}"\n                    liveChange="onConfigurationInputChange" /></form:FormElement><form:FormElement id="application_type_deprecated"><MessageStrip text="{i18n>applicationTypeDeprecated}" type="Warning" showIcon="true" /></form:FormElement></form:FormContainer><form:FormContainer id="categoryGeneral" title="{i18n>configuration.category.general}"><form:layoutData><layout:GridData span="L12 M12 S12" /></form:layoutData><form:FormElement label="{i18n>configuration.display_info_text}"><Input\n                    id="additionalInfo"\n                    value="{/config/display_info_text}"\n                    enabled="{/config/editable}"\n                    width="100%"\n                    liveChange="onConfigurationInputChange" /></form:FormElement><form:FormElement label="{i18n>configuration.form_factor}" tooltip="{i18n>configuration.form_factor.tooltip}"><CheckBox\n                    id="desktopCB"\n                    text="{i18n>configuration.form_factor_desktop}"\n                    select="onFormFactorChange"\n                    selected="{/config/desktopChecked}"\n                    enabled="{/config/manualFormFactor}" /><CheckBox\n                    id="tabletCB"\n                    text="{i18n>configuration.form_factor_tablet}"\n                    select="onFormFactorChange"\n                    selected="{/config/tabletChecked}"\n                    enabled="{/config/manualFormFactor}" /><CheckBox\n                    id="phoneCB"\n                    text="{i18n>configuration.form_factor_phone}"\n                    select="onFormFactorChange"\n                    selected="{/config/phoneChecked}"\n                    enabled="{/config/manualFormFactor}" /></form:FormElement><form:FormElement label="{i18n>configuration.signature.table.title}"><VBox><table:Table\n                        id="mappingSignatureTable"\n                        rows="{/config/rows}"\n                        selectionBehavior="Row"\n                        selectionMode="Multi"\n                        visibleRowCount="5"\n                        enableColumnReordering="false"\n                        rowHeight="30px"><table:Column id="nameCol" width="82px"><Label text="{i18n>configuration.signature.table.name}" /><table:template><Input\n                                    value="{name}"\n                                    editable="{editable}"\n                                    placeholder="{i18n>configuration.signature.table.nameFieldLbl}"\n                                    change="checkDuplicateNames" /></table:template></table:Column><table:Column id="mandatoryCol" width="92px" hAlign="Center"><Label text="{i18n>configuration.signature.table.mandatory}" /><table:template><CheckBox selected="{mandatory}" editable="{editable}" select="handleMandatoryChange" /></table:template></table:Column><table:Column id="valueCol" width="85px"><Label text="{i18n>configuration.signature.table.value}" /><table:template><Input value="{value}" editable="{editable}" enabled="{valEnabled}" /></table:template></table:Column><table:Column id="isRegExCol" width="162px" hAlign="Center"><Label text="{i18n>configuration.signature.table.isRegEx}" /><table:template><CheckBox selected="{isRegularExpression}" editable="{editable}" enabled="{valEnabled}" /></table:template></table:Column><table:Column id="defValueCol" width="110px"><Label text="{i18n>configuration.signature.table.defaultValue}" /><table:template><Input value="{defaultValue}" editable="{editable}" enabled="{defValEnabled}" /></table:template></table:Column><table:Column id="renameToCol" width="82px" visible="{= ${/config/navigation_provider} !== \'LPD\' }"><Label\n                                text="{i18n>configuration.signature.table.renameTo}"\n                                tooltip="{i18n>configuration.signature.table.renameTo.tooltip}" /><table:template><Input value="{rename_to}" editable="{editable}" /></table:template></table:Column></table:Table><HBox wrap="Wrap"><CheckBox\n                            id="isUnknownAllowed"\n                            text="{i18n>configuration.signature.table.allowUndefined}"\n                            enabled="{/config/editable}"\n                            selected="{/config/isUnknownAllowed}"\n                            width="400px"><layoutData><FlexItemData growFactor="1"/></layoutData></CheckBox><Button\n                            id="addRow"\n                            enabled="{/config/editable}"\n                            text="{i18n>configuration.signature.table.add}"\n                            press="addRow"\n                            width="100px" /><Button\n                            id="deleteRow"\n                            enabled="{/config/editable}"\n                            text="{i18n>configuration.signature.table.delete}"\n                            press="deleteRow"\n                            width="100px" /></HBox></VBox></form:FormElement></form:FormContainer></form:Form></mvc:View>\n',
	"sap/ushell/components/tiles/applauncher/Configuration.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:form="sap.ui.layout.form"\n    xmlns:layout="sap.ui.layout"\n    xmlns:table="sap.ui.table"\n    controllerName="sap.ushell.components.tiles.applauncher.Configuration"><MessageStrip id="messageStrip" showIcon="true" showCloseButton="false" visible="false" class="sapUiResponsiveMargin" /><MessageStrip\n        type="Warning"\n        enableFormattedText="true"\n        showIcon="true"\n        showCloseButton="false"\n        class="sapUiResponsiveMargin"\n        visible="{= !!${/config/deprecation_text}}"\n        text="{/config/deprecation_text}" /><form:SimpleForm id="configuration" maxContainerCols="2" editable="true"><form:content><core:Title id="categoryCommon" text="{i18n>configuration.category.general}" /><Label text="{i18n>configuration.display_title_text}" /><Input\n                id="titleInput"\n                value="{/config/display_title_text}"\n                enabled="{/config/editable}"\n                width="100%"\n                tooltip="{i18n>configuration.display_title_text.tooltip}"\n                editable="{/config/isLocaleSuitable}" /><Label text="{i18n>configuration.display_subtitle_text}" /><Input\n                id="subtitleInput"\n                value="{/config/display_subtitle_text}"\n                enabled="{/config/editable}"\n                width="100%"\n                tooltip="{i18n>configuration.display_subtitle_text.tooltip}"\n                editable="{/config/isLocaleSuitable}" /><Label text="{i18n>configuration.keywords}" /><Input\n                id="keywordsInput"\n                value="{/config/display_search_keywords}"\n                enabled="{/config/editable}"\n                width="100%"\n                tooltip="{i18n>configuration.keywords.tooltip}"\n                editable="{/config/isLocaleSuitable}" /><Label text="{i18n>configuration.display_icon_url}" /><Input\n                id="iconInput"\n                value="{/config/display_icon_url}"\n                enabled="{/config/editable}"\n                placeholder="sap-icon://inbox"\n                tooltip="{i18n>configuration.display_icon_url.tooltip}"\n                liveChange="onConfigurationInputChange"\n                valueHelpRequest="onIconValueHelpRequest"\n                showValueHelp="true" /><Label text="{i18n>configuration.display_info_text}" /><Input\n                id="infoInput"\n                value="{/config/display_info_text}"\n                enabled="{/config/editable}"\n                width="100%"\n                tooltip="{i18n>configuration.display_info_text.tooltip}"\n                editable="{/config/isLocaleSuitable}" /><core:Title id="categoryNavigation" text="{i18n>configuration.category.navigation}" /><Label text="{i18n>configuration.navigation_use_semantic_object}" /><CheckBox\n                id="useLpdCheckbox"\n                selected="{/config/navigation_use_semantic_object}"\n                tooltip="{i18n>configuration.navigation_use_semantic_object.tooltip}"\n                select="onCheckBoxChange"\n                enabled="{/config/editable}" /><Label text="{i18n>configuration.semantic_object}" /><Input\n                id="navigation_semantic_objectInput"\n                width="100%"\n                tooltip="{i18n>configuration.semantic_object.tooltip}"\n                maxLength="30"\n                liveChange="onConfigurationInputChange"\n                valueHelpRequest="onValueHelpRequest"\n                showValueHelp="true"\n                showSuggestion="true"\n                enabled="{= ${/enabled} &amp;&amp; ${/config/editable}}"\n                value="{/value}" /><Label text="{i18n>configuration.navigation_semantic_action}" /><Input\n                id="navigation_semantic_actionInput"\n                value="{/config/navigation_semantic_action}"\n                width="100%"\n                enabled="{= ${/config/navigation_use_semantic_object} &amp;&amp; ${/config/editable}}"\n                maxLength="50"\n                valueHelpRequest="onActionValueHelpRequest"\n                showValueHelp="true"\n                showSuggestion="true"\n                tooltip="{i18n>configuration.navigation_semantic_action.tooltip}"\n                liveChange="onConfigurationInputChange" /><Label text="{i18n>configuration.navigation_semantic_parameters}" /><Input\n                id="navigation_semantic_parametersInput"\n                value="{/config/navigation_semantic_parameters}"\n                width="100%"\n                enabled="{= ${/config/navigation_use_semantic_object} &amp;&amp; ${/config/editable}}"\n                tooltip="{i18n>configuration.navigation_semantic_parameters.tooltip}" /><Label text="{i18n>configuration.navigation_target_url}" /><Input\n                id="targetUrl"\n                value="{/config/navigation_target_url}"\n                type="Url"\n                width="100%"\n                tooltip="{i18n>configuration.navigation_target_url.tooltip}" /><Label /><core:Title id="categoryTileActions" text="{i18n>configuration.category.tile_actions}" /><table:Table\n                id="tileActions"\n                rows="{/config/tile_actions_rows}"\n                selectionBehavior="Row"\n                selectionMode="Multi"\n                visibleRowCount="3"\n                enableColumnReordering="false"\n                rowHeight="30px"><table:Column id="menuItem" width="80px" tooltip="{i18n>configuration.tile_actions.table.menu_item_tooltip}"><Label text="{i18n>configuration.tile_actions.table.menu_item}" /><table:template><Input value="{menu_title}" editable="{editable}" valueState="{valueState}" /></table:template></table:Column><table:Column id="targetType" width="85px" tooltip="{i18n>configuration.tile_actions.table.target_type_tooltip}"><Label text="{i18n>configuration.tile_actions.table.target_type}" /><table:template><ComboBox\n                            id="targetTypeCB"\n                            value="{target_type}"\n                            editable="{editable}"\n                            change="handleTargetTypeChange" /></table:template></table:Column><table:Column\n                    id="navigationTarget"\n                    width="162px"\n                    tooltip="{i18n>configuration.tile_actions.table.navigation_target_tooltip}"><Label text="{i18n>configuration.tile_actions.table.navigation_target}" /><table:template><Input\n                            liveChange="onConfigurationInputChange"\n                            valueHelpRequest="onTileActionValueHelp"\n                            showValueHelp="{isTargetTypeIntent}"\n                            showSuggestion="{isTargetTypeIntent}"\n                            value="{navigation_target}"\n                            editable="{editable}" /></table:template></table:Column><table:Column id="action" width="85px" tooltip="{i18n>configuration.tile_actions.table.action_tooltip}"><Label text="{i18n>configuration.tile_actions.table.action}" /><table:template><Input value="{action}" enabled="{isTargetTypeIntent}" editable="{editable}" /></table:template></table:Column><table:Column id="icon" width="110px" tooltip="{i18n>configuration.tile_actions.table.icon_tooltip}"><Label text="{i18n>configuration.tile_actions.table.icon}" /><table:template><Input\n                            value="{icon}"\n                            placeholder="sap-icon://inbox"\n                            editable="{editable}"\n                            valueStateText="{iconValueStateText}"\n                            valueState="{iconValueState}"\n                            liveChange="onConfigurationInputChange"\n                            valueHelpRequest="onTileActionIconValueHelp"\n                            showValueHelp="true" /></table:template></table:Column></table:Table><Label /><HBox alignItems="End" justifyContent="End"><Button\n                    id="addRow"\n                    text="{i18n>configuration.tile_actions.table.add}"\n                    enabled="{/config/editable}"\n                    tooltip="{i18n>configuration.tile_actions.table.add_tooltip}"\n                    press="addRow"\n                    width="100px" /><Button\n                    id="deleteRow"\n                    text="{i18n>configuration.tile_actions.table.remove}"\n                    enabled="{/config/editable}"\n                    tooltip="{i18n>configuration.tile_actions.table.remove_tooltip}"\n                    press="deleteRow"\n                    width="100px" /></HBox></form:content></form:SimpleForm><HBox visible="false"><Dialog\n            id="selectIconDialog"\n            beginButton="ok"\n            endButton="cancel"\n            title="{i18n>configuration.select_icon}"\n            class="sapContrastPlus"><content><layout:ResponsiveFlowLayout id="icons" /><HBox visible="true"><Button id="ok" enabled="{/config/ok.enabled}" text="{i18n>configuration.ok}" /><Button id="cancel" text="{i18n>configuration.cancel}" press="onSelectIconClose" /></HBox></content></Dialog></HBox></mvc:View>\n',
	"sap/ushell/components/tiles/applauncherdynamic/Configuration.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:form="sap.ui.layout.form"\n    xmlns:layout="sap.ui.layout"\n    xmlns:table="sap.ui.table"\n    controllerName="sap.ushell.components.tiles.applauncherdynamic.Configuration"><MessageStrip id="messageStrip" showIcon="true" showCloseButton="false" visible="false" class="sapUiResponsiveMargin" /><MessageStrip\n        type="Warning"\n        enableFormattedText="true"\n        showIcon="true"\n        showCloseButton="false"\n        class="sapUiResponsiveMargin"\n        visible="{= !!${/config/deprecation_text}}"\n        text="{/config/deprecation_text}" /><form:SimpleForm id="configuration" maxContainerCols="8" editable="true"><form:content><core:Title id="categoryCommon" text="{i18n>configuration.category.general}" /><Label text="{i18n>configuration.display_title_text}" /><Input\n                id="titleInput"\n                value="{/config/display_title_text}"\n                width="100%"\n                tooltip="{i18n>configuration.display_title_text.tooltip}" enabled="{/config/editable}"\n                editable="{/config/isLocaleSuitable}" /><Label text="{i18n>configuration.display_subtitle_text}" /><Input\n                id="subtitleInput"\n                value="{/config/display_subtitle_text}"\n                enabled="{/config/editable}"\n                tooltip="{i18n>configuration.display_subtitle_text.tooltip}"\n                editable="{/config/isLocaleSuitable}" /><Label text="{i18n>configuration.keywords}" /><Input\n                id="keywordsInput"\n                value="{/config/display_search_keywords}"\n                enabled="{/config/editable}"\n                width="100%"\n                tooltip="{i18n>configuration.keywords.tooltip}"\n                editable="{/config/isLocaleSuitable}" /><Label text="{i18n>configuration.display_icon_url}" /><Input\n                id="iconInput"\n                value="{/config/display_icon_url}"\n                enabled="{/config/editable}"\n                placeholder="sap-icon://inbox"\n                tooltip="{i18n>configuration.display_icon_url.tooltip}"\n                liveChange="onConfigurationInputChange"\n                valueHelpRequest="onIconValueHelpRequest"\n                showValueHelp="true" /><Label text="{i18n>configuration.display_info_text}" /><Input\n                id="infoInput"\n                value="{/config/display_info_text}"\n                width="100%"\n                enabled="{/config/editable}"\n                tooltip="{i18n>configuration.display_info_text.tooltip}"\n                editable="{/config/isLocaleSuitable}" /><Label text="{i18n>configuration.display_number_unit}" /><Input\n                id="number_unitInput"\n                value="{/config/display_number_unit}"\n                width="100%"\n                enabled="{/config/editable}"\n                tooltip="{i18n>configuration.display_number_unit.tooltip}" /><core:Title id="categoryDynamicData" text="{i18n>configuration.category.dynamic_data}" /><Label text="{i18n>configuration.service_url}" /><Input\n                id="serviceUrlInput"\n                value="{/config/service_url}"\n                width="100%"\n                enabled="{/config/editable}"\n                tooltip="{i18n>configuration.service_url.tooltip}" /><Label text="{i18n>configuration.service_refresh_interval}" /><Input\n                id="refreshInput"\n                value="{/config/service_refresh_interval}"\n                type="Number"\n                enabled="{/config/editable}"\n                placeholder="{i18n>configuration.seconds}"\n                tooltip="{i18n>configuration.seconds.tooltip}" /><core:Title id="categoryNavigation" text="{i18n>configuration.category.navigation}" /><Label text="{i18n>configuration.navigation_use_semantic_object}" /><CheckBox\n                id="useLpdCheckbox"\n                selected="{/config/navigation_use_semantic_object}"\n                select="onCheckBoxChange"\n                tooltip="{i18n>configuration.navigation_use_semantic_object.tooltip}"\n                enabled="{/config/editable}" /><Label text="{i18n>configuration.semantic_object}" /><Input\n                id="navigation_semantic_objectInput"\n                width="100%"\n                tooltip="{i18n>configuration.semantic_object.tooltip}"\n                maxLength="30"\n                liveChange="onConfigurationInputChange"\n                valueHelpRequest="onValueHelpRequest"\n                showValueHelp="true"\n                showSuggestion="true"\n                enabled="{= ${/enabled} &amp;&amp; ${/config/editable}}"\n                value="{/value}" /><Label text="{i18n>configuration.navigation_semantic_action}" /><Input\n                id="navigation_semantic_actionInput"\n                value="{/config/navigation_semantic_action}"\n                width="100%"\n                maxLength="50"\n                enabled="{= ${/config/navigation_use_semantic_object} &amp;&amp; ${/config/editable}}"\n                tooltip="{i18n>configuration.navigation_semantic_action.tooltip}"\n                liveChange="onConfigurationInputChange"\n                valueHelpRequest="onActionValueHelpRequest"\n                showValueHelp="true"\n                showSuggestion="true" /><Label text="{i18n>configuration.navigation_semantic_parameters}" /><Input\n                id="navigation_semantic_parametersInput"\n                value="{/config/navigation_semantic_parameters}"\n                width="100%"\n                enabled="{= ${/config/navigation_use_semantic_object} &amp;&amp; ${/config/editable}}"\n                tooltip="{i18n>configuration.navigation_semantic_parameters.tooltip}" /><Label text="{i18n>configuration.navigation_target_url}" /><Input\n                id="targetUrl"\n                value="{/config/navigation_target_url}"\n                type="Url"\n                width="100%"\n                tooltip="{i18n>configuration.navigation_target_url.tooltip}" /><core:Title id="categoryTileActions" text="{i18n>configuration.category.tile_actions}" /><table:Table\n                id="tileActions"\n                rows="{/config/tile_actions_rows}"\n                selectionBehavior="Row"\n                selectionMode="Multi"\n                visibleRowCount="3"\n                enableColumnReordering="false"\n                rowHeight="30px"><table:Column id="menuItem" width="80px" tooltip="{i18n>configuration.tile_actions.table.menu_item_tooltip}"><Label text="{i18n>configuration.tile_actions.table.menu_item}" /><table:template><Input value="{menu_title}" enabled="{editable}" valueState="{valueState}" /></table:template></table:Column><table:Column\n                    id="targetType"\n                    width="85px"\n                    tooltip="{i18n>configuration.tile_actions.table.target_type_tooltip}"><Label text="{i18n>configuration.tile_actions.table.target_type}" /><table:template><ComboBox\n                            id="targetTypeCB"\n                            value="{target_type}"\n                            enabled="{editable}"\n                            change="handleTargetTypeChange" /></table:template></table:Column><table:Column\n                    id="navigationTarget"\n                    width="162px"\n                    tooltip="{i18n>configuration.tile_actions.table.navigation_target_tooltip}"><Label text="{i18n>configuration.tile_actions.table.navigation_target}" /><table:template><Input\n                            liveChange="onConfigurationInputChange"\n                            valueHelpRequest="onTileActionValueHelp"\n                            showValueHelp="{isTargetTypeIntent}"\n                            showSuggestion="{isTargetTypeIntent}"\n                            value="{navigation_target}"\n                            enabled="{editable}" /></table:template></table:Column><table:Column id="action" width="85px" tooltip="{i18n>configuration.tile_actions.table.action_tooltip}"><Label text="{i18n>configuration.tile_actions.table.action}" /><table:template><Input value="{action}" enabled="{isTargetTypeIntent}" /></table:template></table:Column><table:Column id="icon" width="110px" tooltip="{i18n>configuration.tile_actions.table.icon_tooltip}"><Label text="{i18n>configuration.tile_actions.table.icon}" /><table:template><Input\n                            value="{icon}"\n                            placeholder="sap-icon://inbox"\n                            enabled="{/config/editable}"\n                            valueState="{iconValueState}"\n                            valueStateText="{iconValueStateText}"\n                            liveChange="onConfigurationInputChange"\n                            valueHelpRequest="onTileActionIconValueHelp"\n                            showValueHelp="true" /></table:template></table:Column></table:Table><Label /><HBox alignItems="End" justifyContent="End"><Button\n                    id="addRow"\n                    text="{i18n>configuration.tile_actions.table.add}"\n                    enabled="{/config/editable}"\n                    tooltip="{i18n>configuration.tile_actions.table.add_tooltip}"\n                    press="addRow"\n                    width="100px" /><Button\n                    id="deleteRow"\n                    text="{i18n>configuration.tile_actions.table.remove}"\n                    enabled="{/config/editable}"\n                    tooltip="{i18n>configuration.tile_actions.table.remove_tooltip}"\n                    press="deleteRow"\n                    width="100px" /></HBox></form:content></form:SimpleForm><HBox visible="false"><Dialog\n            id="selectIconDialog"\n            class="sapContrastPlus"\n            beginButton="ok"\n            endButton="cancel"\n            title="{i18n>configuration.select_icon}"><content><layout:ResponsiveFlowLayout id="icons" /><HBox visible="true"><Button id="ok" enabled="{/config/ok.enabled}" text="{i18n>configuration.ok}" /><Button id="cancel" text="{i18n>configuration.cancel}" press="onSelectIconClose" /></HBox></content></Dialog></HBox></mvc:View>\n',
	"sap/ushell/components/tiles/cdm/applauncher/StaticTile.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    controllerName="sap.ushell.components.tiles.cdm.applauncher.StaticTile"\n    height="100%"\n    width="100%"><GenericTile\n        additionalTooltip="{= ${/properties/showContentProviderInfoInTooltip} ? ${/properties/contentProviderLabel} : \'\'}"\n        systemInfo="{= ${/properties/showContentProviderInfoOnVisualizations} ? ${/properties/contentProviderLabel} : \'\'}"\n        frameType="{/properties/frameType}"\n        header="{/properties/title}"\n        mode="{/properties/mode}"\n        scope="{/properties/scope}"\n        sizeBehavior="{= ${/properties/customSizeBehavior} || ${/properties/configSizeBehavior}}"\n        subheader="{/properties/subtitle}"\n        url="{\n            path: \'/properties/targetURL\',\n            formatter: \'._getLeanUrl\'\n        }"\n        wrappingType="{/properties/wrappingType}"\n        press=".onPress"><dependents><TileContent id="standardTileContent" footer="{/properties/info}" /><TileContent id="imageTileContent" footer="{/properties/info}"><ImageContent src="{/properties/icon}" /></TileContent></dependents></GenericTile></mvc:View>\n',
	"sap/ushell/components/tiles/cdm/applauncher/manifest.json":'{"_version":"1.21.0","sap.flp":{"type":"tile","tileSize":"1x1","vizOptions":{"displayFormats":{"supported":["standard","standardWide","compact","flat","flatWide"],"default":"standard"}}},"sap.app":{"id":"sap.ushell.components.tiles.cdm.applauncher","type":"component","applicationVersion":{"version":"1.0.0"},"title":"","tags":{"keywords":[]},"ach":"CA-FE-FLP-COR"},"sap.ui":{"_version":"1.1.0","technology":"UI5","icons":{"icon":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"_version":"1.1.0","componentName":"sap.ushell.components.tiles.cdm.applauncher","dependencies":{"minUI5Version":"1.42","libs":{"sap.m":{}}},"rootView":{"viewName":"sap.ushell.components.tiles.cdm.applauncher.StaticTile","type":"XML"},"handleValidation":false,"contentDensities":{"compact":true,"cozy":true}}}',
	"sap/ushell/components/tiles/cdm/applauncherdynamic/DynamicTile.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    controllerName="sap.ushell.components.tiles.cdm.applauncherdynamic.DynamicTile"\n    height="100%"\n    width="100%"><GenericTile\n        additionalTooltip="{= ${/properties/showContentProviderInfoInTooltip} ? ${/properties/contentProviderLabel} : \'\'}"\n        systemInfo="{= ${/properties/showContentProviderInfoOnVisualizations} ? ${/properties/contentProviderLabel} : \'\'}"\n        frameType="{/properties/frameType}"\n        header="{/properties/title}"\n        scope="{/properties/scope}"\n        sizeBehavior="{= ${/properties/customSizeBehavior} || ${/properties/configSizeBehavior}}"\n        subheader="{/properties/subtitle}"\n        url="{\n            path: \'/properties/targetURL\',\n            formatter: \'._getLeanUrl\'\n        }"\n        wrappingType="{/properties/wrappingType}"\n        press=".onPress"><TileContent\n            id="numericTileContent"\n            footer="{/properties/info}"\n            footerColor="{\n                path: \'/properties/infoState\',\n                formatter: \'._formatValueColor\'\n            }"\n            unit="{/properties/number_unit}"><NumericContent\n                icon="{/properties/icon}"\n                indicator="{/properties/number_state_arrow}"\n                scale="{/properties/number_factor}"\n                truncateValueTo="5"\n                value="{/properties/number_value}"\n                valueColor="{\n                    path: \'/properties/number_value_state\',\n                    formatter: \'._getValueColor\'\n                }"\n                withMargin="false"\n                width="100%" /></TileContent></GenericTile></mvc:View>\n',
	"sap/ushell/components/tiles/cdm/applauncherdynamic/manifest.json":'{"_version":"1.21.0","sap.flp":{"type":"tile","tileSize":"1x1","vizOptions":{"displayFormats":{"supported":["standard","standardWide","compact","flat","flatWide"],"default":"standard"}}},"sap.app":{"id":"sap.ushell.components.tiles.cdm.applauncherdynamic","_version":"1.0.0","type":"component","applicationVersion":{"version":"1.0.0"},"title":"","description":"","tags":{"keywords":[]},"ach":"CA-FLP-FE-COR"},"sap.ui":{"_version":"1.1.0","icons":{"icon":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"_version":"1.1.0","componentName":"sap.ushell.components.tiles.cdm.applauncherdynamic","dependencies":{"minUI5Version":"1.42","libs":{"sap.m":{}}},"rootView":{"viewName":"sap.ushell.components.tiles.cdm.applauncherdynamic.DynamicTile","type":"JS"},"handleValidation":false}}',
	"sap/ushell/components/tiles/indicatorHarveyBall/HarveyBallTile.view.js":function(){
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.require(["sap/ca/ui/model/format/NumberFormat","sap/ui/model/analytics/odata4analytics","sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil","sap/suite/ui/commons/HarveyBallMicroChart","sap/suite/ui/commons/HarveyBallMicroChartItem","sap/suite/ui/commons/TileContent","sap/suite/ui/commons/GenericTile"],(e,a,i,t,s,o,l)=>{"use strict";sap.ui.getCore().loadLibrary("sap.suite.ui.commons");sap.ui.jsview("tiles.indicatorHarveyBall.HarveyBallTile",{getControllerName:function(){},createContent:function(){const e=new t({total:"{/value}",size:"{/size}",totalLabel:"{/totalLabel}",items:[new s({fraction:"{/fractionValue}",fractionLabel:"{/fractionLabel}",color:"{/color}"})]});const a=new o({size:"{/size}",content:e});this.oTile=new l({subheader:"{/subheader}",frameType:"{/frameType}",size:"{/size}",header:"{/header}",tileContent:[a]})}})});
},
	"sap/ushell/components/visualizationOrganizer/VisualizationOrganizerPopover.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"><Popover\n        id="sapUshellVisualizationOrganizerPopover"\n        class="sapContrastPlus"\n        placement="VerticalPreferredBottom"\n        contentHeight="220px"\n        modal="true"\n        titleAlignment="Start"\n        showHeader="true"\n        title="{i18n>VisualizationOrganizer.Title}"><subHeader><HBox class="sapUiTinyMarginBeginEnd sapUiTinyMarginTop"><SearchField\n                    id="sapUshellVisualizationOrganizerSearch"\n                    tooltip="{i18n>VisualizationOrganizer.SearchField.Tooltip}"\n                    search="._onSearch"\n                    width="auto"/><ToggleButton id="sapUshellVisualizationOrganizerSelectedPages"\n                    icon="sap-icon://multi-select"\n                    press="._onSearch"\n                    class="sapUiTinyMarginBeginEnd"\n                tooltip="{i18n>VisualizationOrganizer.ToggleButton.Tooltip}"/></HBox></subHeader><content><List\n                id="sapUshellVisualizationOrganizerSpacesList"\n                mode="MultiSelect"\n                items="{\n                    path: \'/pages\',\n                    sorter: { path: \'\', group: \'.groupBySpace\' },\n                    groupHeaderFactory: \'.getGroupHeader\'\n                }"\n                noDataText="{i18n>VisualizationOrganizer.PagesList.NoDataText}"\n                selectionChange=".onSelectionChange"\n                includeItemInSelection="true"><items><StandardListItem\n                        title="{title}"\n                        type="Active"\n                        selected="{selected}"/></items></List></content><footer><Bar><contentRight><Button\n                        id="sapUshellVisualizationOrganizerOKButton"\n                        text="{i18n>okBtn}"\n                        type="Emphasized"\n                        press=".okay"/><Button\n                        id="sapUshellVisualizationOrganizerCloseButton"\n                        text="{i18n>cancelBtn}"\n                        press=".cancel"/></contentRight></Bar></footer></Popover></core:FragmentDefinition>\n',
	"sap/ushell/components/workPageBuilder/manifest.json":'{"_version":"1.39.0","sap.app":{"id":"sap.ushell.components.workPageBuilder","applicationVersion":{"version":"1.141.1"},"i18n":"../../utils/workpage/resources/resources.properties","ach":"CA-FLP-FE-UI","type":"component","title":""},"sap.ui":{"fullWidth":false,"technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"resources/resources.properties","settings":{"supportedLocales":["","ar","bg","ca","cnr","cs","cy","da","de","el","en","en-GB","en-US-x-sappsd","en-US-x-saprigi","en-US-x-saptrc","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","mk","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-TW"]}}},"componentName":"sap.ushell.components.workPageBuilder","componentUsages":{"ContentFinder":{"settings":{"id":"contentFinder","noItemsInCatalogDescription":"{{ContentFinder.AppSearch.IllustratedMessage.NoItems.InCatalog.Description}}"},"name":"sap.ushell.components.contentFinder.dialog","lazy":true}},"rootView":{"viewName":"sap.ushell.components.workPageBuilder.view.WorkPageBuilder","type":"XML","id":"workPageBuilder","async":true},"dependencies":{"minUI5Version":"1.99","libs":{"sap.ui.core":{},"sap.m":{},"sap.f":{}}},"contentDensities":{"compact":true,"cozy":true}}}',
	"sap/ushell/components/workPageBuilder/view/WorkPageBuilder.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:dnd="sap.ui.core.dnd"\n    xmlns:cep="sap.ushell.components.workPageBuilder.controls"\n    xmlns:core="sap.ui.core"\n    core:require="{\n        coreLibrary: \'sap/ui/core/library\'\n    }"\n    controllerName="sap.ushell.components.workPageBuilder.controller.WorkPageBuilder"\n    id="workPageBuilder"\n    height="100%"><Page\n        id="workpageBuilderPage"\n        showHeader="false"\n        showFooter="{= !!${/editMode} &amp;&amp; !!${/showFooter} }"\n        backgroundDesign="Transparent"\n        floatingFooter="true"\n    ><core:ComponentContainer\n            id="contentFinderComponentContainer"\n            usage="ContentFinder"\n            componentCreated=".onContentFinderComponentCreated"\n            async="true"\n        /><cep:WorkPage\n            id="workPage"\n            afterRendering=".focusFirstItem"\n            breakpoint="{viewSettings>/currentBreakpoint/name}"\n            editMode="{/editMode}"\n            showTitle="{= !!${/showPageTitle} &amp;&amp; !!${descriptor/value/title}}"\n            emptyIllustrationTitle="{i18n>WorkPage.EmptyPage.Title}"\n            emptyIllustrationMessage="{i18n>WorkPage.EmptyPage.Message}"\n            emptyIllustrationButtonText="{i18n>WorkPage.EmptyPage.Button.Add}"\n            rows="{path: \'rows\', templateShareable: false, key: \'id\'}"\n            loaded="{/loaded}"\n            addFirstRow=".onAddFirstRow"><cep:title><Title\n                    id="workPageTitle"\n                    text="{descriptor/value/title}"\n                    level="{= coreLibrary.TitleLevel.H2 }"\n                    titleStyle="{= coreLibrary.TitleLevel.H3 }" /></cep:title><cep:WorkPageRow\n                id="workPageRow"\n                addRowButtonTooltip="{i18n>WorkPage.Row.AddRowButtonTooltip}"\n                editMode="{/editMode}"\n                maxColumns="{/maxColumns}"\n                columns="{path: \'columns\', templateShareable:false, key: \'id\'}"\n                columnMinFlex="{viewSettings>/currentBreakpoint/columnMinFlex}"\n                ariaLabel="{\n                    parts: [\n                        { path: \'id\' },\n                        { path: \'/data/workPage/rows\' },\n                        { path: \'descriptor/value/title\' }\n                    ],\n                    formatter: \'.formatRowAriaLabel\'\n                }"\n                addRow=".onAddRow"><cep:controlButtons><Button\n                        id="workPageDeleteButton"\n                        class="workPageRowControlButton"\n                        press=".onDeleteRow"\n                        icon="sap-icon://delete"\n                        tooltip="{i18n>WorkPage.Row.OverflowToolbar.DeleteRowButtonTooltip}"\n                        visible="{/editMode}" /></cep:controlButtons><cep:headerBar><OverflowToolbar\n                        id="workPageRowToolbar"\n                        class="workPageRowToolbar"\n                        visible="{= ${/editMode} || !!${descriptor/value/title} }"><Label\n                            id="workPageRowInputTitleLabel"\n                            labelFor="workPageRowInputTitle"\n                            text="{i18n>WorkPage.Row.OverflowToolbar.RowTitleLabel}"\n                            visible="{/editMode}"><layoutData><OverflowToolbarLayoutData group="1" /></layoutData></Label><Input\n                            id="workPageRowInputTitle"\n                            value="{descriptor/value/title}"\n                            editable="true"\n                            placeholder="{i18n>WorkPage.Row.OverflowToolbar.RowTitleOptional}"\n                            change=".onEditTitle"\n                            visible="{/editMode}"><layoutData><OverflowToolbarLayoutData\n                                    group="1"\n                                    shrinkable="true"\n                                    minWidth="12rem" /></layoutData></Input></OverflowToolbar></cep:headerBar><cep:messageStrip><MessageStrip\n                        id="workPageRowMessageStrip"\n                        type="Warning"\n                        showIcon="true"\n                        text="{i18n>WorkPage.Row.MessageStrip.DeprecatedColumnCount}"\n                        class="workPageRowMessageStrip"\n                        visible="{= ${/editMode} &amp;&amp; ${columns}.length > ${/maxColumns}}" /></cep:messageStrip><cep:title><Title\n                        id="workPageRowSectionTitle"\n                        level="{= coreLibrary.TitleLevel.H3 }"\n                        wrapping="true"\n                        class="workPageRowSectionTitle"\n                        text="{descriptor/value/title}"\n                        visible="{= !${/editMode} &amp;&amp; !!${descriptor/value/title} }" /></cep:title><cep:WorkPageColumn\n                    id="workPageColumn"\n                    editMode="{/editMode}"\n                    ariaLabelPlaceholder="{i18n>WorkPage.Column.AriaLabel}"\n                    columnWidth="{descriptor/value/columnWidth}"\n                    deleteColumnButtonTooltip="{i18n>WorkPage.Column.DeleteColumnButtonTooltip}"\n                    addColumnButtonTooltip="{i18n>WorkPage.Column.AddColumnButtonTooltip}"\n                    addWidgetButtonText="{i18n>WorkPage.Column.AddWidgetButtonText}"\n                    columnResized=".onResize"\n                    columnResizeCompleted=".onResizeCompleted"\n                    cells="{path: \'cells\', templateShareable:false, key: \'id\'}"\n                    addColumn=".onAddColumn"\n                    removeColumn=".onDeleteColumn"\n                    addWidget=".openContentFinder"><cep:WorkPageCell\n                        id="workPageCell"\n                        editMode="{/editMode}"\n                        widgets="{path: \'widgets\', factory: \'.widgetFactory\', key: \'id\'}"\n                        tileMode="{\n                            parts: [\n                                { path: \'widgets\' }\n                            ], formatter: \'.tileMode\'\n                        }"\n                        moveVisualization=".onGridDrop"\n                        gridColumnsChange=".onGridColumnsChange"\n                        deleteWidgetTooltip="{i18n>WorkPage.WidgetContainer.DeleteWidgetButtonTooltip}"\n                        addApplicationButtonText="{i18n>WorkPage.Section.AddVizInstanceButtonText}"\n                        gridContainerGap="{viewSettings>/currentBreakpoint/gap}"\n                        gridContainerRowSize="{viewSettings>/currentBreakpoint/rowSize}"\n                        emptyIllustrationTitle="{i18n>WorkPage.Cell.EmptyIllustrationTitle}"\n                        emptyIllustrationMessage="{i18n>WorkPage.Cell.EmptyIllustrationDescription}"\n                        gridContainerBorderReached=".onGridContainerBorderReached"><cep:headerBar><OverflowToolbar\n                                id="workPageCellOverflowToolbar"\n                                class="workPageCellOverflowToolbar"\n                                height="4rem"\n                                visible="{= ${/editMode} || !!${descriptor/value/title} }"><ToolbarSpacer /><Button\n                                    id="openAppSearch"\n                                    class="workPageCellControlButtons"\n                                    icon="sap-icon://add"\n                                    press=".openTilesAppSearch"\n                                    tooltip="{i18n>WorkPage.Cell.HeaderBar.AddTilesTooltip}"\n                                    visible="{\n                                        parts: [\n                                            { path: \'widgets\' },\n                                            { path: \'/editMode\' }\n                                        ], formatter: \'.showAppSearchButton\'\n                                    }"\n                                    type="Ghost" /><Button\n                                    id="deleteCell"\n                                    class="workPageCellControlButtons"\n                                    icon="sap-icon://delete"\n                                    press=".onDeleteCell"\n                                    tooltip="{i18n>WorkPage.Cell.HeaderBar.DeleteWidgetTooltip}"\n                                    type="Ghost" /></OverflowToolbar></cep:headerBar></cep:WorkPageCell><cep:dragDropConfig><dnd:DragInfo\n                            enabled="{/editMode}"\n                            sourceAggregation="cells"\n                            groupName="Cell" /><dnd:DropInfo\n                            drop=".onVisualizationDropBetweenCells($event)"\n                            targetAggregation="cells"\n                            groupName="CellGridContainer"\n                            dragEnter=".onWidgetOnCellDragEnter($event, false)"\n                            dropPosition="Between" /><dnd:DropInfo\n                            drop=".onVisualizationDropOnEmptyWidgetContainer($event)"\n                            targetAggregation="cells"\n                            groupName="CellGridContainer"\n                            dragEnter=".onWidgetOnCellDragEnter($event, true)"\n                            dropPosition="On" /><dnd:DropInfo\n                            drop=".onVisualizationDropOnCell($event)"\n                            groupName="CellGridContainer"\n                            targetAggregation="cells"\n                            dropPosition="On" /><dnd:DropInfo\n                            drop=".onVisualizationDropOnCell($event)"\n                            enabled="{= ${cells} ? ${cells}.length === 0 : false}"\n                            groupName="CellGridContainer"\n                            dropPosition="On" /><dnd:DropInfo\n                            enabled="{= ${cells} ? ${cells}.length > 0 : false}"\n                            drop=".onCellDrop($event)"\n                            dropPosition="Between"\n                            groupName="Cell"\n                            dropLayout="Vertical"\n                            targetAggregation="cells" /><dnd:DropInfo\n                            enabled="{= ${cells} ? ${cells}.length === 0 : false}"\n                            drop=".onCellDropOnEmptyColumn($event)"\n                            dropPosition="On"\n                            groupName="Cell" /></cep:dragDropConfig></cep:WorkPageColumn></cep:WorkPageRow></cep:WorkPage><footer><Bar id="workPageFooterBar"><contentRight><Button\n                        id="saveChanges"\n                        text="{i18n>WorkPage.EditMode.Save}"\n                        enabled="{/workPageHasChanges}"\n                        type="Emphasized"\n                        press=".saveEditChanges" /><Button\n                        id="discardChanges"\n                        text="{i18n>WorkPage.EditMode.Cancel}"\n                        press=".cancelEditChanges" /></contentRight></Bar></footer><landmarkInfo><PageAccessibleLandmarkInfo\n                rootRole="Region"\n                rootLabel="{i18n>WorkPage.Row.AriaLabel}"\n                headerRole="None"\n                contentRole="None"\n                footerRole="None" /></landmarkInfo></Page></mvc:View>\n',
	"sap/ushell/components/workPageBuilder/view/WorkPageCellDeleteDialog.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"><Dialog\n        id="workPageCellDeleteDialog"\n        state="Warning"\n        type="Message"\n        title="{i18n>WorkPage.Cell.DeleteDialog.Title}"><Text\n            id="confirmationText"\n            text="{i18n>WorkPage.Cell.DeleteDialog.ConfirmText}" /><beginButton><Button\n                id="confirm"\n                type="Emphasized"\n                text="{i18n>WorkPage.Cell.DeleteDialog.Button.Confirm}" /></beginButton><endButton><Button\n                id="cancel"\n                text="{i18n>WorkPage.Cell.DeleteDialog.Button.Cancel}"\n                press=".onCellDeleteCancel" /></endButton></Dialog></core:FragmentDefinition>\n',
	"sap/ushell/components/workPageBuilder/view/WorkPageRowDeleteDialog.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"><Dialog\n        id="workPageRowDeleteDialog"\n        type="Message"\n        state="Warning"\n        title="{i18n>WorkPage.Row.DeleteDialog.Title}"><Text\n            id="confirmationText"\n            text="{i18n>WorkPage.Row.DeleteDialog.ConfirmText}" /><beginButton><Button\n                id="confirm"\n                type="Emphasized"\n                text="{i18n>WorkPage.Row.DeleteDialog.Button.Confirm}" /></beginButton><endButton><Button\n                id="cancel"\n                text="{i18n>WorkPage.Row.DeleteDialog.Button.Cancel}"\n                press=".onRowDeleteCancel" /></endButton></Dialog></core:FragmentDefinition>\n',
	"sap/ushell/components/workPageRuntime/manifest.json":'{"_version":"1.39.0","sap.app":{"id":"sap.ushell.components.workPageRuntime","applicationVersion":{"version":"1.141.1"},"ach":"CA-FLP-FE-UI","type":"component","title":""},"sap.ui":{"fullWidth":false,"technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"componentUsages":{"pageBuilder":{"settings":{"id":"workPageBuilderComponent"},"name":"sap.ushell.components.workPageBuilder","lazy":true}},"componentName":"sap.ushell.components.workPageRuntime","rootView":{"viewName":"sap.ushell.components.workPageRuntime.view.WorkPageRuntime","type":"XML","id":"workPageRuntimeView","async":true},"dependencies":{"minUI5Version":"1.99","libs":{"sap.ui.core":{},"sap.m":{}}},"contentDensities":{"compact":true,"cozy":true}}}',
	"sap/ushell/components/workPageRuntime/view/WorkPageRuntime.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    controllerName="sap.ushell.components.workPageRuntime.controller.WorkPageRuntime"\n    height="100%"\n    core:require="{\n        mobileLibrary: \'sap/m/library\'\n    }"><NavContainer id="workPageNavContainer"><Page\n            id="workPage"\n            busy="{= !${/loaded}}"\n            enableScrolling="false"\n            showHeader="false"\n            backgroundDesign="{= mobileLibrary.PageBackgroundDesign.Transparent }"><core:ComponentContainer\n                id="workPageBuilderComponentContainer"\n                height="100%"\n                usage="pageBuilder"\n                manifest="true"\n                async="true"\n                componentCreated="onWorkPageBuilderCreated" /></Page><Page\n            id="errorPage"\n            showHeader="false"><IllustratedMessage\n                illustrationType="{= mobileLibrary.IllustratedMessageType.PageNotFound }" /></Page><Page\n            id="emptyPage"\n            showHeader="false"\n            backgroundDesign="{= mobileLibrary.PageBackgroundDesign.Transparent }"/></NavContainer></mvc:View>\n',
	"sap/ushell/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.ushell","type":"library","embeds":["appRuntime/ui5/plugins/rtaAgent","appRuntime/ui5/plugins/rtaShell","components/appfinder","components/cepsearchresult/app","components/cepsearchresult/app/cards/searchresultwidget","components/contentFinder","components/contentFinder/dialog","components/contentFinderStandalone","components/homeApp/error","components/homepage","components/pages","components/runtimeSwitcher","components/shell/FloatingContainer","components/shell/MenuBar","components/shell/NavigationBarMenu","components/shell/Search","components/shell/SearchCEPNew","components/shell/Settings/userDefaults","components/shell/ShellBar","components/shell/SideNavigation","components/tiles/cdm/applauncher","components/tiles/cdm/applauncherdynamic","components/workPageBuilder","components/workPageRuntime","plugins/appwarmup","plugins/ghostapp","plugins/rta","plugins/rta-personalize","renderer/rendererTargetWrapper","renderer/search/searchComponent"],"applicationVersion":{"version":"1.141.1"},"title":"SAP library: sap.ushell","description":"SAP library: sap.ushell","ach":"CA-FLP-FE-UI","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_belize","sap_belize_base","sap_belize_hcb","sap_belize_hcw","sap_belize_plus","sap_bluecrystal","sap_bluecrystal_base","sap_fiori_3","sap_fiori_3_dark","sap_fiori_3_hcb","sap_fiori_3_hcw","sap_hcb","sap_horizon","sap_horizon_dark","sap_horizon_hcb","sap_horizon_hcw"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.141","libs":{"sap.f":{"minVersion":"1.141.1","lazy":true},"sap.m":{"minVersion":"1.141.1"},"sap.ui.core":{"minVersion":"1.141.1"},"sap.ui.layout":{"minVersion":"1.141.1","lazy":true},"sap.suite.ui.commons":{"minVersion":"1.141.0","lazy":true},"sap.suite.ui.microchart":{"minVersion":"1.141.1","lazy":true},"sap.ui.comp":{"minVersion":"1.141.1","lazy":true},"sap.ui.export":{"minVersion":"1.141.1","lazy":true},"sap.collaboration":{"minVersion":"1.141.0","lazy":true},"sap.ui.table":{"minVersion":"1.141.1","lazy":true},"sap.ui.integration":{"minVersion":"1.141.1","lazy":true},"sap.ui.generic.app":{"minVersion":"1.141.0","lazy":true},"sap.esh.search.ui":{"minVersion":"1.141.1","lazy":true}}},"library":{"i18n":false,"content":{"controls":["sap.ushell.appIntegration.ApplicationContainer","sap.ushell.appIntegration.IframeApplicationContainer","sap.ushell.appIntegration.UI5ApplicationContainer","sap.ushell.components.container.ApplicationContainer","sap.ushell.components.factsheet.controls.PictureTile","sap.ushell.components.factsheet.controls.PictureViewer","sap.ushell.components.factsheet.controls.PictureViewerItem","sap.ushell.components.shell.Settings.userDefaults.UserDefaultsForm","sap.ushell.components.tiles.sbtilecontent","sap.ushell.components.workPageBuilder.controls.WorkPage","sap.ushell.components.workPageBuilder.controls.WorkPageButton","sap.ushell.components.workPageBuilder.controls.WorkPageCell","sap.ushell.components.workPageBuilder.controls.WorkPageColumn","sap.ushell.components.workPageBuilder.controls.WorkPageColumnResizer","sap.ushell.components.workPageBuilder.controls.WorkPageRow","sap.ushell.renderer.NavContainer","sap.ushell.ui.launchpad.VizInstance","sap.ushell.ui.launchpad.VizInstanceBase","sap.ushell.ui.launchpad.VizInstanceAbap","sap.ushell.ui.launchpad.VizInstanceCdm","sap.ushell.ui.launchpad.VizInstanceLaunchPage","sap.ushell.ui.launchpad.VizInstanceLink","sap.ushell.ui.AppContainer","sap.ushell.ui.ContentNodeSelector","sap.ushell.ui.ContentNodeTreeItem","sap.ushell.ui.CustomGroupHeaderListItem","sap.ushell.ui.ShellHeader","sap.ushell.ui.appfinder.AppBox","sap.ushell.ui.appfinder.AppBoxInternal","sap.ushell.ui.appfinder.PinButton","sap.ushell.ui.footerbar.AboutButton","sap.ushell.ui.footerbar.AddBookmarkButton","sap.ushell.ui.footerbar.ContactSupportButton","sap.ushell.ui.footerbar.JamDiscussButton","sap.ushell.ui.footerbar.JamShareButton","sap.ushell.ui.footerbar.LogoutButton","sap.ushell.ui.footerbar.SendAsEmailButton","sap.ushell.ui.launchpad.ActionItem","sap.ushell.ui.launchpad.AnchorItem","sap.ushell.ui.launchpad.AnchorNavigationBar","sap.ushell.ui.launchpad.CatalogEntryContainer","sap.ushell.ui.launchpad.CatalogsContainer","sap.ushell.ui.launchpad.DashboardGroupsContainer","sap.ushell.ui.launchpad.GroupHeaderActions","sap.ushell.ui.launchpad.GroupListItem","sap.ushell.ui.launchpad.LinkTileWrapper","sap.ushell.ui.launchpad.LoadingDialog","sap.ushell.ui.launchpad.Page","sap.ushell.ui.launchpad.PlusTile","sap.ushell.ui.launchpad.Section","sap.ushell.ui.launchpad.Tile","sap.ushell.ui.launchpad.TileContainer","sap.ushell.ui.launchpad.TileState","sap.ushell.ui.launchpad.TileStateInternal","sap.ushell.ui.launchpad.section.CompactArea","sap.ushell.ui.shell.FloatingContainer","sap.ushell.ui.shell.NavigationMiniTile","sap.ushell.ui.shell.OverflowListItem","sap.ushell.ui.shell.RightFloatingContainer","sap.ushell.ui.shell.ShellAppTitle","sap.ushell.ui.shell.ShellFloatingAction","sap.ushell.ui.shell.ShellFloatingActions","sap.ushell.ui.shell.ShellHeadItem","sap.ushell.ui.shell.ShellNavigationMenu","sap.ushell.ui.shell.SidePane","sap.ushell.ui.shell.SubHeader","sap.ushell.ui.shell.SysInfoBar","sap.ushell.ui.shell.ToolArea","sap.ushell.ui.shell.ToolAreaItem","sap.ushell.ui.tile.DynamicTile","sap.ushell.ui.tile.ImageTile","sap.ushell.ui.tile.StaticTile","sap.ushell.ui.tile.TileBase"],"elements":["sap.ushell.ui.launchpad.AccessibilityCustomData"],"types":["sap.ushell.AllMyAppsState","sap.ushell.AllMyAppsProviderType","sap.ushell.AppTitleState","sap.ushell.ContentNodeType","sap.ushell.appIntegration.contracts.StatefulType","sap.ushell.components.container.ApplicationType","sap.ushell.DisplayFormat","sap.ushell.NavigationState","sap.ushell.ui.launchpad.ViewPortState","sap.ushell.ui.tile.State","sap.ushell.ui.tile.StateArrow","sap.ushell.VisualizationLoadState","sap.ushell.AppType","sap.ushell.FloatingNumberType"],"interfaces":["sap.ushell.renderer.INavContainerPage"]}}}}',
	"sap/ushell/plugins/appwarmup/manifest.json":'{"_version":"1.1.0","sap.app":{"_version":"1.1.0","id":"sap.ushell.plugins.appwarmup","type":"component","applicationVersion":{"version":"1.0.0"}},"sap.ui":{"_version":"1.1.0","technology":"UI5","deviceTypes":{"desktop":true,"tablet":false,"phone":false}},"sap.ui5":{"_version":"1.1.0","contentDensities":{"compact":true,"cozy":false},"dependencies":{"minUI5Version":"1.54.0","libs":{"sap.ui.core":{"minVersion":"1.54.0"}}}},"sap.flp":{"type":"plugin"}}',
	"sap/ushell/plugins/ghostapp/manifest.json":'{"_version":"1.2.0","sap.app":{"_version":"1.2.0","id":"sap.ushell.plugins.ghostapp","i18n":"i18n/i18n.properties","type":"application","applicationVersion":{"version":"11.7.0-SNAPSHOT"},"title":"Warmup Application","description":"List report app for code warm-up during idle time","tags":{"keywords":[]},"ach":"MM-FIO-IM-SGM","dataSources":{"mainService":{"uri":"/ghostapp-c9f1f0bd-ff78-4660-9a1f-295814f00fe0/","settings":{"localUri":"localService/metadata.xml"}}},"offline":false,"resources":"resources.json","sourceTemplate":{"id":"ui5template.smarttemplate","version":"1.0.0"}},"sap.fiori":{"_version":"1.1.0","registrationIds":["F0000"],"archeType":"analytical"},"sap.ui":{"_version":"1.1.0","technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"_version":"1.1.0","services":{"ShellUIService":{"factoryName":"sap.ushell.plugins.appwarmup.ShellUIService"}},"resources":{"js":[],"css":[]},"config":{"sapFiori2Adaptation":true},"dependencies":{"minUI5Version":"1.53.0-SNAPSHOT","libs":{"sap.ui.core":{},"sap.m":{"lazy":false},"sap.ui.comp":{"lazy":false},"sap.ui.generic.app":{"minVersion":"1.34.0"},"sap.uxap":{"lazy":false},"sap.suite.ui.generic.template":{}}},"models":{"":{"dataSource":"mainService","preload":true,"type":"sap.ushell.plugins.ghostapp.FakeModel","settings":{"defaultBindingMode":"TwoWay","defaultCountMode":"Inline","tokenHandling":false,"refreshAfterChange":false}}},"extends":{"extensions":{}},"contentDensities":{"compact":true,"cozy":true},"componentName":"sap.ushell.plugins.ghostapp"},"sap.ui.generic.app":{"_version":"1.1.0","settings":{"ghostapp":true},"pages":[{"entitySet":"MaterialMultiStockByDates","component":{"name":"sap.suite.ui.generic.template.ListReport","list":true,"settings":{"smartVariantManagement":true}}}]},"sap.platform.abap":{"_version":"1.1.0","uri":"/sap/bc/ui5_ui5/sap/stock_multimas1"},"sap.platform.hcp":{"_version":"1.1.0","uri":""},"sap.copilot":{"_version":"1.0.0","contextAnalysis":{"allowAddingObjectsFromAppScreenToCollection":false}}}',
	"sap/ushell/plugins/rta-personalize/manifest.json":'{"_version":"1.21.0","sap.app":{"_version":"1.1.0","id":"sap.ushell.plugins.rta-personalize","type":"component","applicationVersion":{"version":"1.0.0"},"ach":"CA-UI5-FL-RTA","resources":"resources.json","i18n":{"bundleUrl":"i18n/i18n.properties","supportedLocales":["ar","bg","ca","cnr","cs","cy","da","de","el","en","en-GB","en-US-x-sappsd","en-US-x-saprigi","en-US-x-saptrc","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","mk","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-TW"]}},"sap.ui":{"_version":"1.1.0","technology":"UI5","deviceTypes":{"desktop":true,"tablet":false,"phone":false}},"sap.ui5":{"_version":"1.1.0","contentDensities":{"compact":true,"cozy":false},"dependencies":{"minUI5Version":"1.30.1","libs":{"sap.ui.core":{"minVersion":"1.30.1"},"sap.m":{"minVersion":"1.30.1"},"sap.ui.dt":{"minVersion":"1.30.1","lazy":true},"sap.ui.rta":{"minVersion":"1.30.1","lazy":true}}}},"sap.flp":{"type":"plugin"}}',
	"sap/ushell/plugins/rta/manifest.json":'{"_version":"1.21.0","sap.app":{"_version":"1.1.0","i18n":{"bundleUrl":"i18n/i18n.properties","supportedLocales":["","ar","bg","ca","cs","da","de","el","en","en_US_sappsd","en_US_saptrc","es","et","fi","fr","hi","hr","hu","it","iw","ja","kk","ko","lt","lv","ms","nl","no","pl","pt","ro","ru","sh","sk","sl","sv","th","tr","uk","vi","zh_CN","zh_TW"],"fallbackLocale":"en"},"id":"sap.ushell.plugins.rta","title":"{{APP_TITLE}}","type":"component","applicationVersion":{"version":"1.0.0"},"ach":"CA-UI5-FL-RTA","resources":"resources.json"},"sap.ui":{"_version":"1.1.0","technology":"UI5","deviceTypes":{"desktop":true,"tablet":false,"phone":false}},"sap.ui5":{"_version":"1.1.0","contentDensities":{"compact":true,"cozy":false},"dependencies":{"minUI5Version":"1.30.1","libs":{"sap.ui.core":{"minVersion":"1.30.1"},"sap.m":{"minVersion":"1.30.1"},"sap.ui.dt":{"minVersion":"1.30.1","lazy":true},"sap.ui.rta":{"minVersion":"1.30.1","lazy":true},"sap.ui.fl":{}}},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"i18n/i18n.properties","settings":{"supportedLocales":["","ar","bg","ca","cs","da","de","el","en","en_US_sappsd","en_US_saptrc","es","et","fi","fr","hi","hr","hu","it","iw","ja","kk","ko","lt","lv","ms","nl","no","pl","pt","ro","ru","sh","sk","sl","sv","th","tr","uk","vi","zh_CN","zh_TW"],"fallbackLocale":"en"}}}},"sap.flp":{"type":"plugin"}}',
	"sap/ushell/renderer/HeadEndItemsOverflowPopover.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"><Popover\n        id="headEndItemsOverflow"\n        placement="Bottom"\n        showHeader="false"\n        showArrow="true"\n        class="sapUshellPopupContainer sapContrastPlus"\n        afterClose=".destroyHeadEndItemsOverflow"><content><List\n                id="headEndItemsOverflowList"\n                class="sapUshellPopoverList"\n                showSeparators="None"\n                items="{\n                    path: \'/headEndItems\',\n                    filters: {\n                        path: \'\',\n                        test: \'.isHeadEndItemInOverflow\'\n                    },\n                    factory: \'.headEndItemsOverflowItemFactory\'\n                }" /></content></Popover></core:FragmentDefinition>\n',
	"sap/ushell/renderer/RendererRootView.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.ushell.ui.shell"\n    xmlns:m="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:renderer="sap.ushell.renderer"\n><renderer:NavContainer id="viewPortContainer" beforeNavigate=".onBeforeNavigate" afterNavigate=".onAfterNavigate"/></core:FragmentDefinition>\n',
	"sap/ushell/renderer/allMyApps/AllMyApps.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    controllerName="sap.ushell.renderer.allMyApps.AllMyApps"\n    height="100%"><SplitApp\n        id="sapUshellAllMyAppsMasterDetail"\n        mode="{= ${configModel>/isPhoneWidth} ? \'ShowHideMode\' : \'StretchCompressMode\'}"><masterPages><Page id="sapUshellAllMyAppsMasterPage" showHeader="false"><landmarkInfo><PageAccessibleLandmarkInfo rootLabel="{i18n>allMyApps_CatalogsList}" /></landmarkInfo><List\n                    id="sapUshellAllMyAppsDataSourcesList"\n                    tooltip="{i18n>catalogSelect_tooltip}"\n                    rememberSelections="true"\n                    items="{allMyAppsModel>/AppsData}"\n                    showNoData="false"\n                    growingThreshold="100"\n                    mode="SingleSelectMaster"\n                    itemPress=".handleMasterListItemPress"\n                    selectionChange=".handleMasterListItemPress"><StandardListItem\n                        title="{allMyAppsModel>title}"\n                        wrapping="true"\n                        type="{\n                            parts: [\'allMyAppsModel>type\', \'configModel>/allMyAppsMasterLevel\'],\n                            formatter: \'.formatListItemType\'\n                        }" /></List></Page></masterPages><detailPages><Page id="sapUshellAllMyAppsDetailsPage" showHeader="false"><landmarkInfo><PageAccessibleLandmarkInfo rootLabel="{i18n>allMyApps_ListOfApps}" /></landmarkInfo><Title id="sapUshellAllMyAppsDetailsHeaderLabel" wrapping="true" class="sapUiSmallMarginTopBottom" /><ScrollContainer\n                    id="allMyAppsScrollContainer"\n                    horizontal="false"\n                    vertical="true"><List id="oItemsContainerlist" items="{allMyAppsModel>apps}"><StandardListItem\n                            title="{allMyAppsModel>title}"\n                            description="{allMyAppsModel>subTitle}"\n                            wrapping="true"\n                            type="Active"\n                            class="sapUshellAllMyAppsListItem"\n                            press=".onAppItemClick" /></List></ScrollContainer><VBox\n                    id="sapUshellAllMyAppsCustomPanel"\n                    visible="{= !!${allMyAppsModel>numberCustomTiles}}"\n                    class="sapUshellAllMyAppsCustomPanel"><Text id="sapUshellAllMyAppsCustomPanelLabel" text="{allMyAppsModel>sCustomLabel}" /><Link\n                        id="sapUshellAllMyAppsCustomPanelLink"\n                        visible="{allMyAppsModel>/catalogEnabled}"\n                        text="{allMyAppsModel>sCustomLink}"\n                        press=".handleCustomPanelLinkPress" /></VBox></Page><Page id="sapUshellAllMyAppsEmptyDetailsPage" showHeader="false" enableScrolling="false"><Label class="sapUshellAllMyAppsEmptyDetailsPageText" text="{i18n>AllMyAppsEmptyText}" textAlign="Center" /></Page></detailPages></SplitApp></mvc:View>\n',
	"sap/ushell/renderer/rendererTargetWrapper/RendererTarget.view.xml":'<mvc:View\n    xmlns="sap.ushell.renderer"\n    xmlns:mvc="sap.ui.core.mvc"\n    controllerName="sap.ushell.renderer.rendererTargetWrapper.RendererTarget"\n    height="100%"><RendererAppContainer\n        id="appContainer"\n        childId="{/componentId}"\n        name="{/name}"\n        url="{/url}"\n        childDestroyed=".onChildDestroy" /></mvc:View>',
	"sap/ushell/renderer/rendererTargetWrapper/manifest.json":'{"_version":"1.0.0","sap.fiori":{"registrationIds":[""]},"sap.app":{"id":"sap.ushell.renderer.rendererTargetWrapper","applicationVersion":{"version":"1.0.0"},"ach":"CA-FLP-FE-COR","type":"component","title":"","resources":"resources.json"},"sap.ui":{"technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"componentName":"sap.ushell.renderer.rendererTargetWrapper","rootView":{"viewName":"sap.ushell.renderer.rendererTargetWrapper.RendererTarget","type":"XML","async":true},"dependencies":{"minUI5Version":"1.100","libs":{"sap.ui.core":{},"sap.ushell":{}}},"contentDensities":{"compact":true,"cozy":true}}}',
	"sap/ushell/renderer/search/searchComponent/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.ushell.renderer.search.searchComponent","applicationVersion":{"version":"1.141.1"},"type":"component"},"sap.ui5":{"technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":true},"dependencies":{"minUI5Version":"1.72","libs":{"sap.m":{},"sap.esh.search.ui":{}}},"contentDensities":{"compact":true,"cozy":true}}}',
	"sap/ushell/renderer/shellHeader/ShellHeader.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.ushell.ui"\n    xmlns:core="sap.ui.core"\n    xmlns:shell="sap.ushell.ui.shell"\n    core:require="{\n        BindingHelper: \'sap/ushell/state/BindingHelper\'\n    }"><ShellHeader\n        id="shell-header"\n        logo="{shellModel>/header/logo/src}"\n        logoAltText="{shellModel>/header/logo/alt}"\n        visible="{shellModel>/header/visible}"\n        headItems="{\n            path: \'shellModel>/header/headItems\',\n            factory: \'BindingHelper.factory\'\n        }"\n        headEndItems="{\n            path: \'shellModel>/header/headEndItems\',\n            factory: \'BindingHelper.factory\',\n            filters: [{ path: \'\', test: \'.isHeadEndItemNotInOverflow\' }]\n        }"\n        centralAreaElement="{shellModel>/header/centralAreaElement}"\n        showNewExperienceSwitch="{newExperience>/showInShellHeader}"\n        title="{shellModel>/header/secondTitle}"><appTitle><shell:ShellAppTitle\n                id="shellAppTitle"\n                text="{shellModel>/application/title}"\n                title="{shellModel>/application/title}"\n                icon="{shellModel>/application/icon}"\n                subTitle="{shellModel>/header/secondTitle}"\n            /></appTitle></ShellHeader></core:FragmentDefinition>\n',
	"sap/ushell/ui/ContentNodeSelectorValueHelp.fragment.xml":'<core:FragmentDefinition xmlns:core="sap.ui.core" xmlns="sap.m" xmlns:ushell="sap.ushell.ui"><Dialog\n        title="{= ${_internal>/isSpaces} ? ${_i18n>valueHelpDialogTitlePages} : ${_i18n>valueHelpDialogTitleGroups}}"\n        contentWidth="25rem"\n        stretch="{_device>/system/phone}"\n        horizontalScrolling="false"><subHeader><Toolbar><SearchField\n                    id="ContentNodesSearch"\n                    search="._onValueHelpSearch"\n                    width="100%"></SearchField></Toolbar></subHeader><content><Tree\n                id="ContentNodesTree"\n                items="{path: \'_internal>/items\', templateShareable: false}"\n                mode="MultiSelect"\n                includeItemInSelection="true"\n                rememberSelections="true"><items><ushell:ContentNodeTreeItem\n                        selectable="{_internal>isContainer}"\n                        title="{_internal>label}"\n                        selected="{_internal>selected}"/></items></Tree></content><beginButton><Button id="AddButton" text="{_i18n>valueHelpDialogButtonApply}" type="Emphasized" press="._onValueHelpBeginButtonPressed"/></beginButton><endButton><Button text="{_i18n>valueHelpDialogButtonCancel}" press="._onValueHelpEndButtonPressed"/></endButton></Dialog></core:FragmentDefinition>\n',
	"sap/ushell/ui/QuickAccess.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Dialog\n        id="quickAccess"\n        class="sapContrastPlus"\n        title="{i18n>quickAccessDialog_title}"\n        verticalScrolling="false"\n        contentWidth="25rem"\n        draggable="true"\n        resizable="true"\n        stretch="{device>/system/phone}"><buttons><Button id="quickAccessCloseButton"\n                text="{i18n>closeBtn}"\n                press="._closeDialog"/></buttons><content><IconTabBar id="quickAccessIconTabBar"\n                class="sapUshellUserActionsMenuTabBar"\n                stretchContentHeight="true"\n                backgroundDesign="Transparent"\n                expandable="false"><items><IconTabFilter id="recentActivityFilter"\n                        text="{i18n>recentActivities}"><content><ScrollContainer horizontal="false" vertical="true" height="100%" width="100%"><List id="sapUshellActivityListrecentActivities"\n                                    showSeparators="None"\n                                    items="{/recentActivities}"\n                                    noDataText="{i18n>recentActivitiesNoDataText}"\n                                    itemPress="._itemPress"><items><StandardListItem\n                                            class="sapUshellQuickAccessListIcon"\n                                            type="Active"\n                                            title="{\n                                                parts: [\n                                                    {path:\'title\'},\n                                                    {path:\'appType\'}\n                                                ],\n                                                formatter:\'._titleFormatter\'\n                                            }"\n                                            description="{\n                                                parts: [\n                                                    {path:\'appType\'}\n                                                ],\n                                                formatter:\'._descriptionFormatter\'\n                                            }"\n                                            icon="{= ${icon} ? ${icon} : \'sap-icon://header\'}"\n                                            iconInset="false"\n                                            info="{timestamp}"/></items></List></ScrollContainer></content></IconTabFilter><IconTabFilter id="frequentlyUsedFilter"\n                        text="{i18n>frequentActivities}"><content><ScrollContainer horizontal="false" vertical="true" height="100%" width="100%"><List id="sapUshellActivityListfrequentActivities"\n                                      showSeparators="None"\n                                      items="{/frequentActivities}"\n                                      noDataText="{i18n>frequentActivitiesNoDataText}"\n                                      itemPress="._itemPress"><items><StandardListItem\n                                            class="sapUshellQuickAccessListIcon"\n                                            type="Active"\n                                            title="{\n                                                    parts: [\n                                                        {path:\'title\'},\n                                                        {path:\'appType\'}\n                                                    ],\n                                                    formatter:\'._titleFormatter\'\n                                                }"\n                                            description="{\n                                                    parts: [\n                                                        {path:\'appType\'}\n                                                    ],\n                                                formatter:\'._descriptionFormatter\'\n                                            }"\n                                            icon="{= ${icon} ? ${icon} : \'sap-icon://header\'}"\n                                            iconInset="false"/></items></List></ScrollContainer></content></IconTabFilter></items></IconTabBar></content></Dialog></core:FragmentDefinition>\n',
	"sap/ushell/ui/bookmark/SaveOnPage.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:ushell="sap.ushell.ui"\n    xmlns:layout="sap.ui.layout.form"\n    controllerName="sap.ushell.ui.bookmark.SaveOnPage"><VBox class="sapUiSmallMargin"><Label id="previewLbl" text="{i18n>previewFld}" visible="{/showPreview}" labelFor="saveAsTileHBox"/><FlexBox id="saveAsTileHBox" alignItems="Center" justifyContent="Center"\n                 class="sapUshellAddBookmarkTileBackground"><GenericTile header="{/title}" subheader="{/subtitle}" visible="{= !!${/serviceUrl}}" id="previewTileDynamic"\n                         pressEnabled="false"\n                         ariaLabel="{i18n>previewFld}" class="sapUiResponsiveMargin"><TileContent footer="{/info}" unit="{/numberUnit}"><NumericContent\n                        icon="{/icon}"\n                        value="{/numberValue}"\n                        width="100%"\n                        truncateValueTo="5"\n                        withMargin="false"/></TileContent></GenericTile><GenericTile header="{/title}" subheader="{/subtitle}" visible="{= !${/serviceUrl}}"\n                         pressEnabled="false"\n                         ariaLabel="{i18n>previewFld}" class="sapUiResponsiveMargin"\n                         id="previewTile"><TileContent footer="{/info}"><ImageContent src="{/icon}"/></TileContent></GenericTile></FlexBox></VBox><layout:SimpleForm><Label id="titleLbl" text="{i18n>titleFld}" labelFor="bookmarkTitleInput" showColon="true"/><Input\n            id="bookmarkTitleInput"\n            required="true"\n            ariaLabelledBy="titleLbl"\n            placeholder="{i18n>bookmarkDialogoTitle_tooltip}"\n            value="{/title}"/><Label id="subtitleLbl" text="{i18n>subtitleFld}" labelFor="bookmarkSubTitleInput" showColon="true"/><Input\n            id="bookmarkSubTitleInput"\n            ariaLabelledBy="subtitleLbl"\n            placeholder="{i18n>bookmarkDialogoSubTitle_tooltip}"\n            value="{/subtitle}"/><Label id="infoLbl" text="{i18n>tileSettingsDialog_informationField}" labelFor="bookmarkInfoInput"\n               showColon="true"/><Input\n            id="bookmarkInfoInput"\n            ariaLabelledBy="infoLbl"\n            placeholder="{i18n>bookmarkDialogoDescription_tooltip}"\n            value="{/info}"\n            visible="{/showInfo}"/><Label id="ContentNodeLabel" labelFor="SelectedNodesComboBox" showColon="true"/><ushell:ContentNodeSelector\n            id="SelectedNodesComboBox"\n            labelId="ContentNodeLabel"\n            valueHelpEndButtonPressed=".onValueHelpEndButtonPressed"/></layout:SimpleForm></mvc:View>\n',
	"sap/ushell/ui/footerbar/AboutDialog.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:form="sap.ui.layout.form"\n    xmlns:custom="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n    core:require="{\n        coreLibrary: \'sap/ui/core/library\',\n        mobileLibrary: \'sap/m/library\'\n    }"><Dialog\n        id="aboutDialog"\n        title="{i18n>about}"\n        class="sapUshellUserSetting sapContrastPlus"\n        contentHeight="42rem"\n        contentWidth="62rem"\n        afterClose=".onAfterClose"\n        beforeOpen=".onBeforeOpen"\n        stretch="{device>/system/phone}"><customHeader><Bar id="aboutBar"><contentLeft><Button id="aboutDialogNavBackButton"\n                        icon="sap-icon://nav-back"\n                        press=".navigateBackToMaster"\n                        tooltip="{i18n>ToggleButtonShow}"\n                        visible="false" /><ToggleButton id="aboutDialogMenuButton"\n                        icon="sap-icon://menu2"\n                        press=".navToggleButtonPressHandler"\n                        tooltip="{i18n>ToggleButtonShow}"\n                        visible="false" /></contentLeft><contentMiddle><Title\n                        text="{i18n>about}" /></contentMiddle></Bar></customHeader><content><Page\n                showHeader="false"\n                class="sapUshellAboutPage"><content><SplitContainer id="aboutDialogContainer"\n                        initialDetail="aboutDialogDetail"\n                        defaultTransitionNameDetail="show"\n                        afterMasterClose=".onAfterMasterClose"\n                        beforeMasterOpen=".onBeforeMasterOpen"><masterPages><Page\n                                id="aboutDialogMaster"\n                                class="sapUshellUserSettingMaster"\n                                showHeader="false"><content><List id="aboutDialogEntryList"\n                                        itemPress=".onItemPress"\n                                        mode="{= mobileLibrary.ListMode.SingleSelectMaster}"><items><StandardListItem\n                                                title="{i18n>aboutCategoryApplication}"\n                                                type="Active"\n                                                icon="sap-icon://header"\n                                                custom:to="aboutDialogDetailApplication"\n                                                wrapping="true" /><StandardListItem\n                                                title="{i18n>aboutCategorySystem}"\n                                                icon="sap-icon://wrench"\n                                                type="Active"\n                                                custom:to="aboutDialogDetailSystem"\n                                                wrapping="true" /><StandardListItem\n                                                title="{i18n>aboutCategoryEnvironment}"\n                                                icon="sap-icon://desktop-mobile"\n                                                type="Active"\n                                                custom:to="aboutDialogDetailEnvironment"\n                                                wrapping="true" /></items></List></content></Page></masterPages><detailPages><Page\n                                id="aboutDialogDetailApplication"\n                                showHeader="false"><content><ObjectHeader\n                                        title="{i18n>aboutCategoryApplication}"\n                                        titleLevel="{= coreLibrary.TitleLevel.H3}"\n                                        backgroundDesign="Solid"\n                                        class="sapUshellUserSettingDetailHeader"/><VBox class="sapUiSmallMargin"><form:SimpleForm\n                                            id="aboutDialogApplicationForm"\n                                            editable="false"\n                                            layout="ColumnLayout"\n                                            columnsM="2"\n                                            columnsL="2"\n                                            columnsXL="2"\n                                            content="{\n                                                path: \'AppInfo>/entries\',\n                                                factory: \'.itemFactory\'\n                                            }"></form:SimpleForm></VBox><VBox class="sapUiSmallMargin"><form:SimpleForm\n                                            id="aboutDialogApplicationFormCustomValues"\n                                            editable="false"\n                                            layout="ColumnLayout"\n                                            columnsM="2"\n                                            columnsL="2"\n                                            columnsXL="2"\n                                            content="{\n                                                path: \'AppInfo>/customEntries\',\n                                                factory: \'.itemFactory\'\n                                            }"></form:SimpleForm></VBox></content></Page><Page\n                                id="aboutDialogDetailSystem"\n                                showHeader="false"><content><ObjectHeader\n                                        title="{i18n>aboutCategorySystem}"\n                                        titleLevel="{= coreLibrary.TitleLevel.H3}"\n                                        backgroundDesign="Solid"\n                                        class="sapUshellUserSettingDetailHeader"/><VBox class="sapUiSmallMargin"><form:SimpleForm\n                                            id="aboutDialogSystemForm"\n                                            editable="false"\n                                            layout="ColumnLayout"\n                                            columnsM="2"\n                                            columnsL="2"\n                                            columnsXL="2"\n                                            content="{\n                                                path: \'SysInfo>/entries\',\n                                                factory: \'.itemFactory\'\n                                            }"></form:SimpleForm></VBox></content></Page><Page\n                                id="aboutDialogDetailEnvironment"\n                                showHeader="false"><content><ObjectHeader\n                                        title="{i18n>aboutCategoryEnvironment}"\n                                        titleLevel="{= coreLibrary.TitleLevel.H3}"\n                                        backgroundDesign="Solid"\n                                        class="sapUshellUserSettingDetailHeader"/><VBox class="sapUiSmallMargin"><form:SimpleForm\n                                            id="aboutDialogUserForm"\n                                            editable="false"\n                                            layout="ColumnLayout"\n                                            columnsM="2"\n                                            columnsL="2"\n                                            columnsXL="2"\n                                            content="{\n                                                path: \'UserEnvInfo>/entries\',\n                                                factory: \'.itemFactory\'\n                                            }"></form:SimpleForm></VBox></content></Page></detailPages></SplitContainer></content></Page></content><beginButton><Button\n                id="aboutDialogCloseButton"\n                text="{i18n>closeBtn}"\n                type="Transparent"\n                press=".onClose" /></beginButton></Dialog></core:FragmentDefinition>\n',
	"sap/ushell/ui/footerbar/ContactSupportDialog.fragment.xml":'<core:FragmentDefinition\n        xmlns="sap.m"\n        xmlns:core="sap.ui.core"\n        xmlns:form="sap.ui.layout.form"><Dialog\n        id="ContactSupportDialog"\n        title="{i18n>contactSupportBtn}"\n        contentWidth="29.6rem"\n        horizontalScrolling="false"\n        initialFocus="subjectInput"\n        class="sapContrastPlus sapUshellContactSupportDialog"\n        beforeOpen=".onBeforeOpen"\n        afterClose=".onAfterClose"><content><form:SimpleForm id="topForm" editable="false" layout="ResponsiveGridLayout"><Label id="subjectLabel" required="true" text="{i18n>subjectLabel}"/><Input\n                    id="subjectInput"\n                    value="{/subject}"\n                    valueStateText="{i18n>subjectEmptyErrorMessage}"\n                    liveChange=".onInputChange"\n                    placeholder="{i18n>subjectPlaceHolderHeader}"/><Label id="textAreaLabel" required="true" text="{i18n>txtAreaLabel}"/><TextArea\n                    id="textArea"\n                    rows="7"\n                    value="{/description}"\n                    valueStateText="{i18n>txtAreaEmptyErrorMessage}"\n                    liveChange=".onInputChange"\n                    placeholder="{i18n>txtAreaPlaceHolderHeader}"/></form:SimpleForm><form:SimpleForm\n                id="bottomForm"\n                editable="false"\n                visible="{= !${/showTechInfo}}"\n                ariaLabelledBy="bottomFormLabel"><Link id="technicalDataLink" text="{i18n>technicalDataLink}" press=".showTechnicalData"/><core:InvisibleText id="bottomFormLabel" text="{i18n>technicalDataTitle}" /></form:SimpleForm><form:SimpleForm\n                id="technicalInfoBox"\n                editable="false"\n                visible="{/showTechInfo}"\n                layout="ResponsiveGridLayout"\n                class="sapUshellTechnicalInfoBox"\n                ariaLabelledBy="technicalInfoBoxLabel"><Text text="{i18n>loginDetails}" class="sapUshellContactSupportHeaderInfoText"/><Label text="{i18n>userFld}"/><Text text="{/userName}"/><Label text="{i18n>serverFld}"/><Text text="{/host}"/><Label text="{i18n>eMailFld}" visible="{= !!${/email}}"/><Text text="{/email}" visible="{= !!${/email}}"/><Label text="{i18n>languageFld}"/><Text text="{/language}"/><Text text="" visible="{/showAppData}"/><Text text="{i18n>navigationDataFld}" visible="{/showAppData}" class="sapUshellContactSupportHeaderInfoText"/><Label text="{i18n>hashFld}" visible="{/showAppData}"/><Text text="{/navigationHash}" visible="{/showAppData}"/><Text text="" visible="{/showAppData}"/><Text text="{i18n>applicationInformationFld}" visible="{/showAppData}" class="sapUshellContactSupportHeaderInfoText"/><Label text="{i18n>applicationTypeFld}" visible="{/showAppData}"/><Text text="{/applicationType}" visible="{/showAppData}"/><Label text="{i18n>urlFld}" visible="{/showAppData}"/><Text text="{/url}" visible="{/showAppData}"/><Label text="{i18n>additionalInfoFld}" visible="{/showAppData}"/><Text text="{/additionalInfo}" visible="{/showAppData}"/><core:InvisibleText id="technicalInfoBoxLabel" text="{i18n>technicalDataTitle}" /></form:SimpleForm></content><beginButton><Button\n                id="contactSupportSendBtn"\n                text="{i18n>sendBtn}"\n                type="Emphasized"\n                press=".onSend"/></beginButton><endButton><Button\n                id="contactSupportCancelBtn"\n                text="{i18n>cancelBtn}"\n                press=".closeDialog"/></endButton></Dialog></core:FragmentDefinition>\n',
	"sap/ushell/ui/launchpad/FailedTileDialog.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:formLayout="sap.ui.layout.form"><Dialog\n        id="failedTileDialog"\n        title="{i18n>cannotLoadTile}"\n        type="Message"\n        state="Error"\n        contentWidth="480px"\n        class="sapUiNoContentPadding"><content><VBox id="vBox" class="sapUiSmallMargin"><Text id="failedMessageText" text="{i18n>FailedTileDialog.Message.Text}" /><Link id="showDetailsLink" text="{i18n>FailedTileDialog.ShowDetails.Text}" visible="{= !${showDetails}}" press=".onShowDetails" class="sapUiSmallMarginTop" /></VBox><formLayout:SimpleForm id="simpleForm" visible="{showDetails}" layout="ResponsiveGridLayout" editable="false"><formLayout:content><Label id="groupIdLabel" visible="{= !!${groupId}}" text="{i18n>FailedTileDialog.groupId.Label}" /><Text id="groupId" visible="{= !!${groupId}}" text="{groupId}" /><Label id="chipTitleLabel" visible="{= !!${chipTitle}}" text="{i18n>FailedTileDialog.chipTitle.Label}" /><Text id="chipTitle" visible="{= !!${chipTitle}}" text="{chipTitle}" /><Label id="chipDescriptionLabel" visible="{= !!${chipDescription}}" text="{i18n>FailedTileDialog.chipDescription.Label}" /><Text id="chipDescription" visible="{= !!${chipDescription}}" text="{chipDescription}" /><Label id="chipInstanceIdLabel" visible="{= !!${chipInstanceId}}" text="{i18n>FailedTileDialog.chipInstanceId.Label}" /><Text id="chipInstanceId" visible="{= !!${chipInstanceId}}" text="{chipInstanceId}" /><Label id="chipIdLabel" visible="{= !!${chipId}}" text="{i18n>FailedTileDialog.chipId.Label}" /><Text id="chipId" visible="{= !!${chipId}}" text="{chipId}" /><Label id="catalogIdLabel" visible="{= !!${catalogId}}" text="{i18n>FailedTileDialog.catalogId.Label}" /><Text id="catalogId" visible="{= !!${catalogId}}" text="{catalogId}" /><Label id="completelyLoadedLabel" visible="{= typeof ${completelyLoaded} === \'boolean\'}" text="{i18n>FailedTileDialog.completelyLoaded.Label}" /><Text id="completelyLoaded" visible="{= typeof ${completelyLoaded} === \'boolean\'}" text="{completelyLoaded}" /><Label id="debugInfoLabel" visible="{= !!${debugInfo}}" text="{i18n>FailedTileDialog.debugInfo.Label}" /><Text id="debugInfo" visible="{= !!${debugInfo}}" text="{debugInfo}" /></formLayout:content></formLayout:SimpleForm></content><endButton><Button id="closeButton" text="{i18n>closeBtn}" press=".onClose" /></endButton></Dialog></core:FragmentDefinition>\n'
});
//# sourceMappingURL=library-preload.js.map
