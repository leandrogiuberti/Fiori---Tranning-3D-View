// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/Component","sap/ui/core/Element","sap/ui/core/UIComponent","sap/ushell/ui/shell/ToolAreaItem","sap/ushell/Config","sap/ushell/Container","sap/ushell/EventHub","sap/ushell/utils","sap/ushell/appIntegration/AppLifeCycle","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ushell/components/SharedComponentUtils","sap/ushell/services/AppConfiguration","sap/ushell/resources","sap/ui/thirdparty/hasher","sap/ui/thirdparty/jquery","sap/base/Log","sap/base/util/deepExtend","sap/base/util/extend","sap/ui/base/Object","sap/base/util/ObjectPath","sap/ui/core/library","sap/ushell/library","sap/ui/core/mvc/View","sap/ushell/ui/shell/ShellHeadItem","sap/m/NotificationListItem","sap/ushell/renderer/ShellLayout","sap/ushell/renderer/utils","sap/ushell/ui/launchpad/ActionItem","sap/ushell/state/ShellModel","sap/ushell/state/StateManager","sap/ushell/navigation/NavigationState","sap/ushell/renderers/fiori2/RendererExtensions"],function(e,t,n,o,r,i,s,a,l,p,c,u,d,h,f,jQuery,g,m,y,S,w,C,I,b,A,v,P,B,F,H,R,E,T){"use strict";const _=C.mvc.ViewType;const L=I.AppType;const V=R.LaunchpadState;const k=R.Operation;const M=R.ShellMode;const{Headerless:z,Merged:j,Blank:U,Lean:N}=M;const D=n.extend("sap.ushell.renderer.Renderer",{metadata:{version:"1.141.1",dependencies:{version:"1.141.1",libs:["sap.ui.core","sap.m"],components:[]},interfaces:["sap.ui.core.IAsyncContentCreation"],routing:{config:{async:true,controlId:"viewPortContainer",clearAggregation:false,controlAggregation:"pages"},routes:[{name:"appfinder-legacy",pattern:"Shell-home&/appFinder/:menu:/:filter:"},{name:"home",pattern:["Shell-home?:hashParameters:","Shell-home&/:innerHash*:","Shell-home"],target:function(){if(r.last("/core/homeApp/enabled")){return"homeapp"}if(r.last("/core/workPages/enabled")&&!r.last("/core/workPages/runtimeSwitcher")){return"workpages"}if(r.last("/core/workPages/enabled")&&r.last("/core/workPages/runtimeSwitcher")){return"runtimeSwitcher"}if(r.last("/core/spaces/enabled")){return"pages"}return"home"}()},{name:"appfinder",pattern:["Shell-appfinder?:hashParameters:&/:innerHash*:","Shell-appfinder?:hashParameters*:","Shell-appfinder&/:innerHash*:","Shell-appfinder"],target:function(){if(r.last("/core/site/siteId")&&r.last("/core/catalog/enabled")&&r.last("/core/workPages/contentFinderStandalone")&&r.last("/core/workPages/enabled")){return"contentfinder"}return r.last("/core/catalog/enabled")?"appfinder":undefined}()},{name:"openFLPPage",pattern:["Launchpad-openFLPPage?:hashParameters:","Launchpad-openFLPPage"],target:function(){if(r.last("/core/workPages/enabled")&&!r.last("/core/workPages/runtimeSwitcher")){return"workpages"}if(r.last("/core/workPages/enabled")&&r.last("/core/workPages/runtimeSwitcher")){return"runtimeSwitcher"}if(r.last("/core/spaces/enabled")){return"pages"}return"home"}()},{name:"openWorkPage",pattern:["Launchpad-openWorkPage?:hashParameters:","Launchpad-openWorkPage"],target:"workpages"},{name:"wzsearch",pattern:["WorkZoneSearchResult-display:?query:"],target:"wzsearch"}],targets:{home:{name:"sap.ushell.components.homepage",type:"Component",id:"Shell-home-component",options:{manifest:false,asyncHints:{preloadBundles:r.last("/core/home/featuredGroup/enable")?["sap/ushell/preload-bundles/homepage-af-dep.js","sap/ushell/components/homepage/cards-preload.js"]:["sap/ushell/preload-bundles/homepage-af-dep.js"]},componentData:{config:{enablePersonalization:true,enableHomePageSettings:false}}}},appfinder:{name:"sap.ushell.components.appfinder",type:"Component",id:"Shell-appfinder-component",options:{manifest:false,asyncHints:{preloadBundles:["sap/ushell/preload-bundles/homepage-af-dep.js"]},componentData:{config:{enablePersonalization:true,enableHomePageSettings:false}}}},contentfinder:{name:"sap.ushell.components.contentFinderStandalone",type:"Component",id:"Shell-appfinder-component",options:{manifest:true,asyncHints:{preloadBundles:[]},componentData:{}}},pages:{name:"sap.ushell.components.pages",type:"Component",id:"pages-component",options:{componentData:{},asyncHints:{preloadBundles:["sap/ushell/preload-bundles/homepage-af-dep.js"]}}},workpages:{name:r.last("/core/workPages/defaultComponent/name"),type:"Component",id:"workPageRuntime-component",options:r.last("/core/workPages/defaultComponent")},runtimeSwitcher:{name:"sap.ushell.components.runtimeSwitcher",type:"Component",id:"runtimeSwitcher-component",options:{componentData:{}}},wzsearch:{name:"sap.ushell.components.cepsearchresult.app",type:"Component",id:"cepsearchresult-app-component",options:{manifest:true,componentData:{config:{enablePersonalization:true,enableHomePageSettings:false}}}}}}},init:function(){n.prototype.init.apply(this,arguments);const t=this.getRouter();["appfinder-legacy","home","appfinder","openFLPPage","openWorkPage","wzsearch"].forEach(e=>{t.getRoute(e).attachBeforeMatched(()=>{s.emit("trackHashChange",f.getHash());E.endNavigation()})});if(r.last("/core/homeApp/enabled")){this._getHomeAppTarget().then(e=>{t.getTargets().addTarget("homeapp",e);t.getTarget("homeapp").attachEventOnce("display",()=>{s.emit("CoreResourcesComplementLoaded",{status:"success"})})})}t.getRoute("home").attachMatched(this._prepareHomepage,this);t.getRoute("openFLPPage").attachMatched(this._prepareHomepage,this);t.getRoute("openWorkPage").attachMatched(this._prepareHomepage,this);t.getRoute("appfinder-legacy").attachMatched(e=>{t.navTo("appfinder",{},true)});t.getRoute("appfinder").attachMatched(async function(n){if(!r.last("/core/catalog/enabled")){g.warning("AppFinder is disabled. Re-route to the homepage.");t.navTo("home",null,true);return}const o=e.getComponentById(this.createId("Shell-appfinder-component"));const s=n.getParameter("arguments");if(i.getRendererInternal("fiori2")){l.getShellUIService().setBackNavigation();i.getRendererInternal("fiori2").setCurrentCoreView("appFinder")}d.setCurrentApplication(null);const a=o.getRouter();o.getRootControl().loaded().then(()=>{a.parse(s["innerHash*"]||"")});l.switchViewState(V.App,false,"Shell-appfinder");u.initializeAccessKeys()},this);t.getRoute("wzsearch").attachMatched(e=>{l.getShellUIService().setBackNavigation();l.switchViewState(V.App,false,"cepsearchresult-app")});const o=new c(p);o.setDefaultBindingMode("OneWay");this.setModel(o,"device");this.setModel(h.i18nModel,"i18n")}});D.prototype._prepareHomepage=function(e){if(d.getCurrentApplication()){i.getServiceAsync("ShellNavigationInternal").then(e=>{e.setIsInitialNavigation(false)})}const t=f.getHash();if(!r.last("/core/spaces/enabled")&&t.indexOf("Launchpad-openFLPPage")===0){i.getServiceAsync("ShellNavigationInternal").then(e=>{e.replaceHashWithoutNavigation("Shell-home")})}const n=r.last("/core/shell/homePageTitle");const o=h.getTranslationFromJSON(n)||h.i18n.getText("homeBtn_tooltip");const s=this.getShellConfig().rootIntent;const p=!s||a.isFlpHomeIntent(s);l.switchViewState(p?V.Home:V.App,false,"Shell-home");this.setCurrentCoreView("home");d.setCurrentApplication(null);l.getShellUIService().setTitle(o);l.getShellUIService().setHierarchy();l.getShellUIService().setRelatedApps();u.initializeAccessKeys()};D.prototype._getHomeAppTarget=function(){return i.getServiceAsync("Ui5ComponentLoader").then(e=>{const t=r.last("/core/homeApp/component");const n=e.getCoreResourcesComplementBundle();if(t.url){return{name:"rendererTargetWrapper",type:"Component",id:"homeApp-component-wrapper",path:"sap/ushell/renderer",options:{componentData:{componentId:"homeApp-component",name:t.name,url:t.url},asyncHints:Object.assign({},t.asyncHints||{},{preloadBundles:n})}}}return{name:"error",type:"Component",id:"homeApp-component",path:"sap/ushell/components/homeApp",options:{componentData:{},asyncHints:{preloadBundles:n}}}})};D.prototype.createContent=function(){const e=this.getComponentData()||{};const t={applications:{"Shell-home":{}},rootIntent:"Shell-home"};const n=R.getShellMode();if(e.config){if(e.config.rootIntent===undefined){e.config.migrationConfig=true}e.config=m(t,e.config);y(e.config.applications["Shell-home"],r.last("/core/home"),r.last("/core/catalog"));if([z,j,U].includes(n)){e.config.enablePersonalization=false;r.emit("/core/shell/enablePersonalization",false)}else{e.config.enablePersonalization=r.last("/core/shell/enablePersonalization")}if([N].includes(n)){e.config.showRecentActivity=false}else if(e.config.showRecentActivity===undefined){e.config.showRecentActivity=r.last("/core/shell/model/showRecentActivity")}r.emit("/core/shell/model/showRecentActivity",e.config.showRecentActivity);if(!e.config.enablePersonalization){e.config.moveEditHomePageActionToShellHeader=false;if(!e.config.enableAppFinder){e.config.moveAppFinderActionToShellHeader=false}}}if(!this.getComponentData().async){let t;g.error("sap/ushell/renderer/Renderer component is created synchronously. Synchronous instantiation is not allowed. Please use async:true in component data");(function(){t=this._createSyncContent(e)}).bind(this)();return t}return b.create({id:"mainShell",viewName:"module:sap/ushell/renderer/Shell.view",height:"100%",viewData:e}).then(e=>{e.addStyleClass("sapUshellRenderer");this._oShellView=e;this.shellCtrl=e.getController();B.init(e.getController());return e})};D.prototype._createSyncContent=function(e){const t=sap.ui.view("mainShell",{type:_.JS,viewName:"sap.ushell.renderers.fiori2.Shell",height:"100%",viewData:e});t.addStyleClass("sapUshellRenderer");this._oShellView=t;t.loaded().then(e=>{this.shellCtrl=e.oController;B.init(e.getController())});return t};D.prototype.createExtendedShellState=function(e,t){g.error("The function createExtendedShellState was deprecated  discontinued.")};D.prototype.applyExtendedShellState=function(e,t){g.error("The function applyExtendedShellState was discontinued.")};D.prototype.showLeftPaneContent=function(e,t,n){this._updateItemStates(e,t,n,"sidePane.items",k.Add)};D.prototype.showHeaderItem=function(e,t,n){const o=Array.isArray(e)?e:[e];const r=this._sanitizeStates(n);o.forEach(e=>{R.updateManagedControl(e,!t);if(t){R.updateCurrentState("header.headItems",k.Add,e);return}R.updateBaseStates(r,"header.headItems",k.Add,e)})};D.prototype.showRightFloatingContainerItem=function(e,t,n){this._updateItemStates(e,t,n,"rightFloatingContainer.items",k.Add)};D.prototype.showRightFloatingContainer=function(e){R.updateCurrentState("rightFloatingContainer.visible",k.Set,e)};D.prototype.showToolAreaItem=function(e,t,n){this._updateItemStates(e,t,n,"toolArea.items",k.Add)};D.prototype.showActionButton=function(e,n,o){const r=Array.isArray(e)?e:[e];const{buttons:i,actions:s}=r.reduce((e,n)=>{const o=t.getElementById(n);const r=S.isObjectA(o,"sap.m.Button")&&!S.isObjectA(o,"sap.ushell.ui.launchpad.ActionItem");if(r){e.buttons.push(n)}else{e.actions.push(n)}return e},{buttons:[],actions:[]});if(i.length){this.convertButtonsToActions(i,n,o)}this._updateItemStates(s,n,o,"userActions.items",k.Add)};D.prototype.showFloatingActionButton=function(e,t,n){this._updateItemStates(e,t,n,"floatingActions.items",k.Add)};D.prototype.showHeaderEndItem=function(e,t,n){this._updateItemStates(e,t,n,"header.headEndItems",k.Add)};D.prototype._sanitizeStates=function(e){const t=Array.isArray(e)?e:[];const n=t.filter(e=>e!==undefined&&e!==null).filter(e=>{const t=Object.values(this.LaunchpadState).includes(e);if(!t){throw new Error(`Invalid launchpad state: ${e}`)}return t});if(n.length===0){return Object.values(this.LaunchpadState)}return n};D.prototype._updateItemStates=function(e,t,n,o,r){const i=Array.isArray(e)?e:[e];const s=this._sanitizeStates(n);i.forEach(e=>{R.updateManagedControl(e,!t);if(t){R.updateCurrentState(o,r,e);return}R.updateBaseStates(s,o,r,e)})};D.prototype.setHeaderVisibility=function(e,t,n){const o=this._sanitizeStates(n);if(t){R.updateCurrentState("header.visible",k.Set,e);return}R.updateBaseStates(o,"header.visible",k.Set,e)};D.prototype.showSubHeader=function(e,t,n){this._updateItemStates(e,t,n,"subHeader.items",k.Add)};D.prototype.showSignOutItem=function(e,t){this.showActionButton(["logoutBtn"],e,t)};D.prototype.showSettingsItem=function(e,t){this.showActionButton(["userSettingsBtn"],e,t)};D.prototype.setFooter=function(e){this.shellCtrl.setFooter(e)};D.prototype.setNavigationBar=function(e){this.shellCtrl.setNavigationBar(e)};D.prototype.setSideNavigation=function(e){this.shellCtrl.setSideNavigation(e)};D.prototype.setShellShapes=function(e){this.shellCtrl.setShellShapes(e)};D.prototype.setShellFooter=function(e){const n=new jQuery.Deferred;const o=this;let r;const i=e.controlType;const s=e.oControlProperties;if(!i){g.warning("You must specify control type in order to create it");n.reject(new Error("You must specify control type in order to create it"));return n.promise()}if(!s){g.warning("You must specify control properties in order to create it");n.reject(new Error("You must specify control properties in order to create it"));return n.promise()}const a=i.replace(/\./g,"/");sap.ui.require([a],e=>{r=t.getElementById(s.id);if(!r){r=new e(s)}if(o.lastFooterId){o.removeFooter()}o.lastFooterId=r.getId();o.shellCtrl.setFooter(r);n.resolve(r)});return n.promise()};D.prototype.setFooterControl=function(e,t){const n=e.replace(/\./g,"/");const o=sap.ui.require(n);let r=false;if(o){r=true}else if(!w.get(e||"")){g.error(`Renderer.setFooterControl: the referenced control resource ${e} is not available.`,undefined,"sap.ushell.renderer.Renderer");return undefined}const i=this.createItem(t,undefined,t=>{if(e){if(r){return new o(t)}const n=w.get(e||"");return new n(t)}g.warning("You must specify control type in order to create it");return undefined});if(this.lastFooterId){this.removeFooter()}this.lastFooterId=i.getId();this.shellCtrl.setFooter(i);return i};D.prototype.hideHeaderItem=function(e,t,n){this._updateItemStates(e,t,n,"header.headItems",k.Remove)};D.prototype.removeToolAreaItem=function(e,t,n){this._updateItemStates(e,t,n,"toolArea.items",k.Remove)};D.prototype.removeRightFloatingContainerItem=function(e,t,n){this._updateItemStates(e,t,n,"rightFloatingContainer.items",k.Remove)};D.prototype.hideActionButton=function(e,t,n){this._updateItemStates(e,t,n,"userActions.items",k.Remove)};D.prototype.hideLeftPaneContent=function(e,t,n){this._updateItemStates(e,t,n,"sidePane.items",k.Remove)};D.prototype.hideFloatingActionButton=function(e,t,n){this._updateItemStates(e,t,n,"floatingActions.items",k.Remove)};D.prototype.hideHeaderEndItem=function(e,t,n){this._updateItemStates(e,t,n,"header.headEndItems",k.Remove)};D.prototype.hideSubHeader=function(e,t,n){this._updateItemStates(e,t,n,"subHeader.items",k.Remove)};D.prototype.removeFooterById=function(e){if(e===this.shellCtrl.getFooterId()){this.shellCtrl.removeFooter()}const n=t.getElementById(e);if(n){n.destroy()}};D.prototype.removeFooter=function(){this.shellCtrl.removeFooter();if(this.lastFooterId){const e=t.getElementById(this.lastFooterId);if(e){e.destroy()}this.lastFooterId=undefined}};D.prototype.addShellSubHeader=function(e){const n=new jQuery.Deferred;const o=this;let r;const i=e.controlType;const s=e.oControlProperties;const a=e.bIsVisible;const l=e.bCurrentState;const p=e.aStates;if(!i){g.warning("You must specify control type in order to create it");n.reject(new Error("You must specify control type in order to create it"));return n.promise()}if(!s){g.warning("You must specify control properties in order to create it");n.reject(new Error("You must specify control properties in order to create it"));return n.promise()}const c=i.replace(/\./g,"/");sap.ui.require([c],e=>{r=t.getElementById(s.id);if(!r){r=new e(s);R.addManagedControl(r.getId(),!l)}if(a){o.showSubHeader(r.getId(),l,p)}n.resolve(r)});return n.promise()};D.prototype.addSubHeader=function(e,t,n,o,r){const i=this._sanitizeStates(r);const s=e.replace(/\./g,"/");const a=sap.ui.require(s);let l=false;if(a){l=true}else if(!w.get(e||"")){g.error(`Renderer.setFooterControl: the referenced control resource ${e} is not available.`,undefined,"sap.ushell.renderer.Renderer");return undefined}const p=this.createItem(t,o,t=>{if(e){if(l){return new a(t)}const n=w.get(e||"");return new n(t)}g.warning("You must specify control type in order to create it");return undefined});if(n){this.showSubHeader(p.getId(),o,i)}return p};D.prototype.addUserAction=function(e){const n=new jQuery.Deferred;const o=this;let{controlType:r}=e;const{oControlProperties:i,bIsVisible:s,bCurrentState:a,aStates:l}=e;if(!r){if(t.getElementById(i?.id)){r="sap.ushell.ui.launchpad.ActionItem"}else{const e="You must specify control type in order to create it";g.warning(e);n.reject(new Error(e));return n.promise()}}if(!i){const e="You must specify control properties in order to create it";g.warning(e);n.reject(new Error(e));return n.promise()}const p=r==="sap.m.Button"?"sap.ushell.ui.launchpad.ActionItem":r;const c=p.replace(/\./g,"/");sap.ui.require([c],e=>{let r=t.getElementById(i.id);if(!r){r=new e(i);R.addManagedControl(r.getId(),!a)}if(s){o.showActionButton(r.getId(),a,l)}n.resolve(r)},()=>{const e=`The control type ${p} is not available.`;g.error(e);n.reject(new Error(e))});return n.promise()};D.prototype.addActionButton=function(e,t,n,o,r){const i=this._sanitizeStates(r);let s=false;if(e==="sap.m.Button"){e="sap.ushell.ui.launchpad.ActionItem"}const a=e.replace(/\./g,"/");const l=sap.ui.require(a);if(l){s=true}else if(!w.get(e||"")){g.error(`Renderer.setFooterControl: the referenced control resource ${e} is not available.`,undefined,"sap.ushell.renderer.Renderer");return undefined}const p=this.createItem(t,o,t=>{if(e){if(s){return new l(t)}const n=w.get(e||"");return new n(t)}g.warning("You must specify control type in order to create it");return undefined});if(n){this.showActionButton(p.getId(),o,i)}return p};D.prototype.addFloatingButton=function(e){const n=new jQuery.Deferred;const o=this;let r;const i=e.controlType||"sap.m.Button";const s=e.oControlProperties;const a=e.bIsVisible;const l=e.bCurrentState;const p=e.aStates;if(!s){g.warning("You must specify control properties in order to create it");n.reject(new Error("You must specify control properties in order to create it"));return n.promise()}const c=i.replace(/\./g,"/");sap.ui.require([c],e=>{r=t.getElementById(s.id);if(!r){r=new e(s);R.addManagedControl(r.getId(),!l)}if(a){o.showFloatingActionButton(r.getId(),l,p)}n.resolve(r)});return n.promise()};D.prototype.addFloatingActionButton=function(e,t,n,o,r){const i=this._sanitizeStates(r);let s=false;if(!e){e="sap.m.Button"}const a=e.replace(/\./g,"/");const l=sap.ui.require(a);if(l){s=true}else if(!w.get(e||"")){g.error(`Renderer.setFooterControl: the referenced control resource ${e} is not available.`,undefined,"sap.ushell.renderer.Renderer");return undefined}const p=this.createItem(t,o,t=>{if(e){if(s){return new l(t)}const n=w.get(e||"");return new n(t)}g.warning("You must specify control type in order to create it");return undefined});if(n){this.showFloatingActionButton(p.getId(),o,i)}return p};D.prototype.addSidePaneContent=function(e){const n=new jQuery.Deferred;const o=this;let r;const i=e.controlType;const s=e.oControlProperties;const a=e.bIsVisible;const l=e.bCurrentState;const p=e.aStates;if(!i){g.warning("You must specify control type in order to create it");n.reject(new Error("You must specify control type in order to create it"));return n.promise()}if(!s){g.warning("You must specify control properties in order to create it");n.reject(new Error("You must specify control properties in order to create it"));return n.promise()}const c=i.replace(/\./g,"/");sap.ui.require([c],e=>{r=t.getElementById(s.id);if(!r){r=new e(s);R.addManagedControl(r.getId(),!l)}if(a){o.showLeftPaneContent(r.getId(),l,p)}n.resolve(r)});return n.promise()};D.prototype.addLeftPaneContent=function(e,t,n,o,r){const i=this._sanitizeStates(r);const s=e.replace(/\./g,"/");const a=sap.ui.require(s);let l;if(a){l=true}else if(!w.get(e||"")){g.error(`Renderer.setFooterControl: the referenced control resource ${e} is not available.`,undefined,"sap.ushell.renderer.Renderer");return undefined}const p=this.createItem(t,o,t=>{if(e){if(l){return new a(t)}const n=w.get(e||"");return new n(t)}g.warning("You must specify control type in order to create it");return undefined});if(n){this.showLeftPaneContent(p.getId(),o,i)}return p};D.prototype.addHeaderItem=function(e,t,n,o,i){if(typeof arguments[0]==="object"&&typeof arguments[1]==="boolean"){t=arguments[0];n=arguments[1];o=arguments[2];i=arguments[3]}else{g.error("sap.ushell.renderer.Renderer: The parameter 'controlType' of the function 'addHeaderItem' is deprecated. Usage will be ignored!")}const s=this._sanitizeStates(i);const a=this.createItem(t,o,e=>{if(r.last("/core/shellBar/enabled")){const t=sap.ui.require("sap/ushell/gen/ui5/webcomponents/dist/Button");e={...e,click:e.press};delete e.press;if(e.ariaHaspopup){e.accessibilityAttributes={...e.accessibilityAttributes||{},hasPopup:e.ariaHaspopup};delete e.ariaHaspopup}return new t(e)}return new A(e)});if(n){this.showHeaderItem(a.getId(),o,s)}return a};D.prototype.addRightFloatingContainerItem=function(e,t,n,o){const r=this._sanitizeStates(o);const i=this.createItem(e,n,e=>new v(e).addStyleClass("sapUshellNotificationsListItem"));if(t){this.showRightFloatingContainerItem(i.getId(),n,r)}return i};D.prototype.addToolAreaItem=function(e,t,n,r){const i=this._sanitizeStates(r);if(t!==null){e.visible=!!t}function s(e){return new o(e)}const a=this.createItem(e,n,s);if(t){this.showToolAreaItem([a.getId()],n,i);if(n){const e=R.getLaunchpadState();this.showToolArea(e,true)}else{i.forEach(e=>{this.showToolArea(e,true)})}}return a};D.prototype.addHeaderEndItem=function(e,t,n,o,i){if(typeof arguments[0]==="object"&&typeof arguments[1]==="boolean"){t=arguments[0];n=arguments[1];o=arguments[2];i=arguments[3]}const s=this._sanitizeStates(i);const a=this.createItem(t,o,e=>{if(r.last("/core/shellBar/enabled")){if(typeof e.press==="function"){e={...e,click:e.press}}delete e.press;delete e.ariaLabel;const t=sap.ui.require("sap/ushell/gen/ui5/webcomponents-fiori/dist/ShellBarItem");return new t(e)}return new A(e)});if(n){this.showHeaderEndItem(a.getId(),o,s)}return a};D.prototype.getModelConfiguration=function(){return this.shellCtrl.getModelConfiguration()};D.prototype.addEndUserFeedbackCustomUI=function(e,t){if(e||t){g.info("Application calls sap.ushell.Renderer.addEndUserFeedbackCustomUI. This function is deprecated. The call has no effect.")}};D.prototype.addUserPreferencesEntry=function(e){this.shellCtrl.addUserPreferencesEntry(e)};D.prototype.addUserPreferencesGroupedEntry=function(e){return this.shellCtrl.addUserPreferencesEntry(e,true)};D.prototype.setHeaderTitle=function(e){this.shellCtrl.setHeaderTitle(e)};D.prototype.setLeftPaneVisibility=function(e,t){if(!e){e=this.LaunchpadState.Home}R.updateBaseStates([e],"sidePane.visible",k.Set,t)};D.prototype.showToolArea=function(e,t){if(!e){e=this.LaunchpadState.Home}R.updateBaseStates([e],"toolArea.visible",k.Set,t)};D.prototype.setHeaderHiding=function(e){g.error("sap.ushell.Renderer.setHeaderHiding: Functionality was discontinued.")};D.prototype.setFloatingContainerContent=function(e,t,n){this._updateItemStates([e.getId()],t,n,"floatingContainer.items",k.Add)};D.prototype.setFloatingContainerVisibility=function(e){R.updateAllBaseStates("floatingContainer.visible",k.Set,e)};D.prototype.getFloatingContainerState=function(){return H.getModel().getProperty("/floatingContainer/state")};D.prototype.getFloatingContainerVisiblity=function(){return H.getModel().getProperty("/floatingContainer/visible")};D.prototype.getRightFloatingContainerVisibility=function(){return this.shellCtrl.getRightFloatingContainerVisibility()};D.prototype.setFloatingContainerDragSelector=function(e){R.updateAllBaseStates("floatingContainer.dragSelector",k.Set,e)};D.prototype.LaunchpadState={App:"app",Home:"home"};D.prototype.createTriggers=function(e,t,n){g.error("'createTriggers' was discontinued.")};D.prototype.convertButtonsToActions=function(e,n,o){const r=this._sanitizeStates(o);const i={};const s=this;e.forEach(e=>{const o=t.getElementById(e);i.id=o.getId();i.text=o.getText();i.icon=o.getIcon();i.tooltip=o.getTooltip();i.enabled=o.getEnabled();i.visible=o.getVisible();if(o.mEventRegistry&&o.mEventRegistry.press){i.press=o.mEventRegistry.press[0].fFunction}o.destroy();s.addActionButton("sap.ushell.ui.launchpad.ActionItem",i,i.visible,n,r)})};D.prototype.createItem=function(e,n,o){let r;if(e&&e.id){r=t.getElementById(e.id)}if(!r){r=o(e);R.addManagedControl(r.getId(),!n)}return r};D.prototype.addEntryInShellStates=function(){g.error("'addEntryInShellStates' was deprecated and discontinued.")};D.prototype.removeCustomItems=function(){g.error("'removeCustomItems' was deprecated and discontinued.")};D.prototype.addCustomItems=function(){g.error("'addCustomItems' was deprecated and discontinued.")};D.prototype.addRightViewPort=function(){};D.prototype.addLeftViewPort=function(){};D.prototype.getShellController=function(){return this.shellCtrl};D.prototype.getViewPortContainerCurrentState=function(){return"Center"};D.prototype.ViewPortContainerNavTo=function(e,t,n){this.shellCtrl.getNavContainer().navTo(t)};D.prototype.switchViewPortStateByControl=function(){};D.prototype.ViewPortContainerAttachAfterSwitchStateAnimationFinished=function(){};D.prototype.setUserActionsMenuSelected=function(e){this.shellCtrl.setUserActionsMenuSelected(e)};D.prototype.setNotificationsSelected=function(e){this.shellCtrl.setNotificationsSelected(e)};D.prototype.addShellDanglingControl=function(e){this.shellCtrl.getView().addDanglingControl(e)};D.prototype.getShellConfig=function(){return this.shellCtrl.getView().getViewData()?this.shellCtrl.getView().getViewData().config||{}:{}};D.prototype.getEndUserFeedbackConfiguration=function(){return{}};D.prototype.reorderUserPrefEntries=function(e){return this.shellCtrl._reorderUserPrefEntries(e)};D.prototype.logRecentActivity=function(e){if(!e.appType){e.appType=L.APP}if(!e.appId){e.appId=e.url}return this.shellCtrl._logRecentActivity(e)};D.prototype.setCurrentCoreView=function(e){this.currentCoreView=e};D.prototype.getCurrentCoreView=function(){return this.currentCoreView};D.prototype._isBuiltInIntent=function(e){if(!D._aBuiltInRoutes){const e=this.getManifestEntry("/sap.ui5/routing/routes");D._aBuiltInRoutes=e.reduce((e,t)=>e.concat(t.pattern),[])}if(!e||!e.semanticObject||!e.action){return false}const t=`${e.semanticObject}-${e.action}`;return D._aBuiltInRoutes.indexOf(t)!==-1};this.addTopHeaderPlaceHolder=function(){};this.removeTopHeaderPlaceHolder=function(){};D.prototype.updateHeaderItem=function(e,n){const o=t.getElementById(e);if(o&&n){if(n.hasOwnProperty("floatingNumber")){o.setFloatingNumber(n.floatingNumber)}}};D.prototype.destroyButton=function(e){if(!e){return}const n=Array.isArray(e)?e:[e];n.forEach(e=>{const n=t.getElementById(e);if(n){n.destroy()}})};D.prototype.waitForShellLayout=function(){return this.shellCtrl.getView().waitForShellLayout()};D.prototype.destroy=function(){const e=this.shellCtrl?this.shellCtrl.awaitPendingInitializations():Promise.resolve();return e.then(function(){return n.prototype.destroy.apply(this,arguments)}.bind(this)).then(()=>{P.destroyLayout()})};setTimeout(()=>{sap.ui.require(["sap/ushell/renderers/fiori2/Renderer"],()=>{})},0);return D});
//# sourceMappingURL=Renderer.js.map