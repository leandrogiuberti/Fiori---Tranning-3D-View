// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/i18n/Localization","sap/base/Log","sap/ui/core/Theming","sap/ushell/Config","sap/ushell/resources","sap/ushell/state/StateManager","sap/ushell/utils"],(t,e,o,s,i,a,n)=>{"use strict";const r=a.Operation;const l=sap.ui.require.toUrl("sap/ushell/themes/base/img/SAPLogo.svg");class c{#t=()=>{throw new Error("Favicon is not initialized")};#e=false;#o=[];init(){if(this.#e){return}this.#e=true;this.#t=this.#s.bind(this);o.attachApplied(this.#t);this.#o.push(s.on("/core/companyLogo/url").do(this.#t));this.#o.push(s.on("/core/companyLogo/accessibleText").do(this.#t))}async#i(){const t=s.last("/core/companyLogo/url");if(t){return t}const[e]=await n.getThemingParameters(["sapUiGlobalLogo"]);if(e){if(e==="none"){return l}const t=/url[\s]*\('?"?([^'")]*)'?"?\)/.exec(e);if(t){return t[1]}return""}return l}#a(o){if(!o){return""}if(o===l){return i.i18n.getText("sapLogoText")}const a=i.i18n.getText("SHELL_LOGO_TOOLTIP");let n;const r=s.last("/core/companyLogo/accessibleText");if(r){try{const e=JSON.parse(r);if(e){const o=t.getLanguage();n=e[o];if(!n){Object.keys(e).forEach(t=>{if(t.startsWith(o)){n=e[t]}})}if(!n){Object.keys(e).forEach(t=>{if(o.startsWith(t)){n=e[t]}})}if(!n){n=e.default}}}catch(t){e.warning(`Custom logo image ALT text is not a JSON string: '${r}'`,t);n=r}}return n||a}async#s(){const t=await this.#i();const e=this.#a(t);a.updateAllBaseStates("header.logo.src",r.Set,t);a.updateAllBaseStates("header.logo.alt",r.Set,e)}reset(){o.detachApplied(this.#t);this.#o.forEach(t=>t.off());this.#t=()=>{throw new Error("Favicon is not initialized")};this.#e=false;this.#o=[]}}return new c});
//# sourceMappingURL=HeaderLogo.js.map