// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/util/deepExtend","sap/ui/thirdparty/hasher","sap/ui/thirdparty/URI","sap/ushell/appIntegration/PostMessageManager","sap/ushell/Container","sap/ushell/services/Navigation/compatibility","sap/ushell/utils","sap/ushell/utils/UrlParsing"],(e,t,s,a,n,i,r,o)=>{"use strict";const c={};const l={"sap.ushell.services.Navigation.getHref":{async handler(e,t){const{oTarget:s}=e;const a=await n.getServiceAsync("Navigation");return a.getHref(s)}},"sap.ushell.services.Navigation.backToPreviousApp":{async handler(e,t){const s=await n.getServiceAsync("Navigation");await s.backToPreviousApp()}},"sap.ushell.services.Navigation.historyBack":{async handler(e,t){const{iSteps:s}=e;const a=await n.getServiceAsync("Navigation");a.historyBack(s)}},"sap.ushell.services.Navigation.isInitialNavigation":{async handler(e,t){const s=await n.getServiceAsync("Navigation");return s.isInitialNavigation()}},"sap.ushell.services.Navigation.navigate":{async handler(t,s){const{oTarget:a}=t;const i=await n.getServiceAsync("Navigation");const o=e({},a);r.storeSapSystemToLocalStorage(o);await i.navigate(o)}},"sap.ushell.services.Navigation.getPrimaryIntent":{async handler(e,t){const{sSemanticObject:s,oLinkFilter:a}=e;const i=await n.getServiceAsync("Navigation");return i.getPrimaryIntent(s,a)}},"sap.ushell.services.Navigation.getLinks":{async handler(e,t){const s=e;const a=await n.getServiceAsync("Navigation");return a.getLinks(s)}},"sap.ushell.services.Navigation.getSemanticObjects":{async handler(e,t){const s=await n.getServiceAsync("Navigation");return s.getSemanticObjects()}},"sap.ushell.services.Navigation.isNavigationSupported":{async handler(e,t){const{aTargets:s}=e;const a=await n.getServiceAsync("Navigation");return a.isNavigationSupported(s)}},"sap.ushell.services.Navigation.resolveIntent":{async handler(e,t){const{sHashFragment:s}=e;const a=await n.getServiceAsync("Navigation");return a.resolveIntent(s)}},"sap.ushell.services.Navigation.isUrlSupported":{async handler(e,t){const{sUrl:s}=e;const a=await n.getServiceAsync("Navigation");await a.isUrlSupported(s)}},"sap.ushell.services.CrossApplicationNavigation.hrefForExternal":{async handler(e,t){const{oArgs:s}=e;const a=await n.getServiceAsync("Navigation");return a.getHref(s)}},"sap.ushell.services.CrossApplicationNavigation.getSemanticObjectLinks":{async handler(e,t){const{sSemanticObject:s,mParameters:a,bIgnoreFormFactors:n,sAppStateKey:r,bCompactIntents:o}=e;return i.getSemanticObjectLinks(s,a,n,undefined,r,o)}},"sap.ushell.services.CrossApplicationNavigation.isIntentSupported":{async handler(e,t){const{aIntents:s}=e;return i.isIntentSupported(s)}},"sap.ushell.services.CrossApplicationNavigation.isNavigationSupported":{async handler(e,t){const{aIntents:s}=e;const a=await n.getServiceAsync("Navigation");return a.isNavigationSupported(s)}},"sap.ushell.services.CrossApplicationNavigation.backToPreviousApp":{async handler(e,t){const s=await n.getServiceAsync("Navigation");return s.backToPreviousApp()}},"sap.ushell.services.CrossApplicationNavigation.historyBack":{async handler(e,t){const{iSteps:s}=e;const a=await n.getServiceAsync("Navigation");return a.historyBack(s)}},"sap.ushell.services.CrossApplicationNavigation.toExternal":{async handler(t,s){const{oArgs:a}=t;const i=await n.getServiceAsync("Navigation");const o=e({},a);r.storeSapSystemToLocalStorage(o);await i.navigate(o)}},"sap.ushell.services.CrossApplicationNavigation.expandCompactHash":{async handler(e,t){const{sHashFragment:s}=e;const a=await n.getServiceAsync("NavTargetResolutionInternal");const i=a.expandCompactHash(s);return r.promisify(i)}},"sap.ushell.services.CrossApplicationNavigation.getDistinctSemanticObjects":{async handler(e,t){const s=await n.getServiceAsync("Navigation");return s.getSemanticObjects()}},"sap.ushell.services.CrossApplicationNavigation.getLinks":{async handler(e,t){const s=e;return i.getLinks(s)}},"sap.ushell.services.CrossApplicationNavigation.getPrimaryIntent":{async handler(e,t){const{sSemanticObject:s,mParameters:a}=e;const i=await n.getServiceAsync("Navigation");return i.getPrimaryIntent(s,a)}},"sap.ushell.services.CrossApplicationNavigation.hrefForAppSpecificHash":{async handler(e,t){const{sAppHash:s}=e;const a=await n.getServiceAsync("Navigation");return a.getHref({appSpecificRoute:s})}},"sap.ushell.services.CrossApplicationNavigation.isInitialNavigation":{async handler(e,t){const s=await n.getServiceAsync("Navigation");return s.isInitialNavigation()}},"sap.ushell.services.CrossApplicationNavigation.setInnerAppRoute":{async handler(e,s){const{appSpecificRoute:a,writeHistory:n}=e;const i=o.parseShellHash(t.getHash());if(i.appSpecificRoute===a){return}i.appSpecificRoute=a;const r=`#${o.constructShellHash(i)}`;t.disableBlueBoxHashChangeTrigger=true;if(n===true||n==="true"){t.setHash(r)}else{t.replaceHash(r)}t.disableBlueBoxHashChangeTrigger=false}},"sap.ushell.services.CrossApplicationNavigation.resolveIntent":{async handler(e,t){const{sHashFragment:s}=e;const a=await n.getServiceAsync("Navigation");return a.resolveIntent(s)}},"sap.ushell.services.ShellNavigation.toExternal":{async handler(e,t){const{oArgs:s,bWriteHistory:a}=e;const i=await n.getServiceAsync("ShellNavigationInternal");i.toExternal(s,undefined,a)}},"sap.ushell.services.ShellNavigation.toAppHash":{async handler(e,t){const{sAppHash:s,bWriteHistory:a}=e;const i=await n.getServiceAsync("ShellNavigationInternal");i.toAppHash(s,a)}},"sap.ushell.services.ShellNavigationInternal.toExternal":{async handler(e,t){const{oArgs:s,bWriteHistory:a}=e;const i=await n.getServiceAsync("ShellNavigationInternal");i.toExternal(s,undefined,a)}},"sap.ushell.services.ShellNavigationInternal.toAppHash":{async handler(e,t){const{sAppHash:s,bWriteHistory:a}=e;const i=await n.getServiceAsync("ShellNavigationInternal");i.toAppHash(s,a)}},"sap.ushell.services.NavTargetResolution.getDistinctSemanticObjects":{async handler(e,t){const s=await n.getServiceAsync("NavTargetResolutionInternal");const a=s.getDistinctSemanticObjects();return r.promisify(a)}},"sap.ushell.services.NavTargetResolution.expandCompactHash":{async handler(e,t){const{sHashFragment:s}=e;const a=await n.getServiceAsync("NavTargetResolutionInternal");const i=a.expandCompactHash(s);return r.promisify(i)}},"sap.ushell.services.NavTargetResolution.resolveHashFragment":{async handler(e,t){const{sHashFragment:s}=e;const a=await n.getServiceAsync("NavTargetResolutionInternal");const i=a.resolveHashFragment(s);return r.promisify(i)}},"sap.ushell.services.NavTargetResolution.isIntentSupported":{async handler(e,t){const{aIntents:s}=e;const a=await n.getServiceAsync("NavTargetResolutionInternal");const i=a.isNavigationSupported(s);const o=await r.promisify(i);return o.reduce((e,t,a)=>{const n=s[a];e[n]=t;return e},{})}},"sap.ushell.services.NavTargetResolution.isNavigationSupported":{async handler(e,t){const{aIntents:s}=e;const a=await n.getServiceAsync("NavTargetResolutionInternal");const i=a.isNavigationSupported(s);return r.promisify(i)}},"sap.ushell.services.NavTargetResolutionInternal.getDistinctSemanticObjects":{async handler(e,t){const s=await n.getServiceAsync("NavTargetResolutionInternal");const a=s.getDistinctSemanticObjects();return r.promisify(a)}},"sap.ushell.services.NavTargetResolutionInternal.expandCompactHash":{async handler(e,t){const{sHashFragment:s}=e;const a=await n.getServiceAsync("NavTargetResolutionInternal");const i=a.expandCompactHash(s);return r.promisify(i)}},"sap.ushell.services.NavTargetResolutionInternal.resolveHashFragment":{async handler(e,t){const{sHashFragment:s}=e;const a=await n.getServiceAsync("NavTargetResolutionInternal");const i=a.resolveHashFragment(s);return r.promisify(i)}},"sap.ushell.services.NavTargetResolutionInternal.isIntentSupported":{async handler(e,t){const{aIntents:s}=e;const a=await n.getServiceAsync("NavTargetResolutionInternal");const i=a.isNavigationSupported(s);const o=await r.promisify(i);return o.reduce((e,t,a)=>{const n=s[a];e[n]=t;return e},{})}},"sap.ushell.services.NavTargetResolutionInternal.isNavigationSupported":{async handler(e,t){const{aIntents:s}=e;const a=await n.getServiceAsync("NavTargetResolutionInternal");const i=a.isNavigationSupported(s);return r.promisify(i)}},"sap.ushell.services.UserDefaultParameters.getValue":{async handler(e,t){const{sParameterName:s}=e;const[a,i]=await Promise.all([n.getServiceAsync("AppLifeCycle"),n.getServiceAsync("UserDefaultParameters")]);const r=await a.getCurrentApplication().getSystemContext();return i.getValue(s,r)}},"sap.ushell.services.ReferenceResolver.resolveReferences":{async handler(e,t){const{aReferences:s}=e;const a=await n.getServiceAsync("ReferenceResolver");return a.resolveReferences(s)}},"sap.ushell.services.AppLifeCycle.getFullyQualifiedXhrUrl":{async handler(e,t){const{path:a}=e;if(!a){return}const i=await n.getServiceAsync("AppLifeCycle");const r=await i.getCurrentApplication().getSystemContext();const o=r.getFullyQualifiedXhrUrl(a);let c="";let l="";let p="";const g=n.getFLPUrl(true);const v=new s(g);if(v.protocol()){l=`${v.protocol()}://`}if(v.hostname()){c=v.hostname()}if(v.port()){p=`:${v.port()}`}const u=l+c+p+o;return u}},"sap.ushell.services.AppLifeCycle.getSystemAlias":{async handler(e,t,s){const a=t.getCurrentAppTargetResolution();const n=a.systemAlias;const i=a.contentProviderId;const[o]=await r.requireAsync(["sap/ushell/ApplicationType/systemAlias"]);return o.getSystemAliasInProvider(n,i)},options:{provideApplicationContext:true}}};return{register(){Object.keys(c).forEach(e=>{const t=c[e];a.setDistributionPolicy(e,t)});Object.keys(l).forEach(e=>{const t=l[e];a.setRequestHandler(e,t.handler,t.options)})}}});
//# sourceMappingURL=NavigationHandler.js.map