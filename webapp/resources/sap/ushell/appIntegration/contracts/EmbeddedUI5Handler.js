// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/base/util/Deferred","sap/ui/core/EventBus","sap/ushell/Container","sap/ushell/UI5ComponentType","sap/ushell/utils","sap/ushell/utils/UrlParsing"],(e,t,n,o,i,s,a)=>{"use strict";class p{async createApp(e,t,s){const p=t?.ui5ComponentName;n.getInstance().publish("ApplicationContainer","_prior.newUI5ComponentInstantion",{name:p});const c=await o.getServiceAsync("Ui5ComponentLoader");const r=a.getBasicHash(t.sFixedShellHash);t.ui5ComponentId=`application-${r}-component`;e.setUi5ComponentId(t.ui5ComponentId);await c.createComponent(t,s,[],i.Application)}async getNavigationRedirectHash(e){const t=e.getComponentHandle();if(!t){return}const n=t.getInstance({});if(!n){return}if(typeof n.navigationRedirect!=="function"){return}const o=n.navigationRedirect();if(!o||typeof o.then!=="function"){return}try{const e=await s.promisify(o);return e}catch{}}async storeApp(e){const t=e.getCurrentAppTargetResolution();n.getInstance().publish("sap.ushell","appKeepAliveDeactivate",t);const o=e.getComponentHandle();const i=o.getInstance();if(i.isKeepAliveSupported?.()){i.deactivate();return}if(typeof i.suspend==="function"){i.suspend()}const s=i.getRouter?.();if(s&&typeof s.stop==="function"){s.stop()}}async restoreAppAfterNavigate(e,t){const o=e.getCurrentAppTargetResolution();n.getInstance().publish("sap.ushell","appKeepAliveActivate",o);const i=e.getComponentHandle();const s=i.getInstance();if(s.isKeepAliveSupported?.()){s.activate();return}if(typeof s.restore==="function"){s.restore()}const a=s.getRouter?.();if(a&&typeof a.initialize==="function"){const e=!t.useLegacyRestoreFlow;a.initialize(e)}}}return new p});
//# sourceMappingURL=EmbeddedUI5Handler.js.map