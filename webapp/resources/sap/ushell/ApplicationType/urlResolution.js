// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/util/deepExtend","sap/ui/thirdparty/URI","sap/ushell/ApplicationType/systemAlias","sap/ushell/ApplicationType/utils","sap/ushell/Config"],(e,s,t,n,a)=>{"use strict";function i(i,p,l){const r=i.inbound;const o=r&&r.resolutionResult;const c={};const u=new s(p);const m=e({},i.mappedIntentParamsPlusSimpleDefaults);if(i.inbound&&i.inbound.action==="launchURL"&&i.inbound.semanticObject==="Shell"){delete m["sap-external-url"]}const y=m["sap-system"]&&m["sap-system"][0];const d=m["sap-system-src"]&&m["sap-system-src"][0];c["sap-system"]=y;delete m["sap-system"];if(typeof d==="string"){c["sap-system-src"]=d;delete m["sap-system-src"]}return new Promise((e,s)=>{if(n.absoluteUrlDefinedByUser(u,o.systemAlias,o.systemAliasSemantics)){e(p)}else{t.spliceSapSystemIntoURI(u,o.systemAlias,y,d,"URL",o.systemAliasSemantics||t.SYSTEM_ALIAS_SEMANTICS.applied,l).then(s=>{const t=s.toString();e(t)}).catch(s)}}).then(e=>{let s=false;const t=a.last("/core/navigation/flpURLDetectionPattern");const i=new RegExp(t);if(m&&m.hasOwnProperty("sap-params-append")){delete m["sap-params-append"];s=true}const p=n.getURLParsing().paramsToString(m);return i.test(e)||s===true?n.appendParametersToIntentURL(m,e):n.appendParametersToUrl(p,e)}).then(e=>{["additionalInformation","applicationDependencies","systemAlias"].forEach(e=>{if(r.resolutionResult.hasOwnProperty(e)){c[e]=r.resolutionResult[e]}});c.url=e;c.text=r.title;c.applicationType="URL";return Promise.resolve(c)})}return{generateURLResolutionResult:i}});
//# sourceMappingURL=urlResolution.js.map