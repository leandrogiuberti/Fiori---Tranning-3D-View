// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/utils/UrlParsing","sap/ushell/ApplicationType/systemAlias","sap/ushell/utils","sap/ui/thirdparty/URI","sap/base/util/ObjectPath"],(e,s,t,a,n)=>{"use strict";const i=new a(document.URL).search(true);function r(){return e}function l(e,t,a){if(!a||a===s.SYSTEM_ALIAS_SEMANTICS.applied){return s.isAbsoluteURI(e)&&!t}if(a===s.SYSTEM_ALIAS_SEMANTICS.apply){return s.isAbsoluteURI(e)}throw new Error(`Invalid system alias semantics: '${a}'`)}function p(e,s){let t;let a;let n;if(typeof s==="string"){n=s}else{n=decodeURI(s.toString())}if(e){const s=n.match(/#.*/);if(s){a=s;t=n.replace(s,"")}else{t=n;a=""}n=t+(n.indexOf("?")<0?"?":"&")+e+a}return n}function o(s,t){const a=t.match(/#.*/);const n=a&&a[0];if(!n){const a=e.paramsToString(s);return p(a,t)}const i=e.parseShellHash(n);Object.keys(s).forEach(e=>{const t=s[e];i.params[e]=[t]});const r=Object.keys(i.params).reduce((e,s)=>{const t=i.params[s];const a=t.map(e=>encodeURIComponent(e));e[encodeURIComponent(s)]=a;return e},{});i.params=r;const l=t.replace(n,"");const o=e.constructShellHash(i);return`${l}#${o}`}function f(e,s){if(e["sap-system"]&&e["sap-system"]!==null&&e["sap-system"]!==undefined&&e["sap-system"]!==""){e.systemAlias=e["sap-system"]}else{e.systemAlias=s.systemAlias}if(e.systemAlias===undefined){delete e.systemAlias}}function u(e,s,a){const n={appParams:{},system:undefined};if(e&&e.mappedIntentParamsPlusSimpleDefaults){n.appParams=JSON.parse(JSON.stringify(e.mappedIntentParamsPlusSimpleDefaults))}if(s){const e=t.getMember(s,"sap|app.destination");if(typeof e==="string"&&e.length>0){n.system=a.systemAliases[e]&&JSON.parse(JSON.stringify(a.systemAliases[e]));if(typeof n.system==="object"){n.system.alias=e}}}return n}function c(e,s,t){if(e.url){const a=e.url.indexOf("#");let n=e.url;let i="";if(a>0){n=e.url.slice(0,a);i=e.url.slice(a)}e.url=`${n+(n.indexOf("?")>=0?"&":"?")+s}=${t}${i}`}}function m(e,s){if(s){c(e,"sap-iframe-hint",s)}}function d(e,s){const t=e.intentParamsPlusAllDefaults;if(t&&t["sap-post"]&&t["sap-post"][0]==="false"){s.openWithPostByAppParam=false}}function y(e){let s;if(i&&i.hasOwnProperty("sap-keep-alive")){s=i["sap-keep-alive"]}else{s=n.get("extendedInfo.appParams.sap-keep-alive",e);if(Array.isArray(s)){s=s[0]}}if(s!==undefined){c(e,"sap-keep-alive",s)}}return{getURLParsing:r,appParameterToUrl:c,appendParametersToUrl:p,appendParametersToIntentURL:o,absoluteUrlDefinedByUser:l,setSystemAlias:f,getExtendedInfo:u,addIframeCacheHintToURL:m,checkOpenWithPost:d,addKeepAliveToURLTemplateResult:y}});
//# sourceMappingURL=utils.js.map