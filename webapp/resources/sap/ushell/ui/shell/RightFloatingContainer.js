// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/i18n/Localization","sap/ui/core/Control","sap/ui/thirdparty/jquery","sap/ushell/resources","sap/ushell/library"],(e,t,jQuery,i)=>{"use strict";const n=t.extend("sap.ushell.ui.shell.RightFloatingContainer",{metadata:{library:"sap.ushell",properties:{size:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"56px"},top:{type:"string",group:"Appearance",defaultValue:"0"},right:{type:"string",group:"Appearance",defaultValue:"0"},textVisible:{type:"boolean",group:"Appearance",defaultValue:true},insertItemsWithAnimation:{type:"boolean",group:"Appearance",defaultValue:true,deprecated:true},hideItemsAfterPresentation:{type:"boolean",group:"Appearance",defaultValue:false},enableBounceAnimations:{type:"boolean",group:"Appearance",defaultValue:false},actAsPreviewContainer:{type:"boolean",group:"Appearance",defaultValue:false}},aggregations:{floatingContainerItems:{type:"sap.ui.core.Control",multiple:true}},events:{afterRendering:{}}},renderer:{apiVersion:2,render:function(t,n){const s=e.getRTL();t.openStart("aside",n);t.class("sapUshellRightFloatingContainer");t.style("top",`${n.getTop()}rem`);t.attr("aria-label",i.i18n.getText("FloatingContainer_AriaLabel"));t.style(s?"left":"right",`${n.getRight()}rem`);t.attr("data-role","alert");t.openEnd();t.openStart("ul");t.class("sapUshellNotificationListContainer");t.attr("role","list");t.openEnd();this.renderFloatingContainerItems(t,n);t.close("ul");t.close("aside")},renderFloatingContainerItems:function(e,t){const i=t.getInsertItemsWithAnimation();const n=t.getActAsPreviewContainer();const s=t.getFloatingContainerItems();let a;for(a=0;a<s.length;a++){if(n&&!i){s[a].addStyleClass("sapUshellNonAnimatedNotificationListItem")}else if(s[a].hasStyleClass("sapUshellNonAnimatedNotificationListItem")){s[a].addStyleClass("sapUshellNotificationsListItem");s[a].addStyleClass("sapUshellRightFloatingContainerItemBackToViewport");s[a].addStyleClass("sapUshellRightFloatingContainerItemHidden");s[a].addStyleClass("sapUshellRightFloatingContainerItmHeightVisible");s[a].removeStyleClass("sapUshellNonAnimatedNotificationListItem")}e.renderControl(s[a])}}}});n.prototype.init=function(){let e;addEventListener("resize",()=>{clearTimeout(e);e=setTimeout(this._handleResize.bind(this),100)});this.iRequiredItemsNumber=5};n.prototype.onBeforeRendering=function(){};n.prototype._setSize=function(){};n.prototype._handleResize=function(){if(this.getDomRef()&&this.getFloatingContainerItems().length){const e=this.iRequiredItemsNumber;const t=window.innerHeight;const i=this.getDomRef();const n=i.getBoundingClientRect().top;const s=jQuery(".sapUiSizeCompact").length>0?56:64;const a=this.$().find("li").eq(0);let o;if(!a.length){return}const l=a[0].clientHeight;const r=jQuery("#sapUshellDashboardFooter").outerHeight();this.iRequiredItemsNumber=Math.min(parseInt((t-n-s-r)/l,10),5);if(e!==this.iRequiredItemsNumber){o=this.getFloatingContainerItems();for(let e=0;e<o.length;e++){if(e<this.iRequiredItemsNumber||isNaN(this.iRequiredItemsNumber)){o[e].removeStyleClass("sapUshellShellHidden")}else{o[e].addStyleClass("sapUshellShellHidden")}}}}};n.prototype.onAfterRendering=function(){this.fireAfterRendering();setTimeout(()=>{this._handleResize()},500);this.addStyleClass("sapContrastPlus");this.addStyleClass("sapContrast");this.addStyleClass("sapUshellNotificationsListItem")};n.prototype.setVisible=function(e){this.setProperty("visible",e,true);if(e){jQuery(this.getDomRef()).css("visibility","visible")}else{jQuery(this.getDomRef()).css("visibility","hidden")}};n.prototype.setFloatingContainerItemsVisiblity=function(e){const t=this.getFloatingContainerItems();const i=e?300:0;const n=this.getInsertItemsWithAnimation();function s(i){if(e){t[i].removeStyleClass("sapUshellRightFloatingContainerItemBounceOut").addStyleClass("sapUshellRightFloatingContainerItemBounceIn")}else{t[i].removeStyleClass("sapUshellRightFloatingContainerItemBounceIn").addStyleClass("sapUshellRightFloatingContainerItemBounceOut")}}for(let a=0;a<t.length;a++){(function(a){return function(){if(n){setTimeout(()=>{s(a)},i+a*100)}else{t[a].setVisible(e)}}})(a)()}};n.prototype._animationBouncer=function e(t){function i(){if(!e._animationQueue.length){e._itemTimeoutId=undefined;return}const t=e._animationQueue.shift();t.addStyleClass("sapUshellRightFloatingContainerItmHeightVisible").addStyleClass("sapUshellRightFloatingContainerItemBounceIn");e._itemTimeoutId=setTimeout(i,100)}if(!e._animationQueue){e._animationQueue=[]}e._animationQueue.push(t);if(e._mainTimeoutId||e._itemTimeoutId){return}e._mainTimeoutId=setTimeout(()=>{e._mainTimeoutId=undefined;i()},500)};n.prototype.addFloatingContainerItem=function(e){this.addAggregation("floatingContainerItems",e);e.addStyleClass("sapContrastPlus");if(this.getInsertItemsWithAnimation()){e.addStyleClass("sapUshellNotificationsListItem");e.addStyleClass("sapUshellRightFloatingContainerItemHidden");if(this.getEnableBounceAnimations()){n.prototype._animationBouncer(e)}else{setTimeout(()=>{const t=this.getFloatingContainerItems();if(t.length>5){const e=t[t.length-1];e.addStyleClass("sapUshellRightFloatingContainerHideLastItem")}e.addStyleClass("sapUshellRightFloatingContainerItemBackToViewport").addStyleClass("sapUshellRightFloatingContainerItmHeightVisible")},500)}}else if(this.getActAsPreviewContainer()){e.addStyleClass("sapUshellNonAnimatedNotificationListItem")}if(this.getHideItemsAfterPresentation()){setTimeout(()=>{e.removeStyleClass("sapUshellRightFloatingContainerItemBackToViewport")},5e3)}};return n});
//# sourceMappingURL=RightFloatingContainer.js.map