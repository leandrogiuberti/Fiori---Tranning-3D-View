// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/m/Button","sap/m/ButtonRenderer","sap/m/library","sap/ushell/resources","sap/ushell/Container","sap/ushell/state/ShellModel"],(e,t,s,i,n,l,r)=>{"use strict";const a=i.URLHelper;const o=t.extend("sap.ushell.ui.footerbar.SendAsEmailButton",{metadata:{library:"sap.ushell",properties:{beforePressHandler:{type:"function",group:"Misc",defaultValue:null},afterPressHandler:{type:"function",group:"Misc",defaultValue:null}}},renderer:s});o.prototype.init=function(){if(t.prototype.init){t.prototype.init.apply(this,arguments)}this.setIcon("sap-icon://email");this.setText(n.i18n.getText("sendEmailBtn"));this.setTooltip(n.i18n.getText("sendEmailBtn_tooltip"));this.attachPress(()=>{const e=this.getBeforePressHandler();if(e){e()}this.sendAsEmailPressed(this.getAfterPressHandler())})};o.prototype.sendAsEmailPressed=function(t){if(l.inAppRuntime()){sap.ui.require(["sap/ushell/appRuntime/ui5/AppCommunicationMgr"],e=>{e.sendMessageToOuterShell("sap.ushell.services.ShellUIService.sendEmailWithFLPButton",{bSetAppStateToPublic:true})})}else{const t=document.URL;const s=r.getModel().getProperty("/application/title");const i=s===undefined?n.i18n.getText("linkToApplication"):`${n.i18n.getText("linkTo")} '${s}'`;l.getServiceAsync("AppState").then(s=>{s.setAppStateToPublic(t).done(e=>{a.triggerEmail(null,i,e)}).fail(e.error)})}if(t){t()}};return o});
//# sourceMappingURL=SendAsEmailButton.js.map