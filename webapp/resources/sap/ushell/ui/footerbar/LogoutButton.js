// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/m/ButtonRenderer","sap/m/MessageBox","sap/ui/core/ElementMetadata","sap/ushell/resources","sap/ushell/ui/launchpad/ActionItem","sap/ushell/ui/launchpad/LoadingDialog","sap/ushell/Container"],(t,e,i,o,n,s,a,l)=>{"use strict";const u=i.Action;const g=i.Icon;const p=s.extend("sap.ushell.ui.footerbar.LogoutButton",{metadata:{library:"sap.ushell"},renderer:e});p.prototype.init=function(){if(s.prototype.init){s.prototype.init.apply(this,arguments)}this.setIcon("sap-icon://log");this.setTooltip(n.i18n.getText("signoutBtn_tooltip"));this.setText(n.i18n.getText("signoutBtn_title"));this.attachPress(this.logout);this.setEnabled()};p.prototype.logout=function(){let t=true;let e=false;let s=new a({text:""});l.getGlobalDirty().done(p=>{t=false;if(e===true){s.exit();s=new a({text:""})}const r=n.i18n;let c;if(p===l.DirtyState.DIRTY){c={message:r.getText("unsaved_data_warning_popup_message"),icon:g.WARNING,messageTitle:r.getText("unsaved_data_warning_popup_title")}}else{c={message:r.getText("signoutConfirmationMsg"),icon:g.QUESTION,messageTitle:r.getText("signoutMsgTitle")}}i.show(c.message,c.icon,c.messageTitle,[u.OK,u.CANCEL],t=>{if(t===u.OK){s.openLoadingScreen();s.showAppInfo(n.i18n.getText("beforeLogoutMsg"),null);l.logout()}},o.uid("confirm"))});if(t===true){s.openLoadingScreen();e=true}};p.prototype.setEnabled=function(e){if(!l.isInitialized()){if(this.getEnabled()){t.warning("Disabling 'Logout' button: unified shell container not initialized",null,"sap.ushell.ui.footerbar.LogoutButton")}e=false}s.prototype.setEnabled.call(this,e)};return p});
//# sourceMappingURL=LogoutButton.js.map