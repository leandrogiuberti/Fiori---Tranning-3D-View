// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/services/Navigation","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/services/appstate/AppState","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/base/util/deepClone","sap/ushell/utils/UrlParsing","sap/ushell/appRuntime/ui5/services/Container"],(e,t,s,i,a,n,r)=>{"use strict";function o(o,p,u){e.call(this,o,p,u);this.getHref=function(e){return t.postMessageToFLP("sap.ushell.services.Navigation.getHref",{oTarget:e})};this.backToPreviousApp=function(){if(i.checkDataLossAndContinue()){return t.postMessageToFLP("sap.ushell.services.Navigation.backToPreviousApp")}return Promise.resolve()};this.historyBack=function(e){if(i.checkDataLossAndContinue()){t.postMessageToFLP("sap.ushell.services.Navigation.historyBack",{iSteps:e})}};this.isInitialNavigation=function(){return t.postMessageToFLP("sap.ushell.services.Navigation.isInitialNavigation",{})};this.navigate=function(e,s){if(i.getIsScube()){if(e.target&&e.target.shellHash){const t=n.parseShellHash(e.target.shellHash);if(t.params){delete t.params["sap-app-origin"];e.target.shellHash=n.constructShellHash(t)}}else if(e.params){delete e.params["sap-app-origin"]}return r.getServiceAsync("ShellNavigationInternal").then(t=>t.toExternal(e,s))}else if(i.checkDataLossAndContinue()){return t.postMessageToFLP("sap.ushell.services.Navigation.navigate",{oTarget:e})}return Promise.resolve()};this.getPrimaryIntent=async function(e,s){return t.postMessageToFLP("sap.ushell.services.Navigation.getPrimaryIntent",{sSemanticObject:e,oLinkFilter:s})};this._removeComponent=function(e){e.forEach(e=>{if(e){delete e.ui5Component}})};this.getLinksLocal=this.getLinks;this.getLinks=function(e=[]){if(!Array.isArray(e)){throw new Error("Unexpected Input: aLinkFilter has to be an array with plain objects!")}if(i.getIsScube()){return this.getLinksLocal(e).then(s=>{this._removeComponent(e);return t.postMessageToFLP("sap.ushell.services.Navigation.getLinks",e).then(e=>s.map((t,i)=>e[i].concat(s[i])))})}this._removeComponent(e);return t.postMessageToFLP("sap.ushell.services.Navigation.getLinks",e)};this.getSemanticObjectsLocal=this.getSemanticObjects;this.getSemanticObjects=function(){if(i.getIsScube()){return this.getSemanticObjectsLocal()}return t.postMessageToFLP("sap.ushell.services.Navigation.getSemanticObjects")};this.isNavigationSupported=function(e,s,n){function o(e){return t.postMessageToFLP("sap.ushell.services.Navigation.isNavigationSupported",{aTargets:e})}if(n===true){return o(e)}if(i.getIsScube()){const t=e.map(e=>{if(typeof e==="object"){let t=e;if(e.params&&e.params.hasOwnProperty("sap-app-origin")){t=a(e);delete t.params["sap-app-origin"]}return t}return e});return r.getServiceAsync("NavTargetResolutionInternal").then(e=>e.isNavigationSupported(t,s))}return o(e)};this.getAppState=function(e,i){return t.postMessageToFLP("sap.ushell.services.Navigation.getAppState",{sAppStateKey:i}).then(e=>r.getServiceAsync("AppState").then(t=>{const i=new s(t,e._sKey,e._bModifiable,e._sData,e._sAppName,e._sACHComponent,e._bTransient);return i}))};this.resolveIntentLocal=this.resolveIntent;this.resolveIntent=function(e){if(i.getIsScube()){return this.resolveIntentLocal(e)}return t.postMessageToFLP("sap.ushell.services.Navigation.resolveIntent",{sHashFragment:e})};this.isUrlSupported=function(e){return t.postMessageToFLP("sap.ushell.services.Navigation.isUrlSupported",{sUrl:e})}}o.prototype=e.prototype;o.hasNoAdapter=e.hasNoAdapter;return o},true);
//# sourceMappingURL=Navigation.js.map