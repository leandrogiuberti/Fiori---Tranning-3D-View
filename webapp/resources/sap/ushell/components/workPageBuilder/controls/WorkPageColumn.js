// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/m/Button","sap/m/library","sap/ui/core/Control","sap/ushell/components/workPageBuilder/controls/WorkPageButton","sap/ushell/components/workPageBuilder/controls/WorkPageColumnRenderer","sap/ushell/components/workPageBuilder/controls/WorkPageColumnResizer","sap/ushell/ui/launchpad/ExtendedChangeDetection"],(e,t,o,n,i,s,l)=>{"use strict";const d=t.ButtonType;const r=o.extend("sap.ushell.components.workPageBuilder.controls.WorkPageColumn",{metadata:{library:"sap.ushell",properties:{columnWidth:{type:"int",defaultValue:24,bindable:true},editMode:{type:"boolean",group:"Misc",defaultValue:false,bindable:true},ariaLabelPlaceholder:{type:"string",group:"Misc",defaultValue:"",bindable:true},deleteColumnButtonTooltip:{type:"string",group:"Misc",defaultValue:"",bindable:true},addColumnButtonTooltip:{type:"string",group:"Misc",defaultValue:"",bindable:true},addWidgetButtonText:{type:"string",group:"Misc",defaultValue:"",bindable:true}},dnd:{draggable:false,droppable:true},defaultAggregation:"cells",aggregations:{cells:{type:"sap.ushell.components.workPageBuilder.controls.WorkPageCell",multiple:true,singularName:"cell",bindable:true,dnd:true},_deleteButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_addWidgetButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_addButtonLeft:{type:"sap.ushell.components.workPageBuilder.controls.WorkPageButton",multiple:false,visibility:"hidden"},_addButtonRight:{type:"sap.ushell.components.workPageBuilder.controls.WorkPageButton",multiple:false,visibility:"hidden"},_resizer:{type:"sap.ushell.components.workPageBuilder.controls.WorkPageColumnResizer",multiple:false,visibility:"hidden"}},events:{addColumn:{left:{type:"boolean"}},addWidget:{},removeColumn:{},columnResized:{parameters:{posXDiff:{type:"float"}}},columnResizeCompleted:{}}},renderer:i});r.prototype.init=function(){this._fnHandleResize=this._handleResizerMoved.bind(this);this._fnHandleResizeCompleted=this._handleResizerReleased.bind(this);this._oResizer=(new s).setParent(this).attachEvent("resizerMoved",this._fnHandleResize).attachEvent("resizerReleased",this._fnHandleResizeCompleted);this._oCellsChangeDetection=new l("cells",this);o.prototype.init.apply(this,arguments)};r.prototype.exit=function(){this._oResizer.detachEvent("resizerMoved",this._fnHandleResize).detachEvent("resizerReleased",this._fnHandleResizeCompleted);this._oCellsChangeDetection.destroy();o.prototype.exit.apply(this,arguments)};r.prototype._createDeleteButton=function(){return new e(`${this.getId()}-deleteColumnButton`,{icon:"sap-icon://delete",tooltip:this.getDeleteColumnButtonTooltip(),press:function(){this.fireEvent("removeColumn")}.bind(this)}).addStyleClass("workPageColumnDeleteButton")};r.prototype.getDeleteButton=function(){if(!this.getAggregation("_deleteButton")){this.setAggregation("_deleteButton",this._createDeleteButton())}return this.getAggregation("_deleteButton")};r.prototype._createAddButton=function(e){const t=e==="left"?"workPageColumnButtonLeft":"workPageColumnButtonRight";return new n(`${this.getId()}-addColumnButton-${e}`,{icon:"sap-icon://add",tooltip:this.getAddColumnButtonTooltip(),press:function(){this.fireEvent("addColumn",{left:e==="left"})}.bind(this)}).addStyleClass(`workPageDividerButton ${t}`)};r.prototype.getAddButton=function(e){if(e==="left"){if(!this.getAggregation("_addButtonLeft")){this.setAggregation("_addButtonLeft",this._createAddButton("left"))}return this.getAggregation("_addButtonLeft")}if(!this.getAggregation("_addButtonRight")){this.setAggregation("_addButtonRight",this._createAddButton("right"))}return this.getAggregation("_addButtonRight")};r.prototype.getResizer=function(){return this._oResizer};r.prototype._handleResizerMoved=function(e){const t=e.getParameters();this.fireEvent("columnResized",t)};r.prototype._handleResizerReleased=function(){this.fireEvent("columnResizeCompleted")};r.prototype._createAddWidgetButton=function(){return new e(`${this.getId()}-addWidgetButton`,{text:this.getAddWidgetButtonText(),type:d.Emphasized,press:function(){this.fireEvent("addWidget")}.bind(this)}).addStyleClass("workPageAddWidgetButton")};r.prototype.getAddWidgetButton=function(){if(!this.getAggregation("_addWidgetButton")){this.setAggregation("_addWidgetButton",this._createAddWidgetButton())}return this.getAggregation("_addWidgetButton")};r.prototype.getCappedColumnCount=function(){const e=this.getParent();return e.getCappedColumnCount()};r.prototype.getIndex=function(){return this.getParent().indexOfAggregation("columns",this)};r.prototype.getMaxColumns=function(){return this.getParent().getMaxColumns()};return r});
//# sourceMappingURL=WorkPageColumn.js.map