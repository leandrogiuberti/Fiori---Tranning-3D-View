// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/m/library","sap/ui/core/ResizeHandler","sap/base/Log","sap/ui/model/json/JSONModel","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/utils"],(e,t,i,o,l,s,n)=>{"use strict";const r=e.TileSizeBehavior;function a(){this._oLayoutModel=new o({currentBreakpoint:{}})}a.prototype._onLayoutChange=function(){let e;if(!this._oControl){return}if(this._oControl instanceof Element){e=this._oControl}else{e=this._oControl.isA("sap.ui.core.Control")?this._oControl.getDomRef():null}if(!e){return}this.onResize({size:{width:e.getBoundingClientRect().width}})};a.prototype.register=function(e){if(this._sResizeHandlerId){i.warning("A ResizeHandler is already registered. Deregister first.");return}this._oControl=e;this._sResizeHandlerId=t.register(this._oControl,this.onResize.bind(this));l.on("/core/home/sizeBehavior").do(this._onLayoutChange.bind(this));s.on("themeChanged").do(this._onLayoutChange.bind(this))};a.prototype.getModel=function(){return this._oLayoutModel};a.prototype.deregister=function(){if(this._sResizeHandlerId){t.deregister(this._sResizeHandlerId);this._sResizeHandlerId=null}};a.prototype.onResize=async function(e){if(this.iWidth===e.size.width){return}this.iWidth=e.size.width;const t=await this._getBreakpointSettingsForWidth(e.size.width);this._oLayoutModel.setProperty("/currentBreakpoint",t)};a.prototype._getBreakpointSettingsForWidth=async function(e){const t=await this._getBreakpointSettings();for(const i in t){if(e<=t[i].high&&e>=t[i].low){return t[i]}}};a.prototype._formatNumericThemeParam=function(e){if(e&&e.indexOf(".")===0){e=`0${e}`}return e};a.prototype._getWorkPageColumnMinFlex=function(e){const t=this._oControl.getDomRef();if(!t){return 4}const i=t.querySelector(".workPageRowInner");if(!i){return 4}if(i.offsetWidth<=0){return 4}return Math.ceil(e/(i.offsetWidth/24))};a.prototype._getBreakpointSettings=async function(){const e=l.last("/core/home/sizeBehavior");const t=e===r.Small?r.Small:r.Responsive;const i=e===r.Small?"_sap_ushell_Tile_SpacingXS":"_sap_ushell_Tile_Spacing";const o=e===r.Small?"_sap_ushell_Tile_WidthXS":"_sap_ushell_Tile_Width";const s={"lt-lp":this._getWorkPageColumnMinFlex(416),"lt-sp":this._getWorkPageColumnMinFlex(400),"st-lp":this._getWorkPageColumnMinFlex(352),"st-sp":this._getWorkPageColumnMinFlex(336)};const[a,h]=await n.getThemingParameters([i,"_sap_ushell_Tile_SpacingXS"]);const m={lt:this._formatNumericThemeParam(a),st:this._formatNumericThemeParam(h)};const[p,u]=await n.getThemingParameters([o,"_sap_ushell_Tile_WidthXS"]);const g={lt:this._formatNumericThemeParam(p),st:this._formatNumericThemeParam(u)};return[{high:Infinity,low:1724,sizeBehavior:t,gap:m.lt,rowSize:g.lt,name:"lt-lp-4",maxColumnsPerRow:4,columnMinFlex:s["lt-lp"]},{high:1723,low:1660,sizeBehavior:t,gap:m.lt,rowSize:g.lt,name:"lt-sp-4",maxColumnsPerRow:4,columnMinFlex:s["lt-sp"]},{high:1659,low:1468,sizeBehavior:r.Small,gap:m.st,rowSize:g.st,name:"st-lp-4",maxColumnsPerRow:4,columnMinFlex:s["st-lp"]},{high:1467,low:1404,sizeBehavior:r.Small,gap:m.st,rowSize:g.st,name:"st-sp-4",maxColumnsPerRow:4,columnMinFlex:s["st-sp"]},{high:1403,low:1296,sizeBehavior:t,gap:m.lt,rowSize:g.lt,name:"lt-lp-3",maxColumnsPerRow:3,columnMinFlex:s["lt-lp"]},{high:1295,low:1248,sizeBehavior:t,gap:m.lt,rowSize:g.lt,name:"lt-sp-3",maxColumnsPerRow:3,columnMinFlex:s["lt-sp"]},{high:1247,low:1104,sizeBehavior:r.Small,gap:m.st,rowSize:g.st,name:"st-lp-3",maxColumnsPerRow:3,columnMinFlex:s["st-lp"]},{high:1103,low:1056,sizeBehavior:r.Small,gap:m.st,rowSize:g.st,name:"st-sp-3",maxColumnsPerRow:3,columnMinFlex:s["st-sp"]},{high:1055,low:880,sizeBehavior:t,gap:m.lt,rowSize:g.lt,name:"lt-lp-2",maxColumnsPerRow:2,columnMinFlex:s["lt-lp"]},{high:879,low:848,sizeBehavior:t,gap:m.lt,rowSize:g.lt,name:"lt-sp-2",maxColumnsPerRow:2,columnMinFlex:s["lt-sp"]},{high:847,low:752,sizeBehavior:r.Small,gap:m.st,rowSize:g.st,name:"st-lp-2",maxColumnsPerRow:2,columnMinFlex:s["st-lp"]},{high:751,low:720,sizeBehavior:r.Small,gap:m.st,rowSize:g.st,name:"st-sp-2",maxColumnsPerRow:2,columnMinFlex:s["st-sp"]},{high:719,low:456,sizeBehavior:t,gap:m.lt,rowSize:g.lt,name:"lt-lp-1",maxColumnsPerRow:1,columnMinFlex:s["lt-lp"]},{high:455,low:440,sizeBehavior:t,gap:m.lt,rowSize:g.lt,name:"lt-sp-1",maxColumnsPerRow:1,columnMinFlex:s["lt-sp"]},{high:439,low:392,sizeBehavior:r.Small,gap:m.st,rowSize:g.st,name:"st-lp-1",maxColumnsPerRow:1,columnMinFlex:s["st-lp"]},{high:391,low:376,sizeBehavior:r.Small,gap:m.st,rowSize:g.st,name:"st-sp-1",maxColumnsPerRow:1,columnMinFlex:s["st-sp"]},{high:375,low:0,sizeBehavior:r.Small,gap:m.st,rowSize:g.st,name:"st-sp-0",maxColumnsPerRow:1,columnMinFlex:s["st-sp"]}]};return new a});
//# sourceMappingURL=WorkPageBuilder.layout.js.map