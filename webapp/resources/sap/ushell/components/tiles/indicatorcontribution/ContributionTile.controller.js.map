{"version":3,"file":"ContributionTile.controller.js","names":["sap","ui","define","generic","mobileLibrary","Log","DeviationIndicator","ValueColor","Size","LoadState","FrameType","ContributionTileController","extend","onInit","this","KPI_VALUE_REQUIRED","_processDataForComparisonChart","data","measure","dimension","unitProperty","semanticColor","oConfig","TILE_PROPERTIES","semanticColorContribution","finalOutput","tempVar","unitValue","i","results","length","eachData","temp","title","toString","e","value","Number","calculatedValueForScaling","EVALUATION","SCALING","c","isCurrencyMeasure","ushell","components","tiles","indicatorTileUtils","util","getLocaleFormattedValue","DECIMAL_PRECISION","displayValue","color","push","fetchChartData","bRefreshClick","isAutoRefresh","fnSuccess","fnError","that","entitySet","ODATA_ENTITYSET","setThresholdValues","semanticMeasure","COLUMN_NAME","isRefreshClick","getBoolValue","cachedValue","cache","getKpivalueById","id","tempData","isDualTile","Data","JSON","parse","chipUpdateTime","oTileApi","configuration","getParameterValueAsString","isCacheValid","chipCacheTime","chipCacheTimeUnit","tilePressed","rightData","visible","isVisible","getView","getViewData","refresh","kpiValueFetchDeferred","variants","prepareFilterStructure","EVALUATION_FILTERS","ADDITIONAL_FILTERS","orderByObject","orderByElement","sortOrder","split","finalQuery","prepareQueryServiceUri","oRunTimeODataModel","uri","comparisionChartODataRef","model","read","writeData","unit","_updateTileModel","name","findTextPropertyForDimension","FINALVALUE","isCurM","isACurrencyMeasure","cacheData","cacheTime","getUTCDate","ChipId","stringify","CacheMaxAge","CacheMaxAgeUnit","CacheType","localCache","getLocalCache","updateDatajobScheduled","key","runningJob","getScheduledJob","clearTimeout","undefined","setKpivalueById","bUpdate","writeFrontendCacheByChipAndUserId","CachedTime","setTimeStamp","tempCacheData","avilableCacheData","oKpiTileView","getViewName","leftData","cacheWriteData","call","setNoData","empty","eObject","response","error","message","request","requestUri","kpiData","tileType","indexOf","Array","doProcess","DEFINITION_DATA","setTextInTile","kpiValue","CALCULATED_KPI_VALUE","frameType","TwoByOne","oGenericTile","setFrameType","removeAllTileContent","parentController","getTile","getModel","getData","deferredObj","resolve","OneByOne","addTileContent","oNVConfS","setState","Loaded","setToolTip","scheduleFetchDataJob","logError","doDummyProcess","size","Auto","state","Loading","valueColor","Error","indicator","None","footer","description"],"sources":["ContributionTile-dbg.controller.js"],"mappings":"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","ignoreList":[]}