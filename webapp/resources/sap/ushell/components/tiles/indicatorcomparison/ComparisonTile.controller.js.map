{"version":3,"file":"ComparisonTile.controller.js","names":["sap","ui","define","generic","mobileLibrary","Log","DeviationIndicator","ValueColor","Size","LoadState","FrameType","ComparisonTileController","extend","onInit","this","KPI_VALUE_REQUIRED","_processDataForComparisonChart","data","measure","unit","finalOutput","LABEL_MAPPING","i","tempObject","l","tempVar","aTitles","that","unitValue","eachData","results","length","ushell","components","tiles","indicatorTileUtils","util","getAllMeasuresWithLabelText","oTileApi","url","addSystemToServiceUrl","oConfig","EVALUATION","ODATA_URL","ODATA_ENTITYSET","key","value","columnName","TILE_PROPERTIES","COLUMN_NAMES","temp","columnObject","Number","COLUMN_NAME","calculatedValueForScaling","isEvaluationThresholdMeasure","tMeasures","_getEvaluationThresholdMeasures","mIndex","Array","prototype","indexOf","call","SCALING","c","isCurrencyMeasure","name","getLocaleFormattedValue","DECIMAL_PRECISION","displayValue","toString","color","semanticColor","title","isCurM","push","fetchChartData","bRefreshClick","isAutoRefresh","fnSuccess","fnError","checkIfDataPresent","columnNames","isPresent","entitySet","measures","j","isRefreshClick","getBoolValue","cachedValue","cache","getKpivalueById","id","tempData","isDualTile","Data","JSON","parse","chipUpdateTime","configuration","getParameterValueAsString","isCacheValid","chipCacheTime","chipCacheTimeUnit","tilePressed","rightData","visible","isVisible","getView","getViewData","refresh","kpiValueFetchDeferred","variants","prepareFilterStructure","EVALUATION_FILTERS","ADDITIONAL_FILTERS","finalQuery","prepareQueryServiceUri","oRunTimeODataModel","comparisionChartODataRef","model","read","uri","writeData","FINALVALUE","split","cacheData","cacheTime","getUTCDate","ChipId","stringify","CacheMaxAge","CacheMaxAgeUnit","CacheType","localCache","getLocalCache","updateDatajobScheduled","runningJob","getScheduledJob","clearTimeout","undefined","setKpivalueById","bUpdate","writeFrontendCacheByChipAndUserId","CachedTime","setTimeStamp","tempCacheData","avilableCacheData","cacheWriteData","setNoData","empty","eObject","response","error","message","request","requestUri","kpiData","tileType","e","doProcess","setTextInTile","kpiValue","CALCULATED_KPI_VALUE","_updateTileModel","frameType","TwoByOne","oKpiTileView","oGenericTile","setFrameType","parentController","getTile","getModel","getData","deferredObj","resolve","OneByOne","removeAllTileContent","addTileContent","oNVConfS","setState","Loaded","setToolTip","scheduleFetchDataJob","logError","doDummyProcess","size","Auto","state","Loading","valueColor","Error","indicator","None","footer","description"],"sources":["ComparisonTile-dbg.controller.js"],"mappings":"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","ignoreList":[]}