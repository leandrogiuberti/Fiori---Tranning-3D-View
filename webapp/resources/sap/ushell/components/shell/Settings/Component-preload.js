//@ui5-bundle sap/ushell/components/shell/Settings/Component-preload.js
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/Component", ["sap/ui/core/Element","sap/ui/core/mvc/XMLView","sap/ui/core/UIComponent","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/components/shell/Settings/userAccount/UserAccountEntry","sap/ushell/components/shell/Settings/appearance/AppearanceEntry","sap/ushell/components/shell/Settings/homepage/HomepageEntry","sap/ushell/components/shell/Settings/spaces/SpacesEntry","sap/ushell/components/shell/Settings/userActivities/UserActivitiesEntry","sap/ushell/components/shell/Settings/notifications/NotificationsEntry","sap/ushell/components/shell/Settings/userDefaults/UserDefaultsEntry","sap/ushell/ui/shell/ShellHeadItem","sap/ushell/utils","sap/ushell/Container","sap/ushell/state/StateManager"],(e,t,s,n,i,r,o,a,l,c,h,u,g,p,d,f,S)=>{"use strict";const m=S.Operation;const y=[];return s.extend("sap.ushell.components.shell.Settings.Component",{metadata:{version:"1.141.0",library:"sap.ushell",dependencies:{libs:{"sap.m":{},"sap.ui.layout":{lazy:true}}}},init:function(){s.prototype.init.apply(this,arguments);this._aInitPromises=[];const e=f.getRendererInternal("fiori2").getShellConfig();if(e.moveUserSettingsActionToShellHeader){this._aInitPromises.push(this._addUserSettingsButton().then(e=>{this.oSettingsBtn=e}))}this._addStandardEntityToConfig();this._addUserLanguageAndRegionSettings();if(n.last("/core/shell/model/enableNotifications")){this._addNotificationSettings()}y.push(i.on("openUserSettings").do(this._openUserSettings.bind(this)));this._pInitPromise=Promise.all(this._aInitPromises)},_updateUserPreferencesEntries:function(e){if(e){e=f.getRendererInternal("fiori2").reorderUserPrefEntries(e);n.emit("/core/userPreferences/entries",e)}},_addUserLanguageAndRegionSettings:function(){const e=f.getUser();e.getLanguageAndRegionSettingsEntry().then(e=>{const t=n.last("/core/userPreferences/entries");t.push(e.getEntry());this._updateUserPreferencesEntries(t)})},_addStandardEntityToConfig:function(){let e=n.last("/core/userPreferences/entries");e.push(o.getEntry());e.push(a.getEntry());if(c.isRelevant()){e.push(c.getEntry())}if(n.last("/core/shell/enableRecentActivity")){e.push(h.getEntry())}if(n.last("/core/shell/model/searchAvailable")){f.getFLPPlatform().then(t=>{if(t!=="MYHOME"){sap.ui.require(["sap/ushell/components/shell/Settings/search/SearchEntry"],t=>{t.getEntry().then(t=>{t.isActive().then(s=>{if(!s){return}d.setPerformanceMark("FLP -- search setting entry is set active");e=n.last("/core/userPreferences/entries");e.push(t);this._updateUserPreferencesEntries(e)})})})}})}if(n.last("/core/home/enableHomePageSettings")&&!n.last("/core/spaces/enabled")){e.push(l.getEntry())}if(n.last("/core/shell/model/userDefaultParameters")){e.push(g.getEntry())}e=f.getRendererInternal("fiori2").reorderUserPrefEntries(e);this._updateUserPreferencesEntries(e)},_addNotificationSettings:function(){f.getServiceAsync("NotificationsV2").then(e=>{e._userSettingInitialization();e._getNotificationSettingsAvailability().then(e=>{if(e.settingsAvailable){const e=n.last("/core/userPreferences/entries");e.push(u.getEntry());this._updateUserPreferencesEntries(e)}})}).catch(()=>{})},_openUserSettings:function(s){if(!this.oDialogPromise){this.oDialogPromise=t.create({id:"settingsView",viewName:"sap.ushell.components.shell.Settings.UserSettings"}).then(t=>{this.oSettingsView=t;const n=s.controlId||"shell-header";e.getElementById(n).addDependent(t);return t})}return this.oDialogPromise.then(e=>{e.getController().open(s?.targetEntryId)})},_addUserSettingsButton:async function(){let e;if(n.last("/core/shellBar/enabled")){const[t]=await d.requireAsync(["sap/ushell/gen/ui5/webcomponents-fiori/dist/ShellBarItem"]);e=new t({id:"userSettingsBtn",icon:"sap-icon://action-settings",text:r.i18n.getText("userSettings"),accessibilityAttributes:{hasPopup:"dialog"},click:this._openUserSettings.bind(this)})}else{e=new p({id:"userSettingsBtn",icon:"sap-icon://action-settings",text:r.i18n.getText("userSettings"),ariaHaspopup:"dialog",press:this._openUserSettings.bind(this)})}S.updateAllBaseStates("userActions.items",m.Add,e.getId());return e},exit:function(){for(let e=0;e<y.length;e++){y[e].off()}if(this.oSettingsView){this.oSettingsView.destroy();this.oSettingsView=null;this.oDialogPromise=null}if(this.oSettingsBtn){this.oSettingsBtn.destroy();this.oSettingsBtn=null}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/ErrorMessageHelper", ["sap/ui/core/Messaging"],e=>{"use strict";const s="sapUshellSettingsDialog/";function t(t){t.setTargets([s]);e.addMessages(t)}function a(){return e.getMessageModel().getData().filter(e=>e.getTargets()&&e.getTargets().indexOf(s)===0)}function g(){e.getMessageModel().getData().forEach(t=>{if(t.getTargets()&&t.getTargets().indexOf(s)===0){e.removeMessages(t)}})}return{addMessage:t,filterMessagesToDisplay:a,removeErrorMessages:g}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/UserSettings.controller", ["sap/base/Log","sap/ui/core/Element","sap/ui/core/mvc/Controller","sap/ui/core/Fragment","sap/ui/model/json/JSONModel","sap/ui/Device","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/utils/WindowUtils","sap/ushell/components/shell/Settings/ErrorMessageHelper","sap/ui/core/message/Message","sap/ui/core/message/MessageType","sap/ui/base/Object","sap/base/util/deepClone","sap/ushell/Container"],(e,t,s,n,i,r,o,a,l,d,c,u,g,h,f,p)=>{"use strict";return s.extend("sap.ushell.components.shell.Settings.UserSettings",{onInit:function(){const e=this.getView();const t=new i(r);t.setDefaultBindingMode("OneWay");e.setModel(t,"device");this._aPreviouslySelectedItems=[];e.byId("userSettingEntryList").addEventDelegate({onAfterRendering:this._listAfterRendering.bind(this)});this._mLoadedEntryContent=new Map;this._mLoadedWrappers=new Map;e.setModel(new i({}));e.setModel(l.i18nModel,"i18n");e.setModel(new i({entries:{}}),"results");r.orientation.attachHandler(this._fnOrientationChange,this);this._oSelectedItemOnMobile=null;this._oConfigDoable=o.on("/core/userPreferences/entries").do(this._processNewEntries.bind(this))},_fnOrientationChange:function(){const e=this.getView().byId("settingsApp");this._updateHeaderButtonVisibility(e.isMasterShown())},_formatDescription:function(e,t,s){if(t.length>1){return""}return s[e].valueResult||""},_processNewEntries:function(e){const t=this.getView();const s=t.getModel("results");e.forEach(e=>{const t=s.getProperty(`/entries/${e.id}`);if(!t){s.setProperty(`/entries/${e.id}`,{valueResult:null,contentResult:null})}this._setEntryValueResult(e.id)});const n=t.getModel();const i=t.byId("userSettingEntryList");let o=i.getSelectedItem();if(!r.system.phone&&!o){o=i.getItems()[0]}if(o){const e=o.getBindingContext().getObject();this._aPreviouslySelectedItems=e.tabs.map(e=>e.id)}n.setProperty("/entries",this._calculateEntryGroups(e));t.byId("userSettingEntryList").invalidate()},_calculateEntryGroups:function(e){const t=[];const s=new Map;const n=this.getView().getModel("results");e.forEach(e=>{if(e.visible===false){const t=n.getProperty(`/entries/${e.id}/contentResult`);if(t){this.getView().byId("settingsApp").removeDetailPage(t);n.setProperty(`/entries/${e.id}/contentResult`,null)}const s=a.last("UserSettingsOpened")||{};delete s[e.id];a.emit("UserSettingsOpened",s);return}if(e.groupingEnablement){n.setProperty(`/entries/${e.id}/contentResult`,null);const i=s.get(e.groupingId);if(i||i===0){t[i].tabs.push(e);return}s.set(e.groupingId,t.length)}e.tabs=[e];t.push(e)});return t},_afterClose:function(){if(window.document.activeElement&&window.document.activeElement.tagName==="BODY"){window.document.getElementById("userActionsMenuHeaderButton").focus()}},open:function(e){const t=this.byId("userSettingsDialog");if(e){this.sTargetEntryId=e}t.open()},_listAfterRendering:function(){const e=this.getView();const t=e.byId("userSettingEntryList");const s=t.getItems();let n;let i;s.forEach(e=>{const t=e.getBindingContext().getObject();this._setEntryValueResult(t.id);i=t?.tabs?.find(e=>e.id===this.sTargetEntryId)?.id;if(t.id===this.sTargetEntryId||i){n=e;this.sTargetEntryId=null}});if(!r.system.phone){if(!n&&this._aPreviouslySelectedItems){for(let e=0;e<this._aPreviouslySelectedItems.length;e++){for(let n=0;n<s.length;n++){const r=s[n];if(r.getBindingContext().getObject().id===this._aPreviouslySelectedItems[e]){t.setSelectedItem(r);this._toDetail(r,i);r.focus();return}}}}n=n||s[0];if(n){t.setSelectedItem(n);this._toDetail(n,i);n.focus()}}},_setEntryValueResult:function(t){let s;const n=this.getView().getModel("results");let i=o.last("/core/userPreferences/entries");let r=i.findIndex(e=>e.id===t);if(r===-1){return Promise.resolve()}return Promise.resolve().then(()=>{const a=i[r].title;const d=i[r].valueArgument;if(typeof d!=="function"){const e=n.getProperty(`/entries/${t}/valueResult`);if(e!==null&&e!==undefined){return e}return d}s=f(n.getProperty("/entries"));s[t].valueResult=l.i18n.getText("genericLoading");n.setProperty("/entries",s);return Promise.resolve().then(d).then(e=>{if(typeof e!=="object"){return e}if(e&&e.value!==undefined){i=o.last("/core/userPreferences/entries");r=i.findIndex(e=>e.id===t);if(r>-1){i[r].visible=!!e.value;o.emit("/core/userPreferences/entries",i)}}return e.displayText}).catch(t=>{e.error(`Can not load value for ${a} entry`,t);return l.i18n.getText("loadingErrorMessage")})}).then(e=>{s=f(n.getProperty("/entries"));s[t].valueResult=e||"";n.setProperty("/entries",s)})},_navBackButtonPressHandler:function(){const e=this.byId("settingsApp");e.backDetail();e.getCurrentDetailPage().setBusy(false);this._updateHeaderButtonVisibility(true)},_navToggleButtonPressHandler:function(){const e=this.byId("settingsApp");const t=e.isMasterShown();if(t){e.hideMaster()}else{e.showMaster()}this._updateHeaderButtonVisibility(!t)},_updateHeaderButtonVisibility:function(e){if(r.system.phone){const t=this.getView().byId("userSettingsNavBackButton");t.setVisible(!e)}else{const t=this.getView().byId("userSettingsMenuButton");if(r.orientation.portrait){t.setVisible(true);t.setPressed(e);t.setTooltip(l.i18n.getText(e?"ToggleButtonHide":"ToggleButtonShow"))}else{t.setVisible(false)}}},_afterMasterClose:function(){this._updateHeaderButtonVisibility(false)},_onSelectionChange:function(e){this.getView().byId("settingsApp").getCurrentDetailPage().setBusy(true);this._toDetail(e.getSource().getSelectedItem())},_toDetail:function(e,t){const s=this.getView();const n=s.getModel();const i=s.getModel("results");const a=s.byId("settingsApp");const l=e.getBindingContextPath();const d=n.getProperty(l);const c=d.id;const u=i.getProperty(`/entries/${c}/contentResult`);if(d.tabs){this._aPreviouslySelectedItems=d.tabs.map(e=>e.id)}else{this._aPreviouslySelectedItems=[c]}if(r.system.phone){this._oSelectedItemOnMobile=e;e.setSelected(false)}if(u){this._navToDetail(u,s);const e=d.tabs.map(e=>e.id).join("-");const n=this._mLoadedWrappers.get(e);if(n){n.then(e=>{const s=e.getContent()[1];if(t){s.setSelectedKey(t)}const n=s.getSelectedKey();const i=s.getItems();let r=i.findIndex(e=>e.getId()===n);if(r===-1){r=0}this._emitEntryOpened(d.tabs[r].id)});return Promise.resolve()}}return Promise.all([this._createContentWrapper(d),this._createEntryContent(d)]).then(n=>{const r=n[0];const l=n[1];const u=o.last("/core/userPreferences/entries");const g=u.some(e=>e.id===c&&e.visible!==false);const h=s.byId("userSettingEntryList");const f=h.getSelectedItem()||this._oSelectedItemOnMobile;const p=e===f;if(!g){if(p){if(a.getMode()==="ShowHideMode"){a.showMaster();this._updateHeaderButtonVisibility(true)}else{this._toDetail(f||h.getItems()[0])}}return}a.addDetailPage(r);if(d.tabs.length>1){r.getContent()[1].getItems()[0].addContent(l)}else{r.addContent(l)}const y=r.getId();i.setProperty(`/entries/${c}/contentResult`,y);if(t){const e=r.getContent()?.[1];e?.setSelectedKey(t)}if(p){this._navToDetail(y,s);this._emitEntryOpened(c)}return r.getId()})},_createEntryContent:function(e){if(!this._mLoadedEntryContent.get(e.id)){if(typeof e.contentFunc==="function"){this._mLoadedEntryContent.set(e.id,new Promise(t=>{e.contentFunc().then(e=>{if(h.isObjectA(e,"sap.ui.core.Control")){t(e)}else{this._createErrorContent(l.i18n.getText("loadingErrorMessage")).then(t)}}).catch(()=>{this._createErrorContent(l.i18n.getText("loadingErrorMessage")).then(t)})}))}else{this._mLoadedEntryContent.set(e.id,this._createErrorContent(l.i18n.getText("userSettings.noContent")))}}return this._mLoadedEntryContent.get(e.id)},_createContentWrapper:function(e){const s=e.tabs.map(e=>e.id);const r=s.join("-");if(!this._mLoadedWrappers.get(r)){this._mLoadedWrappers.set(r,n.load({name:"sap.ushell.components.shell.Settings.ContentWrapper",controller:{onTabSelected:function(s){const n=t.getElementById(s.getParameter("id"));const i=s.getParameter("item");const r=n.indexOfItem(i);const o=e.tabs[r];this._emitEntryOpened(o.id);this._createEntryContent(o).then(e=>{i.addContent(e)})}.bind(this)}}).then(t=>{t.setModel(new i({title:e.title,showHeader:!e.provideEmptyWrapper,tabs:e.tabs}),"entryInfo");return t}))}return this._mLoadedWrappers.get(r).then(t=>{const s=t.getContent()[1];const n=s.getSelectedKey();const i=s.getItems().findIndex(e=>e.getId()===n);if(i>-1){const t=e.tabs[i];this._emitEntryOpened(t.id)}return t})},_createErrorContent:function(e){return n.load({name:"sap.ushell.components.shell.Settings.ErrorContent"}).then(t=>{t.setModel(new i({errorMessage:e}));return t})},_navToDetail:function(e,t){const s=t.byId("settingsApp");s.getCurrentDetailPage().setBusy(false);s.toDetail(e);s.getCurrentDetailPage().setBusy(false);if(s.getMode()==="ShowHideMode"){s.hideMaster();this._updateHeaderButtonVisibility(false)}},_emitEntryOpened:function(e){const t=a.last("UserSettingsOpened")||{};t[e]=true;a.emit("UserSettingsOpened",t)},updateUserPreferences:function(){e.debug("[000] updateUserPreferences: ","UserSettings.controller");if(this._updateUserPreferencesPromise){return this._updateUserPreferencesPromise}let t;let s;this._updateUserPreferencesPromise=new Promise((e,n)=>{t=e;s=n});this._updateUserPreferencesPromise.sendRequest=function(){p.getServiceAsync("UserInfo").then(n=>{e.debug("[000] updateUserPreferences: sendRequest","UserSettings.controller");n.updateUserPreferences().done(t).fail(s).always(()=>{e.debug("[000] updateUserPreferences: sendRequest: _updateUserPreferencesPromise","UserSettings.controller");this._updateUserPreferencesPromise=null})})}.bind(this);return this._updateUserPreferencesPromise},_maybeReload:function(t){let s=false;let n=false;let i=false;let r=[];let o=[];t.forEach(e=>{if(e&&e.clearSapUserContextCookie){n=true}if(e&&e.refresh){s=true}if(e&&e.noHash){i=true}if(e&&e.urlParams&&e.urlParams.length>0){r=r.concat(e.urlParams)}if(e&&e.obsoleteUrlParams&&e.obsoleteUrlParams.length>0){o=o.concat(e.obsoleteUrlParams)}});if(s){e.debug("[000]refresh browser with Parameters:",JSON.stringify(r),"UserSettings.controller");if(n){d.clearSapUserContextCookie()}if(i){window.location=window.location.href.replace(window.location.hash,"")}else{d.refreshBrowser(r,o)}return true}},_handleSaveButtonPress:function(){c.removeErrorMessages();const t=this.getView().byId("userSettingsDialog");const s=o.last("/core/userPreferences/entries");const n=a.last("UserSettingsOpened")||{};if(Object.keys(n).length===0){this._handleSettingsDialogClose();this._showSuccessMessageToast();return Promise.resolve()}t.setBusy(true);const i=s.reduce((t,s)=>{if(n[s.id]){e.debug("[000] _handleSaveButtonPress: oEntry.id: ",s.id,"UserSettings.controller");t.push(this._executeEntrySave(s))}return t},[]);e.debug("[000] _handleSaveButtonPress:_updateUserPreferencesPromise",this._updateUserPreferencesPromise,"UserSettings.controller");if(this._updateUserPreferencesPromise){this._updateUserPreferencesPromise.sendRequest()}return Promise.all(i).then(s=>{e.debug("[000] _handleSaveButtonPress: then save aResults",JSON.stringify(s),"UserSettings.controller");const n=c.filterMessagesToDisplay();let i={};let r="";let o="";t.setBusy(false);this._handleSettingsDialogClose();if(n.length>0){i=n[0];r=i.getDescription();a.emit("UserSettingsOpened",null);n.forEach(e=>{o+=`Entry: ${e.getAdditionalText()} - Error message: ${e.getDescription()}\n`});e.error("Failed to save the following entries",o);if(this._maybeReload(s)){return}return p.getServiceAsync("MessageInternal").then(e=>{e.init();e.show(e.Type.ERROR,l.i18n.getText("userSettings.SavingError.SomeChanges"),{details:r})})}this._showSuccessMessageToast();a.emit("UserSettingsOpened",null);this._maybeReload(s)})},_executeEntrySave:function(t){let s;let n;function i(e){return e||{}}function r(s){e.debug("[000] _onError: errorInformation",JSON.stringify(s),"UserSettings.controller");let n;const i=t.id;const r=t.title;if(!s){n=l.i18n.getText("userSettings.SavingError.Undefined")}else if(typeof s==="string"){n=s}else if(Array.isArray(s)){s.forEach(e=>{e.setAdditionalText(r);e.setTechnicalDetails({pluginId:i});c.addMessage(e)});return}else if(h.isObjectA(s,"sap.ui.core.message.Message")){s.setAdditionalText(r);s.setTechnicalDetails({pluginId:i});c.addMessage(s);return}else{n=l.i18n.getText("userSettings.SavingError.WithMessage",[s.message])}c.addMessage(new u({type:g.Error,additionalText:r,technicalDetails:{pluginId:i},description:n,message:n}))}try{e.debug(`[000] onSave: oEntry.id: ${t.id}`,"UserSettings.controller");this._isExecuteEntrySavedInUserSettingsController=true;s=t.onSave(this.updateUserPreferences.bind(this))}catch(e){return r(e)}if(s){if(s.promise){e.warning(`jQuery.promise is used to save ${t.title} settings entry.\n`+"The using of jQuery.promise for onSave is deprecated. Please use the native promise instead.");n=new Promise(e=>{s.done(t=>{e(i(t))}).fail(t=>{e(r(t))})})}else{n=s.then(i).catch(r)}}else{n=Promise.resolve();e.warning(`${t.title} settings might not be saved correctly, it seems like the API contract is not correctly fullfilled.\n`+"Please contact the owner of the setting.")}return n},_showSuccessMessageToast:function(){sap.ui.require(["sap/m/MessageToast"],e=>{const t=l.i18n.getText("savedChanges");e.show(t,{offset:"0 -50"})})},_handleCancel:function(){const t=o.last("/core/userPreferences/entries");const s=a.last("UserSettingsOpened")||{};if(s){t.forEach(t=>{if(s[t.id]&&t.onCancel){try{t.onCancel()}catch(t){e.error("Failed to cancel the following entries",t)}}})}a.emit("UserSettingsOpened",null);this._handleSettingsDialogClose()},_handleSettingsDialogClose:function(){p.getUser().resetChangedProperties();if(r.system.phone){this.getView().byId("settingsApp").toMaster("settingsView--userSettingMaster")}this.getView().byId("userSettingsMessagePopoverBtn").setVisible(false);this.getView().byId("userSettingsDialog").close()},onExit:function(){this._oConfigDoable.off();r.orientation.detachHandler(this._fnOrientationChange,this)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/appearance/Appearance.controller", ["sap/base/Log","sap/ui/base/Object","sap/ui/core/Component","sap/ui/core/Theming","sap/ui/core/EventBus","sap/ui/core/message/Message","sap/ui/core/message/MessageType","sap/ui/core/mvc/Controller","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ui/thirdparty/jquery","sap/m/GroupHeaderListItem","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/User","sap/ushell/services/DarkModeSupport","sap/ushell/Container","sap/ushell/utils/LaunchpadError"],(e,t,o,s,n,i,r,a,c,h,jQuery,d,l,g,p,u,m,f,S)=>{"use strict";return a.extend("sap.ushell.components.shell.Settings.appearance.Appearance",{TILE_SIZE:{Small:0,Responsive:1,getName:function(e){return Object.keys(this)[e]}},onInit:function(){const e=this.getView();this.oUser=f.getUser();const t=e.getViewData();this.aThemeListFromServer=t.themeList||[];this.aThemeSets=t.themeSets||[];this.sThemeRoot=t.themeRoot;this.oPersonalizers={};e.setModel(p.i18nModel,"i18n");e.setModel(this.getConfigurationModel(),"config");this._oDarkModeModel=this.getDarkModeModel(this.aThemeListFromServer);e.setModel(this._oDarkModeModel,"darkMode");e.setModel(new h({options:this._getThemeListData(this.oUser.getTheme()),ariaTexts:{headerLabel:p.i18n.getText("Appearance")},deprecatedThemeSelected:this.bShowDeprecationMsg}));this._fnHandleThemeApplied=this._handleThemeApplied.bind(this);s.attachApplied(this._fnHandleThemeApplied)},onExit:function(){s.detachApplied(this._fnHandleThemeApplied)},onAvatarError:function(e){e.oSource.getBindingContext()?.setProperty("avatar","")},getThemeSetHeader:function(e){const t=this.aThemeSets.find(t=>e.key===t.id);const o=t?.label||p.i18n.getText("AppearanceIndividualThemes");return new d({title:o})},_getSelectedThemeData:function(){const e=this.getView().byId("themeList").getSelectedItem();return e?.getBindingContext()?.getProperty?.()},_getSelectedTheme:function(){return this._getSelectedThemeData()?.id||this.oUser.getTheme()},_getThemeListData:function(e){const t=this.aThemeListFromServer||[];const o=this.aThemeSets||[];const s=[];const n=this.sThemeRoot;function i(e){return o.filter(t=>!!t.set.themes?.find?.(t=>t?.id===e))}function r(e){if(n&&e?.avatarRuntimeUrl){return n+e.avatarRuntimeUrl}return undefined}this.bShowDeprecationMsg=false;if(!this._isThemeCofigurable()||this.oUser.isSetThemePermitted()===false){const o=t.find(t=>t?.id===e);return[{id:e,name:o?.name||e,icon:"sap-icon://palette",avatar:r(o),mode:"InlineSvg",deprecated:false,isSelected:true}]}t.forEach(e=>{const t=i(e?.id);if(t.length===0){t.push({})}t.forEach(t=>{const o=t?.set?.themes?.find?.(t=>t.id===e?.id);const n={id:e?.id,name:e?.name||e?.id||"",contrast:o?.contrast,colorScheme:o?.colorScheme,icon:"sap-icon://palette",avatar:r(e),mode:"Image",deprecated:e?.deprecated===true,setId:t.id,isSelected:false};s.push(n)})});if(this._areSetsVisible()){const e=p.i18n.getText("AppearanceAutomaticSelection");o.forEach(t=>{const o={id:t.id,name:e,icon:"sap-icon://sys-monitor",avatar:r(t),mode:"InlineSvg",deprecated:t.deprecated===true,setId:t.id,isSelected:false};s.push(o)})}const a=this.oUser.getThemeSet();let c;if(a){c=s.find(t=>t.id===e&&t.setId===a)}if(!c){c=s.find(t=>t.id===e)}if(this._isDarkModeActive()&&c?.setId){const e=s.find(e=>e.id===c.setId);if(e){c=e}}if(c){c.isSelected=true;this.bShowDeprecationMsg=c.deprecated}return s},_isThemeCofigurable:function(){return l.last("/core/shell/model/setTheme")!==false},getConfigurationModel:function(){const e=l.last("/core/shell/model/contentDensity")&&(c.system.desktop||c.system.combi);const t=l.last("/core/home/sizeBehaviorConfigurable");const o=l.last("/core/contentProviders/providerInfo/enabled")&&l.last("/core/contentProviders/providerInfo/userConfigurable");const s=l.last("/core/contentProviders/providerInfo/showContentProviderInfoOnVisualizations");const n=t||e||o;const i=new h({themeConfigurable:this._isThemeCofigurable(),sizeBehaviorConfigurable:t,tileSize:this.TILE_SIZE[l.last("/core/home/sizeBehavior")],contentDensityConfigurable:e,isCozyContentMode:document.body.classList.contains("sapUiSizeCozy"),textAlign:c.system.phone?"Left":"Right",showContentProviderInfoOnVisualizationsConfigurable:o,showContentProviderInfoOnVisualizationsSelected:s,displaySettingsTabVisible:n});return i},getDarkModeModel:function(){const e=new URLSearchParams(window.location.search);const t=!e.get("sap-theme")&&!e.get("sap-ui-theme");const o=this._isThemeCofigurable();const s=new h({enabled:o,detectionSupported:o&&t,detectionEnabled:o&&t&&this.oUser.getDetectDarkMode()});return s},onAfterRendering:function(){const e=this.getView().getModel("config").getProperty("/themeConfigurable");const t=this.getView().byId("themeList");t.toggleStyleClass("sapUshellThemeListDisabled",!e)},_handleThemeApplied:function(){const e=this.getView().getModel("config");if(e){const e=this._getThemeListData(this.oUser.getTheme());const t=this.getView().getModel();t.setProperty("/options",e);t.setProperty("/deprecatedThemeSelected",this.bShowDeprecationMsg)}},onCancel:function(){const e=this.getView().getModel("config");if(e.getProperty("/themeConfigurable")){const e=this.oUser.getTheme();const t=this.getView().getModel().getProperty("/options");t.forEach(t=>{t.isSelected=e===t.id});this.getView().getModel().setProperty("/options",t)}if(e.getProperty("/showContentProviderInfoOnVisualizationsConfigurable")){e.setProperty("/showContentProviderInfoOnVisualizationsSelected",l.last("/core/contentProviders/providerInfo/showContentProviderInfoOnVisualizations"))}if(e.getProperty("/contentDensityConfigurable")){e.setProperty("/isCozyContentMode",this.oUser.getContentDensity()==="cozy")}if(e.getProperty("/sizeBehaviorConfigurable")){e.setProperty("/tileSize",this.TILE_SIZE[l.last("/core/home/sizeBehavior")])}if(this._oDarkModeModel&&this._oDarkModeModel.getProperty("/enabled")){this._oDarkModeModel.setProperty("/detectionEnabled",this.oUser.getDetectDarkMode());this.oUser.resetChangedProperty("detectDarkMode")}},onSave:function(e){this._updateUserPreferences=e;const o=this.getView().getModel("config");const s=[];if(o.getProperty("/themeConfigurable")){s.push(this.onSaveThemes().then(()=>{g.emit("themeChanged",Date.now())}))}if(o.getProperty("/showContentProviderInfoOnVisualizationsConfigurable")){s.push(this.onSaveShowContentProviderInfoOnVisualizations())}if(o.getProperty("/contentDensityConfigurable")){s.push(this.onSaveContentDensity())}if(o.getProperty("/sizeBehaviorConfigurable")){s.push(this.onSaveTileSize())}if(this._oDarkModeModel&&this._oDarkModeModel.getProperty("/enabled")){s.push(this.onSaveDarkModeEnabled())}return Promise.all(s).then(e=>{const o=e.reduce((e,o)=>{if(o&&t.isObjectA(o,"sap.ui.core.message.Message")){e.push(o)}return e},[]);if(o.length>0){return Promise.reject(o)}})},onSaveThemesSuccess:function(e){e.resetChangedProperty("theme");e.resetChangedProperty("themeSet");return this._applyDarkMode()},onSaveThemes:function(){const t=this._getSelectedThemeData();let o=t?.id;const s=t?.setId;const n=this.oUser;const a=n.getTheme(u.prototype.constants.themeFormat.ORIGINAL_THEME);const c=n.getThemeSet();const h=(this.aThemeSets||[]).find(e=>e.id===o);if(h){const e=m.prototype.prefersDark()?"DARK":"LIGHT";const t=m.prototype.prefersContrast()?"HIGH":"LOW";const s=h.set.themes.find(o=>o.colorScheme===e&&o.contrast===t);o=s?.id||h.set.themes[0].id}this._oDarkModeModel.setProperty("/detectionEnabled",!!h);let d=false;if(o&&o!==a){f.getServiceAsync("UserInfo").then(e=>{e.updateThemeRoot(o)});n.setTheme(o);d=true}if(s!==c){n.setThemeSet(s);d=true}if(d){return this._updateUserPreferences(n).then(()=>this.onSaveThemesSuccess(n)).catch(t=>{if(!t.message.includes("THEME")){return this.onSaveThemesSuccess(n)}n.setTheme(a);n.resetChangedProperty("theme");n.setThemeSet(c);n.resetChangedProperty("themeSet");e.error("Can not save selected theme",t);throw new i({type:r.Error,description:t.message})})}return Promise.resolve()},_onSaveContentDensitySuccess:function(e){const t=this.oUser;t.resetChangedProperty("contentDensity");n.getInstance().publish("launchpad","toggleContentDensity",{contentDensity:e});g.emit("toggleContentDensity",{contentDensity:e});return new Promise(e=>{g.once("toggleContentDensity").do(()=>{e()})})},onSaveContentDensity:function(){const t=this.getView().getModel("config");const o=this.oUser;const s=t.getProperty("/isCozyContentMode")?"cozy":"compact";const n=o.getContentDensity();e.debug("[000] onSaveContentDensity","Appearance.controller");if(s!==n&&t.getProperty("/contentDensityConfigurable")){o.setContentDensity(s);e.debug("[000] onSaveContentDensity: sNewContentDensity",s,"Appearance.controller");return this._updateUserPreferences(o).then(()=>this._onSaveContentDensitySuccess(s)).catch(t=>{if(!t.message.includes("CONTENT_DENSITY")){return this._onSaveContentDensitySuccess()}o.setContentDensity(n);o.resetChangedProperty("contentDensity");e.error("Can not save content density configuration",t);throw new i({type:r.Error,message:t.message})})}return Promise.resolve()},onSaveTileSize:function(){const t=this.getView().getModel("config");const o=this.TILE_SIZE.getName(t.getProperty("/tileSize"));const s=l.last("/core/home/sizeBehavior");if(o&&o!==s&&t.getProperty("/sizeBehaviorConfigurable")){return new Promise((t,s)=>{this.writeToPersonalization("flp.settings.FlpSettings","sizeBehavior",o).then(()=>{l.emit("/core/home/sizeBehavior",o);const e=document.getElementsByClassName(".sapUshellTile");for(let t=0;t<e.length;t++){e[t].classList.toggle("sapUshellSmall",o!=="Responsive")}t()}).catch(t=>{e.error("Cannot save tile size configuration",t);let o;if(t instanceof S){o=new i({type:r.Error,description:t.message,message:t.details?.message.value,date:t.details?.innererror.timestamp,httpStatus:t.details?.httpStatus})}else{o=new i({type:r.Error,description:t.message,message:t.message})}s(o)})})}return Promise.resolve()},onSaveDarkModeEnabledSuccess:async function(e,t){e.resetChangedProperty("detectDarkMode");const o=await f.getServiceAsync("DarkModeSupport");o.toggleDetection(!!t)},onSaveDarkModeEnabled:function(){const t=this._oDarkModeModel.getProperty("/detectionEnabled");const o=this.oUser.getDetectDarkMode();const s=this.oUser;if(t!==o){e.debug("[000] onSaveDarkModeEnabled: setDetectDarkModeEnabled",t,"Appearance.controller");s.setDetectDarkMode(t);return this._updateUserPreferences(this.oUser).then(()=>this.onSaveDarkModeEnabledSuccess(s,t)).catch(n=>{if(!n.message.includes("THEME_DARKMODE_AUTO_DETECTION")){return this.onSaveDarkModeEnabledSuccess(s,t)}s.setDetectDarkMode(o);s.resetChangedProperty("detectDarkMode");e.error("Can not save dark mode configuration",n);throw new i({message:n.message})})}return Promise.resolve()},onSaveShowContentProviderInfoOnVisualizations:function(){const t=l.last("/core/contentProviders/providerInfo/showContentProviderInfoOnVisualizations");const o=this.getView().getModel("config").getProperty("/showContentProviderInfoOnVisualizationsSelected");if(o===t){return Promise.resolve()}return new Promise((t,s)=>{this.writeToPersonalization("flp.settings.FlpSettings","showContentProviderInfoOnVisualizations",o).then(()=>{l.emit("/core/contentProviders/providerInfo/showContentProviderInfoOnVisualizations",o);t()}).catch(t=>{e.error("Cannot save system info on tiles configuration",t);let o;if(t instanceof S){o=new i({type:r.Error,description:t.message,message:t.details?.message.value,date:t.details?.innererror.timestamp,httpStatus:t.details?.httpStatus})}else{o=new i({type:r.Error,description:t.message,message:t.message})}s(o)})})},writeToPersonalization:function(t,o,s){return this.getPersonalizer(t,o).then(e=>e.setPersData(s)).catch(t=>{e.error("Personalization service does not work:",t);throw t})},getPersonalizer:async function(e,t){const s=`${e}-${t}`;if(!this.oPersonalizers[s]){this.oPersonalizers[s]=f.getServiceAsync("PersonalizationV2").then(s=>{const n=o.getOwnerComponentFor(this.getView());const i={keyCategory:s.constants.keyCategory.FIXED_KEY,writeFrequency:s.constants.writeFrequency.LOW,clientStorageAllowed:true};return s.getPersonalizer({container:e,item:t},i,n)})}return this.oPersonalizers[s]},_applyDarkMode:async function(){if(this._areSetsVisible()){const e=await f.getServiceAsync("DarkModeSupport");e.toggleDetection(this._isDarkModeActive())}},_isDarkModeActive:function(){const e=this._oDarkModeModel.getProperty("/");return e.enabled&&e.detectionSupported&&e.detectionEnabled},_areSetsVisible:function(){const e=this._oDarkModeModel.getProperty("/");return e.enabled&&e.detectionSupported},changeSystemModeDetection:function(){const e=this.getView().getModel();e.setProperty("/options",this._getThemeListData(this._getSelectedTheme()));e.setProperty("/deprecatedThemeSelected",this.bShowDeprecationMsg);this.getView().invalidate()}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/appearance/AppearanceEntry", ["sap/ui/core/mvc/XMLView","sap/base/Log","sap/ushell/resources","sap/ushell/Container"],(e,t,n,r)=>{"use strict";let o;function s(){if(o){return Promise.resolve(o)}return r.getServiceAsync("UserInfo").then(e=>new Promise(n=>{e.getThemeList().done(e=>{o=e;n(o)}).fail(()=>{t.error("Failed to load theme list.");n({})})}))}function i(){let o;const i={id:"themes",entryHelpID:"themes",title:n.i18n.getText("Appearance"),valueResult:null,contentResult:null,icon:"sap-icon://palette",valueArgument:function(){return s().then(e=>{const t=e?.options||[];const n=r.getUser().getTheme();const o=t.find(e=>e?.id===n);return o?.name||""})},contentFunc:function(){return s().then(t=>e.create({id:"userPrefThemeSelector",viewName:"sap.ushell.components.shell.Settings.appearance.Appearance",viewData:{themeList:t?.options||[],themeSets:t?.sets||[],themeRoot:t?.themeRoot}})).then(e=>{o=e;return e})},onSave:function(e){if(o){return o.getController().onSave(e)}t.warning("Save operation for appearance settings was not executed, because the userPrefThemeSelector view was not initialized");return Promise.resolve()},onCancel:function(){if(o){o.getController().onCancel();return}t.warning("Cancel operation for appearance settings was not executed, because the userPrefThemeSelector view was not initialized")}};return i}return{getEntry:i}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/homepage/HomepageEntry", ["sap/base/Log","sap/ui/core/mvc/XMLView","sap/ui/model/json/JSONModel","sap/ushell/components/SharedComponentUtils","sap/ushell/Config","sap/ushell/resources","sap/ushell/Container"],(e,t,n,o,s,a,r)=>{"use strict";const i={scroll:0,tabs:1,getName:function(e){return Object.keys(this)[e]}};return{getEntry:function(){let l;return{id:"homepageEntry",entryHelpID:"homepageEntry",title:a.i18n.getText("FlpSettings_entry_title"),valueResult:null,contentResult:null,icon:"sap-icon://home",valueArgument:null,contentFunc:function(){let r;return o.getEffectiveHomepageSetting("/core/home/homePageGroupDisplay","/core/home/enableHomePageSettings").then(e=>{r=e;return t.create({id:"UserSettingsHomepageSettingsView",viewName:"sap.ushell.components.shell.Settings.homepage.HomepageSetting"})}).then(e=>{l=e;l.setModel(new n({displayMode:i[r]||i.scroll,personalisationEnabled:s.last("/core/shell/enablePersonalization")}));l.setModel(a.i18nModel,"i18n");return l}).catch(t=>{e.error("Failed to get effective hompage setting.",t,"sap.ushell.components.ushell.settings.homepage.HomepageEntry");throw t})},onSave:function(){if(l){const t=l.getModel().getProperty("/displayMode");const n=i.getName(t);const a=r.getRendererInternal("fiori2");return o.getPersonalizer("homePageGroupDisplay",a).then(e=>e.setPersData(n)).then(()=>{s.emit("/core/home/homePageGroupDisplay",n)}).catch(t=>{e.error("Failed to save the anchor bar mode in personalization",t,"sap.ushell.components.ushell.settings.homepage.HomepageEntry");throw t})}e.warning("Save operation for user account settings was not executed, because the homepage view was not initialized");return Promise.resolve()},onCancel:function(){if(l){return}e.warning("Cancel operation for user account settings was not executed, because the homepage view was not initialized")},provideEmptyWrapper:false}}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/notifications/NotificationsEntry", ["sap/ui/core/mvc/XMLView","sap/base/Log","sap/ushell/Config","sap/ushell/resources"],(t,n,e,i)=>{"use strict";function o(){const e="notificationsSetting";const o="sap.ushell.components.shell.Settings.notifications.NotificationsSetting";let s;return{id:"notificationsEntry",entryHelpID:"notificationsEntry",title:i.i18n.getText("notificationSettingsEntry_title"),valueResult:null,contentResult:null,icon:"sap-icon://bell",valueArgument:null,contentFunc:function(){return t.create({id:e,viewName:o}).then(t=>{s=t;return t})},onSave:function(){if(s){return s.getController().onSave()}n.warning("Save operation for user account settings was not executed, because the notifications view was not initialized");return Promise.resolve()},onCancel:function(){if(s){s.getController().onCancel();return}n.warning("Cancel operation for user account settings was not executed, because the notifications view was not initialized")}}}return{getEntry:o}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/notifications/NotificationsSetting.controller", ["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ushell/Config","sap/base/Log","sap/ushell/resources","sap/base/util/deepClone","sap/ushell/Container"],(e,t,o,i,r,n,s)=>{"use strict";return e.extend("sap.ushell.components.shell.Settings.notifications.NotificationsSetting",{onInit:function(){this._oModel=new t({rows:[],originalRows:[]});const e=this.getView();let o;e.setBusy(true);e.setModel(r.i18nModel,"i18n");s.getServiceAsync("NotificationsV2").then(t=>{this._oNotificationService=t;this._initializeFlags();t.readSettings().then(e=>{o=JSON.parse(e);this._oModel.setProperty("/rows",o.value);this._oModel.setProperty("/originalRows",n(o.value))}).finally(()=>{e.setBusy(false);e.setModel(this._oModel)})})},onAfterRendering:function(){const e=this._oModel.getProperty("/flags");const t=this._oModel.getProperty("/rows");if(t!==undefined){this._oModel.setProperty("/originalRows",n(t))}if(e!==undefined){this._oModel.setProperty("/originalFlags/highPriorityBannerEnabled",e.highPriorityBannerEnabled)}},onCancel:function(){const e=this._oModel.getProperty("/originalFlags");const t=this._oModel.getProperty("/originalRows");this._oModel.setProperty("/flags/highPriorityBannerEnabled",e.highPriorityBannerEnabled);this._oModel.setProperty("/rows",n(t));this._oModel.setProperty("/originalFlags",{});this._oModel.setProperty("/originalRows",[])},onSave:function(){const e=this._oModel.getProperty("/rows");const t=this._oModel.getProperty("/originalRows");let o;let r;const n=[];const s=[];for(let i=0;i<e.length;i++){o=e[i];r=t[i];if(this._notficationSettingsDiffer(o,r)){n.push(o)}}if(this._flagsHaveChanged()){this._handleFlagsSave()}n.forEach(e=>{s.push(this._oNotificationService.saveSettingsEntry(e))});return Promise.all(s).catch(e=>{i.error("Failed to save the notification settings in the notifivation service.",e,"sap.ushell.components.ushell.settings.notifications.NotificationsSetting");throw e})},_flagsHaveChanged:function(){return this._oModel.getProperty("/flags/highPriorityBannerEnabled")!==this._oModel.getProperty("/originalFlags/highPriorityBannerEnabled")},_handleFlagsSave:function(){const e=this._oModel.getProperty("/flags/highPriorityBannerEnabled");this._oModel.setProperty("/originalFlags/highPriorityBannerEnabled",e);this._oNotificationService.setUserSettingsFlags({highPriorityBannerEnabled:e})},_notficationSettingsDiffer:function(e,t){return e.NotificationTypeId!==t.NotificationTypeId||e.PriorityDefault!==t.PriorityDefault||e.DoNotDeliver!==t.DoNotDeliver||e.DoNotDeliverMob!==t.DoNotDeliverMob||e.DoNotDeliverEmail!==t.DoNotDeliverEmail},onSelectMobile:function(e){const t=e.getSource().getBindingContext().getPath();this._oModel.setProperty(`${t}/DoNotDeliverMob`,!e.getParameter("selected"))},onSelectEmail:function(e){const t=e.getSource().getBindingContext().getPath();this._oModel.setProperty(`${t}/DoNotDeliverEmail`,!e.getParameter("selected"))},onSelectHighPriority:function(e){const t=e.getSource().getBindingContext().getPath();if(e.getParameter("selected")){this._oModel.setProperty(`${t}/PriorityDefault`,"HIGH")}else{this._oModel.setProperty(`${t}/PriorityDefault`,"")}},onEnableSwitchChange:function(e){const t=e.getParameter("state");const o=e.getSource().getBindingContext().getPath();this._oModel.setProperty(`${o}/DoNotDeliver`,!t);this._oModel.setProperty(`${o}/DoNotDeliverMob`,true);this._oModel.setProperty(`${o}/DoNotDeliverEmail`,true);this._oModel.setProperty(`${o}/PriorityDefault`,"")},_initializeFlags:function(){const e=this._oNotificationService.getUserSettingsFlags();const t=this._oNotificationService._getNotificationSettingsMobileSupport();const o=this._oNotificationService._getNotificationSettingsEmailSupport();e.then(e=>{this._oModel.setProperty("/flags",{});this._oModel.setProperty("/flags/highPriorityBannerEnabled",e.highPriorityBannerEnabled);this._oModel.setProperty("/flags/mobileNotificationsEnabled",t);this._oModel.setProperty("/flags/emailNotificationsEnabled",o);this._oModel.setProperty("/originalFlags",{});this._oModel.setProperty("/originalFlags/highPriorityBannerEnabled",e.highPriorityBannerEnabled)})}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/search/Search.controller", ["sap/ui/core/mvc/View","sap/ui/core/mvc/Controller"],(e,n)=>{"use strict";return n.extend("sap.ushell.components.shell.Settings.search.Search",{onInit:function(){this._loadContent()},_loadContent:function(){const n=this.getView().byId("searchContent");e.create({id:"searchPrefsDialogView",viewName:"module:sap/esh/search/ui/userpref/SearchPrefsDialog.view"}).then(e=>{n.addItem(e)})},onCancel:function(){this.oView.getModel().cancelPreferences()},onSave:function(){return this.oView.getModel().savePreferences()}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/search/SearchEntry", ["sap/base/Log","sap/ui/core/Lib","sap/ui/core/mvc/XMLView","sap/ushell/resources"],(e,n,r,t)=>{"use strict";let s=null;function i(){if(s){return s}s=n.load("sap.esh.search.ui").then(()=>new Promise((e,n)=>{sap.ui.require(["sap/esh/search/ui/userpref/SearchPrefsModel","sap/esh/search/ui/SearchShellHelperAndModuleLoader"],(n,r)=>{e(new n)})}));return s}function a(){return i().then(n=>{let s;const i={id:"search",entryHelpID:"search",title:t.i18n.getText("searchSetting"),valueResult:null,contentResult:null,icon:"sap-icon://search",isActive:n.isSearchPrefsActive.bind(n),valueArgument:function(){return n.isMultiProvider().then(e=>{if(e){return{value:1,displayText:""}}return n.isPersonalizedSearchActive().then(e=>({value:1,displayText:e?t.i18n.getText("sp.persSearchOn"):t.i18n.getText("sp.persSearchOff")}))})},contentFunc:function(){return n.asyncInit().then(()=>r.create({id:"searchView",viewName:"sap.ushell.components.shell.Settings.search.Search"})).then(e=>{e.setModel(n);s=e;return e})},onSave:function(){if(s){return s.getController().onSave()}e.warning("Save operation for search settings was not executed, because the search view was not initialized");return Promise.resolve()},onCancel:function(){if(s){s.getController().onCancel();return}e.warning("Cancel operation for search settings was not executed, because the search view was not initialized")},provideEmptyWrapper:false};return i})}return{getEntry:a}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/spaces/SpacesEntry", ["sap/base/Log","sap/ui/core/mvc/View","sap/ushell/resources","sap/ushell/Config","sap/ushell/utils","sap/ushell/Container"],(e,t,n,s,r,a)=>{"use strict";function o(){return a.getServiceAsync("UserInfo").then(e=>{const t=e.getUser().getShowMyHome();return n.i18n.getText(t?"settingsMyHomeShown":"settingsMyHomeHidden")})}function c(){const e=s.last("/core/spaces/enabled")&&s.last("/core/spaces/myHome/enabled")&&!s.last("/core/homeApp/enabled");return e?o:null}return{isRelevant:function(){if(s.last("/core/spaces/configurable")){return true}if(s.last("/core/spaces/enabled")){if(s.last("/core/spaces/hideEmptySpaces/enabled")){return true}const e=s.last("/core/spaces/myHome/enabled");const t=s.last("/core/homeApp/enabled");if(e&&!t){return true}}return false},getEntry:function(){let s;return{id:"spacesEntry",entryHelpID:"spaces",title:n.i18n.getText("spaces"),valueResult:null,contentResult:null,icon:"sap-icon://home",valueArgument:c(),contentFunc:function(){return Promise.all([a.getServiceAsync("UserInfo"),r.getHideEmptySpacesEnabled()]).then(e=>{const n=e[0];return t.create({id:"UserSettingsSpacesSettingsView",viewName:"sap.ushell.components.shell.Settings.spaces.SpacesSetting",type:"XML",viewData:{UserInfo:n}})}).then(e=>{s=e;return s})},onSave:function(t){if(s){return s.getController().onSave(t)}e.warning("Save operation for user account settings was not executed, because the spaces view was not initialized");return Promise.resolve()},onCancel:function(){if(s){s.getController().onCancel();return}e.warning("Cancel operation for user account settings was not executed, because the spaces view was not initialized")},provideEmptyWrapper:false,_setViewInstance:function(e){s=e},_getViewInstance:function(){return s}}}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/spaces/SpacesSetting.controller", ["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ushell/EventHub","sap/ushell/Config","sap/ushell/resources","sap/ushell/utils","sap/base/Log"],(e,s,t,o,r,n,c)=>{"use strict";return e.extend("sap.ushell.components.shell.Settings.spaces.SpacesSetting",{onInit:function(){const e=this.getView().getViewData();this.oUserInfoService=e.UserInfo;const n=this.oUserInfoService.getUser();const c=o.last("/core/spaces/enabled");const a=o.last("/core/homeApp/enabled");const p=o.last("/core/spaces/myHome/enabled");const i=c&&p&&!a;const l=n.getShowMyHome();const d=n.getImportBookmarksFlag();const m=d!=="done"&&d!=="not_required";const h=new s({spaces:{visible:o.last("/core/spaces/configurable"),selected:c},hideEmptySpaces:{visible:c&&o.last("/core/spaces/hideEmptySpaces/enabled"),selected:o.last("/core/spaces/hideEmptySpaces/userEnabled")},showMyHome:{visible:i,selected:l},showMyHomeImport:{visible:i&&l&&m,selected:d==="pending"}});this.getView().setModel(h);this.getView().setModel(r.i18nModel,"i18n");this.oImportBookmarksFlagListener=t.on("importBookmarksFlag").do(this._setMyHomeImportSelected.bind(this))},_setMyHomeImportSelected:function(e){const s=this.getView().getModel();s.setProperty("/showMyHomeImport/selected",e)},onExit:function(){this.oImportBookmarksFlagListener.off()},onSave:async function(e){let s=false;let r=false;const a=[];const p=this.getView().getModel();const i=this.oUserInfoService;const l=i.getUser();const d=o.last("/core/spaces/enabled");const m=p.getProperty("/spaces/selected");const h=o.last("/core/spaces/hideEmptySpaces/userEnabled");const g=p.getProperty("/hideEmptySpaces/selected");const y=l.getShowMyHome();const u=p.getProperty("/showMyHome/selected");const E=l.getImportBookmarksFlag()==="pending";const M=p.getProperty("/showMyHomeImport/selected");if(d!==m){l.setChangedProperties({propertyName:"spacesEnabled",name:"SPACES_ENABLEMENT"},d,m);r=true;s=true}if(y!==u){l.setShowMyHome(u);r=true;s=true}if(E!==M){const e=M?"pending":"dismissed";l.setImportBookmarksFlag(e);r=true;if(!s){t.emit("importBookmarksFlag",M)}}if(h!==g){const e=n.setHideEmptySpacesEnabled(g).catch(e=>{p.setProperty("/hideEmptySpaces/selected",h);throw e});a.push(e)}if(!r&&!a.length){return Promise.resolve()}c.debug("[000] SpacesSetting.controller.save");if(r){const s=new Promise((s,t)=>{e().then(()=>{l.resetChangedProperty("spacesEnabled");l.resetChangedProperty("showMyHome");l.resetChangedProperty("importBookmarks");s()}).catch(e=>{const o=e.message;if(!o.includes("SPACES_ENABLEMENT")&&!o.includes("MYHOME_ENABLEMENT")&&!o.includes("MYHOME_IMPORT_FROM_CLASSIC")){l.resetChangedProperty("spacesEnabled");l.resetChangedProperty("showMyHome");l.resetChangedProperty("importBookmarks");s()}else{p.setProperty("/spaces/selected",d);p.setProperty("/showMyHome/selected",y);l.resetChangedProperty("spacesEnabled");l.resetChangedProperty("showMyHome");l.resetChangedProperty("importBookmarks");t(e)}})});a.push(s)}return Promise.all(a).then(()=>({refresh:s,noHash:true}))},onCancel:function(){const e=this.getView().getModel();e.setProperty("/spaces/selected",o.last("/core/spaces/enabled"));e.setProperty("/showMyHome/selected",this.oUserInfoService.getUser().getShowMyHome());e.setProperty("/hideEmptySpaces/selected",o.last("/core/spaces/hideEmptySpaces/userEnabled"))}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/userAccount/UserAccountEntry", ["sap/ui/core/mvc/XMLView","sap/base/Log","sap/ushell/Config","sap/ushell/resources","sap/ushell/Container"],(e,t,n,o,r)=>{"use strict";function s(){const s=r.getRendererInternal("fiori2").getShellConfig();const c=s.enableUserImgConsent;const u=c?"userAccountSelector":"userAccountSetting";const l=c?"sap.ushell.components.shell.Settings.userAccount.UserAccountSelector":"sap.ushell.components.shell.Settings.userAccount.UserAccountSetting";const i=n.last("/core/shell/model/userImage/account")||"sap-icon://account";let a;const g={id:"userAccountEntry",entryHelpID:"userAccountEntry",title:o.i18n.getText("UserAccountFld"),valueResult:null,contentResult:null,icon:i,valueArgument:r.getUser().getFullName(),provideEmptyWrapper:true,contentFunc:function(){return e.create({id:u,viewName:l}).then(e=>{a=e;return e})},onSave:function(e){if(a){return a.getController().onSave(e)}t.warning("Save operation for user account settings was not executed, because the userAccount view was not initialized");return Promise.resolve()},onCancel:function(){if(a){a.getController().onCancel();return}t.warning("Cancel operation for user account settings was not executed, because the userAccount view was not initialized")}};return g}return{getEntry:s}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/userAccount/UserAccountSelector.controller", ["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/base/Log","sap/ushell/Config","sap/ushell/resources","sap/m/MessageBox","sap/m/MessageToast","sap/ushell/utils","sap/ushell/utils/WindowUtils","sap/ushell/Container"],(e,s,t,n,o,i,r,a,l,g)=>{"use strict";return e.extend("sap.ushell.components.shell.Settings.userAccount.UserAccountSelector",{onInit:function(){const e=g.getRendererInternal("fiori2").getShellConfig();const s=e.enableUserImgConsent;this.imgConsentEnabled=s||false;this.oUser=g.getUser();const i=this.getConfigurationModel();this.getView().setModel(o.i18nModel,"i18n");this.getView().setModel(i,"config");this.oUser.attachOnSetImage(()=>{i.setProperty("/icon",n.last("/core/shell/model/userImage/personPlaceHolder"))});g.getServiceAsync("PersonalizationV2").then(e=>e.isResetEntirePersonalizationSupported().then(e=>{if(!e){i.setProperty("/isResetPersonalizationVisible",false)}})).catch(e=>{t.error(`The personalization service could not be loaded because of: .${e.toString()}`)})},getConfigurationModel:function(){const e=new s({});const t=g.getUser();const o=n.last("/core/shell/model/userImage/personPlaceHolder")||"sap-icon://person-placeholder";e.setData({icon:o,name:t.getFullName(),id:t.getId(),mail:t.getEmail(),server:window.location.host,imgConsentEnabled:this.imgConsentEnabled,isImageConsentForUser:t.getImageConsent(),isResetPersonalizationVisible:this.isResetPersonalizationVisible||true,displayUserId:n.last("/core/userSettings/displayUserId")});return e},onCancel:function(){if(this.imgConsentEnabled){this.getView().getModel("config").setProperty("/isImageConsentForUser",this.oUser.getImageConsent())}},onSave:function(e){if(this.imgConsentEnabled){return this.onSaveUserImgConsent(e)}return Promise.resolve()},onSaveUserImgConsent:function(e){const s=this.oUser;const n=s.getImageConsent();const o=this.getView().getModel("config");const i=o.getProperty("/isImageConsentForUser");let r;t.debug("[000] onSaveUserImgConsent:current",i,"UserAccountSelector.controller");t.debug("[000] onSaveUserImgConsent:original",n,"UserAccountSelector.controller");if(n!==i){s.setImageConsent(i);return new Promise((i,a)=>{r=e();r.then(()=>{s.resetChangedProperty("isImageConsent");i()});r.catch(e=>{const r=e.message;if(!r.includes("ISIMAGECONSENT")){s.resetChangedProperty("isImageConsent");i()}else{s.setImageConsent(n);s.resetChangedProperty("isImageConsent");o.setProperty("/isImageConsentForUser",n);t.error("Failed to update user image consent",e);a(e)}})})}return Promise.resolve()},termsOfUserPress:function(){const e=this.getView().byId("termsOfUseTextFlexBox");const s=this.getView().byId("termsOfUseLink");const t=e.getVisible();e.setVisible(!t);s.setText(o.i18n.getText(t?"userImageConsentDialogShowTermsOfUse":"userImageConsentDialogHideTermsOfUse"))},showMessageBoxWarningDeletePersonalization:function(){i.warning(o.i18n.getText("userAccountResetPersonalizationWarningDialogDescription"),{onClose:this.resetEntirePersonalization.bind(this),actions:[i.Action.OK,i.Action.CANCEL],contentWidth:"600px"})},resetEntirePersonalization:function(e){if(e===i.Action.OK){this.getView().setBusy(true);g.getServiceAsync("PersonalizationV2").then(e=>e.resetEntirePersonalization().then(()=>{r.show(o.i18n.getText("userAccountResetPersonalizationWarningDialogSuccessToast"),{onClose:l.refreshBrowser})}).catch(this.showErrorMessageBox.bind(this))).catch(this.showErrorMessageBox.bind(this)).finally(()=>{this.getView().setBusy(false)})}},showErrorMessageBox:function(){i.error(o.i18n.getText("userAccountResetPersonalizationWarningDialogErrorDialog"),{actions:i.Action.CLOSE,contentWidth:"600px"})}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/userActivities/UserActivitiesEntry", ["sap/ui/core/mvc/XMLView","sap/base/Log","sap/ushell/resources"],(e,t,i)=>{"use strict";function n(){const n="userActivitiesSetting";const s="sap.ushell.components.shell.Settings.userActivities.UserActivitiesSetting";let r;return{id:"userActivitiesEntry",entryHelpID:"userActivitiesEntry",title:i.i18n.getText("userActivities"),valueResult:null,contentResult:null,icon:"sap-icon://laptop",valueArgument:null,groupingEnablement:true,groupingId:"userActivities",groupingTabHelpId:"userActivitiesEntryTab",groupingTabTitle:i.i18n.getText("userActivitiesTabName"),contentFunc:function(){return e.create({id:n,viewName:s}).then(e=>{r=e;return e})},onSave:function(){if(r){return r.getController().onSave()}t.warning("Save operation for user account settings was not executed, because the userActivities view was not initialized");return Promise.resolve()},onCancel:function(){if(r){r.getController().onCancel();return}t.warning("Cancel operation for user account settings was not executed, because the userActivities view was not initialized")}}}return{getEntry:n}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/userActivities/UserActivitiesSetting.controller", ["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ushell/components/SharedComponentUtils","sap/ushell/Config","sap/base/Log","sap/ushell/resources","sap/ushell/Container"],(e,t,s,i,n,o,r)=>{"use strict";return e.extend("sap.ushell.components.shell.Settings.userActivities.UserActivitiesSetting",{onInit:function(){const e=i.last("/core/shell/model/enableTrackingActivity")!==undefined?i.last("/core/shell/model/enableTrackingActivity"):true;this.oModel=new t({checkboxIsChecked:e});this.getView().setModel(this.oModel);this.getView().setModel(o.i18nModel,"i18n")},onCancel:function(){const e=i.last("/core/shell/model/enableTrackingActivity")!==undefined?i.last("/core/shell/model/enableTrackingActivity"):true;this.oModel.setProperty("/checkboxIsChecked",e)},onSave:function(){if(i.last("/core/shell/model/enableTrackingActivity")!==this.oModel.getProperty("/checkboxIsChecked")){return this._setTrackingToEnabled(this.oModel.getProperty("/checkboxIsChecked"))}return Promise.resolve()},_setTrackingToEnabled:function(e){return s.getPersonalizer("userActivitesTracking",r.getRendererInternal("fiori2")).then(t=>t.setPersData(e)).then(()=>{i.emit("/core/shell/model/enableTrackingActivity",e)}).catch(e=>{n.error("Failed to save the user activities tracking in personalization",e,"sap.ushell.components.ushell.settings.userActivities.UserActivitiesSetting");throw e})},onClearHistory:async function(){const e=await r.getServiceAsync("UserRecents");await e.clearRecentActivities();return new Promise((e,t)=>{sap.ui.require(["sap/m/MessageToast"],t=>{t.show(o.i18n.getText("historyCleared"));e()},t)})}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/userDefaults/Component", ["sap/ui/core/mvc/XMLView","sap/ui/core/UIComponent"],(t,n)=>{"use strict";return n.extend("sap.ushell.components.shell.Settings.userDefaults.Component",{metadata:{manifest:"json"},init:function(){n.prototype.init.apply(this,arguments)},onSave:function(){return this.getRootControl().getController().onSave()},onCancel:function(){this.getRootControl().getController().onCancel()},exit:function(){}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/userDefaults/UserDefaultsEntry", ["sap/base/Log","sap/ui/core/ComponentContainer","sap/ushell/resources","sap/ushell/Container"],(e,t,n,s)=>{"use strict";return{getEntry:function(){let a;return{id:"userDefaultEntry",entryHelpID:"defaultParameters",title:n.i18n.getText("defaultsValuesEntry"),valueArgument:function(){const e=s.getServiceAsync("UserDefaultParameters");const t=s.getServiceAsync("ClientSideTargetResolution");const n=s.getServiceAsync("CommonDataModel").then(e=>e.getContentProviderIds()).catch(()=>[""]);return Promise.all([e,t,n]).then(e=>{const t=e[0];const n=e[1];const s=e[2].length>0?e[2]:[""];return Promise.all(s.map(e=>n.getSystemContext(e).then(e=>t.hasRelevantMaintainableParameters(e))))}).then(e=>({value:e.includes(true)}))},contentFunc:function(){return new Promise((e,n)=>{a=new t("defaultParametersSelector",{name:"sap.ushell.components.shell.Settings.userDefaults",manifest:true,async:true});e(a)})},onSave:function(){if(a&&a.getComponentInstance()){return a.getComponentInstance().onSave()}e.warning("Save operation for user defaults settings was not executed, because the user default component was not initialized");return Promise.resolve()},onCancel:function(){if(a&&a.getComponentInstance()){a.getComponentInstance().onCancel();return}e.warning("Cancel operation for user defaults settings was not executed, because the user default component was not initialized")},defaultVisibility:false}}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/userDefaults/UserDefaultsForm", ["sap/base/util/deepExtend","sap/ui/comp/smartform/ColumnLayout","sap/ui/comp/smartform/SmartForm","sap/ui/core/Control"],(e,t,r,o)=>{"use strict";const a=["sap.ui.comp.smartfield.SmartField","sap.m.Input"];const n=o.extend("sap.ushell.components.shell.Settings.userDefaults.UserDefaultsForm",{metadata:{properties:{persistencyKey:{type:"string"}},aggregations:{_smartForm:{type:"sap.ui.comp.smartform.SmartForm",multiple:false,visibility:"hidden"}},events:{}},renderer:{apiVersion:2,render:function(e,t){e.openStart("div",t);e.openEnd();e.renderControl(t.getAggregation("_smartForm"));e.close("div")}}});n.prototype.init=function(){const e=new r({editable:true});const o=new t({columnsM:1,columnsL:1,columnsXL:1});e.setLayout(o);this.setAggregation("_smartForm",e)};n.prototype.fetchVariant=function(){let e;let t;const r=this.getAggregation("_smartForm").getModel("MdlParameter");return this._getFieldControls().reduce((o,a)=>{e=a.getName();o[e]={value:r.getProperty(`/${e}/valueObject/value/`)};t=r.getProperty(`/${e}/valueObject/extendedValue/`);if(t){o[e].additionalValues=t}return o},{})};n.prototype.applyVariant=function(t){if(t){const r=this.getAggregation("_smartForm").getModel("MdlParameter");const o=this._getFieldControls();let a;let n;for(let s=0;s<o.length;s++){a=o[s].getName();if(t[a]!==undefined){if(o[s].getDataType&&o[s].getDataType()==="Edm.DateTime"){o[s].setValue(new Date(t[a].value))}else{o[s].setValue(t[a].value)}n=r.getProperty(`/${a}/valueObject/`);n.extendedValue=undefined;if(t[a].additionalValues){n=e(n,{extendedValue:t[a].additionalValues})}r.setProperty(`/${a}/valueObject`,n)}}}};n.prototype._getFieldControls=function(){return this.getControlsByFieldGroupId("UserDefaults").filter(e=>{const t=e.getMetadata().getName();return a.indexOf(t)!==-1})};n.prototype.addGroup=function(e){this.getAggregation("_smartForm").addGroup(e)};n.prototype.getGroups=function(){return this.getAggregation("_smartForm").getGroups()};n.prototype.removeGroup=function(e){this.getAggregation("_smartForm").removeGroup(e)};n.prototype.removeAllGroups=function(){this.getAggregation("_smartForm").removeAllGroups()};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/userDefaults/controller/ExtendedValueDialog.controller", ["sap/m/Token","sap/ui/comp/library","sap/ui/model/json/JSONModel","sap/ui/core/Fragment"],(e,t,a,o)=>{"use strict";const n=t.valuehelpdialog.ValueHelpRangeOperation;function l(){}l.prototype.openDialog=function(e,t){o.load({id:"ExtendedValueDialogFragment",name:"sap.ushell.components.shell.Settings.userDefaults.view.ExtendedValueDialog",controller:this}).then(o=>{const n=`/${e.parameterName}/valueObject/extendedValue/Ranges`;const l=e.modelBind.extendedModel;const i=l.getProperty(n)||[];let r;let p;if(e.modelBind.isOdata){p=this._getMetadataNameSpace(e.editorMetadata.editorInfo.odataURL);const t=e.modelBind.model.getMetaModel().getODataEntityType(`${p}.${e.editorMetadata.editorInfo.entityName}`);if(t){r=e.modelBind.model.getMetaModel().getODataProperty(t,e.editorMetadata.editorInfo.propertyName)["sap:label"]}}const s={label:e.editorMetadata.displayText||r||e.parameterName,key:e.modelBind.sPropertyName,parameterName:e.parameterName};o.setModel(new a(s));o.setIncludeRangeOperations(this.getListOfSupportedRangeOperations());o.setTokens(this.getTokensToValueHelpDialog(i,e.parameterName));o.setRangeKeyFields([{label:s.label,key:e.parameterName}]);o.attachOk(e=>{t(e);e.getSource().close()});o.open()})};l.prototype.closeValueHelp=function(e){e.getSource().close(e)};l.prototype.afterCloseValueHelp=function(e){e.getSource().destroy()};l.prototype._getMetadataNameSpace=function(e){const t=e.split("/");return t[t.length-1]};l.prototype.getListOfSupportedRangeOperations=function(){const e=Object.keys(n);return e.filter(e=>e!=="StartsWith"&&e!=="EndsWith"&&e!=="Initial")};l.prototype.getTokensToValueHelpDialog=function(t,a){const o=[];let n;t.forEach(t=>{if(t){n={};n.exclude=t.Sign==="E";n.keyField=a;n.operation=t.Option!=="CP"?t.Option:"Contains";n.value1=t.Low;n.value2=t.High;o.push(new e({}).data("range",n))}});return o};return new l});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/userDefaults/controller/UserDefaultsSetting.controller", ["sap/base/Log","sap/base/i18n/Localization","sap/base/util/deepExtend","sap/base/util/deepEqual","sap/m/Button","sap/m/Input","sap/m/library","sap/ui/core/mvc/Controller","sap/ui/comp/smartfield/SmartField","sap/ui/comp/smartfield/SmartLabel","sap/ui/comp/smartform/Group","sap/ui/comp/smartform/GroupElement","sap/ui/comp/smartvariants/PersonalizableInfo","sap/ui/core/Title","sap/ui/model/json/JSONModel","sap/ui/model/odata/v2/ODataModel","sap/ushell/resources","sap/m/MessageBox","./ExtendedValueDialog.controller","sap/ushell/Container"],(e,t,a,r,s,n,o,i,d,l,u,c,m,h,p,f,g,y,P,M)=>{"use strict";const v=o.ButtonType;function b(e,t){if(!(t.editorMetadata&&t.editorMetadata.groupId)){return-1}if(!(e.editorMetadata&&e.editorMetadata.groupId)){return 1}if(e.editorMetadata.groupId<t.editorMetadata.groupId){return-1}if(e.editorMetadata.groupId>t.editorMetadata.groupId){return 1}return 0}function S(e,t){if(!(t.editorMetadata&&t.editorMetadata.parameterIndex)){return-1}if(!(e.editorMetadata&&e.editorMetadata.parameterIndex)){return 1}return e.editorMetadata.parameterIndex-t.editorMetadata.parameterIndex}function D(e,t){const a=b(e,t);if(a===0){return S(e,t)}return a}return i.extend("sap.ushell.components.shell.Settings.userDefaults.controller.UserDefaultsSetting",{onInit:function(){this.oModelRecords={};this.aChangedParamsNames=[];this.oBlockedParameters={};this.aDisplayedUserDefaults=[];this.oDirtyStateModel=new p({isDirty:false,selectedVariant:null});this.getView().setModel(this.oDirtyStateModel,"DirtyState");this.oOriginalParameters={};const t=this.getView();t.setBusy(true);t.setModel(g.i18nModel,"i18n");this.getSystemContextsModel().then(e=>{t.setModel(e,"systemContexts");return this._fillGroups()}).then(this._saveIsSupportedPlatform.bind(this)).then(this._initializeSmartVariantManagement.bind(this)).then(()=>{t.setBusy(false)}).catch(a=>{e.error("Error during UserDefaultsSetting controller initialization",a,"sap.ushell.components.shell.Settings.userDefaults.UserDefaultsSetting");t.setBusy(false)})},getSystemContextsModel:function(){const e=new p({systemContexts:[],selectedKey:""});const t=this._getContentProviderIds();const a=M.getServiceAsync("ClientSideTargetResolution");const r=M.getServiceAsync("UserDefaultParameters");return Promise.all([t,a,r]).then(t=>{const a=t[0];const r=t[1];const s=t[2];if(a.length===0){a.push("")}return Promise.all(a.map(t=>r.getSystemContext(t).then(t=>{const a=e.getProperty("/systemContexts");return s.hasRelevantMaintainableParameters(t).then(e=>{if(e){a.push(t)}})}))).then(()=>{const t=e.getProperty("/systemContexts");if(t.length>0){e.setProperty("/selectedKey",t[0].id)}return e})})},_getContentProviderIds:function(){return M.getServiceAsync("CommonDataModel").then(e=>e.getContentProviderIds()).catch(()=>[""])},handleSystemContextChanged:function(){if(this.oDirtyStateModel.getProperty("/isDirty")){const e=g.i18n.getText("userDefaultsSave");const t=g.i18n.getText("userDefaultsDiscard");y.show(g.i18n.getText("userDefaultsUnsavedChangesMessage"),{title:g.i18n.getText("userDefaultsUnsavedChangesTitle"),actions:[e,t,y.Action.CANCEL],emphasizedAction:e,icon:y.Icon.QUESTION,onClose:function(a){if(a===t){this._fillGroups();this._setDirtyState(false)}else if(a===e){this.onSave();this._fillGroups();this._setDirtyState(false)}else{this.getView().getModel("systemContexts").setProperty("/selectedKey",this.sLastSelectedKey)}}.bind(this)})}else{this._fillGroups()}},_fillGroups:async function(){const e=this.getView().byId("userDefaultsForm");e.removeAllGroups();const t=this.getView().getModel("systemContexts").getProperty("/selectedKey");const r=this.getView().getModel("systemContexts").getProperty("/systemContexts").find(e=>e.id===t);const s=await M.getServiceAsync("UserDefaultParameters");const n=await s.editorGetParameters(r);this.oOriginalParameters=a({},n);this.oModel=new p(n);this.oModel.setDefaultBindingMode("TwoWay");this.getView().setModel(this.oModel,"MdlParameter");const o=await this._getFormattedParameters(this.oModel);const i=this._createContent(o);i.forEach(t=>{e.addGroup(t)})},_getFormattedParameters:function(t){const r=t.getData("/");const s=Object.keys(r).map(s=>{const n=a({},r[s]);n.parameterName=s;n.editorMetadata=n.editorMetadata||{};if(n.editorMetadata.editorInfo&&n.editorMetadata.editorInfo.propertyName){return this._createOdataModelBinding(n,t).then(e=>{n.modelBind=e;const t=e.model?e.model.getMetaModel():undefined;if(t){return t.loaded().then(()=>{const e=t.getObject("/dataServices/schema/0/namespace");const a=t.getODataEntityType(`${e}.${n.editorMetadata.editorInfo.entityName}`);const r=a.property.find(e=>{if(e.name===n.editorMetadata.editorInfo.propertyName){return true}});switch(r.type){case"Edm.DateTime":n.valueObject.value=n.valueObject.value?new Date(n.valueObject.value):null;break;default:n.valueObject.value=n.valueObject.value?n.valueObject.value:"";break}return n})}n.valueObject=a({value:""},n.valueObject);return n}).catch(()=>{e.error(`Metadata loading for parameter ${n.parameterName} failed${JSON.stringify(n.editorMetadata)}`);n.valueObject=a({value:""},n.valueObject);n.modelBind=this._createPlainModelBinding(n,t);this.oBlockedParameters[n.parameterName]=false;return Promise.resolve(n)})}n.valueObject=a({value:""},n.valueObject);n.modelBind=this._createPlainModelBinding(n,t);return Promise.resolve(n)});return Promise.all(s).then(e=>{e.sort(D);this.aDisplayedUserDefaults=e;e.forEach(e=>{e.modelBind.model.setProperty(e.modelBind.sFullPropertyPath,e.valueObject.value);e.modelBind.model.bindTree(e.modelBind.sFullPropertyPath).attachChange(this.storeChangedData.bind(this))});return e})},_createPlainModelBinding:function(e,t){const a=`/${e.parameterName}/valueObject/value`;if(!t.getProperty(`/${e.parameterName}/valueObject`)){t.setProperty(`/${e.parameterName}/valueObject`,{})}const r={isOdata:false,model:t,extendedModel:t,sFullPropertyPath:a,sPropertyName:`{${a}}`};return r},_createOdataModelBinding:function(e,t){const a=e.editorMetadata.editorInfo;const r=this._getODataServiceData(a.odataURL,e);return r.metadataLoaded.then(()=>{const e={isOdata:true,model:r.model,extendedModel:t,sPropertyName:`{${a.propertyName}}`,sFullPropertyPath:`${a.bindingPath}/${a.propertyName}`};return e})},_getODataServiceData:function(e,a){if(!this.oModelRecords[e]){const a=new f(e,{metadataUrlParams:{"sap-documentation":"heading,quickinfo","sap-value-list":"none","sap-lang-cachebuster":t.getLanguageTag().toString()},json:true});a.setDefaultCountMode("None");a.setDefaultBindingMode("TwoWay");this.oModelRecords[e]={attachedListeners:[],model:a,metadataLoaded:new Promise((e,t)=>{a.attachMetadataLoaded(e);a.attachMetadataFailed(t)})}}if(this.oModelRecords[e].attachedListeners.indexOf(a.parameterName)===-1){this.oModelRecords[e].attachedListeners.push(a.parameterName);this.oModelRecords[e].model.attachRequestCompleted(this._overrideOdataModelValue.bind(this,a));this.oBlockedParameters[a.parameterName]=true}return this.oModelRecords[e]},_overrideOdataModelValue:function(e,t){const a=t.getSource();const r=`/${t.getParameter("url").replace(/\?.*/,"")}`;if(e.editorMetadata.editorInfo.bindingPath===r){const t=`${e.editorMetadata.editorInfo.bindingPath}/${e.editorMetadata.editorInfo.propertyName}`;if(a.getProperty(t)!==e.valueObject.value){a.setProperty(t,e.valueObject.value)}this.oBlockedParameters[e.parameterName]=false}},_createContent:function(e){let t="nevermore";let a;const r={};const s=[];for(let n=0;n<e.length;++n){const o=e[n];const i=o.modelBind;if(t!==o.editorMetadata.groupId){a=new u({title:new h({text:o.editorMetadata.groupTitle||undefined})});t=o.editorMetadata.groupId;s.push(a)}const d=this._createGroupElement(o);d.setModel(i.model);if(i.isOdata){const e=o.editorMetadata.editorInfo.odataURL;if(!r[e]){const t=o.editorMetadata.editorInfo.bindingPath;d.bindElement(t);r[e]=o.modelBind.model.getContext(t)}else{d.setBindingContext(r[e])}}a.addGroupElement(d)}return s},_createGroupElement:function(e){let t;const a=new l({});const r=new s({text:"{i18n>userDefaultsExtendedParametersTitle}",tooltip:"{i18n>userDefaultsExtendedParametersTooltip}",visible:!!e.editorMetadata.extendedUsage,type:{parts:[`MdlParameter>/${e.parameterName}/valueObject/extendedValue/Ranges`],formatter:e=>e&&e.length?v.Emphasized:v.Transparent},press:t=>{P.openDialog(e,this.saveExtendedValue.bind(this))}});if(e.modelBind.isOdata&&e.editorMetadata.editorInfo){t=new d({value:e.modelBind.sPropertyName,name:e.parameterName,fieldGroupIds:["UserDefaults"]});a.setLabelFor(t)}else{t=new n({name:e.parameterName,value:e.modelBind.sPropertyName,fieldGroupIds:["UserDefaults"],type:"Text"});t.addAriaLabelledBy(a);a.setText(e.editorMetadata.displayText||e.parameterName);a.setTooltip(e.editorMetadata.description||e.parameterName)}t.attachChange(this.storeChangedData.bind(this));t.attachChange(this._setDirtyState.bind(this,true),this);const o=new c({elements:[t,r],label:a});return o},saveExtendedValue:function(e){const t=e.getSource().getModel().getProperty("/parameterName");const a=this.oModel;const r=e.getParameters().tokens||[];const s=`/${t}/valueObject/extendedValue/Ranges`;const n=r.map(e=>{const t=e.data("range");return{Sign:t.exclude?"E":"I",Option:t.operation!=="Contains"?t.operation:"CP",Low:t.value1,High:t.value2||null}});if(!a.getProperty(`/${t}/valueObject/extendedValue`)){a.setProperty(`/${t}/valueObject/extendedValue`,{})}a.setProperty(s,n);this.aChangedParamsNames.push(t);if(e.getParameter("_tokensHaveChanged")){this._setDirtyState(true)}},_setDirtyState:function(e){this.oDirtyStateModel.setProperty("/isDirty",e);this._setSmartVariantModified(e);if(e){this.sLastSelectedKey=this.getView().getModel("systemContexts").getProperty("/selectedKey")}},_setSelectedVariant:function(e){this.oDirtyStateModel.setProperty("/selectedVariant",e);this.storeChangedData()},storeChangedData:function(){const e=this.aDisplayedUserDefaults||[];for(let t=0;t<e.length;++t){const s=e[t].parameterName;const n=this.oModel.getProperty(`/${s}/valueObject/`);const o=e[t].modelBind;if(!this.oBlockedParameters[s]){const e={value:n&&n.value,extendedValue:n&&n.extendedValue};if(o&&o.model){const t=o.model;const i=o.extendedModel;const d=o.sFullPropertyPath;const l={value:t.getProperty(d)!==""?t.getProperty(d):undefined,extendedValue:i.getProperty(`/${s}/valueObject/extendedValue`)||undefined};if(!r(l,e)){n.value=l.value;if(l.extendedValue){n.extendedValue={};a(n.extendedValue,l.extendedValue)}this.oModel.setProperty(`/${s}/valueObject`,n);this.aChangedParamsNames.push(s)}}}}},onCancel:function(){this._setDirtyState(false);const e=this.aDisplayedUserDefaults;if(this.aChangedParamsNames.length>0){for(let t=0;t<e.length&&this.aChangedParamsNames.length>0;t++){const a=e[t].parameterName;if(this.aChangedParamsNames.indexOf(a)>-1){const r=this.oOriginalParameters[a];const s=e[t];const n=s.modelBind;const o=n.model?n.model.getMetaModel():undefined;if(o){const e=o.getObject("/dataServices/schema/0/namespace");const t=o.getODataEntityType(`${e}.${s.editorMetadata.editorInfo.entityName}`);const a=t.property.find(e=>{if(e.name===s.editorMetadata.editorInfo.propertyName){return true}});switch(a.type){case"Edm.DateTime":n.model.setProperty(n.sFullPropertyPath,new Date(r.valueObject.value)||null);break;default:n.model.setProperty(n.sFullPropertyPath,r.valueObject.value||"");break}}else{n.model.setProperty(n.sFullPropertyPath,r.valueObject.value||"")}if(r.editorMetadata&&r.editorMetadata.extendedUsage){n.extendedModel.setProperty(`/${a}/valueObject/extendedValue`,r.valueObject.extendedValue||{})}}}this.aChangedParamsNames=[]}this._setDefaultVariant()},onSave:function(){this.storeChangedData();this._setDirtyState(false);let e;if(this.aChangedParamsNames.length===0){e=Promise.resolve()}else{e=M.getServiceAsync("ClientSideTargetResolution").then(e=>e.getSystemContext(this.sLastSelectedKey)).then(e=>{const t=this.aChangedParamsNames.sort();this.aChangedParamsNames=[];return this._saveParameterValues(t,e)})}return e.then(this._resetSmartVariantManagement.bind(this)).then(this._setDefaultVariant.bind(this))},_saveParameterValues:function(e,t){const a=[];for(let s=0;s<e.length;s++){const n=e[s];const o=this.oModel.getProperty(`/${n}/valueObject/`);const i=this.oOriginalParameters[n].valueObject;if(!r(i,o)){if(o&&o.value===null||o&&o.value===""){o.value=undefined}if(o&&o.extendedValue&&Array.isArray(o.extendedValue.Ranges)&&o.extendedValue.Ranges.length===0){o.extendedValue=undefined}const e=this._saveParameterValue(n,o,i,t);a.push(e)}}return Promise.all(a)},_saveParameterValue:async function(e,t,a,r){const s=await M.getServiceAsync("UserDefaultParameters");await s.editorSetValue(e,t,r);a.value=t.value},_setSmartVariantModified:function(e){if(!this._bIsSupportedPlatform){return}this.getView().byId("defaultSettingsVariantManagement").currentVariantSetModified(e)},_setDefaultVariant:function(){if(!this._bIsSupportedPlatform){return}const e=this.getView().byId("defaultSettingsVariantManagement");e.setCurrentVariantId(e.getDefaultVariantKey());this._setSelectedVariant(e.getDefaultVariantKey())},_resetSmartVariantManagement:function(){if(!this._bIsSupportedPlatform){return Promise.resolve()}this.getView().byId("defaultSettingsVariantManagement").removeAllPersonalizableControls();return this._initializeSmartVariantManagement()},_initializeSmartVariantManagement:function(){if(!this._bIsSupportedPlatform){return Promise.resolve()}const e=this.getView().byId("defaultSettingsVariantManagement");const t=function(){this._setSelectedVariant(e.getSelectionKey())}.bind(this);return new Promise(a=>{const r=this.getView().byId("userDefaultsForm");const s=new m({type:"wrapper",keyName:"persistencyKey",dataSource:"none",control:r});e.detachSelect(t).detachAfterSave(t).addPersonalizableControl(s).attachSelect(t).attachAfterSave(t).initialise(()=>{e.setVisible(true);a()},r)}).then(t)},_saveIsSupportedPlatform:function(){const e=M.getLogonSystem().getPlatform();this._bIsSupportedPlatform=e!=="cdm";return Promise.resolve(this._bIsSupportedPlatform)},displayDiffText:function(){if(!this._bIsSupportedPlatform){return false}const e=this.getView().byId("defaultSettingsVariantManagement");const t=this.getView().byId("userDefaultsForm");const a=e.getStandardVariantKey();const s=e.getSelectionKey();if(s===a){return false}const n=e.getVariantContent(t,a);const o=e.getVariantContent(t,s);delete o.executeOnSelection;return!r(n,o)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/userLanguageRegion/LanguageRegionSelector.controller", ["sap/base/Log","sap/base/i18n/Formatting","sap/ui/core/Locale","sap/ui/core/LocaleData","sap/ui/core/format/DateFormat","sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ui/performance/Measurement","sap/ushell/Config","sap/ushell/Container"],(e,t,r,n,a,s,o,i,g,l)=>{"use strict";return s.extend("sap.ushell.components.shell.Settings.userLanguageRegion.LanguageRegionSelector",{onInit:function(){this.oUserInfoServicePromise=l.getServiceAsync("UserInfo");this.oUserInfoServicePromise.then(e=>{this.oUser=l.getUser();const s=new r(t.getLanguageTag());const i=n.getInstance(s);let u;let m;let c;let d;let L;const h=l.getRendererInternal("fiori2").getShellConfig().enableSetLanguage||false;const P=this.oUser.isLanguagePersonalized();const p=e.getUserSettingListEditSupported();const f=[];const F=e=>this.oUser.getEditState(e)!==1;const S={preferredLogonLanguage:F("PREFERRED_LOGON_LANGUAGE"),dateFormat:F("DATE_FORMAT"),timeFormat:F("TIME_FORMAT"),numberFormat:F("NUMBER_FORMAT"),timeZone:F("TIME_ZONE")};S.showWarning=Object.values(S).some(e=>e===false);if(p){u=t.getABAPDateFormat();c=t.getABAPTimeFormat();d=this._getABAPNumberFormat();L=this.oUser.getCalendarWeekNumbering?.()||"Default";f.push(this._loadUserSettingList())}else{u=i.getDatePattern("medium");m=i.getTimePattern("medium");c=m.indexOf("H")===-1?"12h":"24h";L="Default"}const T=new o({languageList:null,DateFormatList:null,TimeFormatList:null,NumberFormatList:null,TimeZoneList:null,CalendarWeekNumberingList:null,cuaFlags:S,selectedLanguage:this.oUser.getLanguage(),selectedLanguageText:this.oUser.getLanguageText(),selectedDatePattern:u,selectedTimeFormat:c,selectedNumberFormat:d,selectedTimeZone:this.oUser.getTimeZone(),selectedCalendarWeekNumbering:L,isSettingsLoaded:true,isLanguagePersonalized:P,isEnableSetLanguage:h,isEnableUserProfileSetting:p,isTimeZoneFromServerInUI5:g.last("/core/ui5/timeZoneFromServerInUI5")});T.setSizeLimit(1e3);if(h){f.push(this._loadLanguagesList())}if(f.length>0){this.getView().setBusy(true);return Promise.all(f).then(t=>{const r=p?t[0]:null;let n=null;if(h){n=t.length===1?t[0]:t[1]}if(n?.length>1){T.setProperty("/languageList",n);const e=n.some(e=>e.key==="default");if(!P&&e){T.setProperty("/selectedLanguage","default")}}if(r?.TIME_FORMAT?.length>0){T.setProperty("/TimeFormatList",r.TIME_FORMAT)}if(r?.DATE_FORMAT?.length>0){T.setProperty("/DateFormatList",r.DATE_FORMAT)}if(r?.TIME_ZONE?.length>0){const e=a.getDateTimeWithTimezoneInstance({showDate:false,showTime:false});const t=r.TIME_ZONE.map(t=>{const r=e.format(null,t.description)||t.description;return{description:r,value:t.value}});T.setProperty("/TimeZoneList",t)}if(r?.NUMBER_FORMAT?.length>0){T.setProperty("/NumberFormatList",r.NUMBER_FORMAT)}if(r?.CALENDAR_WEEK_NUMBERING){const t=e.getCalendarWeekNumberingList().map(e=>{e.selected=e.value===T.getProperty("/selectedCalendarWeekNumbering");return e});T.setProperty("/CalendarWeekNumberingList",t)}this.oView.setModel(T);this.getView().setBusy(false)})}this.oView.setModel(T)})},_loadLanguagesList:function(){i.start("FLP:LanguageRegionSelector._getLanguagesList","_getLanguagesList","FLP");return this.oUserInfoServicePromise.then(t=>new Promise(r=>{i.start("FLP:LanguageRegionSelector._getLanguagesList","_getLanguagesList","FLP");t.getLanguageList().done(e=>{i.end("FLP:LanguageRegionSelector._getLanguagesList");r(e)}).fail(t=>{i.end("FLP:LanguageRegionSelector._getLanguagesList");e.error("Failed to load language list.",t,"sap.ushell.components.ushell.settings.userLanguageRegion.LanguageRegionSelector.controller");r(null)})}))},_loadUserSettingList:function(){i.start("FLP:LanguageRegionSelector._loadUserSettingList","_loadUserSettingList","FLP");return this.oUserInfoServicePromise.then(e=>new Promise(t=>{i.start("FLP:LanguageRegionSelector._loadUserSettingList","_loadUserSettingList","FLP");e.getUserSettingList().then(e=>{i.end("FLP:LanguageRegionSelector._loadUserSettingList");t(e)})}))},_resetLanguage:function(){const e=this.oUser.getLanguage();const t=this.getView().getModel();const r=t.getData();const n=r.isLanguagePersonalized?e:"default";t.setProperty("/selectedLanguage",n);this._updateTextFields(e)},onCancel:function(){const e=this.getView().getModel();const t=e.getData();const r=t.languageList;const n=t.isEnableSetLanguage;if(n&&r){this._resetLanguage()}if(t.isEnableUserProfileSetting){this._restoreUserSettingPreferenceValues()}},onSaveSuccess:function(t,r,n){const a={refresh:true};t.resetChangedProperty("dateFormat");t.resetChangedProperty("timeFormat");t.resetChangedProperty("numberFormat");t.resetChangedProperty("timeZone");t.resetChangedProperty("calendarWeekNumbering");if(r){e.debug("[000] onSaveSuccess: oUser.resetChangedPropertyLanguage:","LanguageRegionSelector.controller");t.resetChangedProperty("language");a.obsoleteUrlParams=["sap-language"];a.clearSapUserContextCookie=true}return a},onSave:function(r){const n=this.oUser;const a=this.getView().getModel().getData();const s=a.selectedLanguage;const o=n.getLanguage();const i=s&&s!==(a.isLanguagePersonalized?o:"default");const g=a.isEnableUserProfileSetting;const l=a.isEnableSetLanguage&&a.languageList&&i;let u=false;const m=["DATE_FORMAT","TIME_FORMAT","NUMBER_FORMAT","TIME_ZONE","LANGUAGE","CALENDAR_WEEK_NUMBERING"];e.debug("[000] LanguageRegionSelector:onSave:bUpdateLanguage, bIsEnableSetUserProfileSetting:",l,"LanguageRegionSelector.controller");if(l){e.debug("[000] LanguageRegionSelector:onSave:UserInfo: oUser.setLanguage:",s,"LanguageRegionSelector.controller");n.setLanguage(s)}else{this._resetLanguage()}if(g){if(t.getABAPDateFormat()!==a.selectedDatePattern){u=true;n.setChangedProperties({propertyName:"dateFormat",name:"DATE_FORMAT"},t.getABAPDateFormat(),a.selectedDatePattern)}if(t.getABAPTimeFormat()!==a.selectedTimeFormat){u=true;n.setChangedProperties({propertyName:"timeFormat",name:"TIME_FORMAT"},t.getABAPTimeFormat(),a.selectedTimeFormat)}if(this._getABAPNumberFormat()!==a.selectedNumberFormat){u=true;n.setChangedProperties({propertyName:"numberFormat",name:"NUMBER_FORMAT"},this._getABAPNumberFormat(),a.selectedNumberFormat)}if(!a.selectedTimeZone){this.getView().getModel().setProperty("/selectedTimeZone",this.oUser.getTimeZone())}else if(this.oUser.getTimeZone()!==a.selectedTimeZone){u=true;n.setChangedProperties({propertyName:"timeZone",name:"TIME_ZONE"},this.oUser.getTimeZone(),a.selectedTimeZone)}if(t.getCalendarWeekNumbering()!==a.selectedCalendarWeekNumbering){u=true;n.setChangedProperties({propertyName:"calendarWeekNumbering",name:"CALENDAR_WEEK_NUMBERING"},t.getCalendarWeekNumbering(),a.selectedCalendarWeekNumbering.trim());t.setCalendarWeekNumbering(a.selectedCalendarWeekNumbering)}}if(l||u){return r().then(()=>{e.debug("[000] onSave:fnUpdateUserPreferences","LanguageRegionSelector.controller");return this.onSaveSuccess(n,l,s)}).catch(t=>{e.debug("[000] onSave:catch:errorMessage",t,"LanguageRegionSelector.controller");const r=m.some(e=>t.message.includes(e));if(!r){return this.onSaveSuccess(n,l,s)}if(l){n.setLanguage(o);n.resetChangedProperty("language");this._updateTextFields(o)}n.resetChangedProperty("dateFormat");n.resetChangedProperty("timeFormat");n.resetChangedProperty("numberFormat");n.resetChangedProperty("timeZone");n.resetChangedProperty("calendarWeekNumbering");if(a.isEnableUserProfileSetting){this._restoreUserSettingPreferenceValues()}e.error("Failed to save Language and Region Settings",t,"sap.ushell.components.ushell.settings.userLanguageRegion.LanguageRegionSelector.controller");throw t})}return Promise.resolve()},_restoreUserSettingPreferenceValues:function(){const e=this.getView().getModel();e.setProperty("/selectedDatePattern",t.getABAPDateFormat());e.setProperty("/selectedTimeFormat",t.getABAPTimeFormat());e.setProperty("/selectedNumberFormat",this._getABAPNumberFormat());e.setProperty("/selectedTimeZone",this.oUser.getTimeZone());e.setProperty("/selectedCalendarWeekNumbering",t.getCalendarWeekNumbering());const r=e.getProperty("/CalendarWeekNumberingList").map(e=>{e.selected=e.value===t.getCalendarWeekNumbering();return e});e.setProperty("/CalendarWeekNumberingList",r)},_handleLanguageSelectChange:function(e){const t=e.getSource().getSelectedKey();if(t){this._updateTextFields(t)}},_updateTextFields:function(e){let a;if(e===this.oUser.getLanguage()){a=new r(t.getLanguageTag())}else{a=new r(e)}const s=this.getView().getModel();const o=n.getInstance(a);const i=o.getDatePattern("medium");const g=o.getTimePattern("medium");const l=g.indexOf("H")===-1?"12h":"24h";if(!s.getData().isEnableUserProfileSetting){s.setProperty("/selectedDatePattern",i);s.setProperty("/selectedTimeFormat",l)}},_getABAPNumberFormat:function(){const e=t.getABAPNumberFormat();if(e){return e.trim()}},_handleCalendarWeekNumberingChange:function(e){const t=e.getSource().getSelectedItem().getCustomData()[0].getValue();this.getView().getModel().setProperty("/selectedCalendarWeekNumbering",t)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/userLanguageRegion/UserLanguageRegionEntry", ["sap/base/Log","sap/ui/core/mvc/XMLView","sap/ushell/resources","sap/ushell/Container"],(e,n,t,o)=>{"use strict";function a(){let a;const r={id:"language",entryHelpID:"language",title:t.i18n.getText("languageAndRegionTit"),valueResult:null,contentResult:null,icon:"sap-icon://globe",valueArgument:function(){let e=o.getUser().getLanguageText();if(e.indexOf("-")>-1){e=e.replace("-"," (").concat(")")}return Promise.resolve(e)},contentFunc:function(){return n.create({id:"languageRegionSelector",viewName:"sap.ushell.components.shell.Settings.userLanguageRegion.LanguageRegionSelector"}).then(e=>{const n=e.getController();a=e;return n.oUserInfoServicePromise.then(()=>a)})},onSave:function(n){if(a){return a.getController().onSave(n)}e.warning("Save operation for language settings was not executed, because the languageRegionSelector view was not initialized");return Promise.resolve()},onCancel:function(){if(a){a.getController().onCancel();return}e.warning("Cancel operation for language settings was not executed, because the languageRegionSelector view was not initialized")}};return r}return{getEntry:a}});
sap.ui.require.preload({
	"sap/ushell/components/shell/Settings/ContentWrapper.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    core:require="{\n        coreLibrary: \'sap/ui/core/library\'\n    }"><Page showHeader="false" busy="true"><content><ObjectHeader\n                title="{entryInfo>/title}"\n                titleLevel="{= coreLibrary.TitleLevel.H3}"\n                visible="{entryInfo>/showHeader}"\n                backgroundDesign="Solid"\n                class="sapUshellUserSettingDetailHeader"/><IconTabBar\n                expandable="false"\n                items="{entryInfo>/tabs}"\n                visible="{= ${entryInfo>/tabs}.length > 1}"\n                select=".onTabSelected"\n            ><items><IconTabFilter text="{entryInfo>groupingTabTitle}" key="{entryInfo>id}"><customData><core:CustomData key="help-id" value="{entryInfo>groupingTabHelpId}" writeToDom="{= !!${entryInfo>groupingTabHelpId}}" /></customData></IconTabFilter></items></IconTabBar></content></Page></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/Settings/ErrorContent.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><FlexBox\n        height="5rem"\n        alignItems="Center"\n        justifyContent="Center"><items><Text text="{/errorMessage}"/></items></FlexBox></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/Settings/UserSettings.view.xml":'<mvc:View\n    displayBlock="true"\n    controllerName="sap.ushell.components.shell.Settings.UserSettings"\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:core="sap.ui.core"><Dialog\n        id="userSettingsDialog"\n        class="sapUshellUserSetting sapContrastPlus"\n        showHeader="false"\n        contentHeight="42rem"\n        contentWidth="60rem"\n        afterClose="._afterClose"\n        escapeHandler="._handleCancel"\n        stretch="{device>/system/phone}"><customHeader><Bar id="settingsBar"><contentLeft><Button id="userSettingsNavBackButton"\n                            icon="sap-icon://nav-back"\n                            press="._navBackButtonPressHandler"\n                            tooltip="{i18n>ToggleButtonShow}"\n                            visible="false"/><ToggleButton id="userSettingsMenuButton"\n                                  icon="sap-icon://menu2"\n                                  press="._navToggleButtonPressHandler"\n                                  tooltip="{i18n>ToggleButtonShow}"\n                                  visible="false"/></contentLeft><contentMiddle><Title\n                        text="{i18n>userSettings}"\n                        id="userSettingsDialogTitle"/></contentMiddle></Bar></customHeader><content><SplitApp id="settingsApp"\n                      defaultTransitionNameDetail="show"\n                      mode="{= ${device>/system/desktop} ? \'StretchCompressMode\' : \'ShowHideMode\'}"\n                      afterMasterClose="._afterMasterClose"><masterPages><Page id="userSettingMaster"\n                          class="sapUshellUserSettingMaster"\n                          showHeader="false"><content><List id="userSettingEntryList"\n                                  items="{/entries}"\n                                  mode="SingleSelectMaster"\n                                  selectionChange="._onSelectionChange"\n                                  ariaLabelledBy="userSettingsDialogTitle"><StandardListItem\n                                    title="{title}"\n                                    description="{\n                                                parts: [\'id\', \'tabs\', \'results>/entries\'],\n                                                formatter: \'._formatDescription\'\n                                            }"\n                                    icon="{= !!${icon} ? ${icon} : \'sap-icon://action-settings\' }"\n                                    iconDensityAware="false"\n                                    visible="{visible}"\n                                    wrapping="true"><customData><core:CustomData key="help-id" value="{entryHelpID}"\n                                                         writeToDom="{= !!${entryHelpID}}"/></customData></StandardListItem></List></content></Page></masterPages></SplitApp></content><footer><OverflowToolbar><Button\n                    id="userSettingsMessagePopoverBtn"\n                    visible="false"\n                    press="._handleMessagePopoverPress"\n                    icon="sap-icon://message-error"\n                    ariaHasPopup="Dialog"/><ToolbarSpacer/><Button\n                    id="userSettingSaveButton"\n                    text="{i18n>saveBtn}"\n                    type="Emphasized"\n                    press="._handleSaveButtonPress"/><Button\n                    id="userSettingCancelButton"\n                    text="{i18n>cancelBtn}"\n                    press="._handleCancel"/></OverflowToolbar></footer></Dialog></mvc:View>\n',
	"sap/ushell/components/shell/Settings/appearance/Appearance.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    controllerName="sap.ushell.components.shell.Settings.appearance.Appearance"><IconTabBar ariaTexts="{/ariaTexts}" id="idIconTabBar" expandable="false"><items><IconTabFilter text="{i18n>AppearanceThemeMenu}" key="themeListTab"><MessageStrip\n                    text="{i18n>DeprecatedThemeWarning}"\n                    type="Warning"\n                    visible="{/deprecatedThemeSelected}"\n                    showIcon="true"\n                    showCloseButton="false"\n                    class="sapUiTinyMarginBottom" /><List\n                    items="{\n                        path: \'/options\',\n                        sorter: [{\n                            path: \'setId\',\n                            descending: false,\n                            group: true\n                        }, {\n                            path: \'contrast\',\n                            descending: true\n                        }, {\n                            path: \'colorScheme\',\n                            descending: true\n                        }, {\n                            path: \'name\',\n                            descending: false\n                        }],\n                        groupHeaderFactory: \'.getThemeSetHeader\'\n                    }"\n                    includeItemInSelection="true"\n                    mode="{= ${config>/themeConfigurable} ? \'SingleSelectMaster\' : \'None\'}"\n                    id="themeList"><items><CustomListItem selected="{isSelected}" accDescription="{name}"><customData><core:CustomData key="themeid" value="{id}" writeToDom="true" /></customData><FlexBox alignItems="Center" height="3.75rem"><core:Icon\n                                    class="sapUiSmallMarginBeginEnd"\n                                    width="3rem"\n                                    src="{icon}"\n                                    visible="{= !${avatar}}"\n                                    size="1.75rem" /><Image\n                                    class="sapUiSmallMarginBeginEnd"\n                                    src="{avatar}"\n                                    mode="{mode}"\n                                    visible="{= !!${avatar}}"\n                                    height="50px"\n                                    width="50px"\n                                    error=".onAvatarError"\n                                    decorative="true" /><Text\n                                    class="sapUiSmallMarginEnd"\n                                    maxLines="3"\n                                    text="{name}"><layoutData><FlexItemData growFactor="1" /></layoutData></Text><ObjectStatus\n                                    class="sapUiSmallMarginEnd"\n                                    text="{i18n>AppearanceThemeDeprecated}"\n                                    visible="{deprecated}"\n                                    state="Warning" /></FlexBox></CustomListItem></items></List></IconTabFilter><IconTabFilter\n                id="DisplaySettingsTab"\n                key="displaySettingsTab"\n                visible="{config>/displaySettingsTabVisible}"\n                text="{i18n>AppearanceLayoutAndBehaviorMenu}"><Panel><CheckBox\n                        id="showContentProviderInfoOnVisualizationsCheckbox"\n                        text="{i18n>AppearanceShowContentProviderInfoOnVisualizationsLabel}"\n                        visible="{config>/showContentProviderInfoOnVisualizationsConfigurable}"\n                        selected="{config>/showContentProviderInfoOnVisualizationsSelected}" /><VBox\n                        class="sapUshellFlpSettingsDescriptionBorder"\n                        visible="{config>/showContentProviderInfoOnVisualizationsConfigurable}"><Text\n                            class="sapUshellFlpSettingsDescription sapUshellFlpSettingsWide"\n                            text="{i18n>AppearanceShowContentProviderInfoOnVisualizationsText}"/></VBox><CheckBox\n                        id="contentDensityCheckBox"\n                        text="{i18n>AppearanceContentDensityLabel}"\n                        visible="{config>/contentDensityConfigurable}"\n                        selected="{config>/isCozyContentMode}" /><VBox\n                        class="sapUshellFlpSettingsDescriptionBorder"\n                        visible="{config>/contentDensityConfigurable}"><Text\n                            class="sapUshellFlpSettingsDescription sapUshellFlpSettingsWide"\n                            text="{i18n>appearanceCompactCozyDescriptionText}"/></VBox><HBox\n                        class="sapUiTinyMarginBegin"\n                        alignItems="Center"\n                        visible="{config>/sizeBehaviorConfigurable}"><Label\n                            id="sapUshellAppearanceTileSizeLabel"\n                            class="sapUiSmallMarginEnd"\n                            text="{i18n>AppearanceTileSizeLabel}"\n                            textAlign="{config>/textAlign}"\n                            labelFor="tileSizeRadioButtonGroup" /><RadioButtonGroup selectedIndex="{config>/tileSize}" id="tileSizeRadioButtonGroup"><buttons><RadioButton\n                                    text="{i18n>AppearanceTileSizeSmall}"\n                                    ariaLabelledBy="sapUshellAppearanceTileSizeLabel" /><RadioButton\n                                    text="{i18n>AppearanceTileSizeLarge}"\n                                    ariaLabelledBy="sapUshellAppearanceTileSizeLabel" /></buttons></RadioButtonGroup></HBox><VBox\n                        class="sapUshellFlpSettingsDescriptionBorder"\n                        visible="{config>/sizeBehaviorConfigurable}"><Text\n                            class="sapUshellFlpSettingsDescription sapUshellFlpSettingsWide"\n                            text="{i18n>appearanceTileSizeDescriptionText}"/></VBox></Panel></IconTabFilter></items></IconTabBar></mvc:View>\n',
	"sap/ushell/components/shell/Settings/homepage/HomepageSetting.view.xml":'<mvc:View\n    width="100%"\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"><VBox class="sapUiSmallMargin"><items><Label id="anchorBarLabel"\n                   class="sapUshellFlpSettingsLabel"\n                   text="{i18n>AnchorBarLabel}"/><RadioButtonGroup id="anchorBarDisplayMode" selectedIndex="{/displayMode}"\n                              ariaLabelledBy="anchorBarLabel"\n                              ariaDescribedBy="anchorBarDescription"><buttons><RadioButton id="anchorBarScrollModeRBtn"\n                                 text="{i18n>anchorBarScrollMode}"/><RadioButton id="anchorBarTabModeRBtn"\n                                 text="{i18n>anchorBarTabMode}"/></buttons></RadioButtonGroup><VBox class="sapUshellFlpSettingsDescriptionBorder"><items><Text id="anchorBarDescription"\n                          class="sapUshellFlpSettingsDescription"\n                          text="{i18n>homePageGroupDisplayDescriptionText}"/><Text\n                        id="anchorBarDescriptionSecondParagraph"\n                        class="sapUshellFlpSettingsDescription"\n                        text="{i18n>homePageGroupDisplayDescriptionText_secondParagraph}"\n                        visible="{/personalisationEnabled}"/></items></VBox></items></VBox></mvc:View>\n',
	"sap/ushell/components/shell/Settings/notifications/NotificationsSetting.view.xml":'<mvc:View\n    controllerName="sap.ushell.components.shell.Settings.notifications.NotificationsSetting"\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"><VBox class="sapUiSmallMargin"><CheckBox id="showHighPrioCheckbox" selected="{/flags/highPriorityBannerEnabled}" text="{i18n>Label.ShowAlertsForHighNotifications}"/><Table\n            id="table"\n            sticky="ColumnHeaders"\n            items="{\n                path: \'/rows\',\n                sorter: { path: \'NotificationTypeDesc\' }\n            }"><columns><Column id="columnNotificationType"><ObjectIdentifier text="{i18n>notificationType_column}" /></Column><Column id="columnMobileNotification" visible="{/flags/mobileNotificationsEnabled}" demandPopin="true"><Text id="columnMobileText" text="{i18n>iOSNotification_column}" /></Column><Column id="columnEmail" visible="{/flags/emailNotificationsEnabled}" demandPopin="true"><Text id="columnEmailText" text="{i18n>eMailFld}" /></Column><Column id="columnHighPriority" demandPopin="true"><Text id="columnHighPriorityText" text="{i18n>highNotificationsBanner_column}"/></Column><Column id="columnEnable"><Text id="columnEnableText" text="{i18n>Notifications_Settings_Show_Type_column}"/></Column></columns><items><ColumnListItem id="columnListItemNotifications" type="Inactive"><cells><ObjectIdentifier id="objectIdentifierTitle" title="{NotificationTypeDesc}"/></cells><cells><CheckBox\n                            id="cellCheckboxMobile"\n                            editable="{=!${DoNotDeliver}}"\n                            selected="{= !${DoNotDeliverMob}}"\n                            select=".onSelectMobile"/></cells><cells><CheckBox\n                            id="cellCheckboxEmail"\n                            editable="{= ${IsEmailEnabled} &amp;&amp; !${DoNotDeliver}}"\n                            selected="{= !${DoNotDeliverEmail}}"\n                            select=".onSelectEmail"/></cells><cells><CheckBox\n                            id="cellCheckboxHighPrio"\n                            editable="{=!${DoNotDeliver}}"\n                            selected="{= ${PriorityDefault} === \'HIGH\'}"\n                            select=".onSelectHighPriority"/></cells><cells><Switch\n                                id="cellSwitchEnable"\n                                state="{= !${DoNotDeliver}}"\n                                change=".onEnableSwitchChange"/></cells></ColumnListItem></items></Table></VBox></mvc:View>\n',
	"sap/ushell/components/shell/Settings/search/Search.view.xml":'<mvc:View width="100%" controllerName="sap.ushell.components.shell.Settings.search.Search"\r\n  xmlns="sap.m"\r\n  xmlns:mvc="sap.ui.core.mvc"><VBox id="searchContent" class="sapUshellUserSettingDetailContent" /></mvc:View>',
	"sap/ushell/components/shell/Settings/spaces/SpacesSetting.view.xml":'<mvc:View\n    controllerName="sap.ushell.components.shell.Settings.spaces.SpacesSetting"\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"><VBox class="sapUiSmallMargin"><CheckBox\n            text="{i18n>spacesModeLabel}"\n            visible="{/spaces/visible}"\n            selected="{/spaces/selected}"><customData><core:CustomData key="help-id" value="SpacesEntry-spacesMode" writeToDom="true" /></customData></CheckBox><VBox class="sapUshellFlpSettingsDescriptionBorder" visible="{/spaces/visible}"><Text class="sapUshellFlpSettingsDescription sapUshellFlpSettingsWide" text="{i18n>spacesModeDescriptionText}"/></VBox><CheckBox\n            text="{i18n>hideEmptySpacesLabel}"\n            visible="{/hideEmptySpaces/visible}"\n            selected="{/hideEmptySpaces/selected}"><customData><core:CustomData key="help-id" value="SpacesEntry-hideEmptySpaces" writeToDom="true" /></customData></CheckBox><VBox class="sapUshellFlpSettingsDescriptionBorder" visible="{/hideEmptySpaces/visible}"><Text class="sapUshellFlpSettingsDescription sapUshellFlpSettingsWide" text="{i18n>hideEmptySpacesDescriptionText}"/></VBox><CheckBox\n            text="{i18n>showMyHomeLabel}"\n            visible="{/showMyHome/visible}"\n            selected="{/showMyHome/selected}"><customData><core:CustomData key="help-id" value="SpacesEntry-showMyHome" writeToDom="true" /></customData></CheckBox><VBox class="sapUshellFlpSettingsDescriptionBorder" visible="{/showMyHome/visible}"><Text class="sapUshellFlpSettingsDescription sapUshellFlpSettingsWide" text="{i18n>showMyHomeDescriptionText}"/></VBox><CheckBox\n            text="{i18n>showMyHomeImportLabel}"\n            visible="{/showMyHomeImport/visible}"\n            selected="{/showMyHomeImport/selected}"><customData><core:CustomData key="help-id" value="SpacesEntry-showMyHomeImport" writeToDom="true" /></customData></CheckBox><VBox class="sapUshellFlpSettingsDescriptionBorder" visible="{/showMyHomeImport/visible}"><Text class="sapUshellFlpSettingsDescription sapUshellFlpSettingsWide" text="{i18n>showMyHomeImportDescription}"/></VBox></VBox></mvc:View>\n',
	"sap/ushell/components/shell/Settings/userAccount/UserAccountImgConsentSelector.fragment.xml":'<core:FragmentDefinition height="100%" width="100%" xmlns="sap.m" xmlns:core="sap.ui.core"><VBox><CheckBox id="imageConsentForUserCheckBox" selected="{config>/isImageConsentForUser}" text="{i18n>imgConsentMsg}"/><Panel expandable="true" headerText="{i18n>userImageConsentDialogShowTermsOfUse}" width="auto"><content><Text text="{i18n>userImageConsentDialogTermsOfUse}"/></content></Panel></VBox></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/Settings/userAccount/UserAccountSelector.view.xml":'<mvc:View\n    controllerName="sap.ushell.components.shell.Settings.userAccount.UserAccountSelector"\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:core="sap.ui.core"\n    core:require="{\n        coreLibrary: \'sap/ui/core/library\'\n    }"><ObjectHeader icon="{config>/icon}"\n                  title="{config>/name}"\n                  backgroundDesign="Solid"\n                  class="sapUshellUserSettingDetailHeader"\n                  titleLevel="{= coreLibrary.TitleLevel.H3}"/><IconTabBar applyContentPadding="true"\n                backgroundDesign="Transparent"><items><IconTabFilter text="{i18n>UserAccountFld}" key="userAccountSetting"><core:Fragment fragmentName="sap.ushell.components.shell.Settings.userAccount.UserAccountSetting"\n                               type="XML"/></IconTabFilter><IconTabFilter visible="{config>/imgConsentEnabled}" text="{i18n>ProfileImgId}"\n                           key="userAccountImgConsentSelector"><core:Fragment\n                    fragmentName="sap.ushell.components.shell.Settings.userAccount.UserAccountImgConsentSelector"\n                    type="XML"/></IconTabFilter></items></IconTabBar></mvc:View>\n',
	"sap/ushell/components/shell/Settings/userAccount/UserAccountSetting.fragment.xml":'<core:FragmentDefinition\n    height="100%"\n    width="100%"\n    xmlns="sap.m"\n    xmlns:form="sap.ui.layout.form"\n    xmlns:core="sap.ui.core"><VBox class="sapUiSmallMargin"><form:SimpleForm\n            editable="false"\n            layout="ColumnLayout"\n            ariaLabelledBy="UserAccountFormLabel"><Label text="{i18n>UserAccountNameFld}" labelFor="userAccountuserName"/><Text text="{config>/name}" id="userAccountuserName"/><Label text="{i18n>UserAccountIdFld}" labelFor="userAccountuserId" visible="{config>/displayUserId}"/><Text text="{config>/id}" id="userAccountuserId" visible="{config>/displayUserId}"/><Label text="{i18n>UserAccountEmailFld}" labelFor="userAccountuserMail"/><Text text="{config>/mail}" id="userAccountuserMail"/><Label text="{i18n>UserAccountServerFld}" labelFor="userAccountuserServer"/><Text text="{config>/server}" id="userAccountuserServer"/></form:SimpleForm><core:InvisibleText id="UserAccountFormLabel" text="{i18n>UserAccountFld}" /></VBox><VBox id="userAccountPersonalizationSection" class="sapUiSmallMargin"\n        visible="{config>/isResetPersonalizationVisible}"><Label text="{i18n>userAccountPersonalizationLabel}"/><Button id="resetPersonalizationButton" text="{i18n>userAccountResetPersonalizationButton}"\n            press="showMessageBoxWarningDeletePersonalization"/><Text class="sapUshellFlpSettingsWideDescription" text="{i18n>userAccountResetPersonalizationDescriptionText}"/></VBox></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/Settings/userAccount/UserAccountSetting.view.xml":'<mvc:View\n    controllerName="sap.ushell.components.shell.Settings.userAccount.UserAccountSelector"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"\n    core:require="{\n            coreLibrary: \'sap/ui/core/library\'\n        }"><ObjectHeader\n        icon="{config>/icon}"\n        iconDensityAware="false"\n        title="{config>/name}"\n        backgroundDesign="Solid"\n        class="sapUshellUserSettingDetailHeader"\n        titleLevel="{= coreLibrary.TitleLevel.H3}"/><core:Fragment fragmentName="sap.ushell.components.shell.Settings.userAccount.UserAccountSetting"\n                   type="XML"></core:Fragment></mvc:View>\n',
	"sap/ushell/components/shell/Settings/userActivities/UserActivitiesSetting.view.xml":'<mvc:View\n    controllerName="sap.ushell.components.shell.Settings.userActivities.UserActivitiesSetting"\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"><VBox\n        class="sapUiSmallMarginBegin"\n        ariaLabelledBy="UserActivitiesSettingsLabel"><CheckBox id="enableTrackingCheckbox" selected="{/checkboxIsChecked}" text="{i18n>trackingLabel}"\n                  wrapping="true"/><Button text="{i18n>cleanActivityLabel}" press=".onClearHistory" visible="{/checkboxIsChecked}"/><core:InvisibleText id="UserActivitiesSettingsLabel" text="{i18n>userActivities}"/></VBox></mvc:View>\n',
	"sap/ushell/components/shell/Settings/userDefaults/manifest.json":'{"_version":"1.12.0","sap.app":{"id":"sap.ushell.components.shell.Settings.userDefaults","applicationVersion":{"version":"1.0.0"},"i18n":{"bundleUrl":"../../renderer/resources/resources.properties","supportedLocales":["","ar","bg","ca","cs","da","de","el","en","en_US","en_US_sappsd","en_US_saptrc","es","et","fi","fr","hi","hr","hu","it","iw","ja","kk","ko","lt","lv","ms","nl","no","pl","pt","ro","ru","sh","sk","sl","sv","th","tr","uk","vi","zh_CN","zh_TW"],"fallbackLocale":"en"},"ach":"CA-FLP-FE-COR","type":"application"},"sap.ui":{"technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":true,"rootView":{"viewName":"sap.ushell.components.shell.Settings.userDefaults.view.UserDefaultsSetting","type":"XML","async":true,"id":"defaultParametersSelectorView"},"dependencies":{"minUI5Version":"1.82","libs":{"sap.m":{},"sap.ui.comp":{},"sap.ui.layout":{}}},"contentDensities":{"compact":true,"cozy":true}}}',
	"sap/ushell/components/shell/Settings/userDefaults/view/ExtendedValueDialog.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:valueHelp="sap.ui.comp.valuehelpdialog"\n    xmlns:core="sap.ui.core"><valueHelp:ValueHelpDialog\n        id="extendedValueDialog"\n        basicSearchText="{/label}"\n        title="{/label}"\n        supportRanges="true"\n        supportRangesOnly="true"\n        key="{/key}"\n        displayFormat="UpperCase"\n        descriptionKey="{/label}"\n        filterMode="true"\n        stretch="{device>/system/phone}"\n        cancel=".closeValueHelp"\n        afterClose=".afterCloseValueHelp"></valueHelp:ValueHelpDialog></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/Settings/userDefaults/view/UserDefaultsSetting.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:smartvariants="sap.ui.comp.smartvariants"\n    xmlns:userDefaults="sap.ushell.components.shell.Settings.userDefaults"\n    controllerName="sap.ushell.components.shell.Settings.userDefaults.controller.UserDefaultsSetting"><VBox visible="{= ${systemContexts>/systemContexts}.length > 1}" class="sapUshellSystemContextsSelection"><HBox alignItems="Center"><Label labelFor="systemContextSelect" text="{i18n>userDefaultsSystemTitle}" /><Select\n                id="systemContextSelect"\n                selectedKey="{systemContexts>/selectedKey}"\n                items="{systemContexts>/systemContexts}"\n                change=".handleSystemContextChanged"><core:ListItem text="{systemContexts>label}" key="{systemContexts>id}" /></Select></HBox><Text class="sapUshellFlpSettingsWideDescription" text="{i18n>userDefaultsSystemContextInfo}" /></VBox><VBox><smartvariants:SmartVariantManagement\n            id="defaultSettingsVariantManagement"\n            class="sapUshellSmartVariantManagement"\n            showSetAsDefault="false"\n            visible="false"\n            standardItemText="{i18n>userDefaultsStandardView}" /></VBox><Text\n        text="{i18n>userDefaultsDiffState}"\n        visible="{ path: \'DirtyState>/selectedVariant\', formatter: \'.displayDiffText\' }"\n        class="sapUshellDefaultValuesDirtyState sapUiTinyMarginTop" /><userDefaults:UserDefaultsForm id="userDefaultsForm" persistencyKey="UserDefaultsFormPersKey" /></mvc:View>\n',
	"sap/ushell/components/shell/Settings/userLanguageRegion/LanguageRegionSelector.view.xml":'<mvc:View controllerName="sap.ushell.components.shell.Settings.userLanguageRegion.LanguageRegionSelector"\n    xmlns="sap.m"\n    xmlns:form="sap.ui.layout.form"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:core="sap.ui.core"><VBox class="sapUiSmallMargin" visible="{= !!${/isSettingsLoaded}}"><MessageStrip\n            text="{i18n>SettingsCuaWarning}"\n            type="Information"\n            visible="{/cuaFlags/showWarning}"\n            showIcon="true"\n            showCloseButton="false"\n            class="sapUiMediumMarginBottom" /><form:SimpleForm\n            id="languageForm"\n            editable="true"\n            layout="ColumnLayout"\n            ariaLabelledBy="LanguageSettingsLabel"><Label id="LanguageSettingsFormLabel" text="{i18n>languageAndRegionTit}" visible="{= !${/languageList}}" labelFor="languageSelectionInput"/><Text id="languageSelectionInput" text="{/selectedLanguageText}" visible="{= !${/languageList} }"/><Label text="{i18n>languageAndRegionTit}" visible="{= !!${/languageList}}" labelFor="languageSelectionSelect"/><ComboBox id="languageSelectionSelect"\n                    visible="{= !!${/languageList} }"\n                    enabled="{/cuaFlags/preferredLogonLanguage}"\n                    items="{/languageList}"\n                    selectedKey="{/selectedLanguage}"\n                    valueState="{= ${/selectedLanguage} ? \'None\' : \'Error\'}"\n                    width="100%"\n                    change="._handleLanguageSelectChange"><core:Item key="{key}" text="{text}" /></ComboBox><Label text="{i18n>dateFormatFld}" visible="{= !${/DateFormatList}}" labelFor="dateFormatCombo"/><Text id="dateFormatCombo" visible="{= !${/DateFormatList}}" text="{/selectedDatePattern}" /><Label text="{i18n>dateFormatFld}" visible="{= !!${/DateFormatList}}" labelFor="DateFormatSelectionSelect"/><Select id="DateFormatSelectionSelect"\n                    visible="{= !!${/DateFormatList}}"\n                    enabled="{/cuaFlags/dateFormat}"\n                    items="{/DateFormatList}"\n                    width="100%"\n                    selectedKey="{/selectedDatePattern}"><core:Item key="{value}" text="{description}" /></Select><Label text="{i18n>weekNumberingFld}" visible="{=!!${/CalendarWeekNumberingList}}" labelFor="WeekNumberingSelectionSelect"/><Select id="WeekNumberingSelectionSelect"\n                    showSecondaryValues="true"\n                    visible="{=!!${/CalendarWeekNumberingList}}"\n                    items="{/CalendarWeekNumberingList}"\n                    width="100%"\n                    selectedKey="{/selectedCalendarWeekNumbering}"\n                    wrapItemsText="true"\n                    columnRatio="2:3"><core:ListItem text="{title}" additionalText="{description}" key="{value}"/></Select><Label text="{i18n>timeZoneFld}" visible="{= ${/isEnableUserProfileSetting}}" labelFor="TimeZoneSelectionSelect"/><ComboBox\n                    id="TimeZoneSelectionSelect"\n                    visible="{= !!${/TimeZoneList}}"\n                    enabled="{/cuaFlags/timeZone}"\n                    items="{\n                        path: \'/TimeZoneList\',\n                        sorter: { path: \'description\' }\n                    }"\n                    width="100%"\n                    selectedKey="{/selectedTimeZone}"\n                    valueState="{= ${/selectedTimeZone} ? \'None\' : \'Error\'}"\n                ><core:Item key="{value}" text="{description}" /></ComboBox><Label visible="{= !${/isTimeZoneFromServerInUI5}}"/><Text text="{i18n>TimeZoneHelpingText}" class="sapUshellFlpSettingsHint" visible="{= !${/isTimeZoneFromServerInUI5}}" width="100%"/><Label text="{i18n>timeFormatFld}" visible="{= !${/TimeFormatList}}" labelFor="hoursSegmentedButton"/><SegmentedButton id="hoursSegmentedButton" visible="{= !${/TimeFormatList}}" enabled="false" selectedKey="{/selectedTimeFormat}"><items><SegmentedButtonItem key="12h" text="{i18n>btn12h}" /><SegmentedButtonItem key="24h" text="{i18n>btn24h}" /></items></SegmentedButton><Label text="{i18n>timeFormatFld}" visible="{= !!${/TimeFormatList}}" labelFor="TimeFormatSelectionSelect"/><Select id="TimeFormatSelectionSelect"\n                    visible="{= !!${/TimeFormatList}}"\n                    enabled="{/cuaFlags/timeFormat}"\n                    items="{/TimeFormatList}"\n                    width="100%"\n                    selectedKey="{/selectedTimeFormat}"><core:Item key="{value}" text="{description}" /></Select><Label text="{i18n>numberFormatFld}" visible="{= ${/isEnableUserProfileSetting}}" labelFor="NumberFormatSelectionSelect" /><Select id="NumberFormatSelectionSelect"\n                    visible="{= !!${/NumberFormatList}}"\n                    enabled="{/cuaFlags/numberFormat}"\n                    items="{/NumberFormatList}"\n                    width="100%"\n                    selectedKey="{/selectedNumberFormat}"><core:Item key="{value}" text="{description}" /></Select></form:SimpleForm><Text text="{i18n>LanguageAndRegionHelpingText}" class="sapUshellFlpSettingsWideDescription" visible="{= !!${/languageList}}" width="100%"/><core:InvisibleText id="LanguageSettingsLabel" text="{i18n>languageAndRegionForm}" /></VBox></mvc:View>\n'
});
//# sourceMappingURL=Component-preload.js.map
