// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/util/deepExtend","sap/ui/comp/smartform/ColumnLayout","sap/ui/comp/smartform/SmartForm","sap/ui/core/Control"],(e,t,r,o)=>{"use strict";const a=["sap.ui.comp.smartfield.SmartField","sap.m.Input"];const n=o.extend("sap.ushell.components.shell.Settings.userDefaults.UserDefaultsForm",{metadata:{properties:{persistencyKey:{type:"string"}},aggregations:{_smartForm:{type:"sap.ui.comp.smartform.SmartForm",multiple:false,visibility:"hidden"}},events:{}},renderer:{apiVersion:2,render:function(e,t){e.openStart("div",t);e.openEnd();e.renderControl(t.getAggregation("_smartForm"));e.close("div")}}});n.prototype.init=function(){const e=new r({editable:true});const o=new t({columnsM:1,columnsL:1,columnsXL:1});e.setLayout(o);this.setAggregation("_smartForm",e)};n.prototype.fetchVariant=function(){let e;let t;const r=this.getAggregation("_smartForm").getModel("MdlParameter");return this._getFieldControls().reduce((o,a)=>{e=a.getName();o[e]={value:r.getProperty(`/${e}/valueObject/value/`)};t=r.getProperty(`/${e}/valueObject/extendedValue/`);if(t){o[e].additionalValues=t}return o},{})};n.prototype.applyVariant=function(t){if(t){const r=this.getAggregation("_smartForm").getModel("MdlParameter");const o=this._getFieldControls();let a;let n;for(let s=0;s<o.length;s++){a=o[s].getName();if(t[a]!==undefined){if(o[s].getDataType&&o[s].getDataType()==="Edm.DateTime"){o[s].setValue(new Date(t[a].value))}else{o[s].setValue(t[a].value)}n=r.getProperty(`/${a}/valueObject/`);n.extendedValue=undefined;if(t[a].additionalValues){n=e(n,{extendedValue:t[a].additionalValues})}r.setProperty(`/${a}/valueObject`,n)}}}};n.prototype._getFieldControls=function(){return this.getControlsByFieldGroupId("UserDefaults").filter(e=>{const t=e.getMetadata().getName();return a.indexOf(t)!==-1})};n.prototype.addGroup=function(e){this.getAggregation("_smartForm").addGroup(e)};n.prototype.getGroups=function(){return this.getAggregation("_smartForm").getGroups()};n.prototype.removeGroup=function(e){this.getAggregation("_smartForm").removeGroup(e)};n.prototype.removeAllGroups=function(){this.getAggregation("_smartForm").removeAllGroups()};return n});
//# sourceMappingURL=UserDefaultsForm.js.map