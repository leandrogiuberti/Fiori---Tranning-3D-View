// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/m/SearchField","sap/ui/Device","sap/ui/core/Element","sap/ui/core/EventBus","sap/ui/core/IconPool","sap/ui/core/UIComponent","sap/ui/thirdparty/jquery","sap/ushell/Config","sap/ushell/Container","sap/ushell/components/shell/SearchCEP/SearchCEP.controller","sap/ushell/resources","sap/ushell/utils/UrlParsing"],(e,t,s,i,n,h,o,jQuery,r,a,l,c,S)=>{"use strict";return o.extend("sap.ushell.components.shell.SearchCEP.Component",{metadata:{version:"1.141.0",library:["sap.ushell","sap.ushell.components.shell"],dependencies:{libs:["sap.m"]}},createContent:function(){try{this.oRenderer=a.getRendererInternal("fiori2");this.oShellHeader=i.getElementById("shell-header");if(r.last("/core/shellBar/enabled")){this.oShellHeader.attachSearchButtonPress(this.onShellSearchButtonPressed.bind(this))}this.oRenderer.addHeaderEndItem({id:"sf",tooltip:"{i18n>openSearchBtn}",text:"{i18n>search}",ariaLabel:"{i18n>openSearchBtn}",icon:h.getIconURI("search"),visible:true,press:this.onShellSearchButtonPressed.bind(this)},true,false);this.oShellSearchBtn=i.getElementById("sf");this.oShellSearchBtn.data("help-id","shellHeader-search",true);this.oShellSearchBtn.addEventDelegate({onkeydown:this._keyDownSearchBtn.bind(this)});const e={width:"90%",placeholder:c.i18n.getText("search"),tooltip:c.i18n.getText("search"),enableSuggestions:true,suggest:this.onSuggest.bind(this),search:this.onSearch.bind(this)};this.oSF=new t("PlaceHolderSearchField",e);this.oSF.addStyleClass("sapUshellCEPSearchCenter");const s=this.getScreenSize();if(s==="S"){this.initSearchSSize()}else if(s==="M"||s==="L"){this.initSearchMLSizes()}else if(s==="XL"){this.initSearchXLSize()}this.oShellHeader.setSearch(this.oSF);this.oSearchCEPController=new l;this.oSF.addEventDelegate({onfocusin:this._onfocusin.bind(this),onAfterRendering:this._onAfterRendering.bind(this)});this.oSearchCEPController.getHomePageApps()}catch(t){e.info("Failed to create CEP search field content",t)}n.getInstance().publish("shell","searchCompLoaded",{delay:0})},initSearchSSize:function(){this.oSF.setWidth("60%");this.oShellHeader.setSearchState("COL",35,false)},initSearchMLSizes:function(){this.oShellHeader.setSearchState("COL",35,false)},initSearchXLSize:function(){this.oShellSearchBtn.setVisible(false);this.oShellHeader.setSearchState("EXP",35,false)},_onAfterRendering:function(e){const t=jQuery(this.oShellHeader.getDomRef()).find("#shell-header-hdr-search");t.addClass("CEPShellHeaderPadding");jQuery(this.oSF.getDomRef()).find("#PlaceHolderSearchField-search").attr("title",c.i18n.getText("search"));const s=a.getFLPUrl(true);const i=S.getHash(s);const n=i.split("&/")[0];if(this.oSF.getValue()){if(n==="Action-search"||n==="WorkZoneSearchResult-display"){jQuery(this.oSF.getDomRef()).blur()}}},_onfocusin:function(e){if(this.oSF.getEnableSuggestions()&&s.system.phone){jQuery(this.oSF.getDomRef()).find("input").attr("inputmode","search")}},onSuggest:function(e){if(this.oSF.getEnableSuggestions()&&s.system.phone){jQuery(this.oSF.getDomRef()).find("input").attr("inputmode","search")}if(i.getElementById("CEPSearchField")){this.oSearchCEPController.onSuggest(e)}else{this.oSearchCEPController.onInit()}},onSearch:function(e){if(i.getElementById("CEPSearchField")){this.oSearchCEPController.onSearch(e)}},exit:function(){this.oSearchCEPController.onExit()},expandSearch:function(){this.oShellHeader.setSearchState("EXP_S",35,false);this.oSF.focus()},onShellSearchButtonPressed:function(){this.oShellSearchBtn.setVisible(false);this.expandSearch()},collapseSearch:function(){this.oShellHeader.setSearchState("COL",35,false);this.oShellSearchBtn.setVisible(true)},getScreenSize:function(){const e=s.media.getCurrentRange(s.media.RANGESETS.SAP_STANDARD_EXTENDED);if(e.from>=1440){return"XL"}else if(e.from>=1024){return"L"}else if(e.from>=600){return"M"}else if(e.from>=0){return"S"}},_keyDownSearchBtn:function(e){if(e.code===13||e.code==="Enter"){setTimeout(()=>{this.oSF.focus()},500)}}})});
//# sourceMappingURL=Component.js.map