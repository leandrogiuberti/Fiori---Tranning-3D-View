//@ui5-bundle sap/ushell/components/shell/Notifications/Component-preload.js
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Notifications/Component", ["sap/base/Log","sap/ui/core/Element","sap/ui/core/EventBus","sap/ui/core/IconPool","sap/ui/core/InvisibleText","sap/ui/core/UIComponent","sap/ui/thirdparty/hasher","sap/ui/Device","sap/m/library","sap/m/Popover","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/library","sap/ushell/resources","sap/ushell/utils","sap/ushell/ui/shell/ShellHeadItem","sap/ushell/Container","sap/ushell/state/ShellModel","sap/ui/core/mvc/XMLView","sap/ui/core/Fragment"],(t,e,i,o,n,s,a,r,l,c,h,f,d,u,p,g,N,m,b,v)=>{"use strict";const C=10;const y=l.PlacementType;const I=d.FloatingNumberType;function w(){return e.getElementById("NotificationsCountButton")}function T(){return e.getElementById("shell-header").getNotificationsBtnDomRef()}return s.extend("sap.ushell.components.shell.Notifications.Component",{metadata:{version:"1.141.0",library:"sap.ushell.components.shell.Notifications",dependencies:{libs:["sap.m"]}},createContent:function(){this._aTimeouts=[];this.oRenderer=N.getRendererInternal("fiori2");this.oConfigModel=m.getConfigModel();N.getServiceAsync("NotificationsV2").then(t=>{this.oNotificationsService=t;if(this.oNotificationsService.isEnabled()===true){i.getInstance().subscribe("sap.ushell.services.Notifications","onNewNotifications",this._handleAlerts,this);this.oConfigModel.setProperty("/enableNotifications",true);this.oNotificationsService.init();if(this.oRenderer.getShellConfig().enableNotificationsUI===true){this.oConfigModel.setProperty("/enableNotificationsUI",true);this.oNotificationsService.registerNotificationsUpdateCallback(this._updateCount.bind(this),true)}this._createNotificationButton(this.oConfigModel);f.on("showNotifications").do(this._toggleNotifications.bind(this))}})},_createNotificationButton:function(t){const e=new g({id:"NotificationsCountButton",tooltip:u.i18n.getText("notificationsBtn_title"),icon:o.getIconURI("bell"),text:u.i18n.getText("notificationsBtn_title"),ariaLabel:u.i18n.getText("notificationsBtn_title"),ariaHaspopup:"dialog",enabled:true,selected:false,visible:"{configModel>/enableNotifications}",floatingNumber:"{configModel>/notificationsCount}",floatingNumberMaxValue:r.system.phone?99:999,floatingNumberType:I.Notifications,press:function(){f.emit("showNotifications",Date.now())}});e.setModel(t,"configModel");e.setModel(u.i18nModel,"i18n");this.oRenderer.showHeaderEndItem([e.getId()],false,["home","app"])},_handleAlerts:function(t,e,i){(i||[]).forEach(this.handleNotification.bind(this))},handleNotification:function(t){const e=()=>{if(a.getHash()!==`${t.NavigationTargetObject}-${t.NavigationTargetAction}`){if(t.NavigationTargetObject&&t.NavigationTargetAction){p.toExternalWithParameters(t.NavigationTargetObject,t.NavigationTargetAction,t.NavigationTargetParams)}}this.oNotificationsService.markRead(t.Id)};if(h.last("/core/notifications/enabled")){sap.ui.require(["sap/ushell/gen/ui5/webcomponents/dist/Label","sap/ushell/gen/ui5/webcomponents-fiori/dist/NotificationList","sap/ushell/gen/ui5/webcomponents-fiori/dist/NotificationListItem"],(i,o,n)=>{if(!this._oNotificationsAlertList){this._oNotificationsAlertList=new o({itemClick:e});this._oNotificationsAlertList.addStyleClass("sapUshellNotificationsAlertList");this.oRenderer.addRightFloatingContainerItem({id:this._oNotificationsAlertList.getId()},true,true)}const s=t=>{t.destroy();if(this._oNotificationsAlertList.getItems().length<=0){this.oRenderer.showRightFloatingContainer(false)}};const a=new n({titleText:t.SensitiveText?t.SensitiveText:t.Text,showClose:true,importance:"Important",text:t.SubTitle,read:false,footnotes:[new i({text:t.NotificationTypeDesc}),new i({text:p.formatDate(t.CreatedAt)})],close:t=>{s(t.getSource())}});a.addStyleClass("sapUshellNotificationsAlertListItem");this._oNotificationsAlertList.insertItem(a,0);this.oRenderer.showRightFloatingContainer(true);const r=setTimeout(s.bind(this,a),C*1e3);this._aTimeouts.push(r)})}else{const i=this.oRenderer.addRightFloatingContainerItem({press:e,close:function(){this.oRenderer.removeRightFloatingContainerItem(i.getId(),true)}.bind(this),datetime:u.i18n.getText("notification_arrival_time_now"),title:t.SensitiveText?t.SensitiveText:t.Text,description:t.SubTitle,unread:t.IsRead,priority:"High",hideShowMoreButton:true},true,true);this.oRenderer.showRightFloatingContainer(true);const o=setTimeout(()=>{this.oRenderer.removeRightFloatingContainerItem(i.getId(),true)},C*1e3);this._aTimeouts.push(o)}},_updateCount:function(){this._getPopover().then(e=>{if(!e.isOpen()){this.oNotificationsService.getUnseenNotificationsCount().then(t=>{this.oConfigModel.setProperty("/notificationsCount",parseInt(t,10))}).catch(e=>{t.error("Notifications - call to notificationsService.getCount failed: ",e)})}})},_wrapPopover:function(t,e){const i=new c("shellNotificationsPopover",{showHeader:!!e,customHeader:e,placement:y.Bottom,showArrow:true,content:t,horizontalScrolling:false,beforeOpen:()=>{this._resetCount()},beforeClose:t=>{t.getSource().getContent()[0].invalidate()}});i._oAriaLabelledByText=new n(`${i.getId()}-labelledBy`,{text:u.i18n.getText("NotificationToggleButton.NoNewNotifications")}).toStatic();i.addDependent(i._oAriaLabelledByText);i.addAriaLabelledBy(i._oAriaLabelledByText);i.addStyleClass("sapContrastPlus");return i},_getPopover:function(){if(!this._oNotificationsPopoverPromise){if(h.last("/core/notifications/enabled")){this._oNotificationsPopoverPromise=new Promise((t,e)=>{this.runAsOwner(()=>{b.create({id:this.createId("notificationsListContent"),viewName:"sap.ushell.components.shell.Notifications.NotificationsListPopoverContent",viewData:{notificationsService:this.oNotificationsService}}).then(async e=>{const i=e.getController();const o=await v.load({id:this.createId("notificationsListCustomHeader"),name:"sap.ushell.components.shell.Notifications.NotificationsListPopoverHeader",controller:i});o.setModel(e.getModel("i18n"),"i18n");o.setModel(e.getModel());const n=this._wrapPopover(e,o);n.addStyleClass("sapUshellNotificationsListPopup");n.attachBeforeOpen(()=>{this.oNotificationsService.setUnseenNotificationsCount(0);i.getNextPage(true)});n.setInitialFocus(i.byId("sapUshellNotificationsList"));n.attachAfterClose(this._updateCount.bind(this));t(n)}).catch(e)})})}else{this._oNotificationsPopoverPromise=new Promise((t,e)=>{b.create({id:"notificationsView",viewName:"sap.ushell.components.shell.Notifications.Notifications",viewData:{notificationsService:this.oNotificationsService}}).then(e=>{const i=e.byId("notificationIconTabBar");i.setAriaTexts({headerLabel:u.i18n.getText("Notifications.Popover.IconTabBar.Header.AriaLabel")});const o=e.byId("sapUshellNotificationsListDate");o.enhanceAccessibilityState=function(t,e){e.hidden=true;return e};const n=e.byId("sapUshellNotificationsListPriority");n.enhanceAccessibilityState=function(t,e){e.hidden=true;return e};const s=e.byId("sapUshellNotificationsListType");s.enhanceAccessibilityState=function(t,e){e.hidden=true;return e};const a=this._wrapPopover(e);a.addStyleClass("sapUshellNotificationsPopup");t(a)}).catch(e)})}}return this._oNotificationsPopoverPromise},_toggleNotifications:function(t){this._getPopover().then(i=>{let o;if(h.last("/core/shellBar/enabled")){o=T()}else{o=w();if(!o.$().width()){o=e.getElementById("endItemsOverflowBtn")}}if(i.isOpen()){i.close()}else if(t!==false){this._resetCount();i.openBy(o)}})},_resetCount:function(){this.oConfigModel.setProperty("/notificationsCount",0);this.oNotificationsService.notificationsSeen()},exit:function(){i.getInstance().unsubscribe("sap.ushell.services.Notifications","onNewNotifications",this._handleAlerts,this);if(this.oNotificationsService&&this.oNotificationsService.isEnabled()===true){this.oNotificationsService.destroy()}this.oNotificationsService=null;const t=w();if(t){this.oRenderer.hideHeaderEndItem(t,false);t.destroy()}this.oRenderer=null;let o=e.getElementById("notificationsView");if(o){o.destroy();o=null}this._aTimeouts.forEach(window.clearTimeout)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Notifications/Notifications.controller", ["sap/base/Log","sap/m/CustomListItem","sap/m/library","sap/m/MessageToast","sap/m/Text","sap/m/VBox","sap/ui/core/library","sap/ui/core/mvc/Controller","sap/ui/core/StaticArea","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ui/thirdparty/jquery","sap/ushell/Container","sap/ushell/resources","sap/ushell/utils"],(t,e,i,o,s,n,r,a,c,f,l,jQuery,h,u,g)=>{"use strict";const d=r.Priority;const I=i.ListType;const N=i.FlexAlignItems;async function T(t){const e=await h.getServiceAsync("MessageInternal");e.error(t)}return a.extend("sap.ushell.components.shell.Notifications.Notifications",{oPagingConfiguration:{MAX_NOTIFICATION_ITEMS_DESKTOP:400,MAX_NOTIFICATION_ITEMS_MOBILE:100,MIN_NOTIFICATION_ITEMS_PER_BUFFER:15,NOTIFICATION_ITEM_HEIGHT:f.system.phone||f.system.tablet?130:100,TAB_BAR_HEIGHT:100},onInit:function(){const t={};if(f.system.desktop){this.iMaxNotificationItemsForDevice=this.oPagingConfiguration.MAX_NOTIFICATION_ITEMS_DESKTOP}else{this.iMaxNotificationItemsForDevice=this.oPagingConfiguration.MAX_NOTIFICATION_ITEMS_MOBILE}const e=this.getView();this.oNotificationsService=e.getViewData().notificationsService;this.oSortingType=this.oNotificationsService.getOperationEnum();this.oKeyToSortingMap={sapUshellNotificationIconTabByDate:this.oSortingType.NOTIFICATIONS_BY_DATE_DESCENDING,sapUshellNotificationIconTabByType:this.oSortingType.NOTIFICATIONS_BY_TYPE_DESCENDING,sapUshellNotificationIconTabByPrio:this.oSortingType.NOTIFICATIONS_BY_PRIORITY_DESCENDING};t[this.oSortingType.NOTIFICATIONS_BY_DATE_DESCENDING]=this.getInitialSortingModelStructure();t[this.oSortingType.NOTIFICATIONS_BY_PRIORITY_DESCENDING]=this.getInitialSortingModelStructure();t[this.oSortingType.NOTIFICATIONS_BY_TYPE_DESCENDING]={};this.sCurrentSorting=this.oSortingType.NOTIFICATIONS_BY_DATE_DESCENDING;this.oPreviousTabKey="sapUshellNotificationIconTabByDate";const i=new l(t);i.setSizeLimit(1500);e.setModel(i);e.setModel(u.i18nModel,"i18n");this.getNextBuffer()},onAfterRendering:function(){this.removeTabIndexFromList(this.sCurrentSorting);const t=this.getView();const e=t.byId("notificationIconTabBar--header");if(e){e.getDomRef().classList.remove("sapContrastPlus")}t.$("-sapUshellNotificationIconTabByDate-text").attr("aria-label",u.i18n.getText("Notifications.ByDateDescending.AriaLabel"));t.$("-sapUshellNotificationIconTabByType-text").attr("aria-label",u.i18n.getText("Notifications.ByType.AriaLabel"));t.$("-sapUshellNotificationIconTabByPrio-text").attr("aria-label",u.i18n.getText("Notifications.ByPriority.AriaLabel"))},shouldFetchMoreNotifications:function(){const t=this.getModel();const e=t.getProperty(`/${this.sCurrentSorting}/hasMoreItemsInBackend`);const i=t.getProperty(`/${this.sCurrentSorting}/listMaxReached`);return e&&!i},getNextBuffer:async function(){const t=this.getModel();const e=this.getItemsFromModel(this.sCurrentSorting);let i;if(!this.shouldFetchMoreNotifications()){return}const o=this.getNumberOfItemsToFetchOnScroll(this.sCurrentSorting);if(o===0){t.setProperty(`/${this.sCurrentSorting}/hasMoreItems`,false);return}if(e!==undefined){i=e.length}if(i===0){this.addBusyIndicatorToTabFilter(this.sCurrentSorting)}t.setProperty(`/${this.sCurrentSorting}/inUpdate`,true);try{const t=await this.oNotificationsService.getNotificationsBufferBySortingType(this.sCurrentSorting,i,o);const e=this.oNotificationsService._getNotificationSettingsAvailability();if(e.state()==="pending"){this.oNotificationsService._userSettingInitialization()}this.addBufferToModel(this.sCurrentSorting,t)}catch(t){if(i===0){this.removeBusyIndicatorToTabFilter(this.sCurrentSorting);T(u.i18n.getText("errorOccurredMsg"))}}},getNextBufferForType:async function(){const t=this.getModel();const e=this.oSortingType.NOTIFICATIONS_BY_TYPE_DESCENDING;const i=t.getProperty(`/${e}`);const o=i.find(t=>t.Id===this.sCurrentExpandedType);if(!o||!o.hasMoreItems){return}await this.updateGroupHeaders(true)},addBufferToModel:function(t,e){const i=this.getModel();if(!e){i.setProperty(`/${t}/hasMoreItemsInBackend`,false);return}const o=this.getItemsFromModel(t);const s=e.length>=this.getNumberOfItemsToFetchOnScroll(t);i.setProperty(`/${t}/hasMoreItemsInBackend`,s);const n=o.concat(e);i.setProperty(`/${t}/aNotifications`,n);i.setProperty(`/${t}/inUpdate`,false);if(n.length>=this.iMaxNotificationItemsForDevice){this.handleMaxReached(t)}if(o.length===0){this.removeBusyIndicatorToTabFilter(t)}},isMoreCircleExist:function(t){const e=this.getNotificationList(t);const i=e.getItems();const o=i.length;const s=i[o-1];return!!o&&s.getMetadata().getName()==="sap.m.CustomListItem"},handleMaxReached:function(t){const e=this.getNotificationList(t);const i=Math.floor(this.oNotificationsService.getNotificationsCount());const o=i-this.iMaxNotificationItemsForDevice;const s=this.isMoreCircleExist(t);const n=this.getModel();n.setProperty(`/${this.sCurrentSorting}/moreNotificationCount`,o);n.setProperty(`/${this.sCurrentSorting}/listMaxReached`,o>=0);if(o>0&&!s){e.addItem(this.getMoreCircle(this.sCurrentSorting))}else if(o<=0&&s){e.removeItem(this.oMoreListItem)}},updateGroupHeaders:async function(e){const i=this.getModel();const o=this.oSortingType.NOTIFICATIONS_BY_TYPE_DESCENDING;const s=i.getProperty(`/${o}`);s.inUpdate=true;let n=0;if(this.sCurrentExpandedType){const t=s.find(t=>t.Id===this.sCurrentExpandedType);if(t){n=t.aNotifications.length;if(e){n+=this.getBasicBufferSize()}t.Busy=true}}i.setProperty(`/${o}`,s);this.addBusyIndicatorToTabFilter(o);try{const t=await this.oNotificationsService.getNotificationsGroupHeaders();const e=JSON.parse(t).value;e.inUpdate=false;let s=-1;e.forEach((t,e)=>{if(t.Id&&this.sCurrentExpandedType===t.Id){t.Collapsed=false;s=e}else{t.Collapsed=true;t.aNotifications=[]}});const r=this.sCurrentExpandedType;if(r){const t=e[s];if(t){t.aNotifications=await this.oNotificationsService.getNotificationsBufferInGroup(r,0,this.getNumberOfItemsToFetchOnUpdate(n))||[];if(t.aNotifications.length<this.getBasicBufferSize()){t.hasMoreItems=false}else{t.hasMoreItems=true}}}i.setProperty(`/${o}`,e)}catch(e){t.error("Notifications control - call to getNotificationsGroupHeaders or getNotificationsBufferInGroup failed: ",e,"sap.ushell.components.shell.Notifications.Notifications")}finally{this.removeBusyIndicatorToTabFilter(o);this._retainFocus()}},updateNotifications:async function(){const e=this.sCurrentSorting;this.addBusyIndicatorToTabFilter(e);const i=this.getNumberOfItemsToFetchOnScroll(e);try{const t=await this.oNotificationsService.getNotificationsBufferBySortingType(e,0,i);const o=this.getModel();o.setProperty(`/${e}/aNotifications`,t)}catch(e){t.error("Notifications control - call to notificationsService.getNotificationsBufferBySortingType failed: ",e,"sap.ushell.components.shell.Notifications.Notifications")}finally{this.removeBusyIndicatorToTabFilter(e);this._retainFocus()}},markRead:async function(t){this.setMarkReadOnModel(t,true);try{await this.oNotificationsService.markRead(t)}catch(e){T(u.i18n.getText("notificationsFailedMarkRead"));this.setMarkReadOnModel(t,false)}},onBeforeRendering:function(){if(!this._bDependencyCallbackRegistered){this._bDependencyCallbackRegistered=true;this.oNotificationsService.registerNotificationsUpdateCallback(this.refreshModel.bind(this),false)}},executeAction:function(t,e){return this.oNotificationsService.executeAction(t,e)},executeBulkAction:async function(t,e,i,s){let n;const r=this.getModel();const a=r.getProperty(`${s}/NotificationTypeDesc`)||r.getProperty(`${s}/NotificationTypeKey`);try{await this.oNotificationsService.executeBulkAction(i.Id,t);n=u.i18n.getText("notificationsSuccessExecuteBulkAction",[e,a]);o.show(n,{duration:4e3});await this.refreshModel()}catch(t){const i=t.succededNotifications&&t.succededNotifications.length;if(i){const s=t.failedNotifications.length;n=u.i18n.getText("notificationsPartialSuccessExecuteBulkAction",[e,i,s+i,a,s]);o.show(n,{duration:4e3});await this.refreshModel()}else{T(u.i18n.getText("notificationsFailedExecuteBulkAction"))}}finally{r.setProperty(`${s}/Busy`,false);this._retainFocus()}},dismissNotification:async function(t){try{await this.oNotificationsService.dismissNotification(t);await this.refreshModel();this._retainFocus()}catch(t){T(u.i18n.getText("notificationsFailedDismiss"))}},dismissBulkNotifications:async function(t){try{await this.oNotificationsService.dismissBulkNotifications(t.Id);await this.refreshModel();this._retainFocus()}catch(t){T(u.i18n.getText("notificationsFailedExecuteBulkAction"))}},onListItemPress:async function(t,e,i,o){if(e&&i){g.toExternalWithParameters(e,i,o)}await this.markRead(t)},addBusyIndicatorToTabFilter:function(t){const e=this.getNotificationList(t);e.setBusy(true);e.setShowNoData(false)},removeBusyIndicatorToTabFilter:function(t){const e=this.getNotificationList(t);e.setBusy(false);e.setShowNoData(true)},refreshModel:async function(){if(this.sCurrentSorting===this.oSortingType.NOTIFICATIONS_BY_TYPE_DESCENDING){await this.updateGroupHeaders()}else{await this.updateNotifications()}},setMarkReadOnModel:function(t,e){const i=this.getModel();let o=`/${this.sCurrentSorting}`;let s;const n=i.getProperty(o);if(this.sCurrentSorting===this.oSortingType.NOTIFICATIONS_BY_TYPE_DESCENDING){for(let t=0;t<n.length;t++){if(n[t].Id===this.sCurrentExpandedType){o=`${o}/${t}`;s=true;break}}if(!s){return}}o=`${o}/aNotifications`;const r=i.getProperty(o);r.some(i=>{if(i.Id===t){i.IsRead=e;return true}return false});i.setProperty(o,r)},onTabSelected:function(t){const e=t.getParameter("key");if(this.oPreviousTabKey!==e){this.sCurrentSorting=this.oKeyToSortingMap[e];this.oPreviousTabKey=e;this.refreshModel()}},getModel:function(){const t=this.getView();return t.getModel()},onNotificationItemPress:function(t){const e=this.getModel();const i=t.getSource();const o=i.getBindingContext();const s=o.getPath();const n=e.getProperty(s);const r=n.NavigationTargetObject;const a=n.NavigationTargetAction;const c=n.NavigationTargetParams;const f=n.Id;this.onListItemPress(f,r,a,c)},onNotificationItemClose:function(t){const e=this.getModel();this._retainFocus();const i=t.getSource();const o=i.getBindingContext();const s=o.getPath();const n=e.getProperty(s);const r=n.Id;this.dismissNotification(r)},onNotificationItemButtonPress:function(t){const e=this.getModel();const i=t.getSource();const s=i.getBindingContext();const n=s.getPath();const r=e.getProperty(n);const a=n.split("/");const c=this.sCurrentSorting===this.oSortingType.NOTIFICATIONS_BY_TYPE_DESCENDING;const f=c?`/${a[1]}/${a[2]}/${a[3]}/${a[4]}`:`/${a[1]}/${a[2]}/${a[3]}`;const l=e.getProperty(f);const h=l.Id;e.setProperty(`${f}/Busy`,true);return this.executeAction(h,r.ActionId).then(t=>{if(t?.isSucessfull){if(t.message&&t.message.length){o.show(t.message,{duration:4e3})}else{const t=r.ActionText;o.show(u.i18n.getText("ActionAppliedToNotification",[t]),{duration:4e3})}if(t.DeleteOnReturn!==false){this.refreshModel();this.oNotificationsService._addDismissNotifications(h)}}else if(t){T(t.message)}else{T(u.i18n.getText("notificationsFailedExecuteAction"))}}).catch(()=>{T(u.i18n.getText("notificationsFailedExecuteAction"))}).finally(()=>{this._retainFocus();e.setProperty(`${f}/Busy`,false)})},onNotificationGroupItemClose:function(t){const e=this.getModel();const i=t.getSource();const o=i.getBindingContext();const s=o.getPath();const n=s.split("/");const r=e.getProperty(`/${n[1]}/${n[2]}`);this.dismissBulkNotifications(r)},onNotificationGroupItemCollapse:function(t){const e=this.getModel();const i=t.getSource();const o=i.getBindingContext();const s=o.getPath();if(i.getCollapsed()){delete this.sCurrentExpandedType}else{e.setProperty(`${s}/Busy`,true);this.onExpandGroup(i)}},onNotificationGroupItemButtonPress:function(t){const e=this.getModel();const i=t.getSource();const o=i.getBindingContext();const s=o.getPath();const n=e.getProperty(s);const r=s.split("/");const a=`/${r[1]}/${r[2]}`;const c=e.getProperty(a);this._retainFocus();e.setProperty(`${a}/Busy`,true);this.executeBulkAction(n.ActionId,i.getProperty("text"),c,a)},onListUpdateStarted:function(t){const e=this.getModel();if(t.getParameter("reason")==="Growing"){if(!e.getProperty(`/${this.sCurrentSorting}/inUpdate`)){if(this.sCurrentSorting===this.oSortingType.NOTIFICATIONS_BY_TYPE_DESCENDING){this.getNextBufferForType()}else{this.getNextBuffer()}}}},getNumberOfItemsInScreen:function(){const t=jQuery(window).height();const e=(t-this.oPagingConfiguration.TAB_BAR_HEIGHT)/this.oPagingConfiguration.NOTIFICATION_ITEM_HEIGHT;return Math.ceil(e)},getBasicBufferSize:function(){return Math.max(this.getNumberOfItemsInScreen()*3,this.oPagingConfiguration.MIN_NOTIFICATION_ITEMS_PER_BUFFER)},getNumberOfItemsToFetchOnScroll:function(t){const e=(this.getItemsFromModel(t)||[]).length;const i=this.getBasicBufferSize();if(e>=this.iMaxNotificationItemsForDevice){return 0}if(e+i>this.iMaxNotificationItemsForDevice){return this.iMaxNotificationItemsForDevice-e}return i},getNumberOfItemsToFetchOnUpdate:function(t){const e=this.getBasicBufferSize();const i=Math.ceil(t/e);const o=i>0?i*e:e;return o>this.iMaxNotificationItemsForDevice?this.iMaxNotificationItemsForDevice:o},getItemsFromModel:function(t){const e=this.getModel();return e.getProperty(`/${t||this.sCurrentSorting}/aNotifications`)},getInitialSortingModelStructure:function(){return{hasMoreItemsInBackend:true,listMaxReached:false,aNotifications:[],inUpdate:false,moreNotificationCount:""}},onExpandGroup:function(t){const e=this.getModel();const i=t.getBindingContextPath();const o=e.getProperty(i);this.sCurrentExpandedType=o.Id;this.refreshModel()},getNotificationList:function(t){const e=this.getView();switch(t){case this.oSortingType.NOTIFICATIONS_BY_DATE_DESCENDING:return e.byId("sapUshellNotificationsListDate");case this.oSortingType.NOTIFICATIONS_BY_PRIORITY_DESCENDING:return e.byId("sapUshellNotificationsListPriority");default:return e.byId("sapUshellNotificationsListType")}},removeTabIndexFromList:function(t){const e=this.getNotificationList(t);const i=e.$().children().get(1);if(i){i.removeAttribute("tabindex")}},getMoreCircle:function(t){const i=this.getModel();const o=new e({type:I.Inactive,content:new n({items:[new n({items:[new s({text:`{/${t}/moreNotificationCount}`}).addStyleClass("sapUshellNotificationsMoreCircleCount").setModel(i),new s({text:u.i18n.getText("moreNotifications")})],alignItems:N.Center}).addStyleClass("sapUshellNotificationsMoreCircle"),new s({text:u.i18n.getText("moreNotificationsAvailable_message"),textAlign:"Center"}).addStyleClass("sapUshellNotificationsMoreHelpingText"),new s({text:u.i18n.getText("processNotifications_message"),textAlign:"Center"}).addStyleClass("sapUshellNotificationsMoreHelpingText")]}).addStyleClass("sapUshellNotificationsMoreVBox")}).addStyleClass("sapUshellNotificationsMoreListItem");this.oMoreListItem=o;return o},_retainFocus:function(){const t=document.activeElement;if(!t||document.body===t||!c.contains(t)){const t=this.getView();const e=t.byId("notificationIconTabBar");const i=e.getSelectedKey();const o=e.getItems().find(t=>t.getKey()===i);if(o){o.focus()}}},priorityFormatter:function(t){if(t){t=t.charAt(0)+t.substr(1).toLowerCase();return d[t]}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Notifications/NotificationsList.controller", ["sap/base/util/deepExtend","sap/m/MessageToast","sap/ui/core/format/DateFormat","sap/ui/core/Fragment","sap/ui/core/mvc/Controller","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ushell/Container","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/utils"],(t,e,i,o,s,n,a,r,c,f,g)=>{"use strict";async function u(t){const e=await r.getServiceAsync("MessageInternal");e.error(t)}return s.extend("sap.ushell.components.shell.Notifications.Notifications",{oPagingConfiguration:{MAX_NOTIFICATION_ITEMS_DESKTOP:400,MAX_NOTIFICATION_ITEMS_MOBILE:100,NOTIFICATIONS_COUNT_INITIAL:60,NOTIFICATIONS_COUNT:30},oSetFocusReason:{ListRefreshed:"ListRefreshed",MoreButtonPressed:"MoreButtonPressed",NotificationRemoved:"NotificationRemoved"},onInit:function(){if(n.system.desktop){this.iMaxNotificationItemsForDevice=this.oPagingConfiguration.MAX_NOTIFICATION_ITEMS_DESKTOP}else{this.iMaxNotificationItemsForDevice=this.oPagingConfiguration.MAX_NOTIFICATION_ITEMS_MOBILE}const t=this.getView();this.oNotificationsService=t.getViewData().notificationsService;this.oSortingTypes=this.oNotificationsService.getOperationEnum();this.sCurrentSorting=this.oSortingTypes.NOTIFICATIONS_BY_DATE_DESCENDING;this._oItemSet=new Set;const e=new a({settingsAvailable:false});e.setSizeLimit(1500);t.setModel(e);t.setModel(f.i18nModel,"i18n");this._resetModel();const i=this.oNotificationsService._getNotificationSettingsAvailability();if(i.state()==="pending"){this.oNotificationsService._userSettingInitialization()}this.oNotificationsService._getNotificationSettingsAvailability().then(t=>{if(t.settingsAvailable){this._getModel().setProperty("/settingsAvailable",true)}})},onAfterRendering:function(){this._sortUpdateSelectionState()},getNextPage:async function(t){const e=this._getModel();let i;if(t){this.getView().setVisible(false);i=await this.getOwnerComponent()._getPopover();this._resetModel()}else{i=this.byId("sapUshellNotificationsListMoreButton")}if(!this._moreNotificationsCanBeFetched()){return}const o=this._getNumberOfNotificationsToFetch();if(o===0){return}i.setBusy(true);e.setProperty("/inUpdate",true);try{let i=0;const s=this._oItemSet.size;if(!t&&s>0){await this.oNotificationsService.getNotifications();i=parseInt(await this.oNotificationsService.getUnseenNotificationsCount(),10)}const n=s+i;const a=await this.oNotificationsService.getNotificationsBufferBySortingType(this.sCurrentSorting,n,o);if(!a||a.length===0){e.setProperty("/hasMoreItemsInBackend",false)}else{const t=a.length>=this._getNumberOfNotificationsToFetch();e.setProperty("/hasMoreItemsInBackend",t);const i=a.filter(t=>{if(!this._oItemSet.has(t.Id)){this._oItemSet.add(t.Id);return true}return false});const o=e.getProperty("/notifications");const s=this._groupNotifications(o,i);e.setProperty("/notifications",s);e.refresh(true)}}catch(t){await u(f.i18n.getText("errorOccurredMsg"))}finally{this._updateListMaxReached();e.setProperty("/inUpdate",false);this.getView().setVisible(true);i.setBusy(false);const o=t?this.oSetFocusReason.ListRefreshed:this.oSetFocusReason.MoreButtonPressed;await this._setFocus(o)}},_resetModel:function(){const t=this._getModel();t.setProperty("/notifications",[]);this._oItemSet.clear();t.setProperty("/hasMoreItemsInBackend",true);t.setProperty("/listMaxReached",false);t.setProperty("/inUpdate",false)},_groupNotifications:function(t,e){t=t.length>0?t:undefined;if(this.sCurrentSorting===this.oSortingTypes.NOTIFICATIONS_BY_PRIORITY_DESCENDING){return this._groupNotificationsByPriority(t,e)}return this._groupNotificationsByTimePeriods(t,e)},_groupNotificationsByPriority:function(t,e){const i=t||this._getGroupsForPriority();for(let t=0;t<e.length;t++){const o=e[t];if(o.Priority.toUpperCase()==="HIGH"){i[0].items.push(o)}else{i[1].items.push(o)}}return i},_groupNotificationsByTimePeriods:function(t,e){const o=new Date;const s=24*60*60*1e3;const n=i.getDateInstance({pattern:"dMy"});const a=n.format(o);const r=n.format(new Date(Date.now()-s));const c=i.getDateInstance({pattern:"w"});const f=parseInt(c.format(o),10);const g=new Date;g.setFullYear(g.getFullYear()-1,11,31);const u=f-1||parseInt(c.format(g),10);const h=i.getDateInstance({pattern:"M"});const l=parseInt(h.format(o),10);const m=l-1||12;const d=i.getDateInstance({pattern:"y"});const I=parseInt(d.format(o),10);const p=t||this._getGroupsForTimePeriods();const N={TODAY:0,YESTERDAY:1,THIS_WEEK:2,LAST_WEEK:3,THIS_MONTH:4,LAST_MONTH:5,THIS_YEAR:6,OLDER:7};for(let t=0;t<e.length;t++){const i=e[t];const o=new Date(i.CreatedAt);const s=n.format(o);if(s===a){p[N.TODAY].items.push(i);continue}if(s===r){p[N.YESTERDAY].items.push(i);continue}const g=parseInt(d.format(o),10);const T=parseInt(c.format(o),10);if(g===I&&T===f){p[N.THIS_WEEK].items.push(i);continue}if(g===I&&T===u){p[N.LAST_WEEK].items.push(i);continue}const _=parseInt(h.format(o),10);if(g===I&&_===l){p[N.THIS_MONTH].items.push(i);continue}if(g===I&&_===m||g===I-1&&m===12){p[N.LAST_MONTH].items.push(i);continue}if(g===I){p[N.THIS_YEAR].items.push(i);continue}p[N.OLDER].items.push(i)}return p},_getGroupsForPriority:function(){return[{key:"IMPORTANT",titleText:f.i18n.getText("Notifications.Popover.Group.Important"),items:[]},{key:"OTHERS",titleText:f.i18n.getText("Notifications.Popover.Group.Others"),items:[]}]},_getGroupsForTimePeriods:function(){return[{key:"TODAY",titleText:f.i18n.getText("Notifications.Popover.Group.Today"),items:[]},{key:"YESTERDAY",titleText:f.i18n.getText("Notifications.Popover.Group.Yesterday"),items:[]},{key:"THIS_WEEK",titleText:f.i18n.getText("Notifications.Popover.Group.ThisWeek"),items:[]},{key:"LAST_WEEK",titleText:f.i18n.getText("Notifications.Popover.Group.LastWeek"),items:[]},{key:"THIS_MONTH",titleText:f.i18n.getText("Notifications.Popover.Group.ThisMonth"),items:[]},{key:"LAST_MONTH",titleText:f.i18n.getText("Notifications.Popover.Group.LastMonth"),items:[]},{key:"THIS_YEAR",titleText:f.i18n.getText("Notifications.Popover.Group.ThisYear"),items:[]},{key:"OLDER",titleText:f.i18n.getText("Notifications.Popover.Group.Older"),items:[]}]},_markNotificationRead:async function(t){const e=t.getBindingContext().getObject();try{await this.oNotificationsService.markRead(e.Id);t.getBindingContext().setProperty("IsRead",true)}catch(t){await u(f.i18n.getText("notificationsFailedMarkRead"))}},_moreNotificationsCanBeFetched:function(){const t=this._getModel();const e=t.getProperty("/hasMoreItemsInBackend");const i=t.getProperty("/listMaxReached");return e&&!i},_updateListMaxReached:function(){const t=this._getModel();const e=this._getNumberOfNotificationsToFetch()<=0;t.setProperty("/listMaxReached",e)},_sortUpdateSelectionState:function(){const t=o.byId(this.getOwnerComponent().createId("notificationsListCustomHeader"),"sortMenu").getItems();t.forEach(t=>{if(t.data("sortBy")===this.sCurrentSorting){t.setIcon("sap-icon://accept");t.setSelected(true)}else{t.setIcon("");t.setSelected(false)}})},_getModel:function(){return this.getView().getModel()},_getNumberOfNotificationsToFetch:function(){const t=this._oItemSet.size;const e=t>0?this.oPagingConfiguration.NOTIFICATIONS_COUNT:this.oPagingConfiguration.NOTIFICATIONS_COUNT_INITIAL;if(t>=this.iMaxNotificationItemsForDevice){return 0}if(t+e>this.iMaxNotificationItemsForDevice){return this.iMaxNotificationItemsForDevice-t}return e},_removeItemFromModel:async function(e,i){const o=this._getModel();const s=o.getObject(i)?.items||[];const n=s.findIndex(t=>t.Id===e);if(n===-1){return}s.splice(n,1);this._oItemSet.delete(e);o.setProperty(`${i}/items`,t([],s));this._updateListMaxReached();o.refresh(true);if(this._oItemSet.size===0&&!this._moreNotificationsCanBeFetched()){(await this.getOwnerComponent()._getPopover()).close()}},_setFocus:async function(t,e){const i=this._oItemSet.size>0;const o=this._moreNotificationsCanBeFetched();const s=this.byId("sapUshellNotificationsList");const n=()=>{const t=this.byId("sapUshellNotificationsListNoData");const e={onAfterRendering:()=>{t.focus();t.removeEventDelegate(e)}};t.addEventDelegate(e)};function a(t){t?.getParent()?.setCollapsed(false);const e={onAfterRendering:()=>{setTimeout(()=>{t?.getFocusDomRef()?.focus()},0);t.removeEventDelegate(e)}};t.addEventDelegate(e)}switch(t){case this.oSetFocusReason.ListRefreshed:if(i){const t=s.getItems()[0];const e=t?.getItems()[0];a(e)}else{n()}break;case this.oSetFocusReason.MoreButtonPressed:if(o){this.byId("sapUshellNotificationsListMoreButton")?.focus()}else{const t=s.getItems().length-1;const e=s.getItems()[t];const i=e?.getItems().length-1;const o=e?.getItems()[i];a(o)}break;case this.oSetFocusReason.NotificationRemoved:if(i){if(!e){break}a(e)}else if(o){this.byId("sapUshellNotificationsListMoreButton")?.focus();await this.getNextPage(false)}else{n()}break;default:(await this.getOwnerComponent()._getPopover()).focus();break}},_handleRemove:async function(t,e){const i=t.getParent();const o=i.getParent();const s=o.getItems().indexOf(i);const n=Math.max(s-1,0);const a=s-1<0;const r=i.getItems().length<=1;if(r){(await this.getOwnerComponent()._getPopover()).focus()}e().then(()=>{if(r){const t=o.getItems()[n];let e=0;if(!a){e=t?.getItems().length-1}const i=t?.getItems()[e];this._setFocus(this.oSetFocusReason.NotificationRemoved,i)}})},onLoadMorePress:async function(){const t=this._getModel();if(!t.getProperty("/inUpdate")){await this.getNextPage(false)}},onSettingsPress:async function(){c.emit("openUserSettings",{time:Date.now(),targetEntryId:"notificationsEntry"});(await this.getOwnerComponent()._getPopover()).close()},onSortMenuPress:function(){o.byId(this.getOwnerComponent().createId("notificationsListCustomHeader"),"sortMenu").setOpen(true)},onSortMenuItemPress:async function(t){const e=t.getParameter("item");this.sCurrentSorting=e.data("sortBy")||this.oSortingTypes.NOTIFICATIONS_BY_DATE_DESCENDING;this._sortUpdateSelectionState(e.data("sortBy"));await this.getNextPage(true)},onNotificationPress:async function(t){const e=t.getParameter("item");if(this._bRemoving||!e?.isA||!e.isA("sap.ushell.gen.ui5.webcomponents-fiori.dist.NotificationListItem")){return}const i=e.getBindingContext().getObject();const o=i.NavigationTargetObject;const s=i.NavigationTargetAction;const n=i.NavigationTargetParams;if(o&&s){g.toExternalWithParameters(o,s,n)}await this._markNotificationRead(e)},onNotificationRemovePress:async function(t){this._bRemoving=true;const e=t.getParameter("item");const i=e.getParent().getBindingContext().getPath();return this._handleRemove(e,async()=>{const t=e.getBindingContext().getObject();return this.oNotificationsService.dismissNotification(t.Id).then(()=>this._removeItemFromModel(t.Id,i)).finally(()=>{this._bRemoving=false})}).catch(async()=>{await u(f.i18n.getText("notificationsFailedDismiss"))})},onNotificationActionPress:async function(t){const i=t.getParameter("item");const o=i.getBindingContext().getObject();const s=i.getParent().getParent();const n=s.getBindingContext().getObject();s.setBusy(true);this._bRemoving=true;return this.oNotificationsService.executeAction(n.Id,o.ActionId).then(async t=>{if(t?.isSucessfull){if(t.message&&t.message.length){e.show(t.message,{duration:4e3})}else{const t=o.ActionText;e.show(f.i18n.getText("ActionAppliedToNotification",[t]),{duration:4e3})}if(t.DeleteOnReturn!==false){await this._handleRemove(s,async()=>{this.oNotificationsService._addDismissNotifications(n.Id);const t=s.getParent().getBindingContext().getPath();await this._removeItemFromModel(n.Id,t);s.setBusy(false)})}}else if(t){await u(t.message)}else{await u(f.i18n.getText("notificationsFailedExecuteAction"))}}).catch(async()=>{await u(f.i18n.getText("notificationsFailedExecuteAction"))}).finally(()=>{this._bRemoving=false;s.setBusy(false)})},formatShowNoDataIllustration:function(t,e){return this._oItemSet.size===0&&!t&&!e}})});
sap.ui.require.preload({
	"sap/ushell/components/shell/Notifications/Notifications.view.xml":'<mvc:View\n    controllerName="sap.ushell.components.shell.Notifications.Notifications"\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:core="sap.ui.core"\n    class="sapUshellNotificationsView"><IconTabBar\n        id="notificationIconTabBar"\n        backgroundDesign="Transparent"\n        headerBackgroundDesign="Transparent"\n        expandable="false"\n        selectedKey="sapUshellNotificationIconTabByDate"\n        select="onTabSelected"\n        class="sapUshellNotificationTabBar"><items><IconTabFilter\n                id="sapUshellNotificationIconTabByDate"\n                key="sapUshellNotificationIconTabByDate"\n                text="{i18n>notificationsSortByDate}"><NotificationList\n                    id="sapUshellNotificationsListDate"\n                    class="sapUshellNotificationsList sapContrastPlus"\n                    showSeparators="Inner"\n                    mode="None"\n                    noDataText="{i18n>noNotificationsMsg}"\n                    growing="true"\n                    growingThreshold="10"\n                    growingScrollToLoad="true"\n                    updateStarted=".onListUpdateStarted"\n                    items="{path: \'/notificationsByDateDescending/aNotifications\', templateShareable: true}"><core:Fragment fragmentName="sap.ushell.components.shell.Notifications.NotificationsListItem" type="XML"/></NotificationList></IconTabFilter><IconTabFilter\n                id="sapUshellNotificationIconTabByType"\n                key="sapUshellNotificationIconTabByType"\n                text="{i18n>notificationsSortByType}"><core:Fragment fragmentName="sap.ushell.components.shell.Notifications.NotificationsGroupListItem" type="XML"/></IconTabFilter><IconTabFilter\n                id="sapUshellNotificationIconTabByPrio"\n                key="sapUshellNotificationIconTabByPrio"\n                text="{i18n>notificationsSortByPriority}"><NotificationList\n                    id="sapUshellNotificationsListPriority"\n                    class="sapUshellNotificationsList sapContrastPlus"\n                    mode="None"\n                    noDataText="{i18n>noNotificationsMsg}"\n                    growing="true"\n                    growingThreshold="10"\n                    growingScrollToLoad="true"\n                    updateStarted=".onListUpdateStarted"\n                    items="{path: \'/notificationsByPriorityDescending/aNotifications\', templateShareable: true}"><core:Fragment fragmentName="sap.ushell.components.shell.Notifications.NotificationsListItem" type="XML"/></NotificationList></IconTabFilter></items></IconTabBar></mvc:View>\n',
	"sap/ushell/components/shell/Notifications/NotificationsGroupListItem.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    core:require="{\n        utils: \'sap/ushell/utils\'\n    }"><NotificationList\n        id="sapUshellNotificationsListType"\n        class="sapUshellNotificationsList sapContrastPlus"\n        mode="SingleSelect"\n        showSeparators="Inner"\n        noDataText="{i18n>noNotificationsMsg}"\n        items="{/notificationsByTypeDescending}"><NotificationListGroup\n            title="{GroupHeaderText}"\n            collapsed="{Collapsed}"\n            showEmptyGroup="true"\n            showItemsCounter="false"\n            enableCollapseButtonWhenEmpty="true"\n            autoPriority="false"\n            datetime="{ path: \'CreatedAt\', formatter: \'utils.formatDate\' }"\n            priority="{ path: \'Priority\', formatter: \'.priorityFormatter\' }"\n            busy="{= !!${Busy}}"\n            buttons="{\n                path: \'Actions\',\n                templateShareable: true,\n                sorter: { path: \'Nature\', descending: true }\n            }"\n            items="{\n                path: \'aNotifications\',\n                templateShareable: true\n            }"\n            close="onNotificationGroupItemClose"\n            onCollapse="onNotificationGroupItemCollapse"><core:Fragment fragmentName="sap.ushell.components.shell.Notifications.NotificationsListItem" type="XML" /><buttons><Button text="{GroupActionText}" press=".onNotificationGroupItemButtonPress" /></buttons></NotificationListGroup></NotificationList></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/Notifications/NotificationsListItem.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    core:require="{Utils: \'sap/ushell/utils\'}"><NotificationListItem\n        class="sapUshellNotificationsListItem sapContrastPlus"\n        press="onNotificationItemPress"\n        close="onNotificationItemClose"\n        datetime="{path: \'CreatedAt\', formatter: \'Utils.formatDate\'}"\n        description="{SubTitle}"\n        title="{= ${SensitiveText} ? ${SensitiveText} : ${Text}}"\n        buttons="{\n            path: \'Actions\',\n            sorter: {\n                path: \'Nature\',\n                descending: true\n            },\n            templateShareable: true\n        }"\n        unread="{= !${IsRead}}"\n        busy="{= ${Busy} ? ${Busy} : false}"\n        priority="{ path: \'Priority\', formatter: \'.priorityFormatter\'}"><buttons><Button\n                text="{ActionText}"\n                press="onNotificationItemButtonPress"/></buttons></NotificationListItem></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/Notifications/NotificationsListPopoverContent.view.xml":'<mvc:View\n    controllerName="sap.ushell.components.shell.Notifications.NotificationsList"\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:core="sap.ui.core"\n    xmlns:thirdparty="sap.ushell.gen.ui5.webcomponents-fiori.dist"\n    xmlns:thirdpartywc="sap.ushell.gen.ui5.webcomponents.dist"\n    core:require="{\n        formatMessage: \'sap/base/strings/formatMessage\',\n        Utils: \'sap/ushell/utils\',\n        mobileLibrary: \'sap/m/library\'\n    }"\n><thirdparty:NotificationList\n        id="sapUshellNotificationsList"\n        class="sapUshellNotificationsList sapContrastPlus"\n        itemClick=".onNotificationPress"\n        items="{\n            path: \'/notifications\',\n            filters: { path: \'items/length\', operator: \'GT\', value1: 0 },\n            templateShareable: false\n        }"\n    ><thirdparty:NotificationListGroupItem\n            items="{\n                path: \'items\',\n                templateShareable: false\n            }"\n            titleText="{titleText}"\n        ><thirdparty:NotificationListItem\n                titleText="{= ${SensitiveText} ? ${SensitiveText} : ${Text} }"\n                showClose="true"\n                close=".onNotificationRemovePress"\n                importance="{= ${Priority}.toUpperCase() === \'HIGH\' ? \'Important\' : \'Standard\'}"\n                text="{SubTitle}"\n                read="{= !!${IsRead} }"\n            ><thirdparty:footnotes><thirdpartywc:Label text="{path: \'CreatedAt\', formatter: \'Utils.formatDate\'}" wrappingType="None" /></thirdparty:footnotes><thirdparty:menu><thirdpartywc:Menu\n                        visible="{= !!${Actions} &amp;&amp; ${Actions}.length &gt; 0}"\n                        items="{path: \'Actions\', templateShareable: false}"\n                        itemClick=".onNotificationActionPress"\n                    ><thirdpartywc:MenuItem text="{ActionText}"></thirdpartywc:MenuItem></thirdpartywc:Menu></thirdparty:menu></thirdparty:NotificationListItem></thirdparty:NotificationListGroupItem></thirdparty:NotificationList><VBox\n        class="sapUiTinyMarginBeginEnd sapUiTinyMarginBottom"\n        width="auto"\n        alignItems="Stretch"><Button\n            id="sapUshellNotificationsListMoreButton"\n            text="{i18n>Notifications.Popover.Button.LoadMore}"\n            width="100%"\n            press=".onLoadMorePress"\n            visible="{= ${/hasMoreItemsInBackend} &amp;&amp; !${/listMaxReached} }"\n        /></VBox><IllustratedMessage\n        id="sapUshellNotificationsListNoData"\n        illustrationType="{= mobileLibrary.IllustratedMessageType.NoNotifications}"\n        title="{i18n>Notifications.Popover.NoData.Title}"\n        description="{i18n>Notifications.Popover.NoData.Description}"\n        visible="{parts: [\'/hasMoreItemsInBackend\', \'/listMaxReached\', \'/notifications\'], formatter: \'.formatShowNoDataIllustration\'}"\n        ariaTitleLevel="H3"><additionalContent><Button\n                id="sapUshellNotificationsListNoDataSettingsButton"\n                text="{i18n>Notifications.Popover.NoData.Button}"\n                press=".onSettingsPress"\n                type="Transparent"\n                visible="{/settingsAvailable}"\n            /></additionalContent></IllustratedMessage></mvc:View>\n',
	"sap/ushell/components/shell/Notifications/NotificationsListPopoverHeader.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:thirdpartywc="sap.ushell.gen.ui5.webcomponents.dist"\n    core:require="{\n        formatMessage: \'sap/base/strings/formatMessage\',\n        Utils: \'sap/ushell/utils\'\n    }"\n><OverflowToolbar style="Clear" design="Transparent"><Title\n            text="{i18n>Notifications.Popover.Title}"\n            tooltip="{i18n>Notifications.Popover.Title}"\n        /><ToolbarSpacer /><Button icon="sap-icon://sort" id="sortButton" press=".onSortMenuPress"/><thirdpartywc:Menu id="sortMenu" opener="sortButton" itemClick=".onSortMenuItemPress"><thirdpartywc:MenuItem id="sortMenuDate" text="{i18n>Notifications.Popover.Sort.Menu.Button.Date}"><thirdpartywc:customData><core:CustomData key="sortBy" value="notificationsByDateDescending" /></thirdpartywc:customData></thirdpartywc:MenuItem><thirdpartywc:MenuItem id="sortMenuPriority" text="{i18n>Notifications.Popover.Sort.Menu.Button.Priority}"><thirdpartywc:customData><core:CustomData key="sortBy" value="notificationsByPriorityDescending" /></thirdpartywc:customData></thirdpartywc:MenuItem></thirdpartywc:Menu><Button\n            icon="sap-icon://action-settings"\n            press=".onSettingsPress"\n            visible="{/settingsAvailable}"\n        /></OverflowToolbar></core:FragmentDefinition>\n'
});
//# sourceMappingURL=Component-preload.js.map
