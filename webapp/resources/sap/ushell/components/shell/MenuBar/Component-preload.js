//@ui5-bundle sap/ushell/components/shell/MenuBar/Component-preload.js
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/MenuBar/Component", ["sap/ui/core/UIComponent","sap/ui/core/ComponentContainer","sap/ui/core/mvc/XMLView","sap/ushell/Config","sap/ushell/Container","sap/ushell/resources"],(e,n,t,o,s,i)=>{"use strict";return e.extend("sap.ushell.components.shell.MenuBar.Component",{metadata:{manifest:"json",library:"sap.ushell",interfaces:["sap.ui.core.IAsyncContentCreation"]},init:function(){e.prototype.init.apply(this,arguments);this.setModel(i.i18nModel,"i18n");this.oMenuModelPromise=s.getServiceAsync("Menu").then(async e=>{const t=await e.isMenuEnabled();const o=await e.getMenuModel();this.setModel(o,"menu");if(t){await this.oViewPromise;const e=new n({id:"menuBarComponentContainer",component:this});s.getRendererInternal().setNavigationBar(e)}})},createContent:function(){let e="sap.ushell.components.shell.MenuBar.view.MenuBar";if(o.last("/core/menu/personalization/enabled")&&o.last("/core/menu/personalization/showNavigationBarMenuButton")){e="sap.ushell.components.shell.MenuBar.view.MenuBarWithPersonalizationButton"}else if(o.last("/core/menu/personalization/enabled")){e="sap.ushell.components.shell.MenuBar.view.MenuBarPersonalized"}this.oViewPromise=t.create({viewName:e});return this.oViewPromise}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/MenuBar/controller/MenuBar.controller", ["sap/ui/core/CustomData","sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ui/thirdparty/hasher","sap/base/util/ObjectPath","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/utils/WindowUtils","sap/m/IconTabFilter","sap/m/IconTabSeparator","sap/ushell/Config","sap/ushell/Container"],(e,t,n,i,a,s,o,r,u,c,h,g)=>{"use strict";return t.extend("sap.ushell.components.shell.MenuBar.controller.MenuBar",{onInit:function(){this.oContainerRouter=g.getRendererInternal().getRouter();this.oContainerRouter.getRoute("home").attachMatched(this._selectIndexAfterRouteChange,this);this.oContainerRouter.getRoute("openFLPPage").attachMatched(this._selectIndexAfterRouteChange,this);this.oContainerRouter.getRoute("openWorkPage").attachMatched(this._selectIndexAfterRouteChange,this);this.oEventHubListener=s.on("enableMenuBarNavigation").do(e=>{this.getView().getModel("viewConfiguration").setProperty("/enableMenuBarNavigation",e)});const e=new n({selectedKey:"None Existing Key",enableMenuBarNavigation:true,ariaTexts:{headerLabel:o.i18n.getText("SpacePageNavgiationRegion")}});this.getView().setModel(e,"viewConfiguration");this.oURLParsingService=g.getServiceAsync("URLParsing");this.oGetDefaultSpacePromise=g.getServiceAsync("Menu").then(e=>e.getDefaultSpace());this._selectIndexAfterRouteChange();const t=this.byId("navigationBar");if(t){t.removeStyleClass("sapContrast")}},onMenuItemSelection:function(e){const t=e.getParameter("key");const n=this.getView().getModel("menu");const i=n.getProperty("/");const a=this._getNestedMenuEntryByUid(i,t);if(a.type==="IBN"){this._performNavigation(a.target)}if(a.type==="URL"){this._openURL(a.target)}},_getNestedMenuEntry:function(e,t){return e.reduce((e,n)=>{if(e){return e}if(t(n)){return n}if(n.menuEntries){return this._getNestedMenuEntry(n.menuEntries,t)}},undefined)},_getNestedMenuEntryByUid:function(e,t){function n(e){return e.uid===t}return this._getNestedMenuEntry(e,n)},_performNavigation:async function(e){const t=await g.getServiceAsync("Navigation");const n={};e.parameters.forEach(e=>{if(e.name&&e.value){n[e.name]=[e.value]}});t.navigate({target:{semanticObject:e.semanticObject,action:e.action},params:n})},_openURL:function(e){r.openURL(e.url,"_blank")},_selectIndexAfterRouteChange:async function(){const e=this.getView().getModel("viewConfiguration");const t=await this.oURLParsingService;const n=await this.oGetDefaultSpacePromise;await this.getOwnerComponent().oMenuModelPromise;let s;const o=i.getHash();const r=t.parseShellHash(o);const u=this.getView().getModel("menu").getProperty("/");if(r.semanticObject==="Shell"&&r.action==="home"){if(h.last("/core/homeApp/enabled")){s=this._getHomeAppUID(u)||""}else{const e=n&&n.children&&n.children[0];s=e?this._getMenuUID(u,n.id,e.id)||"":""}e.setProperty("/selectedKey",s)}else{const t=a.get("params.spaceId.0",r);const n=a.get("params.pageId.0",r);const i=e.getProperty("/selectedKey");const o=this._getNestedMenuEntryByUid(u,i);if(this._hasSpaceIdAndPageId(o,t,n)){s=o.uid}else{s=this._getMenuUID(u,t,n)}if(s){e.setProperty("/selectedKey",s)}else{e.setProperty("/selectedKey","None Existing Key")}}},_getMenuUID:function(e,t,n){function i(e){return this._hasSpaceIdAndPageId(e,t,n)}const a=this._getNestedMenuEntry(e,i.bind(this));return a&&a.uid},_getHomeAppUID:function(e){function t(e){return e.target.semanticObject==="Shell"&&e.target.action==="home"}const n=this._getNestedMenuEntry(e,t.bind(this));return n&&n.uid},_hasSpaceIdAndPageId:function(e,t,n){const i=a.get("target.parameters",e)||[];const s=i.find(e=>e.name==="spaceId"&&e.value===t);const o=i.find(e=>e.name==="pageId"&&e.value===n);return s!==undefined&&o!==undefined},_menuFactory:function(t,n){const i=n.getModel();if(i.getProperty(n.sPath).type==="separator"){return new c}const a=n.getObject();return new u(t,{key:a.uid,text:"{menu>title}",enabled:"{viewConfiguration>/enableMenuBarNavigation}",items:{path:"menu>menuEntries",factory:this._menuFactory.bind(this)}}).addCustomData(new e({key:"help-id",value:"{= 'MenuEntry-' + ${menu>help-id}}",writeToDom:"{= !!${menu>help-id}}"}))},onExit:function(){this.oEventHubListener.off()}})});
sap.ui.require.preload({
	"sap/ushell/components/shell/MenuBar/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.ushell.components.shell.MenuBar","applicationVersion":{"version":"1.141.1"},"i18n":{"bundleUrl":"../../../renderer/resources/resources.properties","supportedLocales":["","ar","bg","ca","cs","da","de","el","en","en_US","en_US_sappsd","en_US_saptrc","es","et","fi","fr","hi","hr","hu","it","iw","ja","kk","ko","lt","lv","ms","nl","no","pl","pt","ro","ru","sh","sk","sl","sv","th","tr","uk","vi","zh_CN","zh_TW"],"fallbackLocale":"en"},"type":"component","title":"{{Component.MenuBar.Title}}","resources":"resources.json"},"sap.ui":{"technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"dependencies":{"minUI5Version":"1.114","libs":{"sap.ui.core":{},"sap.m":{},"sap.tnt":{}}},"models":{},"contentDensities":{"compact":true,"cozy":true}}}',
	"sap/ushell/components/shell/MenuBar/view/MenuBar.view.xml":'<mvc:View xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    controllerName="sap.ushell.components.shell.MenuBar.controller.MenuBar"\n    displayBlock="true"><IconTabHeader\n        class="sapUshellShellTabBar"\n        ariaTexts="{viewConfiguration>/ariaTexts}"\n        mode="Inline"\n        items="{\n            path: \'menu>/\',\n            factory: \'._menuFactory\'\n        }"\n        selectedKey="{viewConfiguration>/selectedKey}"\n        select=".onMenuItemSelection"><customData><core:CustomData\n                key="sap-ui-fastnavgroup"\n                value="true"\n                writeToDom="true"/></customData></IconTabHeader></mvc:View>\n',
	"sap/ushell/components/shell/MenuBar/view/MenuBarPersonalized.view.xml":'<mvc:View xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    controllerName="sap.ushell.components.shell.MenuBar.controller.MenuBar"\n    displayBlock="true"><IconTabHeader\n        class="sapUshellShellTabBar"\n        ariaTexts="{viewConfiguration>/ariaTexts}"\n        mode="Inline"\n        items="{\n            path: \'menu>/\',\n            filters: { path: \'pinned\', operator: \'EQ\', value1: true },\n            sorter: { path: \'pinnedSortOrder\', descending: false },\n            factory: \'._menuFactory\'\n        }"\n        selectedKey="{viewConfiguration>/selectedKey}"\n        select=".onMenuItemSelection"><customData><core:CustomData\n                key="sap-ui-fastnavgroup"\n                value="true"\n                writeToDom="true"/></customData></IconTabHeader></mvc:View>\n',
	"sap/ushell/components/shell/MenuBar/view/MenuBarWithPersonalizationButton.view.xml":'<mvc:View xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:tnt="sap.tnt"\n    controllerName="sap.ushell.components.shell.MenuBar.controller.MenuBar"\n    displayBlock="true"><tnt:ToolHeader\n        id= "navigationBar"\n        class="sapUshellShellToolHeader"><core:ComponentContainer\n            manifest="true"\n            async="true"\n            propagateModel="true"\n            name="sap.ushell.components.shell.NavigationBarMenu"\n            lifecycle="Container"\n            id="navigationBarMenu" /><IconTabHeader\n            class="sapUshellShellTabBar"\n            ariaTexts="{viewConfiguration>/ariaTexts}"\n            mode="Inline"\n            items="{\n                path: \'menu>/\',\n                filters: { path: \'pinned\', operator: \'EQ\', value1: true },\n                sorter: { path: \'pinnedSortOrder\', descending: false },\n                factory: \'._menuFactory\'\n            }"\n            selectedKey="{viewConfiguration>/selectedKey}"\n            select=".onMenuItemSelection"></IconTabHeader><tnt:customData><core:CustomData\n                key="sap-ui-fastnavgroup"\n                value="true"\n                writeToDom="true"/></tnt:customData></tnt:ToolHeader></mvc:View>\n'
});
//# sourceMappingURL=Component-preload.js.map
