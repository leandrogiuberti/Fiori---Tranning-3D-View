// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/InvisibleMessage","./NavigationBarMenu.controller","sap/ui/core/Fragment","sap/ushell/Container","sap/ushell/EventHub","sap/ui/model/json/JSONModel"],(e,n,o,t,i,s)=>{"use strict";return n.extend("sap.ushell.components.shell.NavigationBarMenu.controller.NavigationBarMenuButton",{onInit:function(){this.pMenuServicePromise=t.getServiceAsync("Menu");this._oInvisibleMessageInstance=e.getInstance();this.oViewConfigurationModel=new s({enableMenuBarNavigation:true,contextMenu:{enableMoveDown:false,enableMoveUp:false,enablePin:false}});this.getView().setModel(this.oViewConfigurationModel,"viewConfiguration");this._oEventHubListener=i.on("enableMenuBarNavigation").do(e=>{this.oViewConfigurationModel.setProperty("/enableMenuBarNavigation",e)})},openNavigationBarMenuPopover:function(e){const n=e.getSource();if(!this._pPopoverPromise){this._pPopoverPromise=o.load({type:"XML",id:this.getView().getId(),controller:this,name:"sap.ushell.components.shell.NavigationBarMenu.view.NavigationBarMenuPopover"}).then(e=>{this.oModel=this.getOwnerComponent().oPropagatedProperties.oModels.menu;e.setModel(this.oModel,"spaces");this.getView().addDependent(e);return e})}return this._pPopoverPromise.then(e=>{this._bindPinnedSpaces().then(()=>{e.openBy(n)})})},closeNavigationBarMenuPopover:async function(){if(!this._pPopoverPromise){return}return this._pPopoverPromise.then(e=>{e.close()})},onMenuItemSelection:async function(e){await n.prototype.onMenuItemSelection.call(this,e);return this.closeNavigationBarMenuPopover()}})});
//# sourceMappingURL=NavigationBarMenuButton.controller.js.map