//@ui5-bundle sap/ushell/components/pages/Component-preload.js
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/pages/ActionMode", ["sap/ui/Device","sap/m/MessageBox","sap/m/MessageToast","sap/ui/core/Element","sap/ushell/resources","sap/ushell/EventHub","sap/base/Log","sap/ushell/Container"],(e,t,n,o,i,s,c,r)=>{"use strict";const a={};a.start=function(t,n){this.oController=t;const c=t.getView().getModel("viewSettings");const r=c.getProperty("/addToMyHomeOnly");if(!r){t.getView().getModel("viewSettings").setProperty("/actionModeEditActive",true)}t.getView().getModel("viewSettings").setProperty("/actionModeActive",true);t.handleMyHomeActionMode(true).catch(t.navigateToErrorPage.bind(t));s.emit("enableMenuBarNavigation",false);const a=o.getElementById("ActionModeBtn");this.sActionButtonActivateText=a.getText();n=n||i.i18n.getText("PageRuntime.EditMode.Exit");a.setTooltip(n);a.setText(n);if(e.system.desktop){sap.ui.require(["sap/ushell/renderer/AccessKeysHandler"],e=>{e.attachEvent("editModeDone",this.save,this)})}};a.cancel=function(){this._cleanup()};a.save=function(){c.info("store actions in pages service");this._cleanup()};a._cleanup=function(){this.oController.getView().getModel("viewSettings").setProperty("/actionModeActive",false);this.oController.getView().getModel("viewSettings").setProperty("/actionModeEditActive",false);this.oController.handleMyHomeActionMode(false).catch(this.oController.navigateToErrorPage.bind(this.oController));s.emit("enableMenuBarNavigation",true);const t=o.getElementById("ActionModeBtn");t.setTooltip(this.sActionButtonActivateText);t.setText(this.sActionButtonActivateText);if(e.system.desktop){sap.ui.require(["sap/ushell/renderer/AccessKeysHandler"],e=>{e.detachEvent("editModeDone",this.save,this)})}};a.addVisualization=function(e,t){const n=t.getBindingContext().getModel();const o=t.getBindingContext().getPath();const i=o.split("/");const s=parseInt(i[2],10);const c=n.getProperty(`/pages/${s}/id`);const a=n.getProperty(`${o}/id`);r.getServiceAsync("Navigation").then(e=>{const t=`Shell-appfinder?&/catalog/${JSON.stringify({pageID:encodeURIComponent(c),sectionID:encodeURIComponent(a)})}`;e.navigate({target:{shellHash:t}})})};a.addSection=function(e,t,n){const o=n.index;const i=t.getBindingContext().getPath();const s=i.split("/");const c=parseInt(s[2],10);return this.oController.getOwnerComponent().getPagesService().then(e=>{e.addSection(c,o);const n={onAfterRendering:function(){setTimeout(()=>{t.getSections()[o].getTitleInput().focus()},0);t.removeEventDelegate(n)}};t.addEventDelegate(n)})};a.deleteSection=function(e,o){return r.getServiceAsync("MessageInternal").then(e=>{const s=o.getTitle();const c=s?i.i18n.getText("PageRuntime.Message.Section.Delete",[s]):i.i18n.getText("PageRuntime.Message.Section.DeleteNoTitle");const r=i.i18n.getText("PageRuntime.Dialog.Title.Delete");function a(e){if(e===t.Action.DELETE){this.oController.getOwnerComponent().getPagesService().then(e=>{const t=o.getBindingContext().getPath();const s=o.getParent();const c=t.split("/");const r=parseInt(c[2],10);const a=parseInt(c[4],10);e.deleteSection(r,a);n.show(i.i18n.getText("PageRuntime.Message.SectionDeleted"));const g=s.getSections();if(g.length){const e=g[a!==0?a-1:a];e.focus();const t={onAfterRendering:function(){e.focus();e.removeEventDelegate(t)}};e.addEventDelegate(t)}else{const e={onAfterRendering:function(){s.focus();s.removeEventDelegate(e)}};s.addEventDelegate(e)}})}}e.confirm(c,a.bind(this),r,[t.Action.DELETE,t.Action.CANCEL])})};a.resetSection=function(e,t){const o=t.getBindingContext().getPath();const s=o.split("/");const c=parseInt(s[2],10);const r=parseInt(s[4],10);return this.oController.getOwnerComponent().getPagesService().then(e=>{e.resetSection(c,r);n.show(i.i18n.getText("PageRuntime.Message.SectionReset"))})};a.changeSectionTitle=function(e,t,n){const o=t.getBindingContext().getPath();const i=t.getProperty("title");const s=o.split("/");const c=parseInt(s[2],10);const r=parseInt(s[4],10);return this.oController.getOwnerComponent().getPagesService().then(e=>{e.renameSection(c,r,i)})};a.moveSection=function(e,t,n){const o=n.draggedControl.getBindingContext().getPath();const i=n.droppedControl.getBindingContext().getPath();const s=n.dropPosition;const c=i.split("/");const r=o.split("/");const a=parseInt(r[2],10);const g=parseInt(r[4],10);let l=parseInt(c[4],10);if(g===l-1&&s==="Before"||g===l+1&&s==="After"){return Promise.resolve()}if(s==="After"){l=l+1}const d=this.oController.getOwnerComponent();return d.getPagesService().then(e=>e.moveSection(a,g,l)).then(()=>{t.announceMove();t.getSections()[l!==0&&l>g?l-1:l].focus()})};a.changeSectionVisibility=function(e,t,n){if(this.oController===undefined||n.visible===undefined){return Promise.resolve()}const o=t.getBindingContext().getPath();const i=n.visible;const s=o.split("/");const c=parseInt(s[2],10);const r=parseInt(s[4],10);return this.oController.getOwnerComponent().getPagesService().then(e=>{e.setSectionVisibility(c,r,i)})};return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/pages/Component", ["sap/ui/core/InvisibleMessage","sap/ui/core/UIComponent","sap/ushell/components/SharedComponentUtils","sap/ushell/resources","sap/ushell/Container"],(e,t,n,o,i)=>{"use strict";return t.extend("sap.ushell.components.pages.Component",{metadata:{manifest:"json",library:"sap.ushell",interfaces:["sap.ui.core.IAsyncContentCreation"]},init:function(){t.prototype.init.apply(this,arguments);n.toggleUserActivityLog();n.getEffectiveHomepageSetting("/core/contentProviders/providerInfo/showContentProviderInfoOnVisualizations","/core/contentProviders/providerInfo/userConfigurable");n.getEffectiveHomepageSetting("/core/home/sizeBehavior","/core/home/sizeBehaviorConfigurable");this.setModel(o.i18nModel,"i18n");this._oPagesService=i.getServiceAsync("Pages");this._oInvisibleMessageInstance=e.getInstance()},getNavigationDisabled:function(){const e=this.getComponentData()||{};return!!e.navigationDisabled},getPagesService:function(){return this._oPagesService},getInvisibleMessageInstance:function(){return this._oInvisibleMessageInstance},hideRuntime:function(){this.getRootControl().getController().hideRuntime()},onRouteMatched:function(){this.getRootControl().getController().onRouteMatched()}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/pages/MyHomeImport", ["sap/base/i18n/Localization","sap/ushell/EventHub","sap/ushell/Config","sap/ushell/utils/HttpClient","sap/base/util/ObjectPath","sap/ushell/Container"],(e,t,s,n,r,o)=>{"use strict";const a={};const i="/UI2/Fiori2LaunchpadHome";a.getData=function(){if(!this.oPageSetPromise){this.oPageSetPromise=new Promise((t,s)=>{const a="PageSets('%2FUI2%2FFiori2LaunchpadHome')"+"?$expand=Pages/PageChipInstances/ChipInstanceBags/ChipInstanceProperties,"+"Pages/PageChipInstances/Chip"+"&$format=json";const i={"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0","Accept-Language":e.getLanguage()||"",Accept:"application/json, text/plain"};const c=o.getUser().getLanguage();if(c){i["sap-language"]=c}const l=o.getLogonSystem();const u=l&&l.getClient();if(u){i["sap-client"]=u}const p=window["sap-ushell-config"].services&&window["sap-ushell-config"].services.PageBuilding||{};const d=(r.get("config.services.pageBuilding.baseUrl",p.adapter)||"").replace(/\/?$/,"/");const g=new n(d,{headers:i});g.get(a).then(e=>{t(this.parseData.bind(this)(e))}).catch(s)})}return this.oPageSetPromise};a.isImportEnabled=function(){return o.getServiceAsync("UserInfo").then(e=>{const t=e.getUser();const s=t.getImportBookmarksFlag();switch(s){case"done":case"dismissed":case"not_required":return false;case null:return this.getData().then(s=>{const n=!!s.length;const r=n?"pending":"not_required";t.setImportBookmarksFlag(r);e.updateUserPreferences();t.resetChangedProperty("importBookmarks");return n});default:return true}})};a.parseData=function(e){try{let t=JSON.parse(e.responseText);if(t&&t.d){t=t.d}const n=t.configuration&&JSON.parse(t.configuration)||{};const r=n.hiddenGroups||[];const o=t.Pages.results.filter(e=>{const t=e.scope==="PERSONALIZATION";const s=e.PageChipInstances.results.length>0;const n=r.indexOf(e.id)===-1;return t&&s&&n});const a=n.order||[];o.sort((e,t)=>{if(a.indexOf(e.id)>a.indexOf(t.id)){return 1}if(a.indexOf(e.id)<a.indexOf(t.id)){return-1}return 0});let c=[];let l;const u=[];o.forEach(e=>{let t;if(e.layout){t=JSON.parse(e.layout)}const s={id:e.id,title:e.title,isLocked:e.isPersLocked==="X",isDefault:e.id===i,tileOrder:t&&t.order||[],linkOrder:t&&t.linkOrder||[],chips:e.PageChipInstances.results};if(s.isLocked){c.push(s)}else if(s.isDefault){l=s}else{u.push(s)}});if(!s.last("/core/home/disableSortedLockedGroups")){c.sort((e,t)=>e.title.toLowerCase()<t.title.toLowerCase()?-1:1)}if(l){c=c.concat(l)}return c.concat(u)}catch{return null}};a.setImportEnabled=function(e){t.emit("importBookmarksFlag",!!e);o.getServiceAsync("UserInfo").then(t=>{const s=t.getUser();const n=e?null:"dismissed";s.setImportBookmarksFlag(n);t.updateUserPreferences();s.resetChangedProperty("importBookmarks")})};return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/pages/StateManager", ["sap/ui/core/EventBus","sap/ui/thirdparty/hasher","sap/ushell/utils","sap/ushell/EventHub"],(i,t,e,s)=>{"use strict";const a={};a.init=function(t,e){this.aRefreshVisualizations=[];this.oPagesVisibility={};this.oPagesRuntimeNavContainer=t;this.oPagesNavContainer=e;this.oPagesRuntimeNavContainer.attachNavigate(this._onOuterNavContainerNavigated,this);this.oPagesNavContainer.attachNavigate(this._onPageNavigated,this);this._onTabNavigatedBind=this._onTabNavigated.bind(this);document.addEventListener("visibilitychange",this._onTabNavigatedBind);this.oEventBus=i.getInstance();this.oEventBus.subscribe("launchpad","setConnectionToServer",this._onEnableRequests,this);this.oEventBus.subscribe("sap.ushell","navigated",this._onShellNavigated,this);this.oEventHubListener=s.once("PagesRuntimeRendered").do(()=>{this._setCurrentPageVisibility(true)})};a._onEnableRequests=function(i,t,e){if(!e||e.active===undefined){return}this._setCurrentPageVisibility(e.active)};a._setCurrentPageVisibility=function(i){const t=this.oPagesNavContainer.getCurrentPage();if(t){this._setPageVisibility(t,i,false)}};a._setPageVisibility=function(i,t,e){if(!i){return}if(i.getContent()[0].isA("sap.ushell.ui.launchpad.Page")){const s=i.getBindingContext().getPath();if(this.oPagesVisibility[s]===t){return}this.oPagesVisibility[s]=t;this._visitVisualizations(i,i=>{i.setActive(t,e)})}};a._isPagesNavContainerVisible=function(){return this.oPagesRuntimeNavContainer.getCurrentPage()===this.oPagesNavContainer};a._visitVisualizations=function(i,t){if(!t){return}i.getContent()[0].getSections().forEach(i=>{i.getVisualizations().forEach(t)})};a._onShellNavigated=function(){const i=t.getHash();if(e.isFlpHomeIntent(i)&&this._isPagesNavContainerVisible()){this._setCurrentPageVisibility(true);this._refreshVisualizations()}else{this._setCurrentPageVisibility(false)}return Promise.resolve()};a.addVisualizationForRefresh=function(i){this.aRefreshVisualizations.push(i)};a._refreshVisualizations=function(){this.aRefreshVisualizations.forEach(i=>{i.setActive(i.getActive(),true)});this.aRefreshVisualizations=[]};a._onTabNavigated=function(){const i=t.getHash();if(e.isFlpHomeIntent(i)&&this._isPagesNavContainerVisible()){this._setCurrentPageVisibility(!document.hidden)}return Promise.resolve()};a._onPageNavigated=function(i){if(this._isPagesNavContainerVisible()){const t=i.getParameters();this._setPageVisibility(t.from,false,false);this._setPageVisibility(t.to,true,false)}};a._onOuterNavContainerNavigated=function(i){const t=i.getParameter("to");const e=t===this.oPagesNavContainer;this._setCurrentPageVisibility(e)};a.getPageVisibility=function(i){return this.oPagesVisibility[i]};a.exit=function(){this.oEventBus.unsubscribe("sap.ushell","navigated",this._onShellNavigated,this);document.removeEventListener("visibilitychange",this._onTabNavigatedBind);this.oPagesNavContainer.detachNavigate(this._onPageNavigated,this);this.oPagesRuntimeNavContainer.detachNavigate(this._onOuterNavContainerNavigated,this);this.oEventBus.unsubscribe("launchpad","setConnectionToServer",this._onEnableRequests,this);this.oEventHubListener.off()};return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/pages/controller/ImportDialog.controller", ["sap/base/Log","sap/ui/core/mvc/Controller","sap/ui/core/Fragment","sap/ui/model/json/JSONModel","sap/ushell/components/pages/MyHomeImport","sap/ushell/Config","sap/ushell/library","sap/ushell/resources","sap/ushell/utils/WindowUtils","sap/ushell/Container"],(e,t,i,s,a,o,n,r,l,c)=>{"use strict";const u=n.DisplayFormat;const d={"X-SAP-UI2-CHIP:SSB_NUMERIC":"ssuite/smartbusiness/tiles/numeric","X-SAP-UI2-CHIP:SSB_CONTRIBUTION":"ssuite/smartbusiness/tiles/contribution","X-SAP-UI2-CHIP:SSB_TREND":"ssuite/smartbusiness/tiles/trend","X-SAP-UI2-CHIP:SSB_DEVIATION":"ssuite/smartbusiness/tiles/deviation","X-SAP-UI2-CHIP:SSB_COMPARISON":"ssuite/smartbusiness/tiles/comparison","X-SAP-UI2-CHIP:SSB_BLANK":"ssuite/smartbusiness/tiles/blank","X-SAP-UI2-CHIP:SSB_DUAL":"ssuite/smartbusiness/tiles/dual"};return t.extend("sap.ushell.components.pages.controller.ImportDialog",{open:async function(){if(!this._oDialog){this._oDialog=await i.load({name:"sap.ushell.components.pages.view.ImportDialog",controller:this});this._oDialog.setModel(r.i18nModel,"i18n");this._oDialog.setModel(new s({busy:true,groups:[],PersonalizedGroups:[]}));try{const e=await a.getData();this._oDialog.getModel().setData({busy:false,groups:e,PersonalizedGroups:e.map(e=>({title:e.isDefault?r.i18n.getText("my_group"):e.title,description:e.id,selected:true}))})}catch(e){const t=await c.getServiceAsync("MessageInternal");t.error(e)}}this._oURLParsingService=await c.getServiceAsync("URLParsing");this._oDialog.open();return this._oDialog},close:function(){if(this._oDialog){this._oDialog.close()}},doImport:function(){const e=this._oDialog.getModel();const t=[];e.getProperty("/PersonalizedGroups").forEach(e=>{if(e.selected){t.push(e.description)}});const i=this._prepareImport(t);this._saveImport(i)},_moveVisualization:function(e,t,i,s,a){const o=this._getSectionIndex(e,t,i,a);const n=this._getDefaultSectionIndex(e);const r=this._getDefaultSection(e);let l=0;if(r&&r.visualizations&&r.visualizations.length){l=r.visualizations.length-1}return e.moveVisualization(this.iPageIndex,n,l,o,s)},_updateVisualization:async function(e,t,i,s,a,o){if(i.bUpdateNeeded){const n=this._getSectionIndex(e,t,s,o);const r=this._filterNonSupportedProperties(i,["title","target","subtitle","icon","info","numberUnit","indicatorDataSource","displayFormatHint"]);return e.updateVisualization(this.iPageIndex,n,a,r)}},_addVisualization:function(e,t,i,s,a,o,n){let r;if(t.isABookmark){if(t.isCustomBookmark){this.aPromiseChain.push(async()=>{r=this._filterNonSupportedProperties(t,["title","url","subtitle","icon","info","vizConfig","loadManifest","chipConfig"]);await a.bookmark.addCustomBookmark(t.vizType,r,o);await this._moveVisualization(a.pages,e,s,i,n);return this._updateVisualization(a.pages,e,t,s,i,n)})}else{this.aPromiseChain.push(async()=>{r=this._filterNonSupportedProperties(t,["title","url","icon","info","subtitle","serviceUrl","serviceRefreshInterval","numberUnit"]);await a.bookmark.addBookmark(r,o);await this._moveVisualization(a.pages,e,s,i,n);return this._updateVisualization(a.pages,e,t,s,i,n)})}}else{this.aPromiseChain.push(async()=>{const o=this._getSectionIndex(a.pages,e,s,n);const r=a.pages.getModel().getProperty(`/pages/${this.iPageIndex}/sections/${o}/id`);await a.pages.addVisualization(this.sPageId,r,t.vizId);return this._updateVisualization(a.pages,e,t,s,i,n)})}},_addToPresetSection:function(e,t,i,s,a){const o=this._getPresetSection(i.pages);const n=o.visualizations.filter(e=>e.displayFormatHint!==u.Compact).length;const r=o.visualizations.filter(e=>e.displayFormatHint===u.Compact).length;for(let o=0;o<e.tiles.length;++o){this._addVisualization(e,e.tiles[o],o+n,t,i,s,a)}for(let o=0;o<e.links.length;++o){this._addVisualization(e,e.links[o],o+r+n+e.tiles.length,t,i,s,a)}},_addSection:function(e,t,i,s,a){this.aPromiseChain.push(()=>{const s=this._getSectionIndex(i.pages,e,t,a);return i.pages.addSection(this.iPageIndex,s,{title:e.title})});for(let o=0,n=e.tiles.length;o<n;++o){this._addVisualization(e,e.tiles[o],o,t,i,s,a)}for(let o=0,n=e.links.length;o<n;++o){this._addVisualization(e,e.links[o],o+e.tiles.length,t,i,s,a)}},_getMyHomeContentNode:async function(e){const t=o.last("/core/spaces/myHome/myHomeSpaceId");const i=await e.getContentNodes();const s=i.find(e=>e.id===t);if(!s){return null}return s.children.find(e=>e.id===this.sPageId)},_saveImport:async function(e){this._oDialog.setBusy(true);this.sPageId=o.last("/core/spaces/myHome/myHomePageId");this.aPromiseChain=[];const[t,i,s,a]=await Promise.all([c.getServiceAsync("BookmarkV2"),c.getServiceAsync("MessageInternal"),c.getServiceAsync("Pages"),c.getServiceAsync("UserInfo")]);try{const o=await this._getMyHomeContentNode(t);this.iPageIndex=s.getPageIndex(this.sPageId);s.enableImplicitSave(false);this._performImportOperations(e,{bookmark:t,message:i,pages:s,userInfo:a},o);await this._executeSequentially(this.aPromiseChain);await this._savePersonalizations(s);i.info(r.i18n.getText("MyHome.InitialPage.Message.ImportSuccessful"));a.getUser().setImportBookmarksFlag("done");await a.updateUserPreferences();l.refreshBrowser()}catch(e){i.error(e)}finally{this._oDialog.setBusy(false);this.close()}},_performImportOperations:function(e,t,i){let s;let a=false;for(let o=0,n=e.length;o<n;++o){s=e[o];if(s.isDefault){this._addToPresetSection(s,o,t,i,a);a=true}else{this._addSection(s,o,t,i,a)}}},_executeSequentially:function(t){return t.reduce(async(t,i)=>t.then(()=>i()).catch(t=>{e.error("Failed to execute promise",t)}),Promise.resolve())},_getSectionIndex:function(e,t,i,s){const a=this._getPresetSectionIndex(e);if(!t.isDefault&&!t.isLocked&&!s){return a+i+1}return a+i},_getPresetSectionIndex:function(e){const t=e.getModel().getProperty(`/pages/${this.iPageIndex}/sections/`);return t.findIndex(e=>e.id===o.last("/core/spaces/myHome/presetSectionId"))},_getDefaultSectionIndex:function(e){const t=e.getModel().getProperty(`/pages/${this.iPageIndex}/sections/`);return t.findIndex(e=>e.default)},_getPresetSection:function(e){const t=e.getModel().getProperty(`/pages/${this.iPageIndex}/sections/`);return t.find(e=>e.id===o.last("/core/spaces/myHome/presetSectionId"))},_getDefaultSection:function(e){const t=e.getModel().getProperty(`/pages/${this.iPageIndex}/sections/`);return t.find(e=>e.default)},_gatherVizDataObjectFromChipInstance:function(t){let i;const s={vizId:t.chipId,isABookmark:!!t.configuration};const a=t.Chip&&t.Chip.referenceChipId;if(a&&a!=="O"){s.vizId=t.Chip.referenceChipId}if(s.isABookmark){s.isCustomBookmark=["X-SAP-UI2-CHIP:/UI2/STATIC_APPLAUNCHER","X-SAP-UI2-CHIP:/UI2/DYNAMIC_APPLAUNCHER"].indexOf(t.chipId)===-1;i=JSON.parse(JSON.parse(t.configuration).tileConfiguration);s.title=i.display_title_text;s.url=i.navigation_target_url;s.icon=i.display_icon_url;s.info=i.display_info_text;s.subtitle=i.display_subtitle_text;s.serviceUrl=i.service_url;s.serviceRefreshInterval=i.service_refresh_interval;s.numberUnit=i.display_number_unit}if(s.isCustomBookmark){if(i.TILE_PROPERTIES){try{const e=JSON.parse(i.TILE_PROPERTIES);if(!s.url&&e.semanticObject&&e.semanticAction){const t={};if(e.evaluationId){t.EvaluationId=e.evaluationId}s.url=`#${this._oURLParsingService.constructShellHash({target:{semanticObject:e.semanticObject,action:e.semanticAction},params:t})}`}if(e.title){s.title=e.title}if(e.subtitle){s.subtitle=e.subtitle}}catch(t){e.error(`Could not create URL for custom bookmark with title: ${s.title}, Error Message: ${t.message}`)}}s.vizConfig={};s.loadManifest=true;s.vizType=d[t.chipId];s.chipConfig={chipId:t.chipId,bags:{},configuration:JSON.parse(t.configuration)}}const o=t.ChipInstanceBags.results;if(o.length){s.bUpdateNeeded=!s.isABookmark;if(s.isCustomBookmark){o.forEach(e=>{s.chipConfig.bags[e.id]={properties:{},texts:{}};e.ChipInstanceProperties.results.forEach(t=>{if(t.translatable==="X"){s.chipConfig.bags[e.id].texts[t.name]=t.value}else{s.chipConfig.bags[e.id].properties[t.name]=t.value}})})}o.filter(e=>e.id==="tileProperties").forEach(e=>{e.ChipInstanceProperties.results.forEach(e=>{switch(e.name){case"display_title_text":s.title=e.value||s.title;break;case"display_subtitle_text":s.subtitle=e.value||s.subtitle;break;case"display_info_text":s.info=e.value||s.info;break;case"display_search_keywords":s.searchKeyword=e.value;break;default:break}})});o.filter(e=>e.id==="sb_tileProperties").forEach(e=>{e.ChipInstanceProperties.results.forEach(e=>{switch(e.name){case"title":s.title=e.value;break;case"description":s.subtitle=e.value;break;default:break}})})}return s},_savePersonalizations:async function(e){e.enableImplicitSave(true);await e.savePersonalization(this.sPageId);e.enableImplicitSave(false)},_prepareImport:function(e){const t={};const i=this._oDialog.getModel();const s=i.getProperty("/groups");let a;let o;s.forEach(i=>{if(e.indexOf(i.id)===-1){return}a={};i.chips.forEach(e=>{o=this._gatherVizDataObjectFromChipInstance(e);a[e.instanceId]=o});i.tiles=[];i.tileOrder.forEach(e=>{o=a[e];if(o){delete a[e];i.tiles.push(o)}});i.links=[];i.linkOrder.forEach(e=>{o=a[e];if(o){delete a[e];o.displayFormatHint=u.Compact;o.bUpdateNeeded=true;i.links.push(o)}});Object.keys(a).forEach(e=>{i.tiles.push(a[e])});t[i.id]=i});const n=[];let r;e.forEach(e=>{r=t[e];if(r){n.push(r)}});return n},_filterNonSupportedProperties:function(e,t){const i={};Object.keys(e).forEach(s=>{if(t.includes(s)){i[s]=e[s]}});return i}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/pages/controller/MyHome.controller", ["sap/ushell/components/pages/MyHomeImport","sap/ui/model/json/JSONModel","sap/ui/core/mvc/Controller","sap/ushell/resources","sap/ushell/EventHub","sap/base/Log"],(e,o,i,n,s,t)=>{"use strict";return i.extend("sap.ushell.components.pages.controller.MyHome",{onInit:function(){this.oViewModel=new o({personalizationAvailable:false});const i=function(e){this.oViewModel.setProperty("/personalizationAvailable",!!e)}.bind(this);this.getView().setModel(n.i18nModel,"i18n");this.getView().setModel(this.oViewModel,"view");e.isImportEnabled().then(i);this.oImportBookmarksFlagListener=s.on("importBookmarksFlag").do(i)},onExit:function(){this.oImportBookmarksFlagListener.off()},connect:function(e){this.fnOnEdit=e.onEdit;this.fnOnOpenDialog=e.onOpenDialog},onEditPress:function(){if(this.fnOnEdit){this.fnOnEdit()}},onImportDialogPress:function(){if(this.fnOnOpenDialog){this.fnOnOpenDialog()}},onMessageStripClose:function(){this.oViewModel.setProperty("/personalizationAvailable",false);e.setImportEnabled(false);sap.ui.require(["sap/m/MessageBox"],e=>{e.information(n.i18n.getText("MyHome.InitialPage.MessageStrip.Popup"))})}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/pages/controller/PageRuntime.controller", ["sap/ui/core/Element","sap/ui/core/EventBus","sap/ui/core/CustomData","sap/ushell/library","sap/ui/core/mvc/Controller","sap/ui/events/KeyCodes","sap/m/GenericTile","sap/ushell/resources","sap/ui/model/json/JSONModel","sap/ushell/Config","sap/m/library","sap/m/MessageToast","sap/ushell/components/pages/StateManager","sap/ushell/EventHub","sap/ushell/utils","sap/m/Button","sap/base/strings/capitalize","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ushell/components/pages/controller/PagesAndSpaceId","sap/ushell/components/pages/MyHomeImport","sap/ui/thirdparty/hasher","sap/base/Log","sap/ushell/ui/launchpad/ActionItem","sap/ushell/ui/launchpad/Section","sap/ushell/Container","sap/ushell/navigation/NavigationState","sap/ushell/utils/LaunchpadError","sap/ui/dom/jquery/Focusable"],(e,t,i,n,o,a,s,r,l,c,d,g,h,u,p,m,f,P,_,S,M,v,C,y,w,A,b,I)=>{"use strict";const T=d.LoadState;const z=n.DisplayFormat;return o.extend("sap.ushell.components.pages.controller.Pages",{onInit:function(){this._setPerformanceMark("FLP-PagesRuntime-onInit");this._oVisualizationInstantiationServicePromise=A.getServiceAsync("VisualizationInstantiation");this._oURLParsingService=A.getServiceAsync("URLParsing");this._oViewSettingsModel=new l({sizeBehavior:c.last("/core/home/sizeBehavior"),actionModeActive:false,actionModeEditActive:false,showHideButton:c.last("/core/catalog/enableHideGroups"),showAddButton:c.last("/core/catalog/enabled"),personalizationEnabled:c.last("/core/shell/enablePersonalization"),isNavigationRunning:b.isNavigationRunning(),addToMyHomeOnly:false,gridContainerGap:[],gridContainerRowSize:[]});this.getView().setModel(this._oViewSettingsModel,"viewSettings");this._sMyHomePageId=c.last("/core/spaces/myHome/myHomePageId");this._aConfigListeners=c.on("/core/home/sizeBehavior").do(e=>{this._oViewSettingsModel.setProperty("/sizeBehavior",e)});this._oErrorPageModel=new l({title:"",description:"",details:"",pageAndSpaceId:"",technicalError:""});this.getView().setModel(this._oErrorPageModel,"errorPage");this.oInitFinishedPromise=Promise.all([this._oVisualizationInstantiationServicePromise,this.getOwnerComponent().getPagesService()]).then(e=>{this._oVisualizationInstantiationService=e[0];this.getView().setModel(e[1].getModel())});const e=A.getRendererInternal();this.bIsHomeIntentRootIntent=p.isFlpHomeIntent(e.getShellConfig().rootIntent);this.oErrorPage=this.byId("errorPage");this.oEmptyPage=this.byId("emptyPage");this.oPagesNavContainer=this.byId("pagesNavContainer");this.oPagesRuntimeNavContainer=this.byId("pagesRuntimeNavContainer");this.oPagesRuntimeNavContainer.to(this.oEmptyPage);h.init(this.oPagesRuntimeNavContainer,this.oPagesNavContainer);this.oEventHubListener=u.once("PagesRuntimeRendered").do(this._onFirstPageRendering.bind(this));this._oEventBus=t.getInstance();this._oEventBus.subscribe("launchpad","shellFloatingContainerIsDocked",this._handleUshellContainerDocked,this);this._oEventBus.subscribe("launchpad","shellFloatingContainerIsUnDocked",this._handleUshellContainerDocked,this);b.attachNavigationStateChanged(this._handleNavigationStateChanged,this);this.oVisualizationInstantiationListener=u.on("VizInstanceLoaded").do(()=>{this._setPerformanceMark("FLP-TTI-Homepage");if(!this.oVisualizationInstantiationListenerTimeout){this.oVisualizationInstantiationListenerTimeout=setTimeout(()=>{this.oVisualizationInstantiationListener.off()},5e3)}});this.fnBoundSetGridContainerSizes=this._setGridContainerSizes.bind(this);c.on("/core/home/sizeBehavior").do(this.fnBoundSetGridContainerSizes);u.on("themeChanged").do(this.fnBoundSetGridContainerSizes);this.sCurrentTargetPageId="";this._oInitPromise=this._openFLPPage().then(()=>{if(!document.activeElement||document.activeElement===document.body){const e=this.oPagesNavContainer.getCurrentPage();const t=e&&e.getContent()[0];const i=t&&t.getSections()[0];if(i){i.focus()}else{const e=this.oPagesNavContainer.$().firstFocusableDomRef();if(e){e.focus()}}}if(!this.getOwnerComponent().getNavigationDisabled()){this.oContainerRouter=e.getRouter();this.oContainerRouter.getRoute("home").attachMatched(this.onRouteMatched.bind(this,true));this.oContainerRouter.getRoute("openFLPPage").attachMatched(this.onRouteMatched.bind(this,false))}})},_setGridContainerSizes:async function(){const e=c.last("/core/home/sizeBehavior");const t=this.getView().getModel("viewSettings");const i=e==="Small"?"_sap_ushell_Tile_SpacingXS":"_sap_ushell_Tile_Spacing";const n=e==="Small"?"_sap_ushell_Tile_SpacingXS":"_sap_ushell_Tile_SpacingS";const[o,a,s]=await p.getThemingParameters([i,"_sap_ushell_Tile_SpacingXS",n]);t.setProperty("/gridContainerGap/gridContainerGap",this._formatNumericThemeParam(o));t.setProperty("/gridContainerGap/gridContainerGapXS",this._formatNumericThemeParam(a));t.setProperty("/gridContainerGap/gridContainerGapS",this._formatNumericThemeParam(s));t.setProperty("/gridContainerGap/gridContainerGapM",this._formatNumericThemeParam(o));t.setProperty("/gridContainerGap/gridContainerGapL",this._formatNumericThemeParam(o));t.setProperty("/gridContainerGap/gridContainerGapXL",this._formatNumericThemeParam(o));const r=e==="Small"?"_sap_ushell_Tile_WidthXS":"_sap_ushell_Tile_Width";const l=e==="Small"?"_sap_ushell_Tile_WidthXS":"_sap_ushell_Tile_WidthS";const[d,g,h]=await p.getThemingParameters([r,"_sap_ushell_Tile_WidthXS",l]);t.setProperty("/gridContainerRowSize/gridContainerRowSize",this._formatNumericThemeParam(d));t.setProperty("/gridContainerRowSize/gridContainerRowSizeXS",this._formatNumericThemeParam(g));t.setProperty("/gridContainerRowSize/gridContainerRowSizeS",this._formatNumericThemeParam(h));t.setProperty("/gridContainerRowSize/gridContainerRowSizeM",this._formatNumericThemeParam(d));t.setProperty("/gridContainerRowSize/gridContainerRowSizeL",this._formatNumericThemeParam(d));t.setProperty("/gridContainerRowSize/gridContainerRowSizeXL",this._formatNumericThemeParam(d))},_formatNumericThemeParam:function(e){if(e&&e.indexOf(".")===0){e=`0${e}`}return e},_isMyHomeEnabled:function(){return c.last("/core/spaces/myHome/userEnabled")&&c.last("/core/spaces/myHome/enabled")},_getMyHomeTitle:function(){return A.getServiceAsync("Menu").then(e=>e.getMyHomeSpace()).then(e=>{if(!e||!e.children.length){return""}return e.children[0].label})},_onFirstPageRendering:function(){const e=c.last("/core/shell/enablePersonalization");const t=this._isMyHomeEnabled();if(e){this._createActionModeButton()}else if(t){this._getMyHomeTitle().then(this._createActionModeButton.bind(this))}u.emit("firstSegmentCompleteLoaded",true)},_handleNavigationStateChanged:function(e){const t=e.getParameter("isNavigationRunning");this._oViewSettingsModel.setProperty("/isNavigationRunning",t)},_updateHomeUri:function(e){const t=c.last("/core/shellHeader/rootIntent");if(c.last("/core/spaces/homeNavigationTarget")==="origin_page"){const i=e?encodeURI(e.hash):t;c.emit("/core/shellHeader/homeUri",`#${i}`)}},onRouteMatched:function(t){const i=c.last("/core/homeApp/enabled");const n=i&&t;C.debug("cep/editMode: on Route matched","Page runtime");this._removeMyHomePage();if(!n){this._openFLPPage()}else{this._cancelActionMode();this.oPagesRuntimeNavContainer.to(this.oEmptyPage);this._updateHomeUri(undefined);c.emit("/core/spaces/currentSpaceAndPage",undefined)}const o=e.getElementById("ActionModeBtn");if(!o){return}const a=A.getRendererInternal("fiori2");const s=this._getStateInfoActionModeButton();if(n){if(this._moveEditActionToHeader()){a.hideHeaderEndItem(o.getId(),s.bCurrentState,s.aStates)}else{a.hideActionButton(o.getId(),s.bCurrentState,s.aStates)}return}if(!t&&i){if(this._moveEditActionToHeader()){a.showHeaderEndItem(o.getId(),s.bCurrentState,s.aStates)}else{a.showActionButton(o.getId(),s.bCurrentState,s.aStates)}return}if(!this.bIsHomeIntentRootIntent){if(this._moveEditActionToHeader()){a.showHeaderEndItem(o.getId(),s.bCurrentState,s.aStates)}else{a.showActionButton(o.getId(),s.bCurrentState,s.aStates)}}},_setPerformanceMark:function(e){p.setPerformanceMark(e,{bUseUniqueMark:true,bUseLastMark:true})},_setActionButtonText:function(t){t=t||this._sActionModeTextId;if(!t){return}this._sActionModeTextId=t;this._getMyHomeTitle().then(i=>{const n=e.getElementById("ActionModeBtn");if(n){const e=r.i18n.getText(t,[i]);n.setText(e);n.setTooltip(e)}})},_setActionModeLogic:function(e){let t=false;let i=false;if(c.last("/core/shell/enablePersonalization")){t=true}else if(e){t=true;this._setActionButtonText("PageRuntime.EditModeForPage.Activate")}else if(this._isMyHomeEnabled()){i=true;this._setActionButtonText("PageRuntime.EditModeForPage.AddTilesToMyHome")}this._oViewSettingsModel.setProperty("/personalizationEnabled",t);this._oViewSettingsModel.setProperty("/addToMyHomeOnly",i)},_openFLPPage:function(){return S.getPageAndSpaceId().then(({pageId:e,spaceId:t})=>{this.sCurrentTargetPageId=e;this.sCurrentTargetSpaceId=t;return Promise.all([this.oInitFinishedPromise,A.getServiceAsync("Menu")]).then(i=>{const n=i[1];return n.isSpacePageAssigned(t,e)}).then(e=>{if(!e){const e="The combination of space and page is not assigned to the user.";throw new I(e)}return this.getOwnerComponent().getPagesService()}).then(t=>{C.debug(`cep/editMode: load Page: ${e}`,"Page runtime");return t.loadPage(e)}).then(async()=>{C.debug(`cep/editMode: load Page: show action mode button ${e}`,"Page runtime");this._showActionModeButton();if(this.sCurrentTargetPageId===e){const i=this._isMyHomeRouteActive();this._setActionModeLogic(i);if(i&&this._isMyHomePageEmpty()){await this._navigateToInitialMyHome()}else{await this._navigate(e,t)}return this._onAfterPageNavigated(e,t)}}).catch(i=>this.navigateToErrorPage(i,e,t))}).catch(this.navigateToErrorPage.bind(this))},navigateToErrorPage:function(e,t,i){C.debug("cep/editMode: open FLP Page: Handle errors","Page runtime");if(t&&i){this._oErrorPageModel.setProperty("/title",r.i18n.getText("PageRuntime.CannotLoadPage.Title"));this._oErrorPageModel.setProperty("/pageAndSpaceId",r.i18n.getText("PageRuntime.CannotLoadPage.PageAndSpaceId",[t,i]))}else{this._oErrorPageModel.setProperty("/title",r.i18n.getText("PageRuntime.GeneralError.Text"));this._oErrorPageModel.setProperty("/pageAndSpaceId","")}if(e instanceof Error&&!(e instanceof I)){this._oErrorPageModel.setProperty("/details",e.message);this._oErrorPageModel.setProperty("/technicalError",e.stack)}else{let t;if(e instanceof I){t=e.details?.translatedMessage||e.message}else{t=JSON.stringify(e)}this._oErrorPageModel.setProperty("/details",r.i18n.getText("PageRuntime.CannotLoadPage.SystemErrorMessagePrefix"));this._oErrorPageModel.setProperty("/technicalError",t)}this._oErrorPageModel.setProperty("/description","");this.oPagesRuntimeNavContainer.to(this.oErrorPage);this._hideActionModeButton();this._cancelActionMode();this._onAfterPageNavigated()},_navigate:async function(e,t,i){const n=this.oPagesNavContainer.getPages().find(t=>e===t.data("pageId"));if(!n){throw new Error("Page control not found")}const o=await A.getServiceAsync("Menu");const a=this.oPagesNavContainer.getCurrentPage()===n;this.oPagesNavContainer.to(n);this.oPagesRuntimeNavContainer.to(this.oPagesNavContainer);if(!a&&!i){this._cancelActionMode()}const s=await o.getSpaceAndPageTitles(t,e);const r=await o.hasMultiplePages(t);const l=await o.isPinned(t);const d=c.last("/core/menu/enabled");const g=c.last("/core/sideNavigation/enabled");const h=c.last("/core/sideNavigation/mode");const u=!l||l&&!d&&g&&h==="Popover";const p=n.getContent()[0];const m=r||!l;p.setTitle(this._formatPageTitle(s.pageTitle,s.spaceTitle,r,u));p.setShowTitle(m);const f={pageTitle:s.pageTitle,spaceTitle:s.spaceTitle,hash:v.getHash()};this._updateHomeUri(f);c.emit("/core/spaces/currentSpaceAndPage",f)},_navigateToInitialMyHome:async function(){if(!this._pLoadMyHomeView){this._pLoadMyHomeView=new Promise((e,t)=>{sap.ui.require(["sap/ui/core/mvc/XMLView"],i=>{i.create({id:"sapUshellMyHomePage",viewName:"sap.ushell.components.pages.view.MyHomeStart"}).then(t=>{t.getController().connect({onEdit:this.pressActionModeButton.bind(this),onOpenDialog:this.openMyHomeImportDialog.bind(this)});e(t)}).catch(t)},t)})}return this._pLoadMyHomeView.then(e=>{this._cancelActionMode();this.oPagesRuntimeNavContainer.insertPage(e,0);this.oPagesRuntimeNavContainer.to(e)})},_onAfterPageNavigated:function(){if(this.sCurrentTargetPageId&&this.sCurrentTargetSpaceId){u.emit("PageRendered",{time:Date.now(),pageId:this.sCurrentTargetPageId,spaceId:this.sCurrentTargetSpaceId})}if(!u.last("PagesRuntimeRendered")){u.emit("PagesRuntimeRendered",true)}else{u.emit("CloseFesrRecord",Date.now())}},_pressViewDetailsButton:async function(){if(!this._oDetailsDialogPromise){this._oDetailsDialogPromise=new Promise((e,t)=>{sap.ui.require(["sap/ui/core/Fragment"],async i=>{try{const t=await i.load({name:"sap.ushell.components.pages.fragment.DialogPageNotExists",controller:this});this.getView().addDependent(t);e(t)}catch(e){t(e)}},t)})}const e=await this._oDetailsDialogPromise;e.open()},_onDialogClose:async function(){const e=await this._oDetailsDialogPromise;e.close()},_copyToClipboard:function(){let e;if(this._oErrorPageModel.getProperty("/pageAndSpaceId")){e=`${this._oErrorPageModel.getProperty("/technicalError")}\n${this._oErrorPageModel.getProperty("/pageAndSpaceId")}`}else{e=this._oErrorPageModel.getProperty("/technicalError")}const t=p.copyToClipboard(e);if(t){g.show(r.i18n.getText("PageRuntime.CannotLoadPage.CopySuccess"),{closeOnBrowserNavigation:false})}else{g.show(r.i18n.getText("PageRuntime.CannotLoadPage.CopyFail"),{closeOnBrowserNavigation:false})}},_sectionFactory:function(e,t){return new w({title:"{title}",sizeBehavior:"{viewSettings>/sizeBehavior}",dataHelpId:"Section-{id}",ariaLabel:{parts:[{path:"title"},{value:t.getPath()},{path:"viewSettings>/actionModeEditActive"}],formatter:this._formatSectionAriaLabel.bind(this)},default:"{default}",visualizations:{path:"visualizations",factory:this._visualizationFactory.bind(this),key:"id"},gridContainerGap:"{viewSettings>/gridContainerGap/gridContainerGap}",gridContainerGapXS:"{viewSettings>/gridContainerGap/gridContainerGapXS}",gridContainerGapS:"{viewSettings>/gridContainerGap/gridContainerGapS}",gridContainerGapM:"{viewSettings>/gridContainerGap/gridContainerGapM}",gridContainerGapL:"{viewSettings>/gridContainerGap/gridContainerGapL}",gridContainerGapXL:"{viewSettings>/gridContainerGap/gridContainerGapXL}",gridContainerRowSize:"{viewSettings>/gridContainerRowSize/gridContainerRowSize}",gridContainerRowSizeXS:"{viewSettings>/gridContainerRowSize/gridContainerRowSizeXS}",gridContainerRowSizeS:"{viewSettings>/gridContainerRowSize/gridContainerRowSizeS}",gridContainerRowSizeM:"{viewSettings>/gridContainerRowSize/gridContainerRowSizeM}",gridContainerRowSizeL:"{viewSettings>/gridContainerRowSize/gridContainerRowSizeL}",gridContainerRowSizeXL:"{viewSettings>/gridContainerRowSize/gridContainerRowSizeXL}",enableGridBreakpoints:false,enableGridContainerQuery:"{viewSettings>/ushellContainerDocked}",editable:"{viewSettings>/actionModeEditActive}",add:this.handleEditModeAction.bind(this,"addVisualization"),delete:this.handleEditModeAction.bind(this,"deleteSection"),reset:this.handleEditModeAction.bind(this,"resetSection"),sectionVisibilityChange:this.handleEditModeAction.bind(this,"changeSectionVisibility"),titleChange:this.handleEditModeAction.bind(this,"changeSectionTitle"),enableVisualizationReordering:"{= ${viewSettings>/personalizationEnabled} && !${viewSettings>/isNavigationRunning} }",areaDragEnter:this.onAreaDragEnter.bind(this),visualizationDrop:this.moveVisualization.bind(this),showSection:"{visible}",visible:"{= !!${visualizations}.length || ${viewSettings>/actionModeEditActive} }",noVisualizationsText:"{i18n>PageRuntime.EditMode.EmptySection}",showNoVisualizationsText:true,enableAddButton:"{viewSettings>/showAddButton}",enableResetButton:{parts:["id","preset"],formatter:this._sectionEnableReset.bind(this)},enableDeleteButton:{parts:["id","preset"],formatter:this._sectionEnableDelete.bind(this)},enableShowHideButton:"{viewSettings>/showHideButton}"}).addStyleClass("sapContrastPlus")},_visualizationFactory:function(e,t){if(this._oVisualizationInstantiationService){const e=t.getObject();const i=t.getPath();const n=i.replace(/\/visualizations\/\d*\/?$/,"");const o=n.replace(/\/sections\/\d*\/?$/,"");const a=t.getModel().getProperty(o);const s=this._oVisualizationInstantiationService.instantiateVisualization(e);s.attachPress(this.onVisualizationPress,this);s.bindEditable("viewSettings>/actionModeActive");s.bindClickable({path:"viewSettings>/isNavigationRunning",formatter:e=>!e});if(s.bindRemovable){s.bindRemovable("viewSettings>/actionModeEditActive")}this._addTileActions(s,a?a.id:"");s.attachBeforeActionSheetOpen(()=>{const e=this._createMoveTileActionButton(s,a);if(e){s.attachEventOnce("afterActionSheetClose",()=>{s.removeTileAction(e)})}});const r=t.getPath().split("/")[2];const l=!!h.getPageVisibility(`/pages/${r}`);s.setActive(l);return s}return new s({state:T.Failed})},_addTileActions:function(e,t){const i=e.getAvailableDisplayFormats();const n=c.last("/core/shell/enablePersonalization");const o=this._isMyHomeEnabled();const a=t===this._sMyHomePageId;if(n||a){for(let t=0;t<i.length;t++){e.addTileAction(new m({text:`{i18n>VisualizationInstance.ConvertTo${f(i[t])}Action}`,press:[i[t],this._updateVisualizationDisplayFormat,this]}))}}if(o&&!a){e.addTileAction(new m({text:"{i18n>addToMyHome_action}",press:[e,this._addToMyHome,this]}))}},_createMoveTileActionButton:function(e,t){const i=t?t.id:"";const n=i===this._sMyHomePageId;const o=c.last("/core/shell/enablePersonalization");const a=t.sections.filter(e=>!e.default);const s=e.getParent().getBindingContext().getProperty("default");if((o||n)&&a.length>=(s?1:2)){const t=new m({text:r.i18n.getText("moveTile_action"),press:[e,this._openMoveVisualizationDialog,this]});e.addTileAction(t);return t}},_openMoveVisualizationDialog:async function(e,t){this._oVizInstanceToBeMoved=t;const i=t.getBindingContext().getPath();const n=i.split("/");const o=t.getParent().getBindingContext().getProperty("id");const a=`/pages/${n[2]}/sections`;if(!this._oMoveVisualizationDialogPromise){this._oMoveVisualizationDialogPromise=new Promise((e,t)=>{sap.ui.require(["sap/ui/core/Fragment"],async i=>{try{const t=await i.load({name:"sap.ushell.components.pages.MoveVisualization",controller:this});this.getView().addDependent(t);e(t)}catch(e){t(e)}},t)})}const s=await this._oMoveVisualizationDialogPromise;s.bindObject({path:a});s.getBinding("items").filter([new P("default",_.EQ,false),new P("id",_.NE,o)]);s.open()},_addToMyHome:function(e,t){const i=t.getBindingContext().getObject();return this.getOwnerComponent().getPagesService().then(e=>e.copyVisualization(this._sMyHomePageId,null,i)).then(()=>{g.show(r.i18n.getText("PageRuntime.Message.VisualizationAddedToMyHome"))})},_confirmSelect:function(e){const t=this._oVizInstanceToBeMoved.getBindingContext().getPath();const i=t.split("/");const n=i[2];const o=i[4];const a=i[6];const s=e.getParameter("selectedItem").getBindingContext().getPath();const r=s.split("/");const l=r[4];const c=this._getAncestorControl(this._oVizInstanceToBeMoved,"sap.ushell.ui.launchpad.Section");const d=this._getAncestorControl(this._oVizInstanceToBeMoved,"sap.ushell.ui.launchpad.Page");const h=d.getSections();const u=h[l];const p=c.getItemPosition(this._oVizInstanceToBeMoved).area;this._oVizInstanceToBeMoved=null;const m=this.getOwnerComponent();return m.getPagesService().then(e=>e.moveVisualization(n,o,a,l,-1)).then(e=>{const t=u.getVisualizations()[e.visualizationIndex];if(t){u.focusVisualization(t)}const i=this._getVizMoveMessage(o,l,p,p);g.show(i)})},_onMoveTileSearch:function(e){const t=e.getParameter("value");const i=new P("title",_.Contains,t);const n=new P("default",_.EQ,false);const o=e.getParameter("itemsBinding");o.filter([i,n])},_onMoveTileDialogClose:function(e){this._oVizInstanceToBeMoved=null},_getVizInstanceById:function(e,t,i){const n=this.byId("pagesNavContainer");const o=n.getPages().find(t=>t.getBindingContext().getObject().id===e);if(!o){return null}const a=o.getContent()[0];const s=a.getSections().find(e=>e.getBindingContext().getObject().id===t);if(!s){return null}const r=s.getVisualizations().find(e=>e.getBindingContext().getObject().id===i);return r||null},_updateVisualizationDisplayFormat:function(e,t){const i=e.getSource().getBindingContext();const n=i.getPath();const o=n.split("/");let a;const s=o[4];const r=o[4];const l=this.getOwnerComponent();return l.getPagesService().then(e=>{a=e.getModel().getProperty(n).displayFormatHint;const i={displayFormatHint:t};return e.updateVisualization(o[2],o[4],o[6],i)}).then(e=>{const i=this._getVizInstanceById(e.pageId,e.sectionId,e.vizRefId);const n=this._getAncestorControl(i,"sap.ushell.ui.launchpad.Section");if(n){n.focusVisualization(i)}const o=this._getVizMoveMessage(s,r,a,t);g.show(o)})},onVisualizationPress:function(e){const t=e.getParameter("scope");const i=e.getParameter("action");const n=e.getSource();const o=n.getBindingContext();const a=o.getPath();const s=a.split("/");const l=this._getAncestorControl(n,"sap.ushell.ui.launchpad.Section");if(t==="Display"&&i==="Press"){h.addVisualizationForRefresh(n)}else if(t==="Actions"&&i==="Remove"){return this.getOwnerComponent().getPagesService().then(e=>{const t=l.getItemPosition(n);e.deleteVisualization(s[2],s[4],s[6]);g.show(r.i18n.getText("PageRuntime.Message.VisualizationRemoved"));l._focusItem(t)})}return Promise.resolve()},onExit:function(){this.oContainerRouter.getRoute("home").detachMatched(this.onRouteMatched,this);this.oContainerRouter.getRoute("openFLPPage").detachMatched(this.onRouteMatched,this);this._aConfigListeners.off();this.oEventHubListener.off();this._oEventBus.unsubscribe("launchpad","shellFloatingContainerIsDocked",this._handleUshellContainerDocked,this);this._oEventBus.unsubscribe("launchpad","shellFloatingContainerIsUnDocked",this._handleUshellContainerDocked,this);b.detachNavigationStateChanged(this._handleNavigationStateChanged,this);h.exit();const t=e.getElementById("ActionModeBtn");if(t){t.destroy()}},_hideActionModeButton:function(){const t=e.getElementById("ActionModeBtn");C.debug("cep/editMode: hide Action Mode Button","Page runtime");if(t){t.setVisible(false)}},_showActionModeButton:function(){const t=e.getElementById("ActionModeBtn");if(t){t.setVisible(true)}},_moveEditActionToHeader:function(){const e=A.getRendererInternal("fiori2");const t=e.getShellConfig().moveEditHomePageActionToShellHeader;return t&&c.last("/core/shell/enablePersonalization")},_createActionModeButton:async function(e){const t=e?r.i18n.getText("PageRuntime.EditModeForPage.Activate",[e]):r.i18n.getText("PageRuntime.EditMode.Activate");const i={id:"ActionModeBtn",text:t,icon:"sap-icon://edit",press:[this.pressActionModeButton,this]};C.debug("cep/editMode: create Action Mode Button","Page runtime");if(this._moveEditActionToHeader()){i.tooltip=t;await this._createHeaderActionModeButton(i)}else{this._createUserActionModeButton(i)}},_createHeaderActionModeButton:async function(e){let t="sap/ushell/ui/shell/ShellHeadItem";if(c.last("/core/shellBar/enabled")){t="sap/ushell/gen/ui5/webcomponents-fiori/dist/ShellBarItem";if(e.press){e.click=e.press;delete e.press}}const[n]=await p.requireAsync([t]);const o=new n(e);if(c.last("/core/extension/enableHelp")){o.addStyleClass("help-id-ActionModeBtn");o.addCustomData(new i({key:"help-id",value:"ActionModeBtn",writeToDom:true}))}const a=A.getRendererInternal("fiori2");const s=this._getStateInfoActionModeButton();a.showHeaderEndItem(o.getId(),s.bCurrentState,s.aStates)},_getStateInfoActionModeButton:function(){if(!this.bIsHomeIntentRootIntent){return{bCurrentState:true,aStates:null}}return{bCurrentState:false,aStates:["home"]}},_createUserActionModeButton:function(e){const t=this._getStateInfoActionModeButton();new y(e);const i={controlType:"sap.ushell.ui.launchpad.ActionItem",oControlProperties:e,bIsVisible:true,bCurrentState:t.bCurrentState,aStates:t.aStates};const n=A.getRendererInternal("fiori2");n.addUserAction(i).done(e=>{if(c.last("/core/extension/enableHelp")){e.addStyleClass("help-id-ActionModeBtn")}this._setActionButtonText()})},pressActionModeButton:function(){const e=this.getView().getModel("viewSettings");const t=e.getProperty("/actionModeActive");const i=e.getProperty("/personalizationEnabled");const n=e.getProperty("/addToMyHomeOnly");sap.ui.require(["sap/ushell/components/pages/ActionMode"],e=>{if(t){e.cancel();return}else if(i||n||this._isMyHomeRouteActive()){e.start(this,n?r.i18n.getText("PageRuntime.EditMode.ExitAddTilesMode"):null)}})},_cancelActionMode:function(){const e=this.getView().getModel("viewSettings").getProperty("/actionModeActive");if(e){sap.ui.require(["sap/ushell/components/pages/ActionMode"],e=>{e.cancel()})}},handleEditModeAction:function(e,t){const i=t.getSource();const n=t.getParameters();sap.ui.require(["sap/ushell/components/pages/ActionMode"],o=>{C.debug("cep/editMode: handle Edit Mode Action","Page runtime");o[e](t,i,n)})},_getAncestorControl:function(e,t){if(e&&e.isA&&e.isA(t)){return e}else if(e&&e.getParent){return this._getAncestorControl(e.getParent(),t)}return null},moveVisualization:function(e){const t=e.getParameter("draggedControl");let i=e.getParameter("droppedControl");let n=e.getParameter("dropPosition");const o=e.getParameter("browserEvent");const s=o&&o.keyCode;const r=this._getAncestorControl(t,"sap.ushell.ui.launchpad.Page");const l=parseInt(t.getBindingContext().getPath().split("/")[2],10);const c=this._getAncestorControl(t,"sap.ushell.ui.launchpad.Section");const d=r.indexOfSection(c);const h=c.indexOfVisualization(t);const u=c.getVisualizations()[h];const p=c.getItemPosition(u);let m;let f;let P;let _;let S;if(!i){const i=e.mParameters.browserEvent.keyCode===a.ARROW_UP;const n=r.getSections();f=d;while(true){f=i?--f:++f;m=n[f];if(!m||m.getDefault()){u.invalidate();return Promise.resolve()}if(m.getShowSection()||m.getEditable()){P=m.getClosestCompactItemIndex(t.getDomRef(),i);_=m.getVisualizations()[P];S=m.getItemPosition(_);if(S.area!==p.area){S=p}break}}}else{if(i.isA("sap.ushell.ui.launchpad.section.CompactArea")){const e=i.getItems();if(e.length){i=e[e.length-1];n="After"}}m=this._getAncestorControl(i,"sap.ushell.ui.launchpad.Section");f=r.indexOfSection(m);if(m.getDefault()&&!c.getDefault()){u.invalidate();return Promise.resolve()}P=m.indexOfVisualization(i);_=m.getVisualizations()[P];S=m.getItemPosition(_);if(S.index===-1){S.area=p.area}if(d===f){if(n==="Before"&&h<P){P--}else if(n==="After"&&h>P){P++}if(h===P&&S.area===p.area){u.invalidate();return Promise.resolve()}}else if(n==="After"){P++}}if(d!==f&&(s===a.ARROW_UP||s===a.ARROW_DOWN)&&p.index>S.index){P++}let M;const v=this.getOwnerComponent();return v.getPagesService().then(e=>{M=e;M.enableImplicitSave(false);return M.moveVisualization(l,d,h,f,P)}).then(e=>{P=e.visualizationIndex;if(p.area!==S.area){const e={displayFormatHint:S.area};return M.updateVisualization(l,f,P,e)}return Promise.resolve()}).then(()=>M.savePersonalization()).then(()=>{const e=m.getVisualizations()[P];if(e){m.focusVisualization(e);e.invalidate()}const t=this._getVizMoveMessage(d,f,p.area,S.area);g.show(t)}).finally(()=>{M.enableImplicitSave(true)})},_getVizMoveMessage:function(e,t,i,n){if(e===t){if(i!==n){return r.i18n.getText("PageRuntime.Message.VisualizationConverted")}}if(i===n){return r.i18n.getText("PageRuntime.Message.VisualizationMoved")}return r.i18n.getText("PageRuntime.Message.VisualizationMovedAndConverted")},onDragEnter:function(e){const t=e.getParameter("dragSession").getDropControl();if(t.getDefault()){e.preventDefault()}},onAreaDragEnter:function(e){const t=e.getParameter("sourceArea");const i=e.getParameter("targetArea");if(t===i){return}const n=e.getParameter("dragControl");const o=n.getAvailableDisplayFormats();if(o.indexOf(i)===-1){if(i===z.Standard&&o.indexOf(z.StandardWide)>-1){return}if(i===z.Flat&&o.indexOf(z.FlatWide)>-1){return}e.getParameter("originalEvent").preventDefault()}},_handleUshellContainerDocked:function(e,t){this._oViewSettingsModel.setProperty("/ushellContainerDocked",t==="shellFloatingContainerIsDocked")},_isMyHomeRouteActive:function(){return c.last("/core/spaces/myHome/enabled")&&c.last("/core/spaces/myHome/userEnabled")&&c.last("/core/spaces/myHome/myHomeSpaceId")===this.sCurrentTargetSpaceId},_getMyHomePageData:function(){const e=this.getView().getModel().getProperty("/pages")||[];const t=c.last("/core/spaces/myHome/myHomePageId");for(let i=0;i<e.length;i++){if(e[i]&&e[i].id===t){return e[i]}}return null},_isMyHomePageEmpty:function(){const e=this._getMyHomePageData();if(e&&e.sections){return e.sections.every(e=>{const t=e.visualizations;return!(t&&t.length)})}return false},handleMyHomeActionMode:async function(e){if(this._isMyHomeRouteActive()){if(e){await this._enterMyHomeActionMode()}else if(this._isMyHomePageEmpty()){await this._navigateToInitialMyHome()}}},_enterMyHomeActionMode:async function(){await this._navigate(this.sCurrentTargetPageId,this.sCurrentTargetSpaceId,true);const e=await M.isImportEnabled();if(!e){if(this._pMessageStrip){this._pMessageStrip.then(e=>{e.setVisible(false)})}return}if(!this._pMessageStrip){this._pMessageStrip=new Promise((e,t)=>{sap.ui.require(["sap/ui/core/Fragment"],async i=>{try{const t=await i.load({name:"sap.ushell.components.pages.view.MessageStrip",controller:this});u.on("importBookmarksFlag").do(e=>{t.setVisible(!!e)});t.addStyleClass("sapUiSmallMarginBottom");e(t)}catch(e){t(e)}},t)})}const t=await this._pMessageStrip;this.oPagesNavContainer.getCurrentPage().getContent()[0].setMessageStrip(t)},openMyHomeImportDialog:function(){if(!this._pLoadImportDialog){this._pLoadImportDialog=new Promise((e,t)=>{sap.ui.require(["sap/ushell/components/pages/controller/ImportDialog.controller"],t=>{e(new t)},t)})}return this._pLoadImportDialog.then(e=>e.open())},onImportDialogPress:function(){this.openMyHomeImportDialog()},onMessageStripClose:function(){M.setImportEnabled(false);sap.ui.require(["sap/m/MessageBox"],e=>{e.information(r.i18n.getText("MyHome.InitialPage.MessageStrip.Popup"))})},_removeMyHomePage:function(){this.oPagesNavContainer.removePage("sapUshellMyHomePage")},_formatSectionAriaLabel:function(e,t,i){if(e&&e.trim()){return r.i18n.getText("Section.Description",[e])}if(!t){return""}const n=t.split("/");if(n.length!==5){return""}const o=`/${n[1]}/${n[2]}/${n[3]}`;let a=this.getView().getModel().getProperty(o);const s=this.getView().getModel().getProperty(t);if(!a||a.length===0){return""}if(!s){return""}if(!i){a=a.filter(e=>e.visible&&e.visualizations&&e.visualizations.length>0)}const l=a.indexOf(s);if(l<0){return""}return r.i18n.getText("Section.Description.EmptySectionAriaLabel",[l+1])},_sectionEnableReset:function(e,t){if(e===c.last("/core/spaces/myHome/presetSectionId")){return false}return t},_sectionEnableDelete:function(e,t){if(e===c.last("/core/spaces/myHome/presetSectionId")){return false}return!t},hideRuntime:function(){C.debug("cep/editMode: navigate to empty page","Page runtime");this._hideActionModeButton();this.oPagesRuntimeNavContainer.to(this.oEmptyPage)},_formatPageTitle:function(e,t,i,n){if(i&&n){return`${t} - ${e}`}else if(n){return t}return e}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/pages/controller/PagesAndSpaceId", ["sap/ui/thirdparty/hasher","sap/ushell/resources","sap/ushell/Config","sap/ushell/Container","sap/ushell/utils/LaunchpadError"],(e,t,n,a,s)=>{"use strict";function i(){}i.prototype.getPageAndSpaceId=function(t){return a.getServiceAsync("URLParsing").then(n=>{if(t===undefined){t=e.getHash()}const a=n.parseShellHash(t)||{};const s={semanticObject:a.semanticObject||"",action:a.action||""};const i=a.params||{};const r=i.pageId||[];const c=i.spaceId||[];return this._parsePageAndSpaceId(r,c,s)})};i.prototype._parsePageAndSpaceId=function(e,n,a){return new Promise((i,r)=>{this.getUserMyHomeEnablement().then(()=>{if(e.length<1&&n.length<1){const e=a.semanticObject==="Shell"&&a.action==="home";const n=a.semanticObject===""&&a.action==="";if(e||n){this._getUserDefaultSpaceAndPage().then(e=>{i(e)}).catch(e=>{r(e)});return}const c=t.i18n.getText("PageRuntime.NoPageIdAndSpaceIdProvided");r(new s(c,{translatedMessage:c}))}if(e.length===1&&n.length===0){const e=t.i18n.getText("PageRuntime.OnlyPageIdProvided");r(new s(e,{translatedMessage:e}))}if(e.length===0&&n.length===1){const e=t.i18n.getText("PageRuntime.OnlySpaceIdProvided");r(new s(e,{translatedMessage:e}))}if(e.length>1||n.length>1){const e=t.i18n.getText("PageRuntime.MultiplePageOrSpaceIdProvided");r(new s(e,{translatedMessage:e}))}if(e[0]===""){const e=t.i18n.getText("PageRuntime.InvalidPageId");r(new s(e,{translatedMessage:e}))}if(n[0]===""){const e=t.i18n.getText("PageRuntime.InvalidSpaceId");r(new s(e,{translatedMessage:e}))}i({pageId:e[0],spaceId:n[0]})})})};i.prototype.getUserMyHomeEnablement=function(){return new Promise((e,t)=>{const s=a.getUser().getShowMyHome();n.emit("/core/spaces/myHome/userEnabled",s);e(s)})};i.prototype._getUserDefaultSpaceAndPage=function(){return new Promise((e,n)=>{Promise.all([a.getServiceAsync("Menu"),this.getUserMyHomeEnablement()]).then(a=>{const i=a[0];i.getDefaultSpace().then(a=>{if(!a){const e=t.i18n.getText("PageRuntime.NoAssignedSpace");n(new s(e,{translatedMessage:e}));return}const i=a&&a.children&&a.children[0];if(!i){const e=t.i18n.getText("PageRuntime.NoAssignedPage");n(new s(e,{translatedMessage:e}));return}e({spaceId:a.id,pageId:i.id})})}).catch(e=>{n(e)})})};return new i});
sap.ui.require.preload({
	"sap/ushell/components/pages/MoveVisualization.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"><SelectDialog\n        items="{}"\n        search="_onMoveTileSearch"\n        title="{i18n>PageRuntime.Dialog.Title.MoveVisualization}"\n        confirm="_confirmSelect"\n        cancel="_onMoveTileDialogClose"\n        contentWidth="400px"\n        contentHeight="auto"><StandardListItem title="{title}" /></SelectDialog></core:FragmentDefinition>\n',
	"sap/ushell/components/pages/fragment/DialogPageNotExists.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Dialog\n        id="pageNotExistsDialog"\n        title="{i18n>PageRuntime.CannotLoadPage.ErrorTitle}"\n        class="sapUiResponsivePadding"\n        state="Error"><content><VBox class="sapUiSmallMargin"><Text text="{errorPage>/details}" /><Text class="sapUiSmallMarginTop" text="{errorPage>/technicalError}" /><Text class="sapUiSmallMarginTop" text="{errorPage>/pageAndSpaceId}" /></VBox></content><beginButton><Button\n                id="pageNotExistsDialogCopyButton"\n                text="{i18n>PageRuntime.CannotLoadPage.CopyButton}"\n                press="._copyToClipboard" /></beginButton><endButton><Button\n                id="pageNotExistsDialogCancelButton"\n                text="{i18n>PageRuntime.CannotLoadPage.CloseButton}"\n                press="._onDialogClose"\n                type="Emphasized" /></endButton></Dialog></core:FragmentDefinition>\n',
	"sap/ushell/components/pages/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.ushell.components.pages","applicationVersion":{"version":"1.141.1"},"i18n":{"bundleUrl":"../../renderer/resources/resources.properties","supportedLocales":["","ar","bg","ca","cs","da","de","el","en","en_US","en_US_sappsd","en_US_saptrc","es","et","fi","fr","hi","hr","hu","it","iw","ja","kk","ko","lt","lv","ms","nl","no","pl","pt","ro","ru","sh","sk","sl","sv","th","tr","uk","vi","zh_CN","zh_TW"],"fallbackLocale":"en"},"ach":"CA-FLP-FE-COR","type":"component","title":"{{Component.Pages.Title}}","resources":"resources.json"},"sap.ui":{"technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"componentName":"sap.ushell.components.pages","rootView":{"viewName":"sap.ushell.components.pages.view.PageRuntime","type":"XML","async":true},"dependencies":{"minUI5Version":"1.72","libs":{"sap.ui.core":{},"sap.m":{}}},"contentDensities":{"compact":true,"cozy":true}}}',
	"sap/ushell/components/pages/view/ImportDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\n                         xmlns:core="sap.ui.core"><Dialog title="{i18n>MyHome.ImportDialog.Title}" class="sapUiContentPadding" contentWidth="30rem"><content><Text text="{i18n>MyHome.ImportDialog.Info}" class="sapUiSmallMarginBottom" /><List\n                items="{/PersonalizedGroups}"\n                mode="MultiSelect"\n                growingThreshold="50"\n                class="sapUiSmallMarginBottom"\n                includeItemInSelection="true"\n                busy="{/busy}"><StandardListItem\n                    title="{title}"\n                    selected="{selected}" /></List></content><beginButton><Button\n                text="{i18n>MyHome.ImportDialog.Button.AddAppsToPage}"\n                press=".doImport"\n                type="Emphasized"\n                enabled="{= !${/busy}}"/></beginButton><endButton><Button text="{i18n>MyHome.ImportDialog.Button.Cancel}" press=".close" /></endButton></Dialog></core:FragmentDefinition>\n',
	"sap/ushell/components/pages/view/MessageStrip.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\n                         xmlns:core="sap.ui.core"><MessageStrip\n        text="{i18n>MyHome.InitialPage.MessageStrip.Text}"\n        showIcon="true"\n        visible="{view>/personalizationAvailable}"\n        close=".onMessageStripClose"\n        showCloseButton="true"><link><Link text="{i18n>MyHome.InitialPage.MessageStrip.Link}" press=".onImportDialogPress"/></link></MessageStrip></core:FragmentDefinition>\n',
	"sap/ushell/components/pages/view/MyHomeStart.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    controllerName="sap.ushell.components.pages.controller.MyHome"><Page showHeader="false"><core:Fragment fragmentName="sap.ushell.components.pages.view.MessageStrip" type="XML" class="sapUiSmallMargin" /><VBox\n              class="sapUiSmallMargin"\n              alignItems="Center"\n              justifyContent="Center"><IllustratedMessage\n                illustrationSize="Large"\n                illustrationType="sapIllus-NoData"\n                title="{i18n>MyHome.InitialPage.Title}"\n                description="{i18n>MyHome.InitialPage.Description}"><additionalContent><Button text="{i18n>MyHome.InitialPage.Button.EditPage}"\n                            press=".onEditPress"/></additionalContent></IllustratedMessage></VBox></Page></mvc:View>\n',
	"sap/ushell/components/pages/view/PageRuntime.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:dnd="sap.ui.core.dnd"\n    xmlns:data="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n    xmlns:launchpad="sap.ushell.ui.launchpad"\n    controllerName="sap.ushell.components.pages.controller.PageRuntime"\n    height="100%"\n    core:require="{\n        mobileLibrary: \'sap/m/library\'\n    }"><NavContainer id="pagesRuntimeNavContainer"><NavContainer id="pagesNavContainer" pages="{/pages}"><pages><Page\n                    data:pageId="{id}"\n                    showHeader="false"\n                    backgroundDesign="{= mobileLibrary.PageBackgroundDesign.Transparent }"\n                    floatingFooter="true"><content><launchpad:Page\n                            edit="{viewSettings>/actionModeEditActive}"\n                            dataHelpId="Page-{id}"\n                            sections="{\n                                path: \'sections\',\n                                factory: \'._sectionFactory\',\n                                key: \'id\'\n                            }"\n                            addSectionButtonPressed=".handleEditModeAction(\'addSection\', $event, ${$source>/}, ${$parameters>/})"\n                            enableSectionReordering="{viewSettings>/actionModeEditActive}"\n                            sectionDrop=".handleEditModeAction(\'moveSection\', $event, ${$source>/}, ${$parameters>/})"><launchpad:dragDropConfig><dnd:DropInfo\n                                    groupName="Section"\n                                    targetAggregation="sections"\n                                    dragEnter=".onDragEnter"\n                                    drop=".moveVisualization($event, ${$source>/}, ${$parameters>/})"/></launchpad:dragDropConfig></launchpad:Page></content><footer><Bar class="sapUshellDashboardFooter" visible="{viewSettings>/actionModeActive}"><contentRight><Button\n                                    text="{i18n>closeEditMode}"\n                                    type="Emphasized"\n                                    press=".handleEditModeAction(\'save\', $event, ${$source>/}, ${$parameters>/})"/></contentRight><customData><core:CustomData\n                                    key="sap-ui-fastnavgroup"\n                                    value="true"\n                                    writeToDom="true"/></customData></Bar></footer><landmarkInfo><PageAccessibleLandmarkInfo\n                            rootRole="Region"\n                            rootLabel="{i18n>PageSectionRegion}"\n                            headerRole="None"\n                            contentRole="None"\n                            footerRole="None"/></landmarkInfo></Page></pages><customData><core:CustomData\n                    key="help-id"\n                    value="{= ${viewSettings>/personalizationEnabled} ? \'general-page-id-pers-allowed\' : \'general-page-id-no-pers-allowed\'}"\n                    writeToDom="true"/></customData></NavContainer><Page\n            showHeader="false"\n            id="errorPage"\n            backgroundDesign="{= mobileLibrary.PageBackgroundDesign.Transparent }"><IllustratedMessage\n                title="{errorPage>/title}"\n                illustrationType="{= mobileLibrary.IllustratedMessageType.PageNotFound }"\n                enableDefaultTitleAndDescription="false"><additionalContent><Button\n                        class="sapUiTinyMarginEnd"\n                        text="{i18n>PageRuntime.CannotLoadPage.DetailsButton}"\n                        visible="{= !!${errorPage>/details} &amp;&amp; !${errorPage>/description}}"\n                        press="._pressViewDetailsButton"/></additionalContent></IllustratedMessage></Page><Page\n            id="emptyPage"\n            showHeader="false"\n            backgroundDesign="{= mobileLibrary.PageBackgroundDesign.Transparent }"/></NavContainer></mvc:View>\n'
});
//# sourceMappingURL=Component-preload.js.map
