// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/util/ObjectPath","sap/ushell/utils/UrlParsing"],(t,e)=>{"use strict";const a={PLACEHOLDERS:{TITLE:"<title>",SUBTITLE:"<subtitle>",ICON:"<icon>",SEARCH_KEYWORDS:"<keywords>",SEMANTIC_OBJECT:"<semantic object>",ACTION:"<action>",PARAMETERS:"<parameters>",TARGET_URL:"<target URL>"},extractCardData:function(a){const i=this._getNavigationAction(a);let r;let s;let n;let c;let o;let l;let g;const p=t.get(["sap.app","tags","keywords"],a);let _;if(i){c=t.get(["parameters","intentSemanticObject"],i);o=t.get(["parameters","intentAction"],i);l=t.get(["parameters","url"],i);s=t.get(["parameters","intentParameters"],i)}if(s){n=e.urlParametersToString(s)}if(l){g=false}else if(c&&o){g=true;l=`#${c}-${o}`;if(n){l+=`?${n}`}}r=JSON.stringify({display_icon_url:t.get(["sap.card","header","icon","src"],a),navigation_semantic_object:c,navigation_semantic_action:o,navigation_semantic_parameters:n,navigation_use_semantic_object:g,navigation_target_url:l});if(r==="{}"){r=undefined}if(p){_=p.join(",")}return{bagProperties:{display_title_text:t.get(["sap.card","header","title"],a),display_subtitle_text:t.get(["sap.card","header","subTitle"],a),display_search_keywords:_},tileConfiguration:r,manifest:this._replaceDataWithPlaceholders(a)}},mergeCardData:function(e,a){const i=JSON.parse(JSON.stringify(e));const r=this._getNavigationAction(i);let s;if(a.display_title_text){t.set(["sap.card","header","title"],a.display_title_text,i)}if(a.display_subtitle_text){t.set(["sap.card","header","subTitle"],a.display_subtitle_text,i)}if(a.display_search_keywords){s=a.display_search_keywords.split(",");t.set(["sap.app","tags","keywords"],s,i)}if(a.display_icon_url){t.set(["sap.card","header","icon","src"],a.display_icon_url,i)}if(a.navigation_semantic_object){t.set(["parameters","intentSemanticObject"],a.navigation_semantic_object,r)}else if(a.navigation_target_url){t.set(["parameters","url"],a.navigation_target_url,r)}if(a.navigation_semantic_action){t.set(["parameters","intentAction"],a.navigation_semantic_action,r)}if(a.navigation_semantic_parameters_as_object){t.set(["parameters","intentParameters"],a.navigation_semantic_parameters_as_object,r)}return i},getTranslatablePropertiesFromBag:function(t){const e={};let a;if(t&&t.getText&&t.getTextNames){a=t.getTextNames();a.forEach(a=>{e[a]=t.getText(a)})}return e},getCardData:function(t){let e;let a;if(t.bag){e=t.bag.getBag("tileProperties")}else{e=t.getBag("tileProperties")}if(t.configuration){a=t.configuration.getParameterValueAsString("tileConfiguration")}else{a=t.getConfigurationParameter("tileConfiguration")}const i=this.getTranslatablePropertiesFromBag(e);const r=JSON.parse(a||"{}");if(r.navigation_semantic_parameters){r.navigation_semantic_parameters_as_object=this._parseParameters(r.navigation_semantic_parameters)}Object.keys(i).forEach(t=>{r[t]=i[t]});return r},_parseParameters:function(t){const a=e.parseParameters(`?${t}`);Object.keys(a).forEach(t=>{a[t]=a[t][0]});return a},_replaceDataWithPlaceholders:function(e){const a=JSON.parse(JSON.stringify(e));const i=this._getNavigationAction(a);if(t.get(["sap.card","header","title"],a)){t.set(["sap.card","header","title"],this.PLACEHOLDERS.TITLE,a)}if(t.get(["sap.card","header","subTitle"],a)){t.set(["sap.card","header","subTitle"],this.PLACEHOLDERS.SUBTITLE,a)}if(t.get(["sap.app","tags","keywords"],a)){t.set(["sap.app","tags","keywords"],this.PLACEHOLDERS.SEARCH_KEYWORDS,a)}if(t.get(["sap.card","header","icon","src"],a)){t.set(["sap.card","header","icon","src"],this.PLACEHOLDERS.ICON,a)}if(t.get(["parameters","intentSemanticObject"],i)){t.set(["parameters","intentSemanticObject"],this.PLACEHOLDERS.SEMANTIC_OBJECT,i)}if(t.get(["parameters","intentAction"],i)){t.set(["parameters","intentAction"],this.PLACEHOLDERS.ACTION,i)}if(t.get(["parameters","url"],i)){t.set(["parameters","url"],this.PLACEHOLDERS.TARGET_URL,i)}if(t.get(["parameters","intentParameters"],i)){t.set(["parameters","intentParameters"],this.PLACEHOLDERS.PARAMETERS,i)}return a},_getNavigationAction:function(e){const a=t.get(["sap.card","header","actions"],e);let i;if(a){for(let t=0;t<a.length;t++){i=a[t];if(i.type==="Navigation"){return i}}}return null}};return a});
//# sourceMappingURL=ManifestPropertyHelper.js.map