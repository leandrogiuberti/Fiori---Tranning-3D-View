// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/m/IconTabFilter","sap/ushell/components/cepsearchresult/app/util/controls/Category","sap/ushell/components/cepsearchresult/app/util/resources"],(t,e,n)=>{"use strict";const s={standard:null,advanced:null};function o(t){this._sEdition=t;this._mCategories={};if(!s[t]){s[t]=new Promise((e,n)=>{const s=t.charAt(0).toUpperCase()+t.slice(1);sap.ui.require([`sap/ushell/components/cepsearchresult/app/util/Edition${s}`],t=>{e(t)},()=>{n(new Error(`Failed to load Edition: 'Edition${s}'`))})})}this._loaded=s[t].then(t=>{this._oConfig=t;this._oConfig.categories.map(t=>{this._mCategories[t.name]=Object.assign({},t)})})}o.prototype.loaded=function(){return this._loaded};o.prototype.getConfiguration=function(){return this._oConfig};o.prototype.getCategoryList=function(){return this._oConfig.categories};o.prototype.createCategoryInstance=function(t,n){const s=this._mCategories[t];if(!s.class){s.class=e}return new s.class(s,this,n)};o.prototype.getCategoryInstance=function(t){const e=this._mCategories[t];if(!e){return null}if(e.instance&&!e.instance.isDestroyed()){return e.instance}e.instance=this.createCategoryInstance(t);e.instance.setUseIllustrations(true);return e.instance};o.prototype.getDefaultCategory=function(){const t=this._oConfig.defaultCategory||"all";return this.getCategoryInstance(t)};o.prototype.getAppMenuItems=function(){const t=[];if(this._mCategories.all){const e=this.createMenuItem(this._mCategories.all);if(e){t.push(e)}const n=this.getSubMenuItems(this._mCategories.all);if(n.length===1){return n}return t.concat(this.getSubMenuItems(this._mCategories.all))}return[]};o.prototype.getSubMenuItems=function(t){const e=[];if(t&&t.subCategories){t.subCategories.map(t=>{this.addMenuItem(this._mCategories[t.name],e)})}return e};o.prototype.addMenuItem=function(t,e){const n=this.createMenuItem(t);if(n){e.push(n)}};o.prototype.createMenuItem=function(e){if(e){let n=[];if(e.name!=="all"){n=this.getSubMenuItems(e)}const s=new t({key:e.name,text:e.shortTitle,icon:e.icon.src,count:`{counts>/${e.name}}`,tooltip:e.title,items:n});s._getCategoryInstance=function(){return this.getCategoryInstance(e.name)}.bind(this);return s}return null};o.getEditionName=function(){if(window["sap-ushell-config"]&&window["sap-ushell-config"].ushell&&window["sap-ushell-config"].ushell.cepSearchConfig){return window["sap-ushell-config"].ushell.cepSearchConfig||"standard"}return"standard"};o.prototype.translate=function(t){try{return n.bundle.getText(t)}catch(e){return t}};o.prototype.getCategoryListItems=function(){const t=this.getCategoryList();const e=[];t.forEach(t=>{if(t.name==="all"){return}e.push({key:t.name,icon:t.icon.src,text:this.translate(t.title.substring(6,t.title.length-1))})});return e};o.prototype.getCategoryViews=function(t){const e=typeof t==="string"?this.createCategoryInstance(t):t;const n=e.getViewSettings();n.views.sort((t,e)=>{if(t.key===n.default){return-1}return t.key>e}).forEach(t=>{const e=t.key.charAt(0).toUpperCase()+t.key.slice(1);t.text=this.translate(`CATEGORY.Views.${e}ButtonText`)});return n};return o});
//# sourceMappingURL=Edition.js.map