<mvc:View
    id="contentFinderView"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:mvc="sap.ui.core.mvc"
    height="100%"
    controllerName="sap.ushell.components.contentFinder.controller.ContentFinderDialog"
    core:require="{ formatMessage: 'sap/base/strings/formatMessage' }"
>
    <Dialog
        id="contentFinderDialog"
        contentWidth="{= ${ui>/componentSettings/showCategoryTreeWhenEmpty} || ${ui>/categoryTree/hasData} ? '69rem' : '64.5rem'}"
        contentHeight="80%"
        draggable="true"
        resizable="true"
        closeOnNavigation="true"
        class="sapUiNoContentPadding"
        horizontalScrolling="false"
        verticalScrolling="false"
        afterClose=".onAfterClose"
        title="{i18n>ContentFinder.Dialog.Title}"
    >
        <content>
            <Page
                id="contentFinderAppSearchPage"
                enableScrolling="false"
                showHeader="false"
            >
                <mvc:XMLView
                    id="contentFinderAppSearchView"
                    async="true"
                    height="100%"
                    viewName="sap.ushell.components.contentFinder.view.AppSearch"
                />
            </Page>
        </content>
        <beginButton>
            <Button
                id="addVisualizationsButton"
                type="Emphasized"
                visible="{= ${ui>/componentSettings/enablePersonalization} &amp;&amp; ${ui>/visualizations/filters/selected} === 'tiles' }"
                text="{
                    parts: [
                        {path: 'i18n>ContentFinder.Button.Add'},
                        {path: 'selection>/visualizations/items/length'}
                    ],
                    formatter: 'formatMessage'
                }"
                enabled="{= ${selection>/visualizations/items/length} > 0}"
                press=".onAddButtonPressed"
            />
        </beginButton>
        <endButton>
            <Button
                id="cancelButton"
                text="{i18n>ContentFinder.Button.Cancel}"
                press=".onCancelButtonPressed"
            />
        </endButton>
    </Dialog>
</mvc:View>
