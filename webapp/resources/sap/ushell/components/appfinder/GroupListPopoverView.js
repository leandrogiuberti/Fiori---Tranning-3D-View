// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/thirdparty/jquery","sap/ui/core/mvc/View","sap/m/ResponsivePopover","sap/ushell/resources","sap/m/ScrollContainer","sap/ui/Device","sap/m/StandardListItem","sap/m/List","sap/m/Input","sap/m/Button","sap/ui/core/IconPool","sap/m/Bar","sap/m/Label","sap/m/DisplayListItem","sap/m/library","sap/ui/model/Filter","sap/ui/model/FilterOperator"],(jQuery,t,e,o,n,i,s,r,u,p,a,l,c,h,d,_,g)=>{"use strict";const m=d.ListMode;const G=d.ListType;return t.extend("sap.ushell.components.appfinder.GroupListPopoverView",{getControllerName:function(){return"sap.ushell.components.appfinder.GroupListPopover"},createContent:function(t){this.oPopover=new e({id:"groupsPopover",placement:"Auto",title:o.i18n.getText("addTileToGroups_popoverTitle"),contentWidth:"20rem",beginButton:this._getCloseButton(),content:this._getListContainer(),afterClose:[t._afterCloseHandler,t]}).addStyleClass("sapContrastPlus");this.addDependent(this.oPopover);this.oPopover.setInitialFocus(this._getNewGroupListItem())},open:function(t){if(document.body.clientHeight-t.getDomRef().getBoundingClientRect().bottom>=310){this.oPopover.setPlacement("Bottom")}this.oPopover.openBy(t);if(this.getViewData().singleGroupSelection){this.getController()._setFooterVisibility(false)}this.deferred=jQuery.Deferred();return this.deferred.promise()},_getListContainer:function(){if(!this._oListContainer){const t=this._getGroupList();this._oListContainer=new n({id:"popoverContainer",horizontal:false,vertical:true,content:[t],height:i.system.phone?"100%":"190px"})}return this._oListContainer},_getNewGroupInput:function(){if(!this._oNewGroupNameInput){this._oNewGroupNameInput=new u("newGroupNameInput",{type:"Text",placeholder:o.i18n.getText("new_group_name")})}return this._oNewGroupNameInput},_getNewGroupHeader:function(){if(!this._oNewGroupHeader){const t=this.getController();const e=new p({icon:a.getIconURI("nav-back"),press:[t._backButtonHandler,t],tooltip:o.i18n.getText("newGroupGoBackBtn_tooltip")});e.addStyleClass("sapUshellCatalogNewGroupBackButton");this._oNewGroupHeader=new l("oHeadBar",{contentLeft:[e],contentMiddle:[new c({text:o.i18n.getText("newGroup_popoverTitle")})]})}return this._oNewGroupHeader},_getGroupList:function(){if(!this._oGroupList){const t=this.getController();const e=new h({label:"{oGroup/title}",selected:"{selected}",tooltip:"{oGroup/title}",type:G.Active});const o=[new _("oGroup/isGroupLocked",g.EQ,false)];const n=this.getViewData();if(n.enableHideGroups){o.push(new _("oGroup/isGroupVisible",g.EQ,true))}this._oGroupList=new r({mode:n.singleGroupSelection?m.SingleSelectMaster:m.MultiSelect,items:{path:"/userGroupList",template:e,filters:o,templateShareable:false},itemPress:[t._groupListItemClickHandler,t]});const i=this._getNewGroupListItem();this._oGroupList.addEventDelegate({onBeforeRendering:function(){this._oGroupList.insertAggregation("items",i,0,true)}.bind(this),onAfterRendering:function(){this._oGroupList.removeAggregation("items",i,true)}.bind(this)})}return this._oGroupList},_getNewGroupListItem:function(){if(!this._oNewGroupItem){this._oNewGroupItem=new s("newGroupItem",{title:o.i18n.getText("newGroup_listItemText"),type:G.Navigation});this._oNewGroupItem.data("newGroupItem",true);this._oNewGroupItem.getList=function(){return this._oGroupList}.bind(this);this._oNewGroupItem.getModeControl=function(){return null};this._oNewGroupItem.onsapspace=function(t){t.preventDefault();t.isMarked()};this._oNewGroupItem.addEventDelegate({onsaptabnext:function(t){t.preventDefault();t._bIsStopHandlers=true;this._getCloseButton().focus()}})}return this._oNewGroupItem},_getCancelButton:function(){if(!this._oCancelButton){const t=this.getController();this._oCancelButton=new p("cancelButton",{press:[t._cancelButtonPress,t],text:o.i18n.getText("cancelBtn")})}return this._oCancelButton},_getCloseButton:function(){if(!this._oCloseButton){const t=this.getController();this._oCloseButton=new p("closeButton",{press:[t._okayCancelButtonPress,t],text:o.i18n.getText("closeBtn")})}return this._oCloseButton}})});
//# sourceMappingURL=GroupListPopoverView.js.map