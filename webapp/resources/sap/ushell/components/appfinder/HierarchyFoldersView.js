// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/Lib","sap/ui/core/mvc/View","sap/m/Button","sap/m/Label","sap/m/Bar","sap/m/Page","sap/m/library","sap/m/List","sap/m/StandardListItem","sap/m/Text","sap/ushell/resources"],(e,t,s,n,a,i,o,r,c,l,h)=>{"use strict";const d=o.ButtonType;const u=o.ListSeparators;return t.extend("sap.ushell.components.appfinder.HierarchyFoldersView",{createContent:function(t){const o=this;this.translationBundle=h.i18n;this.treePath="";this.lastFocusID=`${document.URL.substring(document.URL.lastIndexOf("&/")+2)}-button`;this.systemSelectorText=new l({text:{path:"easyAccessSystemsModel>/systemSelected",formatter:t.systemSelectorTextFormatter.bind(t)}});this.oItemTemplate=new c({title:"{easyAccess>text}",type:"Navigation",press:function(){const e=o.pageMenu.$().find(".sapMBarLeft button");if(!e.length){o.lastFocusID=document.activeElement.getAttribute("id")}const t=this.getBindingContextPath();o.getViewData().navigateHierarchy(t,true)}});this.oList=new r({showSeparators:u.None,items:{path:`easyAccess>${this.treePath}/folders`,template:this.oItemTemplate},updateFinished:function(){const e=this.getItems();o.finishEasyAccessAnimation(true);e.forEach(e=>{e.onsapspace=e.onsapenter})},noDataText:{path:"easyAccessSystemsModel>/systemSelected",formatter:function(e){if(e){return o.translationBundle.getText("easyAccessFolderWithNoItems")}}}});this._navBackButton=new s({tooltip:e.getResourceBundleFor("sap.m").getText("PAGE_NAVBUTTON_TEXT"),type:d.Back,visible:false,press:function(){const e=this.treePath.split("/");const t=e.slice(0,e.length-2);this.getViewData().navigateHierarchy(t.join("/"),false)}.bind(this)});this.pageMenu=new i({enableScrolling:true,headerContent:new a({contentLeft:[this._navBackButton,new n({text:{parts:["easyAccessSystemsModel>/systemSelected"],formatter:t.systemSelectorTextFormatter.bind(t)}})],contentRight:[new s({text:this.translationBundle.getText("easyAccessSelectSystemDialogTitle"),type:d.Transparent,visible:{path:"easyAccessSystemsModel>/systemsList",formatter:function(e){return e.length>1}},press:[t.onSystemSelectionPress,t]})]}).addStyleClass("sapUshellEasyAccessMasterPageHeader"),content:this.oList});return this.pageMenu},getControllerName:function(){return"sap.ushell.components.appfinder.HierarchyFolders"},finishEasyAccessAnimation:function(){if(!this.jqFolderClone){return}if(this.forwardAnimation){this.pageMenu.$().addClass("forwardToViewAnimation");this.jqFolderClone.addClass("forwardOutOfViewAnimation")}else{this.pageMenu.$().addClass("backToViewAnimation");this.jqFolderClone.addClass("backOutOfViewAnimation")}this.jqFolderClone.on("animationend",()=>{this.pageMenu.$().removeClass("forwardToViewAnimation backToViewAnimation");const e=this.pageMenu.$().find(".sapMBarLeft button");if(e.length){e.focus()}else{setTimeout(()=>{document.querySelector(`#${this.lastFocusID}`).focus()})}if(this.jqFolderClone){this.jqFolderClone.remove()}})},prepareEasyAccessAnimation:function(e){this.forwardAnimation=e;this.jqFolderClone=this.pageMenu.$().clone().removeAttr("data-sap-ui").css("z-index","1");this.jqFolderClone.find("*").removeAttr("id");this.pageMenu.$().parent().append(this.jqFolderClone)},updatePageBindings:function(e,t){const s=e.split("/").length>2;this.treePath=e;this._navBackButton.setVisible(s);this.pageMenu.setShowSubHeader(!s);this.prepareEasyAccessAnimation(t);this.oList.bindItems(`easyAccess>${e}/folders`,this.oItemTemplate)}})},true);
//# sourceMappingURL=HierarchyFoldersView.js.map