// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log"],e=>{"use strict";const a="sap.ushell.StaticAppLauncher";const t="sap.ushell.DynamicAppLauncher";const i="module:sap/ushell/utils/tilecard/TileCardExtension";const r=e.getLogger("sap.ushell.utils.tilecard.TileCard");const n={_version:"1.41.0","sap.app":{id:"sap.ushell.utils.tilecard.Error",type:"card",applicationVersion:{version:"1.123.0"},i18n:{bundleName:"sap.ushell.utils.tilecard.resources/resources"}},"sap.card":{type:"List",header:{title:"{{TileCard.Widget.NotAvailable}}",icon:{src:"sap-icon://sys-cancel"}}}};function s(e){const a=e.target;if(!a){return[]}if(a.semanticObject&&a.action){return[{type:"Navigation",parameters:{ibnTarget:{semanticObject:a.semanticObject,action:a.action},ibnParams:a.mParameters}}]}else if(a.type&&a.type==="URL"){return[{type:"Navigation",parameters:{url:a.url}}]}else if(e.targetURL){return[{type:"Navigation",parameters:{url:e.targetURL}}]}return[]}function l(e,a){const t={type:"Numeric",title:a.title||"",titleMaxLines:a.subtitle?2:3,subTitle:a.subtitle||"",subTitleMaxLines:1,wrappingType:"Hyphenated",icon:{src:a.icon||"",shape:"Square",visible:!!a.icon},actions:s(a),details:{text:a.info||"",state:"None"},banner:a.displayProviderLabel?[{text:a.contentProviderLabel}]:[]};if(e){const e=a.indicatorDataSource;t.data={updateInterval:e&&e.refreshInterval?e.refreshInterval:0,path:"/",request:{method:"GET",url:"{parameters>/dataPath/value}",withCredentials:true,retryAfter:1}};t.icon.src=`{= \${/_data/icon} || '${a.icon||""}'}`;t.icon.visible="{= !!${/_data/icon}}";t.unitOfMeasurement=`{= \${/numberUnit} || '${a.numberUnit||""}'}`;t.mainIndicator={number:"{/_data/number}",unit:"{/_data/unit}",trend:"{/_data/trend}",state:"{/_data/state}"};t.details={text:`{= \${/_data/details/text} || '${a.info||" "}'}`,state:"{= ${/_data/details/state} || 'None'}"}}return t}function d(e){const a=e.indicatorDataSource;if(!a){return""}let t=a.url;if(a.dataSource&&e.dataSource&&e.dataSource.uri){if(!e.dataSource.uri.endsWith("/")){e.dataSource.uri=`${e.dataSource.uri}/`}t=e.dataSource.uri+a.path;t=t.replaceAll("//","/")}return t||"/"}function o(e,a){return{_version:"1.41.0","sap.app":{id:a.id,type:"card",tags:{keywords:a.keywords},i18n:{bundleName:"sap.ushell.utils.tilecard.resources/resources"}},"sap.ui":a.vizConfig["sap.ui"]||{},"sap.flp":a.vizConfig["sap.flp"]||{},"sap.fiori":a.vizConfig["sap.fiori"]||{},"sap.card":{extension:e?i:"",header:l(e,a),type:"List",configuration:{parameters:{dataPath:{value:d(a)}}}}}}function u(e){if(e.vizType===t||e.vizType===a){return o(e.vizType===t,e)}return null}function c(e){switch(e){case"flat":return"TileFlat";case"standardWide":return"TileStandardWide";case"flatWide":return"TileFlatWide";case"compact":return"LinkHeader";default:return"TileStandard"}}function p(e){if(!Array.isArray(e.supportedDisplayFormats)||e.supportedDisplayFormats.length===0){return["TileStandard"]}const a=e.supportedDisplayFormats||["flat","standard","standardWide","flatWide","compact"];return a.map(e=>c(e))}function f(e){let a;try{a={descriptor:{value:u(e)},displayVariant:c(e.displayFormatHint||"standard"),availableDisplayVariants:p(e),error:false};if(!a.descriptor.value){throw new Error("No custom tile and no descriptor value")}r.debug("TileCard was initialized.",JSON.stringify(e))}catch(t){r.debug("TileCard cannot be initialized.",JSON.stringify(e));r.info("TileCard initialization failed",t);a={descriptor:{value:n},displayVariant:c(e.displayFormatHint||"standard"),availableDisplayVariants:p(["TileStandard","TileFlat","TileFlatWide","TileStandardWide"]),error:true}}return a}return{createTileCardConfiguration:f}});
//# sourceMappingURL=TileCard.js.map