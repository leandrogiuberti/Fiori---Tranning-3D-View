// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/ui/launchpad/VizInstance","sap/ushell/ui/launchpad/VizInstanceAbap","sap/ushell/ui/launchpad/VizInstanceCdm","sap/ushell/ui/launchpad/VizInstanceLaunchPage","sap/ushell/ui/launchpad/VizInstanceLink","sap/m/library","sap/ushell/library","sap/base/util/ObjectPath","sap/ushell/EventHub","sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations"],(e,t,a,i,n,o,s,d,r,l)=>{"use strict";const c=o.LoadState;const u=s.DisplayFormat;function p(){}p.prototype.instantiateVisualization=function(o){let s;let p=d.get("_instantiationData.platform",o);const h={vizRefId:o.id,title:o.title,subtitle:o.subtitle,icon:o.icon,keywords:o.keywords,instantiationData:o._instantiationData,indicatorDataSource:o.indicatorDataSource,dataSource:o.dataSource,contentProviderId:o.contentProviderId,contentProviderLabel:o.contentProviderLabel,vizConfig:o.vizConfig,supportedDisplayFormats:o.supportedDisplayFormats,displayFormat:o.displayFormatHint,numberUnit:o.numberUnit,dataHelpId:o.vizId,preview:o.preview};if(h.indicatorDataSource){h.indicatorDataSource.ui5object=true}if((p==="ABAP"||p==="CDM")&&h.displayFormat===u.Compact){this._cleanInstantiationDataForLink(h);p="LINK"}if(p==="ABAP"){s=new t(h)}else if(p==="CDM"){s=new a(h)}else if(p==="LINK"){s=new n(h)}if(p==="LAUNCHPAGE"){s=new i(h)}if(!s){return new e({state:c.Failed})}s.setTargetURL(o.targetURL);if(p!=="LINK"){s.setInfo(o.info)}if(l.isStandardVizType(o.vizType)){try{s.load().then(()=>{r.emit("VizInstanceLoaded",o.id)})}catch(e){s.setState(c.Failed);r.emit("VizInstanceLoaded",o.id)}}else{s.setState(c.Loading);r.once("CoreResourcesComplementLoaded").do(()=>{try{s.load(true).then(()=>{s.setState(c.Loaded)})}catch(e){s.setState(c.Failed)}})}return s};p.prototype._cleanInstantiationDataForLink=function(e){delete e.info;delete e.icon;delete e.keywords;delete e.instantiationData;delete e.dataSource;delete e.contentProviderId;delete e.contentProviderLabel;delete e.vizConfig;delete e.numberUnit;delete e.indicatorDataSource;delete e.preview};p.hasNoAdapter=true;return p});
//# sourceMappingURL=VisualizationInstantiation.js.map