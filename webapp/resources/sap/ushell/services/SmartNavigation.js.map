{"version":3,"file":"SmartNavigation.js","names":["sap","ui","define","jQuery","utils","AppConfiguration","Log","UrlParsing","Container","SmartNavigation","oContainerInterface","sParameters","oServiceConfig","this","_oServiceConfig","_oCrossAppNavigationServicePromise","getServiceAsync","_oPersonalizationServicePromise","_oHashCodeCache","STATISTIC_COLLECTION_WINDOW_DAYS","PERS_CONTAINER_KEY_PREFIX","ONE_DAY_IN_MILLISECOND","prototype","getLinks","oArgs","oDeferred","Deferred","error","then","CrossApplicationNavigationService","oAllLinksPromise","_isTrackingEnabled","done","resolve","fail","reject","oCurrentApplication","getCurrentApplication","sFromCurrentShellHash","sShellHash","oAppComponent","componentHandle","getInstance","warning","oNavigationOccurrencesPromise","_getNavigationOccurrences","when","aLinks","aNavigationOccurrences","length","aPreparedLinks","_prepareLinksForSorting","sort","oLink","oOtherLink","clickCount","catch","promise","toExternal","aArguments","arguments","apply","sDestinationShellHash","_getHashFromOArgs","target","_recordNavigationOccurrences","hrefForExternal","getService","hrefForExternalAsync","async","oCANService","getPrimaryIntent","trackNavigation","debug","oTarget","oConfig","isDefined","config","isTrackingEnabled","_getHashCode","vAny","sAny","iHash","iLength","charCodeAt","_getBaseHashPart","sIntent","parseShellHash","semanticObject","action","Error","shellHash","_getPersContainerKey","oComponent","sPersContainerKey","PersonalizationService","oContainerPromise","getContainer","keyCategory","constants","FIXED_KEY","writeFrequency","HIGH","clientStorageAllowed","oContainer","aItemKeys","getItemKeys","aItemsWithClickCount","map","sSemanticObject","oSemanticObjectHistoryEntry","getItemValue","aActions","Object","keys","actions","sAction","oAction","iAggregatedClickCount","dailyFrequency","reduce","aggregate","iPastNthDayUsageCount","intent","aFlattenedList","aEveryIntent","aSOSpecificIntentSet","Array","push","mNavigationOccurrences","forEach","oNavigationOccurrence","sBaseHashPart","oLinkNavigationOccurrence","sToDestinationShellHash","oTargetDestination","latestVisit","Date","now","oActionHistoryEntry","_updateHistoryEntryWithCurrentUsage","setItemValue","save","oHistoryEntry","iNow","iTimePassedSinceLastVisit","iDaysPassedSinceLastVisit","Math","floor","unshift","pop","hasNoAdapter"],"sources":["SmartNavigation-dbg.js"],"mappings":"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","ignoreList":[]}