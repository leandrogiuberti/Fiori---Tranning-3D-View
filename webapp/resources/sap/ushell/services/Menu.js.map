{"version":3,"file":"Menu.js","names":["sap","ui","define","Config","ushellLibrary","ushellUtils","JSONModel","deepClone","Log","resources","Container","ContentNodeType","Menu","this","_init","apply","arguments","prototype","adapter","oAdapter","oModel","setSizeLimit","bIsMenuModelFilled","_aBlockedList","isMenuEnabled","isSideNavigationEnabled","Promise","resolve","getMenuEntries","async","aMenuEntries","last","oHomeAppEntry","id","title","i18n","getText","description","icon","undefined","type","target","semanticObject","action","parameters","innerAppRoute","isHomeEntry","menuEntries","splice","map","oMenuEntry","uid","generateUniqueId","forEach","oSubMenuEntry","getSpacesPagesHierarchy","oMenuEntriesPromise","getContentNodeEntries","spaces","reduce","aSpaces","aPages","length","_getAccessiblePages","push","spaceId","pages","oPage","oError","getContentNodes","aContentNodeTypes","bKeepUnrequestedParents","Object","values","aContentNodes","aFilteredContentNodes","_filterContentNodes","aTypes","Array","isArray","aNodes","oContentNode","children","bIsSupportedType","includes","getDefaultSpace","Space","Page","oMenuModel","getMenuModel","oFirstPersonalizedSpace","getData","filter","pinned","some","oCurrentMinimalMenuEntry","oCurrentMenuEntry","pinnedSortOrder","oNonEmptyPersonalizedSpace","find","oNonEmptySpace","getMyHomeSpace","sMySpaceId","oSpaceParam","oParam","name","oPageParam","value","hasMultiplePages","oSpace","isSpacePageAssigned","pageId","getSpaceAndPageTitles","spaceTitle","label","pageTitle","_getMenuEntriesWithPersonalizationData","setData","oMenuPersonalization","getMenuPersonalization","aPersonalizedMenuEntries","oSeparator","bShowSeparator","iIndex","iIndexOffset","pinnedSpaces","indexOf","_extractPersonalization","version","aMenuEntriesWithPersonalizationData","sort","oMenuEntryA","oMenuEntryB","savePersonalization","oMenuPersonalizationData","oPersonalizationService","getServiceAsync","oPersId","container","item","oScope","validity","keyCategory","KeyCategory","FIXED_KEY","writeFrequency","WriteFrequency","HIGH","clientStorageAllowed","oPersonalizer","getPersonalizer","setPersData","moveMenuEntry","iSourceIndex","iTargetIndex","oMenuEntryToMove","refresh","isPinned","sSpaceId","isWorkPage","sPageId","_getNodeInfo","nodeId","nodes","isChild","managerId","oNodeInfo","i","_getManagerIdInNodeTree","node","isRootNode","_nodeManagementPermitted","rootNodes","error","_updateNode","managedTree","oTree","addUid","treeObj","_createEntryProviders","nodeIds","model","oMenuEntryProvider","sNodeId","aUpdatedNodes","bind","_isManagerBlocked","_setManagerBlocked","getEntryProvider","pluginName","Error","hasNoAdapter"],"sources":["Menu-dbg.js"],"mappings":"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","ignoreList":[]}