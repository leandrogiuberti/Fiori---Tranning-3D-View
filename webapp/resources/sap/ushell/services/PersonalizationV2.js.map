{"version":3,"file":"PersonalizationV2.js","names":["sap","ui","define","Log","Deferred","ManagedObject","BaseObject","Component","jQuery","ushellUtils","personalizationUtils","publicConstants","ContextContainer","WindowAdapter","TransientPersonalizer","Personalizer","VariantSetAdapter","Variant","VariantSet","WindowAdapterContainer","PersonalizationV2","oAdapter","oContainerInterface","sParameter","oConfig","this","_oConfig","config","_oAppVariantAdapterWithBackendAdapter","_configureAppVariantStorage","appVariantStorage","_oAdapterWithBackendAdapter","lazy","instance","_oAdapterWindowOnly","undefined","_oContainerMap","Map","_oPendingOperationsMap","prototype","SAVE_DEFERRED_DROPPED","constants","KeyCategory","keyCategory","WriteFrequency","writeFrequency","oAppVariantStorageConfig","that","sDefaultAppVariantAdapter","adapter","module","Object","keys","length","enabled","sAdapterModuleName","sAdapterModulePath","split","join","fnCreate","_oAppVariantAdapterLoadPromise","require","AppVariantPersonalizationAdapter","oWrappedAdapter","resolve","oError","reject","oRequireError","promise","create","getGeneratedKey","async","generateRandomKey","getPersonalizer","oPersId","oScope","oComponent","_getApplicationComponent","sOwnerId","_sOwnerId","getComponentById","isObjectA","getTransientPersonalizer","getContainer","sContainerKey","oContainer","_createContainer","createEmptyContainer","bCreateEmpty","Error","bUseAppVariantStorage","isAppVariant","shared","oAdjustedScope","adjustScope","sPrefixedContainerKey","addContainerPrefix","oManifest","getManifestObject","component","appVarId","getEntry","appVersion","oPersistentAdapter","oTransientAdapter","oChosenAdapter","pickAdapter","oLoadedAdapter","loadAdapter","oContextContainer","bSupportsGetWithoutSubsequentLoad","supportsGetWithoutSubsequentLoad","load","isExpired","clearData","deleteContainer","_adjustScope","oDeferred","oPrior","_pendingContainerOperations_cancelAddNext","always","then","validity","delAdapterContainer","fail","error","done","catch","promisify","_pendingContainerOperations_flushAddNext","oPendingOpDeferred","get","put","state","clearTimeout","_sapTimeoutId","_sapFnSave","fnSave","_getBackendAdapter","_oBackendAdapter","resetEntirePersonalization","bIsSupported","isResetEntirePersonalizationSupported","hasNoAdapter"],"sources":["PersonalizationV2-dbg.js"],"mappings":"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","ignoreList":[]}