// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log"],e=>{"use strict";const n={};function o(e){const o=e();if(!o.hasOwnProperty("logId")){throw new Error("'logId' argument was not provided in #begin method of StagedLogger.")}const t=o.logId;if(n[t]){throw new Error(`'cannot call #begin twice with same log id: '${t}'`)}else{n[t]={}}const l=n[t];l.title=o.title||null;l.moduleName=o.moduleName||null;function r(e,n){if(n===1){return e}return r(e,n-1)+e}l.stages=o.stages.map(e=>[e,r("-",e.length)]);return t}function t(e){let o;let t;const l=e();if(!l.hasOwnProperty("logId")){throw new Error("'logId' argument was not provided in #log method of StagedLogger.")}const r=l.logId;const g=l.stage;t=l.prefix;const i=l.lines;o=l.line;const s=l.number;if(!i&&o&&t){o=`${t} ${o}`}const a=n[r].stages[g-1];if(o){a.push(o)}if(i){if(t){t=(o?" ":"")+t}const e=i.map((e,n)=>(s?n+1:"")+(t?`${t} `:"")+e);a.push.apply(a,e)}}function l(o){const t=o();if(!t.hasOwnProperty("logId")){throw new Error("'logId' argument was not provided in #log method of StagedLogger.")}const l=t.logId;const r=n[l];if(typeof r!=="object"){throw new Error("Logger .end was called on an already ended logger")}const g=r.stages.map(e=>e.join("\n")).join("\n\n");e.debug(`[REPORT #${l}] ${r.title}`,`\n${g}\n`,r.moduleName);delete n[l]}function r(){return n}return{begin:function(){if(e.getLevel()>=e.Level.DEBUG){o.apply(null,arguments)}},log:function(){if(e.getLevel()>=e.Level.DEBUG){t.apply(null,arguments)}},end:function(){if(e.getLevel()>=e.Level.DEBUG){l.apply(null,arguments)}},_getLogs:r}});
//# sourceMappingURL=StagedLogger.js.map