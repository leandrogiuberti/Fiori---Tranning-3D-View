// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/services/PersonalizationV2/constants","sap/ushell/services/PersonalizationV2/constants.private","sap/ushell/utils","sap/ui/thirdparty/jquery","sap/base/Log"],(e,t,n,jQuery,i)=>{"use strict";function r(e,t){let n;for(n in t){if(typeof t[n]!=="function"){if(t.hasOwnProperty(n)){if(n===e){return true}}}}return false}function a(e){if(e.length>40){i.error(`Personalization Service container key ("${e}") should be less than 40 characters [current :${e.length}]`)}return t.S_CONTAINER_PREFIX+e}function l(e,t,n){if(e&&e.validity===0){return t}return n}function o(t){const n={validity:Infinity,keyCategory:e.keyCategory.GENERATED_KEY,writeFrequency:e.writeFrequency.HIGH,clientStorageAllowed:false};if(t){n.validity=t.validity;if(n.validity===null||n.validity===undefined||typeof n.validity!=="number"){n.validity=Infinity}if(!(typeof n.validity==="number"&&(n.validity>=0&&n.validity<1e3||n.validity===Infinity))){n.liftime=Infinity}n.keyCategory=r(t.keyCategory,e.keyCategory)?t.keyCategory:n.keyCategory;n.writeFrequency=r(t.writeFrequency,e.writeFrequency)?t.writeFrequency:n.writeFrequency;if(typeof t.clientStorageAllowed==="boolean"&&(t.clientStorageAllowed===true||t.clientStorageAllowed===false)){n.clientStorageAllowed=t.clientStorageAllowed}}return n}async function u(e){if(!e.lazy){return n.promisify(jQuery.when(e.instance))}return n.promisify(e.create.call(null))}function f(e){if(!e){return false}const t=e.getManifestObject();if(!t){return false}const n=t.getEntry("/sap.ui5/appVariantId");if(!n){return false}const i=t.getComponentName();if(n===i){return false}return true}function y(e){if(e===undefined){return undefined}try{return JSON.parse(e)}catch{return undefined}}function s(e){if(e===undefined){return undefined}try{return JSON.parse(JSON.stringify(e))}catch{return undefined}}return{adjustScope:o,cloneToObject:y,clone:s,addContainerPrefix:a,pickAdapter:l,isAppVariant:f,loadAdapter:u}});
//# sourceMappingURL=utils.js.map