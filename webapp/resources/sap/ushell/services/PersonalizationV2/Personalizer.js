// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/utils","sap/base/Log"],(t,e)=>{"use strict";function r(t,e,r,i,n){this._sPersContainer="";this._sPersItem="";this._sPersVariant=null;this._oAdapter=e;this._oPersonalizationService=t;this._oScope=i;this._oComponent=n;if(!r||!r.container||!r.item||typeof r.container!=="string"||typeof r.item!=="string"){throw new Error("Invalid input for oPersId: sap.ushell.services.Personalization")}this._sPersContainer=r.container;this._sPersItem=r.item}r.prototype._getContainer=function(t){if(!this._oGetContainerPromise){this._oGetContainerPromise=this._oPersonalizationService.getContainer(t,this._oScope,this._oComponent)}return this._oGetContainerPromise};r.prototype.getPersData=function(){return this._getContainer(this._sPersContainer).then(t=>t.getItemValue(this._sPersItem)).catch(t=>{e.error(`Failed to get personalization data for Personalizer container: ${this._sPersContainer}`,t);throw t})};r.prototype.setPersData=function(r){return this._getContainer(this._sPersContainer).then(e=>{e.setItemValue(this._sPersItem,r);return t.promisify(e.save())}).catch(t=>{e.error(`Failed to get personalization data for Personalizer container: ${this._sPersContainer}`,t);throw t})};r.prototype.deletePersData=function(){return this._getContainer(this._sPersContainer).then(e=>{e.deleteItem(this._sPersItem);return t.promisify(e.save())}).catch(t=>{e.error(`Fail to delete Personalization data for Personalizer container: ${this._sPersContainer}`,t);throw t})};return r});
//# sourceMappingURL=Personalizer.js.map