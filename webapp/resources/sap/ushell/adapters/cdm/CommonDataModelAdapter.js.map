{"version":3,"file":"CommonDataModelAdapter.js","names":["sap","ui","define","Log","extend","Version","URI","jQuery","Container","CommonDataModelAdapter","oUnused","sParameter","oAdapterConfiguration","this","config","siteData","oCdmSiteDataRequestPromise","Deferred","resolve","siteDataPromise","sSiteUrl","_identifySiteUrlFromConfig","sAbsoluteSiteUrl","_normalizeUrl","location","href","_requestSiteData","prototype","sUrl","oSiteDataRequestDeferred","reject","Error","ajax","type","dataType","url","done","oResponseData","fail","oError","error","responseText","promise","sCurrentURL","indexOf","oBaseTag","document","getElementsByTagName","absoluteTo","toString","getSite","oDeferred","oSiteData","oSiteWithoutPers","personalization","getPersonalization","that","oSiteDataCopy","sSiteVersion","_version","sPersonalizationVersion","ignoreSiteDataPersonalization","Object","keys","length","_isPersonalizationVersionValid","_readPersonalizationDataFromStorage","oPersonalizationData","siteVersion","personalizationVersion","iSiteVersionMajor","getMajor","oPersonalizationVersion","setPersonalization","oPersonalizationDeferred","getServiceAsync","then","async","oPersonalizationService","oComponent","oScope","keyCategory","KeyCategory","FIXED_KEY","writeFrequency","WriteFrequency","LOW","clientStorageAllowed","oPersId","container","item","oCdmSiteVersion","version","inRange","oPersonalizer","getPersonalizer","setPersData","info","catch","cdmSiteVersion","oVersion","getPersData","oParams","URLSearchParams","window","search","sSiteURL","get","oConfig","allowSiteSourceFromURLParameter","siteDataUrl","cdmSiteUrl","sCdmSiteUrl"],"sources":["CommonDataModelAdapter-dbg.js"],"mappings":"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","ignoreList":[]}