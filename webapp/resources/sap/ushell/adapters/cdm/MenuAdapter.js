// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/library","sap/ushell/Config","sap/ushell/Container"],(e,t,n)=>{"use strict";const r=e.ContentNodeType;function i(){}i.prototype.isMenuEnabled=function(){if(!t.last("/core/menu/enabled")){return Promise.resolve(false)}return n.getServiceAsync("CommonDataModel").then(e=>e.getMenuEntries("main").then(e=>e.length>0))};i.prototype.getMenuEntries=function(){return n.getServiceAsync("CommonDataModel").then(e=>e.getMenuEntries("main"))};i.prototype.getContentNodes=function(){return this.getMenuEntries().then(this._normalizeMenuEntries.bind(this)).then(this._buildContentNodes.bind(this))};i.prototype._normalizeMenuEntries=function(e){const t=[];return n.getServiceAsync("CommonDataModel").then(n=>{e.forEach(e=>{if(this._isSpaceOrPage(e)&&e.menuEntries===undefined){const r=e.target.parameters.find(e=>e.name==="pageId");const i=r&&r.value;e.menuEntries=[{title:i,type:"IBN",target:e.target}];t.push(n.getPage(i).then(t=>{e.menuEntries[0].title=t.identification.title}))}});return Promise.allSettled(t)}).then(()=>e)};i.prototype._buildContentNodes=function(e){return e.filter(this._isSpaceOrPage).map(e=>{const t=e.target.parameters.find(e=>e.name==="spaceId").value;const n={id:t,label:e.title,type:r.Space,isContainer:false};n.children=e.menuEntries.filter(this._isSpaceOrPage).map(e=>{const t=e.target.parameters.find(e=>e.name==="pageId");const n=t&&t.value;if(!n){return null}return{id:n,label:e.title,type:r.Page,isContainer:true,children:[]}}).filter(e=>!!e);return n})};i.prototype._isSpaceOrPage=function(e){return e.type==="IBN"&&e.target&&e.target.semanticObject==="Launchpad"&&e.target.action==="openFLPPage"&&Array.isArray(e.target.parameters)};return i});
//# sourceMappingURL=MenuAdapter.js.map