// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/services/ClientSideTargetResolution/VirtualInbounds","sap/base/util/ObjectPath","sap/ui/thirdparty/jquery","sap/base/Log","sap/ushell/utils","sap/ushell/Container"],(e,n,jQuery,t,i,s)=>{"use strict";function o(o,r,l){function a(e,n){e.forEach(e=>{const t=`${e.semanticObject}-${e.action}`;n[t]=e.resolutionResult})}const c=n.create("config.applications",l);const f=e.getInbounds();a(f,c);this.resolveHashFragment=function(e){const n=new jQuery.Deferred;let s;if(e&&e.charAt(0)!=="#"){throw new i.Error("Hash fragment expected","sap.ushell.renderers.minimal.Shell")}e=e.substring(1);if(!e&&!c[e]){n.resolve(undefined)}else{t.info(`Hash Fragment: ${e}`);let i=e.indexOf("&/");if(i>=0){e=e.slice(0,i)}i=e.indexOf("?");if(i>=0){s=e.slice(i+1);e=e.slice(0,i)}const o=c[e];if(o){const e={additionalInformation:o.additionalInformation,applicationType:o.applicationType,url:o.url,text:o.text,fullWidth:o.fullWidth,navigationMode:"embedded"};if(s){e.url+=e.url.indexOf("?")<0?"?":"&";e.url+=s}if(o.navigationMode!==undefined){e.navigationMode=o.navigationMode}n.resolve(e)}else{n.reject(new Error(`Could not resolve link '${e}'`))}}return n.promise()};this.getSemanticObjectLinks=function(e,n){const i=[];let o=0;const r=new jQuery.Deferred;if(!e){setTimeout(()=>{r.resolve([])},0)}else{s.getServiceAsync("URLParsing").then(s=>{const l=s.paramsToString(n);t.info(`getSemanticObjectLinks: ${e}`);for(const n in c){if(c.hasOwnProperty(n)&&n.substring(0,n.indexOf("-"))===e){i[o]=c[n];i[o].id=n;i[o].text=i[o].text||i[o].description||"no text";i[o].intent=`#${n}`;if(l!==""){if(i[o].intent.indexOf("?")!==-1){i[o].intent+=`&${l}`}else{i[o].intent+=`?${l}`}}o+=1}}if(i){r.resolve(i)}else{r.reject(new Error(`Could not get links for '${e}'`))}})}return r.promise()};this.isIntentSupported=function(e){const n=new jQuery.Deferred;const t={};const i=[];const s=this;function o(e,n){t[e]={supported:n}}e.forEach((e,n)=>{const t=new jQuery.Deferred;i.push(t.promise());s.resolveHashFragment(e).fail(n=>{o(e,false);t.resolve()}).done(n=>{o(e,true);t.resolve()})});if(e.length>0){jQuery.when.apply(jQuery,i).always(()=>{n.resolve(t)})}else{n.resolve(t)}return n.promise()}}return o},false);
//# sourceMappingURL=NavTargetResolutionInternalAdapter.js.map