// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/base/i18n/Localization","sap/base/util/ObjectPath","sap/ushell/library","sap/ushell/Container"],(e,t,n,a,r)=>{"use strict";const i=a.ContentNodeType;function o(e,t,a){this._oAdapterConfig=n.get("config",a)}o.prototype.isMenuEnabled=function(){return Promise.resolve(!!this._oAdapterConfig.enabled)};o.prototype.getContentNodes=async function(){const n=this._oAdapterConfig.menuData;if(!n){e.error("No menuData specified in the adapter configuration.",null,"sap.ushell.adapters.local.MenuAdapter");throw new Error("No menuData specified in the adapter configuration.")}if(typeof n==="object"){return n}return fetch(n,{headers:{Accept:"application/json","Accept-Language":t.getLanguageTag().toString()}}).then(e=>e.json()).catch(t=>{e.error("Menu entries were requested but could not be loaded from JSON file",t);throw new Error("Menu entries could not be fetched")})};o.prototype.getMenuEntries=function(){return this.getContentNodes().then(e=>e.map(e=>{const t=e.children[0];const n=this._buildMenuEntry(e,e.id,t.id);if(e.children.length>1){n.menuEntries=e.children.map(t=>this._buildMenuEntry(t,e.id,t.id))}return n}))};o.prototype.getMenuPersonalization=function(){return r.getServiceAsync("PersonalizationV2").then(async e=>{const t={container:"sap.ushell.menuPersonalization",item:"data"};const n={validity:"Infinity",keyCategory:e.KeyCategory.FIXED_KEY,writeFrequency:e.WriteFrequency.HIGH,clientStorageAllowed:false};const a=await e.getPersonalizer(t,n);return a.getPersData()})};o.prototype._buildMenuEntry=function(e,t,n){const a=e.type===i.Space?"Space-":"Page-";return{id:e.id,"help-id":a+e.id,title:e.label,type:"IBN",target:{semanticObject:"Launchpad",action:"openFLPPage",parameters:[{name:"spaceId",value:t},{name:"pageId",value:n}]},isHomeEntry:false,menuEntries:[]}};return o});
//# sourceMappingURL=MenuAdapter.js.map