this["RulesAPI_Ast"]=function(t){var e={};function o(i){if(e[i])return e[i].exports;var r=e[i]={exports:{},id:i,loaded:false};t[i].call(r.exports,r,r.exports,o);r.loaded=true;return r.exports}o.m=t;o.c=e;o.p="";return o(0)}([function(t,e,o){var i=o(1);var r=o(2);var n={};n.astNodes=i;n.astOperations=r;t.exports=n},function(t,e){(function(){var e={Number:"Number",String:"String",TimeSpan:"TimeSpan",Timestamp:"Timestamp",Boolean:"Boolean",Date:"Date",Time:"Time",NA:"NA",unknown:"unknown"};function o(t,e){var o=JSON.parse(e);var i=o.kind+"Node";var r=new t[i];r.deserialize(o,t);return r}function i(t){this.kind=t;this.children=[];this.syntaxBox=[];this.parent=null}i.prototype.getKind=function t(){return this.kind};i.prototype.setParent=function t(e){this.parent=e};i.prototype.getStartOffset=function t(){return this.children[0].getStartOffset()};i.prototype.getEndOffset=function t(){return this.children[this.children.length-1].getEndOffset()};i.prototype.addChild=function t(e){e.setParent(this);this.children.push(e)};i.prototype.addToSyntaxBox=function t(e){this.syntaxBox.push(e)};i.prototype.serializeProps=function t(e){return""};i.prototype.accept=function t(e,o){e.visit(this,o)};i.prototype.equal=function t(e){var o=0;var i=this.kind===e.kind&&this.children.length===e.children.length;while(i&&o<this.children.length){i=this.children[o].equal(e.children[o]);o++}return i};i.prototype.serialize=function t(){var e='{ "kind": "'+this.kind.slice(0,-4)+'"';e+=this.serializeProps(",");if(this.children.length>0){e+=", "+this.serializeChildren()}if(this.syntaxBox.length>0){e=e+","+'"syntaxBox": [';var o=0;for(o=0;o<this.syntaxBox.length;o++){if(o>0){e+=","}e+="{";e=e+'"endColumn": '+this.syntaxBox[o].endColumn;e=e+","+'"endLine": '+this.syntaxBox[o].endLine;e=e+","+'"image": "'+this.syntaxBox[o].image+'"';e=e+","+'"startColumn": '+this.syntaxBox[o].startColumn;e=e+","+'"startLine": '+this.syntaxBox[o].startLine;e=e+","+'"startOffset": '+this.syntaxBox[o].startOffset;e+="}"}e+="]"}e+="}";e=e.replace(/\n/g,"\\n");return e};i.prototype.serializeChildren=function t(){var e='"children": [';var o=0;for(o=0;o<this.children.length;o++){if(o>0){e+=","}e+=this.children[o].serialize()}e+="]";return e};i.prototype.deserializeProps=function t(e,o){this.kind=e.kind+"Node"};i.prototype.deserialize=function t(e,o){this.deserializeProps(e);var i=0;if(e.hasOwnProperty("children")){for(i=0;i<e.children.length;i++){var r=e.children[i].kind+"Node";var n=new o[r];n.deserialize(e.children[i],o);this.addChild(n)}}if(this instanceof s){this.resolveBusinessType()}if(e.hasOwnProperty("syntaxBox")&&e.syntaxBox.length>0){for(i=0;i<e.syntaxBox.length;i++){var a={};a.endColumn=e.syntaxBox[i].endColumn;a.endLine=e.syntaxBox[i].endLine;a.image=e.syntaxBox[i].image;a.startColumn=e.syntaxBox[i].startColumn;a.startLine=e.syntaxBox[i].startLine;a.startOffset=e.syntaxBox[i].startOffset;this.addToSyntaxBox(a)}}};function r(){i.call(this,"AbsenceNode");this.text="Absence"}r.prototype=Object.create(i.prototype);r.prototype.constructor=r;r.prototype.serializeProps=function t(e){var o=e+'"text": "'+this.text+'"';return o};r.prototype.deserializeProps=function t(e){i.prototype.deserializeProps.call(this,e);this.text=e.text};r.prototype.equal=function t(e){return e instanceof r&&i.prototype.equal.call(this,e)};function n(){i.call(this,"ConnectorNode");this.text="Connector"}n.prototype=Object.create(i.prototype);n.prototype.constructor=n;n.prototype.serializeProps=function t(e){var o=e+'"text": "'+this.text+'"';return o};n.prototype.deserializeProps=function t(e){i.prototype.deserializeProps.call(this,e);this.text=e.text};n.prototype.equal=function t(e){return e instanceof n&&i.prototype.equal.call(this,e)};function s(t){i.call(this,t);this.isCollection=false;this.businessType=e.unknown}s.prototype=Object.create(i.prototype);s.prototype.constructor=s;s.prototype.getBusinessType=function t(){var o={};if(this.businessType===e.unknown){this.resolveBusinessType()}o.type=this.businessType;o.isCollection=this.isCollection;return o};s.prototype.deserializeProps=function t(o){i.prototype.deserializeProps.call(this,o);this.isCollection=false;this.businessType=e.unknown};s.prototype.equal=function t(e){return i.prototype.equal.call(this,e)};s.prototype.resolveBusinessType=function t(){};function a(t){s.call(this,"LogicalExprNode");this.operator=t;this.businessType=e.Boolean}a.prototype=Object.create(s.prototype);a.prototype.constructor=a;a.operator={and:"and",or:"or"};a.prototype.serializeProps=function t(e){var o=e+'"operator": "'+this.operator+'"';return o};a.prototype.deserializeProps=function t(e){s.prototype.deserializeProps.call(this,e);this.operator=e.operator};a.prototype.equal=function t(e){return e instanceof a&&this.operator===e.operator&&s.prototype.equal.call(this,e)};function p(t){s.call(this,"RelationalExprNode");this.operator=t;this.businessType=e.Boolean}p.prototype=Object.create(s.prototype);p.prototype.constructor=p;p.operator={isLess:"isLess",isGreater:"isGreater",isEqual:"isEqual",isNotEqual:"isNotEqual",isLessEqual:"isLessEqual",isGreaterEqual:"isGreaterEqual"};p.prototype.serializeProps=function t(e){var o=e+'"operator": "'+this.operator+'"';return o};p.prototype.deserializeProps=function t(e){s.prototype.deserializeProps.call(this,e);this.operator=e.operator};p.prototype.equal=function t(e){return e instanceof p&&this.operator===e.operator&&s.prototype.equal.call(this,e)};function c(t){s.call(this,"BinaryExprNode");this.operator=t}c.prototype=Object.create(s.prototype);c.prototype.constructor=c;c.operator={plus:"plus",minus:"minus",mult:"mult",div:"div"};c.prototype.serializeProps=function t(e){var o=e+'"operator": "'+this.operator+'"';return o};c.prototype.deserializeProps=function t(e){s.prototype.deserializeProps.call(this,e);this.operator=e.operator};c.prototype.equal=function t(e){return e instanceof c&&this.operator===e.operator&&s.prototype.equal.call(this,e)};c.prototype.resolveBusinessType=function t(){if(this.operator===c.operator.minus||this.operator===c.operator.plus||this.operator===c.operator.mult||this.operator===c.operator.div){this.businessType=e.Number}else if(this.operator===c.operator.Plus&&this.children.lenght>0){if(this.children[0].getBusinessType().type===e.String){this.businessType=e.String}else if(this.children.lenght>0&&this.children[0].getBusinessType().type===e.Number){this.businessType=e.Number}}};function l(t){s.call(this,"UnaryExprNode");this.operator=t}l.prototype=Object.create(s.prototype);l.prototype.constructor=l;l.operator={minus:"minus"};l.prototype.getStartOffset=function t(){return this.syntaxBox[0].offset};l.prototype.serializeProps=function t(e){var o=e+'"operator": "'+this.operator+'"';return o};l.prototype.deserializeProps=function t(e){s.prototype.deserializeProps.call(this,e);this.operator=e.operator};l.prototype.equal=function t(e){return e instanceof l&&this.operator===e.operator&&s.prototype.equal.call(this,e)};l.prototype.resolveBusinessType=function t(){if(this.operator==="Minus"){this.businessType=e.Number}};function u(t){s.call(this,t)}u.prototype=Object.create(s.prototype);u.prototype.constructor=u;u.prototype.getStartOffset=function t(){return this.syntaxBox[0].offset};u.prototype.equal=function t(e){return s.prototype.equal.call(this,e)};function h(t,e){u.call(this,"LiteralNode");this.value=t;this.businessType=e;this.isCollection=false}h.prototype=Object.create(u.prototype);h.prototype.constructor=h;h.prototype.getEndOffset=function t(){return this.syntaxBox[this.syntaxBox.length-1].endColumn-1};h.prototype.serializeProps=function t(e){var o=e+'"value": "'+this.value+'", '+'"businessType": "'+this.businessType+'"';return o};h.prototype.deserializeProps=function t(e){u.prototype.deserializeProps.call(this,e);this.value=e.value;this.businessType=e.businessType;this.isCollection=false};h.prototype.equal=function t(e){return e instanceof h&&this.value===e.value&&this.businessType===e.businessType&&this.isCollection===e.isCollection&&u.prototype.equal.call(this,e)};function f(t,e,o){h.call(this,t,e);this.kind="UOMLiteralNode";this.UOM=o}f.prototype=Object.create(h.prototype);f.prototype.constructor=f;f.prototype.serializeProps=function t(e){var o=h.prototype.serializeProps.call(this,e);o=o+e+'"UOM": "'+this.UOM+'"';return o};f.prototype.deserializeProps=function t(e){h.prototype.deserializeProps.call(this,e);this.UOM=e.UOM};f.prototype.equal=function t(e){return e instanceof f&&this.UOM===e.UOM&&h.prototype.equal.call(this,e)};function y(t){u.call(this,"IdentifierNode");if(t){this.businessType=t.businessType;this.isCollection=t.isCollection;this.rootObject=t.rootObject;this.attribute=t.attribute;this.associations=t.associations;this.modifiers={};if(t.modifiers){for(var e in t.modifiers){if(t.modifiers.hasOwnProperty(e)){this.modifiers[e]=t.modifiers[e]}}}}else{this.businessType=null;this.isCollection=null;this.rootObject=null;this.attribute=null;this.associations=[];this.modifiers={}}}y.prototype=Object.create(u.prototype);y.prototype.constructor=y;y.prototype.getEndOffset=function t(){return this.syntaxBox[this.syntaxBox.length-1].endColumn-1};y.prototype.serializeProps=function t(e){var o=e+'"businessType": "'+this.businessType+'"';o=o+","+'"isCollection": '+this.isCollection;o=o+","+'"rootObject": "'+this.rootObject+'"';o=o+","+'"attribute": "'+this.attribute+'"';o=o+","+'"associations": [';var i=0;for(i=0;i<this.associations.length;i++){if(i>0){o+=","}o=o+'"'+this.associations[i]+'"'}o+="]";o+=","+'"modifiers": {';var i=0;for(var r in this.modifiers){if(i>0){o+=","}o+='"'+r+'":'+this.modifiers[r];i++}o+="}";return o};y.prototype.deserializeProps=function t(e){u.prototype.deserializeProps.call(this,e);this.businessType=e.businessType;this.isCollection=e.isCollection;this.rootObject=e.rootObject;this.attribute=e.attribute;var o=0;for(o=0;o<e.associations.length;o++){this.associations.push(e.associations[o])}for(var i in e.modifiers){this.modifiers[i]=e.modifiers[i]}};y.prototype.equal=function t(e){var o=e instanceof y&&this.businessType===e.businessType&&this.isCollection===e.isCollection&&this.rootObject===e.rootObject&&this.attribute===e.attribute&&this.modifiers.length===e.modifiers.length&&this.associations.length===e.associations.length&&u.prototype.equal.call(this,e);if(o&&this.modifiers.length>0){for(var i in this.modifiers){o=this.modifiers[i]===e.modifiers[i];if(!o){break}}}if(o&&this.associations.length>0){var r=0;while(o&&r<this.associations.length){o=this.associations[r]===e.associations[r];r++}}return o};function d(t,e){u.call(this,t);this.functionName=e}d.prototype=Object.create(u.prototype);d.prototype.constructor=d;d.prototype.serializeProps=function t(e){var o=e+'"functionName": "'+this.functionName+'"';return o};d.prototype.deserializeProps=function t(e){u.prototype.deserializeProps.call(this,e);this.functionName=e.functionName};d.prototype.equal=function t(e){return this.functionName===e.functionName&&u.prototype.equal.call(this,e)};function x(t){u.call(this,"StructNode");this.logicalOp=t;this.businessType=e.Boolean;this.isCollection=false}x.prototype=Object.create(u.prototype);x.prototype.constructor=x;x.prototype.deserializeProps=function t(e){u.prototype.deserializeProps.call(this,e);this.logicalOp=e.logicalOp;this.isCollection=false};x.prototype.equal=function t(e){return e instanceof x&&this.logicalOp===e.logicalOp&&this.isCollection===e.isCollection&&u.prototype.equal.call(this,e)};function N(){u.call(this,"BracketsExprNode")}N.prototype=Object.create(u.prototype);N.prototype.constructor=N;N.prototype.getBusinessType=function t(){if(this.children.length>0){return this.children[0].getBusinessType()}return undefined};N.prototype.getEndOffset=function t(){return this.syntaxBox[this.syntaxBox.length-1].endColumn-1};N.prototype.resolveBusinessType=function t(){if(this.children.length>0){this.businessType=this.children[0].getBusinessType().type;this.isCollection=this.children[0].getBusinessType().isCollection}};N.prototype.equal=function t(e){return e instanceof N&&u.prototype.equal.call(this,e)};function g(t){d.call(this,"AggFunctionNode",t)}g.prototype=Object.create(d.prototype);g.prototype.constructor=g;g.aggFunction={avg:"avg",sum:"sum",count:"count",countDistinct:"countDistinct",min:"min",max:"max"};g.prototype.resolveBusinessType=function t(){this.businessType=e.Number;var o=1;for(o=1;o<this.children.length;o++){if(this.children[o]instanceof v){this.isCollection=false;return}}};g.prototype.equal=function t(e){return e instanceof g&&d.prototype.equal.call(this,e)};function m(t){d.call(this,"FunctionNode",t)}m.prototype=Object.create(d.prototype);m.prototype.constructor=m;m.functionName={existsIn:"existsIn",notExistsIn:"notExistsIn",isBetween:"isBetween",isNotBetween:"isNotBetween",contains:"contains",notContains:"notContains",startsWith:"startsWith",notStartsWith:"notStartsWith",endsWith:"endsWith",notEndsWith:"notEndsWith",isInTheLast:"isInTheLast",isNotInTheLast:"isNotInTheLast",isInTheNext:"isInTheNext",isNotInTheNext:"isNotInTheNext",isLike:"isLike",isNotLike:"isNotLike",concatenate:"concatenate"};m.prototype.resolveBusinessType=function t(){this.businessType=e.String;this.isCollection=false};m.prototype.equal=function t(e){return e instanceof m&&d.prototype.equal.call(this,e)};function b(){i.call(this,"FilterClauseNode")}b.prototype=Object.create(i.prototype);b.prototype.constructor=b;b.prototype.getStartOffset=function t(){return this.syntaxBox[0].offset};b.prototype.equal=function t(e){return e instanceof b&&i.prototype.equal.call(this,e)};function v(){i.call(this,"GroupClauseNode")}v.prototype=Object.create(i.prototype);v.prototype.constructor=v;v.prototype.getStartOffset=function t(){return this.syntaxBox[0].offset};v.prototype.equal=function t(e){return e instanceof v&&i.prototype.equal.call(this,e)};function O(t){i.call(this,"OrderClauseNode");this.orderOption=t}O.prototype=Object.create(i.prototype);O.prototype.constructor=O;O.prototype.getStartOffset=function t(){return this.syntaxBox[0].offset};O.prototype.serializeProps=function t(e){var o=e+'"orderOption": "'+this.orderOption+'"';return o};O.prototype.deserializeProps=function t(e){i.prototype.deserializeProps.call(this,e);this.orderOption=e.orderOption};O.prototype.equal=function t(e){return e instanceof O&&this.orderOption===e.orderOption&&i.prototype.equal.call(this,e)};t.exports.ASTNode=i;t.exports.AbsenceNode=r;t.exports.ConnectorNode=n;t.exports.BaseExprNode=s;t.exports.LogicalExprNode=a;t.exports.RelationalExprNode=p;t.exports.BinaryExprNode=c;t.exports.UnaryExprNode=l;t.exports.BaseExprElementNode=u;t.exports.LiteralNode=h;t.exports.UOMLiteralNode=f;t.exports.IdentifierNode=y;t.exports.BaseExprFunctionNode=d;t.exports.StructNode=x;t.exports.BracketsExprNode=N;t.exports.FunctionNode=m;t.exports.FilterClauseNode=b;t.exports.AggFunctionNode=g;t.exports.GroupClauseNode=v;t.exports.BusinessDataType=e;t.exports.deserialize=o;t.exports.deserialize=function(e){return o(t.exports,e)}})()},function(t,e,o){(function(){var e=o(1);function i(t,e){return t!==null&&e!==null&&t.equal(e)}function r(t,e){if(t&&e&&t.getKind()===e.getKind()&&t.hasOwnProperty("operator")&&e.hasOwnProperty("operator")&&t.operator===e.operator)return true;return false}function n(t,e){var o=-1;if(r(t,e)&&t.children.length>1&&t.children.length>e.children.length){for(var i=0;i<e.children.length;i++){if(t[i].equal(e[i])){o=i}}}return o}function s(t,o,r){var s;var a;var p=null;var c=e.deserialize(o.serialize());function l(t){if(t.children.length===0){return t}return l(t.children[0])}function u(t,e){var o=null;if(i(t,e)){o=e}else{if(e.parent){o=u(t,e.parent)}}return o}function h(t,o,i){var r;var n={};var s=t.parent;t.parent=null;if(o){n.left=t;r=new e.ConnectorNode;if(s){if(s.children.length>0){for(var a=1;a<s.children.length;a++){r.addChild(s.children[a])}s.children=[]}if(s.parent){r.parent=s.parent;s.parent.children[0]=r}s.parent=null}n.operator=s;n.rest=i===n.operator?r:i}else{n.left=t;n.operator=null;r=new e.ConnectorNode;r.parent=s;s.children[0]=r;n.rest=i}return n}if(c&&t){s=l(c);a=u(t,s);if(a){p=h(a,r,c)}else{var f=n(c,t);if(f>=0){}}}return p}function a(t){switch(t){case e.BinaryExprNode.operator.plus:case e.BinaryExprNode.operator.minus:case e.BinaryExprNode.operator.mult:case e.BinaryExprNode.operator.div:return new e.BinaryExprNode(t);case e.LogicalExprNode.operator.and:case e.LogicalExprNode.operator.or:return new e.LogicalExprNode(t);case e.RelationalExprNode.operator.isEqual:case e.RelationalExprNode.operator.isNotEqual:case e.RelationalExprNode.operator.isGreater:case e.RelationalExprNode.operator.isGreaterEqual:case e.RelationalExprNode.operator.isLess:case e.RelationalExprNode.operator.isLessEqual:return new e.RelationalExprNode(t);case e.AggFunctionNode.aggFunction.avg:case e.AggFunctionNode.aggFunction.count:case e.AggFunctionNode.aggFunction.countDistinct:case e.AggFunctionNode.aggFunction.max:case e.AggFunctionNode.aggFunction.min:case e.AggFunctionNode.aggFunction.sum:return new e.AggFunctionNode(t);case e.FunctionNode.functionName.contains:case e.FunctionNode.functionName.notContains:case e.FunctionNode.functionName.endsWith:case e.FunctionNode.functionName.notEndsWith:case e.FunctionNode.functionName.existsIn:case e.FunctionNode.functionName.notExistsIn:case e.FunctionNode.functionName.isBetween:case e.FunctionNode.functionName.isNotBetween:case e.FunctionNode.functionName.isInTheLast:case e.FunctionNode.functionName.isNotInTheLast:case e.FunctionNode.functionName.isInTheNext:case e.FunctionNode.functionName.isNotInTheNext:case e.FunctionNode.functionName.isLike:case e.FunctionNode.functionName.isNotLike:case e.FunctionNode.functionName.startsWith:case e.FunctionNode.functionName.notStartsWith:case e.FunctionNode.functionName.concatenate:return new e.FunctionNode(t);default:return null}}t.exports.equal=i;t.exports.split=s;t.exports.buildOperator=a})()}]);
//# sourceMappingURL=bundleAst.js.map