{"version":3,"file":"ruleBody.js","names":["sap","ui","define","parsingBackendMediator","ruleBodyConstants","hrfException","ResponseCollector","utilsBaseLib","decisionTableCellLib","Logger","parser","parsingBackendMediatorLib","utilsLib","expressionEmpty","expression","undefined","RuleBody","this","ruleType","ruleBodyCopy","needDeserializeInput","serializedHeaders","prototype","initTraversalParts","traversalParts","traversalEnum","condition","hasOwnProperty","outputParams","actionParams","actions","traverse","ruleBody","vocabulary","vocaRTServ","pathPrefix","debug","JSON","stringify","RULE_BODY_TYPE","type","setHitPolicy","parse","SINGLE_TEXT","traverseText","DECISION_TABLE","RULE_SET","traverseDecisionTable","index","path","RULE_CONTENT","initResult","result","initRowResult","content","buildJsonPath","CONDITION","handleTextCondition","RULE_OUTPUTS","initTextOutputsResult","currentOutput","outputs","length","handleTextOutputParameter","RULE_PARAMETERS","initTextParametersResult","currentParam","parameters","handleTextActionParameter","RULE_ACTIONS","initTextActionsResult","currentAction","handleTextAction","addRowResult","handleEmptyRuleBody","rowIndex","colIndex","ruleBodyContent","headersMap","header","RULE_ROWS","RULE_HEADERS","handleHeaders","currentRow","rowResult","rows","RULE_ROW","RULE_ROW_ID","row","RULE_COL_ID","colID","RULE_CELL_TYPE","handleDecisionTableCondition","PARAM","handleDecisionTableActionParameter","OUTPUT_PARAM","handleDecisionTableOutputParameter","ACTION_PARAM","handleDecisionTableAction","finalizeResult","rule","deserializeExpression","text","afterConversionParts","fixedOperator","operator","traverseDecisionTableHeaders","headerFunc","headersIndex","headersLength","headers","RULE_DT_EXPRESSION","buildHeadersMap","concatToDecisionTableCondition","splitDecisionTableCondition","getParserAST","parserMode","variables","contentType","flags","parsedBusinessRule","parseInputRT","getInstance","addMessage","HrfException","PARSE_MODE","status","HIT_POLICY_PROPERTY","hitPolicy","ALL_MATCH","getHitPolicy"],"sources":["ruleBody-dbg.js"],"mappings":"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","ignoreList":[]}