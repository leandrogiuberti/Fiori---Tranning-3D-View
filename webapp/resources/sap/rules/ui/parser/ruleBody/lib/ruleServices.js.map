{"version":3,"file":"ruleServices.js","names":["sap","ui","define","ResponseCollector","resourceConvertor","vocabularyDataProviderInitiator","vocabularyConstants","ruleBodyServLib","decisionTableCellLib","ruleBodyConstants","oDataHandler","parserConstantsLib","depConstants","resCollector","getInstance","vocaDataProviderInitiatorLib","ruleBodyServ","RuleBodyServicesLib","ODATA_PAYLOAD_PROPERTY_RULE","ODATA_PAYLOAD_PROPERTY_RULES","ODATA_PAYLOAD_PROPERTY_ID","ODATA_PAYLOAD_PROPERTY_NAME","ODATA_PAYLOAD_PROPERTY_CONTENT","ODATA_PAYLOAD_PROPERTY_PARAMETERS","ODATA_PAYLOAD_PROPERTY_DATA_OBJECT_USAGE","ODATA_PAYLOAD_PROPERTY_DATA_OBJECT_USAGE_RESULT","ODATA_PAYLOAD_PROPERTY_FLAGS","ODATA_PAYLOAD_PROPERTY_VOCABULARY_RULES","RESULT_DEPENDENCIES","getPropertyFromObject","object","propertyName","realPropName","getOdataPropName","propertyObject","initVocaDataProvider","vocaId","vocaContent","inputParamObj","vocaDataProvider","connection","resourceID","vocaLoadingType","vocaContextTypeEnum","JSON","resourceContent","termModes","init","getRuleServiceDataObjectID","oData","resultDataObjectId","tempObj","EXECUTION_CONTEXT","RESULT_DATA_OBJECT_ID","validateRuleServiceResultDataObject","i","dataObject","paramsArr","additionalInfo","VOCABULARY","RULE_CONTENT","DATA_OBJECTS","dataObjects","length","ID","type","additionalInfoTypeEnum","executionContext","addMessage","validateRulesResultDataObject","rulesToValidateExCntxt","rule","rules","ruleDataObjectID","ruleID","ruleName","ruleServiceID","RULES","ruleResult","validateExctCntxtParameters","j","result","vocaParamAttrArr","allVocaParams","allOdataParams","vocaParametersArr","getParameters","oDataParametersArr","vocabularyID","ATTRIBUTES","push","PARAMETER_NAME","indexOf","validateExecutionContext","failedRulesObj","finalValidationResult","isRS_ResultDataObjectValid","isRS_ExecutionContextParametersValid","RULE_STATUS","RULE_ERROR","Object","keys","RULE_SUCCESS","updateFlags","ruleId","vocaRuleNameToRootObjectMap","flags","ODATA_FORMAT_PAYLOAD","RULE_ID","outputFlagsEnum","validationOutput","rootObjectContextOutput","dependenciesOutput","vocaRules","rootObjectMap","validateDecisionTableExpression","headerExpression","fixedOperator","cellExpression","businessDataType","vocabulary","parserVersion","decisionTableCell","DecisionTableCell","validateAndConvert","updateDependencies","dependencies","dependenciesMap","dependency","hasOwnProperty","PROPERTY_NAME_CATEGORY","CATEGORY_VOCA_DO","DOName","validateRule","oDataRule","convertedRule","outputName","mFlags","parse","stringify","convertRuleODataToInternalModel","EXPLICIT_OUTPUT","dependenciesWasRequested","process","ruleBody","undefined","validateRuleService","oDataRulesArr","ruleToValidate","validateRuleResult","validateRuleServiceResult","validateVocabularyRules","vocaRulesMap","validateVocaRulesResult","ruleContent","RULE_ROOT_OBJECT_CONTEXT","executeRuleValidation","requestBodyPayload","responseObj","vocaRuleResponse","oDataVocaRulesArr","executeRuleServiceValidation","getParserExprLangVersion","PARSER_EXPR_LANG_VERSION"],"sources":["ruleServices-dbg.js"],"mappings":"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","ignoreList":[]}