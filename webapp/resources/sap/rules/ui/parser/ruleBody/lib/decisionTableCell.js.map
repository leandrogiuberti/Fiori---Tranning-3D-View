{"version":3,"file":"decisionTableCell.js","names":["sap","ui","define","parser","ASTConvertorLib","hrfException","responseCollector","parserConstants","ruleBodyconstants","bundleAst","vocaConstants","bundleApi","RulesAPI_Ast","ASTOperationsLib","astOperations","ResponseCollector","parsingBackendMediatorLib","DecisionTableCell","headerExpression","fixedOperator","cellExpression","businessDataType","vocabulary","vocaDataProvider","this","operator","status","statusEnum","SUCCESS","convertedHeader","text","AST","convertedCell","convertedCondition","convertedOperator","valueHelp","tokensRequested","tokens","headerTokens","operatorTokens","cellTokens","currCursorInfo","needASTResult","serializeExpression","obj","serializedObj","hasOwnProperty","expressionProperties","JSON","parse","serialize","stringify","deserializeExpression","replace","concatToDecisionTableCondition","header","expression","condition","splitDecisionTableCondition","cell","cellStartIndex","cellLength","length","substr","isASTVersion","parserVersion","versionNumber","astVersion","isAST","parseInt","supportedVersions","NEW_AST","needDeserializeInput","flags","needDeserialize","termsModes","getTermModes","propertiesEnum","locale","convert","source","CODE_TEXT","termMode","indexOf","TermModeRelated","TERM_MODE_BY_DESCRIPTION","ASTResult","target","prototype","deserializeExpressionParts","getParserAST","parserMode","variables","contentType","expressionEmpty","undefined","parsedBusinessRule","parseInputRT","getInstance","addMessage","HrfException","PARSE_MODE","ERROR","getParserConvertedExpression","parserResult","parserResultEnum","convertedExpression","hasParserConvertedExpression","validateAndConvert","parserType","result","updateCursorInfo","cursorPosition","updatedCursorInfo","position","expressionPart","expressionParts","handleParserMessage","additionalInfo","cursorInfo","call","errorID","errorDetails","buildResult","converted","actualReturnType","buildTokens","TOKEN_TYPES","headerLength","operatorLength","cellPrefixLength","cellStartPosition","firstCellTokenIndex","fullExpressionTokens","tokensWereCut","i","start","end","push","validateExpressionPart","convertedExpressionData","ASTConvertor","returnObject","VALIDATE_MODE","model","getAST","validationResponse","TYPE_SINGLE_EXPRESSION","TYPE_BOOLEAN_ENHANCED","ASTParts","split","operatorsMap","rest","buildOperator"],"sources":["decisionTableCell-dbg.js"],"mappings":"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","ignoreList":[]}