sap.ui.define(["sap/rules/ui/parser/businessLanguage/lib/constants","sap/rules/ui/parser/businessLanguage/lib/parseUtils"],function(e,r){"use strict";var t=new r.parseUtilsLib;var a=function(r){if(r&&r.hasOwnProperty(e.propertiesEnum.locale)&&r.locale.hasOwnProperty(e.propertiesEnum.localeSettings)&&r.locale.localeSettings.hasOwnProperty(e.propertiesEnum.number)&&r.locale.localeSettings.number.hasOwnProperty(e.propertiesEnum.groupSeparator)&&r.locale.localeSettings.number.groupSeparator===","){return true}return false};var o=function(r){if(r&&r.hasOwnProperty(e.propertiesEnum.locale)&&r.locale.hasOwnProperty(e.propertiesEnum.localeSettings)&&r.locale.localeSettings.hasOwnProperty(e.propertiesEnum.number)&&r.locale.localeSettings.number.hasOwnProperty(e.propertiesEnum.decimalSeparator)&&r.locale.localeSettings.number.decimalSeparator==="."){return true}return false};var n=function(r){if(r&&r.hasOwnProperty(e.propertiesEnum.locale)&&r.locale.hasOwnProperty(e.propertiesEnum.localeSettings)&&r.locale.localeSettings.hasOwnProperty(e.propertiesEnum.number)&&r.locale.localeSettings.number.hasOwnProperty(e.propertiesEnum.groupSeparator)&&r.locale.localeSettings.number.groupSeparator==="."){return true}return false};var p=function(r){if(r&&r.hasOwnProperty(e.propertiesEnum.locale)&&r.locale.hasOwnProperty(e.propertiesEnum.localeSettings)&&r.locale.localeSettings.hasOwnProperty(e.propertiesEnum.number)&&r.locale.localeSettings.number.hasOwnProperty(e.propertiesEnum.decimalSeparator)&&r.locale.localeSettings.number.decimalSeparator===","){return true}return false};var l=function(r){if(r&&r.hasOwnProperty(e.propertiesEnum.locale)&&r.locale.hasOwnProperty(e.propertiesEnum.localeSettings)&&r.locale.localeSettings.hasOwnProperty(e.propertiesEnum.number)&&r.locale.localeSettings.number.hasOwnProperty(e.propertiesEnum.groupSeparator)&&r.locale.localeSettings.number.groupSeparator===" "){return true}return false};var s=function(e){var r=new RegExp(/^\d+(\.\d+)?$/);return r.test(e)};var u=function(r,t){var s=r;if(t&&t.hasOwnProperty(e.propertiesEnum.locale)){if(a(t)&&o(t)){s=r.replace(/\,/g,"")}else if(n(t)&&p(t)){s=r.replace(/\./g,"").replace(/\,/g,".")}else if(l(t)&&p(t)){s=r.replace(/\,/g,".")}}return s};var i=function(r,t){var a=null;var o=null;var n=null;function p(r){var t=null;if(r&&r.hasOwnProperty(e.propertiesEnum.locale)&&r[e.propertiesEnum.locale].hasOwnProperty(e.propertiesEnum.localeSettings)&&r[e.propertiesEnum.locale][e.propertiesEnum.localeSettings].hasOwnProperty(e.propertiesEnum.number)){t=r[e.propertiesEnum.locale][e.propertiesEnum.localeSettings][e.propertiesEnum.number]}return t}function l(r){var t=null;if(r&&r.hasOwnProperty(e.propertiesEnum.locale)&&r[e.propertiesEnum.locale].hasOwnProperty(e.propertiesEnum.convert)){t=r[e.propertiesEnum.locale][e.propertiesEnum.convert]}return t}function i(r,t){var a=[];var o=r;if(s(r)&&t&&t.hasOwnProperty(e.propertiesEnum.groupSeparator)&&t.hasOwnProperty(e.propertiesEnum.decimalSeparator)){a=r.split(".");if(t.groupSeparator!==" "){a[0]=a[0].replace(/\B(?=(\d{3})+(?!\d))/g,t[e.propertiesEnum.groupSeparator])}o=a.join(t[e.propertiesEnum.decimalSeparator])}return o}o=p(t);a=l(t);if(o){if(a[e.propertiesEnum.source]===e.CODE_TEXT&&a[e.propertiesEnum.target]===e.DISPLAY_TEXT){n=i(r,o)}else if(a[e.propertiesEnum.source]===e.DISPLAY_TEXT&&a[e.propertiesEnum.target]===e.CODE_TEXT){n=u(r,t)}}return n};var c=function(e,r,a,o){var n=e.indexOf(a);var p={};p.args=[];if(n>3){p.key="error_in_expression_enter_suggestions_format_instead_message";p.args[0]="Number";p.args[1]=t.getLocaleFormat(r,false).DECIMAL;p.args[2]=e;r.parseResult.cursorPosition=o;t.handleError(p.key,p.args,r)}};return{convertNumber:i,convertNumberToNativeFormat:u,isNumberFormatFlagsOfGroupSeparatorComma:a,isNumberFormatFlagsOfDecimalSeparatorDot:o,isNumberFormatFlagsOfGroupSeparatorDot:n,isNumberFormatFlagsOfDecimalSeparatorComma:p,isNumberFormatFlagsOfGroupSeparatorSpace:l,isValidNumberWithGroupSeperator:c}},true);
//# sourceMappingURL=numberConversion.js.map