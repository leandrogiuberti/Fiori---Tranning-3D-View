sap.ui.define(["sap/rules/ui/parser/businessLanguage/lib/constants","sap/rules/ui/parser/businessLanguage/lib/antlr3_all_min","sap/rules/ui/parser/businessLanguage/lib/vocabularyUtils","sap/rules/ui/parser/businessLanguage/lib/utils","sap/rules/ui/parser/businessLanguage/lib/parserTokens","sap/rules/ui/parser/infrastructure/messageHandling/lib/responseCollector","sap/rules/ui/parser/infrastructure/errorHandling/hrfException"],function(e,r,t,n,o,a,s){"use strict";var i=new t.vocabularyUtilsLib;var E=a.ResponseCollector;var T=new n;var u={ANY_OF:"any of the following conditions is true:",ALL_OF:"all of the following conditions are true:",BULLET:"<add line>",VALUE_HELP:"<value help>",END_STRUCT:";",COLON:":",ANY:"any",CONDITIONS:"conditions",FOLLOWING:"following",OR:"or",AND:"and",LROUNDB:"(",RROUNDB:")",STRING:"<'string'>",DATESTRING:"<'yyyy-MM-dd'>",TIMESTAMPSTRING:"<'yyyy-MM-dd HH:mm:ss'>",TIMESTRING:"<'HH:mm:ss'>",ALL:"all ",PLUS:"+",MINUS:"-",WHERE:"where",FILTER:"filter",BY:"by",IS:"is",NOT:"not",THE:"the",LAST:"last",NEXT:"next",INT:"<number>",DECIMAL:"<number>",THIS:"this",TODAY:"today",YESTERDAY:"yesterday",TOMORROW:"tomorrow",BEFORE:"is before",AFTER:"is after",BETWEEN:"is between",TO:"to",SECOND:"seconds",MINUTE:"minutes",HOUR:"hours",DAY:"days",WEEK:"weeks",MONTH:"months",YEAR:"years",CONTAINS:"contains",STARTS:"starts",ENDS:"ends",WITH:"with",LIKE:"is like",EQUALS:"equals",IN:"in",NOT_SIGN:"!",EQ_SIGN:"=",NOT_EQUAL_SIGN:"!=",GREATER_EQUAL_SIGN:">=",LESS_EQUAL_SIGN:"<=",LESS:"less",GREATER:"greater",THAN:"than",AVERAGE:"average",OF:"of",SUM:"sum",COUNT:"count",COUNTD:"countd",DISTINCT:"distinct",FIRST:"first",ID:"ID",DOT:".",GROUP:"group",MULT:"*",DIV:"/",EQ:"eq",EQUAL:"equal",PER:"per",ONE:"one",DO:"do",EXISTS:"exists",GREATER_SIGN:">",COMMA:",",SEMICOLON:";",LESS_SIGN:"<",IS_GREATER_THAN:"is greater than",IS_LESS_THAN:"is less than",GREATER_THAN:"is greater than",LESS_THAN:"is less than",IS_EQUAL:"is equal to",IS_NOT_EQUAL:"is not equal to",DOES_NOT_EQUAL:"does not equal",NOT_EQUAL:"not equals",EXISTS_IN:"exists in",DOES_NOT_EXISTS_IN:"does not exist in",NOT_EXISTS_IN:"not exists in",IS_IN_THE:"is in the",IS_NOT_IN_THE:"is not in the",IN_THE:"in the",NOT_IN_THE:"not in the",IS_LIKE:"is like",IS_NOT_LIKE:"is not like",NOT_LIKE:"is not like",IS_IN:"is in",IS_NOT_IN:"is not in",NOT_IN:"does not exist in",DOES_NOT_CONTAIN:"does not contain",PATTERN:"pattern",DOES_CONTAIN:"does contain",NOT_CONTAIN:"not contains",WITH_FUZZY:"with a fuzzy score of",ZERO_TO_ONE:"<value from 0 to 1>",ZERO_OR_ONE:"<0 or 1>",OCCURENCES_REGEXP:"occurrences containing pattern",DOES_NOT_START:"does not start with",DOES_START:"does start with",NOT_START:"not starts with",START_WITH:"starts with",DOES_NOT_END:"does not end with",DOES_END:"does end with",NOT_END:"not ends with",COUNT_OF:"count of",COUNTD_OF:"countd of",COUNT_DISTINCT_OF:"count distinct of",IS_BEFORE:"is before",IS_AFTER:"is after",IS_NOT_BEFORE:"is not before",IS_NOT_AFTER:"is not after",IS_BETWEEN:"is between",IS_NOT_BETWEEN:"is not between",END_WITH:"ends with",MINIMUM_OF:"minimum of",MAXIMUM_OF:"maximum of",AVERAGE_OF:"average of",GROUP_BY:"grouped by",FILTER_BY:"filter by",SUM_OF:"sum of",IS_EQUAL_OR_LESS_THAN:"is equal or less than",IS_EQUAL_OR_GREATER_THAN:"is equal or greater than",GREATER_THAN_OR_EQUAL:"is equal or greater than",IS_IN_THE_LAST:"is in the last",IS_IN_THE_NEXT:"is in the next",IS_NOT_IN_THE_LAST:"is not in the last",IS_NOT_IN_THE_NEXT:"is not in the next",SORTED_BY:"sorted by",WITH_THE_EARLIEST:"with the earliest",WITH_THE_MOST_RECENT:"with the most recent",EARLIEST:"earliest",MOST_RECENT:"most recent",WITH_THE_HIGHEST:"with the highest",WITH_THE_LOWEST:"with the lowest",HIGHEST:"highest",LOWEST:"lowest",SORTED_FROM_A_TO_Z_BY:"sorted from A to Z by",SORTED_FROM_Z_TO_A_BY:"sorted from Z to A by",NUMBER_OF:"number of",NUMBER_OF_UNIQUE:"number of unique"};function l(){}l.prototype.alfabetReservedWordsArr=["FIRST","OF","WITH","SORTED","WHERE","FILTER","IS","BY","PER","GROUP","GROUPED","COUNT","COUNTD","DISTINCT","AND","OR","ANY","ALL","THE","FOLLOWING","CONDITIONS","ARE","TO","TRUE","FALSE","NULL","CURRENT","DOES","EQUALS","EQUAL","NOT","LAST","MOST","MAXIMUM","EARLIEST","MINIMUM","ONE","EXISTS","IN","EXIST","TODAY","YESTERDAY","TOMORROW","MINUS","GREATER","LESS","ROUND","POWER","SIN","COS","LOG","LESS","THAN","NEXT","BEFORE","AFTER","BETWEEN","CONCATENATE","CONTAINS","LIKE","PATTERN","CONTAIN","START","STARTS","END","ENDS","NUMBER","HIGHEST","LOWEST","AVERAGE","SUM","RECENT","SECOND","SECONDS","MINUTE","MINUTES","HOUR","HOURS","DAY","DAYS","WEEK","WEEKS","MONTH","MONTHS","YEAR","YEARS","SORTED","OCCURRENCES","FROM","LINE","NEW","LIST","UNIQUE","FUZZY","SCORE","NOW","IF","THIS"];l.prototype.DateFormatEnum={MMDDYYYY:1,DDMMYYYY:2,YYYYMMDD:3};l.prototype.TimeFormatEnum={HHMISS:1,HHMISSAMPM:2};l.prototype.isBlank=function(e){return!e||/^\s*$/.test(e)};l.prototype.isAutocompleteMode=function(r){return r===e.AUTOCOMPLETE_MODE_LOWERCASE||r===e.AUTOCOMPLETE_MODE};l.prototype.isCollectionOperator=function(e){if(e===undefined||e===null){return false}return e===o.COUNT_DISTINCT_OF||e===o.COUNT_OF||e===o.LAST||e===o.MOST_RECENT||e===o.MAXIMUM_OF||e===o.HIGHEST||e===o.LOWEST||e===o.EARLIEST||e===o.MINIMUM_OF||e===o.NUMBER_OF||e===o.AVERAGE_OF||e===o.SUM_OF||e===o.FIRST||e===o.OF};l.prototype.parseType=function(r,t){try{var n=t;if(typeof t==="undefined"||t===null){n=e.TYPE_ALL}switch(n){case e.TYPE_ALL:r.model();break;case e.TYPE_BOOLEAN:r.modelBooleanPure();break;case e.TYPE_NUMERIC:r.modelNumric();break;case e.TYPE_STRING:r.modelString();break;case e.TYPE_DATE:r.modelDate();break;case e.TYPE_TIMESPAN:r.modelTimespan();break;case e.TYPE_TIMESTAMP:r.modelTimestamp();break;case e.TYPE_TIME:r.modelTime();break;case e.TYPE_SINGLE_EXPRESSION:r.modelSingleExpression();break;case e.TYPE_SINGLE_EXPRESSION_BOOLEAN:r.modelBooleanType();break;case e.TYPE_BOOLEAN_ENHANCED:r.modelBoolean();break;case e.TYPE_COLLECTION:r.modelCollection();break;case e.TYPE_BOOLEAN_COLLECTION:r.modelBooleanCollection();break;case e.TYPE_STRING_COLLECTION:r.modelStringCollection();break;case e.TYPE_NUMERIC_COLLECTION:r.modelNumricCollection();break;case e.TYPE_DATE_COLLECTION:r.modelDateCollection();break;case e.TYPE_TIMESPAN_COLLECTION:r.modelTimespanCollection();break;case e.TYPE_TIMESTAMP_COLLECTION:r.modelTimestampCollection();break;case e.TYPE_TIME_COLLECTION:r.modelTimeCollection();break;case e.TYPE_AUTOCOMPLETE:r.modelAllAutocomplete();break;case e.TYPE_NON_COLLECTION:r.modelNonCollection();break;default:throw new s.HrfException("ERROR: incorrect parst type!")}}catch(e){}};l.prototype.getLocaleFormat=function(r,t){function n(r,n){var o;if(r.hasOwnProperty(e.propertiesEnum.localeSettings)&&r[e.propertiesEnum.localeSettings]&&r[e.propertiesEnum.localeSettings].hasOwnProperty(e.propertiesEnum.number)){if(t||!r.hasOwnProperty(e.propertiesEnum.convert)||!r[e.propertiesEnum.convert][e.propertiesEnum.source]||r[e.propertiesEnum.convert][e.propertiesEnum.source]===e.DISPLAY_TEXT){o=r[e.propertiesEnum.localeSettings][e.propertiesEnum.number][e.propertiesEnum.groupSeparator];o=o===" "?"":o;n.INT="<123"+o+"456"+o+"789"+r[e.propertiesEnum.localeSettings][e.propertiesEnum.number][e.propertiesEnum.decimalSeparator]+"00>";n.DECIMAL="<123"+o+"456"+o+"789"+r[e.propertiesEnum.localeSettings][e.propertiesEnum.number][e.propertiesEnum.decimalSeparator]+"00>"}}}var o={DATESTRING:u.DATESTRING,TIMESTRING:u.TIMESTRING,TIMESTAMPSTRING:u.TIMESTAMPSTRING,INT:u.INT,DECIMAL:u.DECIMAL};if(r&&r.hasOwnProperty(e.propertiesEnum.flags)&&r[e.propertiesEnum.flags]&&r[e.propertiesEnum.flags].hasOwnProperty(e.propertiesEnum.locale)&&r[e.propertiesEnum.flags][e.propertiesEnum.locale]){var a=r[e.propertiesEnum.flags][e.propertiesEnum.locale];if(a.hasOwnProperty(e.propertiesEnum.localeSettings)&&a[e.propertiesEnum.localeSettings]&&a[e.propertiesEnum.localeSettings].hasOwnProperty(e.propertiesEnum.dateFormat)&&a[e.propertiesEnum.localeSettings].hasOwnProperty(e.propertiesEnum.timeFormat)){if(t||!a.hasOwnProperty(e.propertiesEnum.convert)||!a[e.propertiesEnum.convert][e.propertiesEnum.source]||a[e.propertiesEnum.convert][e.propertiesEnum.source]===e.DISPLAY_TEXT){var s=a[e.propertiesEnum.localeSettings][e.propertiesEnum.timeFormat];var i=s.indexOf("z");if(i>=0){s=s.substring(0,i-1)}o={DATESTRING:"<'"+a[e.propertiesEnum.localeSettings][e.propertiesEnum.dateFormat]+"'>",TIMESTRING:"<'"+s+"'>",TIMESTAMPSTRING:"<'"+a[e.propertiesEnum.localeSettings][e.propertiesEnum.dateFormat]+" "+s+"'>"}}}n(a,o)}return o};l.prototype.getTokensDisplayMap=function(e){var r=JSON.parse(JSON.stringify(u));var t=this.getLocaleFormat(e,true);r.DATESTRING=t.DATESTRING;r.TIMESTRING=t.TIMESTRING;r.TIMESTAMPSTRING=t.TIMESTAMPSTRING;r.INT=t.INT;r.DECIMAL=t.DECIMAL;return r};l.prototype.sortAndRemoveDuplicates=function(e){return e.sort().filter(function(r,t){return!t||r!==e[t-1]})};l.prototype.getSingleTokenType=function(e){var r=e;switch(e){case o.TYPENUMBERCOLLECTION:r=o.TYPENUMBER;break;case o.TYPEBOOLEANCOLLECTION:r=o.TYPEBOOLEAN;break;case o.TYPESTRINGCOLLECTION:r=o.TYPESTRING;break;case o.TYPEDATECOLLECTION:r=o.TYPEDATE;break;case o.TYPETIMECOLLECTION:r=o.TYPETIME;break;case o.TYPETIMESTAMPCOLLECTION:r=o.TYPETIMESTAMP;break;case o.TYPETIMEINTERVALCOLLECTION:r=o.TYPETIMEINTERVAL;break}return r};l.prototype.getNavigationPathFromTextPos=function(e,r){var t=e.substring(r);t=t.split(" ")[0];return t};l.prototype.getNavigationObjectType=function(r){if(r===undefined||r===null||!r.isValid){return null}var t=null;if(r.attribute.businessDataType===null&&r.root.businessDataType===null){t=o.TYPECOLLECTION}else{var n=r.root.isAlias?r.root.businessDataType:r.attribute.businessDataType;var a=e.SIMPLE_SELECTION_VALUE_TYPE.getByValue("string",n);switch(a.string){case e.SIMPLE_SELECTION_VALUE_TYPE.INTEGER.string:if(r.isCollection){t=r.root.isDTAlias?o.TYPENUMBERDT:o.TYPENUMBERCOLLECTION}else{t=o.TYPENUMBER}break;case e.SIMPLE_SELECTION_VALUE_TYPE.BOOLEAN.string:if(r.isCollection){t=r.root.isDTAlias?o.TYPEBOOLEANDT:o.TYPEBOOLEANCOLLECTION}else{t=o.TYPEBOOLEAN}break;case e.SIMPLE_SELECTION_VALUE_TYPE.STRING.string:if(r.isCollection){t=r.root.isDTAlias?o.TYPESTRINGDT:o.TYPESTRINGCOLLECTION}else{t=o.TYPESTRING}break;case e.SIMPLE_SELECTION_VALUE_TYPE.DATE.string:if(r.isCollection){t=r.root.isDTAlias?o.TYPEDATEDT:o.TYPEDATECOLLECTION}else{t=o.TYPEDATE}break;case e.SIMPLE_SELECTION_VALUE_TYPE.TIME.string:if(r.isCollection){t=r.root.isDTAlias?o.TYPETIMEDT:o.TYPETIMECOLLECTION}else{t=o.TYPETIME}break;case e.SIMPLE_SELECTION_VALUE_TYPE.TIMESTAMP.string:if(r.isCollection){t=r.root.isDTAlias?o.TYPETIMESTAMPDT:o.TYPETIMESTAMPCOLLECTION}else{t=o.TYPETIMESTAMP}break;case e.SIMPLE_SELECTION_VALUE_TYPE.TIMESPAN.string:if(r.isCollection){t=r.root.isDTAlias?o.TYPETIMEINTERVALDT:o.TYPETIMEINTERVALCOLLECTION}else{t=o.TYPETIMEINTERVAL}break}}return t};l.prototype.getStringArray=function(e){var r="\n [\n ";var t;for(t=0;t<e.length;t++){if(e[t]instanceof Object){r+=e[t].getString()}else{r+=e[t]}if(t===e.length-1){r+="\n "}else{r+=",\n "}}r+="]\n ";return r};l.prototype.getNavigationParts=function(e){var r=[];var t;var n=0;while(n>-1){n=e.indexOf(".");if(n===-1){r.push(e);return r}t=e.slice(0,n);r.push(t);e=e.slice(n+1)}return r};l.prototype.getCollectionRelTypeFromBusinessDT=function(r){var t;switch(r){case e.TYPE_BOOLEAN:t=e.TYPE_BOOLEAN_COLLECTION;break;case e.TYPE_STRING:t=e.TYPE_STRING_COLLECTION;break;case e.TYPE_NUMERIC:t=e.TYPE_NUMERIC_COLLECTION;break;case e.TYPE_DATE:t=e.TYPE_DATE_COLLECTION;break;case e.TYPE_TIMESPAN:t=e.TYPE_TIMESPAN_COLLECTION;break;case e.TYPE_TIMESTAMP:t=e.TYPE_TIMESTAMP_COLLECTION;break;case e.TYPE_TIME:t=e.TYPE_TIME_COLLECTION;break;default:t=r;break}return t};l.prototype.getBusinessDTFromRelType=function(r){var t={};t[e.propertiesEnum.isCollection]=false;t[e.propertiesEnum.businessType]=r;switch(r){case e.TYPE_SINGLE_EXPRESSION_BOOLEAN:t[e.propertiesEnum.businessType]=e.TYPE_BOOLEAN;break;case e.TYPE_COLLECTION:t[e.propertiesEnum.isCollection]=true;t[e.propertiesEnum.businessType]=null;break;case e.TYPE_BOOLEAN_COLLECTION:t[e.propertiesEnum.isCollection]=true;t[e.propertiesEnum.businessType]=e.TYPE_BOOLEAN;break;case e.TYPE_STRING_COLLECTION:t[e.propertiesEnum.isCollection]=true;t[e.propertiesEnum.businessType]=e.TYPE_STRING;break;case e.TYPE_NUMERIC_COLLECTION:t[e.propertiesEnum.isCollection]=true;t[e.propertiesEnum.businessType]=e.TYPE_NUMERIC;break;case e.TYPE_DATE_COLLECTION:t[e.propertiesEnum.isCollection]=true;t[e.propertiesEnum.businessType]=e.TYPE_DATE;break;case e.TYPE_TIMESPAN_COLLECTION:t[e.propertiesEnum.isCollection]=true;t[e.propertiesEnum.businessType]=e.TYPE_TIMESPAN;break;case e.TYPE_TIMESTAMP_COLLECTION:t[e.propertiesEnum.isCollection]=true;t[e.propertiesEnum.businessType]=e.TYPE_TIMESTAMP;break;case e.TYPE_TIME_COLLECTION:t[e.propertiesEnum.isCollection]=true;t[e.propertiesEnum.businessType]=e.TYPE_TIME;break;default:}return t};l.prototype.updateValueListTokenType=function(e,r,t,n,o){var a=o.getValueListAttribute();if(a){e.input.tokens[r].isFromValueList=true;e.input.tokens[r].valueListName=a.attributeValueList}};l.prototype.getTokenTypeInfoForConstant=function(r){var t={};t.category=null;t.type=null;switch(r){case o.STRING:t.category=e.tokenCategoryEnum.dynamic;t.type=e.TYPE_STRING;break;case o.INT:t.category=e.tokenCategoryEnum.dynamic;t.type=e.TYPE_NUMERIC;break;case o.ZERO_TO_ONE:t.category=e.tokenCategoryEnum.dynamic;t.type=e.TYPE_NUMERIC;break;case o.ZERO_OR_ONE:t.category=e.tokenCategoryEnum.dynamic;t.type=e.TYPE_NUMERIC;break;case o.DECIMAL:t.category=e.tokenCategoryEnum.dynamic;t.type=e.TYPE_NUMERIC;break;case o.TIMESTRING:t.category=e.tokenCategoryEnum.dynamic;t.type=e.TYPE_TIME;break;case o.DATESTRING:t.category=e.tokenCategoryEnum.dynamic;t.type=e.TYPE_DATE;break;case o.TIMESTAMPSTRING:t.category=e.tokenCategoryEnum.dynamic;t.type=e.TYPE_TIMESTAMP;break;case o.TRUE:t.category=e.tokenCategoryEnum.fixed;t.type=e.TYPE_BOOLEAN;break;case o.FALSE:t.category=e.tokenCategoryEnum.fixed;t.type=e.TYPE_BOOLEAN;break;case o.NULL:t.category=e.tokenCategoryEnum.fixed;t.type=null;break;default:break}return t};l.prototype.getTokenTypeInfoForReservedword=function(r){var t={};t.category=null;switch(r){case o.OR:case o.AND:t.category=e.tokenCategoryEnum.conjunctionOp;break;case o.EQ_SIGN:case o.NOT_EQUAL_SIGN:case o.GREATER_EQUAL_SIGN:case o.LESS_EQUAL_SIGN:case o.GREATER_SIGN:case o.LESS_SIGN:case o.IS_EQUAL:case o.IS_NOT_EQUAL:case o.IS_GREATER_THAN:case o.IS_LESS_THAN:case o.IS_EQUAL_OR_GREATER_THAN:case o.IS_EQUAL_OR_LESS_THAN:case o.IS_LIKE:case o.LIKE:case o.IS_NOT_LIKE:case o.NOT_LIKE:case o.CONTAINS:case o.DOES_NOT_CONTAIN:case o.START_WITH:case o.DOES_NOT_START:case o.END_WITH:case o.DOES_NOT_END:case o.IN:case o.IS_BEFORE:case o.BEFORE:case o.IS_NOT_BEFORE:case o.IS_AFTER:case o.AFTER:case o.IS_NOT_AFTER:t.category=e.tokenCategoryEnum.comparisonOp;break;case o.IS_IN_THE_LAST:case o.IS_NOT_IN_THE_LAST:case o.IS_IN_THE_NEXT:case o.IS_NOT_IN_THE_NEXT:t.category=e.tokenCategoryEnum.comparisonDateTimeOp;break;case o.BETWEEN:case o.IS_BETWEEN:case o.IS_NOT_BETWEEN:t.category=e.tokenCategoryEnum.comparisonBetweenOp;break;case o.NOT_IN:case o.EXISTS_IN:case o.DOES_NOT_EXISTS_IN:t.category=e.tokenCategoryEnum.comparisonExistOp;break;case o.NUMBER_OF:case o.COUNT_DISTINCT_OF:case o.SUM_OF:case o.AVERAGE_OF:case o.LOWEST:case o.HIGHEST:case o.EARLIEST:case o.MOST_RECENT:t.category=e.tokenCategoryEnum.func;break;case o.CONCATENATE:case o.ROUND:case o.POWER:case o.SIN:case o.COS:case o.LOG:case o.WITH_FUZZY:case o.PATTERN:case o.OCCURENCES_REGEXP:t.category=e.tokenCategoryEnum.funcAdvances;break;case o.PLUS:case o.MINUS:case o.MULT:case o.DIV:t.category=e.tokenCategoryEnum.arithmeticOp;break;case o.TODAY:case o.TOMORROW:case o.YESTERDAY:t.category=e.tokenCategoryEnum.value;break;case o.SECOND:case o.MINUTE:case o.HOUR:case o.DAY:case o.WEEK:case o.MONTH:case o.YEAR:t.category=e.tokenCategoryEnum.UOM;break;case o.WITH_THE_HIGHEST:case o.WITH_THE_LOWEST:case o.WITH_THE_MOST_RECENT:case o.WITH_THE_EARLIEST:case o.SORTED_FROM_Z_TO_A_BY:case o.SORTED_FROM_A_TO_Z_BY:t.category=e.tokenCategoryEnum.sortingOp;break;case o.ALL_OF:case o.ANY_OF:t.category=e.tokenCategoryEnum.structuredCond;break;case o.WHERE:t.category=e.tokenCategoryEnum.filterOp;break;case o.GROUP_BY:case o.PER:t.category=e.tokenCategoryEnum.groupOp;break;default:break}return t};l.prototype.getTokenTypeMetadata=function(t,n,a,s,i){var E={};if(typeof t==="undefined"||t===null){return E}if(a===r.antlr.runtime.Token.HIDDEN_CHANNEL&&!this.isEmptyString(n)){E.group=e.tokenTypesEnum.vocabulary;return E}switch(t){case o.WS:E.group=e.tokenTypesEnum.whitespace;break;case o.NAVIGATION:E.group=a===r.antlr.runtime.Token.HIDDEN_CHANNEL?e.tokenTypesEnum.vocabulary:e.tokenTypesEnum.unknown;break;case o.ANYCHAR:case o.COLON:E.group=e.tokenTypesEnum.unknown;break;case o.STRING:case o.INT:case o.ZERO_TO_ONE:case o.ZERO_OR_ONE:case o.DECIMAL:case o.TIMESTRING:case o.DATESTRING:case o.TIMESTAMPSTRING:case o.TRUE:case o.FALSE:case o.NULL:if(s){E.group=e.tokenTypesEnum.valueList}else{E.group=e.tokenTypesEnum.constant;E.info=this.getTokenTypeInfoForConstant(t)}break;case o.TYPENUMBERCOLLECTION:case o.TYPENUMBER:case o.TYPEBOOLEANCOLLECTION:case o.TYPEBOOLEAN:case o.TYPESTRINGCOLLECTION:case o.TYPESTRING:case o.TYPEDATECOLLECTION:case o.TYPEDATE:case o.TYPETIMECOLLECTION:case o.TYPETIME:case o.TYPETIMESTAMPCOLLECTION:case o.TYPETIMESTAMP:case o.TYPETIMEINTERVALCOLLECTION:case o.TYPETIMEINTERVAL:case o.TYPECOLLECTION:case o.TYPEATTRIBUTE:E.group=e.tokenTypesEnum.vocabulary;var T=i.getCurrentNavigationObject(n);if(T!==undefined&&T!==null&&T.isValid){E.group=T.root.isAlias?e.tokenTypesEnum.alias:e.tokenTypesEnum.vocabulary}break;case o.TYPENUMBERDT:case o.TYPEBOOLEANDT:case o.TYPESTRINGDT:case o.TYPEDATEDT:case o.TYPETIMEDT:case o.TYPETIMESTAMPDT:case o.TYPETIMEINTERVALDT:E.group=e.tokenTypesEnum.alias;E.info=this.getTokenTypeInfoForReservedword(t);break;case o.TYPENUMBERPARAMETER:case o.TYPESTRINGPARAMETER:case o.TYPEDATEPARAMETER:case o.TYPEBOOLEANPARAMETER:case o.TYPETIMEINTERVALPARAMETER:case o.TYPETIMEPARAMETER:case o.TYPETIMESTAMPPARAMETER:var u=i.getCurrentNavigationObject(n);if(u.isValid){E.group=e.tokenTypesEnum.parameter}break;default:if(a===r.antlr.runtime.Token.HIDDEN_CHANNEL){E.group=e.tokenTypesEnum.vocabulary}else{E.group=e.tokenTypesEnum.reservedWord;E.info=this.getTokenTypeInfoForReservedword(t)}break}return E};l.prototype.TokenInfo=function(e,r,t,n,o,a,s){this.start=n;this.end=o;this.tokenType=r;if(a){this.info={};var i=s.vocaRTServ.getValueListType(s.vocabulary,a);switch(i){case"Internal":this.info.key=a;break;case"External":this.info.id=a;var E=s.vocaRTServ.getValueList(s.vocabulary,a);var T=E.metadata;T.businessDataType=E.businessDataType;this.info.metadata=T;break;default:this.info.key=a}}else if(t){this.info=t}this.token=e};function p(e,r,t,n,o,a){var s=null;var i=n[o];var E=n[o+2];if(E&&E.type===a){var T=r.substring(i.start,E.stop+1);var u=e.getTokenTypeMetadata(E.type,T,E.channel,false,t);s=new e.TokenInfo(T,u.group,u.info,i.start,E.stop,null,t)}return s}l.prototype.buildTokenTypes=function(r,t,n){var a={};a[o.CONTAINS]=o.PATTERN;a[o.DOES_NOT_CONTAIN]=o.PATTERN;a[o.NUMBER_OF]=o.OCCURENCES_REGEXP;var s=t.replace(/\\/g,"\\\\");var i,E=[];var T=s.length;var u,l,c,I,O;var N=false;var _=null;var S=r.input.tokens;if(S.length===0){var A=s.length;i=new this.TokenInfo(s,e.tokenTypesEnum.unknown,null,0,A,null,n);E.push(i)}var m=0;while(m<S.length){u=S[m];l=u.start;c=u.stop;N=u.hasOwnProperty("isFromValueList")?u.isFromValueList:false;_=u.hasOwnProperty("valueListName")?u.valueListName:null;I=s.substring(l,c+1);if(r.lexerErrorOccurred&&r.lexerErrorStartIndex===l){I=s.substring(l,T+1);i=new this.TokenInfo(I,e.tokenTypesEnum.unknown,null,l,T,null,n);E.push(i);break}else{O=this.getTokenTypeMetadata(u.type,I,u.channel,N,n);if(a.hasOwnProperty(u.type)){i=p(this,s,n,S,m,a[u.type]);if(i===null){i=new this.TokenInfo(I,O.group,O.info,l,c,_,n);m++}else{m=m+3}}else{i=new this.TokenInfo(I,O.group,O.info,l,c,_,n);m++}E.push(i)}}return E};l.prototype.parseWithValidation=function(e,r,t,n){this.overwriteLexerReportError(r,e,n);this.overwriteParserReportErrorValidateMode(r,n);this.parseType(r,t)};l.prototype.handleError=function(r,t,n){var o=n.hasOwnProperty(e.propertiesEnum.flags)&&n.flags.hasOwnProperty(e.propertiesEnum.raiseError)&&n.flags[e.propertiesEnum.raiseError]===false?false:true;if(t){var a=E.getInstance().getMessage(r,t);if(n.parseResult.errorDetails.indexOf(a)<0){if(o){E.getInstance().addMessage(r,t)}n.parseResult.errorDetails.push(a)}}n.parseResult.errorID=r;n.parseResult.status=e.statusEnum.ERROR};l.prototype.handleWarning=function(e,r){if(!r||!this.isAutocompleteMode(r)){throw new s.HrfException(e)}};l.prototype.validateRootObjectContext=function(r,t){var n=0;if(t.flags[e.propertiesEnum.rootObjectContext]&&r.isValid&&!r.root.isAlias&&!r.isVocaRule&&!r.modifiers.all){if(!t[e.propertiesEnum.rootObjectContext].name){t[e.propertiesEnum.rootObjectContext].name=r.root.name}else if(t[e.propertiesEnum.rootObjectContext].name!==r.root.name){this.handleError("error_in_expression_root_object_validation_message",[t[e.propertiesEnum.rootObjectContext].name,r.root.name],t);throw new s.HrfException}if(t[e.propertiesEnum.rootObjectContext].name){if(r.associations.path.length>0){var o=r.associations.path[0].name;if(!t[e.propertiesEnum.rootObjectContext].assocNames.hasOwnProperty(o)){t[e.propertiesEnum.rootObjectContext].assocNames[o]=true;var a=t.vocaRTServ.getAssociation(t.vocabulary,r.root.name,r.associations.path[0].name,true);if(i.isCardinalityCollection(a.cardinality)){for(n=0;n<a.attrs.length;n++){t[e.propertiesEnum.rootObjectContext].assocs.push(a.attrs[n].source)}}}}}}};l.prototype.getNavigationObjectFromPath=function(e,r,t){var n=t.getValueListAttribute();var o=t.vocabulary;var a=i.validateNavigationDetails(e,t.vocaRTServ,o,[],n,t.termMode);a.isParameter=false;t.setCurrentNavigationObject(r,a);this.validateRootObjectContext(a,t);return t.getCurrentNavigationObject(r)};l.prototype.endsWith=function(e,r){return e.indexOf(r,e.length-r.length)!==-1};l.prototype.validateNumberOfArguments=function(e,r,t){if(e!==r){this.handleWarning(t+":  incompatible number of required arguments, exactly "+r.toString()+"arguments required.");return false}return true};l.prototype.validateArgumentExist=function(e,r){if(!e||!(typeof e==="object")){this.handleWarning(r+": incompatible number of required arguments.");return false}return true};l.prototype.validateArgumentType=function(e,r,t,n,o){var a=o+": "+r+" input arg must be instance of ";var s=false;var i;var E;for(E=0;E<t.length;++E){a+=n[E];if(E<t.length-1){a+=" or "}i=t[E];if(e instanceof i){s=true}}a+=".";if(!s){this.handleWarning(a)}return s};l.prototype.validateArgumentsType=function(e,r,t){var n=this.validateArgumentExist(e,r);if(!n){return false}var o,a,s;for(o=0;o<t.length;++o){a=t[o].name;if(!e.hasOwnProperty(a)){if(t[o].required){this.handleWarning(r+": incompatible number of required arguments.");return false}continue}if(t[o].hasOwnProperty("type")){s=e[a];if(this.validateArgumentType(s,a,t[o].type,t[o].typeName,r)===false){n=false}}}return n};l.prototype.isEmptyString=function(e){if(/\S/.test(e)){return false}return true};l.prototype.getTokensStartWithString=function(e,r){var t=e.getTokenNames();var n=e.parseModelLib.getModelManger();var o=this.getTokensDisplayMap(n);var a=[];var s,i,E;for(s=0;s<t.length;++s){i=t[s];E=o.hasOwnProperty(i)?o[i]:i;if(E===undefined||E===null){continue}E=E.toLowerCase();if(E.indexOf(r)===0){a.push(E)}}return a};l.prototype.getTokensNames=function(e,r){var t=e.getTokenNames();var n=e.parseModelLib.getModelManger();var o=this.getTokensDisplayMap(n);var a=[];var s=[];var i=T.removeDuplicate(r);var E,u,l,p,c,I;for(E=0;E<i.length;E++){u=i[E];if(u===undefined||u==="-1"||u===-1||u==="-2"||u===-2){continue}l=t[u];if(l.indexOf("PARAMETER")!==-1||l.indexOf("TYPECOLLECTION")!==-1||l.indexOf("DT")!==-1){continue}if(l.indexOf("COLLECTION")!==-1){p=l.split("COLLECTION");l=p[0]}c=o.hasOwnProperty(l)?o[l]:l;if(c===undefined||c===null){continue}c=c.toLowerCase();s.push("'"+c+"' ");I=c.split("type");if(I.length>1&&!o.hasOwnProperty(I[1])){a.push(" "+I[1])}}a=this.sortAndRemoveDuplicates(a);if(a.length){a[0]=a[0].substring(1)}else if(s.length&&s.length<=3&&a.length===0){s[s.length-1]=s[s.length-1].replace(/\s?$/,"");return s}return a};l.prototype.isFirstErrorAfterWS=function(e){var r=e.input.tokens;var t;for(t=0;t<r.length;t++){if(r[t].type!==o.WS){break}}if(t===e.errorIndex){return true}return false};l.prototype.getLastTokenTypeAndIgnoreWS=function(e){var t=e.input.tokens;var n=t.length;if(n===0){return-1}for(n=n-1;n>=0;n--){if(t[n].type!==o.WS&&t[n].type!==o.NAVIGATION&&t[n].channel!==r.antlr.runtime.Token.HIDDEN_CHANNEL){break}}return n===-1?-1:t[n].type};l.prototype.getLastTokenAndIgnoreWS=function(e){var t=e.input.tokens;var n=t.length;if(n===0){return-1}for(n=n-1;n>=0;n--){if(t[n].type!==o.WS&&t[n].channel!==r.antlr.runtime.Token.HIDDEN_CHANNEL){break}}return n===-1?null:t[n]};l.prototype.isTokenOnlyPartOfRealToken=function(e,r){return r===o.IS_A||r===o.EOF||e.lexerErrorOccurred&&r===o.WS||r===o.NAVIGATION||r===o.NOT||r===o.IS||r===o.DOES||r===o.AVERAGE||r===o.COUNTD||r===o.FILTER||r===o.SUM||r===o.ENDS||r===o.STARTS||r===o.MAXIMUM||r===o.MINIMUM||r===o.EXIST||r===o.EXISTS||r===o.TO||r===o.THE};l.prototype.isLastTokenPartialText=function(e){var r=this.getLastTokenAndIgnoreWS(e);if(r===null){return false}if(r.type===o.NAVIGATION||r.text===undefined){return true}return this.isTokenOnlyPartOfRealToken(e,r.type)};l.prototype.isErrorTokenPartialText=function(e,r){if(r===o.EOF){return false}if(r===o.NAVIGATION){return true}return this.isTokenOnlyPartOfRealToken(e,r)};l.prototype.getTokenTypeOfFirstErrorAfterWS=function(e){var r=e.input.tokens;var t=e.token.index;while(t<r.length&&r[t].type===o.WS){t++}return r[t].type};l.prototype.hasWhiteSpace=function(e){var r=e.lastIndexOf(" ");return r>=0&&r!==e.length-1};l.prototype.overwriteParserReportErrorAutocompleteModeFailedDFA=function(e,r){var t=this;e.reportError=function(n){if(n.decisionNumber!==undefined&&T.isInArray(n.decisionNumber,this.DFA_decisions)){t.handleAllDFAOptions(e,n.decisionNumber)}else{r.isPartialText=r.isPartialText||t.isErrorTokenPartialText(this,n.c)}throw new s.HrfException}};l.prototype.overwriteParserReportErrorValidateModeFailedDFA=function(e){var r=this;e.reportError=function(t){if(t.decisionNumber!==undefined&&T.isInArray(t.decisionNumber,this.DFA_decisions)){r.handleAllDFAOptions(e,t.decisionNumber)}else{if(t.charPositionInLine&&(t.charPositionInLine===-1||e.errorIndex!==-1&&t.charPositionInLine>=e.errorIndex)){e.tokenError=e.getTokenErrorDisplay(t.token);e.errorTokenType=t.token.type;if(t.charPositionInLine===-1&&e.errorIndex!==-1||t.charPositionInLine!==-1&&t.charPositionInLine>e.errorIndex){e.outputTokens.nextTokens=[]}e.errorIndex=t.charPositionInLine}}throw new s.HrfException}};l.prototype.isCollection=function(e){if(e===o.TYPEBOOLEANCOLLECTION||e===o.TYPETIMEINTERVALCOLLECTION||e===o.TYPENUMBERCOLLECTION||e===o.TYPESTRINGCOLLECTION||e===o.TYPEDATECOLLECTION||e===o.TYPETIMESTAMPCOLLECTION||e===o.TYPETIMECOLLECTION||e===o.TYPEBOOLEANDT||e===o.TYPETIMEINTERVALDT||e===o.TYPENUMBERDT||e===o.TYPESTRINGDT||e===o.TYPEDATEDT||e===o.TYPETIMESTAMPDT||e===o.TYPETIMEDT){return true}return false};l.prototype.getLocaleTypeFormatArray=function(e,r){var t=[];var n=this.getLocaleFormat(r,false);var o;for(o=0;o<e.length;o++){if(e[o].indexOf("timestamp")>=0){t.push(n.TIMESTAMPSTRING)}else if(e[o].indexOf("time")>=0){t.push(n.TIMESTRING)}else if(e[o].indexOf("date")>=0){t.push(n.DATESTRING)}}return t};l.prototype.overwriteParserReportErrorValidateMode=function(t,n){var a=this;t.reportError=function(i){n.parseResult.status=e.statusEnum.ERROR;var E=[];t.tokenError=null;t.errorIndex=null;t.errorTokenType=null;var u={};u.key="";u.args=[];if(i instanceof r.antlr.runtime.UnwantedTokenException&&i.expecting===-1){t.errorIndex=i.charPositionInLine;t.tokenError=t.getTokenErrorDisplay(i.getUnexpectedToken());u.key="error_in_expression_invalid_token_message";u.args[0]=t.tokenError}else{if(i instanceof r.antlr.runtime.NoViableAltException){if(T.isInArray(i.decisionNumber,this.DFA_decisions)){a.handleFailedDFA(t,i);E=t.lastExpecting.expecting}else{E=i.grammarDecisionDescription.slice();t.tokenError=t.tokenError===null?t.getTokenErrorDisplay(i.token):t.tokenError;t.errorIndex=t.errorIndex===null?i.charPositionInLine:t.errorIndex}}else if(i instanceof r.antlr.runtime.MismatchedSetException){E=i.expecting.slice();t.errorIndex=i.charPositionInLine;t.tokenError=t.getTokenErrorDisplay(i.token)}else if(E.length===0&&i instanceof r.antlr.runtime.MismatchedTokenException){E.push(i.expecting);t.errorIndex=i.charPositionInLine;t.tokenError=t.getTokenErrorDisplay(i.token)}t.errorIndex=t.errorIndex===null?0:t.errorIndex;if(t.errorIndex===0||a.isFirstErrorAfterWS(t)){if(a.isCollection(t.input.tokens[t.errorIndex].type)&&!n.flags[e.propertiesEnum.isCollection]){u.key="error_in_expression_single_value_missing_message";u.args[0]=t.getTokenErrorDisplay(i.token)}else{u.key="error_in_expression_invalid_statement_message";u.args[0]=t.getTokenErrorDisplay(i.token)}}else if(t.tokenError!==null&&(t.tokenError.match("EOF")||t.tokenError.indexOf("EOF")!==-1)){u.key="incomplete_expression_message"}else{var l=t.errorTokenType!==null?t.errorTokenType:a.getTokenTypeOfFirstErrorAfterWS(i);var p=a.getTokensNames(t,E);if(p.length){if(p[0].indexOf("timestamp")>=0||p[0].indexOf("time")>=0||p[0].indexOf("date")>=0){u.key="error_in_expression_enter_suggestions_format_instead_message";u.args[0]=p;u.args[1]=a.getLocaleTypeFormatArray(p,n);u.args[2]=t.tokenError}else if(p[0].indexOf("string")>=0&&(l===o.INT||l===o.DECIMAL)){u.key="error_in_expression_enter_string_in_single_quotes_instead_message";u.args[0]=t.tokenError;u.args[1]=T.removeSingleQuotes(t.tokenError)}else{u.key="error_in_expression_enter_suggestions_instead_message";u.args[0]=p;u.args[1]=t.tokenError}}else{u.key="error_in_expression_invalid_entry_message";u.args[0]=t.tokenError}if(l!==null&&l!==undefined&&a.isCollection(l)&&(T.isInArray(o.TYPEBOOLEAN,E)||T.isInArray(o.TYPEDATE,E)||T.isInArray(o.TYPETIMEINTERVAL,E)||T.isInArray(o.TYPENUMBER,E)||T.isInArray(o.TYPESTRING,E)||T.isInArray(o.TYPETIME,E)||T.isInArray(o.TYPETIMESTAMP,E))){var c=t.getTokenNames()[l].toLowerCase();var I=c.split("collection");var O=I[0].split("type");O=O[1];O=O==="date"?"valid date":O;if(T.isInArray(O+" ",p)||T.isInArray(" "+O,p)||T.isInArray(O,p)){u.key="error_in_expression_single_value_missing_message";u.args[0]=t.tokenError}}}}n.parseResult.cursorPosition=t.errorIndex;a.handleError(u.key,u.args,n);throw new s.HrfException}};l.prototype.overwriteLexerReportError=function(t,n,o){var a=this;n.reportError=function(n){o.parseResult.status=e.statusEnum.ERROR;t.lexerErrorStartIndex=n.input.markers[1].charPositionInLine;var i;var E;var T=n.charPositionInLine;var u="";var l={};l.key="";l.args=[];if(t.lexerErrorOccurred===false){t.lexerErrorOccurred=true;if(n instanceof r.antlr.runtime.NoViableAltException||n instanceof r.antlr.runtime.MismatchedSetException||n instanceof r.antlr.runtime.MismatchedRangeException){i=t.input.tokens.length;E=n.input.data;if(i>0){var p=t.input.tokens[i-1].stop+1;u=E.substring(p,n.charPositionInLine)}else{u=E.substring(0,n.charPositionInLine)}u=u.replace(/\s\s+/g," ")}var c=a.getTokensStartWithString(t,u);c=a.sortAndRemoveDuplicates(c);var I="";var O=0;var N="";for(O=0;O<c.length;O++){I+=N+"'"+c[O]+"'";N=", "}if(u.indexOf("EOF")!==-1){l.key="error_in_expression_missing_token_at_the_end_of_the_expression_message";l.args[0]=I}else{l.key="error_in_expression_missing_token_message";l.args[0]=I;l.args[1]=u}if(n instanceof r.antlr.runtime.MismatchedTokenException){l.args[0]=this.getCharErrorDisplay(n.expecting);if(this.getCharErrorDisplay(n.c).indexOf("EOF")!==-1){l.key="error_in_expression_missing_token_at_the_end_of_the_expression_message"}else{l.key="error_in_expression_missing_token_message";l.args[1]=this.getCharErrorDisplay(n.c)}}if(n instanceof r.antlr.runtime.MismatchedRangeException){var _=new RegExp(/^\d(\d|\.|\,)*?$/);if(_.test(u)){l.key="error_in_expression_enter_suggestions_format_instead_message_two_cases";l.args[0]=u;l.args[1]="number";l.args[2]=a.getLocaleFormat(o,false).DECIMAL;l.args[3]="date";l.args[4]=a.getLocaleFormat(o,false).DATESTRING;if(i>0){T=t.input.tokens[i-1].start}else{T=0}}}}o.parseResult.cursorPosition=T;a.handleError(l.key,l.args,o);throw new s.HrfException}};l.prototype.zeroPad=function(e,r){var t=r-e.toString().length+1;return[].constructor(+(t>0&&t)).join("0")+e};l.prototype.isTimeString=function(e,r){e=e.replace(/[']+/g,"");var t=null;if(r===this.TimeFormatEnum.HHMISS){t=/^(T?)(?:2[0-3]|[01]?[0-9]):[0-5][0-9]:[0-5][0-9](Z?)$/}else if(r===this.TimeFormatEnum.HHMISSAMPM){t=/^(T?)(?:2[0-3]|[01]?[0-9]):[0-5][0-9]:[0-5][0-9](Z?)( )+[AP]M$/}return t.test(e)};l.prototype.isTimestampString=function(e,r,t){e=e.replace(/[']+/g,"");var n=null;if(r===this.DateFormatEnum.MMDDYYYY){if(t===this.TimeFormatEnum.HHMISS){n=/^(0?[1-9]|1[012])[\-\/.](0?[1-9]|[12][0-9]|3[01])[\-\/.](19|20)\d\d[\ \T](?:2[0-3]|[01]?[0-9]):[0-5][0-9]:[0-5][0-9](Z?)$/}else if(t===this.TimeFormatEnum.HHMISSAMPM){n=/^(0?[1-9]|1[012])[\-\/.](0?[1-9]|[12][0-9]|3[01])[\-\/.](19|20)\d\d[\ \T](?:2[0-3]|[01]?[0-9]):[0-5][0-9]:[0-5][0-9](Z?)( )+[AP]M$/}}else if(r===this.DateFormatEnum.DDMMYYYY){if(t===this.TimeFormatEnum.HHMISS){n=/^(0?[1-9]|[12][0-9]|3[01])[\-\/.](0?[1-9]|1[012])[\-\/.](19|20)\d\d[\ \T](?:2[0-3]|[01]?[0-9]):[0-5][0-9]:[0-5][0-9](Z?)$/}else if(t===this.TimeFormatEnum.HHMISSAMPM){n=/^(0?[1-9]|[12][0-9]|3[01])[\-\/.](0?[1-9]|1[012])[\-\/.](19|20)\d\d[\ \T](?:2[0-3]|[01]?[0-9]):[0-5][0-9]:[0-5][0-9](Z?)( )+[AP]M$/}}else if(r===this.DateFormatEnum.YYYYMMDD){if(this.timeFormat===this.TimeFormatEnum.HHMISS){n=/^(19|20)\d\d[\-\/.](0?[1-9]|1[012])[\-\/.](0?[1-9]|[12][0-9]|3[01])[\ \T](?:2[0-3]|[01]?[0-9]):[0-5][0-9]:[0-5][0-9](Z?)$/}else if(t===this.TimeFormatEnum.HHMISSAMPM){n=/^(19|20)\d\d[\-\/.](0?[1-9]|1[012])[\-\/.](0?[1-9]|[12][0-9]|3[01])[\ \T](?:2[0-3]|[01]?[0-9]):[0-5][0-9]:[0-5][0-9](Z?)( )+[AP]M$/}}return n.test(e)};l.prototype.convertTo24Hour=function(e){var r=e.toLowerCase();var t=parseInt(r.substr(0,2),10);if(r.indexOf("am")!==-1&&t===12){r=r.replace("12","0")}if(r.indexOf("pm")!==-1&&t<12){r=r.replace(t,t+12)}return r.replace(/(am|pm)/,"")};l.prototype.buildHanaDateString=function(e,r,t){e=e.replace(/[']+/g,"");var n=e.split(/[\.\-\/T ]/);var o="";var a="00:00:00.000000";switch(r){case this.DateFormatEnum.MMDDYYYY:o=this.zeroPad(n[2],4)+"-"+this.zeroPad(n[0],2)+"-"+this.zeroPad(n[1],2);break;case this.DateFormatEnum.DDMMYYYY:o=this.zeroPad(n[2],4)+"-"+this.zeroPad(n[1],2)+"-"+this.zeroPad(n[0],2);break;case this.DateFormatEnum.YYYYMMDD:o=this.zeroPad(n[0],4)+"-"+this.zeroPad(n[1],2)+"-"+this.zeroPad(n[2],2);break}var s=0;if(r!==""){s=3}else if(e.indexOf("T")===0){s=1}switch(t){case this.TimeFormatEnum.HHMISS:a=n[s]+".000000";break;case this.TimeFormatEnum.HHMISSAMPM:a=this.convertTo24Hour(n[s])+".000000";break}var i="";if(o!==""){i=" "}return"'"+o+i+a+"'"};l.prototype.updateTokenType=function(e,r){var t=e.type;var n=r.contextQueue.length;if(n===0){return t}var a=r.contextQueue[n-1];if(a.root.isAlias||a.root.isParameter){return t}var s=e.expression;if(e.type===o.NAVIGATION){var E=a.navigation.split(".");if(a.attribute.isValid){E.pop()}var T=E.length===0?a.navigation+"."+s:E.join(".")+"."+s;var u=this.getNavigationObjectFromPath(T,s,r);var l=this.getNavigationObjectType(u);if(l!==null){t=this.getSingleTokenType(l);return t}}if(this.isCollection(s.type)){var p=s.split(".");s=p[0];if(a.root.name!==p[0]){return t}var c=1;while(c<p.length&&c<=a.associations.path.length&&p[c]===a.associations.path[c-1].name){s=a.associations.path[c-1].object;c++}for(c;c<p.length;c++){s=s+"."+p[c]}var I=i.validateNavigationDetails(s,r.vocaRTServ,r.vocabulary,[]);if(I.isCollection){return t}t=this.getSingleTokenType(e.type)}return t};l.prototype.advancedFunctions={round:"round",power:"power",sin:"sin",cos:"cos",log:"log",pattern:"textSearch","with a fuzzy score of":"textSearch","occurrences containing pattern":"textSearch"};l.prototype.handleAllDFAOptions=function(e,r){var t="dfa"+r+"NumberOfAlt";var n="dfa"+r+"AltNumber";var o="failedPredictDFA"+r;var a="dfa"+r+"InRule";var s="dfa"+r+"Mark";e[o]=true;var i=0,E;for(i=1;i<e[t]+1;i++){try{e.setPred(true);e[n]=i;e.input.rewind(e[s]);E=e[a];e[E+"_DFAcall"]=true;e[E]()}catch(e){}}};l.prototype.handleFailedDFA=function(r,t,n){if(r.mode===e.AUTOCOMPLETE_MODE||r.mode===e.AUTOCOMPLETE_MODE_LOWERCASE){this.overwriteParserReportErrorAutocompleteModeFailedDFA(r,n)}else if(r.mode===e.PARSE_MODE||r.mode===e.VALIDATE_MODE){this.overwriteParserReportErrorValidateModeFailedDFA(r)}this.handleAllDFAOptions(r,t.decisionNumber)};return{parseUtilsLib:l}},true);
//# sourceMappingURL=parseUtils.js.map