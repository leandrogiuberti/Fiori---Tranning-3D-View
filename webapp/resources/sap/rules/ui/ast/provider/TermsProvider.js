sap.ui.define(["sap/rules/ui/ast/model/Term","sap/rules/ui/ast/constants/Constants"],function(t,e){"use strict";var r=function(){this._vocabId="";this._termsIdMap={};this._termsNameMap={};this._termsLabelMap={}};r.prototype.reset=function(){this._vocabId="";this._termsIdMap={};this._termsNameMap={};this._termsLabelMap={}};var s;r.prototype._getAllAttrsRefsAssocsForDataObject=function(t){var r=[],s;var a=t.split(e.DOT).length;for(var i in this._termsIdMap){s=this._termsIdMap[i];if(i.startsWith(t+e.DOT)&&(s.getBusinessDataType()||s.getDataObjectType()==="AO"||s.getDataObjectType()==="R")&&i.split(e.DOT).length<=a+1){r.push(s)}}return r};r.prototype._getTermsNotStartingWithPrefix=function(t){var e=[],r;for(var s in this._termsIdMap){r=this._termsIdMap[s];if(!s.startsWith(t)&&(r._dataObjectType==="S"||r._isDataObjectElement)){e.push(r)}}return e};r.prototype._getAllAttrsRefersAndAssocsForDataObjectByName=function(t){var r=[],s,a;var i=t.split(e.DOT).length;for(var n in this._termsNameMap){s=this._termsNameMap[n];a=s.getTermName();if(a.startsWith(t+e.DOT)&&(s.getBusinessDataType()||s.getDataObjectType()==="AO"||s.getDataObjectType()==="R")&&a.split(e.DOT).length<=i+1){r.push(s)}}return r};r.prototype._getAllAttributesByPrefixIdAndBusinessType=function(t,r){var s=[],a,i;var n=t.split(e.DOT).length;for(var p in this._termsIdMap){a=this._termsIdMap[p];i=a.getTermId();if(i&&i&&i.startsWith(t+e.DOT)&&(a.getBusinessDataType()&&a.getBusinessDataType()===r)&&i.split(e.DOT).length<=n+1){s.push(a)}}return s};r.prototype._getAllAttributesByPrefixNameAndBusinessType=function(t,r){var s=[],a,i;var n=t.split(e.DOT).length;for(var p in this._termsNameMap){a=this._termsNameMap[p];i=a.getTermName();if(i.startsWith(t+e.DOT)&&(a.getBusinessDataType()&&a.getBusinessDataType()===r)&&i.split(e.DOT).length<=n+1){s.push(a)}}return s};r.prototype._getAttributesGivenPrefixId=function(t,r){var s=[],a,i;var n=t.split(e.DOT).length;for(var p in this._termsIdMap){a=this._termsIdMap[p];i=a.getTermId();if(i&&i&&i.startsWith(t+e.DOT)&&a.getDataObjectType()!="AO"&&a.getDataObjectType()!="R"&&i.split(e.DOT).length<=n+1){s.push(a)}}return s};r.prototype._getAllDataObjects=function(){var t=[],r,s;for(var a in this._termsIdMap){s=this._termsIdMap[a];r=s?s.getDataObjectType():"";if(r&&("E".localeCompare(r)===0&&s._bussinessDataType===null||"E".localeCompare(r)!=0&&"R".localeCompare(r)&&"AO".localeCompare(r)!=0&&s&&s.type!==e.RULE)){t.push(s)}}return t};r.prototype._getAllVocabularyRules=function(){var t=[],r,s;for(var a in this._termsIdMap){s=this._termsIdMap[a];r=s?s.Type:"";if(r&&r===e.RULE){t.push(s)}}return t};r.prototype.setVocabularyId=function(t){this._vocabId=t;return this};r.prototype.createTerm=function(e,r,s,a,i,n,p,o){return(new t).setTermName(e).setTermId(r).setBusinessDataType(s).setVocaId(a).setDataObjectType(i).setLabel(n).setHasValueSource(p).setCardinality(o)};r.prototype.addToTermsIdMap=function(t,e){this._termsIdMap[t]=e};r.prototype.addToTermsNameMap=function(t,e){this._termsNameMap[t]=e};r.prototype.addToTermsLabelMap=function(t,e){this._termsLabelMap[t]=e};r.prototype.getTermByTermId=function(t){var e=this._termsIdMap[t];if(e){return e}else{for(var r in this._termsIdMap){var s=this._termsIdMap[r];if(s&&s.getTermId().indexOf(t)>=0&&s.getDataObjectType()){return s}}}return e};r.prototype.getTermByTermName=function(t){return this._termsNameMap[t]};r.prototype.getTermByTermLabel=function(t){return this._termsLabelMap[t]};r.prototype.getAllTerms=function(){var t=[];for(var e in this._termsIdMap){t.push(this._termsIdMap[e])}return t};r.prototype.getTermsById=function(t){if(this._vocabId===t||!t){return this._getAllDataObjects()}var r,s;r=this._termsIdMap[t];if(r){s=r.getDataObjectType();if(s&&"E".localeCompare(s)!=0&&e.ELEMENT.localeCompare(s)!=0){return this._getAllAttrsRefsAssocsForDataObject(t)}}return[]};r.prototype.getTermsByName=function(t){if(!t){return _getAllDataObjects()}var r,s;r=this._termsNameMap[t];if(r){s=r.getDataObjectType();if(s&&e.ELEMENT.localeCompare(s)!=0){return this._getAllAttrsRefersAndAssocsForDataObjectByName(t)}}return[]};r.prototype.getTermsByBusinessDataType=function(t){var e=[];for(var r in this._termsIdMap){var s=this._termsIdMap[r];if(s.getBusinessDataType()===t){e.push(s)}}return e};r.prototype.getTermsByPrefixIdAndBusinessDataType=function(t,e){return this._getAllAttributesByPrefixIdAndBusinessType(t,e)};r.prototype.getTermsByPrefixNameAndBusinessDataType=function(t,e){return this._getAllAttributesByPrefixNameAndBusinessType(t,e)};r.prototype.getDOTermsByBusinessDataType=function(t){var e=this._getAllDataObjects();var r=[];var s=[];var a;if(e){for(var i=0;i<e.length;i++){a=e[i];s=this.getTermsByPrefixIdBusinessAndDOType(a.getTermId(),["E"],t);if(s&&s.length>0){r.push(a)}}}return r};r.prototype.getTermsByDataObjectType=function(t){var e=[];var r;for(var s in this._termsIdMap){r=this._termsIdMap[s];if(r&&r.getDataObjectType()===t){e.push(r)}}return e};r.prototype.getTermsByDataObjectTypeAndPrefixId=function(t,e){var r;var s=[];var a=this.getTermsById(t);if(a){for(var i=0;i<a.length;i++){r=a[i];if(r.getDataObjectType()===e){s.push(r)}}}return s};r.prototype.getTermsByDataObjectTypeAndPrefixName=function(t,e){var r;var s=[];var a=this.getTermsByName(t);if(a){for(var i=0;i<a.length;i++){r=a[i];if(r.getDataObjectType()===e){s.push(r)}}}return s};r.prototype._getTermsByBusinessType=function(t,e){var r=[];var s;for(var a=0;a<t.length;a++){s=t[a];if(s&&s.getBusinessDataType()===e){r.push(s)}}return r};r.prototype.getTermsByBusinessAndDOType=function(t,e){var r=this.getTermsByDataObjectType(t);var s=[];var a=[];for(var i=0;i<r.length;i++){a=this.getTermsById(r[i].getTermId());s.push.apply(s,this._getTermsByBusinessType(a,e))}return s};r.prototype.getTermsByPrefixIdBusinessAndDOType=function(t,e,r){var s,a;var i=[];var n=this.getTermsById(t);if(n){for(var p=0;p<n.length;p++){s=n[p];for(var o=0;o<e.length;o++){a=e[o];if(s.getDataObjectType()===a&&s.getBusinessDataType()===r){i.push(s)}}}}return i};r.prototype.getTermsByPrefixNameBusinessAndDOType=function(t,e,r){var s,a;var i=[];var n=this.getTermsByName(t);if(n){for(var p=0;p<n.length;p++){s=n[p];for(var o=0;o<e.length;o++){a=e[o];if(s.getDataObjectType()===a&&s.getBusinessDataType()===r){i.push(s)}}}}return i};r.prototype.getAssociationsGivenPrefixName=function(t){var e;var r=[];var s=this.getTermsByName(t);if(s&&s.length>0){for(var a=0;a<s.length;a++){e=s[a];if(e.getDataObjectType()=="AO"){r.push(e)}}}return r};r.prototype.getReferencesGivenPrefixName=function(t){var e;var r=[];var s=this.getTermsByName(t);if(s&&s.length>0){for(var a=0;a<s.length;a++){e=s[a];if(e.getDataObjectType()=="R"){r.push(e)}}}return r};r.prototype.getAssociationsGivenPrefixId=function(t){var e;var r=[];var s=this.getTermsById(t);if(s&&s.length>0){for(var a=0;a<s.length;a++){e=s[a];if(e.getDataObjectType()=="AO"){r.push(e)}}}return r};r.prototype.getReferencesGivenPrefixId=function(t){var e;var r=[];var s=this.getTermsById(t);if(s&&s.length>0){for(var a=0;a<s.length;a++){e=s[a];if(e.getDataObjectType()=="R"){r.push(e)}}}return r};r.prototype.isTermParentEntity=function(t){if(t){var e=this.getTermByTermId(t);if(e&&(e._dataObjectType==="S"||e._dataObjectType==="T"||e._isDataObjectElement||e.Type&&e.Type==="Rule")){return true}}return false};return{getInstance:function(){if(!s){s=new r;s.constructor=null}return s}}},true);
//# sourceMappingURL=TermsProvider.js.map