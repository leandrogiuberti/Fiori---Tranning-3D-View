(function(){"use strict";var t=CodeMirror.Pos;function e(t,e){e.completeSingle=false;var r=t.getCursor();var n=null;var o=0;var i=0;var s=[];var l=t.getRange({line:0,ch:0},r);if(t.options.headerValue){var a=t.options.headerValue+" ";if(t.options.fixedOperator){a=a+t.options.fixedOperator+" "}l=a+l}var u={};function g(t,e){return t.slice(0,e.length)===e}function f(t){var e={};e.suggs=[];for(var r=0;r<t.suggs.length;r++){if(t.suggs[r].info){if(t.suggs[r].info.category){if(t.suggs[r].info.category==="structuredCond"){continue}}}e.suggs.push(t.suggs[r])}return e}function c(e){var r=0;if(t.currentHintData&&e.length>=t.currentHintData.key.length){s=t.currentHintData.data.listCompletion.filter(function(r){if(g(t.currentHintData.key+r.completion,e)===true){var n=e.substring(t.currentHintData.key.length,e.length).length;r.completion=r.completion.substring(n,r.completion.length);if(r.completion.length===0){return false}return true}return false});r=s.length;u.listCompletion=s}else{r=0}return r}function p(e,n){var o=e[0];var s=n+o.completion;var l=s.split("\n");s=l[r.line];if(i===0){if(o.tokenType==="valueList"){i=s.substring(0,s.toLowerCase().lastIndexOf("")).length}else{i=s.substring(0,s.toLowerCase().lastIndexOf(o.text.toLowerCase())).length}}u.from=CodeMirror.Pos(r.line,i);u.to=CodeMirror.Pos(r.line,n.length);t.currentHintData={key:n,data:u};if(t.options.stillNeedShowHint){return{list:e,from:u.from,to:u.to}}}var h=l;o=c(h);var d={};if(t.options.relDelegate){d=t.options.relDelegate.getSuggestions(l,t.options.returnType,t.options.collection,null,t.options.valueListAttribute);if(t.options.filterOutStructuredCond){d=f(d)}if(typeof n!=="object"){n=JSON.parse(d)}else{n=d}if(n.suggs instanceof Array){o=n.suggs.length;s=u.listCompletion=n.suggs}}if(s.length>0){return p(s,h)}else{return null}}CodeMirror.hdfHint=e;CodeMirror.registerHelper("hint","hdf",e)})();
//# sourceMappingURL=hdf-hint.js.map