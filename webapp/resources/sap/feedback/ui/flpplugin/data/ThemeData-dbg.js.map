{"version":3,"file":"ThemeData-dbg.js","names":["ThemeId","___sap_px_pxapi","UI5Util","_interopRequireDefault","__UI5Util","LocalStorageHandler","__LocalStorageHandler","ThemeData","_classCallCheck","_createClass","key","value","initLastTheme","currentThemeId","getThemeId","lastThemeId","userState","getUserState","lastTheme","updateThemeState","updateCurrentTheme","newCurrentThemeId","newThemeId","sap_horizon","lastCurrentThemeId","currentTheme","newLastThemeId","updateLastTheme","getPreviousTheme"],"sourceRoot":".","sources":["ThemeData.ts"],"sourcesContent":["import { ThemeId } from '@sap-px/pxapi';\nimport UI5Util from '../common/UI5Util';\nimport LocalStorageHandler from '../storage/LocalStorageHandler';\n\nexport default class ThemeData {\n\tpublic static initLastTheme() {\n\t\tconst currentThemeId = UI5Util.getThemeId();\n\t\tlet lastThemeId = currentThemeId;\n\t\tconst userState = LocalStorageHandler.getUserState();\n\t\tif (userState && userState.lastTheme) {\n\t\t\tlastThemeId = ThemeId[userState.lastTheme as keyof typeof ThemeId];\n\t\t\tif (!lastThemeId) {\n\t\t\t\tlastThemeId = currentThemeId;\n\t\t\t}\n\t\t}\n\t\tthis.updateThemeState(lastThemeId, currentThemeId);\n\t}\n\n\tpublic static updateCurrentTheme(newCurrentThemeId: ThemeId) {\n\t\t// Required as test are currently JavaScript based and input is string and invalid values not prohibited.\n\t\tconst newThemeId = ThemeId[newCurrentThemeId as keyof typeof ThemeId] || ThemeId.sap_horizon;\n\t\tconst userState = LocalStorageHandler.getUserState();\n\t\tif (userState) {\n\t\t\tconst lastCurrentThemeId = ThemeId[userState.currentTheme as keyof typeof ThemeId] || ThemeId.sap_horizon;\n\t\t\tif (lastCurrentThemeId !== newThemeId) {\n\t\t\t\tthis.updateThemeState(lastCurrentThemeId, newThemeId);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic static updateThemeState(newLastThemeId: ThemeId, currentThemeId: ThemeId) {\n\t\tLocalStorageHandler.updateLastTheme(newLastThemeId);\n\t\tLocalStorageHandler.updateCurrentTheme(currentThemeId);\n\t}\n\n\tpublic static getPreviousTheme(): ThemeId {\n\t\tconst userState = LocalStorageHandler.getUserState();\n\t\tif (userState) {\n\t\t\treturn ThemeId[userState.lastTheme as keyof typeof ThemeId] || ThemeId.sap_horizon;\n\t\t}\n\t\treturn ThemeId.sap_horizon;\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;MAASA,OAAO,GAAAC,eAAA;EAAA,IACTC,OAAO,GAAAC,sBAAA,CAAAC,SAAA;EAAA,IACPC,mBAAmB,GAAAF,sBAAA,CAAAG,qBAAA;EAAA,IAELC,SAAS;IAAA,SAAAA,UAAA;MAAAC,eAAA,OAAAD,SAAA;IAAA;IAAA,OAAAE,YAAA,CAAAF,SAAA;MAAAG,GAAA;MAAAC,KAAA,EAC7B,SAAcC,aAAaA,CAAA,EAAG;QAC7B,IAAMC,cAAc,GAAGX,OAAO,CAACY,UAAU,CAAC,CAAC;QAC3C,IAAIC,WAAW,GAAGF,cAAc;QAChC,IAAMG,SAAS,GAAGX,mBAAmB,CAACY,YAAY,CAAC,CAAC;QACpD,IAAID,SAAS,IAAIA,SAAS,CAACE,SAAS,EAAE;UACrCH,WAAW,GAAGf,OAAO,CAACgB,SAAS,CAACE,SAAS,CAAyB;UAClE,IAAI,CAACH,WAAW,EAAE;YACjBA,WAAW,GAAGF,cAAc;UAC7B;QACD;QACA,IAAI,CAACM,gBAAgB,CAACJ,WAAW,EAAEF,cAAc,CAAC;MACnD;IAAC;MAAAH,GAAA;MAAAC,KAAA,EAED,SAAcS,kBAAkBA,CAACC,iBAA0B,EAAE;QAC5D;QACA,IAAMC,UAAU,GAAGtB,OAAO,CAACqB,iBAAiB,CAAyB,IAAIrB,OAAO,CAACuB,WAAW;QAC5F,IAAMP,SAAS,GAAGX,mBAAmB,CAACY,YAAY,CAAC,CAAC;QACpD,IAAID,SAAS,EAAE;UACd,IAAMQ,kBAAkB,GAAGxB,OAAO,CAACgB,SAAS,CAACS,YAAY,CAAyB,IAAIzB,OAAO,CAACuB,WAAW;UACzG,IAAIC,kBAAkB,KAAKF,UAAU,EAAE;YACtC,IAAI,CAACH,gBAAgB,CAACK,kBAAkB,EAAEF,UAAU,CAAC;UACtD;QACD;MACD;IAAC;MAAAZ,GAAA;MAAAC,KAAA,EAED,SAAcQ,gBAAgBA,CAACO,cAAuB,EAAEb,cAAuB,EAAE;QAChFR,mBAAmB,CAACsB,eAAe,CAACD,cAAc,CAAC;QACnDrB,mBAAmB,CAACe,kBAAkB,CAACP,cAAc,CAAC;MACvD;IAAC;MAAAH,GAAA;MAAAC,KAAA,EAED,SAAciB,gBAAgBA,CAAA,EAAY;QACzC,IAAMZ,SAAS,GAAGX,mBAAmB,CAACY,YAAY,CAAC,CAAC;QACpD,IAAID,SAAS,EAAE;UACd,OAAOhB,OAAO,CAACgB,SAAS,CAACE,SAAS,CAAyB,IAAIlB,OAAO,CAACuB,WAAW;QACnF;QACA,OAAOvB,OAAO,CAACuB,WAAW;MAC3B;IAAC;EAAA;EAAA,OAAAhB,SAAA;AAAA","ignoreList":[]}