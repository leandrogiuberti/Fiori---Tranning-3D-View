{"version":3,"file":"ThemeData.js","names":["ThemeId","___sap_px_pxapi","UI5Util","_interopRequireDefault","__UI5Util","LocalStorageHandler","__LocalStorageHandler","ThemeData","_classCallCheck","this","_createClass","key","value","initLastTheme","currentThemeId","getThemeId","lastThemeId","userState","getUserState","lastTheme","updateThemeState","updateCurrentTheme","newCurrentThemeId","newThemeId","sap_horizon","lastCurrentThemeId","currentTheme","newLastThemeId","updateLastTheme","getPreviousTheme"],"sources":["./ThemeData.ts"],"sourcesContent":["import { ThemeId } from '@sap-px/pxapi';\nimport UI5Util from '../common/UI5Util';\nimport LocalStorageHandler from '../storage/LocalStorageHandler';\n\nexport default class ThemeData {\n\tpublic static initLastTheme() {\n\t\tconst currentThemeId = UI5Util.getThemeId();\n\t\tlet lastThemeId = currentThemeId;\n\t\tconst userState = LocalStorageHandler.getUserState();\n\t\tif (userState && userState.lastTheme) {\n\t\t\tlastThemeId = ThemeId[userState.lastTheme as keyof typeof ThemeId];\n\t\t\tif (!lastThemeId) {\n\t\t\t\tlastThemeId = currentThemeId;\n\t\t\t}\n\t\t}\n\t\tthis.updateThemeState(lastThemeId, currentThemeId);\n\t}\n\n\tpublic static updateCurrentTheme(newCurrentThemeId: ThemeId) {\n\t\t// Required as test are currently JavaScript based and input is string and invalid values not prohibited.\n\t\tconst newThemeId = ThemeId[newCurrentThemeId as keyof typeof ThemeId] || ThemeId.sap_horizon;\n\t\tconst userState = LocalStorageHandler.getUserState();\n\t\tif (userState) {\n\t\t\tconst lastCurrentThemeId = ThemeId[userState.currentTheme as keyof typeof ThemeId] || ThemeId.sap_horizon;\n\t\t\tif (lastCurrentThemeId !== newThemeId) {\n\t\t\t\tthis.updateThemeState(lastCurrentThemeId, newThemeId);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic static updateThemeState(newLastThemeId: ThemeId, currentThemeId: ThemeId) {\n\t\tLocalStorageHandler.updateLastTheme(newLastThemeId);\n\t\tLocalStorageHandler.updateCurrentTheme(currentThemeId);\n\t}\n\n\tpublic static getPreviousTheme(): ThemeId {\n\t\tconst userState = LocalStorageHandler.getUserState();\n\t\tif (userState) {\n\t\t\treturn ThemeId[userState.lastTheme as keyof typeof ThemeId] || ThemeId.sap_horizon;\n\t\t}\n\t\treturn ThemeId.sap_horizon;\n\t}\n}\n"],"mappings":"+pCAASA,EAAOC,EAAA,eACTC,EAAOC,EAAAC,GAAA,IACPC,EAAmBF,EAAAG,GAAA,IAELC,EAAS,oBAAAA,IAAAC,EAAAC,KAAAF,EAAA,QAAAG,EAAAH,EAAA,OAAAI,IAAA,gBAAAC,MAC7B,SAAcC,IACb,IAAMC,EAAiBZ,EAAQa,aAC/B,IAAIC,EAAcF,EAClB,IAAMG,EAAYZ,EAAoBa,eACtC,GAAID,GAAaA,EAAUE,UAAW,CACrCH,EAAchB,EAAQiB,EAAUE,WAChC,IAAKH,EAAa,CACjBA,EAAcF,CACf,CACD,CACAL,KAAKW,iBAAiBJ,EAAaF,EACpC,GAAC,CAAAH,IAAA,qBAAAC,MAED,SAAcS,EAAmBC,GAEhC,IAAMC,EAAavB,EAAQsB,IAA8CtB,EAAQwB,YACjF,IAAMP,EAAYZ,EAAoBa,eACtC,GAAID,EAAW,CACd,IAAMQ,EAAqBzB,EAAQiB,EAAUS,eAAyC1B,EAAQwB,YAC9F,GAAIC,IAAuBF,EAAY,CACtCd,KAAKW,iBAAiBK,EAAoBF,EAC3C,CACD,CACD,GAAC,CAAAZ,IAAA,mBAAAC,MAED,SAAcQ,EAAiBO,EAAyBb,GACvDT,EAAoBuB,gBAAgBD,GACpCtB,EAAoBgB,mBAAmBP,EACxC,GAAC,CAAAH,IAAA,mBAAAC,MAED,SAAciB,IACb,IAAMZ,EAAYZ,EAAoBa,eACtC,GAAID,EAAW,CACd,OAAOjB,EAAQiB,EAAUE,YAAsCnB,EAAQwB,WACxE,CACA,OAAOxB,EAAQwB,WAChB,IAAC,CArC4B,GAqC5B,OAAAjB,CAAA","ignoreList":[]}