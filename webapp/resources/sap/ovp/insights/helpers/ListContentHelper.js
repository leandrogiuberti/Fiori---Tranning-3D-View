/*!
 * Copyright (c) 2009-2014 SAP SE, All Rights Reserved
 */
sap.ui.define(["sap/ovp/insights/helpers/ContentHelper"],function(e){"use strict";function a(a){var t=a.view.byId("DataField")||a.view.byId("DataField1");var r=a.itemBindingInfo.template;if(t){return e.getBindingPathOrValue(t,"text",false,a.parameters)}else{return e.getBindingPathOrValue(r,"title",false,a.parameters)}}function t(a){var t=a.itemBindingInfo.template,r=a.cardComponentData.settings.listType,i,n;if(r==="condensed"){if(t.getMetadata().getName()==="sap.m.StandardListItem"){i=e.getBindingPathOrValue(t,"info",false,a.parameters);n=e.getBindingPathOrValue(t,"infoState",false,a.parameters)}else{var s=a.view.byId("DataPoint2");i=e.getBindingPathOrValue(s,"number",false,a.parameters);n=e.getBindingPathOrValue(s,"state",false,a.parameters)}}else{if(t.getMetadata().getName()==="sap.m.CustomListItem"){var s=a.view.byId("DataPoint2");if(s){i=e.getBindingPathOrValue(s,"number",false,a.parameters);n=e.getBindingPathOrValue(s,"state",false,a.parameters)}var l=a.view.byId("DataField2Link");if(l){i=e.getBindingPathOrValue(l,"text",false,a.parameters)}}else{i=e.getBindingPathOrValue(t,"number",false,a.parameters);n=e.getBindingPathOrValue(t,"numberState",false,a.parameters)}}return{value:i,state:n?e.buildValueStateExpression(n,"state"):"None"}}function r(e,a){if(Array.isArray(e)&&a){e.push({value:a})}}function i(e){for(var a=e.length-1;a>-1;a--){var t=e[a];if(!t.value){e.pop()}else{return}}}function n(a){var t={Error:"Error",Information:"Information",None:"None",Success:"Success",Warning:"Warning"};var n=[];if(a&&a.itemBindingInfo){var s=a.itemBindingInfo.template;if(s.getMetadata().getName()==="sap.m.CustomListItem"){var l=e.getBindingPathOrValue(a.view.byId("DataField2"),"text",false,a.parameters);r(n,l);var u=e.getBindingPathOrValue(a.view.byId("DataPoint3"),"number",false,a.parameters);r(n,u)}var g=s.getAggregation("attributes");if(g&&g.length){n.push({value:e.getBindingPathOrValue(g[0],"text",false,a.parameters)})}var o=s.getAggregation("firstStatus");if(o){var d=e.getBindingPathOrValue(o,"state",false,a.parameters)||"None";n.push({value:e.getBindingPathOrValue(o,"text",false,a.parameters),state:t[d]||e.buildValueStateExpression(d,"state")||"None"})}if(g&&g.length>1){n.push({value:e.getBindingPathOrValue(g[1],"text",false,a.parameters)})}var m=s.getAggregation("secondStatus");if(m){var f=e.getBindingPathOrValue(m,"state",false,a.parameters)||"None";n.push({value:e.getBindingPathOrValue(m,"text",false,a.parameters),state:t[f]||e.buildValueStateExpression(f,"state")||"None"})}}i(n);return n}function s(a){var t=a.itemBindingInfo.template;if(t&&t.getMetadata().getName()==="sap.m.StandardListItem"){return e.getBindingPathOrValue(t,"description",false,a.parameters)}if(t&&t.getMetadata().getName()==="sap.m.CustomListItem"){var r=a.view.byId("contactLink");return e.getBindingPathOrValue(r,"text",false,a.parameters)}}function l(a){var t=a.itemBindingInfo.template;if(t&&t.getMetadata().getName()==="sap.m.StandardListItem"){return{src:e.getBindingPathOrValue(t,"icon",false,a.parameters)||"default",shape:"Square"}}}function u(e){var r={title:a(e)};var i=t(e);if(i.value){r.info=i}var u=s(e);if(u){r.description=u}var g=n(e);if(g.length){r.attributesLayoutType="TwoColumns";r.attributes=g}if(e.cardComponentData.settings.imageSupported){r.icon=l(e)}if(d(e)){r.chart=o(e)}return r}function g(a,t,r){return"{= extension.formatters.getMinMax('"+a+"', '"+t+"', '"+r+"', $"+e.addBrackets(a)+")}"}function o(a){var t={type:"Bullet"};var r=a.view.byId("BarChartDataPoint");var i=a.view.byId("DataPoint1")||a.view.byId("BarChartStateValue")||a.view.byId("BarChartValue");var n=e.getBindingPathOrValue(r.getData()[0],"value",true,a.parameters);var s=e.getBindingPathOrValue(i,"number",false,a.parameters);var l=e.getBindingPathOrValue(r.getData()[0],"value",false,a.parameters);var u=e.getBindingPathOrValue(r.getData()[0],"color",false,a.parameters);t.value=l?"{= parseFloat($"+e.addBrackets(l)+")}":null;t.displayValue=e.isAnExpression(s)?s:t.value;t.color=u?e.buildValueStateExpression(u,"color"):"None";var o=a.view.getModel("minMaxModel").getProperty("/isPercentage");var d=a.view.getModel();t.minValue=o?0:g(n,"min",d);t.maxValue=o?100:g(n,"max",d);return t}function d(e){return e.view.byId("BarChartDataPoint")}function m(a,t){if(!a){return{}}var r={};a.parameters=t.configuration.parameters;r.data=e.getData(t.data.request.batch,a.view.getModel());r.item=u(a);return r}return{getListContent:m}});
//# sourceMappingURL=ListContentHelper.js.map