{"version":3,"file":"VizAnnotationManager.js","names":["sap","ui","define","Utils","CountMode","CardAnnotationHelper","NumberFormat","DateFormat","VizTooltip","CommonUtils","OVPCardAsAPIUtils","DimensionDefinition","MeasureDefinition","FeedItem","CoreElement","OvpResources","OVPUtils","each","merge","OVPLogger","AnalyticalCardHelper","NavigationHelper","CardConstants","MetadataAnalyser","Filterhelper","VizAnnotationManagerHelper","jQuery","mAnnotationConstants","Annotations","mErrorMessages","errorMessages","aSupportedChartTypesForSemanticColors","COLUMNSTACKED_CHARTTYPE","DONUT_CHARTTYPE","COLUMN_CHARTTYPE","BAR_CHARTTYPE","VERTICALBULLET_CHARTTYPE","LINE_CHARTTYPE","COMBINATION_CHARTTYPE","BUBBLE_CHARTTYPE","aSupportedChartTypesForStableColors","oGlobalEntityType","oLogger","formatItems","iContext","oEntitySet","oSelectionVariant","oPresentationVariant","oDimensions","oMeasures","chartType","ret","getSetting","error","ANALYTICAL_CONFIG_ERROR","dataModel","chartEnumArr","EnumMember","split","setDefaultCountMode","Inline","undefined","dimensionsList","aExpand","aAssociationKeys","aTempAssociationKeyArr","measuresList","requestList","sorterList","bParams","Parameters","bSorter","SortOrder","maxItemTerm","MaxItems","maxItems","tmp","sExpand","textPath","entitySet","textKey","TEXT_KEY","textKeyV4","TEXT_KEY_V4","unitKey","UNIT_KEY","unitKey_v4_isoCurrency","UNIT_KEY_V4_ISOCurrency","unitKey_v4_unit","UNIT_KEY_V4_Unit","oSelectItems","Int32","Int","test","ovpCardProperties","aParameters","getProperty","oMetaModel","path","resolveParameterizedEntitySet","name","filters","oMetadata","getMetadata","cardLayout","colSpan","colSpanOffset","allConfig","getConfig","config","reference","key","virtualEntry","time","type","toLowerCase","bSupportsTimeSemantics","hasTimeSemantics","default","dataStep","resize","hasOwnProperty","isNaN","parseInt","getFilters","length","createExcludeFilters","JSON","stringify","oSortAnnotationCollection","getSortAnnotationCollection","warning","CARD_WARNING","SORTORDER_WARNING","sSorterValue","oSortOrder","sSortOrder","sSortBy","i","Property","PropertyPath","push","Descending","checkFlag","Bool","Boolean","BOOLEAN_ERROR","substring","entityTypeObject","m","Measure","DataPoint","AnnotationPath","datapointAnnotationPath","ForecastValue","Path","forecastProperty","unitCode","Array","prototype","indexOf","call","TargetValue","targetProperty","String","d","Dimension","aParts","getNavigationPrefix","getAssociationKeys","concat","k","splice","join","oEntityType","getODataEntityType","entityType","requestFields","getRequestFields","r","modSortList","s","bCheckFilterPreference","checkFilterPreference","requiresIContext","sProperty","oAssociationEnd","getODataAssociationEnd","aKeyObjects","targetKey","propertyRef","j","checkForecastMeasure","aMeasure","boolflag","realMeasure","oDatapoint","INVALID_FORECAST","checkTargetMeasure","INVALID_TARGET","getSapLabel","value","v","getMeasureDimCheck","feeds","boolFlag","getUid","getValues","INVALID_DIMMEAS","hideDateTimeAxis","vizFrame","feedName","getModel","getVizType","getFeeds","feedValues","oPropertyInfo","TYPE_KEY","oVizProperties","categoryAxis","title","visible","legend","itemMargin","setVizProperties","oCardsModel","sKey","getId","setVizPropertyMap","checkNoData","oEvent","cardContainer","getChartType","oChartType","aDimensions","bODataV4","isODataV4Context","aMeasures","oResult","updateFlagValueForDataPoint","INVALID_SEMANTIC_MEASURES","buildSemanticLegends","oMeasure","oVizFrame","sMeasureName","getMeasureName","sDataPointAnnotationPath","oDataPoint","getSemanticLegends","checkEDMINT32Exists","val","feedtype","EDM_TYPE","EDM_INT32","checkEDMINT64Exists","EDM_INT64","_checkRolesForProperty","queue","queuedNames","INVALID_CHART_ANNO","allowedRoles","map","f","role","grep","CARD_ERROR","INVALID_REDUNDANT","ALLOWED_ROLES","CHART_IS","buildVizAttributes","handler","oController","sChartAnnotationPath","chartContext","bShowDataLabel","bShowDataLabelCardsAsApi","aQueuedProperties","aQueuedDimensions","aQueuedMeasures","aPropertyWithoutRoles","aDimensionWithoutRoles","aMeasureWithoutRoles","aLegendTextArrangement","oView","getView","oDropdown","selectedKey","uiModel","oChartSettings","checkIfAPIIsUsed","getData","showDataLabel","CARD_CONFIG","CARD_CONFIG_ERROR","CARD_CONFIG_JSON","NO_CARD_MODEL","CARD_ANNO_ERROR","CARD_ANNO","sChartTitle","getChartTitle","DimensionAttributes","CHART_ANNO_ERROR","CHART_ANNO","DIMENSIONS_MANDATORY","aNumberOfFractionalDigits","MeasureAttributes","MEASURES_MANDATORY","dpNumberOfFractionalDigits","ValueFormat","NumberOfFractionalDigits","chartProps","byId","getSelectedKey","bErrors","tooltipFormatString","toString","oTooltip","formatString","connect","getVizUid","_oOvpVizFrameTooltip","aVizData","bChartTypesForStableColors","ChartType","dimensions","measures","forEach","entry","oProperty","typeCue","min","CARD_LEAST","max","CARD_MOST","bHideAxisTitle","properties","enableTimeAxisForChart","bDatapointNavigation","bDonutChart","removeAllAggregation","isScrollable","interaction","noninteractiveMode","selectability","legendSelection","axisLabelSelection","mode","plotLassoSelection","plotStdSelection","zoom","enablement","plotArea","window","start","end","dataLabel","dataPoint","invalidity","alignment","vertical","label","truncatedLabelRatio","general","groupData","showAsUTC","semanticColor","goodLegend","getText","badLegend","criticalLegend","othersLegend","legends","dataPointStyle","rules","callback","oContext","dataPointAnnotationPath","mapMeasures","oCriticality","sState","formThePathForCriticalityStateCalculation","Criticality","StateValues","Positive","color","displayName","Critical","Negative","None","bEnableStableColors","oColorPalette","colorPaletteDimension","Object","keys","oDimension","Role","LABEL_KEY_V4","getLabelFromAnnotationPath","LABEL_KEY","aColorValues","aLegendTexts","legendText","othersCustomLegend","badCustomLegend","criticalCustomLegend","goodCustomLegend","oDataPointStyleRulesCopy","sColorPaletteDimensionType","rule","index","dataContext","bConsiderAnnotationScales","bIsMinMax","SCATTER_CHARTTYPE","AxisScaling","RecordType","oAxisScaling","AutoScaleBehavior","oAutoScaleBehavior","ZeroAlwaysVisible","adjustScale","DataScope","ScaleBehavior","sEnumMember","sEnumMemberValue","lastIndexOf","sScaleType","aChartScales","sDataPointPath","oMinMaxParams","MaximumValue","Decimal","MinimumValue","feed","ERROR_MISSING_AXISSCALES","setVizScales","slice","minValue","minValCurr","maxScaleValue","maxScaleValueCurr","isCurrency","isNotCurrency","sapUnit","oVizPropertiesFeeds","measureArr","dimensionArr","uid","aFeedProperties","iPropertiesLength","propertyName","len","isMeasureCurrency","checkNumberFormat","getMaxScaleFactor","rolesByPrio","annotationRole","defaultRole","MIN_FEEDS","FEEDS_OBTAINED","FEEDS_REQUIRED","FEEDS","aFeeds","dataset","getDataset","NO_DATASET","property","textColumn","edmType","displayBindingPath","oDimensionMap","TEXT_ARRANGEMENT_ANNO","oTextArrangement","sTextArrangementType","oMapPropText","getPropertyTextColumnMap","prop","setDimensionPath","cardId","dimensionDefinition","displayValue","sapSemantics","SEMANTICS_KEY","isV4CalendarYear","setDataType","addDimension","addMeasure","addFeed","values","text","configi","confignumberOfProperties","vizProperties","configpathToUse","configvalue","configlengthOfPathToUse","configtmp","manifestTmp","configcurrent","configj","numberOfProperties","attributeValue","methodToUse","pathToUse","method","lengthOfPathToUse","current","semanticPattern","getType","selectedValue","valueLabel","actualMeasure","forecastMeasure","forecastValue","actualValue","forecastValueName","MeasureNamesDimension","lineType","lineColor","pattern","setValues","bColorRestriction","dimensionSettings","aDimensionPaths","sDimensionPath","oRules","aChartDimensions","bStableColoringByDimensionValue","sChartDimension","oColorRules","aDefinedRules","aColorRules","oRule","every","_fnCheckColorNotDefined","aRules","_sortColorsByIndex","sDimensionValue","dimensionValue","sColor","feedname","getFeednameByProperty","sName","aDimensionsByOrder","_getDimensionValue","order","n","indexM","indexN","targetMeasure","targetValue","feedType","aFeedValues","isMeasureDecimal","aFeedValueContexts","filter","measureAttr","contextMeasure","scaleUnit","getScaleUnit","setScale","sFormattedTitle","getFormattedChartTitle","fmtStr","feedFractionalDigits","currentFeedType","oVizPropertiesFeed","singleFeed","result","trim","aPropertiesLabels","propertyLabel","trimmedPropertyLabel","currentMeasure","measureObject","measureProperty","currentMeasureObject","currentMeasureDPPath","tempFractionalDigits","formatStr","finalMinValue","chartFmtStr","timeDimension","timeAxis","levels","layout","respectPlotPosition","style","fontFamily","fontSize","fontWeight","oVizPropertiesCopy","sTextColumn","oProprtyToTextMap","oVizData","oEntityTypeTitle","Title","resolvei18nKeyToChartTitle","setChartUoMTitle","vizData","chartAnno","measureList","results","sUnitType","bSetChartUoMTitle","feedMeasures","objData","chartUnitTitleTxt","labelForVizFrame","data","updatedLabelForVizFrame","sVizFrameTitle","getVizProperties","iIndexOfSeperator","sPreviousUoM","txt","measureStr","dimensionStr","num","scaledNum","currencyFormat","getCurrencyInstance","currencyCode","shortRefNumber","format","Number","numberFormat","getFloatInstance","getSelectedDataPoint","controller","attachSelectData","sNavMode","bCRTLPressed","constants","explace","inplace","dimensionArrayNames","finalDimensions","aCustomContext","dimensionsArr","getDimensions","contextNumber","getName","allData","getBinding","getCurrentContexts","x","getObject","getParameter","_context_row_number","getContexts","oNavigationField","getEntityNavigationEntries","getEntityType","getCardPropertiesModel","$isOthers","aOtherNavigationDimension","aFinalDimensions","NAME_KEY","NAME_CAP_KEY","donutIntent","payLoad","getOtherNavigationDimensions","checkAPINavigation","onContentClicked","vizSelection","clearSelection","doNavigation","match","oRb","this","getResourceBundle","constructor","Date","getDateTimeInstance","sFiscalDate","includes","reverse","getAllData","checkBubbleChart","endsWith","dimensionAttrCheck","measureAttrCheck","getEntitySet","reprioritizeContent","newCardLayout","cardPropObject","getMaxItems","itemsLength","updateBindingForAnalyticalCard","newAggrBinding","newBinding","finalMeasures","vizFrameParent","getParent","dataBinding","getPath","parameters","mParameters","select","custom","_requestFrom","aApplicationFilters","sorter","aSorters","template","bindAggregation","updateBindingContext","aColors","sort","oRule1","oRule2","oColor"],"sources":["VizAnnotationManager-dbg.js"],"mappings":";;;;;;AAMAA,IAAIC,GAAGC,OAAO,CACV,8CACA,+BACA,iCACA,kCACA,gCACA,kCACA,4BACA,kCACA,uCACA,qCACA,6CACA,sBACA,wBACA,uBACA,qBACA,sBACA,wBACA,0CACA,iCACA,0BACA,iCACA,6BACA,mEACC,4BACF,SACCC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,QAEA,aAEA,IAAIC,EAAuBL,EAAcM,YACzC,IAAIC,EAAiBP,EAAcQ,cAGnC,IAAIC,EAAwC,CACxCJ,EAAqBK,wBACrBL,EAAqBM,gBACrBN,EAAqBO,iBACrBP,EAAqBQ,cACrBR,EAAqBS,yBACrBT,EAAqBU,eACrBV,EAAqBW,sBACrBX,EAAqBY,kBAIzB,IAAIC,EAAsC,CAACb,EAAqBK,yBAChE,IAAIS,EAEJ,IAAIC,EAAU,IAAIvB,EAAU,mCAI5B,SAASwB,EACLC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,IAAIC,EAAM,IACV,IAAKP,IAAaA,EAASQ,WAAW,qBAAsB,CACxDV,EAAQW,MAAMxB,EAAeyB,yBAC7BH,GAAO,IACP,OAAOA,CACX,CACA,IAAII,EAAYX,EAASQ,WAAW,aACpC,IAAII,EACJ,GAAIN,GAAaA,EAAUO,WAAY,CACnCD,EAAeN,EAAUO,WAAWC,MAAM,KAC1C,GAAIF,GAAgBA,EAAa,KAAO,QAAS,CAC7CD,EAAUI,oBAAoBvD,EAAUwD,OAC5C,CACA,GAAIJ,GAAgBA,EAAa,IAAM,SAAWR,IAAgBa,UAAW,CACzE,OAAO,IACX,CACJ,CAEA,IAAIC,EAAiB,GACrB,IAAIC,EAAU,GACd,IAAIC,EAAmB,GACvB,IAAIC,EAAyB,GAC7B,IAAIC,EAAe,GACnB,IAAIC,EAAc,GAClB,IAAIC,EAAa,GACjB,IAAIC,EAAUvB,GAAqBA,EAAkBwB,WACrD,IAAIC,EAAUxB,GAAwBA,EAAqByB,UAC3D,IAAIC,EAAc1B,GAAwBA,EAAqB2B,SAC3DC,EAAW,KACf,IAAIC,EACJ,IAAIC,EACJ,IAAIC,EACJ,IAAIC,EAAY,KAChB,IAAIC,EAAUrD,EAAqBsD,SACnC,IAAIC,EAAYvD,EAAqBwD,YACrC,IAAIC,EAAUzD,EAAqB0D,SACnC,IAAIC,EAAyB3D,EAAqB4D,wBAClD,IAAIC,EAAkB7D,EAAqB8D,iBAC3C,IAAIC,EAAe,CAAC,EAEpB,GAAIjB,EAAa,CACbE,EAAWF,EAAYkB,MAAQlB,EAAYkB,MAAQlB,EAAYmB,GACnE,CAEA,GAAIjB,EAAU,CACV,GAAIA,IAAa,IAAK,CAClBjC,EAAQW,MAAM,0DAA4DsB,GAC1ExB,GAAO,IACP,OAAOA,CACX,CACA,IAAK,QAAQ0C,KAAKlB,GAAW,CACzBjC,EAAQW,MAAM,8EACdF,GAAO,IACP,OAAOA,CACX,CACJ,CAEA,IAAI2C,EAAoBlD,EAASQ,WAAW,qBACxC2C,EAAcD,EAAkBE,YAAY,eAC5CC,EAAaH,EAAkBE,YAAY,cAE/C3B,EAAUA,KAAa0B,EAEvB,GAAI1B,EAAS,CACT,IAAI6B,EAAO3E,EAAiB4E,8BACxB5C,EACAV,EACAC,EACAiD,GAEJ5C,GAAO,UAAY+C,EAAO,GAC9B,KAAO,CACH/C,GAAO,WAAaN,EAAWuD,KAAO,GAC1C,CAEA,IAAIC,EAAU,GAEdtB,EAAYnC,EAASQ,WAAW,qBAAqB4C,YAAY,cACjE,IAAKzC,IAAcwB,EAAW,CAC1B,OAAO5B,CACX,CACA,IAAImD,EAAYnG,EAAMoG,YAAYhD,EAAWwB,GAE7C,IAAIyB,EAAa5D,EAASQ,WAAW,qBAAqB4C,YAAY,eACtE,IAAIS,EAAU,EACVC,EACJ,IAAIC,EAAYxG,EAAMyG,YACtB,IAAIC,EACJ,IAAIC,GAEJ,GACI9D,GACAwD,GACAA,EAAWC,SACXD,EAAWC,QAAU,EACvB,CACEC,EAAgBF,EAAWC,QAAUA,EAErC,IAAK,IAAIM,MAAOJ,EAAW,CACvB,IAAKG,GAAYH,EAAUI,IAAKD,YAAcH,EAAUG,IAAY,CAChE,IAAIE,GAAe9F,EAAM,CAAC,EAAGyF,EAAUG,KACvCH,EAAUI,IAAOC,EACrB,CACA,GACID,KAAQvD,EAAa,IACpBmD,EAAUI,IAAKE,MAAQN,EAAUI,IAAKE,KAAKC,OAAS1D,EAAa,GAAG2D,cACvE,CACEN,EAASF,EAAUI,IACnB,KACJ,CACJ,CAEA,IAAIK,GAAyBjH,EAAMkH,iBAAiBrE,EAAa6D,EAAQtD,EAAWwB,GACpF,GAAIqC,GAAwB,CACxBP,EAASA,EAAOI,IACpB,KAAO,CACHJ,EAASA,EAAOS,OACpB,CAEA,IAAIC,GAAW3E,EAASQ,WAAW,qBAAqB4C,YAAY,aACpE,IAAKuB,GAAU,CACX,GAAIV,EAAOW,QAAUX,EAAOW,OAAOC,eAAe,cAAgBC,MAAMb,EAAOW,OAAOD,UAAW,CAC7FA,GAAWV,EAAOW,OAAOD,QAC7B,CACJ,CAEAA,GAAWI,SAASJ,GAAU,IAE9B,GAAIb,EAAgB,GAAKa,KAAaG,MAAMH,IAAW,CACnD5C,EAAWgD,SAAShD,EAAU,IAAM4C,GAAWb,CACnD,CACJ,CAIA,GAAI5D,EAAmB,CACnB,IAAIgD,EAAoBlD,EAASQ,WAAW,qBAC5CiD,EAAU7E,EAAaoG,WAAW9B,EAAmBhD,EACzD,CAEA,GAAIuD,EAAQwB,OAAS,EAAG,CACpBxB,EAAU7E,EAAasG,qBAAqBzB,EAASP,GACrD3C,GAAO,cAAgB4E,KAAKC,UAAU3B,EAC1C,CAEA,GAAI9B,EAAS,CACT,IAAI0D,GAA4BlF,EAAqByB,UACrD,IAAKyD,GAA0BJ,OAAQ,CACnCI,GAA4B9H,EAAM+H,4BAC9B3E,EACAR,EACAF,EAER,CACA,GAAIoF,GAA0BJ,OAAS,EAAG,CACtCnF,EAAQyF,QAAQtG,EAAeuG,aAAevG,EAAewG,kBACjE,KAAO,CACH,IAAIC,GAAe,GACnB,IAAIC,GACJ,IAAIC,GACJ,IAAIC,GACJ,IAAK,IAAIC,GAAI,EAAGA,GAAIT,GAA0BJ,OAAQa,KAAK,CACvDH,GAAaN,GAA0BS,IACvCD,GAAUF,GAAWI,SAASC,aAC9BxE,EAAWyE,KAAKJ,IAChB,UAAWF,GAAWO,aAAe,YAAa,CAC9CN,GAAa,MACjB,KAAO,CACH,IAAIO,GAAYR,GAAWO,WAAWE,MAAQT,GAAWO,WAAWG,QACpE,IAAKF,GAAW,CACZrG,EAAQyF,QAAQtG,EAAeuG,aAAevG,EAAeqH,eAC7DV,GAAa,MACjB,KAAO,CACHA,GAAaO,GAAU5B,gBAAkB,OAAS,OAAS,OAC/D,CACJ,CACAmB,GAAeA,GAAe,WAAaG,GAAU,iBAAmBD,GAAa,IACzF,CAEArF,GAAO,cAAgBmF,GAAaa,UAAU,EAAGb,GAAaT,OAAS,GAAK,GAChF,CACJ,CAEA,IAAIuB,GAAmBxG,EAASQ,WAAW,qBAAqB4C,YAAY,eAE5E/E,EAAKgC,EAAW,SAAUyF,EAAGW,GACzBzE,EAAMyE,EAAEC,QAAQV,aAChB,GAAIS,EAAEE,WAAaF,EAAEE,UAAUC,eAAgB,CAC3C,IAAIC,EAA0BL,GAAiBC,EAAEE,UAAUC,eAAeL,UAAU,IACpF,GACIM,EAAwBC,gBACvBD,EAAwBC,cAAcd,cACnCa,EAAwBC,cAAcC,MAC5C,CACE,IAAIC,EAAmBH,EAAwBC,cAAcd,cACzDa,EAAwBC,cAAcC,KAC1CzF,EAAa2E,KAAKe,GAClB,GAAItD,GAAaA,EAAUsD,GAAmB,CAC1C,IAAIC,EACJ,GAAIvD,EAAUsD,GAAkBtE,GAAyB,CAErDuE,EAAWvD,EAAUsD,GAAkBtE,GAAwBqE,KACzDrD,EAAUsD,GAAkBtE,GAAwBqE,KACpD9F,SACV,MAAO,GAAIyC,EAAUsD,GAAkBpE,GAAkB,CACrDqE,EAAWvD,EAAUsD,GAAkBpE,GAAiBmE,KAClDrD,EAAUsD,GAAkBpE,GAAiBmE,KAC7C9F,SACV,MAAO,GAAIyC,EAAUsD,GAAkBxE,GAAU,CAC7CyE,EAAWvD,EAAUsD,GAAkBxE,EAC3C,CACA,GAAIyE,EAAU,CACV,IAAK3F,EAAe4F,MAAMC,UAAUC,QAAQC,KAAK/F,EAAc2F,IAAa,MAAQ,EAAG,CACnF3F,EAAa2E,KAAKgB,EACtB,CACJ,CACJ,CACJ,CACA,GACIJ,EAAwBS,cACvBT,EAAwBS,YAAYtB,cAAgBa,EAAwBS,YAAYP,MAC3F,CACE,IAAIQ,EAAiBV,EAAwBS,YAAYtB,cACrDa,EAAwBS,YAAYP,KACxCzF,EAAa2E,KAAKsB,GAClB,GAAI7D,GAAaA,EAAU6D,GAAiB,CACxC,IAAIN,EACJ,GAAIvD,EAAU6D,GAAgB7E,GAAyB,CAEnDuE,EAAWvD,EAAU6D,GAAgB7E,GAAwBqE,KACvDrD,EAAU6D,GAAgB7E,GAAwBqE,KAClD9F,SACV,MAAO,GAAIyC,EAAU6D,GAAgB3E,GAAkB,CACnDqE,EAAWvD,EAAU6D,GAAgB3E,GAAiBmE,KAChDrD,EAAU6D,GAAgB3E,GAAiBmE,KAC3C9F,SACV,MAAO,GAAIyC,EAAU6D,GAAgB/E,GAAU,CAC3CyE,EAAWvD,EAAU6D,GAAgB/E,EACzC,CACA,GAAIyE,EAAU,CACV,IAAK3F,EAAe4F,MAAMC,UAAUC,QAAQC,KAAK/F,EAAc2F,IAAa,MAAQ,EAAG,CACnF3F,EAAa2E,KAAKgB,EACtB,CACJ,CACJ,CACJ,CACJ,CACA3F,EAAa2E,KAAKjE,GAClB,GAAI0B,GAAaA,EAAU1B,GAAM,CAC7B,GAAI0B,EAAU1B,GAAKM,GAAY,CAE3B,GAAIoB,EAAU1B,GAAKM,GAAWkF,QAAUxF,GAAO0B,EAAU1B,GAAKM,GAAWkF,OAAQ,CAC7ElG,EAAa2E,KAAKvC,EAAU1B,GAAKM,GAAWkF,OAAS9D,EAAU1B,GAAKM,GAAWkF,OAASxF,EAC5F,MAAO,GAAI0B,EAAU1B,GAAKM,GAAWyE,MAAQ/E,GAAO0B,EAAU1B,GAAKM,GAAWyE,KAAM,CAChFzF,EAAa2E,KAAKvC,EAAU1B,GAAKM,GAAWyE,KAAOrD,EAAU1B,GAAKM,GAAWyE,KAAO/E,EACxF,CACJ,MAAO,GAAI0B,EAAU1B,GAAKI,IAAYJ,GAAO0B,EAAU1B,GAAKI,GAAU,CAClEd,EAAa2E,KAAKvC,EAAU1B,GAAKI,GAAWsB,EAAU1B,GAAKI,GAAWJ,EAC1E,CACJ,CAEA,GAAI0B,GAAaA,EAAU1B,GAAM,CAC7B,IAAIiF,EACJ,GAAIvD,EAAU1B,GAAKU,GAAyB,CAExCuE,EAAWvD,EAAU1B,GAAKU,GAAwBqE,KAC5CrD,EAAU1B,GAAKU,GAAwBqE,KACvC9F,SACV,MAAO,GAAIyC,EAAU1B,GAAKY,GAAkB,CACxCqE,EAAWvD,EAAU1B,GAAKY,GAAiBmE,KACrCrD,EAAU1B,GAAKY,GAAiBmE,KAChC9F,SACV,MAAO,GAAIyC,EAAU1B,GAAKQ,GAAU,CAChCyE,EAAWvD,EAAU1B,GAAKQ,EAC9B,CACA,GAAIyE,EAAU,CACV,IAAK3F,EAAe4F,MAAMC,UAAUC,QAAQC,KAAK/F,EAAc2F,IAAa,MAAQ,EAAG,CACnF3F,EAAa2E,KAAKgB,EACtB,CACJ,CACJ,CACJ,GAEA5I,EAAK+B,EAAa,SAAU0F,EAAG2B,GAC3BzF,EAAMyF,EAAEC,UAAU1B,aAClB9E,EAAe+E,KAAKjE,GACpB,GAAI0B,GAAaA,EAAU1B,GAAM,CAC7B,GAAI0B,EAAU1B,GAAKM,GAAY,CAE3B,GAAIoB,EAAU1B,GAAKM,GAAWkF,QAAUxF,GAAO0B,EAAU1B,GAAKM,GAAWkF,OAAQ,CAC7EtG,EAAe+E,KAAKvC,EAAU1B,GAAKM,GAAWkF,OAAS9D,EAAU1B,GAAKM,GAAWkF,OAASxF,EAC9F,MAAO,GAAI0B,EAAU1B,GAAKM,GAAWyE,MAAQ/E,GAAO0B,EAAU1B,GAAKM,GAAWyE,KAAM,CAChF7E,EAAWwB,EAAU1B,GAAKM,GAAWyE,KACrC,IAAIY,EAASzF,EAASpB,MAAM,KAC5B,GAAI6G,EAAO1C,OAAS,EAAG,CACnBhD,EAAU2F,EAAoBvE,EAAYmD,GAAkBtE,GAC5D,GAAID,IAAY,GAAI,CAChBf,EAAe+E,KAAK/D,GACpBf,EAAQ8E,KAAKhE,GACbZ,EAAyBwG,EAAmBxE,EAAYmD,GAAkBtE,GAC1E,GAAIb,EAAuB4D,OAAS,EAAG,CACnC7D,EAAmBA,EAAiB0G,OAAOzG,EAC/C,CACJ,CACJ,KAAO,CACHH,EAAe+E,KAAK/D,EAAWA,EAAWF,EAC9C,CACJ,CACJ,MAAO,GAAI0B,EAAU1B,GAAKI,IAAYJ,GAAO0B,EAAU1B,GAAKI,GAAU,CAClElB,EAAe+E,KAAKvC,EAAU1B,GAAKI,GAAWsB,EAAU1B,GAAKI,GAAWJ,EAC5E,CACJ,CACJ,GACA,GAAIZ,EAAiB6D,OAAS,EAAG,CAC7B,IAAI8C,GAAI,EACR,MAAOA,GAAI3G,EAAiB6D,OAAQ,CAChC,GAAI/D,EAAekG,QAAQhG,EAAiB2G,QAAS,EAAG,CACpD3G,EAAiB4G,OAAOD,GAAG,EAC/B,KAAO,CACHA,IACJ,CACJ,CACJ,CAIA,GAAIzG,EAAa2D,OAAS,EAAG,CACzB5G,EAAKiD,EAAc,SAAUwE,EAAGW,GAC5B3D,EAAa2D,GAAK,IACtB,EACJ,CACA,GAAIvF,EAAe+D,OAAS,EAAG,CAC3B5G,EAAK6C,EAAgB,SAAU4E,EAAG2B,GAC9B3E,EAAa2E,GAAK,IACtB,EACJ,CAEAlH,GAAO,0BAA4B,GAAGuH,OAAO5G,EAAgBI,GAAc2G,KAAK,KAGhF,IAAIC,GAAc7E,EAAW8E,mBAAmBlI,EAAWmI,YAC3D,GAAIF,GAAa,CACb,IAAIG,GAAgB5K,EAAqB6K,iBAAiBnI,GAC1D,GAAIkI,IAAiBA,GAAcpD,OAAS,EAAG,CAC3C5G,EAAKgK,GAAe,SAAUvC,EAAGyC,GAE7B,IAAKzF,EAAa+B,eAAe0D,GAAI,CACjCzF,EAAayF,GAAK,KAClBhH,EAAY0E,KAAKsC,EACrB,CACJ,GACA,GAAIhH,EAAY0D,OAAS,EAAG,CACxB1E,GAAO,IAAMgB,EAAY0G,KAAK,IAClC,CACJ,CACJ,CAEA,GAAIzG,EAAWyD,OAAS,EAAG,CACvB,IAAIuD,GAAc,GAClBnK,EAAKmD,EAAY,SAAUsE,EAAG2C,GAE1B,IAAK3F,EAAa+B,eAAe4D,GAAI,CAEjCD,GAAYvC,KAAKwC,EACrB,CACJ,GACA,GAAID,GAAYvD,OAAS,EAAG,CACxB1E,GAAO,IAAMiI,GAAYP,KAAK,IAClC,CACJ,CACA,GAAI9G,EAAQ8D,OAAS,EAAG,CACpB1E,GAAO,IAAM,IAAM,YAAcY,EAAQ8G,KAAK,IAClD,CAEA,IAAIS,GAAyBjL,EAAqBkL,sBAC9C3I,EAASQ,WAAW,sBAExB,GAAIkI,GAAwB,CACxBnI,GAAO,wBAA0BP,EAASQ,WAAW,qBAAqB4C,YAAY,WAAa,mCACvG,KAAO,CAEH7C,GAAO,4CACX,CAEA,GAAIK,GAAgBA,EAAa,KAAO,SAAWR,IAAgBa,UAAW,CAC1EV,GAAO,aACX,MAAO,GAAIK,GAAgBA,EAAa,KAAO,SAAWR,GAAe2B,EAAU,CAC/ExB,GAAO,cAAgBwE,SAAShD,EAAU,IAAM,EACpD,MAAO,GAAIA,EAAU,CACjBxB,GAAO,aAAewB,CAC1B,CACAxB,GAAO,IACP,OAAOA,CACX,CAEAR,EAAY6I,iBAAmB,KAE/B,SAAShB,EAAoBvE,EAAY6E,EAAaW,GAClD,IAAI5G,EAAU,GACd,IAAI0F,EAASkB,EAAU/H,MAAM,KAE7B,GAAI6G,EAAO1C,OAAS,EAAG,CACnB,IAAK,IAAIa,EAAI,EAAGA,EAAI6B,EAAO1C,OAAS,EAAGa,IAAK,CACxC,IAAIgD,EAAkBzF,EAAW0F,uBAAuBb,EAAaP,EAAO7B,IAC5E,GAAIgD,EAAiB,CACjBZ,EAAc7E,EAAW8E,mBAAmBW,EAAgBxE,MAC5D,GAAIrC,EAAS,CACTA,EAAUA,EAAU,GACxB,CACAA,EAAUA,EAAU0F,EAAO7B,EAC/B,KAAO,CACH,OAAO7D,CACX,CACJ,CACJ,CACA,OAAOA,CACX,CAEA,SAAS4F,EAAmBxE,EAAY6E,EAAaW,GACjD,IAAIzH,EAAmB,GACvB,IAAI4H,EAAc,GAClB,IAAIC,EACJ,IAAItB,EAASkB,EAAU/H,MAAM,KAC7B,GAAI6G,EAAO1C,OAAS,EAAG,CACnB,IAAK,IAAIa,EAAI,EAAGA,EAAI6B,EAAO1C,OAAS,EAAGa,IAAK,CACxC,IAAIgD,EAAkBzF,EAAW0F,uBAAuBb,EAAaP,EAAO7B,IAC5E,GAAIgD,EAAiB,CACjBZ,EAAc7E,EAAW8E,mBAAmBW,EAAgBxE,MAC5D,GAAI4D,EAAa,CACbc,EAAcd,GAAeA,EAAY/D,KAAO+D,EAAY/D,IAAI+E,YAChE,IAAK,IAAIC,EAAI,EAAGA,EAAIH,EAAY/D,OAAQkE,IAAK,CACzCF,EAAYtB,EAAO7B,GAAK,IAAMkD,EAAYG,GAAG3F,KAC7CpC,EAAiB6E,KAAKgD,EAC1B,CACJ,CACJ,CACJ,CACJ,CACA,OAAO7H,CACX,CAEA,SAASgI,EAAqBC,EAAU7C,GACpC,IAAI8C,EAAW,MACf,IAAIC,EACJ,GAAIF,EAAS1C,WAAa0C,EAAS1C,UAAUC,eAAgB,CACzD,IAAI4C,EAAahD,EAAiB6C,EAAS1C,UAAUC,eAAeL,UAAU,IAC9E,GACIiD,GACAA,EAAW1C,gBACV0C,EAAW1C,cAAcd,cAAgBwD,EAAW1C,cAAcC,MACrE,CACEuC,EAAW,KACXC,EAAcF,CAClB,CACJ,CAEA,GAAIC,IAAa,KAAM,CACnB,OAAOC,CACX,KAAO,CACHzJ,EAAQyF,QAAQtG,EAAeuG,aAAevG,EAAewK,kBAC7D,OAAOxI,SACX,CACJ,CAEA,SAASyI,EAAmBL,EAAU7C,GAClC,IAAI8C,EAAW,MACf,IAAIC,EACJ,GAAIF,EAAS1C,WAAa0C,EAAS1C,UAAUC,eAAgB,CACzD,IAAI4C,EAAahD,EAAiB6C,EAAS1C,UAAUC,eAAeL,UAAU,IAC9E,GACIiD,GACAA,EAAWlC,cACVkC,EAAWlC,YAAYtB,cAAgBwD,EAAWlC,YAAYP,MACjE,CACEuC,EAAW,KACXC,EAAcF,CAClB,CACJ,CAEA,GAAIC,IAAa,KAAM,CACnB,OAAOC,CACX,KAAO,CACHzJ,EAAQyF,QAAQtG,EAAeuG,aAAevG,EAAe0K,gBAC7D,OAAO1I,SACX,CACJ,CAEA,SAAS2I,EAAYP,EAAU3F,GAC3B,IAAImG,EACJxL,EAAKqF,EAAW,SAAUoC,EAAGgE,GACzB,GAAIA,EAAEtG,OAAS6F,EAAU,CACrB,GAAIS,EAAE,wCAAyC,CAE3CD,EAAQC,EAAE,wCAAwCtC,OAC5CsC,EAAE,wCAAwCtC,OAC1CsC,EAAE,wCAAwC/C,IACpD,MAAO,GAAI+C,EAAE,aAAc,CACvBD,EAAQC,EAAE,YACd,CACA,OAAO,KACX,CACJ,GACA,OAAOD,CACX,CAEA,SAASE,EAAmBC,EAAO1J,GAC/B,IAAI2J,EAAW,KACf,GAAI3J,IAAc,QAAUA,IAAc,UAAYA,IAAc,MAAO,CACvEjC,EAAK2L,EAAO,SAAUlE,EAAGgE,GACrB,GAAIA,EAAEI,WAAa,aAAeJ,EAAEI,WAAa,eAAgB,CAC7D,GAAIJ,EAAEK,YAAYlF,QAAU,EAAG,CAC3BgF,EAAW,MACXnK,EAAQyF,QAAQtG,EAAeuG,aAAevG,EAAemL,iBAC7D,OAAO,KACX,CACJ,CACJ,EACJ,MAAO,GAAI9J,IAAc,kBAAmB,CACxCjC,EAAK2L,EAAO,SAAUlE,EAAGgE,GACrB,GAAIA,EAAEI,WAAa,gBAAkBJ,EAAEI,WAAa,eAAgB,CAChE,GAAIJ,EAAEK,YAAYlF,QAAU,EAAG,CAC3BgF,EAAW,MACXnK,EAAQyF,QAAQtG,EAAeuG,aAAevG,EAAemL,iBAC7D,OAAO,KACX,CACJ,CACJ,EACJ,CAEA,GAAIH,IAAa,KAAM,CACnB,OAAO,IACX,CACJ,CAEA,SAASI,EAAiBC,EAAUC,GAChC,IAAI5J,EAAY2J,EAASE,WACzB,IAAIlG,EAAOgG,EAASG,aACpB,GAAInG,GAAQ,QAAUA,GAAQ,SAAU,CACpC,MACJ,CACA,IAAKiG,EAAU,CACXA,EAAWjG,IAAS,OAAS,eAAiB,WAClD,CACA,IAAInC,EAAYmI,EAASE,SAAS,qBAAqBpH,YAAY,cACnE,IAAKzC,IAAcwB,EAAW,CAC1B,MACJ,CACA,IAAIuB,EAAYnG,EAAMoG,YAAYhD,EAAWwB,GAC7C,IAAI6H,EAAQM,EAASI,WACrB,IAAK,IAAI5E,EAAI,EAAGA,EAAIkE,EAAM/E,OAAQa,IAAK,CACnC,GAAIkE,EAAMlE,GAAGoE,WAAaK,EAAU,CAChC,IAAII,EAAaX,EAAMlE,GAAGqE,YAC1B,IAAKQ,EAAY,CACb,MACJ,CACA,IAAK,IAAIxB,EAAI,EAAGA,EAAIwB,EAAW1F,OAAQkE,IAAK,CACxC,IAAIyB,EAAgBlH,EAAUiH,EAAWxB,IACzC,GAAIyB,GAAiBA,EAAc7L,EAAqB8L,WAAa,eAAgB,CACjF,MACJ,CACJ,CACA,IAAIC,EAAiB,CACjBC,aAAc,CACVC,MAAO,CACHC,QAAS,QAGjBC,OAAQ,CAAEC,WAAY,OAE1Bb,EAASc,iBAAiBN,GAC1B,IAAIO,EAAcf,GAAYA,EAASE,SAAS,qBAChD,GAAIa,GAAeA,EAAYjI,YAAY,oBAAqB,CAC5D,IAAIkI,EAAOhB,GAAYA,EAASiB,QAChC/M,EAAqBgN,kBAAkBF,EAAMR,EACjD,CACA,MACJ,CACJ,CACJ,CASA,SAASW,EAAYC,EAAQC,EAAerB,GAkB5C,CAOA,SAASsB,EAAa5L,EAAU6L,EAAYC,GACxC,IAAIC,EAAWtO,EAAqBuO,iBAAiBhM,GACrD,IAAIO,EAAM,GACV,IAAI0D,EAAS1G,EAAMyG,UAAU6H,EAAYE,GACzC,IAAIpL,EAAWwB,EACf,IAAK8B,EAAQ,CACT,OAAO1D,CACX,CACAA,EAAM0D,EAAOS,QAAQJ,KACrB3D,EAAYX,EAASQ,WAAW,aAChC2B,EAAYnC,EAASQ,WAAW,qBAAqB4C,YAAY,cACjE,GAAI7F,EAAMkH,iBAAiBqH,EAAa7H,EAAQtD,EAAWwB,EAAW4J,GAAW,CAC7ExL,EAAM0D,EAAOI,KAAKC,IACtB,CACA,OAAO/D,CACX,CAEAqL,EAAahD,iBAAmB,KAEhC,SAASzC,EAAU8F,EAAWzF,GAC1B,IAAI0F,EAAU,CACVjC,SAAU,OAGd5L,EAAK4N,EAAW,SAAUnG,EAAGgE,GACzB,GAAIA,EAAEnD,WAAamD,EAAEnD,UAAUC,eAAgB,CAC3C,IAAI4C,EAAahD,EAAiBsD,EAAEnD,UAAUC,eAAeL,UAAU,IACvE1H,EAA2BsN,4BAA4B3C,EAAY0C,EACvE,CACJ,GACA,GAAIA,EAAQjC,WAAa,MAAQgC,EAAUhH,OAAS,EAAG,CACnDnF,EAAQyF,QAAQtG,EAAeuG,aAAevG,EAAemN,0BACjE,CACA,OAAOF,EAAQjC,QACnB,CAEA,SAASoC,EAAqBC,EAAUpE,EAAaxE,EAAW6I,GAC5D,IAAIC,EAAe3N,EAA2B4N,eAAeH,EAAU5I,EAAW6I,GAClF,IAAIG,EAA2BJ,EAAS3F,UAAUC,eAClD,IAAI+F,EAAazE,EAAYwE,EAAyBnG,UAAU,IAChE,OAAO1H,EAA2B+N,mBAAmBD,EAAY,KAAMH,EAAcD,EACzF,CAEA,SAASM,EAAoBnJ,EAAWoJ,EAAKC,GACzC,GAAIrJ,EAAUoJ,EAAIC,GAAU/G,cAAcjH,EAAqBiO,YAAcjO,EAAqBkO,UAAW,CACzG,OAAO,IACX,CACA,OAAO,KACX,CAEA,SAASC,EAAoBxJ,EAAWoJ,EAAKC,GACzC,GAAIrJ,EAAUoJ,EAAIC,GAAU/G,cAAcjH,EAAqBiO,YAAcjO,EAAqBoO,UAAW,CACzG,OAAO,IACX,CACA,OAAO,KACX,CAUA,SAASC,EAAuBC,EAAOpJ,EAAQK,GAE3C,IAAK+I,EAAMpI,OAAQ,CACf,MACJ,CACA,IAAI8H,EAAWzI,IAAS,YAAc,YAAc,UACpD,IAAIgJ,EAAc,GAClBjP,EAAKgP,EAAO,SAAUvH,EAAGgH,GACrB,IAAKA,IAAQA,EAAIC,KAAcD,EAAIC,GAAU/G,aAAc,CACvDlG,EAAQW,MAAMxB,EAAesO,oBAC7B,OAAO,KACX,CACAD,EAAYrH,KAAK6G,EAAIC,GAAU/G,aACnC,GACA,IAAIwH,EAAe1O,OAAO2O,IAAIxJ,EAAO+F,MAAO,SAAU0D,GAClD,GAAIA,EAAEpJ,OAASA,EAAM,CACjB,GAAIoJ,EAAEC,KAAM,CACR,OAAOD,EAAEC,KAAK7M,MAAM,IACxB,CACA,MAAO,EACX,CACJ,GACA0M,EAAe1O,OACV8O,KAAKJ,EAAc,SAAUG,EAAM7H,GAChC,OAAQ0H,EAAetG,MAAMC,UAAUC,QAAQC,KAAKmG,EAAcG,IAAS,KAAO7H,CACtF,GACCmC,KAAK,MAEVnI,EAAQW,MACJxB,EAAe4O,WACf5O,EAAe6O,kBACfxJ,EACA,OACAgJ,EAAYrF,KAAK,MACjB,KACAhJ,EAAe8O,cACf9J,EAAOK,KACPrF,EAAe+O,SACfR,EAER,CAMA,SAASS,EAAmB1B,EAAW2B,EAASC,GAC5C,IAAI9C,EAAa7E,EAAkB4H,EAAsBC,EAAcC,EACvE,IAAIhO,EACAyD,EACAE,EACA6H,EACAG,EACAsC,EAA2B,MAC/B,IAAIzD,EACJ,IAAI0D,EAAmBC,EAAmBC,EAC1C,IAAIC,EACAC,EAAyB,GACzBC,EAAuB,GAC3B,IAAIC,EAAyB,GAC7B,IAAItK,GACJ,IAAIN,GACJ,IAAI6K,GAAQZ,GAAeA,EAAYa,UACvC,IAAIC,GAAWC,GACf,IAAIC,GAAUJ,IAASA,GAAMvE,SAAS,MACtC,IAAI4E,GAAiBD,IAAWA,GAAQ/L,YAAY,kBAEpDiI,EAAckB,EAAU/B,SAAS,qBACjC,GAAI1M,EAAkBuR,iBAAiBlB,GAAc,CACjDI,EAA2BlD,GAAeA,EAAYiE,WAAajE,EAAYiE,UAAUC,aAC7F,CACAjB,EAAiBc,GAAiBA,GAAeG,cAAgBhB,EAEjEjO,EAAYiM,EAAU9B,aACtB1G,EAAYxG,EAAMyG,YAElB,IAAK,IAAIG,MAAOJ,EAAW,CACvB,IAAKG,GAAYH,EAAUI,IAAKD,YAAcH,EAAUG,IAAY,CAChE,IAAIE,GAAe9F,EAAM,CAAC,EAAGyF,EAAUG,KACvCH,EAAUI,IAAOC,EACrB,CACA,GACIL,EAAUI,IAAKO,QAAQJ,OAAShE,GAC/ByD,EAAUI,IAAKE,MAAQN,EAAUI,IAAKE,KAAKC,OAAShE,EACvD,CACE2D,EAASF,EAAUI,IACnB,KACJ,CACJ,CAEA,IAAKF,EAAQ,CACTnE,EAAQW,MACJxB,EAAe4O,WACf,MACA5O,EAAeuQ,YACfvQ,EAAewQ,kBACfnP,EACA,IACArB,EAAeyQ,kBAEnB,MACJ,CAEA,IAAKrE,EAAa,CACdvL,EAAQW,MACJxB,EAAe4O,WAAa,MAAQ5O,EAAeuQ,YAAcvQ,EAAe0Q,eAEpF,MACJ,CACA,IAAIhP,GAAY4L,EAAU/B,WAC1B,IAAIrI,GAAYkJ,EAAYjI,YAAY,cACxC,IAAKzC,KAAcwB,GAAW,CAC1B,MACJ,CACAqE,EAAmB6E,EAAYjI,YAAY,eAC3C,IAAKoD,EAAkB,CACnB1G,EAAQW,MAAMxB,EAAe2Q,gBAAkB,MAAQ3Q,EAAe4Q,WACtE,MACJ,CACA,IAAInM,GAAYnG,EAAMoG,YAAYhD,GAAWwB,IAC7CiM,EAAuB/C,EAAYjI,YAAY,wBAC/C,IAAKgL,KAA0BC,EAAe7H,EAAiB4H,IAAwB,CACnFtO,EAAQW,MAAMxB,EAAe2Q,gBAAkB,MAAQ3Q,EAAe4Q,WACtE,MACJ,CACA,IAAIC,GAAcC,EAAcvJ,EAAkB4H,EAAsB7B,GAExE,KAAMT,EAAcuC,EAAa2B,uBAAyBlE,EAAY7G,OAAQ,CAC1EnF,EAAQW,MACJxB,EAAegR,iBACf,MACAhR,EAAeiR,WACf,IACAjR,EAAekR,sBAEnB,MACJ,CAEA,IAAIC,GACJ,KAAMnE,EAAYoC,EAAagC,qBAAuBpE,EAAUhH,OAAQ,CACpEnF,EAAQW,MACJxB,EAAegR,iBACf,MACAhR,EAAeiR,WACf,IACAjR,EAAeqR,oBAEnB,MACJ,KAAO,CACH,IAAIzJ,GAA0BoF,EAAU,GAAGtF,UACrCH,EAAiByF,EAAU,GAAGtF,UAAUC,eAAeL,UAAU,IACjE,KACN,IAAIgK,GACA1J,IACAA,GAAwB2J,aACxB3J,GAAwB2J,YAAYC,0BACpC5J,GAAwB2J,YAAYC,yBAAyBzN,IACjEoN,GAA4BG,GAA6BA,GAA6B,CAC1F,CACA/L,GAAyBjH,EAAMkH,iBAAiBqH,EAAa7H,EAAQtD,GAAWwB,IAChF,GAAIqC,GAAwB,CACxBP,EAASA,EAAOI,IACpB,KAAO,CACHJ,EAASA,EAAOS,OACpB,CAEA,IAAIgM,GAAarF,EAAYjI,YAAY,qBAAuBiI,EAAYjI,YAAY,oBACxF,GAAIiI,GAAeA,EAAYjI,YAAY,UAAYsN,KAAezP,UAAW,CAC7EgO,GAAYF,GAAM4B,KAAK,qBACvBzB,GAAcnK,SAASkK,GAAU2B,iBAAkB,IACnDF,GACIrF,EAAYjI,YAAY,UACxBiI,EAAYjI,YAAY,SAAS8L,GAAc,KAC9C7D,EAAYjI,YAAY,SAAS8L,GAAc,GAAG,oBAC/C7D,EAAYjI,YAAY,SAAS8L,GAAc,GAAG,mBAC9D,CAEA,IAAI2B,GAAU,MACd,IAAIC,GACAV,GAA4B,EACtB,2BAA6BA,GAA0BW,WAAa,IACpE,8BACV,IAAIC,GAAW,IAAIpT,EAAW,CAAEqT,aAAcH,KAC9CE,GAASE,QAAQ3E,EAAU4E,aAC3BH,GAASE,QAAQ3E,EAAU4E,aAC3B5E,EAAU6E,qBAAuBJ,GAEjC,IAAIK,GAAW,GACf,IAAIC,GAA6B1R,EAAoCwH,QAAQiH,EAAakD,UAAU1Q,aAAe,EACnH,GAAIyQ,IAA8B/E,GAAaA,EAAU/B,SAAS,mBAAoB,CAClF6G,GAAW9E,EAAU/B,SAAS,mBAAmB8E,WAAa,EAClE,CAKA,CAACrL,EAAOuN,WAAYvN,EAAOwN,UAAUC,QAAQ,SAAUC,EAAO7L,GAC1D,IAAI8L,EAAY9L,EAAImG,EAAYH,EAChC,IAAI+F,EAAU/L,EAAI,aAAe,eACjC,GAAI6L,EAAMG,KAAOF,EAAU3M,OAAS0M,EAAMG,IAAK,CAC3ChS,EAAQW,MAAMxB,EAAe4O,WAAa,MAAQvN,EAAY,IAAMrB,EAAe8S,WAAaJ,EAAMG,IAAM,IAAMD,GAClHhB,GAAU,IACd,CACA,GAAIc,EAAMK,KAAOJ,EAAU3M,OAAS0M,EAAMK,IAAK,CAC3ClS,EAAQW,MAAMxB,EAAe4O,WAAa,MAAQvN,EAAYrB,EAAegT,UAAYN,EAAMK,IAAM,IAAMH,GAC3GhB,GAAU,IACd,CACJ,GAEA,GAAIA,GAAS,CACT,MACJ,CAGA,IAAIqB,GAAiB,KAErB,GAAIjO,EAAOkO,YAAclO,EAAOkO,WAAWtN,eAAe,eAAiBZ,EAAOkO,WAAW,aAAc,CACvGD,GAAiB,KACrB,CACA,GAAIjO,EAAOK,OACNL,EAAOK,OAAS,qBAAuBL,EAAOK,OAAS,6BAA8B,CACtFzF,EAA2BuT,uBAAuBnO,EAAQoH,EAC9D,CAEA,IAAIgH,GAAuB,KAO3B,IAAIC,GAAc,MAClB,GAAIhS,IAAc,QAAS,CACvBgS,GAAc,IAClB,CACA/F,EAAUgG,uBAIVzH,EAAiB,CACbI,OAAQ,CACJsH,aAAc,MACdrH,WAAY,MAEhBH,MAAO,CACHC,QAAS,MAEbwH,YAAa,CACTC,mBAAoBL,GAAuB,MAAQ,KACnDM,cAAe,CACXC,gBAAiBN,GAAc,KAAO,MACtCO,mBAAoB,MACpBC,KAAM,YACNC,mBAAoB,MACpBC,iBAAkB,MAEtBC,KAAM,CACFC,WAAY,aAGpBC,SAAU,CACNC,OAAQ,CACJC,MAAO,iBACPC,IAAK,iBAETC,UAAW,CACPtI,QAASqD,GAAkBgE,GAAc,KAAO,MAChDhO,KAAM,SAEVkP,UAAW,CACPC,WAAY,UAEhBC,UAAW,CACPC,SAAU,QAGlB5I,aAAc,CACV6I,MAAO,CACHC,oBAAqB,MAG7BC,QAAS,CACLC,UAAW,MACXC,UAAW,OAInB,GACI/P,EAAOkO,YACPlO,EAAOkO,WAAW8B,gBAAkB,MACpC9N,EAAU8F,EAAWzF,GACvB,CAEE,IAAI0N,GAAa/V,EAAagW,QAAQ,QACtC,IAAIC,GAAYjW,EAAagW,QAAQ,OACrC,IAAIE,GAAiBlW,EAAagW,QAAQ,YAC1C,IAAIG,GAAenW,EAAagW,QAAQ,UACxC,GAAIlI,EAAUhH,SAAW,EAAG,CACxB,IAAIsP,GAAUlI,EAAqBJ,EAAU,GAAIzF,EAAkB9C,GAAW6I,GAC9E,IAAI2H,GAAaK,GAAQ,IAAML,GAC3BE,GAAYG,GAAQ,IAAMH,GAC1BC,GAAiBE,GAAQ,IAAMF,GAC/BC,GAAenW,EAAagW,QAAQ,SAC5C,CACArJ,EAAeqI,SAASqB,eAAiB,CACrCC,MAAO,CACH,CACIC,SAAU,SAAUC,GAChB,IAAIC,EAA0BrX,EAAMsX,YAAYF,EAAUjR,GAAWuI,GACrE,IAAK2I,EAAyB,CAC1B,OAAO,KACX,CACA,IAAIE,EAAetO,EAAiBoO,EAAwBrO,UAAU,IACtE,IAAIwO,EAASlW,EAA2BmW,0CAA0CL,EAAUG,EAAcvI,GAC1G,GAAIwI,IAAWrW,EAAcuW,YAAYC,YAAYC,SAAU,CAC3D,OAAO,IACX,MAAO,GAAIJ,IAAW,WAAY,CAC9B,OAAO,IACX,CACJ,EACA5C,WAAY,CACRiD,MAAO,uCAEXC,YAAanB,IAEjB,CACIQ,SAAU,SAAUC,GAChB,IAAIC,EAA0BrX,EAAMsX,YAAYF,EAAUjR,GAAWuI,GACrE,IAAK2I,EAAyB,CAC1B,OAAO,KACX,CACA,IAAIE,EAAetO,EAAiBoO,EAAwBrO,UAAU,IACtE,IAAIwO,EAASlW,EAA2BmW,0CAA0CL,EAAUG,EAAcvI,GAC1G,GAAIwI,IAAWrW,EAAcuW,YAAYC,YAAYI,SAAU,CAC3D,OAAO,IACX,MAAO,GAAIP,IAAW,WAAY,CAC9B,OAAO,IACX,CACJ,EACA5C,WAAY,CACRiD,MAAO,2CAEXC,YAAahB,IAEjB,CACIK,SAAU,SAAUC,GAChB,IAAIC,EAA0BrX,EAAMsX,YAAYF,EAAUjR,GAAWuI,GACrE,IAAK2I,EAAyB,CAC1B,OAAO,KACX,CACA,IAAIE,EAAetO,EAAiBoO,EAAwBrO,UAAU,IACtE,IAAIwO,EAASlW,EAA2BmW,0CAA0CL,EAAUG,EAAcvI,GAC1G,GAAIwI,IAAWrW,EAAcuW,YAAYC,YAAYK,SAAU,CAC3D,OAAO,IACX,MAAO,GAAIR,IAAW,WAAY,CAC9B,OAAO,IACX,CACJ,EACA5C,WAAY,CACRiD,MAAO,sCAEXC,YAAajB,IAEjB,CACIM,SAAU,SAAUC,GAChB,IAAIC,EAA0BrX,EAAMsX,YAAYF,EAAUjR,GAAWuI,GACrE,IAAK2I,EAAyB,CAC1B,OAAO,KACX,CACA,IAAIE,EAAetO,EAAiBoO,EAAwBrO,UAAU,IACtE,IAAIwO,EAASlW,EAA2BmW,0CAA0CL,EAAUG,EAAcvI,GAC1G,GAAIwI,IAAWrW,EAAcuW,YAAYC,YAAYM,KAAM,CACvD,OAAO,IACX,MAAO,GAAIT,IAAW,UAAW,CAC7B,OAAO,IACX,CACJ,EACA5C,WAAY,CACRiD,MAAO,0CAEXC,YAAaf,KAI7B,CAEA,IAAImB,GAAsBpK,EAAYjI,YAAY,wBAClD,IAAIsS,GAAgBrK,EAAYjI,YAAY,iBAC5C,IAAIuS,GAGJ,IACKF,IACDtW,EAAsCiI,QAAQiH,EAAakD,UAAU1Q,aAAe,GACpF6U,IACAE,OAAOC,KAAKH,IAAezQ,QAAU,GACrC2Q,OAAOC,KAAKH,IAAezQ,QAAU,EACvC,CACE5G,EAAKyN,EAAa,SAAUhG,EAAGgQ,GAC3B,GACIA,GACAA,EAAWC,MACXD,EAAWC,KAAKlV,aAAe,2DACjC,CACE8U,GAAwBG,EAAWpO,WAAaoO,EAAWpO,UAAU1B,aACrE,MACJ,CACJ,GACA,IAAIuE,GACJ,GAAIoL,GAAuB,CACvB,GAAIjS,IAAaA,GAAUiS,IAAwB,CAC/C,GAAIjS,GAAUiS,IAAuB5W,EAAqBiX,cAAe,CAErEzL,GAAW1L,EAA2BoX,2BAClCvS,GAAUiS,IAAuB5W,EAAqBiX,cAAcxO,OAC9D9D,GAAUiS,IAAuB5W,EAAqBiX,cAAcxO,OACpE9D,GAAUiS,IAAuB5W,EAAqBiX,cAAcjP,KAC1EwF,EACA7I,GAER,MAAO,GAAIA,GAAUiS,IAAuB5W,EAAqBmX,WAAY,CACzE3L,GAAW7G,GAAUiS,IAAuB5W,EAAqBmX,UACrE,MAAO,GAAIP,GAAuB,CAC9BpL,GAAWoL,EACf,CACJ,CASA,GAAID,cAAyBxO,MAAO,CAChC,IAAIiP,GAAeT,GAAcjI,IAAI,SAAU5D,GAC3C,OAAOA,EAAMuL,KACjB,GACA,IAAIgB,GAAeV,GAAcjI,IAAI,SAAU5D,GAC3C,OAAOA,EAAMwM,UACjB,GAEA,IAAIC,GAAqBF,GAAa,IAAMnV,UAAYmV,GAAa,GAAKjY,EAAagW,QAAQ,UAC/F,IAAIoC,GAAkBH,GAAa,IAAMnV,UAAYmV,GAAa,GAAKjY,EAAagW,QAAQ,OAC5F,IAAIqC,GAAuBJ,GAAa,IAAMnV,UAAYmV,GAAa,GAAKjY,EAAagW,QAAQ,YACjG,IAAIsC,GAAmBL,GAAa,IAAMnV,UAAYmV,GAAa,GAAKjY,EAAagW,QAAQ,OACjG,CAEArJ,EAAeqI,SAASqB,eAAiB,CACrCC,MAAO,CACH,CACIC,SAAU,SAAUC,GAChB,GAAIA,IAAaA,EAASpK,MAAc,KAAOoK,EAASpK,MAAc,GAAI,CAItE,GAAImL,cAAyBxO,MAAO,CAEhC,GAAIwO,GAAczQ,OAAS,EAAG,CAC1B,OAAO,KACX,CACJ,MAAO,GAAIyQ,KAAkBA,GAAc7Q,eAAe,GAAI,CAE1D,OAAO,KACX,CACA,OAAO,IACX,CACJ,EACAsN,WAAY,CACRiD,MACIM,cAAyBxO,OAASiP,GAAalR,OACzCkR,GAAa,GACbT,GAAc,IAAMA,GAAc,GAAG,UAEnDL,YAAaoB,IAAqBf,GAAc,IAAMA,GAAc,GAAG,eAE3E,CACIhB,SAAU,SAAUC,GAChB,GAAIA,IAAaA,EAASpK,MAAc,KAAOoK,EAASpK,MAAc,GAAI,CAItE,GAAImL,cAAyBxO,MAAO,CAEhC,GAAIwO,GAAczQ,OAAS,EAAG,CAC1B,OAAO,KACX,CACJ,MAAO,GAAIyQ,KAAkBA,GAAc7Q,eAAe,GAAI,CAE1D,OAAO,KACX,CACA,OAAO,IACX,CACJ,EACAsN,WAAY,CACRiD,MACIM,cAAyBxO,OAASiP,GAAalR,OACzCkR,GAAa,GACbT,GAAc,IAAMA,GAAc,GAAG,UAEnDL,YACImB,IAAyBd,GAAc,IAAMA,GAAc,GAAG,eAEtE,CACIhB,SAAU,SAAUC,GAChB,GAAIA,IAAaA,EAASpK,MAAc,KAAOoK,EAASpK,MAAc,GAAI,CACtE,OAAO,IACX,CACJ,EACA4H,WAAY,CACRiD,MACIM,cAAyBxO,OAASiP,GAAalR,OACzCkR,GAAa,GACbT,GAAc,IAAMA,GAAc,GAAG,UAEnDL,YAAakB,IAAoBb,GAAc,IAAMA,GAAc,GAAG,eAE1E,CACIhB,SAAU,SAAUC,GAChB,GAAIA,IAAaA,EAASpK,MAAc,KAAOoK,EAASpK,MAAc,GAAI,CACtE,OAAO,IACX,CACJ,EACA4H,WAAY,CACRiD,MACIM,cAAyBxO,OAASiP,GAAalR,OACzCkR,GAAa,GACbT,GAAc,IAAMA,GAAc,GAAG,UAEnDL,YAAaiB,IAAuBZ,GAAc,IAAMA,GAAc,GAAG,iBAKrF,IAAIgB,GACJ,GAAIrL,GAAeA,EAAYjI,YAAY,oBAAqB,CAC5DsT,GAA2BpY,EAAM,CAAC,EAAGwM,EAAeqI,SAASqB,gBAC7D,IAAImC,GAA6BjT,IAAaA,GAAUiS,KAA0BjS,GAAUiS,IAAuBrR,MAAQ,GAE3HoS,GAAyBjC,MAAM/C,QAAQ,SAASkF,EAAMC,EAAOpC,UAClDmC,EAAK,YACZA,EAAKE,YAAc,CAAC,EACpB,GAAIH,GAA4B,CAC5BC,EAAKE,YAAYvM,IAAYoM,KAA+B,aAAgBlC,EAAMxP,OAAS,EAAI4R,EAAS,GAAMpC,EAAMxP,OAAS,EAAI4R,CACrI,KAAO,CACHD,EAAKE,YAAYvM,IAAakK,EAAMxP,OAAS,EAAI4R,EAAS,EAC9D,CACJ,EACJ,CACJ,CACJ,CAGA,IAAIE,GAA4B,MAChC,IAAIC,GAAY,MAChB,GACI3I,EAAakD,UAAU1Q,aAAe9B,EAAqBkY,mBAC3D5I,EAAakD,UAAU1Q,aAAe9B,EAAqBY,kBAC3D0O,EAAakD,UAAU1Q,aAAe9B,EAAqBU,eAC7D,CACE,GACI4O,GACAA,EAAa6I,aACb7I,EAAa6I,YAAYC,YAAc,kDACzC,CACE,IAAIC,GAAe/I,EAAa6I,YAChC,GACIE,GAAaC,mBACbD,GAAaC,kBAAkBF,YAAc,4DAC/C,CACE,IAAIG,GAAqBF,GAAaC,kBACtC,GACIC,GAAmBC,mBACnBD,GAAmBC,kBAAkBnR,MAAQ,OAC/C,CACE0E,EAAeqI,SAASqE,YAAc,MACtCT,GAA4B,IAChC,MAAO,GAAIO,GAAmBG,UAAW,CACrC3M,EAAeqI,SAASqE,YAAc,KACtCT,GAA4B,IAChC,CACJ,MAAO,GACHK,GAAaD,YAAc,mDAC3BC,GAAaM,eACbN,GAAaM,cAAc7W,WAC7B,CACE,IAAI8W,GAAcP,GAAaM,cAAc7W,WAC7C,IAAI+W,GAAmBD,GAAYpR,UAC/BoR,GAAYE,YAAY,KAAO,EAC/BF,GAAY1S,QAEhB,GAAI2S,IAAoB,aAAc,CAClCZ,GAAY,IAChB,CACJ,CACJ,MAAO,GAAI3I,GAAgBA,EAAa6I,aAAe7I,EAAa6I,YAAYrW,WAAY,CACxF,IAAIiX,GAAazJ,EAAa6I,YAAYrW,WAAW0F,UACjD8H,EAAa6I,YAAYrW,WAAWgX,YAAY,KAAO,EACvDxJ,EAAa6I,YAAYrW,WAAWoE,QAGxC,OAAQ6S,IACJ,IAAK,yBACDhN,EAAeqI,SAASqE,YAAc,MACtCT,GAA4B,KAC5B,MACJ,IAAK,eACDjM,EAAeqI,SAASqE,YAAc,KACtCT,GAA4B,KAC5B,MACJ,IAAK,eACDC,GAAY,KACZ,MACJ,QACI,MAEZ,CAEA,GAAIA,GAAW,CACX,IAAIe,GAAe,GACnB,GACI1J,EAAa,qBAAqB,IAClCA,EAAa,qBAAqB,GAAG1H,WACrC0H,EAAa,qBAAqB,GAAG1H,UAAUC,eACjD,CACE,IAAI8F,GAA2B2B,EAAa,qBAAqB,GAAG1H,UAAUC,eAC9E,IAAIoR,GAAiBtL,GAAyBnG,UAC1CmG,GAAyBmL,YAAY,KAAO,EAC5CnL,GAAyBzH,QAE7B,GAAIuB,GAAoBA,EAAiBwR,IAAiB,CACtD,IAAIC,GAAgBzR,EAAiBwR,IACrC,GACIC,IACAA,GAAcC,cACdD,GAAcC,aAAaC,SAC3BF,GAAcG,cACdH,GAAcG,aAAaD,QAC7B,CACEJ,GAAa9R,KAAK,CACdoS,KAAM,YACNrG,IAAKiG,GAAcC,aAAaC,QAChCrG,IAAKmG,GAAcG,aAAaD,UAEpCpB,GAA4B,IAChC,KAAO,CACHjX,EAAQW,MAAMxB,EAAeqZ,yBACjC,CACJ,CACJ,CAEA,GACIjK,EAAakD,UAAU1Q,aAAe9B,EAAqBU,gBAC3D4O,EAAa,qBAAqB,IAClCA,EAAa,qBAAqB,GAAG1H,WACrC0H,EAAa,qBAAqB,GAAG1H,UAAUC,eACjD,CACE,IAAI8F,GAA2B2B,EAAa,qBAAqB,GAAG1H,UAAUC,eAC9E,IAAIoR,GAAiBtL,GAAyBnG,UAC1CmG,GAAyBmL,YAAY,KAAO,EAC5CnL,GAAyBzH,QAE7B,GAAIuB,GAAoBA,EAAiBwR,IAAiB,CACtD,IAAIC,GAAgBzR,EAAiBwR,IACrC,GACIC,IACAA,GAAcC,cACdD,GAAcC,aAAaC,SAC3BF,GAAcG,cACdH,GAAcG,aAAaD,QAC7B,CACEJ,GAAa9R,KAAK,CACdoS,KAAM,aACNrG,IAAKiG,GAAcC,aAAaC,QAChCrG,IAAKmG,GAAcG,aAAaD,UAEpCpB,GAA4B,IAChC,KAAO,CACHjX,EAAQW,MAAMxB,EAAeqZ,yBACjC,CACJ,CACJ,CACA/L,EAAUgM,aAAaR,GAC3B,CACJ,CACAtJ,EAAoB3C,EAAY0M,QAChC9J,EAAkBzC,EAAUuM,QAI5B,IAAIC,GAAW,EACf,IAAIC,GAAa,EACjB,IAAIC,GACJ,IAAIC,GACJ,IAAIC,GAAa,MACjB,IAAIC,GAAgB,MACpB,IAAIC,GACJ,IAAIC,GAAsB,GAC1B,IAAIC,GAAa,GACbC,GAAe,GAKnB,IACK5Y,IAAc,UAAYA,IAAc,OAASA,IAAc,oBAChE2D,EAAO+F,OACP/F,EAAO+F,MAAM/E,OAAS,EACxB,CAGE,IAAI4R,GACJ,IAAKA,GAAQ,EAAGA,GAAQ5S,EAAO+F,MAAM/E,OAAQ4R,KAAS,CAClD,GAAI5S,EAAO+F,MAAM6M,IAAOsC,MAAQ,QAAS,CACrClV,EAAO+F,MAAMhC,OAAO6O,GAAO,GAC3B,KACJ,CACJ,CACA,IAAKA,GAAQ,EAAGA,GAAQ5S,EAAO+F,MAAM/E,OAAQ4R,KAAS,CAClD,GAAI5S,EAAO+F,MAAM6M,IAAOsC,MAAQ,eAAgB,QACrClV,EAAO+F,MAAM6M,IAAOlJ,KAC3B,KACJ,CACJ,CACA,GAAItC,EAAYjI,YAAY,iBAAkB,CAE1C,IAAKyT,GAAQ,EAAGA,GAAQ5S,EAAO+F,MAAM/E,OAAQ4R,KAAS,CAClD,GAAI5S,EAAO+F,MAAM6M,IAAOsC,MAAQ,eAAgB,CAC5ClV,EAAO+F,MAAM6M,IAAOlJ,KAAO,WAC3B,KACJ,CACJ,CAEA1J,EAAO+F,MAAM/D,KAAK,CACdkT,IAAK,QACLrH,IAAK,EACLxN,KAAM,YACNqJ,KAAM,UAEd,CACJ,CAEAtP,EAAK4F,EAAO+F,MAAO,SAAUlE,EAAGuS,GAC5B,IAAIc,EAAMd,EAAKc,IACf,IAAIC,EAAkB,GACtB,GAAIf,EAAK/T,KAAM,CACX,IAAI+U,EAAmBtM,EAAUuM,EACjC,GAAIjB,EAAK/T,OAAS,YAAa,CAC3B+U,EAAoBvN,EAAY7G,OAChC8H,EAAW,YACXuM,EAAe,aACf9K,EAAoBC,EACpBE,EAAwBC,CAC5B,KAAO,CACHyK,EAAoBpN,EAAUhH,OAC9B8H,EAAW,UACXuM,EAAe,WACf9K,EAAoBE,EACpBC,EAAwBE,CAC5B,CACA,IAAIiD,EAAM,EACNE,EAAMqH,EACV,GAAIhB,EAAKvG,IAAK,CACVA,EAAMA,EAAMuG,EAAKvG,IAAMA,EAAMuG,EAAKvG,GACtC,CACA,GAAIuG,EAAKrG,IAAK,CACVA,EAAMA,EAAMqG,EAAKrG,IAAMA,EAAMqG,EAAKrG,GACtC,CAEA,IAAKqG,EAAK1K,KAAM,CACZ,IAAI4L,EAAM/K,EAAkBvJ,OAC5B,IAAK,IAAIkE,EAAI,EAAGA,EAAIoQ,GAAOH,EAAgBnU,OAAS+M,IAAO7I,EAAG,CAC1D,IAAI2D,EAAM0B,EAAkBrF,GAC5BqF,EAAkBxG,OAAOmB,EAAG,KAC1BoQ,IACApQ,EACFiQ,EAAgBnT,KAAK6G,GACrB,GAAIpJ,GAAUoJ,EAAIC,GAAU/G,cAAcjH,EAAqB4D,yBAA0B,CAErFoW,GAAUrV,GAAUoJ,EAAIC,GAAU/G,cAAcjH,EAAqB4D,yBAAyBoE,KACxFrD,GAAUoJ,EAAIC,GAAU/G,cAAcjH,EAAqB4D,yBAAyBoE,KACpF9F,SACV,MAAO,GAAIyC,GAAUoJ,EAAIC,GAAU/G,cAAcjH,EAAqB8D,kBAAmB,CACrFkW,GAAUrV,GAAUoJ,EAAIC,GAAU/G,cAAcjH,EAAqB8D,kBAAkBkE,KACjFrD,GAAUoJ,EAAIC,GAAU/G,cAAcjH,EAAqB8D,kBAAkBkE,KAC7E9F,SACV,MAAO,GAAIyC,GAAUoJ,EAAIC,GAAU/G,cAAcjH,EAAqB0D,UAAW,CAC7EsW,GAAUrV,GAAUoJ,EAAIC,GAAU/G,cAAcjH,EAAqB0D,SACzE,CAEA,GAAIlF,EAAMic,kBAAkB9V,GAAWqV,IAAU,CAC7CF,GAAa,IACjB,KAAO,CACHC,GAAgB,IACpB,CAEA,IAAKD,GAAY,CACbJ,GAAWlb,EAAMkc,kBAAkBhB,GAAU3L,EAAKtG,GAClDmS,GAAgBpb,EAAMmc,kBAAkBf,GAAe7L,EAAKtG,EAChE,KAAO,CACHkS,GAAanb,EAAMkc,kBAAkBf,GAAY5L,EAAKtG,GACtDoS,GAAoBrb,EAAMmc,kBAAkBd,GAAmB9L,EAAKtG,EACxE,CACJ,CACJ,KAAO,CACH,IAAImT,EAActB,EAAK1K,KAAK7M,MAAM,KAClCzC,EAAKsb,EAAa,SAAUxQ,EAAGwE,GAC3B,GAAIyL,EAAgBnU,SAAW+M,EAAK,CAChC,OAAO,KACX,CACA,IAAIuH,EAAM/K,EAAkBvJ,OAC5B,IAAK,IAAI8C,EAAI,EAAGA,EAAIwR,GAAOH,EAAgBnU,OAAS+M,IAAOjK,EAAG,CAC1D,IAAI+E,EAAM0B,EAAkBzG,GAC5B,GACI+E,GACAA,EAAIiJ,MACJjJ,EAAIiJ,KAAKlV,YACTiM,EAAIiJ,KAAKlV,WAAWC,MAAM,MAC1BgM,EAAIiJ,KAAKlV,WAAWC,MAAM,KAAK,GACjC,CACE,IAAI8Y,EAAiB9M,EAAIiJ,KAAKlV,WAAWC,MAAM,KAAK,GACpD,GAAI8Y,IAAmBjM,EAAM,CACzBa,EAAkBxG,OAAOD,EAAG,KAC1BwR,IACAxR,EACFqR,EAAgBnT,KAAK6G,GACrB,GAAIpJ,GAAUoJ,EAAIC,GAAU/G,cAAcjH,EAAqB4D,yBAA0B,CAErFoW,GAAUrV,GAAUoJ,EAAIC,GAAU/G,cAAcjH,EAAqB4D,yBAAyBoE,KACxFrD,GAAUoJ,EAAIC,GAAU/G,cAAcjH,EAAqB4D,yBAAyBoE,KACpF9F,SACV,MAAO,GAAIyC,GAAUoJ,EAAIC,GAAU/G,cAAcjH,EAAqB8D,kBAAmB,CACrFkW,GAAUrV,GAAUoJ,EAAIC,GAAU/G,cAAcjH,EAAqB8D,kBAAkBkE,KACjFrD,GAAUoJ,EAAIC,GAAU/G,cAAcjH,EAAqB8D,kBAAkBkE,KAC7E9F,SACV,MAAO,GAAIyC,GAAUoJ,EAAIC,GAAU/G,cAAcjH,EAAqB0D,UAAW,CAC7EsW,GAAUrV,GAAUoJ,EAAIC,GAAU/G,cAAcjH,EAAqB0D,SACzE,CACA,GAAIlF,EAAMic,kBAAkB9V,GAAWqV,IAAU,CAC7CF,GAAa,IACjB,KAAO,CACHC,GAAgB,IACpB,CAEA,IAAKD,GAAY,CACbJ,GAAWlb,EAAMkc,kBAAkBhB,GAAU3L,EAAKtG,GAClDmS,GAAgBpb,EAAMmc,kBAAkBf,GAAe7L,EAAKtG,EAChE,KAAO,CACHkS,GAAanb,EAAMkc,kBAAkBf,GAAY5L,EAAKtG,GACtDoS,GAAoBrb,EAAMmc,kBACtBd,GACA9L,EACAtG,EAER,CACJ,CACJ,MAAO,IACFmI,EACKzH,MAAMC,UAAUC,QAAQC,KAAKsH,EAAuB7B,IAAQ,MAAQ,EAC5E,CACE6B,EAAsB1I,KAAK6G,EAC/B,CACJ,CACJ,GACA,GAAIsM,EAAgBnU,OAAS+M,EAAK,CAC9B3T,EAAKsQ,EAAuB,SAAU5G,EAAG+E,GAErC,IAAI+M,EACJ,IAAIhD,EACJ,IACKgD,EAAc5V,EAAOqV,GAAcO,eACnCF,EAAczS,MAAMC,UAAUC,QAAQC,KAAKsS,EAAaE,IAAgB,MAAQ,IAChFhD,GAASrI,EAAoBtH,MAAMC,UAAUC,QAAQC,KAAKmH,EAAmB1B,IAAQ,MAAQ,GAChG,CACE0B,EAAkBxG,OAAO6O,EAAO,GAChCuC,EAAgBnT,KAAK6G,GACrB,GAAIpJ,GAAUoJ,EAAIC,GAAU/G,cAAcjH,EAAqB4D,yBAA0B,CAErFoW,GAAUrV,GAAUoJ,EAAIC,GAAU/G,cAAcjH,EAAqB4D,yBAAyBoE,KACxFrD,GAAUoJ,EAAIC,GAAU/G,cAAcjH,EAAqB4D,yBAAyBoE,KACpF9F,SACV,MAAO,GAAIyC,GAAUoJ,EAAIC,GAAU/G,cAAcjH,EAAqB8D,kBAAmB,CACrFkW,GAAUrV,GAAUoJ,EAAIC,GAAU/G,cAAcjH,EAAqB8D,kBAAkBkE,KACjFrD,GAAUoJ,EAAIC,GAAU/G,cAAcjH,EAAqB8D,kBAAkBkE,KAC7E9F,SACV,MAAO,GAAIyC,GAAUoJ,EAAIC,GAAU/G,cAAcjH,EAAqB0D,UAAW,CAC7EsW,GAAUrV,GAAUoJ,EAAIC,GAAU/G,cAAcjH,EAAqB0D,SACzE,CACA,GAAIlF,EAAMic,kBAAkB9V,GAAWqV,IAAU,CAC7CF,GAAa,IACjB,KAAO,CACHC,GAAgB,IACpB,CAEA,IAAKD,GAAY,CACbJ,GAAWlb,EAAMkc,kBAAkBhB,GAAU3L,EAAKtG,GAClDmS,GAAgBpb,EAAMmc,kBAAkBf,GAAe7L,EAAKtG,EAChE,KAAO,CACHkS,GAAanb,EAAMkc,kBAAkBf,GAAY5L,EAAKtG,GACtDoS,GAAoBrb,EAAMmc,kBAAkBd,GAAmB9L,EAAKtG,EACxE,CAEA,GAAI4S,EAAgBnU,SAAW+M,EAAK,CAChC,OAAO,KACX,CACJ,CACJ,EACJ,CACA,GAAIoH,EAAgBnU,OAAS6M,EAAK,CAC9BhS,EAAQW,MACJxB,EAAe4O,WACf5O,EAAe6a,UACfxZ,EACA,IACArB,EAAe8a,eACfX,EAAgBnU,OAChB,IACAhG,EAAe+a,eACflI,EACA,IACA7S,EAAegb,OAEnB,OAAO,KACX,CACJ,CACA,GAAIb,EAAgBnU,OAAQ,CACxB,IAAIiV,EAAS,GACb,IAAIC,EACJ,KAAMA,EAAU5N,EAAU6N,cAAe,CACrCta,EAAQW,MAAMxB,EAAeob,YAC7B,OAAO,KACX,CACAxa,EAAoB2G,EACpBnI,EAAK+a,EAAiB,SAAUtT,EAAGgH,GAC/B,IAAKA,IAAQA,EAAIC,KAAcD,EAAIC,GAAU/G,aAAc,CACvDlG,EAAQW,MAAMxB,EAAesO,oBAC7B,OAAO,KACX,CACA,IAAI+M,EAAWxN,EAAIC,GAAU/G,aAC7B,IAAIuE,EAAW+P,EACf,IAAIC,EAAaD,EACjB,IAAIE,EAAU,KACd,GAAI9W,IAAaA,GAAU4W,GAAW,CAClC,GAAI5W,GAAU4W,GAAUvb,EAAqBiX,cAAe,CAExD,GAAItS,GAAU4W,GAAUvb,EAAqBiX,cAAcxO,OAAQ,CAC/D+C,EAAW1L,EAA2BoX,2BAClCvS,GAAU4W,GAAUvb,EAAqBiX,cAAcxO,OACvD+E,EACA7I,GAER,MAAO,GAAIA,GAAU4W,GAAUvb,EAAqBiX,cAAcjP,KAAM,CACpEwD,EAAW7G,GAAU4W,GAAUvb,EAAqBiX,cAAcjP,IACtE,KAAO,CACHwD,EAAW+P,CACf,CACJ,MAAO,GAAI5W,GAAU4W,GAAUvb,EAAqBmX,WAAY,CAC5D3L,EAAW7G,GAAU4W,GAAUvb,EAAqBmX,UACxD,MAAO,GAAIoE,EAAU,CACjB/P,EAAW+P,CACf,CACA,GAAI5W,GAAU4W,GAAUvb,EAAqBwD,aAAc,CAEvDgY,EAAa7W,GAAU4W,GAAUvb,EAAqBwD,aAAaiF,OAC7D9D,GAAU4W,GAAUvb,EAAqBwD,aAAaiF,OACtD9D,GAAU4W,GAAUvb,EAAqBwD,aAAawE,IAChE,MAAO,GAAIrD,GAAU4W,GAAUvb,EAAqBsD,UAAW,CAC3DkY,EAAa7W,GAAU4W,GAAUvb,EAAqBsD,SAC1D,MAAO,GAAIiY,EAAU,CACjBC,EAAaD,CACjB,CACAE,EAAU9W,GAAU4W,GAAUvb,EAAqB8L,WAAa,IACpE,CACA,IAAI4P,EACAC,EAAgB,CAAC,EACrBA,EAAcJ,GAAYC,EAC1B,IACKC,IAAY,gBAAkBA,IAAY,uBAC3CD,IAAeD,EACjB,CACEG,EAAqB,QAAUH,EAAW,SAAWA,EAAW,SACpE,KAAO,CAEH,GACI5W,GAAU4W,IACV5W,GAAU4W,GAAUvb,EAAqBwD,cACzCmB,GAAU4W,GAAUvb,EAAqBwD,aAAaxD,EAAqB4b,uBAC7E,CACE,IAAIC,EAAkBC,EAKtBD,EAAmBlX,GAAU4W,GAAUvb,EAAqB4b,uBAC5DE,EAAuBD,GAAoBA,EAAiB/Z,WAG5D,IAAKga,EAAsB,CACvBD,EAAmBlX,GAAU4W,GAAUvb,EAAqBwD,aAAaxD,EAAqB4b,uBAC9FE,EAAuBD,GAAoBA,EAAiB/Z,UAChE,CAGA,IAAKga,EAAsB,CACvB,IAAI3S,EAAcrI,EAClB+a,EAAmB1S,GAAeA,EAAYnJ,EAAqB4b,uBACnEE,EAAuBD,GAAoBA,EAAiB/Z,UAChE,CACA,IAAIia,EACJ,OAAQD,GAEJ,IAAK,2DACDJ,EAAqB,IAAMF,EAAa,IAAM,IAAM,IAAM,IAAMD,EAAW,IAAM,IACjF,GAAIhJ,IAA8BD,GAASpM,OAAQ,CAC/C6V,EAAeC,EAAyBT,EAAUC,EAAYlJ,IAC9D,IAAK,IAAIlN,KAAO2W,EAAc,CAC1BA,EAAa3W,GAAO2W,EAAa3W,GAAO,IAAM,IAAMA,EAAM,GAC9D,CACA2K,EAAuBwL,GAAYQ,CACvC,CACA,MACJ,IAAK,0DACDL,EAAqB,IAAMH,EAAW,IAAM,IAAM,IAAM,IAAMC,EAAa,IAAM,IAC7E,GAAIjJ,IAA8BD,GAASpM,OAAQ,CACnD6V,EAAeC,EAAyBT,EAAUC,EAAYlJ,IAC9D,IAAK,IAAI2J,KAAQF,EAAc,CAC3BA,EAAaE,GAAQA,EAAO,IAAM,IAAMF,EAAaE,GAAQ,GACjE,CACAlM,EAAuBwL,GAAYQ,CACvC,CACA,MACJ,IAAK,0DACDL,EAAqB,IAAMF,EAAa,IACxC,GAAIjJ,IAA8BD,GAASpM,OAAQ,CAC/C6J,EAAuBwL,GAAYS,EAAyBT,EAAUC,EAAYlJ,GACtF,CACA,MACJ,IAAK,8DACDoJ,EAAqB,IAAMH,EAAW,IAAM,IAAM,IAAM,IAAMC,EAAa,IAAM,IACjF,MACJ,QACIE,EAAqB,IAAMH,EAAW,IACtCI,EAAcJ,GAAYA,EAC1B,MAEZ,KAAO,CAEHG,EAAqB,IAAMF,EAAa,GAC5C,CACA,GAAIlP,GAAeA,EAAYjI,YAAY,oBAAqB,CAC5D5E,EAAqByc,iBACjB5P,EAAYiE,UAAU4L,OACtBZ,EACAG,EAER,CACJ,CACAP,EAAOjU,KAAKsE,GACZ,GAAIwC,IAAa,YAAa,CAC1B,GAAIoM,IAAQ,gBAAiB,CACzB,IAAIgC,EAAsB,IAAIpd,EAAoB,CAC9CyF,KAAM+G,EACNV,MAAO,IAAMyQ,EAAW,KAGhC,KAAO,CACH,IAAIa,EAAsB,IAAIpd,EAAoB,CAC9CyF,KAAM+G,EACNV,MAAO,IAAMyQ,EAAW,IACxBc,aAAcX,GAEtB,CACA,IAAIY,EAAe3X,GAAU4W,GAAUvb,EAAqBuc,eAC5D,IAAIC,EACC7X,GAAU4W,GAAU,kDAAoD5W,GAAU4W,GAAU,iDAAiDlU,MAC7I1C,GAAU4W,GAAU,uDAAyD5W,GAAU4W,GAAU,sDAAsDlU,MACvJ1C,GAAU4W,GAAU,yDAA2D5W,GAAU4W,GAAU,wDAAwDlU,MAC3J1C,GAAU4W,GAAU,sDAAwD5W,GAAU4W,GAAU,qDAAqDlU,KAC1J,GACI5B,KACCgW,IAAY,gBACTe,GACAf,IAAY,sBACXa,GAAgBA,EAAaxD,YAAY,OAAQ,KAAO,GAC/D,CACEsD,EAAoBK,YAAY,OACpC,CACArB,EAAQsB,aAAaN,GACrB,IAAKjC,GAAehS,MAAMC,UAAUC,QAAQC,KAAK6R,GAAc3O,IAAa,MAAQ,EAAG,CACnF2O,GAAajT,KAAKsE,EACtB,CACJ,KAAO,CACH4P,EAAQuB,WACJ,IAAI1d,EAAkB,CAClBwF,KAAM+G,EACNV,MAAO,IAAMyQ,EAAW,OAGhC,IACKrB,GAAa/R,MAAMC,UAAUC,QAAQC,KAAK4R,GAAY1O,IAAa,MAAQ,GAC5E4O,GAAO,cACT,CACEF,GAAWhT,KAAKsE,EACpB,CACJ,CACJ,GACAgC,EAAUoP,QACN,IAAI1d,EAAS,CACTkb,IAAKA,EACL7U,KAAMyI,EACN6O,OAAQ1B,KAGhB,GAAIf,IAAQ,eAAgB,CACxBrO,EAAeqO,GAAO,CAClBnO,MAAO,CACHC,QAASiH,GAAiB,MAAQ,KAClC2J,KAAM3B,EAAOjS,KAAK,OAEtB2L,MAAO,CACH3C,aAAc4H,GAAa,OAAS,gBACpChF,oBAAqB,KAGjC,KAAO,CACH/I,EAAeqO,GAAO,CAClBnO,MAAO,CACHC,QAASiH,GAAiB,MAAQ,KAClC2J,KAAM3B,EAAOjS,KAAK,OAEtB2L,MAAO,CACH3C,aAAc4H,GAAa,OAAS,iBAGhD,CAEAG,GAAoB/S,KAAK6E,EAAeqO,IAExC,GAAIlV,EAAOY,eAAe,iBAAkB,CACxC,IAAIiX,EAAU,EACd,IAAIC,EAA2B9X,EAAO+X,cAAc/W,OACpD,IAAIgX,EACJ,IAAIC,EACJ,KAAOJ,EAAUC,EAA0BD,IAAW,CAClD,GAAI7X,EAAO+X,cAAcF,GAASjX,eAAe,SAAU,CACvDqX,EAAcjY,EAAO+X,cAAcF,GAASjS,KAChD,CACA,GAAI5F,EAAO+X,cAAcF,GAASjX,eAAe,QAAS,CACtDoX,EAAkBhY,EAAO+X,cAAcF,GAASxY,KAAKxC,MAAM,KAC3D,IAAIqb,EAA0BF,EAAgBhX,OAC9C,IAAImX,EAAWC,EACf,IAAIC,EACJ,IAAK,IAAIC,EAAU,EACfD,EAAgBL,EAAgB,GAChCG,EAAYtR,EACZuR,EAAc3L,GACd6L,EAAUJ,IACRI,EACJ,CACE,GAAIA,IAAYJ,EAA0B,EAAG,CACzC,GAAIE,GAAeA,EAAYxX,eAAeyX,GAAgB,CAE1D,GACIhc,IAAc,UACb+b,EAAYC,KAAmB,SAC5BD,EAAYC,KAAmB,cACrC,CACEJ,EAAcG,EAAYC,EAC9B,MAAO,GAAIhc,GAAa,QAAS,CAC7B4b,EAAcG,EAAYC,EAC9B,CACJ,CACA,GACKvF,IAA6BuF,GAAiB,gBAC7CvF,IAA6BuF,IAAkB,gBAC/CvF,IAA6BuF,GAAiB,cAClD,CACEF,EAAUE,GAAiBJ,CAC/B,CACA,KACJ,CACAE,EAAUE,GAAiBF,EAAUE,IAAkB,CAAC,EACxDF,EAAYA,EAAUE,GACtB,GAAID,EAAa,CACbA,EAAYC,GAAiBD,EAAYC,IAAkB,CAAC,EAC5DD,EAAcA,EAAYC,EAC9B,CAEAA,EAAgBL,EAAgBM,EAAU,EAC9C,CACJ,CACJ,CACJ,CACA,GAAIlE,EAAKxT,eAAe,iBAAkB,CACtC,IAAIiB,EAAI,EACR,IAAI0W,EAAqBnE,EAAK2D,cAAc/W,OAC5C,IAAIwX,EACJ,IAAIC,EACJ,IAAIC,GAEJ,KAAO7W,EAAI0W,EAAoB1W,IAAK,CAChC,GAAIuS,EAAK2D,cAAclW,GAAGjB,eAAe,UAAW,CAChD6X,EAAcrE,EAAK2D,cAAclW,GAAG8W,OAEpC,OAAQF,GACJ,IAAK,QACDD,EAAiBvC,EAAOjV,OACxB,GACIoT,EAAK2D,cAAclW,GAAGjB,eAAe,QACrC4X,GAAkBpE,EAAK2D,cAAclW,GAAGgM,IAC1C,CACE2K,EAAiBpE,EAAK2D,cAAclW,GAAGgM,GAC3C,MAAO,GACHuG,EAAK2D,cAAclW,GAAGjB,eAAe,QACrC4X,GAAkBpE,EAAK2D,cAAclW,GAAGkM,IAC1C,CACEyK,EAAiBpE,EAAK2D,cAAclW,GAAGkM,GAC3C,CACA,MACJ,QACI,MAEZ,MAAO,GAAIqG,EAAK2D,cAAclW,GAAGjB,eAAe,SAAU,CACtD4X,EAAiBpE,EAAK2D,cAAclW,GAAG+D,KAC3C,CACA,GAAIwO,EAAK2D,cAAclW,GAAGjB,eAAe,QAAS,CAC9C8X,GAAYtE,EAAK2D,cAAclW,GAAGxC,KAAKxC,MAAM,KAC7C,IAAI+b,GAAoBF,GAAU1X,OAClC,IACI,IAAIkE,EAAI,EAAG2T,GAAUH,GAAU,GAAI3a,GAAM8I,EACzC3B,EAAI0T,KACF1T,EACJ,CACE,GAAIA,IAAM0T,GAAoB,EAAG,CAC7B7a,GAAI8a,IAAWL,EACf,KACJ,CACAza,GAAI8a,IAAW9a,GAAI8a,KAAY,CAAC,EAChC9a,GAAMA,GAAI8a,IACVA,GAAUH,GAAUxT,EAAI,EAC5B,CACJ,CACJ,CACJ,CACJ,CACJ,CACJ,GAEA,IAAIa,GAAQuC,EAAU7B,WACtB,GACIzG,EAAOkO,YACPlO,EAAOkO,WAAW4K,kBAAoB,MACtChT,EAAmBC,GAAO1J,GAC5B,CACEjC,EAAK2L,GAAO,SAAUlE,EAAGgE,GACrB,GACIE,GAAMlE,GAAGkX,YAAc,YACtBhT,GAAMlE,GAAGoE,WAAa,aAAeF,GAAMlE,GAAGoE,WAAa,gBAC9D,CACE,IAAI+S,EACJ5e,EAAK4N,EAAW,SAAU4K,EAAOhN,GAC7B,IAAIqT,EAAatT,EAAYC,EAAMnD,QAAQV,aAActC,IACzD,GAAIwZ,IAAelT,GAAMlE,GAAGqE,YAAY,GAAI,CACxC8S,EAAgB7T,EAAqBS,EAAOrD,GAC5C,OAAO,KACX,CACJ,GACA,GAAIyW,EAAe,CACf,IAAIE,EAAgBvT,EAAYqT,EAAcvW,QAAQV,aAActC,IACpE,IAAI0Z,EACA5W,EAAiByW,EAActW,UAAUC,eAAeL,UAAU,IAAIO,cAAcd,cACpFQ,EAAiByW,EAActW,UAAUC,eAAeL,UAAU,IAAIO,cAAcC,KACxF,IAAIsW,EAAgBzT,EAAYwT,EAAiB1Z,IACjD,IAAI4Z,EAAcnf,EAAagW,QAAQ,SAAU,CAACgJ,IAClD,IAAII,EAAoBpf,EAAagW,QAAQ,WAAY,CAACkJ,IAC1DvS,EAAeqI,SAASqB,eAAiB,CACrCC,MAAO,CACH,CACIqC,YAAa,CACT0G,sBAAuBL,GAE3BhL,WAAY,CACRiD,MAAO,wCACPqI,SAAU,OACVC,UAAW,yCAEfrI,YAAaiI,GAEjB,CACIxG,YAAa,CACT0G,sBAAuBH,GAE3BlL,WAAY,CACRiD,MAAO,wCACPqI,SAAU,SACVC,UAAW,wCACXC,QAAS,uBAEbtI,YAAakI,KAIzBhR,EAAU6N,aAAasB,WACnB,IAAI1d,EAAkB,CAClBwF,KAAM6Z,EACNxT,MAAO,IAAMuT,EAAkB,OAGvC,IAAIxB,EAAS5R,GAAMlE,GAAGqE,YACtByR,EAAO3V,KAAKoX,GACZrT,GAAMlE,GAAG8X,UAAUhC,EACvB,CACA,OAAO,KACX,CACJ,EACJ,CAEA,IAAIiC,GAAoB,MACxB,GACInI,IACAA,GAAcoI,mBACdlI,OAAOC,KAAKH,GAAcoI,mBAAmB7Y,OAAS,EACxD,CACE,IAAI8Y,GAAkBnI,OAAOC,KAAKH,GAAcoI,mBAChD,IAAK,IAAIhY,GAAI,EAAGA,GAAIiY,GAAgB9Y,OAAQa,KAAK,CAC7C,IAAIkY,GAAiBD,GAAgBjY,IACrC,IAAImY,GAASvI,GAAcoI,kBAAkBE,IAC7C,GAAIpI,OAAOC,KAAKoI,IAAQhZ,OAAS,GAAI,CACjC4Y,GAAoB,KACpB,KACJ,CACJ,CACJ,CAEA,GACIpI,IACAnE,KACCuM,GACH,CACE,IAAIK,GAAmB,GACvB,IAAIC,GAAkC,KACtC,IAAK,IAAIrY,GAAI,EAAGA,GAAIgG,EAAY7G,OAAQa,KAAK,CACzC,IAAIsY,GAAkBtS,EAAYhG,IAAG4B,UAAU1B,aAC/CkY,GAAiBjY,KAAKmY,GAC1B,CACA,IAAK,IAAItY,GAAI,EAAGA,GAAIoY,GAAiBjZ,OAAQa,KAAK,CAC9C,IAAIkY,GAAiBE,GAAiBpY,IACtC,GAAIiY,GAAgB3W,QAAQ4W,KAAmB,EAAG,CAC9C,IAAIK,GAAc3I,GAAcoI,kBAAkBE,IAClD,IAAIM,GAAgB1I,OAAOC,KAAKwI,IAChC,IAAIE,GAAc,GAClB,IAAK,IAAIzY,GAAI,EAAGA,GAAIwY,GAAcrZ,OAAQa,KAAK,CAC3C,IAAI0Y,GAAQH,GAAYC,GAAcxY,KACtCyY,GAAYtY,KAAKuY,GACrB,CACAL,GACIA,IAAmCI,GAAYE,MAAMC,GAC7D,CACJ,CAEA,GAAIP,GAAiC,CACjC,IAAIQ,GAAS,GACb,IAAK,IAAI7Y,GAAI,EAAGA,GAAIoY,GAAiBjZ,OAAQa,KAAK,CAC9C,IAAIkY,GAAiBE,GAAiBpY,IACtC,GAAIiY,GAAgB3W,QAAQ4W,KAAmB,EAAG,CAC9C,IAAIK,GAAc3I,GAAcoI,kBAAkBE,IAClD,IAAIM,GAAgB1I,OAAOC,KAAKwI,IAChC,IAAIE,GAAc,GAClB,IAAK,IAAIzY,GAAI,EAAGA,GAAIwY,GAAcrZ,OAAQa,KAAK,CAC3C,IAAI0Y,GAAQH,GAAYC,GAAcxY,KACtCyY,GAAYtY,KAAKuY,GACrB,CACAI,GAAmBL,IAEnB,IAAK,IAAIpV,GAAI,EAAGA,GAAIoV,GAAYtZ,OAAQkE,KAAK,CACzC,IAAI0V,GAAkBN,GAAYpV,IAAG2V,eACrC,IAAIC,GAASR,GAAYpV,IAAGiM,MAC5B,IAAIoJ,GAAQ,CACRrM,WAAY,CACRiD,MAAO2J,KAGfP,GAAM1H,YAAc,CAAC,EACrB,IAAIkI,GAAWC,EAAsBvb,GAAW6I,EAAWyR,IAC3DQ,GAAM1H,YAAYkI,IAAYH,GAC9B,IAAIK,GAAQpQ,EAAuBkP,IAAkBlP,EAAuBkP,IAAgBa,IAAmBA,GAC/GL,GAAMnJ,YAAc6J,GACpBP,GAAO1Y,KAAKuY,GAChB,CACJ,CACJ,CACA1T,EAAeqI,SAASqB,eAAiB1J,EAAeqI,SAASqB,gBAAkB,CAAC,EACpF1J,EAAeqI,SAASqB,eAAe,SAAWmK,EACtD,KAAO,CACH,IAAIA,GAAS,GACb,IAAK,IAAI7Y,GAAI,EAAGA,GAAIoY,GAAiBjZ,OAAQa,KAAK,CAC9C,IAAIkY,GAAiBE,GAAiBpY,IACtC,GAAIiY,GAAgB3W,QAAQ4W,KAAmB,EAAG,CAC9C,IAAIK,GAAc3I,GAAcoI,kBAAkBE,IAClD,IAAIM,GAAgB1I,OAAOC,KAAKwI,IAChC,IAAIE,GAAc,GAClB,IAAK,IAAIzY,GAAI,EAAGA,GAAIwY,GAAcrZ,OAAQa,KAAK,CAC3C,IAAI0Y,GAAQH,GAAYC,GAAcxY,KACtCyY,GAAYtY,KAAKuY,GACrB,CACAI,GAAmBL,IACnB,IAAIY,GAAqBZ,GAAY9Q,IAAI2R,GAC7C,CACJ,CACAtU,EAAeI,OAAOmU,MAAQ,SAAU5Y,EAAG6Y,GACvC,IAAIC,EAASJ,GAAmB/X,QAAQX,GACxC,IAAI+Y,EAASL,GAAmB/X,QAAQkY,GACxC,OAAOC,EAASC,EAAS,GAAK,CAClC,CACJ,CACJ,CAEA,GACIvb,EAAOkO,YACPlO,EAAOkO,WAAW4K,kBAAoB,MACtChT,EAAmBC,GAAO1J,IAC1BiM,EAAU9B,eAAiB,kBAC7B,CACEpM,EAAK2L,GAAO,SAAUlE,EAAGgE,GACrB,GACIE,GAAMlE,GAAGkX,YAAc,YACtBhT,GAAMlE,GAAGoE,WAAa,aAAeF,GAAMlE,GAAGoE,WAAa,gBAC9D,CACE,IAAI+S,EACJ5e,EAAK4N,EAAW,SAAU4K,EAAOhN,GAC7B,IAAIqT,EAAatT,EAAYC,EAAMnD,QAAQV,aAActC,IACzD,GAAIwZ,IAAelT,GAAMlE,GAAGqE,YAAY,GAAI,CACxC8S,EAAgBvT,EAAmBG,EAAOrD,GAC1C,OAAO,KACX,CACJ,GACA,GAAIyW,EAAe,CAEf,IAAIwC,EACAjZ,EAAiByW,EAActW,UAAUC,eAAeL,UAAU,IAAIe,YACjEtB,cACLQ,EAAiByW,EAActW,UAAUC,eAAeL,UAAU,IAAIe,YAAYP,KACtF,IAAI2Y,EAAc9V,EAAY6V,EAAe/b,IAI7C6I,EAAU6N,aAAasB,WACnB,IAAI1d,EAAkB,CAClBwF,KAAMkc,EACN7V,MAAO,IAAM4V,EAAgB,OAMrClT,EAAUoP,QACN,IAAI1d,EAAS,CACTkb,IAAK,eACL7U,KAAM,UACNsX,OAAQ,CAAC8D,KAGrB,CACA,OAAO,KACX,CACJ,EACJ,CAEA,GAAI7G,IAAcC,GAAe,CAC7BhZ,EAAQyF,QAAQpH,EAAagW,QAAQ,iCACzC,CAGA9V,EAAK2L,GAAO,SAAUlE,EAAGuS,GAGrB,IAAIsH,EAAWtH,EAAKjV,YAAY,QAChC,GAAIuc,IAAa,UAAW,CACxB,IAAIC,EAAcvH,EAAKjV,YAAY,UACnC,IAAIyc,EAAmB,KACvB,IAAIC,EAAqBzR,EAAagC,kBAAkB0P,OAAO,SAAUC,GACrE,OACIJ,EAAYxY,QAAQ1D,GAAUsc,EAAYL,GAAU,iBAAiB5gB,EAAqBmX,aAAe,GACzG0J,EAAYxY,QAAQ1D,GAAUsc,EAAYL,GAAU,iBAAiB5gB,EAAqBiX,gBAAkB,CAEpH,GAEA3X,EAAKyhB,EAAoB,SAAU3W,EAAG8W,GAGlC,GACIpT,EAAoBnJ,GAAWuc,EAAgBN,IAC/CzS,EAAoBxJ,GAAWuc,EAAgBN,GACjD,CACEE,EAAmB,KACvB,KAAO,CACHA,EAAmB,KAEnB,OAAO,KACX,CACJ,GACA,IAAKA,EAAkB,CACnB/U,EAAeuN,EAAKjV,YAAY,QAAQ,SAAS,iBAAmB,KACxE,CACJ,CACJ,GAEA,IAAI8c,GAEJ,GAAItH,KAAsB3X,UAAW,CACjC2X,GAAoB,EACxB,CAEA,GAAID,KAAkB1X,UAAW,CAC7B0X,GAAgB,EACpB,CAEA,GAAIE,GAAY,CACZqH,GAAYC,EAAavH,GAAmBC,GAChD,KAAO,CACHqH,GAAYC,EAAaxH,GAAeE,GAC5C,CAEA,GAAI3K,EAAS,CACTA,EAAQkS,SAASF,GACrB,CAEA,IAAIG,GAAkBC,EAAuBrH,GAAYC,GAAcpJ,IAEvE,IAAIyQ,GAAS,GAGbliB,EAAK2L,GAAO,SAAUlE,EAAGuS,GACrB,IAAImI,EAAuB,KAC3B,IAAIC,EAAkBpI,EAAKjV,YAAY,QAEvC,GAAIqd,IAAoB,UAAW,CAE/B,IAAIC,EAAqB1H,GAAoB+G,OAAO,SAAUY,GAC1D,IAAIC,EAASD,EAAW,SAAS,QAAQ7f,MAAM,KAAKif,OAAO,SAAUzF,GACjE,GAAIjC,EAAKlO,YAAY/C,QAAQkT,EAASuG,SAAW,EAAG,CAChD,OAAO,IACX,KAAO,CACH,OAAO,KACX,CACJ,GACA,GAAID,EAAO3b,OAAS,EAAG,CACnB,OAAO,IACX,KAAO,CACH,OAAO,KACX,CACJ,GAEA,GAAIyb,GAAsBA,EAAmBzb,OAAQ,CACjD,IAAI6b,EAAoBzI,EAAKlO,YAC7B,GAAI2W,GAAqBA,EAAkB7b,OAAQ,CAE/C5G,EAAKyiB,EAAmB,SAAUhb,EAAGib,GACjC,IAAIC,EAAuBD,EAAcF,OACzC,IAAII,EAAiBhV,EAAU8T,OAAO,SAAUmB,GAC5C,GAAIA,EAAc,YAAcA,EAAc,WAAW,gBAAiB,CACtE,IAAIC,EAAkBD,EAAc,WAAW,gBAC/C,GACKxd,GAAUyd,IAAoBzd,GAAUyd,GAAiBpiB,EAAqBmX,aAAe8K,GAC7Ftd,GAAUyd,IAAoBzd,GAAUyd,GAAiBpiB,EAAqBiX,gBAAkBgL,EACnG,CACE,OAAO,IACX,KAAO,CACH,OAAO,KACX,CACJ,CACJ,GAGA,GAAIC,GAAkBA,EAAehc,OAAQ,CACzC,IAAImc,EAAuBH,EAAe,GAE1C,IACKpU,EAAoBnJ,GAAW0d,EAAsBX,KACrDvT,EAAoBxJ,GAAW0d,EAAsBX,GACxD,CACE,IAAIY,EAAuB,GAC3B,GACID,GACAA,EAAqB,cACrBA,EAAqB,aAAa,mBAClCA,EAAqB,aAAa,kBACpC,CACEC,EACID,EAAqB,aAAa,mBAClCA,EAAqB,aAAa,kBAAkB7a,UAAU,GAClE,GAAI8a,GAAwB,GAAI,CAC5B,IAAIC,EAEJA,EACI9a,EAAiB6a,IACjB7a,EAAiB6a,GAAsB,gBACvC7a,EAAiB6a,GAAsB,eAAe,6BACtD7a,EAAiB6a,GAAsB,eAAe,4BAA4B,OACtFb,EACIc,EAAuBd,EACjBc,EACAd,CACd,CACJ,CACJ,KAAO,CAEHA,EAAuBA,EAAuB,IAAM,IAAMA,CAC9D,CACJ,CACJ,EACJ,CACJ,CAEA,GACIE,GACAA,EAAmB,IACnBA,EAAmB,GAAG9M,OACtB8M,EAAmB,GAAG9M,MAAM3C,aAC9B,CACE,IAAIsQ,EAAYb,EAAmB,GAAG9M,MAAM3C,YAChD,CACAsP,GAAS,GACT,GAAI1H,GAAY,CACZ,GAAI0I,IAAc,OAAQ,CACtBhB,GAAS,QAAUC,EAAqBzP,WAAa,GACzD,KAAO,CACHwP,GAAS,iBAAmBC,EAAqBzP,WAAa,GAClE,CACJ,KAAO,CACHwP,GAAS,iBAAmBC,EAAqBzP,WAAa,GAClE,CACA,GAAI2P,GAAsBA,EAAmB,GAAI,CAC7CA,EAAmB,GAAG9M,MAAM3C,aAAesP,EAC/C,CACJ,CACJ,GAEA,GAAIjgB,IAAc,kBAAmB,CACjCwK,EAAe,aAAe,CAC1BE,MAAO,CACHC,QAASiH,GAAiB,MAAQ,MAEtC0B,MAAO,CACH3C,aAAcsP,IAG1B,CAEA,IAAIiB,GAAgB,GACpB,IAAIC,GAAc,GAClB,GAAI5I,GAAY,CACZ2I,GAAgB9I,GAAW3H,WAC3B0Q,GAAc,QAAU/I,GAAW3H,WAAa,GACpD,KAAO,CACHyQ,GAAgB/I,GAAS1H,WACzB0Q,GAAc,iBAAmBhJ,GAAS1H,WAAa,GAC3D,CAEA,GAAIzQ,IAAc,SAAWgO,EAAgB,CACzCxD,EAAeqI,SAASI,UAAUtC,aAAewQ,GACjD,GAAI3W,EAAeqI,SAASI,UAAUjP,OAAS,aAAc,CACzDwG,EAAeqI,SAASI,UAAUtC,aAAe,QAAUuQ,GAAgB,GAC/E,CACJ,CAEApU,EAAuBqB,EAAmBxK,EAAQ,aAClDmJ,EAAuBsB,EAAiBzK,EAAQ,WAGhD,GAAIO,GAAwB,CACxB,IAAIkd,GAAgB5V,EAAY,GAAGpE,UAAU1B,aAE7C,GAAItC,GAAUge,IAAe3iB,EAAqBuc,iBAAmB,aAAe5X,GAAUge,IAAe,sDAAuD,CAChK5W,EAAe6W,SAASC,OAAS,CAAC,OAAQ,QAC9C,MAAO,GAAIle,GAAUge,IAAe3iB,EAAqBuc,iBAAmB,eAAiB5X,GAAUge,IAAe,wDAAyD,CAC3K5W,EAAe6W,SAASC,OAAS,CAAC,OAAQ,UAC9C,MAAO,GAAIle,GAAUge,IAAe3iB,EAAqBuc,iBAAmB,YAAc5X,GAAUge,IAAe,qDAAsD,CACrK5W,EAAe6W,SAASC,OAAS,CAAC,OAAQ,OAC9C,MAAO,GAAIle,GAAUge,IAAe3iB,EAAqBuc,iBAAmB,QAAU5X,GAAUge,IAAe,iDAAkD,CAC7J5W,EAAe6W,SAASC,OAAS,CAAC,OACtC,CACJ,CAEA9W,EAAeE,MAAQ,CACnB6Q,KAAM/L,GAAcA,GAAcuQ,GAClC3M,UAAW,OACXmO,OAAQ,CAAEC,oBAAqB,OAC/BC,MAAO,CACHC,WAAY,sDACZC,SAAU,UACVC,WAAY,WAGpB3V,EAAUnB,iBAAiBN,GAC3B,GAAIO,GAAeA,EAAYjI,YAAY,oBAAqB,CAC5D,IAAIkI,GAAOiB,GAAaA,EAAUhB,QAClC,IAAI4W,GAAqB7jB,EAAM,CAAC,EAAGwM,GACnC,GAAI4L,KAA6BzV,UAAW,CACxCkhB,GAAmBhP,SAASqB,eAAiBkC,EACjD,CACAlY,EAAqBgN,kBAAkBF,GAAM6W,GACjD,CACJ,CAUA,SAASpH,EAAyBlS,EAAWuZ,EAAa/Q,GACtD,IAAIgR,EAAoB,CAAC,EACzB,IAAK,IAAIvc,EAAI,EAAGA,EAAIuL,EAASpM,OAAQa,IAAK,CACtC,IAAIwc,EAAWjR,EAASvL,GACxB,GAAIwc,EAASzd,eAAegE,IAAcyZ,EAASzd,eAAeud,GAAc,CAC5EC,EAAkBC,EAASzZ,IAAcyZ,EAASF,EACtD,CACJ,CACA,OAAOC,CACX,CAUA,SAAStS,EAAc7H,EAAakG,EAAsB7B,GACtD,IAAIuD,EAAc,GAClB,IAAIyS,EAAmBra,GAAeA,EAAYkG,IAAyBlG,EAAYkG,GAAsBoU,MAC7G,GAAID,EAAkB,CAClBzS,EAAcyS,EAAiB/a,MACnC,CACA,OAAOjK,EAAMklB,2BAA2BlW,EAAWuD,EACvD,CAEA,SAASmP,EAAsBvb,EAAW4G,EAAUgQ,GAChD,IAAI/P,EAAW,GACf,GAAI7G,GAAaA,EAAU4W,GAAW,CAClC,GAAI5W,EAAU4W,GAAUvb,EAAqBiX,cAAe,CAExDzL,EAAW1L,EAA2BoX,2BAClCvS,EAAU4W,GAAUvb,EAAqBiX,cAAcxO,OACjD9D,EAAU4W,GAAUvb,EAAqBiX,cAAcxO,OACvD9D,EAAU4W,GAAUvb,EAAqBiX,cAAcjP,KAC7DuD,EACA5G,EAER,MAAO,GAAIA,EAAU4W,GAAUvb,EAAqBmX,WAAY,CAC5D3L,EAAW7G,EAAU4W,GAAUvb,EAAqBmX,UACxD,MAAO,GAAIoE,EAAU,CACjB/P,EAAW+P,CACf,CACJ,CACA,OAAO/P,CACX,CAEA,SAASmY,EAAiBpY,EAAUqY,GAChC,GAAIrY,IAAaA,EAASG,eAAiB,UAAYH,EAASG,eAAiB,WAAY,CACzF,MACJ,CACA,IAAIY,EAAa7E,EAAkBoc,EAAWvU,EAC9C,IAAIpC,EACJ,IAAIzJ,EAAUzD,EAAqB0D,SACnC,IAAIC,EAAyB3D,EAAqB4D,wBAClD,IAAIC,EAAkB7D,EAAqB8D,iBAC3C,IAAIb,EACJ,IAAI6gB,EAAc,GAElB,KAAMxX,EAAcf,EAASE,SAAS,sBAAuB,CACzD1K,EAAQW,MACJxB,EAAe4O,WAAa,MAAQ5O,EAAeuQ,YAAcvQ,EAAe0Q,eAEpF,MACJ,CAEA,IAAIhP,EAAY2J,EAASE,WACzB,IAAIrI,EAAYkJ,EAAYjI,YAAY,cACxC,IAAKzC,IAAcwB,EAAW,CAC1B,MACJ,CACAqE,EAAmB6E,EAAYjI,YAAY,eAC3C,IAAKoD,EAAkB,CACnB1G,EAAQW,MAAMxB,EAAe2Q,gBAAkB,MAAQ3Q,EAAe4Q,WACtE,MACJ,CACA,IAAInM,EAAYnG,EAAMoG,YAAYhD,EAAWwB,GAC7CygB,EAAYvX,EAAYjI,YAAY,wBACpC,IAAKwf,KAAevU,EAAe7H,EAAiBoc,IAAa,CAC7D9iB,EAAQW,MAAMxB,EAAe2Q,gBAAkB,MAAQ3Q,EAAe4Q,WACtE,MACJ,CAEA,KAAM5D,EAAYoC,EAAagC,qBAAuBpE,EAAUhH,OAAQ,CACpEnF,EAAQW,MACJxB,EAAegR,iBACf,MACAhR,EAAeiR,WACf,IACAjR,EAAeqR,oBAEnB,MACJ,CAEAjS,EAAK4N,EAAW,SAAUnG,EAAGW,GACzBzE,EAAMyE,EAAEC,QAAQV,aAChB,GAAIS,EAAEE,WAAaF,EAAEE,UAAUC,eAAgB,CAC3C,IAAIC,EAA0BL,EAAiBC,EAAEE,UAAUC,eAAeL,UAAU,IACpF,GACIM,EAAwBC,gBACvBD,EAAwBC,cAAcd,cAAgBa,EAAwBC,cAAcC,MAC/F,CACE8b,EAAY5c,KACRY,EAAwBC,cAAcd,cACtCa,EAAwBC,cAAcC,KAE9C,CACJ,CACA8b,EAAY5c,KAAKjE,EACrB,GAEA,IAAI4e,EAAS+B,EAAUA,EAAQG,QAAU,KACzC,IAAIC,EAAY,GAChB,IAAIC,EAAoB,KACxB,IAAIC,EAAe,GAEnB,IAAIjZ,EAAQM,EAASI,WAErBrM,EAAK2L,EAAO,SAAUlE,EAAGuS,GACrB,GAAIA,EAAK2E,YAAc,UAAW,CAC9BiG,EAAeA,EAAanb,OAAOuQ,EAAKlO,YAC5C,CACJ,GAEA,GAAIyW,EAAQ,CACRviB,EAAKwkB,EAAa,SAAU/c,EAAGwU,GAC3B,IAAI/P,EAAW0U,EAAsBvb,EAAW4G,EAAUgQ,GAC1D,IAAK2I,EAAe/b,MAAMC,UAAUC,QAAQC,KAAK4b,EAAc1Y,IAAa,KAAO,EAAG,CAClF,GAAI7G,GAAaA,EAAU4W,GAAW,CAClC,IAAIrT,EAEJ,GAAIvD,EAAU4W,GAAU5X,GAAyB,CAE7CuE,EAAWvD,EAAU4W,GAAU5X,GAAwBqE,KACjDrD,EAAU4W,GAAU5X,GAAwBqE,KAC5CrD,EAAU4W,GAAU5X,GAAwB8E,MACtD,MAAO,GAAI9D,EAAU4W,GAAU1X,GAAkB,CAC7CqE,EAAWvD,EAAU4W,GAAU1X,GAAiBmE,KAC1CrD,EAAU4W,GAAU1X,GAAiBmE,KACrCrD,EAAU4W,GAAU1X,GAAiB4E,MAC/C,MAAO,GAAI9D,EAAU4W,GAAU9X,GAAU,CACrCyE,EAAWvD,EAAU4W,GAAU9X,EACnC,CACA,IAAKyE,EAAU,CACX+b,EAAoB,MACpB,OAAO,KACX,CACA,GAAI/b,GAAYvD,EAAUuD,GAAW,CACjC,IAAK,IAAInB,EAAI,EAAGA,EAAI8a,EAAO3b,OAAQa,IAAK,CACpC,IAAIod,EAAUtC,EAAO9a,GACrB,GAAIkd,EAAmB,CACnB,GACID,GACAG,EAAQjc,IACRic,EAAQjc,IAAa,IACrB8b,GAAa,IACbA,GAAaG,EAAQjc,GACvB,CACE+b,EAAoB,MACpB,KACJ,CACJ,CACAD,EAAYG,EAAQjc,GACpB,IAAK8b,EAAW,CACZC,EAAoB,MACpB,KACJ,CACJ,CACJ,CACJ,CACJ,CACJ,EACJ,CAEA,IAAIG,EAAoB,GAExB,GAAIH,EAAmB,CACnB,GAAID,GAAa,GAAI,CACjBI,EAAoBhlB,EAAagW,QAAQ,cAAe,CAAC4O,IACzDI,EAAoB,IAAMA,CAC9B,CAGA,IAAIC,EAAmB9Y,EAAS+Y,KAAK,cACrC,GAAID,GAAoBD,GAAqBC,EAAiBhc,QAAQ+b,MAAwB,EAAG,CAC7F,IAAIG,EAA0BF,EAAmBD,EACjD7Y,EAAS+Y,KAAK,aAAcC,EAAyB,KACzD,CACA,IAAIC,EAAiBjZ,EAASkZ,mBAAmBxY,OAASV,EAASkZ,mBAAmBxY,MAAM6Q,KAC5F,GAAI0H,EAAgB,CAChB,IAAIE,EAAoBF,EAAenc,QAAQ,KAC/C,GAAIqc,KAAuB,EAAG,CAC1B,IAAIC,EAAeH,EAAe/K,MAAMiL,EAAoB,GAC5D,GAAIC,IAAiBX,EAAW,CAC5BQ,EAAiBA,EAAe/K,MAAM,EAAGiL,EAAoB,EACjE,CACJ,CACA,IAAI3Y,EAAiB,CACjBE,MAAO,CACHC,QAAS,KACT4Q,KAAM6H,IAAiBX,EAAYQ,EAAiBA,EAAiBJ,EACrEzP,UAAW,OACXmO,OAAQ,CAAEC,oBAAqB,OAC/BC,MAAO,CACHC,WAAY,sDACZC,SAAU,UACVC,WAAY,YAIxB5X,EAASc,iBAAiBN,EAC9B,CACJ,CACJ,CAEA,SAASwV,EAAuBrH,EAAYC,EAAcpJ,GACtD,IAAI6T,EAAM,GACNC,EAAa,GACbC,EAAe,GACnB,GAAI/T,EAAa,CACb6T,EAAM7T,CACV,CAEA,GAAImJ,GAAcA,EAAWhU,OAAS,EAAG,CACrC,IAAK,IAAIa,EAAI,EAAGA,EAAImT,EAAWhU,OAAS,EAAGa,IAAK,CAC5C,GAAI8d,GAAc,GAAI,CAClBA,GAAc,IAClB,CACAA,GAAc3K,EAAWnT,EAC7B,CACA8d,EAAazlB,EAAagW,QAAQ,iBAAkB,CAACyP,EAAY3K,EAAWnT,IAChF,MAAO,GAAImT,EAAY,CACnB2K,EAAa3K,EAAW,EAC5B,CAEA,GAAIC,GAAgBA,EAAajU,OAAS,EAAG,CACzC,IAAK,IAAIa,EAAI,EAAGA,EAAIoT,EAAajU,OAAS,EAAGa,IAAK,CAC9C,GAAI+d,GAAgB,GAAI,CACpBA,GAAgB,IACpB,CACAA,GAAgB3K,EAAapT,EACjC,CACA+d,EAAe1lB,EAAagW,QAAQ,iBAAkB,CAAC0P,EAAc3K,EAAapT,IACtF,MAAO,GAAIoT,EAAc,CACrB2K,EAAe3K,EAAa,EAChC,CAEA,GAAIyK,IAAQ,GAAI,CACZ7T,EAAc3R,EAAagW,QAAQ,iBAAkB,CAACyP,EAAYC,GACtE,CACA,OAAO/T,CACX,CAEA,SAASqQ,EAAaxH,EAAeE,GACjC,IAAIiL,EAAM,EACV,IAAIC,EACJ,GAAIlL,EAAY,CACZ,IAAImL,EAAiBtmB,EAAaumB,oBAAoB,CAClDlC,MAAO,QACPmC,aAAc,MACdC,eAAgBxL,IAEpBoL,EAAYC,EAAeI,OAAOC,OAAOP,GAC7C,KAAO,CACH,IAAIQ,EAAe5mB,EAAa6mB,iBAAiB,CAC7CxC,MAAO,QACPoC,eAAgBxL,IAEpBoL,EAAYO,EAAaF,OAAOC,OAAOP,GAC3C,CAEA,IAAI5D,EAAY6D,EAAUvL,OAAO,GACjC,OAAO0H,CACX,CAEA,SAASsE,EAAqBla,EAAUma,GACpCna,EAASoa,iBAAiB,SAAUhZ,GAChC,IAAIiZ,EAAWvmB,EAASwmB,aAAexmB,EAASymB,UAAUC,QAAU1mB,EAASymB,UAAUE,QACvF3mB,EAASwmB,aAAe,MAExB,IAAIvZ,EAAcf,EAASE,SAAS,qBACpC,IAAI7J,EAAY2J,EAASE,WACzB,IAAIrI,EAAYkJ,EAAYjI,YAAY,cACxC,IAAIM,EAAYnG,EAAMoG,YAAYhD,EAAWwB,GAC7C,IAAI6iB,EAAsB,GACtBxT,EAAa,GACjB,IAAIyT,EAAkB,CAAC,EACnBC,EAAiB,CAAC,EACtB,IAAIC,EAAgB7a,EAAS8P,aAAagL,gBAC1C,IAAIC,EAEJ,IAAK,IAAIvf,EAAI,EAAGA,EAAIqf,EAAclgB,OAAQa,IAAK,CAC3Ckf,EAAoB/e,KAAKkf,EAAcrf,GAAGwf,UAC9C,CAEA,IAAIC,EAAUjb,EACT8P,aACAoL,WAAW,QACXC,qBACAhY,IAAI,SAAUiY,GACX,OAAOA,EAAEC,WACb,GAEJ,GACIja,EAAOka,aAAa,SACpBla,EAAOka,aAAa,QAAQ,IAC5Bla,EAAOka,aAAa,QAAQ,GAAGvC,KACjC,CACE7R,EAAaoE,OAAOC,KAAKnK,EAAOka,aAAa,QAAQ,GAAGvC,MACxDgC,EAAgB3Z,EAAOka,aAAa,QAAQ,GAAGvC,KAAKwC,oBACpD,IAAIlR,EAAWrK,EAAS8P,aAAaoL,WAAW,QAAQM,cAAcT,GACtE,IAAIU,EACAtnB,EAAiBunB,2BACbrR,EACAhU,EACA8jB,EAAWwB,gBACXxB,EAAWyB,0BACb,GACN,GAAIX,EAAQF,GAAec,WAAaZ,EAAQF,GAAec,YAAc,KAAM,CAC/E,IAAIC,EAA4B,CAAC,EAC7BC,EAAmB,GAEvB,IAAK,IAAIld,EAAI,EAAGA,EAAI6b,EAAoB/f,OAAQkE,IAAK,CACjD,IAAK,IAAIpB,EAAI,EAAGA,EAAIyJ,EAAWvM,OAAQ8C,IAAK,CACxC,GAAIid,EAAoB7b,KAAOqI,EAAWzJ,GAAI,CAC1C,IAAK,IAAI5D,KAAOT,EAAW,CACvB,GAAIA,EAAUmB,eAAeV,GAAM,CAC/B,IAAImV,EACA5V,EAAUS,GAAKpF,EAAqBmX,YACpCxS,EAAUS,GAAKpF,EAAqBunB,WACpC5iB,EAAUS,GAAKpF,EAAqBwnB,cACxC,GAAIjN,IAAiB9H,EAAWzJ,GAAI,CAChCse,EAAiBpgB,KAAK9B,EAC1B,CACJ,CACJ,CACJ,CACJ,CACJ,CAEA,IAAK,IAAI2B,EAAI,EAAGA,EAAIugB,EAAiBphB,OAAQa,IAAK,CAC9CsgB,EAA0BC,EAAiBvgB,IAAM,GACjD,IAAK,IAAIqD,EAAI,EAAGA,EAAIoc,EAAQtgB,OAAS,EAAGkE,IAAK,CACzC,GAAIA,GAAKkc,EAAe,CACpBe,EAA0BC,EAAiBvgB,IAAIG,KAC3Csf,EAAQpc,GAAGkd,EAAiBvgB,IAEpC,CACJ,CACJ,CAEA,IAAI0gB,EAAc,CAAEL,UAAW,MAC/B,IAAIM,EAAU,CACVd,UAAW,WACP,OAAOa,CACX,EACAE,6BAA8B,WAC1B,OAAON,CACX,GAEJ,GAAItoB,EAAkBuR,iBAAiBoV,GAAa,CAChD,GAAIA,EAAWkC,qBAAsB,CAEjC9oB,EAAY+oB,iBAAiBH,EACjC,CACJ,KAAO,CACH,GAAIV,EAAkB,CAClBzb,EAASuc,aAAa,GAAI,CAACC,eAAgB,OAC3CrC,EAAWsC,aAAaN,EAASV,EAAkBpB,EACvD,CACJ,CACJ,KAAO,CACH,IAAK,IAAIxb,EAAI,EAAGA,EAAI6b,EAAoB/f,OAAQkE,IAAK,CACjD,IAAK,IAAIpB,EAAI,EAAGA,EAAIyJ,EAAWvM,OAAQ8C,IAAK,CACxC,GAAIid,EAAoB7b,KAAOqI,EAAWzJ,GAAI,CAC1C,IAAK,IAAI5D,KAAOT,EAAW,CACvB,GAAIA,EAAUmB,eAAeV,GAAM,CAC/B,IAAImV,EAAgB5V,EAAUS,GAAKpF,EAAqBiX,eAAiBtS,EAAUS,GAAKpF,EAAqBiX,cAAcxO,QACvH9D,EAAUS,GAAKpF,EAAqBmX,YACpCxS,EAAUS,GAAKpF,EAAqBunB,WACpC5iB,EAAUS,GAAKpF,EAAqBwnB,cACxC,GAAIjN,EAAa0N,MAAM,gBAAiB,CAEpC,IAAIC,EAAMC,KAAK1c,SAAS,SAAS2c,oBACjC7N,EAAe2N,EAAI9S,QAAQmF,EAAa/S,UAAU+S,EAAalS,QAAQ,KAAO,EAAGkS,EAAarU,OAAS,GAC3G,CACA,GAAIqU,IAAiB9H,EAAWzJ,GAAI,CAChCkd,EAAgB9gB,GAAOohB,EAAQF,GAAelhB,EAClD,CACJ,CACJ,CACJ,CACA,IAAK,IAAIA,KAAOohB,EAAQF,GAAgB,CACpC,GAAI3hB,EAAUmB,eAAeV,GAAM,CAC/B+gB,EAAe/gB,GAAOohB,EAAQF,GAAelhB,EACjD,CACJ,CACJ,CACJ,CAGA,GAAI8gB,EAAiB,CACjB5mB,EAAKuX,OAAOC,KAAKoP,GAAkB,SAAUnf,EAAG3B,GAC5C,GAAIT,EAAUS,GAAK,UAAY,aAAc,CACzC,GAAIT,EAAUS,GAAK,mBAAqB,aAAeT,EAAUS,GAAK,sDAAuD,CACzH8gB,EAAgB9gB,GAAO8gB,EAAgB9gB,GAAKijB,cAAgBC,KAClD1pB,EAAW2pB,oBAAoB,CAAE3J,QAAS,WAAYyG,OAAOa,EAAgB9gB,IAC7E8gB,EAAgB9gB,EAC9B,MAAO,GAAIT,EAAUS,GAAK,mBAAqB,eAAiBT,EAAUS,GAAK,wDAAyD,CACpI8gB,EAAgB9gB,GAAO8gB,EAAgB9gB,GAAKijB,cAAgBC,KAClD1pB,EAAW2pB,oBAAoB,CAAE3J,QAAS,UAAWyG,OAAOa,EAAgB9gB,IAC5E8gB,EAAgB9gB,EAC9B,MAAO,GAAIT,EAAUS,GAAK,mBAAqB,YAAcT,EAAUS,GAAK,qDAAsD,CAC9H8gB,EAAgB9gB,GAAO8gB,EAAgB9gB,GAAKijB,cAAgBC,KAClD1pB,EAAW2pB,oBAAoB,CAAE3J,QAAS,WAAYyG,OAAOa,EAAgB9gB,IAC7E8gB,EAAgB9gB,EAC9B,MAAO,GAAIT,EAAUS,GAAK,sDAAwDT,EAAUS,GAAK,qDAAqDiC,KAAM,CACxJ,IAAImhB,EAActC,EAAgB9gB,GAClC,GAAIojB,EAAYC,SAAS,KAAM,CAC3BvC,EAAgB9gB,GAAOojB,EAAYzmB,MAAM,KAAK2mB,UAAUxf,KAAK,GACjE,MAAO,GAAIsf,EAAYC,SAAS,KAAM,CAClCvC,EAAgB9gB,GAAOojB,EAAYzmB,MAAM,KAAK2mB,UAAUxf,KAAK,GACjE,CACJ,CACJ,CACJ,EACJ,CAEA,GAAIid,EAAgB,CAChB7mB,EAAKuX,OAAOC,KAAKqP,GAAiB,SAAUpf,EAAG3B,GAC3C,GAAIT,EAAUS,GAAK,UAAY,aAAc,CACzC,GAAIT,EAAUS,GAAK,mBAAqB,aAAeT,EAAUS,GAAK,sDAAuD,CACzH+gB,EAAe/gB,GAAO+gB,EAAe/gB,GAAKijB,cAAgBC,KAChD1pB,EAAW2pB,oBAAoB,CAAE3J,QAAS,WAAYyG,OAAOc,EAAe/gB,IAC5E+gB,EAAe/gB,EAC7B,MAAO,GAAIT,EAAUS,GAAK,mBAAqB,eAAiBT,EAAUS,GAAK,wDAAyD,CACpI+gB,EAAe/gB,GAAO+gB,EAAe/gB,GAAKijB,cAAgBC,KAChD1pB,EAAW2pB,oBAAoB,CAAE3J,QAAS,UAAWyG,OAAOc,EAAe/gB,IAC3E+gB,EAAe/gB,EAC7B,MAAO,GAAIT,EAAUS,GAAK,mBAAqB,YAAcT,EAAUS,GAAK,qDAAsD,CAC9H+gB,EAAe/gB,GAAO+gB,EAAe/gB,GAAKijB,cAAgBC,KAChD1pB,EAAW2pB,oBAAoB,CAAE3J,QAAS,WAAYyG,OAAOc,EAAe/gB,IAC5E+gB,EAAe/gB,EAC7B,MAAO,GAAIT,EAAUS,GAAK,sDAAwDT,EAAUS,GAAK,qDAAqDiC,KAAM,CACxJ,IAAImhB,EAAcrC,EAAe/gB,GACjC,GAAIojB,EAAYC,SAAS,KAAM,CAC3BtC,EAAe/gB,GAAOojB,EAAYzmB,MAAM,KAAK2mB,UAAUxf,KAAK,GAChE,MAAO,GAAIsf,EAAYC,SAAS,KAAM,CAClCtC,EAAe/gB,GAAOojB,EAAYzmB,MAAM,KAAK2mB,UAAUxf,KAAK,GAChE,CACJ,CACJ,CACJ,EACJ,CAGA,IAAIC,EAAcmD,EAAYjI,YAAY,eACtCjD,EAAuB+H,EAAYmD,EAAYjI,YAAY,gCAC/D,GAAI8E,EAAa,CACb,IAAIG,EAAgB5K,EAAqB6K,iBAAiBnI,GAC1D,GAAIkI,GAAiBA,EAAcpD,OAAS,EAAG,CAC3C5G,EAAKgK,EAAe,SAAUvC,EAAGyC,GAC7B,IAAK0c,EAAgBpgB,eAAe0D,GAAI,CACpC0c,EAAgB1c,GAAKgd,EAAQF,GAAe9c,EAChD,CACJ,EACJ,CACJ,CAEA,IAAIke,EAAU,CACVd,UAAW,WACP,OAAOV,CACX,EAEAyC,WAAY,WACR,OAAOxC,CACX,GAGJ,GAAIpnB,EAAkBuR,iBAAiBoV,GAAa,CAChD,GAAIA,EAAWkC,qBAAsB,CAEjC9oB,EAAY+oB,iBAAiBH,EACjC,CACJ,KAAO,CACH,GAAIV,EAAkB,CAClBzb,EAASuc,aAAa,GAAI,CAACC,eAAgB,OAC3CrC,EAAWsC,aAAaN,EAASV,EAAkBpB,EACvD,CACJ,CACJ,CACJ,CACJ,EACJ,CAEA,SAASgD,EAAiBrnB,GACtB,OAAOA,EAAUO,WAAW+mB,SAAS,SACzC,CAEA,SAASC,EAAmBrW,GACxB,IAAIjR,EAAM,MACV,IACKiR,GACDA,EAAW4V,aAAelgB,OAC1BsK,EAAWvM,OAAS,GACpBuM,EAAW,GAAG4V,aAAexR,SAC5BpE,EAAW,GAAG9J,YACd8J,EAAW,GAAG9J,UAAU1B,aAC3B,CACElG,EAAQW,MAAMxB,EAAegR,iBAAmB,MAAQhR,EAAeiR,WAAa,IAAMjR,EAAekR,sBACzG,OAAO5P,CACX,CACAA,EAAM,KACN,OAAOA,CACX,CAEA,SAASunB,GAAiBrW,GACtB,IAAIlR,EAAM,MACV,IACKkR,GACDA,EAAS2V,aAAelgB,OACxBuK,EAASxM,OAAS,GAClBwM,EAAS,GAAG2V,aAAexR,SAC1BnE,EAAS,GAAG/K,UACZ+K,EAAS,GAAG/K,QAAQV,aACvB,CACElG,EAAQW,MAAMxB,EAAegR,iBAAmB,MAAQhR,EAAeiR,WAAa,IAAMjR,EAAeqR,oBACzG,OAAO/P,CACX,CACAA,EAAM,KACN,OAAOA,CACX,CAEA,SAASwnB,GAAa9nB,GAClB,OAAOA,EAAWuD,IACtB,CASA,SAASwkB,GAAoBC,EAAe3d,EAAUyB,GAClD,IAAIV,EAAcf,EAASE,SAAS,qBACpC,IAAI0d,EAAiB3qB,EAAM4qB,YAAY7d,EAAUyB,GACjD,IAAIhK,GAAYmmB,EAAeE,YAC/B,IAAIzjB,GAAY0G,EAAYjI,YAAY,aACxC,GAAIrB,GAAY4C,EAAU,CACtB,IAAIb,EAAgBmkB,EAAcpkB,QAAU,EAC5C,GAAIC,GAAiB,EAAG,CACpB/B,GAAY4C,EAAWb,EACvBukB,GAA+B/d,EAAUvI,EAC7C,CACJ,CACJ,CAQA,SAASsmB,GAA+B/d,EAAUvI,GAC9C,IAAIumB,EACAC,EAAa,CAAC,EACdC,EAAgB,GACpB,IAAIloB,EAAYgK,EAASG,aACzB,IAAIY,EAAcf,EAASE,SAAS,qBACpC,IAAIhE,EAAmB6E,EAAYjI,YAAY,eAC/C,IAAIwf,EAAYvX,EAAYjI,YAAY,wBACxC,IAAIiL,EAAe7H,EAAiBoc,GACpC,IAAI6F,EAAiBne,EAASoe,YAC9B,IAAIC,EAAcF,EAAejD,WAAW,QAC5C+C,EAAWjlB,KAAOqlB,EAAYC,UAC9BL,EAAWM,WAAa,CAAC,EACzB,GAAIF,EAAYG,aAAeH,EAAYG,YAAYC,OAAQ,CAC3DR,EAAWM,WAAWE,OAASJ,EAAYG,YAAYC,MAC3D,CACAR,EAAWM,WAAWG,OAAST,EAAWM,WAAWG,QAAU,CAAC,EAChET,EAAWM,WAAWG,OAAOC,aAAe,eAC5CV,EAAW9kB,QAAUklB,EAAYO,oBACjCX,EAAWY,OAASR,EAAYS,SAChCb,EAAWtjB,OAAS3E,IAAc,QAAUyB,EAAW,EAAIA,EAC3DwmB,EAAWc,SAAW,IAAInrB,EAC1BuqB,EAAea,gBAAgB,OAAQf,GACvC,GAAIjoB,IAAc,QAAS,CACvBjC,EAAKgQ,EAAagC,kBAAmB,SAAUvK,EAAGW,GAC9C+hB,EAAcviB,KAAKQ,EAAEC,QAAQV,aACjC,GACAsiB,EAAiB,CAAC,EAClBA,EAAehlB,KAAOqlB,EAAYC,UAClCN,EAAeO,WAAa,CAAC,EAC7BP,EAAeO,WAAWE,OAASP,EAAcvgB,KAAK,KACtDqgB,EAAe7kB,QAAUklB,EAAYO,oBACrCZ,EAAea,OAASR,EAAYS,SACpCd,EAAerjB,OAAS,EACxBqjB,EAAee,SAAW,IAAInrB,EAC9BuqB,EAAea,gBAAgB,gBAAiBhB,EACpD,CACAG,EAAec,sBACnB,CAEA,SAAS3K,GAAmB4K,GACxBA,EAAQC,KAAK,SAAUC,EAAQC,GAC3B,GAAID,EAAO7S,MAAQ8S,EAAO9S,MAAO,CAC7B,OAAQ,CACZ,CACA,GAAI6S,EAAO7S,MAAQ8S,EAAO9S,MAAO,CAC7B,OAAO,CACX,CACA,OAAO,CACX,EACJ,CAEA,SAAS6H,GAAwBkL,GAC7B,OAAOA,EAAOxU,QAAUnU,SAC5B,CAEA,SAASme,GAAmBZ,GACxB,OAAOA,EAAMM,cACjB,CAGA,MAAO,CACH+F,UAAW9lB,EACXG,cAAeD,EACfc,YAAaA,EACbsK,iBAAkBA,EAClBoB,YAAaA,EACbG,aAAcA,EACdzF,UAAWA,EACX8H,mBAAoBA,EACpByU,iBAAkBA,EAClB8B,qBAAsBA,EACtBmD,iBAAkBA,EAClBE,mBAAoBA,EACpBC,iBAAkBA,GAClBC,aAAcA,GACdC,oBAAqBA,GACrBjY,cAAeA,EACfnI,oBAAqBA,EACrBC,mBAAoBA,EACpB+B,YAAaA,EACbG,mBAAoBA,EACpBgR,yBAA0BA,EAC1BoF,aAAcA,EACdvB,mBAAoBA,GACpBxR,uBAAwBA,EAEhC,EAAkB","ignoreList":[]}