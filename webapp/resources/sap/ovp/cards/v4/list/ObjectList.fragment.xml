<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"
    xmlns:build="sap.build"
    template:require="{
		CardAnnotationhelper: 'sap/ovp/cards/AnnotationHelper',
        CardAnnotationhelperV4: 'sap/ovp/cards/v4/V4AnnotationHelper'
	}"   
>
    <items>
        <!-- Title is first Row first Column -->
        <!-- number is first Row second Column -->
        <ObjectListItem
            id="listItem"
            core:require="{
                CardAnnotationhelper: 'sap/ovp/cards/AnnotationHelper',
                CardAnnotationhelperV4: 'sap/ovp/cards/v4/V4AnnotationHelper'
            }"
            class="sapOvpObjectListItem sapOvpListFragment sapUiContentPadding"
            title="{parts:[{path:'lineItem>'}, {path:'ovpConstants>/firstDataFieldIndex'}], formatter: 'CardAnnotationhelperV4.formatDataFieldValueOnIndex'}"
            number="{parts:[{path:'lineItem>'}, {path:'ovpConstants>/firstDataPointIndex'}, {path:'ovpConstants>/thirdDataFieldIndex'}], formatter: 'CardAnnotationhelperV4.formatDataPointOrField'}"
            numberState="{= ${path: 'lineItem>', formatter: 'CardAnnotationhelper.getDataPointsCount'} > 0 ? ${path: 'lineItem>', formatter: 'CardAnnotationhelper.formatFirstDataPointState'} : 'None' }"
            type="Active"
            press="onListItemPress">
            <attributes>
                <!--This is second Row first Column -->
                <ObjectAttribute 
                    id="listItem2Row1Column"
                    text="{parts:[{path:'lineItem>'}, {path:'ovpConstants>/secondDataFieldIndex'}], formatter: 'CardAnnotationhelperV4.formatDataFieldValueOnIndex'}"/>
                <!--This is third Row first Column -->
                <template:if test="{= ${path: 'lineItem>', formatter: 'CardAnnotationhelper.getDataPointsCount'} > 1}" >
                    <template:then>
                        <ObjectAttribute 
                            id="listItem3row1column"
                            text="{parts:[{path:'lineItem>'}, {path:'ovpConstants>/thirdDataFieldIndex'}], formatter: 'CardAnnotationhelperV4.formatDataFieldValueOnIndex'}"/>
                    </template:then>
                    <template:else>
                        <template:if test="{= ${path: 'lineItem>', formatter: 'CardAnnotationhelper.getDataPointsCount'} > 0}" >
                            <template:then>
                                <ObjectAttribute 
                                    id="listItem3row1column"
                                    text="{parts:[{path:'lineItem>'}, {path:'ovpConstants>/fourthDataFieldIndex'}], formatter: 'CardAnnotationhelperV4.formatDataFieldValueOnIndex'}"/>
                            </template:then>
                            <template:else>
                                <ObjectAttribute 
                                    id="listItem3row1column" 
                                    text="{parts:[{path:'lineItem>'}, {path:'ovpConstants>/fifthDataFieldIndex'}], formatter: 'CardAnnotationhelperV4.formatDataFieldValueOnIndex'}"/>
                            </template:else>
                        </template:if>
                    </template:else>
                </template:if>
            </attributes>
            <!-- This is Second Row Second Column -->
            <firstStatus>
                <template:if test="{= ${path: 'lineItem>', formatter: 'CardAnnotationhelper.getDataPointsCount'} > 1}" >
                    <template:then>
                        <ObjectStatus
                            id="listItem2row2column"
                            text="{parts:[{path:'lineItem>'}, {path:'ovpConstants>/secondDataPointIndex'}], formatter: 'CardAnnotationhelperV4.formatDataPointValueOnIndex'}"
                            state="{path: 'lineItem>', formatter: 'CardAnnotationhelper.formatSecondDataPointState'}"/>
                    </template:then>
                    <template:else>
                        <template:if test="{= ${path: 'lineItem>', formatter: 'CardAnnotationhelper.getDataPointsCount'} > 0}" >
                            <template:then>
                                <ObjectStatus
                                    id="listItem2row2column"
                                    text="{parts:[{path:'lineItem>'}, {path:'ovpConstants>/thirdDataFieldIndex'}], formatter: 'CardAnnotationhelperV4.formatDataFieldValueOnIndex'}"
                                    state="None"/>
                            </template:then>
                            <template:else>
                                <ObjectStatus
                                    id="listItem2row2column"
                                    text="{parts:[{path:'lineItem>'}, {path:'ovpConstants>/fourthDataFieldIndex'}], formatter: 'CardAnnotationhelperV4.formatDataFieldValueOnIndex'}"
                                    state="None"/>
                            </template:else>
                        </template:if>
                    </template:else>
                </template:if>
            </firstStatus>
            <!-- This is Third Row Second Column -->
            <secondStatus>
                <template:if test="{= ${path: 'lineItem>', formatter: 'CardAnnotationhelper.getDataPointsCount'} > 2}" >
                    <template:then>
                        <ObjectStatus
                            id="listItem3row2column"
                            text="{parts:[{path:'lineItem>'}, {path:'ovpConstants>/thirdDataPointIndex'}], formatter: 'CardAnnotationhelperV4.formatDataPointValueOnIndex'}"
                            state="{path: 'lineItem>', formatter: 'CardAnnotationhelper.formatThirdDataPointState'}"/>
                    </template:then>
                    <template:else>
                        <template:if test="{= ${path: 'lineItem>', formatter: 'CardAnnotationhelper.getDataPointsCount'} > 1}" >
                            <template:then>
                            <ObjectStatus
                                id="listItem3row2column"
                                text="{parts:[{path:'lineItem>'}, {path:'ovpConstants>/fourthDataFieldIndex'}], formatter: 'CardAnnotationhelperV4.formatDataFieldValueOnIndex'}"
                                state="None"/>
                            </template:then>
                            <template:else>
                                <template:if test="{= ${path: 'lineItem>', formatter: 'CardAnnotationhelper.getDataPointsCount'} > 0}" >
                                    <template:then>
                                        <ObjectStatus
                                            id="listItem3row2column"
                                            text="{parts:[{path:'lineItem>'}, {path:'ovpConstants>/fifthDataFieldIndex'}], formatter: 'CardAnnotationhelperV4.formatDataFieldValueOnIndex'}"
                                            state="None"/>
                                    </template:then>
                                    <template:else>
                                        <ObjectStatus
                                            id="listItem3row2column"
                                            text="{parts:[{path:'lineItem>'}, {path:'ovpConstants>/sixthDataFieldIndex'}], formatter: 'CardAnnotationhelperV4.formatDataFieldValueOnIndex'}"
                                            state="None"/>
                                    </template:else>
                                </template:if>
                            </template:else>
                        </template:if>
                    </template:else>
                </template:if>
            </secondStatus>
        </ObjectListItem>
    </items>
</core:FragmentDefinition>
