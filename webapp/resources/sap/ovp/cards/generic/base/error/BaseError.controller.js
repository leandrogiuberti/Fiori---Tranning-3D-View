/*!
 * Copyright (c) 2009-2014 SAP SE, All Rights Reserved
 */
sap.ui.define(["sap/ovp/cards/generic/Card.controller","sap/ovp/app/OVPLogger","sap/ovp/cards/NavigationHelper"],function(a,t,e){"use strict";var o=new t("OVP.cards.generic.base.error.BaseError");return a.extend("sap.ovp.cards.generic.base.error",{onInit:function(){a.prototype.onInit.apply(this,arguments)},adjustCardSize:function(){var a=this.oDashboardLayoutUtil.dashboardLayoutModel.getCardById(this.cardId);if(a.template!=="sap.ovp.cards.stack"){var t=this.oMainComponent&&this.oMainComponent.getLayout();var e=t.getDashboardLayoutUtil();var o=e.getCardDomId(this.sCardId);var i=document.getElementById(o);var r=this.getHeaderHeight();var n=a.dashboardLayout.rowSpan*this.oDashboardLayoutUtil.ROW_HEIGHT_PX;var s=2*this.oDashboardLayoutUtil.CARD_BORDER_PX;i.getElementsByClassName("sapOvpCardContentContainer")[0].style.height=n-(r+s)+"px"}},onAfterRendering:function(){if(this.oMainComponent&&this.oMainComponent.getLayout().getMetadata().getName()==="sap.ovp.ui.DashboardLayout"){a.prototype.onAfterRendering.apply(this,arguments);this.adjustCardSize()}if(this.oMainComponent&&this.oMainComponent.getLayout().getMetadata().getName()==="sap.ovp.ui.EasyScanLayout"){this.setNavigableStyleForNoDataCard()}if(this.getView()&&this.getView().byId("sapOvpCardAdditionalActions")){this.getView().byId("sapOvpCardAdditionalActions").setEnabled(true)}},onRefresh:function(a){var t=this.oMainComponent._getCardFromManifest(a);var e=this.oMainComponent.aErrorCards.indexOf(a);if(e>-1){this.oMainComponent.aErrorCards.splice(e,1)}t&&this.oMainComponent.createCard(t)},resizeCard:function(){try{this.adjustCardSize()}catch(a){o.warning("OVP resize: "+this.cardId+" catch "+a.toString())}},setNavigableStyleForNoDataCard:function(){var a=false;var t=this.getOwnerComponent().getComponentData();var o=this.getModel();var i=this.getEntityType();var r=this.getView().getModel("ovpCardProperties");if(t&&t.mainComponent){var n=t.mainComponent;if(n.bGlobalFilterLoaded){a=!e.checkHeaderNavigationDisabledForAnalyticalCard(r)&&e.checkNavigation(o,i,r)}}if(a){this.getView().addStyleClass("sapOvpCardNavigable")}}})});
//# sourceMappingURL=BaseError.controller.js.map