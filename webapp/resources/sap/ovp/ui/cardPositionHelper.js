/*!
 * Copyright (c) 2009-2014 SAP SE, All Rights Reserved
 */
sap.ui.define([],function(){"use strict";var t={getDependentColumns:function(t,e,o,n){var s=[];var a={};var r=function(e,o,n,s,r){if(t&&o){a[t.id]=true;e.forEach(function(t){if((t.dashboardLayout.row<o||t.dashboardLayout.row===o&&t.dashboardLayout.column<n)&&!r[t.id]&&!t.visited){s.push(t);r[t.id]=true}else if(t.dashboardLayout.row+t.dashboardLayout.rowSpan===o&&!r[t.id]&&!t.visited){r[t.id]=true;s.push(t)}},this)}}.bind(this);for(var u=0;u<this.allColumns.length;u++){r(this.allColumns[u],e,n,s,a)}return s},getNextIndexColumns:function(t,e,o,n,s,a,r){var u=function(t,e,o,n,s,a,r,u){t[e].visited=true;o[t[e].id]=n+1;s.rowValue=a+r;s.Result=true;var i=u.getCardDomId(t[e].id)&&document.getElementById(u.getCardDomId(t[e].id));if(i){i.ariaPosInSet=n+1}};var i={Result:false,rowValue:""},d=t[s]&&t[s].dashboardLayout&&t[s].dashboardLayout.row,l=t[s]&&t[s].dashboardLayout&&t[s].dashboardLayout.rowSpan,f=t[s]&&t[s].dashboardLayout&&t[s].dashboardLayout.column;if(d===e&&f===o&&t[s]&&!t[s].visited){u(t,s,n,a,i,d,l,r)}else{var h=this.getDependentColumns(t[s],d,l,f);if(h&&!h.length&&t[s]){u(t,s,n,a,i,d,l,r)}}return i},processAllColumns:function(t,e,o,n,s,a){var r;for(var u=0;u<t.length;u++){var i=t[u];if(i&&i.length&&i[n[u]]&&!i[n[u]].visited){r=this.getNextIndexColumns(i,e[u],i[n[u]].dashboardLayout.column,o,n[u],s,a);if(r.Result){e[u]=r.rowValue;s=s+1;n[u]=n[u]+1}}}var d=function(t){return t.some(function(t){return t.some(function(t){return t.visited===false})})};if(!d(t)){return}this.processAllColumns(t,e,o,n,s,a)},fnSetAriaPos:function(t,e){var o=e.ariaPos,n=0,s=[],a=[],r=[];for(var u=0;u<t.length;u++){s[u]=0;a[u]=1;r[u]=t[u]||[]}this.allColumns=r;this.processAllColumns(r,a,o,s,n,e)}};return{setAriaPosition:t.fnSetAriaPos,getNextIndexColumns:t.getNextIndexColumns,getDependentColumns:t.getDependentColumns,processAllColumns:t.processAllColumns}});
//# sourceMappingURL=cardPositionHelper.js.map