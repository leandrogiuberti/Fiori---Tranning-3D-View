/*!
 * Copyright (c) 2009-2014 SAP SE, All Rights Reserved
 */
sap.ui.define([],function(){"use strict";return{threshold:10,headerVisible:true,startY:undefined,app:undefined,jqView:undefined,startHandler:function(e){if(this.app.getGlobalFilter()&&this.app.getGlobalFilter().hasOwnProperty("getVisible")&&this.app.getGlobalFilter().getVisible()){return}this.startY=e.touches[0].pageY},resizeHandler:function(){if(!this.headerVisible){this.animateHeader.call(this,this.headerVisible)}},animateHeader:function(e){var i=this.jqView.find(".ovpApplication > .sapUiFixFlexFixed > .sapMVBox");var t=this.jqView.find(".ovpApplication > .sapUiFixFlexFlexible");var a=t&&t.children();var s;var r=this;if(e){s="translateY(0px)";i.add(t).css({transform:s,"-webkit-transform":s});t.one("transitionend",function(e){if(r.headerVisible){a.css({bottom:"0px"})}})}else{var n=this.getView().byId("ovpMain").getHeader();if(n){var h=n.$().height();a.css({bottom:"-"+h+"px"});s="translateY(-"+h+"px)";t.add(i).css({transform:s,"-webkit-transform":s})}}},moveHandler:function(e){var i=e.touches[0].pageY;if(typeof this.startY==="undefined"){if(this.app.getGlobalFilter()&&this.app.getGlobalFilter().hasOwnProperty("getVisible")&&this.app.getGlobalFilter().getVisible()){return}this.startY=i}if(Math.abs(this.startY-i)<this.threshold){return}if(this.startY>i&&this.headerVisible){this.headerVisible=false;this.startY=i;this.animateHeader.call(this,this.headerVisible)}if(this.startY<i&&!this.headerVisible){this.headerVisible=true;this.startY=i;this.animateHeader.call(this,this.headerVisible)}},endHandler:function(){this.startY=undefined;return},enable:function(e){this.app=e;this.view=this.app.getView();this.jqView=this.view.$();var i=this;this.jqView.on("touchstart.headerHiding",function(e){i.startHandler.call(i,e)});this.jqView.on("touchmove.headerHiding",function(e){i.moveHandler.call(i,e)});this.jqView.on("touchend.headerHiding touchcancel.headerHiding touchleave.headerHiding",function(){i.endHandler.call(i)});window.addEventListener("resize.headerHiding",function(){i.resizeHandler.call(i)})},disable:function(){this.jqView.off("touchstart.headerHiding touchmove.headerHiding touchend.headerHiding touchcancel.headerHiding touchleave.headerHiding");window.removeEventListener("resize.headerHiding")}}},true);
//# sourceMappingURL=SmartphoneHeaderToggle.js.map