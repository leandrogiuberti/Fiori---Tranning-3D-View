/*!
 * Copyright (c) 2009-2014 SAP SE, All Rights Reserved
 */
sap.ui.define(["sap/ui/model/Filter"],function(t){"use strict";function e(t,e,r,a){var i=[];if(e.length>0&&t){var o=t.entityType;var f=n(t.property,e[0],t.name,o,r,a);if(f){i.push(f)}}return i}function n(e,a,i,o,f,p){if(!a._bMultiFilter){a.sPath=a.sPath.split("/").pop();var u=r(e,a.sPath,i,o,f,p);if(u){a.sPath=u;return a}}else{var s=a.aFilters;var m,v=[];if(s){for(var c=0;c<s.length;c++){m=n(e,s[c],i,o,f,p);if(m){v.push(m)}}if(v.length>0){return new t(v,a.bAnd)}}}}function r(t,e,n,r,a,i){var o,f;for(o=0;o<t.length;o++){if(t[o].name===e){f=t[o].name;return f}if("P_"+t[o].name===e||t[o].name==="P_"+e){f=t[o].name;return f}}if(!n||!r||!a||!i){return}var p=a&&a.oMetadata&&a.oMetadata._getEntityTypeByName(n);var u=i.oMetadata._getEntityTypeByName(r);if(!p||!u){return}var s="com.sap.vocabularies.Common.v1.SemanticObject";var m="com.sap.vocabularies.Common.v1.SemanticObjectMapping";var v=a.oAnnotations.getData();if(!v||!v.propertyAnnotations){return}var c=v.propertyAnnotations[p.namespace+"."+p.name];var l=i.oAnnotations.getData();if(!l||!l.propertyAnnotations){return}var y=l.propertyAnnotations[u.namespace+"."+u.name];var g=y&&y[e];if(!g||!g[s]){return}var h,P,b,A,d;for(h in c){P=c[h];if(P[s]&&P[s].String===g[s].String){b=P[m];if(!b){continue}A=b.length;d="";while(A--){if(b[A].SemanticObjectProperty.String===e){d=b[A].LocalProperty.PropertyPath;break}}if(d!==""){for(o=0;o<t.length;o++){if(t[o].name===d){f=t[o].name;return f}}}}}return f}function a(t,e){return t}return{getEntityRelevantFilters:e,mergeFilters:a}});
//# sourceMappingURL=FilterHelper.js.map