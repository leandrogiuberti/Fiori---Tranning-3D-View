{"version":3,"file":"ManageCardsUtils.js","names":["sap","ui","define","BaseObject","JSONModel","ControlPersonalizationWriteAPI","Fragment","PersonalizationUtils","CommonUtils","extend","constructor","controller","Error","onManageCardsMenuButtonPress","this","aManageCardsDialogModelState","oMainController","getApp","that","oManageCardsFragmentController","onManageCardOkButtonPressed","oEvent","getParameters","reason","aP13nData","byId","getP13nData","aOrderedCards","getUIModel","getProperty","aVisibilityDeltaChanges","iDataLength","length","i","visible","push","changeType","content","cardId","id","visibility","isUserDependent","createOrDestroyCards","apply","setProperty","updateDashboardLayoutCards","oOvpConfig","getOwnerComponent","bInsightRTEnabled","updateCardVisibiltyForCM","updateLayoutWithOrderedCards","savePersonalization","getView","oCard","iCardIndex","aErrorCards","indexOf","splice","document","querySelector","focus","oSelectionPanelContainer","oDialogContainer","destroy","onManageCardResetButtonPressed","sLayoutName","getLayout","getMetadata","getName","oUiModel","aManifestOrderedCards","oAllowedCardsConfiguration","getAllowedNumberOfCards","iLimit","numberOfCards","aSelectedCards","filter","resetDashboardLayout","manageCardsDialog","getModel","aCardForDeletion","aCards","enhanceOrderedCardsForP13NDialog","oSelectionPanel","setP13nData","setMsgStripAndOkButton","reset","selectors","finally","onCardVisibilityChange","_oManageCardsFragmentController","oManageCardsFragment","load","getId","name","then","oControl","oManageCardsDialogModel","Object","assign","getManageCardsDialogModelState","oModel","cards","setModel","addDependent","openManageCardsDialog","oPopup","getAllowedNumberOfCardsAndSetMessageStripText","aVisibleCards","card","oMsgStrip","setVisible","open","aVisibleCardIds","forEach","aCardsModel","_getCardsModel","aVisibleCardsForLayout","_getCardArrayAsVariantFormatDashboard","find","oElement","sUpdatedTitle","getUpdatedTitle","label","settings","title","aContent","getContent","split","pop","getVisible","aCardArray","aCardsArray","sMessageText","errorMessage","setText","iSelectedCards","getSelectedFields","sManageCardsDialogId","sId","oOkBtn","setEnabled"],"sources":["ManageCardsUtils-dbg.js"],"mappings":"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","ignoreList":[]}