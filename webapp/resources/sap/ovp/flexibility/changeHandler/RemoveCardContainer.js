/*!
 * Copyright (c) 2009-2014 SAP SE, All Rights Reserved
 */
sap.ui.define(["sap/m/MessageToast","sap/ovp/app/resources","sap/ovp/cards/CommonUtils"],function(e,t,r){"use strict";var a={changeHandler:{},layers:{VENDOR:true,CUSTOMER_BASE:true,CUSTOMER:true,USER:true}};a.changeHandler.applyChange=function(a,i,o){var n=o.modifier,s=r.getApp(),d=s.getView(),l=s.getUIModel(),p=l.getProperty("/cards"),g=s.getLayout(),u=a.getContent().id,c=s._getCardId(u),C=o.appComponent,y={id:u,isLocalId:false},v=n.bySelector(y,C,d),f;for(f=0;f<p.length;f++){if(p[f].id===c){break}}var b=p.splice(f,1);l.setProperty("/cards",p);a.setRevertData({id:u,oCard:b[0],index:f});n.setVisible(v,false);if(l.getProperty("/containerLayout")==="resizable"){var m=g.getDashboardLayoutUtil();if(m.aCards){m.updateCardVisibility([{id:m.getCardIdFromComponent(u),visibility:false}])}}var h=t.getText("OVP_KEYUSER_TOAST_MESSAGE_FOR_REMOVE",[v.getComponentInstance().getComponentData().settings.title]);e.show(h,{duration:1e4});g.invalidate();return true};a.changeHandler.revertChange=function(e,t,a){var i=a.modifier,o=r.getApp(),n=o.getUIModel(),s=n.getProperty("/cards"),d=o.getLayout(),l=e.getRevertData(),p=i.bySelector(l.id);s.splice(l.index,0,l.oCard);n.setProperty("/cards",s);i.setVisible(p,true);e.resetRevertData();if(n.getProperty("/containerLayout")==="resizable"){var g=d.getDashboardLayoutUtil();g.updateCardVisibility([{id:g.getCardIdFromComponent(l.id),visibility:true}])}d.invalidate();return true};a.changeHandler.completeChangeContent=function(e,t,r){return};return a},true);
//# sourceMappingURL=RemoveCardContainer.js.map