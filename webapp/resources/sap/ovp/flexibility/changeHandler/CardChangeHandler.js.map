{"version":3,"file":"CardChangeHandler.js","names":["sap","ui","define","CommonUtils","ElementRegistry","CoreElement","MessageBox","OvpResources","Dialog","iAddedCardsPerSession","getCardChangeHandlerObjectConfig","changeHandler","layers","VENDOR","CUSTOMER_BASE","CUSTOMER","USER","createNewChangeFormatFromLegacy","oChange","oChangeContent","getContent","oNewChangeContent","card","id","removePrefixAndReturnLocalId","idIsLocal","PersonalizationDefaultConfig","applyChange","oPanel","mPropertyBag","personalizationDefaultMainController","getApp","appendIncomingDeltaChange","completeChangeContent","oSpecificChangeInfo","revertChange","oControl","UnhideControlConfig","HideCardContainer","UnhideCardContainer","setContent","_applyChange","_revertChange","sLocalCardId","removedElement","Promise","resolve","then","oMainComponent","oDialogControls","filter","oElement","oDialog","getButtons","sId","includes","sDialogId","oDialogElement","getElementById","aElements","getModel","getData","elements","aSelectedItems","selected","iVisibleLayoutItems","getVisibleLayoutItems","length","iSelectedItems","iCardLimit","getAllowedNumberOfCards","numberOfCards","bMaxLimitExceeded","oAllowedCardsConfiguration","sWarningMsg","errorMessage","getText","attachAfterOpen","bWarningDisplayedOnUnhidingCards","bRTAActive","getUIModel","getProperty","warning","actions","Action","OK","emphasizedAction","revealedElementId","visibility","oModifier","modifier","oAppComponent","appComponent","oMainController","oUIModel","oLayout","getLayout","sCardId","createId","getRevertData","oCardControl","bySelector","setVisible","resetRevertData","oLayoutUtil","getDashboardLayoutUtil","updateCardVisibility","getCardIdFromComponent","invalidate","oMainView","getView","Error","isUserChange","deltaChanges","a","getSelector","getChangeType","aManifestOrderedCards","i","sContentChangeId","iMainComponentIdEndIndex","indexOf","sMainViewId","substring","split","oView","oController","setRevertData","aCards","oCardView","byId","getComponentInstance","bFinishedCardsCreationProcess","oCardManifest","_getCardFromManifest","_getCardId","recreateRTAClonedCard","_testOnly","getAddedCardsPerSession","resetAddedCardsPerSession"],"sources":["CardChangeHandler-dbg.js"],"mappings":"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","ignoreList":[]}