/*
 * Copyright (C) 2009-2014 SAP SE or an SAP affiliate company. All rights reserved
 */
jQuery.sap.declare("sap.ca.scfld.md.app.DetailHeaderFooterHelper");jQuery.sap.require("sap.ca.scfld.md.app.CommonHeaderFooterHelper");sap.ui.base.Object.extend("sap.ca.scfld.md.app.DetailHeaderFooterHelper",{constructor:function(o){this.oAppImp=o;this.oCommonHeaderFooterHelper=new sap.ca.scfld.md.app.CommonHeaderFooterHelper(o,undefined,true)},defineDetailHeaderFooter:function(o){var e=o.getHeaderFooterOptions();this.setHeaderFooter(o,e)},setHeaderFooter:function(o,e,t){if(!e){return}var r=this.oCommonHeaderFooterHelper.startBuild(o,e,null,t);this.defineHeader(o,r);this.defineFooter(o,r);this.oAppImp.oCurController.DetailCtrl=o;this.oAppImp.oCurController.FullCtrl=null;this.oCommonHeaderFooterHelper.endBuild(o)},defineFooter:function(o,e){var t=this.oCommonHeaderFooterHelper.defineFooterRight(o,e,1e3,false,true,true);e.setShowFooter(t||!!o.isMainScreen())},defineHeader:function(o,e){var t=!this.oAppImp.bIsPhone&&o.isMainScreen()==true,r=o._oHeaderFooterOptions.sDetailTitleId;this.oCommonHeaderFooterHelper.ensureHeader(o,e,this.oAppImp.bIsPhone,t,r);if(o._oHeaderFooterOptions.oHeaderBtnSettings){this.oCommonHeaderFooterHelper.setAppHeaderBtn(o,o._oHeaderFooterOptions.oHeaderBtnSettings)}if(o._oHeaderFooterOptions.oUpDownOptions){this.setUpDownButtons(o,o._oHeaderFooterOptions.oUpDownOptions.iPosition,o._oHeaderFooterOptions.oUpDownOptions.iCount);var n=this.getPositionPars(o);if(this.oAppImp.bIsPhone){if(o._oHeaderFooterOptions.oUpDownOptions.sI18NPhoneTitle){var i=this.oAppImp.getResourceBundle();var s=o._oHeaderFooterOptions.oUpDownOptions.sI18NPhoneTitle}else{var i=this.oAppImp.getUiLibResourceBundle();var s="ITEM_TITLE_PHONE"}}else{if(o._oHeaderFooterOptions.oUpDownOptions.sI18NDetailTitle){var i=this.oAppImp.getResourceBundle();var s=o._oHeaderFooterOptions.oUpDownOptions.sI18NDetailTitle}else{var i=this.oAppImp.getUiLibResourceBundle();var s="ITEM_TITLE"}}var p=i.getText(s,n)}else{this.setUpDownButtons(o,0,0);if(o._oHeaderFooterOptions.sI18NDetailTitle){var i=this.oAppImp.getResourceBundle();var p=i.getText(o._oHeaderFooterOptions.sI18NDetailTitle)}else if(o._oHeaderFooterOptions.sDetailTitle){var p=o._oHeaderFooterOptions.sDetailTitle}else{var i=this.oAppImp.getResourceBundle();var p=i.getText("DETAIL_TITLE")}}o._oControlStore.oTitle.setText(p)},setUpDownButtons:function(o,e,t){if(t<=1){if(o._oControlStore.oUpButton){o._oControlStore.oUpButton.setVisible(false);o._oControlStore.oDownButton.setVisible(false)}}else{if(!o._oControlStore.oUpButton){var r=function(e){o._oHeaderFooterOptions.oUpDownOptions.fSetPosition(o._oHeaderFooterOptions.oUpDownOptions.iPosition+e)};o._oControlStore.oUpButton=new sap.m.Button;o._oControlStore.oUpButton.setIcon("sap-icon://down");o._oControlStore.oUpButton.attachPress(function(){r(1)});o._oControlStore.oHeaderBar.addContentRight(o._oControlStore.oUpButton);o._oControlStore.oDownButton=new sap.m.Button;o._oControlStore.oDownButton.setIcon("sap-icon://up");o._oControlStore.oDownButton.attachPress(function(){r(-1)});o._oControlStore.oHeaderBar.addContentRight(o._oControlStore.oDownButton)}o._oControlStore.oUpButton.setVisible(true);o._oControlStore.oDownButton.setVisible(true);o._oControlStore.oUpButton.setEnabled(e<t-1);o._oControlStore.oDownButton.setEnabled(e>0)}},getPositionPars:function(o){if(o._oHeaderFooterOptions){var e=[o._oHeaderFooterOptions.oUpDownOptions.iPosition+1,o._oHeaderFooterOptions.oUpDownOptions.iCount];if(o._oHeaderFooterOptions.oUpDownOptions.oParent){e=e.concat(this.getPositionPars(o._oHeaderFooterOptions.oUpDownOptions.oParent))}return e}return[]}});
//# sourceMappingURL=DetailHeaderFooterHelper.js.map