/*
 * Copyright (C) 2009-2014 SAP SE or an SAP affiliate company. All rights reserved
 */
sap.ui.controller("sap.ca.ui.quickoverview.Quickview",{onInit:function(){try{jQuery.sap.require("sap.ushell.services.CrossApplicationNavigation")}catch(e){}var e=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService;if(e){this.oCrossAppNavigator=e&&e("CrossApplicationNavigation")}},onExtNav:function(e,i){var t=i.callback;if(typeof t=="function"){var a=t(this.getView());if(a.target.semanticObject&&a.target.action){var r=this.oCrossAppNavigator&&this.oCrossAppNavigator.hrefForExternal({target:{semanticObject:a.target.semanticObject,action:a.target.action},params:a.params});sap.m.URLHelper.redirect(r);var o="qvPopover";var s=sap.ui.getCore().byId(o);if(s&&s.isOpen()){s.close();jQuery.sap.log.info("Close QuickOverview")}}}},onBeforeRendering:function(){},configureView:function(){var e={};e.bHeader=true;e.bSubview=true;if(e.bHeader){this.configHeader()}var i=this.viewConfig.subViewName;var t=this.byId("QVVBox");if(i&&e.bSubview){var a=sap.ui.getCore().byId(i);if(!a){a=new sap.ui.core.mvc.XMLView(i,{viewName:i});a.getController().QuickViewHandler=this.viewConfig.quickOverview;a.getController().HostingView=this.getView()}var r=this.getView().getModel();t.removeAllItems();t.addItem(a);a.setModel(r)}else{t.removeAllItems()}var o={};o.oQvView=this.getView();o.oSubView=a;return o},configHeader:function(){var e=this.viewConfig.headerImgURL;if(!e){e="sap-icon://picture"}var i=this.byId("HeaderBox");i.destroyItems();i.removeAllItems();var t=new sap.m.ObjectAttribute({text:this.viewConfig.headerSubTitle});var a=this.viewConfig.beforeExtNavSubHdr;if(typeof a=="function"){var r={};t.setActive(true);r.callback=a;t.attachPress(r,this.onExtNav,this)}var o=new sap.m.ObjectHeader({title:this.viewConfig.headerTitle,attributes:[t]});var s=this.viewConfig.beforeExtNav;if(typeof s=="function"){var n={};o.setTitleActive(true);n.callback=s;o.attachTitlePress(n,this.onExtNav,this)}if(!this.viewConfig.headerNoIcon){o.setIcon(e);o.addStyleClass("sapCaUiQuickOverviewHdrImgColor")}i.addItem(o)}});
//# sourceMappingURL=Quickview.controller.js.map