/*!
 * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2014 SAP SE. All rights reserved
 */
jQuery.sap.declare("sap.ca.ui.OverflowContainer");jQuery.sap.require("sap.ca.ui.library");jQuery.sap.require("sap.ui.core.Control");sap.ui.core.Control.extend("sap.ca.ui.OverflowContainer",{metadata:{deprecated:true,library:"sap.ca.ui",properties:{overflowHeight:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"200px"},expanded:{type:"boolean",group:"Behavior",defaultValue:false}},aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}}}});sap.ca.ui.OverflowContainer.prototype.init=function(){this._oExpandCollapseBtn=new sap.m.Button({id:this.getId()+"-button",icon:"sap-icon://slim-arrow-down",type:sap.m.ButtonType.Transparent,tap:jQuery.proxy(this._toggleExpandCollapse,this)}).setParent(this).addStyleClass("sapCaUiOCBtn")};sap.ca.ui.OverflowContainer.prototype._toggleExpandCollapse=function(){var e=this.$();this.setProperty("expanded",!this.getExpanded(),true);var t=jQuery.sap.byId(this.getId()+"-overlay");var s=this.getExpanded();if(s){t.hide();this._oExpandCollapseBtn.setProperty("icon","sap-icon://slim-arrow-up",false);e.css("max-height","none")}else{this._oExpandCollapseBtn.setProperty("icon","sap-icon://slim-arrow-down",false);e.css("max-height",this.getOverflowHeight());t.show()}};sap.ca.ui.OverflowContainer.prototype.onBeforeRendering=function(){if(this._sResizeListenerId){sap.ui.core.ResizeHandler.deregister(this._sResizeListenerId);this._sResizeListenerId=null}};sap.ca.ui.OverflowContainer.prototype.onAfterRendering=function(){this._sResizeListenerId=sap.ui.core.ResizeHandler.register(jQuery.sap.domById(this.getId()+"-content"),jQuery.proxy(this._resize,this));var e=this.getExpanded()?"sap-icon://slim-arrow-up":"sap-icon://slim-arrow-down";this._oExpandCollapseBtn.setProperty("icon",e,false);this._updateState(this.getExpanded())};sap.ca.ui.OverflowContainer.prototype._updateState=function(e){var t=jQuery.sap.byId(this.getId()+"-content");var s=jQuery.sap.byId(this.getId()+"-overlay");s.hide();if(parseInt(this.getOverflowHeight(),10)>t.outerHeight(true)){this._oExpandCollapseBtn.setVisible(false)}else{this._oExpandCollapseBtn.setVisible(true);var i=this.$();if(e){i.css("max-height","none")}else{i.css("max-height",this.getOverflowHeight());s.show()}}};sap.ca.ui.OverflowContainer.prototype._getButton=function(){return this._oExpandCollapseBtn};sap.ca.ui.OverflowContainer.prototype.exit=function(){this._oExpandCollapseBtn.destroy();if(this._sResizeListenerId){sap.ui.core.ResizeHandler.deregister(this._sResizeListenerId);this._sResizeListenerId=null}};sap.ca.ui.OverflowContainer.prototype._resize=function(){if(!this.getDomRef()){if(this._sResizeListenerId){sap.ui.core.ResizeHandler.deregister(this._sResizeListenerId);this._sResizeListenerId=null}return}this._updateState(this.getExpanded())};
//# sourceMappingURL=OverflowContainer.js.map