/*
 * Copyright (C) 2009-2014 SAP SE or an SAP affiliate company. All rights reserved
 */
jQuery.sap.declare("sap.ca.ui.model.format.FileSizeFormat");jQuery.sap.require("sap.ui.core.LocaleData");jQuery.sap.require("sap.ca.ui.model.format.FormatHelper");jQuery.sap.require("sap.ca.ui.model.format.NumberFormat");jQuery.sap.require("sap.ca.ui.utils.resourcebundle");sap.ca.ui.model.format.FileSizeFormat=function(){throw new Error};sap.ca.ui.model.format.FileSizeFormat.oValueInfo={oDefaultFormatOptions:{style:"short",shortDecimals:function(e){return Math.abs(e)<10?1:0}}};sap.ca.ui.model.format.FileSizeFormat.getInstance=function(e,a){return this.createInstance(e,a,this.oValueInfo)};sap.ca.ui.model.format.FileSizeFormat.createInstance=function(e,a,t){var r=jQuery.sap.newObject(this.prototype);if(e instanceof sap.ui.core.Locale){a=e;e=undefined}if(!a){a=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale()}r.oLocale=a;r.oLocaleData=sap.ui.core.LocaleData.getInstance(a);r.oFormatOptions=jQuery.extend(false,{},t.oDefaultFormatOptions,e);r.init();return r};sap.ca.ui.model.format.FileSizeFormat.prototype.init=function(){};sap.ca.ui.model.format.FileSizeFormat.prototype.format=function(e){var a=sap.ca.ui.model.format.FormatHelper.toNumeric(e);if(!isFinite(a)){return""}var t=sap.ca.ui.model.format.FormatHelper.getFormatOptions(this.oFormatOptions);var r="";if(isFinite(a)){a=a.toFixed(0);var o=sap.ca.ui.model.format.FormatHelper.getMagnitude(a);if(o.value==1){if(Math.abs(a)<2){r=a+" "+sap.ca.ui.utils.resourcebundle.getText("FileSize.Byte")}else{r=a+" "+sap.ca.ui.utils.resourcebundle.getText("FileSize.Bytes")}}else{t.formatStyle="short";var i=sap.ca.ui.model.format.FormatHelper.roundNumber(a/o.value,t);if(o.value<1e24&&Math.abs(i)>=1e3){o=sap.ca.ui.model.format.FormatHelper.getMagnitude(i*o.value);i=sap.ca.ui.model.format.FormatHelper.roundNumber(a/o.value,t)}r=sap.ca.ui.model.format.FormatHelper.formatNumber(i,t);r+=" "+sap.ca.ui.utils.resourcebundle.getText("FileSize."+o.suffix+"bytes")}}return r};sap.ca.ui.model.format.FileSizeFormat.prototype.parse=function(e){var a=sap.ca.ui.model.format.NumberFormat.getInstance(this.oFormatOptions,this.oLocale);return a.parse(e)};
//# sourceMappingURL=FileSizeFormat.js.map