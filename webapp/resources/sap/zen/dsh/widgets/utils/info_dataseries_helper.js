/*
 * SAPUI5
  (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["jquery.sap.global","sap/sac/df/thirdparty/lodash","sap/zen/dsh/utils/BaseHandler"],function(jQuery,e){"use strict";var a=function(){this.getTemplateShapes=function(e,a){var t="Column";if(a.indexOf("horizontal")!==-1){t="Bar"}return{validValues:[{text:t,key:"bar"},{text:"Line",key:"line"}],defaultSingleValue:"line",dataByInitialView:{}}};this.setDefaultValues=function(e,a){var t=[];for(var r=0;r<e.length;r++){t[r]=[];if(r==0){t[r].push("bar")}else{t[r].push(a)}t[r].push(e[r].key)}return t};this.getMeasureIndex=function(e,a){var t=-1;jQuery.each(e,function(e,r){var i=r[1];if(a===i){t=e}});return t}};a.prototype.getPlotAreaMeasureShapes=function(e,a,t,r){var i=this.getTemplateShapes(t,r);if(a){i=jQuery.extend(i,a)}var n={};if(!e){i.dataByInitialView={};i.dataByInitialView.errorMessage="There are no additional properties for the selected chart.";return i}var s=e.getMeasuresArray();var u=[];if(i.data){for(var l=0;l<s.length;l++){var d=s[l].key;if(this.getMeasureIndex(i.data,d)!==-1){u.push(i.data[l])}else{u.push([i.defaultSingleValue,s[l].key])}}i.data=u}else{u=this.setDefaultValues(s,i.defaultSingleValue)}i.defaultValues=this.setDefaultValues(s,i.defaultSingleValue);n.data={};for(var f=0;f<s.length;f++){n.data[s[f].text+"#KEY#"+s[f].key]=u[f]}i.dataByInitialView=n;return i};a.prototype.getProperties=function(a,t,r){var i=[[],[]];var n=0;var s=sap.viz.api.metadata.Viz.get(t)?sap.viz.api.metadata.Viz.get(t).properties:{};if(!(s.plotArea&&s.plotArea.children.dataShape)){return i}var u=sap.viz.api.metadata.Viz.get(t)?sap.viz.api.metadata.Viz.get(t).bindings:[];var l=jQuery.grep(u,function(e){return e.type==="Measure"});var d=this;e.forEach(l,function(t){var s=t.id;var u=e.find(r,{feed:s});e.forEach(u.source,function(e){var t=d.getMeasureIndex(a.data,e);if(t!==-1){var r=a.data[t];var s=r[0];i[n].push(s)}else{var u=i[n].length===0?"bar":"line";i[n].push(u)}});n=n+1});return i};return a});
//# sourceMappingURL=info_dataseries_helper.js.map