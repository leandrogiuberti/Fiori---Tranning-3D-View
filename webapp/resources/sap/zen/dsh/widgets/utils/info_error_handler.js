/*
 * SAPUI5
  (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["jquery.sap.global","sap/sac/df/thirdparty/lodash","sap/zen/dsh/utils/BaseHandler"],function(jQuery,e,r){"use strict";var o="info";var t="warn";var n="error";var a=[o,t,n];var s=window;function i(e,r,o){this.control=e;this.errorLookup=r;this.isDesignTime=o}i.prototype.renderError=function(e){this.control.fireChartError({newValue:e.message?e.message:e});var r=this.errorLookup.get(e);d(e,r);if(r){l(this.control,r,this.isDesignTime)}return!!r};i.prototype.checkError=function(){if(this._error){throw this._error}};i.prototype.setError=function(e){var r=this.errorLookup.get(e);d(e,r);this._errorInfo=r;this._error=e};i.prototype.clearError=function(){this._errorInfo=undefined;this._error=undefined};function d(e,r){if(e.message==="control.waitForReady"){return}if(s.console){s.console.log(r,e);if(e instanceof Error){s.console.log(e.stack)}}}function l(e,o,t){var n=false;var a=e.getControlDiv();f(a);c(a,o.level);g(a,o.title);e.showLoadingStateText=o.title;e.showLoadingState=true;e.setEmptyBackground();e.showLoadingState=true;r.dispatcher.addMessageOverlay(e,e.showLoadingStateText,n,true);e.oldAfterRenderingForDispatching=e.oldAfterRenderingForDispatching||e.onAfterRendering;if(!t){p(o)}}function f(r){e.forEach(a,function(e){r.removeClass("state-"+e)})}function c(e,r){e.addClass("ghost");e.addClass("state-"+r)}function g(e,r){var o=e.parent();o.find(".infoMessagePanel").remove();o.append(jQuery("<div/>").addClass("infoMessagePanel").addClass("componentLoadingStateMessage").attr("title",r).text(r));o.find(".infoErrorIcon").remove();o.append(jQuery("<div/>").addClass("infoErrorIcon").addClass("componentLoadingStateBox").addClass("zenLoadingStateOpacity75").addClass("componentLoadingStateBoxNoIcon"))}function p(e){var r=sap.zen.MessageViewHandler.error;if(e.level===o){r=sap.zen.MessageViewHandler.info}else if(e.level===t){r=sap.zen.MessageViewHandler.warning}if(e.description){sap.zen.MessageViewHandler.createMessage(r,e.title,e.description,true)}}return i});
//# sourceMappingURL=info_error_handler.js.map