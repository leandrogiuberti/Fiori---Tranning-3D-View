/*
 * SAPUI5
  (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["jquery.sap.global","sap/base/Log","sap/sac/df/thirdparty/lodash","sap/zen/dsh/widgets/LegacyInitialViewFeeding","sap/zen/dsh/utils/BaseHandler"],function(jQuery,e,a,r){"use strict";var n={primaryValues:"valueAxis",regionColor:"color",pieSectorColor:"color",pieSectorSize:"size",axisLabels:"categoryAxis"};function i(e){this._cvomDataGetter=e||new r}i.prototype.createBindings=function(e,r){var n=this._cvomDataGetter.getFeedingData(e,r);var i=a.chain(n.feeding).map(a.partial(t,n.data,r)).filter(a.isObject).value();if(f(i,true)){l(i)}return i};function t(e,r,i){var t=n[i.feedId];return t&&{feed:t,source:c(i.binding,a.partial(s,e,r))}}function s(e,r,n){var i={measureValuesGroup:u,analysisAxis:o,measureNamesDimension:a.constant({measureNames:["valueAxis"]})};return i[n.type]&&i[n.type](e,r,n)}function u(r,n,i){var t=a.find(r.measureValuesGroup,{index:i.index});if(t){var s=t.data;return a.map(s,function(e){return e.key})}else{e.error("Could nod find measureValuesGroup with index: "+i.index);return[]}}function o(r,n,i){var t=a.find(r.analysisAxis,{index:i.index});if(t){var s=t.data;return a.chain(s).map(function(e){return a.find(n.dimensions,{text:e.name})}).reject(a.isUndefined).map("key").value()}else{e.error("Could not find analysisAxis with index: "+i.index);return[]}}function c(e,r){return a.chain(e).map(r).filter(a.isObject).flatten(true).value()}function d(e){var r=a.find(e,{feed:"categoryAxis"});return r}function f(e,a){var r=d(e);if(a&&!r){return false}return!r||!r.source||!r.source.length}function l(e){var r=d(e);var n=a.partial(a.has,a,"measureNames");if(!r){r={feed:"categoryAxis"};e.push(r)}a.forEach(e,function(e){e.source=a.reject(e.source,n)});r.source=[{measureNames:["valueAxis"]}]}return i});
//# sourceMappingURL=info_legacy_binding_service.js.map