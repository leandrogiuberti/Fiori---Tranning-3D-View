/*
 * SAPUI5
  (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["jquery.sap.global","sap/zen/dsh/utils/BaseHandler","sap/ui/core/ListItem","sap/m/Select","sap/ui/commons/DropdownBox"],function(jQuery,BaseHandler,ListItem){"use strict";var DropDownListBoxHandler=function(){BaseHandler.apply(this,arguments);var dispatcher=BaseHandler.dispatcher;this.create=function(oChainedControl,oControlProperties){var id=oControlProperties["id"];var oCombo=this.createDefaultProxy(id);var that=this;oCombo.setMaxHistoryItems(0);init(oCombo,oControlProperties);oCombo.attachChange(function(oControlEvent){var key=null;var oItem=oControlEvent.getParameter("selectedItem");if(oItem){key=oItem.getKey();key+="|SeP|"}if(key!==null){var command=that.prepareCommand(oControlProperties.command,"__KEYS__",key);eval(command)}});return oCombo};this.update=function(e,t){if(t){init(e,t)}return e};function init(e,t){e.removeAllItems();e.setTooltip(t.tooltip);e.setEnabled(t.enabled);var o=t.selectedItems;var r=null;if(o&&o[0]){r=dispatcher.getValue(o[0],"key")}var n=t.items;for(var a=0;a<n.length;a++){var i=n[a];var s=i.item.key;var l=i.item.val_0;var d=new ListItem(a);d.setKey(s);if(l.length===0){l=s}d.setText(l);e.addItem(d);if(s===r){e.setSelectedKey(s)}}}this.getDefaultProxyClass=function(){return["sap.m.Select","sap.ui.commons.DropdownBox"]};this.provideFunctionMapping=function(){return[[null,"setMaxHistoryItems"]]};this.getDecorator=function(){return"DataSourceFixedHeightDecorator"};this.getType=function(){return"dropdown"}};var instance=new DropDownListBoxHandler;BaseHandler.dispatcher.addHandlers(instance.getType(),instance);return instance});
//# sourceMappingURL=dropdown_handler.js.map