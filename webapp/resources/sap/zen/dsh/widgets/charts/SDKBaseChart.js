/*!
 * SAPUI5
  (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["jquery.sap.global","sap/sac/df/thirdparty/lodash","sap/ui/core/Control","sap/m/TextArea","sap/zen/dsh/utils/BaseHandler","sap/zen/dsh/widgets/dataMappers/SDKGenericDataMapper","sap/zen/dsh/widgets/utilities/SDKUtilsHelper","sap/zen/dsh/widgets/charts/helpers/SDKChartDataFeedingHelper","sap/zen/dsh/widgets/charts/ChartException"],function(jQuery,e,t,a,i,s,r,l){"use strict";t.extend("sap.zen.SDKBaseChart",{metadata:{properties:{imageVisibility:{type:"boolean",defaultValue:false},cvomError:{type:"string",defaultValue:null},width:{type:"sap.ui.core.CSSSize"},height:{type:"sap.ui.core.CSSSize"},onSelect:{type:"string"},dataLabel:{type:"boolean",defaultValue:false},animation:{type:"boolean",defaultValue:true},chartValuesFull:{type:"object",defaultValue:{visible:false,position:"inside"}},background:{type:"object",defaultValue:{selectedValidValues:["Solid Fill","No Fill"],selectedValue:"Solid Fill",colorValidValues:[null,"transparent"],colorValue:null}},presentation:{type:"object",defaultValue:{label:"When displaying dimension values use:",selectedValidValues:["defaults","text","key"],selectedValidValuesText:["Initial View Definitions","Text","Key"],selectedValue:"defaults"}},axisScaling:{type:"object",defaultValue:{axisSingle:{fixedRange:false,minValue:"",maxValue:""},axisDual:{fixedRange:false,minValue:"",maxValue:""}}}},aggregations:{errorLayoutControl:{type:"sap.zen.commons.layout.AbsoluteLayout",multiple:false},imageControl:{type:"sap.ui.core.Control",multiple:false}}},_onInitilized:null,_measureFormat:null,_tooltipFormat:null,_alreadySwapped:false,_utilsHelper:null,_formattingHelper:null,_colourHelper:null,_chartDataFeedingHelper:null,_chartAdditionalPropertiesHelper:null,_lastError:null,ADDITIONAL_PROPERTIES_SEPARATOR:".",INTERNAL_ERROR:"Internal error",getChartDataFeedingHelper:function(){if(this._chartDataFeedingHelper==null)this._chartDataFeedingHelper=new l;return this._chartDataFeedingHelper},setData:function(e){this.data=e},getAxesSwapped:function(){return this.axesSwapped},getData:function(){return this.data},getMessages:function(){return this.messages},getDataMapper:function(){return new s},registerHelper:function(e){if(!this.helpers){this.helpers={}}if(!this.helpers[e]){this.helpers[e]=e}},init:function(){this.data=null;this.locale=null;this.axisFormat=null;this.chartFormatType=null;this.chartThemes=null;this.createImage(this.getId());this.createErrorLayout(this.getId());this.initCvomChartType();this.bOnAfterRendering=true;this._updateCvomDataNeeded=false;this._oldProps={}},initCvomChartType:function(){},createImage:function(){},createErrorLayout:function(){if(sap.ui.getCore().byId(this.getId()+"_error")){sap.ui.getCore().byId(this.getId()+"_error").destroy()}var e=new sap.zen.commons.layout.AbsoluteLayout(this.getId()+"_error");var t=i.dispatcher.isMainMode();var s=t?new a(this.getId()+"_errormessage"):new sap.ui.commons.TextView(this.getId()+"_errormessage");s.setTextAlign("Center");if(t){s.setValueState(sap.ui.core.ValueState.Error)}else{s.setDesign("Bold");s.setSemanticColor("Critical")}e.addContent(s,{left:"5px",top:"5px",right:"5px"});if(jQuery.support.opacity){e.addStyleClass("zenMessageWithOpacity")}else{e.addStyleClass("zenMessageWithFilter")}this.setErrorLayoutControl(e)},createDataMapper:function(){var e=this.getDataMapper();e.setMessages(this.getMessages());return e},getDataDualFeeding:function(e,t,a,i){var s=this.getChartDataFeedingHelper();var r=s.getDataDualFeedingColor(t,a,i);var l=[];l.push(s.getAnalysisAxisIndex1());var n=[{feedId:"primaryValues",binding:[{type:"measureValuesGroup",index:1}]},{feedId:"secondaryValues",binding:[{type:"measureValuesGroup",index:2}]},{feedId:"regionColor",binding:r},{feedId:"axisLabels",binding:l}];return n},getDataFeeding:function(t,a,i,s){var r=this.getChartDataFeedingHelper();var l=r.getDataFeedingAxis(t,a,s,i);var n=function(t){var a=e.chain(t&&t.dimensions).find({containsMeasures:true}).value();return a&&a.axis_index};var o=n(this.data);if(o===undefined){o=a}var u=r.getDataFeedingColor(t,o,s,i);var d=[{feedId:"axisLabels",binding:l},{feedId:"regionColor",binding:u},{feedId:"primaryValues",binding:[{type:"measureValuesGroup",index:1}]}];return d}});return sap.zen.SDKBaseChart});
//# sourceMappingURL=SDKBaseChart.js.map