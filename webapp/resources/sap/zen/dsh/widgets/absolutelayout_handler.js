/*
 * SAPUI5
  (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["jquery.sap.global","sap/zen/dsh/utils/BaseHandler","sap/zen/dsh/utils/jq"],function(jQuery,BaseHandler){"use strict";var AbsoluteLayoutHandler=function(){BaseHandler.apply(this,arguments);var dispatcher=BaseHandler.dispatcher;var that=this;function init(oAbsLayout,oControlProperties){var aChildren=oControlProperties.content;if(oControlProperties.newurl){if(oControlProperties.newurl.length&&oControlProperties.newurl.length>=8&&oControlProperties.newurl.substring(0,7)==="mailto:"){window.location=oControlProperties.newurl}else{if(sap.zen.dsh.sapbi_Mobile&&(sap.zen.dsh.sapbi_Mobile.mobi.iPad||sap.zen.dsh.sapbi_Mobile.mobi.iPhone)){var mobiPrefix="mobi://openNewWindow?url=";var encodedUrl=encodeURIComponent(oControlProperties.newurl);var mobiOpenUrl=mobiPrefix+encodedUrl;window.location.href=mobiOpenUrl}else{window.open(oControlProperties.newurl)}}}if(oControlProperties.afterRendering){eval(oControlProperties.afterRendering)}if(oControlProperties.loadingIndicatorDelay){sap.zen.dsh.getLoadingIndicator().setDelay(oControlProperties.loadingIndicatorDelay)}if(aChildren){that.updateChildren(aChildren,oAbsLayout,function(e,t){dispatcher.insertIntoAbsoluteLayoutContainer(oAbsLayout,e,t)},function(e){oAbsLayout.removeContent(e)})}}this.addD4LClasses=function(e){e.addStyleClass("designmodeborder")};this.rootNeedsToBeDropEnabled=function(e){var t,o,r,n,i=false;if(e){t=e.getComponentIds();for(o=0;o<t.length&&!i;o++){r=t[o];n=e.getControlForId(r);if(n&&n.zenControlType&&n.zenControlType==="xtable"){i=n.getPropertyBag().isDragDropEnabled()}}}return i};this.createAndAdd=function(e,t,o,r){var n=t["id"];var i=this.createAbsoluteLayout(n);i.addStyleClass("zenborder");this.addD4LClasses(i);r(i,o);init(i,t);if(n==="ROOT_absolutelayout"){if(this.rootNeedsToBeDropEnabled(dispatcher)===true){i.fOrigOnAfterRendering=i.onAfterRendering;i.fOrigDestroy=i.destroy;i.destroy=function(){jQuery(document.getElementById(this.getId())).droppable("destroy");if(this.fOrigDestroy){this.fOrigDestroy()}};i.onAfterRendering=function(){if(this.fOrigOnAfterRendering){this.fOrigOnAfterRendering()}jQuery(document.getElementById(this.getId())).droppable({greedy:true,accept:function(){return true},drop:function(e,t){if(!e.buttons){dispatcher.onUnhandledDrop(e,t)}}})}}}return i};this.updateComponent=function(e,t){if(t){init(e,t)}return e};this.applyForChildren=function(e,t){var o=e.getPositions();for(var r=0;r<o.length;r++){var n=o[r].getControl();if(n){var i=t(n);if(i)return i}}return null};this.getDecorator=function(){return"RootDecorator"};this.getType=function(){return"absolutelayout"}};var instance=new AbsoluteLayoutHandler;BaseHandler.dispatcher.addHandlers(instance.getType(),instance);return instance});
//# sourceMappingURL=absolutelayout_handler.js.map