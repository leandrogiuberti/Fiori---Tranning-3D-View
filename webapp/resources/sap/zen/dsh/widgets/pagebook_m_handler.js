/*
 * SAPUI5
  (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["jquery.sap.global","sap/sac/df/thirdparty/lodash","sap/zen/dsh/utils/BaseHandler"],function(jQuery,_,BaseHandler){"use strict";var dispatcher=BaseHandler.dispatcher;var PagebookHandler=function(){BaseHandler.apply(this,arguments);var that=this;this.create=function(oChainedControl,oControlProperties){var id=oControlProperties.id;var oPagebook=new sap.m.Carousel(id);init(oPagebook,oControlProperties);if(sap.zen.designmode){oPagebook.addStyleClass("zenborder")}if(oControlProperties.command){oPagebook.attachPageChanged(function(e){var newId=e.getParameters().newActivePageId;var aPages=this.getPages();var iIndex=0;for(var i=0;i<aPages.length;i++){if(aPages[i].sId===newId){iIndex=i;break}}var command=that.prepareCommand(oControlProperties.command,"__KEY__",iIndex);eval(command)})}return oPagebook};this.update=function(e,t){init(e,t);return e};function init(e,t){if(t){e.setShowPageIndicator(!!t.showpageindicator);var a=t.content;if(a){that.updateChildren(a,e,function(t,a){e.insertPage(t,a)},function(t){e.removePage(t)})}e.setActivePage(e.getPages()[t.selectedpageindex])}}this.applyForChildren=function(e,t){var a=e.getPages();for(var r=0;r<a.length;r++){var n=a[r];if(n){t(n)}}};this.getType=function(){return"pagebook"};this.getDecorator=function(){return"GroupDecorator"}};var PageHandler=function(){"use strict";BaseHandler.apply(this,arguments);var e=BaseHandler.dispatcher;var t=this;this.create=function(e,t){var r=t["id"];var n=this.createAbsoluteLayout(r);a(n,t);return n};this.update=function(e,t){a(e,t)};function a(a,r){if(r){var n=a;var o=r.content;if(o){t.updateChildren(o,a,function(t,a,r){if(r){var o=e.createAbsoluteLayoutInfo(r);var i=e.calcWidthUseOrderOfPriority(o.left,o.right,r.width);var s=e.calcHeightUseOrderOfPriority(o.top,o.bottom,r.height);e.setWidthHeight(t,i,s)}e.insertIntoAbsoluteLayoutContainer(n,t,a)},function(e){n.removeContent(e)});a.zenPageUpdated=true}}}this.applyForChildren=function(e,t){var a=e.getContent();for(var r=0;r<a.length;r++){var n=a[r];if(n){t(n)}}}};var PagebookHandlerInstance=new PagebookHandler;var PageHandlerInstance=new PageHandler;var PageDecorator=function(e,t){this.iRelativeLevel=1;sap.zen.designmode.Decorator.apply(this,arguments);sap.zen.designmode.GroupDecorator.apply(this,arguments);sap.zen.designmode.ContainerDecorator.apply(this,arguments);this._debugInfo="PageDecorator";this.showAdorner=function(){if(e.decoratorMultiSelectLength()>1){return this.jqDecorator}var a=t.getParent();a.setActivePage(this.getPhxControl())};this.updateAdornerVisualisation=function(){this.showAdorner()};var a=this.visible;this.visible=function(e){var r=t.getParent();a.call(this,e&&r.getActivePage()===this.getPhxControl().sId)}};dispatcher.addHandlers("page",PageHandlerInstance,PageDecorator);return PagebookHandlerInstance});
//# sourceMappingURL=pagebook_m_handler.js.map