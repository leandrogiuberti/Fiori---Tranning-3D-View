/*
 * SAPUI5
  (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["jquery.sap.global","sap/zen/dsh/utils/BaseHandler","sap/base/security/encodeURL"],function(jQuery,e,t){"use strict";var n=function(){e.apply(this,arguments);var n=this;this.oPlacementMapping={BOTTOM:sap.m.PlacementType.Bottom,LEFT:sap.m.PlacementType.Left,RIGHT:sap.m.PlacementType.Right,TOP:sap.m.PlacementType.Top,HORIZONTAL:sap.m.PlacementType.Horizontal,VERTICAL:sap.m.PlacementType.Vertical,AUTO:sap.m.PlacementType.Auto};this.oActionSheet=null;this.oAction=null;this.create=function(e,t){var n=t["id"];var o=this.createButton(n);this.init(o,t);o.setVisible(false);return o};this.update=function(e,t){if(t){this.init(e,t)}return e};this.init=function(o,a){var i=function(){if(n.oActionSheet){n.oActionSheet.destroyButtons();n.oActionSheet.destroy();n.oActionSheet=null}};if(a.open===true){i();n.oActionSheet=new sap.m.ActionSheet(o.getId()+"_rendered");if(a.placement){n.oActionSheet.setPlacement(n.oPlacementMapping[a.placement])}else{n.oActionSheet.setPlacement(sap.m.PlacementType.Auto)}var s=a.onClickCommand;var c=a.items;if(c){for(var l=0;l<c.length;l++){var r=c[l].item;var u=new sap.m.Button(n.oActionSheet.getId()+"_button_"+l);if(r.text){u.setText(r.text)}else{u.setText(r.value)}if(r.icon){u.setIcon(r.icon)}var m=s.replace("__VALUE__",t(r.value));u.data("onClickCommand",{value:m});u.attachPress(function(){n.oActionSheet.data("onActionCommand",this.data("onClickCommand"))});if(r.value==="TILE"){var p=sap.ushell.renderers.fiori2.RendererExtensions.getConfiguration();if(p.enablePersonalization!==undefined){var h=p.enablePersonalization;u.setEnabled(h)}}n.oActionSheet.addButton(u)}}setTimeout(function(){var t=e.dispatcher.getRootControlForComponentId(a.openBy);if(t){n.oActionSheet.openBy(t);n.oActionSheet.attachAfterClose(null,function(){var e=null;if(a.closeCommand){e=new Function(a.closeCommand)}var t=null;if(this.data("onActionCommand")){t=new Function(this.data("onActionCommand").value)}i();if(e){e()}if(t){t()}})}},1)}};this.getDefaultProxyClass=function(){return[sap.m.ActionSheet,null]};this.getType=function(){return"actionsheet"}};var o=new n;e.dispatcher.addHandlers(o.getType(),o);return o});
//# sourceMappingURL=actionsheet_handler.js.map