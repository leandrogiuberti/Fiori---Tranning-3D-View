/*!
 * SAPUI5
  (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["jquery.sap.global","sap/base/Log","sap/ushell/services/Container"],function(jQuery,e,t){"use strict";e.info("Loaded Shell");var a={attach:function(){function t(e,a,i){var o=i?JSON.parse(JSON.stringify(a)):a;if(typeof a!=="object"){return}Object.keys(o).forEach(function(a){if(Object.prototype.toString.apply(e[a])==="[object Object]"&&Object.prototype.toString.apply(o[a])==="[object Object]"){t(e[a],o[a],false);return}e[a]=o[a]})}function a(e){var a,i,o,n;function s(e){var t=[],a;if(!e||!e.applications||typeof e.applications!=="object"){return t}for(a in e.applications){if(Object.prototype.hasOwnProperty.call(e.applications,a)&&a!==""){t.push(a)}}return t}function r(e,t,a){var i=e.title||e.additionalInformation.replace("SAPUI5.Component=","").split(".").pop();return{id:"sap_ushell_generated_tile_id_"+t,title:i,size:"1x1",tileType:"sap.ushell.ui.tile.StaticTile",properties:{chipId:"sap_ushell_generated_chip_id",title:i,info:e.description,targetURL:"#"+a}}}a=s(e);if(a.length){i=jQuery.sap.getObject("services.LaunchPage.adapter.config",0,e);if(!i.groups){i.groups=[]}n={id:"sap_ushell_generated_group_id",title:"Generated Group",tiles:[]};i.groups.unshift(n);a.forEach(function(t,a){n.tiles.push(r(e.applications[t],a,t))});o=jQuery.sap.getObject("services.NavTargetResolution.adapter.config.applications",0,e);t(o,e.applications,true);delete e.applications}return e}function i(a){var i=jQuery.sap.endsWithIgnoreCase(a,".json")?a:a+".json",o;e.info("Mixing/Overwriting sandbox configuration from "+i+".");o=jQuery.sap.sjax({url:i,dataType:"json"});if(o.success){e.debug("Evaluating fiori launchpad sandbox config JSON: "+JSON.stringify(o.data));t(window["sap-ushell-config"],o.data,true)}else if(o.statusCode!==404){e.error("Failed to load Fiori Launchpad Sandbox configuration from "+i+": status: "+o.status+"; error: "+o.error)}}function o(){var e,t,a,i;t=window.document.getElementById("sap-ushell-bootstrap");if(!t){e=window.document.getElementsByTagName("script");t=e[e.length-1]}a=t.src;i=a.split("?")[0].split("/").slice(0,-1).join("/")+"/";return i}function n(e){var t=window["sap-ushell-config"],a;if(typeof e==="string"&&e!==""){t.defaultRenderer=e}a=jQuery.sap.getObject("services.NavTargetResolution.adapter.config.applications",5,t);if(typeof a==="object"&&t.defaultRenderer!=="fiorisandbox"){delete a[""]}}function s(e){var t=jQuery.sap.getUriParameters().get("sap-ushell-sandbox-config",true),s=jQuery.sap.getUriParameters().get("sap-ushell-sandbox-renderer"),r,p,l,c;i(o()+"../shells/sandbox/fioriSandboxConfig.json");if(t&&t.length>0){for(r=0;r<t.length;r=r+1){i(t[r])}}else{i("/appconfig/fioriSandboxConfig.json")}n(s);window["sap-ushell-config"]=a(window["sap-ushell-config"]);l=jQuery.sap.getObject("renderers.fiori2.componentData.config",0,window["sap-ushell-config"]);if(!l.rootIntent){l.rootIntent="Shell-home"}c=jQuery.sap.getObject("services.Ui5ComponentLoader.config",0,window["sap-ushell-config"]);if(!Object.prototype.hasOwnProperty.call(c,"amendedLoading")){c.amendedLoading=false}p=jQuery.sap.getObject("services.ClientSideTargetResolution.adapter.config",0,window["sap-ushell-config"]);p.applications=jQuery.sap.getObject("services.NavTargetResolution.adapter.config.applications",undefined,window["sap-ushell-config"]);sap.ushell.bootstrap("local").done(e)}sap.ushell.__sandbox__=sap.ushell.__sandbox__||{};sap.ushell.__sandbox__._adjustApplicationConfiguration=a;sap.ushell.__sandbox__._applyJsonApplicationConfig=i;sap.ushell.__sandbox__._evaluateCustomRenderer=n;sap.ushell.__sandbox__._bootstrap=s;return s}}});
//# sourceMappingURL=Shell.js.map