/*
 * SAPUI5
  (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["jquery.sap.global","sap/base/Log","sap/zen/dsh/utils/dispatcher","sap/m/IconTabBar","sap/m/IconTabFilter","sap/ui/commons/TabStrip","sap/m/Select","sap/m/Panel","sap/ui/commons/Panel","sap/m/Dialog","sap/ui/commons/Dialog","sap/m/Button","sap/ui/commons/Button","sap/m/TextArea","sap/ui/commons/TextArea","sap/m/Label","sap/ui/commons/Label","sap/zen/commons/layout/AbsoluteLayout","sap/ui/unified/Menu","sap/ui/unified/MenuItem","sap/m/CheckBox","sap/ui/commons/CheckBox","sap/sac/df/firefly/library","sap/ui/table/library"],function(jQuery,e,t,n,i,r,a,s,o,u,l,c,d,h,f,p,g,m,M,w,v,C){function x(){this.styleClasses=[];this.createUI5Identifier=function(e){return e.replace(/[^-A-Za-z0-9_.:]/g,"_")};this.remove=function(e){if(this.applyForChildren){this.applyForChildren(e,function(e){t.dispatchRemove(e)})}t.deregisterResizeHandler(e);if(e.zenMessageControl){t.removeMessageOverlay(e);e.onAfterRendering=e.oldAfterRenderingForDispatching;delete e.oldAfterRenderingForDispatching;delete e.showLoadingState;delete e.showLoadingStateText;delete e.showLoadingStateIcon;delete e.zenMessageControl}e.destroy()};this.createAndAdd=function(n,i,r,a,s){var o=this.create(n,i,r);if(!o){e.error("Failed to create a new control");throw new Error("Failed to create new control")}if(a){a(o,s,r)}t.updateComponentProperties(o,r,a);return o};this.updateComponent=function(e,n,i,r){this.update(e,n,i);t.updateComponentProperties(e,i,r)};this.isNew=function(e){return t.getRootControlForComponentId(e.id)==null};this.updateChildren=function(e,n,i,r){var a=this.getAllChildren(n);for(var s=0;s<e.length;s++){var o;if(e[s].component){o=e[s].component}else{o={id:e[s].control.id,content:e[s]};var u=o.content.control.controlLayoutProperties;if(u){for(var l in u){if(Object.prototype.hasOwnProperty.call(u,l)){o[l]=u[l]}}}}var c=a[o.id];if(this.isNew(o)){t.dispatchCreateControl(o,i,s)}else if(c){var d=c.i;if(d!==s){var h=c.o;r(h);i(h,s)}t.dispatchUpdateControl(o)}else{var f=t.getTransferControl(o.id);i(f,s);t.dispatchUpdateControl(o,i)}delete a[o.id]}var p=this.getAllChildren(n);for(var g in a){if(p[g]){var m=a[g].o;t.addTransferControl(m,r)}}};this.getAllChildren=function(e){var n={};var i=0;var r=function(e){var r=t.getComponentIdForControl(e);if(r){n[r]={i:i,o:e};i++}};this.applyForChildren(e,r);return n};this.prepareCommand=function(e,n,i){return t.prepareCommand(e,n,i)};this.advancedPropertyCall=function(){return null};this.getContextMenuAction=function(){return null};this.getDefaultProxyClass=function(){throw new Error("You have to provide a default proxy class! [<MCLASS>,<UI_COMMONS_CLASS>]")};this.provideFunctionMapping=function(){return null};var x=function(t){e.info("Dynamically loading class: "+t);var n=T(t);if(n==null){jQuery.sap.require(t);n=T(t)}if(n==null){throw new Error("Object does not exist! Check your getDefaultProxyClass method!")}return n};var y=function(e,t,n){e[t]=function(){if(n!==null){return this[n].apply(this,arguments)}return null}};this.createDefaultProxy=function(e){var n,i;if(t.isMainMode()){n=this.getDefaultProxyClass()[0];i=x(n);var r=new i(e);var a=this.provideFunctionMapping();if(a!=null){for(var s=0;s<a.length;s++){var o=a[s][1];var u=a[s][0];y(r,o,u)}}return r}else{n=this.getDefaultProxyClass()[1];i=x(n);return new i(e)}};function T(e){var t=e.split(".");var n=window;for(var i=0;i<t.length;i++){var r=t[i];n=n[r];if(!n){break}}return n}this.createButton=function(e,n){if(t.isMainMode()){return new c(e,n)}else{return new d(e,n)}};this.createButtonWithHeight=function(e){if(t.isMainMode()){this.createZenButtonClassIfNecessary();return new sap.zen.ZenButton(e)}else{return new d(e)}};this.createZenButtonClassIfNecessary=function(){if(t.isMainMode()){c.extend("sap.zen.ZenButton",{metadata:{properties:{height:"sap.ui.core.CSSSize"}},renderer:{},onAfterRendering:function(e){if(c.prototype.onAfterRendering){c.prototype.onAfterRendering.apply(this,[e])}this.addStyleClass("zenSapMBtnFixHeight");var t=this.getHeight();var n=this.$();var i=jQuery(n.children()[0]);var r=jQuery(i.children()[0]);if(t!=="auto"){n.css("height",t);i.css("height",t);r.css("line-height",t)}}})}};this.createPanel=function(e){if(t.isMainMode()){return new s(e)}else{return new o(e)}};this.createDropdownBox=function(e,n){if(t.isMainMode()){var i=new a(e,n);i.setEditable=function(){};i.getValue=function(){return this.getSelectedItem().getKey()};return i}else{return new sap.ui.commons.DropdownBox(e,n)}};this.createTabStrip=function(e,a){if(t.isMainMode()){var s=n(e,a);s.createTab=function(e,t){var n=new i;n.setText(e);n.addContent(t);this.addItem(n)};s.getSelectedIndex=function(){var e=this.getItems();for(var t=0;t<e.length;t++){if(e[t].getId()===this.getSelectedKey()){return t}}return 0};s.setSelectedIndex=function(e){var t=this.getItems();this.setSelectedKey(t[e].getId())};return s}else{return new r(e,a)}};this.createLabel=function(e,n){if(t.isMainMode()){return new p(e,n)}else{return new g(e,n)}};this.createTree=function(e){if(t.isMainMode()){return new sap.ui.table.TreeTable(e,{columns:[new sap.ui.table.Column({label:"Text",template:"text"})]})}else{return new sap.ui.commons.Tree(e)}};this.createDialog=function(e,n){if(t.isMainMode()){var i=new u(e);i.attachClosed=function(e){this.attachAfterClose(e)};i.setResizable=function(){};i.setMinWidth=function(){};i.setMinHeight=function(){};i.addStyleClass("sapUiPopupWithPadding");return i}else{return new l(e,n)}};this.createMenu=function(e,n){if(t.isMainMode()){return new M(e,n)}else{return new sap.ui.commons.Menu(e,n)}};this.createMenuItem=function(e,n){if(t.isMainMode()){return new w(e,n)}else{return new sap.ui.commons.MenuItem(e,n)}};this.createCheckBox=function(e,n){if(t.isMainMode()){var i=new v(e,n);i.setChecked=function(e){this.setSelected(e)};i.getChecked=function(){return this.getSelected()};i.attachChange=function(e){this.attachSelect(e)};return i}else{return new C(e,n)}};this.createTextView=function(e,n){if(t.isMainMode()){return new sap.m.Text(e,n)}else{return new sap.ui.commons.TextView(e,n)}};this.createTextField=function(e,n){if(t.isMainMode()){return new sap.m.Input(e,n)}else{return new sap.ui.commons.TextField(e,n)}};this.createTextArea=function(e,n){if(t.isMainMode()){return new h(e,n)}else{return new f(e,n)}};this.useMessageBox=function(){if(t.isMainMode()){return sap.m.MessageBox}else{return sap.ui.commons.MessageBox}};this.createTextWithHeight=function(e,t){this.createTextClassWithHeight();return new sap.zen.dsh.ZenTextView(e,t)};this.createTextClassWithHeight=function(){if(sap.zen.dsh.ZenTextView&&sap.zen.dsh.ZenTextView.isMainMode!==t.isMainMode()){delete sap.zen.ZenTextView}if(!sap.zen.dsh.ZenTextView){var e;if(t.isMainMode()){e=sap.m.Text}else{e=sap.ui.commons.TextView}e.extend("sap.zen.dsh.ZenTextView",{metadata:{properties:{height:"sap.ui.core.CSSSize",cssStyle:"string"}},renderer:{},onAfterRendering:function(t){if(e.prototype.onAfterRendering){e.prototype.onAfterRendering.apply(this,[t])}var n=this.getHeight();var i=this.$();if(n!=="auto"){i.height(n)}var r=i.attr("style");r+=";"+this.getCssStyle();i.attr("style",r)}});sap.zen.dsh.ZenTextView.isMainMode=t.isMainMode()}};this.createAbsoluteLayout=function(e,t){return new m(e,t)}}x.dispatcher=t;return x});
//# sourceMappingURL=BaseHandler.js.map