/*
 * SAPUI5
    (c) Copyright 2009-2020 SAP SE. All rights reserved
  
 */
sap.ui.define(["jquery.sap.global","sap/base/Log","sap/zen/commons/library","sap/ui/core/Element"],function(jQuery,t,e,i){"use strict";var r=i.extend("sap.zen.commons.layout.PositionContainer",{metadata:{library:"sap.zen.commons",properties:{top:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},bottom:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},left:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},right:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},centerHorizontally:{type:"boolean",group:"Dimension",defaultValue:false},centerVertically:{type:"boolean",group:"Dimension",defaultValue:false}},defaultAggregation:"control",aggregations:{control:{type:"sap.ui.core.Control",multiple:false}}}});(function(){r.prototype.setControl=function(t){o(this);if(this.getDomRef()){this.setAggregation("control",t,true);i(this,t?"CTRL_CHANGE":"CTRL_REMOVE")}else{if(this.getParent()&&this.getParent().getDomRef()){this.setAggregation("control",t,true);if(t){i(this,"CTRL_ADD")}}else{this.setAggregation("control",t)}}if(t){t.attachEvent("_change",a,this)}return this};r.prototype.destroyControl=function(){o(this);var t=!!this.getDomRef();this.destroyAggregation("control",t);if(t){i(this,"CTRL_REMOVE")}return this};r.prototype.setTop=function(t){e(this,"top",t,true);return this};r.prototype.setBottom=function(t){e(this,"bottom",t,true);return this};r.prototype.setLeft=function(t){e(this,"left",t,true);return this};r.prototype.setRight=function(t){e(this,"right",t,true);return this};r.prototype.setCenterHorizontally=function(t){e(this,"centerHorizontally",t,true);return this};r.prototype.setCenterVertically=function(t){e(this,"centerVertically",t,true);return this};r.prototype.updatePosition=function(t){if(!t){t={}}e(this,"centerHorizontally",t.centerHorizontally?t.centerHorizontally:null);e(this,"centerVertically",t.centerVertically?t.centerVertically:null);e(this,"left",t.left?t.left:null);e(this,"right",t.right?t.right:null);e(this,"top",t.top?t.top:null);var r=e(this,"bottom",t.bottom?t.bottom:null);if(r){i(this,"CTRL_POS")}};r.prototype.getComputedPosition=function(){var t=this.getTop();var e=this.getBottom();var i=this.getLeft();var r=this.getRight();var o=null;var s=null;var a=this.getControl();if(a){if(this.getCenterHorizontally()){i="50%";r=null}else{if(!n(this,a,"width","left",i,"right",r)){r=undefined}if(!i&&!r){i="0px"}}if(this.getCenterVertically()){t="50%";e=null}else{if(!n(this,a,"height","top",t,"bottom",e)){e=undefined}if(!t&&!e){t="0px"}}o=l(a,"width");s=l(a,"height")}return{top:t,bottom:e,left:i,right:r,width:o,height:s}};r.createPosition=function(t,e){var i=new r;i.setControl(t);if(e){if(e.left){i.setLeft(e.left)}if(e.right){i.setRight(e.right)}if(e.top){i.setTop(e.top)}if(e.bottom){i.setBottom(e.bottom)}if(e.centerHorizontally){i.setCenterHorizontally(e.centerHorizontally)}if(e.centerVertically){i.setCenterVertically(e.centerVertically)}}return i};r.prototype.reinitializeEventHandlers=function(t){if(this._sResizeListenerId){sap.ui.core.ResizeHandler.deregister(this._sResizeListenerId);this._sResizeListenerId=null}if(!t&&this.getDomRef()&&(this.getCenterHorizontally()||this.getCenterVertically())){var e=this;var i=function(){var t=jQuery(e.getDomRef());if(e.getCenterHorizontally()){t.css("margin-left","-"+t.children().outerWidth()/2+"px")}if(e.getCenterVertically()){t.css("margin-top","-"+t.children().outerHeight()/2+"px")}};this._sResizeListenerId=sap.ui.core.ResizeHandler.register(this.getDomRef(),i);i()}};r.prototype.exit=function(){this.reinitializeEventHandlers(true)};r.prototype.init=function(){this._disableWidthCheck=true;this._disableHeightCheck=false};var e=function(t,e,r,o){var n=!!t.getDomRef();t.setProperty(e,r,n);if(n&&o){i(t,"CTRL_POS")}return n};var i=function(t,e){var i=t.getParent();if(i){i.contentChanged(t,e)}};var o=function(t){var e=t.getControl();if(e){sap.zen.commons.layout.AbsoluteLayout.cleanUpControl(e);e.detachEvent("_change",a,t)}};var n=function(e,i,r,o,n,l,a){if(n&&a){var u=e.getParent();var h=s(i,r);if(h){var f=i[h._sGetter]();if(!(!f||f===""||f==="auto"||f==="inherit")){t.warning("Position "+l+"="+a+" ignored, because child control "+i.getId()+" has fixed "+r+" ("+f+").","","AbsoluteLayout '"+(u?u.getId():"_undefined")+"'");return false}}else{if(r==="width"&&!e._disableWidthCheck||r==="height"&&!e._disableHeightCheck){t.warning("Position "+l+"="+a+" ignored, because child control "+i.getId()+" not resizable.","","AbsoluteLayout '"+(u?u.getId():"_undefined")+"'");return false}}}return true};var s=function(t,e){var i=t.getMetadata().getProperty(e);if(i&&i.type==="sap.ui.core.CSSSize"){return i}return null};var l=function(t,e){var i=s(t,e);if(i){var r=t[i._sGetter]();if(r&&jQuery.sap.endsWith(r,"%")){return r}}return null};var a=function(t){var e=t.getParameter("name");var r=this.getParent();if((e==="width"||e==="height")&&r&&r.getDomRef()){i(this,"CTRL_POS")}}})();return r},true);
//# sourceMappingURL=PositionContainer.js.map