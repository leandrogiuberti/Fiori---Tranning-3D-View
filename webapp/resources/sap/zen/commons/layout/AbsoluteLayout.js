/*
 * SAPUI5
    (c) Copyright 2009-2020 SAP SE. All rights reserved
  
 */
sap.ui.define(["jquery.sap.global","sap/zen/commons/layout/PositionContainer","sap/zen/commons/library","sap/ui/core/Control"],function(jQuery,t,e,o){"use strict";var n=o.extend("sap.zen.commons.layout.AbsoluteLayout",{metadata:{library:"sap.zen.commons",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},verticalScrolling:{type:"sap.ui.core.Scrolling",group:"Behavior",defaultValue:sap.ui.core.Scrolling.Hidden},horizontalScrolling:{type:"sap.ui.core.Scrolling",group:"Behavior",defaultValue:sap.ui.core.Scrolling.Hidden}},defaultAggregation:"positions",aggregations:{positions:{type:"sap.zen.commons.layout.PositionContainer",multiple:true,singularName:"position"}}}});(function(){n.prototype.setWidth=function(t){return s(this,"width",t,"LYT_SIZE")};n.prototype.setHeight=function(t){return s(this,"height",t,"LYT_SIZE")};n.prototype.setVerticalScrolling=function(t){return s(this,"verticalScrolling",t,"LYT_SCROLL")};n.prototype.setHorizontalScrolling=function(t){return s(this,"horizontalScrolling",t,"LYT_SCROLL")};n.prototype.insertPosition=function(t,e){var o=!!this.getDomRef();this.insertAggregation("positions",t,e,o);if(o&&t&&t.getControl()){this.contentChanged(t,"CTRL_ADD")}return this};n.prototype.addPosition=function(t){var e=!!this.getDomRef();this.addAggregation("positions",t,e);if(e&&t&&t.getControl()){this.contentChanged(t,"CTRL_ADD")}return this};n.prototype.removePosition=function(t){var e=!!this.getDomRef();var n=this.removeAggregation("positions",t,e);if(n){o([n]);this.contentChanged(n,"CTRL_REMOVE")}return n};n.prototype.removeAllPositions=function(){o(this.getPositions());var t=!!this.getDomRef();var e=this.removeAllAggregation("positions",t);if(t){this.contentChanged(e,"CTRL_REMOVE_ALL")}return e};n.prototype.destroyPositions=function(){o(this.getPositions());var t=!!this.getDomRef();this.destroyAggregation("positions",t);if(t){this.contentChanged(null,"CTRL_REMOVE_ALL")}return this};n.prototype.getContent=function(){var t=[];var e=this.getPositions();for(var o=0;o<e.length;o++){t.push(e[o].getControl())}return t};n.prototype.addContent=function(e,o){var n=t.createPosition(e,o);this.addPosition(n);return this};n.prototype.insertContent=function(e,o,n){var i=t.createPosition(e,n);this.insertPosition(i,o);return this};n.prototype.removeContent=function(t){var e=t;if(typeof t=="string"){t=sap.ui.getCore().byId(t)}if(typeof t=="object"){e=this.indexOfContent(t)}if(e>=0&&e<this.getContent().length){this.removePosition(e);return t}return null};n.prototype.removeAllContent=function(){var t=this.getContent();this.removeAllPositions();return t};n.prototype.indexOfContent=function(t){var e=this.getContent();for(var o=0;o<e.length;o++){if(t===e[o]){return o}}return-1};n.prototype.destroyContent=function(){this.destroyPositions();return this};n.prototype.setPositionOfChild=function(t,e){var o=this.indexOfContent(t);if(o>=0){var n=this.getPositions()[o];n.updatePosition(e);return true}return false};n.prototype.getPositionOfChild=function(t){var e=this.indexOfContent(t);if(e>=0){var o=this.getPositions()[e];return o.getComputedPosition()}return{}};n.prototype.exit=function(){o(this.getPositions())};n.prototype.doBeforeRendering=function(){var t=this.getPositions();if(!t||t.length==0){return}for(var e=0;e<t.length;e++){var o=t[e];o.reinitializeEventHandlers(true);i(o,true)}};n.prototype.onAfterRendering=function(){var t=this.getPositions();if(!t||t.length==0){return}for(var e=0;e<t.length;e++){t[e].reinitializeEventHandlers()}};n.cleanUpControl=function(t){if(t&&t[e]){t.removeDelegate(t[e]);t[e]=undefined}};n.prototype.contentChanged=function(t,e){switch(e){case"CTRL_POS":sap.zen.commons.layout.AbsoluteLayoutRenderer.updatePositionStyles(t);i(t);t.reinitializeEventHandlers();break;case"CTRL_CHANGE":i(t,true);sap.zen.commons.layout.AbsoluteLayoutRenderer.updatePositionedControl(t);t.reinitializeEventHandlers();break;case"CTRL_REMOVE":sap.zen.commons.layout.AbsoluteLayoutRenderer.removePosition(t);t.reinitializeEventHandlers(true);break;case"CTRL_REMOVE_ALL":sap.zen.commons.layout.AbsoluteLayoutRenderer.removeAllPositions(this);var o=t;if(o){for(var n=0;n<o.length;n++){o[n].reinitializeEventHandlers(true)}}break;case"CTRL_ADD":i(t,true);sap.zen.commons.layout.AbsoluteLayoutRenderer.insertPosition(this,t);t.reinitializeEventHandlers();break;case"LYT_SCROLL":sap.zen.commons.layout.AbsoluteLayoutRenderer.updateLayoutScolling(this);break;case"LYT_SIZE":sap.zen.commons.layout.AbsoluteLayoutRenderer.updateLayoutSize(this);break}};var e="__absolutelayout__delegator";var o=function(t){for(var e=0;e<t.length;e++){var o=t[e];var i=o.getControl();if(i){n.cleanUpControl(i)}}};var i=function(t,o){var i=t.getControl();if(i){n.cleanUpControl(i);if(!o){r(i)}var s=function(t){return{onAfterRendering:function(){r(t)}}}(i);i[e]=s;i.addDelegate(s,true)}};var r=function(t){var e=false;if(t.getParent()&&t.getParent().getComputedPosition){var o=t.getParent().getComputedPosition();if(o.top&&o.bottom||o.height){jQuery(t.getDomRef()).css("height","100%");e=true}if(o.left&&o.right||o.width){jQuery(t.getDomRef()).css("width","100%");e=true}if(e){sap.zen.commons.layout.AbsoluteLayoutRenderer.updatePositionStyles(t.getParent())}}return e};var s=function(t,e,o,n){var i=!!t.getDomRef();t.setProperty(e,o,i);if(i){t.contentChanged(null,n)}return t}})();return n},true);
//# sourceMappingURL=AbsoluteLayout.js.map