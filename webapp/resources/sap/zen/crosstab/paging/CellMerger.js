/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.define(["jquery.sap.global","sap/zen/crosstab/paging/PagingConstants"],function(jQuery,e){"use strict";jQuery.sap.declare("sap.zen.crosstab.paging.CellMerger");sap.zen.crosstab.paging.CellMerger=function(n){var r=null;var t=null;this.mergeRowHeaderCells=function(e){r=n.getCrosstab().getRowHeaderArea();var t=0;var i=null;for(t=0;t<r.getColCnt();t++){i=g(e,t);if(i){o(i,e,t)}i=a(e,t);if(i){l(i,e,t)}}};function l(t,l,a){var o=l-1;var g=null;var u=null;var f=null;var C=0;var v=t.getRowSpan();var s=n.getHeaderTileInfo(r,o).iStatus;while(s===e.PAGE_STATUS_LOADED&&o>=0&&!u){f=i(o);for(C=f.iMaxRowIndex;C>=f.iMinRowIndex&&!u;C--){g=r.getCellDirect(C,a);if(g){if(g.getMergeKey()){if(t.getMergeKey()===g.getMergeKey()){if(C===f.iMaxRowIndex||g.getRowSpan()>1){u=g}else{return}}else{return}}}}o--;s=n.getHeaderTileInfo(r,o).iStatus}if(u){M(t,u);u.setRowSpan(v+u.getRowSpan());r.insertCell(null,t.getRow(),t.getCol())}}function i(e){var t={};t.iMinRowIndex=e*n.getTileRowCnt();t.iMaxRowIndex=(e+1)*n.getTileRowCnt()-1;t.iMaxRowIndex=Math.min(t.iMaxRowIndex,r.getRowCnt()-1);return t}function a(e,n){var t=null;var l=i(e);var a=0;var o=null;var g="";for(a=l.iMinRowIndex;a<=l.iMaxRowIndex&&!t;a++){o=r.getCellDirect(a,n);if(o){g=o.getMergeKey();if(g){t=o}}}return t}function o(t,l,a){var o=null;var g=0;var u="";var f=null;var C=n.getHeaderTileInfo(r,l+1).iStatus;if(C===e.PAGE_STATUS_LOADED){f=i(l+1);o=r.getCellDirect(f.iMinRowIndex,a);if(o){u=o.getMergeKey();if(u&&u===t.getMergeKey()){g=o.getRowSpan();r.insertCell(null,f.iMinRowIndex,a);M(o,t)}}}if(g){t.setRowSpan(t.getRowSpan()+g)}}function g(e,n){var t=null;var l=i(e);var a=0;var o="";var g=null;for(a=l.iMaxRowIndex;a>=l.iMinRowIndex&&!t;a--){g=r.getCellDirect(a,n);if(g){o=g.getMergeKey();if(o){t=g}}}return t}this.mergeColHeaderCells=function(e){t=n.getCrosstab().getColumnHeaderArea();var r=0;var l=null;for(r=0;r<t.getRowCnt();r++){l=C(e,r);if(l){f(l,e,r)}l=v(e,r);if(l){s(l,e,r)}}};function u(e){var r={};r.iMinColIndex=e*n.getTileColCnt();r.iMaxColIndex=(e+1)*n.getTileColCnt()-1;r.iMaxColIndex=Math.min(r.iMaxColIndex,t.getColCnt()-1);return r}function f(r,l,i){var a=null;var o=0;var g="";var f=null;var C=n.getHeaderTileInfo(t,l+1).iStatus;if(C===e.PAGE_STATUS_LOADED){f=u(l+1);a=t.getCellDirect(i,f.iMinColIndex);if(a){g=a.getMergeKey();if(g&&g===r.getMergeKey()){o=a.getColSpan();t.insertCell(null,i,f.iMinColIndex);M(a,r)}}}if(o){r.setColSpan(r.getColSpan()+o)}}function C(e,n){var r=null;var l=u(e);var i=0;var a="";var o=null;for(i=l.iMaxColIndex;i>=l.iMinColIndex&&!r;i--){o=t.getCellDirect(n,i);if(o){a=o.getMergeKey();if(a){r=o}}}return r}function v(e,n){var r=null;var l=u(e);var i=0;var a=null;var o="";for(i=l.iMinColIndex;i<=l.iMaxColIndex&&!r;i++){a=t.getCellDirect(n,i);if(a){o=a.getMergeKey();if(o){r=a}}}return r}function s(r,l,i){var a=l-1;var o=null;var g=null;var f=null;var C=0;var v=r.getColSpan();var s=n.getHeaderTileInfo(t,a).iStatus;while(s===e.PAGE_STATUS_LOADED&&a>=0&&!g){f=u(a);for(C=f.iMaxColIndex;C>=f.iMinColIndex&&!g;C--){o=t.getCellDirect(i,C);if(o){if(o.getMergeKey()){if(r.getMergeKey()===o.getMergeKey()){if(C===f.iMaxColIndex||o.getColSpan()>1){g=o}else{return}}else{return}}}}a--;s=n.getHeaderTileInfo(t,a).iStatus}if(g){M(r,g);g.setColSpan(v+g.getColSpan());t.insertCell(null,r.getRow(),r.getCol())}}function M(e,n){var r=e.getStyleIdList();n.setStyleIdList(r)}};return sap.zen.crosstab.paging.CellMerger});
//# sourceMappingURL=CellMerger.js.map