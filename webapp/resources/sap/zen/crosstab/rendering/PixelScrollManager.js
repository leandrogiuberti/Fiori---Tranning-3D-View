/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.define(["jquery.sap.global"],function(jQuery){"use strict";jQuery.sap.declare("sap.zen.crosstab.rendering.PixelScrollManager");sap.zen.crosstab.rendering.PixelScrollManager=function(e,r){var l={};var o=0;var t=0;var i=r.getCrossRequestManager();var n=this;var s=null;this.getCurrentHScrollPos=function(){return t};this.destroy=function(){};this.onNewScrollbars=function(){l={}};r.registerNewScrollbarsNotification(this.onNewScrollbars);function a(r){var o=l[r];if(!o){o=jQuery(document.getElementById(e.getId()+r));if(o&&o.length>0){l[r]=o}}return o}function c(e){a("_lowerLeft_scrollDiv").scrollTop(e);a("_lowerRight_scrollDiv").scrollTop(e)}function f(r){var l;var o=a("_lowerRight_scrollDiv");var t=a("_upperRight_scrollDiv");var i;var n={};n.oLRS=o;n.oURS=t;if(t[0]){i=t[0]}else if(o[0]){i=o[0]}if(i){l=e.getUtils().translateScrollLeft(i,r)}n.iPos=l;return n}function u(e){var r=f(e);r.oURS.scrollLeft(r.iPos);r.oLRS.scrollLeft(r.iPos)}this.hScrollHandler=function(r){e.postPlanningValue();var l=r.getParameters().newScrollPos;u(l);t=l;n.sendClientScrollPosUpdate()};this.vScrollHandler=function(r){e.postPlanningValue();var l=r.getParameters().newScrollPos;c(l);o=l;n.sendClientScrollPosUpdate()};this.sendClientScrollPosUpdate=function(){if(s){clearTimeout(s);s=null}s=setTimeout(n.doSendPosUpdate,200,null)};this.doSendPosUpdate=function(){e.getUtils().sendClientScrollPosUpdate(t,undefined,o,undefined)};function g(r){var l=e.getHScrollbar();var o=f(r);if(l){l.setScrollPosition(r)}o.oURS.scrollLeft(o.iPos);o.oLRS.scrollLeft(o.iPos)}function S(r){var l=e.getVScrollbar();if(l){l.setScrollPosition(r)}var o=jQuery(document.getElementById(e.getId()+"_lowerRight_scrollDiv"));if(o&&o.length){o.scrollTop(r)}var t=jQuery(document.getElementById(e.getId()+"_lowerLeft_scrollDiv"));if(t&&t.length){t.scrollTop(r)}}this.moveScrollbars=function(){g(t);S(o)};this.positionHScrollDiv=function(){var e=t;var r=i.getHPixelScrollPosAfterRendering();if(r>-1){e=r;g(e)}u(e)};this.positionVScrollDiv=function(){var e=o;var r=i.getVPixelScrollPosAfterRendering();if(r>-1){e=r;S(e)}c(e)};this.setHScrollPos=function(e){t=e};this.setVScrollPos=function(e){o=e};this.adjustPixelScrollbarAfterRendering=function(){var r=i.getNewPixelScrollPosAfterRendering();if(r){var l=r.iVPos;if(l>=0){var o=e.getVScrollbar();if(o){o.setScrollPosition(l);c(l)}}var t=r.iHPos;if(t>=0){var n=e.getHScrollbar();if(n){n.setScrollPosition(t);u(t)}}}}};return sap.zen.crosstab.rendering.PixelScrollManager});
//# sourceMappingURL=PixelScrollManager.js.map