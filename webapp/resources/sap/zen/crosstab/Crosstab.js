/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.define(["jquery.sap.global","sap/ui/core/Control","sap/zen/crosstab/paging/PageManager","sap/zen/crosstab/DataArea","sap/zen/crosstab/ColumnHeaderArea","sap/zen/crosstab/RowHeaderArea","sap/zen/crosstab/DimensionHeaderArea","sap/zen/crosstab/EventHandler","sap/zen/crosstab/SelectionHandler","sap/zen/crosstab/rendering/RenderEngine","sap/zen/crosstab/utils/Utils","sap/zen/crosstab/PropertyBag","sap/zen/crosstab/CrosstabCellApi","sap/zen/crosstab/CrosstabTestProxy","sap/zen/crosstab/CellStyleHandler","sap/zen/crosstab/CrosstabContextMenu","sap/zen/crosstab/CrosstabHeaderInfo","sap/zen/crosstab/dragdrop/DragDropHandler","sap/zen/crosstab/rendering/RenderingConstants"],function(jQuery,e,t,s,r,o,n,a,i,l,p,d,c,h,u,b,f,g,C){"use strict";jQuery.sap.declare("sap.zen.crosstab.Crosstab");e.extend("sap.zen.crosstab.Crosstab",{metadata:{library:"sap.zen.crosstab",properties:{width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null},height:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null}}}});sap.zen.crosstab.Crosstab.prototype.init=function(){"use strict";this.scrolled=false;this.ensureIndexOf();var e=this.getId();var t=e+"_dataArea";this.dataArea=new s(this);this.dataArea.setId(t);var i=e+"_colHeaderArea";this.columnHeaderArea=new r(this);this.columnHeaderArea.setId(i);var c=e+"_rowHeaderArea";this.rowHeaderArea=new o(this);this.rowHeaderArea.setId(c);var u=e+"_dimHeaderArea";this.dimensionHeaderArea=new n(this);this.dimensionHeaderArea.setId(u);this.oPropertyBag=new d(this);this.oRenderEngine=new l(this);this.oSelectionHandler=null;this.oEventHandler=new a(this);this.oUtils=new p(this);this.iCalculatedWidth=-1;this.iCalculatedHeight=-1;this.fPageRequestHandler=null;this.bOnAfterRendering=true;this.bIsVResize=false;this.bIsHResize=false;this.iHierarchyIndentWidth=0;this.iHierarchyIndentHeight=0;this.iExceptionSymbolWidth=0;this.iRenderMode=C.RENDERMODE_COMPACT;this.bRenderScrollbars=true;this.bHCutOff=false;this.bVCutOff=false;this.sOnSelectCommand=null;this.sTransferDataCommand=null;this.sCallValueHelpCommand=null;this.iTotalRowCnt=0;this.iTotalColCnt=0;this.oHScrollbar=null;this.oVScrollbar=null;this.oHorizontalHeaderScrollbar=null;this.iTimeoutCounter=0;this.iTimeoutCounter2=0;this.oColHeaderHierarchyLevels={};this.oRowHeaderHierarchyLevels={};this.oTestProxy=new h(this,this.oEventHandler,this.oRenderEngine);this.bAdjustFrameDivs=true;this.iSavedWidthForPrepareDom=0;this.iSavedHeightForPrepareDom=0;this.oCellApi=null;this.iNewLinesCnt=0;this.sNewLinesPos="";this.bPlanningCheckMode=false;this.sScrollNotifyCommand=null;this.oContextMenu=null;this.iValueHelpStatus=0;this.bHeaderHScrolling=false;this.bPreparedDom=false;this.bWasRendered=false;this.sUserHeaderWidthCommand=null;this.bIsUserHeaderResizeAllowed=false;this.bIsHeaderScrollingConfigured=false;this.bContainerIsRendered=false;this.bContainerRenderRequest=false;this.oContainer=null;this.oHeaderInfo=null;this.sSelectionMode="";this.sSelectionSpace="";this.bEnableHoverEffect=true;this.oRenderTimer=null;this.oRenderTimer2=null;this.bQueueHeaderWidthRequest=true;this.bScrollInvalidate=false;this.bCalledByScrolling=false;this.bRevertDragDrop=false;this.bDragAction=false;this.oDragDropHandler=null;this.oDragDropCommands=null;this.bIsBlocked=false;this.bHasData=false;this.sUpdateColWidthCommand=null};sap.zen.crosstab.Crosstab.prototype.ensureIndexOf=function(){if(!Array.prototype.indexOf){Array.prototype.indexOf=function(e){"use strict";if(this==null){throw new TypeError}var t=Object(this);var s=t.length>>>0;if(s===0){return-1}var r=0;if(arguments.length>1){r=Number(arguments[1]);if(r!=r){r=0}else if(r!=0&&r!=Infinity&&r!=-Infinity){r=(r>0||-1)*Math.floor(Math.abs(r))}}if(r>=s){return-1}var o=r>=0?r:Math.max(s-Math.abs(r),0);for(;o<s;o++){if(o in t&&t[o]===e){return o}}return-1}}};sap.zen.crosstab.Crosstab.prototype.getTableDiv=function(){var e=null;if(this.iRenderMode===C.RENDERMODE_COMPACT){e=jQuery(document.getElementById(this.getId()+"_altRenderModeTableDiv"))}else{e=jQuery(document.getElementById(this.getId()))}return e};sap.zen.crosstab.Crosstab.prototype.ensurePageManager=function(){if(!this.oPageManager){this.oPageManager=new t(this)}return this.oPageManager};sap.zen.crosstab.Crosstab.prototype.getIntWidth=function(){var e=-1;var t=this.getWidth();if(t&&t!=="auto"){e=parseInt(t,10)}else{e=this.iCalculatedWidth}return e};sap.zen.crosstab.Crosstab.prototype.getContentWidth=function(){var e=this.getIntWidth();var t=this.getRenderEngine().getTableDivValues();e=e-t.borders.iLeftBorderWidth-t.borders.iRightBorderWidth;return e};sap.zen.crosstab.Crosstab.prototype.getContentHeight=function(){var e=this.getIntHeight();var t=this.getRenderEngine().getTableDivValues();var s=this.oPropertyBag.getToolbarHeight();e=e-t.borders.iTopBorderWidth-t.borders.iBottomBorderWidth-s;return e};sap.zen.crosstab.Crosstab.prototype.getIntHeight=function(){var e=-1;var t=this.getHeight();if(t&&t!=="auto"){e=parseInt(t,10)}else{e=this.iCalculatedHeight}return e};sap.zen.crosstab.Crosstab.prototype.resize=function(){var e=jQuery.sap.byId(this.getId());var t=parseInt(e.outerWidth(),10);var s=parseInt(e.outerHeight(),10);this.isHResize=t!==this.getIntWidth();this.isVResize=s!==this.getIntHeight();if(this.isHResize||this.isVResize){this.ensurePageManager().resizeEvent()}};sap.zen.crosstab.Crosstab.prototype.determineRenderMode=function(e){var t=-1;if(e){if(e.alwaysfill){t=C.RENDERMODE_FILL}else{t=C.RENDERMODE_COMPACT}}if(t===-1){t=C.RENDERMODE_COMPACT}if(t!==this.iRenderMode){this.oRenderEngine.reset();this.iRenderMode=t}};sap.zen.crosstab.Crosstab.prototype.determineScrollMode=function(e){var t=e.pixelscrolling;if(t!==this.oPropertyBag.isPixelScrolling()){this.oRenderEngine.reset();this.oPropertyBag.setPixelScrolling(t)}};sap.zen.crosstab.Crosstab.prototype.applyControlProperties=function(e){this.bPlanningCheckMode=e.pvcheck!==null&&e.pvcheck!==undefined;var t=this.ensurePageManager().checkResponseConsistency(e);if(!t){this.reset(e)}if(!this.bPlanningCheckMode){if(e.removeselection===true){if(this.oSelectionHandler){this.oSelectionHandler.removeAllSelections();this.bOnAfterRendering=true}}else{this.determineRenderMode(e);this.determineScrollMode(e);this.ensurePageManager().receiveData(e)}}else{this.handlePlanningCheckData(e);this.bOnAfterRendering=true}this.bPlanningCheckMode=false};sap.zen.crosstab.Crosstab.prototype.calculateOffset=function(e){var t=0;var s=e.getArea();if(s.isRowHeaderArea()){for(var r=0;r<e.getCol();r++){var o=s.getCell(e.getRow(),r);if(!o){t++}else if(!o.isEntryEnabled()){t++}}}return t};sap.zen.crosstab.Crosstab.prototype.calculateRowHeaderColOffsetsForRow=function(e){var t={};var s=0;var r=null;var o=0;var n=this.rowHeaderArea.getColCnt();for(s=0;s<n;s++){r=this.getTableCell(e,s);if(r!==null&&r.isEntryEnabled()){t[o]=s;o++}}return t};sap.zen.crosstab.Crosstab.prototype.handlePlanningCheckData=function(e){var t=0;var s=e.pvcheck;var r=s.length;var o={};var n=null;var a=0;for(t=0;t<r;t++){var i=s[t];n=o[i.tabrow];if(!n){n=this.calculateRowHeaderColOffsetsForRow(i.tabrow);o[i.tabrow]=n}a=n[i.tabcol]||i.tabcol;var l=this.getTableCell(i.tabrow,a);if(l){l.setText(i.text);if(i.valid===false){l.addStyle(C.STYLE_INVALID_VALUE)}else{l.removeStyle(C.STYLE_INVALID_VALUE)}if(i.newvalue===true){l.addStyle(C.STYLE_NEW_VALUE)}this.oRenderEngine.updateRenderingOfInputCellAfterCheck(l)}}};sap.zen.crosstab.Crosstab.prototype.determineKeepUserColWidths=function(e){if(e.dataproviderchanged){return false}if(e.resultsetchanged&&e.rootcause===undefined){return false}return false};sap.zen.crosstab.Crosstab.prototype.determineKeepCalculatedColWidths=function(e){if(e.rootcause==="sorting"){return true}var t=(e.v_pos||1)-1;var s=e.sentdatarows||0;var r=e.clientvpos||0;var o=e.totaldatarows||0;var n=(e.h_pos||1)-1;var a=e.sentdatacols||0;var i=e.clienthpos||0;var l=e.totaldatacols||0;var p=e.ispaging||false;var d=false;var c=false;if(this.bWasRendered===true&&!p){if(r>0&&r<=o&&r>t+s){c=true}if(i>0&&i<=l&&i>n+a){d=true}if(c===true||d===true){return true}}return false};sap.zen.crosstab.Crosstab.prototype.reset=function(e){var t=this.determineKeepUserColWidths(e);var s=this.determineKeepCalculatedColWidths(e);this.getDimensionHeaderArea().clear(t,s);this.getColumnHeaderArea().clear(t,s);this.getRowHeaderArea().clear(t,s);this.getDataArea().clear(t,s);this.oRenderEngine.reset(s);this.oPageManager.reset()};sap.zen.crosstab.Crosstab.prototype.updateControlProperties=function(e){if(e&&e.changed){this.reset(e)}this.applyControlProperties(e)};sap.zen.crosstab.Crosstab.prototype.expectOnAfterRenderingCall=function(){this.bOnAfterRendering=false};sap.zen.crosstab.Crosstab.prototype.setContainerIsRendered=function(){this.bContainerIsRendered=true};sap.zen.crosstab.Crosstab.prototype.setContainerRenderRequest=function(){this.bContainerRenderRequest=true};sap.zen.crosstab.Crosstab.prototype.cleanupContainer=function(){if(this.oContainer){if(this.oContainer.oNotificationRegistry){delete this.oContainer.oNotificationRegistry[this.getId()]}if(p.getSizeOf(this.oContainer.oNotificationRegistry)===0){if(this.oContainer.fOriginalRender){this.oContainer.getRenderer().render=this.oContainer.fOriginalRender;delete this.oContainer.fOriginalRender}this.oContainer.removeEventDelegate(this.onAfterRenderingDelegate)}}this.oContainer=null};sap.zen.crosstab.Crosstab.prototype.onAfterRenderingDelegate=null;sap.zen.crosstab.Crosstab.prototype.setupContainer=function(e){var t=this;var s=null;if(e&&e.getRenderer&&p.isDispatcherAvailable()===true){if(!e.fOriginalRender){s=e.getRenderer();e.fOriginalRender=s.render;s.render=function(t,s){e.fOriginalRender.call(e.getRenderer(),t,s);if(e.oNotificationRegistry){jQuery.each(e.oNotificationRegistry,function(e,t){var s=sap.zen.Dispatcher.instance.getControlForId(e);if(s){t.fSetRenderRequest.call(s)}})}};this.bContainerRenderRequest=true}if(e.onAfterRendering){e.removeEventDelegate(t.onAfterRenderingDelegate);t.onAfterRenderingDelegate={onAfterRendering:function(){if(e.oNotificationRegistry){jQuery.each(e.oNotificationRegistry,function(e,t){var s=sap.zen.Dispatcher.instance.getControlForId(e);if(s){t.fSetIsRendered.call(s)}})}}};e.addEventDelegate(t.onAfterRenderingDelegate)}else{this.bContainerIsRendered=true}if(!e.oNotificationRegistry){e.oNotificationRegistry={}}e.oNotificationRegistry[this.getId()]={fSetRenderRequest:this.setContainerRenderRequest,fSetIsRendered:this.setContainerIsRendered};this.oContainer=e}else{this.oContainer=null}};sap.zen.crosstab.Crosstab.prototype.getContainer=function(){var e=null;if(this.oContainer){e=this.oContainer}else{e=this.getParent().getParent()}return e};sap.zen.crosstab.Crosstab.prototype.isAutoSize=function(){var e=this.getWidth();var t=this.getHeight();if(!e){return true}else{if(e==="auto"){return true}}if(!t){return true}else{if(t==="auto"){return true}}return false};sap.zen.crosstab.Crosstab.prototype.prepareContainer=function(){var e=null;this.bContainerRenderRequest=false;if(!this.isAutoSize()){this.cleanupContainer();return}if(!sap.zen.Dispatcher){this.cleanupContainer();return}e=this.getParent().getParent();if(!e){this.cleanupContainer();return}if(this.oContainer&&e!==this.oContainer){this.cleanupContainer()}this.setupContainer(e)};sap.zen.crosstab.Crosstab.prototype.onAfterRendering=function(){if(!this.bIsDeferredRendering&&p.isDispatcherAvailable()){this.bIsDeferredRendering=sap.zen.Dispatcher.instance.isDeferredRendering()}if(!this.bContainerIsRendered&&this.bContainerRenderRequest===true&&this.oContainer){this.iTimeoutCounter++;if(this.iTimeoutCounter>1e3){return}if(this.oRenderTimer){clearTimeout(this.oRenderTimer);this.oRenderTimer=null}this.oRenderTimer=setTimeout(function(e){return function(){e.onAfterRendering()}}(this),10);return}if(this.bOnAfterRendering||this.bIsDeferredRendering){this.doRendering()}this.bContainerRenderRequest=false;this.bContainerIsRendered=false;this.bIsDeferredRendering=false};sap.zen.crosstab.Crosstab.prototype.prepareExistingDom=function(){if(!this.bPlanningCheckMode){var e=jQuery(document.getElementById(this.getDimensionHeaderArea().getId())).find("tbody");e.empty();e=jQuery(document.getElementById(this.getRowHeaderArea().getId())).find("tbody");e.empty();e=jQuery(document.getElementById(this.getColumnHeaderArea().getId())).find("tbody");e.empty();e=jQuery(document.getElementById(this.getDataArea().getId())).find("tbody");e.empty();this.bRenderScrollbars=false;this.determineNeedToAdjustOuterDivs();this.bPreparedDom=true}};sap.zen.crosstab.Crosstab.prototype.determineNeedToAdjustOuterDivs=function(){var e=this.getIntWidth();var t=this.getIntHeight();this.bAdjustFrameDivs=true;if(e===this.iSavedWidthForPrepareDom&&t===this.iSavedHeightForPrepareDom){this.bAdjustFrameDivs=false}else{this.getRenderEngine().removeOuterDivBorders()}if(!this.getDataArea().hasLoadingPages()){this.iSavedWidthForPrepareDom=e;this.iSavedHeightForPrepareDom=t}};sap.zen.crosstab.Crosstab.prototype.determineHierarchyIndents=function(){var e=jQuery(document.getElementById(this.getId()+"_measureDiv"));if(e&&e.length>0){e.css("visibility","visible");this.iHierarchyIndentWidth=parseInt(e.outerWidth(),10);this.iHierarchyIndentHeight=parseInt(e.outerHeight(),10);e.css("visibility","none")}};sap.zen.crosstab.Crosstab.prototype.determineAlertSymbolDimensions=function(){var e=jQuery(document.getElementById(this.getId()+"_exceptionMeasureDiv"));if(e&&e.length>0){e.css("visibility","visible");this.iExceptionSymbolWidth=parseInt(e.outerWidth(),10);e.css("visibility","none")}};sap.zen.crosstab.Crosstab.prototype.isRenderingPossible=function(){if(p.isDispatcherAvailable()===true&&sap.zen.Dispatcher.instance.suppressRendering()){if(!sap.zen.Dispatcher.instance.isSingleDelta(this.getId())){sap.zen.Dispatcher.instance.registerForDeferredRendering(this);return false}}var e=[];e.push(jQuery(document.getElementById(this.getId())));e.push(jQuery(document.getElementById(this.getId()+"_upperSection")));e.push(jQuery(document.getElementById(this.getId()+"_lowerSection")));e.push(jQuery(document.getElementById(this.getId()+"_dimHeaderArea")));e.push(jQuery(document.getElementById(this.getId()+"_colHeaderArea")));e.push(jQuery(document.getElementById(this.getId()+"_dataArea")));for(var t=0;t<e.length;t++){if(e[t].length!==1){this.bOnAfterRendering=true;return false}}return true};sap.zen.crosstab.Crosstab.prototype.determineCrosstabSize=function(){var e=true;var t=null;if(!this.getWidth()||!this.getHeight()){e=false}else{t=jQuery.sap.byId(this.getId()).parent();var s=t.outerWidth();if(s&&s>10){this.iCalculatedWidth=s}var r=t.outerHeight();if(r&&r>10){this.iCalculatedHeight=r}}return e};sap.zen.crosstab.Crosstab.prototype.setInvalidateCalledByScrolling=function(){this.bCalledByScrolling=true};sap.zen.crosstab.Crosstab.prototype.doRendering=function(){this.iTimeoutCounter=0;if(this.oRenderTimer){clearTimeout(this.oRenderTimer);this.oRenderTimer=null}if(this.bPlanningCheckMode===true){return}if(!this.isRenderingPossible()){return}if(!this.determineCrosstabSize()){return}if(this.iCalculatedWidth===-1||this.iCalculatedHeight===-1){this.iTimeoutCounter2++;if(this.iTimeoutCounter2>1e3){return}if(this.oRenderTimer2){clearTimeout(this.oRenderTimer2);this.oRenderTimer2=null}this.oRenderTimer2=setTimeout(function(e){return function(){e.doRendering()}}(this),10);return}this.iTimeoutCounter2=0;if(this.oRenderTimer2){clearTimeout(this.oRenderTimer2);this.oRenderTimer2=null}this.determineHierarchyIndents();if(this.getPropertyBag().isDisplayExceptions()){this.determineAlertSymbolDimensions()}var e=this.getRenderEngine();e.setAdjustFrameDivs(this.bAdjustFrameDivs);if(e.hasCrosstabSizeChanged()){this.ensurePageManager().resizeEvent()}if(this.oPropertyBag.hasToolbar()){var t=jQuery(document.getElementById(this.getId()+"_toolbar"));var s=t.outerHeight();this.oPropertyBag.setToolbarHeight(s)}e.beginRendering();e.renderCrosstabAreas();e.calculateRenderSizeDivSize();if(!this.oPropertyBag.isPixelScrolling()){e.appendColumnsAfterResize();e.appendRowsAfterResize()}if(this.bRenderScrollbars){e.renderScrollbars()}e.adjustRenderSizeDivSize();if(this.bRenderScrollbars){e.setScrollbarSteps()}e.adjustScrollDivSizes();if(!this.bRenderScrollbars){e.checkScrollbarSize()}e.adjustScrollPositions(this.bRenderScrollbars);if(!this.oPropertyBag.isRtl()){if(!this.oPropertyBag.isPixelScrolling()){e.moveScrollDivs()}}else{if(this.oPropertyBag.isPixelScrolling()&&jQuery.browser.webkit){e.moveScrollDivs()}}if(this.oHorizontalHeaderScrollbar&&!this.bPreparedDom){e.updateHeaderScrollbarSizes()}e.updateHeaderResizeDiv();if(this.getPropertyBag().isDragDropEnabled()===true&&p.isDispatcherAvailable()===true){if(!this.oDragDropHandler){this.oDragDropHandler=new g(this,this.oDragDropCommands)}}e.finishRendering();this.oEventHandler.attachEvents();this.bOnAfterRendering=true;this.bRenderScrollbars=true;this.bAdjustFrameDivs=true;this.bPreparedDom=false;this.bWasRendered=true;var r=this.bCalledByScrolling;this.bCalledByScrolling=false;var o=this.bScrollInvalidate;this.bScrollInvalidate=false;if(!r&&!this.hasLoadingPages()&&o===true){this.invalidate()}if(!this.hasLoadingPages()){this.getPropertyBag().setBookmarkProcessing(false)}};sap.zen.crosstab.Crosstab.prototype.setScrollInvalidate=function(e){this.bScrollInvalidate=e};sap.zen.crosstab.Crosstab.prototype.isScrollInvalidate=function(){return this.bScrollInvalidate};sap.zen.crosstab.Crosstab.prototype.scrollHorizontal=function(e){this.oRenderEngine.scrollHorizontal(e)};sap.zen.crosstab.Crosstab.prototype.scrollVertical=function(e){this.oRenderEngine.scrollVertical(e)};sap.zen.crosstab.Crosstab.prototype.scrollHeaderHorizontal=function(e){this.oRenderEngine.scrollHeaderHorizontal(e)};sap.zen.crosstab.Crosstab.prototype.getVScrollPos=function(){var e=-1;if(this.oVScrollbar){e=this.oVScrollbar.getScrollPosition()}return e};sap.zen.crosstab.Crosstab.prototype.getHScrollPos=function(){var e=-1;if(this.oHScrollbar){e=this.oHScrollbar.getScrollPosition()}return e};sap.zen.crosstab.Crosstab.prototype.renderResizeOutline=function(){this.oRenderEngine.renderResizeOutline()};sap.zen.crosstab.Crosstab.prototype.removeResizeOutline=function(){this.oRenderEngine.removeResizeOutline()};sap.zen.crosstab.Crosstab.prototype.registerPageRequestHandler=function(e){this.fPageRequestHandler=e};sap.zen.crosstab.Crosstab.prototype.unregisterPageRequestHandler=function(){this.fPageRequestHandler=null};sap.zen.crosstab.Crosstab.prototype.getPageRequestHandler=function(){return this.fPageRequestHandler};sap.zen.crosstab.Crosstab.prototype.getReceivedPages=function(){return this.ensurePageManager().getReceivedPages()};sap.zen.crosstab.Crosstab.prototype.getHierarchyIndentWidth=function(){return this.iHierarchyIndentWidth};sap.zen.crosstab.Crosstab.prototype.getExceptionSymbolWidth=function(){return this.iExceptionSymbolWidth};sap.zen.crosstab.Crosstab.prototype.getHierarchyIndentHeight=function(){return this.iHierarchyIndentHeight};sap.zen.crosstab.Crosstab.prototype.hideLoadingIndicator=function(){this.oRenderEngine.hideLoadingIndicator()};sap.zen.crosstab.Crosstab.prototype.showLoadingIndicator=function(){this.oRenderEngine.showLoadingIndicator()};sap.zen.crosstab.Crosstab.prototype.setHCutOff=function(e){this.bHCutOff=e};sap.zen.crosstab.Crosstab.prototype.isHCutOff=function(){return this.bHCutOff};sap.zen.crosstab.Crosstab.prototype.setVCutOff=function(e){this.bVCutOff=e};sap.zen.crosstab.Crosstab.prototype.isVCutOff=function(){return this.bVCutOff};sap.zen.crosstab.Crosstab.prototype.getTotalRows=function(){return this.iTotalRowCnt};sap.zen.crosstab.Crosstab.prototype.getTotalCols=function(){return this.iTotalColCnt};sap.zen.crosstab.Crosstab.prototype.setTotalCols=function(e){this.iTotalColCnt=e};sap.zen.crosstab.Crosstab.prototype.setTotalRows=function(e){this.iTotalRowCnt=e};sap.zen.crosstab.Crosstab.prototype.setHScrollbar=function(e){this.oHScrollbar=e};sap.zen.crosstab.Crosstab.prototype.setVScrollbar=function(e){this.oVScrollbar=e};sap.zen.crosstab.Crosstab.prototype.getVScrollbar=function(){return this.oVScrollbar};sap.zen.crosstab.Crosstab.prototype.getHScrollbar=function(){return this.oHScrollbar};sap.zen.crosstab.Crosstab.prototype.getTestProxy=function(){return this.oTestProxy};sap.zen.crosstab.Crosstab.prototype.setOnSelectCommand=function(e){this.sOnSelectCommand=e};sap.zen.crosstab.Crosstab.prototype.getOnSelectCommand=function(){return this.sOnSelectCommand};sap.zen.crosstab.Crosstab.prototype.setTransferDataCommand=function(e){this.sTransferDataCommand=e};sap.zen.crosstab.Crosstab.prototype.getTransferDataCommand=function(){return this.sTransferDataCommand};sap.zen.crosstab.Crosstab.prototype.setCallValueHelpCommand=function(e){this.sCallValueHelpCommand=e};sap.zen.crosstab.Crosstab.prototype.getCallValueHelpCommand=function(){return this.sCallValueHelpCommand};sap.zen.crosstab.Crosstab.prototype.getRenderMode=function(){return this.iRenderMode};sap.zen.crosstab.Crosstab.prototype.getUtils=function(){return this.oUtils};sap.zen.crosstab.Crosstab.prototype.getDataArea=function(){return this.dataArea};sap.zen.crosstab.Crosstab.prototype.getDimensionHeaderArea=function(){return this.dimensionHeaderArea};sap.zen.crosstab.Crosstab.prototype.getColumnHeaderArea=function(){return this.columnHeaderArea};sap.zen.crosstab.Crosstab.prototype.getRowHeaderArea=function(){return this.rowHeaderArea};sap.zen.crosstab.Crosstab.prototype.getRenderEngine=function(){return this.oRenderEngine};sap.zen.crosstab.Crosstab.prototype.hResize=function(){return this.isHResize};sap.zen.crosstab.Crosstab.prototype.vResize=function(){return this.isVResize};sap.zen.crosstab.Crosstab.prototype.getPageManager=function(){return this.oPageManager};sap.zen.crosstab.Crosstab.prototype.isRenderScrollbars=function(){return this.bRenderScrollbars};sap.zen.crosstab.Crosstab.prototype.getPropertyBag=function(){return this.oPropertyBag};sap.zen.crosstab.Crosstab.prototype.hasToolbar=function(){return this.bHasToolbar};sap.zen.crosstab.Crosstab.prototype.setColHeaderHierarchyLevels=function(e){this.oColHeaderHierarchyLevels=e};sap.zen.crosstab.Crosstab.prototype.getColHeaderHierarchyLevels=function(){return this.oColHeaderHierarchyLevels};sap.zen.crosstab.Crosstab.prototype.setRowHeaderHierarchyLevels=function(e){this.oRowHeaderHierarchyLevels=e};sap.zen.crosstab.Crosstab.prototype.getRowHeaderHierarchyLevels=function(){return this.oRowHeaderHierarchyLevels};sap.zen.crosstab.Crosstab.prototype.isIE8Mode=function(){return this.oRenderEngine.isIE8Mode()};sap.zen.crosstab.Crosstab.prototype.hasDimensionHeaderArea=function(){var e=false;if(this.dimensionHeaderArea!==undefined){e=this.dimensionHeaderArea.getColCnt()>0&&this.dimensionHeaderArea.getRowCnt()>0}return e};sap.zen.crosstab.Crosstab.prototype.hasRowHeaderArea=function(){var e=false;if(this.rowHeaderArea!==undefined){e=this.rowHeaderArea.getColCnt()>0&&this.rowHeaderArea.getRowCnt()>0}return e};sap.zen.crosstab.Crosstab.prototype.hasColHeaderArea=function(){var e=false;if(this.columnHeaderArea!==undefined){e=this.columnHeaderArea.getColCnt()>0&&this.columnHeaderArea.getRowCnt()>0}return e};sap.zen.crosstab.Crosstab.prototype.hasDataArea=function(){var e=false;if(this.dataArea!==undefined){e=this.dataArea.getColCnt()>0&&this.dataArea.getRowCnt()>0}return e};sap.zen.crosstab.Crosstab.prototype.restoreFocusOnCell=function(){this.oEventHandler.restoreFocusOnCell()};sap.zen.crosstab.Crosstab.prototype.getTableCell=function(e,t){return this.oCellApi.getTableCell(e,t)};sap.zen.crosstab.Crosstab.prototype.getTableCellWithSpans=function(e,t){return this.oCellApi.getTableCellWithSpans(e,t)};sap.zen.crosstab.Crosstab.prototype.getTableCellWithColSpan=function(e,t){return this.oCellApi.getTableCellWithColSpan(e,t)};sap.zen.crosstab.Crosstab.prototype.getTableCellWithRowSpan=function(e,t){return this.oCellApi.getTableCellWithRowSpan(e,t)};sap.zen.crosstab.Crosstab.prototype.getTableRowCnt=function(){return this.oCellApi.getTableRowCnt()};sap.zen.crosstab.Crosstab.prototype.getTableColCnt=function(){return this.oCellApi.getTableColCnt()};sap.zen.crosstab.Crosstab.prototype.getTableFixedRowHeaderColCnt=function(){return this.oCellApi.getTableFixedRowHeaderColCnt()};sap.zen.crosstab.Crosstab.prototype.getTableFixedColHeaderRowCnt=function(){return this.oCellApi.getTableFixedColHeaderRowCnt()};sap.zen.crosstab.Crosstab.prototype.getTableMaxScrollColCnt=function(){return this.oCellApi.getTableMaxScrollColCnt()};sap.zen.crosstab.Crosstab.prototype.getTableMaxScrollRowCnt=function(){return this.oCellApi.getTableMaxScrollRowCnt()};sap.zen.crosstab.Crosstab.prototype.getTableMaxDimHeaderRow=function(){return this.oCellApi.getTableMaxDimHeaderRow()};sap.zen.crosstab.Crosstab.prototype.getTableMaxDimHeaderCol=function(){return this.oCellApi.getTableMaxDimHeaderCol()};sap.zen.crosstab.Crosstab.prototype.setCellApi=function(e){this.oCellApi=e};sap.zen.crosstab.Crosstab.prototype.hasLoadingPages=function(){return this.dataArea.hasLoadingPages()||this.rowHeaderArea.hasLoadingPages()||this.columnHeaderArea.hasLoadingPages()};sap.zen.crosstab.Crosstab.prototype.getRenderRowCnt=function(){if(this.dataArea){return this.dataArea.getRenderRowCnt()}else if(this.rowHeaderArea){return this.rowHeaderArea.getRenderRowCnt()}};sap.zen.crosstab.Crosstab.prototype.getRenderStartRow=function(){if(this.dataArea){return this.dataArea.getRenderStartRow()}else if(this.rowHeaderArea){return this.rowHeaderArea.getRenderStartRow()}return null};sap.zen.crosstab.Crosstab.prototype.getRenderColCnt=function(){if(this.dataArea){return this.dataArea.getRenderColCnt()}else if(this.columnHeaderArea){return this.columnHeaderArea.getRenderColCnt()}return null};sap.zen.crosstab.Crosstab.prototype.getRenderStartCol=function(){if(this.dataArea){return this.dataArea.getRenderStartCol()}else if(this.columnHeaderArea){return this.columnHeaderArea.getRenderStartCol()}return null};sap.zen.crosstab.Crosstab.prototype.setNewLinesCnt=function(e){this.iNewLinesCnt=e};sap.zen.crosstab.Crosstab.prototype.getNewLinesCnt=function(){return this.iNewLinesCnt};sap.zen.crosstab.Crosstab.prototype.setNewLinesPos=function(e){this.sNewLinesPos=e};sap.zen.crosstab.Crosstab.prototype.getNewLinesPos=function(){return this.sNewLinesPos};sap.zen.crosstab.Crosstab.prototype.isNewLinesTop=function(){if(!this.sNewLinesPos){return false}return this.sNewLinesPos==="TOP"};sap.zen.crosstab.Crosstab.prototype.isNewLinesBottom=function(){if(!this.sNewLinesPos){return false}return this.sNewLinesPos==="BOTTOM"};sap.zen.crosstab.Crosstab.prototype.setScrollNotifyCommand=function(e){this.sScrollNotifyCommand=e};sap.zen.crosstab.Crosstab.prototype.getScrollNotifyCommand=function(){return this.sScrollNotifyCommand};sap.zen.crosstab.Crosstab.prototype.getContextMenuAction=function(e,t){var s=null;if(this.oContextMenu){s=this.oContextMenu.getContextMenuAction(e,t)}return s};sap.zen.crosstab.Crosstab.prototype.createContextMenu=function(){if(!this.oContextMenu){this.oContextMenu=new b(this)}};sap.zen.crosstab.Crosstab.prototype.setValueHelpStatus=function(e){this.iValueHelpStatus=e};sap.zen.crosstab.Crosstab.prototype.getValueHelpStatus=function(){return this.iValueHelpStatus};sap.zen.crosstab.Crosstab.prototype.getHorizontalHeaderScrollbar=function(){return this.oHorizontalHeaderScrollbar};sap.zen.crosstab.Crosstab.prototype.setHorizontalHeaderScrollbar=function(e){this.oHorizontalHeaderScrollbar=e};sap.zen.crosstab.Crosstab.prototype.setHeaderHScrolling=function(e){this.bHeaderHScrolling=e;if(!this.bHeaderHScrolling){this.oHorizontalHeaderScrollbar=null}};sap.zen.crosstab.Crosstab.prototype.isHeaderHScrolling=function(){return this.bHeaderHScrolling};sap.zen.crosstab.Crosstab.prototype.setUserHeaderWidthCommand=function(e){this.sUserHeaderWidthCommand=e};sap.zen.crosstab.Crosstab.prototype.getUserHeaderWidthCommand=function(){return this.sUserHeaderWidthCommand};sap.zen.crosstab.Crosstab.prototype.isUserHeaderResizeAllowed=function(){return this.bIsUserHeaderResizeAllowed};sap.zen.crosstab.Crosstab.prototype.setUserHeaderResizeAllowed=function(e){this.bIsUserHeaderResizeAllowed=e};sap.zen.crosstab.Crosstab.prototype.setHeaderScrollingConfigured=function(e){this.bIsHeaderScrollingConfigured=e};sap.zen.crosstab.Crosstab.prototype.isHeaderScrollingConfigured=function(){return this.bIsHeaderScrollingConfigured};sap.zen.crosstab.Crosstab.prototype.isPreparedDom=function(){return this.bPreparedDom};sap.zen.crosstab.Crosstab.prototype.getSelectionHandler=function(){if(!this.oSelectionHandler&&this.sSelectionMode!==undefined&&this.sSelectionMode!==""){this.oSelectionHandler=new i(this)}return this.oSelectionHandler};sap.zen.crosstab.Crosstab.prototype.initHeaderInfo=function(e){this.oHeaderInfo=new f(this,e)};sap.zen.crosstab.Crosstab.prototype.getHeaderInfo=function(){return this.oHeaderInfo};sap.zen.crosstab.Crosstab.prototype.setSelectionProperties=function(e,t,s,r){this.sSelectionMode=e;this.sSelectionSpace=t;if(!s){this.bEnableHoverEffect=true}else{this.bEnableHoverEffect=false}this.getPropertyBag().setFireOnSelectedOnlyOnce(r)};sap.zen.crosstab.Crosstab.prototype.getSelectionMode=function(){return this.sSelectionMode};sap.zen.crosstab.Crosstab.prototype.getSelectionSpace=function(){return this.sSelectionSpace};sap.zen.crosstab.Crosstab.prototype.isHoveringEnabled=function(){return this.bEnableHoverEffect};sap.zen.crosstab.Crosstab.prototype.isPlanningMode=function(){return this.getTransferDataCommand()&&this.getTransferDataCommand()!==""};sap.zen.crosstab.Crosstab.prototype.isSelectable=function(){return this.oSelectionHandler&&this.sSelectionMode!==undefined&&this.sSelectionMode!==""};sap.zen.crosstab.Crosstab.prototype.isQueueHeaderWidthRequest=function(){return this.bQueueHeaderWidthRequest};sap.zen.crosstab.Crosstab.prototype.setQueueHeaderWidthRequest=function(e){this.bQueueHeaderWidthRequest=e};sap.zen.crosstab.Crosstab.prototype.postPlanningValue=function(){return this.oEventHandler.postPlanningValue()};sap.zen.crosstab.Crosstab.prototype.setDragAction=function(e){this.bDragAction=e;if(this.oSelectionHandler){this.oSelectionHandler.blockSelectionHovering(e)}};sap.zen.crosstab.Crosstab.prototype.isDragAction=function(){return this.bDragAction};sap.zen.crosstab.Crosstab.prototype.onUnhandledDrop=function(e,t,s){this.oDragDropHandler.onUnhandledDrop(e,t,s)};sap.zen.crosstab.Crosstab.prototype.onEscKeyPressed=function(){this.oDragDropHandler.onEscKeyPressed()};sap.zen.crosstab.Crosstab.prototype.setDragDropCommands=function(e){this.oDragDropCommands=e};sap.zen.crosstab.Crosstab.prototype.getDragDropHandler=function(){return this.oDragDropHandler};sap.zen.crosstab.Crosstab.prototype.getRenderSizeDiv=function(){return jQuery(document.getElementById(this.getId()+"_renderSizeDiv"))};sap.zen.crosstab.Crosstab.prototype.getRowHeaderAreaDiv=function(){return jQuery(document.getElementById(this.getId()+"_lowerLeft_scrollDiv"))};sap.zen.crosstab.Crosstab.prototype.getColHeaderAreaDiv=function(){return jQuery(document.getElementById(this.getId()+"_upperRight_scrollDiv"))};sap.zen.crosstab.Crosstab.prototype.getDimHeaderAreaDiv=function(){return jQuery(document.getElementById(this.getId()+"_upperLeft_scrollDiv"))};sap.zen.crosstab.Crosstab.prototype.isVScrolling=function(){var e=false;var t=this.oRenderEngine.getScrollbarVisibility();if(t){e=t.bHasVScrollbar}return e};sap.zen.crosstab.Crosstab.prototype.isHScrolling=function(){var e=false;var t=this.oRenderEngine.getScrollbarVisibility();if(t){e=t.bHasHScrollbar}return e};sap.zen.crosstab.Crosstab.prototype.getGlassPane=function(){return jQuery(document.getElementById(this.getId()+"_glassPane"))};sap.zen.crosstab.Crosstab.prototype.block=function(){var e;this.bIsBlocked=true;e=this.getGlassPane();e.css("visibility","visible")};sap.zen.crosstab.Crosstab.prototype.unblock=function(){var e;if(!this.hasLoadingPages()){e=this.getGlassPane();e.css("visibility","hidden");this.bIsBlocked=false}};sap.zen.crosstab.Crosstab.prototype.isBlocked=function(){return this.bIsBlocked};sap.zen.crosstab.Crosstab.prototype.setHasData=function(e){this.bHasData=e};sap.zen.crosstab.Crosstab.prototype.hasData=function(){return this.bHasData};sap.zen.crosstab.Crosstab.prototype.enableClick=function(){this.oEventHandler.enableClick()};sap.zen.crosstab.Crosstab.prototype.getColResizer=function(){return this.oEventHandler.getColResizer()};sap.zen.crosstab.Crosstab.prototype.setUpdateColWidthCommand=function(e){this.sUpdateColWidthCommand=e};sap.zen.crosstab.Crosstab.prototype.getUpdateColWidthCommand=function(){return this.sUpdateColWidthCommand};sap.zen.crosstab.Crosstab.prototype.executeScrollSequence=function(e){var t=e.length-1;var s;var r=this;function o(){var n;var a;var i;var l;if(s<=t){n=e[s];a=n[0];i=n[1];if(n.length>3){l=n[3]}else{l=1e3}setTimeout(function(){if(a==="H"){r.scrollHorizontal(i)}else if(a==="V"){r.scrollVertical(i)}s++;o()},l)}}if(t>=0){s=0;o()}};return sap.zen.crosstab.Crosstab});
//# sourceMappingURL=Crosstab.js.map