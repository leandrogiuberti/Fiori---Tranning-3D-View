//@ui5-bundle sap/zen/crosstab/library-preload.js
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/BaseArea", ["jquery.sap.global","sap/zen/crosstab/rendering/DataModel","sap/zen/crosstab/rendering/RenderingConstants","sap/zen/crosstab/utils/Utils"],function(jQuery,e,t,a){"use strict";jQuery.sap.declare("sap.zen.crosstab.BaseArea");sap.zen.crosstab.BaseArea=function(t){"use strict";this.sAreaType="";this.sId="";this.oCrosstab=t;this.iRenderStartRow=0;this.iRenderRowCnt=0;this.iRenderStartCol=0;this.iRenderColCnt=0;this.bHasContent=false;this.fRenderCellCallback=null;this.oDataModel=new e(this);this.aColGranularity=[];this.aColWidths=[];this.aCalculatedColWidths=[];this.aTemporaryColWidths=[];this.aRowGranularity=[];this.aRowHeights=[];this.aCalculatedRowHeights=[];this.aTemporaryRowHeights=[];this.oColsWithSymbolException={};this.oColUserWidth={};this.aLevelCells=[];this.iLoadingPageCnt=0;this.bColGranularityCalculatedAndMeasured=false;this.oUserResizedCols={};this.oCellsWithLineBreakTexts=null;this.iMaxNumberOfLineBreaks=0;this.iSaveRenderStartRow=0;this.iSaveRenderRowCnt=0;this.iSaveRenderStartCol=0;this.iSaveRenderColCnt=0;this.aSaveColGranularity=[];this.aSaveColWidths=[];this.aSaveCalculatedColWidths=[];this.aSaveTemporaryColWidths=[];this.aSaveRowGranularity=[];this.aSaveRowHeights=[];this.aSaveCalculatedRowHeights=[];this.aSaveTemporaryRowHeights=[];this.oSaveColsWithSymbolException={};this.oSaveColUserWidth={};this.aSaveLevelCells=[];this.iSaveLoadingPageCnt=0;this.bSaveColGranularityCalculatedAndMeasured=false;this.oSaveUserResizedCols={};this.oSaveCellsWithLineBreakTexts=null;this.iSaveMaxNumberOfLineBreaks=0};sap.zen.crosstab.BaseArea.prototype.saveData=function(){this.iSaveRenderStartRow=this.iRenderStartRow;this.iSaveRenderRowCnt=this.iRenderRowCnt;this.iSaveRenderStartCol=this.iRenderStartCol;this.iSaveRenderColCnt=this.iRenderColCnt;this.aSaveColGranularity=this.aColGranularity.slice();this.aSaveColWidths=this.aColWidths.slice();this.aSaveCalculatedColWidths=this.aCalculatedColWidths.slice();this.aSaveTemporaryColWidths=this.aTemporaryColWidths.slice();this.aSaveRowGranularity=this.aRowGranularity.slice();this.aSaveRowHeights=this.aRowHeights.slice();this.aSaveCalculatedRowHeights=this.aCalculatedRowHeights.slice();this.aSaveTemporaryRowHeights=this.aTemporaryRowHeights.slice();this.oSaveColsWithSymbolException=jQuery.extend({},this.oColsWithSymbolException);this.oSaveColUserWidth=jQuery.extend({},this.oColUserWidth);this.aSaveLevelCells=this.aLevelCells.slice();this.iSaveLoadingPageCnt=this.iLoadingPageCnt;this.bSaveColGranularityCalculatedAndMeasured=this.bColGranularityCalculatedAndMeasured;this.oSaveUserResizedCols=jQuery.extend({},this.oUserResizedCols);this.oSaveCellsWithLineBreakTexts=jQuery.extend({},this.oCellsWithLineBreakTexts);this.iSaveMaxNumberOfLineBreaks=this.iMaxNumberOfLineBreaks};sap.zen.crosstab.BaseArea.prototype.restoreData=function(){this.iRenderStartRow=this.iSaveRenderStartRow;this.iRenderRowCnt=this.iSaveRenderRowCnt;this.iRenderStartCol=this.iSaveRenderStartCol;this.iRenderColCnt=this.iSaveRenderColCnt;this.aColGranularity=this.aSaveColGranularity;this.aColWidths=this.aSaveColWidths;this.aCalculatedColWidths=this.aSaveCalculatedColWidths;this.aTemporaryColWidths=this.aSaveTemporaryColWidths;this.aRowGranularity=this.aSaveRowGranularity;this.aRowHeights=this.aSaveRowHeights;this.aCalculatedRowHeights=this.aSaveCalculatedRowHeights;this.aTemporaryRowHeights=this.aSaveTemporaryRowHeights;this.oColsWithSymbolException=this.oSaveColsWithSymbolException;this.oColUserWidth=this.oSaveColUserWidth;this.aLevelCells=this.aSaveLevelCells;this.iLoadingPageCnt=this.iSaveLoadingPageCnt;this.bColGranularityCalculatedAndMeasured=this.bSaveColGranularityCalculatedAndMeasured;this.oUserResizedCols=this.oSaveUserResizedCols;this.oCellsWithLineBreakTexts=this.oSaveCellsWithLineBreakTexts;this.iMaxNumberOfLineBreaks=this.iSaveMaxNumberOfLineBreaks};sap.zen.crosstab.BaseArea.prototype.insertCell=function(e,a,s){if(e){var i=e.getNumberOfLineBreaks();if(i>this.iMaxNumberOfLineBreaks){this.iMaxNumberOfLineBreaks=i}if(i>0){if(!this.oCellsWithLineBreakTexts){this.oCellsWithLineBreakTexts={}}this.oCellsWithLineBreakTexts[e.getId()]=e}this.bHasContent=true;var r=this.oCrosstab.getUtils().getModelCoordinates(a,s,this.sAreaType);if(r.iCol===0){e.addStyle(t.STYLE_FIRST_IN_ROW)}if(r.iRow===0){e.addStyle(t.STYLE_FIRST_IN_COL)}if(r.iCol+e.getColSpan()===this.oCrosstab.getTotalCols()){e.addStyle(t.STYLE_LAST_IN_ROW)}if(r.iRow+e.getRowSpan()===this.oCrosstab.getTotalRows()){e.addStyle(t.STYLE_LAST_IN_COL)}}this.oDataModel.insertCell(e,a,s)};sap.zen.crosstab.BaseArea.prototype.addHighlightingForCell=function(e,a){var s=this.oDataModel.getCellWithSpan(e,a);if(s){s.addStyle(t.STYLE_HIGHLIGHTED);var i=jQuery(document.getElementById(s.getId()));if(this.isDataArea()){i.addClass("sapzencrosstab-DataCellHighlighted")}else{i.addClass("sapzencrosstab-HeaderCellHighlighted")}}};sap.zen.crosstab.BaseArea.prototype.removeHighlightingForCell=function(e,a){var s=this.oDataModel.getCellWithSpan(e,a);if(s){s.removeStyle(t.STYLE_HIGHLIGHTED);var i=jQuery(document.getElementById(s.getId()));if(this.isDataArea()){i.removeClass("sapzencrosstab-DataCellHighlighted")}else{i.removeClass("sapzencrosstab-HeaderCellHighlighted")}}};sap.zen.crosstab.BaseArea.prototype.resetColGranularity=function(){this.aColGranularity=[]};sap.zen.crosstab.BaseArea.prototype.resetRowGranularity=function(){this.aRowGranularity=[]};sap.zen.crosstab.BaseArea.prototype.calculateColGranularity=function(){if(this.bColGranularityCalculatedAndMeasured===false){var e=0;var t=this.iRenderStartRow+this.iRenderRowCnt;var a=0;var s=this.iRenderStartCol+this.iRenderColCnt;this.aColGranularity=[];for(a=this.iRenderStartCol;a<s;a++){for(e=this.iRenderStartRow;e<t;e++){if(this.collectColGranularity(e,a,this)){break}}}}};sap.zen.crosstab.BaseArea.prototype.calculateRowGranularity=function(){var e=0;var t=this.iRenderStartRow+this.iRenderRowCnt;var a=0;var s=this.iRenderStartCol+this.iRenderColCnt;this.aRowGranularity=[];for(e=this.iRenderStartRow;e<t;e++){for(a=this.iRenderStartCol;a<s;a++){if(this.collectRowGranularity(e,a,this)){break}}}};sap.zen.crosstab.BaseArea.prototype.getCellForGranularity=function(e,t,a){var s=null;if(t===a.iRenderStartCol&&e===a.iRenderStartRow){s=a.oDataModel.getCellWithSpan(e,t)}else if(t===a.iRenderStartCol){s=a.oDataModel.getCellWithColSpan(e,t)}else if(e===a.iRenderStartRow){s=a.oDataModel.getCellWithRowSpan(e,t)}else{s=a.oDataModel.getCellDirect(e,t)}return s};sap.zen.crosstab.BaseArea.prototype.collectColGranularity=function(e,t,a){var s=a.getCellForGranularity(e,t,a);var i=-1;if(s){i=s.getEffectiveColSpan();var r=a.aColGranularity[t];if(r){if(i<r.iColSpan){r.sId=s.getId();r.iRow=e;r.iCol=t;r.iColSpan=i;r.iWidth=0}}else{r={};r.sId=s.getId();r.iRow=e;r.iCol=t;r.iColSpan=i;r.iWidth=0;a.aColGranularity[t]=r}}return i===1};sap.zen.crosstab.BaseArea.prototype.collectRowGranularity=function(e,t,s){var i=s.getCellForGranularity(e,t,s);var r=-1;var o=0;if(i){r=i.getEffectiveRowSpan();o=a.getNumberOfLineBreaks(i.getText());var n=s.aRowGranularity[e];if(n){if(r<n.iRowSpan||o>n.iNumberOfLineBreaks){n.sId=i.getId();n.iRow=e;n.iCol=t;n.iRowSpan=r;n.iHeight=0;n.isLevelCell=this.isColHeaderArea()&&i.getLevel&&i.getLevel()>-1;n.isEntryEnabled=false;n.iNumberOfLineBreaks=o}}else{n={};n.sId=i.getId();n.iRow=e;n.iCol=t;n.iRowSpan=r;n.iHeight=0;n.isLevelCell=this.isColHeaderArea()&&i.getLevel&&i.getLevel()>-1;n.isEntryEnabled=false;n.iNumberOfLineBreaks=o;s.aRowGranularity[e]=n}}return r===1&&o===this.iMaxNumberOfLineBreaks};sap.zen.crosstab.BaseArea.prototype.measureColGranularityCells=function(){var e=0;var t=null;var s=null;var i=0;var r=0;var o=0;var n=0;var l;if(this.bColGranularityCalculatedAndMeasured===false){this.aColWidths=[];l=this.oCrosstab.getUtils().isMsIE();for(e=this.iRenderStartCol;e<this.aColGranularity.length;e++){t=this.aColGranularity[e];if(t){s=jQuery.sap.byId(t.sId);if(s){i=s.outerWidth();if(l&&!s.data("IeFixApplied")){i=i+1;s.data("IeFixApplied",true)}r=Math.floor(i/t.iColSpan);o=i%t.iColSpan;for(n=0;n<t.iColSpan;n++){if(this.aCalculatedColWidths[e+n]&&!this.aTemporaryColWidths[e+n]){this.aColWidths[e+n]=this.aCalculatedColWidths[e+n]}else{if(n===t.iColSpan-1){r+=o}if(this.aColWidths[e+n]){if(this.aColWidths[e+n]<r){this.aColWidths[e+n]=r}}else{this.aColWidths[e+n]=r}}}}}}if(a.hasEntries(this.oColsWithSymbolException)){var h=null;var C;for(var d in this.oColsWithSymbolException){if(Object.prototype.hasOwnProperty.call(this.oColsWithSymbolException,d)){h=this.oColsWithSymbolException[d];if(h===undefined||h===null||isNaN(h)===true){C=this.aColWidths[d];h=C+this.oCrosstab.getExceptionSymbolWidth();this.oColsWithSymbolException[d]=h}this.aColWidths[d]=this.oColsWithSymbolException[d]}}}if(this.oColUserWidth&&a.hasEntries(this.oColUserWidth)){var p;for(n=0;n<this.aColWidths.length;n++){p=this.determineUserColWidth(n);if(p>-1){this.aColWidths[n]=p}}}}return this.aColWidths};sap.zen.crosstab.BaseArea.prototype.measureRowGranularityCells=function(){var e=0;var t=null;var a=null;var s=0;var i=0;var r=0;var o=0;this.aLevelCells=[];this.aRowHeights=[];for(e=this.iRenderStartRow;e<this.aRowGranularity.length;e++){t=this.aRowGranularity[e];if(t){a=jQuery.sap.byId(t.sId);if(a){s=a.outerHeight();i=Math.floor(s/t.iRowSpan);r=s%t.iRowSpan;if(t.isLevelCell){for(o=0;o<t.iRowSpan;o++){if(o===t.iRowSpan-1){i+=r}if(this.aRowHeights[e+o]){if(this.aRowHeights[e+o]<i){this.aRowHeights[e+o]=i}}else{this.aRowHeights[e+o]=i}if(this.aCalculatedRowHeights[e+o]&&!this.aTemporaryRowHeights[e+o]){if(this.aRowHeights[e+o]<this.aCalculatedRowHeights[e+o]){this.aRowHeights[e+o]=this.aCalculatedRowHeights[e+o]}}this.aLevelCells[e+o]=true}}else{for(o=0;o<t.iRowSpan;o++){if(this.aCalculatedRowHeights[e+o]&&!this.aTemporaryRowHeights[e+o]&&this.iMaxNumberOfLineBreaks===0){this.aRowHeights[e+o]=this.aCalculatedRowHeights[e+o]}else{if(o===t.iRowSpan-1){i+=r}if(this.aRowHeights[e+o]){if(this.aRowHeights[e+o]<i){this.aRowHeights[e+o]=i}}else{this.aRowHeights[e+o]=i}if(this.aCalculatedRowHeights[e+o]&&!this.aTemporaryRowHeights[e+o]){this.aRowHeights[e+o]=Math.max(this.aRowHeights[e+o],this.aCalculatedRowHeights[e+o])}}this.aLevelCells[e+o]=false}}}}}return this.aRowHeights};sap.zen.crosstab.BaseArea.prototype.getLevelCells=function(){return this.aLevelCells};sap.zen.crosstab.BaseArea.prototype.hasLoadingPages=function(){return this.iLoadingPageCnt>0};sap.zen.crosstab.BaseArea.prototype.getCalculatedColWidths=function(){return this.aCalculatedColWidths};sap.zen.crosstab.BaseArea.prototype.getCalculatedRowHeights=function(){return this.aCalculatedRowHeights};sap.zen.crosstab.BaseArea.prototype.addPageToTempArray=function(e,t,a){if(!e[t]){e[t]=[]}e[t].push(a)};sap.zen.crosstab.BaseArea.prototype.removePageFromTempArray=function(e,t,a){var s=e[t];if(s){for(var i=0;i<s.length;i++){if(s[i]===a){s.splice(i,1);break}}if(s.length===0){e[t]=null}}};sap.zen.crosstab.BaseArea.prototype.changeColWidthTemporaryFlag=function(e,t,a){if(!this.aCalculatedColWidths[e]&&a){this.addPageToTempArray(this.aTemporaryColWidths,e,t)}else if(!a&&this.aTemporaryColWidths[e]){this.removePageFromTempArray(this.aTemporaryColWidths,e,t);if(!this.aTemporaryColWidths[e]){this.aCalculatedColWidths[e]=null}}};sap.zen.crosstab.BaseArea.prototype.changeRowHeightTemporaryFlag=function(e,t,a){if(!this.aCalculatedRowHeights[e]&&a){this.addPageToTempArray(this.aTemporaryRowHeights,e,t)}else if(!a&&this.aTemporaryRowHeights[e]){this.removePageFromTempArray(this.aTemporaryRowHeights,e,t);if(!this.aTemporaryRowHeights[e]){this.aCalculatedRowHeights[e]=null}}};sap.zen.crosstab.BaseArea.prototype.applyColWidthsToGranularityCells=function(e,t){var a=0;var s=null;var i=0;var r=0;var o=0;for(a=this.iRenderStartCol;a<this.aColGranularity.length;a++){s=this.aColGranularity[a];if(s){r=0;for(i=0;i<s.iColSpan;i++){o=e[a+i];r+=o;if(!this.aCalculatedColWidths[a+i]||t===true){this.aCalculatedColWidths[a+i]=o}}s.iWidth=r}}};sap.zen.crosstab.BaseArea.prototype.applyRowHeightsToGranularityCells=function(e,t){var a=0;var s=null;var i=0;var r=0;var o=0;var n=false;var l=false;for(a=this.iRenderStartRow;a<this.aRowGranularity.length;a++){s=this.aRowGranularity[a];if(s){r=0;for(i=0;i<s.iRowSpan;i++){o=e[a+i];r+=o;n=this.aCalculatedRowHeights[a+i]&&o>this.aCalculatedRowHeights[a+i];if(!this.aCalculatedRowHeights[a+i]||t&&t[a+i]||n===true){if(n===true){l=true}this.aCalculatedRowHeights[a+i]=o}}s.iHeight=r}}return l};sap.zen.crosstab.BaseArea.prototype.getColGranularity=function(){return this.aColGranularity};sap.zen.crosstab.BaseArea.prototype.getRowGranularity=function(){return this.aRowGranularity};sap.zen.crosstab.BaseArea.prototype.getCellDirect=function(e,t){return this.oDataModel.getCellDirect(e,t)};sap.zen.crosstab.BaseArea.prototype.getCell=function(e,t){return this.oDataModel.getCell(e,t)};sap.zen.crosstab.BaseArea.prototype.renderBaseArea=function(e){this.oCrosstab.getRenderEngine().renderArea(this,e)};sap.zen.crosstab.BaseArea.prototype.setRowCnt=function(e){this.oDataModel.setRowCnt(e)};sap.zen.crosstab.BaseArea.prototype.getRowCnt=function(){return this.oDataModel.getRowCnt()};sap.zen.crosstab.BaseArea.prototype.setColCnt=function(e){this.oDataModel.setColCnt(e)};sap.zen.crosstab.BaseArea.prototype.getColCnt=function(){return this.oDataModel.getColCnt()};sap.zen.crosstab.BaseArea.prototype.clear=function(e,t){this.oDataModel.clear();this.iRenderStartRow=0;this.iRenderRowCnt=0;this.iRenderStartCol=0;this.iRenderColCnt=0;this.bHasContent=false;this.fRenderCellCallback=null;this.aColGranularity=[];this.aColWidths=[];this.aTemporaryColWidths=[];this.aRowGranularity=[];this.aRowHeights=[];this.aCalculatedRowHeights=[];this.aTemporaryRowHeights=[];this.iLoadingPageCnt=0;this.aLevelCells=[];this.oColUserWidth={};this.oColsWithSymbolException={};if(!e){this.oUserResizedCols={}}if(!t){this.aCalculatedColWidths=[]}this.oCellsWithLineBreakTexts=null;this.iMaxNumberOfLineBreaks=0};sap.zen.crosstab.BaseArea.prototype.getDataModel=function(){return this.oDataModel};sap.zen.crosstab.BaseArea.prototype.setDataModel=function(e){this.oDataModel=e};sap.zen.crosstab.BaseArea.prototype.getId=function(){return this.sId};sap.zen.crosstab.BaseArea.prototype.setId=function(e){this.sId=e};sap.zen.crosstab.BaseArea.prototype.getAreaType=function(){return this.sAreaType};sap.zen.crosstab.BaseArea.prototype.getAxisName=function(){if(this.sAreaType===t.TYPE_ROW_HEADER_AREA){return t.ROW_AXIS}else if(this.sAreaType===t.TYPE_COLUMN_HEADER_AREA){return t.COL_AXIS}else if(this.sAreaType===t.TYPE_DATA_AREA){return t.DATA_AXIS}else{return""}};sap.zen.crosstab.BaseArea.prototype.getCrosstab=function(){return this.oCrosstab};sap.zen.crosstab.BaseArea.prototype.getPageManager=function(){return this.oCrosstab.getPageManager()};sap.zen.crosstab.BaseArea.prototype.getCellWithColSpan=function(e,t,a){return this.oDataModel.getCellWithColSpan(e,t,a)};sap.zen.crosstab.BaseArea.prototype.getCellWithRowSpan=function(e,t,a){return this.oDataModel.getCellWithRowSpan(e,t,a)};sap.zen.crosstab.BaseArea.prototype.setRenderSize=function(e,t,a,s){var i=this.oDataModel.getRowCnt();var r=this.oDataModel.getColCnt();var o=0;this.iRenderStartRow=e;this.iRenderRowCnt=t;o=this.iRenderStartRow+this.iRenderRowCnt;if(o>i){this.iRenderRowCnt=i-this.iRenderStartRow}this.iRenderStartCol=a;this.iRenderColCnt=s;o=this.iRenderStartCol+this.iRenderColCnt;if(o>r){this.iRenderColCnt=r-this.iRenderStartCol}};sap.zen.crosstab.BaseArea.prototype.setRenderStartRow=function(e){this.iRenderStartRow=e};sap.zen.crosstab.BaseArea.prototype.setRenderRowCnt=function(e){this.iRenderRowCnt=e};sap.zen.crosstab.BaseArea.prototype.setRenderStartCol=function(e){this.iRenderStartCol=e};sap.zen.crosstab.BaseArea.prototype.setRenderColCnt=function(e){this.iRenderColCnt=e};sap.zen.crosstab.BaseArea.prototype.getRenderStartRow=function(){return this.iRenderStartRow};sap.zen.crosstab.BaseArea.prototype.getRenderRowCnt=function(){return this.iRenderRowCnt};sap.zen.crosstab.BaseArea.prototype.getRenderStartCol=function(){return this.iRenderStartCol};sap.zen.crosstab.BaseArea.prototype.getRenderColCnt=function(){return this.iRenderColCnt};sap.zen.crosstab.BaseArea.prototype.getRenderedCellsByCol=function(e){return this.oDataModel.getCellsByCol(e,this.iRenderStartRow,this.iRenderRowCnt)};sap.zen.crosstab.BaseArea.prototype.getRenderedCellsByRow=function(e){return this.oDataModel.getCellsByRow(e,this.iRenderStartCol,this.iRenderColCnt)};sap.zen.crosstab.BaseArea.prototype.resetColWidth=function(e){this.aCalculatedColWidths[e]=0};sap.zen.crosstab.BaseArea.prototype.setColWidth=function(e,t){this.aCalculatedColWidths[e]=t};sap.zen.crosstab.BaseArea.prototype.getColWidth=function(e){return this.aCalculatedColWidths[e]};sap.zen.crosstab.BaseArea.prototype.getColWidths=function(){return this.aCalculatedColWidths};sap.zen.crosstab.BaseArea.prototype.setColWidths=function(e){this.aCalculatedColWidths=e};sap.zen.crosstab.BaseArea.prototype.determineUserColWidth=function(e){var t=-1;if(!this.oUserResizedCols[e]){var a=this.oColUserWidth[e];var s=this.oColUserWidth["*"];if(a&&!a.ignore){t=a.width}else{if(s){if(a){if(!a.ignore){t=s.width}}else{t=s.width}}}}return t};sap.zen.crosstab.BaseArea.prototype.getFinalColWidth=function(e){var t=0;if(!this.hasLoadingPages()){t=this.getColWidth(e)}var a=this.determineUserColWidth(e);if(a>-1){t=a}return t};sap.zen.crosstab.BaseArea.prototype.getRowHeight=function(e){return this.aCalculatedRowHeights[e]};sap.zen.crosstab.BaseArea.prototype.getFinalRowHeight=function(e){var t=0;if(!this.hasLoadingPages()){t=this.getRowHeight(e)}return t};sap.zen.crosstab.BaseArea.prototype.hasContent=function(){return this.bHasContent};sap.zen.crosstab.BaseArea.prototype.registerRenderCellCallback=function(e){this.fRenderCellCallback=e};sap.zen.crosstab.BaseArea.prototype.removeRenderCellCallback=function(){this.fRenderCellCallback=null};sap.zen.crosstab.BaseArea.prototype.getRenderCellCallback=function(){return this.fRenderCellCallback};sap.zen.crosstab.BaseArea.prototype.isDimHeaderArea=function(){return this.sAreaType===t.TYPE_DIMENSION_HEADER_AREA};sap.zen.crosstab.BaseArea.prototype.isRowHeaderArea=function(){return this.sAreaType===t.TYPE_ROW_HEADER_AREA};sap.zen.crosstab.BaseArea.prototype.isColHeaderArea=function(){return this.sAreaType===t.TYPE_COLUMN_HEADER_AREA};sap.zen.crosstab.BaseArea.prototype.isDataArea=function(){return this.sAreaType===t.TYPE_DATA_AREA};sap.zen.crosstab.BaseArea.getArea=function(e,a){if(a===t.TYPE_DIMENSION_HEADER_AREA){return e.getDimensionHeaderArea()}else if(a===t.TYPE_ROW_HEADER_AREA){return e.getRowHeaderArea()}else if(a===t.TYPE_COLUMN_HEADER_AREA){return e.getColumnHeaderArea()}else if(a===t.TYPE_DATA_AREA){return e.getDataArea()}else{return null}};sap.zen.crosstab.BaseArea.prototype.increaseLoadingPageCnt=function(){this.iLoadingPageCnt++};sap.zen.crosstab.BaseArea.prototype.decreaseLoadingPageCnt=function(){if(this.iLoadingPageCnt>0){this.iLoadingPageCnt--}};sap.zen.crosstab.BaseArea.prototype.getLoadingPageCnt=function(){return this.iLoadingPageCnt};sap.zen.crosstab.BaseArea.prototype.openContainerCell=function(e,t){e.openStart("td");e.style("border-spacing","0px");e.style("padding","0px");e.style("border-width","0px");e.style("margin","0px");if(t){e.attr("class",t)}e.openEnd()};sap.zen.crosstab.BaseArea.prototype.closeContainerCell=function(e){e.close("td")};sap.zen.crosstab.BaseArea.prototype.openContainerTable=function(e){e.openStart("table",this.sId+"_container");e.style("border-collapse","collapse");e.style("border-spacing","0px");e.style("padding","0px");e.style("border-width","0px");e.style("margin","0px");e.openEnd()};sap.zen.crosstab.BaseArea.prototype.closeContainerTable=function(e){e.close("table")};sap.zen.crosstab.BaseArea.prototype.renderContainerStructure=function(e,t,a,s){this.openContainerTable(e);e.openStart("tr").openEnd();this.openContainerCell(e);e.openStart("table",this.sId);e.attr("class",t);e.openEnd();e.close("table");this.closeContainerCell(e);if(s){this.openContainerCell(e,"sapzencrosstab-HorizontalCutOff-"+this.getAreaType());e.openStart("div");e.class("sapzencrosstab-HorizontalCutOffSpacer");e.openEnd();e.close("div");this.closeContainerCell(e)}e.close("tr");if(a){e.openStart("tr").openEnd();this.openContainerCell(e,"sapzencrosstab-VerticalCutOff-"+this.getAreaType());e.openStart("div");e.class("sapzencrosstab-VerticalCutOffSpacer");e.openEnd();e.close("div");this.closeContainerCell(e);if(s){this.openContainerCell(e,"sapzencrosstab-CutOffCorner");this.closeContainerCell(e)}e.close("tr")}this.closeContainerTable(e)};sap.zen.crosstab.BaseArea.prototype.columnHasSymbolException=function(e){this.oColsWithSymbolException[e]=null};sap.zen.crosstab.BaseArea.prototype.setColUserWidth=function(e,t,a){this.oColUserWidth[e]={width:t,ignore:a}};sap.zen.crosstab.BaseArea.prototype.clearColUserWidth=function(e){delete this.oColUserWidth[e]};sap.zen.crosstab.BaseArea.prototype.hasUserColWidths=function(){var e=this.oColUserWidth&&a.hasEntries(this.oColUserWidth);return e};sap.zen.crosstab.BaseArea.prototype.isFixedColWidthSet=function(e){if(!this.hasUserColWidths()&&!a.hasEntries(this.oUserResizedCols)){return false}if(this.oColUserWidth[e]!==undefined){return true}if(this.oUserResizedCols[e]!==undefined){return true}return false};sap.zen.crosstab.BaseArea.prototype.setColGranularityCalculatedAndMeasured=function(e){this.bColGranularityCalculatedAndMeasured=e};sap.zen.crosstab.BaseArea.prototype.setUserResizedCol=function(e){this.oUserResizedCols[e]=true};sap.zen.crosstab.BaseArea.prototype.clearUserResizedCol=function(e){delete this.oUserResizedCols[e]};sap.zen.crosstab.BaseArea.prototype.getCellsWithLineBreakTexts=function(){return this.oCellsWithLineBreakTexts};return sap.zen.crosstab.BaseArea});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/CellStyleHandler",["sap/zen/crosstab/rendering/RenderingConstants","sap/zen/crosstab/utils/Utils"],function(e,l){"use strict";sap.zen.crosstab.CellStyleHandler={};sap.zen.crosstab.CellStyleHandler.aStyles=[];sap.zen.crosstab.CellStyleHandler.iDataCellAlternatingIndex=-1;sap.zen.crosstab.CellStyleHandler.iHeaderCellAlternatingIndex=-1;sap.zen.crosstab.CellStyleHandler.oExceptionVisualizationMapping={};sap.zen.crosstab.CellStyleHandler.oExceptionVisualizationMapping[e.ALERT_TYPE_BACKGROUND]="Background";sap.zen.crosstab.CellStyleHandler.oExceptionVisualizationMapping[e.ALERT_TYPE_FONT_COLOR]="FontColor";sap.zen.crosstab.CellStyleHandler.oExceptionVisualizationMapping[e.ALERT_TYPE_STATUS_SYMBOL]="StatusSymbol";sap.zen.crosstab.CellStyleHandler.oExceptionVisualizationMapping[e.ALERT_TYPE_TREND_ASCENDING_SYMBOL]="TrendAscendingSymbol";sap.zen.crosstab.CellStyleHandler.oExceptionVisualizationMapping[e.ALERT_TYPE_TREND_DESCENDING_SYMBOL]="TrendDescendingSymbol";sap.zen.crosstab.CellStyleHandler.oExceptionVisualizationMapping[e.ALERT_TYPE_TREND_GREY_SYMBOL]="TrendGreySymbol";sap.zen.crosstab.CellStyleHandler.getCompleteStyleName=function(l,a){var t="";if(a===e.TYPE_DATA_CELL){t=e.STYLE_PREFIX_DATA_CELL+l}else{t=e.STYLE_PREFIX_HEADER_CELL+l}return t};sap.zen.crosstab.CellStyleHandler.pushStyle=function(e){var l=sap.zen.crosstab.CellStyleHandler.aStyles.push(e);l--;return l};sap.zen.crosstab.CellStyleHandler.getStyleId=function(e,l){var a=sap.zen.crosstab.CellStyleHandler.getCompleteStyleName(e,l);var t=sap.zen.crosstab.CellStyleHandler.aStyles.indexOf(a);if(t===-1){t=sap.zen.crosstab.CellStyleHandler.pushStyle(a)}return t};sap.zen.crosstab.CellStyleHandler.pushPresetStyle=function(e,l){var a=sap.zen.crosstab.CellStyleHandler.getCompleteStyleName(e,l);var t=sap.zen.crosstab.CellStyleHandler.pushStyle(a);return t};sap.zen.crosstab.CellStyleHandler.translateStyleForMainMode=function(e){if(e.indexOf("CellEntryEnabled")>-1){e=e+"-MainMode"}return e};sap.zen.crosstab.CellStyleHandler.addTextAlignmentStyleForIE=function(e,l){if(l){e=e+" sapzencrosstab-TextAlignmentIE_RTL"}else{e=e+" sapzencrosstab-TextAlignmentIE"}return e};sap.zen.crosstab.CellStyleHandler.iDataCellAlternatingIndex=sap.zen.crosstab.CellStyleHandler.pushPresetStyle(e.STYLE_ALTERNATING,e.TYPE_DATA_CELL);sap.zen.crosstab.CellStyleHandler.iHeaderCellAlternatingIndex=sap.zen.crosstab.CellStyleHandler.pushPresetStyle(e.STYLE_ALTERNATING,e.TYPE_HEADER_CELL);sap.zen.crosstab.CellStyleHandler.getCssClasses=function(e,a,t,n){var s="";var r=e.length;for(var o=0;o<r;o++){var i=e[o];if(i!==-1){if(!(a&&(i===sap.zen.crosstab.CellStyleHandler.iDataCellAlternatingIndex||i===sap.zen.crosstab.CellStyleHandler.iHeaderCellAlternatingIndex))){var p=sap.zen.crosstab.CellStyleHandler.aStyles[i];if(p){if(l.isMainMode()){p=sap.zen.crosstab.CellStyleHandler.translateStyleForMainMode(p)}if(n){p=sap.zen.crosstab.CellStyleHandler.addTextAlignmentStyleForIE(p,t)}s+=p;s+=" "}}}}return s};sap.zen.crosstab.CellStyleHandler.getStyleForExceptionViz=function(e,l){var a="Alert"+l+sap.zen.crosstab.CellStyleHandler.oExceptionVisualizationMapping[e];return a};sap.zen.crosstab.CellStyleHandler.setExceptionStylesOnCell=function(e,l,a){if(l>4){e.getArea().columnHasSymbolException(e.getCol());e.addStyle("SymbolAlertBackground")}var t=sap.zen.crosstab.CellStyleHandler.getStyleForExceptionViz(l,a);if(t){e.addStyle(t)}};return sap.zen.crosstab.CellStyleHandler});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/ColResizer", ["jquery.sap.global","sap/zen/crosstab/utils/Utils"],function(jQuery,e){"use strict";jQuery.sap.declare("sap.zen.crosstab.ColResizer");sap.zen.crosstab.ColResizer=function(t){var i=this;var n=t.getDataArea();var o=t.getRowHeaderArea();var s=null;var l=null;var a=null;var r=null;var u=null;var c=null;var d=0;var v=0;var h=false;var C;var f=false;this.initialize=function(){C=t.getUtils();f=t.getPropertyBag().isRtl();u=t.getTableDiv();c=t.getRenderSizeDiv();a=C.getRtlAwareBoundingClientRect(c[0]);r=jQuery(document.getElementById(t.getId()+"_colResizeRuler"));this.attachEvents()};this.attachEvents=function(){u.unbind("dblclick");u.bind("dblclick",this.onDoubleClick);r.unbind("mousemove",this.onMouseMove);r.bind("mousemove",this.onMouseMove);var e=u.find(".sapzencrosstab-columnResizeHandleWithSort, .sapzencrosstab-columnResizeHandle");jQuery.each(e,function(e,t){var n=jQuery(t);n.unbind("mousedown",i.onMouseDown);n.bind("mousedown",i.onMouseDown);n.unbind("mouseup",i.executeonMouseUp);n.bind("mouseup",i.executeonMouseUp);n.unbind("mousemove",i.onMouseMove);n.bind("mousemove",i.onMouseMove)})};this.onDoubleClick=function(t){i.determineResizeCell(t,true);if(s){i.resizeCol(s,-1);s=null;e.cancelEvent(t)}};this.onMouseUp=function(t){var n;if(s&&l){n=i.calculateNewColWidth(t);if(n>0){i.resizeCol(s,n)}s=null;l=null;r.css("visibility","hidden");h=false;jQuery(document).off("mouseup",i.onMouseUp);e.cancelEvent(t)}};this.onMouseDown=function(t){if(!s){i.determineResizeCell(t);if(s){l=C.getRtlAwareBoundingClientRect(document.getElementById(s.getId()));d=t.clientX;r.outerHeight(c.outerHeight());v=l.end-r.outerWidth()-a.begin;r.css(f?"right":"left",v+"px");jQuery(document).on("mouseup",i.onMouseUp);e.cancelEvent(t)}}};this.onMouseMove=function(t){var n;if(s&&l){n=v+i.getDelta(t);if(n!==v){n=Math.max(n,l.begin-a.begin);if(!h){r.css("visibility","visible");h=true}r.css(f?"right":"left",n+"px")}e.cancelEvent(t)}};this.isResizeAction=function(){if(s&&l){return true}return false};this.determineResizeCell=function(e,t){var i;var n;s=sap.ui.getCore().byId(e.target.id.slice(5));if(!t&&s.getColSpan()>1){i=s.getCol()+s.getColSpan()-1;n=s.getArea();s=n.getCellWithColSpan(n.getRowCnt()-1,i);if(!s){s=n.getCellWithRowSpan(n.getRowCnt()-1,i)}}};this.calculateNewColWidth=function(e){var t;var n=-1;if(s&&l){t=i.getDelta(e);if(t!==0){n=l.width+t;n=Math.max(1,n)}}return n};this.getDelta=function(e){if(f){return d-e.clientX}else{return e.clientX-d}};this.resizeCol=function(e,i){var s=e.getArea();if(s.isColHeaderArea()){this.setColWidths(e,s,n,i)}else if(s.isDimHeaderArea()){this.setColWidths(e,s,o,i)}this.sendUpdateColWidthCommand(e,i);t.invalidate()};this.setColWidths=function(e,t,i,n){var o;var s;var l;o=e.getCol()+e.getColSpan()-1;if(n>0){t.setColWidth(o,n);t.setUserResizedCol(o);i.setColWidth(o,n);i.setUserResizedCol(o)}else{s=0;l=e.getCol()+e.getColSpan()-e.getEffectiveColSpan();for(s=o;s>=l;s--){t.resetColWidth(s);i.resetColWidth(s);t.setUserResizedCol(s);i.setUserResizedCol(s)}}};this.sendUpdateColWidthCommand=function(e,i){var n=t.getUpdateColWidthCommand();if(n!=null&&n.length>0){var o=e.getTableCol();n=n.replace("__COL__",o);n=n.replace("__WIDTH__",Math.round(i));var s=new Function(n);s()}}};return sap.zen.crosstab.ColResizer});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/ColumnHeaderArea", ["jquery.sap.global","sap/zen/crosstab/BaseArea","sap/zen/crosstab/rendering/RenderingConstants"],function(jQuery,e,a){"use strict";jQuery.sap.declare("sap.zen.crosstab.ColumnHeaderArea");sap.zen.crosstab.ColumnHeaderArea=function(t){e.call(this,t);this.sAreaType=a.TYPE_COLUMN_HEADER_AREA;this.iRenderStartCol=0;this.iRenderColCnt=0;this.bLastPageLoaded=false};sap.zen.crosstab.ColumnHeaderArea.prototype=jQuery.sap.newObject(e.prototype);sap.zen.crosstab.ColumnHeaderArea.prototype.renderArea=function(e){this.renderContainerStructure(e,"sapzencrosstab-ColumnHeaderArea",false,this.oCrosstab.isHCutOff())};sap.zen.crosstab.ColumnHeaderArea.prototype.getSelectedCellsBySelectionCoordinates=function(e,a){var t=this.oDataModel.getCellWithSpan(e,a);var r={};if(t){r[t.getId()]=t;var s=t.getColSpan();var o=t.getRow()+1;var n=this.getRowCnt()-o;var l=0;var i=null;for(var p=0;p<s;p++){l=t.getCol()+p;i=this.oDataModel.getCellsByCol(l,o,n);for(var C=0;C<i.length;C++){r[i[C].getId()]=i[C]}}return r}return null};sap.zen.crosstab.ColumnHeaderArea.prototype.getSelectedCellsByDataSelection=function(e){var a={};var t=0;var r=this.getRowCnt();var s=e.getCol();for(var o=t;o<r;o++){var n=this.oDataModel.getCellWithSpan(o,s);a[n.getId()]=n}return a};return sap.zen.crosstab.ColumnHeaderArea});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/Crosstab", ["jquery.sap.global","sap/ui/core/Control","sap/zen/crosstab/paging/PageManager","sap/zen/crosstab/DataArea","sap/zen/crosstab/ColumnHeaderArea","sap/zen/crosstab/RowHeaderArea","sap/zen/crosstab/DimensionHeaderArea","sap/zen/crosstab/EventHandler","sap/zen/crosstab/SelectionHandler","sap/zen/crosstab/rendering/RenderEngine","sap/zen/crosstab/utils/Utils","sap/zen/crosstab/PropertyBag","sap/zen/crosstab/CrosstabCellApi","sap/zen/crosstab/CrosstabTestProxy","sap/zen/crosstab/CellStyleHandler","sap/zen/crosstab/CrosstabContextMenu","sap/zen/crosstab/CrosstabHeaderInfo","sap/zen/crosstab/dragdrop/DragDropHandler","sap/zen/crosstab/rendering/RenderingConstants"],function(jQuery,e,t,s,r,o,n,a,i,l,p,d,c,h,u,b,f,g,C){"use strict";jQuery.sap.declare("sap.zen.crosstab.Crosstab");e.extend("sap.zen.crosstab.Crosstab",{metadata:{library:"sap.zen.crosstab",properties:{width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null},height:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null}}}});sap.zen.crosstab.Crosstab.prototype.init=function(){"use strict";this.scrolled=false;this.ensureIndexOf();var e=this.getId();var t=e+"_dataArea";this.dataArea=new s(this);this.dataArea.setId(t);var i=e+"_colHeaderArea";this.columnHeaderArea=new r(this);this.columnHeaderArea.setId(i);var c=e+"_rowHeaderArea";this.rowHeaderArea=new o(this);this.rowHeaderArea.setId(c);var u=e+"_dimHeaderArea";this.dimensionHeaderArea=new n(this);this.dimensionHeaderArea.setId(u);this.oPropertyBag=new d(this);this.oRenderEngine=new l(this);this.oSelectionHandler=null;this.oEventHandler=new a(this);this.oUtils=new p(this);this.iCalculatedWidth=-1;this.iCalculatedHeight=-1;this.fPageRequestHandler=null;this.bOnAfterRendering=true;this.bIsVResize=false;this.bIsHResize=false;this.iHierarchyIndentWidth=0;this.iHierarchyIndentHeight=0;this.iExceptionSymbolWidth=0;this.iRenderMode=C.RENDERMODE_COMPACT;this.bRenderScrollbars=true;this.bHCutOff=false;this.bVCutOff=false;this.sOnSelectCommand=null;this.sTransferDataCommand=null;this.sCallValueHelpCommand=null;this.iTotalRowCnt=0;this.iTotalColCnt=0;this.oHScrollbar=null;this.oVScrollbar=null;this.oHorizontalHeaderScrollbar=null;this.iTimeoutCounter=0;this.iTimeoutCounter2=0;this.oColHeaderHierarchyLevels={};this.oRowHeaderHierarchyLevels={};this.oTestProxy=new h(this,this.oEventHandler,this.oRenderEngine);this.bAdjustFrameDivs=true;this.iSavedWidthForPrepareDom=0;this.iSavedHeightForPrepareDom=0;this.oCellApi=null;this.iNewLinesCnt=0;this.sNewLinesPos="";this.bPlanningCheckMode=false;this.sScrollNotifyCommand=null;this.oContextMenu=null;this.iValueHelpStatus=0;this.bHeaderHScrolling=false;this.bPreparedDom=false;this.bWasRendered=false;this.sUserHeaderWidthCommand=null;this.bIsUserHeaderResizeAllowed=false;this.bIsHeaderScrollingConfigured=false;this.bContainerIsRendered=false;this.bContainerRenderRequest=false;this.oContainer=null;this.oHeaderInfo=null;this.sSelectionMode="";this.sSelectionSpace="";this.bEnableHoverEffect=true;this.oRenderTimer=null;this.oRenderTimer2=null;this.bQueueHeaderWidthRequest=true;this.bScrollInvalidate=false;this.bCalledByScrolling=false;this.bRevertDragDrop=false;this.bDragAction=false;this.oDragDropHandler=null;this.oDragDropCommands=null;this.bIsBlocked=false;this.bHasData=false;this.sUpdateColWidthCommand=null};sap.zen.crosstab.Crosstab.prototype.ensureIndexOf=function(){if(!Array.prototype.indexOf){Array.prototype.indexOf=function(e){"use strict";if(this==null){throw new TypeError}var t=Object(this);var s=t.length>>>0;if(s===0){return-1}var r=0;if(arguments.length>1){r=Number(arguments[1]);if(r!=r){r=0}else if(r!=0&&r!=Infinity&&r!=-Infinity){r=(r>0||-1)*Math.floor(Math.abs(r))}}if(r>=s){return-1}var o=r>=0?r:Math.max(s-Math.abs(r),0);for(;o<s;o++){if(o in t&&t[o]===e){return o}}return-1}}};sap.zen.crosstab.Crosstab.prototype.getTableDiv=function(){var e=null;if(this.iRenderMode===C.RENDERMODE_COMPACT){e=jQuery(document.getElementById(this.getId()+"_altRenderModeTableDiv"))}else{e=jQuery(document.getElementById(this.getId()))}return e};sap.zen.crosstab.Crosstab.prototype.ensurePageManager=function(){if(!this.oPageManager){this.oPageManager=new t(this)}return this.oPageManager};sap.zen.crosstab.Crosstab.prototype.getIntWidth=function(){var e=-1;var t=this.getWidth();if(t&&t!=="auto"){e=parseInt(t,10)}else{e=this.iCalculatedWidth}return e};sap.zen.crosstab.Crosstab.prototype.getContentWidth=function(){var e=this.getIntWidth();var t=this.getRenderEngine().getTableDivValues();e=e-t.borders.iLeftBorderWidth-t.borders.iRightBorderWidth;return e};sap.zen.crosstab.Crosstab.prototype.getContentHeight=function(){var e=this.getIntHeight();var t=this.getRenderEngine().getTableDivValues();var s=this.oPropertyBag.getToolbarHeight();e=e-t.borders.iTopBorderWidth-t.borders.iBottomBorderWidth-s;return e};sap.zen.crosstab.Crosstab.prototype.getIntHeight=function(){var e=-1;var t=this.getHeight();if(t&&t!=="auto"){e=parseInt(t,10)}else{e=this.iCalculatedHeight}return e};sap.zen.crosstab.Crosstab.prototype.resize=function(){var e=jQuery.sap.byId(this.getId());var t=parseInt(e.outerWidth(),10);var s=parseInt(e.outerHeight(),10);this.isHResize=t!==this.getIntWidth();this.isVResize=s!==this.getIntHeight();if(this.isHResize||this.isVResize){this.ensurePageManager().resizeEvent()}};sap.zen.crosstab.Crosstab.prototype.determineRenderMode=function(e){var t=-1;if(e){if(e.alwaysfill){t=C.RENDERMODE_FILL}else{t=C.RENDERMODE_COMPACT}}if(t===-1){t=C.RENDERMODE_COMPACT}if(t!==this.iRenderMode){this.oRenderEngine.reset();this.iRenderMode=t}};sap.zen.crosstab.Crosstab.prototype.determineScrollMode=function(e){var t=e.pixelscrolling;if(t!==this.oPropertyBag.isPixelScrolling()){this.oRenderEngine.reset();this.oPropertyBag.setPixelScrolling(t)}};sap.zen.crosstab.Crosstab.prototype.applyControlProperties=function(e){this.bPlanningCheckMode=e.pvcheck!==null&&e.pvcheck!==undefined;var t=this.ensurePageManager().checkResponseConsistency(e);if(!t){this.reset(e)}if(!this.bPlanningCheckMode){if(e.removeselection===true){if(this.oSelectionHandler){this.oSelectionHandler.removeAllSelections();this.bOnAfterRendering=true}}else{this.determineRenderMode(e);this.determineScrollMode(e);this.ensurePageManager().receiveData(e)}}else{this.handlePlanningCheckData(e);this.bOnAfterRendering=true}this.bPlanningCheckMode=false};sap.zen.crosstab.Crosstab.prototype.calculateOffset=function(e){var t=0;var s=e.getArea();if(s.isRowHeaderArea()){for(var r=0;r<e.getCol();r++){var o=s.getCell(e.getRow(),r);if(!o){t++}else if(!o.isEntryEnabled()){t++}}}return t};sap.zen.crosstab.Crosstab.prototype.calculateRowHeaderColOffsetsForRow=function(e){var t={};var s=0;var r=null;var o=0;var n=this.rowHeaderArea.getColCnt();for(s=0;s<n;s++){r=this.getTableCell(e,s);if(r!==null&&r.isEntryEnabled()){t[o]=s;o++}}return t};sap.zen.crosstab.Crosstab.prototype.handlePlanningCheckData=function(e){var t=0;var s=e.pvcheck;var r=s.length;var o={};var n=null;var a=0;for(t=0;t<r;t++){var i=s[t];n=o[i.tabrow];if(!n){n=this.calculateRowHeaderColOffsetsForRow(i.tabrow);o[i.tabrow]=n}a=n[i.tabcol]||i.tabcol;var l=this.getTableCell(i.tabrow,a);if(l){l.setText(i.text);if(i.valid===false){l.addStyle(C.STYLE_INVALID_VALUE)}else{l.removeStyle(C.STYLE_INVALID_VALUE)}if(i.newvalue===true){l.addStyle(C.STYLE_NEW_VALUE)}this.oRenderEngine.updateRenderingOfInputCellAfterCheck(l)}}};sap.zen.crosstab.Crosstab.prototype.determineKeepUserColWidths=function(e){if(e.dataproviderchanged){return false}if(e.resultsetchanged&&e.rootcause===undefined){return false}return false};sap.zen.crosstab.Crosstab.prototype.determineKeepCalculatedColWidths=function(e){if(e.rootcause==="sorting"){return true}var t=(e.v_pos||1)-1;var s=e.sentdatarows||0;var r=e.clientvpos||0;var o=e.totaldatarows||0;var n=(e.h_pos||1)-1;var a=e.sentdatacols||0;var i=e.clienthpos||0;var l=e.totaldatacols||0;var p=e.ispaging||false;var d=false;var c=false;if(this.bWasRendered===true&&!p){if(r>0&&r<=o&&r>t+s){c=true}if(i>0&&i<=l&&i>n+a){d=true}if(c===true||d===true){return true}}return false};sap.zen.crosstab.Crosstab.prototype.reset=function(e){var t=this.determineKeepUserColWidths(e);var s=this.determineKeepCalculatedColWidths(e);this.getDimensionHeaderArea().clear(t,s);this.getColumnHeaderArea().clear(t,s);this.getRowHeaderArea().clear(t,s);this.getDataArea().clear(t,s);this.oRenderEngine.reset(s);this.oPageManager.reset()};sap.zen.crosstab.Crosstab.prototype.updateControlProperties=function(e){if(e&&e.changed){this.reset(e)}this.applyControlProperties(e)};sap.zen.crosstab.Crosstab.prototype.expectOnAfterRenderingCall=function(){this.bOnAfterRendering=false};sap.zen.crosstab.Crosstab.prototype.setContainerIsRendered=function(){this.bContainerIsRendered=true};sap.zen.crosstab.Crosstab.prototype.setContainerRenderRequest=function(){this.bContainerRenderRequest=true};sap.zen.crosstab.Crosstab.prototype.cleanupContainer=function(){if(this.oContainer){if(this.oContainer.oNotificationRegistry){delete this.oContainer.oNotificationRegistry[this.getId()]}if(p.getSizeOf(this.oContainer.oNotificationRegistry)===0){if(this.oContainer.fOriginalRender){this.oContainer.getRenderer().render=this.oContainer.fOriginalRender;delete this.oContainer.fOriginalRender}this.oContainer.removeEventDelegate(this.onAfterRenderingDelegate)}}this.oContainer=null};sap.zen.crosstab.Crosstab.prototype.onAfterRenderingDelegate=null;sap.zen.crosstab.Crosstab.prototype.setupContainer=function(e){var t=this;var s=null;if(e&&e.getRenderer&&p.isDispatcherAvailable()===true){if(!e.fOriginalRender){s=e.getRenderer();e.fOriginalRender=s.render;s.render=function(t,s){e.fOriginalRender.call(e.getRenderer(),t,s);if(e.oNotificationRegistry){jQuery.each(e.oNotificationRegistry,function(e,t){var s=sap.zen.Dispatcher.instance.getControlForId(e);if(s){t.fSetRenderRequest.call(s)}})}};this.bContainerRenderRequest=true}if(e.onAfterRendering){e.removeEventDelegate(t.onAfterRenderingDelegate);t.onAfterRenderingDelegate={onAfterRendering:function(){if(e.oNotificationRegistry){jQuery.each(e.oNotificationRegistry,function(e,t){var s=sap.zen.Dispatcher.instance.getControlForId(e);if(s){t.fSetIsRendered.call(s)}})}}};e.addEventDelegate(t.onAfterRenderingDelegate)}else{this.bContainerIsRendered=true}if(!e.oNotificationRegistry){e.oNotificationRegistry={}}e.oNotificationRegistry[this.getId()]={fSetRenderRequest:this.setContainerRenderRequest,fSetIsRendered:this.setContainerIsRendered};this.oContainer=e}else{this.oContainer=null}};sap.zen.crosstab.Crosstab.prototype.getContainer=function(){var e=null;if(this.oContainer){e=this.oContainer}else{e=this.getParent().getParent()}return e};sap.zen.crosstab.Crosstab.prototype.isAutoSize=function(){var e=this.getWidth();var t=this.getHeight();if(!e){return true}else{if(e==="auto"){return true}}if(!t){return true}else{if(t==="auto"){return true}}return false};sap.zen.crosstab.Crosstab.prototype.prepareContainer=function(){var e=null;this.bContainerRenderRequest=false;if(!this.isAutoSize()){this.cleanupContainer();return}if(!sap.zen.Dispatcher){this.cleanupContainer();return}e=this.getParent().getParent();if(!e){this.cleanupContainer();return}if(this.oContainer&&e!==this.oContainer){this.cleanupContainer()}this.setupContainer(e)};sap.zen.crosstab.Crosstab.prototype.onAfterRendering=function(){if(!this.bIsDeferredRendering&&p.isDispatcherAvailable()){this.bIsDeferredRendering=sap.zen.Dispatcher.instance.isDeferredRendering()}if(!this.bContainerIsRendered&&this.bContainerRenderRequest===true&&this.oContainer){this.iTimeoutCounter++;if(this.iTimeoutCounter>1e3){return}if(this.oRenderTimer){clearTimeout(this.oRenderTimer);this.oRenderTimer=null}this.oRenderTimer=setTimeout(function(e){return function(){e.onAfterRendering()}}(this),10);return}if(this.bOnAfterRendering||this.bIsDeferredRendering){this.doRendering()}this.bContainerRenderRequest=false;this.bContainerIsRendered=false;this.bIsDeferredRendering=false};sap.zen.crosstab.Crosstab.prototype.prepareExistingDom=function(){if(!this.bPlanningCheckMode){var e=jQuery(document.getElementById(this.getDimensionHeaderArea().getId())).find("tbody");e.empty();e=jQuery(document.getElementById(this.getRowHeaderArea().getId())).find("tbody");e.empty();e=jQuery(document.getElementById(this.getColumnHeaderArea().getId())).find("tbody");e.empty();e=jQuery(document.getElementById(this.getDataArea().getId())).find("tbody");e.empty();this.bRenderScrollbars=false;this.determineNeedToAdjustOuterDivs();this.bPreparedDom=true}};sap.zen.crosstab.Crosstab.prototype.determineNeedToAdjustOuterDivs=function(){var e=this.getIntWidth();var t=this.getIntHeight();this.bAdjustFrameDivs=true;if(e===this.iSavedWidthForPrepareDom&&t===this.iSavedHeightForPrepareDom){this.bAdjustFrameDivs=false}else{this.getRenderEngine().removeOuterDivBorders()}if(!this.getDataArea().hasLoadingPages()){this.iSavedWidthForPrepareDom=e;this.iSavedHeightForPrepareDom=t}};sap.zen.crosstab.Crosstab.prototype.determineHierarchyIndents=function(){var e=jQuery(document.getElementById(this.getId()+"_measureDiv"));if(e&&e.length>0){e.css("visibility","visible");this.iHierarchyIndentWidth=parseInt(e.outerWidth(),10);this.iHierarchyIndentHeight=parseInt(e.outerHeight(),10);e.css("visibility","none")}};sap.zen.crosstab.Crosstab.prototype.determineAlertSymbolDimensions=function(){var e=jQuery(document.getElementById(this.getId()+"_exceptionMeasureDiv"));if(e&&e.length>0){e.css("visibility","visible");this.iExceptionSymbolWidth=parseInt(e.outerWidth(),10);e.css("visibility","none")}};sap.zen.crosstab.Crosstab.prototype.isRenderingPossible=function(){if(p.isDispatcherAvailable()===true&&sap.zen.Dispatcher.instance.suppressRendering()){if(!sap.zen.Dispatcher.instance.isSingleDelta(this.getId())){sap.zen.Dispatcher.instance.registerForDeferredRendering(this);return false}}var e=[];e.push(jQuery(document.getElementById(this.getId())));e.push(jQuery(document.getElementById(this.getId()+"_upperSection")));e.push(jQuery(document.getElementById(this.getId()+"_lowerSection")));e.push(jQuery(document.getElementById(this.getId()+"_dimHeaderArea")));e.push(jQuery(document.getElementById(this.getId()+"_colHeaderArea")));e.push(jQuery(document.getElementById(this.getId()+"_dataArea")));for(var t=0;t<e.length;t++){if(e[t].length!==1){this.bOnAfterRendering=true;return false}}return true};sap.zen.crosstab.Crosstab.prototype.determineCrosstabSize=function(){var e=true;var t=null;if(!this.getWidth()||!this.getHeight()){e=false}else{t=jQuery.sap.byId(this.getId()).parent();var s=t.outerWidth();if(s&&s>10){this.iCalculatedWidth=s}var r=t.outerHeight();if(r&&r>10){this.iCalculatedHeight=r}}return e};sap.zen.crosstab.Crosstab.prototype.setInvalidateCalledByScrolling=function(){this.bCalledByScrolling=true};sap.zen.crosstab.Crosstab.prototype.doRendering=function(){this.iTimeoutCounter=0;if(this.oRenderTimer){clearTimeout(this.oRenderTimer);this.oRenderTimer=null}if(this.bPlanningCheckMode===true){return}if(!this.isRenderingPossible()){return}if(!this.determineCrosstabSize()){return}if(this.iCalculatedWidth===-1||this.iCalculatedHeight===-1){this.iTimeoutCounter2++;if(this.iTimeoutCounter2>1e3){return}if(this.oRenderTimer2){clearTimeout(this.oRenderTimer2);this.oRenderTimer2=null}this.oRenderTimer2=setTimeout(function(e){return function(){e.doRendering()}}(this),10);return}this.iTimeoutCounter2=0;if(this.oRenderTimer2){clearTimeout(this.oRenderTimer2);this.oRenderTimer2=null}this.determineHierarchyIndents();if(this.getPropertyBag().isDisplayExceptions()){this.determineAlertSymbolDimensions()}var e=this.getRenderEngine();e.setAdjustFrameDivs(this.bAdjustFrameDivs);if(e.hasCrosstabSizeChanged()){this.ensurePageManager().resizeEvent()}if(this.oPropertyBag.hasToolbar()){var t=jQuery(document.getElementById(this.getId()+"_toolbar"));var s=t.outerHeight();this.oPropertyBag.setToolbarHeight(s)}e.beginRendering();e.renderCrosstabAreas();e.calculateRenderSizeDivSize();if(!this.oPropertyBag.isPixelScrolling()){e.appendColumnsAfterResize();e.appendRowsAfterResize()}if(this.bRenderScrollbars){e.renderScrollbars()}e.adjustRenderSizeDivSize();if(this.bRenderScrollbars){e.setScrollbarSteps()}e.adjustScrollDivSizes();if(!this.bRenderScrollbars){e.checkScrollbarSize()}e.adjustScrollPositions(this.bRenderScrollbars);if(!this.oPropertyBag.isRtl()){if(!this.oPropertyBag.isPixelScrolling()){e.moveScrollDivs()}}else{if(this.oPropertyBag.isPixelScrolling()&&jQuery.browser.webkit){e.moveScrollDivs()}}if(this.oHorizontalHeaderScrollbar&&!this.bPreparedDom){e.updateHeaderScrollbarSizes()}e.updateHeaderResizeDiv();if(this.getPropertyBag().isDragDropEnabled()===true&&p.isDispatcherAvailable()===true){if(!this.oDragDropHandler){this.oDragDropHandler=new g(this,this.oDragDropCommands)}}e.finishRendering();this.oEventHandler.attachEvents();this.bOnAfterRendering=true;this.bRenderScrollbars=true;this.bAdjustFrameDivs=true;this.bPreparedDom=false;this.bWasRendered=true;var r=this.bCalledByScrolling;this.bCalledByScrolling=false;var o=this.bScrollInvalidate;this.bScrollInvalidate=false;if(!r&&!this.hasLoadingPages()&&o===true){this.invalidate()}if(!this.hasLoadingPages()){this.getPropertyBag().setBookmarkProcessing(false)}};sap.zen.crosstab.Crosstab.prototype.setScrollInvalidate=function(e){this.bScrollInvalidate=e};sap.zen.crosstab.Crosstab.prototype.isScrollInvalidate=function(){return this.bScrollInvalidate};sap.zen.crosstab.Crosstab.prototype.scrollHorizontal=function(e){this.oRenderEngine.scrollHorizontal(e)};sap.zen.crosstab.Crosstab.prototype.scrollVertical=function(e){this.oRenderEngine.scrollVertical(e)};sap.zen.crosstab.Crosstab.prototype.scrollHeaderHorizontal=function(e){this.oRenderEngine.scrollHeaderHorizontal(e)};sap.zen.crosstab.Crosstab.prototype.getVScrollPos=function(){var e=-1;if(this.oVScrollbar){e=this.oVScrollbar.getScrollPosition()}return e};sap.zen.crosstab.Crosstab.prototype.getHScrollPos=function(){var e=-1;if(this.oHScrollbar){e=this.oHScrollbar.getScrollPosition()}return e};sap.zen.crosstab.Crosstab.prototype.renderResizeOutline=function(){this.oRenderEngine.renderResizeOutline()};sap.zen.crosstab.Crosstab.prototype.removeResizeOutline=function(){this.oRenderEngine.removeResizeOutline()};sap.zen.crosstab.Crosstab.prototype.registerPageRequestHandler=function(e){this.fPageRequestHandler=e};sap.zen.crosstab.Crosstab.prototype.unregisterPageRequestHandler=function(){this.fPageRequestHandler=null};sap.zen.crosstab.Crosstab.prototype.getPageRequestHandler=function(){return this.fPageRequestHandler};sap.zen.crosstab.Crosstab.prototype.getReceivedPages=function(){return this.ensurePageManager().getReceivedPages()};sap.zen.crosstab.Crosstab.prototype.getHierarchyIndentWidth=function(){return this.iHierarchyIndentWidth};sap.zen.crosstab.Crosstab.prototype.getExceptionSymbolWidth=function(){return this.iExceptionSymbolWidth};sap.zen.crosstab.Crosstab.prototype.getHierarchyIndentHeight=function(){return this.iHierarchyIndentHeight};sap.zen.crosstab.Crosstab.prototype.hideLoadingIndicator=function(){this.oRenderEngine.hideLoadingIndicator()};sap.zen.crosstab.Crosstab.prototype.showLoadingIndicator=function(){this.oRenderEngine.showLoadingIndicator()};sap.zen.crosstab.Crosstab.prototype.setHCutOff=function(e){this.bHCutOff=e};sap.zen.crosstab.Crosstab.prototype.isHCutOff=function(){return this.bHCutOff};sap.zen.crosstab.Crosstab.prototype.setVCutOff=function(e){this.bVCutOff=e};sap.zen.crosstab.Crosstab.prototype.isVCutOff=function(){return this.bVCutOff};sap.zen.crosstab.Crosstab.prototype.getTotalRows=function(){return this.iTotalRowCnt};sap.zen.crosstab.Crosstab.prototype.getTotalCols=function(){return this.iTotalColCnt};sap.zen.crosstab.Crosstab.prototype.setTotalCols=function(e){this.iTotalColCnt=e};sap.zen.crosstab.Crosstab.prototype.setTotalRows=function(e){this.iTotalRowCnt=e};sap.zen.crosstab.Crosstab.prototype.setHScrollbar=function(e){this.oHScrollbar=e};sap.zen.crosstab.Crosstab.prototype.setVScrollbar=function(e){this.oVScrollbar=e};sap.zen.crosstab.Crosstab.prototype.getVScrollbar=function(){return this.oVScrollbar};sap.zen.crosstab.Crosstab.prototype.getHScrollbar=function(){return this.oHScrollbar};sap.zen.crosstab.Crosstab.prototype.getTestProxy=function(){return this.oTestProxy};sap.zen.crosstab.Crosstab.prototype.setOnSelectCommand=function(e){this.sOnSelectCommand=e};sap.zen.crosstab.Crosstab.prototype.getOnSelectCommand=function(){return this.sOnSelectCommand};sap.zen.crosstab.Crosstab.prototype.setTransferDataCommand=function(e){this.sTransferDataCommand=e};sap.zen.crosstab.Crosstab.prototype.getTransferDataCommand=function(){return this.sTransferDataCommand};sap.zen.crosstab.Crosstab.prototype.setCallValueHelpCommand=function(e){this.sCallValueHelpCommand=e};sap.zen.crosstab.Crosstab.prototype.getCallValueHelpCommand=function(){return this.sCallValueHelpCommand};sap.zen.crosstab.Crosstab.prototype.getRenderMode=function(){return this.iRenderMode};sap.zen.crosstab.Crosstab.prototype.getUtils=function(){return this.oUtils};sap.zen.crosstab.Crosstab.prototype.getDataArea=function(){return this.dataArea};sap.zen.crosstab.Crosstab.prototype.getDimensionHeaderArea=function(){return this.dimensionHeaderArea};sap.zen.crosstab.Crosstab.prototype.getColumnHeaderArea=function(){return this.columnHeaderArea};sap.zen.crosstab.Crosstab.prototype.getRowHeaderArea=function(){return this.rowHeaderArea};sap.zen.crosstab.Crosstab.prototype.getRenderEngine=function(){return this.oRenderEngine};sap.zen.crosstab.Crosstab.prototype.hResize=function(){return this.isHResize};sap.zen.crosstab.Crosstab.prototype.vResize=function(){return this.isVResize};sap.zen.crosstab.Crosstab.prototype.getPageManager=function(){return this.oPageManager};sap.zen.crosstab.Crosstab.prototype.isRenderScrollbars=function(){return this.bRenderScrollbars};sap.zen.crosstab.Crosstab.prototype.getPropertyBag=function(){return this.oPropertyBag};sap.zen.crosstab.Crosstab.prototype.hasToolbar=function(){return this.bHasToolbar};sap.zen.crosstab.Crosstab.prototype.setColHeaderHierarchyLevels=function(e){this.oColHeaderHierarchyLevels=e};sap.zen.crosstab.Crosstab.prototype.getColHeaderHierarchyLevels=function(){return this.oColHeaderHierarchyLevels};sap.zen.crosstab.Crosstab.prototype.setRowHeaderHierarchyLevels=function(e){this.oRowHeaderHierarchyLevels=e};sap.zen.crosstab.Crosstab.prototype.getRowHeaderHierarchyLevels=function(){return this.oRowHeaderHierarchyLevels};sap.zen.crosstab.Crosstab.prototype.isIE8Mode=function(){return this.oRenderEngine.isIE8Mode()};sap.zen.crosstab.Crosstab.prototype.hasDimensionHeaderArea=function(){var e=false;if(this.dimensionHeaderArea!==undefined){e=this.dimensionHeaderArea.getColCnt()>0&&this.dimensionHeaderArea.getRowCnt()>0}return e};sap.zen.crosstab.Crosstab.prototype.hasRowHeaderArea=function(){var e=false;if(this.rowHeaderArea!==undefined){e=this.rowHeaderArea.getColCnt()>0&&this.rowHeaderArea.getRowCnt()>0}return e};sap.zen.crosstab.Crosstab.prototype.hasColHeaderArea=function(){var e=false;if(this.columnHeaderArea!==undefined){e=this.columnHeaderArea.getColCnt()>0&&this.columnHeaderArea.getRowCnt()>0}return e};sap.zen.crosstab.Crosstab.prototype.hasDataArea=function(){var e=false;if(this.dataArea!==undefined){e=this.dataArea.getColCnt()>0&&this.dataArea.getRowCnt()>0}return e};sap.zen.crosstab.Crosstab.prototype.restoreFocusOnCell=function(){this.oEventHandler.restoreFocusOnCell()};sap.zen.crosstab.Crosstab.prototype.getTableCell=function(e,t){return this.oCellApi.getTableCell(e,t)};sap.zen.crosstab.Crosstab.prototype.getTableCellWithSpans=function(e,t){return this.oCellApi.getTableCellWithSpans(e,t)};sap.zen.crosstab.Crosstab.prototype.getTableCellWithColSpan=function(e,t){return this.oCellApi.getTableCellWithColSpan(e,t)};sap.zen.crosstab.Crosstab.prototype.getTableCellWithRowSpan=function(e,t){return this.oCellApi.getTableCellWithRowSpan(e,t)};sap.zen.crosstab.Crosstab.prototype.getTableRowCnt=function(){return this.oCellApi.getTableRowCnt()};sap.zen.crosstab.Crosstab.prototype.getTableColCnt=function(){return this.oCellApi.getTableColCnt()};sap.zen.crosstab.Crosstab.prototype.getTableFixedRowHeaderColCnt=function(){return this.oCellApi.getTableFixedRowHeaderColCnt()};sap.zen.crosstab.Crosstab.prototype.getTableFixedColHeaderRowCnt=function(){return this.oCellApi.getTableFixedColHeaderRowCnt()};sap.zen.crosstab.Crosstab.prototype.getTableMaxScrollColCnt=function(){return this.oCellApi.getTableMaxScrollColCnt()};sap.zen.crosstab.Crosstab.prototype.getTableMaxScrollRowCnt=function(){return this.oCellApi.getTableMaxScrollRowCnt()};sap.zen.crosstab.Crosstab.prototype.getTableMaxDimHeaderRow=function(){return this.oCellApi.getTableMaxDimHeaderRow()};sap.zen.crosstab.Crosstab.prototype.getTableMaxDimHeaderCol=function(){return this.oCellApi.getTableMaxDimHeaderCol()};sap.zen.crosstab.Crosstab.prototype.setCellApi=function(e){this.oCellApi=e};sap.zen.crosstab.Crosstab.prototype.hasLoadingPages=function(){return this.dataArea.hasLoadingPages()||this.rowHeaderArea.hasLoadingPages()||this.columnHeaderArea.hasLoadingPages()};sap.zen.crosstab.Crosstab.prototype.getRenderRowCnt=function(){if(this.dataArea){return this.dataArea.getRenderRowCnt()}else if(this.rowHeaderArea){return this.rowHeaderArea.getRenderRowCnt()}};sap.zen.crosstab.Crosstab.prototype.getRenderStartRow=function(){if(this.dataArea){return this.dataArea.getRenderStartRow()}else if(this.rowHeaderArea){return this.rowHeaderArea.getRenderStartRow()}return null};sap.zen.crosstab.Crosstab.prototype.getRenderColCnt=function(){if(this.dataArea){return this.dataArea.getRenderColCnt()}else if(this.columnHeaderArea){return this.columnHeaderArea.getRenderColCnt()}return null};sap.zen.crosstab.Crosstab.prototype.getRenderStartCol=function(){if(this.dataArea){return this.dataArea.getRenderStartCol()}else if(this.columnHeaderArea){return this.columnHeaderArea.getRenderStartCol()}return null};sap.zen.crosstab.Crosstab.prototype.setNewLinesCnt=function(e){this.iNewLinesCnt=e};sap.zen.crosstab.Crosstab.prototype.getNewLinesCnt=function(){return this.iNewLinesCnt};sap.zen.crosstab.Crosstab.prototype.setNewLinesPos=function(e){this.sNewLinesPos=e};sap.zen.crosstab.Crosstab.prototype.getNewLinesPos=function(){return this.sNewLinesPos};sap.zen.crosstab.Crosstab.prototype.isNewLinesTop=function(){if(!this.sNewLinesPos){return false}return this.sNewLinesPos==="TOP"};sap.zen.crosstab.Crosstab.prototype.isNewLinesBottom=function(){if(!this.sNewLinesPos){return false}return this.sNewLinesPos==="BOTTOM"};sap.zen.crosstab.Crosstab.prototype.setScrollNotifyCommand=function(e){this.sScrollNotifyCommand=e};sap.zen.crosstab.Crosstab.prototype.getScrollNotifyCommand=function(){return this.sScrollNotifyCommand};sap.zen.crosstab.Crosstab.prototype.getContextMenuAction=function(e,t){var s=null;if(this.oContextMenu){s=this.oContextMenu.getContextMenuAction(e,t)}return s};sap.zen.crosstab.Crosstab.prototype.createContextMenu=function(){if(!this.oContextMenu){this.oContextMenu=new b(this)}};sap.zen.crosstab.Crosstab.prototype.setValueHelpStatus=function(e){this.iValueHelpStatus=e};sap.zen.crosstab.Crosstab.prototype.getValueHelpStatus=function(){return this.iValueHelpStatus};sap.zen.crosstab.Crosstab.prototype.getHorizontalHeaderScrollbar=function(){return this.oHorizontalHeaderScrollbar};sap.zen.crosstab.Crosstab.prototype.setHorizontalHeaderScrollbar=function(e){this.oHorizontalHeaderScrollbar=e};sap.zen.crosstab.Crosstab.prototype.setHeaderHScrolling=function(e){this.bHeaderHScrolling=e;if(!this.bHeaderHScrolling){this.oHorizontalHeaderScrollbar=null}};sap.zen.crosstab.Crosstab.prototype.isHeaderHScrolling=function(){return this.bHeaderHScrolling};sap.zen.crosstab.Crosstab.prototype.setUserHeaderWidthCommand=function(e){this.sUserHeaderWidthCommand=e};sap.zen.crosstab.Crosstab.prototype.getUserHeaderWidthCommand=function(){return this.sUserHeaderWidthCommand};sap.zen.crosstab.Crosstab.prototype.isUserHeaderResizeAllowed=function(){return this.bIsUserHeaderResizeAllowed};sap.zen.crosstab.Crosstab.prototype.setUserHeaderResizeAllowed=function(e){this.bIsUserHeaderResizeAllowed=e};sap.zen.crosstab.Crosstab.prototype.setHeaderScrollingConfigured=function(e){this.bIsHeaderScrollingConfigured=e};sap.zen.crosstab.Crosstab.prototype.isHeaderScrollingConfigured=function(){return this.bIsHeaderScrollingConfigured};sap.zen.crosstab.Crosstab.prototype.isPreparedDom=function(){return this.bPreparedDom};sap.zen.crosstab.Crosstab.prototype.getSelectionHandler=function(){if(!this.oSelectionHandler&&this.sSelectionMode!==undefined&&this.sSelectionMode!==""){this.oSelectionHandler=new i(this)}return this.oSelectionHandler};sap.zen.crosstab.Crosstab.prototype.initHeaderInfo=function(e){this.oHeaderInfo=new f(this,e)};sap.zen.crosstab.Crosstab.prototype.getHeaderInfo=function(){return this.oHeaderInfo};sap.zen.crosstab.Crosstab.prototype.setSelectionProperties=function(e,t,s,r){this.sSelectionMode=e;this.sSelectionSpace=t;if(!s){this.bEnableHoverEffect=true}else{this.bEnableHoverEffect=false}this.getPropertyBag().setFireOnSelectedOnlyOnce(r)};sap.zen.crosstab.Crosstab.prototype.getSelectionMode=function(){return this.sSelectionMode};sap.zen.crosstab.Crosstab.prototype.getSelectionSpace=function(){return this.sSelectionSpace};sap.zen.crosstab.Crosstab.prototype.isHoveringEnabled=function(){return this.bEnableHoverEffect};sap.zen.crosstab.Crosstab.prototype.isPlanningMode=function(){return this.getTransferDataCommand()&&this.getTransferDataCommand()!==""};sap.zen.crosstab.Crosstab.prototype.isSelectable=function(){return this.oSelectionHandler&&this.sSelectionMode!==undefined&&this.sSelectionMode!==""};sap.zen.crosstab.Crosstab.prototype.isQueueHeaderWidthRequest=function(){return this.bQueueHeaderWidthRequest};sap.zen.crosstab.Crosstab.prototype.setQueueHeaderWidthRequest=function(e){this.bQueueHeaderWidthRequest=e};sap.zen.crosstab.Crosstab.prototype.postPlanningValue=function(){return this.oEventHandler.postPlanningValue()};sap.zen.crosstab.Crosstab.prototype.setDragAction=function(e){this.bDragAction=e;if(this.oSelectionHandler){this.oSelectionHandler.blockSelectionHovering(e)}};sap.zen.crosstab.Crosstab.prototype.isDragAction=function(){return this.bDragAction};sap.zen.crosstab.Crosstab.prototype.onUnhandledDrop=function(e,t,s){this.oDragDropHandler.onUnhandledDrop(e,t,s)};sap.zen.crosstab.Crosstab.prototype.onEscKeyPressed=function(){this.oDragDropHandler.onEscKeyPressed()};sap.zen.crosstab.Crosstab.prototype.setDragDropCommands=function(e){this.oDragDropCommands=e};sap.zen.crosstab.Crosstab.prototype.getDragDropHandler=function(){return this.oDragDropHandler};sap.zen.crosstab.Crosstab.prototype.getRenderSizeDiv=function(){return jQuery(document.getElementById(this.getId()+"_renderSizeDiv"))};sap.zen.crosstab.Crosstab.prototype.getRowHeaderAreaDiv=function(){return jQuery(document.getElementById(this.getId()+"_lowerLeft_scrollDiv"))};sap.zen.crosstab.Crosstab.prototype.getColHeaderAreaDiv=function(){return jQuery(document.getElementById(this.getId()+"_upperRight_scrollDiv"))};sap.zen.crosstab.Crosstab.prototype.getDimHeaderAreaDiv=function(){return jQuery(document.getElementById(this.getId()+"_upperLeft_scrollDiv"))};sap.zen.crosstab.Crosstab.prototype.isVScrolling=function(){var e=false;var t=this.oRenderEngine.getScrollbarVisibility();if(t){e=t.bHasVScrollbar}return e};sap.zen.crosstab.Crosstab.prototype.isHScrolling=function(){var e=false;var t=this.oRenderEngine.getScrollbarVisibility();if(t){e=t.bHasHScrollbar}return e};sap.zen.crosstab.Crosstab.prototype.getGlassPane=function(){return jQuery(document.getElementById(this.getId()+"_glassPane"))};sap.zen.crosstab.Crosstab.prototype.block=function(){var e;this.bIsBlocked=true;e=this.getGlassPane();e.css("visibility","visible")};sap.zen.crosstab.Crosstab.prototype.unblock=function(){var e;if(!this.hasLoadingPages()){e=this.getGlassPane();e.css("visibility","hidden");this.bIsBlocked=false}};sap.zen.crosstab.Crosstab.prototype.isBlocked=function(){return this.bIsBlocked};sap.zen.crosstab.Crosstab.prototype.setHasData=function(e){this.bHasData=e};sap.zen.crosstab.Crosstab.prototype.hasData=function(){return this.bHasData};sap.zen.crosstab.Crosstab.prototype.enableClick=function(){this.oEventHandler.enableClick()};sap.zen.crosstab.Crosstab.prototype.getColResizer=function(){return this.oEventHandler.getColResizer()};sap.zen.crosstab.Crosstab.prototype.setUpdateColWidthCommand=function(e){this.sUpdateColWidthCommand=e};sap.zen.crosstab.Crosstab.prototype.getUpdateColWidthCommand=function(){return this.sUpdateColWidthCommand};sap.zen.crosstab.Crosstab.prototype.executeScrollSequence=function(e){var t=e.length-1;var s;var r=this;function o(){var n;var a;var i;var l;if(s<=t){n=e[s];a=n[0];i=n[1];if(n.length>3){l=n[3]}else{l=1e3}setTimeout(function(){if(a==="H"){r.scrollHorizontal(i)}else if(a==="V"){r.scrollVertical(i)}s++;o()},l)}}if(t>=0){s=0;o()}};return sap.zen.crosstab.Crosstab});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/CrosstabCellApi", ["jquery.sap.global"],function(jQuery){"use strict";jQuery.sap.declare("sap.zen.crosstab.CrosstabCellApi");sap.zen.crosstab.CrosstabCellApi=function(e,t,l,a,i){var n=e.getDataArea();var r=e.getColumnHeaderArea();var o=e.getRowHeaderArea();var s=e.getDimensionHeaderArea();var u=l-1;var g=t-1;this.getTableCell=function(e,a){var i=null;if(a>=t&&e>=l){i=n.getCell(e-l,a-t)}else if(a<t&&e<l){i=s.getCell(e,a)}else if(a>=t&&e<l){i=r.getCell(e,a-t)}else if(a<t&&e>=l){i=o.getCell(e-l,a)}return i};this.getTableCellWithColSpan=function(e,a){var i=null;if(a>=t&&e>=l){i=n.getDataModel().getCellWithColSpan(e-l,a-t,true)}else if(a<t&&e<l){i=s.getDataModel().getCellWithColSpan(e,a,true)}else if(a>=t&&e<l){i=r.getDataModel().getCellWithColSpan(e,a-t,true)}else if(a<t&&e>=l){i=o.getDataModel().getCellWithColSpan(e-l,a,true)}return i};this.getTableCellWithRowSpan=function(e,a){var i=null;if(a>=t&&e>=l){i=n.getDataModel().getCellWithRowSpan(e-l,a-t,true)}else if(a<t&&e<l){i=s.getDataModel().getCellWithRowSpan(e,a,true)}else if(a>=t&&e<l){i=r.getDataModel().getCellWithRowSpan(e,a-t,true)}else if(a<t&&e>=l){i=o.getDataModel().getCellWithRowSpan(e-l,a,true)}return i};this.getTableCellWithSpans=function(e,t){var l=this.getTableCell(e,t);var a=t--;while(!l&&a>=0){var i=e;l=this.getTableCell(i,a);if(l&&l.isLoading()){return l}if(!l){i--;while(!l&&i>=0){l=this.getTableCell(i,a);i--}if(l){if(l.isLoading()){return l}var n=l.getTableRow()+l.getRowSpan()-1;if(n<e){l=null}}}a--}return l};this.getTableRowCnt=function(){return i+l};this.getTableColCnt=function(){return a+t};this.getTableMaxScrollRowCnt=function(){return i};this.getTableMaxScrollColCnt=function(){return a};this.getTableFixedRowHeaderColCnt=function(){return t};this.getTableFixedColHeaderRowCnt=function(){return l};this.getTableMaxDimHeaderRow=function(){return u};this.getTableMaxDimHeaderCol=function(){return g}};return sap.zen.crosstab.CrosstabCellApi});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/CrosstabContextMenu", ["jquery.sap.global","sap/zen/crosstab/rendering/RenderingConstants"],function(jQuery,e){"use strict";jQuery.sap.declare("sap.zen.crosstab.CrosstabContextMenu");sap.zen.crosstab.CrosstabContextMenu=function(t){this.getContextMenuAction=function(a,r){var n=sap.ui.getCore();var l=r;while(!n.byId(l.attr("id"))){l=l.parent()}if(l.attr("id")===t.getId()){return null}var s=n.byId(l.attr("id"));var i=null;if(s.getCellType){i=s.getCellType()}else{return null}var o=false;var _=null;if(t.isSelectable()===true){var u=t.getSelectionHandler();if(u&&u.hasSelection()===true){if(s.getArea().isDataArea()===true){_="sapzencrosstab-DataCellSelectData"}else if(s.getArea().isRowHeaderArea()===true){_="sapzencrosstab-HeaderCellSelectRow"}else if(s.getArea().isColHeaderArea()===true){_="sapzencrosstab-HeaderCellSelectCol"}o=!jQuery(l).hasClass(_)}}var C=s.getArea().getAreaType();var c="";if(C===e.TYPE_COLUMN_HEADER_AREA){c="COLS"}else if(C===e.TYPE_ROW_HEADER_AREA){c="ROWS"}else if(C===e.TYPE_DIMENSION_HEADER_AREA){var f;if(s.isSplitPivotCell()){var g=t.getHeaderInfo().getDimensionInfoByRowCol(s,"ROWS");var A=t.getHeaderInfo().getDimensionInfoByRowCol(s,"COLS");if(g&&g.bIsMeasureStructure){f=A}else if(A&&A.bIsMeasureStructure){f=g}}else{f=t.getHeaderInfo().getDimensionInfoByRowCol(s)}if(!f){return null}c=f.sAxisName}else if(i===e.TYPE_DATA_CELL){c="DATA"}else{return null}var E=s.getTableRow();var p=s.getTableCol();var d=t.getPropertyBag().getContextMenuCommand();d=d.replace("__AXIS__",c);d=d.replace("__ROW__",E);d=d.replace("__COL__",p);d=d.replace("__ID__",a);d=d.replace("__DOM_REF_ID__",r.attr("id"));if(d.indexOf("__REMOVE_SELECTION__")>=0){d=d.replace("__REMOVE_SELECTION__",o)}var R=function(){t.getUtils().executeCommandAction(d)};t.enableClick();return R}};return sap.zen.crosstab.CrosstabContextMenu});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/CrosstabHeaderInfo", ["jquery.sap.global"],function(jQuery){"use strict";jQuery.sap.declare("sap.zen.crosstab.CrosstabHeaderInfo");sap.zen.crosstab.CrosstabHeaderInfo=function(e,i){var n=i.cols;var t=i.rows;var r=null;var s=null;var a={};var o={};var l={};var f={};var u=0;var m=0;var g=0;var v={};var h={};var C={};var D={};var d=0;var I=0;var S;var c;var b;var R={};function x(e){if(!R.hasOwnProperty(e)){R[e]={}}}function w(e,i){if(e[i].charname){e[i].sDimensionName=e[i].charname;delete e[i].charname;x(e[i].sDimensionName)}if(e[i].attrname){e[i].sAttributeName=e[i].attrname;delete e[i].attrname}if(e[i].iskey){e[i].bIsKeyPresentation=e[i].iskey;delete e[i].iskey}}if(n){for(d=0;d<n.length;d++){w(n,d);n[d].sAxisName="ROWS";n[d].iIndex=d;r=n[d];a[d]=r;if(l[r.sDimensionName]===undefined){l[r.sDimensionName]=d}if(v[r.sDimensionName]===undefined){v[r.sDimensionName]=I;D[I]=d;I++}}m=I;g=0;S=n.length-1;c=n[S].sDimensionName;for(d=S;d>0;d--){b=n[d-1].sDimensionName;if(b!==c){g=d;break}}}if(t){I=0;for(d=0;d<t.length;d++){w(t,d);t[d].sAxisName="COLS";t[d].iIndex=d;s=t[d];o[d]=s;if(f[s.sDimensionName]===undefined){f[s.sDimensionName]=d}if(h[s.sDimensionName]===undefined){h[s.sDimensionName]=I;C[I]=d;I++}}u=I}this.getDimensionNameByCol=function(e){if(a&&a[e]){return a[e].sDimensionName}else{return null}};this.getDimensionNameByRow=function(e){if(o&&o[e]){return o[e].sDimensionName}else{return null}};this.getFirstColForDimension=function(e){var i=-1;if(l[e]>=0){i=l[e]}return i};this.getFirstRowForDimension=function(e){var i=-1;if(f[e]>=0){i=f[e]}return i};this.getAbsoluteColIndexForDimension=function(e){var i=-1;if(v[e]>=0){i=v[e]}return i};this.getAbsoluteRowIndexForDimension=function(e){var i=-1;if(h[e]>=0){i=h[e]}return i};this.getRowForAbsoluteRow=function(e){var i=-1;if(C[e]>=0){i=C[e]}return i};this.getColForAbsoluteCol=function(e){var i=-1;if(D[e]>=0){i=D[e]}return i};this.getNumberOfDimensionsOnColsAxis=function(){if(t){return t.length}return 0};this.getNumberOfDimensionsOnRowsAxis=function(){if(n){return n.length}return 0};this.isColOfInnermostDimension=function(e){var i=this.getDimensionNameByCol(e);if(i){var n=this.getAbsoluteColIndexForDimension(i);if(n!==m-1){return false}return true}return false};this.getStartColForInnermostDimension=function(){return g};this.isRowOfInnermostDimension=function(e){var i=this.getDimensionNameByRow(e);if(i){var n=this.getAbsoluteRowIndexForDimension(i);if(n!==u-1){return false}return true}return false};this.isBottomRightDimHeaderCell=function(e){return this.isBottomRowDimHeaderCell(e)===true&&this.isRightColDimHeaderCell(e)===true};this.isBottomRowDimHeaderCell=function(i){var n=e.getTableMaxDimHeaderRow();var t=i.getTableRow()+i.getRowSpan()-1===n;return t};this.isRightColDimHeaderCell=function(i){var n=e.getTableMaxDimHeaderCol();var t=i.getTableCol()+i.getColSpan()-1===n;return t};this.getDimensionInfoForNonSplitPivotCell=function(e){var i;if(e.getScalingAxis()==="ROWS"){i=t[e.getTableRow()]}else if(e.getScalingAxis()==="COLS"){i=n[e.getTableCol()]}return i};this.getDimensionInfoForSplitPivotCell=function(e,i){var r;if(i){if(i=="ROWS"){r=n[e.getTableCol()]}else if(i=="COLS"){r=t[e.getTableRow()]}}return r};this.getDimensionInfoByRowCol=function(e,i){var r=null;var s=e.getTableRow();var a=e.getTableCol();if(e.isPivotCell()===true){if(e.isSplitPivotCell()===true){r=this.getDimensionInfoForSplitPivotCell(e,i)}else{r=this.getDimensionInfoForNonSplitPivotCell(e)}}else if(this.isBottomRowDimHeaderCell(e)===true){if(n){r=n[a]}else{r=t[s]}}else if(this.isRightColDimHeaderCell(e)===true){if(t){r=t[s]}else{r=n[a]}}return r};this.getDimensionInfoByRow=function(e){var i=null;if(t){i=t[e]}return i};this.getDimensionInfoByCol=function(e){var i=null;if(n){i=n[e]}return i};this.hasDimensionsOnRowsAxis=function(){if(n){return true}return false};this.hasDimensionsOnColsAxis=function(){if(t){return true}return false};this.findIndexInterval=function(e,i){var r;var s;var a;var o;var l={iStartIndex:-1,iEndIndex:-1};if(i==="ROWS"){s=n}else if(i==="COLS"){s=t}a=s.length;o=null;for(r=0;r<a&&l.iStartIndex<0;r++){o=s[r].sDimensionName;if(o===e){l.iStartIndex=r}}if(l.iStartIndex>=0){for(r=l.iStartIndex;r<a&&l.iEndIndex<0;r++){o=s[r].sDimensionName;if(o!==e){l.iEndIndex=r-1}}if(l.iEndIndex<0){l.iEndIndex=a-1}}return l};this.isEqualDimInfo=function(e,i){if(e.sDimensionName!==i.sDimensionName){return false}if(e.sAttributeName!==i.sAttributeName){return false}if(e.bIsKeyPresentation!==i.bIsKeyPresentation){return false}if(e.bIsTextPresentation!==i.bIsTextPresentation){return false}if(e.bIsMeasureStructure!==i.bIsMeasureStructure){return false}if(e.bIsStructure!==i.bIsStructure){return false}if(e.bIsScaling!==i.bIsScaling){return false}return true};this.includeBottomRightCell=function(e,i,n){var t;var r;var s=true;if(this.isBottomRightDimHeaderCell(i)===true){if(!i.isSplitPivotCell()&&e>0){t=n[e];r=n[e-1];s=t.sDimensionName===r.sDimensionName&&!t.bIsScaling}}return s};this.getCellsForInterval=function(i,r){var s;var a=i.iStartIndex;var o=e.getTableMaxDimHeaderRow();var l=e.getTableMaxDimHeaderCol();var f=[];var u;var m=i.iStartIndex===i.iEndIndex;while(a<=i.iEndIndex){u=true;if(r==="ROWS"){s=e.getTableCellWithColSpan(o,a);u=m||this.includeBottomRightCell(a,s,n,t);a=a+s.getColSpan()}else if(r==="COLS"){s=e.getTableCellWithRowSpan(a,l);u=m||this.includeBottomRightCell(a,s,t,n);a=a+s.getRowSpan()}if(u===true){f.push(s)}}return f};this.getCellsWithSameDimensionByDimInfo=function(e){var i;var n;var t;var r;if(e){t=e.sDimensionName;r=e.sAxisName;n=this.findIndexInterval(t,r);i=this.getCellsForInterval(n,r)}return i};this.getCellsWithSameDimension=function(e,i){var n;var t;if(!i&&e.isPivotCell()===true&&e.isSplitPivotCell()===true){return[]}else{n=this.getDimensionInfoByRowCol(e,i)}t=this.getCellsWithSameDimensionByDimInfo(n);return t};this.setupPivotCell=function(){var i;var n=false;var t=false;var r=-1;var s=-1;var a;var o;i=e.getTableCellWithSpans(e.getTableMaxDimHeaderRow(),e.getTableMaxDimHeaderCol());if(i){s=i.getTableRow();r=i.getTableCol();if(this.isBottomRightDimHeaderCell(i)===true){n=this.hasDimensionsOnRowsAxis()===true&&this.hasDimensionsOnColsAxis()===true}i.setPivotCell(n);a=this.getDimensionInfoByCol(r);o=this.getDimensionInfoByRow(s);if(i.isPivotCell()===true){if(!(a&&a.bIsScaling)&&!(o&&o.bIsScaling)){t=true}}i.setSplitPivotCell(t);if(a&&a.bIsScaling===true){i.setScalingAxis("ROWS")}else if(o&&o.bIsScaling===true){i.setScalingAxis("COLS")}}return i};this.getDimensionInfoForMemberCell=function(e){if(e.getArea().isRowHeaderArea()){return n[e.getTableCol()]}else if(e.getArea().isColHeaderArea()){return t[e.getTableRow()]}return null};this.getMemberCellsForSameDimension=function(e){var i;var r;if(e.getArea().isRowHeaderArea()){if(n){r=n[n.length-1].bIsScaling}i=this.getRowHeaderMemberCellsForSameDimension(e,r)}else if(e.getArea().isColHeaderArea()){if(t){r=t[t.length-1].bIsScaling}i=this.getColHeaderMemberCellsForSameDimension(e,r)}return i};this.getRowHeaderMemberCellsForSameDimension=function(i,n){var t;var r;var s;var a=0;var o;var l;var f;t=this.getDimensionInfoByCol(i.getTableCol());o=this.findIndexInterval(t.sDimensionName,"ROWS");s=[];l=e.getRowHeaderArea();f=l.getColCnt()-1;a=o.iStartIndex;while(a<=o.iEndIndex){r=l.getCellWithColSpan(i.getRow(),a);if(r){if(n){if(r.getCol()<f){s.push(r)}}else{s.push(r)}a=a+r.getColSpan()}else{a++}}return s};this.getColHeaderMemberCellsForSameDimension=function(i,n){var t;var r;var s;var a=0;var o;var l;var f;t=this.getDimensionInfoByRow(i.getTableRow());o=this.findIndexInterval(t.sDimensionName,"COLS");s=[];l=e.getColumnHeaderArea();f=l.getRowCnt()-1;a=o.iStartIndex;while(a<=o.iEndIndex){r=l.getCellWithRowSpan(a,i.getCol());if(r){if(n){if(r.getRow()<f){s.push(r)}}else{s.push(r)}a=a+r.getRowSpan()}else{a++}}return s};this.findStartIndexOfPreviousDimension=function(e,i){var r;var s;var a;var o;var l;var f=0;var u;if(i==="ROWS"){r=n}else if(i==="COLS"){r=t}if(r){s=r.length-1;a=s;o=false;while(a>=0&&!o){l=r[a];if(l.sDimensionName===e){o=true}else{a--}}while(l.sDimensionName===e&&a>=0){l=r[a];if(l.sDimensionName===e){a--}}u=l.sDimensionName;while(l.sDimensionName===u&&a>=0){l=r[a];if(l.sDimensionName!==u){f=a+1}else{a--}}}return f};this.isFirstDimensionOnAxis=function(e){if(e.sAxisName==="ROWS"&&n){return n[0].sDimensionName===e.sDimensionName}else if(e.sAxisName==="COLS"&&t){return t[0].sDimensionName===e.sDimensionName}return true};this.isDimensionInCrosstab=function(e){if(R){if(R.hasOwnProperty(e)){return true}}return false};this.hasOnlyMeasureStructure=function(){var e=null;var i=0;var r=false;if(!n&&t){e=t}else if(!t&&n){e=n}if(e&&e.length>0){r=true;for(i=0;i<e.length;i++){if(!e[i].bIsMeasureStructure){r=false;break}}}return r}};return sap.zen.crosstab.CrosstabHeaderInfo});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/CrosstabRenderer", ["jquery.sap.global","sap/zen/crosstab/rendering/RenderingConstants","sap/zen/crosstab/utils/Utils"],function(jQuery,e,s){"use strict";jQuery.sap.declare("sap.zen.crosstab.CrosstabRenderer");sap.zen.crosstab.CrosstabRenderer={};sap.zen.crosstab.CrosstabRenderer.render=function(t,a){a.prepareContainer();var i=a.getWidth();if(i==="auto"){i="100%"}var n=a.getHeight();if(n==="auto"){n="100%"}t.openStart("div",a);t.style("overflow","hidden");if(i){t.style("width",i)}if(n){t.style("height",n)}if(s.isMainMode()){t.class("sapzencrosstab-FontSize-MainMode")}t.class("sapzencrosstab-CrosstabComponent");if(a.getTransferDataCommand()&&a.getTransferDataCommand().length>0){t.class("sapzencrosstab-InputEnabled")}if(a.getRenderMode()===e.RENDERMODE_FILL){t.style("visibility","hidden");t.class("sapzencrosstab-TableDiv").class("sapzencrosstab-TableDivBackground")}t.openEnd();if(a.getRenderMode()===e.RENDERMODE_COMPACT){t.openStart("div",a.getId()+"_altRenderModeTableDiv");t.style("visibility","hidden");t.style("width","100%");t.style("height","100%");t.class("sapzencrosstab-TableDiv").class("sapzencrosstab-TableDivBackground");t.openEnd()}t.openStart("div",a.getId()+"_renderSizeDiv");t.class("sapzencrosstab-RenderSizeDiv");t.openEnd();t.openStart("table",a.getId()+"_table");t.class("sapzencrosstab-Crosstab");t.openEnd();t.openStart("tr",a.getId()+"_upperSection");t.openEnd();sap.zen.crosstab.CrosstabRenderer.writeCell(t,a.getId()+"_upperLeft",a.getDimensionHeaderArea(),a);sap.zen.crosstab.CrosstabRenderer.writeCell(t,a.getId()+"_upperRight",a.getColumnHeaderArea(),a);t.close("tr");t.openStart("tr",a.getId()+"_lowerSection");t.openEnd();sap.zen.crosstab.CrosstabRenderer.writeCell(t,a.getId()+"_lowerLeft",a.getRowHeaderArea(),a);sap.zen.crosstab.CrosstabRenderer.writeCell(t,a.getId()+"_lowerRight",a.getDataArea(),a);t.close("tr");t.close("table");t.close("div");if(a.getPropertyBag().hasToolbar()){t.openStart("div",a.getId()+"_toolbar");t.class("sapzencrosstab-ToolbarDiv");t.style("position","absolute");t.style("bottom","0px");t.openEnd();t.close("div")}t.openStart("div",a.getId()+"_loadingAnimationDiv");t.class("sapzencrosstab-loadingAnimationDiv");t.style("visibility","hidden");t.openEnd();t.openStart("div");t.class("sapzencrosstab-loadingAnimation");t.openEnd();t.close("div");t.close("div");t.openStart("div",a.getId()+"_measureDiv");t.class(a.getPropertyBag().isCozyMode()?"sapzencrosstab-HierarchyIndentCozy":"sapzencrosstab-HierarchyIndent");t.style("visibility","none");t.openEnd();t.close("div");t.openStart("div",a.getId()+"_exceptionMeasureDiv");t.class("sapzencrosstab-SymbolAlertDimensions");t.style("visibility","none");t.openEnd();t.close("div");if(a.isUserHeaderResizeAllowed()&&(a.hasDataArea()||a.hasColHeaderArea())&&(a.hasDimensionHeaderArea()||a.hasRowHeaderArea())){t.openStart("div",a.getId()+"_headerResizeHandle");t.class("sapzencrosstab-headerResizeHandleWidth");t.style("position","absolute");t.style("top","0px");t.style("height","100%");t.openEnd();t.close("div")}if(a.getPropertyBag().isEnableColResize()){t.openStart("div",a.getId()+"_colResizeRuler");t.class("sapzencrosstab-colResizeRuler");t.style("visibility","hidden");t.openEnd();t.close("div")}if(a.getRenderMode()===e.RENDERMODE_COMPACT){t.close("div")}t.openStart("div",a.getId()+"_resizeFrame");t.class("sapzencrosstab-TableDiv");t.style("visibility","hidden");t.style("width",i);t.style("height",n);t.openEnd();t.close("div");t.openStart("div",a.getId()+"_resizeDiv");t.class("sapzencrosstab-ResizeDiv");t.style("width","100%");t.style("height","100%");t.style("visibility","hidden");t.openEnd();t.close("div");if(a.getGlassPane().length===0){t.openStart("div",a.getId()+"_glassPane");t.style("position","absolute");t.style("top","0px");if(a.getPropertyBag().isRtl()){t.style("right","0px")}else{t.style("left","0px")}t.style("width","100%");t.style("height","100%");t.openEnd();t.close("div")}t.close("div")};sap.zen.crosstab.CrosstabRenderer.writeCell=function(e,s,t,a){e.openStart("td",s);e.style("padding","0px");e.openEnd();e.openStart("div",s+"_scrollDiv");e.style("overflow","hidden");e.openEnd();t.renderArea(e,a);e.close("div");e.close("td")};return sap.zen.crosstab.CrosstabRenderer});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/CrosstabTestProxy", ["jquery.sap.global","sap/zen/crosstab/ColResizer"],function(jQuery,e){"use strict";jQuery.sap.declare("sap.zen.crosstab.CrosstabTestProxy");sap.zen.crosstab.CrosstabTestProxy=function(t,r){var s=false;var n=new e(t);function a(e,t,r,s){var n=e.getDataModel().getCellWithSpan(t,r);if(n){var a={};var i=jQuery(document.getElementById(n.getId()));if(i&&i.length>0){a.target=i[0];s(a)}}}this.hoverCell=function(e,t,s){a(e,t,s,r.executeOnMouseEnter)};this.selectCell=function(e,t,s){a(e,t,s,r.executeOnClickAction)};this.setTestAction=function(e){s=e};this.getTestAction=function(){return s};this.testClickSortOrHierarchy=function(e,t,s){var n=e.getDataModel().getCellWithSpan(t,s);if(n){var a=jQuery("#sort_"+n.getId());if(a&&a.length>0){var i={};i.target=a[0];r.executeOnClickAction(i)}}};this.doubleClickColResize=function(e,r){var s=t.getColumnHeaderArea().getCell(e,r);if(s){var a="resi_"+s.getId();var i={};i.target={};i.target.id=a;n.onDoubleClick(i)}}};return sap.zen.crosstab.CrosstabTestProxy});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/DataArea", ["jquery.sap.global","sap/zen/crosstab/BaseArea","sap/zen/crosstab/rendering/RenderingConstants"],function(jQuery,e,t){"use strict";jQuery.sap.declare("sap.zen.crosstab.DataArea");sap.zen.crosstab.DataArea=function(a){e.call(this,a);this.sAreaType=t.TYPE_DATA_AREA};sap.zen.crosstab.DataArea.prototype=jQuery.sap.newObject(e.prototype);sap.zen.crosstab.DataArea.prototype.renderArea=function(e){this.renderContainerStructure(e,"sapzencrosstab-DataArea",this.oCrosstab.isVCutOff(),this.oCrosstab.isHCutOff())};sap.zen.crosstab.DataArea.prototype.insertCell=function(e,a,r){sap.zen.crosstab.BaseArea.prototype.insertCell.call(this,e,a,r);if(r===this.oDataModel.getColCnt()-1&&e){e.addStyle(t.STYLE_LAST_IN_ROW)}if(a===this.oDataModel.getRowCnt()-1&&e){e.addStyle(t.STYLE_LAST_IN_COL)}};sap.zen.crosstab.DataArea.prototype.getSelectedCellsByHeaderSelection=function(e,t){var a={};var r=e.getArea();if(r.isRowHeaderArea()){var s=e.getRow();var o=0;var n=0;if(!t){o=Math.min(s+e.getRowSpan(),this.getRenderStartRow()+this.getRenderRowCnt());n=this.getRenderStartCol()}else{o=s+e.getRowSpan()}for(var i=s;i<o;i++){var l=this.oDataModel.getAllLoadedCellsByRow(this,i);for(var p=0;p<l.length;p++){a[l[p].getId()]=l[p]}}}else if(r.isColHeaderArea()){var d=0;if(!t){d=Math.min(n+e.getColSpan(),this.getRenderStartCol()+this.getRenderColCnt());s=this.getRenderStartRow()}else{d=n+e.getColSpan()}for(i=n;i<d;i++){var c=this.oDataModel.getAllLoadedCellsByCol(this,i);for(p=0;p<c.length;p++){a[c[p].getId()]=c[p]}}}return a};return sap.zen.crosstab.DataArea});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/DataCell", ["jquery.sap.global","sap/ui/core/Control","sap/zen/crosstab/CellStyleHandler","sap/zen/crosstab/DataCellRenderer","sap/zen/crosstab/rendering/RenderingConstants","sap/zen/crosstab/utils/Utils","sap/zen/crosstab/library"],function(jQuery,t,e,n,s,r){"use strict";jQuery.sap.declare("sap.zen.crosstab.DataCell");var i=t.extend("sap.zen.crosstab.DataCell",{metadata:{library:"sap.zen.crosstab",properties:{text:{type:"string",group:"Misc",defaultValue:null},area:{type:"object",group:"Misc",defaultValue:null},row:{type:"int",group:"Misc",defaultValue:null},col:{type:"int",group:"Misc",defaultValue:null},tableRow:{type:"int",group:"Misc",defaultValue:null},tableCol:{type:"int",group:"Misc",defaultValue:null}}},renderer:n});i.prototype.init=function(){"use strict";this.aStyles=[];this.bLoading=false;this.bIsEntryEnabled=false;this.sUnit="";this.sPassiveCellType=s.PASSIVE_CELL_TYPE_NORMAL;this.iNumberOfLineBreaks=0};i.prototype.getCellType=function(){return s.TYPE_DATA_CELL};i.prototype.isHeaderCell=function(){return false};i.prototype.getCssClassNames=function(t,n,s){return e.getCssClasses(this.aStyles,t,n,s)};i.prototype.getStyleIdList=function(){return this.aStyles};i.prototype.setStyleIdList=function(t){this.aStyles=t};i.prototype.addStyle=function(t){var n=e.getStyleId(t,s.TYPE_DATA_CELL);if(this.aStyles.indexOf(n)===-1){this.aStyles.push(n)}};i.prototype.removeStyle=function(t){var n=e.getStyleId(t,s.TYPE_DATA_CELL);var r=this.aStyles.indexOf(n);if(r!==-1){this.aStyles.splice(r,1)}};i.prototype.hasStyle=function(t){var n=e.getStyleId(t,s.TYPE_DATA_CELL);var r=this.aStyles.indexOf(n);if(r===-1){return false}else{return true}};i.prototype.getColSpan=function(){return 1};i.prototype.getRowSpan=function(){return 1};i.prototype.getEffectiveColSpan=function(){return 1};i.prototype.getEffectiveRowSpan=function(){return 1};i.prototype.isLoading=function(){return this.bLoading};i.prototype.setLoading=function(t){this.bLoading=t};i.prototype.isSelectable=function(){return false};i.prototype.getUnescapedText=function(){return r.unEscapeDisplayString(this.getText())};i.prototype.setEntryEnabled=function(t){this.bIsEntryEnabled=t};i.prototype.isEntryEnabled=function(){return this.bIsEntryEnabled};i.prototype.setUnit=function(t){this.sUnit=t};i.prototype.getUnit=function(){return this.sUnit};i.prototype.getPassiveCellType=function(){return this.sPassiveCellType};i.prototype.setPassiveCellType=function(t){this.sPassiveCellType=t};i.prototype.setNumberOfLineBreaks=function(t){this.iNumberOfLineBreaks=t};i.prototype.getNumberOfLineBreaks=function(){return this.iNumberOfLineBreaks};return i});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/DataCellRenderer", ["sap/zen/crosstab/rendering/RenderingConstants","sap/zen/crosstab/IDataCell"],function(t,e){"use strict";var a={apiVersion:1};a.render=function(a,s){"use strict";var n=s.getArea();var r=n.getCrosstab();var i=n.getRenderCellCallback();var o=s.getText();var l=null;if(i){var d=i(new e(s));l=d.additionalStyles;o=d.renderText}a.openStart("td",s);var c=s.getCssClassNames(r.isIE8Mode(),r.getPropertyBag().isRtl(),r.getUtils().isMsIE());a.attr("class",c);a.attr("tabindex",t.TABINDEX);a.openEnd();a.openStart("div",s.getId()+"_contentDiv");a.attr("tabindex",t.TABINDEX);a.class("sapzencrosstab-DataCellContentDiv");if(s.isLoading()){a.class("sapzencrosstab-LoadingCellContentDiv")}if(l){for(var v in l){a.sStyle(v,l[v])}}a.openEnd();a.text(o);a.close("div");a.close("td")};return a},true);
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/DimensionHeaderArea", ["jquery.sap.global","sap/zen/crosstab/BaseArea","sap/zen/crosstab/rendering/RenderingConstants"],function(jQuery,e,a){"use strict";jQuery.sap.declare("sap.zen.crosstab.DimensionHeaderArea");sap.zen.crosstab.DimensionHeaderArea=function(r){e.call(this,r);this.sAreaType=a.TYPE_DIMENSION_HEADER_AREA};sap.zen.crosstab.DimensionHeaderArea.prototype=jQuery.sap.newObject(e.prototype);sap.zen.crosstab.DimensionHeaderArea.prototype.renderArea=function(e){var a="sapzencrosstab-DimensionHeaderArea";if(this.oCrosstab.getPropertyBag().isMobileMode()){a+=" sapzencrosstab-MobileHeaderSeparator"}this.renderContainerStructure(e,a,false,false)};sap.zen.crosstab.DimensionHeaderArea.prototype.getPageManager=function(){return null};return sap.zen.crosstab.DimensionHeaderArea});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/EventHandler", ["jquery.sap.global","sap/zen/crosstab/TouchHandler","sap/zen/crosstab/SelectionHandler","sap/zen/crosstab/rendering/CrossRequestManager","sap/zen/crosstab/rendering/RenderingConstants","sap/zen/crosstab/utils/Utils","sap/zen/crosstab/keyboard/CrosstabKeyboardNavHandler","sap/zen/crosstab/HeaderResizer","sap/zen/crosstab/ColResizer"],function(jQuery,e,t,n,i,a,l,r,o){"use strict";jQuery.sap.declare("sap.zen.crosstab.EventHandler");sap.zen.crosstab.EventHandler=function(t){var n=this;var i=t.getRenderEngine();var s=i.getCrossRequestManager();var c=new l(t,this);var u=null;var d=false;var v=null;var f="";var g=null;var h=null;var p=null;this.handleHierarchyClick=function(e,t,n){var i=m(t);var l=i.getHierarchyAction();var r=i.getDrillState();if(r!=="L"){s.saveTableDimensions();s.saveHScrollInfo(n);s.saveVScrollInfo(n);E(l)}a.cancelEvent(e)};this.handleSortClick=function(e,n,i){var l=m(n);var r=l.getSortAction();if(r||t.getTestProxy().getTestAction()){s.saveVScrollInfo(i);s.saveHScrollInfo(i);s.saveColWidths();if(!t.getTestProxy().getTestAction()){E(r)}}a.cancelEvent(e)};this.findTargetId=function(e){var t=null;var n;var i;i=jQuery(e).attr("xtabspacer-cellid");if(i&&i.length>0){t=i}else{n=jQuery(e).closest("div");if(n.length>0){var a=n.attr("id");if(a){var l=a.indexOf("_contentDiv");if(l>-1){t=a.slice(0,l)}}}}return t};this.executeOnClickAction=function(e){if(d){return}u=null;d=false;var t=e.target.id;if(!t){t=n.findTargetId(e.target)}if(!t){return}var i=_(t);if(i==="sort"){n.handleSortClick(e,t,i)}else if(i==="hier"){n.handleHierarchyClick(e,t,i)}else if(i==="__ce"){n.handleClickOnCell(e,t)}else if(i==="vhlp"){n.handleValueHelpClick(t)}a.cancelEvent(e)};this.handleClickOnCell=function(e,i){if(t.hasLoadingPages()){a.cancelEvent(e);return}if(i){var l=t.getUtils().getCellIdFromContenDivId(i);if(l){var r=sap.ui.getCore().getControl(l);if(r){if(r.isEntryEnabled()){n.handleInputEnabledCell(i,-1,-1)}else{if(t.getSelectionMode()!==undefined&&t.getSelectionMode()!==""){var o="";if(e.ctrlKey){o="CTRL"}else if(e.shiftKey){o="SHIFT"}t.getSelectionHandler().handleCellClick(r,o)}}}}}};this.postPlanningValue=function(){if(t.isPlanningMode()===true&&g&&g.length>0){var e=jQuery(document.activeElement);if(e.is("input")&&g.attr("id")===e.attr("id")){var n=g.val()||"";if(n!==f){g.blur()}}}};this.provideInputEnabledCell=function(e,i,l,r,o){g=l.find("input");if(g.length===0){var u=l.text();var d=l.html();var v=e.getArea().isDataArea();var h=null;var p=function(n){var i=e.getUnit();if(i&&i!==""){var a=n.toUpperCase().indexOf(i.toUpperCase());if(a!==-1){if(a===0){n=n.substring(a+i.length)}else{n=n.substring(0,a)}}}var l=t.calculateOffset(e);n=jQuery.trim(n);var r=t.getTransferDataCommand();r=r.replace("__ROW__",e.getRow()+"");r=r.replace("__COL__",e.getCol()-l+"");r=r.replace("__VALUE__",n);r=r.replace("__CTYPE__",e.getPassiveCellType());s.saveVScrollInfo("plan");s.saveHScrollInfo("plan");s.saveColWidths();E(r,true)};var C=function(e){if(g.val()!==u){p(g.val());var t=jQuery("<div></div>").text(u).html();d=d.replace(t,g.val())}m(e)};var _=function(e){var n=true;var i=null;var a=null;var l=null;if(e&&e.relatedTarget&&e.relatedTarget.id&&t.getValueHelpStatus()!==sap.zen.crosstab.VHLP_STATUS_OPENING){i=e.relatedTarget.id;l=jQuery(document.getElementById(i));a=t.getTableDiv();n=l.closest(a).length>0}return n};var m=function(e){var t=jQuery(document.getElementById(i+"_contentDiv"));t.html(d);if(h&&v){t.width(h)}if(_(e)===true){t.focus()}else{c.reset();f="";g.off("keydown focusout");g=null}};var b=function(i){if(i.which===27){m();a.cancelEvent(i)}if(i.which===13){if(g.val()!==u){a.cancelEvent(i);p(g.val())}else{m();if(t.isIE8Mode()){c.keyboardNavKeyHandler(i)}}}if(i.which===38||i.which===40){return true}if(i.which===37||i.which===39){if(!i.ctrlKey&&!i.altKey&&!i.shiftKey){a.stopEventPropagation(i)}return true}if(i.which===115&&!v){n.invokeValueHelp(e,"vhlp_"+e.getId())}return null};var M=0;if(v){M=l.innerWidth();h=a.getWidthFromStyle(l)}l.html('<input id="'+i+"_input"+'" type="text" value="'+u+'" />');if(v){l.width(M+"px")}g=jQuery(document.getElementById(i+"_input"));if(a.isMainMode()){g.addClass("sapzencrosstab-EntryEnabledInput-MainMode")}else{g.addClass("sapzencrosstab-EntryEnabledInput")}g.on("keydown",b);g.focus();t.getUtils().selectTextInInputField(g,r,o);g.on("focusout",C)}else{t.getUtils().selectTextInInputField(g,r,o)}f=g.val()||""};this.handleValueHelpClick=function(e){var t=m(e);n.invokeValueHelp(t,e)};this.invokeValueHelp=function(e,n){if(e){c.focusNewCell(e,-1,-1);var i=t.getCallValueHelpCommand();var a=t.calculateOffset(e);s.saveVScrollInfo("plan");s.saveHScrollInfo("plan");s.saveColWidths();i=i.replace("__ROW__",e.getRow());i=i.replace("__COL__",e.getCol()-a);i=i.replace("__DOM_REF_ID__",n);E(i,true)}};this.handleInputEnabledCell=function(e,n,i){if(e){e=t.getUtils().getCellIdFromContenDivId(e);if(e){var a=sap.ui.getCore().getControl(e);if(a){if(a.getArea().isDataArea()||a.getArea().isRowHeaderArea()){c.focusNewCell(a,n,i)}}}}};this.sendSelectCommand=function(e){var n=-1;var i=-1;var a="";if(e){var l=e.getArea();if(l.isRowHeaderArea()){a="ROWS"}else if(l.isColHeaderArea()){a="COLUMNS"}else{a="DATA"}n=e.getRow();i=e.getCol()}var r=t.getOnSelectCommand();r=r.replace("__ROW__",n+"");r=r.replace("__COL__",i+"");r=r.replace("__AXIS__",a);E(r,true)};this.getContextElement=function(e,t){var n=[];var i=0;var a=jQuery(document.elementFromPoint(e,t));var l=a.closest(".zenControl");var r=l.attr("id");r=a.attr("id");while(r&&r.indexOf("droparea")>-1){n.push(a);a.css("display","none");a=jQuery(document.elementFromPoint(e,t));r=a.attr("id")}for(i=0;i<n.length;i++){n[i].css("display","block")}return a};this.onContextMenuClick=function(e){var i=n.getContextElement(e.clientX,e.clientY);var l=t.createContextMenu();var r=l.getContext(i);if(r){var o=t.getPropertyBag().getContextMenuCommand();o=o.replace("__AXIS__",r.sAxis);o=o.replace("__ROW__",r.iRow);o=o.replace("__COL__",r.iCol);o=o.replace("__ID__","CONTEXT_MENU");o=o.replace("__DOM_REF_ID__",i.attr("id"));if(o.indexOf("__REMOVE_SELECTION__")>=0){o=o.replace("__REMOVE_SELECTION__",r.bRemoveSelection)}var s=sap.bi.framework.getService(null,"zen.rt.components.dynamicmenu");s.showDynamicMenu("ExpandedMenuBuilder",i.context,"",{command:o},"",["crosstabActions"],"",false)}a.cancelEvent(e);t.enableClick()};this.attachEvents=function(){var n=false;var i=t.getRenderSizeDiv();var l=t.getTableDiv();i.unbind("mousedown");i.bind("mousedown",this.onMouseDown);if(t.getPropertyBag().isMobileMode()||t.getPropertyBag().isTestMobileMode()){i.unbind("click");i.bind("click",function(e){a.cancelEvent(e)});i.unbind("mousedown");i.bind("mousedown",function(e){a.cancelEvent(e)});v=new e(this,t);v.registerTouchEvents(i);c.setEnabled(false);if(t.getPropertyBag().isEnableColResize()===true){var s=new o(t);v.setColResizer(s)}}else{i.unbind("mouseup",this.onMouseUp);i.bind("mouseup",this.onMouseUp);l.unbind("mouseup",this.onMouseUp);l.bind("mouseup",this.onMouseUp);i.unbind("click");i.bind("click",this.executeOnClickAction);if(t.isSelectable()===true&&t.isHoveringEnabled()===true){i.unbind("mouseover");i.bind("mouseover",this.executeOnMouseEnter);i.unbind("mouseout");i.bind("mouseout",this.executeOnMouseOut)}c.setEnabled(t.isPlanningMode());c.attachEvents(i);if(t.getUserHeaderWidthCommand()&&t.getUserHeaderWidthCommand().length>0){h=new r(t);h.initialize();n=true}if(t.getPropertyBag().isEnableColResize()===true){p=new o(t);p.initialize();n=true}if(n===true){i.unbind("mousemove",this.onMouseMove);i.bind("mousemove",this.onMouseMove)}}};this.onMouseMove=function(e){if(p&&p.isResizeAction()){p.onMouseMove(e)}else if(h&&h.isResizeAction()){h.onMouseMove(e)}};this.onMouseDown=function(e){var t=e.target.id;u=t};function C(e,t){var n=false;var i=document.getElementById(e);if(i){var a=i.getBoundingClientRect();var l=a.left<t.clientX&&t.clientX<a.right;var r=a.bottom>t.clientY&&t.clientY>a.top;n=l&&r}return n}this.onMouseUp=function(e){if(p&&p.isResizeAction()){p.onMouseUp(e)}else if(h&&h.isResizeAction()){h.onMouseUp(e)}else{d=false;if(u){var i=t.getUtils().getCellIdFromContenDivId(u);if(C(i,e)){var l=sap.ui.getCore().getControl(i);if(l){if(t.isPlanningMode()){var r=document.getElementById(u);var o=null;if(r){o=t.getUtils().getSelectionParams(r)}if(o.iSelectionStartPos>=0||o.iSelectionEndPos>=0){d=true;n.handleInputEnabledCell(e.target.id,o.iSelectionStartPos,o.iSelectionEndPos)}}}}else{if(!t.isDragAction()){a.cancelEvent(e);a.stopEventPropagation(e)}d=true}}}};this.restoreFocusOnCell=function(){c.restoreFocusOnCell()};function _(e){var t=e.slice(0,4);return t}function m(e){var t=e.slice(5);return sap.ui.getCore().getControl(t)}function E(e,n){if(e){if(!n){}t.getUtils().executeCommandAction(e)}}this.handleHoverEntry=function(e){if(e){var n=t.getUtils().getCellIdFromContenDivId(e);if(n&&n!==undefined){var i=sap.ui.getCore().getControl(n);if(i&&i!==undefined){t.getSelectionHandler().handleCellHoverEntry(i)}}}};this.executeOnMouseEnter=function(e){var i=null;var l=e.target.id;if(t.hasLoadingPages()){a.cancelEvent(e);return}if(!l){l=n.findTargetId(e.target)}if(!l){return}i=_(l);if(i==="__ce"){n.handleHoverEntry(l)}a.cancelEvent(e)};this.executeOnMouseOut=function(e){t.getSelectionHandler().handleCellHoverOut(e);a.cancelEvent(e)};this.enableClick=function(){d=false;u=null};this.getColResizer=function(){return p}};return sap.zen.crosstab.EventHandler});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/HeaderCell", ["jquery.sap.global","sap/ui/core/Control","sap/zen/crosstab/IHeaderCell","sap/zen/crosstab/CellStyleHandler","sap/zen/crosstab/HeaderCellRenderer","sap/zen/crosstab/rendering/RenderingConstants","sap/zen/crosstab/utils/Utils","sap/zen/crosstab/library"],function(jQuery,t,e,s,i,l){"use strict";jQuery.sap.declare("sap.zen.crosstab.HeaderCell");var r=t.extend("sap.zen.crosstab.HeaderCell",{metadata:{library:"sap.zen.crosstab",properties:{rowSpan:{type:"int",group:"Misc",defaultValue:null},colSpan:{type:"int",group:"Misc",defaultValue:null},text:{type:"string",group:"Misc",defaultValue:null},formatter:{type:"object",group:"Misc",defaultValue:null},mergeKey:{type:"string",group:"Misc",defaultValue:null},sort:{type:"string",group:"Misc",defaultValue:null},sortAction:{type:"string",group:"Misc",defaultValue:null},area:{type:"object",group:"Misc",defaultValue:null},effectiveColSpan:{type:"int",group:"Misc",defaultValue:null},effectiveRowSpan:{type:"int",group:"Misc",defaultValue:null},row:{type:"int",group:"Misc",defaultValue:null},col:{type:"int",group:"Misc",defaultValue:null},level:{type:"int",group:"Misc",defaultValue:null},drillState:{type:"string",group:"Misc",defaultValue:null},hierarchyAction:{type:"string",group:"Misc",defaultValue:null},hierarchyTooltip:{type:"string",group:"Misc",defaultValue:null},htmlIE8RowSpan:{type:"int",group:"Misc",defaultValue:1},sortTextIndex:{type:"int",group:"Misc",defaultValue:null},tableRow:{type:"int",group:"Misc",defaultValue:null},tableCol:{type:"int",group:"Misc",defaultValue:null},alignment:{type:"string",group:"Misc",defaultValue:null},memberId:{type:"string",group:"Misc",defaultValue:null},parentMemberId:{type:"string",group:"Misc",defaultValue:null},nodeAlignment:{type:"string",group:"Misc",defaultValue:null}}},renderer:i});r.prototype.init=function(){this.aStyles=[];this.bLoading=false;this.bSelectable=false;this.bIsResult=false;this.bIsMobileResize=false;this.sUnit="";this.bIsEntryEnabled=false;this.sPassiveCellType=l.PASSIVE_CELL_TYPE_NORMAL;this.iNumberOfLineBreaks=0;this.sScalingAxis=null;this.bIsPivotCell=false;this.bIsSplitPivotCell=false;this.bIsRevertDrop=false;this.sCustomFormat=undefined};r.prototype.getCellType=function(){return l.TYPE_HEADER_CELL};r.prototype.isHeaderCell=function(){return true};r.prototype.getCssClassNames=function(t,e,i){return s.getCssClasses(this.aStyles,t,e,i)};r.prototype.getStyleIdList=function(){return this.aStyles};r.prototype.setStyleIdList=function(t){this.aStyles=t};r.prototype.addStyle=function(t){var e=s.getStyleId(t,l.TYPE_HEADER_CELL);if(this.aStyles.indexOf(e)===-1){this.aStyles.push(e)}};r.prototype.removeStyle=function(t){var e=s.getStyleId(t,l.TYPE_HEADER_CELL);var i=this.aStyles.indexOf(e);if(i!==-1){this.aStyles.splice(i,1)}};r.prototype.hasStyle=function(t){var e=s.getStyleId(t,l.TYPE_HEADER_CELL);var i=this.aStyles.indexOf(e);if(i===-1){return false}else{return true}};r.prototype.isLoading=function(){return this.bLoading};r.prototype.setLoading=function(t){this.bLoading=t};r.prototype.isSelectable=function(){return this.bSelectable};r.prototype.setSelectable=function(t){this.bSelectable=t};r.prototype.setResult=function(t){this.bIsResult=t};r.prototype.isResult=function(){return this.bIsResult};r.prototype.getUnescapedText=function(){return sap.zen.crosstab.utils.Utils.unEscapeDisplayString(this.getText())};r.prototype.isMobileResize=function(){return this.bIsMobileResize};r.prototype.setMobileResize=function(t){this.bIsMobileResize=t};r.prototype.setEntryEnabled=function(t){this.bIsEntryEnabled=t};r.prototype.isEntryEnabled=function(){return this.bIsEntryEnabled};r.prototype.setUnit=function(t){this.sUnit=t};r.prototype.getUnit=function(){return this.sUnit};r.prototype.getPassiveCellType=function(){return this.sPassiveCellType};r.prototype.setPassiveCellType=function(t){this.sPassiveCellType=t};r.prototype.setNumberOfLineBreaks=function(t){this.iNumberOfLineBreaks=t};r.prototype.getNumberOfLineBreaks=function(){return this.iNumberOfLineBreaks};r.prototype.getScalingAxis=function(){return this.sScalingAxis};r.prototype.setScalingAxis=function(t){this.sScalingAxis=t};r.prototype.isPivotCell=function(){return this.bIsPivotCell};r.prototype.setPivotCell=function(t){this.bIsPivotCell=t};r.prototype.isSplitPivotCell=function(){return this.bIsSplitPivotCell};r.prototype.setSplitPivotCell=function(t){this.bIsSplitPivotCell=t};r.prototype.isRevertDrop=function(){return this.bIsRevertDrop};r.prototype.setRevertDrop=function(t){this.bIsRevertDrop=t};r.prototype.getFormattedText=function(){var t=this.getText();var s=this.getArea();var i=s.getRenderCellCallback();if(i){var l=i(new e);t=l.renderText}var r=this.getFormatter();if(r){var n=this.getCustomFormat();t=r.format(t,n)}return t};r.prototype.setCustomFormat=function(t){this.sCustomFormat=t};r.prototype.getCustomFormat=function(){return this.sCustomFormat};return r});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/HeaderCellRenderer", ["sap/zen/crosstab/rendering/RenderingConstants","sap/zen/crosstab/IHeaderCell","sap/zen/crosstab/TextConstants","sap/zen/crosstab/utils/Utils"],function(e,t,a,r){"use strict";var s={apiVersion:1};s.render=function(s,n){var o=n.getArea();var i=o.getRenderCellCallback();var l=o.getCrosstab();var d=n.getEffectiveRowSpan();var p=n.getEffectiveColSpan();var c=null;if(i){var v=i(new t(n));c=v.additionalStyles}var g=n.getFormattedText();var f=n.getSort();var b=n.getDrillState();var E=n.getCssClassNames(l.isIE8Mode(),l.getPropertyBag().isRtl(),l.getUtils().isMsIE());if(f){E+=" sapzencrosstab-HeaderCellSortable"}if(b){E+=" sapzencrosstab-HeaderCellHierarchy"}s.openStart("td",n);s.attr("class",E);s.attr("tabindex",e.TABINDEX);if(p>1){s.attr("colspan",p)}if(d>1){s.attr("rowspan",d)}s.openEnd();s.openStart("div",n.getId()+"_cellLayoutDiv");s.attr("tabindex",e.TABINDEX);s.class("sapzencrosstab-cellLayoutDiv");if(n.isEntryEnabled()){s.style("width","0px")}s.openEnd();if(n.isEntryEnabled()){s.openStart("table").style("width","100%").style("border-spacing","0px").openEnd().openStart("tbody").openEnd();s.openStart("tr").openEnd();s.openStart("td").style("width","100%").style("padding","0px 5px 0px 0px").openEnd()}s.openStart("div",n.getId()+"_contentDiv");s.attr("tabindex",e.TABINDEX);if(g){s.attr("title",g)}s.class("sapzencrosstab-HeaderCellContentDiv");if(n.isLoading()){s.class("sapzencrosstab-LoadingCellContentDiv")}if(c){for(var S in c){s.style(S,c[S])}}if(n.isEntryEnabled()){s.style("width","100%")}s.openEnd();y();T();s.close("div");s.close("div");if(n.isEntryEnabled()){s.close("td");s.openStart("td").style("padding","0px").openEnd();s.openStart("div","vhlp_"+n.getId());s.class("sapzencrosstab-HeaderCellDivValueHelp"+(r.isMainMode()?"-MainMode":""));s.class("sapzencrosstab-HeaderCellValueHelp");s.openEnd();s.close("div");s.close("td");s.close("tr");s.close("tbody").close("table")}s.close("td");function y(){if(f||b){C(f,b)}else{s.write(g)}}function H(){s.openStart("div",n.getId()+"_textContentDiv");s.attr("tabindex",e.TABINDEX);s.style("overflow","hidden");s.style("text-overflow","ellipsis");s.openEnd();s.write(g);s.close("div")}function C(){s.openStart("table").openEnd().openStart("tbody").openEnd();I();s.openStart("tr").openEnd();h();z();x();A();s.close("tr");D();s.close("tbody").close("table")}function h(){if(b){var t=n.getLevel();var a=n.getArea().isRowHeaderArea();var r="sapzencrosstab-HeaderCellDivHierarchy ";if(n.getHierarchyAction()){if(b==="O"){r+="sapzencrosstab-CollapseNode";if(n.getNodeAlignment()==="bottom"){r+=" sapzencrosstab-BottomNode"}}else if(b==="C"){r+="sapzencrosstab-ExpandNode";if(sap.ui.getCore().getConfiguration().getRTL()){r+="-RTL"}}if(b==="O"||b==="C"){r+=" sapzencrosstab-PointerCursor"}}if(t>0){if(a){var o=t*l.getHierarchyIndentWidth();s.openStart("td").openEnd();s.openStart("div");s.attr("tabindex",e.TABINDEX);s.style("width",o+"px");s.class("sapzencrosstab-HierarchySpacerDivBefore");s.attr("xtabspacer-cellid",n.getId());s.openEnd().close("div");s.close("td")}}if(b==="L"&&t>0||b!=="L"){s.openStart("td").openEnd();if(n.getHierarchyAction()){s.openStart("div","hier_"+n.getId())}else{s.openStart("div")}s.attr("class",r);var i=n.getHierarchyTooltip();if(i){s.attr("title",i)}s.openEnd().close("div");s.close("td")}}}function z(){s.openStart("td").openEnd();H();s.close("td")}function u(){if(f){var e=0;s.openStart("div","sort_"+n.getId());s.class("sapzencrosstab-HeaderCellDivSortable");if(f==="NONE"){s.class("sapzencrosstab-HeaderCellSortNone");e=0}else if(f==="ASC"){s.class("sapzencrosstab-HeaderCellSortAsc");e=1}else if(f==="DESC"){s.class("sapzencrosstab-HeaderCellSortDesc");e=2}var t=l.getPropertyBag().getSortingToolTip(e);if(t){s.attr("title",t)}s.openEnd().close("div")}}function x(){if(f){s.openStart("td").openEnd();u();s.close("td")}}function A(){if(b&&n.getArea().isRowHeaderArea()){var t=n.getLevel();var a=l.getRowHeaderHierarchyLevels()[n.getCol()];var r=a-t;if(r>0){var o=r*l.getHierarchyIndentWidth();s.openStart("td").openEnd();s.openStart("div");s.attr("tabindex",e.TABINDEX);s.style("width",o+"px");s.class("sapzencrosstab-HierarchySpacerDivAfter");s.attr("xtabspacer-cellid",n.getId());s.openEnd().close("div");s.close("td")}}}function I(){if(b){var t=n.getLevel();if(t>0&&n.getArea().isColHeaderArea()){var a=t*l.getHierarchyIndentHeight();s.openStart("tr").openEnd().openStart("td").openEnd();s.openStart("div");s.attr("tabindex",e.TABINDEX);s.class("sapzencrosstab-HierarchySpacerLinesBefore");s.attr("xtabspacer-cellid",n.getId());s.style("height",a+"px");s.openEnd().close("div");s.close("td").close("tr")}}}function D(){if(b&&n.getArea().isColHeaderArea()){var t=n.getLevel();var a=l.getColHeaderHierarchyLevels()[n.getRow()];var r=a-t;if(r>0){var o=r*l.getHierarchyIndentHeight();s.openStart("tr").openEnd().openStart("td").openEnd();s.openStart("div");s.attr("tabindex",e.TABINDEX);s.class("sapzencrosstab-HierarchySpacerLinesAfter");s.attr("xtabspacer-cellid",n.getId());s.style("height",o+"px");s.openEnd().close("div");s.close("td").close("tr")}}}function T(){if(l.getPropertyBag().isEnableColResize()===true){if(o.isColHeaderArea()||o.isDimHeaderArea()){if(l.getPropertyBag().isTestMobileMode()||l.getPropertyBag().isMobileMode()){n.setMobileResize(true)}else{s.openStart("div","resi_"+n.getId());if(f){s.class("sapzencrosstab-columnResizeHandleWithSort")}else{s.class("sapzencrosstab-columnResizeHandle")}s.attr("title",l.getPropertyBag().getText(a.COLWIDTH_ADJUST_TEXT_KEY));s.openEnd();s.close("div");n.setMobileResize(false)}}}}};return s},true);
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/HeaderResizer", ["jquery.sap.global","sap/zen/crosstab/utils/Utils"],function(jQuery,e){"use strict";jQuery.sap.declare("sap.zen.crosstab.HeaderResizer");sap.zen.crosstab.HeaderResizer=function(s){var n=this;var t=s.getRenderEngine();var a=null;var i=null;var r=0;var o=0;var u=0;var c=false;this.initialize=function(){i=s.getRenderSizeDiv();this.attachEvents()};this.attachEvents=function(){var e=jQuery(document.getElementById(s.getId()+"_headerResizeHandle"));e.unbind("hover");e.hover(function(){e.addClass("sapzencrosstab-headerResizeHandleActive")},function(){if(!c){e.removeClass("sapzencrosstab-headerResizeHandleActive")}});e.unbind("mousedown",this.onMouseDown);e.bind("mousedown",this.onMouseDown);e.unbind("mousemove",this.onMouseMove);e.bind("mousemove",this.onMouseMove);e.unbind("mouseup",this.onMouseUp);e.bind("mouseup",this.onMouseUp)};this.onMouseUp=function(i){var r;var o="";if(s.getPropertyBag().isRtl()){r=parseInt(a.css("right"),10)}else{r=parseInt(a.css("left"),10)}o=r+"";t.sendHeaderLimit(o,false);c=false;a.removeClass("sapzencrosstab-headerResizeHandleActive");a=null;jQuery(document).unbind("mouseup",n.handleMouseUpHeaderResizeHandle);e.cancelEvent(i)};this.onMouseDown=function(s){a=jQuery(s.currentTarget);r=i.outerWidth();o=t.getLeftAreaContainerWidth();u=s.clientX;jQuery(document).on("mouseup",n.handleMouseUpHeaderResizeHandle);e.cancelEvent(s)};this.onMouseMove=function(n){var t;var i;var d;var l;var h=s.getPropertyBag().getMaxHeaderWidth();if(a){c=true;if(s.getPropertyBag().isRtl()){t=parseInt(a.css("right"),10);i=u-n.clientX}else{t=parseInt(a.css("left"),10);i=n.clientX-u}u=n.clientX;l=Math.min(o,r);if(h>0){l=Math.min(l,h)}d=Math.max(1,Math.min(t+i,l));if(s.getPropertyBag().isRtl()){a.css("right",d+"px")}else{a.css("left",d+"px")}e.cancelEvent(n)}};this.isResizeAction=function(){return c}};return sap.zen.crosstab.HeaderResizer});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/IDataCell", ["jquery.sap.global"],function(jQuery){"use strict";jQuery.sap.declare("sap.zen.crosstab.IDataCell");sap.zen.crosstab.IDataCell=function(t){this.getText=function(){return t.getText()};this.getId=function(){return t.getId()};this.getRow=function(){return t.getRow()};this.getCol=function(){return t.getCol()}};return sap.zen.crosstab.IDataCell});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/IHeaderCell", ["jquery.sap.global"],function(jQuery){"use strict";jQuery.sap.declare("sap.zen.crosstab.IHeaderCell");sap.zen.crosstab.IHeaderCell=function(e){this.getText=function(){return e.getText()};this.getId=function(){return e.getId()};this.getRow=function(){return e.getRow()};this.getCol=function(){return e.getCol()}};return sap.zen.crosstab.IHeaderCell});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/PropertyBag", ["jquery.sap.global","sap/zen/crosstab/rendering/RenderingConstants"],function(jQuery,t){"use strict";jQuery.sap.declare("sap.zen.crosstab.PropertyBag");sap.zen.crosstab.PropertyBag=function(e){var n=false;var s=false;var i=false;var o=false;var r=0;var a=false;var u=true;var c=false;var f=null;var l=0;var h=0;var g=false;var T=false;var p=t.ZEBRA_FULL;var b=false;var d=false;var x=false;this.setBookmarkProcessing=function(t){x=t};this.isBookmarkProcessing=function(){return x};this.isRepeatTexts=function(){return d};this.setRepeatTexts=function(t){d=t};this.isDragDropEnabled=function(){return T&&!s&&!e.isPlanningMode()&&!c};this.setDragDropEnabled=function(t){T=t};this.setUserHeaderWidth=function(t){if(isNaN(t)){l=0}else{l=t}};this.getUserHeaderWidth=function(){return l};this.setMaxHeaderWidth=function(t){if(isNaN(t)){h=0}else{h=t}};this.getMaxHeaderWidth=function(){return h};this.isDebugMode=function(){return n};this.setDebugMode=function(t){n=t};this.isMobileMode=function(){return s};this.isTestMobileMode=function(){return c};this.setMobileMode=function(t){s=t};this.isPixelScrolling=function(){return i};this.setPixelScrolling=function(t){i=t};this.isDisplayExceptions=function(){return a};this.setDisplayExceptions=function(t){a=t};this.addText=function(t,e){sap.zen.CrosstabTextCache.oTexts[t]=e};this.getText=function(t){return sap.zen.CrosstabTextCache.oTexts[t]};this.setContextMenuCommand=function(t){f=t};this.getContextMenuCommand=function(){return f};this.setHasToolbar=function(t){o=t};this.hasToolbar=function(){return o};this.setToolbarHeight=function(t){r=t};this.getToolbarHeight=function(){var t=0;if(o){t=r}return t};this.setEnableColResize=function(t){u=t};this.isEnableColResize=function(){return u};this.addSortingTextLookup=function(t,e){sap.zen.CrosstabTextCache.oSortingTextLookupTable[t]=e};this.getSortingAltText=function(t){var e="";if(sap.zen.CrosstabTextCache.oSortingTextLookupTable[t]){e=sap.zen.CrosstabTextCache.oSortingTextLookupTable[t].alttext}return e};this.getSortingToolTip=function(t){var e=null;var n="";if(sap.zen.CrosstabTextCache.oSortingTextLookupTable[t]){e=sap.zen.CrosstabTextCache.oSortingTextLookupTable[t].tooltipidx}if(e!==undefined){if(sap.zen.CrosstabTextCache.oSortingTextLookupTable[e]){n=sap.zen.CrosstabTextCache.oSortingTextLookupTable[e].alttext}}return n};this.setFireOnSelectedOnlyOnce=function(t){g=t};this.isFireOnSelectedOnlyOnce=function(){return g};this.isRtl=function(){return sap.ui.getCore().getConfiguration().getRTL()};this.setZebraMode=function(t){p=t};this.getZebraMode=function(){return p};this.setCozyMode=function(t){b=t};this.isCozyMode=function(){return b}};return sap.zen.crosstab.PropertyBag});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/RowHeaderArea", ["jquery.sap.global","sap/zen/crosstab/BaseArea","sap/zen/crosstab/rendering/RenderingConstants"],function(jQuery,e,t){"use strict";jQuery.sap.declare("sap.zen.crosstab.RowHeaderArea");sap.zen.crosstab.RowHeaderArea=function(r){e.call(this,r);this.sAreaType=t.TYPE_ROW_HEADER_AREA;this.iRenderStartRow=0;this.iRenderRowCnt=0;this.bLastPageLoaded=false};sap.zen.crosstab.RowHeaderArea.prototype=jQuery.sap.newObject(e.prototype);sap.zen.crosstab.RowHeaderArea.prototype.renderArea=function(e){var t="sapzencrosstab-RowHeaderArea";if(this.oCrosstab.getPropertyBag().isMobileMode()){t+=" sapzencrosstab-MobileHeaderSeparator"}this.renderContainerStructure(e,t,this.oCrosstab.isVCutOff(),false)};sap.zen.crosstab.RowHeaderArea.prototype.getSelectedCellsBySelectionCoordinates=function(e,t){var r=this.oDataModel.getCellWithSpan(e,t,true);var a={};if(r){a[r.getId()]=r;var o=r.getRowSpan();var s=r.getCol()+1;var n=this.getColCnt()-s;var i=0;var l=null;for(var d=0;d<o;d++){i=r.getRow()+d;l=this.oDataModel.getCellsByRow(i,s,n);for(var p=0;p<l.length;p++){a[l[p].getId()]=l[p]}}return a}return null};sap.zen.crosstab.RowHeaderArea.prototype.getSelectedCellsByDataSelection=function(e){var t={};var r=0;var a=this.getColCnt();var o=e.getRow();for(var s=r;s<a;s++){var n=this.oDataModel.getCellWithSpan(o,s);t[n.getId()]=n}return t};sap.zen.crosstab.RowHeaderArea.prototype.getRenderedCellsByCol=function(e){var t=0;var r=null;var a={};var o=this.iRenderStartRow+this.iRenderRowCnt;for(t=this.iRenderStartRow;t<=o;t++){r=this.oDataModel.getCellWithRowSpan(t,e,true);if(r){a[r.getId()]=r}}return a};return sap.zen.crosstab.RowHeaderArea});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/SelectionHandler", ["jquery.sap.global","sap/zen/crosstab/TouchHandler","sap/zen/crosstab/rendering/CrossRequestManager","sap/zen/crosstab/rendering/RenderingConstants","sap/zen/crosstab/utils/Utils"],function(jQuery,e,t,l,r){"use strict";jQuery.sap.declare("sap.zen.crosstab.SelectionHandler");sap.zen.crosstab.SelectionHandler=function(e){var t=this;var a={};var i=null;var n=null;var s=false;this.blockSelectionHovering=function(e){s=e;if(s&&n){this.removeSelection(n,true);n=null}};this.removeAllSelections=function(){this.removeAllPreviousSelectionEffects();this.setSelection(null)};this.checkHeaderCellMerge=function(t,l){var r;var a;if(e.getPropertyBag().isRepeatTexts()===true){return false}if(!t.isHeaderCell()||!l.isHeaderCell()){return false}if(t.getId()===l.getId()){return true}if(t.getMergeKey()===""||l.getMergeKey()===""){return false}if(t.getMergeKey()!==l.getMergeKey()){return false}if(t.getDrillState()!==l.getDrillState()){return false}r=t.getArea();a=l.getArea();if(r.getAreaType()!==a.getAreaType()){return false}if(r.isRowHeaderArea()){if(t.getCol()!==l.getCol()){return false}}else if(r.isColHeaderArea()){if(t.getRow()!==l.getRow()){return false}}return true};this.provideSelectionForAllClickedCells=function(){jQuery.each(a,function(e,l){t.selectCells(l)})};this.mapClickedCellsToModel=function(){var e=null;var l={};var r=[];var i=0;var n=null;jQuery.each(a,function(a,s){e=s.getArea().getCell(s.getRow(),s.getCol());if(!e){if(s.isHeaderCell()){if(s.getArea().isRowHeaderArea()){e=s.getArea().getCellWithRowSpan(s.getRow(),s.getCol())}else if(s.getArea().isColHeaderArea()){e=s.getArea().getCellWithColSpan(s.getRow(),s.getCol())}if(e){if(t.checkHeaderCellMerge(e,s)===true){l[e.getId()]=e}else{if(s.getArea().isRowHeaderArea()){r=s.getArea().getDataModel().getAllLoadedCellsByCol(s.getArea(),s.getCol())}else if(s.getArea().isColHeaderArea()){r=s.getArea().getDataModel().getAllLoadedCellsByRow(s.getArea,s.getRow())}for(i=0;i<r.length;i++){n=r[i];if(n){if(n.getMergeKey()===s.getMergeKey()&&n.getText()===s.getText()){l[n.getId()]=n;break}}}}}}}else{l[e.getId()]=e}});a=l};this.addClickedCellsForSpannedHeaderCells=function(){var e=null;var l={};jQuery.each(a,function(r,a){var i=null;if(a.isHeaderCell()){e=a.getArea();if(e.isRowHeaderArea()){i=e.getRenderedCellsByCol(a.getCol());jQuery.each(i,function(e,r){if(t.checkHeaderCellMerge(r,a)===true){l[e]=r}})}else if(e.isColHeaderArea()){i=e.getRenderedCellsByRow(a.getRow());jQuery.each(i,function(e,r){if(t.checkHeaderCellMerge(r,a)===true){l[e]=r}})}}});jQuery.extend(a,l)};this.extractClickedCellsFromSelection=function(){var t="";var l;var r=0;var n=null;var s;var o;var c;var f;if(i){t=i.axis;if(i.bFromBackend===true){var g=e.getHeaderInfo();if(e.getNewLinesPos()==="TOP"){r=e.getNewLinesCnt()}for(var d=0;d<i.length;d++){s=i[d];if(t==="ROWS"){o=e.getRowHeaderArea();c=s.row+r;f=g.getColForAbsoluteCol(s.col)}else if(t==="COLUMNS"){o=e.getColumnHeaderArea();c=g.getRowForAbsoluteRow(s.row)+r;f=s.col}else if(t==="DATA"){o=e.getDataArea();c=s.row+r;f=s.col}l=o.getCell(c,f);if(l){a[l.getId()]=l}}}else{n=i[t];if(n){for(d=0;d<n.length;d++){s=n[d];if(t==="ROW"){o=e.getRowHeaderArea()}else if(t==="COL"){o=e.getColumnHeaderArea()}else if(t==="DATA"){o=e.getDataArea()}l=o.getCell(s.row,s.col);if(l){a[l.getId()]=l}}}}}};this.ensureCellsSelected=function(){a={};if(e.isPlanningMode()===true&&e.getSelectionMode()==="DATA"){i=null}if(i){this.extractClickedCellsFromSelection()}if(a&&Object.keys(a).length>0){this.mapClickedCellsToModel();this.addClickedCellsForSpannedHeaderCells();this.provideSelectionForAllClickedCells()}};this.checkSingleCellClicked=function(e){var l=true;if(a&&Object.keys(a).length===0){return false}if(a&&Object.keys(a).length===1&&a[e.getId()]){return true}if(e.isHeaderCell()===true){jQuery.each(a,function(r,a){if(!t.checkHeaderCellMerge(e,a)){l=false;return false}})}else{l=false}return l};this.checkCellIsAlreadyClicked=function(l){var r=null;var i=false;if(!l.isHeaderCell()){r=a[l.getId()];if(r){return true}}else{if(Object.keys(a).length===1&&a[l.getId()]){return true}jQuery.each(a,function(r,a){if(e.getPropertyBag().isRepeatTexts()===true){if(r===l.getId()){i=true;return false}}else{if(t.checkHeaderCellMerge(l,a)===true){i=true;return false}}})}return i};this.translateClick=function(t){var l=null;var r=t.getArea();var a=0;var i=0;var n=0;var s=0;var o="";var c=e.getHeaderInfo();l=t;if(r.isRowHeaderArea()){if(e.getPropertyBag().isRepeatTexts()===true){if(t.getCol()>0){l=r.getCell(t.getRow(),0)}else{l=t}}else{a=t.getCol();o=c.getDimensionNameByCol(a);if(o&&o.length>0){i=c.getFirstColForDimension(o);if(i>=0&&i!==a){l=r.getCell(t.getRow(),i)}}}}else if(r.isColHeaderArea()){if(e.getPropertyBag().isRepeatTexts()===true){if(t.getRow()>0){l=r.getCell(0,t.getCol())}else{l=t}}else{n=t.getRow();o=c.getDimensionNameByRow(n);if(o&&o.length>0){s=c.getFirstRowForDimension(o);if(s>=0&&s!==n){l=r.getCell(s,t.getCol())}}}}return l};this.checkSelectionAllowed=function(t){var l=t.getArea();var r=0;if(l.isDimHeaderArea()){return false}if(e.isPlanningMode()===true){if(e.getNewLinesCnt()>0){r=t.getRow();if(e.getNewLinesPos()==="TOP"){if(r<e.getNewLinesCnt()){return false}}else{if(r>t.getArea().getRowCnt()-e.getNewLinesCnt()-1){return false}}}if(e.getSelectionMode()==="DATA"){return false}}if(e.getSelectionMode()==="DATA"){if(l.isRowHeaderArea()||l.isColHeaderArea()){return false}}else{if(l.isDataArea()){return false}}if(e.getSelectionSpace()==="ROW"){if(l.isColHeaderArea()){return false}}else if(e.getSelectionSpace()==="COL"){if(l.isRowHeaderArea()){return false}}if(e.getSelectionMode()==="SINGLE"){var a=e.getHeaderInfo();if(l.isRowHeaderArea()){return a.isColOfInnermostDimension(t.getCol())}else if(l.isColHeaderArea()){return a.isRowOfInnermostDimension(t.getRow())}}return true};this.registerCtrlKeyUpListener=function(){if(e.getPropertyBag().isFireOnSelectedOnlyOnce()===true){if(!document.oSapCrosstabOnSelectHandlerReg){document.oSapCrosstabOnSelectHandlerReg={}}document.oSapCrosstabOnSelectHandlerReg[e.getId()]={me:this,fOnSelect:this.sendOnSelectCommand};if(!document.fSapCrosstabOnKeyUpHandler){document.fSapCrosstabOnKeyUpHandler=function(e){if(e.which===17){jQuery(document).off("keyup");document.fSapCrosstabOnKeyUpHandler=null;jQuery.each(document.oSapCrosstabOnSelectHandlerReg,function(e,t){t.fOnSelect.apply(t.me)});document.oSapCrosstabOnSelectHandlerReg=null;r.cancelEvent(e);r.stopEventPropagation(e)}};jQuery(document).on("keyup",document.fSapCrosstabOnKeyUpHandler)}}};this.postSelectionToServer=function(l){var r=document.oSapCrosstabOnSelectHandlerReg&&document.oSapCrosstabOnSelectHandlerReg[e.getId()];if(!e.getPropertyBag().isFireOnSelectedOnlyOnce()||e.getPropertyBag().isFireOnSelectedOnlyOnce()===true&&!r){t.sendOnSelectCommand(l)}};this.handleCellClick=function(e,l){if(!this.checkSelectionAllowed(e)){this.removeAllSelections();this.sendJson("{}");return}if(n){t.removeSelection(n,true);n=null}e=this.translateClick(e);if(!l||l==="SHIFT"){if(this.checkSingleCellClicked(e)===true){this.removeSelection(e);return}else{this.startNewSelection(e)}}else if(l==="CTRL"){this.registerCtrlKeyUpListener();if(this.checkCellIsAlreadyClicked(e)===true){this.removeSelection(e);return}else{var r=this.checkMultiselectPossible(e);if(r){a[e.getId()]=e}else{this.startNewSelection(e)}}}this.selectCells(e);this.updateSelectionState()};this.getCellsForSelectionState=function(){var t={};var l={};var r;var a="";var i=null;t=this.consolidateClickedCells();jQuery.each(t,function(t,n){i=e.getUtils().translateCellCoordinatesForBackend(n);a=i.axisName;r={};if(!l[a]){l[a]=[]}r["row"]=i.row;r["col"]=i.col;l[a].push(r)});return{axis:a,oCells:l}};this.sendOnSelectCommand=function(l){var r;if(e.getOnSelectCommand()){if(l){r=l.oCells}else{r=this.getCellsForSelectionState().oCells}var a=JSON.stringify(r);t.sendJson(a)}};this.sendJson=function(t){var l=e.getOnSelectCommand();if(l){var r='"';var a=new RegExp(r,"g");var i=t.replace(a,'\\"');l=l.replace("__CELLS__",i);e.getUtils().executeCommandAction(l)}};this.consolidateClickedCells=function(){var t={};var r={};var i={};var n="";var s="";if(e.getPropertyBag().isRepeatTexts()===true){return a}jQuery.each(a,function(e,a){n=a.getArea().getAxisName();if(n===l.ROW_AXIS){s=a.getText()+" "+a.getMergeKey()+" "+a.getCol();if(!t[s]){t[s]=a}}else if(n===l.COL_AXIS){s=a.getText()+" "+a.getMergeKey()+" "+a.getRow();if(!r[s]){r[s]=a}}else{i[e]=a}});return jQuery.extend(t,r,i)};this.selectCells=function(e,l){var r=this.getSelectedCells(e);jQuery.each(r,function(e,r){var a=r.getArea();if(a.isRowHeaderArea()){t.selectRowHeaderCell(r,l)}else if(a.isColHeaderArea()){t.selectColHeaderCell(r,l)}else if(a.isDataArea()){t.selectDataCell(r,l)}})};this.getSelectedCells=function(t,l){var r=t.getArea();var a={};if(r.isRowHeaderArea()||r.isColHeaderArea()){var i=r.getSelectedCellsBySelectionCoordinates(t.getRow(),t.getCol());var n=e.getDataArea().getSelectedCellsByHeaderSelection(t,l);a=jQuery.extend({},i,n)}else if(r.isDataArea()){n={};n[t.getId()]=t;var s=e.getRowHeaderArea().getSelectedCellsByDataSelection(t);var o=e.getColumnHeaderArea().getSelectedCellsByDataSelection(t);a=jQuery.extend({},n,s,o)}return a};this.checkMultiselectPossible=function(t){var l=t.getArea();var r=true;var i="";var n=null;var s=null;if(e.getSelectionMode()==="DATA"||e.getSelectionMode()==="SINGLE"){return false}if(e.getPropertyBag().isRepeatTexts()===true){return true}if(l.isRowHeaderArea()){s=l.getDataModel().getCellWithSpan(t.getRow(),Math.max(t.getCol()-1,0))}else if(l.isColHeaderArea()){s=l.getDataModel().getCellWithSpan(Math.max(t.getRow()-1,0),t.getCol())}i=s.getId();jQuery.each(a,function(e,a){if(a.getArea().getAreaType()!==l.getAreaType()){r=false;return false}if(l.isRowHeaderArea()){if(t.getCol()!==a.getCol()){r=false;return false}if(t.getCol()!==0){n=l.getDataModel().getCellWithSpan(a.getRow(),Math.max(a.getCol()-1,0));if(i!==n.getId()){r=false;return false}}}else if(l.isColHeaderArea()){if(t.getRow()!==a.getRow()){r=false;return false}if(t.getRow()!==0){n=l.getDataModel().getCellWithSpan(Math.max(a.getRow()-1,0),a.getCol());if(i!==n.getId()){r=false;return false}}}else if(l.isDataArea()){r=false;return false}return null});return r};this.startNewSelection=function(e){this.removeAllPreviousSelectionEffects();i=null;a={};a[e.getId()]=e};this.updateSelectionState=function(){var e=this.getCellsForSelectionState();t.postSelectionToServer(e);i=e.oCells;i.axis=e.axis};this.removeSelection=function(e,l){var r={};r[e.getId()]=e;if(e.isHeaderCell()===true){jQuery.each(a,function(l,a){if(a.isHeaderCell()===true){if(t.checkHeaderCellMerge(a,e)===true){r[l]=a}}})}jQuery.each(r,function(e,r){if(!l){delete a[e]}t.removePreviousSelectionEffectsForCell(r,l)});if(!l){this.updateSelectionState()}};this.removeAllPreviousSelectionEffects=function(){jQuery.each(a,function(e,l){t.removePreviousSelectionEffectsForCell(l,false)})};this.removePreviousSelectionEffectsForCell=function(e,l){var r=this.getSelectedCells(e,true);jQuery.each(r,function(e,r){var a=r.getArea();if(a.isRowHeaderArea()){t.deselectRowHeaderCell(r,l)}else if(a.isColHeaderArea()){t.deselectColHeaderCell(r,l)}else if(a.isDataArea()){t.deselectDataCell(r,l)}})};this.selectRowHeaderCell=function(e,t){var l=null;if(t===true){l="sapzencrosstab-HeaderCellHoverRow"}else{e.addStyle("SelectRow");l="sapzencrosstab-HeaderCellSelectRow"}var r=jQuery(document.getElementById(e.getId()));r.addClass(l)};this.deselectRowHeaderCell=function(e,t){var l=null;if(t===true){l="sapzencrosstab-HeaderCellHoverRow"}else{e.removeStyle("SelectRow");l="sapzencrosstab-HeaderCellSelectRow"}var r=jQuery(document.getElementById(e.getId()));r.removeClass(l)};this.selectColHeaderCell=function(e,t){var l=null;if(t===true){l="sapzencrosstab-HeaderCellHoverCol"}else{e.addStyle("SelectCol");l="sapzencrosstab-HeaderCellSelectCol"}var r=jQuery(document.getElementById(e.getId()));r.addClass(l)};this.deselectColHeaderCell=function(e,t){var l=null;if(t===true){l="sapzencrosstab-HeaderCellHoverCol"}else{e.removeStyle("SelectCol");l="sapzencrosstab-HeaderCellSelectCol"}var r=jQuery(document.getElementById(e.getId()));r.removeClass(l)};this.selectDataCell=function(e,t){var l=null;if(t===true){l="sapzencrosstab-HoverDataCell"}else{e.addStyle("SelectData");l="sapzencrosstab-DataCellSelectData"}var r=jQuery(document.getElementById(e.getId()));r.addClass(l)};this.deselectDataCell=function(e,t){var l=null;if(t===true){l="sapzencrosstab-HoverDataCell"}else{e.removeStyle("SelectData");l="sapzencrosstab-DataCellSelectData"}var r=jQuery(document.getElementById(e.getId()));r.removeClass(l)};this.setSelection=function(e){a={};i=e;if(i){i.bFromBackend=true}};this.hasSelection=function(){return r.getSizeOf(a)>0};this.handleCellHoverEntry=function(e){if(s){return}if(!this.checkSelectionAllowed(e)){if(n){t.removeSelection(n,true);n=null}return}e=this.translateClick(e);if(n&&e!==n){t.removeSelection(n,true);n=null}if(!n){if(!e||e===undefined||e.hasStyle("SelectCol")||e.hasStyle("SelectData")||e.hasStyle("SelectRow")){return}n=e;t.selectCells(e,true)}};this.handleCellHoverOut=function(e){if(n){var l=e.toElement||e.relatedTarget;var r=e.target;var a=null;var i=sap.ui.getCore().getControl(e.target.id);var s=null;var o=false;if(i){if(i===n){a=jQuery(r).find(jQuery(l));if(!(a&&a.length>0)){o=true}}}else{s=jQuery(document.getElementById(n.getId()));a=s.find(jQuery(r));if(a&&a.length>0){a=s.find(jQuery(l));if(!(a&&a.length>0)){o=true}}}if(o===true){t.removeSelection(n,true);n=null}}}};return sap.zen.crosstab.SelectionHandler});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/TextConstants", ["jquery.sap.global"],function(jQuery){"use strict";jQuery.sap.declare("sap.zen.crosstab.TextConstants");sap.zen.crosstab.TextConstants={ROW_TEXT_KEY:"ROW_TEXT",COL_TEXT_KEY:"COL_TEXT",COLWIDTH_ADJUST_TEXT_KEY:"COLWIDTH_ADJUST_TEXT",MOBILE_MENUITEM_COLWIDTH_ADJUST_TEXT_KEY:"MOBILE_MENUITEM_COLWIDTH_ADJUST",MEASURE_STRUCTURE_TEXT_KEY:"MEASURE_STRUCTURE_TEXT"};return sap.zen.crosstab.TextConstants});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/TouchHandler", ["jquery.sap.global","sap/zen/crosstab/utils/Utils","sap/zen/crosstab/TextConstants","sap/ui/unified/Menu","sap/ui/commons/Menu","sap/ui/unified/MenuItem","sap/ui/commons/MenuItem","sap/ui/commons/TextView","sap/m/Text","sap/ui/core/Popup"],function(jQuery,e,t,n,i,a,r,o,s,l){"use strict";jQuery.sap.declare("sap.zen.crosstab.TouchHandler");sap.zen.crosstab.TouchHandler=function(g,u){var c=u.getDataArea();var d=u.getRowHeaderArea();var f=u.getColumnHeaderArea();var p=u.getDimensionHeaderArea();var v=0;var h=0;var m=false;var M=false;var b=jQuery(document.getElementById(c.getId()));var E=jQuery(document.getElementById(d.getId()));var T=jQuery(document.getElementById(f.getId()));var C=jQuery(document.getElementById(p.getId()));var S="";var I=null;var y="800";var P=0;var z=0;var B=0;var w=0;var H=0;var D=0;var x=0;var O=0;var R=null;var _=null;var A=2;var X=null;var Y=null;var L=null;var W=false;var N;function U(e){var t=null;var n=0;var i=sap.ui.getCore().getControl(e.target.id);var a=null;var r=null;if(i&&(i.isMobileResize&&i.isMobileResize())){t=i}else{var o=jQuery(e.target).parents("td");if(o){for(n=0;n<o.length;n++){a=jQuery(o[n]);r=a.attr("id");if(r&&r.length>0){i=sap.ui.getCore().getControl(r);if(i&&(i.isMobileResize&&i.isMobileResize())){t=i;break}}}}}return t}function V(e){if(N){var t=e.getParameter("item").oSelectedCell;if(t){N.resizeCol(t,-1)}}}function k(){if(!X){X=sap.ui.getCore().getControl("resizemenu");if(X){X.getItems()[0].destroy();X.destroy()}if(e.isDispatcherAvailable()===true&&sap.zen.Dispatcher.instance.isMainMode()){X=new n("resizemenu",{ariaDescription:"Crosstab Menu",tooltip:"Menu containing crosstab related actions"})}else{X=new i("resizemenu",{ariaDescription:"Crosstab Menu",tooltip:"Menu containing crosstab related actions"})}X.addStyleClass("sapzencrosstab-MenuStyle");var o=null;if(e.isDispatcherAvailable()===true&&sap.zen.Dispatcher.instance.isMainMode()){o=new a("item1",{text:u.getPropertyBag().getText(t.MOBILE_MENUITEM_COLWIDTH_ADJUST_TEXT_KEY)})}else{o=new r("item1",{text:u.getPropertyBag().getText(t.MOBILE_MENUITEM_COLWIDTH_ADJUST_TEXT_KEY)})}o.attachSelect(V);X.addItem(o)}}function K(){B=(c.getRowCnt()+"").length;w=(c.getColCnt()+"").length;R=new l;var t=null;if(e.isDispatcherAvailable()===true&&sap.zen.Dispatcher.instance.isMainMode()){t=new s}else{t=new o}R.setContent(t);R.setDurations(125,500);R.setAutoClose(true);_=R.getContent();_.addStyleClass("sapzencrosstab-ScrollPopup");_.setWrapping(false);var n=l.Dock;R.setPosition(n.CenterCenter,n.CenterCenter,document.getElementById(u.getId()+"_renderSizeDiv"),"0")}function J(){var n=u.getPropertyBag().getText(t.ROW_TEXT_KEY)+": "+e.padWithZeroes(H+1,B)+"/"+d.getRowCnt();var i=u.getPropertyBag().getText(t.COL_TEXT_KEY)+": "+e.padWithZeroes(D+1,w)+"/"+f.getColCnt();var a=n+" "+i;R.getContent().setProperty("text",a,true);R.getContent().rerender()}function Z(t){e.cancelEvent(t);P=0;z=0;H=0;D=0;if(X){X.close()}S=t.currentTarget.getAttribute("id");if(t.originalEvent.touches&&t.originalEvent.touches.length){t=t.originalEvent.touches[0]}else if(t.originalEvent.changedTouches&&t.originalEvent.changedTouches.length){t=t.originalEvent.changedTouches[0]}v=t.pageX;h=t.pageY;m=true;M=false;if(I){window.clearTimeout(I);I=null}I=setTimeout(function(){m=false;M=false;var e=U(t);if(e){k();var n=jQuery(document.getElementById(e.getId()));if(n.length>0){var i=sap.ui.core.Popup.Dock;X.getItems()[0].oSelectedCell=e;X.open(false,n,i.BeginBottom,i.BeginTop,n,0+" "+0,sap.ui.core.Collision.flip)}}},y)}function j(e,t){var n=u.getHorizontalHeaderScrollbar();if(n){O=n.getScrollPosition();D=Math.max(O-e,0);if(t>0){u.scrollHeaderHorizontal(D)}}}function q(t,n,i,a){if(u.getPropertyBag().isPixelScrolling()){if(Y){x=Y.getScrollPosition();H=Math.max(x-n,0)}if(L){O=L.getScrollPosition();D=Math.max(O-t,0)}if(Y&&a>0){u.scrollVertical(H)}if(L&&i>0){u.scrollHorizontal(D)}}else{if(R.getOpenState()===sap.ui.core.OpenState.CLOSED){R.open(-1)}if(Y){if(u.getRenderEngine().isVScrolledToEnd()){if(e.sign(n)>0){P-=e.sign(n)}else{P=0}}else{P-=e.sign(n)}x=d.getRenderStartRow();H=Math.max(Math.floor(P/A)+x,0);H=Math.min(c.getRowCnt()-1,H)}if(L){if(u.getRenderEngine().isHScrolledToEnd()){if(e.sign(t)>0){z-=e.sign(t)}else{z=0}}else{z-=e.sign(t)}O=f.getRenderStartCol();D=Math.max(Math.floor(z/A)+O,0);D=Math.min(c.getColCnt()-1,D)}J()}}function G(t){e.cancelEvent(t);if(m==false){return true}if(t.originalEvent.touches&&t.originalEvent.touches.length){t=t.originalEvent.touches[0]}else if(t.originalEvent.changedTouches&&t.originalEvent.changedTouches.length){t=t.originalEvent.changedTouches[0]}var n=t.pageX;var i=t.pageY;var a=n-v;var r=i-h;var o=Math.abs(r);var s=Math.abs(a);if(o>s&&s<10){a=0;s=0}else if(s>o&&o<10){r=0;o=0}if(a==0&&r==0){M=false;return true}M=true;if(I){window.clearTimeout(I);I=null}Y=u.getVScrollbar();L=u.getHScrollbar();W=false;if(S===d.getId()){W=u.isHeaderHScrolling()&&a!==0;if(!W){a=0;s=0}}else if(S===f.getId()){r=0;o=0}else if(S===p.getId()){W=u.isHeaderHScrolling()&&a!==0;if(!W){a=0;s=0}r=0;o=0}if(W===true){j(a,s)}else{q(a,r,s,o)}v=t.pageX;h=t.pageY;return null}function F(t){e.cancelEvent(t);if(I){window.clearTimeout(I);I=null}if(m==false){return true}if(!M){g.executeOnClickAction(t)}m=false;M=false;if(!W){if(!u.getPropertyBag().isPixelScrolling()){if(R.getOpenState()===sap.ui.core.OpenState.OPEN||R.getOpenState()===sap.ui.core.OpenState.OPENING){R.close()}var n=false;if(H!==x){u.scrollVertical(H);n=true}if(D!==O){u.scrollHorizontal(D);n=true}if(n===true){g.attachEvents()}}P=0;z=0}}this.registerTouchEvents=function(e){K();var t="touchstart";if(u.getPropertyBag().isTestMobileMode()&&!u.getPropertyBag().isMobileMode()){t="mousedown"}b.unbind(t);b.bind(t,Z);E.unbind(t);E.bind(t,Z);T.unbind(t);T.bind(t,Z);C.unbind(t);C.bind(t,Z);t="touchmove";if(u.getPropertyBag().isTestMobileMode()&&!u.getPropertyBag().isMobileMode()){t="mousemove"}e.unbind(t);e.bind(t,G);t="touchend";if(u.getPropertyBag().isTestMobileMode()&&!u.getPropertyBag().isMobileMode()){t="mouseup"}e.unbind(t);e.bind(t,F)};this.setColResizer=function(e){N=e}};return sap.zen.crosstab.TouchHandler});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/datahandler/JsonDataHandler", ["jquery.sap.global","sap/zen/crosstab/TextConstants","sap/zen/crosstab/utils/Utils","sap/zen/crosstab/rendering/RenderingConstants","sap/zen/crosstab/CrosstabCellApi","sap/zen/crosstab/DataCell","sap/zen/crosstab/HeaderCell","sap/zen/crosstab/CellStyleHandler"],function(jQuery,e,t,a,r,s,o,i){"use strict";jQuery.sap.declare("sap.zen.crosstab.datahandler.JsonDataHandler");sap.zen.crosstab.datahandler.JsonDataHandler=function(t){var n=t.getDimensionHeaderArea();var l=t.getColumnHeaderArea();var d=t.getRowHeaderArea();var c=t.getDataArea();var f=0;var u=0;var C=0;var p=0;var g=false;var h=false;var m=false;var T=null;var v=null;var y=0;var x=0;var E={};var S={};function w(){if(!sap.zen.CrosstabTextCache){sap.zen.CrosstabTextCache={};sap.zen.CrosstabTextCache.filled=false;sap.zen.CrosstabTextCache.oTexts={};sap.zen.CrosstabTextCache.oSortingTextLookupTable={};sap.zen.CrosstabTextCache.defaultProvided=false}var a=t.getPropertyBag();a.addText(e.ROW_TEXT_KEY,"Row");a.addText(e.COL_TEXT_KEY,"Column");a.addText(e.COLWIDTH_ADJUST_TEXT_KEY,"Double Click to adjust Column Width");a.addText(e.MOBILE_MENUITEM_COLWIDTH_ADJUST_TEXT_KEY,"Adjust Column Width");a.addText(e.MEASURE_STRUCTURE_TEXT_KEY,"Measure Structure");R(a);sap.zen.CrosstabTextCache.defaultProvided=true}function b(a){if(sap.zen.CrosstabTextCache.filled===false){var r=t.getPropertyBag();if(a){r.addText(e.ROW_TEXT_KEY,a.rowtext||"Row");r.addText(e.COL_TEXT_KEY,a.coltext||"Column");r.addText(e.COLWIDTH_ADJUST_TEXT_KEY,a.colwidthtext||"Double Click to adjust Column Width");r.addText(e.MOBILE_MENUITEM_COLWIDTH_ADJUST_TEXT_KEY,a.mobilemenuitemcolwidthtext||"Adjust Column Width");r.addText(e.MEASURE_STRUCTURE_TEXT_KEY,a.measurestructtext||"Measure Structure");_(a,r)}sap.zen.CrosstabTextCache.filled=true}}function R(e){var t={};t.alttext="Unsorted. Select to sort ascending";t.tooltipidx=0;e.addSortingTextLookup("0",t);t={};t.alttext="Sorted ascending. Select to sort descending";t.tooltipidx=1;e.addSortingTextLookup("1",t);t={};t.alttext="Sorted descending. Select to sort ascending";t.tooltipidx=2;e.addSortingTextLookup("2",t)}function _(e,t){var a=e.sorting;if(!a){R(t)}else{var r=0;var s=parseInt(a.length,10);for(r=0;r<s;r++){var o={};o.alttext=a[r].alttext;o.tooltipidx=a[r].tooltipidx;t.addSortingTextLookup(r+"",o)}}}this.determineBasicAreaData=function(e,s){if(!sap.zen.CrosstabTextCache||sap.zen.CrosstabTextCache&&!sap.zen.CrosstabTextCache.defaultProvided){w()}T=e;if(T.rootcause&&T.rootcause==="bookmark"){t.getPropertyBag().setBookmarkProcessing(true)}if(!T.rows){D(T);P();t.setHasData(false)}else{t.setHasData(true);if(s||T.changed){b(T.texts);E={};S={};f=T.fixedcolheaders;u=T.fixedrowheaders;if(!T.pixelscrolling){t.setHCutOff(false);t.setVCutOff(false);C=T.totaldatacols;p=T.totaldatarows}else{t.setHCutOff(T.totaldatacols>T.sentdatacols);t.setVCutOff(T.totaldatarows>T.sentdatarows);C=T.sentdatacols;p=T.sentdatarows}if(!f||!u){n.setRowCnt(0);n.setColCnt(0);if(!u){d.setRowCnt(0);d.setColCnt(0);if(f){l.setRowCnt(f);l.setColCnt(C)}}else if(!f){l.setRowCnt(0);l.setColCnt(0);if(u){d.setRowCnt(p);d.setColCnt(u)}}}else{n.setRowCnt(f);n.setColCnt(u);d.setRowCnt(p);d.setColCnt(u);l.setRowCnt(f);l.setColCnt(C)}c.setRowCnt(p);c.setColCnt(C);t.setTotalRows(f+p);t.setTotalCols(u+C);t.setOnSelectCommand(T.onselectcommand);t.getPropertyBag().setDisplayExceptions(T.displayexceptions);t.getPropertyBag().setEnableColResize(T.enablecolresize);t.setScrollNotifyCommand(T.scrollnotifier);t.setUpdateColWidthCommand(T.updatecolwidthcmd);A(e);var o=new r(t,u,f,C,p);t.setCellApi(o)}H();if(!(t.getPropertyBag().isMobileMode()||t.getPropertyBag().isTestMobileMode())){if(T.transferdatacommand){t.setTransferDataCommand(T.transferdatacommand)}else{t.setTransferDataCommand(null)}if(T.callvaluehelpcommand){t.setCallValueHelpCommand(T.callvaluehelpcommand)}if(T.newlinescnt){t.setNewLinesCnt(T.newlinescnt)}if(T.newlinespos){t.setNewLinesPos(T.newlinespos)}}if(T.contextmenucmd){t.getPropertyBag().setContextMenuCommand(T.contextmenucmd);t.createContextMenu()}if(T.headerscrolling&&T.headerscrolling==true){t.setHeaderScrollingConfigured(true);if(T.userheaderresize){t.setUserHeaderResizeAllowed(T.userheaderresize)}if(T.userheaderwidthcommand){t.setUserHeaderWidthCommand(T.userheaderwidthcommand)}if(T.headerwidth){t.getPropertyBag().setMaxHeaderWidth(T.headerwidth)}else{t.getPropertyBag().setMaxHeaderWidth(0)}if(T.headerwidthcurrent){t.getPropertyBag().setUserHeaderWidth(T.headerwidthcurrent)}else{t.getPropertyBag().setUserHeaderWidth(0)}}else{t.setHeaderScrollingConfigured(false);t.setUserHeaderResizeAllowed(false);t.setUserHeaderWidthCommand(null);t.getPropertyBag().setMaxHeaderWidth(0);t.getPropertyBag().setUserHeaderWidth(0)}if(T.selectionmode){t.setSelectionProperties(T.selectionmode,T.selectionspace,T.disablehovering,T.singleonselectevent)}var i=t.getSelectionHandler();if(i){i.setSelection(T.selection)}if(T.headerinfo){t.initHeaderInfo(T.headerinfo)}if(T.repeattxt&&T.repeattxt===true){t.getPropertyBag().setRepeatTexts(true)}else{t.getPropertyBag().setRepeatTexts(false)}if(T.dragdropcommands){t.getPropertyBag().setDragDropEnabled(true);t.setDragDropCommands(T.dragdropcommands)}else{t.getPropertyBag().setDragDropEnabled(false)}if(T.zebra){t.getPropertyBag().setZebraMode(T.zebra)}else{t.getPropertyBag().setZebraMode(a.ZEBRA_FULL)}}};function A(e){var t=e.usercolwidths;if(t){for(var a=0;a<t.length;a++){var r=t[a];var s=r.colid;if(isNaN(r.colwidth)){continue}var o=Math.max(0,parseInt(r.colwidth,10));var i=false;if(r.ignore!==undefined){i=r.ignore}if(s==="*"){if(f&&u){l.setColUserWidth(s,o,i);c.setColUserWidth(s,o,i);n.setColUserWidth(s,o,i);d.setColUserWidth(s,o,i)}else{if(!u){l.setColUserWidth(s,o,i)}else if(!f){d.setColUserWidth(s,o,i)}c.setColUserWidth(s,o,i)}}else{if(f&&u){if(s>=u){l.setColUserWidth(s-u,o,i);c.setColUserWidth(s-u,o,i)}else{n.setColUserWidth(s,o,i);d.setColUserWidth(s,o,i)}}else{if(!u){l.setColUserWidth(s,o,i);c.setColUserWidth(s,o,i)}else if(!f){if(s>=u){c.setColUserWidth(s-u,o,i)}else{d.setColUserWidth(s,o,i)}}}}}}}function H(){var e=t.getRenderEngine().getCrossRequestManager();if(e){if(T.clienthpos!==undefined&&T.clientvpos!==undefined&&T.clienthscrolledtoend!==undefined&&T.clientvscrolledtoend!==undefined){if(T.clienthscrolledtoend===true){T.clienthpos=T.totaldatacols-1}if(T.clientvscrolledtoend===true){T.clientvpos=T.totaldatarows-1}if(!e.hasSavedVScrollInfo()&&!e.hasSavedHScrollInfo()){e.setScrollData(parseInt(T.clienthpos,10),T.clienthscrolledtoend,parseInt(T.clientvpos,10),T.clientvscrolledtoend)}}if(T.rootcause){e.setRootCause(T.rootcause);if(T.rootcause==="hierarchy"){e.setHierarchyAction(T.rootcause_hierarchy);e.setIsHierarchyDirectionDown(T.rootcause_hierarchy_directiondown)}e.handleRootCause()}else{if(T.changed===true){e.setScrollData(0,false,0,false)}}var a=false;if(T.rootcause&&t.getPropertyBag().isBookmarkProcessing()){a=true}else{if(!T.dataproviderchanged){if(T.resultsetchanged){if(T.rootcause){a=T.rootcause==="sorting"||T.rootcause==="hierarchy"||T.rootcause==="plan"||T.rootcause==="dragdrop"}}else{a=true}}}if(T.clientheaderhpos&&a){e.setHeaderScrollData({iHPos:parseInt(T.clientheaderhpos,10)})}else{e.setHeaderScrollData({iHPos:0})}}}this.jsonToDataModel=function(e){if(T.rows){v=e.oCrosstabAreasToBeFilled;y=e.iColOffset;x=e.iRowOffset;L();var a=T.rows;for(var r=0,s=a.length;r<s;r++){var o=a[r].row.rowidx;var i=a[r].row.cells;for(var n=0,l=i.length;n<l;n++){var d=i[n].control;var c=d.colidx;U(d,o,c)}}}t.setColHeaderHierarchyLevels(E);t.setRowHeaderHierarchyLevels(S)};function L(){g=v[n.getAreaType()];h=v[d.getAreaType()];m=v[l.getAreaType()]}function D(e){n.setRowCnt(2);n.setColCnt(1);var t=O(n,0,0);t.setText(e.messagetitle);n.insertCell(t,0,0);t=O(n,1,0);t.setText(e.messagetext);n.insertCell(t,1,0)}function P(){var e=t.getSelectionHandler();if(e){e.setSelection(null)}}var U=function(e,t,a){var r=t-1;var s=a-1;if(a>u&&t>f){M(e,r+x,s+y)}else if(g&&a<=u&&t<=f){z(e,r,s)}else if(m&&t<=f&&a>u){I(e,r,s+y)}else if(h&&a<=u&&t>f){W(e,r+x,s)}};function B(e,r){var o=new s;o.setArea(c);o.setRow(e);o.setCol(r);o.addStyle(t.getPropertyBag().isCozyMode()?a.STYLE_DATA_CELL_COZY:a.STYLE_DATA_CELL);return o}var M=function(e,r,s){var o=r-f;var i=s-u;var n=B(o,i);n.setTableRow(r);n.setTableCol(s);N(e,n);if(t.getPropertyBag().getZebraMode()!==a.ZEBRA_OFF){if(o%2===1){n.addStyle(a.STYLE_ALTERNATING)}}c.insertCell(n,o,i)};var z=function(e,t,a){Y(e,n,t,a,t,a)};var W=function(e,t,a){var r=t;if(e.axisidx!==undefined){r=e.axisidx+f}Y(e,d,t-f,a,r,a)};var I=function(e,t,a){var r=a;if(e.axisidx!==undefined){r=e.axisidx+u}Y(e,l,t,a-u,t,r)};function O(e,r,s){var i=new o;i.setArea(e);i.setRow(r);i.setCol(s);i.addStyle(t.getPropertyBag().isCozyMode()?a.STYLE_HEADER_CELL_COZY:a.STYLE_HEADER_CELL);return i}var Y=function(e,a,r,s,o,i){var n=O(a,r,s);n.setTableRow(o);n.setTableCol(i);N(e,n);k(e,n,a);if(t.getPropertyBag().isRtl()&&n.getRow()===t.getDimensionHeaderArea().getRowCnt()-1&&n.getCol()===t.getDimensionHeaderArea().getColCnt()-1){n.setText(sap.zen.crosstab.utils.Utils.swapPivotKeyText(n.getText()))}a.insertCell(n,r,s)};var N=function(e,r){var s=K(e,r);if(s){r.setFormatter(s)}var o=e._v;if(o){var n=sap.zen.crosstab.utils.Utils.prepareStringForRendering(o);r.setText(n.text);r.setNumberOfLineBreaks(n.iNumberOfLineBreaks)}var l=e.exceptionvisualizations;if(l){for(var d in l){if(Object.prototype.hasOwnProperty.call(l,d)){var c=l[d];if(c){i.setExceptionStylesOnCell(r,c.formattype,c.alertlevel)}}}}if(e.isemphasized){r.addStyle(a.STYLE_EMPHASIZED)}if(!(t.getPropertyBag().isMobileMode()||t.getPropertyBag().isTestMobileMode())){if(e.isdataentryenabled){r.addStyle(a.STYLE_DATA_ENTRY_ENABLED);r.setEntryEnabled(true);if(e.unit){r.setUnit(e.unit)}}if(e.hasinvalidvalue){r.addStyle(a.STYLE_INVALID_VALUE)}if(e.hasnewvalue){r.addStyle(a.STYLE_NEW_VALUE)}if(e.islocked){r.addStyle(a.STYLE_LOCKED)}}if(e.isresult){if(r.setResult){r.setResult(e.isresult)}r.addStyle(a.STYLE_TOTAL)}if(e.passivetype){r.setPassiveCellType(e.passivetype)}if(e.additionalstyles){for(var f=0;f<e.additionalstyles.length;f++){r.addStyle(e.additionalstyles[f].style.stylename)}}};var k=function(e,r,s){if(e.rowspan){r.setRowSpan(e.rowspan)}else{r.setRowSpan(1)}if(e.colspan){r.setColSpan(e.colspan)}else{r.setColSpan(1)}if(e.key){r.setMergeKey(e.key)}if(e.sort){r.setSort(e.sort)}if(e.sorttxtidx){r.setSortTextIndex(parseInt(e.sorttxtidx,10))}if(e.sortaction){r.setSortAction(e.sortaction)}if(e.alignment){r.setAlignment(e.alignment)}if(e.memberid){r.setMemberId(e.memberid)}if(e.parentmemberid){r.setParentMemberId(e.parentmemberid)}if(typeof e.level!="undefined"){r.setLevel(e.level);F(s,r,e.level)}else{r.setLevel(-1)}if(e.drillstate){if(e.drillstate!=="A"){r.setDrillState(e.drillstate)}}if(e.hierarchyaction){r.setHierarchyAction(e.hierarchyaction)}if(e.hierarchytooltip){r.setHierarchyTooltip(e.hierarchytooltip)}if(e.nodeAlignment){r.setNodeAlignment(e.nodeAlignment)}if(t.getPropertyBag().getZebraMode()===a.ZEBRA_FULL){if(s.isRowHeaderArea()&&r.getRow()%2===1&&r.getRowSpan()===1){var o=t.getHeaderInfo();if(o){if(r.getCol()+r.getColSpan()-1>=o.getStartColForInnermostDimension()){r.addStyle(a.STYLE_ALTERNATING)}}}}};var F=function(e,t,r){if(e.getAreaType()===a.TYPE_COLUMN_HEADER_AREA){var s=t.getRow();if(E[s]!=undefined){if(E[s]<r){E[s]=r}}else{E[s]=r}}else if(e.getAreaType()===a.TYPE_ROW_HEADER_AREA){var o=t.getCol();if(S[o]!=undefined){if(S[o]<r){S[o]=r}}else{S[o]=r}}};function K(e,t){var a;if(e.valueType){var r=X(e.formatString);var s;if(e.valueType==="Integer"||e.valueType==="Double"){s={groupingEnabled:true,maxFractionDigits:e.decimals,pattern:r,showMeasure:true};if(e.customFormat&&e.customFormat.name){t.setCustomFormat(e.customFormat.name);s.currencyCode=false;s.customCurrencies=s.customCurrencies||{};s.customCurrencies[e.customFormat.name]={symbol:e.customFormat.symbol}}a=sap.ui.core.format.NumberFormat.getCurrencyInstance(s)}else if(e.valueType==="Amount"||e.valueType==="Price"||e.valueType==="Quantity"){s={groupingEnabled:true,maxFractionDigits:e.decimals,pattern:r,showMeasure:true};a=sap.ui.core.format.NumberFormat.getCurrencyInstance(s)}}return a}function X(e){var t;if(e){t=e;var a="#(?![#|"+","+"]).(?=#)";var r=new RegExp(a,"g");e=e.replace(r,"#"+",");a="0(?![0|"+"."+"]).(?=0)";r=new RegExp(a,"g");t=t.replace(r,"0"+".")}return t}};return sap.zen.crosstab.datahandler.JsonDataHandler});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/dragdrop/DragDropAreaRenderer", ["jquery.sap.global"],function(jQuery){"use strict";jQuery.sap.declare("sap.zen.crosstab.dragdrop.DragDropAreaRenderer");sap.zen.crosstab.dragdrop.DragDropAreaRenderer=function(e){var r;var t;var i;var a;var o;var s;var l;var n;var p;var d;var f={sIdSuffix:"droparea_above",sCssClassName:"sapzencrosstab-rowAboveCellDropArea"};var g={sIdSuffix:"droparea_below",sCssClassName:"sapzencrosstab-rowBelowCellDropArea"};var c={sIdSuffix:"droparea_before",sCssClassName:"sapzencrosstab-columnBeforeCellDropArea"};var u={sIdSuffix:"droparea_after",sCssClassName:"sapzencrosstab-columnAfterCellDropArea"};var h={sIdSuffix:"droparea_after",sCssClassName:"sapzencrosstab-columnAfterCellDropAreaWithSort"};this.addStylesToHtmlString=function(e,r){if(r){for(var t in r){if(r.hasOwnProperty(t)){e=e+t+":"+r[t]+";"}}}return e};this.applyCssStyles=function(e,r){if(r&&e){for(var t in r){if(r.hasOwnProperty(t)){e.css(t,r[t])}}}};this.createDiv=function(r,t,i,a,o,s,l){return this.createFlexDiv(r,e.getRenderSizeDiv(),t,i,a,o,s,l)};this.createFlexDiv=function(e,r,t,i,a,o,s,l){var n=e.getId()+"_"+t;var p;var d;p=jQuery(document.getElementById(n));if(p.length===0){d='<div id="'+n+'" class="'+i+'" style="';if(a){d=this.addStylesToHtmlString(d,a)}d=d+'"></div>';if(!l){r.append(d)}else{r.prepend(d)}p=jQuery(document.getElementById(n));p.data("xtabcellid",e.getId())}if(o){this.applyCssStyles(p,o)}if(s){s(p)}return p};this.createBeforeDropArea=function(e,r){var t;var i;var a;var n;var f;t=d.getBoundingClientRect(document.getElementById(e.getId()));i=t.begin-o;a=0;n=l;if(r.iTop){a=r.iTop-s;n=l-a}if(r.iBottom){n=r.iBottom-s-a}f={top:a+"px",height:n+"px"};if(p){f.right=i+"px"}else{f.left=i+"px"}return this.createDiv(e,r.sIdSuffix,r.sCssClassName,null,f)};this.createAfterDropArea=function(e,r){var t;var i;var a;var n=null;var f=null;var g;var c;var u;t=d.getBoundingClientRect(document.getElementById(e.getId()));i=t.end-o;g=0;c=l;if(r.iTop){g=r.iTop-s;c=l-g}if(r.iBottom){c=r.iBottom-s-g}n={top:g+"px",height:c+"px"};if(p){n.right=i+"px";u="right"}else{n.left=i+"px";u="left"}f=function(e){e.css(u,i-e.outerWidth()/2+"px")};return this.createDiv(e,r.sIdSuffix,r.sCssClassName,null,n,f)};this.createAboveDropArea=function(e,r){var t;var i;var a;var l;var f;t=d.getBoundingClientRect(document.getElementById(e.getId()));i=t.top-s;l=0;a=n;if(r.iBegin){l=r.iBegin-o;a=n-l}if(r.iEnd){a=r.iEnd-o-l}f={top:i+"px",width:a+"px"};if(p){f.right=l+"px"}else{f.left=l+"px"}return this.createDiv(e,r.sIdSuffix,r.sCssClassName,null,f)};this.createBelowDropArea=function(e,r){var t;var i;var a=null;var l=null;var f;var g;t=d.getBoundingClientRect(document.getElementById(e.getId()));i=t.bottom-s;g=0;f=n;if(r.iBegin){g=r.iBegin-o;f=n-g}if(r.iEnd){f=r.iEnd-o-g}a={top:i+"px",width:f+"px"};if(p){a.right=g+"px"}else{a.left=g+"px"}l=function(e){e.css("top",i-e.outerHeight()/2+"px")};return this.createDiv(e,r.sIdSuffix,r.sCssClassName,null,a,l)};this.createDropAreasForPivotDimHeaderCell=function(e){var r;if(i===0){this.createBeforeDropArea(e,c)}else if(t===0){this.createAboveDropArea(e,f)}this.createBelowDropArea(e,g);this.createAfterDropArea(e,e.getSort()?h:u)};this.checkNeedsDropAreaByLookAheadCell=function(e,t,i){var a=true;var o=null;if(e){if(e.isSplitPivotCell()===true){o=r.getDimensionInfoByRowCol(e,t)}else{o=r.getDimensionInfoByRowCol(e)}if(o){a=o.sDimensionName!==i}}return a};this.createDropAreasForDimHeaderCell=function(a){var o=null;var s="";var l=false;var n;var p=null;var d=a.getTableCol();var v=a.getTableRow();if(e.getHeaderInfo().isBottomRightDimHeaderCell(a)===true){if(i===0){this.createBeforeDropArea(a,c)}else if(t===0){this.createAboveDropArea(a,f)}if(!a.getScalingAxis()||a.getScalingAxis()==="ROWS"){this.createBelowDropArea(a,g)}if(!a.getScalingAxis()||a.getScalingAxis()==="COLS"){this.createAfterDropArea(a,a.getSort()?h:u)}}else if(v<t&&e.getHeaderInfo().isRightColDimHeaderCell(a)===true||e.getHeaderInfo().isBottomRowDimHeaderCell(a)===true&&d<i){s=r.getDimensionInfoByRowCol(a).sDimensionName;if(e.getHeaderInfo().isBottomRowDimHeaderCell(a)===true){if(d===0){this.createBeforeDropArea(a,c)}l=true;n=d+a.getColSpan();if(n<=i){p=e.getTableCellWithColSpan(v,n);l=p.getScalingAxis()&&p.getScalingAxis()==="ROWS"||this.checkNeedsDropAreaByLookAheadCell(p,"ROWS",s)}if(l){this.createAfterDropArea(a,a.getSort()?h:u)}}if(e.getHeaderInfo().isRightColDimHeaderCell(a)===true){if(v===0){this.createAboveDropArea(a,f)}l=true;n=v+a.getRowSpan();if(n<=t){p=e.getTableCellWithRowSpan(n,d);l=p.getScalingAxis()&&p.getScalingAxis()==="COLS"||this.checkNeedsDropAreaByLookAheadCell(p,"COLS",s)}if(l===true){this.createBelowDropArea(a,g)}}}};this.init=function(f,g){a=f;d=g;r=e.getHeaderInfo();t=e.getTableMaxDimHeaderRow();i=e.getTableMaxDimHeaderCol();l=e.getRenderSizeDiv().outerHeight();n=e.getRenderSizeDiv().outerWidth();p=e.getPropertyBag().isRtl();var c=d.getBoundingClientRect(e.getRenderSizeDiv()[0]);o=c.begin;s=c.top};this.renderDimHeaderDropAreas=function(){var r=0;var t=0;var i=null;var o=a.getTableRow();var s=a.getTableCol();while(t<s){i=e.getTableCellWithColSpan(o,t);if(i){this.createDropAreasForDimHeaderCell(i);t=t+i.getColSpan()}}while(r<=o){i=e.getTableCellWithRowSpan(r,s);if(i){this.createDropAreasForDimHeaderCell(i);r=r+i.getRowSpan()}}};this.renderSplitPivotCellDragAreas=function(r,t){if(e.getPropertyBag().isRtl()){this.createFlexDiv(r,t,"dragarea_rows","sapzencrosstab-pivotCellRowsDimDragArea",{position:"absolute",bottom:"0px",right:"0px","border-left":"0px solid transparent;"},{"border-bottom-width":t.outerHeight()+"px","border-left-width":t.outerWidth()+"px"},null,true);this.createFlexDiv(r,t,"dragarea_cols","sapzencrosstab-pivotCellColsDimDragArea",{position:"absolute",top:"0px",left:"0px","border-right":"0px solid transparent;"},{"border-top-width":t.outerHeight()+"px","border-right-width":t.outerWidth()+"px"},null,true)}else{this.createFlexDiv(r,t,"dragarea_rows","sapzencrosstab-pivotCellRowsDimDragArea",{position:"absolute",bottom:"0px",left:"0px","border-right":"0px solid transparent;"},{"border-bottom-width":t.outerHeight()+"px","border-right-width":t.outerWidth()+"px"},null,true);this.createFlexDiv(r,t,"dragarea_cols","sapzencrosstab-pivotCellColsDimDragArea",{position:"absolute",top:"0px",right:"0px","border-left":"0px solid transparent;"},{"border-top-width":t.outerHeight()+"px","border-left-width":t.outerWidth()+"px"},null,true)}};this.repositionDropAreasForHeaderScrolling=function(){var r;var t;var i;var a;var s;if(e.isHeaderHScrolling()){r=e.getRenderSizeDiv().find("div .sapzencrosstab-columnAfterCellDropArea, .sapzencrosstab-columnAfterCellDropAreaWithSort");if(r){jQuery.each(r,function(r,l){t=jQuery(l);a=e.getRenderSizeDiv().find("#"+jQuery.sap.encodeCSS(t.data("xtabcellid")));if(a.length>0){s=d.getBoundingClientRect(a[0]);i=s.end-o-t.outerWidth()/2;t.css(p?"right":"left",i+"px")}})}}};this.createExternalDimDropAreasForMemberCell=function(e){var r=this.createAboveDropArea(e,f);var t=this.createBeforeDropArea(e,c);return{oJqAboveArea:r,oJqBeforeArea:t}}};return sap.zen.crosstab.dragdrop.DragDropAreaRenderer});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/dragdrop/DragDropHandler", ["jquery.sap.global","sap/base/Log","sap/zen/crosstab/dragdrop/DragDropUtils","sap/zen/crosstab/dragdrop/DragDropAreaRenderer","sap/zen/crosstab/dragdrop/DragDropHoverManager","sap/zen/crosstab/dragdrop/MemberDragDropHandler","sap/zen/crosstab/TextConstants","sap/zen/crosstab/utils/Utils"],function(jQuery,e){"use strict";e.info("Load Drag Drop Handler");jQuery.sap.declare("sap.zen.crosstab.dragdrop.DragDropHandler");sap.zen.crosstab.dragdrop.DragDropHandler=function(e,r){var a=this;var t;var o;var n;var s;var i;this.initDragDrop=function(a){var l=r.insertmembercommand&&r.insertmembercommand.length>0;sap.zen.Dispatcher.instance.registerUnhandledDropHandler(e.getId(),e.onUnhandledDrop);sap.zen.Dispatcher.instance.registerDragDropCancelHandler(e.getId(),e.onEscKeyPressed);this.registerCrosstabAsDropHandler();n=new sap.zen.crosstab.dragdrop.DragDropHoverManager(e);t=new sap.zen.crosstab.dragdrop.DragDropUtils(e);o=new sap.zen.crosstab.dragdrop.DragDropAreaRenderer(e);if(l){s=new sap.zen.crosstab.dragdrop.MemberDragDropHandler(e,r,t,o,n)}i=e.getHeaderInfo().setupPivotCell();n.init(t);t.init(n);o.init(i,t);if(l){s.init(i)}if(i){this.enableDimHeaderNonPivotCells();this.enableDimHeaderPivotCell();if(!a){o.renderDimHeaderDropAreas();this.enableDimHeaderDropAreas()}}this.addExternalDimensionDropAreasIfOnlyMeasures()};this.addExternalDimensionDropAreasIfOnlyMeasures=function(){var r;var a;t.setOnlyMeasuresMode(false);if(sap.zen.crosstab.utils.Utils.isDispatcherAvailable()){if(sap.zen.Dispatcher.instance.isInterComponentDragDropEnabled()&&e.getHeaderInfo().hasOnlyMeasureStructure()){t.setOnlyMeasuresMode(true);r=e.getTableCell(0,0);if(r&&document.getElementById(r.getId())){a=o.createExternalDimDropAreasForMemberCell(r);this.makeAboveAreaDroppable(a.oJqAboveArea,"sapzencrosstab-rowAboveCellDropArea");this.makeBeforeAreaDroppable(a.oJqBeforeArea,"sapzencrosstab-columnBeforeCellDropArea")}}}};this.returnFromDimHeaderDropAccept=function(e,r,a){e.setRevertDrop(a);sap.zen.Dispatcher.instance.setDropAccepted(e.getId(),r);return r};function l(){var r;var o;var s;var i;i=n.getCellFromJqCell(this);r=sap.zen.Dispatcher.instance.getDragDropPayload();if(e.isBlocked()||!r||r&&r.oDragDropInfo.bIsMemberDrag){return a.returnFromDimHeaderDropAccept(i,false,true)}if(!t.checkAcceptExternalDimension(r)){return a.returnFromDimHeaderDropAccept(i,false,true)}if(!t.checkDroppableInArea(jQuery(this),t.determineValidHeaderRect())){return a.returnFromDimHeaderDropAccept(i,false,false)}s=e.getHeaderInfo().getDimensionInfoByRowCol(i);if(t.isExternalDropOnNonRemovableStructure(s,r)){return a.returnFromDimHeaderDropAccept(i,false,true)}if(t.isDragFromOtherCrosstab(r)){return a.returnFromDimHeaderDropAccept(i,false,true)}if(!t.checkAcceptCrossComponent(r)){return a.returnFromDimHeaderDropAccept(i,false,true)}if(r.oDragDropInfo){o=r.oDragDropInfo;if(s&&s.sDimensionName===o.sDimensionName){return a.returnFromDimHeaderDropAccept(i,false,true)}}else{return a.returnFromDimHeaderDropAccept(i,false,true)}return a.returnFromDimHeaderDropAccept(i,true,false)}function D(a){var o;var s;var i;var l;var D;if(t.checkDropAllowedOnCrosstabElement(a)){D=sap.zen.Dispatcher.instance.getDragDropPayload();if(D&&D.oDragDropInfo){l=n.getCellFromJqCell(this);o=D.oDragDropInfo.sDimensionName;s=e.getHeaderInfo().getDimensionInfoByRowCol(l);i=s?s.sDimensionName:null;if(o&&o.length>0&&i&&i.length>0){if(o!==i){var p=r.swapdimensionscommand.replace("__DIMENSION_NAME__",o);p=p.replace("__WITH_DIMENSION_NAME__",i);e.getUtils().executeCommandAction(p)}}}t.resetDragDrop()}}this.getTextForDragGhostCell=function(r,a,t){var o=null;var n;if(a.bIsMeasureStructure===true){o=t}else{if(r.isSplitPivotCell()===true){if(a.sAxisName==="ROWS"){n=e.getHeaderInfo().getDimensionInfoByCol(r.getTableCol())}else if(a.sAxisName==="COLS"){n=e.getHeaderInfo().getDimensionInfoByRow(r.getTableRow())}if(n){if(n.sAttributeName){o=n.sAttributeText}else{o=n.sDimensionText}}else{o=r.getText()}}else{o=r.getText()}}if(!o||o&&o.length===0){o=a.sDimensionText}return o};this.getDragGhostCellHtml=function(e,r,a){var t;var o;var n;var s;var i;var l;o=jQuery(document.getElementById(e.getId()));if(!r.bIsStructure){n=jQuery(document.getElementById(e.getId()+"_cellLayoutDiv"));s=n.outerWidth();l=s+"px"}else{l="100%"}t=this.getTextForDragGhostCell(e,r,a);i='<td class="'+o.attr("class")+" sapzencrosstab-DragHeaderCell"+'">';i+='<div style="width: '+l+'">'+t+"</div></td>";return i};this.createDimHeaderCellDragObject=function(r,a){var o=null;var n=0;var s;var i;var l;var D;var p;var c;if(a.bIsMeasureStructure===true){l=e.getPropertyBag().getText(sap.zen.crosstab.TextConstants.MEASURE_STRUCTURE_TEXT_KEY);D=1}else{D=r.length}i='<table id="'+e.getId()+'_dragghost" style="z-index: 9999;border-collapse: collapse" class="sapzencrosstab-DimensionHeaderArea"><tbody>';i+=t.getDeleteDragGhostCellRowHtml(a.sAxisName==="ROWS"?r.length:1);if(a.sAxisName==="ROWS"){s=r[0];p=jQuery(document.getElementById(s.getId())).outerHeight();i+='<tr style="height: '+p+'px">';for(n=0;n<D;n++){s=r[n];i+=this.getDragGhostCellHtml(s,a,l)}i+="</tr>"}else if(a.sAxisName==="COLS"){for(n=0;n<D;n++){s=r[n];p=jQuery(document.getElementById(s.getId())).outerHeight();i+='<tr style="height: '+p+'px">';i+=this.getDragGhostCellHtml(s,a,l);i+="</tr>"}}i+="</tbody></table>";o=jQuery(i);c=sap.zen.Dispatcher.instance.createDragDropPayload(e.getId());c.oDragDropInfo=t.buildDimensionDragDropInfo(a);sap.zen.Dispatcher.instance.setDragDropPayload(c);e.setDragAction(true);return o};function p(){var r;var o;var s;var i=[];r=n.getCellFromJqCell(this);if(r){t.setCurrentJqDragCell(jQuery(this));s=e.getHeaderInfo().getDimensionInfoByRowCol(r);i=e.getHeaderInfo().getCellsWithSameDimension(r);t.saveRevertCellPosInfo(r,i);o=a.createDimHeaderCellDragObject(i,s);t.setCursorAt(r,o)}return o}this.makeAboveAreaDroppable=function(r,o){var n=t.getAreaInfo(r);var s=function(r){var o;if(t.checkDropAllowedOnCrosstabElement(r)){if(t.isOnlyMeasuresMode()===true){o={};o.sDragDimensionName=t.getDimensionNameDromDragDropPayload();o.sDropAxisName="COLS";o.iDropAxisIndex=0}else{o=t.getCellInfoFromDropArea(r,"droparea_above");if(o){if(o.sDropAxisName==="ROWS"&&e.getTableMaxDimHeaderRow()===0){o.sDropAxisName="COLS";o.iDropAxisIndex=0}}}if(o){a.sendInsertDimensionCommand(o)}t.resetDragDrop()}};var i=function(e){return t.checkGenericDimMoveToAreasAccept(r,e,n.oDimInfo,n.oCell,"droparea_above",false)};t.makeDropAreaDroppable(r,o,i,s)};this.makeBelowAreaDroppable=function(r,o){var n=t.getAreaInfo(r);var s=function(r){var o;if(t.checkDropAllowedOnCrosstabElement(r)){o=t.getCellInfoFromDropArea(r,"droparea_below");if(o){if(o.bDropCellIsBottomRight===true){o.sDropAxisName="COLS";o.iDropAxisIndex=e.getHeaderInfo().getNumberOfDimensionsOnColsAxis()}else{o.iDropAxisIndex++}a.sendInsertDimensionCommand(o)}t.resetDragDrop()}};var i=function(e){return t.checkGenericDimMoveToAreasAccept(r,e,n.oDimInfo,n.oCell,"droparea_below",false)};t.makeDropAreaDroppable(r,o,i,s)};this.makeBeforeAreaDroppable=function(r,o){var n=t.getAreaInfo(r);var s=function(r){var o;if(t.checkDropAllowedOnCrosstabElement(r)){if(t.isOnlyMeasuresMode()===true){o={};o.sDragDimensionName=t.getDimensionNameDromDragDropPayload();o.sDropAxisName="ROWS";o.iDropAxisIndex=0}else{o=t.getCellInfoFromDropArea(r,"droparea_before");if(o){if(o.sDropAxisName==="COLS"&&e.getTableMaxDimHeaderCol()===0){o.sDropAxisName="ROWS";o.iDropAxisIndex=0}}}if(o){a.sendInsertDimensionCommand(o)}t.resetDragDrop()}};var i=function(e){return t.checkGenericDimMoveToAreasAccept(r,e,n.oDimInfo,n.oCell,"droparea_before",false)};t.makeDropAreaDroppable(r,o,i,s)};this.makeAfterAreaDroppable=function(r,o){var n=t.getAreaInfo(r);var s=function(r){var o;if(t.checkDropAllowedOnCrosstabElement(r)){o=t.getCellInfoFromDropArea(r,"droparea_after");if(o){if(o.bDropCellIsBottomRight===true){o.sDropAxisName="ROWS";o.iDropAxisIndex=e.getHeaderInfo().getNumberOfDimensionsOnRowsAxis()}else{o.iDropAxisIndex++}a.sendInsertDimensionCommand(o)}t.resetDragDrop()}};var i=function(e){var a=t.checkGenericDimMoveToAreasAccept(r,e,n.oDimInfo,n.oCell,"droparea_after",true);return a};t.makeDropAreaDroppable(r,o,i,s)};this.enableDimHeaderDropAreas=function(){var r=jQuery(document.getElementById(e.getId()));var t=null;var o=null;var n=null;var s=null;var i=null;var l=null;t="sapzencrosstab-columnBeforeCellDropArea";o=r.find("."+t);jQuery.each(o,function(e,r){a.makeBeforeAreaDroppable(jQuery(r),t)});t="sapzencrosstab-columnAfterCellDropArea";n=r.find("."+t);jQuery.each(n,function(e,r){a.makeAfterAreaDroppable(jQuery(r),t)});t="sapzencrosstab-columnAfterCellDropAreaWithSort";s=r.find("."+t);jQuery.each(s,function(e,r){a.makeAfterAreaDroppable(jQuery(r),t)});t="sapzencrosstab-rowAboveCellDropArea";i=r.find("."+t);jQuery.each(i,function(e,r){a.makeAboveAreaDroppable(jQuery(r),t)});t="sapzencrosstab-rowBelowCellDropArea";l=r.find("."+t);jQuery.each(l,function(e,r){a.makeBelowAreaDroppable(jQuery(r),t)})};this.getPivotCellAreaFromMouseCoordinates=function(r,a){var t=null;var o=document.getElementById(a.getId()+"_dragarea_cols");var n=o.getBoundingClientRect();var s=r.clientX-n.left;var i=r.clientY-n.top;var l=s*n.height/n.width;if(e.getPropertyBag().isRtl()){l=n.height-l}i>l?t="ROWS":t="COLS";return t};function c(r){var o;var s;var i;var l=null;var D;var p;var c;c=n.getCellFromJqCell(this);s=c.getTableCol();i=c.getTableRow();o=a.getPivotCellAreaFromMouseCoordinates(r,c);if(o==="ROWS"){D=e.getHeaderInfo().getDimensionInfoByCol(s)}else if(o==="COLS"){D=e.getHeaderInfo().getDimensionInfoByRow(i)}l=e.getHeaderInfo().getCellsWithSameDimensionByDimInfo(D);t.saveRevertCellPosInfo(c,l,o);p=a.createDimHeaderCellDragObject(l,D);t.setCursorAt(c,p);return p}this.makeSplitPivotCellDraggable=function(e,r){o.renderSplitPivotCellDragAreas(e,r);t.makeCellDraggable(r,c)};this.enableDimHeaderNonPivotCells=function(){var r=0;var a=0;var o=i.getTableRow();var n=i.getTableCol();var s=null;var c=null;while(a<n){s=e.getTableCellWithColSpan(o,a);if(s){c=jQuery(document.getElementById(s.getId()));t.makeCellDraggable(c,p);t.makeCellDroppable(c,l,D);a=a+s.getColSpan()}}while(r<o){s=e.getTableCellWithRowSpan(r,n);if(s){c=jQuery(document.getElementById(s.getId()));t.makeCellDraggable(c,p);t.makeCellDroppable(c,l,D);r=r+s.getRowSpan()}}};this.isNonSplitPivotCellDragDropEnabled=function(){var r=true;if(i&&!i.isSplitPivotCell()){if(i.getScalingAxis()==="COLS"){r=e.getHeaderInfo().hasDimensionsOnRowsAxis()}else if(i.getScalingAxis()==="ROWS"){r=e.getHeaderInfo().hasDimensionsOnColsAxis()}}return r};this.enableDimHeaderPivotCell=function(){var e;if(i){e=jQuery(document.getElementById(i.getId()));if(i.isPivotCell()===true&&i.isSplitPivotCell()===true){this.makeSplitPivotCellDraggable(i,e)}else{if(this.isNonSplitPivotCellDragDropEnabled()){t.makeCellDraggable(e,p);t.makeCellDroppable(e,l,D)}}}};this.onUnhandledDrop=function(a,o,n){var i;var l=false;var D=false;if(sap.zen.Dispatcher.instance.isDragDropCanceled()){return}if(!n){sap.zen.Dispatcher.instance.setDragDropCanceled(true);return}if(t.checkMouseInRenderSizeDiv(a)===true){sap.zen.Dispatcher.instance.setDragDropCanceled(true)}else if(n&&n.oDragDropInfo){i=n.oDragDropInfo;if(i.bIsMemberDrag){s.removeMember(a,o,i)}else{l=i.bIsStructure;D=i.bIsRemoveStructureAllowed;if(l&&!D){sap.zen.Dispatcher.instance.setDragDropCanceled(true)}else{if(i.sDimensionName&&i.sDimensionName.length>0){var p=r.removedimensioncommand.replace("__DIMENSION_NAME__",i.sDimensionName);e.getUtils().executeCommandAction(p)}else{sap.zen.Dispatcher.instance.setDragDropCanceled(true)}}}}};this.onEscKeyPressed=function(){var e;sap.zen.Dispatcher.instance.setDragDropCanceled(true);e=t.getCurrentJqDragCell();if(e){e.draggable().trigger("mouseup")}else{t.resetDragDrop()}n.cleanupDropCells();n.cleanupDropAreas()};this.repositionDropAreasForHeaderScrolling=function(){o.repositionDropAreasForHeaderScrolling()};this.sendInsertDimensionCommand=function(a){var t=r.insertdimensioncommand;if(a&&t&&t.length>0){t=t.replace("__DIMENSION_NAME__",a.sDragDimensionName);t=t.replace("__AXIS__",a.sDropAxisName);t=t.replace("__AXIS_INDEX__",a.iDropAxisIndex);e.getUtils().executeCommandAction(t)}};this.registerCrosstabAsDropHandler=function(){var r;r=jQuery(document.getElementById(e.getId()));if(!r.hasClass("ui-droppable")){r.droppable({greedy:true,accept:function(){return true},drop:function(e,r){if(!e.buttons){sap.zen.Dispatcher.instance.onUnhandledDrop(e,r)}}})}}};return sap.zen.crosstab.dragdrop.DragDropHandler});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/dragdrop/DragDropHoverManager", ["jquery.sap.global"],function(jQuery){"use strict";jQuery.sap.declare("sap.zen.crosstab.dragdrop.DragDropHoverManager");sap.zen.crosstab.dragdrop.DragDropHoverManager=function(e){var r=this;var a={};var t=null;var l;var o=false;var s;this.init=function(e){l=e};this.getCellFromId=function(e){var r=sap.ui.getCore().getControl(e);return r};this.getCellFromJqCell=function(e){var r=jQuery(e).attr("id");return this.getCellFromId(r)};this.findAllDroppableCells=function(){var r;var a;var t;t=sap.zen.Dispatcher.instance.getDragDropPayload();if(!t){return[]}if(t.oDragDropInfo.bIsMemberDrag){a=t.oDragDropInfo.sAxisName==="ROWS"?e.getRowHeaderAreaDiv():e.getColHeaderAreaDiv()}else{a=e.getDimHeaderAreaDiv()}r=a.find("td .ui-droppable, .ui-droppable-disabled");return r};this.getDropCell=function(e){var a;var t;var l;a=this.findAllDroppableCells();jQuery.each(a,function(a,o){t=o.getBoundingClientRect();if(e.clientX>t.left&&e.clientX<t.right){if(e.clientY>t.top&&e.clientY<t.bottom){l=r.getCellFromJqCell(o);return false}}});return l};this.getCellsForDimensionDrop=function(r){var a;var t;var o;var s=null;a=e.getHeaderInfo().getDimensionInfoByRowCol(r);t=sap.zen.Dispatcher.instance.getDragDropPayload();if(!l.isExternalDropOnNonRemovableStructure(a,t)){o=t.oDragDropInfo;if(o.sDimensionName!==a.sDimensionName&&!sap.zen.Dispatcher.instance.isDragDropCanceled()&&!r.isRevertDrop()){s=e.getHeaderInfo().getCellsWithSameDimension(r)}}return s};this.getCellsForMemberDrop=function(r){var a;var t;var o;a=e.getHeaderInfo().getDimensionInfoForMemberCell(r);t=sap.zen.Dispatcher.instance.getDragDropPayload().oDragDropInfo;if(t.sDimensionName===a.sDimensionName&&!sap.zen.Dispatcher.instance.isDragDropCanceled()&&!r.isRevertDrop()){if(e.getPropertyBag().isRepeatTexts()){o=l.getAllMemberCellsInRowOrCol(r)}else{o=e.getHeaderInfo().getMemberCellsForSameDimension(r)}}return o};this.provideDropCellHoverEffect=function(e){var r;var a;var t;var l;var o;var s;o=sap.zen.Dispatcher.instance.getDragDropPayload();if(!o){return}if(e){if(!o.oDragDropInfo.bIsMemberDrag){r=this.getCellsForDimensionDrop(e)}else{r=this.getCellsForMemberDrop(e)}s=this.getDropCellClassName();if(r){for(a=0;a<r.length;a++){t=r[a];l=jQuery(document.getElementById(t.getId()));l.addClass(s);if(l.hasClass("sapzencrosstab-HeaderCellAlternating")){l.removeClass("sapzencrosstab-HeaderCellAlternating");l.data("bAlternating",true)}l.removeClass("sapzencrosstab-HeaderCellAlternating")}}}};this.cleanupDropCells=function(){var a=r.getDropCellClassName();var t;var l=e.getRenderSizeDiv().find("."+a);jQuery.each(l,function(e,r){t=jQuery(r);t.removeClass(a);if(t.data("bAlternating")===true){t.addClass("sapzencrosstab-HeaderCellAlternating")}})};this.getDropCellClassName=function(){var e=sap.zen.Dispatcher.instance.getDragDropPayload();if(!e){return null}if(e.oDragDropInfo.bIsMemberDrag){return"sapzencrosstab-DropMemberCell"}else{return"sapzencrosstab-DropHeaderCell"}};this.doOnDropCellOver=function(e,a){var o;if(!t){o=jQuery(document.getElementById(e.getId()));if(l.checkMouseInRenderSizeDiv(a)){if(!o.hasClass(r.getDropCellClassName())){r.cleanupDropCells();r.provideDropCellHoverEffect(e)}}else{o.droppable().trigger("mouseout")}}};this.onDropCellOver=function(e){s=r.getCellFromId(e.target.id);s=l.getEffectiveCell(s);r.doOnDropCellOver(s,e)};this.doOnDropCellOut=function(e){var a;if(!t){r.cleanupDropCells();if(e){a=jQuery(document.getElementById(e.getId()));if(!a.hasClass(r.getDropCellClassName())){r.provideDropCellHoverEffect(e)}}}};this.onDropCellOut=function(e){var a=r.getDropCell(e);a=l.getEffectiveCell(a);r.doOnDropCellOut(a)};this.disableDropCell=function(e){var r;if(!a[e.getId()]){r=jQuery(document.getElementById(e.getId()));if(r.hasClass("ui-droppable")){r.droppable("disable");r.removeClass(this.getDropCellClassName());a[e.getId()]=r}}};this.getDisableDimHeaderDropCellsForArea=function(r,a){var t;var l;var o=e.getTableMaxDimHeaderRow();var s=e.getTableMaxDimHeaderCol();var n;var i;var p;p=e.getHeaderInfo().getCellsWithSameDimension(a);if(!p){return[]}if(r==="droparea_above"||r==="droparea_below"){l=a.getTableRow();n=0;while(n<=s){i=e.getTableCellWithColSpan(l,n);if(i){n=n+i.getColSpan();p.push(i)}else{n++}}}else if(r==="droparea_before"||r==="droparea_after"){t=a.getTableCol();n=0;while(n<=o){i=e.getTableCellWithRowSpan(n,t);if(i){n=n+i.getRowSpan();p.push(i)}else{n++}}}return p};this.getDisableMemberDropCellsForArea=function(r,a){var t;var l;var o;var s;var n;var i;var p;var d;var g;var f;t=e.getHeaderInfo().getMemberCellsForSameDimension(a);if((r==="droparea_above"||r==="droparea_below")&&e.hasRowHeaderArea()){l=e.getRowHeaderArea();d=Math.max(a.getRow(),l.getRenderStartRow());i=l.getRenderStartCol();p=i+l.getRenderColCnt()-1;g=i;while(g<=p){f=l.getCellWithRowSpan(d,g);if(f){if(r==="droparea_below"){if(a.getRow()===f.getRow()+f.getRowSpan()-1){t.push(f)}}else{if(a.getRow()===f.getRow()){t.push(f)}}g=g+f.getColSpan()}else{g++}}}else if((r==="droparea_before"||r==="droparea_after")&&e.hasColHeaderArea()){o=e.getColumnHeaderArea();g=Math.max(a.getCol(),o.getRenderStartCol());s=o.getRenderStartRow();n=s+o.getRenderRowCnt()-1;d=s;while(d<=n){f=o.getCellWithColSpan(d,g);if(f){if(r==="droparea_after"){if(a.getCol()===f.getCol()+f.getColSpan()-1){t.push(f)}}else{if(a.getCol()===f.getCol()){t.push(f)}}d=d+f.getRowSpan()}else{d++}}}return t};this.disableDropCellsForArea=function(e,r){var a;var t;var l;var o;o=sap.zen.Dispatcher.instance.getDragDropPayload();if(!o){return}if(o.oDragDropInfo.bIsMemberDrag){a=this.getDisableMemberDropCellsForArea(e,r)}else{a=this.getDisableDimHeaderDropCellsForArea(e,r)}for(l=0;l<a.length;l++){t=a[l];this.disableDropCell(t)}};this.cleanupDropAreas=function(){if(t){jQuery.each(a,function(e,r){if(r.hasClass("ui-droppable-disabled")){r.droppable("enable")}});a={};t=null}};this.onDropAreaOver=function(e){var a;var o;var s;r.cleanupDropAreas();t=jQuery(document.getElementById(e.target.id));if(!l.isOnlyMeasuresMode()){r.cleanupDropCells();a=t.data("xtabcellid");s=l.getDropAreaTypeFromDropAreaId(e.target.id);o=sap.ui.getCore().getControl(a);r.disableDropCellsForArea(s,o)}};this.onDropAreaOut=function(e){var o;if(!l.isOnlyMeasuresMode()){r.cleanupDropCells()}if(t){jQuery.each(a,function(e,r){if(r.hasClass("ui-droppable-disabled")){r.droppable("enable")}});if(!l.isOnlyMeasuresMode()){o=r.getDropCell(e);if(o){r.provideDropCellHoverEffect(o)}}a={};t=null}};this.getCurrentDropArea=function(){return t};this.provideDraggableCellCursor=function(e){e.on("mouseenter",function(){jQuery(this).css("cursor","move");jQuery(this).find("div").not(".sapzencrosstab-HeaderCellDivSortable, .sapzencrosstab-columnResizeHandle, .sapzencrosstab-columnResizeHandleWithSort, .sapzencrosstab-HeaderCellDivHierarchy").css("cursor","move")});e.on("mouseleave",function(){jQuery(this).css("cursor","default");jQuery(this).find("div").not(".sapzencrosstab-HeaderCellDivSortable, .sapzencrosstab-columnResizeHandle, .sapzencrosstab-columnResizeHandleWithSort, .sapzencrosstab-HeaderCellDivHierarchy").css("cursor","default")});e.draggable("option","drag",function(e,a){var t=l.checkMouseInRenderSizeDiv(e);var n;var i;l.setCurrentDragHelper(jQuery(a.helper));if(!t){n=a.helper.find(".sapzencrosstab-HeaderCellAlternating");jQuery.each(n,function(e,r){if(r){jQuery(r).removeClass("sapzencrosstab-HeaderCellAlternating");jQuery(r).addClass("sapzencrosstab-AlternatingDummy")}});jQuery(a.helper).find(".sapzencrosstab-Trashcan").show();if(!o){r.cleanupDropCells();o=true}}else{jQuery(a.helper).find(".sapzencrosstab-Trashcan").hide();n=a.helper.find(".sapzencrosstab-AlternatingDummy");jQuery.each(n,function(e,r){if(r){jQuery(r).addClass("sapzencrosstab-HeaderCellAlternating");jQuery(r).removeClass("sapzencrosstab-AlternatingDummy")}});if(o){if(s){i=l.findCell(jQuery(e.toElement));if(i&&i.getId()===s.getId()){r.doOnDropCellOver(s,e)}}o=false}}})}};return sap.zen.crosstab.dragdrop.DragDropHoverManager});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/dragdrop/DragDropUtils", ["jquery.sap.global","sap/base/Log","sap/zen/crosstab/utils/Utils"],function(jQuery,e){"use strict";e.info("loaded drag drop utils");jQuery.sap.declare("sap.zen.crosstab.dragdrop.DragDropUtils");sap.zen.crosstab.dragdrop.DragDropUtils=function(e){var r=e.getHeaderInfo();var t;var o;var i;var a=this;var n=false;this.init=function(e){o=e};this.setOnlyMeasuresMode=function(e){n=e};this.isOnlyMeasuresMode=function(){return n};this.getDimensionNameDromDragDropPayload=function(){var e=sap.zen.Dispatcher.instance.getDragDropPayload();var r=null;var t=null;if(e){t=e.oDragDropInfo;if(t){r=t.sDimensionName}}return r};this.getAreaInfo=function(r,t){var o={};var i;i=r.data("xtabcellid");o.oJqCell=jQuery(document.getElementById(i));o.oCell=sap.ui.getCore().getControl(o.oJqCell.attr("id"));o.oDimInfo=e.getHeaderInfo().getDimensionInfoByRowCol(o.oCell,t);return o};this.getCellInfoFromDropArea=function(t,o){var i;var a;var n;var s;var l=-1;var p=-1;var g;var u;var d;if(o==="droparea_above"||o==="droparea_below"){g="COLS"}else if(o==="droparea_before"||o==="droparea_after"){g="ROWS"}d=jQuery(document.getElementById(t.target.id));u=this.getAreaInfo(d,g);i=u.oDimInfo;n=u.oCell;s=this.getDimensionNameDromDragDropPayload();if(n&&s&&i){p=n.getTableRow();l=n.getTableCol();a={};a.sDropDimensionName=i.sDimensionName;a.oDropCell=n;a.iDropCellTableRow=p;a.iDropCellTableCol=l;a.bDropCellIsBottomRight=p===e.getTableMaxDimHeaderRow()&&l===e.getTableMaxDimHeaderCol();a.sDragDimensionName=s;a.sDropAxisName=i.sAxisName;if(a.sDropAxisName==="ROWS"){a.iDropAxisIndex=r.getAbsoluteColIndexForDimension(a.sDropDimensionName)}else if(a.sDropAxisName==="COLS"){a.iDropAxisIndex=r.getAbsoluteRowIndexForDimension(a.sDropDimensionName)}}return a};this.isExternalDropOnNonRemovableStructure=function(e,r){var t=false;if(this.isInterComponentDrag(r)){if(!e){return false}return e.bIsStructure&&!e.bIsRemoveStructureAllowed}return t};this.isInterComponentDrag=function(r){return r.sComponentId!==e.getId()};this.checkAcceptCrossComponent=function(e){if(!sap.zen.Dispatcher.instance.isInterComponentDragDropEnabled()){if(this.isInterComponentDrag(e)){return false}}return true};this.isDragFromOtherCrosstab=function(r){var t;var o;o=sap.zen.Dispatcher.instance.getControlForId(r.sComponentId);t=o.zenControlType&&o.zenControlType==="xtable"&&r.sComponentId!==e.getId();return t};this.getCrosstabHeaderCellFromDraggable=function(e){var r=sap.ui.getCore().byId(e.attr("id"));if(r){if(r.isHeaderCell&&r.isHeaderCell()){return r}}return null};this.getAxisNameFromAreaType=function(e){if(e==="droparea_above"||e==="droparea_below"){return"COLS"}return"ROWS"};this.checkDropAreaAccept=function(t,o,i,a){var n;var s=-1;var l=-1;var p=-1;var g=e.getTableMaxDimHeaderRow();var u=e.getTableMaxDimHeaderCol();var d=null;var c;var f;var D;var m;var h;if(this.isDragFromOtherCrosstab(i)===true){return false}m=this.getAxisNameFromAreaType(a);s=o.getTableRow();l=o.getTableCol();D=r.getDimensionInfoByRowCol(o,m);f=i.oDragDropInfo.sAxisName;if(!f||f&&f.length===0){f=m}if(i.sComponentId===e.getId()){n=this.getCrosstabHeaderCellFromDraggable(t);if(n.getId()===o.getId()){if(f!==D.sAxisName){return true}}}if(D){c=i.oDragDropInfo.sDimensionName;if(c===D.sDimensionName){return false}h=a==="droparea_above"||a==="droparea_before";if(!h&&f===D.sAxisName){if(D.sAxisName=="ROWS"){p=l+o.getColSpan();if(p<=u){d=r.getDimensionInfoByCol(p)}}else if(D.sAxisName==="COLS"){p=s+o.getRowSpan();if(p<=g){d=r.getDimensionInfoByRow(p)}}if(d){if(d.sDimensionName===c){return false}}}}else{return false}return true};this.returnFromGenericDimMoveToAreasCheck=function(e,r){e.data("xtabrevertdrop",!r);sap.zen.Dispatcher.instance.setDropAccepted(e.attr("id"),r);return r};this.checkAcceptExternalDimension=function(r){if(r&&r.oDragDropInfo){if(this.isInterComponentDrag(r)){if(e.getHeaderInfo().isDimensionInCrosstab(r.oDragDropInfo.sDimensionName)){return false}}}return true};this.checkGenericDimMoveToAreasAccept=function(r,t,i,a,s,l){var p;var g=o.getCurrentDropArea();p=sap.zen.Dispatcher.instance.getDragDropPayload();if(e.isBlocked()||!p||p&&p.oDragDropInfo.bIsMemberDrag){return this.returnFromGenericDimMoveToAreasCheck(r,false)}if(!this.checkAcceptExternalDimension(p)){return this.returnFromGenericDimMoveToAreasCheck(r,false)}if(l){if(!this.checkDroppableInArea(r,this.determineValidHeaderRect())){return this.returnFromGenericDimMoveToAreasCheck(r,false)}}if(g){if(r.attr("id")!==g.attr("id")){return this.returnFromGenericDimMoveToAreasCheck(r,false)}}if(this.isInterComponentDrag(p)){if(!this.checkAcceptCrossComponent(p)){return this.returnFromGenericDimMoveToAreasCheck(r,false)}}if(!n){if(!this.checkDropAreaAccept(t,a,p,s)){return this.returnFromGenericDimMoveToAreasCheck(r,false)}}return this.returnFromGenericDimMoveToAreasCheck(r,true)};this.checkMouseInRenderSizeDiv=function(r){var t=false;var o;o=e.getRenderSizeDiv()[0].getBoundingClientRect();t=r.clientX>o.left&&r.clientX<o.right;t=t&&(r.clientY>o.top&&r.clientY<o.bottom);return t};this.determineValidHeaderRect=function(){var r;var t;r=e.getDimHeaderAreaDiv();if(r.length===0){r=e.getRowHeaderAreaDiv()}t=this.getBoundingClientRect(r[0]);return t};this.checkDroppableInArea=function(r,t){var o;if(!e.isHeaderHScrolling()){return true}o=r[0].getBoundingClientRect();if(o.right>t.left&&o.right<t.right||(o.left<t.right&&o.right>t.right||o.left>t.left&&o.right<t.right)){return true}return false};this.setCurrentJqDragCell=function(e){t=e};this.getCurrentJqDragCell=function(){return t};this.checkDragRevert=function(e){var r;var t;var o;var i;var n;i=jQuery(this).data("oRevertPosInfo");if(i){n=a.getRevertPosition(i);jQuery(this).data("uiDraggable").originalPosition=n}if(!sap.zen.Dispatcher.instance.isDragDropCanceled()){t=jQuery(e).data("xtabcellid");if(t&&t.length>0){o=jQuery(e).data("xtabrevertdrop");return o}else{t=jQuery(e).attr("id");r=sap.ui.getCore().getControl(t);if(r&&r.isRevertDrop){return r.isRevertDrop()}return false}}return true};this.resetDragDrop=function(){sap.zen.Dispatcher.instance.setDragDropCanceled(false);e.setDragAction(false);i=null};this.buildDimensionDragDropInfo=function(e){var r={};if(e){if(e.sDimensionName&&e.sDimensionName.length>0){r.sDimensionName=e.sDimensionName}if(e.sAttributeName&&e.sAttributeName.length>0){r.sAttributeName=e.sAttributeName}if(e.sAxisName&&e.sAxisName.length>0){r.sAxisName=e.sAxisName}if(e.bIsMeasureStructure===true){r.bIsMeasureStructure=true}if(e.bIsStructure===true){r.bIsStructure=true;r.bIsRemoveStructureAllowed=e.bIsRemoveStructureAllowed}}r.bIsMemberDrag=false;r.iMemberRow=-1;r.iMemberCol=-1;return r};this.makeDropAreaDroppable=function(e,r,t,i){e.droppable();e.droppable("option","hoverClass",r+"Active");e.droppable("option","addClasses",false);e.droppable("option","greedy",true);e.droppable("option","tolerance","pointer");e.droppable("option","accept",t);e.droppable("option","drop",i);e.droppable("option","over",o.onDropAreaOver);e.droppable("option","out",o.onDropAreaOut)};this.makeCellDroppable=function(e,r,t){e.droppable();e.droppable("option","addClasses",false);e.droppable("option","greedy",true);e.droppable("option","tolerance","pointer");e.droppable("option","accept",r);e.droppable("option","drop",t);e.droppable("option","over",o.onDropCellOver);e.droppable("option","out",o.onDropCellOut)};this.makeCellDraggable=function(r,t){r.draggable();r.draggable("option","cursor","move");r.draggable("option","cursorAt",{top:-5});r.draggable("option","appendTo",document.getElementById(e.getId()));r.draggable("option","addClasses",true);r.draggable("option","helper",t);r.draggable("option","revert",this.checkDragRevert);r.draggable("option","stop",this.resetDragDrop);o.provideDraggableCellCursor(r);jQuery(r.draggable()).mousedown(function(e){if(sap.zen.crosstab.utils.Utils.isDispatcherAvailable){sap.zen.Dispatcher.instance.closeContextMenu()}sap.zen.crosstab.utils.Utils.cancelEvent(e)})};this.getDropAreaTypeFromDropAreaId=function(e){return e.substring(e.indexOf("droparea_"))};this.checkDropAllowedOnCrosstabElement=function(e){return!sap.zen.Dispatcher.instance.isDragDropCanceled()&&!e.buttons&&this.checkMouseInRenderSizeDiv(e)};this.findCell=function(r){var t=r.closest("div");var o=e.getUtils().getCellIdFromContenDivId(t.attr("id"));var i=sap.ui.getCore().byId(o);return i};this.getBoundingClientRect=function(r){return e.getUtils().getRtlAwareBoundingClientRect(r)};this.getDeleteDragGhostCellRowHtml=function(r){var t="<tr><td colspan="+r+">";t+='<div id="'+e.getId()+'_dragtrash" class="sapzencrosstab-Trashcan"></div>';t+="</td></tr>";return t};this.setCurrentDragHelper=function(e){i=e};this.saveRevertCellPosInfo=function(e,r,t){var o={};var i;o.oCell=e;o.aCells=r;o.sAxisName=t;i=jQuery(document.getElementById(e.getId()));i.data("oRevertPosInfo",o)};this.getRevertPosition=function(r){var t;var o;var a;var n;var s=r.oCell;var l=r.aCells;var p=r.sAxisName;n=l[0];t=jQuery(document.getElementById(n.getId()));o=t.position();if(e.getPropertyBag().isRtl()||s.isSplitPivotCell()){if(l.length>1){n=l[l.length-1];t=jQuery(document.getElementById(n.getId()))}}if(e.getPropertyBag().isRtl()){o.left=t.position().left+(e.isVScrolling()?e.getRenderEngine().getMeasuringHelper().getBrowserScrollbarWidth():0)}if(n.isSplitPivotCell()&&p&&p==="COLS"){a=e.getUtils().getRtlAwareBoundingClientRect(t[0]);if(e.getPropertyBag().isRtl()){o.left=o.left-(i?Math.round(i.outerWidth()/2):Math.round(a.width/2))}else{o.left=o.left+Math.round(a.width/2)}}return o};this.setCursorAt=function(r,t){var o=0;var i=0;var a=jQuery(document.getElementById(e.getId()));var n=jQuery(document.getElementById(r.getId()));a.append(t);o=t.outerWidth();t.remove();i=Math.round(o/2);n.draggable("option","cursorAt",{top:-5,left:i})};this.getAllMemberCellsInRowOrCol=function(e){var r=e.getArea();var t=0;var o;var i=[];if(r.isRowHeaderArea()){while(t<r.getColCnt()){o=r.getCellWithColSpan(e.getRow(),t);if(o){i.push(o);t=t+o.getColSpan()}else{t++}}}else if(r.isColHeaderArea()){while(t<r.getRowCnt()){o=r.getCellWithRowSpan(t,e.getCol());if(o){i.push(o);t=t+o.getRowSpan()}else{t++}}}return i};this.getEffectiveCell=function(r){var t=r;var o=null;if(r&&e.getPropertyBag().isRepeatTexts()){o=r.getArea();if(o.isRowHeaderArea()){t=o.getCellWithColSpan(r.getRow(),o.getColCnt()-1)}else if(o.isColHeaderArea()){t=o.getCellWithRowSpan(o.getRowCnt()-1,r.getCol())}}return t}};return sap.zen.crosstab.dragdrop.DragDropUtils});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/dragdrop/MemberDragDropHandler", ["jquery.sap.global","sap/zen/crosstab/dragdrop/DragDropUtils","sap/zen/crosstab/dragdrop/DragDropAreaRenderer","sap/zen/crosstab/dragdrop/DragDropHoverManager","sap/zen/crosstab/TextConstants","sap/zen/crosstab/utils/Utils"],function(jQuery){"use strict";jQuery.sap.declare("sap.zen.crosstab.dragdrop.MemberDragDropHandler");sap.zen.crosstab.dragdrop.MemberDragDropHandler=function(e,r,t,a,i){var o=this;var l;var n;var s;var g;var f={sIdSuffix:"member_droparea_above",sCssClassName:"sapzencrosstab-rowAboveCellMemberDropArea"};var C={sIdSuffix:"member_droparea_below",sCssClassName:"sapzencrosstab-rowBelowCellMemberDropArea"};var d={sIdSuffix:"member_droparea_before",sCssClassName:"sapzencrosstab-columnBeforeCellMemberDropArea"};var p={sIdSuffix:"member_droparea_after",sCssClassName:"sapzencrosstab-columnAfterCellMemberDropArea"};this.init=function(r){g=e.getPropertyBag().isRepeatTexts();s=r;l=t.getBoundingClientRect(e.getRowHeaderAreaDiv()[0]);n=t.getBoundingClientRect(e.getColHeaderAreaDiv()[0]);this.removeRowHeaderDropAreas();this.enableMemberDragDrop()};this.removeRowHeaderDropAreas=function(){var r;if(!e.getPropertyBag().isPixelScrolling()){r=e.getRenderSizeDiv();r.find(".sapzencrosstab-rowAboveCellMemberDropArea").remove();r.find(".sapzencrosstab-rowBelowCellMemberDropArea").remove();r.find(".sapzencrosstab-columnBeforeCellMemberDropArea").remove();r.find(".sapzencrosstab-columnAfterCellMemberDropArea").remove()}};this.getMemberCellHtml=function(e){var r;var t;var a;var i;r=jQuery(document.getElementById(e.getId()));t=jQuery(document.getElementById(e.getId()+"_cellLayoutDiv"));a=t.outerWidth();i='<td class="'+r.attr("class")+" sapzencrosstab-DragHeaderCell"+'">';i+='<div style="width: '+a+'px">'+e.getText()+"</div></td>";return i};this.createMemberCellDragObject=function(r,a){var i;var o;var l;var n;var s;var g;var f;if(r.getArea().isRowHeaderArea()){o="sapzencrosstab-RowHeaderArea"}else if(r.getArea().isColHeaderArea()){o="sapzencrosstab-ColumnHeaderArea"}i='<table style="z-index: 9999;border-collapse: collapse" class="'+o+'"><tbody>';g=a.length;i+=t.getDeleteDragGhostCellRowHtml(g);if(r.getArea().isRowHeaderArea()){l=a[0];n=jQuery(document.getElementById(l.getId())).outerHeight();i+='<tr style="height: '+n+'px">';for(s=0;s<g;s++){l=a[s];i+=this.getMemberCellHtml(l)}i+="</tr>"}else if(r.getArea().isColHeaderArea()){for(s=0;s<g;s++){l=a[s];n=jQuery(document.getElementById(l.getId())).outerHeight();i+='<tr style="height: '+n+'px">';i+=this.getMemberCellHtml(l);i+="</tr>"}}i+="</tbody></table>";f=jQuery(i);e.setDragAction(true);return f};this.restrictDropIndexLimitsForHierarchyMember=function(r,t,a){var i=e.getRowHeaderArea();var o=e.getColumnHeaderArea();var l;var n;var s;var g=-1;var f=-1;var C=null;var d=null;if(r.getAlignment()==="TOP"||r.getAlignment==="DEFAULT"){if(a==="ROWS"){for(l=t.iMinIndex;l<=t.iMaxIndex;l++){s=i.getCellWithRowSpan(l,r.getCol(),true);if(s&&s.getLevel()===r.getLevel()&&s.getParentMemberId()===r.getParentMemberId()){if(g<0){g=l}else{C=s}}}if(g>-1){t.iMinIndex=g}if(C){t.iMaxIndex=C.getRow()+C.getRowSpan()-1}}else if(a==="COLS"){for(n=t.iMinIndex;n<=t.iMaxIndex;n++){s=o.getCellWithColSpan(r.getRow(),n,true);if(s&&s.getLevel()===r.getLevel()&&s.getParentMemberId()===r.getParentMemberId()){if(g<0){g=n}else{C=s}}}if(g>-1){t.iMinIndex=g}if(C){t.iMaxIndex=C.getCol()+C.getColSpan()-1}}}else{if(a==="ROWS"){for(l=t.iMaxIndex;l>=t.iMinIndex;l--){s=i.getCellWithRowSpan(l,r.getCol(),true);if(s&&s.getLevel()===r.getLevel()&&s.getParentMemberId()===r.getParentMemberId()){if(f<0){f=l}else{d=s}}}if(d){t.iMinIndex=d.getRow()}if(f>-1){t.iMaxIndex=f}}else if(a==="COLS"){for(n=t.iMaxIndex;n>=t.iMinIndex;n--){s=o.getCellWithColSpan(r.getRow(),n,true);if(s&&s.getLevel()===r.getLevel()&&s.getParentMemberId()===r.getParentMemberId()){if(f<0){f=n}else{d=s}}}if(d){t.iMinIndex=d.getCol()}if(f>-1){t.iMaxIndex=f}}}return t};this.filterResultCellsFromDropIndexLimits=function(r,t,a){var i;var o=e.getRowHeaderArea();var l=e.getColumnHeaderArea();var n;var s;if(a==="ROWS"){n=r.iMinIndex;i=o.getCellWithRowSpan(n,t.getCol());if(!i){i=o.getCellWithColSpan(n,t.getCol())}while(i&&i.isResult()&&n<r.iMaxIndex){r.iMinIndex=i.getRow()+i.getRowSpan();n++;i=o.getCellWithColSpan(n,t.getCol())}n=r.iMaxIndex;i=o.getCellWithRowSpan(n,t.getCol());if(!i){i=o.getCellWithColSpan(n,t.getCol())}while(i&&i.isResult()&&n>r.iMinIndex){r.iMaxIndex=i.getRow()-1;n--;i=o.getCellWithColSpan(n,t.getCol())}}else if(a==="COLS"){s=r.iMinIndex;i=l.getCellWithColSpan(t.getRow(),s);if(!i){i=l.getCellWithRowSpan(n,t.getCol())}while(i&&i.isResult()&&s<r.iMaxIndex){r.iMinIndex=i.getCol()+i.getColSpan();s++;i=l.getCellWithRowSpan(t.getRow(),s)}s=r.iMaxIndex;i=l.getCellWithColSpan(t.getRow(),s);if(!i){i=l.getCellWithRowSpan(n,t.getCol())}while(i&&i.isResult()&&n>r.iMinIndex){r.iMaxIndex=i.getCol()-1;s--;i=l.getCellWithRowSpan(t.getRow(),s)}}return r};this.determineDropIndexLimitsFromPeerCell=function(r,t){var a=0;var i;var o;var l;var n;var s={};s.iMinIndex=-1;s.iMaxIndex=-1;if(g&&r.getMergeKey()&&r.getMergeKey().length>0){if(t==="COLS"){l=e.getColHeaderArea();i=l.getRenderStartCol();o=i+l.getRenderColCnt();for(a=i;a<o&&s.iMaxIndex===-1;a++){n=l.getCell(r.getRow(),a);if(n.getMergeKey()===r.getMergeKey()&&s.iMinIndex===-1){s.iMinIndex=a}if(n.getMergeKey()!==r.getMergeKey()&&s.iMinIndex>-1){s.iMaxIndex=a-1}}}else{l=e.getRowHeaderArea();i=l.getRenderStartRow();o=i+l.getRenderRowCnt();for(a=i;a<o&&s.iMaxIndex===-1;a++){n=l.getCell(a,r.getCol());if(n.getMergeKey()===r.getMergeKey()&&s.iMinIndex===-1){s.iMinIndex=a}if(n.getMergeKey()!==r.getMergeKey()&&s.iMinIndex>-1){s.iMaxIndex=a-1}}}if(s.iMaxIndex===-1){s.iMaxIndex=o}}else{if(t==="COLS"){s.iMinIndex=r.getCol();s.iMaxIndex=r.getCol()+r.getColSpan()-1}else{s.iMinIndex=r.getRow();s.iMaxIndex=r.getRow()+r.getRowSpan()-1}}return s};this.findDropIndexLimits=function(r,t){var a={};var i;var o;i=e.getHeaderInfo().findStartIndexOfPreviousDimension(t.sDimensionName,t.sAxisName);if(t.sAxisName==="ROWS"){if(!e.getHeaderInfo().isFirstDimensionOnAxis(t)){o=e.getRowHeaderArea().getCellWithRowSpan(r.getRow(),i);a=this.determineDropIndexLimitsFromPeerCell(o,t.sAxisName)}else{a.iMinIndex=e.getRowHeaderArea().getRenderStartRow();a.iMaxIndex=a.iMinIndex+e.getRowHeaderArea().getRenderRowCnt()-1}}else if(t.sAxisName==="COLS"){if(!e.getHeaderInfo().isFirstDimensionOnAxis(t)){o=e.getColumnHeaderArea().getCellWithColSpan(i,r.getCol());a=this.determineDropIndexLimitsFromPeerCell(o,t.sAxisName)}else{a.iMinIndex=e.getColumnHeaderArea().getRenderStartCol();a.iMaxIndex=a.iMinIndex+e.getColumnHeaderArea().getRenderColCnt()-1}}a=this.filterResultCellsFromDropIndexLimits(a,r,t.sAxisName);if(r.getLevel()>-1){a=this.restrictDropIndexLimitsForHierarchyMember(r,a,t.sAxisName)}return a};this.findPreviousPeerCell=function(r,t,a){var i=e.getRowHeaderArea();var o=e.getColumnHeaderArea();var l;var n;var s;var g=null;if(r.getAlignment()==="TOP"||r.getAlignment==="DEFAULT"){if(t==="ROWS"){for(n=r.getRow();n>=a.iMinIndex&&!g;n--){l=i.getCellWithRowSpan(n,r.getCol(),true);if(l&&l.getId()!==r.getId()&&l.getLevel()===r.getLevel()){g=l}}}else if(t==="COLS"){for(s=r.getCol();s>=a.iMinIndex&&!g;s--){l=o.getCellWithColSpan(r.getRow(),s,true);if(l&&l.getId()!==r.getId()&&l.getLevel()===r.getLevel()){g=l}}}}else{if(t==="ROWS"){for(n=r.getRow();n<=a.iMaxIndex&&!g;n++){l=i.getCellWithRowSpan(n,r.getCol(),true);if(l&&l.getId()!==r.getId()&&l.getLevel()===r.getLevel()){g=l}}}else if(t==="COLS"){for(s=r.getCol();s<=a.iMaxIndex&&!g;s++){l=o.getCellWithColSpan(r.getRow(),s,true);if(l&&l.getId()!==r.getId()&&l.getLevel()===r.getLevel()){g=l}}}}if(g){if(g.getParentMemberId()!==r.getParentMemberId()){g=null}}return g};function c(){var r;var a;var l;var n;var s;var f;var C;var d;var p;l=e.getHeaderInfo();a=i.getCellFromJqCell(this);r=t.getEffectiveCell(a);if(r){t.setCurrentJqDragCell(jQuery(document.getElementById(r.getId())));if(g){n=t.getAllMemberCellsInRowOrCol(r)}else{n=l.getMemberCellsForSameDimension(r)}t.saveRevertCellPosInfo(a,n);s=o.createMemberCellDragObject(r,n);t.setCursorAt(a,s);C=l.getDimensionInfoForMemberCell(r);f=sap.zen.Dispatcher.instance.createDragDropPayload(e.getId());f.oDragDropInfo=t.buildDimensionDragDropInfo(C);p=o.findDropIndexLimits(r,C);f.oDragDropInfo.oDropIndexLimits=p;if(r.getLevel()>-1){f.oDragDropInfo.bIsHierarchyMember=true}f.oDragDropInfo.bIsMemberDrag=true;d=e.getUtils().translateCellCoordinatesForBackend(r);if(d){f.oDragDropInfo.iMemberRow=d.row;f.oDragDropInfo.iMemberCol=d.col}sap.zen.Dispatcher.instance.setDragDropPayload(f)}return s}this.checkBasicMemberDropAccept=function(e,r){if(!e){return false}if(e.oDragDropInfo.sAxisName!==r){return false}if(t.isDragFromOtherCrosstab(e)){return false}if(t.isInterComponentDrag(e)){return false}if(!e.oDragDropInfo.bIsMemberDrag){return false}return true};this.returnFromMemberCellAcceptCheck=function(e,r){e.setRevertDrop(!r);sap.zen.Dispatcher.instance.setDropAccepted(e.getId(),r);return r};this.checkDropLimitsAgainstCells=function(e,r,t,a){var i;var o;if(t.iMinIndex===-1&&t.iMaxIndex===-1){return true}if(t.iMinIndex===t.iMaxIndex){return false}i=true;if(a==="ROWS"){if(e.getRow()===r.getRow()){i=false}else{if(e.getCol()>0){o=r.getRow()+r.getRowSpan()-1;i=t.iMinIndex<=o&&t.iMaxIndex>=o}}}else if(a==="COLS"){if(e.getCol()===r.getCol()){i=false}else{if(e.getRow()>0){o=r.getCol()+r.getColSpan()-1;i=t.iMinIndex<=o&&t.iMaxIndex>=o}}}else{i=false}return i};this.checkMatchingHierarchyLevels=function(e,r){if(r.getLevel()>-1&&e.getLevel()>-1){return r.getLevel()===e.getLevel()&&r.getParentMemberId()===e.getParentMemberId()}return true};function m(r){var a;var l;var n;var s;var g;var f;var C;if(!e.isDragAction()||e.isBlocked()){return false}n=sap.zen.Dispatcher.instance.getDragDropPayload();f=n.oDragDropInfo;a=i.getCellFromJqCell(jQuery(this));a=t.getEffectiveCell(a);C=e.getHeaderInfo().getDimensionInfoForMemberCell(a);if(!o.checkBasicMemberDropAccept(n,C.sAxisName)){return o.returnFromMemberCellAcceptCheck(a,false)}s=n.oDragDropInfo.oDropIndexLimits;l=i.getCellFromJqCell(r);l=t.getEffectiveCell(l);g=o.checkDropLimitsAgainstCells(l,a,s,f.sAxisName);if(!g){return o.returnFromMemberCellAcceptCheck(a,false)}g=o.checkMatchingHierarchyLevels(l,a);if(!g){return o.returnFromMemberCellAcceptCheck(a,false)}return o.returnFromMemberCellAcceptCheck(a,true)}this.returnFromMemberAreaAcceptCheck=function(e,r){e.data("xtabrevertdrop",!r);sap.zen.Dispatcher.instance.setDropAccepted(e.attr("id"),r);return r};this.checkDropAreaDropLimits=function(e,r,t,a,i){var o;var l;if(t.iMinIndex!==t.iMaxIndex&&!i){if(r.isResult()){if(a==="ROWS"){if(r.getRow()+r.getRowSpan()-1===t.iMaxIndex){return false}}else if(a==="COLS"){if(r.getCol()+r.getColSpan()-1===t.iMaxIndex){return false}}}o={iMinIndex:Math.max(0,t.iMinIndex-1),iMaxIndex:t.iMaxIndex}}else{o=t}l=this.checkDropLimitsAgainstCells(e,r,o,a);return l};this.getDropCellFromAnchorCell=function(r,t,a,i){var o=null;if(a==="ROWS"){o=e.getRowHeaderArea().getCellWithColSpan(r.getRow(),t.getCol(),true);if(!o){o=e.getRowHeaderArea().getCellWithRowSpan(r.getRow(),t.getCol(),true)}if(o&&!i){if(r.getRow()+r.getRowSpan()!==o.getRow()+o.getRowSpan()){o=null}}}else if(a==="COLS"){o=e.getColumnHeaderArea().getCellWithRowSpan(t.getRow(),r.getCol(),true);if(!o){o=e.getColumnHeaderArea().getCellWithColSpan(t.getRow(),r.getCol(),true)}if(o&&!i){if(r.getCol()+r.getColSpan()!==o.getCol()+o.getColSpan()){o=null}}}return o};this.checkAreaMoveOnPreviousCell=function(e,r,t,a,i){if(a==="ROWS"){if(r.getRow()===e.getRow()||t.getRow()+t.getRowSpan()===e.getRow()){if(!i){return false}}}else if(a==="COLS"){if(r.getCol()===e.getCol()||t.getCol()+t.getColSpan()===e.getCol()){if(!i){return false}}}return true};this.isDropCellOneBelowOrBeforeBlock=function(e,r,t){var a;if(t==="ROWS"){a=e.getRow()+e.getRowSpan()-1}else if(t==="COLS"){a=e.getCol()+e.getColSpan()-1}return Math.max(0,a)===Math.max(0,r.iMinIndex-1)};this.getNextCell=function(r,t){var a;if(t==="ROWS"){a=e.getRowHeaderArea().getCellWithRowSpan(r.getRow()+r.getRowSpan(),r.getCol())}else if(t==="COLS"){a=e.getColumnHeaderArea().getCellWithColSpan(r.getRow(),r.getCol()+r.getColSpan())}return a};this.checkAreaMoveOnPreviousHierarchyPeerOrBeginOfFollowing=function(e,r,t,a,i){var o;var l;var n=r;if(e.getLevel()>-1&&r.getLevel()>-1){o=this.findPreviousPeerCell(e,a,t);if(o){if(r.getId()===o.getId()){return false}if(a==="ROWS"&&r.getRow()+r.getRowSpan()-1===o.getRow()-1||a==="COLS"&&r.getCol()+r.getColSpan()-1===o.getCol()-1){if(e.getLevel()!==r.getLevel()&&i){return false}}else{if(!this.isDropCellOneBelowOrBeforeBlock(r,t,a)){if(!this.checkMatchingHierarchyLevels(e,r)){return false}}}}else{if(!this.isDropCellOneBelowOrBeforeBlock(r,t,a)){if(!i&&r.getLevel()!==e.getLevel()){l=this.getNextCell(r,a);if(l){o=this.findPreviousPeerCell(l,a,t);if(o&&o.getId()===e.getId()){return false}n=l}}if(!this.checkMatchingHierarchyLevels(e,n)){return false}}}}return true};function v(r){var a;var i;var l;var n;var s;var g;var f;var C;var d;var p;var c;var m;if(!e.isDragAction()||e.isBlocked()){return false}a=sap.zen.Dispatcher.instance.getDragDropPayload();i=jQuery(this);s=t.getDropAreaTypeFromDropAreaId(i.attr("id"));g=s==="droparea_above"||s==="droparea_below"?"ROWS":"COLS";d=s==="droparea_above"||s==="droparea_before";if(!o.checkBasicMemberDropAccept(a,g)){return o.returnFromMemberAreaAcceptCheck(i,false)}n=t.getCrosstabHeaderCellFromDraggable(r);n=t.getEffectiveCell(n);f=n.getArea().isRowHeaderArea()?"ROWS":"COLS";if(f!==g){return o.returnFromMemberAreaAcceptCheck(i,false)}m=sap.ui.getCore().getControl(i.data("xtabcellid"));l=o.getDropCellFromAnchorCell(m,n,f,d);l=t.getEffectiveCell(l);if(!l||l&&l.getId()===n.getId()){return o.returnFromMemberAreaAcceptCheck(i,false)}c=a.oDragDropInfo;p=c.oDropIndexLimits;C=o.checkDropAreaDropLimits(n,l,p,f,d);if(!C){return o.returnFromMemberAreaAcceptCheck(i,false)}C=o.checkAreaMoveOnPreviousCell(n,l,m,f,d);if(!C){return o.returnFromMemberAreaAcceptCheck(i,false)}C=o.checkAreaMoveOnPreviousHierarchyPeerOrBeginOfFollowing(n,l,p,f,d);if(!C){return o.returnFromMemberAreaAcceptCheck(i,false)}return o.returnFromMemberAreaAcceptCheck(i,true)}this.getCommonDropCommand=function(e,r){var t;var a;t=sap.zen.Dispatcher.instance.getDragDropPayload().oDragDropInfo;if(t.sAxisName==="ROWS"){a=e.row}else if(t.sAxisName==="COLS"){a=e.col}r=r.replace("__AXIS__",t.sAxisName);r=r.replace("__ROW__",t.iMemberRow);r=r.replace("__COL__",t.iMemberCol);r=r.replace("__NEW_INDEX__",a);return r};function u(a,l){var n;var s;var g;if(t.checkDropAllowedOnCrosstabElement(a)){n=i.getCellFromJqCell(jQuery(this));n=t.getEffectiveCell(n);s=e.getUtils().translateCellCoordinatesForBackend(n);g=o.getCommonDropCommand(s,r.swapmemberscommand);e.getUtils().executeCommandAction(g);t.resetDragDrop()}else if(!t.checkMouseInRenderSizeDiv(a)){sap.zen.Dispatcher.instance.onUnhandledDrop(a,l)}}function R(a,i){var l;var n;var s;var g;var f;var C;var d;var p;var c;var m=false;if(t.checkDropAllowedOnCrosstabElement(a)){C=sap.zen.Dispatcher.instance.getDragDropPayload().oDragDropInfo;d=C.oDropIndexLimits;p=C.sAxisName;l=sap.ui.getCore().getControl(jQuery(this).data("xtabcellid"));n=t.getCrosstabHeaderCellFromDraggable(jQuery(i.draggable));n=t.getEffectiveCell(n);f=t.getDropAreaTypeFromDropAreaId(jQuery(this).attr("id"));if(f==="droparea_above"||f==="droparea_before"){m=true}s=o.getDropCellFromAnchorCell(l,n,p,m);s=t.getEffectiveCell(s);if(o.isDropCellOneBelowOrBeforeBlock(s,d,p)){m=true;if(p==="ROWS"){s=e.getRowHeaderArea().getCellWithRowSpan(d.iMinIndex,s.getCol())}else if(p==="COLS"){s=e.getColumnHeaderArea().getCellWithColSpan(s.getRow(),d.iMinIndex)}}if(n.getLevel()!==s.getLevel()){s=o.getNextCell(s,p);m=true}g=e.getUtils().translateCellCoordinatesForBackend(s);c=o.getCommonDropCommand(g,r.insertmembercommand);c=c.replace("__INSERT_BEFORE__",m);e.getUtils().executeCommandAction(c);t.resetDragDrop()}else if(!t.checkMouseInRenderSizeDiv(a)){sap.zen.Dispatcher.instance.onUnhandledDrop(a,i)}}this.getLeftOfBeginCellInRowHeader=function(e,r){var a;var i;var o;var l=r;var n;a=r.getCol();o=a;i=r.getRow();if(i<e.getRenderStartRow()+e.getRenderRowCnt()-1){i++}while(l&&o>=0){l=e.getCellWithColSpan(i,o);if(l){r=l;o=l.getCol()-1}}n=t.getBoundingClientRect(document.getElementById(r.getId()));return n.begin};this.getTopOfBeginCellInColHeader=function(e,r){var a;var i;var o;var l=r;var n;a=r.getRow();i=a;o=r.getCol();if(o<e.getRenderStartCol()+e.getRenderColCnt()-1){o++}while(l&&i>=0){l=e.getCellWithRowSpan(i,o);if(l){r=l;i=l.getRow()-1}}n=t.getBoundingClientRect(document.getElementById(r.getId()));return n.top};this.isRowContainsResultCell=function(e,r){var t=0;var a=null;for(t=0;t<e.getColCnt();t++){a=e.getCellWithColSpan(r,t);if(a&&a.isResult()){return true}}return false};this.isColContainsResultCell=function(e,r){var t=0;var a=null;for(t=0;t<e.getRowCnt();t++){a=e.getCellWithRowSpan(t,r);if(a&&a.isResult()){return true}}return false};this.enableRowHeaderCellsAndAreas=function(){var r=0;var i=0;var o=0;var n=0;var d;var p;var I;var h;var D;var M;var x=false;var b=null;var A=false;var w=false;d=e.getRowHeaderArea();if(!e.hasRowHeaderArea()||d&&d.getRenderRowCnt()<2){x=true}if(s){M=s.getTableCol()+s.getColSpan()-1;if(!s.isSplitPivotCell()&&s.sScalingAxis==="ROWS"){M--}}else{M=0}o=d.getRenderStartRow();n=o+d.getRenderRowCnt()-1;for(i=o;i<=n;i++){if(g){A=this.isRowContainsResultCell(d,i)}for(r=0;r<=M;r++){p=d.getCellWithColSpan(i,r);if(!p&&i===o){p=d.getCellWithRowSpan(i,r)}if(p){if(x){b=e.getHeaderInfo().getDimensionInfoByCol(p.getTableCol());if(!b){return}}D=jQuery(document.getElementById(p.getId()));I=t.getBoundingClientRect(D[0]);if(r===M&&!x){if(i===o&&I.top>=l.top){f.iEnd=0;h=a.createAboveDropArea(p,f);t.makeDropAreaDroppable(h,"sapzencrosstab-rowAboveCellMemberDropArea",v,R)}if(I.bottom<=l.bottom){C.iEnd=0;C.iBegin=this.getLeftOfBeginCellInRowHeader(d,p);h=a.createBelowDropArea(p,C);t.makeDropAreaDroppable(h,"sapzencrosstab-rowBelowCellMemberDropArea",v,R)}}if(g){w=A}else{w=p.isResult()}if(!w&&I.top<l.bottom){t.makeCellDraggable(D,c);if(!x){t.makeCellDroppable(D,m,u)}}}}}};this.enableColHeaderCellsAndAreas=function(){var r=0;var i=0;var o=0;var l;var f;var C;var I;var h=0;var D;var M;var x=false;var b=null;var A=false;var w=false;var S={};l=e.getColumnHeaderArea();if(!e.hasColHeaderArea()||l&&l.getRenderColCnt()<2){x=true}if(s){M=s.getTableRow()+s.getRowSpan()-1;if(!s.isSplitPivotCell()&&s.sScalingAxis==="COLS"){M--}}else{M=0}o=l.getRenderStartCol();h=o+l.getRenderColCnt()-1;for(i=0;i<=M;i++){for(r=o;r<=h;r++){if(g){if(typeof S[r]!="undefined"){A=S[r]}else{A=this.isColContainsResultCell(l,r);S[r]=A}}f=l.getCellWithRowSpan(i,r);if(!f&&r===o){f=l.getCellWithColSpan(i,r)}if(f){if(x){b=e.getHeaderInfo().getDimensionInfoByRow(f.getTableRow());if(!b){return}}D=jQuery(document.getElementById(f.getId()));C=t.getBoundingClientRect(D[0]);if(i===M&&!x){if(r===o&&C.begin>=n.begin){d.iBottom=0;I=a.createBeforeDropArea(f,d);t.makeDropAreaDroppable(I,"sapzencrosstab-columnBeforeCellMemberDropArea",v,R)}if(C.end<=n.end){p.iBottom=0;p.iTop=this.getTopOfBeginCellInColHeader(l,f);I=a.createAfterDropArea(f,p);t.makeDropAreaDroppable(I,"sapzencrosstab-columnAfterCellMemberDropArea",v,R)}}if(g){w=A}else{w=f.isResult()}if(!w&&C.begin<n.end){t.makeCellDraggable(D,c);if(!x){t.makeCellDroppable(D,m,u)}}}}}};this.enableMemberDragDrop=function(){this.enableRowHeaderCellsAndAreas();this.enableColHeaderCellsAndAreas()};this.removeMember=function(t,a,i){if(i.bIsMemberDrag&&i.iMemberRow>-1&&i.iMemberCol>-1&&!i.bIsHierarchyMember){var o=r.removemembercommand.replace("__AXIS__",i.sAxisName);o=o.replace("__ROW__",i.iMemberRow);o=o.replace("__COL__",i.iMemberCol);e.getUtils().executeCommandAction(o)}else{sap.zen.Dispatcher.instance.setDragDropCanceled(true)}}};return sap.zen.crosstab.dragdrop.MemberDragDropHandler});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/keyboard/CrosstabKeyboardNavHandler", ["jquery.sap.global","sap/zen/crosstab/rendering/RenderingConstants"],function(jQuery,e){"use strict";jQuery.sap.declare("sap.zen.crosstab.keyboard.CrosstabKeyboardNavHandler");sap.zen.crosstab.keyboard.CrosstabKeyboardNavHandler=function(t,l){var r=-1;var a=-1;var o=-1;var i=-1;var n=0;var s=0;var g=this;var c=false;var f=t.getDataArea();this.reset=function(){this.disableCell(r,a);this.disableCell(o,i);r=-1;a=-1;o=-1;i=-1;n=0;s=0};this.setEnabled=function(e){c=e};this.attachEvents=function(t){if(!c){return}t.off("keydown",this.keyboardNavKeyHandler);t.on("keydown",this.keyboardNavKeyHandler);t.attr("tabindex",e.TABINDEX)};this.getFocusScrollDiv=function(e){var l=null;if(e.getArea().isDataArea()||e.getArea().isColHeaderArea()){l=document.getElementById(t.getId()+"_lowerRight_scrollDiv")}else if(e.getArea().isRowHeaderArea()){l=document.getElementById(t.getId()+"_lowerLeft_scrollDiv")}return l};this.movePixelCellIntoFocus=function(e,l,r,a,o,i){var n=false;var s=t.getUtils().getRtlAwareBoundingClientRect(l);var g=r.width;var c=s.width;var f=r.height;var d=s.height;if(c<g){if(s.end>r.end){var u=t.getHScrollbar().getScrollPosition();t.scrollHorizontal(u+s.end-r.end);n=true}else if(s.begin<r.begin){u=t.getHScrollbar().getScrollPosition();t.scrollHorizontal(u-(r.begin-s.begin));n=true}}if(a||o||i){if(d<f){if(s.bottom>r.bottom){u=t.getVScrollbar().getScrollPosition();t.scrollVertical(u+s.bottom-r.bottom);n=true}else if(s.top<r.top){u=t.getVScrollbar().getScrollPosition();t.scrollVertical(u-(r.top-s.top));n=true}}else{u=t.getVScrollbar().getScrollPosition();t.scrollVertical(u-(r.top-s.top));n=true}}return n};this.moveRowHeaderAreaCellHorizontally=function(e,l){var r=t.getUtils().getRtlAwareBoundingClientRect(document.getElementById(t.getId()+"_lowerLeft_scrollDiv"));var a=t.getUtils().getRtlAwareBoundingClientRect(l);var o=r.width;var i=a.width;var n=t.getHorizontalHeaderScrollbar();if(i<o){if(a.end>r.end){var s=n.getScrollPosition();t.scrollHeaderHorizontal(s+a.end-r.end)}else if(a.begin<r.begin){s=n.getScrollPosition();t.scrollHeaderHorizontal(s-(r.begin-a.begin))}}};this.moveRowColCellIntoFocus=function(e,l,r,a,o,i){var n=false;var s=t.getUtils().getRtlAwareBoundingClientRect(l);var g=r.width;var c=s.width;var f=t.getDataArea().getRenderStartCol();var d=t.getDataArea().getRenderStartRow();var u=t.getDataArea().getRowCnt()-1;if(e.getArea().isDataArea()||e.getArea().isColHeaderArea()){var v=t.getHScrollbar();if(v){if(c<g){if(s.end>r.end){t.scrollHorizontal(f+1);n=true}else if(s.begin<r.begin){t.scrollHorizontal(f-1);n=true}}}}if(t.isHeaderHScrolling()===true&&e.getArea().isRowHeaderArea()){this.moveRowHeaderAreaCellHorizontally(e,l)}if(d===e.getTableRow()-t.getTableFixedColHeaderRowCnt()){return n}if(e.getArea().isDataArea()||e.getArea().isRowHeaderArea()&&a||o||i){var b=t.getVScrollbar();if(b){var C=t.getDataArea().getRenderRowCnt();var R=b.getScrollPosition();var h=e.getTableRow()-t.getTableFixedColHeaderRowCnt();if(h<d){t.scrollVertical(h);n=true}else if(h+e.getRowSpan()>d+C){var w=d+C-e.getRow();var S=e.getRowSpan()-w;var T=Math.max(0,Math.min(R+S+1,u));if(S!==0){t.scrollVertical(T);n=true}d=t.getDataArea().getRenderStartRow();if(d>h){t.scrollVertical(h);n=true}}d=t.getDataArea().getRenderStartRow();if(d===e.getTableRow()-t.getTableFixedColHeaderRowCnt()){return n}if(n){l=document.getElementById(e.getId());s=t.getUtils().getRtlAwareBoundingClientRect(l);R=b.getScrollPosition()}if(s.bottom>r.bottom){while(s.bottom>r.bottom&&R<u){t.scrollVertical(Math.min(R+1,u));R=b.getScrollPosition();l=document.getElementById(e.getId());s=t.getUtils().getRtlAwareBoundingClientRect(l);n=true}}else if(s.top<r.top){t.scrollVertical(Math.max(0,R-1));n=true}}}return n};this.getCellIntoDom=function(e,l,r){var a=0;if(s===0){var o=t.getHScrollbar();if(o&&!r){if(n>0){a=o.getScrollPosition()+l.getColSpan()}else if(n<0){a=e.getTableCol()-t.getTableFixedRowHeaderColCnt()}t.scrollHorizontal(a)}}else if(n==0){var i=t.getVScrollbar();if(i){if(s>0){a=i.getScrollPosition()+l.getRowSpan()}else{if(s<0){a=e.getTableRow()-t.getTableFixedColHeaderRowCnt()}}t.scrollVertical(a)}}};this.getRowLookAheadCell=function(e){var l=null;var a=null;var o=0;var i=0;if(e.getRowSpan()>1){if(n>0){i=e.getTableCol();o=t.getRenderStartCol()+t.getRenderColCnt()+t.getTableFixedRowHeaderColCnt();for(var s=i;s<=o;s++){a=t.getTableCellWithSpans(r,s);if(a.getRowSpan()===1){l=a;break}else{if(l){if(a.getRowSpan()<l.getRowSpan()){l=a}}else{l=a}}}}}else{l=e}return l};this.scrollCellIntoFocus=function(e,l,r,a){var o=e;var i=false;if(!l&&e.getArea().isRowHeaderArea()&&r===true&&t.getVScrollbar()&&!t.isHeaderHScrolling()){if(n>0&&s===0){o=this.getRowLookAheadCell(e)}}if(o!==e){e=o;i=true}var g=this.getFocusScrollDiv(e);if(!g){return false}var c=false;var f=t.getPropertyBag().isPixelScrolling();var d=document.getElementById(e.getId());if(!d&&!f){this.getCellIntoDom(e,a,r)}if(!d){return false}var u=t.getUtils().getRtlAwareBoundingClientRect(g);if(f){c=this.movePixelCellIntoFocus(e,d,u,l,i,r)}else{c=this.moveRowColCellIntoFocus(e,d,u,l,i,r)}return c};this.keyboardNavKeyHandler=function(e){if(r>-1&&a>-1){n=0;s=0;if(e.which===9){n=1}else if(e.which===38){s=-1}else if(e.which===40){s=1}else if(e.which===37){n=-1}else if(e.which===39){n=1}if(n===0&&s===0){return true}else{if(!t.hasLoadingPages()){g.moveCellFocus()}sap.zen.crosstab.utils.Utils.cancelEvent(e);return false}}return true};this.restoreFocusOnCell=function(){if(!c){return}if(r>-1&&a>-1&&!t.hasLoadingPages()){var e=t.getTableCellWithSpans(r,a);if(e&&!e.isLoading()){this.disableCell(o,i);this.navigateToCellAction(e,-1,-1)}}};function d(e,t){var l=t.scrollLeft;var r=t.scrollTop;e.focus();if(t.scrollLeft!==l){t.scrollLeft=l}if(t.scrollTop!==r){t.scrollTop=r}}this.navigateToCellAction=function(e,t,r){var a=null;var o=null;var i=null;var n=null;a=jQuery(document.getElementById(e.getId()));a.addClass("sapzencrosstab-CellFocus");o=jQuery(document.getElementById(e.getId()+"_contentDiv"));n=a.find("#"+jQuery.sap.encodeCSS(e.getId()+"_textContentDiv"));if(!e.isEntryEnabled()){i=this.getFocusScrollDiv(e);if(n.length>0){o=n}if(jQuery.browser.mozilla){d(o,i)}var s=o[0];if(s&&t===-1&&r===-1){sap.zen.crosstab.utils.Utils.selectTextInElement(s)}d(o,i)}else{l.provideInputEnabledCell(e,e.getId(),o,t,r)}};this.navigateFromCellAction=function(e){var t=jQuery(document.getElementById(e.getId()));if(t.length>0){t.removeClass("sapzencrosstab-CellFocus")}var l=t.find("input");l.focusout()};this.focusNewCell=function(e,l,n){if(!c){return false}if(!e){return false}var s=false;if(r>-1&&a>-1){this.disableCell(r,a)}r=e.getTableRow();a=e.getTableCol();o=r;i=a;var g=t.getVScrollbar();var f=t.getHScrollbar();if(g||f){if(g){s=this.scrollCellIntoFocus(e,true,false,null)}}this.navigateToCellAction(e,l,n);return s};this.scrollToCell=function(e){var l=e.getTableRow()-t.getTableFixedColHeaderRowCnt();var r=e.getTableCol()-t.getTableFixedRowHeaderColCnt();var a=l<t.getRenderStartRow()||l>t.getRenderStartRow()+t.getRenderRowCnt();var o=false;if(e.getArea().isDataArea()||e.getArea().isColHeaderArea()){o=r<t.getRenderStartCol()||r>t.getRenderStartCol()+t.getRenderColCnt()}if(t.getVScrollbar()&&a){t.scrollVertical(e.getTableRow()-t.getTableFixedColHeaderRowCnt())}if(t.getHScrollbar()&&e.getArea().isDataArea()&&o){t.scrollHorizontal(e.getTableCol()-t.getTableFixedRowHeaderColCnt())}};this.disableCell=function(e,l){var r=null;if(e>-1&&e>-1){r=t.getTableCellWithSpans(e,l);if(r&&!r.isLoading()){this.navigateFromCellAction(r)}}};this.moveCellFocus=function(){if(!c){return}var e=null;var l=-1;var g=-1;var d=t.getTableRowCnt()-1;var u=t.getTableColCnt()-1;var v=t.getTableFixedColHeaderRowCnt();o=r;i=a;var b=false;var C=false;var R=t.getTableCellWithSpans(o,i);if(R&&!t.hasLoadingPages()){if(n!==0||s!==0){this.scrollToCell(R)}}if(s<0){if(R.getTableRow()===v){return}}else if(s>0){if(R.getTableRow()+R.getRowSpan()-1===d){return}}this.disableCell(R.getTableRow(),R.getTableCol());if(r>-1&&a>-1){if(n===0&&s===0){return}var h=r;var w=a;if(n!==0){if(n>0){w=R.getTableCol()+R.getColSpan()+n-1;if(w>u){if(h<d){h++;w=0;l=0;b=true}else{w=u;h=d}}}else{w=R.getTableCol();w--;if(w>=0){var S=t.getTableCellWithSpans(h,w);if(!S){return}if(S.isLoading()){return}w=S.getTableCol()}else{if(h>v){h--;w=u;l=u;if(h<f.getRenderStartRow()+v){g=h-v}b=true}else{w=0;h=v}}}e=t.getTableCellWithSpans(h,w);if(e.isLoading()){return}if(R){if(R.getArea()!==e.getArea()&&l===-1){l=0}}}else if(s!==0){if(s>0){h=Math.min(R.getTableRow()+R.getRowSpan()+s-1,d)}else if(s<0){h=Math.max(R.getTableRow()+s,v)}e=t.getTableCellWithSpans(h,w);if(e.isLoading()){return}h=e.getTableRow();C=true}r=h;a=w}if(e){if(g>=0){t.scrollVertical(g)}if(l>=0){t.scrollHorizontal(l)}this.scrollCellIntoFocus(e,C,b,R);this.navigateToCellAction(e,-1,-1)}}};return sap.zen.crosstab.keyboard.CrosstabKeyboardNavHandler});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/library", ["sap/ui/core/Core","sap/ui/core/library","sap/m/library","sap/ui/commons/library"],function(){var s=sap.ui.getCore().initLibrary({name:"sap.zen.crosstab",dependencies:["sap.ui.core","sap.m","sap.ui.commons"],types:[],interfaces:[],controls:["sap.zen.crosstab.Crosstab","sap.zen.crosstab.DataCell","sap.zen.crosstab.HeaderCell"],elements:[],version:"1.141.0"});return s});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/paging/CellMerger", ["jquery.sap.global","sap/zen/crosstab/paging/PagingConstants"],function(jQuery,e){"use strict";jQuery.sap.declare("sap.zen.crosstab.paging.CellMerger");sap.zen.crosstab.paging.CellMerger=function(n){var r=null;var t=null;this.mergeRowHeaderCells=function(e){r=n.getCrosstab().getRowHeaderArea();var t=0;var i=null;for(t=0;t<r.getColCnt();t++){i=g(e,t);if(i){o(i,e,t)}i=a(e,t);if(i){l(i,e,t)}}};function l(t,l,a){var o=l-1;var g=null;var u=null;var f=null;var C=0;var v=t.getRowSpan();var s=n.getHeaderTileInfo(r,o).iStatus;while(s===e.PAGE_STATUS_LOADED&&o>=0&&!u){f=i(o);for(C=f.iMaxRowIndex;C>=f.iMinRowIndex&&!u;C--){g=r.getCellDirect(C,a);if(g){if(g.getMergeKey()){if(t.getMergeKey()===g.getMergeKey()){if(C===f.iMaxRowIndex||g.getRowSpan()>1){u=g}else{return}}else{return}}}}o--;s=n.getHeaderTileInfo(r,o).iStatus}if(u){M(t,u);u.setRowSpan(v+u.getRowSpan());r.insertCell(null,t.getRow(),t.getCol())}}function i(e){var t={};t.iMinRowIndex=e*n.getTileRowCnt();t.iMaxRowIndex=(e+1)*n.getTileRowCnt()-1;t.iMaxRowIndex=Math.min(t.iMaxRowIndex,r.getRowCnt()-1);return t}function a(e,n){var t=null;var l=i(e);var a=0;var o=null;var g="";for(a=l.iMinRowIndex;a<=l.iMaxRowIndex&&!t;a++){o=r.getCellDirect(a,n);if(o){g=o.getMergeKey();if(g){t=o}}}return t}function o(t,l,a){var o=null;var g=0;var u="";var f=null;var C=n.getHeaderTileInfo(r,l+1).iStatus;if(C===e.PAGE_STATUS_LOADED){f=i(l+1);o=r.getCellDirect(f.iMinRowIndex,a);if(o){u=o.getMergeKey();if(u&&u===t.getMergeKey()){g=o.getRowSpan();r.insertCell(null,f.iMinRowIndex,a);M(o,t)}}}if(g){t.setRowSpan(t.getRowSpan()+g)}}function g(e,n){var t=null;var l=i(e);var a=0;var o="";var g=null;for(a=l.iMaxRowIndex;a>=l.iMinRowIndex&&!t;a--){g=r.getCellDirect(a,n);if(g){o=g.getMergeKey();if(o){t=g}}}return t}this.mergeColHeaderCells=function(e){t=n.getCrosstab().getColumnHeaderArea();var r=0;var l=null;for(r=0;r<t.getRowCnt();r++){l=C(e,r);if(l){f(l,e,r)}l=v(e,r);if(l){s(l,e,r)}}};function u(e){var r={};r.iMinColIndex=e*n.getTileColCnt();r.iMaxColIndex=(e+1)*n.getTileColCnt()-1;r.iMaxColIndex=Math.min(r.iMaxColIndex,t.getColCnt()-1);return r}function f(r,l,i){var a=null;var o=0;var g="";var f=null;var C=n.getHeaderTileInfo(t,l+1).iStatus;if(C===e.PAGE_STATUS_LOADED){f=u(l+1);a=t.getCellDirect(i,f.iMinColIndex);if(a){g=a.getMergeKey();if(g&&g===r.getMergeKey()){o=a.getColSpan();t.insertCell(null,i,f.iMinColIndex);M(a,r)}}}if(o){r.setColSpan(r.getColSpan()+o)}}function C(e,n){var r=null;var l=u(e);var i=0;var a="";var o=null;for(i=l.iMaxColIndex;i>=l.iMinColIndex&&!r;i--){o=t.getCellDirect(n,i);if(o){a=o.getMergeKey();if(a){r=o}}}return r}function v(e,n){var r=null;var l=u(e);var i=0;var a=null;var o="";for(i=l.iMinColIndex;i<=l.iMaxColIndex&&!r;i++){a=t.getCellDirect(n,i);if(a){o=a.getMergeKey();if(o){r=a}}}return r}function s(r,l,i){var a=l-1;var o=null;var g=null;var f=null;var C=0;var v=r.getColSpan();var s=n.getHeaderTileInfo(t,a).iStatus;while(s===e.PAGE_STATUS_LOADED&&a>=0&&!g){f=u(a);for(C=f.iMaxColIndex;C>=f.iMinColIndex&&!g;C--){o=t.getCellDirect(i,C);if(o){if(o.getMergeKey()){if(r.getMergeKey()===o.getMergeKey()){if(C===f.iMaxColIndex||o.getColSpan()>1){g=o}else{return}}else{return}}}}a--;s=n.getHeaderTileInfo(t,a).iStatus}if(g){M(r,g);g.setColSpan(v+g.getColSpan());t.insertCell(null,r.getRow(),r.getCol())}}function M(e,n){var r=e.getStyleIdList();n.setStyleIdList(r)}};return sap.zen.crosstab.paging.CellMerger});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/paging/Page",["jquery.sap.global","sap/zen/crosstab/paging/PagingConstants","sap/zen/crosstab/rendering/RenderingConstants","sap/zen/crosstab/DataCell","sap/zen/crosstab/HeaderCell"],function(jQuery,e,t,a,i){"use strict";jQuery.sap.declare("sap.zen.crosstab.paging.Page");sap.zen.crosstab.paging.Page=function(o,r,n){var s=e.PAGE_STATUS_UNKNOWN;var l=0;var A=0;var g=n.getTileRowCnt();var f=n.getTileColCnt();var C=n.getCellMerger();var S=n.getDataHandler();var T=n.getCrosstab();var u=T.getDimensionHeaderArea();var d=T.getColumnHeaderArea();var R=T.getRowHeaderArea();var c=T.getDataArea();var w={};var E=[];_();function _(){E.push(u.getAreaType());E.push(d.getAreaType());E.push(R.getAreaType());E.push(c.getAreaType())}this.getPageKey=function(){return r};this.getRow=function(){};this.getCol=function(){};this.getPosition=function(){return o};this.getStatus=function(){return s};this.setStatus=function(e){s=e};this.getPageDataRowCnt=function(){return l};this.getPageDataColCnt=function(){return A};this.receiveData=function(e,t){l=e.sentdatarows;A=e.sentdatacols;g=e.tilerows;f=e.tilecols;S.determineBasicAreaData(e,t);h();var a={};a.iRowOffset=o.iRow*g;a.iColOffset=o.iCol*f;a.bIsFirstPage=t;a.oCrosstabAreasToBeFilled=w;a.oCrosstabData=e;S.jsonToDataModel(a);I();N()};this.removeData=function(){s=e.PAGE_STATUS_UNKNOWN;w={};U(c);p();v()};function v(){var e=0;var t=null;for(e=0;e<E.length;e++){t=w[E[e]];if(t){m(t,false);t.oArea.decreaseLoadingPageCnt()}}}function D(t,a){var i=L(t,a);if(i.iRefCnt===0){i.iStatus=e.PAGE_STATUS_UNKNOWN;n.setHeaderTileInfo(t,a,i);U(t)}}function p(){D(u,0);D(R,o.iRow);D(d,o.iCol)}function P(){H(u,0);H(R,o.iRow);H(d,o.iCol)}function G(e,t,a){var i=n.getHeaderTileInfo(e,t);i.iStatus=a;n.setHeaderTileInfo(e,t,i)}function H(e,t){var a=n.getHeaderTileInfo(e,t);a.iRefCnt++;n.setHeaderTileInfo(e,t,a)}function L(e,t){var a=n.getHeaderTileInfo(e,t);a.iRefCnt--;n.setHeaderTileInfo(e,t,a);return a}function h(){w={};U(c,0);if(n.getHeaderTileInfo(R,o.iRow).iStatus!==e.PAGE_STATUS_LOADED){U(R,o.iRow)}if(n.getHeaderTileInfo(d,o.iCol).iStatus!==e.PAGE_STATUS_LOADED){U(d,o.iCol)}if(n.getHeaderTileInfo(u,0).iStatus!==e.PAGE_STATUS_LOADED){U(u,0)}}function N(){var e=0;var t=null;for(e=0;e<E.length;e++){t=w[E[e]];if(t){b(t,false);z(t,false);t.oArea.decreaseLoadingPageCnt()}}}function U(e,t){var a=e.getAreaType();var i={};i.oArea=e;i.oAreaRegion=K(e);i.iTileIndex=t;w[a]=i}this.provideLoadingCells=function(t){s=e.PAGE_STATUS_LOADING;O(t);P();y()};function I(){s=e.PAGE_STATUS_LOADED;var t=null;t=w[d.getAreaType()];if(t){C.mergeColHeaderCells(o.iCol);G(t.oArea,o.iCol,e.PAGE_STATUS_LOADED)}t=w[R.getAreaType()];if(t){C.mergeRowHeaderCells(o.iRow);G(t.oArea,o.iRow,e.PAGE_STATUS_LOADED)}t=w[u.getAreaType()];if(t){G(t.oArea,0,e.PAGE_STATUS_LOADED)}}function O(t){w={};U(c,0);if(t.isDataArea()){if(n.getHeaderTileInfo(R,o.iRow).iStatus===e.PAGE_STATUS_UNKNOWN){U(R,o.iRow);G(R,o.iRow,e.PAGE_STATUS_LOADING)}if(n.getHeaderTileInfo(d,o.iCol).iStatus===e.PAGE_STATUS_UNKNOWN){U(d,o.iCol);G(d,o.iCol,e.PAGE_STATUS_LOADING)}if(n.getHeaderTileInfo(u,0).iStatus===e.PAGE_STATUS_UNKNOWN){U(u,0);G(u,0,e.PAGE_STATUS_LOADING)}}else{if(t.isColHeaderArea()){U(t,o.iCol);G(t,o.iCol,e.PAGE_STATUS_LOADING)}else if(t.isRowHeaderArea()){U(t,o.iRow);G(t,o.iRow,e.PAGE_STATUS_LOADING)}else if(t.isDimensionHeaderArea()){U(t,0);G(t,0,e.PAGE_STATUS_LOADING)}}}function y(){var e=0;var t=null;for(e=0;e<E.length;e++){t=w[E[e]];if(t){m(t,true);b(t,true);z(t,true);t.oArea.increaseLoadingPageCnt()}}}function m(e,t){var a=0;var i=0;var o=null;var r=e.oAreaRegion;var n=e.oArea;for(a=r.iStartRow;a<=r.iEndRow;a++){for(i=r.iStartCol;i<=r.iEndCol;i++){if(t){o=W(n,a,i)}n.insertCell(o,a,i)}}}function b(e,t){var a=e.oAreaRegion;var i=e.oArea;var o=0;for(o=a.iStartCol;o<=a.iEndCol;o++){i.changeColWidthTemporaryFlag(o,r,t)}}function z(e,t){var a=e.oAreaRegion;var i=e.oArea;var o=0;for(o=a.iStartRow;o<=a.iEndRow;o++){i.changeRowHeightTemporaryFlag(o,r,t)}}function K(e){var t={};if(e.isDimHeaderArea()){t.iStartRow=0;t.iEndRow=e.getRowCnt()-1;t.iStartCol=0;t.iEndCol=e.getColCnt()-1}else if(e.isRowHeaderArea()){t.iStartRow=o.iRow*g;t.iEndRow=Math.min(t.iStartRow+g-1,e.getRowCnt()-1);t.iStartCol=0;t.iEndCol=e.getColCnt()-1}else if(e.isColHeaderArea()){t.iStartRow=0;t.iEndRow=e.getRowCnt()-1;t.iStartCol=o.iCol*f;t.iEndCol=Math.min(t.iStartCol+f-1,e.getColCnt()-1)}else if(e.isDataArea()){t.iStartRow=o.iRow*g;t.iEndRow=Math.min(t.iStartRow+g-1,e.getRowCnt()-1);t.iStartCol=o.iCol*f;t.iEndCol=Math.min(t.iStartCol+f-1,e.getColCnt()-1)}return t}function W(e,o,r){var n=null;if(e.isDataArea()){n=new a;n.addStyle(t.STYLE_DATA_CELL)}else{n=new i;n.addStyle(t.STYLE_HEADER_CELL);n.setRowSpan(1);n.setColSpan(1)}n.setArea(e);n.setRow(o);n.setCol(r);n.setLoading(true);n.addStyle(t.STYLE_LOADING);return n}};return sap.zen.crosstab.paging.Page});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/paging/PageManager",["jquery.sap.global","sap/zen/crosstab/paging/Page","sap/zen/crosstab/paging/PagingConstants","sap/zen/crosstab/paging/RequestHandler","sap/zen/crosstab/paging/CellMerger","sap/zen/crosstab/datahandler/JsonDataHandler"],function(jQuery,e,t,r,a,i){"use strict";jQuery.sap.declare("sap.zen.crosstab.paging.PageManager");sap.zen.crosstab.paging.PageManager=function(n){var s=new i(n);var o=new a(this);var u=null;var l={};var f={};var g=0;var v=0;var c="";var h=0;var d=0;var R=false;var C=[];var p=false;var P=true;var A={};var w={};var T={};var S={};var m={};var y={};var M={};var H={};function b(){D();if(p||P){p=false;P=false;_()}}function _(){var e=n.getDataArea();var t=e.getRenderRowCnt();var r=e.getRenderColCnt();var a=Math.round(r/v)+1;var i=Math.round(t/g)+1;var s=Math.max(1,a*i*2);if(u){u.setMaxQueueRequests(s)}}this.enableTimeout=function(e){if(u){u.enableTimeout(e)}};this.getRequestStackSize=function(){var e=-1;if(u){e=u.getMaxQueueRequests()}return e};this.resizeEvent=function(){p=true;if(u){u.unlimitStack()}};this.checkResponseConsistency=function(e){if(e.pvcheck||e.removeselection){return true}if(g>0&&v>0){return e.tilerows===g&&e.tilecols===v}return true};this.receiveData=function(e){var t=this.checkResponseConsistency(e);if(t){K(e);var r={};r.iRow=h;r.iCol=d;var a=null;var i=z();if(i){a=this.createPage(r);R=true}else{a=this.getPage(r)}if(a){a.receiveData(e,i)}if(n.getPropertyBag().isDebugMode()){var s=a.getPosition();var o=s.iRow+"_"+s.iCol;A[o]={};A[o].component=e}}};function D(){var e=0;var t=null;var r="";for(e=0;e<C.length;e++){t=C[e];if(t){t.removeData();r=t.getPageKey();delete l[r]}}C=[]}n.getRenderEngine().addAfterFinishRenderingHandler(b);this.removeRequest=function(e){C.push(e)};this.getRequestCommandTemplate=function(){return c};this.removeHeaderTileRequest=function(e,r,a){var i=f[e.getAreaType()];if(i){var n=i[r];if(n){var s=jQuery.inArray(a,n.aRequestingPages);if(s!==-1){n.aRequestingPages.splice(s,1);if(n.aRequestingPages.length===0){n.iStatus=t.PAGE_STATUS_UNKNOWN}}}}};this.getHeaderTileInfo=function(e,t){return q(e,t)};this.setHeaderTileInfo=function(e,t,r){var a=N(e);a[t]=r};function N(e){var t=f[e.getAreaType()];if(!t){t={};f[e.getAreaType()]=t}return t}function q(e,r){var a=N(e);var i=a[r];if(!i){i={};i.iStatus=t.PAGE_STATUS_UNKNOWN;i.iRefCnt=0;a[r]=i}return i}this.ensureCellAvailable=function(e,a,i){var n=null;var s=t.PAGE_STATUS_UNKNOWN;var o=false;var l=false;var f=e.getAreaType()+"/"+a+"/"+i;if(!w[f]){var g=E(a,i,e);if(g){if(e.isRowHeaderArea()){s=this.getHeaderTileInfo(e,g.iRow).iStatus;o=true}else if(e.isColHeaderArea()){s=this.getHeaderTileInfo(e,g.iCol).iStatus;o=true}n=this.getPage(g);if(o){if(s===t.PAGE_STATUS_UNKNOWN){l=true}}else{l=!n}if(l){n=this.createPage(g);n.provideLoadingCells(e);if(!u){u=new r(this)}u.sendPageRequest(n)}else{if(n&&n.getStatus()===t.PAGE_STATUS_LOADED||s&&s===t.PAGE_STATUS_LOADED){w[f]=true;U(e,a,i)}}}}};this.reset=function(){l={};f={};R=false;if(u){u.reset()}P=true;A={};w={};T={};S={};m={};y={};M={};H={};g=0;v=0};this.getDataHandler=function(){return s};this.getTileRowCnt=function(){return g};this.getTileColCnt=function(){return v};this.getPageKeyFromPos=function(e){return this.getPageKeyFromRowCol(e.iRow,e.iCol)};this.getPageKeyFromRowCol=function(e,t){return e+"/"+t};this.getPagePosFromKey=function(e){var t={};var r=e.split("/");t.iRow=parseInt(r[0],10);t.iCol=parseInt(r[1],10);return t};this.getCrosstab=function(){return n};this.createPage=function(t){var r=null;var a=this.getPageKeyFromPos(t);if(a){r=new e(t,a,this);l[a]=r}return r};this.getPage=function(e){return this.getPageFromRowCol(e.iRow,e.iCol)};this.getPageFromRowCol=function(e,t){var r=null;var a=this.getPageKeyFromRowCol(e,t);if(a){r=l[a]}return r};this.getCellMerger=function(){return o};function z(){return h===0&&d===0||!R}function K(e){g=e.tilerows;v=e.tilecols;c=e.scrollaction;h=e.v_pos;if(h){h=Math.floor(h/g)}else{h=0}d=e.h_pos;if(d){d=Math.floor(d/v)}else{d=0}}function E(e,t,r){var a={iRow:0,iCol:0};if(r.isRowHeaderArea()){a.iRow=Math.floor(e/g);a.iCol=Math.floor(n.getColumnHeaderArea().getRenderStartCol()/v)}else if(r.isColHeaderArea()){a.iRow=Math.floor(n.getRowHeaderArea().getRenderStartRow()/g);a.iCol=Math.floor(t/v)}else if(r.isDataArea()){a.iRow=Math.floor(e/g);a.iCol=Math.floor(t/v)}return a}this.getReceivedPages=function(){return JSON.stringify(A)};function U(e,t,r){if(e.isRowHeaderArea()){F(T,t,r);F(S,r,t)}else if(e.isColHeaderArea()){F(m,t,r);F(y,r,t)}else if(e.isDataArea()){F(M,t,r);F(H,r,t)}}function F(e,t,r){if(!e[t]){e[t]=[]}e[t].push(r)}function O(e,t){var r=null;if(e.isDataArea()){r=t?M:H}else if(e.isRowHeaderArea()){r=t?T:S}else if(e.isColHeaderArea()){r=t?m:y}return r}this.getLoadedCellColumnsByRow=function(e,t){var r=[];var a=O(e,true);if(a){r=a[t]}return r};this.getLoadedCellRowsByCol=function(e,t){var r=[];var a=O(e,false);if(a){r=a[t]}return r};this.getPages=function(){return l};this.isCellLoaded=function(e,t,r){var a=e.getAreaType()+"/"+t+"/"+r;if(w[a]){return true}return false}};return sap.zen.crosstab.paging.PageManager});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/paging/PagingConstants", ["jquery.sap.global"],function(jQuery){"use strict";jQuery.sap.declare("sap.zen.crosstab.paging.PagingConstants");sap.zen.crosstab.paging.PagingConstants=sap.zen.crosstab.paging.PagingConstants||{};sap.zen.crosstab.paging.PagingConstants.PAGE_STATUS_UNKNOWN=0;sap.zen.crosstab.paging.PagingConstants.PAGE_STATUS_LOADING=1;sap.zen.crosstab.paging.PagingConstants.PAGE_STATUS_LOADED=2;return sap.zen.crosstab.paging.PagingConstants});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/paging/RequestHandler", ["jquery.sap.global","sap/zen/crosstab/paging/RequestStack"],function(jQuery,e){"use strict";jQuery.sap.declare("sap.zen.crosstab.paging.RequestHandler");sap.zen.crosstab.paging.RequestHandler=function(t){var a=t.getCrosstab();var n=t.getTileRowCnt();var i=t.getTileColCnt();var s=new e(0);var r=0;var u=0;s.addElementRemovedHandler(g);var o=null;this.sendPageRequest=function(e){s.push(e);l()};this.enableTimeout=function(e){u=e?1e3:0};this.reset=function(){s.clear();r=0;this.enableTimeout(false)};this.setMaxQueueRequests=function(e){r=e};this.getMaxQueueRequests=function(){return s.getMaxSize()};this.unlimitStack=function(){s.unlimitStack()};function l(){if(o){clearTimeout(o)}o=setTimeout(f.bind(this,t),u)}function c(e,t){var n=a.getPageRequestHandler();var i=e.getPosition();if(n){var s=Math.floor(i.iRow);var r=Math.floor(i.iCol);n(s,r)}else{var u=v(i,t);a.getUtils().executeCommandAction(u,false,true)}}function f(e){var t=null;while(s.getActualSize()>0){t=s.pop();c(t,e.getRequestCommandTemplate())}if(r>0){s.resetStack(r);r=0}}function g(e){t.removeRequest(e)}function v(e,t){var a=e.iRow*n+1;var s=e.iCol*i+1;var r=t.replace("__X__",s);r=r.replace("__Y__",a);return r}};return sap.zen.crosstab.paging.RequestHandler});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/paging/RequestStack", ["jquery.sap.global"],function(jQuery){"use strict";jQuery.sap.declare("sap.zen.crosstab.paging.RequestStack");sap.zen.crosstab.paging.RequestStack=function(n){var t=[];var e=[];var i=n;this.push=function(n){var e=null;var a=false;var s=jQuery.inArray(n,t);if(s!=-1){t.splice(s,1)}if(i){if(t.length===i){e=t[0];a=true;t=t.splice(1,t.length-1)}t.push(n);if(a){r(e)}}else{t.push(n)}};this.pop=function(){return t.pop()};this.peek=function(){var n=null;if(t.length>0){n=t[t.length-1]}return n};this.containsElement=function(n){return jQuery.inArray(n,t)!=-1};this.clear=function(){t=[]};this.getActualSize=function(){return t.length};this.getMaxSize=function(){return i};this.getElementAt=function(n){var e=null;if(n>=0&&n<t.length){e=t[n]}return e};this.resetStack=function(n){t=[];i=n};this.unlimitStack=function(){i=0};this.addElementRemovedHandler=function(n){e.push(n)};this.removeElementRemovedHandler=function(n){var t=jQuery.inArray(n,e);if(t!==-1){e.splice(t,1)}};this.removeAllElementRemovedHandlers=function(){e=[]};function r(n){var t=0;var i=null;for(t=0;t<e.length;t++){i=e[t];if(i){i(n)}}}};return sap.zen.crosstab.paging.RequestStack});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/rendering/CrossRequestManager", ["jquery.sap.global","sap/zen/crosstab/rendering/ScrollManager","sap/zen/crosstab/rendering/PixelScrollManager","sap/zen/crosstab/rendering/HeaderScrollManager","sap/zen/crosstab/utils/Utils"],function(jQuery,e,r,l){"use strict";jQuery.sap.declare("sap.zen.crosstab.rendering.CrossRequestManager");sap.zen.crosstab.rendering.CrossRequestManager=function(t,a){var i=null;var n=null;var o=0;var s="";var f=0;var d="";var u=false;var c=null;var g=null;var v=null;var S=null;var h=false;var P="";var H="";var p=0;var C=0;var A=0;var b=0;var y=false;var D=false;var I=false;var R=undefined;var T=undefined;var V=null;var m=t.getDataArea();var E=t.getRowHeaderArea();var x=t.getColumnHeaderArea();var W=false;var w=false;this.reset=function(){if(i){i.destroy()}i=null;if(n){n.destroy()}n=null};this.clearSavedColWidths=function(){c=null;g=null;v=null;S=null};this.clearSavedData=function(){i=null;n=null;o=0;s="";f=0;d="";u=false;this.clearSavedColWidths();h=false;P="";H="";p=0;C=0;V=null;W=false;w=false};this.saveTableDimensions=function(){if(t.getPropertyBag().isPixelScrolling()){var e=jQuery(document.getElementById(t.getId()+"_dataArea"));A=e.outerHeight();b=e.outerWidth()}p=t.getTotalRows();C=t.getTotalCols()};function B(e){if(H==="expanded"){return e<0}else if(H==="collapsed"){return e>0}else{return false}}this.handleRootCause=function(){var e=f;var r=o;var l=R;var a=T;if(P==="plan"){if(s!=="plan"&&d!=="plan"){this.clearSavedData()}}else if(P==="sorting"){if(s!=="sort"){this.clearSavedData()}else{f=0;T=false}}else if(P==="hierarchy"){if(s==="hier"&&d==="hier"){var i=p-t.getTotalRows();var n=C-t.getTotalCols();if(i!==0){if(B(i)){if(!h){if(t.getPropertyBag().isPixelScrolling()){D=true}else{f=Math.max(0,f-i)}}}else{this.clearSavedData()}}else if(n!==0){if(B(n)){if(!h){if(t.getPropertyBag().isPixelScrolling()){y=true}else{o=Math.max(0,o-n)}}}else{this.clearSavedData()}}}else{this.clearSavedData()}}h=false;P="";H="";p=0;C=0;if(r!==o||e!==f||l!==R||a!==T){t.getUtils().sendScrollPosUpdate(o,R,f,T)}I=true};this.getHPixelScrollPosAfterRendering=function(){var e=-1;if(t.getPropertyBag().isPixelScrolling()){var r=jQuery(document.getElementById(t.getId()+"_dataArea"));if(y){var l=r.outerWidth()-b;e=o+l;y=false}}return e};this.getVPixelScrollPosAfterRendering=function(){var e=-1;if(t.getPropertyBag().isPixelScrolling()){var r=jQuery(document.getElementById(t.getId()+"_dataArea"));if(D){var l=r.outerHeight()-A;e=f+l;D=false}}return e};this.setRootCause=function(e){P=e};this.setHierarchyAction=function(e){H=e};this.setIsHierarchyDirectionDown=function(e){h=e};this.getScrollManager=function(){if(!i){if(t.getPropertyBag().isPixelScrolling()){i=new r(t,a)}else{i=new e(t,a)}if(u){i.setHScrollPos(o);i.setVScrollPos(f)}}return i};this.getHeaderScrollManager=function(){if(!n){n=new l(t,a);if(u){n.setHScrollData(V)}}return n};this.saveHScrollInfo=function(e,r){if(t.getPropertyBag().isPixelScrolling()){var l=t.getRenderEngine().getScrollManager();o=0;if(l){o=l.getCurrentHScrollPos()}}else{o=t.getColumnHeaderArea().getRenderStartCol();if(l&&l.isHScrolledToEnd()){o++;R=true}}if(r){f=0}s=e;u=true;W=true};this.saveVScrollInfo=function(e,r){if(t.getPropertyBag().isPixelScrolling()){var l=jQuery(document.getElementById(t.getId()+"_lowerRight_scrollDiv"));f=0;if(l&&l.length>0){f=l.scrollTop()}}else{f=t.getRowHeaderArea().getRenderStartRow();if(i&&i.isVScrolledToEnd()){f++;T=true}}if(r){o=0}d=e;u=true;w=true};this.savedInfoHandled=function(){if(I===true){o=0;s="";f=0;d="";u=false;c=null;g=null;v=null;S=null;I=false;R=undefined;T=undefined;V=null;W=false;w=false}};this.hasSavedInfo=function(){return u};this.getSavedHScrollInfo=function(){var e={};e.iPos=o;e.sAction=s;e.bScrolledToEnd=R;return e};this.getSavedVScrollInfo=function(){var e={};e.iPos=f;e.sAction=d;e.bScrolledToEnd=T;return e};this.saveColWidths=function(){var e=t.getColumnHeaderArea();var r=t.getDimensionHeaderArea();var l=t.getRowHeaderArea();var a=t.getDataArea();if(!e.hasLoadingPages()){c=e.getColWidths();u=true}if(!a.hasLoadingPages()){v=a.getColWidths();u=true}if(!r.hasLoadingPages()){g=r.getColWidths();u=true}if(!l.hasLoadingPages()){S=l.getColWidths();u=true}};this.restoreColWidths=function(){var e=t.getColumnHeaderArea();var r=t.getDimensionHeaderArea();var l=t.getRowHeaderArea();var a=t.getDataArea();if(c){e.setColWidths(c);c=null}if(v){a.setColWidths(v);v=null}if(g){r.setColWidths(g);g=null}if(S){l.setColWidths(S);S=null}};function M(e,r,l,a){var i={iHScrollPos:e,bHScrolledToEnd:r,iVScrollPos:l,bVScrolledToEnd:a};if(i.iHScrollPos<0){i.iHScrollPos=0;i.bHScrolledToEnd=false}if(i.iVScrollPos<0){i.iVScrollPos=0;i.bVScrolledToEnd=false}if(!t.getPropertyBag().isPixelScrolling()){var n=m?m:x;var o=n.getColCnt()-1;if(i.iHScrollPos>o){i.iHScrollPos=0;i.bHScrolledToEnd=false}n=m?m:E;var s=n.getRowCnt()-1;if(i.iVScrollPos>s){i.iVScrollPos=0;i.bVScrolledToEnd=false}}if(i.iHScrollPos!==e||i.iVScrollPos!==l){t.getUtils().sendScrollPosUpdate(0,false,0,false)}return i}this.setHScrollInfo=function(e,r){o=e;R=r;u=true;W=true};this.setVScrollInfo=function(e,r){f=e;T=r;u=true;w=true};this.setScrollData=function(e,r,l,t){var a=M(e,r,l,t);o=a.iHScrollPos;f=a.iVScrollPos;R=a.bHScrolledToEnd;T=a.bVScrolledToEnd;u=true;W=true;w=true};function z(e){var r=e;if(r.iHPos<0){r.iHPos=0}if(r.iHPos!==e.iHPos){t.getUtils().sendScrollPosUpdate(r.iHPos,undefined,undefined,undefined,true)}return r}this.setHeaderScrollData=function(e){var r=z(e);u=true;V=r};this.getHeaderScrollData=function(){return V};this.hasSavedHScrollInfo=function(){return W};this.hasSavedVScrollInfo=function(){return w}};return sap.zen.crosstab.rendering.CrossRequestManager});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/rendering/DataModel", ["jquery.sap.global"],function(jQuery){"use strict";jQuery.sap.declare("sap.zen.crosstab.rendering.DataModel");sap.zen.crosstab.rendering.DataModel=function(e){var t=[];var n=0;var l=0;var i=null;this.insertCell=function(e,t,i){if(t>n-1||i>l-1){throw{name:"DataModelIndexOutOfBounds",message:"A cell cannot be inserted out of the bounds defined by iRowCnt and iColCnt"}}var o=a(t);o[i]=e;if(e){var r=0;var f=0;for(r=1;r<e.getColSpan();r++){o[i+r]=null}for(r=0;r<e.getColSpan();r++){for(f=1;f<e.getRowSpan();f++){o=a(t+f);o[i+r]=null}}}};this.getCellDirect=function(e,n){var l=null;var i=t[e];if(i){l=i[n]}if(l&&l.setEffectiveRowSpan&&l.setEffectiveColSpan){l.setEffectiveRowSpan(l.getRowSpan());l.setEffectiveColSpan(l.getColSpan())}return l};function a(e){var n=t[e];if(!n){n=[];t[e]=n}return n}this.getCell=function(e,t,n){var l=o(e,t,n);if(l&&l.setEffectiveRowSpan&&l.setEffectiveColSpan){l.setEffectiveRowSpan(l.getRowSpan());l.setEffectiveColSpan(l.getColSpan())}return l};function o(n,l,a){if(!i&&e){i=e.getPageManager()}if(i&&!a){i.ensureCellAvailable(e,n,l)}var o=null;var r=t[n];if(r){o=r[l]}return o}this.setRowCnt=function(e){n=e};this.getRowCnt=function(){return n};this.setColCnt=function(e){l=e};this.getColCnt=function(){return l};this.clear=function(){t=[];n=0;l=0};this.hasData=function(){return t.length>0};this.getCellWithSpan=function(e,t,n){var l=this.getCellWithColSpan(e,t,n);if(!l){l=this.getCellWithRowSpan(e,t,n)}return l};this.getCellWithRowSpan=function(e,t,n){var l=this.getCell(e,t,n);if(!l){var i=1;while(!l&&e>0){e--;i++;l=this.getCell(e,t,n)}if(l&&l.getRowSpan()<i){l=null}if(l&&l.setEffectiveRowSpan){l.setEffectiveRowSpan(l.getRowSpan()-i+1)}}else{if(l.setEffectiveRowSpan){l.setEffectiveRowSpan(l.getRowSpan())}}return l};this.getCellWithColSpan=function(e,t,n){var l=this.getCell(e,t,n);if(!l){var i=1;while(!l&&t>0){t--;i++;l=this.getCell(e,t,n)}if(l&&l.getColSpan()<i){l=null}if(l&&l.setEffectiveColSpan){l.setEffectiveColSpan(l.getColSpan()-i+1)}}else{if(l.setEffectiveColSpan){l.setEffectiveColSpan(l.getColSpan())}}return l};this.getAllLoadedCellsByCol=function(e,t){var n=[];var l=null;var a=0;var o=null;if(!i&&e){i=e.getPageManager()}if(i){l=i.getLoadedCellRowsByCol(e,t)}if(l){for(a=0;a<l.length;a++){o=this.getCellWithColSpan(l[a],t,true);if(o){n.push(o)}}}return n};this.getCellsByCol=function(e,t,n){var l=[];var i=0;var a=0;var o=null;i=t;a=t+n;for(i;i<a;i++){o=this.getCellWithColSpan(i,e,true);if(o){l.push(o)}}return l};this.getAllLoadedCellsByRow=function(e,t){var n=[];var l=null;var a=0;var o=null;if(!i&&e){i=e.getPageManager()}if(i){l=i.getLoadedCellColumnsByRow(e,t)}if(l){for(a=0;a<l.length;a++){o=this.getCellWithRowSpan(t,l[a],true);if(o){n.push(o)}}}return n};this.getCellsByRow=function(e,t,n){var l=[];var i=0;var a=0;var o=null;i=t;a=t+n;for(i;i<a;i++){o=this.getCellWithRowSpan(e,i,true);if(o){l.push(o)}}return l};this.getModelRows=function(){return t}};return sap.zen.crosstab.rendering.DataModel});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/rendering/DomElementProvider", ["jquery.sap.global"],function(jQuery){"use strict";jQuery.sap.declare("sap.zen.crosstab.rendering.DomElementProvider");sap.zen.crosstab.rendering.DomElementProvider=function(){var e={};this.addElement=function(n,r){e[n]=r};this.getElement=function(n){return e[n]}};return sap.zen.crosstab.rendering.DomElementProvider});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/rendering/HeaderScrollManager", ["jquery.sap.global"],function(jQuery){"use strict";jQuery.sap.declare("sap.zen.crosstab.rendering.HeaderScrollManager");sap.zen.crosstab.rendering.HeaderScrollManager=function(e,r){var t={};var n=0;var o=this;var a=null;this.destroy=function(){};this.onNewScrollbars=function(){t={}};r.registerNewScrollbarsNotification(this.onNewScrollbars);function l(r){var n=t[r];if(!n){n=jQuery(document.getElementById(e.getId()+r));if(n&&n.length>0){t[r]=n}}return n}function s(){var r=l("_lowerLeft_scrollDiv");var t=l("_upperLeft_scrollDiv");var o;var a;if(t[0]){a=t[0]}else if(r[0]){a=r[0]}if(a){o=e.getUtils().translateScrollLeft(a,n);t.scrollLeft(o);r.scrollLeft(o)}}this.hScrollHandler=function(r){e.postPlanningValue();var t=n;n=r.getParameters().newScrollPos;s();if(t!==n){o.sendClientScrollPosUpdateAndAdjustDropAreas()}};this.sendClientScrollPosUpdateAndAdjustDropAreas=function(){if(a){clearTimeout(a);a=null}a=setTimeout(o.doSendPosUpdateAndUpdateDropAreas,200,null)};this.adjustVerticalDropAreas=function(){if(e.getDragDropHandler()){e.getDragDropHandler().repositionDropAreasForHeaderScrolling()}};this.doSendPosUpdateAndUpdateDropAreas=function(){e.getUtils().sendClientScrollPosUpdate(n,undefined,undefined,undefined,true);o.adjustVerticalDropAreas()};this.setHScrollData=function(e){if(e){n=e.iHPos}else{n=0}};this.moveScrollbars=function(){var r=e.getHorizontalHeaderScrollbar();if(r){s();r.setScrollPosition(n)}}};return sap.zen.crosstab.rendering.HeaderScrollManager});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/rendering/PixelScrollManager", ["jquery.sap.global"],function(jQuery){"use strict";jQuery.sap.declare("sap.zen.crosstab.rendering.PixelScrollManager");sap.zen.crosstab.rendering.PixelScrollManager=function(e,r){var l={};var o=0;var t=0;var i=r.getCrossRequestManager();var n=this;var s=null;this.getCurrentHScrollPos=function(){return t};this.destroy=function(){};this.onNewScrollbars=function(){l={}};r.registerNewScrollbarsNotification(this.onNewScrollbars);function a(r){var o=l[r];if(!o){o=jQuery(document.getElementById(e.getId()+r));if(o&&o.length>0){l[r]=o}}return o}function c(e){a("_lowerLeft_scrollDiv").scrollTop(e);a("_lowerRight_scrollDiv").scrollTop(e)}function f(r){var l;var o=a("_lowerRight_scrollDiv");var t=a("_upperRight_scrollDiv");var i;var n={};n.oLRS=o;n.oURS=t;if(t[0]){i=t[0]}else if(o[0]){i=o[0]}if(i){l=e.getUtils().translateScrollLeft(i,r)}n.iPos=l;return n}function u(e){var r=f(e);r.oURS.scrollLeft(r.iPos);r.oLRS.scrollLeft(r.iPos)}this.hScrollHandler=function(r){e.postPlanningValue();var l=r.getParameters().newScrollPos;u(l);t=l;n.sendClientScrollPosUpdate()};this.vScrollHandler=function(r){e.postPlanningValue();var l=r.getParameters().newScrollPos;c(l);o=l;n.sendClientScrollPosUpdate()};this.sendClientScrollPosUpdate=function(){if(s){clearTimeout(s);s=null}s=setTimeout(n.doSendPosUpdate,200,null)};this.doSendPosUpdate=function(){e.getUtils().sendClientScrollPosUpdate(t,undefined,o,undefined)};function g(r){var l=e.getHScrollbar();var o=f(r);if(l){l.setScrollPosition(r)}o.oURS.scrollLeft(o.iPos);o.oLRS.scrollLeft(o.iPos)}function S(r){var l=e.getVScrollbar();if(l){l.setScrollPosition(r)}var o=jQuery(document.getElementById(e.getId()+"_lowerRight_scrollDiv"));if(o&&o.length){o.scrollTop(r)}var t=jQuery(document.getElementById(e.getId()+"_lowerLeft_scrollDiv"));if(t&&t.length){t.scrollTop(r)}}this.moveScrollbars=function(){g(t);S(o)};this.positionHScrollDiv=function(){var e=t;var r=i.getHPixelScrollPosAfterRendering();if(r>-1){e=r;g(e)}u(e)};this.positionVScrollDiv=function(){var e=o;var r=i.getVPixelScrollPosAfterRendering();if(r>-1){e=r;S(e)}c(e)};this.setHScrollPos=function(e){t=e};this.setVScrollPos=function(e){o=e};this.adjustPixelScrollbarAfterRendering=function(){var r=i.getNewPixelScrollPosAfterRendering();if(r){var l=r.iVPos;if(l>=0){var o=e.getVScrollbar();if(o){o.setScrollPosition(l);c(l)}}var t=r.iHPos;if(t>=0){var n=e.getHScrollbar();if(n){n.setScrollPosition(t);u(t)}}}}};return sap.zen.crosstab.rendering.PixelScrollManager});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/rendering/RenderEngine", ["jquery.sap.global","sap/zen/crosstab/rendering/ScrollbarRenderer","sap/zen/crosstab/rendering/DomElementProvider","sap/zen/crosstab/utils/Measuring","sap/zen/crosstab/CellStyleHandler","sap/zen/crosstab/rendering/RenderingConstants","sap/zen/crosstab/rendering/CrossRequestManager","sap/zen/crosstab/utils/Utils"],function(jQuery,e,t,r,a,i,n,l){"use strict";jQuery.sap.declare("sap.zen.crosstab.rendering.RenderEngine");sap.zen.crosstab.rendering.RenderEngine=function(o){var d=o.getColumnHeaderArea();var s=o.getDimensionHeaderArea();var g=o.getRowHeaderArea();var h=o.getDataArea();var f=null;var v=null;var c=null;var u=null;var S=null;var C="";var p=false;var b=[];var m=new t;var R=new r(o,m);var H=new n(o,this);var w=null;var I=null;var y=false;var W=false;var E={bHasHScrollbar:false,bHasVScrollbar:false,bHasHHeaderScrollbar:false};var D=[];var A=true;var B=false;var z=-1;var _=-1;var P=0;var M=false;this.isIE8Mode=function(){return y};this.renderResizeOutline=function(){if(o.getWidth()==="auto"&&o.hResize()||o.getHeight()==="auto"&&o.vResize()){var e=o.getId();var t=e+"_resizeDiv";var r=e+"_resizeFrame";var a=0;var i=0;u=m.getElement(e);if(u&&u[0]){u.css("overflow","hidden");var n=R.getTableDivBordersAndPadding();a=n.borders.iTopBorderWidth;i=n.borders.iLeftBorderWidth;c=jQuery.sap.byId(t);c.css("visibility","visible");c.css("top",-a+"px");c.css("left",-i+"px");S=jQuery.sap.byId(r);S.css("width",o.getIntWidth()+"px");S.css("height",o.getIntHeight()+"px");S.css("top",-a+"px");S.css("left",-i+"px");S.css("visibility","visible");var l=u.find("#"+jQuery.sap.encodeCSS(o.getId()+"_hScrollTab"));if(l&&l.length>0){l.appendTo(S);l.css("position","absolute");var d=o.getPropertyBag().getToolbarHeight();l.css("bottom",d+"px");l.css("left","0px")}var s=u.find("#"+jQuery.sap.encodeCSS(o.getId()+"_vScrollTab"));if(s&&s.length>0){s.appendTo(S);s.css("position","absolute");s.css("top","0px");s.css(o.getPropertyBag().isRtl()?"left":"right","0px")}if(o.getPropertyBag().hasToolbar()){var g=u.find("#"+jQuery.sap.encodeCSS(o.getId()+"_toolbar"));if(g&&g.length>0){g.appendTo(S);g.css("position","absolute");g.css("left","0px");g.css("bottom","0px")}}}}};this.removeResizeOutline=function(){if(c){c.css("visibility","hidden");c=null}if(u){u.css("overflow","hidden");u=null}if(S){S.css("visibility","hidden");S=null}};this.addAfterFinishRenderingHandler=function(e){if(jQuery.inArray(e,D)===-1){D.push(e)}};this.removeAfterFinishRenderingHandler=function(e){var t=jQuery.inArray(e,D);if(t!==-1){D.splice(t,1)}};this.removeAllAfterFinishRenderingHandlers=function(){D=[]};this.renderCell=function(e,t,r){var a=e.getCell(t,r);if(a){f.renderControl(a)}return a};this.renderArea=function(e,t,r,a,i,n){if(!t){t=0}if(!r){r=0}if(!a){a=0}if(!i){i=0}var l=t+r;var o=a+i;var d=0;var s=0;l=Math.min(l,e.getRowCnt());o=Math.min(o,e.getColCnt());for(d=t;d<l;d++){if(n){f.write("<tr");f.writeAttributeEscaped("class",n);f.write(">")}else{f.write("<tr>")}for(s=a;s<o;s++){this.renderCell(e,d,s)}f.write("</tr>")}};this.setDeferredVScrollPosDetermination=function(e){W=e};function L(){y=false;if(jQuery.browser.msie){if(jQuery.browser.version.substring(0,2)==="8."){y=true}if(jQuery.browser.fVersion&&jQuery.browser.fVersion===8){y=true}}}this.beginRendering=function(){o.block();L();M=o.getUtils().isMsIE();f=sap.ui.getCore().createRenderManager();ge();u=m.getElement(o.getId());u.css("visibility",o.getPropertyBag().isDebugMode()===true?"visible":"hidden");if(H.hasSavedInfo()){var e=H.getSavedHScrollInfo();if(e){d.setRenderStartCol(e.iPos);if(e.bScrolledToEnd){d.setRenderColCnt(d.getColCnt()-d.getRenderStartCol())}H.restoreColWidths()}var t=H.getSavedVScrollInfo();if(t){g.setRenderStartRow(t.iPos);if(t.bScrolledToEnd){g.setRenderRowCnt(g.getRowCnt()-g.getRenderStartRow())}}}};this.finishRendering=function(e){var t=0;var r=null;var a;var i;this.showLoadingVisualization();if(f){f.destroy()}f=null;R.reset();u=m.getElement(o.getId());u.css("visibility","visible");H.savedInfoHandled();o.restoreFocusOnCell();this.setDivSizeValidity();var n=o.getSelectionHandler();if(n){n.ensureCellsSelected()}if(!o.hasLoadingPages()&&o.hasData()){i=o.getHeaderInfo();if(i){i.setupPivotCell()}a=o.getDragDropHandler();if(a&&o.getPropertyBag().isDragDropEnabled()){a.initDragDrop(e)}if(e&&o.getColResizer()&&o.getPropertyBag().isEnableColResize()){o.getColResizer().initialize()}}for(t=0;t<D.length;t++){r=D[t];if(r){r()}}o.unblock()};this.renderDimensionHeaderArea=function(){var e=0;var t=s.getRowCnt();var r=0;var a=s.getColCnt();this.renderArea(s,e,t,r,a,"sapzencrosstab-HeaderRow");s.setRenderSize(e,t,r,a);f.flush(m.getElement(s.getId())[0])};this.renderDataArea=function(){var e=h.getId();var t=m.getElement(h.getId());var r=t;var a="";if(!o.getPropertyBag().isDebugMode()){t.hide()}t.html("<tbody></tbody>");r=jQuery(document.getElementById(e).firstChild);r.html("");a=r[0].innerHTML||"";f.write(a);var i=0;var n=0;var l=0;var s=0;if(g.hasContent()){i=g.getRenderStartRow();n=g.getRenderRowCnt()}else{i=0;n=h.getRowCnt()}if(d.hasContent()){l=d.getRenderStartCol();s=d.getRenderColCnt()}else{l=0;s=h.getColCnt()}var v=x(i,n,l,s);var c=T(i,n,l,s);v=null;c=null;if(v){G(v);U(v,i,n,l,s,this)}else if(c){j(c);N(c,i,n,l,s,this)}else{this.renderArea(h,i,n,l,s)}f.flush(r[0]);t.show();h.setRenderSize(i,n,l,s)};function x(e,t,r,a){if(r!==h.getRenderStartCol()||a!==h.getRenderColCnt()||t!==h.getRenderRowCnt()){return 0}var i=h.getRenderStartRow()+h.getRenderRowCnt();var n=e+t;var l=n-i;if(Math.abs(l)<t){return l}return 0}function T(e,t,r,a){if(e!==h.getRenderStartRow()||t!==h.getRenderRowCnt()||a!==h.getRenderColCnt()){return 0}var i=h.getRenderStartCol()+h.getRenderColCnt();var n=r+a;var l=n-i;if(Math.abs(l)<a){return l}return 0}function V(e){var t=null;var r;if(M===true){if(o.getPropertyBag().isDragDropEnabled()===true){r=e.find("td");jQuery.each(r,function(e,t){var r=jQuery(t);if(r.data("ui-draggable")){r.draggable("destroy")}if(r.data("ui-droppable")){r.droppable("destroy")}r.off()})}t=e.clone(true).off()}else{t=e.clone()}return t}function G(e){var t=jQuery(document.getElementById(h.getId()));var r=V(t);var a=jQuery(r[0].firstChild);var i=a.find("> tr");if(e>0){for(var n=0;n<e;n++){jQuery(i[n]).remove()}}else{var l=i.length;for(n=l+e;n<l;n++){jQuery(i[n]).remove()}}t.replaceWith(r);m.addElement(h.getId(),jQuery(document.getElementById(h.getId())))}function j(e){var t=jQuery(document.getElementById(h.getId()));var r=V(t);var a=jQuery(r[0].firstChild);var i=a.find("> tr");var n=i.length;if(e>0){for(var l=0;l<n;l++){var o=jQuery(i[l]).find("> td");for(var d=0;d<e;d++){jQuery(o[d]).remove()}}}else{for(l=0;l<n;l++){o=jQuery(i[l]).find("> td");var s=o.length-Math.abs(e)-1;for(d=o.length-1;d>s;d--){jQuery(o[d]).remove()}}}t.replaceWith(r);m.addElement(h.getId(),jQuery(document.getElementById(h.getId())))}function U(e,t,r,a,i,n){var l=jQuery(document.getElementById(h.getId()).firstChild);var o=l.html();var d=Math.abs(e);var s;if(e>0){f.write(o);s=r+t-e;n.renderArea(h,s,d,a,i)}else{s=t;n.renderArea(h,s,d,a,i);f.write(o)}f.flush(l[0])}function N(e,t,r,a,i){var n=jQuery(document.getElementById(h.getId()).firstChild);var l;var o=n.find("> tr");if(e>0){l=a+i-e;for(var d=0;d<o.length;d++){var s=jQuery(o[d]);var g=s.html();f.write("<tr>");f.write(g);for(var v=l;v<a+i;v++){f.renderControl(h.getCell(t+d,v))}f.write("</tr>")}}else{l=a;for(d=0;d<o.length;d++){s=jQuery(o[d]);g=s.html();f.write("<tr>");for(v=l;v<l-e;v++){f.renderControl(h.getCell(t+d,v))}f.write(g);f.write("</tr>")}}}this.renderColHeaderArea=function(e,t){var r=d.getId();var a=m.getElement(d.getId());var i=a;var n=d.getRowCnt();var l=d.getColCnt();var g="";var h=0;var v=0;var c=R.getAreaWidth(s);var u=0;var S=o.getContentWidth();var C=0;var p=0;var b,H;var w,I;var y;var W=0;var E=h;var D;var A=o.getId()+"_ColHeaderRow_";var B=null;if(!t){S-=c}if(!o.getPropertyBag().isDebugMode()){a.hide()}a.html("<tbody></tbody>");i=jQuery(document.getElementById(r).firstChild);i.html("");var z=false;if(o.getPropertyBag().isPixelScrolling()){B=k;h=0;C=l}else{B=q;h=e;C=l-h;z=this.isHScrolledToEnd()}while(B(v,C,p,S,z)){g=i[0].innerHTML;if(!g){F(i)}E=h+v;W=0;H=d.getFinalColWidth(E);if(!H){W++}while(B(v,C,p,S,z)&&H){v++;p+=H;H=d.getFinalColWidth(h+v);W++}D=E+W;for(b=0;b<n;b++){w=A+b;y=a.find("#"+jQuery.sap.encodeCSS(w))[0];I=y.innerHTML;f.write('<tr id="'+w+'" class="sapzencrosstab-HeaderRow">');f.write(I);for(var _=E;_<D;_++){var P=null;if(_===h){P=d.getCellWithColSpan(b,_)}else{P=d.getCell(b,_)}if(P){f.renderControl(P)}}f.write("</tr>")}f.flush(i[0]);if(!d.getFinalColWidth(E)){var M=a.outerWidth()-u;p+=M;v++}u=a.outerWidth()}d.setRenderSize(0,d.getRowCnt(),h,v);a.show()};this.appendColumnsAfterResize=function(){var e=m.getElement(d.getId());var t=0;var r=0;var a=0;if(d.getRenderStartCol()>0&&d.getRenderStartCol()+d.getRenderColCnt()===d.getColCnt()){var i=o.getContentWidth()-R.getAreaWidth(s);var n=e.outerWidth();t=n;var l=false;if(!o.getPropertyBag().isDebugMode()){e.hide()}while(n<=i&&d.getRenderStartCol()>0){this.appendLeftCols(d,1);this.appendLeftCols(h,1);l=true;a=d.getFinalColWidth(d.getRenderStartCol());if(a){n+=a}else{r=e.outerWidth()-t;n+=r}t=e.outerWidth()}e.show();if(l){this.adjustRowHeights(s,d);this.adjustRowHeights(g,h);this.adjustColWidths(d,h);R.calculateRenderSize(true);this.calculateRenderSizeDivSize();if(!w){w=H.getScrollManager()}w.commandHScrolledToEnd()}}e=m.getElement(d.getId())};function F(e){var t=d.getRowCnt();var r=0;for(r=0;r<t;r++){f.write("<tr");f.writeAttribute("class","sapzencrosstab-HeaderRow");f.writeAttribute("id",o.getId()+"_ColHeaderRow_"+r);f.write(">");f.write("</tr>")}f.flush(e[0])}function O(e){var t=e+1;var r=0;var a=r+g.getColCnt();var i=0;var n=0;for(i=e;i<t;i++){f.write("<tr");f.writeAttribute("class","sapzencrosstab-HeaderRow");f.write(">");for(n=r;n<a;n++){var l=g.getCellWithRowSpan(i,n);if(l){f.renderControl(l)}}f.write("</tr>")}}this.isVScrolledToEnd=function(){var e=false;if(w){e=w.isVScrolledToEnd()}return e};this.isHScrolledToEnd=function(){var e=false;if(w){e=w.isHScrolledToEnd()}return e};function q(e,t,r,a,i){return(r<a||i)&&e<t}function k(e,t){return e<t}this.renderRowHeaderArea=function(e){var t=g.getId();var r=m.getElement(g.getId());var a=r;var i=g.getRowCnt();var n="";var l=0;var d=R.getAreaHeight(s);var h=d;var v=o.getContentHeight();var c=0;var u=1;var S=null;if(!o.getPropertyBag().isDebugMode()){r.hide()}r.html("<tbody></tbody>");a=jQuery(document.getElementById(t).firstChild);a.html("");var C=false;if(o.getPropertyBag().isPixelScrolling()){S=k;e=0;c=i}else{S=q;c=i-e;C=this.isVScrolledToEnd()}while(S(l,c,h,v,C)){n=a[0].innerHTML||"";f.write(n);u=1;if(l>0){if(o.getPropertyBag().isPixelScrolling()){u=c-l}else{if(l<c-2){u=3}else if(l<c-1){u=2}}this.renderArea(g,e+l,u,0,g.getColCnt(),"sapzencrosstab-HeaderRow")}else{O(e)}f.flush(a[0]);l+=u;h=d+r.outerHeight()}r.show();g.setRenderSize(e,l,0,g.getColCnt());if(y){Y(g)}};function J(e,t,r){var a=1;var i=e.getCell(t,r,true);if(!i){while(!i&&t>0){t--;a++;i=e.getCell(t,r,true)}}return a}function Y(e){var t=e.getRenderStartRow()+e.getRenderRowCnt()-1;var r=e.getRenderStartCol();var a=r+e.getRenderColCnt()-1;var i=0;var n=null;var l=1;for(i=r;i<=a;i++){n=e.getCellWithRowSpan(t,i);if(n){l=J(e,t,i);n.setHtmlIE8RowSpan(l)}}}this.appendRowsAfterResize=function(){var e=m.getElement(g.getId());var t=0;var r=0;var a=0;if(g.getRenderStartRow()>0){var i=o.getContentHeight()-R.getAreaHeight(s);var n=e.outerHeight();t=n;var l=false;if(!o.getPropertyBag().isDebugMode()){e.hide()}while(n<=i&&g.getRenderStartRow()>0&&g.getRenderStartRow()+g.getRenderRowCnt()===g.getRowCnt()){this.appendTopRows(g,1);this.appendTopRows(h,1);l=true;a=g.getFinalRowHeight(g.getRenderStartRow());if(a){n+=a}else{r=e.outerHeight()-t;n+=r}t=e.outerHeight()}e.show();if(l){this.adjustRowHeights(g,h);this.adjustColWidths(s,g);this.adjustColWidths(d,h);R.calculateRenderSize(true);this.calculateRenderSizeDivSize();if(!w){w=H.getScrollManager()}w.commandVScrolledToEnd()}}e=m.getElement(g.getId())};this.setUserColWidths=function(e){if(!e.hasContent()||!e.hasUserColWidths()){return}e.calculateColGranularity();var t=e.measureColGranularityCells();e.applyColWidthsToGranularityCells(t);var r=m.getElement(e.getId());var a=V(r);Z(e,r,a,true);r.replaceWith(a);r=jQuery(document.getElementById(e.getId()));$(e,r,true);m.addElement(e.getId(),jQuery(document.getElementById(e.getId())));e.setColGranularityCalculatedAndMeasured(true)};this.adjustColWidths=function(e,t){if(!t.hasContent()||!e.hasContent()){if(!e.hasUserColWidths()&&!t.hasUserColWidths()){return}}var r=m.getElement(e.getId());var a=m.getElement(t.getId());e.calculateColGranularity();t.calculateColGranularity();var i=e.measureColGranularityCells();var n=t.measureColGranularityCells();e.setColGranularityCalculatedAndMeasured(false);t.setColGranularityCalculatedAndMeasured(false);var l=0;var d;for(l=e.getRenderStartCol();l<i.length;l++){d=Math.max(i[l]||0,n[l]||0);i[l]=d;n[l]=d}e.applyColWidthsToGranularityCells(i,e.hasUserColWidths());t.applyColWidthsToGranularityCells(n,t.hasUserColWidths());var s=V(r);var g=V(a);Z(e,r,s);Z(t,a,g);r.replaceWith(s);a.replaceWith(g);r=jQuery(document.getElementById(e.getId()));a=jQuery(document.getElementById(t.getId()));$(e,r);$(t,a);if(t.isRowHeaderArea()&&o.getNewLinesCnt()>0&&o.getCallValueHelpCommand()){Q()}m.addElement(e.getId(),jQuery(document.getElementById(e.getId())));m.addElement(t.getId(),jQuery(document.getElementById(t.getId())))};function K(e,t){var r=null;var a=null;var i=null;var n=0;var o=null;var d=g.getColGranularity();var s=0;var h=d[n].iWidth;var f=0;var v=0;var c=0;var u=0;var S=0;var C=null;var p=0;for(n=0;n<t;n++){o=g.getCell(e,n);if(o&&o.isEntryEnabled()){a=jQuery(document.getElementById(o.getId()));r=jQuery(document.getElementById(o.getId()+"_cellLayoutDiv"));l.getWidthFromStyle(r);if(d&&d.length>0){h=d[n].iWidth;f=parseInt(a.css("padding-left"))||0;v=parseInt(a.css("padding-right"))||0;c=parseInt(a.css("border-left-width"))||0;u=parseInt(a.css("border-right-width"))||0;s=h-f-v-c-u;r.css("width",s+"px");S=jQuery(r.find("td")[1]).outerWidth();C=jQuery(r.find("td")[0]);f=parseInt(C.css("padding-left"))||0;v=parseInt(C.css("padding-right"))||0;i=C.find("#"+jQuery.sap.encodeCSS(o.getId()+"_contentDiv"));p=s-f-v-S;i.css("width",p+"px")}}}}function Q(){var e=g.getRenderColCnt();var t=g.getRenderRowCnt();var r=g.getRenderStartRow();var a=g.getRowCnt();var i=o.getNewLinesCnt();var n=0;var l=0;if(o.isNewLinesTop()){if(r<i){for(n=r;n<i;n++){K(n,e)}}}else if(o.isNewLinesBottom()){var d=r+t-(a-i);if(d>0){var s=r+t-1;for(l=0;l<d;l++){K(s,e);s--}}}}this.adjustRowHeights=function(e,t){if(!t.hasContent()||!e.hasContent()){return}var r=m.getElement(e.getId());var a=m.getElement(t.getId());e.calculateRowGranularity();t.calculateRowGranularity();var i=e.measureRowGranularityCells();var n=t.measureRowGranularityCells();var l=0;var d;for(l=e.getRenderStartRow();l<i.length;l++){d=Math.max(i[l]||0,n[l]||0);i[l]=d;n[l]=d}var s=t.isColHeaderArea()?t.getLevelCells():null;var g=e.applyRowHeightsToGranularityCells(i,s);g=g||t.applyRowHeightsToGranularityCells(n,s);if(g===true&&E&&E.bHasHScrollbar===true&&!o.getPropertyBag().isPixelScrolling()){if(w){o.setScrollInvalidate(g)}}var h=V(r);var f=V(a);ee(e,r,h);ee(t,a,f);r.replaceWith(h);a.replaceWith(f);r=jQuery(document.getElementById(e.getId()));a=jQuery(document.getElementById(t.getId()));te(e,r);te(t,a);if(M){X(e);X(t)}m.addElement(e.getId(),jQuery(document.getElementById(e.getId())));m.addElement(t.getId(),jQuery(document.getElementById(t.getId())))};function X(e){var t=e.getCellsWithLineBreakTexts();var r=0;var a=0;var i=0;var n=0;var l=0;var o=0;var d=null;var s=null;if(t){i=e.getRenderStartRow();n=i+e.getRenderRowCnt()-1;l=e.getRenderStartCol();o=l+e.getRenderColCnt()-1;for(r=i;r<=n;r++){for(a=l;a<=o;a++){d=e.getCell(r,a);if(d){d=t[d.getId()];if(d){s=jQuery(document.getElementById(d.getId()+"_contentDiv"));if(s&&s.length>0){s.css("height",s.outerHeight()+"px")}}}}}}}function Z(e,t,r,a){var i=0;var n=e.getColGranularity();var l=null;var o=null;var d=null;var s=null;var g=0;for(i=0;i<n.length;i++){l=n[i];if(l){if(a===true){if(!e.isFixedColWidthSet(l.iCol)){continue}}o=t.find("#"+jQuery.sap.encodeCSS(l.sId));d=r.find("#"+jQuery.sap.encodeCSS(l.sId));g=ne(o,l.iWidth,e.getCell(l.iRow,l.iCol));var h=sap.ui.getCore().getControl(l.sId);if(h.isEntryEnabled()&&e.isRowHeaderArea()){s=jQuery(d.find("#"+jQuery.sap.encodeCSS(l.sId+"_cellLayoutDiv")))}else{s=jQuery(d.find("#"+jQuery.sap.encodeCSS(l.sId+"_contentDiv")))}s.width(g)}}}function $(e,t,r){var a=0;var i=e.getColGranularity();var n=null;var l=null;var o=null;var d=0;var s={};for(a=0;a<i.length;a++){n=i[a];if(n){if(r===true){if(!e.isFixedColWidthSet(n.iCol)){continue}}l=t.find("#"+jQuery.sap.encodeCSS(n.sId));d=l.outerWidth();if(d>n.iWidth){if(!o){o=V(t)}ie(e,t,o,n,s)}}}if(o){t.replaceWith(o)}}function ee(e,t,r){var a=0;var i=e.getRowGranularity();var n=null;var l=null;var o=null;var d=null;var s=0;for(a=0;a<i.length;a++){n=i[a];if(n){l=t.find("#"+jQuery.sap.encodeCSS(n.sId));o=r.find("#"+jQuery.sap.encodeCSS(n.sId));d=o.parent();s=le(l,n.iHeight);d.height(s)}}}function te(e,t){var r=0;var a=e.getRowGranularity();var i=null;var n=null;var l=0;var o=null;var d={};for(r=0;r<a.length;r++){i=a[r];if(i){n=t.find("#"+jQuery.sap.encodeCSS(i.sId));var s=n.parent();l=s.outerHeight();if(l>i.iHeight){if(!o){o=V(t)}ae(e,t,o,i,d)}}}if(o){t.replaceWith(o)}}function re(e,t){var r=0;if(y){var a=e.find("table");if(a===null||a.length===0){r=oe(e,t)}}else{r=oe(e,t)}return r}function ae(e,t,r,a,i){var n=e.getRenderStartCol()+e.getRenderColCnt();var l=0;var o=null;var d=0;var s=0;var g=e.getCalculatedRowHeights();var h=null;var f=null;var v=null;var c=0;var u=0;var S;var C;for(l=e.getRenderStartCol();l<n;l++){o=e.getCellWithColSpan(a.iRow,l);if(!o){o=e.getCellWithRowSpan(a.iRow,l);if(o&&l<a.iCol&&o.getEffectiveRowSpan()>1){if(!i[o.getId()]){i[o.getId()]=o}else{o=null}}}if(o){f=t.find("#"+jQuery.sap.encodeCSS(o.getId()));v=r.find("#"+jQuery.sap.encodeCSS(o.getId()));if(f.length>0){d=0;u=y?o.getHtmlIE8RowSpan():o.getEffectiveRowSpan();S=e.getRenderRowCnt()-(Math.max(o.getRow(),e.getRenderStartRow())-e.getRenderStartRow());C=Math.min(S,u);for(s=0;s<C;s++){d+=g[a.iRow+s]||0}c=re(f,d);h=jQuery(v.find("#"+jQuery.sap.encodeCSS(o.getId()+"_contentDiv")));h.css("line-height",c+"px");if(o.getEffectiveRowSpan()>1){i[o.getId()]=o}}}}}function ie(e,t,r,a,i){var n=0;var l=null;var o=null;var d=null;var s=null;var g=0;var h=0;var f=0;var v=e.getCalculatedColWidths();var c;var u;var S;var C=e.getRenderStartRow()+e.getRenderRowCnt();for(n=e.getRenderStartRow();n<C;n++){l=e.getCellWithRowSpan(n,a.iCol);if(!l){l=e.getCellWithColSpan(n,a.iCol);if(l&&n<a.iRow&&l.getEffectiveColSpan()>1){if(!i[l.getId()]){i[l.getId()]=l}else{l=null}}}if(l){if(i[l.getId()]){continue}o=t.find("#"+jQuery.sap.encodeCSS(l.getId()));d=r.find("#"+jQuery.sap.encodeCSS(l.getId()));if(o.length>0){h=0;c=l.getEffectiveColSpan();u=e.getRenderColCnt()-(Math.max(l.getCol(),e.getRenderStartCol())-e.getRenderStartCol());S=Math.min(u,c);for(f=0;f<S;f++){h+=v[a.iCol+f]||0}g=ne(o,h,l);if(l.isEntryEnabled()&&e.isRowHeaderArea()){s=jQuery(d.find("#"+jQuery.sap.encodeCSS(l.sId+"_cellLayoutDiv")))}else{s=jQuery(d.find("#"+jQuery.sap.encodeCSS(l.getId()+"_contentDiv")))}s.width(g);if(l.getEffectiveColSpan()>1){i[l.getId()]=l}}}}}function ne(e,t,r){var a=parseInt(e.css("padding-left"))||0;var i=parseInt(e.css("padding-right"))||0;var n=parseInt(e.css("border-left-width"))||0;var l=parseInt(e.css("border-right-width"))||0;var o=0;var d=0;if(r!==null&&r.isEntryEnabled()){if(r.isEntryEnabled()&&r.getArea().isRowHeaderArea()){var s=jQuery(e.find("#"+jQuery.sap.encodeCSS(r.getId()+"_cellLayoutDiv")))}else{s=e.find("#"+jQuery.sap.encodeCSS(r.getId()+"_contentDiv"))}o=parseInt(s.css("border-left-width"))||0;d=parseInt(s.css("border-right-width"))||0}var g=Math.max(1,t-a-i-n-l-o-d);return g}function le(e,t){var r=jQuery(e).parent();var a=parseInt(r.css("border-top-width"),10)||0;var i=parseInt(r.css("border-bottom-width"),10)||0;var n=t+a+i;return n}function oe(e,t){var r=parseInt(e.css("padding-top"))||0;var a=parseInt(e.css("padding-bottom"))||0;var i=parseInt(e.css("border-top-width"))||0;var n=parseInt(e.css("border-bottom-width"))||0;var l=t-r-a-i-n;return l}this.determineHeaderScrollbarVisible=function(){if(E){var e=0;var t=null;var r=null;var a=false;if(s.getColCnt()>0){e=R.getAreaSize(s).iWidth;r=jQuery(document.getElementById(o.getId()+"_dimHeaderArea_container"));t=jQuery(document.getElementById(o.getId()+"_upperLeft_scrollDiv"))}if(e===0){if(g.getColCnt()>0){e=R.getAreaSize(g).iWidth;r=jQuery(document.getElementById(o.getId()+"_rowHeaderArea_container"));t=jQuery(document.getElementById(o.getId()+"_lowerLeft_scrollDiv"))}}if(e>0){a=r.outerWidth()>t.outerWidth()}E.bHasHHeaderScrollbar=a}if(!E||!E.bHasHHeaderScrollbar){o.setHeaderHScrolling(false)}};this.determineDefaultScrollbarsVisible=function(){E={};var e=R.getAreaSize(s);var t=R.calculateRenderSize();var r=R.getRenderSizeDivSize(o);var a=o.getContentWidth();var i=o.getContentHeight();var n=R.getBrowserScrollbarWidth();var l=null;var d=h.getRenderColCnt()===h.getColCnt();var g=h.getRenderRowCnt()===h.getRowCnt();E.bHasHScrollbar=(t.iWidth>a||!d)&&r.iWidth>e.iWidth;E.bHasVScrollbar=(t.iHeight>i||!g)&&r.iHeight>e.iHeight;if(E.bHasHScrollbar&&!E.bHasVScrollbar){l=R.getRenderSizeDivBorders();if(i<=t.iHeight+n+l.borders.iBottomBorderWidth+l.borders.iTopBorderWidth){E.bHasVScrollbar=true}}else if(!E.bHasHScrollbar&&E.bHasVScrollbar){l=R.getRenderSizeDivBorders();if(a<=t.iWidth+n+l.borders.iRightBorderWidth+l.borders.iLeftBorderWidth){E.bHasHScrollbar=true}}};this.determineScrollbarsVisible=function(){this.determineDefaultScrollbarsVisible();this.determineHeaderScrollbarVisible()};this.setAdjustFrameDivs=function(e){A=e};this.removeOuterDivBorders=function(){var e=jQuery(jQuery.sap.byId(o.getId()+"_renderSizeDiv"));e.css("border-bottom-width","");e.css("border-top-width","");e.css("border-left-width","");e.css("border-right-width","")};this.setDivSizeValidity=function(){B=!o.getRowHeaderArea().hasLoadingPages()&&!o.getColumnHeaderArea().hasLoadingPages()};this.calculateRenderSizeDivSize=function(){if(A||!B){var e=jQuery(jQuery.sap.byId(o.getId()+"_renderSizeDiv"));var t=R.getRenderSizeDivBorders(e);if(z!==-1){t.borders.iBottomBorderWidth=z}var r=o.getContentWidth()-t.borders.iLeftBorderWidth-t.borders.iRightBorderWidth;e.width(r+"px");var a=o.getContentHeight()-t.borders.iBottomBorderWidth-t.borders.iTopBorderWidth;e.height(a+"px")}};this.adjustRenderSizeDivSize=function(){if(A||!B){var e=jQuery(jQuery.sap.byId(o.getId()+"_renderSizeDiv"));var t=R.getRenderSizeDivBorders(e);if(z!==-1){t.borders.iBottomBorderWidth=z}var r=R.getRenderSizeDivSize().iHeight;if(z!==-1){r+=z}var a=R.getRenderSizeDivSize().iWidth;var n=o.getContentHeight();if(E.bHasHScrollbar||E.bHasHHeaderScrollbar){n-=R.getBrowserScrollbarWidth()}if(o.getRenderMode()===i.RENDERMODE_COMPACT){var l=E.bHasHScrollbar||E.bHasHHeaderScrollbar?R.getBrowserScrollbarWidth():0;var d=o.getPropertyBag().getToolbarHeight();var s=r+l+t.borders.iBottomBorderWidth+t.borders.iTopBorderWidth+d;var g=n+l+d;if(g>=s){n=s;var h=m.getElement(o.getId());h.css("height",n+"px");if(z===-1){z=parseInt(e.css("border-bottom-width"),10)}e.css("border-bottom-width","0px")}}if(r>=n){if(z===-1){z=parseInt(e.css("border-bottom-width"),10)}e.css("border-bottom-width","0px")}var f=Math.min(r,n);e.css("height",f);var v=o.getContentWidth();if(E.bHasVScrollbar){v-=R.getBrowserScrollbarWidth()}if(o.getRenderMode()===i.RENDERMODE_COMPACT){var c=E.bHasVScrollbar?R.getBrowserScrollbarWidth():0;var u=a+c+t.borders.iLeftBorderWidth+t.borders.iRightBorderWidth;var S=v+c;if(S>=u){v=u;h=m.getElement(o.getId());h.css("width",v+"px");e.css("border-right-width","0px")}}if(a>=v){e.css("border-right-width","0px")}var C=Math.min(a,v);e.css("width",C);this.adjustGlassPaneSize()}};this.adjustGlassPaneSize=function(){var e=o.getGlassPane();var t=o.getRenderSizeDiv();e.css("width",t.outerWidth()+"px");e.css("height",t.outerHeight()+"px")};this.renderScrollbars=function(){this.determineScrollbarsVisible();if(E.bHasHScrollbar||E.bHasVScrollbar||E.bHasHHeaderScrollbar){if(!w){w=H.getScrollManager()}if(E.bHasHHeaderScrollbar){I=H.getHeaderScrollManager()}if(v){v.destroy();v=null}v=new e(o,f,R,m);v.renderScrollbars(E);v.attachHandlers(w.hScrollHandler,w.vScrollHandler,E.bHasHHeaderScrollbar?I.hScrollHandler:null);de()}else{w=null}};function de(){var e=0;for(e=0;e<b.length;e++){b[e]()}}this.setScrollbarSteps=function(){if(v){v.setScrollbarSteps()}};this.adjustScrollDivSizes=function(){var e=jQuery.sap.byId(o.getId()+"_lowerLeft");var t=e.outerWidth();var r=R.getRenderSizeDivSize();var a=r.iWidth-t+"px";var i=jQuery.sap.byId(o.getId()+"_lowerRight_scrollDiv");i.width(a);var n=jQuery.sap.byId(o.getId()+"_upperRight_scrollDiv");n.width(a);var l=jQuery.sap.byId(o.getId()+"_upperLeft");var d=l.outerHeight();if(!d){var s=jQuery.sap.byId(o.getId()+"_upperRight");d=s.outerHeight()}var g=r.iHeight-d+"px";i.height(g);var h=jQuery.sap.byId(o.getId()+"_lowerLeft_scrollDiv");h.height(g)};this.appendLeftCols=function(e,t){var r=Math.max(0,e.getRenderStartCol()-t);var a=Math.max(0,e.getRenderStartCol()-1);var i=t;if(r===a){i=1}var n=e.getRenderStartRow();var l=n+e.getRenderRowCnt()-1;var o=null;var d=0;var s=0;var g=0;var h=jQuery(document.getElementById(e.getId()));var v=h.children("tbody");if(v.length===0){h.append("<tbody></tbody>");v=h.children("tbody");for(g=n;g<=l;g++){v.append("<tr></tr>")}}var c=v.children("tr");for(g=n;g<=l;g++){var u=c[d];s=0;for(var S=r;S<=a;S++){if(s===0){o=e.getCellWithColSpan(g,S)}else{o=e.getCell(g,S)}if(o){var C=o.getColSpan();if(C>1){var p=o.getEffectiveColSpan();var b=Math.min(i,e.getRenderStartCol()-r);var m=p-(b-s);if(m>0){var R=jQuery(u).find("> :first-child");R.remove()}}f.renderControl(o)}s++}var H=jQuery(jQuery(c[d])).html();f.write(H);f.flush(u);d++}var w=e.getRenderColCnt();var I=a-r+1;e.setRenderColCnt(w+I);e.setRenderStartCol(r)};this.appendTopRows=function(e,t){var r=Math.max(0,e.getRenderStartRow()-t);var a=Math.max(0,e.getRenderStartRow()-1);var i=t;if(r===a){i=1}var n=e.getRenderStartCol();var l=n+e.getRenderColCnt()-1;var d=jQuery(document.getElementById(e.getId()));var s=d.children("tbody");if(s.length===0){d.append("<tbody></tbody>");s=d.children("tbody")}var g=s.html();var h=[];var v=0;var c=null;if(!o.getPropertyBag().isDebugMode()){s.hide()}for(var u=r;u<=a;u++){f.write("<tr");f.writeAttribute("class","sapzencrosstab-HeaderRow");f.write(">");for(var S=n;S<=l;S++){c=null;if(v===0){c=e.getCellWithRowSpan(u,S)}else{c=e.getCell(u,S)}if(c){var C=c.getRowSpan();if(C>1){var p=c.getEffectiveRowSpan();var b=p-(i-v);if(b>0){h.push(S)}}f.renderControl(c)}}f.write("</tr>");v++}var m=[];if(h.length>0){var R=jQuery(document.getElementById(e.getId())).children("tbody").children("tr");var H=jQuery(R[0]);var w=0;for(w=0;w<h.length;w++){c=H.find("> :nth-child("+(h[w]+1)+")");if(c.length>0){var I=c.attr("id");m.push(I)}}for(var y=0;y<m.length;y++){var W=H.find("#"+jQuery.sap.encodeCSS(m[y]));W.remove()}f.write("<tr");f.writeAttribute("class","sapzencrosstab-HeaderRow");f.write(">");f.write(H.html()+"</tr>");for(w=1;w<R.length;w++){f.write("<tr");f.writeAttribute("class","sapzencrosstab-HeaderRow");f.write(">");f.write(jQuery(R[w]).html()+"</tr>")}}else{f.write(g)}e.setRenderStartRow(r);e.setRenderRowCnt(e.getRenderRowCnt()+a-r+1);f.flush(s[0]);s.show()};function se(e,t,r){var a=0;var i=t.getScrollPosition();var n={};n.parameters={};n.oSource=t;n.parameters.oldScrollPos=i;if(o.getPropertyBag().isPixelScrolling()||r){a=Math.max(0,Math.min(e,parseInt(t.getContentSize(),10)));n.parameters.action="Drag"}else{a=Math.max(0,Math.min(e,t.getSteps()));n.parameters.action="STEP"}n.getParameters=function(){return this.parameters};n.parameters.newScrollPos=a;n.parameters.forward=a-i>0;return n}this.scrollHorizontal=function(e){if(o.getHScrollbar()){var t=se(e,o.getHScrollbar());o.getHScrollbar().setScrollPosition(t.getParameters().newScrollPos);w.hScrollHandler(t,true)}};this.scrollVertical=function(e,t){if(o.getVScrollbar()){var r=se(e,o.getVScrollbar());o.getVScrollbar().setScrollPosition(r.getParameters().newScrollPos);var a=false;if(!t){a=true}w.vScrollHandler(r,a)}};this.scrollHeaderHorizontal=function(e){var t=o.getHorizontalHeaderScrollbar();if(t){var r=se(e,t,true);t.setScrollPosition(r.getParameters().newScrollPos);I.hScrollHandler(r)}};this.getMeasuringHelper=function(){return R};this.reset=function(e){H.reset();if(!e){H.clearSavedColWidths()}w=null;R.reset();if(v){v.destroy();v=null}b=[];B=false;z=-1};this.adjustScrollPositions=function(e){if(E.bHasHScrollbar||E.bHasVScrollbar){if(W&&o.getPropertyBag().isPixelScrolling()){var t=0;var r=H.getSavedVScrollInfo();if(r){var a=o.getDataArea();var i=R.getAreaHeight(a);var n=a.getRowCnt();var l=Math.round(i/n);t=r.iPos*l}w.setVScrollPos(t)}var d=undefined;var s=undefined;if(H){if(H.hasSavedInfo()){var g=H.getSavedHScrollInfo();if(g){d=g.bScrolledToEnd}g=H.getSavedVScrollInfo();if(g){s=g.bScrolledToEnd}}}w.moveScrollbars(E,e,d,s);W=false}if(o.isHeaderHScrolling()===true){if(H&&H.hasSavedInfo()===true){I.setHScrollData(H.getHeaderScrollData());I.moveScrollbars()}}};this.hasCrosstabSizeChanged=function(){return R.hasCrosstabSizeChanged(true)};this.getTableDivValues=function(){return R.getTableDivBordersAndPadding()};function ge(){var e=o.getTableDiv();var t=d.getId();var r=g.getId();var a=s.getId();var i=h.getId();m.addElement(o.getId(),e);m.addElement(t,e.find("#"+jQuery.sap.encodeCSS(t)));m.addElement(r,e.find("#"+jQuery.sap.encodeCSS(r)));m.addElement(a,e.find("#"+jQuery.sap.encodeCSS(a)));m.addElement(i,e.find("#"+jQuery.sap.encodeCSS(i)))}this.showLoadingIndicator=function(){if(!C&&!p){C=setTimeout(he,300)}else if(p){he()}};function he(){p=true;var e=m.getElement(o.getId());e.addClass("sapzencrosstab-TableDivLoading");var t=e.find("#"+jQuery.sap.encodeCSS(o.getId()+"_loadingAnimationDiv"));var r=parseInt(t.css("width"),10);var a=parseInt(t.css("height"),10);var i=R.getRenderSizeDivSize(o);var n=i.iWidth/2-r/2;var l=i.iHeight/2-a/2;t.css("top",l+"px");t.css("left",n+"px");t.css("visibility","visible")}function fe(){if(C){clearTimeout(C);C=""}}this.hideLoadingIndicator=function(){fe();var e=m.getElement(o.getId());e.removeClass("sapzencrosstab-TableDivLoading");var t=e.find("#"+jQuery.sap.encodeCSS(o.getId()+"_loadingAnimationDiv"));if(t&&t[0]){t.css("visibility","hidden")}p=false};this.showLoadingVisualization=function(){if(h.hasLoadingPages()){this.showLoadingIndicator()}else{this.hideLoadingIndicator()}};this.moveScrollDivs=function(){if(w){if(E){if(E.bHasHScrollbar){w.positionHScrollDiv()}if(E.bHasVScrollbar){w.positionVScrollDiv()}}}};this.getCrossRequestManager=function(){return H};this.registerNewScrollbarsNotification=function(e){if(jQuery.inArray(e,b)===-1){b.push(e)}};this.checkScrollbarSize=function(){if(E.bHasVScrollbar){var e=jQuery(document.getElementById(o.getId()+"_upperRightPad"));var t=null;if(o.hasDimensionHeaderArea()){t=jQuery(document.getElementById(o.getId()+"_upperLeft_scrollDiv"))}else if(o.hasColHeaderArea()){t=jQuery(document.getElementById(o.getId()+"_upperRight_scrollDiv"))}if(e!==null&&e.length>0&&t!==null&&t.length>0){var r=t.outerHeight();if(r!==e.outerHeight()){if(v){v.adjustVScrollbarHeight(r)}}}}if(E.bHasHScrollbar){var a=jQuery(document.getElementById(o.getId()+"_lowerLeftPad"));var i;if(o.hasRowHeaderArea()){i=jQuery(document.getElementById(o.getId()+"_lowerLeft_scrollDiv"))}else{i=jQuery(document.getElementById(o.getId()+"_upperLeft_scrollDiv"))}var n=i.outerWidth();if(n!==a.outerWidth()){if(v){v.adjustHScrollbarWidth(n)}}}};this.updateRenderingOfInputCellAfterCheck=function(e){var t=jQuery(document.getElementById(e.getId()));if(t.length>0){var r=a.getCompleteStyleName(i.STYLE_INVALID_VALUE,e.getCellType());if(e.hasStyle(i.STYLE_INVALID_VALUE)===true){t.addClass(r)}else{t.removeClass(r)}var n=t.find("#"+jQuery.sap.encodeCSS(e.getId()+"_contentDiv"));n.html(e.getText())}};this.updateHeaderScrollbarSizes=function(){if(v){v.setHorizontalHeaderScrollbarSteps();v.adjustHorizontalHeaderScrollbarContainerSize()}};function ve(e,t){var r=jQuery(document.getElementById(o.getId()+e));if(r.length>0){if(t===true){r.find("tbody>tr[class=sapzencrosstab-HeaderRow]>td:last-child").addClass("sapzencrosstab-removeRightBorder")}else{r.find("tbody>tr[class=sapzencrosstab-HeaderRow]>td:last-child").removeClass("sapzencrosstab-removeRightBorder")}}}function ce(e,t){if(e&&e.length>0){e.addClass("sapzencrosstab-lowerScrollHeaderSeparator");ve("_rowHeaderArea",true)}if(t&&t.length>0){t.addClass("sapzencrosstab-upperScrollHeaderSeparator");ve("_dimHeaderArea",true)}}function ue(e,t){if(e&&e.length>0){e.removeClass("sapzencrosstab-lowerScrollHeaderSeparator");ve("_rowHeaderArea",false)}if(t&&t.length>0){t.removeClass("sapzencrosstab-upperScrollHeaderSeparator");ve("_dimHeaderArea",false)}}this.getLeftScrollDivs=function(){var e=null;var t=null;if(o.hasRowHeaderArea()){e=jQuery(document.getElementById(o.getId()+"_lowerLeft_scrollDiv"))}if(o.hasDimensionHeaderArea()){t=jQuery(document.getElementById(o.getId()+"_upperLeft_scrollDiv"))}return{oJqRowHeaderDiv:e,oJqDimHeaderDiv:t}};this.determineUnrestrictedRightAreaWidth=function(){var e=0;var t;var r;var a=1;if(o.hasDimensionHeaderArea()){t=o.getDimensionHeaderArea()}else if(o.hasRowHeaderArea()){t=o.getRowHeaderArea()}if(t&&t.getRenderColCnt()>0){r=o.getTableCellWithSpans(0,t.getRenderColCnt()-1);if(r){a=parseInt(jQuery(document.getElementById(r.getId())).css("border-right-width"),10)}}if(h){h.saveData()}if(d){d.saveData()}this.renderRightAreas(true);this.determineDefaultScrollbarsVisible();e=this.getRightAreaContainerWidth()+(E.bHasVScrollbar?R.getBrowserScrollbarWidth():0)+a;if(h){jQuery(document.getElementById(h.getId())).find("tbody").empty();h.restoreData()}if(d){jQuery(document.getElementById(d.getId())).find("tbody").empty();d.restoreData()}return e};this.calculateLeftAreaHeaderWidth=function(e,t,r){var a=0;var i=o.getPropertyBag().getMaxHeaderWidth();var n=o.getPropertyBag().getUserHeaderWidth();var l;var d=Math.round(e/2);if(i>0){if(n>0){a=Math.min(i,n)}else{a=Math.min(i,t)}}else{a=n}if(a>=e){a=0}if(a>=t){a=0}if(t+r>e){if(this.hasRightArea()){if(a===0){if(r<=d){l=o.getRenderSizeDiv();a=e-r-parseInt(l.css("border-right-width"),10)-parseInt(l.css("border-left-width"),10)-1}else if(t<=d){a=t}else{a=d}}}else{a=e}}else{a=0}a=this.limitHeaderWidth(a);return a};this.enableHeaderResizeHandle=function(e){var t;t=jQuery(document.getElementById(o.getId()+"_headerResizeHandle"));if(t&&t.length>0){t.css("visibility",e?"visible":"hidden")}};this.forceHeaderWidth=function(){var e=null;var t=null;var r=0;var a=0;var i=0;var n=0;var l=null;if(o.hasRowHeaderArea()===false&&o.hasDimensionHeaderArea()===false){return}l=this.getLeftScrollDivs();e=l.oJqRowHeaderDiv;t=l.oJqDimHeaderDiv;r=this.getLeftAreaContainerWidth();if(this.hasRightArea()){a=this.determineUnrestrictedRightAreaWidth()}n=o.getContentWidth();i=this.calculateLeftAreaHeaderWidth(n,r,a);if(i>0){this.setDivWidth(e,i);this.setDivWidth(t,i);o.setHeaderHScrolling(true);P=i;ce(e,t);this.enableHeaderResizeHandle(true)}else{o.setHorizontalHeaderScrollbar(null);o.setHeaderHScrolling(false);P=0;ue(e,t);this.enableHeaderResizeHandle(false);o.getUtils().sendClientScrollPosUpdate(0,undefined,undefined,undefined,true);o.getPropertyBag().setUserHeaderWidth(0);this.sendHeaderLimit("N0",true)}};this.hasRightArea=function(){return o.hasDataArea()||o.hasColHeaderArea()};this.hasLeftArea=function(){return o.hasDimensionHeaderArea()||o.hasRowHeaderArea()};this.getLeftAreaContainerWidth=function(){var e=0;var t=null;if(o.hasDimensionHeaderArea()===true){t=jQuery(document.getElementById(o.getId()+"_dimHeaderArea_container"));e=t.outerWidth()}else if(o.hasRowHeaderArea()===true){t=jQuery(document.getElementById(o.getId()+"_rowHeaderArea_container"));e=t.outerWidth()}return e};this.getRightAreaContainerWidth=function(){var e=0;var t=null;if(o.hasColHeaderArea()===true){t=jQuery(document.getElementById(o.getId()+"_colHeaderArea_container"));e=t.outerWidth()}else if(o.hasDataArea()===true){t=jQuery(document.getElementById(o.getId()+"_dataArea_container"));e=t.outerWidth()}return e};this.getSectionWidth=function(){var e=this.getLeftAreaContainerWidth();var t=this.getRightAreaContainerWidth();var r=null;var a=null;var i=0;var n=0;if(o.hasDimensionHeaderArea()){r=jQuery(document.getElementById(o.getId()+"_upperLeft_scrollDiv"))}else if(o.hasRowHeaderArea()){r=jQuery(document.getElementById(o.getId()+"_lowerLeft_scrollDiv"))}i=l.getWidthOfMarginBorderPadding(r);if(o.hasColHeaderArea()){a=jQuery(document.getElementById(o.getId()+"_upperRight_scrollDiv"))}else if(o.hasDataArea()){a=jQuery(document.getElementById(o.getId()+"_lowerRight_scrollDiv"))}n=l.getWidthOfMarginBorderPadding(a);var d=e+t+i+n;return d};this.updateHeaderResizeDiv=function(){var e=jQuery(document.getElementById(o.getId()+"_headerResizeHandle"));var t=0;var r=o.getPropertyBag().getMaxHeaderWidth();if(e&&e.length>0){t=P;if(isNaN(t)||!t){if(r>0){t=Math.min(t,r)}var a=this.getLeftAreaContainerWidth();var i=jQuery(document.getElementById(o.getId()+"_renderSizeDiv")).outerWidth();var n=e.outerWidth();t=a<=i?a:i-n}if(o.getPropertyBag().isRtl()){e.css("right",t+"px")}else{e.css("left",t+"px")}}};this.getIntHeaderLimit=function(e){var t;var r;if(e.indexOf("N")===0){r=e.substring(1)}else{r=e}t=parseInt(r,10);return t};this.sendHeaderLimit=function(e,t){var r=o.getUserHeaderWidthCommand();var a=0;a=this.getIntHeaderLimit(e);if(_===a){return}if(r&&r.length>0){_=a;H.saveColWidths();r=r.replace("__HEADER_WIDTH__",e);o.getUtils().executeCommandAction(r,t)}};this.getHeaderScrollManager=function(){return I};this.limitHeaderWidth=function(e){var t=o.getPropertyBag().getMaxHeaderWidth();var r=0;if(t>0&&e>0){r=Math.min(t,e)}else{r=e}return r};this.setDivWidth=function(e,t){var r="";if(e&&e.length>0){if(!t){r="100%"}else{r=t+"px"}e.css("width",r)}};this.renderLeftAreas=function(){this.renderDimensionHeaderArea();this.setUserColWidths(o.getDimensionHeaderArea());this.renderRowHeaderArea(o.getRowHeaderArea().getRenderStartRow());this.setUserColWidths(o.getRowHeaderArea());this.adjustColWidths(o.getDimensionHeaderArea(),o.getRowHeaderArea())};this.renderRightAreas=function(e){var t=d.getRenderStartCol();if(e===true){t=0}this.renderColHeaderArea(t,e);this.setUserColWidths(o.getColumnHeaderArea());this.renderDataArea();this.setUserColWidths(o.getDataArea());this.adjustColWidths(o.getColumnHeaderArea(),o.getDataArea())};this.renderCrosstabAreas=function(){var e=o.isHeaderScrollingConfigured();this.renderLeftAreas();if(e===true&&!o.isPreparedDom()){this.forceHeaderWidth()}this.renderRightAreas();this.adjustRowHeights(o.getDimensionHeaderArea(),o.getColumnHeaderArea());this.adjustRowHeights(o.getRowHeaderArea(),o.getDataArea())};this.getScrollManager=function(){return w};this.getScrollbarVisibility=function(){return E}};return sap.zen.crosstab.rendering.RenderEngine});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/rendering/RenderingConstants", ["jquery.sap.global"],function(jQuery){"use strict";jQuery.sap.declare("sap.zen.crosstab.rendering.RenderingConstants");sap.zen.crosstab.rendering.RenderingConstants={TYPE_DATA_AREA:"DataArea",TYPE_DIMENSION_HEADER_AREA:"DimensionHeaderArea",TYPE_COLUMN_HEADER_AREA:"ColumnHeaderArea",TYPE_ROW_HEADER_AREA:"RowHeaderArea",ROW_AXIS:"ROW",COL_AXIS:"COL",DATA_AXIS:"DATA",TYPE_HEADER_CELL:"HEADER_CELL",TYPE_DATA_CELL:"DATA_CELL",STYLE_PREFIX_DATA_CELL:"sapzencrosstab-DataCell",STYLE_PREFIX_HEADER_CELL:"sapzencrosstab-HeaderCell",STYLE_TOTAL:"Total",STYLE_ALTERNATING:"Alternating",STYLE_FIRST_IN_ROW:"FirstInRow",STYLE_LAST_IN_ROW:"LastInRow",STYLE_FIRST_IN_COL:"FirstInCol",STYLE_LAST_IN_COL:"LastInCol",STYLE_HEADER_CELL:"Default",STYLE_DATA_CELL:"Default",STYLE_HEADER_CELL_COZY:"Cozy",STYLE_DATA_CELL_COZY:"Cozy",STYLE_LOADING:"Loading",STYLE_HIGHLIGHTED:"Highlighted",STYLE_EMPHASIZED:"Emphasized",STYLE_DATA_ENTRY_ENABLED:"EntryEnabled",STYLE_INVALID_VALUE:"InvalidValue",STYLE_NEW_VALUE:"NewValue",STYLE_LOCKED:"Locked",ALERT_TYPE_BACKGROUND:2,ALERT_TYPE_FONT_COLOR:4,ALERT_TYPE_STATUS_SYMBOL:8,ALERT_TYPE_TREND_ASCENDING_SYMBOL:16,ALERT_TYPE_TREND_DESCENDING_SYMBOL:32,ALERT_TYPE_TREND_GREY_SYMBOL:64,RENDERMODE_FILL:0,RENDERMODE_COMPACT:1,PASSIVE_CELL_TYPE_NORMAL:"NORMAL",PASSIVE_CELL_TYPE_NEWLINE_HEADER:"NHC",PASSIVE_CELL_TYPE_NEWLINE_DATA:"NDC",TABINDEX:"0",ZEBRA_FULL:"FULL",ZEBRA_DATA:"DATA",ZEBRA_OFF:"OFF"};return sap.zen.crosstab.rendering.RenderingConstants});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/rendering/ScrollManager", ["jquery.sap.global","sap/ui/core/Popup","sap/zen/crosstab/TextConstants","sap/zen/crosstab/utils/Utils"],function(jQuery,e,t,n){"use strict";jQuery.sap.declare("sap.zen.crosstab.rendering.ScrollManager");sap.zen.crosstab.rendering.ScrollManager=function(r,o){"use strict";var i=r.getColumnHeaderArea();var l=r.getRowHeaderArea();var a=r.getDimensionHeaderArea();var s=r.getDataArea();var g=o.getMeasuringHelper();var d=0;var u=0;var c=false;var f=false;var p=0;var v=null;var S=null;var h=null;var C=null;var R=new sap.ui.core.Popup;var w=null;if(n.isMainMode()){w=new sap.m.Text}else{w=new sap.ui.commons.TextView;w.setWrapping(false)}R.setContent(w);R.setDurations(125,500);R.setAutoClose(true);R.getContent().addStyleClass("sapzencrosstab-ScrollPopup");var m=(s.getRowCnt()+"").length;var P=(s.getColCnt()+"").length;var H=0;var W=0;var I=false;var b=false;var T=this;this.destroy=function(){R.destroy()};this.setHScrollPos=function(e){u=e};this.setVScrollPos=function(e){d=e};function E(e){var t=0;if(e){t=jQuery(document.getElementById(e.getId())).children("tbody").children("tr").length}return t}function y(){var e=E(l);var t=E(s);var n=e-t;if(n>0){o.beginRendering();o.appendTopRows(s,n);l.setRenderStartRow(s.getRenderStartRow());l.setRenderRowCnt(s.getRenderRowCnt());o.adjustColWidths(a,l);o.adjustColWidths(i,s);o.adjustRowHeights(l,s);o.finishRendering(true)}}function M(e){r.getPageManager().enableTimeout(true);S=null;var t=null;if(!e){t=v}else{t=e.getParameters()}if(t){r.postPlanningValue();var n=r.getHScrollbar();var d=n.getSteps();c=t.newScrollPos===d;u=t.newScrollPos;T.sendClientScrollPosUpdate();var p=t.newScrollPos;if(p!==i.getRenderStartCol()){if(p!==i.getColCnt()){o.beginRendering();o.renderColHeaderArea(p);o.renderDataArea();o.adjustColWidths(i,s);o.adjustRowHeights(l,s);o.adjustRowHeights(a,i);o.finishRendering(true)}var h=g.getAreaWidth(i);var C=g.getUpperRightScrollDivWidth();var w=h<C;var m=i.getRenderColCnt()+i.getRenderStartCol()===i.getColCnt();if(c||w&&m){if(w&&p>0){o.beginRendering();o.appendLeftCols(i,4);o.appendLeftCols(s,4);o.adjustColWidths(i,s);o.adjustRowHeights(l,s);o.adjustRowHeights(a,i);o.finishRendering(true)}if(!c&&t.forward){B(0,true)}j(true)}else{j(false)}}else{if(c){j(true)}}if(f){y();k(true)}if(t.newScrollPos===0){j(false)}}R.close();if(r.isScrollInvalidate()===true&&!r.hasLoadingPages()){r.setInvalidateCalledByScrolling();r.invalidate()}}this.hScrollHandler=function(e,t){if(!I){if(t){M(e)}else{v=e.getParameters();if(S){clearTimeout(S);S=null;D(v.newScrollPos)}S=setTimeout(M,200,null);u=v.newScrollPos}}else{I=false}};function B(e,t){var n=r.getHScrollbar();var o=n.getScrollPosition();var i;if(t){e=n.getSteps();if(r.getPropertyBag().isRtl()&&r.getUtils().isMozilla()){n.setScrollPosition(0);n.setScrollPosition(e)}c=true}if(o!==e){n.setScrollPosition(e);I=true}u=e;i=r.getRenderEngine().getCrossRequestManager();if(i){i.setHScrollInfo(u,c)}}function j(e){T.positionHScrollDiv(e)}this.positionHScrollDiv=function(e){var t=jQuery(document.getElementById(r.getId()+"_upperRight_scrollDiv"));var n=jQuery(document.getElementById(r.getId()+"_lowerRight_scrollDiv"));var o;if(typeof e==="undefined"){e=c}if(r.getPropertyBag().isRtl()){if(jQuery.browser.webkit){o=e?0:n[0].scrollWidth}else if(r.getUtils().isMozilla()){o=e?-n[0].scrollWidth:0}else{o=e?n[0].scrollWidth:0}}else{o=e?n[0].scrollWidth:0}n.scrollLeft(o);t.scrollLeft(o)};this.vScrollHandler=function(e,t){if(!b){if(t){_(e)}else{h=e.getParameters();if(C){clearTimeout(C);C=null;V(h.newScrollPos)}C=setTimeout(_,200,null);d=h.newScrollPos}}else{b=false}};this.sendClientScrollPosUpdate=function(){r.getUtils().sendClientScrollPosUpdate(u,c,d,f)};function D(e){var o=r.getColumnHeaderArea();var i=null;var l=[];for(var a=0;a<1;a++){i=o.getCellWithColSpan(a,e,true);if(i){l.push(i.getUnescapedText())}else{l.push("?")}}var s=r.getPropertyBag().getText(t.COL_TEXT_KEY)+" "+n.padWithZeroes(e+1,P)+"/"+o.getColCnt();if(!W){if(n.isMainMode()){R.getContent().setWrapping(false)}A(s);if(n.isMainMode()){W=jQuery(document.getElementById(R.getContent().getId())).outerWidth()}else{W=jQuery(document.getElementById(R.getContent().getId())).innerWidth()}}if(n.isMainMode()){R.getContent().setMaxLines(l.length+1);R.getContent().setWrapping(true)}s=s+"\n"+l.join("\n");A(s)}function A(t){R.getContent().setProperty("text",t,true);var n=e.Dock;if(W){R.getContent().setWidth(W+"px")}var o=r.getHScrollbar();var i=g.getRenderSizeDivSize().iWidth-g.getAreaWidth(r.getRowHeaderArea());var l=jQuery(document.getElementById(R.getContent().getId())).outerWidth();i=i-l;var a=o.getScrollPosition()/o.getSteps();var s=i*a+" ";R.setPosition(n.BeginBottom,n.BeginTop,document.getElementById(r.getHScrollbar().getId()),s+"-20");if(R.getOpenState()===sap.ui.core.OpenState.CLOSED){R.open(-1)}R.getContent().rerender()}function V(e){var o=r.getRowHeaderArea();var i=null;var l=[];for(var a=0;a<1;a++){i=o.getCellWithRowSpan(e,a,true);if(i){l.push(i.getUnescapedText())}else{l.push("?")}}var s=r.getPropertyBag().getText(t.ROW_TEXT_KEY)+" "+n.padWithZeroes(e+1,m)+"/"+o.getRowCnt();if(!H){if(n.isMainMode()){R.getContent().setWrapping(false)}x(s);if(n.isMainMode()){H=jQuery(document.getElementById(R.getContent().getId())).outerWidth()}else{H=jQuery(document.getElementById(R.getContent().getId())).innerWidth()}}s=s+"\n"+l.join("\n");if(n.isMainMode()){R.getContent().setMaxLines(l.length+1);R.getContent().setWrapping(true)}x(s)}function x(e){R.getContent().setProperty("text",e,true);var t=sap.ui.core.Popup.Dock;var n=r.getVScrollbar();var o=g.getRenderSizeDivSize().iHeight-g.getAreaHeight(r.getColumnHeaderArea());var i=jQuery(document.getElementById(R.getContent().getId())).outerHeight();o=o-i;var l=n.getScrollPosition()/n.getSteps();var a=" "+o*l;R.setPosition(t.EndTop,t.BeginTop,document.getElementById(r.getVScrollbar().getId()),"-20"+a);if(H){R.getContent().setWidth(H+"px")}if(R.getOpenState()===sap.ui.core.OpenState.CLOSED){R.open(-1)}R.getContent().rerender()}function L(e){var t="";var n=1;var r=0;jQuery(document.getElementById(e.getId())).children("tbody").children("tr:last").children("td").each(function(e,o){t=jQuery(o).attr("colspan");if(!t){n=1}else{n=parseInt(t,10)}r=r+n});return r}function z(){var e=L(i);var t=L(s);var n=e-t;if(n>0){o.beginRendering();o.appendLeftCols(s,n);i.setRenderStartCol(s.getRenderStartCol());i.setRenderColCnt(s.getRenderColCnt());o.adjustColWidths(i,s);o.adjustRowHeights(l,s);o.adjustRowHeights(a,i);o.finishRendering(true)}}function _(e){r.getPageManager().enableTimeout(true);C=null;var t=null;if(!e){t=h}else{t=e.getParameters()}if(t){r.postPlanningValue();var n=r.getVScrollbar();var u=n.getSteps();f=t.newScrollPos===u;d=t.newScrollPos;T.sendClientScrollPosUpdate();var p=t.newScrollPos;if(p!==l.getRenderStartRow()){if(p!==l.getRowCnt()){o.beginRendering();o.renderRowHeaderArea(p);o.renderDataArea();o.adjustColWidths(a,l);o.adjustColWidths(i,s);o.adjustRowHeights(l,s);o.finishRendering(true)}var v=g.getAreaHeight(l);var S=g.getLowerScrollDivHeight();var w=v<S;var m=l.getRenderRowCnt()+l.getRenderStartRow()===l.getRowCnt();if(f||w&&m){if(w&&p>0){o.beginRendering();o.appendTopRows(l,2);o.appendTopRows(s,2);o.adjustColWidths(a,l);o.adjustColWidths(i,s);o.adjustRowHeights(l,s);o.finishRendering(true)}if(!f&&t.forward){O(0,true)}k(true)}else{k(false)}}else{if(f){k(true)}}if(t.newScrollPos===0){k(false)}if(c){z();j(true)}}R.close();U()}function U(){var e=r.getRenderEngine().getHeaderScrollManager();if(e){e.moveScrollbars()}}function O(e,t){var n=r.getVScrollbar();var o=n.getScrollPosition();var i;if(t){e=n.getSteps();f=true}if(o!==e){n.setScrollPosition(e);b=true}d=e;i=r.getRenderEngine().getCrossRequestManager();if(i){i.setVScrollInfo(d,f)}}function k(e){T.positionVScrollDiv(e)}this.positionVScrollDiv=function(e){var t=jQuery(document.getElementById(r.getId()+"_lowerRight_scrollDiv"));var n=jQuery(document.getElementById(r.getId()+"_lowerLeft_scrollDiv"));if(typeof e==="undefined"){e=f}p=e?t[0].scrollHeight:0;t.scrollTop(p);n.scrollTop(p)};this.moveScrollbars=function(e,t,n,o){var a=r.getHScrollbar();if(a){if(n!==undefined){c=n}else{c=a.getSteps()<=u&&i.getRenderStartCol()+i.getRenderColCnt()>=i.getColCnt()}if(c){j(true);B(0,true)}else{B(u,false)}}var s=r.getVScrollbar();if(s){if(o!==undefined){f=o}else{f=s.getSteps()<=d&&l.getRenderStartRow()+l.getRenderRowCnt()>=l.getRowCnt()}if(f){O(0,true);k(true)}else{O(d,false)}}};this.commandHScrolledToEnd=function(){c=true};this.commandVScrolledToEnd=function(){f=true};this.isVScrolledToEnd=function(){return f};this.isHScrolledToEnd=function(){return c};this.setVScrolledToEnd=function(e){f=e};this.setHScrolledToEnd=function(e){c=e}};return sap.zen.crosstab.rendering.ScrollManager});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/rendering/ScrollbarRenderer", ["jquery.sap.global","sap/zen/crosstab/utils/Measuring","sap/zen/crosstab/utils/Utils"],function(jQuery,e,t){"use strict";jQuery.sap.declare("sap.zen.crosstab.rendering.ScrollbarRenderer");sap.zen.crosstab.rendering.ScrollbarRenderer=function(e,r,l,a){var i=0;var o=false;var n=false;var s=false;var d=null;var c=null;var g=null;var S=e.getPropertyBag().isPixelScrolling();function h(t){r.write("<div");r.writeAttributeEscaped("id",e.getId()+"_upperRightPad");r.writeAttribute("class","sapzencrosstab-UpperRightScrollPad");r.addStyle("width",i+"px");r.addStyle("height",t+"px");r.writeStyles();r.write(">");r.write("</div>")}function u(t,l){var a=null;var n=0;var d=0;if(!e.getVScrollbar()){a=new sap.ui.core.ScrollBar;e.setVScrollbar(a)}a=e.getVScrollbar();a.setVertical(true);if(s===true&&!o){n=jQuery(document.getElementById(e.getId()+"_renderSizeDiv")).outerHeight()-i}else{n=t}d=n-l;a.setSize(d+"px");r.renderControl(a)}function v(){r.write("<td");r.writeAttribute("class","sapzencrosstab-VScrollCell");r.write(">")}function w(t){var a=l.getUpperScrollDivHeight();r.write("<table");r.writeAttributeEscaped("id",e.getId()+"_vScrollTab");r.writeAttribute("class","sapzencrosstab-VScrollTable");r.write(">");r.write("<tr>");v();h(a);r.write("</td>");r.write("</tr>");r.write("<tr>");v();u(t,a);r.write("</td>");r.write("</tr>");r.write("</table>")}function b(){r.write("<div");r.writeAttributeEscaped("id",e.getId()+"_vScrollDiv");r.addStyle("position","absolute");r.addStyle("top","0px");r.addStyle(e.getPropertyBag().isRtl()?"left":"right","0px");r.addStyle("width",i+"px");var t=l.getRenderSizeDivSize().iHeight;if(o){t=Math.min(e.getContentHeight()-i,t)}r.addStyle("height",t+"px");r.writeStyles();r.write(">");w(t);r.write("</div>")}function f(){var t=0;var r=jQuery(document.getElementById(e.getId()+"_upperLeft_scrollDiv"));var l=e.getUtils();var a=e.getPropertyBag();if(r.length>0){t=l.isMsIE()||a.isRtl()&&l.isMozilla()?r.width():r.outerWidth()}if(t===0){r=jQuery(document.getElementById(e.getId()+"_lowerLeft_scrollDiv"));t=l.isMsIE()||a.isRtl()&&l.isMozilla()?r.width():r.outerWidth()}return t}function p(t){if(!s){r.write("<div");r.writeAttributeEscaped("id",e.getId()+"_lowerLeftPad");r.writeAttribute("class","sapzencrosstab-LowerLeftScrollPad");r.addStyle("width",t+"px");r.addStyle("height",i+"px");r.writeStyles();r.write(">");r.write("</div>")}else{var l=null;if(!e.getHorizontalHeaderScrollbar()){l=new sap.ui.core.ScrollBar;e.setHorizontalHeaderScrollbar(l)}l=e.getHorizontalHeaderScrollbar();l.setVertical(false);var a=f();l.setSize(a+"px");r.renderControl(l)}}function H(t){if(t===true){r.write("<td");r.writeAttributeEscaped("id",e.getId()+"_hScrollTableCell");r.writeAttribute("class","sapzencrosstab-HScrollCell sapzencrosstab-HScrollCellWithHeaderScrollRightBorder")}else{r.write("<td");r.writeAttribute("class","sapzencrosstab-HScrollCell")}r.write(">")}function z(){r.write("<div");r.writeAttributeEscaped("id",e.getId()+"_lowerRightPad");r.writeAttribute("class","sapzencrosstab-LowerRightScrollPad");r.addStyle("width",i+"px");r.addStyle("height",i+"px");r.writeStyles();r.write(">");r.write("</div>")}function I(t,l){if(o===true){var a=null;if(!e.getHScrollbar()){a=new sap.ui.core.ScrollBar;e.setHScrollbar(a)}a=e.getHScrollbar();a.setVertical(false);a.setSize(t-l-(n?i:0)+"px");r.renderControl(a)}else{r.write("<div");r.writeAttributeEscaped("id",e.getId()+"_lowerMiddlePad");r.writeAttribute("class","sapzencrosstab-LowerMiddleScrollPad");r.addStyle("width",t-l-(n?i:0)+"px");r.addStyle("height",i+"px");r.writeStyles();r.write(">");r.write("</div>")}}function m(){var t=jQuery(document.getElementById(e.getId()+"_lowerLeft"));var l=t.outerWidth();r.write("<table");r.writeAttributeEscaped("id",e.getId()+"_hScrollTab");r.writeAttribute("class","sapzencrosstab-HScrollTable");r.write(">");r.write("<tr>");H(s);p(l);r.write("</td>");var a=e.getContentWidth();H();I(a,l);r.write("</td>");if(n){H();z();r.write("</td>")}r.write("</tr>");r.write("</table>")}function y(){r.write("<div");r.writeAttributeEscaped("id",e.getId()+"_hScrollDiv");r.addStyle("position","absolute");var t=e.getPropertyBag().getToolbarHeight();r.addStyle("bottom",t+"px");r.addStyle("height",i+"px");var l=e.getContentWidth();r.addStyle("width",l+"px");r.addStyle("height",i+"px");r.writeStyles();r.write(">");m(l);r.write("</div>")}this.renderScrollbars=function(t){o=t.bHasHScrollbar;n=t.bHasVScrollbar;s=t.bHasHHeaderScrollbar;if(o||n||s){i=l.getBrowserScrollbarWidth();if(i===0){if(n){var d=new sap.ui.core.ScrollBar;e.setVScrollbar(d)}if(o){var c=new sap.ui.core.ScrollBar;e.setHScrollbar(c)}if(s){var g=new sap.ui.core.ScrollBar;e.setHorizontalHeaderScrollbar(g)}}else{var S=a.getElement(e.getId());var h=S.html();if(n){b()}if(o||s){y()}r.write(h);r.flush(S[0])}}};this.attachHandlers=function(r,l,a){this.detachHandlers();d=r;c=l;g=a;if(d&&e.getHScrollbar()){e.getHScrollbar().attachScroll(d);e.getHScrollbar().attachBrowserEvent("mousedown touchstart",t.cancelEvent)}if(c&&e.getVScrollbar()){e.getVScrollbar().attachScroll(c);e.getVScrollbar().attachBrowserEvent("mousedown touchstart",t.cancelEvent);this.attachMouseWheelHandler()}if(g&&e.getHorizontalHeaderScrollbar()){e.getHorizontalHeaderScrollbar().attachScroll(g);e.getHorizontalHeaderScrollbar().attachBrowserEvent("mousedown touchstart",t.cancelEvent)}};this.attachMouseWheelHandler=function(){if(!e.getPropertyBag().isMobileMode()){var t=e.getTableDiv();if(/Firefox/i.test(window.navigator.userAgent)){t[0].addEventListener("DOMMouseScroll",this.vScrollMouseWheelFireFox)}else{t.on("mousewheel",this.vScrollMouseWheel)}}};this.detachMouseWheelHandler=function(){if(!e.getPropertyBag().isMobileMode()){var t=e.getTableDiv();if(/Firefox/i.test(window.navigator.userAgent)){t[0].removeEventListener("DOMMouseScroll",this.vScrollMouseWheelFireFox)}else{t.off("mousewheel",this.vScrollMouseWheel)}}};function E(e){return e&&e/Math.abs(e)}this.vScrollMouseWheelFireFox=function(e){var t=E(e.detail);x(e,t)};this.vScrollMouseWheel=function(e){var t=-E(e.originalEvent.wheelDelta);x(e,t)};function x(r,l){if(e.hasLoadingPages()===false){var a=0;var i=0;if(S===true){a=120;i=parseInt(e.getVScrollbar().getContentSize(),10)}else{a=3;i=e.getVScrollbar().getSteps()}var o=e.getVScrollPos()+l*a;o=Math.max(0,o);o=Math.min(o,i);e.getRenderEngine().scrollVertical(o,true)}t.cancelEvent(r)}this.detachHandlers=function(){if(d&&e.getHScrollbar()){e.getHScrollbar().detachScroll(d);e.getHScrollbar().detachBrowserEvent("mousedown touchstart",t.cancelEvent)}if(c&&e.getVScrollbar()){e.getVScrollbar().detachScroll(c);e.getVScrollbar().detachBrowserEvent("mousedown touchstart",t.cancelEvent);this.detachMouseWheelHandler()}if(g&&e.getHorizontalHeaderScrollbar()){e.getHorizontalHeaderScrollbar().detachScroll(g);e.getHorizontalHeaderScrollbar().detachBrowserEvent("mousedown touchstart",t.cancelEvent)}d=null;c=null;g=null};this.destroy=function(){this.detachHandlers();i=0;o=false;n=false;d=null;c=null};this.setScrollbarSteps=function(){if(e.getPropertyBag().isPixelScrolling()){this.setScrollbarStepsInPixelMode()}else{this.setScrollbarStepsInStepMode()}if(s){this.setHorizontalHeaderScrollbarSteps()}};this.setHorizontalHeaderScrollbarSteps=function(){var t=e.getHorizontalHeaderScrollbar();if(t){var r=null;if(e.hasDimensionHeaderArea()){r=e.getId()+"_dimHeaderArea_container"}else if(e.hasRowHeaderArea()){r=e.getId()+"_rowHeaderArea_container"}if(r){var l=jQuery(document.getElementById(r));t.setContentSize(l.outerWidth()+"px");t.rerender()}}};this.adjustHorizontalHeaderScrollbarContainerSize=function(){var t=e.getHorizontalHeaderScrollbar();if(t){var r=jQuery(document.getElementById(e.getId()+"_hScrollTableCell"));if(r.length>0){var l=parseInt(r.css("border-right-width"),10)+parseInt(r.css("border-left-width"),10);t.setSize(parseInt(t.getSize(),10)-l+"px");t.rerender()}}};this.setScrollbarStepsInPixelMode=function(){var t=e.getVScrollbar();var r=e.getHScrollbar();var l=jQuery(document.getElementById(e.getId()+"_dataArea_container"));if(t){var a=0;if(!e.hasDataArea()){var i=jQuery(document.getElementById(e.getId()+"_rowHeaderArea_container"));a=i.outerHeight()}else{a=l.outerHeight()}t.setContentSize(a+"px");t.rerender()}if(r){var o=0;if(!e.hasDataArea()){var n=jQuery(document.getElementById(e.getId()+"_colHeaderArea_container"));o=n.outerWidth()}else{o=l.outerWidth()}r.setContentSize(o+"px");r.rerender()}};this.setScrollbarStepsInStepMode=function(){var t=l.getRenderSizeDivSize();var r=e.getDataArea();var a=e.getVScrollbar();var i=e.getHScrollbar();if(a){var o=l.getAreaHeight(e.getColumnHeaderArea());var n=t.iHeight-o;var s=r.getRenderStartRow();var d=s+r.getRenderRowCnt();var c=1;for(var g=s;g<d;g++){n-=r.getRowHeight(g);if(n<0){break}c++}a.setSteps(Math.max(1,r.getRowCnt()-c));a.rerender()}if(i){var S=l.getAreaWidth(e.getRowHeaderArea());var h=t.iWidth-S;var u=r.getRenderStartCol();var v=u+r.getRenderColCnt();var w=1;for(var b=u;b<v;b++){h-=r.getColWidth(b);if(h<0){break}w++}i.setSteps(Math.max(1,r.getColCnt()-w));i.rerender()}};this.adjustHScrollbarWidth=function(t){var r=jQuery(document.getElementById(e.getId()+"_lowerLeftPad"));var l=jQuery(document.getElementById(e.getId()+"_lowerRight_scrollDiv"));r.width(t);var a=e.getHScrollbar();a.setSize(l.outerWidth()+"px");a.rerender()};this.adjustVScrollbarHeight=function(t){var r=jQuery(document.getElementById(e.getId()+"_upperRightPad"));var l=jQuery(document.getElementById(e.getId()+"_lowerRight_scrollDiv"));r.height(t);var a=e.getVScrollbar();a.setSize(l.outerHeight()+"px");a.rerender()}};return sap.zen.crosstab.rendering.ScrollbarRenderer});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/utils/Measuring", ["jquery.sap.global"],function(jQuery){"use strict";jQuery.sap.declare("sap.zen.crosstab.utils.Measuring");sap.zen.crosstab.utils.Measuring=function(e,t){var i=e.getDimensionHeaderArea();var r=e.getColumnHeaderArea();var d=e.getRowHeaderArea();var n=e.getDataArea();var o=e.getIntWidth();var s=e.getIntHeight();var a=null;var h=null;var g=null;var l=0;this.getUpperLeftScrollDivWidth=function(){var t=jQuery(document.getElementById(e.getId()+"_upperLeft_scrollDiv"));return t.outerWidth()};this.getLowerLeftScrollDivWidth=function(){var t=jQuery(document.getElementById(e.getId()+"_lowerLeft_scrollDiv"));return t.outerWidth()};this.getAreaWidth=function(e){var t=jQuery(document.getElementById(e.getId()+"_container"));var i=t.outerWidth();var r=0;if(e.isDimHeaderArea()){r=this.getUpperLeftScrollDivWidth()}else if(e.isRowHeaderArea()){r=this.getLowerLeftScrollDivWidth()}if(r>0){i=Math.min(i,r)}return i};this.getAreaHeight=function(e){var t=jQuery(document.getElementById(e.getId()+"_container"));return t.outerHeight()};this.getAreaSize=function(e){var t={};var i=jQuery(document.getElementById(e.getId()+"_container"));t.iHeight=i.outerHeight();t.iWidth=this.getAreaWidth(e);return t};this.getRenderSizeDivSize=function(){var t={};var i=jQuery(document.getElementById(e.getId()+"_renderSizeDiv"));t.iWidth=i.outerWidth();t.iHeight=i.outerHeight();return t};this.calculateRenderSize=function(e){e=e||false;if(!g||this.hasCrosstabSizeChanged()||e){g={};var t=this.getAreaSize(i);var o=this.getAreaSize(n);var s=this.getAreaSize(d);var a=this.getAreaSize(r);var h=d.hasContent()?s.iHeight:o.iHeight;var l=i.hasContent()?t.iHeight:a.iHeight;g.iHeight=h+l;var u=i.hasContent()?t.iWidth:s.iWidth;var c=r.hasContent()?a.iWidth:o.iWidth;g.iWidth=u+c}return g};this.getBrowserScrollbarWidth=function(){if(sap.ui.Device.browser.edge&&!e.getPropertyBag().isMobileMode()){l=16}if(!l){var t=document.createElement("p");t.style.width="100%";t.style.height="200px";var i=document.createElement("div");i.style.position="absolute";i.style.top="0px";i.style.left="0px";i.style.visibility="hidden";i.style.width="200px";i.style.height="150px";i.style.overflow="hidden";i.appendChild(t);document.body.appendChild(i);var r=t.offsetWidth;i.style.overflow="scroll";var d=t.offsetWidth;if(r==d)d=i.clientWidth;document.body.removeChild(i);l=r-d;if(l===0){var n,o;n=jQuery('<div style="width:50px;height:50px;overflow:auto"><div></div></div>').appendTo("body");o=n.children();l=o.innerWidth()-o.height(99).innerWidth();n.remove()}}return l};this.reset=function(){g=null};this.hasCrosstabSizeChanged=function(t){var i=e.getIntWidth();var r=e.getIntHeight();if(o!==i||s!==r){if(!t){o=i;s=r}return true}return false};this.getLowerScrollDivHeight=function(){var t=null;if(d.hasContent()){t=jQuery(document.getElementById(e.getId()+"_lowerLeft_scrollDiv"))}else{t=jQuery(document.getElementById(e.getId()+"_lowerRight_scrollDiv"))}return t.outerHeight()};this.getUpperScrollDivHeight=function(){var t=null;if(i.hasContent()){t=jQuery(document.getElementById(e.getId()+"_upperLeft_scrollDiv"))}else{t=jQuery(document.getElementById(e.getId()+"_upperRight_scrollDiv"))}return t.outerHeight()};this.getUpperRightScrollDivWidth=function(){var t=jQuery(document.getElementById(e.getId()+"_upperRight_scrollDiv"));return t.outerWidth()};this.getRenderSizeDivBorders=function(t){if(!a){a={};a.borders={};if(!t){t=jQuery(document.getElementById(e.getId()+"_renderSizeDiv"))}a.borders.iBottomBorderWidth=parseInt(t.css("border-bottom-width"),10)||0;a.borders.iRightBorderWidth=parseInt(t.css("border-right-width"),10)||0;a.borders.iTopBorderWidth=parseInt(t.css("border-top-width"),10)||0;a.borders.iLeftBorderWidth=parseInt(t.css("border-left-width"),10)||0}return a};this.getTableDivBordersAndPadding=function(){if(!h){h={};h.borders={};h.paddings={};var i=t.getElement(e.getId());h.borders.iBottomBorderWidth=parseInt(i.css("border-bottom-width"),10);h.borders.iRightBorderWidth=parseInt(i.css("border-right-width"),10);h.borders.iTopBorderWidth=parseInt(i.css("border-top-width"),10);h.borders.iLeftBorderWidth=parseInt(i.css("border-left-width"),10);h.paddings.iBottomPadding=parseInt(i.css("padding-bottom"),10);h.paddings.iRightPadding=parseInt(i.css("padding-right"),10);h.paddings.iTopPadding=parseInt(i.css("padding-top"),10);h.paddings.iLeftPadding=parseInt(i.css("padding-left"),10)}return h};this.reset=function(){a=null}};return sap.zen.crosstab.utils.Measuring});
/*!
 * (c) Copyright 2010-2019 SAP SE or an SAP affiliate company.
 */
sap.ui.predefine("sap/zen/crosstab/utils/Utils", ["jquery.sap.global","sap/base/Log","sap/zen/crosstab/rendering/RenderingConstants"],function(jQuery,e,t){"use strict";var n=function(n){var r=this;var i=null;var a={};var o=null;this.beginProfiling=function(e,t){var n=Date.now();a[e]={iTsBegin:n,sText:t}};this.endProfiling=function(t){var n=Date.now();var r=a[t];if(r){e.error("CROSSTAB PERF: "+t+": "+r.sText+": DURATION: "+(n-r.iTsBegin)+"ms")}};this.getModelCoordinates=function(e,r,i){var a={};a.iRow=e;a.iCol=r;var o=n.getColumnHeaderArea().getRowCnt();var s=n.getRowHeaderArea().getColCnt();if(i===t.TYPE_DATA_AREA){a.iRow+=o;a.iCol+=s}else if(i===t.TYPE_COLUMN_HEADER_AREA){a.iCol+=s}else if(i===t.TYPE_ROW_HEADER_AREA){a.iRow+=o}return a};this.selectTextInInputField=function(e,t,r){if(t===-1&&r===-1){e.select()}else{var i=e[0];if(n.isIE8Mode()){if(i.createTextRange!=="undefined"){var a=i.createTextRange();a.collapse(true);a.moveEnd("character",r+1);a.moveStart("character",t);a.select()}}else if(i.selectionStart!=="undefined"){i.selectionStart=t;i.selectionEnd=r}}};this.getSelectionParams=function(e){var t=-1;var r=-1;if(n.isIE8Mode()){if(document.selection!=="undefined"&&document.selection.type==="Text"){var i=document.selection.createRange();if(i&&i.text.length>0){var a=document.body.createTextRange();a.moveToElementText(e);a.setEndPoint("EndToStart",i);t=a.text.length;r=t+i.text.length-1}}}else if(window.getSelection){var o=window.getSelection().toString();if(o&&o.length>0){t=window.getSelection().anchorOffset;r=window.getSelection().focusOffset}}return{iSelectionStartPos:t,iSelectionEndPos:r}};this.sendClientScrollPosUpdate=function(e,t,i,a,o){var s=n.getRenderEngine().getCrossRequestManager();if(s){if(o===true){s.setHeaderScrollData({iHPos:e})}else{s.setScrollData(e,t,i,a)}}r.sendScrollPosUpdate(e,t,i,a,o)};this.saveScrollPosData=function(e,t,n,r,i){if(!o){o={}}o.iHScrollPos=e;o.bHScrolledToEnd=t;o.iVScrollPos=n;o.bVScrolledToEnd=r;o.bIsHeaderData=i};this.compareScrollPosData=function(e,t,n,r,i){if(o){if(o.iHScrollPos===e&&o.iVScrollPos===n&&o.bHScrolledToEnd===t&&o.bVScrolledToEnd===r&&o.bIsHeaderData===i){return true}}return false};this.sendScrollPosUpdate=function(e,t,i,a,o){t=t||false;a=a||false;o=o||false;var s=n.getScrollNotifyCommand();if(s&&!this.compareScrollPosData(e,t,i,a,o)){s=s.replace("__CLIENT_VPOS__",i);s=s.replace("__CLIENT_VPOS_END__",a?"X":" ");s=s.replace("__CLIENT_HPOS__",o?"H"+e:e);s=s.replace("__CLIENT_HPOS_END__",t?"X":" ");this.saveScrollPosData(e,t,i,a,o);r.executeCommandAction(s)}};this.executeCommandAction=function(e,t,r){if(n.getPropertyBag().isBookmarkProcessing()&&!r){return}if(t===true){if(n.isQueueHeaderWidthRequest()===true){i=e;return}}var a;if(i&&i.length>0){a=new Function(i);a();n.setQueueHeaderWidthRequest(false);i=null}a=new Function(e);a()};this.translateCellCoordinatesForBackend=function(e,t){var r=n.getHeaderInfo();var i=e.getArea();var a={row:e.getRow(),col:e.getCol(),axisName:i.getAxisName()};var o=0;if(n.getNewLinesPos()==="TOP"){o=n.getNewLinesCnt()}if(i.isRowHeaderArea()){if(!t||t&&t.length===0){t=r.getDimensionNameByCol(e.getCol())}if(t){a.col=r.getAbsoluteColIndexForDimension(t)}a.row=a.row-o}else if(i.isColHeaderArea()){if(!t||t&&t.length===0){t=r.getDimensionNameByRow(e.getRow()-o)}if(t){a.row=r.getAbsoluteRowIndexForDimension(t)}}return a};this.getCellIdFromContenDivId=function(e){var t=e.indexOf("_contentDiv");if(t>-1){e=e.slice(0,t)}else{t=e.indexOf("_textContentDiv");if(t>-1){e=e.slice(0,t)}}return e};this.isMsIE=function(){var e=jQuery.browser.msie||false;var t=window.navigator.userAgent.match(/Trident\/7\./);e=e||(t?true:false);return e};this.isMozilla=function(){var e=jQuery.browser.mozilla||false;var t=window.navigator.userAgent.match(/Trident\/7\./);e=e&&(t?false:true);return e};this.translateScrollLeft=function(e,t){var r=t;if(n.getPropertyBag().isRtl()){if(jQuery.browser.webkit){r=e.scrollWidth-e.clientWidth-t}else if(this.isMozilla()){r=-t}}return r};this.getRtlAwareBoundingClientRect=function(e){var t=e.getBoundingClientRect();t.begin=t.left;t.end=t.right;if(n.getPropertyBag().isRtl()){t.begin=jQuery(window).width()-t.right;t.end=jQuery(window).width()-t.left}return t}};n.isCozyMode=function(){var e=false;if(n.isDispatcherAvailable()===true){e=sap.zen.Dispatcher.instance.isMainMode()&&!sap.zen.Dispatcher.instance.isCompactMode()}return e};n.isMainMode=function(){return true};n.unEscapeDisplayString=function(e){var t=e.replace(/<br\/>/g,"\r\n");t=t.replace(/&nbsp;/g,"&#x20;");t=jQuery("<div></div>").html(t).text();return t};n.prepareStringForRendering=function(e){var t=e.replace(/(\r\n)|(\n\r)|\r|\n/g,"<br/>");var r=t.replace(/(&#xd;&#xa;)|(&#xa;&#xd;)|&#xd;|&#xa;/g,"<br/>");var i=n.getNumberOfLineBreaks(r);r=r.replace(/&#x20;/g,"&nbsp;");return{text:r,iNumberOfLineBreaks:i}};n.cancelEvent=function(e){if(e){if(e.preventDefault){e.preventDefault()}n.stopEventPropagation(e)}};n.stopEventPropagation=function(e){if(e){if(e.stopPropagation){e.stopPropagation()}if(e.cancelBubble){e.cancelBubble=true}}};n.hasEntries=function(e){var t=false;if(e){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){t=true;break}}}return t};n.padWithZeroes=function(e,t){var n=e.toString();if(n.length<t){n=("0000000000"+n).slice(-t)}return n};n.selectTextInElement=function(e){var t;var n;if(e.innerHTML){if(document.createRange&&window.getSelection){t=document.createRange();n=window.getSelection();try{n.removeAllRanges()}catch(e){}try{t.selectNodeContents(e);n.addRange(t)}catch(r){t.selectNode(e);n.addRange(t)}}else if(document.body.createTextRange){t=document.body.createTextRange();t.moveToElementText(e);t.select()}}};n.getWidthFromStyle=function(e){var t=0;var n="";var r=null;var i=null;var a=e.attr("style");if(a){var o=a.split(";");if(o){for(t=0;t<o.length;t++){n=o[t];if(n){r=n.split(":");if(r[0]==="width"){i=r[1];break}}}}}if(i){i=jQuery.trim(i)}return i};n.sign=function(e){return e>0?1:e<0?-1:0};n.getCssIntProperty=function(e,t){var n=0;if(e&&e.length>0){n=parseInt(e.css(t),10);if(isNaN(n)){n=0}}return n};n.getWidthOfMarginBorderPadding=function(e){var t=n.getCssIntProperty(e,"margin-left")+n.getCssIntProperty(e,"margin-right");var r=n.getCssIntProperty(e,"border-left")+n.getCssIntProperty(e,"border-right");var i=n.getCssIntProperty(e,"padding-left")+n.getCssIntProperty(e,"padding-right");var a=t+r+i;return a};n.getNumberOfLineBreaks=function(e){var t=0;if(e&&e.length>0){var n=/<br\/>/g;while(n.exec(e)!=null){t++}}return t};n.getSizeOf=function(e){var t=0;for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){t++}}return t};n.isDispatcherAvailable=function(){var e=false;if(typeof sap!=="undefined"&&sap){if(typeof sap.zen!=="undefined"&&sap.zen){if(typeof sap.zen.Dispatcher!=="undefined"&&sap.zen.Dispatcher){if(typeof sap.zen.Dispatcher.instance!=="undefined"&&sap.zen.Dispatcher.instance){e=true}}}}return e};n.swapText=function(e,t){var n;var r;var i="";if(e.indexOf(t)>-1){n=e.split(t);for(r=n.length-1;r>=0;r--){i=i+n[r];if(r>=1){i=i+t}}}else{i=e}return i};n.swapPivotKeyText=function(e){var t;t=n.swapText(e,"&nbsp;&#x7c;&nbsp;");return t};return n},true);
sap.ui.require.preload({
	"sap/zen/crosstab/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.zen.crosstab","type":"library","embeds":[],"applicationVersion":{"version":"1.141.0"},"title":"Design Studio Crosstab library.","description":"Design Studio Crosstab library.  NOT INTENDED FOR STANDALONE USAGE.","ach":"BI-RA-AD-EA","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_belize","sap_belize_base","sap_belize_hcb","sap_belize_hcw","sap_belize_plus","sap_bluecrystal","sap_bluecrystal_base","sap_fiori_3","sap_fiori_3_dark","sap_fiori_3_hcb","sap_fiori_3_hcw","sap_hcb","sap_horizon","sap_horizon_dark","sap_horizon_hcb","sap_horizon_hcw"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.141","libs":{"sap.ui.core":{"minVersion":"1.141.0"},"sap.ui.unified":{"minVersion":"1.141.0"},"sap.ui.commons":{"minVersion":"1.141.0"}}},"library":{"i18n":false,"content":{"controls":["sap.zen.crosstab.Crosstab","sap.zen.crosstab.DataCell","sap.zen.crosstab.HeaderCell"],"elements":[],"types":[],"interfaces":[]}}}}'
});
//# sourceMappingURL=library-preload.js.map
