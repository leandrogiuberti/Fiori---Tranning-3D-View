//@ui5-bundle sap/fiori/core-min-3.js
window["sap-ui-optimized"] = true;
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/util/ActivityDetection", ["sap/ui/core/Theming"],function(e){"use strict";var t={},n=true,i=null,r=1e4,o=[],u=false,c=null;function s(){i=null;if(u&&document.hidden!==true){d();return}n=false;c.observe(document.documentElement,{childList:true,attributes:true,subtree:true,characterData:true})}function d(){if(document.hidden){return}if(!n){n=true;f(o);c.disconnect()}if(i){u=true}else{i=setTimeout(s,r);u=false}}function f(e){if(e.length===0){return}var t=e.slice();setTimeout(function(){var e;for(var n=0,i=t.length;n<i;n++){e=t[n];e.fFunction.call(e.oListener||window)}},0)}t.attachActivate=function(e,t){o.push({oListener:t,fFunction:e})};t.detachActivate=function(e,t){for(var n=0,i=o.length;n<i;n++){if(o[n].fFunction===e&&o[n].oListener===t){o.splice(n,1);break}}};t.isActive=function(){return n};t.refresh=d;var a=["resize","orientationchange","mousemove","mousedown","mouseup","paste","cut","keydown","keyup","DOMMouseScroll","mousewheel"];if("ontouchstart"in window){a.push("touchstart","touchmove","touchend","touchcancel")}for(var h=0;h<a.length;h++){window.addEventListener(a[h],t.refresh,{capture:true,passive:true})}if(window.MutationObserver){c=new window.MutationObserver(t.refresh)}else if(window.WebKitMutationObserver){c=new window.WebKitMutationObserver(t.refresh)}else{c={observe:function(){document.documentElement.addEventListener("DOMSubtreeModified",t.refresh)},disconnect:function(){document.documentElement.removeEventListener("DOMSubtreeModified",t.refresh)}}}if(typeof document.hidden==="boolean"){document.addEventListener("visibilitychange",function(){if(document.hidden!==true){t.refresh()}},false)}e.attachApplied(function(){t.refresh()});d();return t});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/util/Mobile", ["sap/ui/Device","sap/base/Log","sap/base/util/extend","sap/ui/dom/_ready"],function(e,t,n,o){"use strict";var i={};var a=false;function r(e,t){if(e!=="meta"||t&&!document.querySelector("meta[name='"+t.name+"']")){t=t||{};var n=document.createElement(e);for(var o in t){if(t[o]){n.setAttribute(o,t[o])}}document.head.appendChild(n)}}function c(e){var t=document.head.querySelectorAll(e);for(var n=0,o=t.length;n<o;n++){t[n].remove(t[n])}}i.init=function(t){if(!a){a=true;t=n({},{viewport:true,statusBar:"default",preventScroll:true,preventPhoneNumberDetection:true,useFullScreenHeight:true,homeIconPrecomposed:false,mobileWebAppCapable:"default"},t);var c=e.os.ios||e.os.macintosh&&e.browser.mobile;if(t.preventPhoneNumberDetection){r("meta",{name:"format-detection",content:"telephone=no"})}if(t.viewport){var s;var l=e.resize.height;var p=e.resize.width;s="width=device-width, initial-scale=1.0";if(c){s+=", maximum-scale=1.0, user-scalable=no"}r("meta",{name:"viewport",content:s});setTimeout(()=>{if((l!==window.innerHeight||p!==window.innerWidth)&&e.resize._update){e.resize._update()}},50)}if(t.useFullScreenHeight){o().then(function(){document.documentElement.style.height="100%"})}if(t.preventScroll&&c){o().then(function(){document.documentElement.style.position="fixed";document.documentElement.style.overflow="hidden";document.documentElement.style.height="100%";document.documentElement.style.width="100%"})}}if(t){if(t.homeIcon){var m;if(typeof t.homeIcon==="string"){m={phone:t.homeIcon,favicon:t.homeIcon}}else{m=Object.assign({},t.homeIcon);m.phone=t.homeIcon.phone||t.homeIcon.icon||m.favicon;m.favicon=m.favicon||t.homeIcon.icon||t.homeIcon.phone;m.icon=undefined}m.precomposed=t.homeIconPrecomposed||m.precomposed;i.setIcons(m)}if(t.hasOwnProperty("mobileWebAppCapable")){i.setWebAppCapable(t.mobileWebAppCapable,t.statusBar)}}};i.setIcons=function(e){if(!e||typeof e!=="object"){t.warning("Call to sap/ui/util/Mobile.setIcons() has been ignored because there were no icons given or the argument was not an object.");return}var n=e.precomposed?"-precomposed":"",o={phone:"",tablet:"152x152","phone@2":"180x180","tablet@2":"167x167"};if(e["favicon"]){c("link[rel=icon]");r("link",{rel:"icon",href:e["favicon"]})}var i=Object.keys(o).some(function(t){return e.hasOwnProperty(t)});if(i){c("[rel=apple-touch-icon]");c("[rel=apple-touch-icon-precomposed]")}for(var a in o){if(e[a]){r("link",{rel:"apple-touch-icon"+n,href:e[a],sizes:o[a]})}}};i.setWebAppCapable=function(t,n){if(!e.system.tablet&&!e.system.phone){return}var o=["","apple"],i="mobile-web-app-capable",a=t?"yes":"no",c,s,l;for(c=0;c<o.length;c++){s=o[c]?o[c]+"-"+i:i;l=document.head.querySelector('meta[name="'+s+'"]');if(l){l.setAttribute("content",a)}else{r("meta",{name:s,content:a});if(o[c]==="apple"){r("meta",{name:"apple-mobile-web-app-status-bar-style",content:n?n:"default"})}}}};return i});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/util/Storage", ["sap/base/assert"],function(t){"use strict";var e="state.key_";var n=function(r,i){var s="unknown",o=(i||e)+"-",u;if(!r||typeof r==="string"){s=r||n.Type.session;try{u=window[s+"Storage"];if(u){var f=o+"___sapui5TEST___";u.setItem(f,"1");u.removeItem(f)}}catch(t){u=null}}else if(typeof r==="object"){s=r.getType?r.getType():"unknown";u=r}var a=function(t){try{if(this.isSupported()){t();return true}}catch(t){return false}return false}.bind(this);this.isSupported=function(){return typeof u.isSupported=="function"?u.isSupported():true};this.put=function(e,n){t(typeof e==="string"&&e.length>0,"key must be a non-empty string");return a(function(){u.setItem(o+e,JSON.stringify(n))})};this.get=function(e){t(typeof e==="string"&&e.length>0,"key must be a non-empty string");var n;a(function(){n=JSON.parse(u.getItem(o+e))});return n!==undefined?n:null};this.remove=function(e){t(typeof e==="string"&&e.length>0,"key must be a non-empty string");return a(function(){u.removeItem(o+e)})};this.removeAll=function(t){return a(function(){var e=o+(t||""),n=[],r,i;for(i=0;i<u.length;i++){r=u.key(i);if(r&&r.startsWith(e)){n.push(r)}}for(i=0;i<n.length;i++){u.removeItem(n[i])}})};this.clear=function(){return a(function(){u.clear()})};this.getType=function(){return s}};n.Type={local:"local",session:"session"};Object.assign(n,new n);return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/util/XMLHelper", ["sap/ui/Device"],function(r){"use strict";var e={};e.parse=function(r){var n;var t;var i=new DOMParser;n=i.parseFromString(r,"application/xml");t=e.getParseError(n);if(t){if(!n.parseError){n.parseError=t}}return n};e.getParseError=function(n){var t={errorCode:-1,url:"",reason:"unknown error",srcText:"",line:-1,linepos:-1,filepos:-1,type:"error"};if(r.browser.firefox&&n&&n.documentElement&&n.documentElement.tagName=="parsererror"){var i=n.documentElement.firstChild.nodeValue,o=/XML Parsing Error: (.*)\nLocation: (.*)\nLine Number (\d+), Column (\d+):(.*)/,a=o.exec(i);if(a){t.reason=a[1];t.url=a[2];t.line=parseInt(a[3]);t.linepos=parseInt(a[4]);t.srcText=a[5];t.type="error"}return t}if(r.browser.webkit&&n&&n.documentElement&&n.getElementsByTagName("parsererror").length>0){var i=e.serialize(n),o=/(error|warning) on line (\d+) at column (\d+): ([^<]*)\n/,a=o.exec(i);if(a){t.reason=a[4];t.url="";t.line=parseInt(a[2]);t.linepos=parseInt(a[3]);t.srcText="";t.type=a[1]}return t}if(!n||!n.documentElement){return t}return{errorCode:0}};e.serialize=function(r){var e=new XMLSerializer;return e.serializeToString(r)};return e});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/util/_FeatureDetection", [],function(){"use strict";var i={};function t(){var t=document.createElement("div");t.innerHTML='<div dir="rtl"><div><span></span><span></span></div></div>';t.firstChild.style="width: 1px; height: 1px; position: fixed; top: 0px; left: 0px; overflow: hidden";t.firstChild.firstChild.style="width: 2px";t.firstChild.firstChild.firstChild.style="display: inline-block; width: 1px";t.firstChild.firstChild.lastChild.style="display: inline-block; width: 1px";document.documentElement.appendChild(t);var e=t.firstChild;i.initialZero=e.scrollLeft==0;document.documentElement.removeChild(t)}t();var e={initialScrollPositionIsZero:function(){return i.initialZero}};return e});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/util/_enforceNoReturnValue", ["sap/base/future","sap/base/Log"],function(e,n){"use strict";function t(t,r){if(t!==undefined){const a=r.name?`'${r.name}' `:"";if(typeof t.then==="function"){t.catch(e=>{n.error(`The registered Event Listener ${a}of '${r.component}' failed.`,e)})}e.fatalThrows(`${r.component}: The registered Event Listener ${a}must not have a return value.`)}}return t});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/util/defaultLinkTypes", [],function(){"use strict";var r=function r(e,n){e=typeof e==="string"?e.trim():e;if(!e&&n&&n!=="_self"){return"noopener noreferrer"}return e};return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/util/isCrossOriginURL", [],function(){"use strict";function n(n){var i=new URL(n,document.baseURI);return i.origin==="null"||window.location.origin==="null"||i.origin!==window.location.origin}return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/util/openWindow", [],function(){"use strict";var n=function n(r,e){var o="noopener,noreferrer";return window.open(r,e,o)};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/AppInfoParameters", ["sap/base/Log","sap/ushell/services/AppConfiguration","sap/ui/thirdparty/hasher","sap/base/util/deepClone","sap/base/util/isPlainObject","sap/base/util/restricted/_curry","sap/base/util/restricted/_zipObject","sap/ui/VersionInfo","sap/ushell/Container"],(t,e,r,a,n,i,s,o,p)=>{"use strict";const u="LAUNCHPAD";const c=["productName","theme","appIntent","url"];const l=["productName","theme","languageTag","appIntent","technicalAppComponentId","appId","appVersion","appSupportInfo","appFrameworkVersion","appFrameworkId","title","applicationParams","shellFrameworkVersion","url","abap.transaction"];class h{#t={theme:this.#e.bind(this,"User.env.sap-theme-NWBC"),languageTag:this.#e.bind(this,"User.env.sap-languagebcp47"),appIntent:this.#r.bind(this),appFrameworkId:this.#a.bind(this),appFrameworkVersion:this.#n.bind(this),appSupportInfo:this.#i.bind(this),technicalAppComponentId:this.#s.bind(this),appId:this.#o.bind(this),appVersion:this.#p.bind(this),productName:i(this.#u.bind(this))("productName"),applicationParams:this.#c.bind(this),url:this.#l.bind(this),"abap.transaction":this.#h.bind(this)};#m={};#f={};#d(t){let e=t.applicationType;if(e==="TR"){e="GUI"}return e}#g(){return e.getCurrentApplication()?.appCapabilities||{}}async#n(e){const r=this.#d(e);if(r==="UI5"){try{const t=await o.load();return`${t.version||""} (${t.buildTimestamp||""})`||""}catch(e){t.error("VersionInfo could not be loaded",e)}}}async#p(t){const e=t.componentInstance;if(e){const t=e.getManifestEntry("/sap.app/applicationVersion/version");return t}}async#i(t){const[e]=await t.getTechnicalParameter("sap-ach")||[];if(e){return e}return this.#g().appSupportInfo}async#s(t){const r=this.#d(t);const a=e.getMetadata();if(r==="UI5"){const e=t.componentInstance;if(e){let t=e.getManifestEntry("/sap.ui5/componentName");if(!t){t=e.getMetadata().getComponentName()}return t}return a.technicalName}if(r==="URL"){const t=e.getCurrentApplication();if(t.appCapabilities.technicalAppComponentId){return t.appCapabilities.technicalAppComponentId}}if(r==="GUI"){return(a.technicalName||"").replace(/ .*/,"").replace(/^\*/,"")}if(r==="WDA"||r==="NWBC"){return a.technicalName}}async#o(t){const[e]=await t.getTechnicalParameter("sap-fiori-id")||[];if(t.homePage){if(e){if(e!==""){return`${u} (${e})`}return u}return u}else if(e){return e}return this.#g().appId||t.inboundPermanentKey}async#e(t){const e=await p.getServiceAsync("ReferenceResolver");const r=await e.resolveReferences([t]);return r[t]}async#a(t){const r=e.getCurrentApplication();let a=this.#d(t);if(a==="URL"){a=r.appCapabilities&&r.appCapabilities.appFrameworkId}const n={NWBC:"WDA",TR:"GUI"};return n[a]||a}async#u(t,e){const r=await e.getSystemContext();return r.getProperty(t)}async#r(){const t=r.getHash();if(!t){throw new Error("Could not identify current application hash")}return t}async#c(t,e){let r={};if(e?.getCurrentAppTargetResolution?.().extendedInfo){r=e.getCurrentAppTargetResolution().extendedInfo.appParams}return r}async getAllAppInfo(t,e,r,a){const n={};const i=Object.keys(this.#t);const s=Object.keys(this.#m);const o=Array.from(new Set([...i,...s]));try{const r=await this.#A(o,e,a);for(const e in r){if(t){n[e]=r[e]}else{n[e]={value:r[e]}}}}catch{}const p=Object.keys(this.#f);try{const r=await this.#A(p,e,a);for(const e in r){if(t){n[e]=r[e].value}else{n[e]=r[e]}}}catch{}return n}async getInfo(t,e,r){if(!e){throw new Error("Parameter application missing")}return this.#A(["appFrameworkId"],e,r).then(()=>this.#A(t,e,r))}async#A(e,r,a){const n=e.map(async e=>{if(l.includes(e)){if(Object.hasOwn(this.#m,e)){return this.#m[e]}if(Object.hasOwn(this.#t,e)){return this.#t[e](r,a)}t.error(`value for parameter '${e}' is not set.`);return}if(Object.hasOwn(this.#f,e)){if(true){const t=this.#f[e];if(t.migrated){return t.value}}return this.#f[e]}if(e.includes(".")){return this.#u(e,r,a)}t.error(`'${e}' is not a valid app info parameter`)});return Promise.allSettled(n).then(t=>{for(let e=0;e<t.length;e++){if(t[e].status==="fulfilled"){t[e]=t[e].value}else{t[e]=undefined}}return s(e,t)})}setCustomAttributes(e){if(e===undefined||Object.keys(e).length===0){this.flush();return}let r=a(e);if(r.info&&Object.keys(r).length===1){t.error("The old interface for setting custom attributes is deprecated and will be removed in future.");r=r.info}const i={};for(const e in r){if(e==="customProperties"){continue}if(c.includes(e)){t.error(`Attribute '${e}' is restricted and will be ignored.`);continue}if(!l.includes(e)){if(true){t.error(`Attribute '${e}' is not supported and will be moved to customProperties instead. This migration will be removed in future.`);i[e]={value:r[e],showInAbout:false,migrated:true};continue}t.error(`Attribute '${e}' is not supported and will be ignored. It should be moved to the customProperties instead.`);continue}const a=r[e];if(typeof a!=="string"){t.error(`Attribute value for '${e}' is not a string and will be ignored.`);continue}this.#m[e]=a}const s={...i,...r.customProperties};for(const e in s){let r=s[e];if(l.includes(e)){this.#m[e]=r;continue}if(!n(r)){t.error(`Custom attribute '${e}' does not have the correct format. This property will be ignored in future.`);r={value:r,showInAbout:false,migrated:true}}if(!this.#b(e,r)){continue}this.#f[e]=r}}#b(e,r){if(!n(r)){t.error(`Custom attribute '${e}' does not have the correct format and will be ignored.`);return false}if(r.showInAbout===false){return true}r.showInAbout=true;if(!r.label){t.error(`Custom attribute '${e}' has no label and will be ignored.`);return false}return true}#l(){return p.getFLPUrl(true)}#h(t,e){return e?.getCurrentAppTargetResolution?.().appInfo?.["abap.transaction"]}store(t={}){t.appInfoParameters={appParameters:a(this.#m),customAppParameters:a(this.#f)}}restore(t={}){const{appParameters:e,customAppParameters:r}=t.appInfoParameters||{};this.#m=e?a(e):{};this.#f=r?a(r):{}}flush(){this.#m={};this.#f={}}}return new h},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ApplicationType", ["sap/ushell/Config"],e=>{"use strict";function t(e,t,n){const s=arguments;return new Promise((e,t)=>{sap.ui.require(["sap/ushell/ApplicationType/wdaResolution"],n=>{n.generateWDAResolutionResult.apply(n,s).then(e).catch(t)})})}function n(){const e=arguments;return new Promise((t,n)=>{sap.ui.require(["sap/ushell/ApplicationType/wdaResolution"],s=>{s.resolveEasyAccessMenuIntentWDA.apply(s,e).then(t).catch(n)})})}function s(e,t,n){return new Promise((s,u)=>{sap.ui.require(["sap/ushell/ApplicationType/guiResolution"],l=>{l.generateTRResolutionResult(e,t,n).then(s).catch(u)})})}function u(){const e=arguments;return new Promise((t,n)=>{sap.ui.require(["sap/ushell/ApplicationType/guiResolution"],s=>{s.resolveEasyAccessMenuIntentWebgui.apply(s,e).then(t).catch(n)})})}function l(e,t,n){const s=arguments;return new Promise((e,t)=>{sap.ui.require(["sap/ushell/ApplicationType/wcfResolution"],n=>{n.generateWCFResolutionResult.apply(n,s).then(e).catch(t)})})}function i(e,t,n){const s=arguments;return new Promise((e,t)=>{sap.ui.require(["sap/ushell/ApplicationType/ui5Resolution"],n=>{n.generateUI5ResolutionResult.apply(n,s).then(e).catch(t)})})}function o(e,t,n){const s=arguments;return new Promise((e,t)=>{sap.ui.require(["sap/ushell/ApplicationType/urlTemplateResolution"],n=>{n.generateURLTemplateResolutionResult.apply(n,s).then(e).catch(t)})})}function r(e,t,n){const s=arguments;return new Promise((e,t)=>{sap.ui.require(["sap/ushell/ApplicationType/urlResolution"],n=>{n.generateURLResolutionResult.apply(n,s).then(e).catch(t)})})}const a={URL:{type:"URL",defaultFullWidthSetting:true,generateResolutionResult:function(e){const t=e.inbound.hasOwnProperty("templateContext");return t?o.apply(null,arguments):r.apply(null,arguments)},easyAccessMenu:{intent:"Shell-startURL",resolver:null,showSystemSelectionInUserMenu:true,showSystemSelectionInSapMenu:false,systemSelectionPriority:1}},WDA:{type:"WDA",defaultFullWidthSetting:true,enableWdaCompatibilityMode:e.last("/core/navigation/enableWdaCompatibilityMode"),generateResolutionResult:t,easyAccessMenu:{intent:"Shell-startWDA",resolver:n,showSystemSelectionInUserMenu:true,showSystemSelectionInSapMenu:true,systemSelectionPriority:2}},TR:{type:"TR",defaultFullWidthSetting:true,generateResolutionResult:s,easyAccessMenu:{intent:"Shell-startGUI",resolver:u,showSystemSelectionInUserMenu:true,showSystemSelectionInSapMenu:true,systemSelectionPriority:3}},NWBC:{type:"NWBC",defaultFullWidthSetting:true},WCF:{type:"WCF",generateResolutionResult:l,defaultFullWidthSetting:true},SAPUI5:{type:"SAPUI5",generateResolutionResult:i,defaultFullWidthSetting:false}};function c(){return Object.keys(a).map(e=>a[e]).filter(e=>typeof e.easyAccessMenu==="object")}function p(){const e={};c().forEach(t=>{e[t.easyAccessMenu.intent]=t.easyAccessMenu.resolver});return function(t,n){if(e[t]&&(!n||n!=="SAPUI5")){return e[t]}return null}}function y(e){return!!a[e]&&a[e].defaultFullWidthSetting}Object.defineProperty(a,"enum",{value:Object.keys(a).reduce((e,t)=>{if(a[t].type){e[t]=a[t].type}return e},{})});const h={getEasyAccessMenuResolver:p(),getEasyAccessMenuDefinitions:c,getDefaultFullWidthSetting:y};Object.keys(h).forEach(e=>{Object.defineProperty(a,e,{value:h[e]})});return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ApplicationType/UrlPostProcessing", ["sap/ui/core/Supportability","sap/ui/thirdparty/hasher","sap/ushell/Config","sap/ushell/Container","sap/ushell/library","sap/ushell/User","sap/ushell/utils","sap/ushell/utils/UriParameters","sap/ushell/utils/UrlParsing"],(e,t,s,i,a,n,r,l,o)=>{"use strict";const c=a.appIntegration.contracts.StatefulType;const p={};p.processUrl=function(e,t,s,i){const a=r.isApplicationTypeEmbeddedInIframe(t,true);const n=i&&r.isApplicationTypeEmbeddedInIframe(i.getFrameworkId());if(!a&&!n){return e}let l;let o;let p;if(i){l=i.getTargetNavigationMode();o=i.getStatefulType()!==c.NotSupported;p=i.getUi5Version()}e=this._processUrl(e,t,l,o,s,p);return e};p._processUrl=function(e,t,i,a,n,l){const o={};o["sap-ie"]="edge";const c=this._getTheme(e);if(c){o["sap-theme"]=c}if(this._getAccessibility()){o["sap-accessibility"]="X"}if(this._getStatistics(e)){o["sap-statistics"]="true"}const p=this._getDensity();if(p&&p.length>0){o["sap-touch"]=p}if(!n){if(i){o["sap-target-navmode"]=i}if(t==="TR"||t==="GUI"){o["sap-keepclientsession"]="2"}else if(a){o["sap-keepclientsession"]="1"}const n=this._getInAppState();if(n&&n.length>0){o["sap-iapp-state"]=n}let c=0;if(s.last("/core/shell/sessionTimeoutIntervalInMinutes")>0){c=s.last("/core/shell/sessionTimeoutIntervalInMinutes")}o["sap-ushell-timeout"]=c;e=this._addSearchOrShellParamsToURL(e,o);return r.appendSapShellParamSync(e,t,l)}return this._addSearchOrShellParamsToURL(e,o)};p._addSearchOrShellParamsToURL=function(e,t){if(e.indexOf("#")===-1){return o.addParamsToUrl(e,t)}return o.addShellParamsToURL(e,t)};p._getAccessibility=function(){const e=r.getParameterValueBoolean("sap-accessibility");if(e!==undefined){return e}return i.getUser().getAccessibilityMode()};p._getTheme=function(e){const t=l.fromURL(e)||{mParams:{}};if(t.mParams["sap-theme"]===undefined){return i.getUser().getTheme(n.prototype.constants.themeFormat.NWBC)}return};p._getStatistics=function(t){let s=false;const i=l.fromURL(t)||{mParams:{}};s=e.isStatisticsEnabled()&&i.mParams["sap-statistics"]===undefined;return s};p._getInAppState=function(){const e=t.getHash();let s="";let i;if(e&&e.length>0&&e.indexOf("sap-iapp-state=")>0){i=/(?:sap-iapp-state=)([^&/]+)/.exec(e);if(i&&i.length===2){s=i[1]}}return s};p._getDensity=function(){let e="";const t=!!document.body?.classList.contains("sapUiSizeCompact");const s=!!document.body?.classList.contains("sapUiSizeCozy");if(t===true){e="0"}else if(s){e="1"}return e};return p});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ApplicationType/systemAlias", ["sap/ui/thirdparty/URI","sap/ushell/utils","sap/base/util/isPlainObject","sap/base/Log","sap/ushell/Container"],(e,t,n,r,s)=>{"use strict";const i="";const o={apply:"apply",applied:"applied"};function a(e){return(e.protocol()||"").length>0}async function l(e,n,r){const s=typeof n==="string";const i=[e];if(s){i.unshift(n)}const o=t.generateLocalStorageKey("sap-system-data",i);const a=t.getLocalStorage();const l=a.getItem(o);let p={};if(l){try{p=JSON.parse(l)}catch(e){throw new Error(`Cannot parse system data from local storage at key '${o}'. Data: ${l}`)}return p}else if(s){throw new Error(`Cannot find data for system '${e}' in local storage using key '${o}'`)}if(!r){throw new Error("fallback: the adapter does not implement resolveSystemAlias")}return new Promise((t,n)=>{r(e).done(e=>{t(e)}).fail(e=>{n(e)})})}function p(e){r.error(`Invalid system alias definition: ${e.debug}`,`ERRORS:${e.errors.map(e=>`\n - ${e}`).join("")}`,"sap.ushell.ApplicationType")}function c(e){function t(e){const t=[];if(typeof e.host!=="string"){t.push("host field must be a string")}if(typeof e.port!=="number"&&typeof e.port!=="string"){t.push("port field must be a number or a string")}if(typeof e.pathPrefix!=="string"){t.push("pathPrefix field must be a string")}return t}const n=[];const r=e.hasOwnProperty("https");const s=e.hasOwnProperty("http");if(!s&&!r){n.push("at least one of 'http' or 'https' fields must be defined")}if(r){t(e.https).forEach(e=>{n.push(`https>${e}`)})}if(s){t(e.http).forEach(e=>{n.push(`http>${e}`)})}if(n.length>0){return{isValid:false,errors:n,debug:JSON.stringify(e,null,3)}}return{isValid:true}}function f(e,t){if(e.hasOwnProperty("https")){return"https"}if(e.hasOwnProperty("http")){return"http"}r.error("Cannot select which system alias to pick between http/https","make sure they are provided in the given system alias collection","sap.ushell.services.ClientSideTargetResolution");return undefined}function u(t,n,r,s){let i;const o=new Promise(o=>{if(n==="URL"&&r.length===0){o(t);return}o(l("",undefined,s).then(s=>{const o=f(s,new e(window.location.toString()).protocol());const a=s[o].pathPrefix;const l=r===a;if(r.length>0&&!l){if((n==="WDA"||n==="WEBGUI")&&t.path().indexOf("~canvas")>=0){i=t.path();i=`/~canvas${i.split("~canvas")[1]}`;t.path(i)}}function p(e){const n=e+t.path();t.path(n.replace(/\/+/g,"/"));return t}if(r.length===0){if(n==="WCF"&&a==="/sap/bc/"){return p("/sap(====)/bc/")}return p(a)}return p(r)}))});return o}function h(e,t){let n;let s;let i;let o;const a=!!e.loginGroup;if(a){i=[e.systemId&&`~sysid=${e.systemId}`,e.loginGroup&&`~loginGroup=${e.loginGroup}`,e.sncNameR3&&`~messageServer=${encodeURIComponent(e.sncNameR3)}`,e.sncNameR3&&`~sncNameR3=${encodeURIComponent(e.sncNameR3)}`,e.sncQoPR3&&`~sncQoPR3=${e.sncQoPR3}`].filter(e=>typeof e==="string"&&e!=="")}else{o=e.host||"";s=o.toLowerCase()===t.toLowerCase();n=/^[/][HGMR][/].*/.test(o);if(o.length>0&&!s&&!n){r.error("Invalid connect string provided in 'host' field of system alias",`Data for rfc destination provided are: ${JSON.stringify(e,null,3)}`,"sap.ushell.services.ClientSideTargetResolution")}i=[o&&!n&&!s&&`~rfcHostName=${o}`,n&&`~connectString=${encodeURIComponent(o)}`,e.service&&`~service=${e.service}`,e.sncNameR3&&`~sncNameR3=${encodeURIComponent(e.sncNameR3)}`,e.sncQoPR3&&`~sncQoPR3=${e.sncQoPR3}`].filter(e=>typeof e==="string"&&e!=="")}return i.join(";").replace(/(%[A-F0-9]{2})/g,e=>e.toLowerCase())}function d(t,n,o,a,d){const g=o;const m=new Promise((m,y)=>{l(t,n,d).then(n=>{const l=c(n);if(!l.isValid){p(l);throw new Error("Invalid system alias definition")}let y=f(n,new e(window.location.toString()).protocol());const w=n[y];let S;let P;let R;if(t===i&&w.host===""&&(w.port===0||w.port==="")){y=""}g.protocol(y);g.hostname(w.host);g.port(w.port);return u(g,a,w.pathPrefix,d).then(e=>{S=e.query();if(typeof n.client==="string"&&n.client!==""){S=`${S+(S.length>0?"&":"")}sap-client=${n.client}`}if(typeof n.language==="string"&&n.language!==""){P=n.language}else{R=s.getUser();if(!R){r.error("Cannot retieve the User object via sap.ushell.Container while determining sap-language","will default to 'en' language","sap.ushell.services.ClientSideTargetResolution");P="en"}else{P=R.getLanguage()}}S=`${S+(S.length>0?"&":"")}sap-language=${P}`;e.query(S);if(n.hasOwnProperty("rfc")&&a==="NATIVEWEBGUI"){const t=h(n.rfc,w.host);const r=`${e.path()};${t}`;e.path(r);o._parts.path=r}m(e)})}).catch(e=>{y(e)})});return m}function g(e,t){const n={};let r;t.forEach(e=>{n[e]=true});r=e.query();r=r.split("&").filter(e=>{const t=(e.split("=")[0]||"").toLowerCase();return!n.hasOwnProperty(t)}).join("&");e.query(r)}function m(t,n,r,s,o){const p=new Promise((p,c)=>{if(n===i||typeof n==="undefined"){if(a(t)){p(t);return}p(d(r,s,t,"URL",o).then(e=>e))}p(l(n,s,o).then(n=>{const i=f(n,new e(window.location.toString()).protocol());const a=n[i];let l;if((t.protocol()||"").toLowerCase()===i&&(t.hostname()||"")===a.host&&t.path().indexOf(a.pathPrefix)===0){t.protocol("");t.hostname("");l=t.path().replace(a.pathPrefix,"");t.path(l);g(t,["sap-language","sap-client"]);return d(r,s,t,"URL",o).then(e=>e)}return t}).catch(e=>{c(e)}))});return p}function y(t,r,s,i,o){t.protocol("");t.hostname("");t.port("");const a=new Promise(a=>{g(t,["sap-client","sap-language"]);if(!n(i)||typeof r!=="string"){a(t)}const p=f(i,new e(window.location.toString()).protocol());const c=i[p];const u=new Promise((e,t)=>{const n=typeof c.pathPrefix==="string"&&c.pathPrefix;if(n!==""){e(n)}else{l("",undefined,o).then(t=>{const n=t[p];e(n.pathPrefix)}).catch(e=>{t(e)})}}).then(e=>{let n;if(e&&e.length>0){n=t.path();n=n.replace(e,"");if(e==="/sap/bc/"){n=n.replace("/sap(====)/bc/","")}if(n.indexOf("/")!==0){n=`/${n}`}t.path(n)}if(s==="NATIVEWEBGUI"&&i.hasOwnProperty("rfc")){n=t.path();n=n.split(";").filter(e=>e.indexOf("~sysid=")!==0&&e.indexOf("~service=")!==0&&e.indexOf("~loginGroup=")!==0&&e.indexOf("~messageServer=")!==0&&e.indexOf("~sncNameR3=")!==0&&e.indexOf("~sncQoPR3=")!==0).join(";");t.path(n)}return t});a(u)});return a}function w(e,t,n,r,s){const i=new Promise((i,o)=>{if(typeof t==="undefined"){i(y(e,t,r,undefined,s));return}i(l(t,n,s).then(n=>y(e,t,r,n,s)))});return i}function S(e,t,n,r,s,i,a){if(i!==o.apply&&i!==o.applied){throw new Error(`Invalid system alias semantic was provided: '${i}'`)}if(i===o.applied&&(typeof n==="undefined"||t===n)){return Promise.resolve(e)}if(i===o.apply&&typeof t==="undefined"&&typeof n==="undefined"){return Promise.resolve(e)}if(s==="URL"&&i===o.applied){return m(e,t,n,r,a)}const l=new Promise((l,p)=>{if(i===o.apply){l({targetUri:e,alias:n||t,sapSystemSrc:n?r:undefined});return}w(e,t,undefined,s,a).then(e=>{l({targetUri:e,alias:n})}).catch(e=>{p(e)})}).then(e=>d(e.alias,e.sapSystemSrc,e.targetUri,s,a));return l}function P(t,n){const r=n.getCurrentAppTargetResolution()||{};if(n.getFrameworkId()==="WDA"||r?.applicationType==="WDA"){const r=n.getSystemAlias();return new e(t).removeSearch("sap-system").addSearch("sap-system",r===""?"''":r).toString()}return t}function R(e="",t=""){const n=e.split("_");let r="";let s="";while(n.length>0){r+=n.shift();if(r===t){s=n.shift()||"";while(n.length>0){s=`${s}_${n.shift()}`}return s}r+="_"}if(t===""){return e}if(e.startsWith(t)){throw new Error(`Unexpected format for fully qualified systemAlias"${e}": missing underscore delimiter while content provider id is "${t}".`)}return e}return{LOCAL_SYSTEM_ALIAS:i,SYSTEM_ALIAS_SEMANTICS:o,spliceSapSystemIntoURI:S,isAbsoluteURI:a,getSystemAliasInProvider:R,addSystemAlias:P,_stripURI:w,_selectSystemAliasDataName:f,_constructNativeWebguiParameters:h}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Config", ["sap/ushell/EventHub","sap/ushell/bootstrap/common/common.create.configcontract.core","sap/ushell/Config/utils"],(e,t,n)=>{"use strict";let r=t.createConfigContract(window["sap-ushell-config"]);let o=e.createChannel(r);const c=Object.keys(o).reduce((t,n)=>{t[n]=function(){if(!o){o=e.createChannel(r)}return o[n].apply(o,arguments)};return t},{_reset:function(){o=null},_resetContract:function(){r=t.createConfigContract(window["sap-ushell-config"]);this._reset()},registerConfiguration:function(e,t){r=t},createModel:function(t,c){if(!o){o=e.createChannel(r)}return n.createModel(o,r,t,c)}});return c},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Config/utils", [],()=>{"use strict";function t(t,n){const r=[];const e=[];let o=n;let c=false;const i=t.split("/");i.shift();i.forEach(t=>{if(!c&&o.hasOwnProperty(t)){o=o[t];r.push(t);return}c=true;e.push(t)});return{contractPart:`/${r.join("/")}`,nonContractPart:e}}function n(t){return t&&t.isA&&t.isA("sap.ui.model.Context")}function r(t,n,r,e){let o=r;n.forEach((r,c)=>{if(c===n.length-1){o[r]=e;return}if(!o.hasOwnProperty(r)){throw new Error(`Cannot find ${r} inside ${t}`)}o=o[r]})}function e(t){if(typeof t==="object"){const n="/";return function r(e){const o=e.split(n);o.shift();const c=o.shift();return t[c]+(o.length>0?n+o.join(n):"")}}return function n(r){return t+r}}function o(t,r,o){const c=e(o);let i=c(t);if(n(r)&&t.charAt(0)!=="/"){const n=`${r.getPath()}/${t}`;i=c(n)}return i}function c(n,e,c,i){c.setData=function(t,n){throw new Error("not yet implemented")};c.setProperty=function(c,a,s){const u=o(c,s,i);const f=t(u,e);if(f.nonContractPart.length===0){n.emit(f.contractPart,a);return}const l=n.last(f.contractPart);r(f.contractPart,f.nonContractPart,l,a);n.emit(f.contractPart,l)};c.getProperty=function(r,c){const a=o(r,c,i);const s=t(a,e);return n.last(s.contractPart)};c.getData=function(t){if(typeof i==="string"){return c.getProperty("/",t)}return Object.keys(i).reduce((n,r)=>{n[r]=this.getProperty(`/${r}`,t);return n},{})};return c}function i(t,n,r,e){let o;let i;let a;let s;if(typeof r==="string"){const i=r;s=i;const u=t.last(i);if(Object.prototype.toString.apply(u)!=="[object Object]"){throw new Error(`Cannot bind on leaf property of Configuration: '${i}'`)}o=new e(u);a=o.setData.bind(o);t.on(i).do(t=>{a(t)});return c(t,n,o,s)}if(Object.prototype.toString.apply(r)==="[object Object]"){const a=r;const s=Object.keys(a).reduce((n,r)=>{const e=a[r];n[r]=t.last(e);t.on(e).do(((t,n)=>{i(`/${t}`,n)}).bind(null,r));return n},{});o=new e(s);i=o.setProperty.bind(o);return c(t,n,o,a)}throw new Error("Invalid parameter provided to createModel. Must be an object or a string.")}return{createModel:i}},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Container", ["sap/base/assert","sap/base/Log","sap/base/util/deepExtend","sap/base/util/extend","sap/base/util/uid","sap/ui/base/EventProvider","sap/ui/core/Control","sap/ui/core/EventBus","sap/ui/core/service/ServiceFactoryRegistry","sap/ui/performance/Measurement","sap/ui/thirdparty/jquery","sap/ui/thirdparty/URI","sap/ui/util/Mobile","sap/ushell/bootstrap/common/common.util","sap/ushell/EventHub","sap/ushell/System","sap/ushell/Ui5ServiceFactory","sap/ushell/utils","sap/ushell/utils/UrlParsing","sap/ushell/renderer/ShellLayout","sap/base/util/Deferred","sap/base/util/ObjectPath","sap/ushell/api/BootstrapObserver","sap/ushell/resources"],(e,t,n,r,i,o,s,a,l,u,jQuery,c,f,d,p,h,g,m,y,v,w,S,C,P)=>{"use strict";const D="sap.ushell.Container";const L="sap.ushell.Container.dirtyState.";const A={};let b;let I;const E=[];let R;const F=[];function M(){close()}function U(){document.location="about:blank"}function N(e){if(I&&I[e]){return I[e]}return`sap.ushell.adapters.${e}`}function T(e){const t=b.services;if(!t){return{}}if(e==="Notifications"||e==="NotificationsV2"){return t.Notifications||t.NotificationsV2||{}}return t[e]||{}}function O(e,t,n,r,i){const o=T(e).adapter||{};let s;async function a(e){let r;try{[r]=await m.requireAsync([e])}catch(t){if(e.endsWith("PersonalizationV2Adapter")){const t=e.replace("PersonalizationV2Adapter","PersonalizationAdapter");return a(t)}if(e.endsWith("FlpLaunchPageAdapter")){const t=e.replace("FlpLaunchPageAdapter","LaunchPageAdapter");return a(t)}throw t}const i=new r(t,n,{config:o.config||{}});return i}if(i===true){s=o.module;if(s===undefined){return r?Promise.resolve():undefined}}else{s=o.module||`${N(t.getPlatform())}.${e}Adapter`}const l=s.replace(/\./g,"/");function u(e){let r;try{r=sap.ui.requireSync(e)}catch(t){if(e.endsWith("PersonalizationV2Adapter")){const t=e.replace("PersonalizationV2Adapter","PersonalizationAdapter");r=sap.ui.requireSync(t)}else{throw t}}return new r(t,n,{config:o.config||{}})}if(!r){return u(l)}return a(l)}function _(e,t){e.forEach(e=>{const n=g.createServiceFactory(e,t);l.register(`sap.ushell.ui5service.${e}`,n)})}function $(){const l=new o;let d=false;let g=[];let N={};let $;const k={};let x;let q;let V=m.getLocalStorage();let Y=new m.Map;let B=new m.Map;let G;const H=this;let z;let K=false;let W=new w;function j(){if(typeof z.logoutRedirect==="function"){q=function(e){function t(){H._closeWindow();H._redirectWindow()}if(R!==H){return}if(e.key.indexOf($)===0&&e.newValue&&e.newValue!==V.getItem(e.key)){m.localStorageSetItem(e.key,e.newValue)}if(e.key===G){if(e.newValue==="pending"){H._suppressOData();if(l.fireEvent("Logout",true)){t()}else{setTimeout(t,1e3)}}}};window.addEventListener("storage",q)}}this.init=async function(e,t){S.set("sap.ushell.Container",R);const n=await Promise.all([this._init(e,t),P.awaitResourceBundle()]);z=n[0];$=`sap.ushell.Container.${z.getSystem().getPlatform()}.remoteSystem.`;G=`sap.ushell.Container.${z.getSystem().getPlatform()}.sessionTermination`;j();K=true;W.resolve();C.resolveBootstrappedContainer(this)};this.isInitialized=function(){return K};this.cancelLogon=function(){if(this.oFrameLogonManager){this.oFrameLogonManager.abortLogon()}};this.createRenderer=function(e,n){if(typeof e==="boolean"){n=e;e=undefined}const r={async:!!n};let i;u.start("FLP:Container.InitLoading","Initial Loading","FLP");m.setPerformanceMark("FLP - renderer created");e=e||b.defaultRenderer;if(!e){throw new Error("Missing renderer name")}const o=b&&b.renderers&&b.renderers[e]||{};i=o.module||(e.indexOf(".")<0?`sap.ushell.renderers.${e}.Renderer`:e);if(i==="sap.ushell.renderers.fiori2.Renderer"){i="sap.ushell.renderer.Renderer"}if(o.componentData&&o.componentData.config){r.config=o.componentData.config}function a(e){e.placeAt=function(e,t){let n=e;const r="canvas";const i=document.body;if(e===i.id){n=document.createElement("div");n.setAttribute("id",r);n.classList.add("sapUShellFullHeight");switch(t){case"first":if(i.firstChild){i.insertBefore(n,i.firstChild);break}case"only":i.innerHTML="";default:i.appendChild(n)}e=r;t=""}v.applyLayout(e);p.emit("ShellLayoutApplied",Date.now());s.prototype.placeAt.call(this,e,t)}}function c(e){const t=e.destroy;e.destroy=function(){if(e.isA("sap.ui.core.ComponentContainer")){return Promise.resolve(e.getComponentInstance().destroy()).then(function(){return t.apply(e,arguments)})}return Promise.resolve(t.apply(e,arguments))}}function f(t){const n=sap.ui.requireSync(t);const i=new n({componentData:r});let o;const u=sap.ui.requireSync("sap/ui/core/UIComponent");if(i instanceof u){const e=sap.ui.requireSync("sap/ui/core/ComponentContainer");o=new e({component:i,height:"100%",width:"100%"})}else{o=i}if(!(o instanceof s)){throw new Error(`Unsupported renderer type for name ${e}`)}a(o);c(o);N[e]=i;l.fireEvent("rendererCreated",{renderer:i});return o}function d(t){return new Promise((n,i)=>{sap.ui.require([t,"sap/ui/core/ComponentContainer","sap/ui/core/UIComponent","sap/ui/core/routing/Router"],(t,o,u)=>{const f=new t({componentData:r});if(f instanceof u){const t=new o({component:f,height:"100%",width:"100%",async:true});a(t);c(t);N[e]=f;f.rootControlLoaded().then(()=>{l.fireEvent("rendererCreated",{renderer:f});n(t)})}else if(f instanceof s){a(f);c(f);N[e]=f;l.fireEvent("rendererCreated",{renderer:f});n(f)}else{i(new Error("Unsupported renderer type!"))}})})}const h=i.replace(/\./g,"/");if(n){return d(h)}t.error("sap.ushell.Container.createRenderer() should always be called with bAsync:true.");return f(h)};this.createRendererInternal=async function(e){const t={async:true};let n;u.start("FLP:Container.InitLoading","Initial Loading","FLP");m.setPerformanceMark("FLP - renderer created");e=e||b.defaultRenderer;if(!e){throw new Error("Missing renderer name")}const r=b.renderers&&b.renderers[e]||{};n=r.module||(e.indexOf(".")<0?`sap.ushell.renderers.${e}.Renderer`:e);if(n==="sap.ushell.renderers.fiori2.Renderer"){n="sap.ushell.renderer.Renderer"}if(r.componentData&&r.componentData.config){t.config=r.componentData.config}function i(e){e.placeAt=function(e,t){let n=e;const r="canvas";const i=document.body;if(e===i.id){n=document.createElement("div");n.setAttribute("id",r);n.classList.add("sapUShellFullHeight");switch(t){case"first":if(i.firstChild){i.insertBefore(n,i.firstChild);break}case"only":i.innerHTML="";default:i.appendChild(n)}e=r;t=""}v.applyLayout(e);p.emit("ShellLayoutApplied",Date.now());s.prototype.placeAt.call(this,e,t)}}function o(e){const t=e.destroy;e.destroy=function(){if(e.isA("sap.ui.core.ComponentContainer")){return Promise.resolve(e.getComponentInstance().destroy()).then(function(){return t.apply(e,arguments)})}return Promise.resolve(t.apply(e,arguments))}}const a=n.replace(/\./g,"/");const[c,f,d]=await m.requireAsync([a,"sap/ui/core/ComponentContainer","sap/ui/core/UIComponent","sap/ui/core/routing/Router"]);const h=new c({componentData:t});if(h instanceof d){const t=new f({component:h,height:"100%",width:"100%",async:true});i(t);o(t);N[e]=h;await h.rootControlLoaded();l.fireEvent("rendererCreated",{renderer:h});return t}else if(h instanceof s){i(h);o(h);N[e]=h;l.fireEvent("rendererCreated",{renderer:h});return h}throw new Error("Unsupported renderer type!")};this.getRenderer=function(e){let n;e=e||b.defaultRenderer;if(e){n=N[e]}else{const e=Object.keys(N);if(e.length===1){n=N[e[0]]}else{t.warning("getRenderer() - cannot determine renderer, because no default renderer is configured and multiple instances exist.",null,D)}}if(n&&n.isA("sap.ui.core.ComponentContainer")){return n.getComponentInstance()}return n};this.getRendererInternal=function(e){let n;e=e||b.defaultRenderer;if(e){n=N[e]}else{const e=Object.keys(N);if(e.length===1){n=N[e[0]]}else{t.warning("getRendererInternal() - cannot determine renderer, because no default renderer is configured and multiple instances exist.",null,D)}}if(n&&n.isA("sap.ui.core.ComponentContainer")){return n.getComponentInstance()}return n};this.DirtyState={CLEAN:"CLEAN",DIRTY:"DIRTY",MAYBE_DIRTY:"MAYBE_DIRTY",PENDING:"PENDING",INITIAL:"INITIAL"};this.getGlobalDirty=function(){const e=new jQuery.Deferred;const n=i();let r=0;let o=this.DirtyState.CLEAN;function s(){if(r===0||o===H.DirtyState.DIRTY){e.resolve(o);t.debug(`getGlobalDirty() Resolving: ${o}`,null,"sap.ushell.Container")}}function a(e){if(e.key.indexOf(L)===0&&e.newValue!==H.DirtyState.INITIAL&&e.newValue!==H.DirtyState.PENDING){t.debug(`getGlobalDirty() Receiving event key: ${e.key} value: ${e.newValue}`,null,"sap.ushell.Container");if(e.newValue===H.DirtyState.DIRTY||e.newValue===H.DirtyState.MAYBE_DIRTY){o=e.newValue}r-=1;s()}}try{V.setItem(n,"CHECK");V.removeItem(n)}catch(n){t.warning("Error calling localStorage.setItem():",n,"sap.ushell.Container");return e.resolve(this.DirtyState.MAYBE_DIRTY).promise()}if(x){throw new Error("getGlobalDirty already called!")}x=e;window.addEventListener("storage",a);e.always(()=>{window.removeEventListener("storage",a);x=undefined});for(let e=V.length-1;e>=0;e-=1){const n=V.key(e);if(n.indexOf(L)===0){if(V.getItem(n)==="PENDING"){V.removeItem(n);t.debug(`getGlobalDirty() Cleanup of unresolved 'PENDINGS':${n}`,null,"sap.ushell.Container")}else{r+=1;m.localStorageSetItem(n,this.DirtyState.PENDING,true);t.debug(`getGlobalDirty() Requesting status for: ${n}`,null,"sap.ushell.Container")}}}s();setTimeout(()=>{if(e.state()!=="resolved"){e.resolve("MAYBE_DIRTY");t.debug("getGlobalDirty() Timeout reached, - resolved 'MAYBE_DIRTY'",null,"sap.ushell.Container")}},r*2e3);return e.promise()};this.getLogonSystem=function(){if(!z){t.error("getLogonSystem: Container is not yet initialized - system cannot be determined!")}return z.getSystem()};this.ready=function(){return W.promise};this.getUser=function(){return z.getUser()};this.getDirtyFlag=function(){let e=d;const t=this._oShellNavigationInternal.getNavigationContext();for(let n=0;n<g.length;n++){e=e||g[n](t)}return e};this.fnAsyncDirtyStateProvider=null;this.getDirtyFlagsAsync=function(){if(!this.fnAsyncDirtyStateProvider){return Promise.resolve(this.getDirtyFlag())}const e=this._oShellNavigationInternal.getNavigationContext();return this.fnAsyncDirtyStateProvider(e).then(e=>e||this.getDirtyFlag())};this.isAsyncDirtyStateProviderSet=function(){return typeof this.fnAsyncDirtyStateProvider==="function"};this.setAsyncDirtyStateProvider=function(e){this.fnAsyncDirtyStateProvider=e};this.setDirtyFlag=function(e){d=e};this.sessionKeepAlive=function(){if(z.sessionKeepAlive){z.sessionKeepAlive()}};this.extendSession=function(){p.emit("nwbcUserIsActive",Date.now())};this.registerDirtyStateProvider=function(e){if(typeof e!=="function"){throw new Error("fnDirty must be a function")}g.push(e)};this.deregisterDirtyStateProvider=function(e){if(typeof e!=="function"){throw new Error("fnDirty must be a function")}let t=-1;for(let n=g.length-1;n>=0;n--){if(g[n]===e){t=n;break}}if(t===-1){return}g.splice(t,1)};this.getService=function(e,t,n){return H._getServiceSync.apply(H,arguments)};this.getServiceAsync=function(e,t){return H._getServiceAsync(e,t)};this._getServiceSync=function(e,n,r){const i={};function o(t){if(!t){throw new Error("Missing system")}const r=O(e,t,n);R.addRemoteSystem(t);return m.toDeferred(r)}if(!e){throw new Error("Missing service name")}if(e.indexOf(".")>=0){throw new Error("Unsupported service name")}const s=T(e);const a=s.module||`sap.ushell.services.${e}`;const l=`${a}/${n||""}`;const u={config:s.config||{}};function c(e,t){i.createAdapter=o;return new e(t,i,n,u)}function f(t,r){let o;if(Y.containsKey(l)){o=Y.get(l)}else if(t.hasNoAdapter){o=new t(i,n,u)}else{const i=O(e,z.getSystem(),n,r,t.useConfiguredAdapterOnly);if(r){return i.then(e=>{const n=c(t,e);Y.put(l,n);return n})}o=c(t,i)}Y.put(l,o);return r?Promise.resolve(o):o}if(!Y.containsKey(l)){if(!r){t.error("Deprecated API call of 'sap.ushell.Container.getService'. Please use 'getServiceAsync' instead",null,"sap.ushell.Container");const e=sap.ui.requireSync(a.replace(/[.]/g,"/"));return f(e)}if(!B.containsKey(l)){const e=new Promise((e,t)=>{sap.ui.require([a.replace(/[.]/g,"/")],t=>{e(f(t,true))},t)});B.put(l,e);return e}return B.get(l)}if(r){return Promise.resolve(Y.get(l))}return Y.get(l)};this._getServiceAsync=function(e,t){const n={};function r(n){if(!n){throw new Error("Missing system")}const r=O(e,n,t);R.addRemoteSystem(n);return m.toDeferred(r)}if(!e){throw new Error("Missing service name")}if(e.indexOf(".")>=0){throw new Error("Unsupported service name")}const i=T(e);const o=i.module||`sap.ushell.services.${e}`;const s=`${o}/${t||""}`;const a={config:i.config||{}};function l(e,i){n.createAdapter=r;return new e(i,n,t,a)}function u(r){let i;if(Y.containsKey(s)){i=Y.get(s)}else if(r.hasNoAdapter){i=new r(n,t,a)}else{const n=O(e,z.getSystem(),t,true,r.useConfiguredAdapterOnly);return n.then(e=>{const t=l(r,e);Y.put(s,t);return t})}Y.put(s,i);return Promise.resolve(i)}if(!Y.containsKey(s)){if(!B.containsKey(s)){const e=new Promise((e,t)=>{sap.ui.require([o.replace(/[.]/g,"/")],t=>{e(u(t))},t)});B.put(s,e);return e}return B.get(s)}return Promise.resolve(Y.get(s))};function J(){for(let e=V.length-1;e>=0;e-=1){const t=V.key(e);if(t.indexOf($)===0){try{const e=t.substring($.length);const n=JSON.parse(V.getItem(t));k[e]=new h(n)}catch{V.removeItem(t)}}}return k}function X(){if(typeof OData==="undefined"){return}function e(e,n,r){t.warning(e,null,"sap.ushell.Container");if(r){setTimeout(r.bind(null,e),5e3)}return{abort:function(){return}}}OData.read=function(t,n,r){return e(`OData.read('${t&&t.Uri?t.requestUri:t}') disabled during logout processing`,n,r)};OData.request=function(t,n,r){return e(`OData.request('${t?t.requestUri:""}') disabled during logout processing`,n,r)}}this.addRemoteSystem=function(e){const n=e.getAlias();const r=k[n];if(this._isLocalSystem(e)){return}if(r){if(r.toString()===e.toString()){return}t.warning(`Replacing ${r} by ${e}`,null,"sap.ushell.Container")}else{t.debug(`Added ${e}`,null,"sap.ushell.Container")}k[n]=e;m.localStorageSetItem($+n,e)};this._isLocalSystem=function(e){const t=e.getAlias();if(t&&t.toUpperCase()==="LOCAL"){return true}const n=new c(m.getLocationHref());const r=this.getLogonSystem().getClient()||"";if(e.getBaseUrl()===n.origin()&&e.getClient()===r){return true}return false};this.addRemoteSystemForServiceUrl=function(e){const t={baseUrl:";o="};if(!e||e.charAt(0)!=="/"||e.indexOf("//")===0){return}const n=/^[^?]*;o=([^/;?]*)/.exec(e);if(n&&n.length>=2){t.alias=n[1]}e=e.replace(/;[^/?]*/g,"");if(/^\/sap\/(bi|hana|hba)\//.test(e)){t.platform="hana";t.alias=t.alias||"hana"}else if(/^\/sap\/opu\//.test(e)){t.platform="abap"}if(t.alias&&t.platform){this.addRemoteSystem(new h(t))}};this.attachLogoutEvent=function(t,n){let r=false;if(n===true){e(typeof t==="function","Container.attachLogoutEvent: fnFunction must be a function");for(let e=0;e<E.length;e++){if(E[e]===t){r=true;break}}if(!r){E.push(t)}}else{l.attachEvent("Logout",t)}};this.detachLogoutEvent=function(e){l.detachEvent("Logout",e);for(let t=0;t<E.length;t++){if(E[t]===e){E.splice(t,1);break}}};this.attachRendererCreatedEvent=function(e){l.attachEvent("rendererCreated",e)};this.detachRendererCreatedEvent=function(e){l.detachEvent("rendererCreated",e)};this.defaultLogout=function(){return this.callRegisteredLogoutHandlers().then(async()=>{async function e(){const e=new w;const t=[];if(E.length>0){for(let e=0;e<E.length;e++){t.push(E[e]())}Promise.all(t).then(e.resolve);setTimeout(e.resolve,4e3)}else{e.resolve()}return e.promise.then(()=>{if(l.fireEvent("Logout",true)){return}return m.awaitTimeout(1e3)}).then(()=>m.promisify(z.logout(true)))}async function n(){const n=[];if(q){window.removeEventListener("storage",q)}m.localStorageSetItem(G,"pending");H._suppressOData();const r=H._getRemoteSystems();Object.keys(r).forEach(e=>{try{n.push(m.promisify(O("Container",r[e]).logout(false)))}catch(n){t.warning(`Could not create adapter for ${e}`,n,"sap.ushell.Container")}V.removeItem($+e)});return Promise.allSettled(n).then(e).catch(()=>{}).then(()=>{V.removeItem(G)})}if(typeof z.addFurtherRemoteSystems==="function"){await m.promisify(z.addFurtherRemoteSystems()).catch(()=>{})}return n()})};this.logout=function(){return m.toDeferred(this.defaultLogout())};this.registerLogout=function(e){if(typeof e!=="function"){t.error("Container.registerLogout - Invalid logout handler function.");return false}if(F.includes(e)){t.warning("Container.registerLogout - This logout handler is already registered. Ignoring.");return false}F.push(e);return true};this.deRegisterLogout=function(e){const n=F.indexOf(e);if(n===-1){t.error("Container.deRegisterLogout - Attempted to de-register a logout handler that was not registered.");return false}F.splice(n,1);return true};this.isLogoutRegistered=function(e){return F.includes(e)};this.callRegisteredLogoutHandlers=async function(){if(F.length>0){for(const e of F){try{await m.promisify(e())}catch(e){t.error("Error executing logout handler:",e)}}}};this.setLogonFrameProvider=function(e){if(this.oFrameLogonManager){this.oFrameLogonManager.logonFrameProvider=e}};this.setXhrLogonTimeout=function(e,t){if(this.oFrameLogonManager){this.oFrameLogonManager.setTimeout(e,t)}};this.getFLPConfig=function(){const e=new Promise((e,t)=>{const n={URL:this.getFLPUrl()};if(A.CDMPromise){A.CDMPromise.then(t=>{t.getSiteWithoutPersonalization().then(t=>{n.scopeId=t.site.identification.id;e(n)})})}else{e(n)}});return e};this.getFLPUrl=function(e){const t=m.getLocationHref();const n=t.indexOf(y.getShellHash(t));if(n===-1||e===true){return t}return t.substr(0,n-1)};this.getFLPUrlAsync=function(e){return m.toDeferred(H.getFLPUrl(e))};this.inAppRuntime=function(){return false};this.runningInIframe=this.inAppRuntime;this._getAdapter=function(){return z};this.getFLPPlatform=function(e){if(e===true){return b.flpPlatform}return Promise.resolve(b.flpPlatform)};this._closeWindow=M;this._redirectWindow=U;this._getRemoteSystems=J;this._suppressOData=X;a.getInstance().subscribe("sap.ushell.Container","addRemoteSystemForServiceUrl",(e,t,n)=>{H.addRemoteSystemForServiceUrl(n)});this._init=function(e,i){const o=new Promise(o=>{f.init();b=r({},window["sap-ushell-config"]);I=i;if(typeof window["sap.ushell.bootstrap.callback"]==="function"){setTimeout(window["sap.ushell.bootstrap.callback"])}_(["Personalization","URLParsing","CrossApplicationNavigation"],true);_(["Configuration"],false);const s=new h({alias:"",platform:b.platform||e});function a(e){const t=e[0];const r=e[1];const i=r?r.getPlugins():jQuery.when({});i.then(e=>{const r=n({},b.bootstrapPlugins,e);t.registerPlugins(r)})}function l(){if(m.hasFLPReady2NotificationCapability()){sap.ui.require(["sap/ushell/NWBCInterface"],e=>{m.getPrivateEpcm().doEventFlpReady2(e)})}else if(m.hasFLPReadyNotificationCapability()){m.getPrivateEpcm().doEventFlpReady()}}function u(e){if(e.last("/core/darkMode/enabled")){R.getServiceAsync("DarkModeSupport").then(e=>{if(e&&e.setup){e.setup()}})}}function c(e){const t=!!new URLSearchParams(window.location.search).get("sap-ui-xx-ushell-UITraceEnabled");if(e.last("/core/uiTracer/enabled")||t){R.getServiceAsync("UITracer")}}function d(){l();sap.ui.require(["sap/ushell/Config"],e=>{u(e);c(e)})}O("Container",s,null,true).then(e=>{z=e;return z.load()}).then(()=>{function e(){const e=window["sap-ushell-config"];if(!e||!e.services){return false}const t=e.services.PluginManager;const n=t&&t.config;return n&&n.loadPluginsFromSite}const n=[this.getServiceAsync("PluginManager")];if(e()){A.CDMPromise=this.getServiceAsync("CommonDataModel");n.push(A.CDMPromise)}Promise.all(n).then(e=>{a(e)}).then(d);const r=[];if(b.preloadServices!==undefined&&Array.isArray(b.preloadServices)){b.preloadServices.forEach(e=>{r.push(this.getServiceAsync(e))});t.error("Ushell Config's preloadServices should not be used!")}const i=this.getServiceAsync("ShellNavigationInternal").then(e=>{this._oShellNavigationInternal=e});r.push(i);Promise.all(r).then(()=>{o(z)})})});return o};this._getFunctionsForUnitTest=function(){return{createAdapter:O}};this.resetServices=function(){Y=new m.Map;B=new m.Map};this.reset=function(){this.resetServices();V=m.getLocalStorage();d=false;g=[];N={};this.fnAsyncDirtyStateProvider=undefined;K=false;W=new w}}R=new $;sap.ushell.bootstrap=function(e,n){if(!window["sap-ushell-config-migration"]){if(e==="local"){t.error("Deprecated usage of the 'local' platform! Please replace it with the 'sandbox' scenario.",null,"sap.ushell.bootstrap")}else{t.error(`Deprecated API call of sap.ushell.bootstrap. Please adapt the platform '${e}' accordingly.`,null,"sap.ushell.bootstrap")}d.migrateV2ServiceConfig(window["sap-ushell-config"])}const r=R.init(e,n);return m.toDeferred(r)};return R});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/EventHub", ["sap/base/Log"],e=>{"use strict";function n(){return{nextKey:0,objectToKey:new window.WeakMap,keyToObject:{}}}const t={pendingEvents:{},subscribers:{},dispatchOperations:{},store:n()};function r(n,t,r){e.error(n,t,"sap.ushell.EventHub");return}function o(e){const n=`An exception was raised while executing a registered callback on event '${e.eventName}'`;let t=`Data passed to the event were: '${e.eventData}'`;if(e.error.stack){t+=` Error details: ${e.error.stack}`}r(n,t,e.fnCausedBy)}function s(e,n,t){let r;try{r=n(t)}catch(r){o({eventName:e,eventData:t,fnCausedBy:n,error:r})}return r}function c(e,n){if(e.store.objectToKey.has(n)){return e.store.objectToKey.get(n)}e.store.nextKey++;const t=`<${typeof n}>#${e.store.nextKey}`;e.store.keyToObject[t]=n;e.store.objectToKey.set(n,t);return t}function i(e){if(typeof arguments[2]==="function"){return c(e,arguments[2])}return arguments[2]}function u(e,n){return e.store.keyToObject[n]}function a(e){if(typeof arguments[2]==="string"&&arguments[2].indexOf("<function")===0){return u(e,arguments[2])}return arguments[2]}function f(e,n,t){if(typeof n==="object"||typeof n==="function"){try{const r=[n,i.bind(null,e)];if(t){r.push(3)}return JSON.stringify.apply(JSON,r)}catch(e){r("serialize failed:",e,f)}}return n}function l(e,n){try{return JSON.parse(n,a.bind(null,e))}catch(e){return n}}function p(e,n,t){if(!e.subscribers[n]){e.subscribers[n]=[]}e.subscribers[n].push(t)}function h(e,n,t){e.subscribers[n]=(e.subscribers[n]||[]).map(e=>e.filter(e=>e.fn!==t)).filter(e=>e.length>0)}function d(){let e;const n=new Promise(n=>{e=n});const t={dispatching:n,cancelled:false,cancel:function(){t.cancelled=true},complete:function(){e()}};return t}function b(e,n,t,r){const o=l(e,e.pendingEvents[n]);return Promise.resolve().then(()=>{if(t.called&&r.offed){return false}t.called=true;const c=r.offed;s(n,t.fn,o);const i=r.offed;if(i){h(e,n,t.fn)}return!c&&i})}function y(e,n,t,r,o){const s=t.length;const c=t.slice(o);return c.reduce((o,s)=>o.then(o=>{if(r.cancelled){if(o){h(e,n,s.fn)}return o}return b(e,n,s,t).then(e=>{if(e){r.cancelled=true}return e})}),Promise.resolve(false)).then(o=>{if(!o&&s<t.length){return y(e,n,t,r,s)}return o})}function v(e,n){if(!e.subscribers.hasOwnProperty(n)){return null}const t=d();const r=e.subscribers[n];const o=r.map(r=>y(e,n,r,t,0));Promise.all(o).finally(t.complete);return t}function m(e,n,t){return function(){t.forEach(t=>{h(e,n,t.fn)});t.offed=true;return{off:m(e,n,[])}}}function g(e,n,t){return function(r){const o={fn:r,called:false};t.push(o);if(e.pendingEvents.hasOwnProperty(n)){const r=e.dispatchOperations[n];if(!r){b(e,n,o,t)}else{r.dispatching.then(()=>{if(!o.called){b(e,n,o,t)}})}}return{do:g(e,n,t),off:m(e,n,t)}}}function O(e,n){const t=[];p(e,n,t);return{do:g(e,n,t),off:m(e,n,t)}}function w(e,n){const t=O(e,n);t.off();return t}function j(e,n,t,r){const o=f(e,t);if(!r&&e.pendingEvents.hasOwnProperty(n)&&e.pendingEvents[n]===o){return this}e.pendingEvents[n]=o;const s=e.dispatchOperations[n];if(s){s.cancel()}const c=v(e,n);e.dispatchOperations[n]=c;return this}function P(e,n){return l(e,e.pendingEvents[n])}function $(){const e=Array.prototype.slice.call(arguments);e.shift();let n=0;const t=new Array(e.length).join(",").split(",").map(()=>1);const r=[];const o={do:function(s){e.forEach((o,c)=>{o.do(((o,c)=>{r[o]=c;n+=t[o];t[o]=0;if(n===e.length){s.apply(null,r)}}).bind(null,c))});return{off:o.off}},off:function(){const n=e.reduce((e,n)=>n.off(),()=>{});return{off:n}}};return o}function E(e,n){const t=e.dispatchOperations[n];return t?t.dispatching:Promise.resolve()}function k(e){const t={};t.emit=j.bind(t,e);t.on=O.bind(null,e);t.once=w.bind(null,e);t.last=P.bind(null,e);t.join=$.bind(null,e);t.wait=E.bind(null,e);t._reset=function(e){e.pendingEvents={};e.subscribers={};e.dispatchOperations={};e.store=n()}.bind(null,e);return t}function x(e){const t={pendingEvents:{},subscribers:{},dispatchOperations:{},store:n()};const r=k(t);const o=l(t,f(t,e));function s(e){const n=e.charAt(0);if(n.match(/[a-zA-Z0-9]/)){throw new Error(`Invalid path separator '${n}'. Please ensure path starts with a non alphanumeric character`)}const t=e.split(n);t.shift();return t}function c(e,n){let t=e;let r="";if(arguments.length===2){t=n;r=e}return`${r}/${t.join("/")}`}function i(e){return Object.prototype.toString.apply(e)==="[object Array]"}function u(e){return Object(e)!==e}function a(e){return(i(e)?e.length:Object.keys(e).length)===0}function p(e,n,r,o){let s="";let a=e;const l=[];r.reduce((e,n,p)=>{s=c(s,[n]);a=a[n];if(p===r.length-1){if(!u(o)&&!u(a)&&Object.keys(a).length>0){let e;const n=Object.keys(a).reduce((e,n)=>{e[n]=true;return e},{});const r=Object.keys(o).some(t=>{e=t;const r=n.hasOwnProperty(t);delete n[t];const o=!u(a[t])&&Object.keys(a[t]).length>0;return!r||o});const i=Object.keys(n).length>0;const p=r||i;if(p){const c=r?`One or more values are not defined in the channel contract or are defined as a non-empty object/array, for example, check '${e}'.`:`Some keys are missing in the event data: ${Object.keys(n).join(", ")}.`;throw new Error(`Cannot write value '${f(t,o,true)}' to path '${s}'. ${c} All childrens in the value must appear in the channel contract and must have a simple value or should be defined as an empty complex value`)}const h=Object.keys(o).map(e=>({serializedPath:c(s,[e]),value:o[e]}));Array.prototype.push.apply(l,h)}e[n]=o}else if(!e.hasOwnProperty(n)){e[n]=i(a)?[]:{}}l.push({serializedPath:s,value:e[n]});return e[n]},n);return l}function h(e,n){let r="";const o=n.reduce((e,n)=>{r+=`/${n}`;if(i(e)&&!n.match(/^[0-9]+$/)){throw new Error(`Invalid array index '${n}' provided in path '${r}'`)}if(!e.hasOwnProperty(n)){throw new Error(`The item '${n}' from path ${r} cannot be accessed in the object: ${f(t,e)}`)}return e[n]},e);return o}function d(e,n,t){return n.reduce((e,r,o)=>{const s=o===n.length-1;if(e.hasOwnProperty(r)){return e[r]}return s?t:{}},e)}function b(e,n){n.pop();let t=e;const r=[];return n.reduce((e,n)=>{t=t[n];r.push(n);e.push({serializedPath:c(r),value:t});return e},[])}function y(e){return e.map(e=>{const n=e.serializedPath;if(!t.subscribers.hasOwnProperty(n)||t.subscribers[n].length===0){return null}return{path:n,value:e.value}}).filter(e=>!!e)}function v(n,t){const c=s(n);h(e,c);const i=p(e,o,c,t);i.forEach(e=>{r.emit(e.serializedPath,e.value)})}function m(n){const t=s(n);const r=h(e,t);return d(o,t,r)}function g(n){const o=s(n);const i=c(o);let p=r.last(i);const d=t.pendingEvents.hasOwnProperty(i);if(d){return r.on(i)}p=h(e,o);if(typeof p!=="undefined"&&(u(p)||!a(l(r,f(r,p))))){r.emit(i,p)}return r.on(i)}function O(e){const n=g(e);n.off();return n}function w(e){const n=s(e);const t=b(o,n);const c=y(t).map(e=>r.wait(e.path,e.value));return Promise.all(c.concat(r.wait(e)))}return{emit:v,on:g,once:O,last:m,wait:w,join:$.bind(null,r)}}const A=k(t);A.createChannel=x.bind(null);return A});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Fiori20Adapter", ["sap/ui/base/Object","sap/ui/core/Component","sap/ui/core/UIComponent","sap/ui/core/ComponentHooks","sap/ui/model/resource/ResourceModel","sap/m/Fiori20Adapter","sap/ui/thirdparty/hasher","sap/base/util/extend","sap/ushell/utils/CallbackQueue"],(e,t,i,n,o,r,s,a,c)=>{"use strict";n.onUIComponentInstanceDestroy.register(e=>{if(e._fioriAdapter){e._fioriAdapter.destroy()}if(e._oShellUIService){e._oShellUIService.destroy()}});const h=e.extend("AppInfo",{constructor:function(t){e.call(this);this._oComponent=t},getDefaultTitle:async function(){const e=this._oComponent.getManifestEntry("sap.app");if(e&&e.title){const t=e.title;if(this._isLocalizationKey(t)){const i=e.i18n||"i18n/i18n.properties";return this._getLocalized(t,i)}return t}const t=this._oComponent.getManifestEntry("sap.ui5");if(t?.config?.resourceBundle&&t.config.titleResource){const e=t.config.titleResource;const i=t.config.resourceBundle;return this._getLocalized(e,i)}},_getLocalized:async function(e,t){const i=new o({async:true,bundleUrl:`${sap.ui.require.toUrl(this._oComponent.getMetadata().getComponentName())}/${t}`});const n=await i.getResourceBundle();return n.getText(e.replace(/^{{/,"").replace(/}}$/,""))},_isLocalizationKey:function(e){return e.indexOf("{{")===0&&e.indexOf("}}")>0}});const l=e.extend("HeaderInfo",{constructor:function(t,i,n){e.call(this);this._oConfig=i;this._oAppInfo=n;this._oShellUIService=t._oShellUIService;this._aHierarchy=[];this._pInit=this._oAppInfo.getDefaultTitle().then(e=>{this._sDefaultTitle=e})},registerView:async function(e,t){if(this._oConfig.bMoveTitle===true){if(!e.oTitleInfo&&e.oSubTitleInfo){e.oTitleInfo=e.oSubTitleInfo}this._oCurrentViewInfo=e;const i=e.oTitleInfo?e.oTitleInfo.text:undefined;if(i!==this._oShellUIService.getTitle()){try{this._oShellUIService.setTitle(i)}catch{}}await this._updateHierarchy(e,t)}this._setBackNavigation(e.oBackButton,e.oAdaptOptions)},_setBackNavigation:function(e,t){if(t&&t.bHideBackButton===false){return}let i;if(e){i=e.firePress.bind(e)}this._oShellUIService.setBackNavigation(i)},_updateHierarchy:async function(e,t){if(this._oConfig.bHierarchy===false){return}await this._pInit;if(!e){return}let i=true;for(let n=this._aHierarchy.length-1;n>=0;n--){let o=this._aHierarchy[n];const r=o.id===e.sViewId;const s=o.intent===t;if(r||s){i=false;o=this._updateHierarchyEntry(o,e);this._aHierarchy[n]=o;this._aHierarchy=this._aHierarchy.slice(0,n+1);if(r){o.intent=t}break}}if(i){const i=this._createHierarchyEntry(e,t);this._aHierarchy.push(i)}const n=[];for(let e=this._aHierarchy.length-2;e>=0;e--){n.push(this._aHierarchy[e])}try{this._oShellUIService.setHierarchy(this._deleteUndefinedProperties(n))}catch{}},_createHierarchyEntry:function(e,t){return{id:e.sViewId,title:e.oTitleInfo?e.oTitleInfo.text:this._sDefaultTitle,subtitle:e.oSubTitleInfo?e.oSubTitleInfo.text:undefined,intent:t}},_updateHierarchyEntry:function(e,t){e.id=t.sViewId;e.title=t.oTitleInfo?t.oTitleInfo.text:this._sDefaultTitle;e.subtitle=t.oSubTitleInfo?t.oSubTitleInfo.text:undefined;return e},_deleteUndefinedProperties:function(e){e.forEach(e=>{for(const t in e){if(e.hasOwnProperty(t)&&!e[t]&&t!=="title"){delete e[t]}}});return e}});const f=e.extend("sap.ushell.Fiori20Adapter",{constructor:function(t,i){e.call(this);this._oComponent=t;this._oConfig=i;this._oHeaderInfo=new l(t,i,new h(t));if(r){r.attachViewChange(this._onViewChange,this)}this._oViewChangeQueue=new c},init:function(){if(!r){return}const e=a({},this._oConfig);r.traverse(this._oComponent.getAggregation("rootControl"),e)},destroy:function(){if(r){r.detachViewChange(this._onViewChange,this)}},_onViewChange:async function(e){const t=`#${s.getHash()}`;await this._oViewChangeQueue.push(async()=>{await this._oHeaderInfo.registerView(e.getParameters(),t)})}});f.applyTo=function(e,n,o,r){let s=e instanceof i?e:t.getOwnerComponentFor(e);if(!s){s=n}if(!s){return}s._oShellUIService=r;if(!s._fioriAdapter){s._fioriAdapter=new f(s,o);s._fioriAdapter.init()}};return f});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Fiori20AdapterTest", ["sap/base/Log","sap/base/util/isEmptyObject","sap/base/util/Version","sap/ui/core/Configuration","sap/ui/core/library","sap/ui/core/service/ServiceFactoryRegistry","sap/ui/core/UIComponent","sap/ui/core/ComponentHooks","sap/ushell/Fiori20Adapter"],(e,i,t,n,s,a,r,o,u)=>{"use strict";const c={I_DEFAULT_SEARCH_DEPTH:5,B_DEFAULT_LATE_ADAPTATION:false,S_FIORI20ADAPTER_URL_PARAM_NAME:"sap-ui-xx-fiori2Adaptation",S_FIORI20ADAPTER_METADATA_PARAM_NAME:"sapFiori2Adaptation",A_ALLOWLIST:["fin.*","ssuite.fin.*","fscm.*","sap.fin.*","cus.sd.*","cus.o2c.*","sap.apf.*","tl.ibp.*","ux.fnd.apf.o2c.*","fnd.apf.*","fnd.pob.o2c.*","fcg.sll.*","ux.fnd.generic-apf-application.*","hpa.cei.*","query.viewbrowser.s1.*","ssuite.vdm.viewbrowser.s1.*","ssuite.smartbusiness.kpi.s1.*","ssuite.smartbusiness.evaluation.s1.*","ssuite.smartbusiness.association.s1.*","ssuite.smartbusiness.drilldown.s1.*","ssuite.smartbusiness.tile.s1.*","ssuite.smartbusiness.tile.ce.s1.*","ssuite.smartbusiness.workspace.s1.*","ssuite.smartbusiness.runtime.s1.*","gs.fin.customersummarycn.display.*","gs.fin.financialstatement.structure.manage.*","gs.fin.financialstatement.display.*","uipsm.*","publicservices.her.*"],getConfiguration:function(e){let i;i=this._getURLParamConfiguration();if(!i){i=this._getMetadataConfiguration(e)}if(!i){i=this._getDefaultConfiguration(e)}i.iSearchDepth=i.iSearchDepth||c.I_DEFAULT_SEARCH_DEPTH;if(typeof i.iSearchDepth==="string"&&!isNaN(i.iSearchDepth)){i.iSearchDepth=parseInt(i.iSearchDepth,10)}return i},_getURLParamConfiguration:function(){if(!n||typeof n.getFiori2Adaptation!=="function"){return}const e=new URLSearchParams(window.location.search);if(!e.get(c.S_FIORI20ADAPTER_URL_PARAM_NAME)){return}const i=n.getFiori2Adaptation();let t;let s;if(typeof i==="boolean"){t=i}else if(i&&i.length>=1){s=i}if(!s&&t===undefined){return}return{bStylePage:s?s.indexOf("style")>-1:t,bMoveTitle:s?s.indexOf("title")>-1:t,bHideBackButton:s?s.indexOf("back")>-1:t,bCollapseHeader:s?s.indexOf("collapse")>-1:t,bHierarchy:s?s.indexOf("hierarchy")>-1:t}},_getMetadataConfiguration:function(e){const t=e.getManifestEntry("/sap.ui5/config")||{};const n=t[c.S_FIORI20ADAPTER_METADATA_PARAM_NAME];let s;let a;if(typeof n==="boolean"){s=n}else if(typeof n==="object"&&!i(n)){a=n}if(!a&&s===undefined){return}return{bStylePage:a?this._isSgnTrue(a.style):s,bMoveTitle:a?this._isSgnTrue(a.title):s,bHideBackButton:a?this._isSgnTrue(a.back):s,bCollapseHeader:a?this._isSgnTrue(a.collapse):s,bHierarchy:a?this._isSgnTrue(a.hierarchy):s,bLateAdaptation:a?this._isSgnTrue(a.lateAdaptation):c.B_DEFAULT_LATE_ADAPTATION}},_getDefaultConfiguration:function(e){const i=this._hasMinVersionSmallerThan(e,"1.42")&&this._isAllowed(e);return{bStylePage:i,bMoveTitle:i,bHideBackButton:i,bCollapseHeader:i,bHierarchy:i}},_isAllowed:function(e){const i=e.getMetadata().getName();for(let e=0;e<c.A_ALLOWLIST.length;e++){const t=c.A_ALLOWLIST[e].substring(0,c.A_ALLOWLIST[e].length-2);if(this._isPrefixedString(i,t)){return true}}return false},_isAdaptationRequired:function(e){for(const i in e){if(e[i]===true){return true}}return false},_isPrefixedString:function(e,i){return e&&i&&e.substring(0,i.length)===i},_hasMinVersionSmallerThan:function(e,i){const n=e.getManifestEntry("sap.ui5");let s=true;if(n&&n.dependencies&&n.dependencies.minUI5Version){const e=new t(n.dependencies.minUI5Version);s=e.compareTo(new t(i))<0}return s},_isSgnTrue:function(e){return e===true||e==="true"}};o.onUIComponentInstanceInitialized.register(i=>{const t=i.getAggregation("rootControl");if(!t||t.getId()==="navContainerFlp"||i.getId().indexOf("application-")!==0){return}const n=c.getConfiguration(i);if(!c._isAdaptationRequired(n)){return}if(!s.service||!a||typeof a.get!=="function"){e.warning("Fiori20Adapter not loaded because static FactoryRegistry is not available","sap.ui.core.service.ServiceFactoryRegistry should be a function","sap.ushell.Fiori20AdapterTest");return}const r={onBeforeRendering:function(){t.removeEventDelegate(r);const s=a.get("sap.ushell.ui5service.ShellUIService");const o=s&&s.createInstance({scopeObject:i,scopeType:"component"});if(!s||!o){e.warning("Fiori20Adapter not loaded because ShellUIService is not available","sap.ushell.ui5service.ShellUIService should be declared by configuration","sap.ushell.Fiori20AdapterTest");return}o.then(e=>u.applyTo(t,i,n,e)).catch(i=>{e.warning("Fiori20Adapter not loaded as ShellUIService is not available",i,"sap.ushell.Fiori20AdapterTest")})}};t.addEventDelegate(r)})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/SessionHandler", ["sap/ui/core/EventBus","sap/ushell/resources","sap/ushell/Config","sap/ushell/utils","sap/m/Dialog","sap/m/Button","sap/m/Text","sap/ui/model/json/JSONModel","sap/m/VBox","sap/ui/core/library","sap/m/library","sap/ushell/ui/launchpad/LoadingDialog","sap/ui/thirdparty/jquery","sap/ui/util/Storage","sap/base/Log","sap/ushell/appIntegration/PostMessageManager","sap/ushell/EventHub","sap/ushell/Container"],(e,i,t,s,n,o,a,r,u,l,d,c,jQuery,h,m,g,f,p)=>{"use strict";const S=d.ButtonType;const T=l.ValueState;let v=false;function I(){const l=this;let d=false;let I=false;this.init=function(e){m.debug(`SessionHandler.oConfig.sessionTimeoutIntervalInMinutes: ${e.sessionTimeoutIntervalInMinutes}`,"","SessionHandler");m.debug(`SessionHandler.oConfig.sessionTimeoutReminderInMinutes: ${e.sessionTimeoutReminderInMinutes}`,"","SessionHandler");m.debug(`SessionHandler.oConfig.enableAutomaticSignout: ${e.enableAutomaticSignout}`,"","SessionHandler");if(e.enableAutomaticSignout===undefined){e.enableAutomaticSignout=false}if(e.sessionTimeoutReminderInMinutes===undefined){e.sessionTimeoutReminderInMinutes=0}if(e.sessionTimeoutIntervalInMinutes<-1){e.sessionTimeoutIntervalInMinutes=-1;m.warning("sessionTimeoutIntervalInMinutes was invalid and has been set to -1","SessionHandler")}if(e.sessionTimeoutReminderInMinutes<0){e.sessionTimeoutReminderInMinutes=0;m.warning("sessionTimeoutReminderInMinutes was negative and has been set to 0","SessionHandler")}if(e.sessionTimeoutIntervalInMinutes<=0){e.sessionTimeoutReminderInMinutes=0}else if(e.sessionTimeoutIntervalInMinutes<=e.sessionTimeoutReminderInMinutes){e.sessionTimeoutReminderInMinutes=e.sessionTimeoutIntervalInMinutes-1<0?0:e.sessionTimeoutIntervalInMinutes-1;m.error("sessionTimeoutReminderInMinutes needs to be smaller than sessionTimeoutIntervalInMinutes."+`sessionTimeoutReminderInMinutes adapted to: ${e.sessionTimeoutReminderInMinutes}`,"SessionHandler")}this.oConfig=e;this.oModel=new r;this.putTimestampInStorage(this._getCurrentDate());this.initLogout();this._fnOnVisibilityChange=this.onVisibilityChange.bind(this);p.getServiceAsync("AppLifeCycle").then(i=>{this.oAppLifeCycleService=i;this.attachUserEvents();if(e.sessionTimeoutIntervalInMinutes>0){this.attachVisibilityEvents();this.initSessionTimeout()}if(e.sessionTimeoutTileStopRefreshIntervalInMinutes>0){this.initTileRequestTimeout()}f.on("nwbcUserIsActive").do(this.userActivityHandler.bind(this));d=true})};this.isInitialized=function(){return d};this.initLogout=function(){if(I===false){p.registerLogout(this.logout);I=true}};this.initSessionTimeout=function(){this.oModel.setProperty("/SessionRemainingTimeInSeconds",this.oConfig.sessionTimeoutReminderInMinutes*60);this.counter=0;this.oKeepAliveDialog=undefined;this.notifyServer();this.monitorUserIsInactive()};this.monitorUserIsInactive=function(e){m.debug("SessionHandler.monitorInactiveUser : Check started","*****","SessionHandler");e=typeof e!=="undefined"?e:true;const i=this.timeLastInteraction();const t=this.timePopup();const s=this.timeNow();const n=this.timeOver();const o=t-s;const a=s-i;m.debug(`SessionHandler.monitorUserIsInactive :: time since last interaction : ${a}`,"","SessionHandler");m.debug(`SessionHandler.monitorUserIsInactive :: remaining time until dialog : ${o}`,"","SessionHandler");if(s<t&&e){const e=setTimeout(this.monitorUserIsInactive.bind(this),o*1e3);this.oMonitorUserIsInactiveTimer=this.oMonitorUserIsInactiveTimer||e;return}if(s>=t&&s<n&&this.oConfig.sessionTimeoutReminderInMinutes>0){this.detachUserEvents();this.detachVisibilityEvents();this.oContinueWorkingDialog=this.createContinueWorkingDialog();this.oContinueWorkingDialog.open();m.debug("SessionHandler.monitorUserIsInactive :: Dialog opened","","SessionHandler");this.monitorCountdown(true);this._createSystemNotification()}if(s>=n){m.debug("SessionHandler.monitorUserIsInactive :: Session over detected","","SessionHandler");this.handleSessionOver();return}m.debug("SessionHandler.monitorInactiveUser :: Check done","*****","SessionHandler")};this.handleSessionOver=function(){clearTimeout(this.notifyServerTimer);e.getInstance().publish("launchpad","sessionTimeout");if(this.oConfig.enableAutomaticSignout===true){m.debug("SessionHandler.handleSessionOver :: Automatic signout gets initiated","","SessionHandler");p.defaultLogout()}else{m.debug("SessionHandler.handleSessionOver :: Session expired dialog gets opened","","SessionHandler");this.createSessionExpiredDialog().open()}};this.notifyServer=async function(){const e=this._getCurrentDate()-new Date(this.getTimestampFromStorage());const i=e/(1e3*60);const t=this.oConfig.sessionTimeoutIntervalInMinutes*30*1e3;if(i<=this.oConfig.sessionTimeoutIntervalInMinutes){p.sessionKeepAlive();g.sendRequestToAllApplications("sap.ushell.sessionHandler.extendSessionEvent",{},false)}else{}this.notifyServerTimer=setTimeout(this.notifyServer.bind(this),s.sanitizeTimeoutDelay(t))};this.monitorCountdown=function(e){if(e){m.debug("SessionHandler.monitorCountdown :: Initiated from outside","*****","SessionHandler")}else{m.debug("SessionHandler.monitorCountdown :: Initiated from internal call","**","SessionHandler")}const i=this.timeLastInteraction();const t=this.timePopup();const s=this.timeNow();const n=this.timeOver();const o=s-i;m.debug(`SessionHandler.monitorCountdown :: timeNow : ${s}`,"","SessionHandler");m.debug(`SessionHandler.monitorCountdown :: iTimeLastInteraction : ${i}`,"","SessionHandler");m.debug(`SessionHandler.monitorCountdown :: timeSinceLastInteraction : ${o}`,"","SessionHandler");m.debug(`SessionHandler.monitorCountdown :: iTimeOver : ${n}`,"","SessionHandler");if(s<t){m.debug("SessionHandler.monitorCountdown :: Auto-click","<=","SessionHandler");this.continueWorkingButtonPressHandler(true);return}const a=n-s;if(a>0){m.debug(`SessionHandler.monitorCountdown :: Remaining seconds : ${a} - iTimeOver : ${n}`,"","SessionHandler");this.oModel.setProperty("/SessionRemainingTimeInSeconds",a);this.remainingTimer=setTimeout(this.monitorCountdown.bind(this,false),500);return}if(a<=0){if(this.oSessionKeepAliveDialog){this.oSessionKeepAliveDialog.close()}this.handleSessionOver()}};this.initTileRequestTimeout=function(){this.checkStopBackendRequestRemainingTime();this.bBackendRequestsActive=true};this.checkStopBackendRequestRemainingTime=function(){const e=this._getCurrentDate()-new Date(this.getTimestampFromStorage());const i=e/(1e3*60);const t=this.oConfig.sessionTimeoutTileStopRefreshIntervalInMinutes;const n=(t-i)*60*1e3;if(i<t){setTimeout(this.checkStopBackendRequestRemainingTime.bind(this),s.sanitizeTimeoutDelay(n))}else if(t>0){this._setConnectionActive(false)}};this._setConnectionActive=function(i){if(i){setTimeout(this.checkStopBackendRequestRemainingTime.bind(this),0)}if(this.bBackendRequestsActive===i){return}e.getInstance().publish("launchpad","setConnectionToServer",{active:i});if(!t.last("/core/spaces/enabled")){if(i){this._setTilesVisibleOnHomepage()}else{this._setTilesInvisibleOnHomepage()}}this.bBackendRequestsActive=i};this._setTilesVisibleOnHomepage=function(){sap.ui.require(["sap/ushell/utils"],e=>{e.handleTilesVisibility()})};this._setTilesInvisibleOnHomepage=function(){return new Promise((i,t)=>p.getServiceAsync("FlpLaunchPage").then(t=>{t.getGroups().then(s=>{const n=e.getInstance();s.forEach(e=>{t.getGroupTiles(e).forEach(e=>{t.setTileVisible(e,false)})});n.publish("launchpad","visibleTilesChanged",[]);i()})}))};this.getLocalStorage=function(){if(this.oLocalStorage===undefined){const e=new h(this.oConfig&&this.oConfig.sessionType||h.Type.local);if(this._isLocalStorageSupported(e)){this.oLocalStorage=e}else{this.oLocalStorage=false}}return this.oLocalStorage};this._isLocalStorageSupported=function(e){let i;try{i=e.isSupported()}catch(e){i=false}if(!i){m.warning("SessionHandler._isLocalStorageSupported :: Failed to instantiate local storage handler: "+"Might be disabled by the browser!","","SessionHandler")}return i};this._createSystemNotification=function(){const e=function(){const e=this.oModel.getProperty("/SessionRemainingTimeInSeconds");const t=new Notification(i.i18n.getText("sessionTimeoutMessage_title"),{body:this.continueWorkingFormatter(e)});t.onclick=function(e){window.focus()}}.bind(this);if(!("Notification"in window)){return}else if(Notification.permission==="granted"){e()}else if(Notification.permission!=="denied"){Notification.requestPermission().then(i=>{if(i==="granted"){e()}})}};this.continueWorkingFormatter=function(e){const t=e>60;let s;const n=t?i.i18n.getText("sessionTimeoutMessage_units_minutes"):i.i18n.getText("sessionTimeoutMessage_units_seconds");const o=t?Math.ceil(e/60):e;if(l.oConfig.enableAutomaticSignout){s=i.i18n.getText("sessionTimeoutMessage_kioskMode_main",[o,n])}else{s=i.i18n.getText("sessionTimeoutMessage_main",[o,n])}return s};this.createContinueWorkingDialog=function(){m.debug("SessionHandler.createContinueWorkingDialog :: Continue working dialog being created","","SessionHandler");this.oMessageVBox=new u;this.oSessionKeepAliveLabel=new a({text:{parts:["/SessionRemainingTimeInSeconds"],formatter:this.continueWorkingFormatter}});this.oMessageVBox.addItem(this.oSessionKeepAliveLabel);if(this.oConfig.enableAutomaticSignout===false){this.oLostDataReminder=new a({text:i.i18n.getText("sessionTimeoutMessage_unsavedData")});this.oMessageVBox.addItem(this.oLostDataReminder)}this.oSessionKeepAliveLabel.setModel(this.oModel);this.oSessionKeepAliveDialog=new n("sapUshellKeepAliveDialog",{title:i.i18n.getText("sessionTimeoutMessage_title"),type:"Message",state:T.Warning,content:this.oMessageVBox,beginButton:this.createContinueWorkingButton(),afterClose:function(){this.oSessionKeepAliveDialog.destroy()}.bind(this)}).addStyleClass("sapContrastPlus");if(this.oConfig.enableAutomaticSignout===true){this.oSignOutButton=new o({text:i.i18n.getText("logoutBtn_title"),tooltip:i.i18n.getText("logoutBtn_tooltip"),press:p.defaultLogout.bind(p)});this.oSessionKeepAliveDialog.setEndButton(this.oSignOutButton)}return this.oSessionKeepAliveDialog};this.createContinueWorkingButton=function(){return new o({text:i.i18n.getText("sessionTimeoutMessage_continue_button_title"),type:S.Emphasized,press:l.continueWorkingButtonPressHandler.bind(l,false)})};this.continueWorkingButtonPressHandler=async function(e){m.debug(`SessionHandler.continueWorkingButtonPressHandler :: Session was extended ${e?"automatically":"by user"}`,"","SessionHandler");if(this.oSessionKeepAliveDialog){this.oSessionKeepAliveDialog.close()}clearTimeout(this.remainingTimer);if(!e){this.putTimestampInStorage(this._getCurrentDate())}this.monitorUserIsInactive();this.attachUserEvents();this.attachVisibilityEvents();g.sendRequestToAllApplications("sap.ushell.sessionHandler.extendSessionEvent",{},false)};this.createSessionExpiredDialog=function(){this.oSessionExpiredDialog=new n("sapUshellSessionTimedOutDialog",{title:i.i18n.getText("sessionExpiredMessage_title"),type:"Message",state:T.Warning,content:new a({text:i.i18n.getText("sessionExpiredMessage_main")}),beginButton:this.createReloadButton(),afterClose:function(){this.oSessionExpiredDialog.destroy()}.bind(this)}).addStyleClass("sapContrastPlus");return this.oSessionExpiredDialog};this.createReloadButton=function(){return new o({text:i.i18n.getText("sessionExpiredMessage_reloadPage_button_title"),press:function(){l.oSessionExpiredDialog.close();location.reload()}})};this.attachUserEvents=function(){jQuery(document).on("mousedown.sessionTimeout mousemove.sessionTimeout",this.userActivityHandler.bind(this));jQuery(document).on("keyup.sessionTimeout",this.userActivityHandler.bind(this));jQuery(document).on("touchstart.sessionTimeout",this.userActivityHandler.bind(this));this.oAppLifeCycleService.attachAppLoaded({},this.userActivityHandler,this)};this.detachUserEvents=function(){jQuery(document).off("mousedown.sessionTimeout mousemove.sessionTimeout");jQuery(document).off("keydown.sessionTimeout");jQuery(document).off("touchstart.sessionTimeout");this.oAppLifeCycleService.detachAppLoaded(this.userActivityHandler,this)};this.onVisibilityChange=function(e){if(e.target&&e.target.visibilityState==="visible"){this.monitorUserIsInactive(false)}};this.attachVisibilityEvents=function(){document.addEventListener("visibilitychange",this._fnOnVisibilityChange)};this.detachVisibilityEvents=function(){document.removeEventListener("visibilitychange",this._fnOnVisibilityChange)};this.putTimestampInStorage=function(e){m.debug(`SessionHandler.putTimestampInStorage :: Timestamp is ${e}`,"","SessionHandler");const i=this.getLocalStorage();if(i){i.put("lastActivityTime",e);if(this.bBackendRequestsActive===false){this._setConnectionActive(true)}}};this.getTimestampFromStorage=function(){const e=this.getLocalStorage();if(e){return e.get("lastActivityTime")}return null};this.timeNow=function(){return Math.floor(Date.now()/1e3)};this.timeLastInteraction=function(){return Math.floor(new Date(this.getTimestampFromStorage()).getTime()/1e3)};this.timeOver=function(){return Math.floor(this.timeLastInteraction()+this.oConfig.sessionTimeoutIntervalInMinutes*60)};this.timePopup=function(){return Math.floor(this.timeLastInteraction()+this.oConfig.sessionTimeoutIntervalInMinutes*60-this.oConfig.sessionTimeoutReminderInMinutes*60)};this.userActivityHandler=function(){if(this.oUserActivityTimer!==undefined){return}this.oUserActivityTimer=setTimeout(()=>{m.debug("SessionHandler.userActivityHandler :: Timed time stamp update","","SessionHandler");l.putTimestampInStorage(l._getCurrentDate());l.oUserActivityTimer=undefined},1e3)};this._getCurrentDate=function(){return new Date};this.logout=function(){return new Promise(async e=>{m.debug("SessionHandler.logout :: Logout initiated","","SessionHandler");function t(t){if(d===true){l.detachUserEvents();l.detachVisibilityEvents()}if(l.oUserActivityTimer){clearTimeout(l.oUserActivityTimer)}if(l.remainingTimer){clearTimeout(l.remainingTimer)}if(l.notifyServerTimer){clearTimeout(l.notifyServerTimer)}t.openLoadingScreen();t.showAppInfo(i.i18n.getText("beforeLogoutMsg"),null);p.setDirtyFlag(false);e()}const s=new c({text:""});const n=window.setTimeout(async()=>{v=true;t(s)},4e3);g.sendRequestToAllApplications("sap.ushell.sessionHandler.logout",{},true).then(async()=>{if(v===false){v=true;window.clearTimeout(n);t(s)}})})}}return I},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/System", [],()=>{"use strict";function t(t){this._oData=t}t.prototype.getAlias=function(){return this._oData.alias};t.prototype.getBaseUrl=function(){return this._oData.baseUrl};t.prototype.getClient=function(){return this._oData.client};t.prototype.getClientRole=function(){return this._oData.clientRole};t.prototype.getName=function(){return this._oData.system};t.prototype.getPlatform=function(){return this._oData.platform};t.prototype.getProductVersion=function(){return this._oData.productVersion};t.prototype.getProductName=function(){return this._oData.productName};t.prototype.getSystemName=function(){return this._oData.systemName};t.prototype.getSystemRole=function(){return this._oData.systemRole};t.prototype.getTenantRole=function(){return this._oData.tenantRole};t.prototype.isTrial=function(){return!!this._oData.isTrialSystem};t.prototype.getSysInfoBar=function(){return!!this._oData.sysInfoBar};t.prototype.getSysInfoBarColor=function(){return this._oData.sysInfoBarColor};t.prototype.getSysInfoBarMainText=function(){return this._oData.sysInfoBarMainText};t.prototype.getSysInfoBarSecondaryText=function(){return this._oData.sysInfoBarSecondaryText};t.prototype.getSysInfoBarIcon=function(){return this._oData.sysInfoBarIcon};t.prototype.adjustUrl=function(t){if(t.indexOf("/")!==0||t==="/"){throw new Error(`Invalid URL: ${t}`)}if(this._oData.baseUrl===";o="){if(this._oData.alias){t=`${t};o=${this._oData.alias}`}}else if(this._oData.baseUrl){t=this._oData.baseUrl.replace(/\/$/,"")+t}if(this._oData.client){t+=`${t.indexOf("?")>=0?"&":"?"}sap-client=${this._oData.client}`}return t};t.prototype.toString=function(){return JSON.stringify(this._oData)};return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/TechnicalParameters", ["sap/ushell/utils/type"],e=>{"use strict";async function t(e){throw new Error(`${e} is reserved for shell internal usage only`)}function r(e,t){if(t){const r=t.getComponentData()||{};const n=r.technicalParameters||{};return n[e]}return undefined}function n(t,r){let n=r.getManifestEntry(t);if(n&&!e.isArray(n)){n=[n]}return n}function a(e,t){const r=t.getReservedParameters();return r&&r[e]}const i={"sap-navigation-scope":{injectFrom:"inboundParameter",sticky:true,stickyName:"sap-navigation-scope-filter",isIntentParameter:true,getValue:function(e,t,n,i){return new Promise((s,u)=>{if(i==="UI5"){s(r(e,t))}else{s(a(e,n))}})}},"sap-fiori-id":{injectFrom:"startupParameter",isIntentParameter:true,getValue:function(e,t,i,s){return new Promise((u,o)=>{if(s==="UI5"){u(r(e,t)||n("/sap.fiori/registrationIds",t))}else{u(a(e,i))}})}},"sap-ui-fl-max-layer":{injectFrom:"startupParameter",isIntentParameter:true,getValue:function(e,t){return Promise.resolve().then(r.bind(null,e,t))}},"sap-ui-fl-control-variant-id":{injectFrom:"startupParameter",isIntentParameter:false,getValue:function(e,t){return Promise.resolve().then(r.bind(null,e,t))}},"sap-ui-fl-version":{injectFrom:"startupParameter",isIntentParameter:true,getValue:function(e,t){return Promise.resolve().then(r.bind(null,e,t))}},"sap-ui-app-id-hint":{injectFrom:"startupParameter",isIntentParameter:true,getValue:t},"sap-ach":{injectFrom:"startupParameter",isIntentParameter:true,getValue:function(e,t,i,s){return new Promise((u,o)=>{if(s==="UI5"){u(r(e,t)||n("/sap.app/ach",t))}else{u(a(e,i))}})}},"sap-prelaunch-operations":{injectFrom:"inboundParameter",isIntentParameter:true,getValue:t},"sap-app-origin-hint":{injectFrom:"startupParameter",isIntentParameter:false,getValue:t},"sap-app-origin":{injectFrom:"startupParameter",isIntentParameter:false,getValue:t}};async function s(e,t,r,n){if(!i[e]){throw new Error(`${e} is not a known technical parameter`)}return i[e].getValue(e,t,r,n)}function u(e){if(!e){e={}}return Object.keys(i).filter(t=>{const r=i[t];return Object.keys(e).every(t=>{const n=e[t];const a=r.hasOwnProperty(t);if(a){return r[t]===n}return false})}).map(e=>Object.keys(i[e]).reduce((t,r)=>{t[r]=i[e][r];return t},{name:e}))}function o(){return Object.keys(i)}function c(e){return i.hasOwnProperty(e)}function m(e,t,n,i){if(i==="UI5"){return r(e,t)}return a(e,n)}return{getParameterValue:s,getParameterValueSync:m,getParameters:u,getParameterNames:o,isTechnicalParameter:c}},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/UI5ComponentType", [],()=>{"use strict";return{Application:"Application",Plugin:"Plugin",Visualization:"Visualization"}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Ui5ServiceFactory", ["sap/ui/core/service/ServiceFactory","sap/ui/core/service/Service","sap/base/Log","sap/base/util/ObjectPath","sap/base/util/isPlainObject"],(e,t,n,r,c)=>{"use strict";let o;function i(e){o=e}function s(){return o}function u(e){return!!/^[^_].+/.test(e)}function a(e){let t;const n=[];for(t in e){n.push(t)}return n}function f(e,t,r){const c=t[r];t[r]=function(){let o;const i=s();if(!e||e.scopeObject.getId()!==i){n.warning(`Call to ${r} is not allowed`,`This may be caused by an app component other than the active '${i}' that tries to call the method`,"sap.ushell.Ui5ServiceFactory");return undefined}const u=new Array(arguments.length);for(o=0;o<u.length;++o){u[o]=arguments[o]}return c.apply(t,u)}}function p(e,t,n,r){a(e).filter(u).filter(n=>{const r=e[n];t[n]=r;return typeof r==="function"}).forEach(c=>{t[c]=t[c].bind(e);if(r){f(n,t,c)}})}function l(e){if(typeof e==="undefined"){return true}if(!c(e)){return false}if(!e.scopeType){return false}const t=r.get("scopeObject.getId",e);if(typeof t!=="function"){return false}return true}function h(e,t,n){const r={};if(n){n=typeof e==="object"}p(t,r,e,n);if(n&&e.scopeType==="component"&&e.scopeObject&&e.scopeObject.getId){i(e.scopeObject.getId())}return r}function y(e){return new Promise((t,n)=>{sap.ui.require(["sap/ushell/Container"],n=>{n.getServiceAsync(e).then(e=>{t(e)})})})}function b(r,c){const o=e.extend(`sap.ushell.ui5service.${r}Factory`,{createInstance:function(e){return new Promise((o,i)=>{y(r).then(s=>{if(!l(e)){n.error(`Invalid context for ${r} service interface`,"The context must be empty or an object like { scopeType: ..., scopeObject: ... }","sap.ushell.Ui5ServiceFactory");i(new Error(`Invalid Context for ${r} service`));return}const u=h(e,s,c);const a=t.extend(`sap.ushell.ui5service.${r}`,{getInterface:function(){return u}});const f=new a(e);o(f)}).catch(e=>{i(e)})})}});return new o}return{createServiceFactory:b}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/User", ["sap/base/Log","sap/base/i18n/Localization","sap/base/util/deepExtend","sap/ui/base/EventProvider","sap/ui/core/Locale","sap/ui/core/LocaleData","sap/ui/thirdparty/URI","sap/ushell/utils","sap/ui/core/Theming"],(e,t,n,i,o,r,s,a,h)=>{"use strict";function m(e){if(e===undefined){return undefined}return n({},e)}function u(e){let t;if(e.host&&typeof e.host==="function"&&e.host()){t=e.host();if(typeof e.protocol==="function"&&e.protocol()){t=`${e.protocol()}://${t}`}return t}return""}function c(e){return e.indexOf("sap_")===0}function g(m={}){let l=[];let p;let f;const d=new i;const T={};m.userProfile?.forEach?.(e=>{if(e.id&&e.editState){T[e.id]=e.editState}});let y=m.userProfile?.find?.(e=>e.id==="THEME_SET")?.value||"";this.getEditState=function(e){return T[e]};this.getEmail=function(){return m.email};this.getFirstName=function(){return m.firstName};this.getFullName=function(){return m.fullName};this.getTimeZone=function(){return m.timeZone};this.getLanguageAndRegionSettingsEntry=async()=>{if(m.getLanguageAndRegionSettingsEntry){const e=await m.getLanguageAndRegionSettingsEntry();return e}const[e]=await a.requireAsync(["sap/ushell/components/shell/Settings/userLanguageRegion/UserLanguageRegionEntry"]);return e};this.getInitials=function(){const e=m.fullName||"";let t="";let n=true;for(let i=0,o=e.length;i<o;++i){if(e[i]===" "){n=true}else if(n){n=false;t+=e[i]}}return t};this.getId=function(){return m.id};this.getLanguage=function(){return m.language};this.getLanguageBcp47=function(){return m.languageBcp47};this.getLanguageText=function(){const e=new o(t.getLanguageTag());const n=new r(e);const i=t.getLanguageTag().toString();return n.getLanguageName(i)||this.getLanguage()};this.getLastName=function(){return m.lastName};this.getImage=function(){return m.image};this.getCalendarWeekNumbering=function(){return m.calendarWeekNumbering||"Default"};this.setImage=function(e){m.image=e;d.fireEvent("onSetImage",e)};this.attachOnSetImage=function(e,t){d.attachEvent("onSetImage",e,t)};this.isJamActive=function(){return m.isJamActive===true};this.isLanguagePersonalized=function(){return m.isLanguagePersonalized===true};this.getTheme=function(e){if(e===g.prototype.constants.themeFormat.ORIGINAL_THEME){return f.originalTheme.theme}if(e===g.prototype.constants.themeFormat.THEME_NAME_PLUS_URL){return p.theme+(p.locationPath?`@${p.locationOrigin}${p.locationPath}`:"")}if(e===g.prototype.constants.themeFormat.NWBC){if(c(p.theme)){return p.theme}return this.getTheme(g.prototype.constants.themeFormat.THEME_NAME_PLUS_URL)}return p.theme};this.getThemeSet=function(){return y};this.getThemeRoot=function(e){if(m.ranges&&m.ranges.theme&&m.ranges.theme[e]&&m.ranges.theme[e].themeRoot){return m.ranges.theme[e].themeRoot}return""};this.addThemeRootForTheme=function(e){if(m.ranges.theme[e.id]){m.ranges.theme[e.id].themeRoot=e.root}else{m.ranges.theme[e.id].displayName="";m.ranges.theme[e.id].themeRoot=e.root}};this.setThemeSet=function(t){if(this.isSetThemePermitted()===false){const t="setThemeSet is not permitted";e.error(t);throw new Error(t)}if(t!==y){this.setChangedProperties({propertyName:"themeSet",name:"THEME_SET"},y,t);y=t}};this.setLanguage=function(e){if(e){this.setChangedProperties({propertyName:"language",name:"LANGUAGE"},m.language,e);m.language=e}};this.getAccessibilityMode=function(){return m.accessibility};this.setAccessibilityMode=function(t){if(this.isSetAccessibilityPermitted()===false){const t="setAccessibilityMode not permitted";e.error(t);throw new Error(t)}m.accessibility=t};this.isAdminUser=function(){return m.isAdminUser===true};this.isSetAccessibilityPermitted=function(){return m.setAccessibilityPermitted};this.isSetThemePermitted=function(){return m.setThemePermitted};this.getContentDensity=function(){return m.contentDensity};this.setContentDensity=function(t){if(this.isSetContentDensityPermitted()===false){const t="setContentDensity not permitted";e.error(t);throw new Error(t)}e.debug("[000] setContentDensity",t,"User");this.setChangedProperties({propertyName:"contentDensity",name:"CONTENT_DENSITY"},m.contentDensity,t);m.contentDensity=t};this.isSetContentDensityPermitted=function(){return m.setContentDensityPermitted};this.getChangedProperties=function(){e.debug("[000] user: getChangedProperties: aChangedProperties",JSON.stringify(l),"User");return n([],l)};this.setChangedProperties=function(t,n,i){e.debug("[000] setChangedProperties",[t.name,n,i],"User");l.push({propertyName:t.propertyName,name:t.name,oldValue:n,newValue:i})};this.resetChangedProperties=function(){e.debug("[000] resetChangedProperties","User");l=[]};this.resetChangedProperty=function(t){e.debug("[000] resetChangedProperty: sPropertyName:",t,"User");l=l.filter(e=>!(t===e.propertyName))};this.getTrackUsageAnalytics=function(){return m.trackUsageAnalytics};this.setTrackUsageAnalytics=function(e){this.setChangedProperties({propertyName:"trackUsageAnalytics",name:"TRACKING_USAGE_ANALYTICS"},m.trackUsageAnalytics,e);m.trackUsageAnalytics=e};this.setImageConsent=function(e){this.setChangedProperties({propertyName:"isImageConsent",name:"ISIMAGECONSENT"},m.isImageConsent,e);m.isImageConsent=e};this.getImageConsent=function(){return m.isImageConsent};this.getImportBookmarksFlag=function(){return m.importBookmarks||null};this.setImportBookmarksFlag=function(e){this.setChangedProperties({propertyName:"importBookmarks",name:"MYHOME_IMPORT_FROM_CLASSIC"},this.getImportBookmarksFlag()||"",e);m.importBookmarks=e};this.getShowMyHome=function(){return m.showMyHome!==false};this.setShowMyHome=function(e){e=!!e;this.setChangedProperties({propertyName:"showMyHome",name:"MYHOME_ENABLEMENT"},m.showMyHome,e);m.showMyHome=e};this.getDetectDarkMode=function(){return m.detectDarkMode!==false};this.setDetectDarkMode=function(e){e=!!e;this.setChangedProperties({propertyName:"detectDarkMode",name:"THEME_DARKMODE_AUTO_DETECTION"},m.detectDarkMode,e);m.detectDarkMode=e};const P={locationPathUi5:new s(sap.ui.require.toUrl("")).absoluteTo(document.location).pathname(),locationPathCustom:m.themeRoot||"",locationOrigin:u(new s(document.location))};if(!P.locationPathUi5){e.warning("User: Could not set UI5 location path")}if(!P.locationPathCustom){e.warning("User: Could not set location path for custom themes")}if(!P.locationOrigin){e.warning("User: Could not set front-end server location origin")}const E=m.bootTheme||{theme:"",root:""};p=this._amendTheme(E,P);f=p;this.setTheme=function(t){if(this.isSetThemePermitted()===false){const t="setTheme not permitted";e.error(t);throw new Error(t)}p=this._amendTheme({theme:t,root:this.getThemeRoot(t)},P);if(t!==f.originalTheme.theme){this.setChangedProperties({propertyName:"theme",name:"THEME"},f.originalTheme.theme,t);f=p}this.applyTheme(t)};this.applyTheme=function(e){const t=this._amendTheme({theme:e,root:this.getThemeRoot(e)},P);p=t;if(t.suppliedRoot){h.setThemeRoot(t.theme,`${t.suppliedRoot}/UI5/`)}else if(t.path){h.setThemeRoot(t.theme,`${t.path}/UI5/`)}h.setTheme(t.theme);sap.ui.require(["sap/ushell/appIntegration/PostMessageManager"],e=>{e.sendRequestToAllApplications("sap.ushell.appRuntime.themeChange",{currentThemeId:this.getTheme(g.prototype.constants.themeFormat.NWBC),themeServiceRoute:`${window.location.protocol}//${window.location.host}/comsapuitheming.runtime/themeroot/v1`},false)})}}g.prototype._amendTheme=function(e,t){if(!e||!e.theme||!t){return{originalTheme:{theme:"",root:""},theme:"",suppliedRoot:"",path:"",locationPath:"",locationOrigin:""}}function n(e,t){const n=new s(e);const i=u(n);return{locationOrigin:i||t.locationOrigin,locationPath:i?n.path():e}}const i={originalTheme:m(e)};let o;if(i.originalTheme.theme.indexOf("@")>0){const e=i.originalTheme.theme.split("@",2);i.theme=e[0];i.suppliedRoot=e[1];o=n(e[1],t);i.locationPath=o.locationPath;i.path=i.locationPath;i.locationOrigin=o.locationOrigin;return i}i.theme=i.originalTheme.theme;if(i.originalTheme.root){i.suppliedRoot=i.originalTheme.root;o=n(i.originalTheme.root,t);i.locationPath=o.locationPath;i.path=i.locationPath;i.locationOrigin=o.locationOrigin;return i}i.suppliedRoot="";if(c(i.theme)){i.locationOrigin=t.locationOrigin;i.locationPath=t.locationPathUi5;i.path="";return i}i.locationOrigin=t.locationOrigin;i.locationPath=t.locationPathCustom;i.path=i.locationPath;return i};g.prototype.constants={themeFormat:{ORIGINAL_THEME:"O",THEME_NAME_PLUS_URL:"N+U",NWBC:"NWBC"}};return g},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/ClientSideTargetResolutionAdapter", ["sap/base/util/Version","sap/ui/thirdparty/jquery","sap/base/util/deepExtend","sap/base/Log","sap/ushell/Container"],(e,jQuery,t,s,r)=>{"use strict";function i(i,o,n){this._oAdapterConfig=n&&n.config;let a="";if(r.isInitialized()){a=r.getLogonSystem().getProductName()||""}this._oLocalSystemAlias={http:{host:"",port:0,pathPrefix:"/sap/bc/"},https:{host:"",port:0,pathPrefix:"/sap/bc/"},rfc:{systemId:"",host:"",service:0,loginGroup:"",sncNameR3:"",sncQoPR3:""},id:"",label:"local",client:"",language:"",properties:{productName:a}};this.getInbounds=function(){const t=this;if(!this._getInboundsDeferred){this._getInboundsDeferred=new jQuery.Deferred;r.getServiceAsync("CommonDataModel").then(e=>e.getSiteWithoutPersonalization()).then(s=>{const r=s._version&&e(s._version).getMajor()===3?"sap/ushell/adapters/cdm/v3/utilsCdm":"sap/ushell/utils/utilsCdm";sap.ui.require([r],e=>{const r=e.formatSite(s)||[];t._getInboundsDeferred.resolve(r)})}).catch(e=>{t._getInboundsDeferred.reject(e)})}return this._getInboundsDeferred.promise()};this._createSIDMap=function(e){return Object.keys(e).sort().reduce((t,s)=>{const r=e[s];const i=`SID(${r.systemId}.${r.client})`;if(!t.hasOwnProperty(i)&&r.hasOwnProperty("systemId")&&r.hasOwnProperty("client")){t[i]=s}return t},{})};this._getSystemAliases=function(){const e=this;if(!this.oSystemAliasesDeferred){this.oSystemAliasesDeferred=new jQuery.Deferred;r.getServiceAsync("CommonDataModel").then(e=>e.getSiteWithoutPersonalization()).then(s=>{const r=t({},s.systemAliases||{});Object.keys(r).forEach(e=>{r[e].id=e});e.oSystemAliasesDeferred.resolve(r)}).catch(t=>{e.oSystemAliasesDeferred.reject(t)})}return this.oSystemAliasesDeferred.promise()};this.resolveSystemAlias=function(e){const r=new jQuery.Deferred;const i=this;this._getSystemAliases().done(o=>{let n;if(o.hasOwnProperty(e)){n=o[e];if(e===""){n.properties=t({},i._oLocalSystemAlias.properties,n.properties||{})}r.resolve(n);return}if(e===""){r.resolve(i._oLocalSystemAlias);return}e=e.toUpperCase(e);if(!i._oSIDMap){i._oSIDMap=i._createSIDMap(o)}if(i._oSIDMap.hasOwnProperty(e)){const t=o[i._oSIDMap[e]];r.resolve(t);return}const a=`Cannot resolve system alias ${e}`;s.warning(a,"The system alias cannot be found in the site response","sap.ushell.adapters.cdm.ClientSideTargetResolutionAdapter");r.reject(new Error(a))}).fail(e=>{r.reject(e)});return r.promise()};this.getContentProviderDataOriginsLookup=function(){const e=this;if(!this.oContentProviderDataOriginsDeferred){this.oContentProviderDataOriginsDeferred=new jQuery.Deferred;r.getServiceAsync("CommonDataModel").then(e=>e.getSiteWithoutPersonalization()).then(s=>{let r=null;if(s.contentProviderDataOrigins){r=t({},s.contentProviderDataOrigins)}e.oContentProviderDataOriginsDeferred.resolve(r)}).catch(t=>{e.oContentProviderDataOriginsDeferred.reject(t)})}return this.oContentProviderDataOriginsDeferred.promise()}}return i},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/CommonDataModelAdapter", ["sap/base/Log","sap/base/util/extend","sap/base/util/Version","sap/ui/thirdparty/URI","sap/ui/thirdparty/jquery","sap/ushell/Container"],(e,t,o,i,jQuery,n)=>{"use strict";function r(e,t,o){this.oAdapterConfiguration=o;if(o&&o.config&&o.config.siteData){this.oCdmSiteDataRequestPromise=(new jQuery.Deferred).resolve(o.config.siteData)}else if(o&&o.config&&o.config.siteDataPromise){this.oCdmSiteDataRequestPromise=o.config.siteDataPromise}else{const e=this._identifySiteUrlFromConfig(o);const t=this._normalizeUrl(e,location.href);this.oCdmSiteDataRequestPromise=this._requestSiteData(t)}}r.prototype._requestSiteData=function(t){const o=new jQuery.Deferred;if(!t){return o.reject(new Error("Cannot load site: configuration property 'siteDataUrl' is missing for CommonDataModelAdapter."))}jQuery.ajax({type:"GET",dataType:"json",url:t}).done(e=>{o.resolve(e)}).fail(t=>{e.error(t.responseText);o.reject(new Error("CDM Site was requested but could not be loaded."))});return o.promise()};r.prototype._normalizeUrl=function(e,t){if(typeof e!=="string"){return e}if(e.indexOf("http")===0){return e}const o=document.getElementsByTagName("base")[0];return new i(e,o).absoluteTo(t).toString()};r.prototype.getSite=function(){const e=new jQuery.Deferred;this.oCdmSiteDataRequestPromise.done(o=>{const i=t({},o);delete i.personalization;e.resolve(i)}).fail(t=>{e.reject(t)});return e.promise()};r.prototype.getPersonalization=function(){const o=new jQuery.Deferred;const i=this;this.oCdmSiteDataRequestPromise.done(n=>{const r=t({},n);const a=r._version;let s;if(i.oAdapterConfiguration&&i.oAdapterConfiguration.config&&i.oAdapterConfiguration.config.ignoreSiteDataPersonalization){delete r.personalization}if(r.personalization){s=r.personalization._version;if(Object.keys(r.personalization).length>0&&!i._isPersonalizationVersionValid(a,s)){e.error("Personalization version is not compatible to the site version and will not be loaded."+` Please proceed to personalize the homepage again if needed. Personalization version: ${s}; Site version: ${a}`);o.resolve();return}o.resolve(r.personalization)}else{i._readPersonalizationDataFromStorage(a).done(t=>{s=t._version;if(Object.keys(t).length>0&&!i._isPersonalizationVersionValid(a,s)){e.error("Personalization version is not compatible to the site version and will not be loaded."+` Please proceed to personalize the homepage again if needed. Personalization version: ${s}; Site version: ${a}`);o.resolve();return}o.resolve(t)}).fail(e=>{o.reject(e)})}}).fail(e=>{o.reject(e)});return o.promise()};r.prototype._isPersonalizationVersionValid=function(e,t){if(!e){return false}const i=new o(e).getMajor();const n=new o(t);if(i>=3){return n.getMajor()===i}return n.getMajor()<3};r.prototype.setPersonalization=function(t){const i=new jQuery.Deferred;n.getServiceAsync("PersonalizationV2").then(async n=>{let r;const a={keyCategory:n.KeyCategory.FIXED_KEY,writeFrequency:n.WriteFrequency.LOW,clientStorageAllowed:true};let s={container:"sap.ushell.cdm.personalization",item:"data"};const l=new o(t.version);if(l.inRange("3.1.0","4.0.0")){s={container:"sap.ushell.cdm3-1.personalization",item:"data"}}const c=await n.getPersonalizer(s,a,r);c.setPersData(t).then(()=>{e.info("Personalization data has been stored successfully.");i.resolve()}).catch(t=>{e.error("Writing personalization data failed.",t);i.reject(t)})});return i.promise()};r.prototype._readPersonalizationDataFromStorage=function(t){const i=new jQuery.Deferred;n.getServiceAsync("PersonalizationV2").then(async n=>{const r={keyCategory:n.KeyCategory.FIXED_KEY,writeFrequency:n.WriteFrequency.LOW,clientStorageAllowed:true};let a={container:"sap.ushell.cdm.personalization",item:"data"};if(t){const e=new o(t);if(e&&e.inRange("3.1.0","4.0.0")){a={container:"sap.ushell.cdm3-1.personalization",item:"data"}}}const s=await n.getPersonalizer(a,r);s.getPersData().then(e=>{i.resolve(e||{})}).catch(t=>{e.error("Fetching personalization data failed.",t);i.reject(t)})});return i.promise()};r.prototype._identifySiteUrlFromConfig=function(e){const t=new URLSearchParams(window.location.search);let o=t.get("sap-ushell-cdm-site-url");const i=e&&e.config;if(i&&!i.allowSiteSourceFromURLParameter&&o){o=null}if(i&&!o){o=i.siteDataUrl||i.cdmSiteUrl}this.sCdmSiteUrl=o;return o};return r},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/v3/_LaunchPage/readApplications", ["sap/base/util/ObjectPath"],t=>{"use strict";const n={};n.getId=function(n){return t.get(["sap.app","id"],n)};n.getTitle=function(n){return t.get(["sap.app","title"],n)};n.getSubTitle=function(n){return t.get(["sap.app","subTitle"],n)};n.getIcon=function(n){return t.get(["sap.ui","icons","icon"],n)};n.getInfo=function(n){return t.get(["sap.app","info"],n)};n.getKeywords=function(n){return t.get(["sap.app","tags","keywords"],n)};n.getContentProviderId=function(n){return t.get(["sap.app","contentProviderId"],n)};n.getInbounds=function(n){return t.get(["sap.app","crossNavigation","inbounds"],n)};n.getInbound=function(n,e){return t.get(["sap.app","crossNavigation","inbounds",e],n)};n.getInboundTarget=function(n,e,i){const r=t.get([e],n)||{};const u=this.getInbound(r,i);if(!r||!u){return}return{semanticObject:u.semanticObject,action:u.action}};n.getTechnicalAttributes=function(n){return t.get(["sap.app","tags","technicalAttributes"],n)};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/v3/_LaunchPage/readHome", ["sap/ushell/utils/type","sap/ushell/adapters/cdm/v3/_LaunchPage/readApplications"],(i,t)=>{"use strict";const e={};e.getGroupsArrayFromSite=function(i){const t=[];i.site.payload.groupsOrder.forEach((e,n)=>{const o=i.groups[e];if(o){o.payload=o.payload||{};t.push(o)}});return t};e.getGroupsMapFromSite=function(i){return i.groups};e.getGroupIdsFromSite=function(i){return i.site.payload.groupsOrder};e.getGroupFromSite=function(i,t){return i.groups[t]};e.getDefaultGroup=function(i){const t=i.filter(i=>i.payload.hasOwnProperty("isDefaultGroup"));if(t.length>0){return t[0]}};e.getGroupId=function(i){return i.identification&&i.identification.id};e.getGroupTitle=function(i){return i.identification.title};e.isGroupPreset=function(i){if(!i.payload.hasOwnProperty("isPreset")){return true}return!!i.payload.isPreset};e.isGroupLocked=function(i){return!!i.payload.locked};e.isGroupVisible=function(i){return!!(i.identification.isVisible===undefined||i.identification.isVisible===true)};e.getGroupTiles=function(t){if(t.payload.tiles&&i.isArray(t.payload.tiles)&&t.payload.tiles.length>0){return t.payload.tiles}return[]};e.getGroupLinks=function(t){if(t.payload.links&&i.isArray(t.payload.links)&&t.payload.links.length>0){return t.payload.links}return[]};e.getTileId=function(i){return i.id};e.getTileVizId=function(i){return i.vizId};e.getTileTitle=function(i,t){if(t&&t.isBookmark){return t.title}const e=i[t.id];if(e){return t.title||e.tileResolutionResult.title}};e.getContentProviderId=function(i){return i.contentProvider||undefined};e.getTileSubtitle=function(i,t){if(t.isBookmark){return t.subTitle}const e=i[t.id];if(e){return t.subTitle||e.tileResolutionResult.subTitle}};e.getTileInfo=function(i,t){if(t.isBookmark){return t.info}const e=i[t.id];if(e){return t.info||e.tileResolutionResult.info}};e.getTileIcon=function(i,t){if(t.isBookmark){return t.icon}const e=i[t.id];if(e){return t.icon||e.tileResolutionResult.icon}};e.getTileIndicatorDataSource=function(i,t){if(t.isBookmark){return t.icon}const e=i[t.id];if(e){return t.icon||e.tileResolutionResult.icon}};e.getTileSize=function(i,t){const e=i[t.id];if(e&&e.tileResolutionResult&&e.tileResolutionResult.size){return e.tileResolutionResult.size}};e.isLink=function(i,t){const e=i[t.id];if(e){return!!e.isLink}return false};e.isCard=function(i,t){const e=i[t.id];if(e){return!!e.tileResolutionResult.isCard}return false};e.isGroupTile=function(i){return!!(i&&i.id&&!i.isCatalogTile)};e.supportsFormFactor=function(i,t){return i.deviceTypes&&i.deviceTypes[t]};e.getInbound=function(i,e){const n=t.getInbound(i,e);return n&&{key:e,inbound:n}};return e},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/v3/_LaunchPage/readUtils", ["sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations","sap/ushell/adapters/cdm/v3/_LaunchPage/readApplications","sap/ushell/adapters/cdm/v3/_LaunchPage/readHome","sap/ushell/adapters/cdm/v3/utilsCdm","sap/ushell/Config","sap/ushell/Container","sap/base/util/deepClone","sap/base/util/isPlainObject","sap/base/util/ObjectPath","sap/base/util/deepExtend","sap/base/util/isEmptyObject","sap/ushell/library"],(t,a,e,i,n,o,r,s,c,u,d,l)=>{"use strict";const p={};const g=l.DisplayFormat;const m={};p.getVizData=async function(n,o,s){if(o.isBookmark&&o.url){o=r(o);o.subTitle=o.subtitle;o.target=i.toTargetFromHash(o.url)}const c=this.getCdmParts(n,o);const d=c&&c[1]||{};const l=c&&c[3]||{};const p=t.get(n,e.getTileVizId(o))||{};const g={id:e.getTileId(o),vizId:e.getTileVizId(o)||"",vizType:o.vizType||t.getTypeId(p)||"",vizConfig:u({},d,o.vizConfig),title:t.getTitle(c)||"",subtitle:t.getSubTitle(c)||"",icon:t.getIcon(c)||"",keywords:t.getKeywords(c)||[],info:t.getInfo(c)||"",target:o.target||t.getTarget(p)||{},indicatorDataSource:this._getIndicatorDataSource(o,p,s),isBookmark:o.isBookmark||false,contentProviderId:o.contentProviderId||a.getContentProviderId(l)||"",displayFormatHint:o.displayFormatHint,numberUnit:t.getNumberUnit(c),_instantiationData:t.getInstantiationData(p)};g.target=this.harmonizeTarget(g.target);g.targetURL=i.toHashFromVizData(g,n.applications);g.contentProviderLabel=await this.getContentProviderLabel(g.contentProviderId);if(g.indicatorDataSource){if(g.indicatorDataSource.dataSource){g.dataSource=t.getDataSource(c,g.indicatorDataSource.dataSource)}else if(o.isBookmark&&o.dataSource){g.dataSource=o.dataSource}}if(o.isBookmark){this._addBookmarkInstantiationData(g,n)}if(!g._instantiationData||!Object.keys(g._instantiationData)){g._instantiationData={platform:"CDM",vizType:t.getType(n,g.vizType)}}this._evaluateDisplayFormat(g,n);return g};p.getContentProviderLabel=function(t){if(Object.hasOwn(m,t)){return m[t]}m[t]=new Promise(async a=>{try{const e=await o.getServiceAsync("ClientSideTargetResolution");const i=await e.getSystemContext(t);a(i?.label)}catch(e){a(t)}});return m[t]};p._getIndicatorDataSource=function(a,e,i){if(a.indicatorDataSource&&a.indicatorDataSource.path){if(a.contentProviderId&&i){a.indicatorDataSource.path=i.getFullyQualifiedXhrUrl(a.indicatorDataSource.path)}return a.indicatorDataSource}return t.getIndicatorDataSource(e)};p.getVizRef=function(t){const a={id:t.id,vizId:t.vizId,title:t.title,subTitle:t.subtitle,icon:t.icon,keywords:t.keywords,info:t.info,target:t.target,indicatorDataSource:t.indicatorDataSource,dataSource:t.dataSource,contentProviderId:t.contentProviderId,displayFormatHint:t.displayFormatHint,numberUnit:t.numberUnit};if(a.indicatorDataSource&&a.indicatorDataSource.originalPath){a.indicatorDataSource.path=a.indicatorDataSource.originalPath;delete a.indicatorDataSource.originalPath}if(t.isBookmark){a.isBookmark=t.isBookmark;if(t.vizConfig!==undefined&&!d(t.vizConfig)){a.vizType=t.vizType;if(t.cdmVizType){a.vizType=t.cdmVizType}a.vizConfig=t.vizConfig}}return a};p.getCdmParts=function(i,n){const o=t.get(i,e.getTileVizId(n))||{};const r=t.getConfig(o);const s=t.getAppDescriptor(i,t.getAppId(o));const c=a.getInbound(s,t.getInboundId(o));return[n,r,c,s]};p.harmonizeTarget=function(t){const a=t.parameters;let e={};if(!a){return t}if(Array.isArray(a)){a.forEach(t=>{if(e[t.name]){if(!Array.isArray(e[t.name].value.value)){e[t.name].value.value=[e[t.name].value.value]}e[t.name].value.value.push(t.value)}else{e[t.name]={value:{value:t.value,format:"plain"}}}})}else{e=Object.keys(a).reduce((t,e)=>{if(!a[e].value||!a[e].value.hasOwnProperty("value")){a[e]={value:a[e]}}return{...t,[e]:a[e]}},{})}t.parameters=e;return t};p._evaluateDisplayFormat=function(a,e){const i=a.displayFormatHint;const n=t.getType(e,a.vizType);const o=t.getTileSize(n);const r=o==="1x2"?g.StandardWide:g.Standard;const s=[r,g.Compact];a.supportedDisplayFormats=t.getSupportedDisplayFormats(n)||s;const c=t.getDefaultDisplayFormat(n)||r;if(a.supportedDisplayFormats.indexOf(i)===-1){a.displayFormatHint=c}};p._addBookmarkInstantiationData=function(a,e){if(a.vizType){const i=t.getType(e,a.vizType);const n=c.get(["sap.app","type"],i||{});if(i&&n!=="chipVizType"){a._instantiationData={platform:"CDM",vizType:i}}else{const e=t.getChipConfigFromVizReference(a);a._instantiationData={platform:"ABAP",chip:r(e),simplifiedChipFormat:true};a.cdmVizType=a.vizType;a.vizType=e.chipId}}else if(a.indicatorDataSource&&a.indicatorDataSource.path){a.vizType="sap.ushell.DynamicAppLauncher"}else{a.vizType="sap.ushell.StaticAppLauncher"}};p.getBookmarkVizTypeIds=function(a){const e=["sap.ushell.StaticAppLauncher","sap.ushell.DynamicAppLauncher"];const i=a.vizType;if(i&&!e.includes(i)){e.push(i)}const n=t.getChipConfigFromVizReference(a);const o=n&&n.chipId;if(o&&!e.includes(o)){e.push(o)}return e};return p});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations", ["sap/ushell/utils","sap/base/util/ObjectPath","sap/base/util/deepClone"],(t,e,n)=>{"use strict";const i={};i.getMap=function(t){return t.visualizations};i.get=function(t,n){return e.get(["visualizations",n],t)};i.getTypeMap=function(t){return t.vizTypes};i.getType=function(t,n){return e.get(["vizTypes",n],t)};i.getTypeId=function(t){return e.get("vizType",t||{})};i.isStandardVizType=function(t){return t==="sap.ushell.StaticAppLauncher"||t==="sap.ushell.DynamicAppLauncher"};i.getSupportedDisplayFormats=function(t){return e.get(["sap.flp","vizOptions","displayFormats","supported"],t||{})};i.getDefaultDisplayFormat=function(t){return e.get(["sap.flp","vizOptions","displayFormats","default"],t||{})};i.getTileSize=function(t){return e.get(["sap.flp","tileSize"],t||{})};i.getConfig=function(t){return e.get("vizConfig",t||{})};i.getTarget=function(t){const n=this.getConfig(t);return e.get(["sap.flp","target"],n||{})};i.getAppId=function(t){const n=this.getTarget(t);return e.get("appId",n||{})};i.getInboundId=function(t){const n=this.getTarget(t);return e.get("inboundId",n||{})};i.getOutbound=function(t,e){const n={semanticObject:e.semanticObject,action:e.action,parameters:this.getTarget(t).parameters||{}};n.parameters["sap-ui-app-id-hint"]={value:{format:"plain",value:this.getAppId(t)}};return n};i.startsExternalUrl=function(t){const e=this.getTarget(t);return e&&e.type==="URL"};i.getAppDescriptor=function(t,n){return e.get(["applications",n],t)};i.getKeywords=function(e){const i=n(e,20);i.splice(2,1);i.splice(0,1);return t.getNestedObjectProperty(i,["sap|app.tags.keywords","sap|app.tags.keywords"])};i.getTitle=function(e){return t.getNestedObjectProperty(e,["title","sap|app.title","title","sap|app.title"])};i.getSubTitle=function(e){return t.getNestedObjectProperty(e,["subTitle","sap|app.subTitle","subTitle","sap|app.subTitle"])};i.getIcon=function(e){return t.getNestedObjectProperty(e,["icon","sap|ui.icons.icon","icon","sap|ui.icons.icon"])};i.getNumberUnit=function(e){const i=n(e,20);i.splice(2,2);return t.getNestedObjectProperty(i,["numberUnit","sap|flp.numberUnit"])};i.getInfo=function(e){return t.getNestedObjectProperty(e,["info","sap|app.info","info","sap|app.info"])};i.getShortTitle=function(e){const i=n(e,20);i.splice(0,1);return t.getNestedObjectProperty(i,["sap|app.shortTitle","shortTitle","sap|app.shortTitle"])};i.getInstantiationData=function(t){return e.get(["vizConfig","sap.flp","_instantiationData"],t)};i.getIndicatorDataSource=function(t){return e.get(["vizConfig","sap.flp","indicatorDataSource"],t)};i.getDataSource=function(e,i){const p=n(e,20);p.splice(2,1);p.splice(0,1);const r=t.getNestedObjectProperty(p,["sap|app.dataSources","sap|app.dataSources"])||{};return r[i]};i.getChipConfigFromVizReference=function(t){return e.get(["vizConfig","sap.flp","chipConfig"],t)};return i},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/v3/utilsCdm", ["sap/ushell/utils","sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations","sap/base/util/deepExtend","sap/base/util/isEmptyObject","sap/base/util/ObjectPath","sap/base/util/merge","sap/base/util/deepEqual","sap/ushell/adapters/cdm/v3/_LaunchPage/readApplications","sap/ushell/utils/UrlParsing","sap/base/Log"],(e,t,i,a,s,r,n,o,p,u)=>{"use strict";const c={};c.getMember=function(t,i){return e.getMember(t,i)};c.getNestedObjectProperty=function(t,i,a){return e.getNestedObjectProperty(t,i,a)};c.mapOne=function(e,s,n,p,u,c){let l=false;s=i({},s);n=i({},n);p=i({},p);u=i({},u);p=p||{};u=u||{};const m={};m.semanticObject=this.getMember(s,"semanticObject");m.action=this.getMember(s,"action");const f=t.getConfig(p);m.title=t.getTitle([undefined,f,s,n]);m.info=t.getInfo([undefined,f,s,n]);m.icon=t.getIcon([undefined,f,s,n]);m.subTitle=t.getSubTitle([undefined,f,s,n]);m.shortTitle=t.getShortTitle([undefined,f,s,n]);m.keywords=t.getKeywords([undefined,f,s,n]);m.numberUnit=t.getNumberUnit([undefined,f,undefined,undefined]);m.deviceTypes=this.getMember(n,"sap|ui.deviceTypes")||{};["desktop","tablet","phone"].forEach(e=>{if(Object.prototype.hasOwnProperty.call(this.getMember(s,"deviceTypes")||{},e)){m.deviceTypes[e]=s.deviceTypes[e]}if(!Object.prototype.hasOwnProperty.call(m.deviceTypes,e)){m.deviceTypes[e]=true}m.deviceTypes[e]=!!m.deviceTypes[e]});m.signature=this.getMember(s,"signature")||{};m.signature.parameters=this.getMember(m,"signature.parameters")||{};m.signature.additionalParameters=this.getMember(s,"signature.additionalParameters")||"allowed";const d=this.getMember(m,"signature.parameters.sap-hide-intent-link");if(d&&d.hasOwnProperty("defaultValue")){m.hideIntentLink=d.defaultValue.value==="true"}if(d&&!d.required&&d.hasOwnProperty("defaultValue")){delete m.signature.parameters["sap-hide-intent-link"]}const h=this.getMember(n,"sap|platform|runtime");m.resolutionResult=i({},h);if(h){m.resolutionResult["sap.platform.runtime"]=i({},h)}if(this.getMember(n,"sap|ui.technology")==="GUI"){m.resolutionResult["sap.gui"]=this.getMember(n,"sap|gui")}if(this.getMember(n,"sap|ui.technology")==="WDA"){m.resolutionResult["sap.wda"]=this.getMember(n,"sap|wda")}if(this.getMember(n,"sap|ui.technology")==="URL"){if(n["sap.url"]){m.resolutionResult["sap.platform.runtime"]=m.resolutionResult["sap.platform.runtime"]||{};m.resolutionResult.url=n["sap.url"].uri;m.resolutionResult["sap.platform.runtime"].url=n["sap.url"].uri}else if(h&&h.uri){m.resolutionResult["sap.platform.runtime"].url=h.uri;m.resolutionResult.url=h.uri}}if(!m.resolutionResult["sap.ui"]){m.resolutionResult["sap.ui"]={}}m.resolutionResult["sap.ui"].technology=this.getMember(n,"sap|ui.technology");m.resolutionResult.applicationType=this._formatApplicationType(m.resolutionResult,n);m.resolutionResult.systemAlias=m.resolutionResult.systemAlias||this.getMember(s,"systemAlias");m.resolutionResult.systemAliasSemantics="apply";m.resolutionResult.text=m.title;m.resolutionResult.appId=this.getMember(n,"sap|app.id");let g;let b;const y=this.getMember(p,"vizConfig.sap|flp.indicatorDataSource");let M={};if(!a(u)){const e=this.getMember(u,"sap|app.type");if(e==="card"){l=true;M=r({},u,p.vizConfig)}else{M.componentName=this.getMember(u,"sap|ui5.componentName");const e=this.getMember(u,"sap|platform|runtime.componentProperties");if(e){M.componentProperties=e}if(this.getMember(u,"sap|platform|runtime.includeManifest")){M.componentProperties=M.componentProperties||{};M.componentProperties.manifest=r({},u,p.vizConfig);delete M.componentProperties.manifest["sap.platform.runtime"]}}}if(this.getMember(n,"sap|app.type")==="plugin"||this.getMember(n,"sap|flp.type")==="plugin"){return undefined}const O=this.getNestedObjectProperty([f,n,u],"sap|flp.tileSize");const v=this.getNestedObjectProperty([f,n,u],"sap|app.description");if(this.getMember(n,"sap|ui.technology")==="GUI"&&this.getMember(n,"sap|gui.transaction")){g=this.getMember(n,"sap|gui.transaction")}if(this.getMember(n,"sap|ui.technology")==="WDA"&&this.getMember(n,"sap|wda.applicationId")){g=this.getMember(n,"sap|wda.applicationId")}const R=this.getNestedObjectProperty([f,n,u],"sap|app.dataSources");if(this.getMember(n,"sap|app.id")){b=this.getMember(n,"sap|app.id")}const T=o.getContentProviderId(n)||"";m.tileResolutionResult={appId:b,title:m.title,subTitle:m.subTitle,icon:m.icon,size:O,info:m.info,keywords:m.keywords,tileComponentLoadInfo:M,indicatorDataSource:y,dataSources:R,description:v,runtimeInformation:h,technicalInformation:g,deviceTypes:m.deviceTypes,isCard:l,contentProviderId:T,numberUnit:m.numberUnit};const P=this.getMember(n,"sap|integration.urlTemplateId");const j=this.getTemplatePayloadFromSite(P,c);if(j){m.templateContext={payload:j,site:c,siteAppSection:n}}return m};c.getTemplatePayloadFromSite=function(e,t){if(!t||typeof e!=="string"){return null}const i=e.replace(/[.]/g,"|");return this.getMember(t.urlTemplates,`${i}.payload`)};c._formatApplicationType=function(e,t){const i=e.applicationType;if(i){return i}const a=this.getMember(t,"sap|platform|runtime.componentProperties.name")||this.getMember(t,"sap|ui5.componentName");if(this.getMember(t,"sap|flp.appType")==="UI5"||this.getMember(t,"sap|ui.technology")==="UI5"){e.applicationType="SAPUI5";e.additionalInformation=`SAPUI5.Component=${a}`;e.url=this.getMember(t,"sap|platform|runtime.componentProperties.url");e.applicationDependencies=this.getMember(t,"sap|platform|runtime.componentProperties");return"SAPUI5"}if(this.getMember(t,"sap|ui.technology")==="GUI"){e.applicationType="TR";e["sap.gui"]=this.getMember(t,"sap|gui");e.systemAlias=this.getMember(t,"sap|app.destination.name");return"TR"}if(this.getMember(t,"sap|ui.technology")==="WDA"){e.applicationType="WDA";e["sap.wda"]=this.getMember(t,"sap|wda");e.systemAlias=this.getMember(t,"sap|app.destination.name");return"WDA"}if(this.getMember(t,"sap|ui.technology")==="URL"){e.applicationType="URL";e.systemAlias=this.getMember(t,"sap|app.destination.name")}return"URL"};c.formatSite=function(e){const t=this;if(!e){return[]}const i=[];try{const a=Object.keys(e.applications||{}).sort();a.forEach(a=>{try{const s=e.applications[a];const r=this.getMember(s,"sap|app.crossNavigation.inbounds");if(r){const a=Object.keys(r).sort();a.forEach(a=>{const n=r[a];const p=t.mapOne(a,n,s,undefined,undefined,e);if(p){p.contentProviderId=o.getContentProviderId(s)||"";i.push(p)}})}}catch(e){u.error(`Error in application ${a}:`,e)}})}catch(e){u.error("FormatSite failed",e);return[]}return i};c.toHashFromInbound=function(e,t){const i={target:{semanticObject:e.semanticObject,action:e.action},params:{}};if(t){i.params["sap-ui-app-id-hint"]=t}const a=s.get("signature.parameters",e)||{};Object.keys(a).forEach(e=>{if(a[e].filter&&Object.prototype.hasOwnProperty.call(a[e].filter,"value")&&(a[e].filter.format===undefined||a[e].filter.format==="plain")){i.params[e]=[a[e].filter.value]}if(a[e].launcherValue&&Object.prototype.hasOwnProperty.call(a[e].launcherValue,"value")&&(a[e].launcherValue.format===undefined||a[e].launcherValue.format==="plain")){i.params[e]=[a[e].launcherValue.value]}});const r=p.constructShellHash(i);if(!r){return undefined}return r};c.toHashFromOutbound=function(e){const t={target:{semanticObject:e.semanticObject,action:e.action},params:{}};const i=e.parameters||{};Object.keys(i).forEach(e=>{if(i.hasOwnProperty(e)&&typeof i[e].value==="object"){t.params[e]=[i[e].value.value]}});const a=p.constructShellHash(t);if(!a){return undefined}return a};c.toHashFromVizData=function(e,t){if(!e.target){return undefined}const i=e.target;if(i.type==="URL"){return i.url}const a=i.appId;const s=i.inboundId;let r;if(a&&s){const e=o.getInboundTarget(t,a,s);r={};if(e){r.semanticObject=e.semanticObject;r.action=e.action;r.parameters=i.parameters||{};r.parameters["sap-ui-app-id-hint"]={value:{value:a,format:"plain"}};r.appSpecificRoute=i.appSpecificRoute||""}}else if(i.semanticObject&&i.action){r=i}return c.toHashFromTarget(r)};c.toHashFromTargetIntent=function(e,t){try{if(t.type==="URL"){return t.url}const i={};i.semanticObject=e.semanticObject;i.action=e.action;i.parameters=t.parameters||{};i.parameters["sap-ui-app-id-hint"]={value:{value:e.businessAppId,format:"plain"}};i.appSpecificRoute=t.appSpecificRoute||"";return c.toHashFromTarget(i)}catch(e){return undefined}};c.toHashFromTarget=function(e){try{const t={};const i=s.get("parameters",e)||{};Object.keys(i).forEach(e=>{t[e]=Array.isArray(i[e].value.value)?i[e].value.value:[i[e].value.value]});const a={target:{semanticObject:e.semanticObject,action:e.action},params:t,appSpecificRoute:e.appSpecificRoute};return`#${p.constructShellHash(a)}`}catch(e){return undefined}};c.toTargetFromHash=function(e){let t=p.parseShellHash(e);if(t!==undefined){const e=t.params||{};if(Object.keys(e).length>0){t.parameters=[];Object.keys(e).forEach(i=>{const a=Array.isArray(e[i])?e[i]:[e[i]];a.forEach(e=>{const a={name:i,value:e};t.parameters.push(a)})})}delete t.params}else{t={type:"URL",url:e}}return t};c.isSameTarget=function(e,t){let i;if(e.type!==t.type){return false}if(e.type==="URL"){i=e.url===t.url}else{i=e.semanticObject===t.semanticObject&&e.action===t.action&&e.appSpecificRoute===t.appSpecificRoute&&n(e.parameters,t.parameters)}return i};return c});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/local/Ui5ComponentLoaderAdapter", [],()=>{"use strict";function e(){}return e},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/local/UserDefaultParameterPersistenceAdapter", ["sap/ui/thirdparty/jquery","sap/base/Log","sap/ushell/Container"],(jQuery,e,r)=>{"use strict";function t(e,r,t){this._oConfig=t&&t.config;this._oContainerPromises={}}t.prototype._getPersonalizationService=function(){return r.getServiceAsync("PersonalizationV2")};t.prototype.saveParameterValue=function(r,t,n){const a=new jQuery.Deferred;if(!(typeof r==="string"&&r.length<=40&&/^[A-Za-z0-9.-_]+$/.exec(r))){e.error(`Illegal Parameter Key, less than 40 characters and [A-Za-z0-9.-_]+ :"${r}"`)}this._getUDContainer(n).done(e=>{e.setItemValue(r,t);e.save(50).then(a.resolve.bind(a)).catch(a.reject.bind(a))}).fail(r=>{e.error("Parameter save failed",r);a.reject(r)});return a.promise()};t.prototype.deleteParameter=function(r,t){const n=new jQuery.Deferred;if(!(typeof r==="string"&&r.length<=40&&/^[A-Za-z0-9.-_]+$/.exec(r))){e.error(`Illegal Parameter Key, less than 40 characters and [A-Za-z0-9.-_]+ :"${r}"`)}this._getUDContainer(t).done(e=>{e.deleteItem(r);e.save().then(n.resolve.bind(n)).catch(n.reject.bind(n))}).fail(r=>{e.error("Parameter delete failed",r);n.reject(r)});return n.promise()};t.prototype.loadParameterValue=function(r,t){const n=new jQuery.Deferred;this._getUDContainer(t).done(e=>{const t=e.getItemValue(r);if(t){n.resolve(t)}else{n.reject(new Error("no value "))}}).fail(r=>{e.error("Parameter load failed",r);n.reject(r)});return n.promise()};t.prototype.getStoredParameterNames=function(r){const t=new jQuery.Deferred;this._getUDContainer(r).done(e=>{const r=e.getItemKeys();t.resolve(r)}).fail(r=>{e.error("Parameter load failed",r);t.reject(r)});return t.promise()};t.prototype._getUDContainer=function(e){let r=e.id;if(r!==""){r=`.${r}`}if(!this._oContainerPromises[e.id]){const t=new jQuery.Deferred;this._oContainerPromises[e.id]=t.promise();this._getPersonalizationService().then(e=>{e.getContainer(`sap.ushell.UserDefaultParameter${r}`,{keyCategory:e.KeyCategory.FIXED_KEY,writeFrequency:e.WriteFrequency.LOW,clientStorageAllowed:true}).then(t.resolve).catch(t.reject)})}return this._oContainerPromises[e.id]};return t},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/api/BootstrapObserver", ["sap/base/util/Deferred"],e=>{"use strict";class r{static#e=new e;static resolveBootstrappedContainer(e){r.#e.resolve(e)}static async ready(){return r.#e.promise}static __reset(){r.#e=new e}}return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/api/NewExperience", ["sap/ui/base/EventProvider","sap/ui/model/json/JSONModel","sap/ushell/api/NewExperience/CustomOverflowListItem","sap/ushell/Config"],(e,t,i,l)=>{"use strict";const r={Header:"Header",Overflow:"Overflow"};class s{#e=new e;#t=null;#i=null;#l=null;#r=null;constructor(){this.#s();this.#i=this.#o()}reset(){this.#l.destroy();this.#e.destroy();this.#i.destroy();this.#e=new e;this.#t=null;this.#s();this.#i=this.#o()}#s(){this.#l=new t({active:false,isVisible:false,currentState:r.Header,shellHeaderControlId:null,showInShellHeader:false})}#o(){return new i({visible:{parts:["/isVisible","/currentState"],formatter:(e,t)=>e&&t===r.Overflow},contentId:"{/shellHeaderControlId}"}).addStyleClass("newExperienceSwitchListItem").setModel(this.#l).data("help-id","ushell-new-experience-switch",true)}getModel(){return this.#l}getOverflowItemId(){return this.#i.getId()}isActive(){return this.#l.getProperty("/active")}getShellHeaderControl(){return this.#t}getOverflowItemControl(){return this.#i}showInOverflow(){this.#l.setProperty("/currentState",r.Overflow);this.#n()}showInShellHeader(){this.#l.setProperty("/currentState",r.Header);this.#n()}attachActiveChanged(...e){this.#e.attachEvent("activeChanged",...e)}detachActiveChanged(...e){this.#e.detachEvent("activeChanged",...e)}#n(){const e=this.isActive();const t=this.#l.getProperty("/currentState")===r.Header;if(e){this.#l.setProperty("/showInShellHeader",t)}else{this.#l.setProperty("/showInShellHeader",false)}}setSwitchControl(e){const t=this.isActive();if(e&&!e.hasStyleClass("sapUshellShellNewExperienceSwitch")){e.addStyleClass("sapUshellShellNewExperienceSwitch")}this.#t=e;this.#l.setProperty("/shellHeaderControlId",e?.getId?.());this.#l.setProperty("/active",!!e);this.#l.setProperty("/isVisible",!!e);if(t!==this.isActive()){this.#e.fireEvent("activeChanged",{active:this.isActive()})}if(l.last("/core/shellBar/enabled")){if(e){if(!e.data("help-id")){e.data("help-id","ushell-new-experience-switch",true)}const t=sap.ui.require("sap/ushell/Container");t.getServiceAsync("FrameBoundExtension").then(async t=>{this.#r=await t.createHeaderItem({id:e.getId()});this.#r.showForAllApps();this.#r.showOnHome()})}else{this.#r?.hideForAllApps();this.#r?.hideOnHome()}}this.#n()}setSwitchVisibility(e){this.#l.setProperty("/isVisible",e)}}const o=new s;return o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/api/NewExperience/CustomOverflowListItem", ["sap/m/CustomListItem","sap/m/CustomListItemRenderer","sap/ui/core/Element"],(e,t,s)=>{"use strict";const n=e.extend("sap.ushell.api.NewExperience.CustomOverflowListItem",{metadata:{library:"sap.ushell",properties:{contentId:{type:"string",group:"Misc",defaultValue:null}}},renderer:t});n.prototype.getContent=function(){const e=s.getElementById(this.getContentId());return[e]};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/api/performance/Extension", ["sap/base/Log","sap/ushell/api/performance/NavigationSource"],(i,a)=>{"use strict";class e{#i=[];#a="sap.ushell.api.performance.Extension";static#e=[];constructor(){this.#i=this.#o();this.#a="sap.ushell.api.performance.Extension"}#o(){return Object.keys(a).reduce((i,e)=>i.concat({id:e,abbreviation:a[e]}),[])}formatNavigationSource(a){if(!this.#i.some(i=>i.id===a.id)){i.warning("navigation source not known",a.id,this.#a)}return a.abbreviation.length>4?a.abbreviation.substring(0,4):a.abbreviation}getNavigationSource(){let a;switch(e.#e.length){case 0:return undefined;case 1:a=e.#e.pop();return{id:this.formatNavigationSource(a),abbreviation:a.abbreviation};default:a=e.#e.pop();i.warning("Multiple navigation sources found in stack, returning last one",null,this.#a);return{id:a.id,abbreviation:this.formatNavigationSource(a)}}}addNavigationSource(a){let o={};if(typeof a==="string"){o={id:a,abbreviation:a}}else if(typeof a==="object"){if(!a||!a.id||!a.abbreviation){i.error("Invalid navigation source",a,this.#a);return}o={id:a.id,abbreviation:a.abbreviation}}e.#e.push(o)}}return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/api/performance/NavigationSource", [],()=>{"use strict";this.oNavigationSource={AppFinder:"apFi",Application:"appl",FrequentlyUsed:"frUs",RecentlyUsed:"reUs",Situation:"situ",SearchCEP:"seCP",SearchDirectLaunch:"seDL",SearchEnterprise:"seEP",SideBar:"siBa",Task:"task",Todo:"toDo"};return Object.freeze(this.oNavigationSource)});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/AppLifeCycle", ["sap/base/util/Deferred","sap/ui/Device","sap/ui/core/Element","sap/ui/core/EventBus","sap/ushell/appIntegration/KeepAliveApps","sap/ushell/state/modules/BackNavigation","sap/ushell/state/modules/ContentDensity","sap/ushell/state/modules/Favicon","sap/ushell/state/modules/HeaderLogo","sap/ushell/appIntegration/contracts/EmbeddedUI5Handler","sap/ushell/appIntegration/contracts/StatefulContainerV1Handler","sap/ushell/appIntegration/contracts/StatefulContainerV2Handler","sap/ushell/appIntegration/ApplicationContainerCache","sap/ushell/appIntegration/ApplicationHandle","sap/ushell/appIntegration/AppLifeCycle/KeepAliveMode","sap/ushell/appIntegration/PostMessageHandler","sap/ushell/appIntegration/PostMessageManager","sap/ushell/appIntegration/PostMessagePluginInterface","sap/ushell/appIntegration/IframeApplicationContainer","sap/ushell/appIntegration/UI5ApplicationContainer","sap/ushell/services/AppConfiguration","sap/ushell/utils","sap/ushell/Config","sap/ushell/ApplicationType","sap/ushell/utils/UriParameters","sap/base/Log","sap/ushell/EventHub","sap/ushell/utils/UrlParsing","sap/ui/thirdparty/hasher","sap/ushell/renderer/utils","sap/m/library","sap/ushell/AppInfoParameters","sap/ushell/Container","sap/ushell/resources","sap/ushell/state/ShellModel","sap/ushell/state/StateManager","sap/ushell/state/KeepAlive","sap/ushell/ui5service/ShellUIServiceFactory","sap/ui/core/service/ServiceFactoryRegistry","sap/ushell/library","sap/ushell/renderer/RendererManagedComponents"],(e,t,i,n,a,o,s,p,r,l,c,u,h,d,f,g,A,y,C,I,m,v,_,S,w,b,F,R,N,H,P,T,L,U,M,E,D,x,B,W,k)=>{"use strict";const K=W.appIntegration.contracts.StatefulType;const $=E.ShellMode;const O=E.LaunchpadState;const V=E.Operation;const G=P.URLHelper;function q(){this._bDisableHomeAppCache=false;this._bUseLegacyRestoreFlowForNextApp=false;this._oCurrentApplication={};this._oGlobalShellUIService=null;this._oNavContainer=null;this._oInitDeferred=new e;this._pLastApplicationStart=this._oInitDeferred.promise;this._oStorageAppIdMap={};this._oStorageAppIdNextIndex={};this._aDoables=[]}q.prototype.KeepAliveMode=f;q.prototype.init=function(e,t){const i=[];if(_.last("/core/shell/enablePersistantAppstateWhenSharing")){L.getServiceAsync("AppState").then(e=>{const t=G.triggerEmail.bind(G);G.triggerEmail=function(i,n,a,o,s){const p=document.URL;e.setAppStateToPublic(p).done((e,p,r,l,c)=>{n=n&&p&&l&&n.includes(p)?n.replace(p,l):n;n=n&&r&&c&&n.includes(r)?n.replace(r,c):n;a=a&&p&&l&&a.includes(p)?a.replace(p,l):a;a=a&&r&&c&&a.includes(r)?a.replace(r,c):a;t(i,n,a,o,s)}).fail(t)}})}this._startPostMessageHandling();i.push(x.init().then(()=>{B.register("sap.ushell.ui5service.ShellUIService",x)}));i.push(this._createGlobalShellUIService());this._oNavContainer=e;this._bDisableHomeAppCache=t;n.getInstance().subscribe("sap.ushell","getAppLifeCycle",this._onGetAppLifeCycle,this);this._addEvents();i.push(s.init());p.init();r.init();d.init(this,this._oNavContainer);this._oNavContainer.attachAfterNavigate(this.onAfterNavigate.bind(this));this._oNavContainer.attachBeforeNavigate(this.onBeforeNavigate.bind(this));return Promise.allSettled(i).then(()=>{this._oInitDeferred.resolve()})};q.prototype._onGetAppLifeCycle=function(e,t,i){b.error("the EventBus channel 'sap.ushell.getAppLifeCycle' is private and was discontinued.")};q.prototype._addEvents=function(){this._aDoables.push(F.on("disableKeepAliveRestoreRouterRetrigger").do(this._useLegacyRestoreFlowForCurrentApplication.bind(this)));this._aDoables.push(F.on("setApplicationFullWidth").do(e=>{this._setApplicationFullWidth(e.bValue)}));this._aDoables.push(F.on("reloadCurrentApp").do(e=>{this._reloadCurrentApp(e)}))};q.prototype._startPostMessageHandling=function(){A.init({getCurrentApplication:()=>this.getCurrentApplication()?.container,getAllApplications:()=>h.getAll()});g.register();this._waitForPluginsAndReplayPostMessages();y.init(async(e,t)=>{const i=await A.sendRequestToAllApplications(e,t,true);return i[0]?.result},A.setRequestHandler.bind(A),A.setDistributionPolicy.bind(A),true)};q.prototype._waitForPluginsAndReplayPostMessages=async function(){const e=await L.getServiceAsync("PluginManager");const t=e.getPluginLoadingPromise("RendererExtensions");await v.promisify(t);A.replayStoredMessages()};q.prototype.registerHandleHashChange=function(e){e.hashChanger.attachEvent("hashChanged",t=>{if(N.disableBlueBoxHashChangeTrigger){return}const i=t.getParameters();if(i&&e.hashChanger.isInnerAppNavigation(i.newHash,i.oldHash)){A.sendRequestToAllApplications("sap.ushell.appRuntime.innerAppRouteChange",{oHash:i},false)}A.sendRequestToAllApplications("sap.ushell.appRuntime.hashChange",{sHash:i.fullHash},false)})};q.prototype.getCurrentApplication=function(){return this._oCurrentApplication};q.prototype._useLegacyRestoreFlowForCurrentApplication=function(){if(!this.getCurrentApplication()?.appId){this._bUseLegacyRestoreFlowForNextApp=true;return}const e=this.getCurrentApplication().appId;const t=a.get(e);if(t){t.useLegacyRestoreFlow=true}};q.prototype._setApplicationFullWidth=function(e){const t=this.getCurrentApplication();if(t.container){t.container.toggleStyleClass("sapUShellApplicationContainerLimitedWidth",!e)}};q.prototype.getShellUIService=function(){return this._oGlobalShellUIService};q.prototype.resetGlobalShellUIService=function(){if(this._oGlobalShellUIService){this._oGlobalShellUIService.resetService()}};q.prototype._createGlobalShellUIService=async function(){this._oGlobalShellUIService=await x.createInstanceInternal()};q.prototype.onBeforeNavigate=function(e){const t=e.getParameter("fromId")||"";const i=e.getParameter("from");const n=e.getParameter("toId")||"";if(n===t){return}if(t&&i&&i.isA("sap.ushell.appIntegration.IframeApplicationContainer")){const e=i;const t=e.getCurrentAppId();const n=e.getStatefulType()!==K.NotSupported;const o=!!a.get(t);if(o||n){e.sendRequest("sap.ushell.sessionHandler.beforeApplicationHide",{},false)}}};q.prototype.onAfterNavigate=async function(e){const t=e.getParameter("fromId")||"";const i=e.getParameter("from");const o=e.getParameter("toId")||"";const s=e.getParameter("to");const p=t===o;const r=k.isManagedComponentInstance(s);if(t&&i){if(i.isA("sap.ushell.appIntegration.ApplicationContainer")){const e=i;if(!p){await this._handleExitApplication(e,r)}}else{const e=t;const a=i;if(p){return}if(o.indexOf("Shell-appfinder-component")>0){n.getInstance().publish("sap.ushell","appFinderAfterNavigate")}if(this._bDisableHomeAppCache){try{this._removeApplicationContainerFromNavContainer(a);a.destroy()}catch(t){b.error(`Error when trying to destroy the home component: '${e}'`,t)}}}}if(o&&s){if(s.isA("sap.ushell.appIntegration.ApplicationContainer")){const e=s;const t=e.getCurrentAppId();const i=e.getIsFetchedFromCache();if(i&&e.isA("sap.ushell.appIntegration.IframeApplicationContainer")){e.sendRequest("sap.ushell.sessionHandler.afterApplicationShow",{},false)}if(a.get(t)){await this._restoreApplication(t)}}else{if(r){await this._destroyKeepAliveApps(e=>e.keepAliveMode===f.Restricted)}T.flush()}}};q.prototype._storeApplication=async function(e){const t=a.get(e);if(t){const e=t.container;const i=e.getIsKeepAlive();if(!i){b.error("Application should be kept alive but the flag is not set",null,"sap.ushell.appIntegration.AppLifeCycle");return}if(e.isA("sap.ushell.appIntegration.IframeApplicationContainer")){e.setDataHelpId("");if(e.getStatefulType()===K.ContractV2){const t=u.isStatefulContainerSupportingKeepAlive(e);if(t){const t=e.getCurrentAppId();if(!t){return}this._setContainerReadyForReuse(e);await u.storeAppWithinSameFrame(e,t)}}await e.sendRequest("sap.ushell.appRuntime.keepAliveAppHide",{},false)}else if(e.isA("sap.ushell.appIntegration.UI5ApplicationContainer")){await l.storeApp(e,t)}t.stateStored=true;const n=e.getCurrentAppTargetResolution();this._publishAppClosedEvent(n)}};q.prototype.destroyApplication=async function(e,t,i){if(typeof e!=="string"&&i){e="dummy-id"}if(typeof e!=="string"||!t){return}const n=a.get(e);const o=!!n;if(!t.getCurrentAppId()&&!i&&!o){return}const s=t.getCurrentAppTargetResolution();a.removeById(e);D.destroy(n);const p=t.getStatefulType()!==K.NotSupported;if(!i&&p){t.setDataHelpId("");this._setContainerReadyForReuse(t);if(t.getStatefulType()===K.ContractV2){await u.destroyApp(t,e)}else if(t.getStatefulType()===K.ContractV1){await c.destroyApp(t,e)}this._publishAppClosedEvent(s);return}if(t.getStatefulType()===K.ContractV2){await u.destroyApp(t,e)}else if(t.getStatefulType()===K.ContractV1){await c.destroyApp(t,e)}a.removeByContainer(t,e=>{D.destroy(e)});try{const e=t.sendBeforeAppCloseEvent();await v.promisify(e)}catch(e){b.error("FLP got a failed response from the iframe for the 'sap.ushell.services.CrossApplicationNavigation.beforeAppCloseEvent' message sent",e,"sap.ushell.appIntegration.AppLifeCycle.js")}h.removeByContainer(t);this._removeApplicationContainerFromNavContainer(t);try{t.destroy()}catch(e){b.error(`Exception when trying to close application with id '${t.getId()}'. This error must be fixed in order for FLP to operate properly.`,e,"sap.ushell.appIntegration.AppLifeCycle")}this._publishAppClosedEvent(s)};q.prototype._restoreApplication=async function(e){const t=a.get(e);if(t?.stateStored){o.restore(t.service);x.restore(t);const e=t.container;if(e.isA("sap.ushell.appIntegration.IframeApplicationContainer")){await e.sendRequest("sap.ushell.appRuntime.keepAliveAppShow",{},false)}else if(e.isA("sap.ushell.appIntegration.UI5ApplicationContainer")){await l.restoreAppAfterNavigate(e,t)}}};q.prototype._handleExitApplication=async function(e,t){if(!e){return}const i=e.getCurrentAppId();if(!i){return}const n=o.isBackNavigation()&&!t;if(n){await this.destroyApplication(i,e)}else{if(e.getIsKeepAlive()){return this._storeApplication(i)}return this.destroyApplication(i,e)}};q.prototype._destroyKeepAliveApps=async function(e,t){try{const i=[];a.forEach(t=>{if(e(t)){i.push(t)}});const n=i.map(e=>this.destroyApplication(e.appId,e.container,t));await Promise.allSettled(n)}catch(e){b.error("_destroyKeepAliveApps call failed",e)}};q.prototype._addStorageEntry=function(e,t,i,n,o){const s=a.get(e);if(s){return s}const p={service:{},shellHash:`#${R.constructShellHash(n)}`,appId:e,stt:"loading",currentState:null,controlManager:null,container:t,meta:undefined,app:undefined,keepAliveMode:o,appTarget:i,ui5ComponentName:i.ui5ComponentName,useLegacyRestoreFlow:this._bUseLegacyRestoreFlowForNextApp??false,stateStored:false};a.set(e,p);return p};q.prototype.storeAppExtensions=async function(){const e=this.getCurrentApplication();if(!e){return}const t=e.appId;const i=a.get(t);if(!i){return}o.store(i.service);D.store(i);T.store(i)};q.prototype._calculateKeepAliveMode=function(e,t,i){const n=Object.values(f);if(e.startsWith("application-Shell-startIntent")||e.startsWith("application-Shell-startGUI")||e.startsWith("application-Shell-startWDA")){return f.False}let a=new URLSearchParams(window.location.search).get("sap-keep-alive");if(n.includes(a)){return a}a=i.params?.["sap-keep-alive"];if(n.includes(a)){return a}if(t.url){a=w.fromURL(t.url).get("sap-keep-alive");if(n.includes(a)){return a}}const o=R.constructShellHash(i);if(o&&v.isRootIntent(o)){return f.True}return f.False};q.prototype._calculateAppType=function(e){if(e.applicationType==="URL"&&e.additionalInformation?.startsWith?.("SAPUI5.Component=")){return"SAPUI5"}return e.applicationType};q.prototype._reloadCurrentApp=async function(e){const t=h.getById(e.sAppContainerId);if(t){await this.destroyApplication(t.getCurrentAppId(),t)}const i=await L.getServiceAsync("ShellNavigationInternal");try{i.hashChanger.treatHashChanged(e.sCurrentHash)}catch(e){b.error("Error when trying to re-load the current displayed application",e,"sap.ushell.services.AppLifeCycle")}};q.prototype._createOrReuseApplicationContainer=function(e,t,i,n){let o;const s=a.get(e);if(s&&s.container){o=s.container}if(!o){const e=h.findFreeContainerByUrl(i.url);const t=e?.getStatefulType()!==K.NotSupported;if(t){o=e}}if(!o){i.shellUIService=this._oGlobalShellUIService.getInterface();const n=i?.ui5ComponentName;const a=!!n;const s={dataHelpId:t,initialAppId:e,currentAppId:e,currentAppUrl:i.url,shellUIService:i.shellUIService,currentAppTargetResolution:i,applicationType:i.applicationType,openWithPostByAppParam:i.openWithPostByAppParam,reservedParameters:i.reservedParameters,systemAlias:i.systemAlias,targetNavigationMode:i.targetNavigationMode,url:i.url,frameworkId:i.appCapabilities?.appFrameworkId};if(a){o=new I({...s,ui5ComponentName:i.ui5ComponentName})}else{o=new C({...s})}this._oNavContainer.addPage(o)}else{o.setIsFetchedFromCache(true);o.setDataHelpId(t)}h.setContainerActive(o);o.setIsKeepAlive(n);return o};q.prototype._removeApplicationContainerFromNavContainer=function(e){this._oNavContainer.removePage(e.getId(),true)};q.prototype._setApplicationContainerActive=async function(e){h.forEach(t=>{if(t&&t!==e){try{b.info(`Deactivating container ${t.getId()}`);t.setActive(false)}catch{}}});if(e){b.info(`Activating container "${e.getId()}"`);e.setActive(true)}};q.prototype._openApp=async function(e,t,i,n,o){const s=t.getIsFetchedFromCache();if(o&&s&&u.isStatefulContainerSupportingKeepAlive(t)){return u.restoreAppWithinSameFrame(t,e,i)}if(t.getStatefulType()===K.ContractV2){if(s&&t.getCurrentAppId()===e){return}const n=await u.createApp(t,e,i);if(n?.deletedKeepAliveId){const e=a.get(n.deletedKeepAliveId);if(e){a.removeById(n.deletedKeepAliveId);D.destroy(e)}}return}if(t.getStatefulType()===K.ContractV1){if(s&&t.getCurrentAppId()===e){return}await c.createApp(t,e,i);return}const p=i?.ui5ComponentName;const r=!!p;if(r&&!o){const a=!!i?.componentHandle;if(!a){m.setApplicationInInitMode();await l.createApp(t,i,n)}const o=i.componentHandle;const s=o.getInstance();t.setUi5ComponentId(i.ui5ComponentId);t.setComponentHandle(o);this._oCurrentApplication.app=s;const p=await l.getNavigationRedirectHash(t);if(typeof p==="string"){await this.destroyApplication(e,t);return p}if(typeof s.active==="function"){s.active()}}};q.prototype._announceAppOpening=function(e){window.setTimeout(()=>{const e=document.getElementById("sapUshellLoadingAccessibilityHelper-loadingComplete");if(e){e.setAttribute("aria-live","polite");e.innerHTML=U.i18n.getText("loadingComplete");window.setTimeout(()=>{e.setAttribute("aria-live","off");e.innerHTML=""},0)}},600)};q.prototype.publishAppOpeningEvent=function(e){window.setTimeout(()=>{n.getInstance().publish("launchpad","appOpening",e)},0)};q.prototype.publishAppOpenedEvent=function(e){v.setPerformanceMark("FLP.appOpened");window.setTimeout(()=>{n.getInstance().publish("sap.ushell","appOpened",e)},0);const t=this._publicEventDataFromResolutionResult(e);F.emit("AppRendered",t,true);H.publishExternalEvent("appOpened",t)};q.prototype._publishAppClosedEvent=function(e){window.setTimeout(()=>{n.getInstance().publish("sap.ushell","appClosed",e)},0);const t=this._publicEventDataFromResolutionResult(e);H.publishExternalEvent("appClosed",t)};q.prototype._publicEventDataFromResolutionResult=function(e){const t={};if(!e){return e}["applicationType","ui5ComponentName","url","additionalInformation","text"].forEach(i=>{t[i]=e[i]});Object.freeze(t);return t};q.prototype._isFullWidth=function(e,t){let i;const n=this._calculateAppType(e);const a=S.getDefaultFullWidthSetting(n);const o=e.appCapabilities?.fullWidth;if(a){if(e.fullWidth===false||e.fullWidth==="false"||t.fullWidth===false||t.fullWidth==="false"||o===false){i=false}}else if(e.fullWidth||e.fullWidth==="true"||t.fullWidth||t.fullWidth==="true"){i=true}if(i===undefined){i=a}return i};q.prototype._getBaseAppId=function(e){const t=R.getStableIntent(e);const i=R.getBasicHash(t);const n=`application-${i}`;return n};q.prototype._getStorageAppId=function(e,t){const i=R.getStableIntent(e);if(this._oStorageAppIdMap[i]){return this._oStorageAppIdMap[i]}let n;if(!this._oStorageAppIdNextIndex[t]){this._oStorageAppIdNextIndex[t]=0;n=t}if(!n){n=`${t}-${this._oStorageAppIdNextIndex[t]}`}this._oStorageAppIdMap[i]=n;this._oStorageAppIdNextIndex[t]++;return n};q.prototype._awaitLastApplicationStart=async function(){const t=new e;const i=this._pLastApplicationStart;this._pLastApplicationStart=this._pLastApplicationStart.then(()=>t.promise);await i;return t};q.prototype._startApplication=async function(e,t,i,n){const o=this._getBaseAppId(t.sFixedShellHash);const s=this._getStorageAppId(t.sFixedShellHash,o);await this._cleanupBeforeNewApp(s,e,t,i,n);this._sendFocusBackToShell();this.publishAppOpeningEvent(t);this._announceAppOpening(t);const p=this._calculateKeepAliveMode(s,t,e);const r=p!==f.False;const l=this._createOrReuseApplicationContainer(s,o,t,r);const c=!!a.get(s);if(r){this._oCurrentApplication=this._addStorageEntry(s,l,t,e,p)}else{this._oCurrentApplication={appId:s,stt:"loading",container:l,meta:undefined,app:undefined}}this._bUseLegacyRestoreFlowForNextApp=false;v.setPerformanceMark("FLP - addAppContainer");const u=a.get(s);if(u){T.restore(u)}else{T.flush()}this._setApplicationContainerActive(l);const h=await this._openApp(s,l,t,e,c);const g=new d(s,t,l,h);if(typeof h==="string"){return g}this._initializeAppWithMetadata(l,t);l.setReadyForRendering(true);v.setPerformanceMark("FLP -- centerViewPort");this.publishAppOpenedEvent(t);return g};q.prototype.startApplication=async function(e,t,i,n){const a=await this._awaitLastApplicationStart();const o=this._oCurrentApplication;this._oNavContainer.setBusy(true);try{const o=await this._startApplication(e,t,i,n);a.resolve();return o}catch(e){const t=!!this._oCurrentApplication?.appId;const i=t&&this._oCurrentApplication.appId!==o?.appId;if(i){const e=this._oCurrentApplication.container;if(e){await this.destroyApplication(e.getCurrentAppId(),e,true)}const t=o?.container?.isDestroyed()??true;if(t){this._oCurrentApplication={}}else{this._oCurrentApplication=o}}this._oNavContainer.setBusy(false);a.resolve();throw e}};q.prototype.switchViewState=function(e,t,i,n){const o=a.get(this._oCurrentApplication.appId);if(!o){E.destroyManagedControls()}const s=E.getShellMode();const p={TR:{headerless:$.Minimal}};let r;if(!n){r=p[i]?.[s]}E.switchState(e,r);const l=a.get(t);if(l){D.restore(l)}else{D.flush()}E.applyStalledChanges()};q.prototype._isFloatingContainerDocked=function(){const e=M.getModel().getProperty("/floatingContainer/state").includes("docked");const t=M.getModel().getProperty("/floatingContainer/visible");return e&&t};q.prototype._sendFocusBackToShell=function(){if(!t.system.desktop){return}sap.ui.require(["sap/ushell/renderer/AccessKeysHandler"],e=>{const t=E.getLaunchpadState();const n=E.getShellMode()===$.Default;const a=i.getElementById("shellAppTitle");if(a&&t===O.App&&n){const t=a.getFocusDomRef();if(t){e.sendFocusBackToShell(t.getAttribute("id"))}}})};q.prototype._initializeAppWithMetadata=function(e,t){const i=m.getMetadata(t,t?.sFixedShellHash);this._oCurrentApplication.meta=i;if(!e.getIsFetchedFromCache()){e.toggleStyleClass("sapUshellDefaultBackground",!i.hideLightBackground);const n=this._isFullWidth(t,i);if(!n){e.addStyleClass("sapUShellApplicationContainerLimitedWidth")}if(this._isFloatingContainerDocked()&&window.matchMedia("(min-width: 106.4rem)").matches){e.addStyleClass("sapUShellDockingContainer");e.removeStyleClass("sapUShellApplicationContainerLimitedWidth")}else if(this._isFloatingContainerDocked()){e.removeStyleClass("sapUShellApplicationContainerLimitedWidth")}}let n="sap-icon://folder";if(i&&i.icon){n=i.icon}E.updateCurrentState("application.icon",V.Set,n)};q.prototype._cleanupBeforeNewApp=async function(e,t,i,n,o){const s=this.getCurrentApplication()?.container;const p=s&&s.getStatefulType()!==K.NotSupported;if(p){await this._handleExitApplication(s,false)}const r=a.get(e);const l=!!r;const c=r?.container;const u=!!i?.ui5ComponentName;if(l){const i=`#${R.constructShellHash(t)}`;const a=R.compareHashes(i,r.shellHash);const s=a.sameIntent&&a.sameParameters;const p=!!n;if(!s){b.warning(`The keepAlive app '${e}' has to be destroyed because of id clashes.`);await this.destroyApplication(e,c)}else if(o&&p){b.warning(`The keepAlive app '${e}' has to be destroyed because of a bookmark start.`);await this.destroyApplication(e,c)}}if(u&&!l){const t=R.getBasicHash(i.sFixedShellHash);const n=`application-${t}-component`;if(s&&s.isA("sap.ushell.appIntegration.UI5ApplicationContainer")){if(s.getUi5ComponentName()===i.ui5ComponentName){b.warning(`The app '${s.getCurrentAppId()}' has to be destroyed because of component name clashes.`);await this.destroyApplication(s.getCurrentAppId(),s,true)}else if(s.getUi5ComponentId()===n){b.warning(`The app '${s.getCurrentAppId()}' has to be destroyed because of component id clashes.`);await this.destroyApplication(s.getCurrentAppId(),s,true)}}await this._destroyKeepAliveApps(t=>{if(t.appId===e){return false}if(t.ui5ComponentName===i.ui5ComponentName){b.warning(`The app '${t.appId}' has to be destroyed because of component name clashes.`);return true}if(t.appTarget?.ui5ComponentId===n){b.warning(`The app '${t.appId}' has to be destroyed because of component id clashes.`);return true}return false},true)}await h.forEach(async t=>{if(t.getStatefulType()!==K.ContractV2){return}try{t.isValid();return}catch(i){b.warning(`Destroying stateful container iframe due to unresponsiveness (${t.getId()})`,`reason: ${i.message}`,"sap.ushell.appIntegration.AppLifeCycle");return this.destroyApplication(e,t,true)}})};q.prototype.setNavContainer=function(e){this._oNavContainer=e};q.prototype._setContainerReadyForReuse=function(e){if(!e){return}h.setContainerReadyForReuse(e,e.getCurrentAppUrl());e.setIsKeepAlive(false);e.setCurrentAppUrl("");e.setIsFetchedFromCache(false)};q.prototype.reset=function(){this._aDoables.forEach(e=>{e.off()});this._aDoables=[];a.reset();h.destroyAllContainers();A.reset();this._oStorageAppIdMap={};this._oStorageAppIdNextIndex={};this._bDisableHomeAppCache=false;this._bUseLegacyRestoreFlowForNextApp=false;this._oCurrentApplication={};this._oNavContainer=null;this._oInitDeferred=new e;this._pLastApplicationStart=this._oInitDeferred.promise;this._oStorageAppIdMap={};this._oStorageAppIdNextIndex={}};return new q});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/AppLifeCycle/KeepAliveMode", [],()=>{"use strict";const e={True:"true",Restricted:"restricted",False:""};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/ApplicationContainer", ["sap/base/Log","sap/ui/core/Control","sap/ushell/appIntegration/ApplicationContainerRenderer","sap/ushell/library","sap/ushell/utils"],(e,t,i,r,a)=>{"use strict";const s=r.appIntegration.contracts.StatefulType;const o=r.components.container.ApplicationType;const n=t.extend("sap.ushell.appIntegration.ApplicationContainer",{metadata:{library:"sap.ushell",properties:{visible:{type:"boolean",defaultValue:true},height:{defaultValue:"100%",type:"sap.ui.core.CSSSize"},width:{defaultValue:"100%",type:"sap.ui.core.CSSSize"},active:{defaultValue:true,type:"boolean"},initialAppId:{defaultValue:"",type:"string"},currentAppId:{defaultValue:"",type:"string"},currentAppUrl:{defaultValue:"",type:"string"},shellUIService:{type:"object"},statefulType:{defaultValue:s.NotSupported,type:"sap.ushell.appIntegration.contracts.StatefulType"},beforeAppCloseEvent:{type:"object"},isKeepAlive:{defaultValue:false,type:"boolean"},isFetchedFromCache:{defaultValue:false,type:"boolean"},capabilities:{defaultValue:{},type:"object"},currentAppTargetResolution:{type:"object"},readyForRendering:{defaultValue:false,type:"boolean"},renderComplete:{defaultValue:false,type:"boolean"},frameworkId:{defaultValue:"",type:"string"},applicationType:{defaultValue:o.URL,type:"sap.ushell.components.container.ApplicationType"},openWithPostByAppParam:{defaultValue:true,type:"boolean"},reservedParameters:{type:"object"},systemAlias:{defaultValue:"",type:"string"},targetNavigationMode:{defaultValue:"",type:"string"},url:{defaultValue:"",type:"string"},dataHelpId:{type:"string",defaultValue:""}},interfaces:["sap.ushell.renderer.INavContainerPage"]},renderer:i});n.ui5version=null;n.ui5versionPromise=a.getUi5Version().then(t=>{e.debug(`Using ui5-version: ${t}`,null,"sap.ushell.appIntegration.ApplicationContainer");n.ui5version=t});n.prototype.getUi5Version=function(){return n.ui5version};n.prototype.init=function(){this.setProperty("capabilities",{},true)};n.prototype.invalidate=function(){if(this.getRenderComplete()){return this}return t.prototype.invalidate.apply(this,arguments)};n.prototype.setVisibility=function(e){this.setProperty("visible",e,true);if(e){this.removeStyleClass("sapUShellApplicationContainerHidden")}else{this.addStyleClass("sapUShellApplicationContainerHidden")}const t=this.getDomRef();if(t){t.setAttribute("aria-hidden",!e)}};n.prototype.setDataHelpId=function(e){this.setProperty("dataHelpId",e);const t=this.getDomRef();if(t){t.setAttribute("data-help-id",e)}return this};n.prototype.setActive=function(e){this.setProperty("active",e);const t=this.getDomRef();if(t){t.setAttribute("data-sap-ushell-active",e)}return this};n.prototype.setInitialAppId=function(e){this.setProperty("initialAppId",e);const t=this.getDomRef();if(t){t.setAttribute("data-sap-ushell-initial-app-id",e)}return this};n.prototype.setCurrentAppId=function(e){this.setProperty("currentAppId",e);const t=this.getDomRef();if(t){t.setAttribute("data-sap-ushell-current-app-id",e)}return this};n.prototype.setStatefulType=function(e){this.setProperty("statefulType",e);const t=this.getDomRef();if(t){t.setAttribute("data-sap-ushell-stateful-type",e)}return this};n.prototype.setFrameworkId=function(e){this.setProperty("frameworkId",e);const t=this.getDomRef();if(t){t.setAttribute("data-sap-ushell-framework-id",e)}return this};n.prototype.sendBeforeAppCloseEvent=async function(){};n.prototype.isTrustedPostMessageSource=function(e){return false};n.prototype.getPostMessageTarget=function(){throw new Error("getPostMessageTarget is not implemented in ApplicationContainer")};n.prototype.getPostMessageTargetOrigin=function(){throw new Error("getPostMessageTargetOrigin is not implemented in ApplicationContainer")};n.prototype.addCapabilities=function(e){const t=this.getCapabilities();e.forEach(e=>{t[`${e}`.toLowerCase()]=true});return this};n.prototype.removeCapabilities=function(e){const t=this.getCapabilities();if(!e){this.setProperty("capabilities",{},true);return this}e.forEach(e=>{delete t[`${e}`.toLowerCase()]});return this};n.prototype.supportsCapabilities=function(e){const t=this.getCapabilities();return e.every(e=>t[`${e}`.toLowerCase()])};n.prototype.isValid=function(){return true};n._setCachedUI5Version=function(e){n.ui5version=e;n.ui5versionPromise=n.ui5versionPromise.then(()=>{n.ui5version=e})};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/ApplicationContainerCache", ["sap/base/Log"],e=>{"use strict";class t{#e=[];#t={};constructor(){this.init()}init(){this.#e=[];this.#t=[]}setContainerActive(t){if(!t){return}if(this.#e.includes(t)){e.warning("The container is already active");return}this.removeByContainer(t);this.#e.push(t)}setContainerReadyForReuse(t,n){if(!t){return}if(!this.#e.includes(t)&&this.getById(t.getId())){e.warning("The container is already in pool");return}this.removeByContainer(t);this.#t.push({url:n,key:this.#n(n),container:t})}findFreeContainerByUrl(e){const t=this.#n(e);const n=this.#t.reverse().find(e=>e.key===t);if(n){return n.container}}canBeReused(e,t){if(!e){return false}if(this.#e.includes(e)){return false}const n=this.#n(t);const i=this.#t.find(t=>t.container===e);return!!i&&i.key===n}getLength(){return this.#e.length}getPoolLength(){return this.#t.length}removeByContainer(e){if(!e){return}this.#e=this.#e.filter(t=>t!==e);this.#t=this.#t.filter(t=>t.container!==e)}getById(e){let t;this.forEach(n=>{if(n.getId()===e){t=n}});return t}getAll(){return[...this.#e,...this.#t.map(e=>e.container)]}forEach(e){const t=[];for(const n of this.#e){t.push(e(n))}for(const n of this.#t){t.push(e(n.container))}return Promise.allSettled(t)}#n(e){let t;let n="";let i="";let s="";let a="";let r="";const o=new URL(e,this._getWindowLocationHref());t=o.origin;if(o.port===""){if(o.protocol==="https:"){t=`${t}:443`}else if(o.protocol==="http:"){t=`${t}:80`}}const l=o.searchParams;if(l.has("sap-iframe-hint")){n=`@hint:${l.get("sap-iframe-hint")}`}if(l.has("sap-ui-version")){i=`@uiver:${l.get("sap-ui-version")}`}if(l.has("sap-async-loading")&&l.get("sap-async-loading")!=="true"){s=`@async:${l.get("sap-async-loading")}`}if(l.has("sap-enable-fesr")&&l.get("sap-enable-fesr")!=="false"){a=`@fesr:${l.get("sap-enable-fesr")}`}if(l.has("sap-testcflp-iframeid")){r=`@testid:${l.get("sap-testcflp-iframeid")}`}return t.toLowerCase()+n+i+s+a+r}_getWindowLocationHref(){return window.location.href}_getStorageForDebug(){return{activeContainers:this.#e,reusableContainers:this.#t}}destroyAllContainers(){this.forEach(e=>{this.removeByContainer(e);e.destroy()})}}return new t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/ApplicationContainerRenderer", [],()=>{"use strict";const t={apiVersion:2};t.waitForUI5Version=function(t){const e=t.getMetadata().getClass();if(e.ui5version===null){e.ui5versionPromise.then(()=>{t.invalidate()});return true}};t.render=function(t,e){t.openStart("div",e);t.accessibilityState(e);t.attr("data-help-id",e.getDataHelpId());t.attr("data-sap-ushell-active",e.getActive());t.attr("data-sap-ushell-initial-app-id",e.getInitialAppId());t.attr("data-sap-ushell-current-app-id",e.getCurrentAppId());t.attr("data-sap-ushell-stateful-type",e.getStatefulType());t.attr("data-sap-ushell-framework-id",e.getFrameworkId());t.class("sapUShellApplicationContainer");t.style("height",e.getHeight());t.style("width",e.getWidth());t.openEnd();t.close("div")};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/ApplicationHandle", ["sap/ushell/state/StateManager","sap/ushell/utils"],(t,a)=>{"use strict";const i=t.LaunchpadState;class e{static#t=null;static#a=null;#i=null;#e=null;#s=null;#o=null;constructor(t,a,i,e){this.#i=t;this.#e=a;this.#s=i;this.#o=e}static init(t,a){this.#a=t;this.#t=a}async navTo(t){const s=this.#s.getId();e.#t.navTo(s);e.#a.switchViewState(t?i.Home:i.App,this.#i,this.#e.applicationType,this.#e.explicitNavMode);await a.awaitTimeout(0)}getNavigationRedirectHash(){return this.#o}}return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/IframeApplicationContainer", ["sap/base/Log","sap/base/util/uid","sap/ui/Device","sap/ui/thirdparty/URI","sap/ushell/appIntegration/ApplicationContainer","sap/ushell/appIntegration/IframeApplicationContainerRenderer","sap/ushell/appIntegration/PostMessageManager","sap/ushell/ApplicationType/UrlPostProcessing","sap/ushell/ApplicationType/systemAlias","sap/ushell/Config","sap/ushell/Container","sap/ushell/library","sap/ushell/System","sap/ushell/utils","sap/ushell/utils/UriParameters"],(t,e,i,s,r,a,n,o,l,p,u,h,g,f,c)=>{"use strict";const d=3500;const m=r.extend("sap.ushell.appIntegration.IframeApplicationContainer",{metadata:{library:"sap.ushell",properties:{visible:{type:"boolean",defaultValue:true},globalDirtyStorageKey:{defaultValue:"",type:"string"},iframeUrl:{defaultValue:"",type:"string",visibility:"hidden"},iframePostAllParams:{defaultValue:false,type:"boolean"},iframeWithPost:{defaultValue:false,type:"boolean"},iframeIsValidSupport:{defaultValue:false,type:"boolean"},lastIframeIsValidTime:{defaultValue:0,type:"int"}},interfaces:["sap.ushell.renderer.INavContainerPage"]},renderer:a});m.prototype.init=function(){r.prototype.init.apply(this,arguments);this._aPendingRequestsWaitingForResponse=[];this.setProperty("lastIframeIsValidTime",Date.now(),true);const t=`sap.ushell.Container.dirtyState.${e()}`;this.setProperty("globalDirtyStorageKey",t,true);localStorage.removeItem(this.getGlobalDirtyStorageKey());this._fnStorageEventListener=this._handleStorageEvent.bind(this);addEventListener("storage",this._fnStorageEventListener);this._fnPagehideEventListener=this.exit.bind(this);addEventListener("pagehide",this._fnPagehideEventListener)};m.prototype.onBeforeRendering=function(){if(!this.getReadyForRendering()){return}this._attachLogoutEvent();this._initNWBCStorage();this._addRemoteSystemForUrl();this._calculateIframeUrl();this._calculateIframeWithPost();if(!this.getProperty("iframeWithPost")){const t=this.getProperty("iframeUrl");const e=l.addSystemAlias(t,this);this.setProperty("iframeUrl",e,true)}};m.prototype.onAfterRendering=async function(){if(!this.getReadyForRendering()){return}const t=await u.getServiceAsync("MessageBroker");const e=this.getPostMessageTargetOrigin();t.addAcceptedOrigin(e);if(i.os.ios&&this.$().prop("tagName")==="IFRAME"){this.$().parent().css("overflow","auto")}};m.prototype.setVisibility=function(t){this.setProperty("visible",t,true);const e=this.getDomRef();if(e){e.setAttribute("aria-hidden",!t)}if(t){this.removeStyleClass("sapUShellApplicationContainerIframeHidden");this.removeStyleClass("sapUShellApplicationContainerIframeHiddenButActive");return}if(this._aPendingRequestsWaitingForResponse.length>0){this.addStyleClass("sapUShellApplicationContainerIframeHiddenButActive")}else{this.addStyleClass("sapUShellApplicationContainerIframeHidden")}};m.prototype.setDataHelpId=function(t){r.prototype.setDataHelpId.apply(this,arguments);if(!this.getDomRef()||!this.getIframeWithPost()){return this}const e=this._getIframe();if(e){e.setAttribute("data-help-id",`${t}-iframe`)}return this};m.prototype._attachLogoutEvent=function(){const t=this.getApplicationType();if(f.isApplicationTypeEmbeddedInIframe(t)){this._fnLogout=this._handleLogout.bind(this);u.attachLogoutEvent(this._fnLogout)}};m.prototype._initNWBCStorage=function(){const t=this.getApplicationType();if(f.isApplicationTypeEmbeddedInIframe(t,true)||f.isApplicationTypeEmbeddedInIframe(this.getFrameworkId())){f.localStorageSetItem(this.getGlobalDirtyStorageKey(),u.DirtyState.INITIAL)}};m.prototype._getDocumentUrl=function(){return document.URL};m.prototype._calculateIframeWithPost=function(){const t=c.fromURL(this._getDocumentUrl());const e=this.getApplicationType();const i=p.last("/core/shell/enableOpenIframeWithPost")??true;const s=t.get("sap-post")==="false";const r=t.get("sap-post")==="true";const a=this.getOpenWithPostByAppParam()===false;const n=["NWBC","TR","WDA","WCF"].includes(e);let o;if(r){o=true}else if(s){o=false}else if(a){o=false}else{o=i&&n}if(o&&e==="TR"){this.setProperty("iframePostAllParams",true,true)}this.setProperty("iframeWithPost",o,true)};m.prototype._calculateIframeUrl=function(){const t=this.getApplicationType();let e=this.getUrl();e=o.processUrl(e,t,false,this);e=this._injectParametersFromDocumentUrl(e);this.setProperty("iframeUrl",e,true)};m.prototype._injectParametersFromDocumentUrl=function(t){const e=c.fromURL(this._getDocumentUrl());if(!e.has("sap-iframe-params")){return t}const i=e.get("sap-iframe-params")||"";const r=i.split(",");const a=new s(t);r.forEach(t=>{if(t&&e.has(t)){a.addQuery(t,e.get(t))}});t=a.toString();return t};m.prototype._addRemoteSystemForUrl=function(){if(this._oSystem){return}const t=this.getUrl();const e=document.createElement("a");const i=c.fromURL(t).get("sap-client");e.href=t;const s=`${e.protocol}//${e.host}`;this._oSystem=new g({alias:i?`${s}?sap-client=${i}`:s,baseUrl:s,client:i||undefined,platform:"abap"});u.addRemoteSystem(this._oSystem)};m.prototype._handleStorageEvent=function(e){if(e.key!==this.getGlobalDirtyStorageKey()){return}if(e.newValue!==u.DirtyState.PENDING){return}const i=this.getPostMessageTarget();if(!i){return}t.debug("getGlobalDirty() send pro54_getGlobalDirty ",null,"sap.ushell.appIntegration.ApplicationContainer");const s=this.getPostMessageTargetOrigin();const r=JSON.stringify({action:"pro54_getGlobalDirty"});i.postMessage(r,s)};m.prototype._handleLogout=function(t){const e=this.getPostMessageTarget();const i=this.getApplicationType();if(e&&f.isApplicationTypeEmbeddedInIframe(i)){const i=this.getPostMessageTargetOrigin();e.postMessage(JSON.stringify({action:"pro54_disableDirtyHandler"}),i);t.preventDefault()}};m.prototype._getIframe=function(){const t=this.getDomRef();if(!t||t.tagName!=="IFRAME"){if(this.getIframeWithPost()===true&&t&&t.getAttribute&&t.getAttribute("data-sap-ushell-iframe-app")==="true"){return document.getElementById(`${t.getAttribute("id")}-iframe`)}return null}return t};m.prototype.getPostMessageTarget=function(){const t=this._getIframe();return t?.contentWindow};m.prototype.getPostMessageTargetOrigin=function(){let t;const e=this._getIframe();if(!e){return""}if(this.getIframeWithPost()===true){const i=`${e.getAttribute("id").replace("-iframe","-form")}`;const s=document.getElementById(i);t=s?.action}else{t=e.src}const i=new s(t);const r=`${i.protocol()}://${i.host()}`;return r};m.prototype.isTrustedPostMessageSource=function(t){if(!t){return false}if(t.source&&t.source===this.getPostMessageTarget()){return true}if(t.origin&&t.origin===this.getPostMessageTargetOrigin()){return true}return false};m.prototype.sendRequest=async function(t,e,i=false){if(!i){return n.sendRequestToApplication(t,e,this,false)}if(!this.getProperty("visible")){this.addStyleClass("sapUShellApplicationContainerIframeHiddenButActive");this.removeStyleClass("sapUShellApplicationContainerIframeHidden")}const s=n.sendRequestToApplication(t,e,this,true);this._aPendingRequestsWaitingForResponse.push(s);const r=await s;this._aPendingRequestsWaitingForResponse=this._aPendingRequestsWaitingForResponse.filter(t=>t!==s);if(this._aPendingRequestsWaitingForResponse.length===0&&!this.getProperty("visible")){this.addStyleClass("sapUShellApplicationContainerIframeHidden");this.removeStyleClass("sapUShellApplicationContainerIframeHiddenButActive")}return r};m.prototype.sendBeforeAppCloseEvent=async function(){const t=this.getBeforeAppCloseEvent();if(t?.enabled===true){return this.sendRequest("sap.ushell.services.CrossApplicationNavigation.beforeAppCloseEvent",t.params,true)}};m.prototype.isValid=function(){if(!this.getIframeIsValidSupport()){return true}const t=Date.now()-this.getLastIframeIsValidTime();const e=t>=d;const i=`iframe did not ping in the last '${t}' ms`;if(e){throw new Error(i)}return true};m.prototype.exit=function(){localStorage.removeItem(this.getGlobalDirtyStorageKey());if(this._fnStorageEventListener){removeEventListener("storage",this._fnStorageEventListener)}if(this._fnPagehideEventListener){removeEventListener("pagehide",this._fnPagehideEventListener)}if(this._fnLogout){u.detachLogoutEvent(this._fnLogout)}r.prototype.exit.apply(this,arguments)};return m});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/IframeApplicationContainerRenderer", ["sap/base/Log","sap/ui/core/Renderer","sap/ui/core/RenderManager","sap/ui/thirdparty/URI","sap/ushell/appIntegration/ApplicationContainerRenderer","sap/ushell/ApplicationType/systemAlias","sap/ushell/Config","sap/ushell/Container","sap/ushell/resources","sap/ushell/utils","sap/ushell/utils/UriParameters"],(t,e,a,r,i,s,n,l,o,p,d)=>{"use strict";let c=0;const f=e.extend(i);f.render=function(t,e){if(!e.getReadyForRendering()){i.render(t,e);return}if(this.waitForUI5Version(e)){return}if(e.getProperty("iframeWithPost")){const a=e.getProperty("iframeUrl");this._renderIframeWithPOST(t,e,a,++c)}else{this._renderIframe(t,e)}e.setRenderComplete(true)};f._renderIframe=function(t,e){const a=e.getProperty("iframeUrl");t.openStart("iframe",e);t.accessibilityState(e);t.attr("src",a);t.attr("title",o.i18n.getText("AppilcationContainer.IframeTitle"));t.attr("data-help-id",e.getDataHelpId());t.attr("data-sap-ushell-active",e.getActive());t.attr("data-sap-ushell-iframe-idx",++c);t.attr("data-sap-ushell-initial-app-id",e.getInitialAppId());t.attr("data-sap-ushell-current-app-id",e.getCurrentAppId());t.attr("data-sap-ushell-stateful-type",e.getStatefulType());t.attr("data-sap-ushell-framework-id",e.getFrameworkId());t.class("sapUShellApplicationContainer");t.style("height",e.getHeight());t.style("width",e.getWidth());if(n.last("/core/shell/enableFeaturePolicyInIframes")===true){t.attr("allow",p.getIframeFeaturePolicies())}t.openEnd();t.close("iframe")};f._renderIframeWithPOST=function(e,r,i,s){const n=p.filterOutParamsFromLegacyAppURL(i);this._renderPostWrapper(e,r);this._getAdditionalDataForPost(r,n).then(async t=>{const e=new a;const i=`${r.getId()}-form`;const l=`${r.getId()}-iframe`;const o=this._calculatePostUrls(r,n);this._renderPostForm(e,r,i,l,t,o.form,`${r.getDataHelpId()}-form`,o.iframeWithoutSystemAlias);this._renderPostIframe(e,r,l,o.iframe,o.form,`${r.getDataHelpId()}-iframe`,s);e.flush(r.getDomRef());e.destroy();await p.awaitTimeout(0);return i}).then(e=>{const a=document.getElementById(e);if(a){a.submit()}else{t.error("Form element not found")}})};f._renderPostWrapper=function(t,e){t.openStart("div",e);t.attr("data-help-id",e.getDataHelpId());t.attr("data-sap-ushell-active",e.getActive());t.attr("data-sap-ushell-iframe-app","true");t.attr("data-sap-ushell-initial-app-id",e.getInitialAppId());t.attr("data-sap-ushell-current-app-id",e.getCurrentAppId());t.attr("data-sap-ushell-stateful-type",e.getStatefulType());t.attr("data-sap-ushell-framework-id",e.getFrameworkId());t.class("sapUShellApplicationContainer");t.style("height",e.getHeight());t.style("width",e.getWidth());t.openEnd();t.close("div")};f._calculatePostUrls=function(t,e){const a=d.fromURL(e);const i=e;const n=s.addSystemAlias(i,t);let l=e;if(t.getIframePostAllParams()){if(this._getPostParameters(t,i).length){const t=a.get("sap-iframe-hint");const i=a.get("sap-keep-alive");const s=new r(e).query("");if(typeof t==="string"){s.addSearch("sap-iframe-hint",t)}if(typeof i==="string"){s.addSearch("sap-keep-alive",i)}l=s.toString()}}return{iframeWithoutSystemAlias:i,iframe:n,form:l}};f._getAdditionalDataForPost=async function(t,e){let a=[];let r=[];const i=p.getParamKeys(e);if(i.aAppStateNamesArray.length){const t=await l.getServiceAsync("Navigation");try{const e=await t.getAppStateData(i.aAppStateKeysArray);if(e){a=[...i.aAppStateNamesArray];r=[...e]}}catch{}}a.push("sap-flp-url");r.push(l.getFLPUrl(true));a.push("system-alias");r.push(t.getSystemAlias());const s={};a.forEach((t,e)=>{if(r[e]||t==="system-alias"){s[t]=r[e]}});return s};f._renderPostForm=function(t,e,a,r,i,s,n,l){const o=JSON.stringify(i);t.openStart("form");t.attr("id",a);t.attr("method","post");t.attr("name",a);t.attr("target",r);t.attr("action",s);t.attr("data-help-id",n);t.style("display","none");t.openEnd();t.voidStart("input");t.attr("name","sap-flp-params");t.attr("value",o);t.voidEnd();if(e.getIframePostAllParams()){const a=this._getPostParameters(e,l);a.forEach(e=>{t.voidStart("input");t.attr("name",e.key);t.attr("value",e.value);t.voidEnd()})}t.close("form")};f._renderPostIframe=function(t,e,a,i,s,l,d){t.openStart("iframe",a);t.attr("name",a);t.accessibilityState(e);t.attr("sap-orig-src",i);t.attr("title",o.i18n.getText("AppilcationContainer.IframeTitle"));t.attr("data-help-id",l);t.attr("data-sap-ushell-iframe-idx",d);t.class("sapUShellApplicationContainer");t.style("height",e.getHeight());t.style("width",e.getWidth());if(n.last("/core/shell/enableFeaturePolicyInIframes")){t.attr("allow",p.getIframeFeaturePolicies().replaceAll(";",` ${new r(s).origin()};`))}t.openEnd();t.close("iframe")};f._getPostParameters=function(t,e){const a=d.fromURL(e);const r=[];let i="";if(a.has("sap-iframe-hint")){i=a.get("sap-iframe-hint")}const s=a.mParams;if(t.getApplicationType()==="TR"||i==="GUI"){for(const t in s){if(t==="sap-iframe-hint"||t==="sap-keep-alive"){continue}r.push({key:t,value:s[t][0]})}}return r};return f});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/KeepAliveApps", [],()=>{"use strict";class e{#e={};get(e){if(!e||!Object.hasOwn(this.#e,e)){return}return this.#e[e]}set(e,t){if(!e){return}this.#e[e]=t}removeById(e){if(!e||!Object.hasOwn(this.#e,e)){return}delete this.#e[e]}removeByContainer(e,t){this.forEach((r,i)=>{if(r.container===e){if(t){t(r)}this.removeById(i)}})}forEach(e){Object.keys(this.#e).forEach(t=>{const r=this.#e[t];e(r,t)})}length(){return Object.keys(this.#e).length}reset(){this.#e={}}}return new e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessageHandler", ["sap/base/util/deepClone","sap/ushell/appIntegration/PostMessageHandler/AppInfoHandler","sap/ushell/appIntegration/PostMessageHandler/AppStateHandler","sap/ushell/appIntegration/PostMessageHandler/BookmarkHandler","sap/ushell/appIntegration/PostMessageHandler/EnvironmentHandler","sap/ushell/appIntegration/PostMessageHandler/ExtensionHandler","sap/ushell/appIntegration/PostMessageHandler/LifecycleHandler","sap/ushell/appIntegration/PostMessageHandler/MessageBrokerHandler","sap/ushell/appIntegration/PostMessageHandler/NavigationHandler","sap/ushell/appIntegration/PostMessageHandler/NWBCHandler","sap/ushell/appIntegration/PostMessageHandler/SessionHandler","sap/ushell/appIntegration/PostMessageManager"],(e,s,a,r,n,t,l,i,p,g,o,d)=>{"use strict";const H=[(s,a)=>{if(a.service?.startsWith("sap.ushell.services.appLifeCycle")){const r=e(a);r.service=r.service.replace(/appLifeCycle/gi,"AppLifeCycle");r.originalMessage=a;const n=new MessageEvent("message",{data:JSON.stringify(r),origin:s.origin,source:s.source});n.originalMessageEvent=s;return{event:n,message:r}}}];return{register(){H.forEach(e=>{d.addEventPreprocessor(e)});s.register();a.register();r.register();n.register();t.register();l.register();i.register();p.register();g.register();o.register()}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessageHandler/AppInfoHandler", ["sap/base/util/Deferred","sap/ushell/appIntegration/PostMessageManager","sap/ushell/Container","sap/ushell/utils"],(e,s,t,i)=>{"use strict";const l={};const a={"sap.ushell.ui5service.ShellUIService.setBackNavigation":{async handler(e,t,i){const l=t.getShellUIService();let a;if(e.callbackMessage?.service){a=()=>{s.sendRequest(e.callbackMessage.service,null,i.source,i.origin,false)}}l.setBackNavigation(a)},options:{provideApplicationContext:true}},"sap.ushell.ui5service.ShellUIService.setTitle":{async handler(e,s,t){const{sTitle:i,oAdditionalInformation:l}=e;const a=s.getShellUIService();a.setTitle(i,l)},options:{provideApplicationContext:true}},"sap.ushell.services.ShellUIService.setTitle":{async handler(e,s,t){const{sTitle:i,oAdditionalInformation:l}=e;const a=s.getShellUIService();a.setTitle(i,l)},options:{provideApplicationContext:true}},"sap.ushell.services.ShellUIService.setHierarchy":{async handler(e,s,t){const{aHierarchyLevels:i}=e;const l=s.getShellUIService();l.setHierarchy(i)},options:{provideApplicationContext:true}},"sap.ushell.services.ShellUIService.setRelatedApps":{async handler(e,s,t){const{aRelatedApps:i}=e;const l=s.getShellUIService();l.setRelatedApps(i)},options:{provideApplicationContext:true}},"sap.ushell.services.AppLifeCycle.setNewAppInfo":{async handler(e,s){const i=e;const l=await t.getServiceAsync("AppLifeCycle");l.setAppInfo(i,true)}},"sap.ushell.services.AppLifeCycle.updateCurrentAppInfo":{async handler(e,s){const i=e;const l=await t.getServiceAsync("AppLifeCycle");l.setAppInfo(i,false)}},"sap.ushell.services.AppConfiguration.setApplicationFullWidth":{async handler(e,s){const{bValue:t}=e;const[l]=await i.requireAsync(["sap/ushell/services/AppConfiguration"]);l.setApplicationFullWidthInternal(t)}},"sap.ushell.services.ShellUIService.setDirtyFlag":{async handler(e,s){const{bIsDirty:i}=e;t.setDirtyFlag(i)}},"sap.ushell.services.Container.setDirtyFlag":{async handler(e,s){const{bIsDirty:i}=e;t.setDirtyFlag(i)}},"sap.ushell.services.Container.registerDirtyStateProvider":{async handler(s,i,l){const{bRegister:a}=s;if(a){i.addCapabilities(["sap.ushell.appRuntime.handleDirtyStateProvider"]);t.setAsyncDirtyStateProvider(async s=>{const t=new e;const l=setTimeout(()=>{t.resolve(false)},2500);i.sendRequest("sap.ushell.appRuntime.handleDirtyStateProvider",{oNavigationContext:s},true).then(e=>{if(l){clearTimeout(l)}t.resolve(e.result??false)});return t.promise})}else{t.setAsyncDirtyStateProvider()}},options:{provideApplicationContext:true}}};return{register(){Object.keys(l).forEach(e=>{const t=l[e];s.setDistributionPolicy(e,t)});Object.keys(a).forEach(e=>{const t=a[e];s.setRequestHandler(e,t.handler,t.options)})}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessageHandler/AppStateHandler", ["sap/ui/core/UIComponent","sap/ui/thirdparty/hasher","sap/ushell/appIntegration/PostMessageManager","sap/ushell/Container","sap/ushell/services/Navigation/compatibility","sap/ushell/utils"],(e,t,s,a,n,i)=>{"use strict";const p=new e;const c={};const r={"sap.ushell.services.AppState.getAppState":{async handler(e,t){const{sKey:s}=e;const n=await a.getServiceAsync("AppState");const p=n.getAppState(s);const c=await i.promisify(p);delete c._oServiceInstance;return c}},"sap.ushell.services.AppState._saveAppState":{async handler(e,t){const{sKey:s,sData:n,sAppName:p,sComponent:c,bTransient:r,iPersistencyMethod:o,oPersistencySettings:l}=e;const S=await a.getServiceAsync("AppState");const y=S._saveAppState(s,n,p,c,r,o,l);await i.promisify(y)}},"sap.ushell.services.AppState.deleteAppState":{async handler(e,t){const{sKey:s}=e;const n=await a.getServiceAsync("AppState");const p=n.deleteAppState(s);await i.promisify(p)}},"sap.ushell.services.AppState.makeStatePersistent":{async handler(e,t){const{sKey:s,iPersistencyMethod:n,oPersistencySettings:p}=e;const c=await a.getServiceAsync("AppState");const r=c.makeStatePersistent(s,n,p);return i.promisify(r)}},"sap.ushell.services.Navigation.getAppState":{async handler(e,t){const{sAppStateKey:s}=e;const n=await a.getServiceAsync("Navigation");const i=await n.getAppState(p,s);delete i._oServiceInstance;return i}},"sap.ushell.services.CrossApplicationNavigation.getAppState":{async handler(e,t){const{sAppStateKey:s}=e;const n=await a.getServiceAsync("Navigation");const i=await n.getAppState(p,s);delete i._oServiceInstance;return i}},"sap.ushell.services.CrossApplicationNavigation.getAppStateData":{async handler(e,t){const{sAppStateKey:s}=e;return n.getAppStateData(s)}},"sap.ushell.services.CrossApplicationNavigation.setInnerAppStateData":{handler:async e=>{const{sData:s}=e;let n;if(s!==undefined){try{n=JSON.parse(s)}catch{n=s}}else{n={}}const p=await a.getServiceAsync("AppState");const c=p.createEmptyAppState();c.setData(n);await i.promisify(c.save());const r=c.getKey();let o=t.getHash();if(o.indexOf("&/")>0){if(o.indexOf("sap-iapp-state=")>0){const e=/(?:sap-iapp-state=)([^&/]+)/.exec(o)[1];o=o.replace(e,r)}else{o=`${o}/sap-iapp-state=${r}`}}else{o=`${o}&/sap-iapp-state=${r}`}t.disableBlueBoxHashChangeTrigger=true;t.replaceHash(o);t.disableBlueBoxHashChangeTrigger=false;return r}}};return{register(){Object.keys(c).forEach(e=>{const t=c[e];s.setDistributionPolicy(e,t)});Object.keys(r).forEach(e=>{const t=r[e];s.setRequestHandler(e,t.handler,t.options)})}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessageHandler/BookmarkHandler", ["sap/base/Log","sap/m/library","sap/ushell/appIntegration/PostMessageManager","sap/ushell/Container","sap/ushell/library","sap/ushell/resources","sap/ushell/state/ShellModel","sap/ushell/utils"],(e,t,o,a,s,r,n,c)=>{"use strict";const i=t.URLHelper;const l=s.ContentNodeType;function k(t,o){if(!t||!t.serviceUrl||!o){return}if(o.id===""||o.id==="saas_approuter"){t.serviceUrl=undefined;e.warning("Dynamic data bookmarks tiles are not supported for local content providers")}}async function d(t="",o="",s="",r="",n="",l,k){let d=c.getDocumentUrl();function p(e,t,a,r,n,c){o=o.includes(e)?o.replace(e,t):o;s=s.includes(e)?s.replace(e,t):s;if(a&&n){o=o.includes(a)?o.replaceAll(a,n):o;s=s.includes(a)?s.replaceAll(a,n):s}if(r&&c){o=o.includes(r)?o.replaceAll(r,c):o;s=s.includes(r)?s.replaceAll(r,c):s}}if(k){const c=await a.getServiceAsync("AppState");c.setAppStateToPublic(l).then((e,a,c,k="",u="")=>{if(k){d=d.replace(a,k)}if(u){d=d.replace(c,u)}p(l,d,a,c,k,u);i.triggerEmail(t,o,s,r,n)}).catch(t=>{e.error("Failed to set app state to public:",t)})}else{p(l,d);i.triggerEmail(t,o,s,r,n)}}const p={};const u={"sap.ushell.services.Bookmark.addBookmarkUI5":{async handler(e,t){const{oParameters:o,vContainer:s}=e;const r=await a.getServiceAsync("AppLifeCycle");const n=await r.getCurrentApplication().getSystemContext();k(o,n);const c=await a.getServiceAsync("BookmarkV2");await c.addBookmark(o,s,n.id)}},"sap.ushell.services.Bookmark.addBookmark":{async handler(e,t){if(true){const{oParameters:t,groupId:o}=e;const s=await a.getServiceAsync("AppLifeCycle");const r=await s.getCurrentApplication().getSystemContext();const n=await a.getServiceAsync("BookmarkV2");await n.addBookmarkByGroupId(t,o,r.id);return}throw new Error("Bookmark.addBookmarkByGroupId is deprecated. Please use BookmarkV2.addBookmark instead.")}},"sap.ushell.services.Bookmark.getShellGroupIDs":{async handler(e,t){if(true){const e=await a.getServiceAsync("BookmarkV2");return e.getShellGroupIDs()}throw new Error("Bookmark.getShellGroupIDs is deprecated. Please use BookmarkV2.getContentNodes instead.")}},"sap.ushell.services.Bookmark.addCatalogTileToGroup":{async handler(t,o){e.error("Bookmark.addCatalogTileToGroup is deprecated. Please use BookmarkV2.addBookmark instead.");if(true){const{sCatalogTileId:e,sGroupId:o,oCatalogData:s}=t;const r=await a.getServiceAsync("Bookmark");const n=r.addCatalogTileToGroup(e,o,s);await c.promisify(n);return}throw new Error("Bookmark.addCatalogTileToGroup is deprecated. Please use BookmarkV2.addBookmark instead.")}},"sap.ushell.services.Bookmark.countBookmarks":{async handler(e,t){const{sUrl:o}=e;const s=await a.getServiceAsync("AppLifeCycle");const r=await s.getCurrentApplication().getSystemContext();const n=await a.getServiceAsync("BookmarkV2");return n.countBookmarks(o,r.id)}},"sap.ushell.services.Bookmark.deleteBookmarks":{async handler(e,t){const{sUrl:o}=e;const s=await a.getServiceAsync("AppLifeCycle");const r=await s.getCurrentApplication().getSystemContext();const n=await a.getServiceAsync("BookmarkV2");return n.deleteBookmarks(o,r.id)}},"sap.ushell.services.Bookmark.updateBookmarks":{async handler(e,t){const{sUrl:o,oParameters:s}=e;const r=await a.getServiceAsync("AppLifeCycle");const n=await r.getCurrentApplication().getSystemContext();const c=await a.getServiceAsync("BookmarkV2");return c.updateBookmarks(o,s,n.id)}},"sap.ushell.services.Bookmark.getContentNodes":{async handler(e,t){const o=await a.getServiceAsync("BookmarkV2");return o.getContentNodes()}},"sap.ushell.services.Bookmark.addCustomBookmark":{async handler(e,t){const{sVizType:o,oConfig:s,vContentNodes:r}=e;const n=await a.getServiceAsync("AppLifeCycle");const c=await n.getCurrentApplication().getSystemContext();const i=await a.getServiceAsync("BookmarkV2");await i.addCustomBookmark(o,s,r,c.id)}},"sap.ushell.services.Bookmark.countCustomBookmarks":{async handler(e,t){const{oIdentifier:o}=e;const s=await a.getServiceAsync("AppLifeCycle");const r=await s.getCurrentApplication().getSystemContext();o.contentProviderId=r.id;const n=await a.getServiceAsync("BookmarkV2");return n.countCustomBookmarks(o)}},"sap.ushell.services.Bookmark.updateCustomBookmarks":{async handler(e,t){const{oIdentifier:o,oConfig:s}=e;const r=await a.getServiceAsync("AppLifeCycle");const n=await r.getCurrentApplication().getSystemContext();o.contentProviderId=n.id;const c=await a.getServiceAsync("BookmarkV2");return c.updateCustomBookmarks(o,s)}},"sap.ushell.services.Bookmark.deleteCustomBookmarks":{async handler(e,t){const{oIdentifier:o}=e;const s=await a.getServiceAsync("AppLifeCycle");const r=await s.getCurrentApplication().getSystemContext();o.contentProviderId=r.id;const n=await a.getServiceAsync("BookmarkV2");return n.deleteCustomBookmarks(o)}},"sap.ushell.services.Bookmark.addBookmarkToPage":{async handler(e,t){const{oParameters:o,sPageId:s}=e;const r=await a.getServiceAsync("AppLifeCycle");const n=await r.getCurrentApplication().getSystemContext();const c=await a.getServiceAsync("BookmarkV2");await c.addBookmarkToPage(o,s,n.id)}},"sap.ushell.services.BookmarkV2.addBookmarkUI5":{async handler(e,t){const{oParameters:o,vContainer:s}=e;const r=await a.getServiceAsync("AppLifeCycle");const n=await r.getCurrentApplication().getSystemContext();k(o,n);const c=await a.getServiceAsync("BookmarkV2");return c.addBookmark(o,s,n.id)}},"sap.ushell.services.BookmarkV2.addBookmark":{async handler(e,t){if(true){const{oParameters:t,groupId:o}=e;const s=await a.getServiceAsync("AppLifeCycle");const r=await s.getCurrentApplication().getSystemContext();const n=await a.getServiceAsync("BookmarkV2");await n.addBookmarkByGroupId(t,o,r.id);return}throw new Error("BookmarkV2.addBookmarkByGroupId is deprecated. Please use BookmarkV2.addBookmark instead.")}},"sap.ushell.services.BookmarkV2.getShellGroupIDs":{async handler(e,t){if(true){const e=await a.getServiceAsync("BookmarkV2");return e.getShellGroupIDs()}throw new Error("BookmarkV2.getShellGroupIDs is deprecated. Please use BookmarkV2.getContentNodes instead.")}},"sap.ushell.services.BookmarkV2.countBookmarks":{async handler(e,t){const{sUrl:o}=e;const s=await a.getServiceAsync("AppLifeCycle");const r=await s.getCurrentApplication().getSystemContext();const n=await a.getServiceAsync("BookmarkV2");return n.countBookmarks(o,r.id)}},"sap.ushell.services.BookmarkV2.deleteBookmarks":{async handler(e,t){const{sUrl:o}=e;const s=await a.getServiceAsync("AppLifeCycle");const r=await s.getCurrentApplication().getSystemContext();const n=await a.getServiceAsync("BookmarkV2");return n.deleteBookmarks(o,r.id)}},"sap.ushell.services.BookmarkV2.updateBookmarks":{async handler(e,t){const{sUrl:o,oParameters:s}=e;const r=await a.getServiceAsync("AppLifeCycle");const n=await r.getCurrentApplication().getSystemContext();const c=await a.getServiceAsync("BookmarkV2");return c.updateBookmarks(o,s,n.id)}},"sap.ushell.services.BookmarkV2.getContentNodes":{async handler(e,t){const o=await a.getServiceAsync("BookmarkV2");return o.getContentNodes()}},"sap.ushell.services.BookmarkV2.addCustomBookmark":{async handler(e,t){const{sVizType:o,oConfig:s,vContentNodes:r}=e;const n=await a.getServiceAsync("AppLifeCycle");const c=await n.getCurrentApplication().getSystemContext();const i=await a.getServiceAsync("BookmarkV2");await i.addCustomBookmark(o,s,r,c.id)}},"sap.ushell.services.BookmarkV2.countCustomBookmarks":{async handler(e,t){const{oIdentifier:o}=e;const s=await a.getServiceAsync("AppLifeCycle");const r=await s.getCurrentApplication().getSystemContext();o.contentProviderId=r.id;const n=await a.getServiceAsync("BookmarkV2");return n.countCustomBookmarks(o)}},"sap.ushell.services.BookmarkV2.updateCustomBookmarks":{async handler(e,t){const{oIdentifier:o,oConfig:s}=e;const r=await a.getServiceAsync("AppLifeCycle");const n=await r.getCurrentApplication().getSystemContext();o.contentProviderId=n.id;const c=await a.getServiceAsync("BookmarkV2");return c.updateCustomBookmarks(o,s)}},"sap.ushell.services.BookmarkV2.deleteCustomBookmarks":{async handler(e,t){const{oIdentifier:o}=e;const s=await a.getServiceAsync("AppLifeCycle");const r=await s.getCurrentApplication().getSystemContext();o.contentProviderId=r.id;const n=await a.getServiceAsync("BookmarkV2");return n.deleteCustomBookmarks(o)}},"sap.ushell.services.BookmarkV2.addBookmarkToPage":{async handler(e,t){const{oParameters:o,sPageId:s}=e;const r=await a.getServiceAsync("AppLifeCycle");const n=await r.getCurrentApplication().getSystemContext();const c=await a.getServiceAsync("BookmarkV2");await c.addBookmarkToPage(o,s,n.id)}},"sap.ushell.services.LaunchPage.getGroupsForBookmarks":{async handler(e,t){if(true){const e=await a.getServiceAsync("FlpLaunchPage");const t=e.getGroupsForBookmarks();return c.promisify(t)}throw new Error("LaunchPage.getGroupsForBookmarks is deprecated. Please use BookmarkV2.getContentNodes instead.")}},"sap.ushell.services.Menu.getSpacesPagesHierarchy":{async handler(e,t){const o=await a.getServiceAsync("Menu");const s=await o.getContentNodes([l.Space,l.Page]);return s.map(({id:e,label:t,children:o})=>({id:e,title:t,pages:(o||[]).map(({id:e,label:t})=>({id:e,title:t}))}))}},"sap.ushell.services.CommonDataModel.getAllPages":{async handler(e,t){const o=await a.getServiceAsync("CommonDataModel");return o.getAllPages()}},"sap.ushell.services.ShellUIService.getShellGroupIDs":{async handler(e,t){if(true){const{bGetAll:t}=e;const o=await a.getServiceAsync("BookmarkV2");return o.getShellGroupIDs(t)}throw new Error("Bookmark.getShellGroupIDs is deprecated. Use BookmarkV2.getContentNodes instead.")}},"sap.ushell.services.ShellUIService.addBookmark":{async handler(e,t){if(true){const{oParameters:t,groupId:o}=e;const s=await a.getServiceAsync("AppLifeCycle");const r=await s.getCurrentApplication().getSystemContext();const n=await a.getServiceAsync("BookmarkV2");return n.addBookmarkByGroupId(t,o,r.id)}throw new Error("Bookmark.addBookmarkByGroupId is deprecated. Use BookmarkV2.addBookmark instead.")}},"sap.ushell.services.ShellUIService.addBookmarkDialog":{async handler(e,t){const[o]=await c.requireAsync(["sap/ushell/ui/footerbar/AddBookmarkButton"]);const a=new o;a.firePress({})}},"sap.ushell.services.ShellUIService.getShellGroupTiles":{async handler(e,t){if(true){const{groupId:t}=e;const o=await a.getServiceAsync("FlpLaunchPage");const s=o.getTilesByGroupId(t);return c.promisify(s)}throw new Error("Classic homepage is deprecated.")}},"sap.ushell.services.ShellUIService.sendUrlAsEmail":{async handler(e,t){const o=n.getModel().getProperty("/application/title");let a;if(o===undefined){a=r.i18n.getText("linkToApplication")}else{a=`${r.i18n.getText("linkTo")} '${o}'`}d("",a,document.URL,"","",document.URL,true)}},"sap.ushell.services.ShellUIService.sendEmailWithFLPButton":{async handler(e,t){const{bSetAppStateToPublic:o}=e;const a=n.getModel().getProperty("/application/title");let s;if(a===undefined){s=r.i18n.getText("linkToApplication")}else{s=`${r.i18n.getText("linkTo")} '${a}'`}d("",s,document.URL,"","",document.URL,o)}},"sap.ushell.services.ShellUIService.sendEmail":{async handler(e,t){const{sTo:o,sSubject:a,sBody:s,sCc:r,sBcc:n,sIFrameURL:c,bSetAppStateToPublic:i}=e;d(o,a,s,r,n,c,i)}}};return{register(){Object.keys(p).forEach(e=>{const t=p[e];o.setDistributionPolicy(e,t)});Object.keys(u).forEach(e=>{const t=u[e];o.setRequestHandler(e,t.handler,t.options)})},stripBookmarkServiceUrlForLocalContentProvider:k,sendEmail:d}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessageHandler/EnvironmentHandler", ["sap/base/i18n/Formatting","sap/base/i18n/Localization","sap/base/Log","sap/ui/thirdparty/hasher","sap/ushell/appIntegration/PostMessageManager","sap/ushell/Container","sap/ushell/EventHub","sap/ushell/utils"],(e,s,a,t,r,n,i,l)=>{"use strict";const c={"sap.ushell.appRuntime.innerAppRouteChange":{onlyCurrentApplication:true,ignoreCapabilities:true},"sap.ushell.appRuntime.hashChange":{onlyCurrentApplication:true,ignoreCapabilities:true},"sap.ushell.appRuntime.themeChange":{ignoreCapabilities:true},"sap.ushell.appRuntime.uiDensityChange":{ignoreCapabilities:true}};const o={"sap.ushell.services.AppLifeCycle.subscribe":{async handler(e,s,t){const r=e;if(!Array.isArray(r)){a.error("subscribe service call failed: capabilities must be an array");throw new Error("subscribe service call failed: capabilities must be an array")}const n=r.map(e=>`${e.service}.${e.action}`);s.addCapabilities(n)},options:{provideApplicationContext:true,allowInactive:true}},"sap.ushell.appRuntime.hashChange":{async handler(e,s){const{newHash:r,direction:i}=e;t.disableBlueBoxHashChangeTrigger=true;t.replaceHash(r);t.disableBlueBoxHashChangeTrigger=false;if(i){const e=await n.getServiceAsync("ShellNavigationInternal");e.hashChanger.fireEvent("hashReplaced",{hash:e.hashChanger.getHash(),direction:i});a.debug(`PostMessageAPI.hashChange :: Informed by the Iframe, to change the History direction property in FLP to: ${i}`)}}},"sap.ushell.services.ShellUIService.getFLPUrl":{async handler(e,s){const a=e.bIncludeHash;return n.getFLPUrlAsync(a)}},"sap.ushell.services.Container.getFLPUrl":{async handler(e,s){const a=e.bIncludeHash;return n.getFLPUrlAsync(a)}},"sap.ushell.services.Container.getFLPConfig":{async handler(e,s){return n.getFLPConfig()}},"sap.ushell.services.Container.getFLPPlatform":{async handler(e,s){return n.getFLPPlatform()}},"sap.ushell.services.ShellUIService.processHotKey":{async handler(e,s){const{altKey:a,ctrlKey:t,shiftKey:r,key:n,keyCode:i}=e;const l=new KeyboardEvent("keydown",{altKey:a,ctrlKey:t,shiftKey:r,key:n,keyCode:i});document.dispatchEvent(l)}},"sap.ushell.services.ShellUIService.showShellUIBlocker":{async handler(e,s){}},"sap.ushell.services.UserInfo.getThemeList":{async handler(e,s){const a=await n.getServiceAsync("UserInfo");const t=a.getThemeList();return l.promisify(t)}},"sap.ushell.services.UserInfo.getShellUserInfo":{async handler(e,s){const a=await n.getServiceAsync("UserInfo");return a.getShellUserInfo()}},"sap.ushell.services.UserInfo.getLanguageList":{async handler(e,s){const a=await n.getServiceAsync("UserInfo");const t=a.getLanguageList();return l.promisify(t)}},"sap.ushell.services.UserInfo.updateUserPreferences":{async handler(e,s){const{language:a}=e;if(!a){return}const t=n.getUser();t.setLanguage(a);const r=await n.getServiceAsync("UserInfo");const i=r.updateUserPreferences();await l.promisify(i);t.resetChangedProperty("language")}},"sap.ushell.services.UserInfo.openThemeManager":{async handler(e,s){i.emit("openThemeManager",Date.now())}},"sap.ushell.services.UserInfo.getLocaleData":{async handler(a,t){const r={calendarType:e.getCalendarType(),dateFormatShort:e.getDatePattern("short"),dateFormatMedium:e.getDatePattern("medium"),numberFormatGroup:e.getNumberSymbol("group"),numberFormatDecimal:e.getNumberSymbol("decimal"),timeFormatShort:e.getTimePattern("short"),timeFormatMedium:e.getTimePattern("medium"),calendarMapping:e.getCustomIslamicCalendarData(),timeZone:s.getTimezone(),currencyFormats:e.getCustomCurrencies()};return r}},"sap.ushell.services.UITracer.trace":{async handler(e,s){const{trace:a}=e;await n.getServiceAsync("UITracer");i.emit("UITracer.trace",a)}},"sap.ushell.services.SearchableContent.getApps":{async handler(e,s){const a=e.oOptions||{};const t=await n.getServiceAsync("SearchableContent");return t.getApps(a)}},"sap.ushell.services.Extension.setSecondTitle":{async handler(e,s){const{title:a}=e;const t=await n.getServiceAsync("Extension");return t.setSecondTitle(a)}},"sap.ushell.services.Renderer.setHeaderTitle":{async handler(e,s){const{sTitle:a}=e;const t=await n.getServiceAsync("Extension");t.setSecondTitle(a)}}};return{register(){Object.keys(c).forEach(e=>{const s=c[e];r.setDistributionPolicy(e,s)});Object.keys(o).forEach(e=>{const s=o[e];r.setRequestHandler(e,s.handler,s.options)})}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessageHandler/ExtensionHandler", ["sap/base/Log","sap/ui/core/Element","sap/ushell/appIntegration/PostMessageManager","sap/ushell/Container","sap/ushell/appIntegration/PostMessageHandler/ExtensionItems","sap/ushell/utils"],(e,t,s,n,i,r)=>{"use strict";let o;function a(e){o.removeItem(e);const s=t.getElementById(e);if(s?.destroy){s.destroy()}}const c={};const l={"sap.ushell.services.Renderer.addHeaderItem":{async handler(e,t,i){const{sId:r,sTooltip:a,sIcon:c,iFloatingNumber:l,bVisible:d}=e;const p=await n.getServiceAsync("FrameBoundExtension");const u=await p.createHeaderItem({id:r,tooltip:a,icon:c,floatingNumber:l,press:function(){s.sendRequest("sap.ushell.appRuntime.buttonClick",{buttonId:r},t.getPostMessageTarget(),t.getPostMessageTargetOrigin(),false)}},{position:"begin"});o.storeItem(r,u);o.applyItemVisibility(u,d)},options:{provideApplicationContext:true}},"sap.ushell.services.Renderer.showHeaderItem":{async handler(e,t){const{aIds:s}=e;const n=Array.isArray(s)?s:[s];o.visitItems(n,e=>{o.applyItemVisibility(e,true)})}},"sap.ushell.services.Renderer.hideHeaderItem":{async handler(e,t){const{aIds:s}=e;const n=Array.isArray(s)?s:[s];o.visitItems(n,e=>{o.applyItemVisibility(e,false)})}},"sap.ushell.services.Renderer.updateHeaderItem":{async handler(e,t){const{sId:s,oControlProperties:n}=e;if(!Object.hasOwn(n,"floatingNumber")){return}const i=o.getItem(s);if(i?.getControl){const e=await i.getControl();e?.setFloatingNumber?.(n.floatingNumber)}}},"sap.ushell.services.Renderer.addHeaderEndItem":{async handler(e,t,i){const{sId:r,sTooltip:a,sIcon:c,iFloatingNumber:l,bVisible:d}=e;const p=await n.getServiceAsync("FrameBoundExtension");const u=await p.createHeaderItem({id:r,tooltip:a,icon:c,floatingNumber:l,press:function(){s.sendRequest("sap.ushell.appRuntime.buttonClick",{buttonId:r},t.getPostMessageTarget(),t.getPostMessageTargetOrigin(),false)}},{position:"end"});o.storeItem(r,u);o.applyItemVisibility(u,d)},options:{provideApplicationContext:true}},"sap.ushell.services.Renderer.showHeaderEndItem":{async handler(e,t){const{aIds:s}=e;const n=Array.isArray(s)?s:[s];o.visitItems(n,e=>{o.applyItemVisibility(e,true)})}},"sap.ushell.services.Renderer.hideHeaderEndItem":{async handler(e,t){const{aIds:s}=e;const n=Array.isArray(s)?s:[s];o.visitItems(n,e=>{o.applyItemVisibility(e,false)})}},"sap.ushell.services.Renderer.addUserAction":{async handler(e,t,i){const{controlType:r,oControlProperties:a,bIsVisible:c}=e.oParameters;const l=await n.getServiceAsync("FrameBoundExtension");a.press=async function(){s.sendRequest("sap.ushell.appRuntime.buttonClick",{buttonId:a.id},t.getPostMessageTarget(),t.getPostMessageTargetOrigin(),false)};const d=await l.createUserAction(a,{controlType:r});o.storeItem(a.id,d);o.applyItemVisibility(d,c)},options:{provideApplicationContext:true}},"sap.ushell.services.Renderer.showActionButton":{async handler(e,t){const{aIds:s}=e;const n=Array.isArray(s)?s:[s];o.visitItems(n,e=>{o.applyItemVisibility(e,true)})}},"sap.ushell.services.Renderer.hideActionButton":{async handler(e,t){const{aIds:s}=e;const n=Array.isArray(s)?s:[s];o.visitItems(n,e=>{o.applyItemVisibility(e,false)})}},"sap.ushell.services.Renderer.addOptionsActionSheetButton":{async handler(e,t,i){const c=e;const[l]=await r.requireAsync(["sap/m/Button"]);const d=await n.getServiceAsync("FrameBoundExtension");const p=Array.isArray(c)?c:[c];p.forEach(async e=>{a(e.id);new l({id:e.id,text:e.text,icon:e.icon,tooltip:e.tooltip,press:async function(){s.sendRequest("sap.ushell.appRuntime.buttonClick",{buttonId:e.id},t.getPostMessageTarget(),t.getPostMessageTargetOrigin(),false)}});const n=await d.createUserAction({id:e.id});o.storeItem(e.id,n);o.applyItemVisibility(n,true)})},options:{provideApplicationContext:true}},"sap.ushell.services.Renderer.removeOptionsActionSheetButton":{async handler(t,s){const n=t;const i=Array.isArray(n)?n:[n];i.forEach(t=>{const s=o.getItem(t.id);if(!s){e.warning(`User action with id ${t.id} not found`);return}o.applyItemVisibility(s,false);return a(t.id)})}},"sap.ushell.services.Renderer.destroyButton":{async handler(e,t){const{aIds:s}=e;const n=Array.isArray(s)?s:[s];n.forEach(e=>{a(e)})}},"sap.ushell.services.Renderer.createShellHeadItem":{async handler(e,t,n){const{params:i}=e;i.press=async function(){s.sendRequest("sap.ushell.appRuntime.buttonClick",{buttonId:i.id},t.getPostMessageTarget(),t.getPostMessageTargetOrigin(),false)};const[o]=await r.requireAsync(["sap/ushell/ui/shell/ShellHeadItem"]);new o(i)},options:{provideApplicationContext:true}},"sap.ushell.services.Renderer.setHeaderVisibility":{async handler(e,t){const{bVisible:s,bCurrentState:i,aStates:r}=e;const o=n.getRendererInternal("fiori2");o.setHeaderVisibility(s,!!i,r)}},"sap.ushell.services.Extension.createHeaderItem":{async handler(e,t,i){const{controlProperties:r,events:a,parameters:c}=e;const l=o.generateItemId();a.forEach(e=>{r[e]=async function(){s.sendRequest("sap.ushell.services.Extension.handleControlEvent",{eventName:e,itemId:l},t.getPostMessageTarget(),t.getPostMessageTargetOrigin(),false)}});const d=await n.getServiceAsync("Extension");const p=await d.createHeaderItem(r,c);o.storeItem(l,p);return{itemId:l}},options:{provideApplicationContext:true}},"sap.ushell.services.Extension.createUserAction":{async handler(e,t,i){const{controlProperties:r,events:a,parameters:c}=e;const l=o.generateItemId();a.forEach(e=>{r[e]=async function(){s.sendRequest("sap.ushell.services.Extension.handleControlEvent",{eventName:e,itemId:l},t.getPostMessageTarget(),t.getPostMessageTargetOrigin(),false)}});const d=await n.getServiceAsync("Extension");const p=await d.createUserAction(r,c);o.storeItem(l,p);return{itemId:l}},options:{provideApplicationContext:true}},"sap.ushell.services.Extension.Item.destroy":{async handler(t,s){const{itemId:n}=t;const i=o.getItem(n);if(!i){e.error(`Extension item with id ${n} not found - cannot destroy it.`);return}o.removeItem(n);i.destroy()}},"sap.ushell.services.Extension.Item.showForCurrentApp":{async handler(t,s){const{itemId:n}=t;const i=o.getItem(n);if(!i){e.error(`Extension item with id ${n} not found - cannot update its visibility.`);return}i.showForCurrentApp()}},"sap.ushell.services.Extension.Item.hideForCurrentApp":{async handler(t,s){const{itemId:n}=t;const i=o.getItem(n);if(!i){e.error(`Extension item with id ${n} not found - cannot update its visibility.`);return}i.hideForCurrentApp()}},"sap.ushell.services.Extension.Item.showForAllApps":{async handler(t,s){const{itemId:n}=t;const i=o.getItem(n);if(!i){e.error(`Extension item with id ${n} not found - cannot update its visibility.`);return}i.showForAllApps()}},"sap.ushell.services.Extension.Item.hideForAllApps":{async handler(t,s){const{itemId:n}=t;const i=o.getItem(n);if(!i){e.error(`Extension item with id ${n} not found - cannot update its visibility.`);return}i.hideForAllApps()}},"sap.ushell.services.Extension.Item.showOnHome":{async handler(t,s){const{itemId:n}=t;const i=o.getItem(n);if(!i){e.error(`Extension item with id ${n} not found - cannot update its visibility.`);return}i.showOnHome()}},"sap.ushell.services.Extension.Item.hideOnHome":{async handler(t,s){const{itemId:n}=t;const i=o.getItem(n);if(!i){e.error(`Extension item with id ${n} not found - cannot update its visibility.`);return}i.hideOnHome()}}};return{register(){o=new i;Object.keys(c).forEach(e=>{const t=c[e];s.setDistributionPolicy(e,t)});Object.keys(l).forEach(e=>{const t=l[e];s.setRequestHandler(e,t.handler,t.options)})},getExtensionItems(){return o}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessageHandler/ExtensionItems", ["sap/base/Log","sap/base/util/uid"],(e,t)=>{"use strict";class s{#e={};generateItemId(){const e=t();if(Object.hasOwn(this.#e,e)){return this.generateItemId()}this.#e[e]=null;return e}storeItem(e,t){this.#e[e]=t}getItem(e){return this.#e[e]}removeItem(e){delete this.#e[e]}visitItems(t,s){t.forEach(t=>{const i=this.getItem(t);if(i){s(i)}else{e.warning(`Item with id ${t} not found`)}})}applyItemVisibility(e,t){if(t){e.showForCurrentApp()}else{e.hideForCurrentApp()}}}return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessageHandler/LifecycleHandler", ["sap/ui/thirdparty/hasher","sap/ushell/appIntegration/PostMessageManager","sap/ushell/EventHub","sap/ushell/library","sap/ushell/utils"],(e,s,t,a,p)=>{"use strict";const i=a.appIntegration.contracts.StatefulType;const r={"sap.ushell.services.appLifeCycle.create":{preventBroadcast:true},"sap.ushell.services.appLifeCycle.destroy":{preventBroadcast:true},"sap.ushell.services.appLifeCycle.store":{preventBroadcast:true},"sap.ushell.services.appLifeCycle.restore":{preventBroadcast:true},"sap.ushell.appRuntime.keepAliveAppHide":{preventBroadcast:true,ignoreCapabilities:true},"sap.ushell.appRuntime.keepAliveAppShow":{preventBroadcast:true,ignoreCapabilities:true},"sap.ushell.sessionHandler.beforeApplicationHide":{preventBroadcast:true,ignoreCapabilities:true},"sap.ushell.sessionHandler.afterApplicationShow":{preventBroadcast:true,ignoreCapabilities:true}};const l={"sap.gui.loadFinished":{async handler(e,s,t){s.setStatefulType(i.ContractV1);s.addCapabilities(["sap.its.startService","sap.gui.triggerCloseSession"])},options:{provideApplicationContext:true,allowInactive:true}},"sap.ushell.services.AppLifeCycle.setup":{async handler(e,s,t){const a=e;const r=[];if(a){if(a.isStateful){s.setStatefulType(i.ContractV2);r.push("sap.ushell.services.appLifeCycle.create");r.push("sap.ushell.services.appLifeCycle.destroy");const e=!p.isSAPLegacyApplicationType(s.getApplicationType(),s.getFrameworkId());if(e){r.push("sap.ushell.services.appLifeCycle.store");r.push("sap.ushell.services.appLifeCycle.restore")}}if(a.isIframeValid){s.setIframeIsValidSupport(true)}if(a.session?.bLogoutSupport){r.push("sap.ushell.sessionHandler.logout")}s.addCapabilities(r)}},options:{provideApplicationContext:true,allowInactive:true}},"sap.ushell.services.CrossApplicationNavigation.registerBeforeAppCloseEvent":{async handler(e,s,t){const a=e;s.addCapabilities(["sap.ushell.services.CrossApplicationNavigation.beforeAppCloseEvent"]);s.setBeforeAppCloseEvent({enabled:true,params:a})},options:{provideApplicationContext:true,allowInactive:true}},"sap.ushell.services.AppLifeCycle.reloadCurrentApp":{async handler(s,a){t.emit("reloadCurrentApp",{sCurrentHash:e.getHash(),date:Date.now()})}},"sap.ushell.services.AppLifeCycle.destroy":{async handler(e,s,t){const[a]=await p.requireAsync(["sap/ushell/appIntegration/AppLifeCycle"]);const i=s.getCurrentAppId();await a.destroyApplication(i,s)},options:{provideApplicationContext:true,allowInactive:true}}};return{register(){Object.keys(r).forEach(e=>{const t=r[e];s.setDistributionPolicy(e,t)});Object.keys(l).forEach(e=>{const t=l[e];s.setRequestHandler(e,t.handler,t.options)})}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessageHandler/MessageBrokerHandler", ["sap/base/Log","sap/ushell/appIntegration/PostMessageManager","sap/ushell/Config","sap/ushell/Container"],(e,s,a,n)=>{"use strict";const{DoNotReply:t}=s.BuiltInResponses;const r={};const i={"sap.ushell.services.MessageBroker":{async handler(e,a){if(a.source===window){throw new Error(`MessageBrokerHandler: Message received from FLP window by client '${e.clientId}' instead of an iframe. This scenario is not supported!`)}const r=await n.getServiceAsync("MessageBroker");const i=s.getRequestId(a);if(!e.channelId){throw new Error(`MessageBroker: No channelId provided in message body by client '${e.clientId}'`)}if(e.channelId==="sap.ushell.MessageBroker"){let n=true;switch(e.messageName){case"connect":await r.connect(e.clientId,(n,t,r)=>s.sendRequest("sap.ushell.services.MessageBroker",{targetClientId:e.clientId,channelId:e.channelId,messageName:n,clientId:t,channels:r},a.source,a.origin,false));break;case"disconnect":await r.disconnect(e.clientId);break;case"subscribe":await r.subscribe(e.clientId,e.subscribedChannels,(n,t,r,i)=>s.sendRequest("sap.ushell.services.MessageBroker",{targetClientId:e.clientId,channelId:t,messageName:r,clientId:n,data:i},a.source,a.origin,false));break;case"unsubscribe":await r.unsubscribe(e.clientId,e.subscribedChannels);break;default:n=false}if(n){await s.sendResponse(i,"sap.ushell.services.MessageBroker",{channelId:e.channelId,messageName:e.messageName,clientId:e.clientId,correlationMessageId:i,status:"accepted"},true,a.source,a.origin);return t}}await r.publish(e.channelId,e.clientId,e.messageName,e.targetClientIds,e.data);return t},options:{async isValidRequest(e){const s=await n.getServiceAsync("MessageBroker");const a=s.getAcceptedOrigins().some(s=>s===e.origin);return a}}}};return{register(){if(!a.last("/core/shell/enableMessageBroker")){return}Object.keys(r).forEach(e=>{const a=r[e];s.setDistributionPolicy(e,a)});Object.keys(i).forEach(e=>{const a=i[e];s.setRequestHandler(e,a.handler,a.options)})}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessageHandler/NWBCHandler", ["sap/base/Log","sap/base/util/deepClone","sap/base/util/uid","sap/ushell/appIntegration/PostMessageManager","sap/ushell/Container","sap/ushell/utils"],(e,t,a,s,r,o)=>{"use strict";const i=[(e,s)=>{if(s.action==="pro54_setGlobalDirty"){const r=t(s);r.service="sap.ushell.appIntegration.PostMessageManager.NWBCHandler.pro54_setGlobalDirty";delete r.action;r.body=r.parameters;delete r.parameters;if(!r.request_id){r.request_id=a()}if(!r.type){r.type="request"}const o=new MessageEvent("message",{data:JSON.stringify(r),origin:e.origin,source:e.source});return{event:o,message:r}}}];const l={};const n={"sap.ushell.appIntegration.PostMessageManager.NWBCHandler.pro54_setGlobalDirty":{async handler(t,a,s){const i=a.getGlobalDirtyStorageKey();if(localStorage.getItem(i)===r.DirtyState.PENDING){e.debug(`getGlobalDirty() pro54_setGlobalDirty SetItem key:${i} value: ${t.globalDirty}`,null,"sap.ushell.appIntegration.ApplicationContainer");o.localStorageSetItem(i,t.globalDirty,true)}},options:{provideApplicationContext:true}}};return{register(){i.forEach(e=>{s.addEventPreprocessor(e)});Object.keys(l).forEach(e=>{const t=l[e];s.setDistributionPolicy(e,t)});Object.keys(n).forEach(e=>{const t=n[e];s.setRequestHandler(e,t.handler,t.options)})}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessageHandler/NavigationHandler", ["sap/base/util/deepExtend","sap/ui/thirdparty/hasher","sap/ui/thirdparty/URI","sap/ushell/appIntegration/PostMessageManager","sap/ushell/Container","sap/ushell/services/Navigation/compatibility","sap/ushell/utils","sap/ushell/utils/UrlParsing"],(e,t,s,a,n,i,r,o)=>{"use strict";const c={};const l={"sap.ushell.services.Navigation.getHref":{async handler(e,t){const{oTarget:s}=e;const a=await n.getServiceAsync("Navigation");return a.getHref(s)}},"sap.ushell.services.Navigation.backToPreviousApp":{async handler(e,t){const s=await n.getServiceAsync("Navigation");await s.backToPreviousApp()}},"sap.ushell.services.Navigation.historyBack":{async handler(e,t){const{iSteps:s}=e;const a=await n.getServiceAsync("Navigation");a.historyBack(s)}},"sap.ushell.services.Navigation.isInitialNavigation":{async handler(e,t){const s=await n.getServiceAsync("Navigation");return s.isInitialNavigation()}},"sap.ushell.services.Navigation.navigate":{async handler(t,s){const{oTarget:a}=t;const i=await n.getServiceAsync("Navigation");const o=e({},a);r.storeSapSystemToLocalStorage(o);await i.navigate(o)}},"sap.ushell.services.Navigation.getPrimaryIntent":{async handler(e,t){const{sSemanticObject:s,oLinkFilter:a}=e;const i=await n.getServiceAsync("Navigation");return i.getPrimaryIntent(s,a)}},"sap.ushell.services.Navigation.getLinks":{async handler(e,t){const s=e;const a=await n.getServiceAsync("Navigation");return a.getLinks(s)}},"sap.ushell.services.Navigation.getSemanticObjects":{async handler(e,t){const s=await n.getServiceAsync("Navigation");return s.getSemanticObjects()}},"sap.ushell.services.Navigation.isNavigationSupported":{async handler(e,t){const{aTargets:s}=e;const a=await n.getServiceAsync("Navigation");return a.isNavigationSupported(s)}},"sap.ushell.services.Navigation.resolveIntent":{async handler(e,t){const{sHashFragment:s}=e;const a=await n.getServiceAsync("Navigation");return a.resolveIntent(s)}},"sap.ushell.services.Navigation.isUrlSupported":{async handler(e,t){const{sUrl:s}=e;const a=await n.getServiceAsync("Navigation");await a.isUrlSupported(s)}},"sap.ushell.services.CrossApplicationNavigation.hrefForExternal":{async handler(e,t){const{oArgs:s}=e;const a=await n.getServiceAsync("Navigation");return a.getHref(s)}},"sap.ushell.services.CrossApplicationNavigation.getSemanticObjectLinks":{async handler(e,t){const{sSemanticObject:s,mParameters:a,bIgnoreFormFactors:n,sAppStateKey:r,bCompactIntents:o}=e;return i.getSemanticObjectLinks(s,a,n,undefined,r,o)}},"sap.ushell.services.CrossApplicationNavigation.isIntentSupported":{async handler(e,t){const{aIntents:s}=e;return i.isIntentSupported(s)}},"sap.ushell.services.CrossApplicationNavigation.isNavigationSupported":{async handler(e,t){const{aIntents:s}=e;const a=await n.getServiceAsync("Navigation");return a.isNavigationSupported(s)}},"sap.ushell.services.CrossApplicationNavigation.backToPreviousApp":{async handler(e,t){const s=await n.getServiceAsync("Navigation");return s.backToPreviousApp()}},"sap.ushell.services.CrossApplicationNavigation.historyBack":{async handler(e,t){const{iSteps:s}=e;const a=await n.getServiceAsync("Navigation");return a.historyBack(s)}},"sap.ushell.services.CrossApplicationNavigation.toExternal":{async handler(t,s){const{oArgs:a}=t;const i=await n.getServiceAsync("Navigation");const o=e({},a);r.storeSapSystemToLocalStorage(o);await i.navigate(o)}},"sap.ushell.services.CrossApplicationNavigation.expandCompactHash":{async handler(e,t){const{sHashFragment:s}=e;const a=await n.getServiceAsync("NavTargetResolutionInternal");const i=a.expandCompactHash(s);return r.promisify(i)}},"sap.ushell.services.CrossApplicationNavigation.getDistinctSemanticObjects":{async handler(e,t){const s=await n.getServiceAsync("Navigation");return s.getSemanticObjects()}},"sap.ushell.services.CrossApplicationNavigation.getLinks":{async handler(e,t){const s=e;return i.getLinks(s)}},"sap.ushell.services.CrossApplicationNavigation.getPrimaryIntent":{async handler(e,t){const{sSemanticObject:s,mParameters:a}=e;const i=await n.getServiceAsync("Navigation");return i.getPrimaryIntent(s,a)}},"sap.ushell.services.CrossApplicationNavigation.hrefForAppSpecificHash":{async handler(e,t){const{sAppHash:s}=e;const a=await n.getServiceAsync("Navigation");return a.getHref({appSpecificRoute:s})}},"sap.ushell.services.CrossApplicationNavigation.isInitialNavigation":{async handler(e,t){const s=await n.getServiceAsync("Navigation");return s.isInitialNavigation()}},"sap.ushell.services.CrossApplicationNavigation.setInnerAppRoute":{async handler(e,s){const{appSpecificRoute:a,writeHistory:n}=e;const i=o.parseShellHash(t.getHash());if(i.appSpecificRoute===a){return}i.appSpecificRoute=a;const r=`#${o.constructShellHash(i)}`;t.disableBlueBoxHashChangeTrigger=true;if(n===true||n==="true"){t.setHash(r)}else{t.replaceHash(r)}t.disableBlueBoxHashChangeTrigger=false}},"sap.ushell.services.CrossApplicationNavigation.resolveIntent":{async handler(e,t){const{sHashFragment:s}=e;const a=await n.getServiceAsync("Navigation");return a.resolveIntent(s)}},"sap.ushell.services.ShellNavigation.toExternal":{async handler(e,t){const{oArgs:s,bWriteHistory:a}=e;const i=await n.getServiceAsync("ShellNavigationInternal");i.toExternal(s,undefined,a)}},"sap.ushell.services.ShellNavigation.toAppHash":{async handler(e,t){const{sAppHash:s,bWriteHistory:a}=e;const i=await n.getServiceAsync("ShellNavigationInternal");i.toAppHash(s,a)}},"sap.ushell.services.ShellNavigationInternal.toExternal":{async handler(e,t){const{oArgs:s,bWriteHistory:a}=e;const i=await n.getServiceAsync("ShellNavigationInternal");i.toExternal(s,undefined,a)}},"sap.ushell.services.ShellNavigationInternal.toAppHash":{async handler(e,t){const{sAppHash:s,bWriteHistory:a}=e;const i=await n.getServiceAsync("ShellNavigationInternal");i.toAppHash(s,a)}},"sap.ushell.services.NavTargetResolution.getDistinctSemanticObjects":{async handler(e,t){const s=await n.getServiceAsync("NavTargetResolutionInternal");const a=s.getDistinctSemanticObjects();return r.promisify(a)}},"sap.ushell.services.NavTargetResolution.expandCompactHash":{async handler(e,t){const{sHashFragment:s}=e;const a=await n.getServiceAsync("NavTargetResolutionInternal");const i=a.expandCompactHash(s);return r.promisify(i)}},"sap.ushell.services.NavTargetResolution.resolveHashFragment":{async handler(e,t){const{sHashFragment:s}=e;const a=await n.getServiceAsync("NavTargetResolutionInternal");const i=a.resolveHashFragment(s);return r.promisify(i)}},"sap.ushell.services.NavTargetResolution.isIntentSupported":{async handler(e,t){const{aIntents:s}=e;const a=await n.getServiceAsync("NavTargetResolutionInternal");const i=a.isNavigationSupported(s);const o=await r.promisify(i);return o.reduce((e,t,a)=>{const n=s[a];e[n]=t;return e},{})}},"sap.ushell.services.NavTargetResolution.isNavigationSupported":{async handler(e,t){const{aIntents:s}=e;const a=await n.getServiceAsync("NavTargetResolutionInternal");const i=a.isNavigationSupported(s);return r.promisify(i)}},"sap.ushell.services.NavTargetResolutionInternal.getDistinctSemanticObjects":{async handler(e,t){const s=await n.getServiceAsync("NavTargetResolutionInternal");const a=s.getDistinctSemanticObjects();return r.promisify(a)}},"sap.ushell.services.NavTargetResolutionInternal.expandCompactHash":{async handler(e,t){const{sHashFragment:s}=e;const a=await n.getServiceAsync("NavTargetResolutionInternal");const i=a.expandCompactHash(s);return r.promisify(i)}},"sap.ushell.services.NavTargetResolutionInternal.resolveHashFragment":{async handler(e,t){const{sHashFragment:s}=e;const a=await n.getServiceAsync("NavTargetResolutionInternal");const i=a.resolveHashFragment(s);return r.promisify(i)}},"sap.ushell.services.NavTargetResolutionInternal.isIntentSupported":{async handler(e,t){const{aIntents:s}=e;const a=await n.getServiceAsync("NavTargetResolutionInternal");const i=a.isNavigationSupported(s);const o=await r.promisify(i);return o.reduce((e,t,a)=>{const n=s[a];e[n]=t;return e},{})}},"sap.ushell.services.NavTargetResolutionInternal.isNavigationSupported":{async handler(e,t){const{aIntents:s}=e;const a=await n.getServiceAsync("NavTargetResolutionInternal");const i=a.isNavigationSupported(s);return r.promisify(i)}},"sap.ushell.services.UserDefaultParameters.getValue":{async handler(e,t){const{sParameterName:s}=e;const[a,i]=await Promise.all([n.getServiceAsync("AppLifeCycle"),n.getServiceAsync("UserDefaultParameters")]);const r=await a.getCurrentApplication().getSystemContext();return i.getValue(s,r)}},"sap.ushell.services.ReferenceResolver.resolveReferences":{async handler(e,t){const{aReferences:s}=e;const a=await n.getServiceAsync("ReferenceResolver");return a.resolveReferences(s)}},"sap.ushell.services.AppLifeCycle.getFullyQualifiedXhrUrl":{async handler(e,t){const{path:a}=e;if(!a){return}const i=await n.getServiceAsync("AppLifeCycle");const r=await i.getCurrentApplication().getSystemContext();const o=r.getFullyQualifiedXhrUrl(a);let c="";let l="";let p="";const g=n.getFLPUrl(true);const v=new s(g);if(v.protocol()){l=`${v.protocol()}://`}if(v.hostname()){c=v.hostname()}if(v.port()){p=`:${v.port()}`}const u=l+c+p+o;return u}},"sap.ushell.services.AppLifeCycle.getSystemAlias":{async handler(e,t,s){const a=t.getCurrentAppTargetResolution();const n=a.systemAlias;const i=a.contentProviderId;const[o]=await r.requireAsync(["sap/ushell/ApplicationType/systemAlias"]);return o.getSystemAliasInProvider(n,i)},options:{provideApplicationContext:true}}};return{register(){Object.keys(c).forEach(e=>{const t=c[e];a.setDistributionPolicy(e,t)});Object.keys(l).forEach(e=>{const t=l[e];a.setRequestHandler(e,t.handler,t.options)})}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessageHandler/SessionHandler", ["sap/ushell/appIntegration/PostMessageManager","sap/ushell/Container","sap/ushell/utils"],(e,t,s)=>{"use strict";const n={"sap.ushell.sessionHandler.extendSessionEvent":{ignoreCapabilities:true},"sap.ushell.sessionHandler.logout":{isValidRequestTarget(e){if(",WCF,TR,WDA,".includes(e.getApplicationType())){return false}return true}}};const a={"sap.ushell.sessionHandler.notifyUserActive":{async handler(e,s){const n=t.getRenderer().getShellController();const a=n._getSessionHandler();if(a?.isInitialized?.()){a.userActivityHandler()}}},"sap.ushell.sessionHandler.extendSessionEvent":{async handler(e,s){const n=t.getRenderer().getShellController();const a=n._getSessionHandler();if(a?.isInitialized?.()){a.userActivityHandler()}}},"sap.ushell.services.Container.attachLogoutEvent":{async handler(e,s,n){s.addCapabilities(["sap.ushell.appRuntime.executeLogoutFunctions"]);t.attachLogoutEvent(async()=>s.sendRequest("sap.ushell.appRuntime.executeLogoutFunctions",{},true),true)},options:{provideApplicationContext:true}},"sap.ushell.appRuntime.iframeIsValid":{async handler(e,t,s){t.setLastIframeIsValidTime(Date.now())},options:{provideApplicationContext:true,allowInactive:true}},"sap.ushell.appRuntime.iframeIsBusy":{async handler(e,t){}},"sap.ushell.appRuntime.isInvalidIframe":{async handler(e,n,a){if(!e.bValue){return}const[i]=await s.requireAsync(["sap/ushell/appIntegration/AppLifeCycle"]);const l=i.getCurrentApplication().container===n;await i.destroyApplication(null,n,true);if(l){const e=await t.getServiceAsync("Navigation");await e.navigate({target:{shellHash:"#"}})}},options:{provideApplicationContext:true,allowInactive:true}}};return{register(){Object.keys(n).forEach(t=>{const s=n[t];e.setDistributionPolicy(t,s)});Object.keys(a).forEach(t=>{const s=a[t];e.setRequestHandler(t,s.handler,s.options)})}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessageManager", ["sap/base/Log","sap/base/util/Deferred","sap/base/util/isPlainObject","sap/base/util/ObjectPath","sap/base/util/uid"],(e,s,t,i,r)=>{"use strict";const n={provideApplicationContext:false,allowInactive:false};const a={preventBroadcast:false,onlyCurrentApplication:false,ignoreCapabilities:false};const o=Symbol("DoNotReply");const l=e.getLogger("sap.ushell.appIntegration.PostMessageManager");class c{#e=()=>{throw new Error("PostMessageManager is not initialized")};#s=()=>{throw new Error("PostMessageManager is not initialized")};#t=()=>{throw new Error("PostMessageManager is not initialized")};#i=false;#r=false;#n=[];#a=[];#o={};#l={};#c=true;#d=[];BuiltInResponses={DoNotReply:o};init(e={}){if(this.#i){throw new Error("PostMessageManager is already initialized.")}const s=i.get("sap-ushell-config.services.PostMessage.config")||{};if(s.enabled===false){this.#r=true;this.#i=true;l.warning("PostMessageAPI is disabled by configuration.");return}const t=e.getCurrentApplication||function(){};this.#s=t;const r=e.getAllApplications||function(){return[]};this.#t=r;if(e.skipReplay){this.#c=false}this.#e=this.#u.bind(this);addEventListener("message",this.#e);this.#i=true}async#u(e){let s;try{s=this.#p(e)}catch{l.debug("Received Post Message with invalid JSON. Ignoring the message.",e.data);return}const t=this.#g(e,s);e=t.event;s=t.message;if(!s.service){l.debug("Received Post Message without a service name. Ignoring the message.");return}if(!["response","request"].includes(s.type)){l.warning(`Received Post Message with an invalid type: '${s.type}'. Ignoring the message.`);return}const i=e.source;const r=e.origin;l.debug(`Received postMessage ${s.service} (${s.request_id}) from iframe with domain '${r}'`,JSON.stringify(s,null,2));if(!s.request_id){l.debug("Received Post Message without a request_id. Message might be not handled correctly.")}if(s.type==="response"){const t=this.#h(e,s);if(t){l.debug(`Response for ${s.service} (${s.request_id}) was handled by a response handler.`)}return}s.body=s.body||{};let n;let a=true;try{const t=await this.#f(s,i,r,e);l.debug(`Service request for ${s.service} (${s.request_id}) was handled successfully.`);if(t===o){l.debug(`Service request for ${s.service} (${s.request_id}) was handled successfully, but no response is needed.`);return}n={result:t}}catch(e){a=false;l.error(`Service request for ${s.service} (${s.request_id}) failed.`,e);let t;let i=e.toString();if(e instanceof Error){i=e.message;t=e.stack}n={message:i,stack:t}}const c=s.originalMessage?.service||s.service;return this.sendResponse(s.request_id,c,n,a,i,r)}#p(e){let s;if(typeof e.data==="string"){s=JSON.parse(e.data)}else if(t(e.data)){s=e.data}else{throw new Error("Invalid message format")}return s}getRequestId(e){try{const s=this.#p(e);return s.request_id}catch{}}#g(e,s){let t;this.#n.forEach(i=>{if(t){return}t=i(e,s)});return{event:t?.event||e,message:t?.message||s}}#h(e,s){let t=false;this.#a.forEach(i=>{if(t){return}t=i(e,s)});return t}async#f(e,s,t,i){const r=e.service;const n=this.#b(r);if(!n){if(this.#c){this.#d.push(i);return o}await this.sendResponse(e.request_id,r,{code:-1,message:`Unknown service name: '${r}'`},false,s,t);return o}const a=this.#v(r);if(typeof a?.isValidRequest==="function"){const e=await a.isValidRequest(i);if(!e){throw new Error(`Invalid request for service ${r}.`)}}if(a.provideApplicationContext){const t=this.#w(s);if(!t){throw new Error("Cannot find the related application for the service request.")}if(!t.getActive()&&!a?.allowInactive){throw new Error("Received Post Message from an inactive application.")}if(!t.isTrustedPostMessageSource(i)){throw new Error("Received Post Message from an untrusted source.")}l.debug(`Handling service request for ${r} (${e.request_id}) with application context ${t.getId()}.`);return n(e.body,t,i)}l.debug(`Handling service request for ${r} (${e.request_id}) without application context.`);return n(e.body,i)}#b(e){return this.#o[e]?.handler}#v(e){return this.#o[e]?.options}#w(e){let s;this.#t().forEach(t=>{if(s||!t.isA("sap.ushell.appIntegration.IframeApplicationContainer")){return}const i=t.getPostMessageTarget();if(i===e){s=t}});if(s){return s}l.error("Cannot find the related application for the service request; using the current application as fallback. This fallback will be removed in future");const t=this.#s();if(t&&t.isA("sap.ushell.appIntegration.IframeApplicationContainer")){return t}}addEventPreprocessor(e){this.#n.push(e)}setRequestHandler(e,s,t={}){if(this.#o[e]){l.error(`Request handler for service ${e} is already defined. Overwriting the existing handler.`)}this.#o[e]={handler:s,options:{...n,...t}}}async sendRequest(e,s,t,i,n){if(this.#r){throw new Error("PostMessageAPI is disabled by configuration.")}if(!this.#i){throw new Error("PostMessageManager is not initialized.")}const a=r();const o={type:"request",request_id:a,service:e,body:s||{}};return this.#M(o,t,i,n)}async sendResponse(e,s,t,i,r,n){if(this.#r){throw new Error("PostMessageAPI is disabled by configuration.")}if(!this.#i){throw new Error("PostMessageManager is not initialized.")}const a={type:"response",request_id:e,service:s,status:i?"success":"error",body:t||{}};return this.#M(a,r,n,false)}async#M(e,s,t,i){if(!s){throw new Error("No content window provided.")}const r=e.request_id;let n=Promise.resolve();if(i){l.debug(`Waiting for response on ${e.service} (${e.request_id}) from iframe with domain '${t}'`);n=this.#P(r,s)}const a=JSON.stringify(e);l.debug(`Sending post message on ${e.service} (${e.request_id}) to iframe with domain '${t}'`,JSON.stringify(e,null,2));s.postMessage(a,t);return n}#P(e,t){const i=new s;const r=this.#y.bind(this,i,e,t);this.#a.push(r);return i.promise}#y(e,s,t,i,r){if(t!==i.source){return false}if(r?.request_id!==s){return false}l.debug(`Received response for ${r.service} (${r.request_id}) from iframe with domain '${i.origin}'`);if(r.status==="success"){e.resolve(r.body)}else{let s;if(r.body?.message){s=new Error(r.body.message)}else{s=new Error("Unknown error")}if(r.body?.stack){s.stack=r.body.stack}e.reject(s)}return true}async sendRequestToApplication(e,s,t,i){if(this.#r){throw new Error("PostMessageAPI is disabled by configuration.")}if(!this.#i){throw new Error("PostMessageManager is not initialized.")}const r=this.#q(e);if(r.onlyCurrentApplication){const e=this.#s();if(t!==e){throw new Error("Application is not the current application.")}}const n=r.ignoreCapabilities||t.supportsCapabilities([e]);if(!n){throw new Error(`Application does not support the service request: ${e}`)}if(typeof r?.isValidRequestTarget==="function"){const e=r.isValidRequestTarget(t);if(!e){throw new Error("Application is not a valid request target.")}}return this.sendRequest(e,s,t.getPostMessageTarget(),t.getPostMessageTargetOrigin(),i)}async sendRequestToAllApplications(e,s,t){if(this.#r){throw new Error("PostMessageAPI is disabled by configuration.")}if(!this.#i){throw new Error("PostMessageManager is not initialized.")}const i=this.#q(e);if(i.preventBroadcast){throw new Error(`Cannot send request to all applications for service request: ${e}. The distribution policy prevents broadcasting.`)}const r=[];if(i.onlyCurrentApplication){const e=this.#s();if(!e){return[]}r.push(e)}else{this.#t().forEach(e=>{r.push(e)})}const n=r.filter(s=>{if(!s.isA("sap.ushell.appIntegration.IframeApplicationContainer")){return false}const t=i.ignoreCapabilities||s.supportsCapabilities([e]);if(!t){return false}if(typeof i?.isValidRequestTarget==="function"){const e=i.isValidRequestTarget(s);return e}return true});const a=n.map(i=>this.sendRequest(e,s,i.getPostMessageTarget(),i.getPostMessageTargetOrigin(),t));return Promise.allSettled(a).then(e=>{const s=e.filter(e=>e.status==="rejected").map(e=>e.reason);if(s.length>0){throw new Error(`Some requests failed: ${s.map(e=>e.message).join(", ")}`)}return e.map(e=>e.value)})}#q(e){return this.#l[e]||a}setDistributionPolicy(e,s){if(this.#l[e]){l.error(`Distribution policy for service ${e} is already defined. Overwriting the existing policy.`)}this.#l[e]={...a,...s}}replayStoredMessages(){this.#c=false;this.#d.forEach(e=>{this.#u(e)});this.#d=[]}reset(){removeEventListener("message",this.#e);this.#e=()=>{throw new Error("PostMessageManager is not initialized")};this.#s=()=>{throw new Error("PostMessageManager is not initialized")};this.#t=()=>{throw new Error("PostMessageManager is not initialized")};this.#i=false;this.#r=false;this.#n=[];this.#o={};this.#a=[];this.#l={};this.#c=true;this.#d=[]}}return new c});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessagePluginInterface", ["sap/base/util/deepEqual","sap/ui/thirdparty/jquery","sap/ui/base/Object","sap/ushell/utils"],(e,jQuery,t,s)=>{"use strict";const o="user.postapi.";const r=t.extend("sap.ushell.appIntegration.PostMessagePluginInterface",{metadata:{publicMethods:["registerPostMessageAPIs","createPostMessageResult","postMessageToApp","postMessageToFlp"]}});r.prototype.init=function(e,t,s,o){this._fnSendPostMessage=e;this._fnSetRequestHandler=t;this._fnSetDistributionPolicy=s;this._bRunsInOuterShell=o};r.prototype.getInterface=function(){const e=t.prototype.getInterface.call(this);if(this._bRunsInOuterShell){delete e.postMessageToFlp}else{delete e.postMessageToApp}return e};r.prototype.registerPostMessageAPIs=function(e,t=false){const s={status:"success",desc:""};try{this._validateCommunicationObject(e,t);this._fnAddCommunicationObject(e)}catch(e){s.status="error";s.desc=e.message}return s};r.prototype._validateCommunicationObject=function(t,s){if(t===undefined||Object.keys(t).length<=0){throw new Error("No handler was found to register")}for(const[r,n]of Object.entries(t)){if(typeof r!=="string"){throw new Error("oPostMessageAPIs should contain only string keys")}if(!s&&!r.startsWith(o)){throw new Error(`all user custom Message APIs must start with '${o}'`)}for(const[t,s]of Object.entries(n)){if(!["inCalls","outCalls"].includes(t)){throw new Error("api should contain either 'inCalls' or 'outCalls'")}for(const[o,n]of Object.entries(s)){if(t==="inCalls"){if(typeof n.executeServiceCallFn!=="function"){throw new Error(`executeServiceCallFn for '${r}.${o}' must be a function`)}}else if(t==="outCalls"){if(Object.hasOwn(n,"distributionType")){if(!Array.isArray(n.distributionType)){throw new Error(`distributionType for '${r}.${o}' must be an array. Remove it from the definition to apply the default.`)}if(!e(n.distributionType,["all"])){throw new Error(`distributionType for '${r}.${o}' must be 'all'. Remove it from the definition to apply the default.`)}}}}}}};r.prototype._fnAddCommunicationObject=function(e){for(const[t,o]of Object.entries(e)){for(const[e,r]of Object.entries(o)){for(const[o,n]of Object.entries(r)){if(e==="inCalls"){this._fnSetRequestHandler(`${t}.${o}`,async(e,t)=>{const o={oMessageData:JSON.parse(t.data),oMessage:t};return s.promisify(n.executeServiceCallFn(o))})}else if(e==="outCalls"){const e={ignoreCapabilities:true,onlyCurrentApplication:true};if(Object.hasOwn(n,"isActiveOnly")){e.onlyCurrentApplication=!!n.isActiveOnly}this._fnSetDistributionPolicy(`${t}.${o}`,e)}}}}};r.prototype.postMessageToApp=function(e,t,s){const o=new jQuery.Deferred;this._fnSendPostMessage(`${e}.${t}`,s).then(e=>{o.resolve(e)}).catch(e=>{o.reject(e)});return o.promise()};r.prototype.postMessageToFlp=function(e,t,s){const o=new jQuery.Deferred;this._fnSendPostMessage(`${e}.${t}`,s).then(e=>{o.resolve(e)}).catch(e=>{o.reject(e)});return o.promise()};r.prototype.createPostMessageResult=function(e={}){return(new jQuery.Deferred).resolve(e).promise()};return new r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/UI5ApplicationContainer", ["sap/base/Log","sap/ui/core/ComponentContainer","sap/ui/core/EventBus","sap/ushell/appIntegration/ApplicationContainer","sap/ushell/appIntegration/UI5ApplicationContainerRenderer","sap/ushell/Container","sap/ushell/library","sap/ushell/utils"],(t,e,n,o,i,s,p,a)=>{"use strict";const r=o.extend("sap.ushell.appIntegration.UI5ApplicationContainer",{metadata:{library:"sap.ushell",properties:{componentHandle:{type:"object"},ui5ComponentId:{type:"string"},ui5ComponentName:{type:"string"}},aggregations:{child:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}}},renderer:i});r.prototype.init=function(){o.prototype.init.apply(this,arguments)};r.prototype.onBeforeRendering=function(){if(!this.getReadyForRendering()){return}this._createComponentContainer()};r.prototype._createComponentContainer=function(){if(this.getAggregation("child")){return}n.getInstance().publish("sap.ushell.components.container.ApplicationContainer","_prior.newUI5ComponentInstantion",{name:this.getUi5ComponentName()});const t=this.getComponentHandle().getInstance();const o=new e({id:this.getUi5ComponentId().replace("-component","-content"),component:t});o.setHeight(this.getHeight());o.setWidth(this.getWidth());o.addStyleClass("sapUShellApplicationContainer");this._fnDisableRouterEventHandler=this._disableRouter.bind(this);n.getInstance().subscribe("sap.ushell.components.container.ApplicationContainer","_prior.newUI5ComponentInstantion",this._fnDisableRouterEventHandler);this.setAggregation("child",o);return this._publishAppComponentLoaded(t)};r.prototype.setReadyForRendering=function(t){o.prototype.setReadyForRendering.apply(this,arguments);if(!this.getRenderComplete()){this.rerender()}return this};r.prototype._publishAppComponentLoaded=async function(t){const e=await s.getServiceAsync("PluginManager");await a.promisify(e.getPluginLoadingPromise("RendererExtensions"));await a.awaitTimeout(0);n.getInstance().publish("sap.ushell","appComponentLoaded",{component:t})};r.prototype._disableRouter=function(){const e=this.getComponentHandle().getInstance();if(!e||!e.isA("sap.ui.core.UIComponent")){return}const n=e.getRouter();if(!n){return}t.info(`router stopped for instance ${e.getId()}`);n.stop()};r.prototype._destroyChild=function(){const e=this.getAggregation("child");if(!e){return}const n=e.getComponentInstance().getMetadata().getComponentName();t.debug(`unloading component ${n}`,null,"sap.ushell.appIntegration.ApplicationContainer");this.destroyAggregation("child")};r.prototype.exit=function(){if(this._fnDisableRouterEventHandler){n.getInstance().unsubscribe("sap.ushell.components.container.ApplicationContainer","_prior.newUI5ComponentInstantion",this._fnDisableRouterEventHandler)}this._destroyChild();const t=this.getComponentHandle();if(t){t.destroy()}o.prototype.exit.apply(this,arguments)};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/UI5ApplicationContainerRenderer", ["sap/ui/core/Renderer","sap/ushell/appIntegration/ApplicationContainerRenderer"],(e,t)=>{"use strict";const a=e.extend(t);a.render=function(e,a){if(!a.getReadyForRendering()){t.render(e,a);return}const r=a.getAggregation("child");if(!r){return}e.openStart("div",a);e.accessibilityState(a);e.attr("data-help-id",a.getDataHelpId());e.attr("data-sap-ushell-active",a.getActive());e.attr("data-sap-ushell-initial-app-id",a.getInitialAppId());e.attr("data-sap-ushell-current-app-id",a.getCurrentAppId());e.attr("data-sap-ushell-stateful-type",a.getStatefulType());e.attr("data-sap-ushell-framework-id",a.getFrameworkId());e.class("sapUShellApplicationContainer");e.style("height",a.getHeight());e.style("width",a.getWidth());e.openEnd();e.renderControl(r);e.close("div");a.setRenderComplete(true)};return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/contracts/EmbeddedUI5Handler", ["sap/base/Log","sap/base/util/Deferred","sap/ui/core/EventBus","sap/ushell/Container","sap/ushell/UI5ComponentType","sap/ushell/utils","sap/ushell/utils/UrlParsing"],(e,t,n,o,i,s,a)=>{"use strict";class p{async createApp(e,t,s){const p=t?.ui5ComponentName;n.getInstance().publish("ApplicationContainer","_prior.newUI5ComponentInstantion",{name:p});const c=await o.getServiceAsync("Ui5ComponentLoader");const r=a.getBasicHash(t.sFixedShellHash);t.ui5ComponentId=`application-${r}-component`;e.setUi5ComponentId(t.ui5ComponentId);await c.createComponent(t,s,[],i.Application)}async getNavigationRedirectHash(e){const t=e.getComponentHandle();if(!t){return}const n=t.getInstance({});if(!n){return}if(typeof n.navigationRedirect!=="function"){return}const o=n.navigationRedirect();if(!o||typeof o.then!=="function"){return}try{const e=await s.promisify(o);return e}catch{}}async storeApp(e){const t=e.getCurrentAppTargetResolution();n.getInstance().publish("sap.ushell","appKeepAliveDeactivate",t);const o=e.getComponentHandle();const i=o.getInstance();if(i.isKeepAliveSupported?.()){i.deactivate();return}if(typeof i.suspend==="function"){i.suspend()}const s=i.getRouter?.();if(s&&typeof s.stop==="function"){s.stop()}}async restoreAppAfterNavigate(e,t){const o=e.getCurrentAppTargetResolution();n.getInstance().publish("sap.ushell","appKeepAliveActivate",o);const i=e.getComponentHandle();const s=i.getInstance();if(s.isKeepAliveSupported?.()){s.activate();return}if(typeof s.restore==="function"){s.restore()}const a=s.getRouter?.();if(a&&typeof a.initialize==="function"){const e=!t.useLegacyRestoreFlow;a.initialize(e)}}}return new p});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/contracts/StatefulContainerV1Handler", ["sap/ushell/utils","sap/ushell/Container"],(t,a)=>{"use strict";class e{async createApp(t,a,e){t.setCurrentAppId(a);t.setCurrentAppUrl(e.url);t.setCurrentAppTargetResolution(e);const s=await this.#t(t,e);await t.sendRequest("sap.its.startService",s,true)}async#t(e,s){let r=s.url;r=await t.appendSapShellParam(r);r=t.filterOutParamsFromLegacyAppURL(r);const p={url:r};if(e.getIframeWithPost()){const s=t.getParamKeys(r);const i={};if(s.aAppStateNamesArray.length>0){const t=await a.getServiceAsync("Navigation");try{const a=await t.getAppStateData(s.aAppStateKeysArray);s.aAppStateNamesArray.forEach((t,e)=>{if(a[e]){i[t]=a[e]}})}catch{}}p["sap-flp-params"]={...i,"sap-flp-url":a.getFLPUrl(true),"system-alias":e.getSystemAlias()}}return p}async destroyApp(t){t.setCurrentAppId("");await t.sendRequest("sap.gui.triggerCloseSession",{},false)}}return new e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/contracts/StatefulContainerV2Handler", ["sap/ushell/ApplicationType/UrlPostProcessing","sap/ui/thirdparty/hasher","sap/ushell/utils","sap/ushell/Container"],(e,s,t,r)=>{"use strict";class a{async createApp(e,s,t){e.setReservedParameters(t.reservedParameters);e.setCurrentAppUrl(t.url);e.setCurrentAppId(s);e.setCurrentAppTargetResolution(t);const r=await this.#e(e,s,t);const a=await e.sendRequest("sap.ushell.services.appLifeCycle.create",r,true);return a?.result}async#e(a,p,i){const n=e.processUrl(i.url,i.applicationType,false,a);const l={sCacheId:p,sHash:s.getHash(),sUrl:n};if(n.indexOf("sap-iframe-hint=GUI")>0||n.indexOf("sap-iframe-hint=WDA")>0||n.indexOf("sap-iframe-hint=WCF")>0){const e=t.getParamKeys(n);const s={};if(e.aAppStateNamesArray.length>0){try{const t=await r.getServiceAsync("Navigation");const a=await t.getAppStateData(e.aAppStateKeysArray);e.aAppStateNamesArray.forEach((e,t)=>{if(a[t]){s[e]=a[t]}})}catch{}}l["sap-flp-params"]={...s,"sap-flp-url":r.getFLPUrl(true),"system-alias":a.getSystemAlias()}}return l}async destroyApp(e,s){const t=e.getCurrentAppId()===s;if(t){e.setCurrentAppUrl("");e.setCurrentAppId("");e.setCurrentAppTargetResolution(undefined);r.setAsyncDirtyStateProvider(undefined)}await e.sendRequest("sap.ushell.services.appLifeCycle.destroy",{sCacheId:s},true)}async storeAppWithinSameFrame(e,s){const t=e.getCurrentAppId()===s;if(!t){throw new Error("Cannot store an already stored/destroyed app")}e.setCurrentAppUrl("");e.setCurrentAppId("");e.setCurrentAppTargetResolution(undefined);r.setAsyncDirtyStateProvider(undefined);await e.sendRequest("sap.ushell.services.appLifeCycle.store",{sCacheId:s},true)}async restoreAppWithinSameFrame(e,t,r){e.setCurrentAppUrl(r.url);e.setCurrentAppId(t);e.setCurrentAppTargetResolution(r);await e.sendRequest("sap.ushell.services.appLifeCycle.restore",{sCacheId:t,sUrl:r.url,sHash:s.getHash()},true)}isStatefulContainerSupportingKeepAlive(e){return e.supportsCapabilities(["sap.ushell.services.AppLifeCycle.create","sap.ushell.services.appLifeCycle.destroy","sap.ushell.services.appLifeCycle.store","sap.ushell.services.appLifeCycle.restore"])}}return new a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/SchedulingAgent", ["sap/ushell/bootstrap/SchedulingAgent/FLPScheduler","sap/ushell/bootstrap/SchedulingAgent/EventProcessor","sap/ushell/bootstrap/SchedulingAgent/FLPLoader","sap/ushell/bootstrap/SchedulingAgent/logger","sap/ushell/bootstrap/SchedulingAgent/state","sap/ushell/EventHub"],(e,t,o,n,i,a)=>{"use strict";const s={CONTINUE_ON_EVENT:"continueOnEvent",BY_EVENT:"byEvent",BY_COMPONENT_CREATE:"byComponentCreate",BY_REQUIRE:"byRequire",WAIT_IN_MS:"waitInMs"};const d={WAIT:"wait",ERROR:"error",DONE:"done",STEP:"step",BLOCKDONE:"blockDone",SKIPPED:"skip"};const g={oComponentsLoading:{},oPathsLoading:{},_initialize:function(){i.clear();n.clearHistory();i.setForModule(i.id.module.schedulingAgent.id,i.id.module.schedulingAgent.Initializing,"Scheduling Agent starting");const o=e.initializeSchedule();o.then(e=>{if(!e){i.setForModule(i.id.module.schedulingAgent.id,i.id.module.schedulingAgent.FatalError,"Configuration error!");return}t.initializeStepDoneListener(this);i.setForModule(i.id.module.schedulingAgent.id,i.id.module.schedulingAgent.Initialized,"Scheduling Agent ready");this.eventReceived()})},_processStepConfiguration:function(e){const t={sStepType:"",oData:{},sStepName:"",bConfigOk:false};if(e.oConfig.loadingMode===s.CONTINUE_ON_EVENT){t.sStepType=s.CONTINUE_ON_EVENT;t.sStepName=e.oContent.LoadingStep;t.oData.eventName=e.oConfig.continueOnEvent&&e.oConfig.continueOnEvent.eventName;t.oData.timeoutInMs=e.oConfig.continueOnEvent&&e.oConfig.continueOnEvent.timeoutInMs;t.oData.stepName=e.oContent.LoadingStep;t.bConfigOk=!!(t.oData.eventName&&t.oData.stepName)}else if(e.oConfig.loadingMode===s.BY_EVENT){t.sStepType=s.BY_EVENT;t.sStepName=e.oContent.LoadingStep;t.oData.eventName=e.oConfig.byEvent&&e.oConfig.byEvent.eventName;t.oData.eventData={};t.oData.eventData.data=e.oConfig.byEvent.eventData;t.oData.eventData.stepName=e.oContent.LoadingStep;t.bConfigOk=!!t.oData.eventName}else if(e.oConfig.loadingMode===s.BY_COMPONENT_CREATE){t.sStepType=s.BY_COMPONENT_CREATE;t.sStepName=e.oContent.LoadingStep;t.oData=e.oConfig.byComponentCreate&&e.oConfig.byComponentCreate.ui5ComponentOptions||{};t.bConfigOk=!!t.oData}else if(e.oConfig.loadingMode===s.BY_REQUIRE){t.sStepType=s.BY_REQUIRE;t.sStepName=e.oContent.LoadingStep;t.oData={};t.oData.sPath=e.oConfig.byRequire.path;t.oData.sStepName=e.oContent.LoadingStep;t.bConfigOk=!!t.oData.sPath}else if(e.oConfig.loadingMode===s.WAIT_IN_MS){t.sStepType=s.WAIT_IN_MS;t.sStepName=e.oContent.LoadingStep;t.oData.iWaitingTime=e.oConfig.waitInMs&&e.oConfig.waitInMs.waitingTime;t.oData.sStepName=e.oContent.LoadingStep;t.bConfigOk=!!(t.oData.iWaitingTime&&t.oData.sStepName)}return t},dumpState:function(){i.dump()},dumpHistory:function(){n.dumpHistory()},dumpSchedule:function(){e.dumpSchedule()},dumpAll:function(){n.dumpHistory();e.dumpSchedule();i.dump()},eventReceived:function(){i.setForModule(i.id.module.schedulingAgent.id,i.id.module.schedulingAgent.Working,"Agent is active");let n;do{n=e.getNextLoadingStep();if(n.sStatus===d.ERROR){i.setForModule(i.id.module.schedulingAgent.id,i.id.module.schedulingAgent.FatalError,"Fatal loading error. Loading aborted.");t.unregisterStepDoneListener();a.emit("FLPLoadingDone",Date.now());return}if(n.sStatus===d.DONE){i.setForModule(i.id.module.schedulingAgent.id,i.id.module.schedulingAgent.Done,"Loading finished");t.unregisterStepDoneListener();a.emit("FLPLoadingDone",Date.now());return}if(n.sStatus===d.BLOCKDONE){}if(n.sStatus===d.SKIPPED){}if(n.sStatus===d.STEP){const e=this._processStepConfiguration(n);if(!e.bConfigOk){i.setForLoadingStep(e.sStepName,i.id.loadingStep.Abort,"","Step configuration error");i.setForLoadingStep(e.sStepName,i.id.loadingStep.Skipped,"","Step configuration error");i.setForModule(i.id.module.schedulingAgent.id,i.id.module.schedulingAgent.FatalError,e,"Step configuration error!")}else if(e.sStepType===s.CONTINUE_ON_EVENT){t.listenToEvent(e.oData);i.setForLoadingStep(e.sStepName,i.id.loadingStep.InProgress,e.oData.eventName,"continueOnEvent step sent to Event Processor")}else if(e.sStepType===s.BY_EVENT){o.loadComponentByEvent(e.oData);i.setForLoadingStep(e.sStepName,i.id.loadingStep.InProgress,e.oData,"byEvent step sent to FLP Loader")}else if(e.sStepType===s.WAIT_IN_MS){o.waitInMs(e.oData);i.setForLoadingStep(e.sStepName,i.id.loadingStep.InProgress,`${e.oData.iWaitingTime}ms`,"WaitInMs step sent to FLP Loader")}else if(e.sStepType===s.BY_REQUIRE){const t=o.loadComponentByRequire(e.oData.sPath);this.oPathsLoading[e.sStepName]=t;i.setForLoadingStep(e.sStepName,i.id.loadingStep.InProgress,e.oData.sPath,"byRequire step sent to FLP Loader");const n=e.sStepName;t.then(()=>{i.setForLoadingStep(n,i.id.loadingStep.InProgress,"","Step's promise has resolved");delete this.oPathsLoading[n];a.emit("StepDone",n)}).catch(()=>{i.setForLoadingStep(n,i.id.loadingStep.FatalError,"","Step's promise failed");delete this.oPathsLoading[n];a.emit("StepFailed",n)})}else if(e.sStepType===s.BY_COMPONENT_CREATE){const t=o.loadComponentByComponentCreate(e);const n=e.sStepName;this.oComponentsLoading[n]=t;i.setForLoadingStep(n,i.id.loadingStep.InProgress,e.oData,"byComponentCreate step sent to FLP Loader");t.then(()=>{i.setForLoadingStep(n,i.id.loadingStep.InProgress,"","Step's promise has resolved");delete this.oComponentsLoading[n];a.emit("StepDone",n)}).catch(()=>{i.setForLoadingStep(n,i.id.loadingStep.FatalError,"","Step's promise failed");delete this.oComponentsLoading[n];a.emit("StepFailed",n)})}}}while(n.sStatus!==d.WAIT);i.setForModule(i.id.module.schedulingAgent.id,i.id.module.schedulingAgent.Waiting,"Agent waits")}};return g},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/SchedulingAgent/EventProcessor", ["sap/ushell/bootstrap/SchedulingAgent/state","sap/ushell/EventHub"],(e,t)=>{"use strict";const n={SchedulingAgent:{},aDoables:[],initializeStepDoneListener:function(n){this.SchedulingAgent=n;this.aDoables=[t.on("StepDone").do(t=>{e.setForLoadingStep(t,e.id.loadingStep.Done,"","Step event received");this.SchedulingAgent.eventReceived()}),t.on("StepFailed").do(t=>{e.setForLoadingStep(t,e.id.loadingStep.Skipped,"","Step event received");this.SchedulingAgent.eventReceived()})]},listenToEvent:function(n){let i=false;t.once(n.eventName).do(()=>{if(i){return}i=true;e.setForLoadingStep(n.stepName,e.id.loadingStep.Done,n.eventName,"Event received");this.SchedulingAgent.eventReceived()});if(n.timeoutInMs){setTimeout(()=>{if(i){return}i=true;e.setForLoadingStep(n.stepName,e.id.loadingStep.Done,n.eventName,"Event received");this.SchedulingAgent.eventReceived()},n.timeoutInMs)}},unregisterStepDoneListener:function(){this.aDoables.forEach(e=>{e.off()})},setTimeOut:function(){}};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/SchedulingAgent/FLPLoader", ["sap/ushell/EventHub","sap/ui/core/Component"],(e,n)=>{"use strict";const t={loadComponentByEvent:function(n){e.emit(n.eventName,n.eventData)},loadComponentByComponentCreate:function(e){return n.create(e.oData).then(()=>e.sStepName)},loadComponentByRequire:function(e){return new Promise((n,t)=>{sap.ui.require([e],e=>{n(e)})})},waitInMs:function(n){setTimeout(()=>{e.emit("StepDone",n.sStepName)},n.iWaitingTime)},directLoading:function(){}};return t},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/SchedulingAgent/FLPScheduler", ["sap/ui/performance/trace/FESR","sap/ushell/bootstrap/SchedulingAgent/state","sap/base/util/LoaderExtensions","sap/base/Log","sap/ushell/Config","sap/ushell/state/StateManager"],(e,t,o,n,i,d)=>{"use strict";const a={Loaded:"loaded",Wait:"wait",Step:"step",Error:"error",BlockDone:"blockDone",Start:"start",Done:"done",Skipped:"skipped"};const s="sap/ushell/bootstrap/SchedulingAgent/LoadingConfiguration.json";const l="sap/ushell/bootstrap/SchedulingAgent/StepConfiguration.json";const c={oSchedule:{iBlockIndex:0,aBlocksLoading:[]},initializeSchedule:function(){const e=o.loadResource(l,{async:true});const n=o.loadResource(s,{async:true});const i=Promise.all([e,n]).then(e=>{this._adaptForSpecialEvents(e);const o=e[0];const n=e[1];const i=this._validateConfig(n,o);if(i){this.oSchedule.oBlocks=n.LoadingBlocks;this.oSchedule.oSteps=o;this.oSchedule.aBlockOrder=n.OrderOfLoadingBlocks;this.oSchedule.iBlockIndex=0;t.setForModule(t.id.module.flpScheduler.id,t.id.module.flpScheduler.Initialized,"Schedule validated")}else{t.setForModule(t.id.module.flpScheduler.id,t.id.module.flpScheduler.WrongConfiguration,"Configuration error")}return i});return i},getNextLoadingStep:function(){let e={sStatus:a.Start,oContent:{}};if(this.oSchedule.aBlocksLoading.length===0){const t=this._startLoadingBlock();if(t){e.sStatus=a.Done;return e}}let o=true;let n=false;let i;let d;let s;let l;let c;let r;let p;let u;let S;for(let g=0;g<this.oSchedule.aBlocksLoading.length;g++){i=this.oSchedule.aBlocksLoading[g];d=this.oSchedule.oBlocks[i];s=d.iStepIndex;l=d.LoadingSteps[s];c=s===d.LoadingSteps.length-1;r=this._checkAndUpdateAsyncQueue(d);S=t.isStepLoaded(l.LoadingStep)||t.isStepSkipped(l.LoadingStep);u=t.isStepLoading(l.LoadingStep);o=r.bAllStepsDone&&S;n=r.bAStepIsLoading||u;if(u&&!l.canBeLoadedAsync||n&&c){e.sStatus=a.Wait;continue}if(!c||!S&&!u){if(S||l.canBeLoadedAsync&&u){s+=1}e=this._prepareStepForLoading(d,i,s)}if(o&&c){p=this.oSchedule.aBlocksLoading.indexOf(i);this.oSchedule.aBlocksLoading.splice(p,1);e.sStatus=a.BlockDone;t.setForLoadingBlock(i,t.id.loadingBlock.Done,"","Block removed from loading queue")}if(e.sStatus!==a.wait){break}}return e},dumpSchedule:function(){n.debug(JSON.stringify(this.oSchedule))},_adaptForSpecialEvents:function(t){const o=t[0];if(o.ConditionalWaitForAppLoading&&e.getActive()===false){o.ConditionalWaitForAppLoading={loadingMode:"waitInMs",waitInMs:{waitingTime:3e3},mandatoryShellModeAndLaunchpadStates:[{shellMode:"default",launchpadState:"app"}]};n.info("Step 'ConditionalWaitForAppLoading' was overwritten to 3 sec timeout for apps only.","FLPScheduler")}},_matchesShellModeAndLaunchpadState:function(e,t){const o=d.getLaunchpadState();const n=d.getShellMode()||"default";let i=false;if(e&&t){i=n===e&&o===t}else if(e){i=n===e}else if(t){i=o===t}return i},_loadingIsEnabled:function(e){if(Array.isArray(e.oConfig.excludedShellModeAndLaunchpadStates)){const t=e.oConfig.excludedShellModeAndLaunchpadStates.map(({shellMode:e,launchpadState:t})=>this._matchesShellModeAndLaunchpadState(e,t));if(t.some(e=>e)){return false}}if(Array.isArray(e.oConfig.mandatoryShellModeAndLaunchpadStates)&&e.oConfig.mandatoryShellModeAndLaunchpadStates.length!==0){const t=e.oConfig.mandatoryShellModeAndLaunchpadStates.map(({shellMode:e,launchpadState:t})=>this._matchesShellModeAndLaunchpadState(e,t));return t.every(e=>e)}function t(e){return e.path&&i.last(e.path)!==e.assertionValue}if(e.oConfig.configSwitch){const o=[].concat(e.oConfig.configSwitch);if(o.some(t)){return false}}return true},_checkAndUpdateAsyncQueue:function(e){const o=[];let n;let i;let d;let a=true;let s=false;if(Array.isArray(e.aAsyncStepsLoading)){for(let l=0;l<e.aAsyncStepsLoading.length;l++){d=e.aAsyncStepsLoading[l];n=t.isStepLoaded(d)||t.isStepSkipped(d);i=t.isStepLoading(d);if(i){o.push(d)}a=a&&n;s=s||i}}e.aAsyncStepsLoading=o;return{bAllStepsDone:a,bAStepIsLoading:s}},_startLoadingBlock:function(){let e=false;if(this.oSchedule.iBlockIndex<this.oSchedule.aBlockOrder.length){const e=this.oSchedule.aBlockOrder[this.oSchedule.iBlockIndex];this.oSchedule.aBlocksLoading.push(e);this.oSchedule.oBlocks[e].iStepIndex=0;this.oSchedule.oBlocks[e].aAsyncStepsLoading=[];this.oSchedule.iBlockIndex+=1;t.setForLoadingBlock(e,t.id.loadingBlock.Prepared,"","Block added to the loading queue.")}else{e=true}return e},_prepareStepForLoading:function(e,o,n){let i;const d={sStatus:a.Step,oContent:e.LoadingSteps[n],oConfig:this.oSchedule.oSteps[e.LoadingSteps[n].LoadingStep]};if(!this._loadingIsEnabled(d)){d.sStatus=a.Skipped;e.iStepIndex=n;t.setForLoadingStep(d.oContent.LoadingStep,t.id.loadingStep.Skipped,"","Step set to skipped");return d}const s=this._checkDependencies(d,o);if(s.bMissing){d.sStatus=a.Error}else if(s.bAllLoaded){t.setForLoadingStep(d.oContent.LoadingStep,t.id.loadingStep.Prepared,"","Step prepared for control unit");i=d.oContent.canBeLoadedAsync;e.iStepIndex=n;if(i){t.setForLoadingStep(d.oContent.LoadingStep,t.id.loadingStep.Prepared,"","Step set on the async loading queue");e.aAsyncStepsLoading.push(d.oContent.LoadingStep)}}else{d.sStatus=a.Wait;t.setForLoadingStep(d.oContent.LoadingStep,t.id.loadingStep.WaitingForDependencies,"","Step missing dependencies")}return d},_checkDependencies:function(e,o){const n={bAllLoaded:true,bMissing:false};if(e.oConfig.Dependencies){for(let i=0;i<e.oConfig.Dependencies.length;i++){n.bAllLoaded=n.bAllLoaded&&t.isStepLoaded(e.oConfig.Dependencies[i]);if(!t.isStepLoaded(e.oConfig.Dependencies[i])&&!t.isStepLoading(e.oConfig.Dependencies[i])){t.setForLoadingStep(e.oContent.LoadingStep,t.id.loadingStep.Aborted,e.oConfig.Dependencies[i],"Missing a dependency");t.setForLoadingBlock(o,t.id.loadingBlock.Aborted,e.oConfig.Dependencies[i],"A step is missing a dependency");t.setForModule(t.id.module.flpScheduler.id,t.id.module.flpScheduler.LoadingAborted,"Dependencies can not be resolved: a dependency isn't loading before it is required.");n.bMissing=true;n.bAllLoaded=false;break}}}return n},_validateConfig:function(e,t){const o=e&&e.OrderOfLoadingBlocks&&e.LoadingBlocks&&e.OrderOfLoadingBlocks.length&&t;if(!o){return false}const n=e.OrderOfLoadingBlocks.reduce((o,n)=>{o=o&&e.LoadingBlocks[n];if(o){const i=e.LoadingBlocks[n];let d=true;if(i.LoadingSteps){let e;for(let o=0;o<i.LoadingSteps.length;o++){e=i.LoadingSteps[o].LoadingStep;d=d&&t[e]}}o=o&&d}return!!o},true);return n}};return c},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/SchedulingAgent/logger", ["sap/base/Log"],t=>{"use strict";const e=[];let r=true;const n="FLPScheduler";return{getHistory:function(){return e},verboseOn:function(){r=true;return r===true},verboseOff:function(){r=false;return r===false},isVerboseOn:function(){return r===true},clearHistory:function(){e.length=0},dumpHistory:function(t){let r;if(t){r=e.filter(e=>e.id===t);console.table(r)}else{console.table(e)}return r||e},logError:function(r){t.error(this.stateToString(r),undefined,n);e.push(r);return true},logWarning:function(u){if(r){t.warning(this.stateToString(u),n);e.push(u)}return r},logStatus:function(u){if(r){t.info(this.stateToString(u),n);e.push(u)}return r},stateToString:function(t){return`FLP Bootstrap Scheduling Agent :: ${t.type} '${t.id}' /${t.status}${t.remark?`/ : ${t.remark}`:"/"}`}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/SchedulingAgent/state", ["sap/ushell/bootstrap/SchedulingAgent/logger","sap/base/util/now","sap/base/util/deepClone","sap/base/Log"],(t,e,o,n)=>{"use strict";const i={module:{schedulingAgent:{id:"schedulingAgent",FatalError:"FATAL_ERROR",Idle:"IDLE",Initialized:"INITIALIZED",Initializing:"INITIALIZING",Waiting:"WAITING",WokeUp:"WOKE_UP",Working:"WORKING"},state:{id:"state",FatalError:"FATAL_ERROR",Available:"AVAILABLE"},flpScheduler:{id:"flpScheduler",Initialized:"INITIALIZED",WrongConfiguration:"WRONG_CONFIGURATION",LoadingAborted:"LOADING_ABORTED"},flpLoader:{id:"flpLoader"},logger:{id:t,Block:"BLOCK",Step:"STEP",Module:"MODULE"}},loadingStep:{Prepared:"STEP_PREPARED",WaitingForDependencies:"STEP_WAITING_FOR_DEPENDENCIES",InProgress:"STEP_IN_PROGRESS",Done:"STEP_DONE",Aborted:"STEP_ABORTED",Skipped:"STEP_SKIPPED"},loadingBlock:{Prepared:"BLOCK_PREPARED",WaitingForDependencies:"BLOCK_WAITING_FOR_DEPENDENCIES",InProgress:"BLOCK_IN_PROGRESS",TimedOut:"BLOCK_TIMEDOUT",Done:"BLOCK_DONE",Aborted:"BLOCK_ABORTED"}};const d={id:i,oState:{ofLoadingBlock:{},ofLoadingStep:{},ofModule:{}},clear:function(){this.oState={ofLoadingBlock:{},ofLoadingStep:{},ofModule:{}}},getIdBase:function(){return i},setForLoadingBlock:function(o,n,d,a,s){this.oState.ofLoadingBlock[o]={time:e(),status:n,parameter:d,remark:a,byModule:s};t.logStatus({time:this.oState.ofLoadingBlock[o].time,type:i.module.logger.Block,id:o,status:n,parameter:d,remark:a,byModule:s})},getForLoadingBlock:function(t){return this.oState.ofLoadingBlock[t]},setForLoadingStep:function(o,n,d,a,s){this.oState.ofLoadingStep[o]={time:e(),status:n,parameter:d,remark:a,byModule:s};t.logStatus({time:this.oState.ofLoadingStep[o].time,type:i.module.logger.Step,id:o,status:n,parameter:d,remark:a,byModule:s})},getForLoadingStep:function(t){return this.oState.ofLoadingStep[t]},setForModule:function(o,n,d){this.oState.ofModule[o]={time:e(),status:n,remark:d,byModule:undefined};t.logStatus({time:this.oState.ofModule[o].time,type:i.module.logger.Module,id:o,status:n,parameter:undefined,remark:d,byModule:undefined})},getForModule:function(t){return this.oState.ofModule[t]},isBlockWaitingForDependencies:function(t){const e=this.getForLoadingBlock(t);return!!(e&&e.status===i.loadingBlock.WaitingForDependencies)},isBlockLoading:function(t){const e=this.getForLoadingBlock(t);return!!(e&&e.status===i.loadingBlock.InProgress)},isBlockLoaded:function(t){const e=this.getForLoadingBlock(t);return!!(e&&e.status===i.loadingBlock.Done)},isBlockLoadingAborted:function(t){const e=this.getForLoadingBlock(t);return!!(e&&e.status===i.loadingBlock.Aborted)},hasBlockLoadingTimedOut:function(t){const e=this.getForLoadingBlock(t);return!!(e&&e.status===i.loadingBlock.TimedOut)},isStepWaitingForDependencies:function(t){const e=this.getForLoadingStep(t);return!!(e&&e.status===i.loadingStep.WaitingForDependencies)},isStepLoading:function(t){const e=this.getForLoadingStep(t);return!!(e&&e.status===i.loadingStep.InProgress)},isStepLoaded:function(t){const e=this.getForLoadingStep(t);return!!(e&&e.status===i.loadingStep.Done)},isStepLoadingAborted:function(t){const e=this.getForLoadingStep(t);return!!(e&&e.status===i.loadingStep.Sborted)},isStepSkipped:function(t){const e=this.getForLoadingStep(t);return!!(e&&e.status===i.loadingStep.Skipped)},isAgentIdle:function(){const t=this.getForModule(i.module.schedulingAgent.id);return!!(t&&t.status===i.module.schedulingAgent.Idle)},isAgentWaiting:function(){const t=this.getForModule(i.module.schedulingAgent.id);return!!(t&&t.status===i.module.schedulingAgent.Waiting)},agentWokeUp:function(){const t=this.getForModule(i.module.schedulingAgent.id);return!!(t&&t.status===i.module.schedulingAgent.WokeUp)},dump:function(){n.debug(JSON.parse(JSON.stringify(this.oState)));const t=o(this.oState);return t},iStartingTime:e()};d.setForModule(i.module.state.id,i.module.state.Available);return d});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.constants", [],()=>{"use strict";return{uiDebugKey:"sap-ui-debug",bootScriptId:"sap-ui-bootstrap",bwcBootScriptId:"sap-ushell-bootstrap",configMetaPrefix:"sap.ushellConfig",ushellConfigNamespace:"sap-ushell-config"}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.create.configcontract.core", ["sap/base/util/ObjectPath","sap/ushell/bootstrap/common/common.debug.mode","sap/base/util/deepExtend"],(e,n,a)=>{"use strict";const o={};const s=new URLSearchParams(document.location.search);function i(i){const l={};function r(e,n){const a=n.split("/");const o=a.slice(0,a.length-1).join("/");const s=a.pop();if(e.hasOwnProperty(o)){return e[o][s]}const l=a.reduce((e,n)=>{if(!e||!e.hasOwnProperty(n)){return{}}return e[n]},i);e[o]=l;return l[s]}function t(e,n){const a=r(l,e);o[e]=n;return a!==undefined?a:n}function c(){return t("renderers/fiori2/componentData/config/enablePersonalization",t("renderers/fiori2/componentData/config/applications/Shell-home/enablePersonalization",true))}function u(){let e=t("renderers/fiori2/componentData/config/rootIntent","");if(e){e=`#${e}`}return e}function d(){return t("ushell/spaces/enabled",false)&&!!t("ushell/homeApp/component",false)}const p=t("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccess",true);const f={enableEasyAccessOnTablet:t("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessUserMenuOnTablet",false),enableEasyAccessSAPMenu:t("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessSAPMenu",p),enableEasyAccessSAPMenuSearch:t("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessSAPMenuSearch",true),enableEasyAccessUserMenu:t("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessUserMenu",p),enableEasyAccessUserMenuSearch:t("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessUserMenuSearch",true)};function h(e){if(p===true){return f[e]?f[`${e}Search`]:false}return false}function m(e){if(typeof e!=="string"){return[]}return e.split(",").map(e=>e.trim())}function g(){return{name:"sap.ushell.components.workPageRuntime",asyncHints:{preloadBundles:["sap/ushell/preload-bundles/workpage-rt-common.js","sap/ushell/preload-bundles/workpage-rt-0.js","sap/ushell/preload-bundles/workpage-rt-1.js","sap/ushell/preload-bundles/workpage-rt-2.js","sap/ushell/preload-bundles/workpage-rt-3.js"]}}}function b(){const n={};e.set("spaces.enabled",true,n);if(t("ushell/menu/position")==="Side"){e.set("spaces.selectable",false,n)}else{e.set("spaces.selectable",true,n);e.set("favorites.enabled",true,n)}if(t("ushell/sideNavigation/mode")==="Docked"||t("ushell/menu/position")==="Side"){e.set("spaces.defaultIcon","sap-icon://document-text",n)}return JSON.stringify(n)}function S(){return t("ushell/menu/personalization/enabled",false)}function v(){const n={};if(t("ushell/menu/position")!=="Side"){e.set("spaces.personalization.enabled",S(),n)}return JSON.stringify(n)}function A(){const e=t("ushell/spaces/enabled",false);if(!e){return false}return t("ushell/sideNavigation/enabled",false)||t("ushell/menu/position")==="Side"}const P={core:{site:{siteId:t("ushell/site/siteId",null),sapCdmVersion:t("ushell/site/sapCdmVersion",null)},extension:{dap:{pluginName:t("ushell/extension/dap/pluginName","DAP_PLUGIN"),enabled:t("ushell/extension/dap/enabled",true)},enableHelp:t("renderers/fiori2/componentData/config/enableHelp",false),SupportTicket:t("services/SupportTicket/config/enabled",false)},services:{allMyApps:{enabled:t("services/AllMyApps/config/enabled",true),showHomePageApps:t("services/AllMyApps/config/showHomePageApps",true),showCatalogApps:t("services/AllMyApps/config/showCatalogApps",true)}},navigation:{enableInPlaceForClassicUIs:{GUI:t("services/ClientSideTargetResolution/config/enableInPlaceForClassicUIs/GUI",false),WDA:t("services/ClientSideTargetResolution/config/enableInPlaceForClassicUIs/WDA",false),WCF:t("services/ClientSideTargetResolution/config/enableInPlaceForClassicUIs/WCF",true)},enableWebguiLocalResolution:true,enableWdaLocalResolution:true,flpURLDetectionPattern:t("services/ClientSideTargetResolution/config/flpURLDetectionPattern","[/]FioriLaunchpad.html[^#]+#[^-]+?-[^-]+"),enableWdaCompatibilityMode:t("ushell/navigation/wdaCompatibilityMode",false)},spaces:{enabled:t("ushell/spaces/enabled",false),configurable:t("ushell/spaces/configurable",false),myHome:{userEnabled:true,enabled:t("startupConfig/spacesMyhome",false)||d(),myHomeSpaceId:t("startupConfig/spacesMyhomeSpaceid",null),myHomePageId:t("startupConfig/spacesMyhomePageid",null),presetSectionId:"3WO90XZ1DX1AS32M7ZM9NBXEF"},hideEmptySpaces:{enabled:t("ushell/spaces/enabled",false)&&t("ushell/spaces/hideEmptySpaces/enabled",false),userEnabled:true},extendedChangeDetection:{enabled:t("ushell/spaces/extendedChangeDetection/enabled",true)},homeNavigationTarget:t("renderers/fiori2/componentData/config/homeNavigationTarget",undefined),currentSpaceAndPage:undefined},workPages:{enabled:t("ushell/spaces/enabled",false)&&t("ushell/workPages/enabled",false),defaultComponent:g(),component:t("ushell/workPages/component",a(g(),{addCoreResourcesComplement:false})),contentApiUrl:t("ushell/workPages/contentApiUrl","/cep/content"),tileCard:t("ushell/workPages/tileCard",!!s.get("sap-ushell-tilecard")),customTileCard:t("ushell/workPages/customTileCard",!!s.get("sap-ushell-customtilecard")),myHome:{pageId:t("ushell/spaces/myHome/myHomePageId",null)},runtimeSwitcher:t("ushell/workPages/runtimeSwitcher",t("ushell/spaces/myHome/myHomePageId",null)===null),contentFinderStandalone:t("core/workPages/contentFinderStandalone",true)&&t("ushell/workPages/enabled",false)},shellBar:{enabled:t("ushell/shellBar/enabled",false)},searchCEPNew:{enabled:t("ushell/searchCEPNew/enabled",false)},homeApp:{enabled:d(),component:t("ushell/homeApp/component",{})},sideNavigation:{enabled:A(),mode:t("ushell/sideNavigation/mode","Docked"),navigationListProvider:{modulePath:t("ushell/sideNavigation/navigationListProvider/modulePath",t("ushell/menu/position")==="Side"?"sap/ushell/components/shell/SideNavigation/modules/SpacesNavigationListProvider":"sap/ushell/components/shell/SideNavigation/modules/GenericNavigationListProvider"),configuration:t("ushell/sideNavigation/navigationListProvider/configuration",b())},fixedNavigationListProvider:{modulePath:t("ushell/sideNavigation/fixedNavigationListProvider/modulePath",t("ushell/menu/position")==="Side"?"":"sap/ushell/components/shell/SideNavigation/modules/GenericFixedNavigationListProvider"),configuration:t("ushell/sideNavigation/fixedNavigationListProvider/configuration",v())}},notifications:{enabled:t("ushell/notifications/enabled",false)},menu:{enabled:t("ushell/spaces/enabled",false)&&t("ushell/menu/enabled",!t("ushell/menu/position")||t("ushell/menu/position")==="Top"),personalization:{enabled:S(),showNavigationBarMenuButton:t("ushell/menu/personalization/showNavigationBarMenuButton",S()&&!A())},visibleInAllStates:t("ushell/menu/visibleInAllStates",false)},darkMode:{enabled:t("ushell/darkMode/enabled",false),supportedThemes:t("ushell/darkMode/supportedThemes",[{dark:"sap_fiori_3_dark",light:"sap_fiori_3"},{dark:"sap_fiori_3_hcb",light:"sap_fiori_3_hcw"},{dark:"sap_horizon_dark",light:"sap_horizon"},{dark:"sap_horizon_hcb",light:"sap_horizon_hcw"}])},contentProviders:{providerInfo:{enabled:t("ushell/contentProviders/providerInfo/enabled",false),userConfigurable:t("ushell/contentProviders/providerInfo/enabled",false)&&t("ushell/contentProviders/providerInfo/userConfigurable",false),showContentProviderInfoOnVisualizations:t("ushell/contentProviders/providerInfo/enabled",false)&&t("ushell/contentProviders/providerInfo/userConfigurable",false)}},productSwitch:{enabled:!!t("ushell/productSwitch/url",""),url:t("ushell/productSwitch/url","")},shellHeader:{rootIntent:t("renderers/fiori2/componentData/config/rootIntent",""),homeUri:u()},companyLogo:{accessibleText:t("ushell/companyLogo/accessibleText",""),url:t("ushell/companyLogo/url","")},userPreferences:{dialogTitle:"Settings",isDetailedEntryMode:false,activeEntryPath:null,entries:[],profiling:[]},userSettings:{displayUserId:t("renderers/fiori2/componentData/config/displayUserId",false)},userActionsMenu:{displayUserId:t("ushell/userActionsMenu/displayUserId",false),displayAvatar:t("ushell/userActionsMenu/displayAvatar",false)},shell:{cacheConfiguration:t("renderers/fiori2/componentData/config/cacheConfiguration",{}),enableAbout:t("renderers/fiori2/componentData/config/enableAbout",true),enablePersonalization:c(),enableRecentActivity:t("renderers/fiori2/componentData/config/enableRecentActivity",true),enableRecentActivityLogging:t("renderers/fiori2/componentData/config/enableRecentActivityLogging",true),enableFiori3:true,sessionTimeoutIntervalInMinutes:t("renderers/fiori2/componentData/config/sessionTimeoutIntervalInMinutes",-1),enableFeaturePolicyInIframes:t("renderers/fiori2/componentData/config/enableFeaturePolicyInIframes",true),enableOpenIframeWithPost:t("renderers/fiori2/componentData/config/enableOpenIframeWithPost",true),favIcon:t("renderers/fiori2/componentData/config/favIcon",undefined),enableMessageBroker:t("services/MessageBroker/config/enabled",true),enablePersistantAppstateWhenSharing:t("services/AppState/config/persistentWhenShared",false),homePageTitle:t("ushell/header/title/home",""),windowTitleExtension:t("ushell/window/title/extension",""),useAppTitleFromNavTargetResolution:m(t("ushell/useAppTitleFromNavTargetResolution")),intentNavigation:t("ushell/intentNavigation",false),model:{enableSAPCopilotWindowDocking:undefined,personalization:undefined,contentDensity:undefined,setTheme:undefined,userDefaultParameters:undefined,disableHomeAppCache:undefined,enableHelp:undefined,enableTrackingActivity:undefined,searchAvailable:false,searchFiltering:true,searchTerm:"",isPhoneWidth:false,enableNotifications:t("services/NotificationsV2/config/enabled",t("services/Notifications/config/enabled",false)),enableNotificationsUI:false,notificationsCount:0,currentViewPortState:"Center",migrationConfig:undefined,shellAppTitleState:"",allMyAppsMasterLevel:undefined,userStatus:undefined,userStatusUserEnabled:true,shellAppTitleData:{currentViewInPopover:"navigationMenu",enabled:false,showGroupsApps:false,showCatalogsApps:false,showExternalProvidersApps:false},userImage:{personPlaceHolder:null,account:"sap-icon://account"},showRecentActivity:true}},state:{shellMode:t("renderers/fiori2/componentData/config/appState","")},home:{disableSortedLockedGroups:t("renderers/fiori2/componentData/config/applications/Shell-home/disableSortedLockedGroups",false),draggedTileLinkPersonalizationSupported:true,editTitle:false,enableHomePageSettings:t("renderers/fiori2/componentData/config/applications/Shell-home/enableHomePageSettings",true),enableRenameLockedGroup:t("renderers/fiori2/componentData/config/applications/Shell-home/enableRenameLockedGroup",false),enableTileActionsIcon:t("renderers/fiori2/componentData/config/enableTileActionsIcon",t("renderers/fiori2/componentData/config/applications/Shell-home/enableTileActionsIcon",false)),enableTransientMode:t("ushell/home/enableTransientMode",false),featuredGroup:{enable:t("ushell/home/featuredGroup/enable",false),frequentCard:t("ushell/home/featuredGroup/frequentCard",true)&&t("ushell/home/featuredGroup/enable",false),recentCard:t("ushell/home/featuredGroup/recentCard",true)&&t("ushell/home/featuredGroup/enable",false)},homePageGroupDisplay:t("renderers/fiori2/componentData/config/applications/Shell-home/homePageGroupDisplay","scroll"),isInDrag:false,optimizeTileLoadingThreshold:t("renderers/fiori2/componentData/config/applications/Shell-home/optimizeTileLoadingThreshold",100),sizeBehavior:t("renderers/fiori2/componentData/config/sizeBehavior","Responsive"),sizeBehaviorConfigurable:t("renderers/fiori2/componentData/config/sizeBehaviorConfigurable",false),wrappingType:t("ushell/home/tilesWrappingType","Normal"),segments:t("renderers/fiori2/componentData/config/applications/Shell-home/segments",undefined),tileActionModeActive:false},catalog:{enabled:c()||t("renderers/fiori2/componentData/config/enableAppFinder",false),appFinderDisplayMode:t("renderers/fiori2/componentData/config/applications/Shell-home/AppFinderDisplayMode",t("renderers/fiori2/componentData/config/applications/Shell-home/appFinderDisplayMode",undefined)),easyAccessNumbersOfLevels:t("renderers/fiori2/componentData/config/applications/Shell-home/easyAccessNumbersOfLevels",undefined),enableCatalogSearch:t("renderers/fiori2/componentData/config/enableSearchFiltering",t("renderers/fiori2/componentData/config/applications/Shell-home/enableSearchFiltering",t("renderers/fiori2/componentData/config/applications/Shell-home/enableCatalogSearch",true))),enableCatalogSelection:t("renderers/fiori2/componentData/config/enableCatalogSelection",t("renderers/fiori2/componentData/config/applications/Shell-home/enableCatalogSelection",true)),enableCatalogTagFilter:t("renderers/fiori2/componentData/config/applications/Shell-home/enableTagFiltering",t("renderers/fiori2/componentData/config/applications/Shell-home/enableCatalogTagFilter",true)),enableEasyAccess:p,enableEasyAccessSAPMenu:p?f.enableEasyAccessSAPMenu:false,enableEasyAccessOnTablet:p?f.enableEasyAccessOnTablet:false,enableEasyAccessSAPMenuSearch:h("enableEasyAccessSAPMenu"),enableEasyAccessUserMenu:p?f.enableEasyAccessUserMenu:false,enableEasyAccessUserMenuSearch:h("enableEasyAccessUserMenu"),enableHideGroups:t("renderers/fiori2/componentData/config/enableHideGroups",t("renderers/fiori2/componentData/config/applications/Shell-home/enableHideGroups",true)),sapMenuServiceUrl:undefined,userMenuServiceUrl:t("renderers/fiori2/componentData/config/applications/Shell-home/userMenuServiceUrl",undefined)},esearch:{defaultSearchScopeApps:t("renderers/fiori2/componentData/config/esearch/defaultSearchScopeApps",false),searchBusinessObjects:t("renderers/fiori2/componentData/config/esearch/searchBusinessObjects",true),searchScopeWithoutAll:t("renderers/fiori2/componentData/config/esearch/searchScopeWithoutAll",false)},customPreload:{enabled:!n.isDebug()&&t("ushell/customPreload/enabled",false),coreResourcesComplement:t("ushell/customPreload/coreResourcesComplement",[])},ui5:{timeZoneFromServerInUI5:t("ui5/timeZoneFromServerInUI5",false)},uiTracer:{enabled:t("services/UITracer/config/enabled",false)}}};return P}function l(){return o}return{createConfigContract:i,getDefaultConfiguration:l}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.debug.mode", ["./common.constants"],t=>{"use strict";let e;let u=/[?&]sap-ui-debug=(true|x|X)(&|$)/.test(window.location.search);if(!u){try{e=window.localStorage.getItem(t.uiDebugKey);u=!!e&&/^(true|x|X)$/.test(e)}catch{}}return{isDebug:function(){return u}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.load.model", ["sap/base/i18n/Localization","sap/base/util/extend","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ushell/Config"],(e,n,t,i,s)=>{"use strict";let a;function o(){const o=s.last("/core");let l={groups:[],rtl:e.getRTL(),personalization:o.shell.enablePersonalization,tagList:[],selectedTags:[],userPreferences:{entries:[]},enableHelp:o.extension.enableHelp,enableTileActionsIcon:t.system.desktop?o.home.enableTileActionsIcon:false};l=n({},o.catalog,o.home,l);a=new i(l);a.setSizeLimit(1e4)}function l(e){a.setProperty("/isPhoneWidth",!e.matches)}function c(){const e=window.matchMedia("(min-width: 800px)");if(e.addListener){e.addListener(l);l(e)}}return{getModel:function(){if(!a){o();c()}return a}}},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.util", ["sap/base/Log","sap/base/util/ObjectPath"],(e,t)=>{"use strict";const o=Object.getOwnPropertyNames(Object.prototype);function i(e){Object.keys(e).filter(t=>typeof e[t]==="object").forEach(t=>{e[t]=i(e[t])});return Object.freeze(e)}function s(){return`${location.protocol}//${location.host}`}function r(e){if(typeof e==="string"&&e.charAt(e.length-1)!=="/"){return`${e}/`}return e}function n(e,t,i){if(!t){return}const s=i?JSON.parse(JSON.stringify(t)):t;Object.keys(s).forEach(t=>{if(o.includes(t)){return}if(typeof e[t]==="object"&&typeof s[t]==="object"){n(e[t],s[t],false);return}e[t]=s[t]})}function a(t){const o=t||window.location.search;let i=/sap-statistics=(true|x|X)/.test(o);if(!i){try{i=window.localStorage.getItem("sap-ui-statistics")==="X"}catch(t){e.warning("failed to read sap-statistics setting from local storage",t,"sap.ushell.bootstrap.common.common.util")}}return!!i}function c(o){window["sap-ushell-config-migration"]=true;[{from:"services.Bookmark",to:"services.BookmarkV2"},{from:"services.CrossApplicationNavigation",to:"services.Navigation"},{from:"services.Notifications",to:"services.NotificationsV2"},{from:"services.Personalization",to:"services.PersonalizationV2"},{from:"services.LaunchPage",to:"services.FlpLaunchPage"},{from:"services.ShellNavigation",to:"services.ShellNavigationInternal"},{from:"services.NavTargetResolution",to:"services.NavTargetResolutionInternal"}].forEach(i=>{const s=i.from.split(".")[1];const r=t.get(i.from,o);const n=t.get(i.to,o);if(r&&!n){e.warning(`The service config for ${i.from} is migrated to ${i.to}`,"common.util");const n={...r};if(n.module===`sap.ushell.services.${s}`){delete n.module}t.set(i.to,n,o)}})}function f(o){window["sap-ushell-config-migration"]=true;const i={};[{from:"services.Bookmark",to:"services.BookmarkV2"},{from:"services.CrossApplicationNavigation",to:"services.Navigation"},{from:"services.Notifications",to:"services.NotificationsV2"},{from:"services.Personalization",to:"services.PersonalizationV2"},{from:"services.LaunchPage",to:"services.FlpLaunchPage"},{from:"services.ShellNavigation",to:"services.ShellNavigationInternal"},{from:"services.NavTargetResolution",to:"services.NavTargetResolutionInternal"}].forEach(s=>{const r=s.from.split(".")[1];const n=t.get(s.from,o);const a=t.get(s.to,o);if(n&&!a){e.warning(`The service config for ${s.from} is migrated to ${s.to}`,"common.util");const o={...n};if(o.module===`sap.ushell.services.${r}`){delete o.module}t.set(s.to,o,i)}});return JSON.parse(JSON.stringify(i))}return{deepFreeze:i,getLocationOrigin:s,ensureTrailingSlash:r,mergeConfig:n,isSapStatisticsSet:a,migrateV2ServiceConfig:c,getV2ServiceMigrationConfig:f}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/CatalogsManager", ["sap/ui/base/Object","sap/ui/core/EventBus","sap/ushell/ui/launchpad/TileStateInternal","sap/ushell/EventHub","sap/ushell/utils","sap/ushell/components/DestroyHelper","sap/ushell/components/GroupsHelper","sap/ushell/components/MessagingHelper","sap/ushell/components/HomepageManager","sap/ushell/resources","sap/ui/thirdparty/jquery","sap/ui/performance/Measurement","sap/base/Log","sap/ushell/Config","sap/ushell/adapters/cdm/v3/_LaunchPage/readUtils","sap/ushell/Container"],(e,t,o,a,s,i,n,l,r,g,jQuery,c,u,h,d,p)=>{"use strict";let P;const T=e.extend("sap.ushell.components.CatalogsManager",{metadata:{publicMethods:["createGroup","createGroupAndSaveTile","createTile","deleteCatalogTileFromGroup","notifyOnActionFailure","resetAssociationOnFailure"]},analyticsConstants:{PERSONALIZATION:"FLP: Personalization",RENAME_GROUP:"FLP: Rename Group",MOVE_GROUP:"FLP: Move Group",DELETE_GROUP:"FLP: Delete Group",RESET_GROUP:"FLP: Reset Group",DELETE_TILE:"FLP: Delete Tile",ADD_TILE:"FLP: Add Tile",MOVE_TILE:"FLP: Move Tile"},_aDoables:[],constructor:function(e,t){this.oLaunchPageServicePromise=p.getServiceAsync("FlpLaunchPage").then(e=>{this.oLaunchPageService=e;return e});this.oTileCatalogToGroupsMap={};this.tagsPool=[];this.iInitialLoad=100;this.oModel=t.model;if(!h.last("/core/spaces/enabled")){const e={model:this.oModel};this.oHomepageManager=r.prototype.getInstance();if(!this.oHomepageManager){this.oHomepageManager=new r("dashboardMgr",e)}}P=this.getInterface();this.registerEvents()},registerEvents:function(){const e=t.getInstance();e.subscribe("renderCatalog",this.loadAllCatalogs,this);this._aDoables=[];this._aDoables.push(a.on("showCatalog").do(this.updateTilesAssociation.bind(this)));this._aDoables.push(a.on("updateGroups").do(this.updateTilesAssociation.bind(this)))},unregisterEvents:function(){const e=t.getInstance();e.unsubscribe("renderCatalog",this.loadAllCatalogs,this);this._aDoables.forEach(e=>{e.off()});this._aDoables=[]},getModel:function(){return this.oModel},loadAllCatalogs:function(){let e=new jQuery.Deferred;const t=this;e.resolve();function o(){e.done(()=>{const e=t.getModel().getProperty("/groups");if(e&&e.length!==0){t.updateTilesAssociation()}})}if(!this.oModel.getProperty("/catalogs")){if(!this.oModel.getProperty("/groups")||this.oModel.getProperty("/groups").length===0){if(!h.last("/core/spaces/enabled")){e=this.oHomepageManager.loadPersonalizedGroups()}}i.destroyFLPAggregationModels(this.oModel.getProperty("/catalogs"));i.destroyTileModels(this.oModel.getProperty("/catalogTiles"));this.oModel.setProperty("/catalogs",[]);this.oModel.setProperty("/catalogSearchEntity",{appBoxes:[],customTiles:[]});this.aPromises=[];c.start("FLP:DashboardManager.GetCatalogsRequest","GetCatalogsRequest","FLP");c.start("FLP:DashboardManager.getCatalogTiles","getCatalogTiles","FLP");c.pause("FLP:DashboardManager.getCatalogTiles");c.start("FLP:DashboardManager.BuildCatalogModelWithRendering","BuildCatalogModelWithRendering","FLP");c.pause("FLP:DashboardManager.BuildCatalogModelWithRendering");this.oLaunchPageServicePromise.then(e=>{e.getCatalogs().done(e=>{const t=e.slice(0,this.iInitialLoad);c.end("FLP:DashboardManager.GetCatalogsRequest");this.aPromises=t.map(this.addCatalogToModel.bind(this));Promise.all(this.aPromises).then(this.processPendingCatalogs.bind(this)).then(()=>{this.aPromises=e.slice(this.iInitialLoad).map(this.addCatalogToModel.bind(this));Promise.all(this.aPromises).then(this.processPendingCatalogs.bind(this))}).then(this.onDoneLoadingCatalogs.bind(this,e)).then(o)}).fail(l.showLocalizedErrorHelper("fail_to_load_catalog_msg"))})}else{o()}},updateTilesAssociation:function(){this.mapCatalogTilesToGroups();this.updateCatalogTilesToGroupsMap()},mapCatalogTilesToGroups:function(){const e=this;this.oTileCatalogToGroupsMap={};const t=this.oModel.getProperty("/groups");t.forEach(t=>{["tiles","links"].forEach(o=>{const a=t[o];if(a){for(let o=0;o<a.length;++o){const s=encodeURIComponent(e.oLaunchPageService.getCatalogTileId(a[o].object));const i=e.oTileCatalogToGroupsMap[s]||[];const n=e.oLaunchPageService.getGroupId(t.object);if(i.indexOf(n)===-1&&(typeof t.isGroupVisible==="undefined"||t.isGroupVisible)&&!t.isGroupLocked){i.push(n)}e.oTileCatalogToGroupsMap[s]=i}}})})},updateCatalogTilesToGroupsMap:function(){let e;let t;let o;const a=this.getModel().getProperty("/catalogs");if(a){for(let s=0;s<a.length;s++){const i=a[s].appBoxes;if(i){for(let a=0;a<i.length;a++){const s=i[a];e=encodeURIComponent(this.oLaunchPageService.getCatalogTileId(s.src));o=this.oTileCatalogToGroupsMap[e];t=o||[];s.associatedGroups=t}}const n=a[s].customTiles;if(n){for(let a=0;a<n.length;a++){const s=n[a];e=encodeURIComponent(this.oLaunchPageService.getCatalogTileId(s.src));o=this.oTileCatalogToGroupsMap[e];t=o||[];s.associatedGroups=t}}}}this.getModel().setProperty("/catalogs",a)},addCatalogToModel:function(e){const t={title:this.oLaunchPageService.getCatalogTitle(e),id:this.oLaunchPageService.getCatalogId(e),numberTilesSupportedOnCurrectDevice:0,static:false,customTiles:[],appBoxes:[]};c.resume("FLP:DashboardManager.getCatalogTiles");return new Promise((o,a)=>{this.oLaunchPageService.getCatalogTiles(e).done(e=>{c.pause("FLP:DashboardManager.getCatalogTiles");o({oCatalogEntry:e,oCatalogModel:t})}).fail(e=>{l.showLocalizedErrorHelper("fail_to_load_catalog_tiles_msg");a(e)})})},getTagList:function(e){const t={};const o=[];if(this.oModel.getProperty("/tagList")&&this.oModel.getProperty("/tagList").length>0){this.tagsPool.concat(this.oModel.getProperty("/tagList"))}for(let e=0;e<this.tagsPool.length;e++){const o=this.tagsPool[e];if(t[o]){t[o]++}else{t[o]=1}}for(const e in t){o.push({tag:e,occ:t[e]})}const a=o.sort((e,t)=>t.occ-e.occ);if(e){this.oModel.setProperty("/tagList",a.slice(0,e))}else{this.oModel.setProperty("/tagList",a)}},processPendingCatalogs:function(e){const o=this.oModel.getProperty("/catalogs");const i=t.getInstance();const n=this.oModel.getProperty("/masterCatalogs")||[{title:l.getLocalizedText("all")}];c.end("FLP:DashboardManager.getCatalogTiles");c.resume("FLP:DashboardManager.BuildCatalogModelWithRendering");const r=e.reduce((e,t)=>e.then(()=>{let e;let a;const s=t.oCatalogEntry;const i=t.oCatalogModel;const l=this.searchModelCatalogByTitle(i.title);if(l.result){a=this.oModel.getProperty("/catalogs")[l.indexOfPreviousInstanceInModel];e=false}else{e=true;a=i}const r=s.map(e=>this._processCatalogObjectForModel(a,e));return Promise.all(r).then(()=>{if(a.appBoxes.length>0||a.customTiles.length>0){if(e){o.push(i);n.push({title:i.title})}}if(this.oModel.getProperty("/enableCatalogTagFilter")===true){this.getTagList()}})}),Promise.resolve());return r.then(()=>{this.oModel.setProperty("/masterCatalogs",n);this.oModel.setProperty("/catalogs",o);i.publish("launchpad","afterCatalogSegment");setTimeout(()=>{s.setPerformanceMark("FLP-TTI-AppFinder",{bUseUniqueMark:true});a.emit("firstCatalogSegmentCompleteLoaded",true)},0);c.pause("FLP:DashboardManager.BuildCatalogModelWithRendering")})},_processCatalogObjectForModel:function(e,t){if(this._getIsIntentSupported(t)){if(this._getIsAppBox(t)){return this.createCatalogAppBoxes(t,true).then(t=>{e.appBoxes.push(t)})}return this.createCatalogTiles(t).then(t=>{e.customTiles.push(t);if(!this.aFnToGetTileView){this.aFnToGetTileView=[]}})}return Promise.resolve()},searchModelCatalogByTitle:function(e){const t=this.oModel.getProperty("/catalogs");let o=false;let a;let s=0;let i=false;let n;for(let l=0;l<t.length;++l){n=t[l];if(n.title===g.i18n.getText("catalogsLoading")){i=true}else if(e===n.title){a=l;s=n.numberOfTiles;o=true;break}}return{result:o,indexOfPreviousInstanceInModel:a,indexOfPreviousInstanceInPage:i?a-1:a,numOfTilesInCatalog:s}},_getCatalogTileId:function(e){let t=this.oLaunchPageService.getStableCatalogTileId(e);if(!h.last("/core/spaces/enabled")){t=null}if(!t){t=this.oLaunchPageService.getCatalogTileId(e)}return t},createCatalogAppBoxes:async function(e,t){const o=encodeURIComponent(this._getCatalogTileId(e));const a=this.oTileCatalogToGroupsMap[o]||[];const s=this.oLaunchPageService.getCatalogTileTags(e)||[];const i=this.oLaunchPageService.getCatalogTileContentProviderId(e);const n=await d.getContentProviderLabel(i)||i;if(s.length>0){this.tagsPool=this.tagsPool.concat(s)}let l;if(e.tileResolutionResult){l=e.tileResolutionResult.navigationMode}return{id:o,associatedGroups:a,src:e,title:this.oLaunchPageService.getCatalogTilePreviewTitle(e),subtitle:this.oLaunchPageService.getCatalogTilePreviewSubtitle(e),icon:this.oLaunchPageService.getCatalogTilePreviewIcon(e),keywords:t?(this.oLaunchPageService.getCatalogTileKeywords(e)||[]).join(","):[],tags:s,navigationMode:l,url:this.oLaunchPageService.getCatalogTileTargetURL(e),contentProviderLabel:n}},onDoneLoadingCatalogs:function(e){const o=e.map(e=>new Promise((t,o)=>{this.oLaunchPageService.getCatalogTiles(e).done(t).fail(o)}));Promise.all(o).then(t=>{let o=true;for(let e=0;e<t.length;e++){if(t[e].length!==0){o=false;break}}if(o||!e.length){this.oModel.setProperty("/catalogsNoDataText",g.i18n.getText("noCatalogs"))}});const a=t.getInstance();a.publish("launchpad","catalogContentLoaded");const i=e.filter(e=>{const t=this.oLaunchPageService.getCatalogError(e);if(t){u.error("A catalog could not be loaded",t,"sap.ushell.components.CatalogsManager")}return!t});if(i.length!==e.length){l.showLocalizedError("partialCatalogFail")}s.handleTilesVisibility()},createCatalogTiles:async function(e){let t=Promise.resolve();const a=e.getChip&&e.getChip().getBaseChipId&&e.getChip().getBaseChipId();if(a&&["X-SAP-UI2-CHIP:/UI2/DYNAMIC_APPLAUNCHER","X-SAP-UI2-CHIP:/UI2/STATIC_APPLAUNCHER"].indexOf(a)===-1){t=new Promise((t,o)=>{this.oLaunchPageService.getCatalogTileViewControl(e).done(t).fail(o)})}return t.then(async t=>{const a=encodeURIComponent(this._getCatalogTileId(e));const s=this.oTileCatalogToGroupsMap[a]||[];const i=this.oLaunchPageService.getCatalogTileTags(e)||[];const n=this.oLaunchPageService.getCatalogTileContentProviderId(e);const l=await d.getContentProviderLabel(n);if(i.length>0){this.tagsPool=this.tagsPool.concat(i)}if(!t){t=new o({state:"Loading"})}let r=this.oLaunchPageService.getCatalogTilePreviewTitle(e);if(!r){r=this.oLaunchPageService.getCatalogTileTitle(e)}return{associatedGroups:s,src:e,catalog:e.title,catalogId:e.id,title:r,tags:i,keywords:(this.oLaunchPageService.getCatalogTileKeywords(e)||[]).join(","),id:a,size:this.oLaunchPageService.getCatalogTileSize(e),content:[t],isTileIntentSupported:this.oLaunchPageService.isTileIntentSupported(e),tileType:e.tileType,contentProviderLabel:l}})},createGroupAndSaveTile:function(e){const o=e.catalogTileContext;const a=e.newGroupName;const i=new jQuery.Deferred;if(s.validHash(a)&&o){this.createGroup(a).then(e=>{const a=this.oHomepageManager.getDashboardView();if(a&&a.getModel().getProperty("/tileActionModeActive")){t.getInstance().publish("launchpad","AddTileContainerContent")}let s={};this.createTile({catalogTileContext:o,groupContext:e}).done(e=>{s={group:e.group,status:1,action:"addTileToNewGroup"};i.resolve(s)}).fail(e=>{s={group:e.group,status:0,action:"addTileToNewGroup"};i.resolve(s)})})}return i.promise()},createGroup:function(e){const t=this;const o=new jQuery.Deferred;if(!s.validHash(e)){return o.reject(new Error("Invalid group title"))}const a=this.oLaunchPageService.addGroup(e);a.done(e=>{const a=t.oHomepageManager.addGroupToModel(e);o.resolve(a)});a.fail(()=>{l.showLocalizedError("fail_to_create_group_msg");const e={status:0,action:"createNewGroup"};o.resolve(e)});return o.promise()},createTile:function(e){const o=this;const a=e.catalogTileContext;const s=e.groupContext;const i=this.oModel.getProperty(s.getPath());const r=i.groupId;const g=new jQuery.Deferred;let c={};const h=t.getInstance();h.publish("launchpad","addTile",{catalogTileContext:a,groupContext:s});if(!a){u.warning("CatalogsManager: Did not receive catalog tile object. Abort.",this);c={group:i,status:0,action:"add"};return Promise.resolve(c)}const d=this.oLaunchPageService.addTile(a.getProperty("src"),s.getProperty("object"));d.done(e=>{const t=o.oModel.getProperty("/groups");const a=n.getModelPathOfGroup(t,r);o.oHomepageManager.addTileToGroup(a,e);c={group:i,status:1,action:"add"};g.resolve(c)}).fail(()=>{l.showLocalizedError("fail_to_add_tile_msg");c={group:i,status:0,action:"add"};g.resolve(c)});return g.promise()},deleteCatalogTileFromGroup:function(e){const t=this;const o=decodeURIComponent(e.tileId);const a=e.groupIndex;const s=this.oModel.getProperty(`/groups/${a}`);const i=new jQuery.Deferred;const n=[];const l=[];["tiles","links"].forEach(e=>{s[e].forEach(e=>{const a=t.oLaunchPageService.getCatalogTileId(e.object);if(a===o){const o=new jQuery.Deferred;const a=t.oLaunchPageService.removeTile(s.object,e.object);a.done(function(t){return function(){l.push(e.uuid);t.resolve({status:true})}}(o));a.fail(function(e){return function(){e.resolve({status:false})}}(o));n.push(o)}})});jQuery.when.apply(jQuery,n).done(e=>{const o=n.length===l.length;t.oHomepageManager.deleteTilesFromGroup(s.groupId,l);t.updateTilesAssociation();i.resolve({group:s,status:o,action:"remove"})});return i.promise()},calculateCatalogTileIndex:function(e,t,o){let a=parseInt(e*1e5,10);a+=(t!==undefined?t:0)+o;return a},notifyOnActionFailure:function(e,t){l.showLocalizedError(e,t)},resetAssociationOnFailure:function(e,t){this.notifyOnActionFailure(e,t);this.updateTilesAssociation()},_getIsIntentSupported:function(e){return!!this.oLaunchPageService.isTileIntentSupported(e)},_getIsAppBox:function(e){let t;const o=this.oModel.getProperty("/appFinderDisplayMode")||"appBoxes";if(o.toLowerCase()==="tiles"){t=false}else{t=!!(this.oLaunchPageService.getCatalogTileTargetURL(e)&&(this.oLaunchPageService.getCatalogTilePreviewTitle(e)||this.oLaunchPageService.getCatalogTilePreviewSubtitle(e)))}return t},destroy:function(){this.unregisterEvents()}});T.prototype.getInstance=function(){return P};return T});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/ComponentKeysHandler", ["sap/base/i18n/Localization","sap/ui/core/Element","sap/ui/core/EventBus","sap/ushell/Config","sap/ui/events/KeyCodes","sap/ui/thirdparty/jquery","sap/base/Log","sap/ushell/renderer/AccessKeysHandler","sap/ushell/bootstrap/common/common.load.model","sap/ushell/ui/launchpad/Tile","sap/ushell/Container"],(e,t,n,s,i,jQuery,o,l,r,a,c)=>{"use strict";function h(){}h._instance=undefined;h.getInstance=function(){if(h._instance===undefined){h._instance=new h;return h._instance._init().then(()=>h._instance)}return Promise.resolve(h._instance)};h.prototype={keyCodes:i,_init:function(){this.oModel=r.getModel();if(c.getLogonSystem().getPlatform()==="cdm"){return Promise.resolve()}if(!this.oLaunchPageService){return c.getServiceAsync("FlpLaunchPage").then(e=>{this.oLaunchPageService=e})}return Promise.resolve()},goToLastVisitedTile:function(e,t){let n;let s;const i=jQuery(".sapUshellTile, .sapMGTLineMode, .sapFCard");if(t){const t=jQuery("#dashboardGroups").find(".sapUshellTileContainer").filter(":visible");const o=this.oModel.getProperty("/topGroupInViewPortIndex");const l=e||jQuery(t.get(o));const r=l.find(".sapUshellTile, .sapMGTLineMode, .sapFCard");n=r.filter(":visible").eq(0);s=r.filter("[tabindex=0]:visible").eq(0);if(!n.length){n=i.filter(":visible").eq(0)}}else{n=i.filter(":visible").eq(0);s=i.filter("[tabindex=0]:visible").eq(0)}if(s.length){this.moveScrollDashboard(s)}else if(n.length){n.attr("tabindex","0");this.moveScrollDashboard(n)}else{l.sendFocusBackToShell()}},_goToFirstTileOfNextGroup:function(e,t){this._preventDefault(t);const n=this._getGroupAndTilesInfo();if(n){const t=this._getNextGroup(e,n.oGroup,false,true);if(t){this._goToTileOfGroup("first",t)}}},_goToTileOfGroup:function(e,t){if(t){let n=t.getTiles().filter(this._filterInvisibleTiles);const s=t.getLinks().filter(this._filterInvisibleTiles);if(t.getShowPlaceholder()){n.push(t.oPlusTile)}n=n.concat(s);e=e==="first"?0:e;e=e==="last"?n.length-1:e;const i=n[e];if(i){this.moveScrollDashboard(i.$());return true}}return false},_moveTile:function(e){const s=this._getGroupAndTilesInfo();if(!s||s.oGroup.getProperty("isGroupLocked")||s.oCurTile.isA("sap.ushell.ui.launchpad.PlusTile")){return}const i=s.oCurTile;const o=this._getNextTile(e,true);if(o){const s=i.getMode?i.getMode():"ContentMode";const l=o.getMode?o.getMode():"ContentMode";const r=i.getParent();const a=o.getParent();const c=r===a;const h=s===l;const u=l==="LineMode"?a.getLinks():a.getTiles();let f=u.indexOf(o);const d=this._getTileRect(e,i);const p=this._getTileRect(e,o);if(!p){f=0}else{const t=d.right>p.right+5;const n=f===u.length-1;if(!c||!h){if((e==="up"||e==="down")&&t&&n){f++}else if(e==="left"){f++}}}const g=t.getElementById("sapUshellDashboardPage").getParent();n.getInstance().publish("launchpad",h?"movetile":"convertTile",{callBack:this.callbackSetFocus.bind(this),sTileId:g.getController()._getTileUuid(i),toGroupId:a.getGroupId?a.getGroupId():a.groupId,srcGroupId:r.getGroupId?r.getGroupId():r.groupId,toIndex:f,tile:i,sToItems:l==="LineMode"?"links":"tiles",sFromItems:s==="LineMode"?"links":"tiles",sTileType:s==="LineMode"?"link":"tile",longDrop:false})}},callbackSetFocus:function(e){setTimeout(()=>{if(e.oParent&&e.oParent instanceof a){this.moveScrollDashboard(jQuery(e.oParent.getDomRef()))}else{this.moveScrollDashboard(e.$())}},0)},_getTileCenter:function(e,t,n){if(!(n instanceof HTMLElement)){const s=n.$().find(".sapMGTLineStyleHelper");if(n.isLink&&s&&s.length>1){if(e==="down"){return t.right}return t.left}}return t.right-(t.right-t.left)/2},_getTileRect:function(e,t){if(t instanceof HTMLElement){return t.getBoundingClientRect()}const n=t.$().find(".sapMGTLineStyleHelper");if(t.isLink&&n&&n.length){if(e==="down"){return n.get(n.length-1).getBoundingClientRect()}return n.get(0).getBoundingClientRect()}if(t.getDomRef()){return t.getDomRef().getBoundingClientRect()}return undefined},_findClosestTile:function(e,t,n){const s=this._getTileRect(e,n);const i=this._getTileCenter(e,s,n);let o;let l=Infinity;const r=e==="down"?1:-1;let a=t.indexOf(n)+r;let c;for(;;a+=r){const n=t[a];if(!n){return o}if(!o){if(e==="down"&&a===t.length-1){return n}if(e==="up"&&a===0){return n}}const r=this._getTileRect(e,n);if(!r){return o}if(e==="down"&&s.bottom+5>=r.bottom){continue}if(e==="up"&&s.top-5<=r.top){continue}if(o&&c!==r.top){return o}c=r.top;const h=Math.min(Math.abs(r.left-i),Math.abs(r.right-i));if(l>h){l=h;o=n}else{return o}}},_filterInvisibleTiles:function(e){return e.getVisible()&&e.getDomRef()},_getNextTile:function(e,t){const n=this._getGroupAndTilesInfo();if(!n){return null}const s=n.oCurTile;const i=n.oGroup;let o=i.getTiles().filter(this._filterInvisibleTiles);const l=i.getLinks().filter(this._filterInvisibleTiles);const r=s.isLink;const a=i.getShowPlaceholder();const c=s.getBindingContext();const h=!t||c&&this._isLinkPersonalizationSupported(c.getObject().object);const u=r?l:o;const f=u.indexOf(s);if(f<0){if(e==="right"){if(l.length){return l[0]}}if(e==="left"){if(o.length){return o[o.length-1]}}}else{if(e==="right"){if(f<u.length-1){return u[f+1]}if(!r&&a&&!t){return i.oPlusTile}if(!r&&h&&l.length){return l[0]}}if(e==="left"){if(f>0){return u[f-1]}if(r&&a){return i.oPlusTile}if(r&&o.length){return o[o.length-1]}}}const d=this._getNextGroup(e,i,t,h);let p=d?d.getTiles().filter(this._filterInvisibleTiles):[];const g=d?d.getLinks().filter(this._filterInvisibleTiles):[];const T=d&&d.getShowPlaceholder();if(d){if(e==="right"){if(p.length){return p[0]}if(T){return d.oPlusTile}if(g.length){return g[0]}return d.oPlusTile}if(e==="left"){if(h&&g.length){return g[g.length-1]}if(T&&!t){return d.oPlusTile}if(p.length){return p[p.length-1]}return d.oPlusTile}}if(e==="up"||e==="down"){if(!o.length&&t){o=[i.oPlusTile]}const n=h?o.concat(l):o;let r=[];if(d){if(!p.length&&t){p=[d.oPlusTile]}r=h?p.concat(g):p}const a=e==="up"?r.concat(n):n.concat(r);return this._findClosestTile(e,a,s)}},_isLinkPersonalizationSupported:function(e){return!this.oLaunchPageService||this.oLaunchPageService.isLinkPersonalizationSupported(e)},_getNextGroup:function(e,t,n,s){let i;const o=t.getParent().getGroups();const l=o.indexOf(t);let r=l;if(e==="down"||e==="right"){i=1}else{i=-1}r+=i;while(o[r]){const e=o[r];const t=e.getTiles().filter(this._filterInvisibleTiles);const l=e.getLinks().filter(this._filterInvisibleTiles);const a=s?t.concat(l):t;const c=e.getVisible()&&!(e.getIsGroupLocked()&&n)&&!(e.getIsGroupLocked()&&a.length===0)&&!(a.length===0&&!(n||e.getShowPlaceholder()));if(c){return e}r+=i}return undefined},_getGroupAndTilesInfo:function(){const e=this._getFocusOnTile(jQuery(document.activeElement));if(!e||!e.length){return null}const n=t.closestTo(e[0]);n.isLink=e.hasClass("sapUshellLinkTile")||e.hasClass("sapMGTLineMode");const s=t.closestTo(e.closest(".sapUshellTileContainer")[0]);if(!s){return null}return{oCurTile:n,oGroup:s}},_goToSiblingElementInTileContainer:function(e,t){const n=t.closest(".sapUshellTileContainer");let s;let i;let o;s=t.closest(".sapUshellTileContainerBeforeContent");if(s.length){if(e==="up"||e==="left"){this._goToNextTileContainer(s,e)}else{o=n.find(".sapUshellTileContainerHeader").eq(0);o.focus()}return}s=t.closest(".sapUshellTileContainerHeader");if(s.length){if(e==="up"){if(!this._goToTileContainerBeforeContent(n)){this._goToNextTileContainer(s,e)}}else if(e==="down"){i=n.find(".sapUshellTile, .sapUshellLinkTile, .sapFCard").eq(0);if(i.length){this.moveScrollDashboard(i)}else{this._goToNextTileContainer(s,e)}}else if(e==="left"){if(t.hasClass("sapUshellTileContainerHeader")){if(!this._goToTileContainerBeforeContent(n)){this._goToNextTileContainer(s,"left")}}else{o=t.closest(".sapUshellTileContainerHeader");o.focus()}}else if(e==="right"){const e=t.hasClass("sapMInputBaseInner");if(!e){i=n.find(".sapUshellTile, .sapUshellLinkTile, .sapFCard").eq(0);if(i.length){this.moveScrollDashboard(i)}else{this._goToNextTileContainer(s,"down")}}}return}s=this._getFocusOnTile(t);if(s){this._goFromFocusedTile(e,s,true);return}s=t.closest(".sapUshellTileContainerAfterContent");if(s.length){if(e==="up"||e==="left"){this._goToTileOfGroup("first",s.control(0))}else{this._goToNextTileContainer(s,e)}}},_goToNextTileContainer:function(e,n){const s=e.closest(".sapUshellTileContainer");if(s.length===1){const e=jQuery(".sapUshellTileContainer").filter(":visible");const i=n==="down"?1:-1;const o=jQuery(e[e.index(s)+i]);if(o.length===1){const e=o.find(".sapUshellTileContainerHeader");if(n==="down"){if(!this._goToTileContainerBeforeContent(o)){this._setTileContainerSelectiveFocus(o)}}else if(!this._goToTileContainerAfterContent(o)){if(n==="up"||n==="left"){const s=n==="up"?"first":"last";if(!this._goToTileOfGroup(s,t.closestTo(o[0]))){e.focus()}}}}}},_goToTileContainerBeforeContent:function(e){const t=e.hasClass("sapUshellTileContainer")?e:e.closest(".sapUshellTileContainer");const n=t.find(".sapUshellTileContainerBeforeContent button").filter(":visible");if(n.length){n.focus();return true}return false},_goToTileContainerAfterContent:function(e){const t=e.hasClass("sapUshellTileContainer")?e:e.closest(".sapUshellTileContainer");const n=t.find(".sapUshellTileContainerAfterContent button").filter(":visible");if(n.length){n.focus();return true}return false},_goFromFocusedTile:function(e,t,n){const s=this._getNextTile(e);const i=t.closest(".sapUshellTileContainer");if(s){const t=s.$();const o=t.closest(".sapUshellTileContainer");if(n&&i.get(0).id!==o.get(0).id){if(e==="down"||e==="right"){if(!this._goToTileContainerAfterContent(i)){this._setTileContainerSelectiveFocus(o)}}else if(e==="up"||e==="left"){const e=i.find(".sapUshellTileContainerHeader");e.focus()}}else{this.moveScrollDashboard(t)}}else if(n){if(e==="down"||e==="right"){this._goToTileContainerAfterContent(i)}else if(e==="up"||e==="left"){const e=i.find(".sapUshellTileContainerHeader");e.focus()}}},_setTileContainerSelectiveFocus:function(e){const t=jQuery("#dashboardGroups").find(".sapUshellTileContainer").filter(":visible");const n=e.find(".sapUshellTileContainerBeforeContent button");const s=e.find(".sapUshellTileContainerHeader").eq(0);const i=n.length&&n.is(":visible");if(i){n.focus()}else if(e.get(0)===t.get(0)){this.goToLastVisitedTile()}else if(s.length){s.focus()}},_setTileFocus:function(e){const s=document.getElementById("catalogView");if(s&&s.contains(e)){this.setFocusOnCatalogTile(e);return}const i=document.getElementById("dashboardGroups");const o=i.querySelectorAll(".sapUshellTile[tabindex]");for(let e=0;e<o.length;++e){o[e].removeAttribute("tabindex")}const l=[".sapMGTLineMode",".sapMGT",".sapFCard"].join('[tabindex="0"], ');const r=i.querySelectorAll(l);for(let e=0;e<r.length;++e){r[e].setAttribute("tabindex","-1")}e.setAttribute("tabindex",0);const a=t.getElementById(e.getAttribute("id"));if(a){const e=a.getParent();if(e){const t=n.getInstance();t.publish("launchpad","scrollToGroup",{group:e})}a.focus()}},setFocusOnCatalogTile:function(e){const t=jQuery(".sapUshellTile[tabindex=0]");let n;let s;if(t.length){jQuery(".sapUshellTileContainerContent [tabindex=0]").get().forEach(e=>{jQuery(e).attr("tabindex",-1)});n=t.find("[tabindex], a").addBack().filter("[tabindex], a");n.attr("tabindex",-1)}if(!e){s=jQuery(".sapUshellTile, .sapUshellAppBox").filter(":visible");if(s.length){e=s[0]}else{const e=document.getElementsByClassName("sapMMessagePageMainText");if(e.length){e[0].focus()}return}}e.setAttribute("tabindex",0);jQuery(e).find("button").attr("tabindex",0);e.focus()},moveScrollDashboard:function(e){if(e.length){this._setTileFocus(e[0])}},_moveGroupFromDashboard:function(e,t){const n=jQuery(".sapUshellDashboardGroupsContainerItem");const s=t.closest(".sapUshellDashboardGroupsContainerItem");const i=n.index(s);const o=e==="up"||e==="left"?i-1:i+1;this._moveGroup(i,o)},_moveGroup:function(e,t){if(t<0||t>=jQuery(".sapUshellDashboardGroupsContainerItem").length||t<jQuery(".sapUshellDisableDragAndDrop").length){return}n.getInstance().publish("launchpad","moveGroup",{fromIndex:e,toIndex:t});setTimeout(()=>{const e=jQuery(".sapUshellTileContainerHeader")[t];jQuery(e).focus()},100)},_getFocusOnTile:function(e){let t;[".sapUshellTile",".sapUshellLinkTile",".sapFCard"].forEach(n=>{const s=e.closest(n);if(s.length){t=s}});return t},_renameGroup:function(e){if(e.closest(".sapUshellTileContainerHeader").length===1){e=e[0].tagName==="H2"?e:e.find("h2");e.click()}},_arrowsButtonsHandler:function(e,t,n){this._preventDefault(t);if(n.hasClass("sapUshellAnchorItem")){this._handleAnchorNavigationItemsArrowKeys(e,n);return}if(n.is("#sapUshellAnchorBarOverflowButton")){this._handleAnchorNavigationOverflowButtonArrowKeys(e);return}const s=this._getFocusOnTile(n);const i=this.oModel.getProperty("/tileActionModeActive");const o=this.oModel.getProperty("/personalization");if(t.ctrlKey===true&&o){const t=n.closest(".sapUshellTileContainerHeader");if(s){this._moveTile(e)}else if(t.length){const n=t.closest(".sapUshellTileContainerContent");if(!n.hasClass("sapUshellTileContainerDefault")||!n.hasClass("sapUshellTileContainerLocked")){this._moveGroupFromDashboard(e,t)}}}else if(i){this._goToSiblingElementInTileContainer(e,n)}else if(s){this._goFromFocusedTile(e,s,i)}else{this.goToLastVisitedTile()}},_handleAnchorNavigationOverflowButtonArrowKeys:function(e){if(e==="left"||e==="up"){const e=jQuery(".sapUshellAnchorItem").filter(":visible");this._setAnchorItemFocus(e.eq(e.length-1)[0])}},_handleAnchorNavigationItemsArrowKeys:function(e,t){const n=jQuery(".sapUshellAnchorItem").filter(":visible");const s=n.index(t);if(e==="left"||e==="up"){if(s>0){this._setAnchorItemFocus(n.eq(s-1)[0]);return}}if(e==="right"||e==="down"){if(s<n.length-1){this._setAnchorItemFocus(n.eq(s+1)[0])}else if(s===n.length-1){const e=document.getElementById("sapUshellAnchorBarOverflowButton");e.focus()}}},_setAnchorItemFocus:function(e){const t=document.getElementsByClassName("sapUshellAnchorItem");for(let e=0;e<t.length;++e){t[e].setAttribute("tabindex","-1")}if(!e){e=jQuery(".sapUshellAnchorItem").filter(":visible")[0]}e.setAttribute("tabindex","0");e.focus()},_appFinderHomeEndButtonsHandler:function(e,t,n){const s=jQuery(".sapUshellTile, .sapUshellAppBox").filter(":visible");let i;if(s.length){if(e==="home"){i=jQuery(s.get(0))}if(e==="end"){i=jQuery(s.get(s.length-1))}}if(i){this._preventDefault(t);this._appFinderFocusAppBox(n,i)}},_homeEndButtonsHandler:function(e,n,s){if(s.hasClass("sapUshellAnchorItem")){this._preventDefault(n);this._setAnchorItemFocus(jQuery(".sapUshellAnchorItem").filter(`:visible:${e}`)[0])}else if(n.ctrlKey===true){this._preventDefault(n);const t=jQuery(".sapUshellTile, .sapFCard").filter(":visible")[e]();if(t.length){this._setTileFocus(t[0])}}else{const i=s.closest(".sapUshellTileContainer");if(i){const s=t.closestTo(i[0]);if(s){this._preventDefault(n);this._goToTileOfGroup(e,s)}}}},_deleteButtonHandler:function(e){const s=this.oModel.getProperty("/tileActionModeActive");const i=this.oModel.getProperty("/personalization");if(s&&i){const s=this._getFocusOnTile(e);if(s&&!s.hasClass("sapUshellLockedTile")&&!s.hasClass("sapUshellPlusTile")){const e=this._getGroupAndTilesInfo();if(e&&!e.oCurTile.isLink){const s=t.getElementById("sapUshellDashboardPage").getParent();n.getInstance().publish("launchpad","deleteTile",{tileId:s.getController()._getTileUuid(e.oCurTile),items:"tiles"},this)}}}},_spaceButtonHandler:function(e,n){e.preventDefault();const s=this._getFocusOnTile(n);if(!s||!s.length){n.click();return}if(s.hasClass("sapFCard")){t.closestTo(s[0]).getCardHeader().firePress();return}const i=n.find("[role=button], a.sapMGT");if(i.length&&!this.oModel.getProperty("/tileActionModeActive")){const e=t.closestTo(i[0]);if(e){e.firePress();return}}t.closestTo(s[0]).firePress()},goToSelectedAnchorNavigationItem:function(){this._setAnchorItemFocus(document.getElementsByClassName("sapUshellAnchorItemSelected")[0]);return document.activeElement&&document.activeElement.classList.contains("sapUshellAnchorItemSelected")},handleFocusOnMe:function(e,n){const i=c.getRendererInternal("fiori2");const o=h._instance;if(i){const l=i.getCurrentCoreView();if(l==="home"&&!s.last("/core/spaces/enabled")){const t=document.activeElement?document.activeElement.tagName:"";if(t==="INPUT"||t==="TEXTAREA"){if(e.keyCode===o.keyCodes.ENTER){let e=jQuery(document.activeElement).closest(".sapUshellTileContainerHeader");if(e.length){setTimeout(()=>{e=jQuery(`#${e[0].id}`);e.focus()},10)}}}else{o._dashboardKeydownHandler(e)}}if(l==="appFinder"&&!s.last("/core/workPages/contentFinderStandalone")){if(n){if(e.shiftKey){o.setFocusOnCatalogTile()}else{const n=t.getElementById("openCloseButtonAppFinderSubheader");if(n&&n.getVisible()){n.focus()}else{o.appFinderFocusMenuButtons(e)}}}else{o._appFinderKeydownHandler(e)}}}},_appFinderFocusAppBox:function(e,t){if(e&&t){e.attr("tabindex","-1").find(".sapUshellPinButton").attr("tabindex","-1");t.attr("tabindex","0").focus();t.find(".sapUshellPinButton").attr("tabindex","0")}},_preventDefault:function(e){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation()},_getNextCatalog:function(e,t){let n;if(e==="down"||e==="right"){n=t.next()}else if(e==="up"||e==="left"){n=t.prev()}else{o.error("Direction is unkown",e,"sap.ushell.components.ComponentKeysHandler");return null}if(n.length>0){const t=n.find("li.sapUshellAppBox, li.sapUshellTile").get().length;if(t>0){return n}return this._getNextCatalog(e,n)}return undefined},_getNextCatalogItem:function(e,t,n){const s=jQuery(t.parents()[2]);const i=s.find("li.sapUshellAppBox, li.sapUshellTile").get();if(e==="right"||e==="left"){const n=i.indexOf(t.get(0));const s=e==="right"?n+1:n-1;if(i[s]){return i[s]}}const o=this._getNextCatalog(e,s);const l=o?o.find("li.sapUshellAppBox, li.sapUshellTile").get():[];if(l.length>0&&e==="right"){return l[0]}if(l.length>0&&e==="left"){return l[l.length-1]}if(e==="down"||e==="up"){if(l.length>0&&n){return l[0]}const s=e==="down"?i.concat(l):l.concat(i);return this._findClosestTile(e,s,t.get(0))}return undefined},_appFinderKeysHandler:function(e,t,n,s){if(n.is(".sapUshellAppBox, .sapUshellTile")){this._preventDefault(t);const i=jQuery(this._getNextCatalogItem(e,n,s));if(i){this._appFinderFocusAppBox(n,i)}}},appFinderFocusMenuButtons:function(e){const t=jQuery("#catalog-button, #userMenu-button, #sapMenu-button").filter("[tabindex=0]");if(t.length){t.eq(0).focus();this._preventDefault(e);return true}return false},_appFinderKeydownHandler:function(t){const n=jQuery(document.activeElement);if(t.srcElement.id!=="appFinderSearch-I"){let s=t.keyCode;const i=e.getRTL();if(i&&s===this.keyCodes.ARROW_RIGHT){s=this.keyCodes.ARROW_LEFT}else if(i&&s===this.keyCodes.ARROW_LEFT){s=this.keyCodes.ARROW_RIGHT}switch(s){case this.keyCodes.ARROW_UP:this._appFinderKeysHandler("up",t,n);break;case this.keyCodes.ARROW_DOWN:this._appFinderKeysHandler("down",t,n);break;case this.keyCodes.ARROW_RIGHT:this._appFinderKeysHandler("right",t,n);break;case this.keyCodes.ARROW_LEFT:this._appFinderKeysHandler("left",t,n);break;case this.keyCodes.PAGE_UP:this._appFinderKeysHandler("up",t,n,true);break;case this.keyCodes.PAGE_DOWN:this._appFinderKeysHandler("down",t,n,true);break;case this.keyCodes.HOME:this._appFinderHomeEndButtonsHandler("home",t,n);break;case this.keyCodes.END:this._appFinderHomeEndButtonsHandler("end",t,n);break;case this.keyCodes.SPACE:this._spaceButtonHandler(t,n);break;default:return}}},_dashboardKeydownHandler:function(t){const n=document.activeElement&&document.activeElement.tagName;if(n==="INPUT"||n==="TEXTAREA"){return}let s=t.keyCode;const i=e.getRTL();const o=jQuery(document.activeElement);if(i){if(s===this.keyCodes.ARROW_RIGHT){s=this.keyCodes.ARROW_LEFT}else if(s===this.keyCodes.ARROW_LEFT){s=this.keyCodes.ARROW_RIGHT}}switch(s){case this.keyCodes.F2:this._renameGroup(o);break;case this.keyCodes.DELETE:case this.keyCodes.BACKSPACE:this._deleteButtonHandler(o);break;case this.keyCodes.ARROW_UP:this._arrowsButtonsHandler("up",t,o);break;case this.keyCodes.ARROW_DOWN:this._arrowsButtonsHandler("down",t,o);break;case this.keyCodes.ARROW_RIGHT:this._arrowsButtonsHandler("right",t,o);break;case this.keyCodes.ARROW_LEFT:this._arrowsButtonsHandler("left",t,o);break;case this.keyCodes.PAGE_UP:this._goToFirstTileOfNextGroup("up",t);break;case this.keyCodes.PAGE_DOWN:this._goToFirstTileOfNextGroup("down",t);break;case this.keyCodes.HOME:this._homeEndButtonsHandler("first",t,o);break;case this.keyCodes.END:this._homeEndButtonsHandler("last",t,o);break;case this.keyCodes.SPACE:this._spaceButtonHandler(t,o);break;case this.keyCodes.ENTER:this._spaceButtonHandler(t,o);break;default:break}}};return h});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/DestroyHelper", [],()=>{"use strict";function t(t){let e;if(t&&t.content){for(e=0;e<t.content.length;e++){if(t.content[e].destroy){t.content[e].destroy()}}}}function e(e){let n;if(e){for(n=0;n<e.length;n++){t(e[n])}}}function n(t){if(t){e(t.tiles)}}function o(t){let e;if(t){for(e=0;e<t.length;e++){n(t[e])}}}return{destroyFLPAggregationModel:n,destroyFLPAggregationModels:o,destroyTileModel:t,destroyTileModels:e}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/GroupsHelper", [],()=>{"use strict";function r(r,t){for(let e=0;e<r.length;e++){if(r[e].groupId===t){return e}}return-1}function t(t,e){const n=r(t,e);if(n<0){return null}return`/groups/${n}`}return{getIndexOfGroup:r,getModelPathOfGroup:t}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/HomepageManager", ["sap/ui/thirdparty/jquery","sap/ui/core/Core","sap/ui/core/Theming","sap/ui/base/Object","sap/ui/Device","sap/ui/model/Filter","sap/ushell/ui/launchpad/TileState","sap/ushell/components/_HomepageManager/PagingManager","sap/ushell/components/_HomepageManager/DashboardLoadingManager","sap/ushell/EventHub","sap/ushell/Config","sap/ushell/utils","sap/ushell/resources","sap/ushell/components/DestroyHelper","sap/ushell/components/GroupsHelper","sap/ushell/components/MessagingHelper","sap/m/GenericTile","sap/m/SelectDialog","sap/m/StandardListItem","sap/ushell/components/_HomepageManager/PersistentPageOperationAdapter","sap/ushell/components/_HomepageManager/TransientPageOperationAdapter","sap/ui/model/FilterOperator","sap/m/library","sap/ui/model/Context","sap/m/MessageToast","sap/base/Log","sap/base/util/extend","sap/ui/performance/Measurement","sap/ushell/Config","sap/ushell/Container"],(jQuery,e,t,o,i,s,n,r,l,a,d,u,p,c,h,g,f,b,m,M,P,T,G,y,_,I,k,w,L,S)=>{"use strict";const v=G.GenericTileScope;const A={PERSONALIZATION:"FLP: Personalization",RENAME_GROUP:"FLP: Rename Group",MOVE_GROUP:"FLP: Move Group",DELETE_GROUP:"FLP: Delete Group",RESET_GROUP:"FLP: Reset Group",DELETE_TILE:"FLP: Delete Tile",ADD_TILE:"FLP: Add Tile",MOVE_TILE:"FLP: Move Tile"};const O=[];let V;const x=o.extend("sap.ushell.components.HomepageManager",{metadata:{publicMethods:["getModel","getDashboardView","loadPersonalizedGroups","resetGroupsOnFailure","addGroupToModel","addTileToGroup","deleteTilesFromGroup"]},analyticsConstants:A,constructor:function(e,o){if(V){if(!V.view){V.setDashboardView(o.view)}return V}this.oServiceLoadingPromise=S.getServiceAsync("FlpLaunchPage").then(e=>{this.oPageBuilderService=e;this.oPageBuilderService.registerTileActionsProvider(this._addFLPActionsToTile.bind(this));this.oPageOperationAdapter=M.getInstance(e);this.bLinkPersonalizationSupported=this.oPageOperationAdapter.isLinkPersonalizationSupported()});t.attachApplied(u.handleTilesVisibility);V=this;this.oModel=o.model;this.oRouter=o.router;this.oDashboardView=o.view;this.oSortableDeferred=new jQuery.Deferred;this.oSortableDeferred.resolve();this.registerEvents();this.tileViewUpdateQueue=[];this.tileViewUpdateTimeoutID=0;this.tileUuid=null;this.bIsGroupsModelLoading=false;this.bIsGroupsRequestPending=false;this.segmentsStore=[];this.bIsFirstSegment=true;this.bIsFirstSegmentViewLoaded=false;this.aGroupsFrame=null;this.iMinNumOfTilesForBlindLoading=this.oModel.getProperty("/optimizeTileLoadingThreshold")||100;this.bIsScrollModeAccordingKPI=false;this.oGroupNotLockedFilter=new s("isGroupLocked",T.EQ,false);this.oDashboardLoadingManager=new l("loadingManager",{oDashboardManager:this});if(this.oRouter){const e=this.oRouter.getTarget("home");e.attachDisplay(e=>{this.oDashboardView=e.getParameter("view")})}let i=d.last("/core/home/enableTransientMode");O.push(d.on("/core/home/enableTransientMode").do(e=>{if(i===e){return}i=e;this._changeMode(e)}));this.oModel.bindProperty("/tileActionModeActive").attachChange(this._changeLinksScope.bind(this));this._aRequestQueue=[];this._bRequestRunning=false;return undefined},_addRequest:function(e){this._aRequestQueue.push(e);if(!this._bRequestRunning){this._bRequestRunning=true;this._aRequestQueue.shift()()}},_checkRequestQueue:function(){if(this._aRequestQueue.length===0){this._bRequestRunning=false}else{this._aRequestQueue.shift()()}},_requestFailed:function(){this._aRequestQueue=[];this._bRequestRunning=false},isBlindLoading:function(){const e=d.last("/core/home/homePageGroupDisplay");if((e===undefined||e==="scroll")&&this.bIsScrollModeAccordingKPI){I.info("isBlindLoading reason IsScrollModeAccordingKPI and IsScrollMode: true");return true}if(this.oModel.getProperty("/tileActionModeActive")){I.info("isBlindLoading reason TileActionModeActive : true");return true}return false},createMoveActionDialog:function(e){const t=new b(e,{title:p.i18n.getText("moveTileDialog_title"),rememberSelections:false,contentWidth:"400px",contentHeight:"auto",confirm:function(t){const o=t.getParameter("selectedContexts");this.publishMoveActionEvents(o,e)}.bind(this),cancel:function(){const e=document.querySelector('.sapUshellTile[tabindex="0"]');if(e){e.focus()}},items:{path:"/groups",template:new m({title:"{title}"})}});return t},publishMoveActionEvents:function(t,o){const s=e.getEventBus();if(t.length){const e=this.tileType==="link"?"links":"tiles";const n=t[0].getObject().groupId;const r={sTileId:this.tileUuid,sToItems:e,sFromItems:e,sTileType:e,toGroupId:t[0].getObject().groupId,toIndex:t[0].getObject()[this.tileType==="link"?"links":"tiles"].length,source:o};if(i.system.desktop){sap.ui.require(["sap/ushell/components/ComponentKeysHandler"],e=>{e.getInstance().then(e=>{r.callBack=e.callbackSetFocus.bind(e);s.publish("launchpad","scrollToGroup",{groupId:n});s.publish("launchpad","movetile",r)})})}else{s.publish("launchpad","scrollToGroup",{groupId:n});s.publish("launchpad","movetile",r)}}},_changeLinksScope:function(e){const t=this;if(this.bLinkPersonalizationSupported){const o=e.getSource().getValue();this.oModel.getProperty("/groups").forEach((e,i)=>{if(!e.isGroupLocked){t._changeGroupLinksScope(e,o?"Actions":"Display")}})}},_changeGroupLinksScope:function(e,t){const o=this;e.links.forEach((e,i)=>{o._changeLinkScope(e.content[0],t)})},_changeLinkScope:function(e,t){let o;if(e.getScope){o=e}else if(e.getContent){o=e.getContent()[0]}if(this.bLinkPersonalizationSupported&&o&&o.setScope){o.setScope(t)}},registerEvents:function(){const t=e.getEventBus();t.subscribe("launchpad","addBookmarkTile",this._createBookmark,this);t.subscribe("launchpad","tabSelected",this.getSegmentTabContentViews,this);t.subscribe("sap.ushell.services.Bookmark","bookmarkTileAdded",this._addBookmarkToModel,this);t.subscribe("sap.ushell.services.Bookmark","catalogTileAdded",this._refreshGroupInModel,this);t.subscribe("sap.ushell.services.Bookmark","bookmarkTileDeleted",this.loadPersonalizedGroups,this);t.subscribe("launchpad","loadDashboardGroups",this.loadPersonalizedGroups,this);t.subscribe("launchpad","createGroupAt",this._createGroupAt,this);t.subscribe("launchpad","deleteGroup",this._deleteGroup,this);t.subscribe("launchpad","resetGroup",this._resetGroup,this);t.subscribe("launchpad","changeGroupTitle",this._changeGroupTitle,this);t.subscribe("launchpad","moveGroup",this._moveGroup,this);t.subscribe("launchpad","deleteTile",this._deleteTile,this);t.subscribe("launchpad","movetile",this._moveTile,this);t.subscribe("launchpad","sortableStart",this._sortableStart,this);t.subscribe("launchpad","sortableStop",this._sortableStop,this);t.subscribe("launchpad","dashboardModelContentLoaded",this._modelLoaded,this);t.subscribe("launchpad","convertTile",this._convertTile,this)},_changeMode:function(e){const t=this.getModel().getProperty("/groups");if(e){this.oPageOperationAdapter=P.getInstance();const e=this.oPageOperationAdapter.transformGroupModel(t);this.getModel().setProperty("/groups",e)}else{this.oPageOperationAdapter=M.getInstance();c.destroyFLPAggregationModels(t);this.getModel().setProperty("/groups",[]);this.loadPersonalizedGroups()}},_addFLPActionsToTile:function(e){const t=[];if(d.last("/core/shell/enablePersonalization")){const o=this.bLinkPersonalizationSupported&&this.oPageOperationAdapter.isLinkPersonalizationSupported(e);t.push(this._getMoveTileAction(e));if(o){t.push(this._getConvertTileAction(e))}}return t},getPersonalizableGroups:function(){const e=this.getModel().getProperty("/groups");return e.filter(e=>!e.isGroupLocked)},_getConvertTileAction:function(t){const o=e.getEventBus();const s=this.oPageOperationAdapter.getTileType(t);const n=s==="tile"?"ConvertToLink":"ConvertToTile";return{id:n,text:p.i18n.getText(n),press:function(e){const t={tile:e};if(i.system.desktop){sap.ui.require(["sap/ushell/components/ComponentKeysHandler"],e=>{e.getInstance().then(e=>{t.callBack=e.callbackSetFocus.bind(e);o.publish("launchpad","convertTile",t)})})}else{o.publish("launchpad","convertTile",t)}}}},_getMoveTileAction:function(e){const t="moveTile_action";return{id:t,text:p.i18n.getText(t),press:function(t){this.tileType=this.oPageOperationAdapter.getTileType(e);const o=this.tileType==="tile";this.tileUuid=this.getModelTileById(this.oPageOperationAdapter.getTileId(e),o?"tiles":"links").uuid;const i=t.getParent().getProperty("groupId");const n=new s("groupId",T.NE,i);const r=function(e){const t=e.getParameter("value");const o=new s("title",T.Contains,t);const i=e.getSource().getBinding("items");i.filter([o,this.oGroupNotLockedFilter,n])}.bind(this);let l=o?this.moveTileDialog:this.moveLinkDialog;if(!l){l=this.createMoveActionDialog(`move${this.tileType}Dialog`);l.setModel(this.oModel);if(o){this.moveTileDialog=l}else{this.moveLinkDialog=l}}else{l.detachSearch(l._searchHandler)}l.getBinding("items").filter([this.oGroupNotLockedFilter,n]);l.attachSearch(r);l._searchHandler=r;l.open()}.bind(this)}},_handleTileAppearanceAnimation:function(e){if(!e){return}const t=["webkit",""];function o(o,i){for(let o=0;o<t.length;o++){i=i.toLowerCase();e.attachBrowserEvent(t[o]+i,t=>{if(t.originalEvent&&t.originalEvent.animationName==="sapUshellTileEntranceAnimation"){e.removeStyleClass("sapUshellTileEntrance")}},false)}}o(e,"AnimationEnd");e.addStyleClass("sapUshellTileEntrance")},destroy:function(){const i=e.getEventBus();i.unsubscribe("launchpad","addBookmarkTile",this._createBookmark,this);i.unsubscribe("launchpad","loadDashboardGroups",this.loadPersonalizedGroups,this);i.unsubscribe("launchpad","createGroupAt",this._createGroupAt,this);i.unsubscribe("launchpad","deleteGroup",this._deleteGroup,this);i.unsubscribe("launchpad","resetGroup",this._resetGroup,this);i.unsubscribe("launchpad","changeGroupTitle",this._changeGroupTitle,this);i.unsubscribe("launchpad","moveGroup",this._moveGroup,this);i.unsubscribe("launchpad","deleteTile",this._deleteTile,this);i.unsubscribe("launchpad","movetile",this._moveTile,this);i.unsubscribe("launchpad","sortableStart",this._sortableStart,this);i.unsubscribe("launchpad","sortableStop",this._sortableStop,this);i.unsubscribe("launchpad","dashboardModelContentLoaded",this._modelLoaded,this);t.detachApplied(u.handleTilesVisibility);O.forEach(e=>{e.off()});M.destroy();P.destroy();V=undefined;o.prototype.destroy.apply(this,arguments)},_sortableStart:function(){this.oSortableDeferred=new jQuery.Deferred},_createBookmark:function(e,t,o){const i=o.group?o.group.object:"";delete o.group;function s(){S.getServiceAsync("BookmarkV2").then(e=>{e.addBookmark(o,i).then(()=>{g.showLocalizedMessage("tile_created_msg")}).catch(e=>{I.error("Failed to add bookmark",e,"sap.ushell.ui.footerbar.AddBookmarkButton");g.showLocalizedError("fail_to_add_tile_msg")}).finally(this._checkRequestQueue.bind(this))})}this._addRequest(s.bind(this))},_addBookmarkToModel:function(e,t,o){const i=o.tile;let s=o.group;if(!o||!i){this.bIsGroupsModelDirty=true;if(!this.bGroupsModelLoadingInProcess){this._handleBookmarkModelUpdate()}return}if(!s){const e=this.getModel().getProperty("/groups");for(let t=0;t<e.length;t++){if(e[t].isDefaultGroup===true){s=e[t].object;break}}}const n=this._getIndexOfGroupByObject(s);const r=this.oModel.getProperty(`/groups/${n}`);const l=this.oPageOperationAdapter.getPreparedTileModel(i,r.isGroupLocked);this.getTileView(l);r.tiles.push(l);r.visibilityModes=u.calcVisibilityModes(r,true);const a=r.tiles.length;this._updateModelWithTileView(n,a);this.oModel.setProperty(`/groups/${n}`,r)},_refreshGroupInModel:function(e,t,o){const i=this;this.oPageOperationAdapter.refreshGroup(o).then(e=>{if(!e){return}const t=i._getIndexOfGroupByObject(e.object);e.visibilityModes=u.calcVisibilityModes(e.object,true);i.oModel.setProperty(`/groups/${t}`,e);if(e.tiles){e.tiles.forEach(e=>{i.getTileView(e)})}})},_sortableStop:function(){this.oSortableDeferred.resolve()},_handleAfterSortable:function(e){return function(){const t=Array.prototype.slice.call(arguments);this.oSortableDeferred.done(()=>{e.apply(null,t)})}.bind(this)},_createGroupAt:function(e,t,o){const i=parseInt(o.location,10);const s=this.oModel.getProperty("/groups");const n=this.oPageOperationAdapter.getPreparedGroupModel(null,false,i===s.length,o);const r=this.oModel;let l;n.index=i;s.splice(i,0,n);for(l=0;l<s.length-1;l++){s[l].isLastGroup=false}for(l=i+1;l<s.length;l++){s[l].index++}r.setProperty("/groups",s)},_getIndexOfGroupByObject:function(e){const t=this.oModel.getProperty("/groups");return this.oPageOperationAdapter.getIndexOfGroup(t,e)},getTileActions:function(e){return this.oPageOperationAdapter.getTileActions(e)},addTileToGroup:function(e,t){const o=`${e}/tiles`;const i=this.oModel.getProperty(e);const s=this.oModel.getProperty(o).length;const n=this.oModel.getProperty(`${e}/isGroupLocked`);const r=this.oModel.getProperty("/personalization");i.tiles[s]=this.oPageOperationAdapter.getPreparedTileModel(t,n);this.getTileView(i.tiles[s]);i.visibilityModes=u.calcVisibilityModes(i,r);this._updateModelWithTileView(i.index,s);this.oModel.setProperty(e,i)},addTilesToGroupByCatalogTileId:function(e,t){const o=e.getBindingContext();for(let e=0;e<t.length;e++){this.addTileToGroupByCatalogTileId(o.sPath,t[e])}},addTileToGroupByCatalogTileId:function(e,t){if(!d.last("/core/home/enableTransientMode")){return}const o=this.oPageOperationAdapter.getTileModelByCatalogTileId(t);if(!o){return}this.oDashboardLoadingManager.setTileResolved(o);const i=this.oModel.getProperty(`${e}/tiles`).length;const s=this.oModel.getProperty(e);s.tiles[i]=o;this.oModel.setProperty(e,s)},_getPathOfTile:function(e){const t=this.oModel.getProperty("/groups");for(let o=0;o<t.length;++o){const i=t[o];const s=i.tiles;const n=i.links;for(let t=0;t<s.length;++t){if(s[t].uuid===e){return`/groups/${o}/tiles/${t}`}}for(let t=0;t<n.length;++t){if(n[t].uuid===e){return`/groups/${o}/links/${t}`}}}return null},_moveInArray:function(e,t,o){if(o>=e.length){let t=o-e.length;while(t--+1){e.push(undefined)}}e.splice(o,0,e.splice(t,1)[0])},_updateGroupIndices:function(e){for(let t=0;t<e.length;t++){e[t].index=t}},_deleteGroup:function(t,o,i){const s=this.oModel;const n=i.groupId;const r=s.getProperty("/groups");const l=h.getIndexOfGroup(r,n);const a=r.length-1===l;const d=a?l-1:l;c.destroyFLPAggregationModel(s.getProperty(`/groups/${l}`));const u=r.splice(l,1)[0];if(a){s.setProperty(`/groups/${d}/isLastGroup`,a)}s.setProperty("/groups",r);this._updateGroupIndices(r);if(d>=0){window.setTimeout(()=>{e.getEventBus().publish("launchpad","scrollToGroup",{groupId:s.getProperty("/groups")[d].groupId})},200)}function p(){this.oPageOperationAdapter.deleteGroup(u).then(()=>{g.showLocalizedMessage("group_deleted_msg",[u.title]);this._checkRequestQueue()}).catch(()=>{this._resetGroupsOnFailure("fail_to_delete_group_msg")})}this._addRequest(p.bind(this))},_resetGroup:function(t,o,i){const s=this;const n=i.groupId;const r=this.oModel;const l=r.getProperty("/groups");const d=h.getIndexOfGroup(l,n);const p=s.oModel.getProperty("/groups/indexOfDefaultGroup")===d;const c=r.getProperty(`/groups/${d}`);r.setProperty(`/groups/${d}/sortable`,false);function f(){s.oPageOperationAdapter.resetGroup(c,p).then(t=>{s._handleAfterSortable((t,o,i)=>{const n=s.oModel.getProperty("/groups");const r=h.getIndexOfGroup(n,t);s._loadGroup(r,i||o);g.showLocalizedMessage("group_reset_msg",[o.title]);s.oModel.setProperty(`/groups/${r}/sortable`,true);const l=e.byId("dashboardGroups").getGroupControlByGroupId(t);const d=l.getBindingContext().getObject().links;if(d&&d.length&&!l.getIsGroupLocked()){s._changeGroupLinksScope(l.getBindingContext().getObject(),s.oModel.getProperty("/tileActionModeActive")?v.Actions:v.Display)}if(l){l.invalidate();a.emit("updateGroups",Date.now());u.handleTilesVisibility()}})(n,c,t);s._checkRequestQueue()}).catch(()=>{s._resetGroupsOnFailure("fail_to_reset_group_msg")})}this._addRequest(f)},_moveGroup:function(e,t,o){if(isNaN(o.fromIndex)){return}let i=o.fromIndex;let s=o.toIndex;const n=this.oModel;let r=n.getProperty("/groups");const l=n.getProperty("/tileActionModeActive");const a=this;if(!l){i=this._adjustFromGroupIndex(i,r)}const d=r[i];const u=d.groupId;if(!l){s=this._adjustToGroupIndex(s,r,u)}const p=r[s];this._moveInArray(r,i,s);this._updateGroupIndices(r);for(let e=0;e<r.length-1;e++){r[e].isLastGroup=false}r[r.length-1].isLastGroup=true;n.setProperty("/groups",r);function c(){r=n.getProperty("/groups");const e=n.getProperty(h.getModelPathOfGroup(r,u));if(!e.object){return}a.oPageOperationAdapter.getOriginalGroupIndex(p,r).then(t=>{const o={iFromIndex:i,iToIndex:s};return a.oPageOperationAdapter.moveGroup(e,t,o)}).then(a._checkRequestQueue.bind(a)).catch(()=>{a._resetGroupsOnFailure("fail_to_move_group_msg")})}this._addRequest(c)},_adjustToGroupIndex:function(e,t,o){let i=0;let s=false;let n;for(n=0;n<t.length&&i<e;n++){if(t[n].isGroupVisible){if(t[n].groupId===o){s=true}else{i++}}}if(s){return n-1}return n},_adjustFromGroupIndex:function(e,t){let o=0;for(let i=0;i<t.length;i++){if(t[i].isGroupVisible){o++}if(o===e+1){return i}}return e},_changeGroupTitle:function(e,t,o){const i=this;const s=o.newTitle;const n=this.oModel.getProperty("/groups");const r=o.groupId;const l=h.getIndexOfGroup(n,r);const a=i.oModel.getProperty("/groups/indexOfDefaultGroup")===l;const d=this.oModel.getProperty(`/groups/${l}`);const u=d.title;this.oModel.setProperty(`/groups/${l}/title`,s);function p(){let e;if(d.isLastGroup){e=i.oPageOperationAdapter.addGroupAt(d,undefined,a)}else{const t=i.oModel.getProperty("/groups")[l+1];e=i.oPageOperationAdapter.getOriginalGroupIndex(t,n).then(e=>i.oPageOperationAdapter.addGroupAt(d,e,a))}e.then(e=>{i._handleAfterSortable((e,t)=>{const o=i.oModel.getProperty("/groups");const s=h.getIndexOfGroup(o,e);const n=o[s];Object.keys(t).forEach(e=>{if(e==="tiles"||e==="links"){return}n[e]=t[e]});i.oModel.refresh();i._checkRequestQueue()})(r,e)}).catch(()=>{i._resetGroupsOnFailure("fail_to_create_group_msg")})}function c(){this.oPageOperationAdapter.renameGroup(d,s,u).then(()=>{i._checkRequestQueue()}).catch(()=>{i._resetGroupsOnFailure("fail_to_rename_group_msg")})}if(!d.object){this._checkRequestQueue();this._addRequest(p.bind(this))}else{this._addRequest(c.bind(this))}},addGroupToModel:function(e){const t=this.oPageOperationAdapter.getPreparedGroupModel(e,false,true,{isRendered:true});const o=this.oModel.getProperty("/groups");const i=o.length;if(i>0){o[i-1].isLastGroup=false}t.index=i;o.push(t);this.oModel.setProperty("/groups/",o);const s=new y(this.oModel,`/groups/${i}`);return s},_deleteTile:function(t,o,s){const n=s.tileId;const r=this.oModel.getProperty("/groups");const l=s.items||"tiles";function a(e,t){this.oPageOperationAdapter.removeTile(e,t).then(this._checkRequestQueue.bind(this)).catch(this._resetGroupsOnFailure.bind(this,"fail_to_remove_tile_msg"))}function d(t,o,i){const s=e.byId("dashboardGroups");const n=s.getGroupControlByGroupId(o.groupId);let r;if(i==="tiles"){if(t+1===o[i].length){r=n.oPlusTile}}else{const e=n.getLinks();if(t+1===e.length){if(e.length===1){r=n.oPlusTile}else{r=e[t-1]}}else{r=e[t+1]}}if(r){sap.ui.require(["sap/ushell/components/ComponentKeysHandler"],e=>{e.getInstance().then(e=>{e.moveScrollDashboard(r.$())})})}}for(let e=0;e<r.length;++e){const t=r[e];for(let o=0;o<t[l].length;++o){const s=t[l][o];if(s.uuid===n){if(i.system.desktop){d(o,t,l)}c.destroyTileModel(this.oModel.getProperty(`/groups/${e}/${l}/${o}`));const s=t[l].splice(o,1)[0];const n=this.oModel.getProperty("/personalization");t.visibilityModes=u.calcVisibilityModes(t,n);this.oModel.setProperty(`/groups/${e}`,t);this._addRequest(a.bind(this,t,s));u.handleTilesVisibility();return}}}},deleteTilesFromGroup:function(e,t){const o=this.oModel.getProperty("/groups");const i=h.getIndexOfGroup(o,e);const s=this.oModel.getProperty(`/groups/${i}`);let n=[];["tiles","links"].forEach(e=>{n=s[e].filter(e=>t.indexOf(e.uuid)<0);s[e]=n});s.visibilityModes=u.calcVisibilityModes(s,true);this.oModel.setProperty(`/groups/${i}`,s)},_getGroupIndex:function(e){const t=this.oModel.getProperty("/groups");const o=this._getNewGroupInfo(t,e);if(o){return o.newGroupIndex}return undefined},_convertTile:function(e,t,o){const i=o.tile?o.tile:o;const s=o.srcGroupId?this._getGroupIndex(o.srcGroupId):undefined;const n=o.srcGroupId?this.oModel.getProperty(`/groups/${s}`):i.getParent().getBindingContext().getObject();const r=i.getBindingContext().sPath.split("/");const l=i.getBindingContext().getObject();const d=r[r.length-2];const c=l.uuid;const h=parseInt(r[r.length-1],10);const g=o.toIndex!==undefined?o.toIndex:undefined;const f=this.oModel.getProperty("/tileActionModeActive");const b=o.toGroupId?this._getGroupIndex(o.toGroupId):n.index;const m=o.toGroupId?this.oModel.getProperty(`/groups/${b}`):n;const M=this;const P=this._getIndexForConvert(d,h,g,n,m);const T={tileIndex:h,groupIndex:s,group:n};function G(){l.tileIsBeingMoved=true;const e=this.oPageOperationAdapter.moveTile(l,P,n,m,d==="links"?"tile":"link");e.then(e=>{M._handleAfterSortable((e,t)=>{const i=M._getPathOfTile(e);const s=t.content;if(i){if(d==="tiles"){M._attachLinkPressHandlers(s);M._changeLinkScope(s,f?"Actions":"Display")}if(n===m){_.show(p.i18n.getText("PageRuntime.Message.VisualizationConverted"))}else{_.show(p.i18n.getText("PageRuntime.Message.VisualizationMovedAndConverted"))}const e={tileIndex:g,groupIndex:b,group:m};const i={tile:l,view:s,type:d,tileObj:t.object};l.tileIsBeingMoved=true;M.replaceTileViewAfterConvert(T,e,i);a.emit("updateGroups",Date.now());u.handleTilesVisibility();if(o.callBack){o.callBack(s)}}})(c,e);M._checkRequestQueue()}).catch(()=>{M._handleAfterSortable(M._resetGroupsOnFailure.bind(M))("fail_to_move_tile_msg")})}this._addRequest(G.bind(this))},replaceTileViewAfterConvert:function(e,t,o){const i=o.tile;const s=i.content;i.tileIsBeingMoved=false;i.content=[o.view];i.object=o.tileObj;i.originalTileId=this.oPageOperationAdapter.getTileId(o.tileObj);e.group[o.type].splice(e.tileIndex,1);if(t.tileIndex!==undefined){t.group[o.type==="tiles"?"links":"tiles"].splice(t.tileIndex,0,i)}else{t.group[o.type==="tiles"?"links":"tiles"].push(i)}this.oModel.setProperty(`/groups/${t.groupIndex}`,t.group);this.oModel.setProperty(`/groups/${e.groupIndex}`,e.group);if(o.type==="links"){this._handleTileAppearanceAnimation(i.content[0].getParent())}else{this._handleTileAppearanceAnimation(i.content[0])}if(s&&s[0]){s[0].destroy()}},_getIndexForConvert:function(e,t,o,i,s){let n;if(e==="tiles"){if(o!==undefined){n=s[e].length+o}else{n=s[e].length+s.links.length}if(i.groupId===s.groupId){n--}}else{n=o||i.tiles.length;t+=i.tiles.length}return{tileIndex:t,newTileIndex:n}},_getIndexForMove:function(e,t,o,i,s){let n;if(e==="tiles"){n=o!==undefined?o:i[e].length}else{if(o!==undefined){n=i.tiles.length+o}else{n=i.tiles.length+i.links.length}t+=s.tiles.length}return{tileIndex:t,newTileIndex:n}},_getTileInfo:function(e,t,o){for(let i=0;i<e.length;++i){const s=e[i];for(let e=0;e<s[o].length;++e){const n=s[o][e];if(n.uuid===t){return{oTile:n,tileIndex:e,oGroup:s,groupIndex:i}}}}return},_getNewGroupInfo:function(e,t){for(let o=0;o<e.length;++o){const i=e[o];if(i.groupId===t){return{oNewGroup:i,newGroupIndex:o}}}return},_moveTile:function(e,t,o){let i=o.toIndex;const s=o.toGroupId;const n=o.sTileId;const r=o.source;const l=o.sTileType==="tiles"||o.sTileType==="tile"?"tile":"link";const d=o.sToItems;const c=o.sFromItems;const h=this.oModel.getProperty("/tileActionModeActive");const g=this.oModel.getProperty("/groups");const f=this._getTileInfo(g,n,c);const b=this._getNewGroupInfo(g,s);const m=this;const M=f.tileIndex===b.oNewGroup.tiles.length-1&&i>=b.oNewGroup.tiles.length;if((f.tileIndex===i||M)&&f.oGroup.groupId===b.oNewGroup.groupId){return}if(f.oGroup.groupId===b.oNewGroup.groupId&&(r==="movetileDialog"||i===null||r==="movelinkDialog")){if(o.callBack&&f.oTile&&f.oTile.content&&f.oTile.content.length){o.callBack(f.oTile.content[0])}return}if(l==="link"){f.oTile.content[0].addStyleClass("sapUshellZeroOpacity")}if(l==="tile"&&d==="tiles"){if(i&&i>b.oNewGroup[d].length){i=b.oNewGroup[d].length}}if(f.oGroup.groupId===s&&d===c){if(i===null||i===undefined){f.oGroup[d].splice(f.tileIndex,1);i=f.oGroup[d].length;f.oGroup[d].push(f.oTile)}else{i=this._adjustTileIndex(i,f.oTile,f.oGroup,d);this._moveInArray(f.oGroup[d],f.tileIndex,i)}this.oModel.setProperty(`/groups/${f.groupIndex}/${d}`,f.oGroup[d])}else{const e=this.oModel.getProperty("/personalization");f.oGroup[c].splice(f.tileIndex,1);f.oGroup.visibilityModes=u.calcVisibilityModes(f.oGroup,e);this.oModel.setProperty(`/groups/${f.groupIndex}/${c}`,f.oGroup[c]);if(i===null||i===undefined){i=b.oNewGroup[d].length;b.oNewGroup[d].push(f.oTile)}else{i=this._adjustTileIndex(i,f.oTile,b.oNewGroup,d);b.oNewGroup[d].splice(i,0,f.oTile)}b.oNewGroup.visibilityModes=u.calcVisibilityModes(b.oNewGroup,e);this.oModel.setProperty(`/groups/${b.newGroupIndex}/${d}`,b.oNewGroup[d])}a.emit("updateGroups",Date.now());u.handleTilesVisibility();function P(){const e=this.oModel.getProperty(`/groups/${f.groupIndex}`);const t=this.oModel.getProperty(`/groups/${b.newGroupIndex}`);const s=this._getIndexForMove(c,f.tileIndex,i,b.oNewGroup,e);f.oTile.tileIsBeingMoved=true;this.oPageOperationAdapter.moveTile(f.oTile,s,e,t,l).then(e=>{const t=m._getPathOfTile(n);if(t){m.oModel.setProperty(`${t}/object`,e.object);m.oModel.setProperty(`${t}/originalTileId`,e.originalTileId);const i=m.oModel.getProperty(`${t}/content`);const s=e.content;if(d==="links"){m._changeLinkScope(s,h?"Actions":"Display");m._attachLinkPressHandlers(s);m._handleTileAppearanceAnimation(s);f.oTile.content=[s];m.oModel.setProperty(t,k({},f.oTile));m.oModel.setProperty(`/groups/${b.newGroupIndex}/${d}`,m.oModel.getProperty(`/groups/${b.newGroupIndex}/${d}`))}else{m.oModel.setProperty(`${t}/content`,[s])}if(i&&i[0]){const e=s.onAfterRendering;s.onAfterRendering=function(){e.apply(this);i[0].destroy();s.onAfterRendering=e}}m.oModel.setProperty(`${t}/tileIsBeingMoved`,false);if(o.callBack){o.callBack(s)}_.show(p.i18n.getText("PageRuntime.Message.VisualizationMoved"))}m._checkRequestQueue()}).catch(()=>{m._resetGroupsOnFailure("fail_to_move_tile_msg")})}this._addRequest(P.bind(this))},_adjustTileIndex:function(e,t,o,i){let s=0;let n=false;let r=0;for(r=0;r<o[i].length&&s<e;r++){if(o[i][r].isTileIntentSupported){if(o[i][r]===t){n=true}else{s++}}}if(n){return r-1}return r},getModel:function(){return this.oModel},getDashboardView:function(){return this.oDashboardView},setDashboardView:function(e){this.oDashboardView=e;return this},setTileVisible:function(e,t){this.oPageOperationAdapter.setTileVisible(e.object,t)},refreshTile:function(e){this.oPageOperationAdapter.refreshTile(e.object)},updateSettings:function(e){this.oModel=e.model||this.oModel;this.oConfig=e.config||this.oConfig;this.oRouter=e.router||this.oRouter;this.oDashboardView=e.view||this.oDashboardView},_resetGroupsOnFailure:function(e,t){this._requestFailed();g.showLocalizedError(e,t);this.bStartLoadRemainSegment=false;this.loadPersonalizedGroups();this.oModel.updateBindings(true)},resetGroupsOnFailure:function(){this._resetGroupsOnFailure.apply(this,arguments)},_bindSegment:function(e,t){for(let o=0;o<t.length;o++){const i=t[o];const s=i.index;const n=e[s];if(n){n.isRendered=true;n.tiles=n.tiles.concat(i.tiles);n.links=n.links.concat(i.links)}}return e},createGroupsModelFrame:function(e,t){const o=[];function i(e){const t=k({},e);t.tiles=[];t.pendingLinks=[];t.links=[];return t}for(let s=0;s<e.length;s++){const n=e[s];o[s]=i(n);o[s].isRendered=false;o[s].visibilityModes=u.calcVisibilityModes(n,t)}return o},_splitGroups:function(e,t){let o=[];let i=0;const s=this.oModel.getProperty("/homePageGroupDisplay")==="tabs";const n=this.oModel.getProperty("/personalization");let r=0;const l=500;for(let a=0;a<e.length;a++){const d=e[a];o.push(d);if(!this.segmentsStore.length){i+=this.PagingManager.getGroupHeight(d,t===a,n)}else{r+=d.tiles.length+d.links.length}if(s&&!this.segmentsStore.length&&i>0){o.loadTilesView=true;this.segmentsStore.push(o);o=[];i=0}if(i>=1||r>=l){this.segmentsStore.push(o);o=[];i=0;r=0}}if(o.length){this.segmentsStore.push(o)}},_processSegment:function(e){const t=this.segmentsStore.shift();if(!t){return e}if(this.isBlindLoading()===false){if(this.oModel.getProperty("/homePageGroupDisplay")!=="tabs"||t.loadTilesView){this.getSegmentContentViews(t)}}e=this._bindSegment(e,t);return e},getSegmentContentViews:function(e){let t;let o;for(let i=0;i<e.length;i++){const s=e[i];for(t=0;t<s.tiles.length;t++){o=s.tiles[t];if(o.isTileIntentSupported){this.getTileView(o)}}for(t=0;t<s.links.length;t++){o=s.links[t];if(o.isTileIntentSupported){this.getTileView(o,s.index)}}}this.bIsFirstSegmentViewLoaded=true},getSegmentTabContentViews:function(e,t,o){let i;let s;const n=o.iSelectedGroup;const r=this.oModel.getProperty(`/groups/${n}`);for(i=0;i<r.tiles.length;i++){s=r.tiles[i];if(s.isTileIntentSupported){this.getTileView(s)}}for(i=0;i<r.links.length;i++){s=r.links[i];if(s.isTileIntentSupported){this.getTileView(s,n)}}},_handleBookmarkModelUpdate:function(){this.bIsGroupsModelDirty=false;this.bGroupsModelLoadingInProcess=true;this.loadPersonalizedGroups()},_modelLoaded:function(){this.bGroupsModelLoadingInProcess=false;if(this.bIsGroupsModelDirty){this._handleBookmarkModelUpdate()}},handleFirstSegmentLoaded:function(){const e=this.oModel.getProperty("/groups");if(this.aGroupsFrame){Array.prototype.push.apply(e,this.aGroupsFrame);this.aGroupsFrame=null}this._initializeAnchorNavigationBar();if(!this.bStartLoadRemainSegment){this._processRemainingSegments()}},_initializeAnchorNavigationBar:function(){const e=V.getDashboardView();const t=e.getAnchorItemTemplate();this.oDashboardView.oAnchorNavigationBar.bindAggregation("groups",{path:"/groups",template:t})},_processRemainingSegments:function(){let t;if(this.segmentsStore.length>0){window.setTimeout(()=>{t=this._processSegment(this.oModel.getProperty("/groups"));this.oModel.setProperty("/groups",t);this.bIsFirstSegment=false;this._processRemainingSegments()},0)}else{this.bIsGroupsModelLoading=false;this._updateModelWithTileView(0,0);u.handleTilesVisibility();e.getEventBus().publish("launchpad","dashboardModelContentLoaded");a.emit("updateGroups",Date.now())}},tabsModeVisibilityChanged:function(){if(this.bIsFirstSegmentViewLoaded===false&&this.oModel.getProperty("/homePageGroupDisplay")==="tabs"){this.oDashboardLoadingManager.manageTilesView();this.bIsFirstSegmentViewLoaded=true;a.emit("firstSegmentCompleteLoaded",true)}},_setGroupModel:function(e){if(this.bIsGroupsModelLoading){I.info("Skip set the group model, because the group model is still loading");return}let t=0;let o;let i=0;let s=0;let n=0;let l=null;let d=[];this.bIsGroupsModelLoading=true;try{i=this.oModel.getProperty("/groups").length}catch{}for(t=e.length;t<i;++t){c.destroyFLPAggregationModel(this.oModel.getProperty(`/groups/${t}`))}if(!this.PagingManager){let e=jQuery("#dashboardGroups").width();if(!e){e=window.innerWidth}let t=jQuery("#sapUshellDashboardPage-cont").height();if(t<100){t=window.innerHeight}this.PagingManager=new r("dashboardPaging",{supportedElements:{tile:{className:"sapUshellTile"},link:{className:"sapUshellLinkTile"}},containerHeight:t,containerWidth:e})}e.forEach(e=>{if(e.isGroupVisible){s+=e.tiles.length}});this.bIsScrollModeAccordingKPI=s>this.iMinNumOfTilesForBlindLoading;this.aGroupsFrame=this.createGroupsModelFrame(e,this.oModel.getProperty("/personalization"));for(t=0;t<this.aGroupsFrame.length;t++){if(this.aGroupsFrame[t].isGroupVisible&&this.aGroupsFrame[t].visibilityModes[0]){if(l===null){l=t;this.aGroupsFrame[t].isGroupSelected=true;this.oModel.setProperty("/iSelectedGroup",t)}n++;if(n>1){this.aGroupsFrame[l].showGroupHeader=false;break}}}this._splitGroups(e,l);const p=this.segmentsStore[0]?this.segmentsStore[0].length:0;const h=this.aGroupsFrame.splice(0,p);w.start("FLP:DashboardManager._processSegment","_processSegment","FLP");d=this._processSegment(h);e.every((e,t)=>{if(e.isDefaultGroup){o=t;return false}return true});d.indexOfDefaultGroup=o;if(this.oModel.getProperty("/homePageGroupDisplay")==="tabs"){const e=this.getDashboardView();if(e){const t=e.oDashboardGroupsBox;const o=t.getBinding("groups");if(o){o.filter([e.oFilterSelectedGroup])}}}w.end("FLP:DashboardManager._processSegment");this.oModel.setProperty("/groups",d);this.aGroupModel=d;if(this.oDashboardView){a.once("firstSegmentCompleteLoaded").do(()=>{u.setPerformanceMark("FLP-TTI-Homepage",{bUseUniqueMark:true})}).do(this.handleFirstSegmentLoaded.bind(this))}else{setTimeout(()=>{Array.prototype.push.apply(this.aGroupModel,this.aGroupsFrame);this.aGroupsFrame=null;this.bStartLoadRemainSegment=true;this._processRemainingSegments()},0)}if(!this.bIsFirstSegmentViewLoaded&&this.isBlindLoading()){this.bIsFirstSegmentViewLoaded=!this._isAtLeastOneTileVisibleInASegment(h)}if(this.bIsFirstSegmentViewLoaded){a.emit("firstSegmentCompleteLoaded",true)}w.end("FLP:DashboardManager.loadGroupsFromArray")},_isAtLeastOneTileVisibleInASegment:function(e){let t;let o;for(let i=0;i<e.length;++i){t=e[i];for(let e=0;e<t.tiles.length;++e){o=t.tiles[e];if(o.isTileIntentSupported){return true}}}return false},getPreparedGroupModel:function(){return this.aGroupModel},_loadGroup:function(e,t){const o=this;const i=`/groups/${e}`;const s=o.oModel.getProperty(i);const n=s.isLastGroup;const r=s.groupId;c.destroyFLPAggregationModel(s);if(r){t.groupId=r}t.isLastGroup=n;t.index=e;t.isRendered=true;this.oModel.setProperty(i,t)},_hasPendingLinks:function(e){for(let t=0;t<e.length;t++){if(e[t].content[0]===undefined){return true}}return false},_addModelToTileViewUpdateQueue:function(e,t){this.tileViewUpdateQueue.push({uuid:e,view:t})},_updateModelWithTileView:function(e,t){const o=this;if(this.tileViewUpdateTimeoutID){clearTimeout(this.tileViewUpdateTimeoutID)}this.tileViewUpdateTimeoutID=window.setTimeout(()=>{o.tileViewUpdateTimeoutID=undefined;o.oSortableDeferred.done(()=>{o._updateModelWithTilesViews(e,t)})},50)},_updateGroupModelWithTilesViews:function(e,t,o,i){const s=t||0;for(let t=s;t<e.length;t=t+1){const s=e[t];for(let e=0;e<this.tileViewUpdateQueue.length;e++){const t=this.tileViewUpdateQueue[e];if(s.uuid===t.uuid){o.push(e);if(t.view){if(i){s.content=[t.view]}else{s.content[0].destroy();s.content=[t.view]}this.oDashboardLoadingManager.setTileResolved(s);const e=this.oPageOperationAdapter.getTileSize(s.object);const o=e!==null&&e==="1x2"||false;if(s.long!==o){s.long=o}}else{s.content[0].setState("Failed")}break}}}},_updateModelWithTilesViews:function(e,t){const o=this.oModel.getProperty("/groups");const i=e||0;const s=[];if(!o||this.tileViewUpdateQueue.length===0){return}for(let e=i;e<o.length;e=e+1){this._updateGroupModelWithTilesViews(o[e].tiles,t,s);if(o[e].links){this._updateGroupModelWithTilesViews(o[e].links,t,s,true);if(o[e].pendingLinks.length>0){if(!o[e].links){o[e].links=[]}o[e].links=o[e].links.concat(o[e].pendingLinks);o[e].pendingLinks=[]}}}const n=[];let r;for(r=0;r<this.tileViewUpdateQueue.length;r++){if(s.indexOf(r)===-1){n.push(this.tileViewUpdateQueue[r])}}this.tileViewUpdateQueue=n;this.oModel.setProperty("/groups",o)},getModelTileById:function(e,t){const o=this.oModel.getProperty("/groups");let i;let s=false;o.every(o=>{o[t].every(t=>{if(t.uuid===e||t.originalTileId===e){i=t;s=true}return!s});return!s});return i},_attachLinkPressHandlers:function(t){const o=e.getEventBus();const i=t.attachPress?t:t.getContent()[0];i.attachPress(function(e){const i=t.getBindingContext().getObject().tileIsBeingMoved;if(!i&&this.getScope&&this.getScope()==="Actions"){switch(e.getParameters().action){case"Press":const i=t.getState?t.getState():"";if(i!=="Failed"){const t=sap.ui.require("sap/ushell/components/homepage/ActionMode");if(t){t._openActionsMenu(e)}else{I.error("Race condition occurred! - sap/ushell/components/homepage/ActionMode was not required in time.")}}break;case"Remove":const s=t.getBindingContext().getObject().uuid;o.publish("launchpad","deleteTile",{tileId:s,items:"links"});break;default:break}}else{o.publish("launchpad","dashboardTileLinkClick")}})},handleDisplayModeChange:function(e){this.oModel.setProperty("/homePageGroupDisplay",e);switch(e){case"scroll":this._handleDisplayModeChangeToScroll();break;case"tabs":this._handleDisplayModeChangeToTabs();break}},_handleDisplayModeChangeToTabs:function(){const e=this.oModel.getProperty("/iSelectedGroup");const t=this.oModel.getProperty("/groups");this.oDashboardLoadingManager.manageTilesView();if(t.length>0){for(let e=0;e<t.length;e++){this.oModel.setProperty(`/groups/${e}/isGroupSelected`,false)}this.oModel.setProperty(`/groups/${e}/isGroupSelected`,true)}},_handleDisplayModeChangeToScroll:function(){if(this.isBlindLoading()){return}const t=this.oModel.getProperty("/groups");let o=[];let i;for(let e=0;e<t.length;e++){const s=t[e];const n=s.tiles||[];for(i=0;i<n.length;i++){const t=n[i];if(t.content.length===0){this.getTileView(t,e)}}o=s.links||[];for(i=0;i<o.length;i++){this.getTileView(o[i],e)}}this.oModel.refresh(false);const s=this.oModel.getProperty("/iSelectedGroup");if(s){setTimeout(()=>{e.getEventBus().publish("launchpad","scrollToGroup",{groupId:t[s].groupId})},100)}},getTileViewsFromArray:function(e){const t=this;if(e.length===0){return}e.forEach(e=>{t.getTileView(e.oTile,e.iGroup)});this.oModel.refresh(false);if(this.bIsFirstSegmentViewLoaded===false){this.bIsFirstSegmentViewLoaded=true;a.emit("firstSegmentCompleteLoaded",true)}},getTileView:function(e,t){const o=this.oPageOperationAdapter.getTileType(e.object);if(this.oDashboardLoadingManager.isTileViewRequestIssued(e)){return}this.oDashboardLoadingManager.setTileInProgress(e);this.oPageOperationAdapter.setTileVisible(e.object,false);if(o==="card"){this._loadCardData(e)}else{this._loadTileData(e,t,o)}},_loadCardData:function(t){const o=e.byId(t.controlId);if(o&&o.setManifest&&this.isBlindLoading()){o.setManifest(t.manifest)}t.content=[t.manifest];this.oDashboardLoadingManager.setTileResolved(t)},getCurrentHiddenGroupIds:function(e){return this.oPageOperationAdapter.getCurrentHiddenGroupIds(e)},_loadTileData:function(e,t,o){const i=this;const s=this.oPageOperationAdapter.getTileView(e);let r;const l=this._addModelToTileViewUpdateQueue;let a;let d=false;const u=e.uuid;let p=false;if(s.state()==="resolved"){p=true}s.done(o=>{if(o.oController&&o.oController.navigationTargetUrl&&!e.isCustomTile){e.target=o.oController.navigationTargetUrl}a=o;if(a.getComponentInstance){w.average("FLP:getComponentInstance","get info for navMode","FLP1");const t=a.getComponentInstance().getComponentData();if(t&&t.properties){e.navigationMode=t.properties.navigationMode}w.end("FLP:getComponentInstance")}i.oDashboardLoadingManager.setTileResolved(e);const s=o.getMode?o.getMode():"ContentMode";if(i.bLinkPersonalizationSupported&&s==="LineMode"){a.setScope(i.oModel.getProperty("/tileActionModeActive")?"Actions":"Display");i._attachLinkPressHandlers(a);if(t>=0){const o=i.oModel.getProperty("/groups");if(o[t]){e.content=[a];r=i.oModel.getProperty(`/groups/${t}/links`);i.oModel.setProperty(`/groups/${t}/links`,[]);i.oModel.setProperty(`/groups/${t}/links`,r)}}}else if(i.isBlindLoading()){if(e.content&&e.content.length>0){e.content[0].destroy()}e.content=[a];if(t>=0&&!p){i.oModel.refresh(false)}}if(i.isBlindLoading()){const t=i.oPageOperationAdapter.getTileSize(e.object);const o=t==="1x2";if(e.long!==o){e.long=o;i.oModel.refresh(false)}}else if(s==="LineMode"){e.content=[a];if(d){r=i.oModel.getProperty(`/groups/${t}/links`);i.oModel.setProperty(`/groups/${t}/links`,[]);i.oModel.setProperty(`/groups/${t}/links`,r)}}else if(e.content.length===0){e.content=[a]}else{l.apply(i,[u,a]);i._updateModelWithTileView(0,0)}});s.fail(()=>{if(i.oPageOperationAdapter.getTileType(e.object)==="link"&&i.bLinkPersonalizationSupported){a=i.oPageOperationAdapter.getFailedLinkView(e);i._attachLinkPressHandlers(a)}else{a=new n({state:"Failed"})}e.content=[a]});if(!a){if(i.oPageOperationAdapter.getTileType(e.object)==="link"){d=true;a=new f({mode:"LineMode"})}else{a=new n}e.content=[a]}},loadLibraryForCardModuleIfNeeded:function(){if(L.last("/core/home/featuredGroup/enable")){return e.loadLibrary("sap.ui.integration",{async:true})}return Promise.resolve()},loadPersonalizedGroups:function(){const e=this;const t=new jQuery.Deferred;if(this.bIsGroupsRequestPending){I.info("loadPersonalizedGroups was skipped because there is already a pending request.");t.reject(new Error("loadPersonalizedGroups was skipped because there is already a pending request."));return t.promise()}this.bIsGroupsRequestPending=true;this.oServiceLoadingPromise.then(e.loadLibraryForCardModuleIfNeeded).then(()=>e.oPageOperationAdapter.getPage()).then(o=>{e._setGroupModel(o);e.bIsGroupsRequestPending=false;t.resolve()}).catch(t=>{I.error("Loading of personalized groups failed.",t,"sap.ushell.components.HomepageManager");g.showLocalizedError("fail_to_load_groups_msg");e.bIsGroupsRequestPending=false});w.start("FLP:DashboardManager.loadPersonalizedGroups","loadPersonalizedGroups","FLP");return t.promise()}});x.prototype.getInstance=function(){return V};return x});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/MessagingHelper", ["sap/ushell/resources","sap/ushell/Container"],(e,n)=>{"use strict";function r(n,r){const s=Array.isArray(r)?r:[r];return e.i18n.getText(n,s)}function s(e,s){n.getServiceAsync("MessageInternal").then(n=>{n.show(n.Type.ERROR,r(e,s),s)})}function t(e,n){return function(){s(e,n)}}function o(e,s,t){n.getServiceAsync("MessageInternal").then(n=>{n.show(t||n.Type.INFO,r(e,s),s)})}return{getLocalizedText:r,showLocalizedError:s,showLocalizedErrorHelper:t,showLocalizedMessage:o}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/SharedComponentUtils", ["sap/ui/Device","sap/ushell/Config","sap/ushell/EventHub","sap/base/Log","sap/ui/core/Component","sap/ushell/Container","sap/ushell/utils"],(e,t,n,s,r,i,o)=>{"use strict";const a={PERS_KEY:"flp.settings.FlpSettings",bFlpSettingsAdded:false,toggleUserActivityLog:function(){n.join(n.once("CoreResourcesComplementLoaded"),t.on("/core/extension/SupportTicket")).do(async(e,t)=>{let n=sap.ui.require("sap/ushell/UserActivityLog");if(t&&!n){n=(await o.requireAsync(["sap/ushell/UserActivityLog"]))[0]}if(!n){return}if(t){n.activate()}else{n.deactivate()}})},initializeAccessKeys:function(){if(e.system.desktop){sap.ui.require(["sap/ushell/components/ComponentKeysHandler","sap/ushell/renderer/AccessKeysHandler"],(e,t)=>{e.getInstance().then(e=>{t.registerAppKeysHandler(e.handleFocusOnMe)})})}},getEffectiveHomepageSetting:function(e,n){if(t.last(n)===false){return Promise.resolve(t.last(e))}const s=e.split("/").pop();return this._getPersonalization(s).then(n=>{if(typeof n==="undefined"){return t.last(e)}t.emit(e,n);return n}).catch(()=>t.last(e))},_getPersonalization:function(e){return a.getPersonalizer(e,i.getRendererInternal("fiori2")).then(e=>e.getPersData()).catch(t=>{s.error(`Failed to load ${e} from the personalization`,t,"sap.ushell.components.flp.settings.FlpSettings");throw t})},getPersonalizer:function(e,t){return i.getServiceAsync("PersonalizationV2").then(n=>{const s=r.getOwnerComponentFor(t);const i={keyCategory:n.KeyCategory.FIXED_KEY,writeFrequency:n.WriteFrequency.LOW,clientStorageAllowed:true};const o={container:this.PERS_KEY,item:e};return n.getPersonalizer(o,i,s)})}};return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HomepageManager/DashboardLoadingManager", ["sap/base/util/deepExtend","sap/ui/base/Object","sap/ui/core/EventBus","sap/ui/performance/Measurement"],(e,i,s,t)=>{"use strict";const n=i.extend("sap.ushell.components._HomepageManager.DashboardLoadingManager",{metadata:{},constructor:function(e,i){const t=s.getInstance();this.currentVisibleTiles=[];this.aRefreshTiles=[];this.oBusyIndicatorTiles={};this.oActiveDynamicTiles={};this.oResolvedTiles={};this.oInProgressTiles={};this.oDashboardManager=i.oDashboardManager;t.subscribe("launchpad","visibleTilesChanged",this._onVisibilityChanged,this);t.subscribe("launchpad","dashboardTileClick",this._addTileToRefreshArray,this);t.subscribe("launchpad","refreshTiles",this._refreshTiles,this);t.subscribe("launchpad","setTilesNoVisibility",this._setTilesNoVisibility,this);t.subscribe("launchpad","onHiddenTab",this._setTilesNoVisibility,this)},_onVisibilityChanged:function(e,i,s){this.currentVisibleTiles=s;if(this.oDashboardManager.isBlindLoading()){this.manageTilesView()}this.oDashboardManager.tabsModeVisibilityChanged();this.manageBusyIndicatorTiles();this.manageDynamicTiles()},manageDynamicTiles:function(){t.average("DashboardLoadingManagerActiveDynamicTile","Manage Active Dynamic Tiles","FLP_SHELL");let i;let s;const n={};const l=e({},this.oActiveDynamicTiles);for(let e=0;e<this.currentVisibleTiles.length;e++){const i=this.currentVisibleTiles[e];if(!i.bIsExtanded){delete l[i.oTile.uuid]}}for(const e in l){i=this.oActiveDynamicTiles[e];s=i.object;this.oDashboardManager.setTileVisible(i,false)}for(let e=0;e<this.currentVisibleTiles.length;e++){const t=this.currentVisibleTiles[e];if(!t.bIsExtanded){i=t.oTile;s=i.object;if(this.oActiveDynamicTiles[i.uuid]===undefined&&s){this.oDashboardManager.setTileVisible(i,true)}n[i.uuid]=i}}this.oActiveDynamicTiles=n;t.end("DashboardLoadingManagerActiveDynamicTile")},isTileViewRequestIssued:function(e){if(this.oInProgressTiles[e.uuid]===undefined&&this.oResolvedTiles[e.uuid]===undefined){return false}return true},manageBusyIndicatorTiles:function(){t.average("DashboardLoadingManagerBusyIndicators","Manage Busy Indicators on Tiles","FLP_SHELL");let e;let i;let s;let n;const l=[];let o;const a=[];for(i in this.oBusyIndicatorTiles){o=true;n=this.oBusyIndicatorTiles[i];if(this.oResolvedTiles[i]===undefined){for(let e=0;e<this.currentVisibleTiles.length;e++){if(this.currentVisibleTiles[e].oTile.uuid===n.oTile.uuid){o=false;break}}if(o){l.push(n)}}}for(e=0;e<this.currentVisibleTiles.length;e++){s=this.currentVisibleTiles[e];if(this.oBusyIndicatorTiles[s.oTile.uuid]===undefined&&this.oResolvedTiles[s.oTile.uuid]===undefined){a.push(s)}}for(e=0;e<l.length;e++){s=l[e];if(s.oTile.content[0]&&s.oTile.content[0].setState){if(s.oTile.content[0].getState){if(s.oTile.content[0].getState()!=="Failed"){s.oTile.content[0].setState()}}else{s.oTile.content[0].setState()}}delete this.oBusyIndicatorTiles[s.oTile.uuid]}for(e=0;e<a.length;e++){s=a[e];if(s.oTile.content[0]&&s.oTile.content[0].setState){if(s.oTile.content[0].getState){if(s.oTile.content[0].getState()!=="Failed"){s.oTile.content[0].setState("Loading")}}else{s.oTile.content[0].setState("Loading")}}this.oBusyIndicatorTiles[s.oTile.uuid]=s}t.end("DashboardLoadingManagerBusyIndicators")},setTileInProgress:function(e){this.oInProgressTiles[e.uuid]=e},setTileResolved:function(e){delete this.oInProgressTiles[e.uuid];this.oResolvedTiles[e.uuid]=e},_addTileToRefreshArray:function(e,i,s){this.aRefreshTiles.push(s.uuid)},_refreshTiles:function(){for(let e=0;e<this.currentVisibleTiles.length;e++){const i=this.currentVisibleTiles[e].oTile;const s=i.object;if(s){for(let e=0;e<this.aRefreshTiles.length;e++){if(i.uuid===this.aRefreshTiles[e]){this.aRefreshTiles.splice(e,1);this.oDashboardManager.setTileVisible(i,true);this.oDashboardManager.refreshTile(i);break}}}}},_setTilesNoVisibility:function(){for(let e=0;e<this.currentVisibleTiles.length;e++){const i=this.currentVisibleTiles[e].oTile;const s=i.object;if(s){this.oDashboardManager.setTileVisible(i,false)}delete this.oActiveDynamicTiles[i.uuid]}},manageTilesView:function(){let e;let i;const s=[];for(e=0;e<this.currentVisibleTiles.length;e++){i=this.currentVisibleTiles[e];if(this.oInProgressTiles[i.oTile.uuid]===undefined&&this.oResolvedTiles[i.oTile.uuid]===undefined){s.push(i)}}this.oDashboardManager.getTileViewsFromArray(s)}});return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HomepageManager/PagingManager", ["sap/ui/base/Object","sap/ui/Device","sap/ushell/Config"],(e,t,i)=>{"use strict";const n=7;const s=e.extend("sap.ushell.components._HomepageManager.PagingManager",{metadata:{publicMethods:["setElementClass","GetGroupHeight","setContainerSize","getNumberOfAllocatedElements","moveToNextPage","getTileHeight"]},constructor:function(e,t){this.currentPageIndex=0;this.containerHeight=t.containerHeight||0;this.containerWidth=t.containerWidth||0;this.supportedElements=t.supportedElements||"";this.tileHeight=0;this.tileSize={sapUshellTile:{width:100,height:100},sapUshellLinkTile:{width:40,height:20},default:{width:40,height:20}}},getTileHeight:function(){return this.tileHeight},setElementClass:function(e){this.supportedElements=e},_getTileHeight:function(e){return e?148:176},_getTileWidth:function(e,t){if(e){return t?304:360}return t?148:176},getGroupHeight:function(e,s,h){if(!e||e.isGroupVisible===false){return 0}const r=e.tiles;const l=e.links;const o=t.system.phone||i.last("/core/home/sizeBehavior")==="Small";const a=this._getTileWidth(false,o);const c=this._getTileWidth(true,o);const u=48;const g=8;const d=this.containerWidth-g;let f=0;let p=1;let m;let E;const H=r.some(e=>!!e&&e.isTileIntentSupported!==false);if(!H){if(e.isGroupLocked||e.isDefaultGroup||!h||t.system.phone){return 0}return(u+g)/this.containerHeight}let P=g;if(!s){P+=u}if(l&&l.length){P+=44}let w;for(E=0;E<r.length;E++){if(P>this.containerHeight){break}w=r[E];if(!w||w.isTileIntentSupported===false){continue}m=w.long?c:a;if(f>0){f+=n}f+=m;if(f>d){p+=1;f=m}}P+=(this._getTileHeight(o)+n)*p;return P/this.containerHeight},setContainerSize:function(e,t){const i=this.getNumberOfAllocatedElements();this.containerHeight=e;this.containerWidth=t;this._changePageSize(i)},getNumberOfAllocatedElements:function(){return this._calcElementsPerPage()*this.currentPageIndex},_changePageSize:function(e){this.currentPageIndex=Math.ceil(e/this._calcElementsPerPage())},moveToNextPage:function(){this.currentPageIndex++},resetCurrentPageIndex:function(){this.currentPageIndex=0},getSizeofSupportedElementInUnits:function(e){return this.supportedElements[e].sizeInBaseUnits},_calcElementMatrix:function(e){const t=document.createElement("div");t.classList.add(e);document.body.appendChild(t);const i=t.clientHeight;const n=t.clientWidth;let s;if(i<20||n<40){s=this.tileSize[e]||this.tileSize.default}else{s={width:n,height:i}}this.tileHeight=i;t.remove();return s},_calcElementsPerPage:function(){let e;let t;let i;let n;let s;for(e in this.supportedElements){i=this.supportedElements[e];n=this._calcElementMatrix(i.className);i.matrix=n;if(t){t.width=t.width>n.width?n.width:t.width;t.height=t.height>n.height?n.height:t.height}else{t={width:n.width,height:n.height}}}for(e in this.supportedElements){i=this.supportedElements[e];s=i.matrix;i.sizeInBaseUnits=Math.round(s.width/t.width*s.height/t.height)}const h=Math.round(this.containerWidth/t.width);const r=Math.round(this.containerHeight/t.height);if(!r||!h||h===Infinity||r===Infinity||h===0||r===0){return 10}return r*h}});return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HomepageManager/PersistentPageOperationAdapter", ["sap/ui/base/Object","sap/ushell/Config","sap/ushell/resources","sap/ushell/components/MessagingHelper","sap/m/GenericTile","sap/base/util/uid","sap/base/Log","sap/ui/performance/Measurement","sap/m/library","sap/base/util/deepEqual","sap/ushell/Container"],(e,t,r,i,o,n,s,l,a,u,d)=>{"use strict";const c=a.GenericTileMode;const g=a.LoadState;const p=e.extend("sap.ushell.components._HomepageManager.PersistentPageOperationAdapter",{constructor:function(t){e.call(this);this.oPageBuilderService=t},_getIsAppBox:function(e){const t=this.oPageBuilderService;const r=!!(t.getCatalogTileTargetURL(e)&&(t.getCatalogTilePreviewTitle(e)||t.getCatalogTilePreviewSubtitle(e)));return r},getCurrentHiddenGroupIds:function(e){const t=e.getProperty("/groups");const r=[];let i;let o;let n;for(o=0;o<t.length;o++){n=t[o]?t[o].isGroupVisible:true;if(t[o].object){i=this.oPageBuilderService.getGroupId(t[o].object)}if(!n&&i!==undefined){r.push(i)}}return r},getPreparedTileModel:function(e,r,i){const s=this.oPageBuilderService;const l=n();const a=s.getTileSize(e);let u=[];let d;i=i||s.getTileType(e);if(i==="link"){u=[new o({mode:c.LineMode})]}const g={isCustomTile:!this._getIsAppBox(e),object:e,originalTileId:s.getTileId(e),uuid:l,tileCatalogId:encodeURIComponent(s.getCatalogTileId(e)),tileCatalogIdStable:s.getStableCatalogTileId(e)||"",content:u,long:a==="1x2",target:s.getTileTarget(e)||"",debugInfo:s.getTileDebugInfo(e),isTileIntentSupported:s.isTileIntentSupported(e),rgba:"",isLocked:r,showActionsIcon:t.last("/core/home/enableTileActionsIcon"),isLinkPersonalizationSupported:s.isLinkPersonalizationSupported(e),navigationMode:undefined};if(i==="card"){d=s.getCardManifest(e);g.isCard=true;if(d){g.manifest=d}}return g},getPreparedGroupModel:function(e,r,o,l){const a=this.oPageBuilderService;const u=e&&a.getGroupTiles(e)||[];const d=[];const c=[];let g;const p=t.last("/core/shell/model/personalization");const f=t.last("/core/extension/enableHelp");const h=!!(e&&a.isGroupLocked(e));const P=!!(e&&a.isGroupFeatured(e));for(g=0;g<u.length;++g){const e=u[g];const t=a.getTileType(e).toLowerCase();if(t==="tile"||t==="card"){d.push(this.getPreparedTileModel(u[g],h,t))}else if(t==="link"){c.push(this.getPreparedTileModel(u[g],h,t))}else{s.error(`Unknown tile type: '${t}'`,undefined,"sap.ushell.components.HomepageManager")}}return{title:r&&i.getLocalizedText("my_group")||e&&a.getGroupTitle(e)||l&&l.title||"",object:e,groupId:n(),helpId:f&&e?a.getGroupId(e):null,links:c,pendingLinks:[],tiles:d,isDefaultGroup:!!r,editMode:!e,isGroupLocked:h,isFeatured:P,visibilityModes:[true,true],removable:!e||a.isGroupRemovable(e),sortable:p,isGroupVisible:!e||a.isGroupVisible(e),isEnabled:!r,isLastGroup:o||false,isRendered:!!(l&&l.isRendered),isGroupSelected:false}},getPage:function(){l.start("FLP:DashboardManager.loadPersonalizedGroups","loadPersonalizedGroups","FLP");return this._getGroupsFromServer().then(this.loadGroupsFromArray.bind(this))},_getGroupsFromServer:function(){const e=this;return new Promise((t,r)=>{e.oPageBuilderService.getGroups().done(e=>{l.end("FLP:DashboardManager.loadPersonalizedGroups");t(e)}).fail(r)})},loadGroupsFromArray:function(e){const t=this;l.start("FLP:DashboardManager.loadGroupsFromArray","loadGroupsFromArray","FLP");l.start("FLP:DashboardManager.getDefaultGroup","getDefaultGroup","FLP");return new Promise((r,i)=>{t.oPageBuilderService.getDefaultGroup().done(i=>{l.end("FLP:DashboardManager.getDefaultGroup");if(e.length===0&&i===undefined){r([]);return}let o;const n=[];e=t._sortGroups(i,e);const s=e.findIndex(e=>u(e,i));const a=e.length;l.start("FLP:DashboardManager._getGroupModel","_getGroupModel","FLP");for(let r=0;r<a;++r){o=t.getPreparedGroupModel(e[r],r===s,r===a-1);o.index=r;n.push(o)}l.end("FLP:DashboardManager._getGroupModel");l.end("FLP:DashboardManager.loadGroupsFromArray");r(n)}).fail(i)})},_sortGroups:function(e,r){let i=0;const o=this;const n=r.findIndex(t=>u(t,e));const s=[];let l;let a;if(n>-1){r.splice(n,1)}while(i<r.length){l=r[i];a=this.oPageBuilderService.isGroupLocked(l);if(a){s.push(l);r.splice(i,1)}else{i++}}if(!t.last("/core/home/disableSortedLockedGroups")){s.sort((e,t)=>{const r=o.oPageBuilderService.getGroupTitle(e).toLowerCase();const i=o.oPageBuilderService.getGroupTitle(t).toLowerCase();return r<i?-1:1})}s.sort((e,t)=>{const r=o.oPageBuilderService.isGroupFeatured(e);const i=o.oPageBuilderService.isGroupFeatured(t);if(r===i){return 0}else if(r>i){return-1}return 1});const d=s;d.push(e);d.push.apply(d,r);return d},addGroupAt:function(e,t,r){const i=this;return new Promise((o,n)=>{try{if(t===undefined){i.oPageBuilderService.addGroup(e.title).done(t=>{o(i.getPreparedGroupModel(t,r,e.isLastGroup,undefined))}).fail(n)}else{i.oPageBuilderService.addGroupAt(e.title,t).done(t=>{o(i.getPreparedGroupModel(t,r,e.isLastGroup,undefined))}).fail(n)}}catch(e){n(e)}})},renameGroup:function(e,t,r){const i=this;return new Promise((r,o)=>{try{i.oPageBuilderService.setGroupTitle(e.object,t).done(()=>{r()}).fail(o)}catch(e){o(e)}})},deleteGroup:function(e){const t=this;const r=e.object;return new Promise((e,i)=>{try{t.oPageBuilderService.removeGroup(r).done(()=>{e()}).fail(i)}catch(e){i(e)}})},moveGroup:function(e,t,r){const i=this;return new Promise((r,o)=>{try{i.oPageBuilderService.moveGroup(e.object,t).done(()=>{r()}).fail(o)}catch(e){o(e)}})},resetGroup:function(e,t){const r=this;const i=e.object;return new Promise((o,n)=>{try{r.oPageBuilderService.resetGroup(i).done(n=>{o(r.getPreparedGroupModel(n||i,t,e.isLastGroup,undefined))}).fail(n)}catch(e){n(e)}})},refreshGroup:function(e){const t=this;const r=`Failed to refresh group with id:${e} in the model`;return new Promise(i=>{t.oPageBuilderService.getGroups().fail(e=>{s.error(r,e,"sap.ushell.components.HomepageManager");i(null)}).done(r=>{let o=null;for(let i=0;i<r.length;i++){if(t.oPageBuilderService.getGroupId(r[i])===e){o=r[i];break}}if(o){t.oPageBuilderService.getDefaultGroup().done(r=>{const n=e===r.getId();const s=t.getPreparedGroupModel(o,n,false,{isRendered:true});i(s)})}else{i(null)}})})},getIndexOfGroup:function(e,t){let r=-1;const i=this;const o=this.oPageBuilderService.getGroupId(t);e.every((e,t)=>{const n=i.oPageBuilderService.getGroupId(e.object);if(n===o){r=t;return false}return true});return r},getOriginalGroupIndex:function(e){const t=this.oPageBuilderService;const r=e.object;const i=this.oPageBuilderService.getGroups();return new Promise((e,o)=>{i.done(i=>{let o;for(let e=0;e<i.length;e++){if(t.getGroupId(i[e])===t.getGroupId(r)){o=e;break}}e(o)}).fail(o)})},moveTile:function(e,t,r,i,o){const n=this;let s;const l=new Promise((l,a)=>{try{const u=n.oPageBuilderService.moveTile(e.object,t.tileIndex,t.newTileIndex,r.object,i.object,o);u.done(e=>{s=e;l(e)});u.fail(a)}catch(e){a(e)}});return l.then(this._getTileViewAsPromise.bind(this)).then(e=>Promise.resolve({content:e,originalTileId:n.oPageBuilderService.getTileId(s),object:s}))},removeTile:function(e,t){const r=t.object;const o=this.oPageBuilderService.getTileTitle(r);return new Promise((t,n)=>{try{this.oPageBuilderService.removeTile(e.object,r).done(()=>{i.showLocalizedMessage("tile_deleted_msg",[o,e.title]);t()}).fail(n)}catch(e){n(e)}})},_getTileViewAsPromise:function(e){return new Promise((t,r)=>{const i=this.oPageBuilderService.getTileView(e);i.done(t);i.fail(r)})},refreshTile:function(e){this.oPageBuilderService.refreshTile(e)},setTileVisible:function(e,t){this.oPageBuilderService.setTileVisible(e,t)},getTileType:function(e){return this.oPageBuilderService.getTileType(e)},getTileSize:function(e){return this.oPageBuilderService.getTileSize(e)},getTileTitle:function(e){return this.oPageBuilderService.getTileTitle(e.object)},getTileId:function(e){return this.oPageBuilderService.getTileId(e)},isLinkPersonalizationSupported:function(e){return this.oPageBuilderService.isLinkPersonalizationSupported(e)},getTileTarget:function(e){return this.oPageBuilderService.getTileTarget(e.object)},getTileView:function(e){return this.oPageBuilderService.getTileView(e.object)},getTileActions:function(e){return this.oPageBuilderService.getTileActions(e)},getFailedLinkView:function(e){const t=this.oPageBuilderService.getCatalogTilePreviewSubtitle(e.object);let i=this.oPageBuilderService.getCatalogTilePreviewTitle(e.object);if(!i&&!t){i=r.i18n.getText("cannotLoadLinkInformation")}return new o({mode:c.LineMode,state:g.Failed,header:i,subheader:t})},getTileModelByCatalogTileId:function(e){s.error(`Cannot get tile with id ${e}: Method is not supported`)},transformGroupModel:function(){return}});let f=null;return{getInstance:function(e){if(!f){f=new p(e)}return f},destroy:function(){f=null}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HomepageManager/TransientPageOperationAdapter", ["sap/ui/thirdparty/jquery","sap/ui/base/Object","sap/ushell/Config","sap/ushell/resources","sap/ushell/components/MessagingHelper","sap/m/GenericTile","sap/m/ImageContent","sap/m/TileContent","sap/base/util/uid","sap/base/Log","sap/m/library"],(jQuery,e,t,i,o,n,r,l,s,a,u)=>{"use strict";const c=u.GenericTileMode;const g=u.LoadState;const d=e.extend("sap.ushell.components._HomepageManager.TransientPageOperationAdapter.js",{constructor:function(t){e.call(this);this.oPageBuilderService=t;this._createCatalogMap()},_createCatalogMap:function(){if(this.mCatalogTiles){return}const e=this.oPageBuilderService;const t=this;this.mCatalogTiles={};this._getAllCatalogTiles().then(i=>{for(let o=0;o<i.length;o++){for(let n=0;n<i[o].length;n++){t.mCatalogTiles[e.getCatalogTileId(i[o][n])]=i[o][n]}}})},getCurrentHiddenGroupIds:function(){return[]},getTileActions:function(e){e.isStub=function(){return true};const t=this.oPageBuilderService.getTileActions(e);delete e.isStub;return t},getPreparedTileModel:function(e,i,o){const r=s();let l=[];o=o||e.type;if(o==="link"){l=[new n({mode:c.LineMode})]}const a={isCustomTile:false,object:e,originalTileId:r,uuid:r,tileCatalogId:"",content:l,long:false,target:"",debugInfo:null,isTileIntentSupported:true,rgba:"",isLocked:i,showActionsIcon:t.last("/core/home/enableTileActionsIcon"),isLinkPersonalizationSupported:true,navigationMode:undefined};if(o==="card"){a.isCard=true;a.manifest={}}return a},getPreparedGroupModel:function(e,t,i,n){const r=s();const l=e&&e.tiles||[];const u=[];const c=[];for(let e=0;e<l.length;++e){const t=l[e];const i=t.type.toLowerCase();if(i==="tile"||i==="card"){u.push(this.getPreparedTileModel(l[e],false,i))}else if(i==="link"){c.push(this.getPreparedTileModel(l[e],false,i))}else{a.error(`Unknown tile type: '${i}'`,undefined,"sap.ushell.components.HomepageManager")}}return{title:t&&o.getLocalizedText("my_group")||e&&e.title||n&&n.title||"",object:e,groupId:r,links:c,pendingLinks:[],tiles:u,isDefaultGroup:!!t,editMode:!e,isGroupLocked:false,isFeatured:false,visibilityModes:[true,true],removable:true,sortable:true,isGroupVisible:true,isEnabled:!t,isLastGroup:i||false,isRendered:!!(n&&n.isRendered),isGroupSelected:false}},getPage:function(){return Promise.resolve([this.getPreparedGroupModel(null,false,true)])},addGroupAt:function(e,t,i){const o={title:e.title};return Promise.resolve(this.getPreparedGroupModel({},i,e.isLastGroup,o))},renameGroup:function(){return Promise.resolve()},deleteGroup:function(){return Promise.resolve()},moveGroup:function(){return Promise.resolve()},resetGroup:async function(){throw new Error("Reset group not supported in transient mode")},refreshGroup:async function(){throw new Error("Refresh group not supported in transient mode")},getIndexOfGroup:function(){return Promise.resolve(-1)},getOriginalGroupIndex:function(e,t){let i;for(let o=0;o<t.length;o++){if(t[o].groupId===e.groupId){i=o;break}}return Promise.resolve(i)},moveTile:function(e,t,i,o,n){const r=this._findCatalogTile(e.tileCatalogId);return Promise.resolve({content:this._getTileView(r,n),originalTileId:e.uuid,object:{id:e.uuid,type:n,title:this.oPageBuilderService.getCatalogTileTitle(r)}})},removeTile:function(){return Promise.resolve()},_getTileView:function(e,t){if(t==="link"){return new n({mode:c.LineMode,header:this.oPageBuilderService.getCatalogTileTitle(e),subheader:this.oPageBuilderService.getCatalogTilePreviewSubtitle(e)})}return new n({header:this.oPageBuilderService.getCatalogTileTitle(e),subheader:this.oPageBuilderService.getCatalogTilePreviewSubtitle(e),tileContent:new l({content:new r({src:this.oPageBuilderService.getCatalogTilePreviewIcon(e)})})})},refreshTile:function(){return},setTileVisible:function(){return},getTileType:function(e){return e.type},getTileSize:function(){return"1x1"},getTileId:function(e){return e.id},isLinkPersonalizationSupported:function(){return true},getTileTarget:function(e){const t=this._findCatalogTile(e.tileCatalogId);return this.oPageBuilderService.getCatalogTileTargetURL(t)},getTileTitle:function(e){return e.object.title},_getAllCatalogTiles:function(){const e=this.oPageBuilderService;function t(t){t.map(t=>{const i=e.getCatalogId(t)||"";return e.getCatalogTitle(t)||i.split(":").slice(1).join(":")});return Promise.all(t.map(t=>e.getCatalogTiles(t)))}return Promise.resolve(e.getCatalogs()).then(t)},_findCatalogTile:function(e){return this.mCatalogTiles[e]},getTileView:function(e){const t=this._findCatalogTile(e.tileCatalogId);const i=this._getTileView(t,e.object.type);const o=new jQuery.Deferred;o.resolve(i);return o.promise()},getFailedLinkView:function(e){const t=e.object.title||i.i18n.getText("cannotLoadLinkInformation");const o="";return new n({mode:c.LineMode,state:g.Failed,header:t,subheader:o})},getTileModelByCatalogTileId:function(e,t){t=t||"tile";const i=this._findCatalogTile(e);const o=this.getPreparedTileModel({},false,t);o.tileCatalogId=e;o.object={id:o.uuid,type:t,title:this.oPageBuilderService.getCatalogTileTitle(i)};const n=this._getTileView(i,t);o.content=[n];return o},transformGroupModel:function(e){const t=this;for(let i=0;i<e.length;i++){const o=e[i];o.object={};o.tiles.forEach(e=>{const i=e.object;e.tileCatalogId=t.oPageBuilderService.getCatalogTileId(i);e.object={id:e.uuid,type:"tile",title:t.oPageBuilderService.getTileTitle(i)}});o.links.forEach(e=>{const i=e.object;e.tileCatalogId=t.oPageBuilderService.getCatalogTileId(i);e.object={id:e.uuid,type:"link",title:t.oPageBuilderService.getTileTitle(i)}})}return e}});let p;return{getInstance:function(e){if(!p){p=new d(e)}return p},destroy:function(){p=null}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/functionBindPrototype", ["sap/base/Log"],e=>{"use strict";e.error("The application uses an obsolete sap.ushell.functionBindPrototype module.","The reference to this module has to be removed.")},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/iconfonts", ["sap/ui/core/IconPool"],F=>{"use strict";const E={};E.registerFiori2IconFont=function(){F.registerFont({fontFamily:"SAP-icons-TNT",collectionName:"SAP-icons-TNT",fontURI:sap.ui.require.toUrl("sap/tnt/themes/base/fonts/"),lazy:true});F.registerFont({fontFamily:"SAP-icons-TNT",collectionName:"TNTIcons",fontURI:sap.ui.require.toUrl("sap/tnt/themes/base/fonts/"),lazy:true});F.registerFont({fontFamily:"BusinessSuiteInAppSymbols",collectionName:"BusinessSuiteInAppSymbols",fontURI:sap.ui.require.toUrl("sap/ushell/themes/base/fonts/"),lazy:true});const E={fontFamily:"SAP-icons",collectionName:"Fiori2",icons:[["F0017","e05e"],["F0020","e0c3"],["F0021","e10d"],["F0392","e04f"],["F0394","e044"],["F0395","e132"],["F0396","e064"],["F0397","e0a4"],["F0398","e0a4"],["F0399","e044"],["F0401","e08d"],["F0402","e13e"],["F0403","e13e"],["F0404","e033"],["F0405","e0b3"],["F0406","e043"],["F0407","e043"],["F0408","e043"],["F0409","e075"],["F0410","e007"],["F0411","e075"]]};const e={fontFamily:"Fiori2",collectionName:"Fiori2",icons:[["F0002","E236"],["F0003","E202"],["F0004","E203"],["F0005","E204"],["F0006","E205"],["F0009","E206"],["F0010","E207"],["F0012","E208"],["F0014","E209"],["F0018","E200"],["F0019","E201"],["F0023","E20A"],["F0024","E20B"],["F0025","E20C"],["F0026","E20D"],["F0072","E23A"],["F0100","E23B"],["F0101","E23C"],["F0102","E23D"],["F0106","E20F"],["F0144","E210"],["F0190","E23E"],["F0194","E23F"],["F0210","E242"],["F0211","E243"],["F0212","E244"],["F0217","E211"],["F0220","E213"],["F0243","E215"],["F0244","E216"],["F0245","E217"],["F0248","E21A"],["F0249","E21B"],["F0252","E21E"],["F0257","E21F"],["F0281","E220"],["F0282","E221"],["F0283","E222"],["F0284","E223"],["F0292","E224"],["F0295","E225"],["F0296","E226"],["F0316","E227"],["F0317","E228"],["F0321","E229"],["F0339","E22A"],["F0340","E22B"],["F0341","E22C"],["F0342","E22D"],["F0365","E212"],["F0366","E22F"],["F0367","E230"],["F0368","E231"],["F0369","E235"],["F0370","E22E"],["F0372","E232"],["F0380","E233"],["F0381","E234"],["F0382","E246"],["F0390","E20E"],["F0412","E214"],["F0429","E2A6"],["F0013","E237"],["F0016","E238"],["F0028","E239"],["F0029","E283"],["F0030","E284"],["F0031","E285"],["F0032","E286"],["F0033","E287"],["F0034","E288"],["F0036","E289"],["F0038","E28A"],["F0039","E28B"],["F0041","E28C"],["F0044","E28D"],["F0293","E28E"],["F0294","E28F"],["F0297","E290"],["F0298","E291"],["F0299","E292"],["F0300","E293"],["F0301","E294"],["F0302","E295"],["F0303","E296"],["F0304","E297"],["F0305","E298"],["F0306","E299"],["F0323","E29A"],["F0324","E29B"],["F0326","E29C"],["F0327","E29D"],["F0328","E29E"],["F0329","E29F"],["F0331","E2A1"],["F0332","E2A2"],["F0343","E2A3"],["F0344","E2A4"],["F0345","E2A5"],["F0388","E2A7"],["F0391","E2A0"],["F0260","E2B4"],["FD10n","E2B5"],["FK10n","E2B6"],["FS10n","E2B7"],["FBL5n","E2B8"],["FBL1n","E2B9"],["FFS01","E2BA"],["FBL3n","E2BB"],["FCOA1","E2BC"]]};const o={fontFamily:"Fiori2",collectionName:"Fiori3",icons:[["F0246","E218"],["F0247","E219"],["F0250","E21C"],["F0251","E21D"],["F0263","E2A8"],["F0508","E2A9"],["F0509","E2AA"],["F0510","E2AB"],["F0533","E2AC"],["F0534","E2AD"],["F0535","E2AE"],["F0536","E2AF"],["F0537","E2B0"],["F0538","E2B1"],["Lumira001","E2B2"]]};const i={fontFamily:"Fiori2",collectionName:"Fiori4",icons:[["F0194","E2BD"],["F0260","E2B4"],["F0433","E2BE"],["F0499","E2BF"],["F0500","E2C0"],["F0501","E2C1"],["F0502","E2C2"],["F0503","E2C3"],["F0504","E2C4"],["F0507","E2C5"],["F0530","E2C6"],["F0531","E2C7"],["F0539","E2C8"],["F0544","E2C9"],["F0545","E2CA"],["F0547","E2CB"],["F0576","E2CC"],["F0578","E2CD"],["F0579","E2CE"],["F0580","E2CF"],["F0581","E2D0"],["F0582","E2D1"],["F0583","E2D2"],["F0584","E2D3"],["F0586","E2D4"],["F0587","E2D5"],["F0588","E2D6"],["F0589","E2D7"],["F0590","E2D8"],["F0591","E2D9"],["F0593","E2DA"],["F0594","E2DB"],["F0597","E2DC"],["F0603","E2DD"],["F0604","E2DE"],["F0605","E2DF"],["F0606","E2E0"],["F0607","E2E1"],["F0608","E2E2"],["F0609","E2E3"],["F0615","E2E4"],["F0616","E2E5"],["F0618","E2E6"],["F0617","E2E7"],["F0622","E2E8"],["F0623","E2E9"],["F0624","E2EA"],["F0625","E2EB"],["F0626","E2EC"],["F0627","E2ED"],["F0629","E2EE"],["F0630","E2EF"],["F0632","E2F0"],["F0633","E2F1"],["F0634","E2F2"],["F0635","E2F3"],["F0636","E2F4"],["F0638","E2F5"],["F0639","E2F6"],["F0643","E2F7"],["F0644","E2F8"],["F0645","E2F9"],["F0646","E2FA"],["F0648","E2FB"],["F0649","E2FC"],["F0650","E2FD"],["F0654","E2FE"],["F0655","E2FF"],["F0659","E300"],["F0660","E301"],["F0661","E302"],["F0665","E303"],["F0666","E304"],["F0667","E305"],["F0671","E306"],["F0672","E307"],["F0673","E308"],["F0675","E309"],["F0676","E30A"],["F0677","E30B"],// License Blocked Documents
["F0678","E30C"],["F0679","E30D"],["F0680","E30E"],["F0682","E30F"],["F0683","E310"],["F0684","E240"],["F0685","E312"],["F0686","E313"],["F0687","E314"],["F0690","E315"],["F0691","E316"],["F0692","E317"],["F0693","E318"],["F0694","E319"],["F0695","E31A"],["F0700","E31B"],["F0598","E31C"]]};const n={fontFamily:"Fiori2",collectionName:"Fiori5",icons:[["F2001","E31E"],["F0839","E320"],["F0263","E321"],["F0266","E322"],["F0270","E323"],["F0273","E324"],["F0439","E325"],["F0443","E326"],["F0549","E327"],["F0550","E328"],["F0551","E329"],["F0577","E32A"],["F0585","E32B"],["F0637","E32C"],["F0668","E32D"],["F0669","E32E"],["F0670","E330"],["F0688","E331"],["F0689","E332"],["F0701","E333"],["F0702","E334"],["F0703","E335"],["F0706","E336"],["F0707","E337"],["F0708","E338"],["F0711","E339"],["F0712","E33A"],["F0731","E33B"],["F0732","E33C"],["F0733","E33D"],["F0735","E33E"],["F0736","E340"],["F0737","E341"],["F0742","E342"],["F0743","E343"],["F0744","E344"],["F0745","E345"],["F0746","E346"],["F0747","E347"],["F0748","E348"],["F0749","E349"],["F0750","E34A"],["F0751","E34B"],["F0755","E34C"],["F0756","E34D"],["F0757","E34E"],["F0758","E350"],["F0759","E351"],["F0760","E352"],["F0761","E353"],["F0763","E354"],["F0764","E355"],["F0765","E356"],["F0768","E357"],["F0770","E358"],["F0771","E359"],["F0772","E35A"],["F0774","E35B"],["F0776","E35C"],["F0777","E35D"],["F0778","E35E"],["F0788","E360"],["F0789","E361"],["F0790","E362"],["F0791","E363"],["F0792","E364"],["F0793","E365"],["F0794","E366"],["F0806","E367"],["F0807","E368"],["F0808","E369"],["F0809","E36A"],["F0810","E36B"],["F0811","E36C"],["F0812","E36D"],["F0813","E36E"],["F0814","E370"],["F0815","E371"],["F0816","E372"],["F0817","E373"],["F0818","E374"],["F0819","E375"],["F0820","E376"],["F0821","E377"],["F0822","E378"],["F0823","E379"],["F0824","E37A"],["F0825","E37B"],["F0826","E37C"],["F0827","E37D"],["F0828","E37E"],["F0829","E380"],["F0830","E381"],["F0831","E382"],["F0717","E384"],["F0718","E383"],["F0241","E385"],["F0246","E386"],["F0250","E387"],["F0248","E388"],["F0252","E389"],["F0600","E38A"],["F0674","E38B"],["F0247","E38E"],["F0251","E390"]]};const t={fontFamily:"Fiori2",collectionName:"Fiori6",icons:[["F0670-1","E393"],["F0670-2","E394"],["F0670-3","E395"],["F0670-4","E396"],["F0795","E397"],["F0866","E3A0"],["F0865","E3A1"],["F0867","E3A2"],["F0868","E3A3"],["F0869","E3A4"],["F0870","E3A5"],["F0138","E3A6"],["F0752","E3A7"],["F0753","E3A8"],["F0773","E3A9"],["F0891","E3AA"],["F0892","E3AB"],["F1023","E3AC"],["F0767","E3AD"],["F0849","E3AE"]]};const s={fontFamily:"Fiori2",collectionName:"Fiori7",icons:[["F1079","E3B0"],["F0738","E3B1"],["F1301","E3B2"],["F1302","E3B3"],["F1303","E3B4"],["F1338","E3B5"],["F1263","E3B6"],["F1373","E3B7"],["F0863","E3B8"],["F0955","E3B9"],["F1068","E3BA"],["F1242","E3BB"],["F1405","E3BC"],["F1406","E3BD"],["F1407","E3BE"],["F1408","E3BF"],["F1409","E3C0"],["F1410","E3C1"],["F1411","E3C2"],["F1412","E3C3"],["F1413","E3C4"],["F1414","E3C5"],["F1415","E3C6"],["F1476","E3C7"],["F0797","E3C8"],["F0798","E3C9"],["F0800","E3CA"],["F0801","E3CB"],["F0804","E3CC"],["F0850","E3CD"],["F0890","E3CE"],["F1075","E3CF"],["F1394","E3D0"],["F1061","E3D1"],["F1062","E3D2"],["F1255","E3D3"],["F1077","E3D4"],["F0843","E3D5"],["F1076","E3D6"],["F0859","E3D7"],["F1060","E3D8"],["F1053","E3D9"],["F0900","E3DA"],["F0840","E3DB"],["F0842-1","E3A6"],["F0842-2","E22C"]]};const a={fontFamily:"Fiori2",collectionName:"Fiori8",icons:[["F1317","E3DC"],["F1318","E3DD"],["F1319","E3DE"],["F1369","E3DF"],["F1475","E3E0"],["F1345","E3E1"],["F1248","E3E2"],["F1067","E3E3"],["F1332","E3E4"],["F1333","E3E5"],["F1334","E3E6"],["F1335","E3E7"],["F1520","E3E8"],["F1457","E3E9"],["F1504","E3EA"],["F1505","E3EB"]]};const r={fontFamily:"Fiori2",collectionName:"Fiori9",icons:[["F1094","E3EC"],["F1096","E3ED"],["F1353","E3EE"],["F1354","E3EF"],["F1428","E3F0"],["F1492","E3F1"],["F1515","E3F2"],["F1516","E3F3"],["F0997","E400"],["F1512","E401"],["F1562","E402"],["F1564","E403"],["F1599","E404"],["F1596","E405"],["F1254","E406"],["F1618","E407"],["F1561","E408"],["learning-compass","E409"],["partner-enablement","E40A"]]};const c={fontFamily:"Fiori2",collectionName:"S4Hana",icons:[["S0001","E3F4"],["S0002","E3F5"],["S0003","E3F6"],["S0004","E3F7"],["S0005","E3F8"],["S0006","E3F9"],["S0007","E3FA"],["S0008","E3FB"],["S0009","E3FC"],["S0010","E3FD"],["S0011","E3FE"],["S0012","E3FF"]]};const l={fontFamily:"FioriInAppIcons",collectionName:"FioriInAppIcons",icons:[["Hierarchal Tree","e700"],["Open","e701"],["Blocked","e702"],["Partially Blocked","e703"],["Open1","e704"],["Partially Adopted","e705"],["Due","e706"],["Overdue","e707"],["Sort","e708"],["Missing Parts","e709"],["Fire","e70a"],["Dangerous Chemicals","e70b"],["Share","e70c"],["Entertainment","e70d"],["Gift","e70e"],["QR Code","e70f"],["Wifi-Online","e710"],["Wifi-Offline","e711"],["Sunrise","e712"],["Sunset","e713"],["Afternoon","e714"],["Night","e715"],["Loading Date","e715"],["Cloudy","e717"],["Rain","e718"],["Storm","e719"],["Partly Sunny","e71a"],["Heavy Rain","e71b"],["Foggy","e71c"],["Snow","e71d"],["Risk Assessment","e71e"],["Database","e71f"],["Marine","e720"],["Blister","e721"],["Pills","e722"],["Main-Sequence","e723"],["Parallel Sequence","e724"],["Alternative Sequence","e725"],["3D","e726"],["Presentation","e727"],["Mute","e728"],["Windy","e729"],["Oil Tank","e72a"],["Location Assets","e72b"],["Transport Systems","e72c"],["Field","e72d"],["Field Group","e72e"],["Record","e730"],["Record Group","e731"]]};const A={fontFamily:"Fiori2",collectionName:"FioriNonNative",icons:[["FN0001","E392"],["FN0002","E398"],["FN0003","E399"],["FN0004","E39A"],["FN0005","E39B"],["FN0006","E39C"],["FN0007","E39D"],["FN0008","E39E"],["FN0009","E39F"]]};this.registerFonts(e,E,o,i,n,t,s,a,r,l,A,c)};E.registerFonts=function(...E){E.forEach(E=>{E.icons.forEach(e=>{F.addIcon(e[0],E.collectionName,{fontFamily:E.fontFamily,content:e[1],overWrite:false,suppressMirroring:true})})})};return E},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/library", ["sap/ui/base/DataType","sap/ui/core/Lib","sap/ui/core/library","sap/m/library"],(e,a,l,t)=>{"use strict";const s=a.init({name:"sap.ushell",apiVersion:2,version:"1.141.1",dependencies:["sap.ui.core","sap.m"],types:["sap.ushell.AllMyAppsState","sap.ushell.AllMyAppsProviderType","sap.ushell.AppTitleState","sap.ushell.ContentNodeType","sap.ushell.appIntegration.contracts.StatefulType","sap.ushell.components.container.ApplicationType","sap.ushell.DisplayFormat","sap.ushell.NavigationState","sap.ushell.ui.launchpad.ViewPortState","sap.ushell.ui.tile.State","sap.ushell.ui.tile.StateArrow","sap.ushell.VisualizationLoadState","sap.ushell.AppType","sap.ushell.FloatingNumberType"],interfaces:["sap.ushell.renderer.INavContainerPage"],controls:["sap.ushell.appIntegration.ApplicationContainer","sap.ushell.appIntegration.IframeApplicationContainer","sap.ushell.appIntegration.UI5ApplicationContainer","sap.ushell.components.container.ApplicationContainer","sap.ushell.components.factsheet.controls.PictureTile","sap.ushell.components.factsheet.controls.PictureViewer","sap.ushell.components.factsheet.controls.PictureViewerItem","sap.ushell.components.shell.Settings.userDefaults.UserDefaultsForm","sap.ushell.components.tiles.sbtilecontent","sap.ushell.components.workPageBuilder.controls.WorkPage","sap.ushell.components.workPageBuilder.controls.WorkPageButton","sap.ushell.components.workPageBuilder.controls.WorkPageCell","sap.ushell.components.workPageBuilder.controls.WorkPageColumn","sap.ushell.components.workPageBuilder.controls.WorkPageColumnResizer","sap.ushell.components.workPageBuilder.controls.WorkPageRow","sap.ushell.renderer.NavContainer","sap.ushell.ui.launchpad.VizInstance","sap.ushell.ui.launchpad.VizInstanceBase","sap.ushell.ui.launchpad.VizInstanceAbap","sap.ushell.ui.launchpad.VizInstanceCdm","sap.ushell.ui.launchpad.VizInstanceLaunchPage","sap.ushell.ui.launchpad.VizInstanceLink","sap.ushell.ui.AppContainer","sap.ushell.ui.ContentNodeSelector","sap.ushell.ui.ContentNodeTreeItem","sap.ushell.ui.CustomGroupHeaderListItem","sap.ushell.ui.ShellHeader","sap.ushell.ui.appfinder.AppBox","sap.ushell.ui.appfinder.AppBoxInternal","sap.ushell.ui.appfinder.PinButton","sap.ushell.ui.footerbar.AboutButton","sap.ushell.ui.footerbar.AddBookmarkButton","sap.ushell.ui.footerbar.ContactSupportButton","sap.ushell.ui.footerbar.JamDiscussButton","sap.ushell.ui.footerbar.JamShareButton","sap.ushell.ui.footerbar.LogoutButton","sap.ushell.ui.footerbar.SendAsEmailButton","sap.ushell.ui.launchpad.ActionItem","sap.ushell.ui.launchpad.AnchorItem","sap.ushell.ui.launchpad.AnchorNavigationBar","sap.ushell.ui.launchpad.CatalogEntryContainer","sap.ushell.ui.launchpad.CatalogsContainer","sap.ushell.ui.launchpad.DashboardGroupsContainer","sap.ushell.ui.launchpad.GroupHeaderActions","sap.ushell.ui.launchpad.GroupListItem","sap.ushell.ui.launchpad.LinkTileWrapper","sap.ushell.ui.launchpad.LoadingDialog","sap.ushell.ui.launchpad.Page","sap.ushell.ui.launchpad.PlusTile","sap.ushell.ui.launchpad.Section","sap.ushell.ui.launchpad.Tile","sap.ushell.ui.launchpad.TileContainer","sap.ushell.ui.launchpad.TileState","sap.ushell.ui.launchpad.TileStateInternal","sap.ushell.ui.launchpad.section.CompactArea","sap.ushell.ui.shell.FloatingContainer","sap.ushell.ui.shell.NavigationMiniTile","sap.ushell.ui.shell.OverflowListItem","sap.ushell.ui.shell.RightFloatingContainer","sap.ushell.ui.shell.ShellAppTitle","sap.ushell.ui.shell.ShellFloatingAction","sap.ushell.ui.shell.ShellFloatingActions","sap.ushell.ui.shell.ShellHeadItem","sap.ushell.ui.shell.ShellNavigationMenu","sap.ushell.ui.shell.SidePane","sap.ushell.ui.shell.SubHeader","sap.ushell.ui.shell.SysInfoBar","sap.ushell.ui.shell.ToolArea","sap.ushell.ui.shell.ToolAreaItem","sap.ushell.ui.tile.DynamicTile","sap.ushell.ui.tile.ImageTile","sap.ushell.ui.tile.StaticTile","sap.ushell.ui.tile.TileBase"],elements:["sap.ushell.ui.launchpad.AccessibilityCustomData"],extensions:{"sap.ui.support":{diagnosticPlugins:["sap/ushell/support/plugins/flpConfig/FlpConfigurationPlugin"]}}});s.AllMyAppsState={FirstLevel:"FirstLevel",SecondLevel:"SecondLevel",Details:"Details",FirstLevelSpread:"FirstLevelSpread"};s.AllMyAppsProviderType={HOME:0,EXTERNAL:1,CATALOG:2};s.AppTitleState={ShellNavMenuOnly:"ShellNavMenuOnly",AllMyAppsOnly:"AllMyAppsOnly",ShellNavMenu:"ShellNavMenu",AllMyApps:"AllMyApps"};s.ContentNodeType={HomepageGroup:"HomepageGroup",Space:"Space",Page:"Page",Visualization:"Visualization"};s.appIntegration=s.appIntegration||{};s.appIntegration.contracts=s.appIntegration.contracts||{};s.appIntegration.contracts.StatefulType={NotSupported:"NotSupported",ContractV1:"ContractV1",ContractV2:"ContractV2"};e.registerEnum("sap.ushell.appIntegration.contracts.StatefulType",s.appIntegration.contracts.StatefulType);s.components=s.components||{};s.components.container=s.components.container||{};s.components.container.ApplicationType={NWBC:"NWBC",SAPUI5:"SAPUI5",TR:"TR",URL:"URL",WCF:"WCF",WDA:"WDA"};e.registerEnum("sap.ushell.components.container.ApplicationType",s.components.container.ApplicationType);s.DisplayFormat={Standard:"standard",Compact:"compact",Flat:"flat",FlatWide:"flatWide",StandardWide:"standardWide"};e.registerEnum("sap.ushell.DisplayFormat",s.DisplayFormat);s.NavigationState={InProgress:"InProgress",Finished:"Finished"};s.ui=s.ui||{};s.ui.launchpad=s.ui.launchpad||{};s.ui.launchpad.ViewPortState={Left:"Left",Center:"Center",Right:"Right",LeftCenter:"LeftCenter",CenterLeft:"CenterLeft",RightCenter:"RightCenter",CenterRight:"CenterRight"};s.ui.tile=s.ui.tile||{};s.ui.tile.State={Neutral:"Neutral",None:"None",Negative:"Negative",Error:"Error",Positive:"Positive",Success:"Success",Critical:"Critical",Warning:"Warning"};e.registerEnum("sap.ushell.ui.tile.State",s.ui.tile.State);s.ui.tile.StateArrow={None:"None",Up:"Up",Down:"Down"};e.registerEnum("sap.ushell.ui.tile.StateArrow",s.ui.tile.StateArrow);s.VisualizationLoadState={Loading:"Loading",Loaded:"Loaded",InsufficientRoles:"InsufficientRoles",OutOfRoleContext:"OutOfRoleContext",NoNavTarget:"NoNavTarget",Failed:"Failed",Disabled:"Disabled"};s.AppType={OVP:"OVP",SEARCH:"Search",FACTSHEET:"FactSheet",COPILOT:"Co-Pilot",URL:"External Link",APP:"Application"};s.FloatingNumberType={None:"None",Notifications:"Notifications",OverflowButton:"OverflowButton"};e.registerEnum("sap.ushell.FloatingNumberType",s.FloatingNumberType);s.NavigationBarMenuState={Button:"Button",Menu:"Menu"};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/navigation/NavigationState", ["sap/ui/base/EventProvider"],n=>{"use strict";class i{#n=false;#i=new n;startNavigation(){if(this.#n){return}this.#n=true;this.#i.fireEvent("navigationStateChanged",{isNavigationRunning:this.#n})}endNavigation(){if(!this.#n){return}this.#n=false;this.#i.fireEvent("navigationStateChanged",{isNavigationRunning:this.#n})}isNavigationRunning(){return this.#n}attachNavigationStateChanged(...n){this.#i.attachEvent("navigationStateChanged",...n)}detachNavigationStateChanged(...n){this.#i.detachEvent("navigationStateChanged",...n)}reset(){this.destroy();this.#i=new n;this.#n=false}destroy(){this.#i.destroy()}}return new i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/navigationMode", ["sap/base/Log","sap/base/util/isPlainObject","sap/ushell/Config"],(e,n,a)=>{"use strict";const i={};function o(n){let a=true;if(n){if(typeof n!=="object"){a=false}else{Object.keys(n).forEach(e=>{if(["GUI","WDA","WCF"].indexOf(e)===-1){a=false}else if(typeof n[e]!=="boolean"){a=false}})}}if(!a){e.error("Invalid parameter: 'enableInPlaceForClassicUIs' must be an object; allowed properties: GUI|WDA, type boolean",`Actual parameter: ${JSON.stringify(n)}`,"sap.ushell.services.navigationMode")}}function t(e){switch(e){case"TR":return"GUI";case"WDA":return"WDA";case"WCF":return"WCF";default:return undefined}}i._isInplaceEnabledForApplicationType=function(e){const i=a.last("/core/navigation/enableInPlaceForClassicUIs");o(i);if(n(i)){return i[t(e)]}return false};i._getInternalNavigationMode=function(n,a){const i=a.applicationType;const o={SAPUI5:{inplace:"embedded",explace:"newWindowThenEmbedded",frameless:"newWindowThenEmbedded"},WDA:{inplace:"embedded",explace:"newWindowThenEmbedded",frameless:"newWindow"},TR:{inplace:"embedded",explace:"newWindowThenEmbedded",frameless:"newWindow"},URL:{inplace:"embedded",explace:"newWindow",frameless:"newWindow"},WCF:{inplace:"embedded",explace:"newWindowThenEmbedded",frameless:"newWindow"}};if(!o.hasOwnProperty(i)){e.error(`${i} is not a valid application type`,`expected one of ${Object.keys(o).join(", ")}`,"sap.ushell.navigationMode");return null}if(n!=="inplace"&&n!=="explace"&&n!=="frameless"){e.error(`${n} is not a valid external navigation mode`,"expected one of 'inplace', 'explace' or 'frameless'","sap.ushell.navigationMode");return null}if(i==="SAPUI5"&&n==="frameless"){e.error(`'${n}' is not a valid external navigation mode for application type '${i}'`,`falling back to internal navigation mode '${o.SAPUI5.frameless}'`,"sap.ushell.navigationMode")}if(i==="URL"){const i=a.appCapabilities?a.appCapabilities.templateNavigationMode:undefined;if(i){const a={embedded:{inplace:"embedded",explace:"newWindowThenEmbedded",frameless:"newWindowThenEmbedded"},standalone:{inplace:"newWindow",explace:"newWindow",frameless:"newWindow"}};if(i==="standalone"&&n==="inplace"){e.warning("Inplace navigation was requested for an app that supports only standalone mode! 'newWindow' used instead...","sap.ushell.navigationMode")}if(i==="embedded"&&n==="frameless"){e.warning("Frameless navigation was requested for an app that supports only embedded mode! 'newWindowThenEmbedded' used instead...","sap.ushell.navigationMode")}return a[i][n]}}return o[i][n]};i.getExternalNavigationMode=function(n){const a={embedded:"inplace",newWindowThenEmbedded:"explace",replace:"inplace",newWindow:"explace"};if(!a.hasOwnProperty(n)){e.error(`${n} is not a recognized internal navigation mode`,`expected one of ${Object.keys(a).join(",")}`,"sap.ushell.navigationMode");return null}return a[n]};const d=["NWBC","WDA","TR","WCF"];i.getNavigationMode=function(n,a,o){const t=n.additionalInformation;const l=n.applicationType;let s;let r;const p={navigationMode:undefined,explicitNavMode:false};if(["inplace","explace"].indexOf(o)>=0){p["sap-ushell-next-navmode"]=o}if(["inplace","explace","frameless"].indexOf(a)>=0){const o=i._getInternalNavigationMode(a,n);e.debug(`Navigation mode was forced to ${o} because sap-ushell-navmode parameter was set to ${a} for target`,"sap.ushell.navigationMode");p.navigationMode=o;p.explicitNavMode=true;return p}if(i._isInplaceEnabledForApplicationType(l)===true){p.navigationMode=i._getInternalNavigationMode("inplace",n)}if(n.appCapabilities&&n.appCapabilities.navigationMode){p.navigationMode=n.appCapabilities.navigationMode;return p}if((t===null||typeof t==="string"||typeof t==="undefined")&&(l==="URL"||l==="SAPUI5")){if(t&&t.indexOf("managed=")===0){if(t==="managed=FioriWave1"){p.navigationMode="embedded";return p}if(t==="managed="){p.navigationMode="newWindow";return p}return p}if(t&&t.indexOf("SAPUI5.Component=")===0){s="[a-zA-Z0-9_]+";r=["^SAPUI5.Component=",s,"([.]",s,")*$"].join("");if(!new RegExp(r).test(t)){e.warning(["The UI5 component name in",t,"is not valid.","Please use names satisfying",r].join(" "))}p.navigationMode="embedded";return p}p.navigationMode="newWindow";return p}if(p.navigationMode===undefined){if(d.indexOf(l)>-1){p.navigationMode="newWindowThenEmbedded"}else if(l==="SAPUI5"){p.navigationMode="embedded"}else{p.navigationMode="newWindow";e.error(`Invalid ApplicationType: ${l}`)}}return p};i.computeNavigationModeForHomepageTiles=function(e,n,a){const i={applicationType:e,additionalInformation:n};if(d.indexOf(e)>-1&&a){return"embedded"}return this.getNavigationMode(i).navigationMode};return i},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/override", ["sap/m/GroupHeaderListItem","sap/ui/base/ManagedObject","sap/base/util/uid","sap/base/util/each"],(t,e,n,s)=>{"use strict";const i={};i.updateAggregation=function(t){if(this.isTreeBinding(t)){e.prototype.updateAggregation.apply(this,arguments)}else{const s=this.mBindingInfos[t];const o=s.binding;const r=o.getContexts();const a=s.factory;const g=this.getMetadata().getJSONKeys()[t];const d=`${g._sMutator}Group`;const l=o.isGrouped()&&this[d];let u=[];const p=function(t){const e=`${this.getId()}-${n()}`;const i=a(e,t);if(i.isA("sap.ui.integration.widgets.Card")){i.setBindingContext(t,"ushellCardModel")}else{i.setBindingContext(t,s.model)}this[g._sMutator](i)}.bind(this);if(l){e.prototype.updateAggregation.apply(this,arguments)}else{u=this[g._sGetter]();i._adaptCurrentGroup(r,u);i._updateCurrentGroup(r,u,s.model,p);u.length=r.length}}};i._adaptCurrentGroup=function(t,e){let n;let s;let i;for(n=0;n<t.length;n++){s=!!(e[n]&&e[n].isA("sap.ui.integration.widgets.Card"));i=!!t[n].getProperty(`${t[n].sPath}/isCard`);if(s||i){let t=n;for(;t<e.length;t++){e[t].destroy()}break}}};i._updateCurrentGroup=function(t,e,n,s){let i;for(i=0;i<t.length;i++){if(i<e.length&&!e[i].bIsDestroyed){e[i].setBindingContext(t[i],n)}else{s(t[i])}}for(;i<e.length;++i){e[i].destroy()}};i.updateAggregationGrouped=function(e){const n=this.mBindingInfos[e];const i=n.binding;const o=n.factory;let r;let a=null;let g=null;let d=null;const l=this;let u=l.getItems();let p=0;let c=0;let f;let h;const y=[];g=i.isGrouped()&&this.addItemGroup;s(i.getContexts(),(e,m)=>{if(g&&i.aSorters.length>0){a=i.aSorters[0].fnGroup(m);if(typeof a==="string"){a={key:a}}if(a.key!==d){let e;if(n.groupHeaderFactory){e=n.groupHeaderFactory(a)}const s=e||new t({title:a.text||a.key}).addStyleClass("sapMListHdr");l.insertAggregation("items",s,c,true);c=c+1;d=a.key}}u=l.getItems();for(f=c;f<u.length;f=f+1){if(u[f].constructor===t){y.push(l.removeItem(u[f]));u=l.getItems()}}if(c<u.length){u[c].setBindingContext(m,n.model);if(u[c].aDelegates){s(u[c].aDelegates,(t,e)=>{e.vThis=m})}}else{h=`${l.getId()}-${c}`;r=o(h,m);r.setBindingContext(m,n.model);l.addItem(r)}c=c+1;p=c});for(f=u.length-1;f>=p;f=f-1){y.push(l.removeItem(u[f]))}setTimeout(()=>{s(y,(t,e)=>{e.destroy()})},1)};i.updateAggregatesFactory=function(t){return function(){i.updateAggregation.bind(this)(t)}};return i},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/performance/FesrEnhancer", ["sap/base/Log","sap/base/util/deepExtend","sap/ui/performance/trace/FESR","sap/ushell/EventHub","sap/ushell/performance/ShellAnalytics","sap/ushell/renderer/RendererManagedComponents"],(e,t,n,r,a,i)=>{"use strict";const s="FesrEnhancer";const o="[FesrFlp]";const c={HOME_INITIAL:"FLP@LOAD",HOME_LOADING:"FLP@DURING_LOAD",FINDER_INITIAL:"FLP@LOAD_FINDER",APP_INITIAL:"FLP@DEEP_LINK",NAVIGATION:"NAVIGATION",CUSTOM_HOME_INITIAL:"FLPCUSTOMHOME"};const l=[c.HOME_INITIAL,c.FINDER_INITIAL,c.CUSTOM_HOME_INITIAL,c.APP_INITIAL];const u={APP_START:1,STEP_IN_APP:2,UNKNOWN:3};const d=["stepName","appNameLong","appNameShort","interactionType","timeToInteractive"];const p={stepName:{maxLength:20,postfix:"@H2H"},appNameShort:{maxLength:20}};const f={_fnOriginalOnBeforeCreated:null,_oLastTrackedRecord:null,init:function(){if(n.getActive()){a.enable();this._fnOriginalOnBeforeCreated=n.onBeforeCreated;n.onBeforeCreated=this._onBeforeCreatedHandler.bind(this)}},reset:function(){n.onBeforeCreated=this._fnOriginalOnBeforeCreated;a.disable();this._setLastTrackedRecord(null)},_getPerformanceEntries:function(e,t){if(t){return performance.getEntriesByName(e)}return performance.getEntriesByType("mark").filter(t=>t.name.includes(e))},_getLastTrackedApplicationId:function(){const e=a.getCurrentApplication();if(e){return e.id}return null},_getLastTrackedRecord:function(){return this._oLastTrackedRecord},_setLastTrackedRecord:function(e){this._oLastTrackedRecord=e},_getLastFesrHandle:function(){const e=this._oLastFesrHandle;this._oLastFesrHandle=undefined;return e!==undefined?e:null},_setLastFesrHandle:function(e){this._oLastFesrHandle=e},_onBeforeCreatedHandler:function(n,a){let i=t({},n);try{const{scenario:t,relatedRecord:n}=this._detectScenario(i);e.debug(`${o} identified scenario: ${t}`,null,s);const a=this._getLastTrackedApplicationId();if(a){i.appNameShort=a}let u;switch(t){case c.HOME_INITIAL:case c.CUSTOM_HOME_INITIAL:case c.FINDER_INITIAL:u=this._enhanceInitialStart(i,t,n);break;case c.APP_INITIAL:u=this._enhanceInitialAppStart(t,n);break;case c.NAVIGATION:case c.HOME_LOADING:u=this._enhanceNavigationRecord(t,n);break;default:e.debug(`${o} unknown scenario, step name: ${i.stepName}`,null,s);this._setLastFesrHandle(i);return i}if(l.includes(t)){r.emit("startUpFesrEnhanced",Date.now())}u=this.sanitizeEnhancement(u);i={...i,...u};e.debug(`${o} passing enhancements:`,JSON.stringify(u,null,2),s)}catch(t){e.error(`${o} Could not enhance the FESR:`,t,s)}e.debug(`${o}      => UI5: ${i.stepName} - ${i.appNameShort}`,null,s);this._setLastFesrHandle(i);return i},shortenAccordingToFormatter:function(e,t){let n="";if(t&&t.maxLength){n=e.substring(0,t.maxLength)}else{n=e}return n},shortenWithPostfix:function(e,t,n=0){const r=p[t];if(r){if(r.postfix){if(e.endsWith(r.postfix)){const t={...r,maxLength:r.maxLength-r.postfix.length+n};const a=this.shortenAccordingToFormatter(e.slice(0,-1*t.postfix.length),t);return a+t.postfix}}return this.shortenAccordingToFormatter(e,r)}return e},sanitizeValue:function(e,t){if(d.includes(t)&&e){if(typeof e==="string"&&e.includes(":")){const[n,r]=e.split(":");return`${this.shortenWithPostfix(n,t,-5)}:${r}`}return this.shortenWithPostfix(e,t)}},sanitizeEnhancement:function(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];const a=this.sanitizeValue(r,n);if(a!==undefined){t[n]=a}return t},{})},_getRelevantPerformanceMark:function(t){if(!t){e.warning(`${o} Could not determine performance mark`,"No Statistical Record found",s);return}const n=[];if(t.getTargetIsHomeApp()){n.push(this._getPerformanceEntries("FLP-TTI-Homepage-Custom",true)[0])}else{switch(t.getTargetApplication()){case"FLP_HOME":n.push(this._getPerformanceEntries("FLP-TTI-Homepage",true)[0]);break;case"FLP_PAGE":n.push(this._getPerformanceEntries("FLP-TTI-Homepage",true)[0]);n.push(this._getPerformanceEntries("FLP-Pages-Service-loadPage-end",false)[0]);break;case"FLP_FINDER":n.push(this._getPerformanceEntries("FLP-TTI-AppFinder",true)[0]);break;default:}}return n.filter(e=>{if(!e){return false}if(typeof e.startTime!=="number"){return false}if(e.startTime>t.getTimeStart()){return true}return false})[0]},_detectScenario:function(t){if(t.stepName==="undetermined_startup"){let n;const r=a.getLastClosedRecord();if(r){this._setLastTrackedRecord(r)}else{e.warning(`${o} Identified undetermined_startup but could not find a closed StatisticalRecord`,null,s);return{scenario:null,relatedRecord:null}}if(r.getTargetIsHomeApp()){n=c.CUSTOM_HOME_INITIAL}else{switch(t.appNameLong){case"sap.ushell.components.appfinder":n=c.FINDER_INITIAL;break;default:if(i.isManagedComponentName(t.appNameLong)){if(r.getStep()===c.APP_INITIAL){n=c.APP_INITIAL}else{n=c.HOME_INITIAL}}else{n=c.APP_INITIAL}}}return{scenario:n,relatedRecord:r}}const n=this._getLastTrackedRecord();const r=a.getNextNavigationRecords(n);if(r.length){const t=r[r.length-1];if(r.length>1){const t=r.reduce((e,t,n)=>{if(n<r.length-1){e.push(t.getTargetHash())}return e},[]);e.warning(`${o} skipped Records:`,JSON.stringify(t,null,2),s)}if(n&&t.isEqual(n)){return{scenario:null,relatedRecord:null}}this._setLastTrackedRecord(t);const a=t.getStep()===c.HOME_LOADING?c.HOME_LOADING:c.NAVIGATION;return{scenario:a,relatedRecord:t}}return{scenario:null,relatedRecord:null}},_enhanceInitialStart:function(t,n,r){const a={};if(n===c.CUSTOM_HOME_INITIAL){a.stepName=`${n}@${t.appNameShort}`}else{a.stepName=n}a.interactionType=u.APP_START;a.appNameShort=r.getTargetAppNameShort()||r.getTargetApplication();const i=this._getRelevantPerformanceMark(r);if(i){e.debug(`${o} using performance mark: ${i.name}`,null,s);a.timeToInteractive=i.startTime}else{e.warning(`${o} Scenario ${n} detected did not found a performance mark`,null,s)}return a},_enhanceNavigationRecord:function(t,n){const r={};if(t!=="FLP@DURING_LOAD"){r.stepName=n.getStep()}if(n.getTargetApplicationType()==="UI5"){r.interactionType=u.APP_START}r.appNameShort=n.getTargetAppNameShort()||n.getTargetApplication();const a=this._getRelevantPerformanceMark(n);if(/^FLP_BACK/.test(r.stepName)&&a){e.debug(`${o} using performance mark: ${a.name}`,null,s);r.timeToInteractive=a.startTime-n.getTimeStart()}return r},_enhanceInitialAppStart:function(e,t){const n={};n.stepName=e;if(t.getTargetApplicationType()==="UI5"){n.interactionType=u.APP_START}else{n.interactionType=u.STEP_IN_APP}return n}};return f},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/performance/ShellAnalytics", ["sap/base/Log","sap/ushell/EventHub","sap/ushell/services/AppConfiguration","sap/ushell/performance/StatisticalRecord","sap/ushell/utils","sap/ushell/Container"],(e,n,t,a,i,r)=>{"use strict";const o="ShellAnalytics";const c="[FesrFlp]";let s=[];let l=[];let p=false;let u=false;let d=false;let h;let f;let g;const m={EXPLACE:"EXPLACE",INPLACE:"INPLACE"};const A={"sap.ushell.components.appfinder":"FLP_FINDER","sap.ushell.components.pages":"FLP_PAGE","sap.ushell.components.homepage":"FLP_HOME"};function C(e){if(!e){return false}return e.id==="FLP_HOME"||e.id==="FLP_PAGE"}function v(e){return e&&e.isHomeApp}function N(){return s}function I(){const e=N().filter(e=>e.isClosed());if(e.length>0){return e[e.length-1]}return null}function y(e){if(!e){return N().filter(e=>e.isClosed())}return N().filter(n=>e.getTimeStart()<n.getTimeStart()&&n.isClosed())}function E(){return f}function P(n){e.debug(`${c} ShellAnalytics setCurrentApplication: ${n&&n.id}`,null,o);f=n}function L(){g=performance.now();i.setPerformanceMark("FLP -- change hash")}function S(){if(!h){const e=s[s.length-1]||null;h=new a(e);s.push(h)}return h}function T(e){if(d){d=false;return}const n=S();n.setTargetHash(e);n.setTimeStart(g||performance.now())}function R(e){const n=e||"";if(n.slice(-7)==="(TCODE)"){return n.replace(/ .*/,"").replace(/^\*/,"").replace(/,/g,"").substring(0,15).concat(" (TR)")}return n}function H(e){let n="";const t=e.componentInstance&&e.componentInstance.getManifest();if(t&&t["sap.app"]&&t["sap.app"].id){n=t["sap.app"].id}return n}async function F(){const e=await r.getServiceAsync("AppLifeCycle");const n=e.getCurrentApplication();if(!n){return{}}const a=n&&n.componentInstance&&n.componentInstance.sId&&n.componentInstance.sId.includes("homeApp-component");let i;if(n.getTechnicalParameter){i=n.getTechnicalParameter("sap-fiori-id")}else{i=Promise.resolve([])}const o=await i;let c=o&&o[0];if(a){return{type:"UI5",id:c,isHomeApp:true}}if(n.homePage){const e=A[H(n)]||"FLP_HOME";return{type:"UI5",id:e}}if(n.applicationType==="UI5"){if(!c){c=H(n);c=A[c]||c}c=c.replace(/,/g,"");return{type:"UI5",id:c}}const s=t.getMetadata().technicalName||t.getCurrentApplication().text||n.applicationType;const l=R(s);return{type:n.applicationType,id:l}}function w(e,n,t,a){if(a){a.setSourceApplication(e&&e.id);a.setTargetApplication(n&&n.id);a.setTargetApplicationType(n&&n.type);a.setNavigationMode(t);a.setTargetIsHomeApp(v(n));a.setSourceIsHomeApp(v(e));if(!p&&(v(n)||C(n))){p=true;a.setHomepageLoading(true)}a.closeRecord()}}async function b(e){const n=await r.getServiceAsync("AppLifeCycle");const{ApplicationType:t}=n;return[t.WDA,t.NWBC,t.TR].includes(e)}function M(e){if(!h){return}const n=h;h=null;F().then(async t=>{const a=E();const i=await b(t.type);if(e&&e.technicalName&&i){t.id=R(e.technicalName);t.type=t.id.slice(-4)==="(TR)"?"GUI":"NWBC"}P(t);w(a,t,m.INPLACE,n)})}function O(){d=true;const e=h;h=null;const n=E();w(n,null,m.EXPLACE,e)}function $(){if(h){const e=E();h.setSourceApplication(e?e.id:undefined);h.closeRecordWithError();h=null}}async function _(){const e=await r.getServiceAsync("ShellNavigationInternal");e.hashChanger.attachEvent("hashChanged",L);e.hashChanger.attachEvent("shellHashChanged",L)}async function U(){const e=await r.getServiceAsync("ShellNavigationInternal");e.hashChanger.detachEvent("hashChanged",L);e.hashChanger.detachEvent("shellHashChanged",L)}function W(e){const n=S();n.enhanceTargetApplicationData({pageId:e.pageId,spaceId:e.spaceId})}function D(){if(u){return}u=true;const t=[{once:true,eventName:"ShellNavigationInitialized",handler:_},{eventName:"trackHashChange",handler:T},{eventName:"doHashChangeError",handler:$},{once:true,eventName:"firstSegmentCompleteLoaded",handler:M},{once:true,eventName:"firstCatalogSegmentCompleteLoaded",handler:M},{once:true,eventName:"PagesRuntimeRendered",handler:M},{once:true,eventName:"CustomHomeRendered",handler:M},{eventName:"PageRendered",handler:W},{eventName:"FESRAppLoaded",handler:M},{eventName:"openedAppInNewWindow",handler:O},{eventName:"CloseFesrRecord",handler:M}];const a=t.map(t=>{if(t.once){return n.once(t.eventName).do((...n)=>{e.debug(`${c} Incoming event: ${t.eventName}`,JSON.stringify(n[0],null,2),o);t.handler(...n)})}return n.on(t.eventName).do((...n)=>{e.debug(`${c} Incoming event: ${t.eventName}`,JSON.stringify(n[0],null,2),o);t.handler(...n)})});l=[...l,...a]}function G(){if(!u){return}l.forEach(e=>{e.off()});l=[];U();P(null);s=[];h=null;u=false;d=false}return{enable:D,disable:G,getAllRecords:N,getCurrentApplication:E,getLastClosedRecord:I,getNextNavigationRecords:y}},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/performance/StatisticalRecord", ["sap/base/Log","sap/ui/performance/trace/Interaction","sap/ushell/api/performance/Extension"],(t,i,e)=>{"use strict";const r="StatisticalRecord";const s="[FesrFlp]";const o={OPEN:"OPEN",CLOSED:"CLOSED",ERROR:"ERROR"};const a=new e;class n{#t=null;#i=null;#e=false;#r=o.OPEN;#s=null;#o=null;#a=null;#n=null;#l=null;#c=null;#p=null;#h=null;#d=null;#u={};#g=null;constructor(){t.debug(`${s} ======================================`," OPEN ",r);t.debug(`${s} Opening Record`,null,r);this.#A()}setNavigationMode(t){if(this.isClosed()||this.isClosedWithError()){throw new Error("Statistical record is already closed!")}this.#i=t}setHomepageLoading(t){if(this.isClosed()||this.isClosedWithError()){throw new Error("Statistical record is already closed!")}this.#e=t}getSourceApplication(){return this.#l}#A(){if(!this.#g){t.debug(`${s} Interaction Start`,null,r);this.#g=i.notifyAsyncStep()}}#E(){if(this.#g){t.debug(`${s} Interaction End`,null,r);this.#g();this.#g=null}}#m(){t.debug(`${s} Calculating Step`,null,r);const i=a.getNavigationSource();const e=i?`:${i.id}`:"";const o=this.#h||this.#S(this.#p);const n=this.#c||this.#S(this.#l);if(!this.#p&&!this.#l){return""}if(!this.#l&&o){return"FLP@DURING_LOAD"}if(!this.#l&&!o){return"FLP@DEEP_LINK"}if(!o&&!n){return`A2A@${this.#l}${e}`}if(this.#l&&o&&!n){return`FLP_BACK@${this.#l}${e}`}if(n&&o){if(["FLP_FINDER","FLP_HOME"].includes(this.#p)){return`${this.#p}@H2H${e}`}if(this.#h){return`${this.#p}@H2H${e}`}return`${this.#u.pageId}@H2H${e}`}if(this.#S(this.#l)){return`FLP@HOMEPAGE_TILE${e}`}if(this.#c){return`APPSTART@CUSTOMHOME${e}`}return""}isEqual(t){return this.#a===t.getTimeStart()}closeRecord(){this.#s=this.#m();this.#r=o.CLOSED;this.#n=performance.now();if(this.#a){this.#t=this.#n-this.#a}this.#E();t.debug(`${s} Closing Record`,`${this.#s} - ${this.getTargetAppNameShort()||this.#p}`,r);t.debug(`${s} ======================================`,"___ CLOSE ___",r)}closeRecordWithError(){this.#r=o.ERROR;this.#n=performance.now();this.#t=this.#n-this.#a;this.#E();t.debug(`${s} Closing Record with Error`,`${this.getTargetAppNameShort()||this.#p}`,r);t.debug(`${s} ======================================`,"___ CLOSE ___",r)}isClosed(){return this.#r===o.CLOSED}isClosedWithError(){return this.#r===o.ERROR}getStep(){if(!this.isClosed()&&!this.isClosedWithError()){throw new Error("Statistical record is still open no step can be determined!")}return this.#s}getTimeStart(){return this.#a}setTimeStart(t){if(this.isClosed()||this.isClosedWithError()){throw new Error("Statistical record is already closed!")}this.#a=t}getTimeEnd(){return this.#n}setSourceApplication(i){if(this.isClosed()||this.isClosedWithError()){throw new Error("Statistical record is already closed!")}t.debug(`${s} Record setSource: ${i}`,null,r);this.#l=i}getTargetApplication(){return this.#p}setTargetApplication(i){if(this.isClosed()||this.isClosedWithError()){throw new Error("Statistical record is already closed!")}t.debug(`${s} Record setTarget: ${i}`,null,r);this.#p=i}getTargetAppNameShort(){if(this.#p==="FLP_PAGE"){const{pageId:t}=this.#u;if(t){return"FLP_PAGE"}}return null}getTargetApplicationType(){return this.#d}setTargetApplicationType(t){if(this.isClosed()||this.isClosedWithError()){throw new Error("Statistical record is already closed!")}this.#d=t}setTargetIsHomeApp(t){if(this.isClosed()||this.isClosedWithError()){throw new Error("Statistical record is already closed!")}this.#h=!!t}getTargetIsHomeApp(){return!!this.#h}setTargetHash(t){if(this.isClosed()||this.isClosedWithError()){throw new Error("Statistical record is already closed!")}this.#o=t}getTargetHash(){return this.#o}setSourceIsHomeApp(t){if(this.isClosed()||this.isClosedWithError()){throw new Error("Statistical record is already closed!")}this.#c=!!t}getSourceIsHomeApp(){return!!this.#c}#S(t){return t&&["FLP_HOME","FLP_PAGE","FLP_FINDER"].includes(t)}enhanceTargetApplicationData(t){if(this.isClosed()||this.isClosedWithError()){throw new Error("Statistical record is already closed!")}this.#u={...this.#u,...t}}}return n},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/AccessKeysHandler", ["sap/ui/base/EventProvider","sap/ui/Device","sap/ui/core/Element","sap/ui/thirdparty/hasher","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/state/StateManager","sap/ushell/Container","sap/ushell/state/ShellModel"],(e,t,n,s,o,i,r,l,a,c)=>{"use strict";const u=l.LaunchpadState;const d=l.ShellMode;const{Default:h,Headerless:f,Minimal:p}=d;const y=e.extend("sap.ushell.renderer.AccessKeysHandler",{constructor:function(){e.apply(this,arguments);i.on("AppRendered").do(this.appOpenedHandler.bind(this));this.bFocusOnShell=true;this.bFocusPassedToExternalHandlerFirstTime=true;this.isFocusHandledByAnotherHandler=false;this.fnExternalKeysHandler=null;this.sLastExternalKeysHandlerUrl=null;this.fnExternalShortcuts=null;this.bForwardNavigation=true;this.aShortcutsDescriptions=[]}});y.prototype.init=function(){this.oConfigModel=c.getConfigModel();document.addEventListener("keydown",e=>{if(e.keyCode===16){return}this.bForwardNavigation=!e.shiftKey;if(e.key==="Tab"||e.key==="F6"){setTimeout(()=>{this._handleEventUsingExternalKeysHandler(e)},0)}else{this._handleEventUsingExternalKeysHandler(e)}const t=l.getShellMode();const n=l.getLaunchpadState();if(t!==f){let s=false;if(n===u.Home){s=l.isLegacyHome()}else{s=[h,p].includes(t)}this.handleShortcuts(e,s)}if(this.fnExternalShortcuts){this.fnExternalShortcuts(e)}},true);this._cancelHelpEvent=this._cancelHelpEvent.bind(this)};y.prototype.appOpenedHandler=function(){const e=s.getHash();if(e!==this.sLastExternalKeysHandlerUrl){this.fnExternalKeysHandler=null}this.sLastExternalKeysHandlerUrl=e};y.prototype._focusItemInOverflowPopover=function(e,t){const s=n.getElementById("headEndItemsOverflow");if(s&&s.isOpen()){if(s.getContent().length){this._focusItemInPopover(e,s.getContent()[0].getItems())}}else if(t<10){const n=window.document.getElementById("endItemsOverflowBtn");if(n){n.click();const s=this;window.setTimeout(()=>{s._focusItemInOverflowPopover(e,++t)},300)}}};y.prototype._focusItemInUserMenu=function(e,t){const s=n.getElementById("sapUshellUserActionsMenuPopover");if(s&&s.isOpen()){if(s.getContent().length){this._focusItemInPopover(e,s.getContent()[0].getItems())}}else if(t<10){const n=this;i.emit("showUserActionsMenu",Date.now());window.setTimeout(()=>{n._focusItemInUserMenu(e,++t)},300)}};y.prototype._focusItemInPopover=function(e,t){for(let n=0;n<t.length;n++){const s=t[n].getId().split("-");if(s[s.length-1]===e){t[n].getDomRef().focus();return}}};y.prototype._handleAccessOverviewKey=function(e){const n=this.oConfigModel.getProperty("/searchAvailable");const s=this.oConfigModel.getProperty("/personalization");const i=o.last("/core/catalog/enabled");const l=o.last("/core/shell/model/enableNotifications");let a=[];a=a.concat(this.aShortcutsDescriptions);let c;let u;if(t.os.macintosh){c=r.i18n.getText("OptionKey");u=r.i18n.getText("CommandKey")}else{c=r.i18n.getText("AltKey");u=r.i18n.getText("ControlKey")}if(window.document.getElementById("shell-header")){if(i&&e){a.push({text:`${c} + A`,description:r.i18n.getText("hotkeyFocusOnAppFinderButton")})}if(n){a.push({text:`${c} + F`,description:r.i18n.getText("hotkeyFocusOnSearchButton")})}a.push({text:`${c} + H`,description:r.i18n.getText("hotkeyHomePage")});a.push({text:`${c} + M`,description:r.i18n.getText("hotkeyFocusOnUserActionMenu")});if(l){a.push({text:`${c} + N`,description:r.i18n.getText("hotkeyFocusOnNotifications")})}if(e){a.push({text:`${c} + S`,description:r.i18n.getText("hotkeyFocusOnSettingsButton")});a.push({text:`${r.i18n.getText("ControlKey")} + ${r.i18n.getText("CommaKey")}`,description:r.i18n.getText("hotkeyOpenSettings")})}if(s&&i){a.push({text:`${r.i18n.getText("ControlKey")} + ${r.i18n.getText("EnterKey")}`,description:r.i18n.getText("hotkeyExitEditing")})}if(n){a.push({text:`${u} + ${r.i18n.getText("ShiftKey")} + F`,description:r.i18n.getText("hotkeyFocusOnSearchField")})}}sap.ui.require(["sap/m/Label","sap/m/MessageBox","sap/m/Text","sap/m/VBox"],(e,t,n,s)=>{const o=new s;a.forEach(t=>{o.addItem(new e({text:t.description}));o.addItem(new n({text:t.text}).addStyleClass("sapUiSmallMarginBottom"))});t.show(o,{id:"hotKeysGlossary",title:r.i18n.getText("hotKeysGlossary"),styleClass:"sapContrastPlus"})})};y.prototype._focusAppFinderButton=function(){if(!o.last("/core/catalog/enabled")){return}if(this._isFocusInDialog()){return}if(o.last("/core/shellBar/enabled")){n.getElementById("shell-header").setFocusToAppFinderButton();return}const e=window.document.getElementById("openCatalogBtn");if(e){e.focus();return}const t=a.getRendererInternal("fiori2").getShellConfig();if(t.moveAppFinderActionToShellHeader){this._focusItemInOverflowPopover("openCatalogBtn",0);return}this._focusItemInUserMenu("openCatalogBtn",0)};y.prototype._focusSettingsButton=function(){if(this._isFocusInDialog()){return}const e=window.document.getElementById("userSettingsBtn");if(e){e.focus();return}const t=a.getRendererInternal("fiori2").getShellConfig();if(t.moveUserSettingsActionToShellHeader){this._focusItemInOverflowPopover("userSettingsBtn",0);return}this._focusItemInUserMenu("userSettingsBtn",0)};y.prototype._blockBrowserDefault=function(e){return new Promise(n=>{if(t.browser.name==="ie"){let t=window.document.getElementById("shell-header");if(t){t.setAttribute("accesskey",e.key);window.setTimeout(()=>{t=window.document.getElementById("shell-header");if(t){t.removeAttribute("accesskey");n()}},0)}}else{n()}e.preventDefault()})};y.prototype._handleAltShortcutKeys=function(e,t){const s=n.getElementById("shell-header");const r=n.getElementById("sapUshellUserActionsMenuPopover");const l=n.getElementById("shellNotificationsPopover");if(this._isFocusInInput()){return}if(s){if(t){if(e.keyCode===65){this._blockBrowserDefault(e).then(this._focusAppFinderButton.bind(this))}else if(e.keyCode===83){this._blockBrowserDefault(e).then(this._focusSettingsButton.bind(this))}}if(e.keyCode===70){this._blockBrowserDefault(e).then(()=>{if(this._isFocusInDialog()){return}const e=window.document.getElementById("sf");const t=window.document.getElementById("searchFieldInShell-button");if(e){e.focus()}else if(t){t.focus()}else{this._focusItemInOverflowPopover("sf",0)}})}else if(e.keyCode===72){this._blockBrowserDefault(e).then(()=>{if(this._isFocusInDialog()){return}if(o.last("/core/shellBar/enabled")){s.setFocusToLogo()}else{const e=document.getElementById("shell-header-logo");if(e){e.focus()}}})}else if(e.keyCode===77){this._blockBrowserDefault(e).then(()=>{if(this._isFocusInDialog()){return}if(!(r&&r.isOpen())){i.emit("showUserActionsMenu",Date.now())}})}else if(e.keyCode===78){this._blockBrowserDefault(e).then(()=>{if(this._isFocusInDialog()){return}if(!(l&&l.isOpen())){i.emit("showNotifications",Date.now())}})}}};y.prototype._handleCtrlShortcutKeys=function(e,t){if(e.shiftKey){if(e.keyCode===70){if(this._isFocusInDialog()){return}const t=n.getElementById("sf");if(t){if(o.last("/core/shellBar/enabled")){t.fireClick()}else{t.firePress()}e.preventDefault();e.stopPropagation()}}}else if(e.keyCode===188&&t){if(this._isFocusInDialog()){return}const t=n.getElementById("userSettingsBtn");if(t&&!this._isFocusInATable()){t.firePress();e.preventDefault();e.stopPropagation()}}else if(e.keyCode===112){if(this._isFocusInDialog()){return}this._handleAccessOverviewKey(t)}else if(e.keyCode===83){if(this._isFocusInDialog()){return}const t=window.document.getElementById("appFinderSearch-I");if(t){t.focus();e.preventDefault();e.stopPropagation()}}else if(e.keyCode===13){if(this._isFocusInDialog()){return}if(o.last("/core/spaces/enabled")){this.fireEvent("editModeDone")}else{const t=n.getElementById("sapUshellDashboardFooterDoneBtn");if(t&&t.getDomRef()){t.firePress();e.preventDefault();e.stopPropagation()}}}};y.prototype.handleShortcuts=function(e,n){if(t.os.macintosh&&e.metaKey&&e.shiftKey&&e.keyCode===70){const t=window.document.getElementById("sf");if(t){t.firePress();e.preventDefault();e.stopPropagation()}e.preventDefault()}else if(e.altKey&&!e.shiftKey&&!e.ctrlKey){this._handleAltShortcutKeys(e,n)}else if(e.ctrlKey&&!e.altKey){this._handleCtrlShortcutKeys(e,n)}};y.prototype.registerAppKeysHandler=function(e){this.fnExternalKeysHandler=e;this.sLastExternalKeysHandlerUrl=s.getHash()};y.prototype.resetAppKeysHandler=function(){this.fnExternalKeysHandler=null};y.prototype.getAppKeysHandler=function(){return this.fnExternalKeysHandler};y.prototype.registerAppShortcuts=function(e,t){this.fnExternalShortcuts=e;this.aShortcutsDescriptions=t};y.prototype._handleFocusBackToMe=function(e,t){this.bFocusOnShell=true;let s;if(t){s=window.document.getElementById(t)}else{this.fromOutside=true;if(e){e.preventDefault();this.bForwardNavigation=!e.shiftKey||e.key==="F6"}const t=n.getElementById("shell-header");if(t&&!o.last("/core/shellBar/enabled")){t.setFocusOnShellHeader(!this.bForwardNavigation);this.fromOutside=false}}if(s){s.focus();this.fromOutside=false}this.bFocusPassedToExternalHandlerFirstTime=true};y.prototype.setIsFocusHandledByAnotherHandler=function(e){this.isFocusHandledByAnotherHandler=e};y.prototype.sendFocusBackToShell=function(e){let t;let n;if(typeof e==="string"){n=e}else if(typeof e==="object"){t=e}this._handleFocusBackToMe(t,n)};y.prototype._handleEventUsingExternalKeysHandler=function(e){if(!this.bFocusOnShell&&!this.isFocusHandledByAnotherHandler){if(typeof this.fnExternalKeysHandler==="function"){this.fnExternalKeysHandler(e,this.bFocusPassedToExternalHandlerFirstTime);this.bFocusPassedToExternalHandlerFirstTime=false}}this.setIsFocusHandledByAnotherHandler(false)};y.prototype._cancelHelpEvent=function(e){e.preventDefault();document.removeEventListener("help",this._cancelHelpEvent)};y.prototype._isFocusInInput=function(){const e=(document.activeElement||{}).tagName;return e==="INPUT"||e==="TEXTAREA"};y.prototype._isFocusInDialog=function(){let e=document.activeElement;for(;e!==document.body;e=e.parentNode){if(e.classList.contains("sapMDialog")){return true}}return false};y.prototype._isFocusInATable=function(){let e=document.activeElement;let t;for(;e!==document.body;e=e.parentNode){t=e.classList;if(t.contains("sapUiCompSmartTable")||t.contains("sapUiMdcTable")||t.contains("sapMListTbl")||t.contains("sapUiTable")){return true}}return false};return new y});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/History", [],()=>{"use strict";function t(){this._history=[];this._backwards=false;this._historyPosition=-1;this._virtual={};this.hashChange=function(t){const i=this._history.indexOf(t);if(i===-1){if(this._historyPosition+1<this._history.length){this._history=this._history.slice(0,this._historyPosition+1)}this._history.push(t);this._historyPosition+=1;this.backwards=false;this.forwards=false}else{this.backwards=this._historyPosition>i;this.forwards=this._historyPosition<i;this._historyPosition=i}};this.pop=function(){let t;if(this._history.length>0){t=this._history.pop();this._historyPosition--}return t};this.isVirtualHashchange=function(t,i){return this._virtual.hasOwnProperty(i)&&this.getCurrentHash()===t&&this._history.length-1>this._historyPosition&&this._history[this._historyPosition+1]===i};this.setVirtualNavigation=function(t){this._virtual[t]=true};this.getCurrentHash=function(){return this._history[this._historyPosition]||null};this.getHashIndex=function(t){return this._history.indexOf(t)};this.getHistoryLength=function(){return this._history.length}}return new t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/LogonFrameProvider", ["sap/m/Button","sap/m/Dialog","sap/ui/core/Element","sap/ui/core/HTML","sap/ushell/ui/footerbar/ContactSupportButton","sap/ushell/Config","sap/ushell/resources","sap/ushell/Container"],(e,t,s,n,o,l,a,i)=>{"use strict";function r(e){const t=document.getElementById("sap-ui-blocklayer-popup");if(t){if(e){t.classList.add("sapUshellSamlDialogHidden")}else{t.classList.remove("sapUshellSamlDialogHidden")}}}function c(){const e=s.getElementById("SAMLDialog");if(e){e.destroy()}}function u(){c();const s=new t({id:"SAMLDialog",title:a.i18n.getText("samlDialogTitle"),contentWidth:"50%",contentHeight:"50%",content:new n("SAMLDialogFrame",{content:'<iframe id=SAMLDialogFrame src=""></iframe>'}),endButton:new e({text:a.i18n.getText("samlCloseBtn"),press:i.cancelLogon.bind(i)})}).addStyleClass("sapUshellIframeDialog sapContrastPlus sapUshellSamlDialogHidden");if(l.last("/core/extension/SupportTicket")){const e=new o;e.setWidth("150px");e.setIcon("");s.setBeginButton(e)}s.open();r(true);return document.getElementById("SAMLDialogFrame")}function d(){const e=s.getElementById("SAMLDialog");if(e){e.removeStyleClass("sapUshellSamlDialogHidden");r(true)}}const p={create:u,show:d,destroy:c};return p});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/Renderer", ["sap/ui/core/Component","sap/ui/core/Element","sap/ui/core/UIComponent","sap/ushell/ui/shell/ToolAreaItem","sap/ushell/Config","sap/ushell/Container","sap/ushell/EventHub","sap/ushell/utils","sap/ushell/appIntegration/AppLifeCycle","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ushell/components/SharedComponentUtils","sap/ushell/services/AppConfiguration","sap/ushell/resources","sap/ui/thirdparty/hasher","sap/ui/thirdparty/jquery","sap/base/Log","sap/base/util/deepExtend","sap/base/util/extend","sap/ui/base/Object","sap/base/util/ObjectPath","sap/ui/core/library","sap/ushell/library","sap/ui/core/mvc/View","sap/ushell/ui/shell/ShellHeadItem","sap/m/NotificationListItem","sap/ushell/renderer/ShellLayout","sap/ushell/renderer/utils","sap/ushell/ui/launchpad/ActionItem","sap/ushell/state/ShellModel","sap/ushell/state/StateManager","sap/ushell/navigation/NavigationState","sap/ushell/renderers/fiori2/RendererExtensions"],function(e,t,n,o,r,i,s,a,l,p,c,u,d,h,f,jQuery,g,m,y,S,w,C,I,b,A,v,P,B,F,H,R,E,T){"use strict";const _=C.mvc.ViewType;const L=I.AppType;const V=R.LaunchpadState;const k=R.Operation;const M=R.ShellMode;const{Headerless:z,Merged:j,Blank:U,Lean:N}=M;const D=n.extend("sap.ushell.renderer.Renderer",{metadata:{version:"1.141.1",dependencies:{version:"1.141.1",libs:["sap.ui.core","sap.m"],components:[]},interfaces:["sap.ui.core.IAsyncContentCreation"],routing:{config:{async:true,controlId:"viewPortContainer",clearAggregation:false,controlAggregation:"pages"},routes:[{name:"appfinder-legacy",pattern:"Shell-home&/appFinder/:menu:/:filter:"},{name:"home",pattern:["Shell-home?:hashParameters:","Shell-home&/:innerHash*:","Shell-home"],target:function(){if(r.last("/core/homeApp/enabled")){return"homeapp"}if(r.last("/core/workPages/enabled")&&!r.last("/core/workPages/runtimeSwitcher")){return"workpages"}if(r.last("/core/workPages/enabled")&&r.last("/core/workPages/runtimeSwitcher")){return"runtimeSwitcher"}if(r.last("/core/spaces/enabled")){return"pages"}return"home"}()},{name:"appfinder",pattern:["Shell-appfinder?:hashParameters:&/:innerHash*:","Shell-appfinder?:hashParameters*:","Shell-appfinder&/:innerHash*:","Shell-appfinder"],target:function(){if(r.last("/core/site/siteId")&&r.last("/core/catalog/enabled")&&r.last("/core/workPages/contentFinderStandalone")&&r.last("/core/workPages/enabled")){return"contentfinder"}return r.last("/core/catalog/enabled")?"appfinder":undefined}()},{name:"openFLPPage",pattern:["Launchpad-openFLPPage?:hashParameters:","Launchpad-openFLPPage"],target:function(){if(r.last("/core/workPages/enabled")&&!r.last("/core/workPages/runtimeSwitcher")){return"workpages"}if(r.last("/core/workPages/enabled")&&r.last("/core/workPages/runtimeSwitcher")){return"runtimeSwitcher"}if(r.last("/core/spaces/enabled")){return"pages"}return"home"}()},{name:"openWorkPage",pattern:["Launchpad-openWorkPage?:hashParameters:","Launchpad-openWorkPage"],target:"workpages"},{name:"wzsearch",pattern:["WorkZoneSearchResult-display:?query:"],target:"wzsearch"}],targets:{home:{name:"sap.ushell.components.homepage",type:"Component",id:"Shell-home-component",options:{manifest:false,asyncHints:{preloadBundles:r.last("/core/home/featuredGroup/enable")?["sap/ushell/preload-bundles/homepage-af-dep.js","sap/ushell/components/homepage/cards-preload.js"]:["sap/ushell/preload-bundles/homepage-af-dep.js"]},componentData:{config:{enablePersonalization:true,enableHomePageSettings:false}}}},appfinder:{name:"sap.ushell.components.appfinder",type:"Component",id:"Shell-appfinder-component",options:{manifest:false,asyncHints:{preloadBundles:["sap/ushell/preload-bundles/homepage-af-dep.js"]},componentData:{config:{enablePersonalization:true,enableHomePageSettings:false}}}},contentfinder:{name:"sap.ushell.components.contentFinderStandalone",type:"Component",id:"Shell-appfinder-component",options:{manifest:true,asyncHints:{preloadBundles:[]},componentData:{}}},pages:{name:"sap.ushell.components.pages",type:"Component",id:"pages-component",options:{componentData:{},asyncHints:{preloadBundles:["sap/ushell/preload-bundles/homepage-af-dep.js"]}}},workpages:{name:r.last("/core/workPages/defaultComponent/name"),type:"Component",id:"workPageRuntime-component",options:r.last("/core/workPages/defaultComponent")},runtimeSwitcher:{name:"sap.ushell.components.runtimeSwitcher",type:"Component",id:"runtimeSwitcher-component",options:{componentData:{}}},wzsearch:{name:"sap.ushell.components.cepsearchresult.app",type:"Component",id:"cepsearchresult-app-component",options:{manifest:true,componentData:{config:{enablePersonalization:true,enableHomePageSettings:false}}}}}}},init:function(){n.prototype.init.apply(this,arguments);const t=this.getRouter();["appfinder-legacy","home","appfinder","openFLPPage","openWorkPage","wzsearch"].forEach(e=>{t.getRoute(e).attachBeforeMatched(()=>{s.emit("trackHashChange",f.getHash());E.endNavigation()})});if(r.last("/core/homeApp/enabled")){this._getHomeAppTarget().then(e=>{t.getTargets().addTarget("homeapp",e);t.getTarget("homeapp").attachEventOnce("display",()=>{s.emit("CoreResourcesComplementLoaded",{status:"success"})})})}t.getRoute("home").attachMatched(this._prepareHomepage,this);t.getRoute("openFLPPage").attachMatched(this._prepareHomepage,this);t.getRoute("openWorkPage").attachMatched(this._prepareHomepage,this);t.getRoute("appfinder-legacy").attachMatched(e=>{t.navTo("appfinder",{},true)});t.getRoute("appfinder").attachMatched(async function(n){if(!r.last("/core/catalog/enabled")){g.warning("AppFinder is disabled. Re-route to the homepage.");t.navTo("home",null,true);return}const o=e.getComponentById(this.createId("Shell-appfinder-component"));const s=n.getParameter("arguments");if(i.getRendererInternal("fiori2")){l.getShellUIService().setBackNavigation();i.getRendererInternal("fiori2").setCurrentCoreView("appFinder")}d.setCurrentApplication(null);const a=o.getRouter();o.getRootControl().loaded().then(()=>{a.parse(s["innerHash*"]||"")});l.switchViewState(V.App,false,"Shell-appfinder");u.initializeAccessKeys()},this);t.getRoute("wzsearch").attachMatched(e=>{l.getShellUIService().setBackNavigation();l.switchViewState(V.App,false,"cepsearchresult-app")});const o=new c(p);o.setDefaultBindingMode("OneWay");this.setModel(o,"device");this.setModel(h.i18nModel,"i18n")}});D.prototype._prepareHomepage=function(e){if(d.getCurrentApplication()){i.getServiceAsync("ShellNavigationInternal").then(e=>{e.setIsInitialNavigation(false)})}const t=f.getHash();if(!r.last("/core/spaces/enabled")&&t.indexOf("Launchpad-openFLPPage")===0){i.getServiceAsync("ShellNavigationInternal").then(e=>{e.replaceHashWithoutNavigation("Shell-home")})}const n=r.last("/core/shell/homePageTitle");const o=h.getTranslationFromJSON(n)||h.i18n.getText("homeBtn_tooltip");const s=this.getShellConfig().rootIntent;const p=!s||a.isFlpHomeIntent(s);l.switchViewState(p?V.Home:V.App,false,"Shell-home");this.setCurrentCoreView("home");d.setCurrentApplication(null);l.getShellUIService().setTitle(o);l.getShellUIService().setHierarchy();l.getShellUIService().setRelatedApps();u.initializeAccessKeys()};D.prototype._getHomeAppTarget=function(){return i.getServiceAsync("Ui5ComponentLoader").then(e=>{const t=r.last("/core/homeApp/component");const n=e.getCoreResourcesComplementBundle();if(t.url){return{name:"rendererTargetWrapper",type:"Component",id:"homeApp-component-wrapper",path:"sap/ushell/renderer",options:{componentData:{componentId:"homeApp-component",name:t.name,url:t.url},asyncHints:Object.assign({},t.asyncHints||{},{preloadBundles:n})}}}return{name:"error",type:"Component",id:"homeApp-component",path:"sap/ushell/components/homeApp",options:{componentData:{},asyncHints:{preloadBundles:n}}}})};D.prototype.createContent=function(){const e=this.getComponentData()||{};const t={applications:{"Shell-home":{}},rootIntent:"Shell-home"};const n=R.getShellMode();if(e.config){if(e.config.rootIntent===undefined){e.config.migrationConfig=true}e.config=m(t,e.config);y(e.config.applications["Shell-home"],r.last("/core/home"),r.last("/core/catalog"));if([z,j,U].includes(n)){e.config.enablePersonalization=false;r.emit("/core/shell/enablePersonalization",false)}else{e.config.enablePersonalization=r.last("/core/shell/enablePersonalization")}if([N].includes(n)){e.config.showRecentActivity=false}else if(e.config.showRecentActivity===undefined){e.config.showRecentActivity=r.last("/core/shell/model/showRecentActivity")}r.emit("/core/shell/model/showRecentActivity",e.config.showRecentActivity);if(!e.config.enablePersonalization){e.config.moveEditHomePageActionToShellHeader=false;if(!e.config.enableAppFinder){e.config.moveAppFinderActionToShellHeader=false}}}if(!this.getComponentData().async){let t;g.error("sap/ushell/renderer/Renderer component is created synchronously. Synchronous instantiation is not allowed. Please use async:true in component data");(function(){t=this._createSyncContent(e)}).bind(this)();return t}return b.create({id:"mainShell",viewName:"module:sap/ushell/renderer/Shell.view",height:"100%",viewData:e}).then(e=>{e.addStyleClass("sapUshellRenderer");this._oShellView=e;this.shellCtrl=e.getController();B.init(e.getController());return e})};D.prototype._createSyncContent=function(e){const t=sap.ui.view("mainShell",{type:_.JS,viewName:"sap.ushell.renderers.fiori2.Shell",height:"100%",viewData:e});t.addStyleClass("sapUshellRenderer");this._oShellView=t;t.loaded().then(e=>{this.shellCtrl=e.oController;B.init(e.getController())});return t};D.prototype.createExtendedShellState=function(e,t){g.error("The function createExtendedShellState was deprecated  discontinued.")};D.prototype.applyExtendedShellState=function(e,t){g.error("The function applyExtendedShellState was discontinued.")};D.prototype.showLeftPaneContent=function(e,t,n){this._updateItemStates(e,t,n,"sidePane.items",k.Add)};D.prototype.showHeaderItem=function(e,t,n){const o=Array.isArray(e)?e:[e];const r=this._sanitizeStates(n);o.forEach(e=>{R.updateManagedControl(e,!t);if(t){R.updateCurrentState("header.headItems",k.Add,e);return}R.updateBaseStates(r,"header.headItems",k.Add,e)})};D.prototype.showRightFloatingContainerItem=function(e,t,n){this._updateItemStates(e,t,n,"rightFloatingContainer.items",k.Add)};D.prototype.showRightFloatingContainer=function(e){R.updateCurrentState("rightFloatingContainer.visible",k.Set,e)};D.prototype.showToolAreaItem=function(e,t,n){this._updateItemStates(e,t,n,"toolArea.items",k.Add)};D.prototype.showActionButton=function(e,n,o){const r=Array.isArray(e)?e:[e];const{buttons:i,actions:s}=r.reduce((e,n)=>{const o=t.getElementById(n);const r=S.isObjectA(o,"sap.m.Button")&&!S.isObjectA(o,"sap.ushell.ui.launchpad.ActionItem");if(r){e.buttons.push(n)}else{e.actions.push(n)}return e},{buttons:[],actions:[]});if(i.length){this.convertButtonsToActions(i,n,o)}this._updateItemStates(s,n,o,"userActions.items",k.Add)};D.prototype.showFloatingActionButton=function(e,t,n){this._updateItemStates(e,t,n,"floatingActions.items",k.Add)};D.prototype.showHeaderEndItem=function(e,t,n){this._updateItemStates(e,t,n,"header.headEndItems",k.Add)};D.prototype._sanitizeStates=function(e){const t=Array.isArray(e)?e:[];const n=t.filter(e=>e!==undefined&&e!==null).filter(e=>{const t=Object.values(this.LaunchpadState).includes(e);if(!t){throw new Error(`Invalid launchpad state: ${e}`)}return t});if(n.length===0){return Object.values(this.LaunchpadState)}return n};D.prototype._updateItemStates=function(e,t,n,o,r){const i=Array.isArray(e)?e:[e];const s=this._sanitizeStates(n);i.forEach(e=>{R.updateManagedControl(e,!t);if(t){R.updateCurrentState(o,r,e);return}R.updateBaseStates(s,o,r,e)})};D.prototype.setHeaderVisibility=function(e,t,n){const o=this._sanitizeStates(n);if(t){R.updateCurrentState("header.visible",k.Set,e);return}R.updateBaseStates(o,"header.visible",k.Set,e)};D.prototype.showSubHeader=function(e,t,n){this._updateItemStates(e,t,n,"subHeader.items",k.Add)};D.prototype.showSignOutItem=function(e,t){this.showActionButton(["logoutBtn"],e,t)};D.prototype.showSettingsItem=function(e,t){this.showActionButton(["userSettingsBtn"],e,t)};D.prototype.setFooter=function(e){this.shellCtrl.setFooter(e)};D.prototype.setNavigationBar=function(e){this.shellCtrl.setNavigationBar(e)};D.prototype.setSideNavigation=function(e){this.shellCtrl.setSideNavigation(e)};D.prototype.setShellShapes=function(e){this.shellCtrl.setShellShapes(e)};D.prototype.setShellFooter=function(e){const n=new jQuery.Deferred;const o=this;let r;const i=e.controlType;const s=e.oControlProperties;if(!i){g.warning("You must specify control type in order to create it");n.reject(new Error("You must specify control type in order to create it"));return n.promise()}if(!s){g.warning("You must specify control properties in order to create it");n.reject(new Error("You must specify control properties in order to create it"));return n.promise()}const a=i.replace(/\./g,"/");sap.ui.require([a],e=>{r=t.getElementById(s.id);if(!r){r=new e(s)}if(o.lastFooterId){o.removeFooter()}o.lastFooterId=r.getId();o.shellCtrl.setFooter(r);n.resolve(r)});return n.promise()};D.prototype.setFooterControl=function(e,t){const n=e.replace(/\./g,"/");const o=sap.ui.require(n);let r=false;if(o){r=true}else if(!w.get(e||"")){g.error(`Renderer.setFooterControl: the referenced control resource ${e} is not available.`,undefined,"sap.ushell.renderer.Renderer");return undefined}const i=this.createItem(t,undefined,t=>{if(e){if(r){return new o(t)}const n=w.get(e||"");return new n(t)}g.warning("You must specify control type in order to create it");return undefined});if(this.lastFooterId){this.removeFooter()}this.lastFooterId=i.getId();this.shellCtrl.setFooter(i);return i};D.prototype.hideHeaderItem=function(e,t,n){this._updateItemStates(e,t,n,"header.headItems",k.Remove)};D.prototype.removeToolAreaItem=function(e,t,n){this._updateItemStates(e,t,n,"toolArea.items",k.Remove)};D.prototype.removeRightFloatingContainerItem=function(e,t,n){this._updateItemStates(e,t,n,"rightFloatingContainer.items",k.Remove)};D.prototype.hideActionButton=function(e,t,n){this._updateItemStates(e,t,n,"userActions.items",k.Remove)};D.prototype.hideLeftPaneContent=function(e,t,n){this._updateItemStates(e,t,n,"sidePane.items",k.Remove)};D.prototype.hideFloatingActionButton=function(e,t,n){this._updateItemStates(e,t,n,"floatingActions.items",k.Remove)};D.prototype.hideHeaderEndItem=function(e,t,n){this._updateItemStates(e,t,n,"header.headEndItems",k.Remove)};D.prototype.hideSubHeader=function(e,t,n){this._updateItemStates(e,t,n,"subHeader.items",k.Remove)};D.prototype.removeFooterById=function(e){if(e===this.shellCtrl.getFooterId()){this.shellCtrl.removeFooter()}const n=t.getElementById(e);if(n){n.destroy()}};D.prototype.removeFooter=function(){this.shellCtrl.removeFooter();if(this.lastFooterId){const e=t.getElementById(this.lastFooterId);if(e){e.destroy()}this.lastFooterId=undefined}};D.prototype.addShellSubHeader=function(e){const n=new jQuery.Deferred;const o=this;let r;const i=e.controlType;const s=e.oControlProperties;const a=e.bIsVisible;const l=e.bCurrentState;const p=e.aStates;if(!i){g.warning("You must specify control type in order to create it");n.reject(new Error("You must specify control type in order to create it"));return n.promise()}if(!s){g.warning("You must specify control properties in order to create it");n.reject(new Error("You must specify control properties in order to create it"));return n.promise()}const c=i.replace(/\./g,"/");sap.ui.require([c],e=>{r=t.getElementById(s.id);if(!r){r=new e(s);R.addManagedControl(r.getId(),!l)}if(a){o.showSubHeader(r.getId(),l,p)}n.resolve(r)});return n.promise()};D.prototype.addSubHeader=function(e,t,n,o,r){const i=this._sanitizeStates(r);const s=e.replace(/\./g,"/");const a=sap.ui.require(s);let l=false;if(a){l=true}else if(!w.get(e||"")){g.error(`Renderer.setFooterControl: the referenced control resource ${e} is not available.`,undefined,"sap.ushell.renderer.Renderer");return undefined}const p=this.createItem(t,o,t=>{if(e){if(l){return new a(t)}const n=w.get(e||"");return new n(t)}g.warning("You must specify control type in order to create it");return undefined});if(n){this.showSubHeader(p.getId(),o,i)}return p};D.prototype.addUserAction=function(e){const n=new jQuery.Deferred;const o=this;let{controlType:r}=e;const{oControlProperties:i,bIsVisible:s,bCurrentState:a,aStates:l}=e;if(!r){if(t.getElementById(i?.id)){r="sap.ushell.ui.launchpad.ActionItem"}else{const e="You must specify control type in order to create it";g.warning(e);n.reject(new Error(e));return n.promise()}}if(!i){const e="You must specify control properties in order to create it";g.warning(e);n.reject(new Error(e));return n.promise()}const p=r==="sap.m.Button"?"sap.ushell.ui.launchpad.ActionItem":r;const c=p.replace(/\./g,"/");sap.ui.require([c],e=>{let r=t.getElementById(i.id);if(!r){r=new e(i);R.addManagedControl(r.getId(),!a)}if(s){o.showActionButton(r.getId(),a,l)}n.resolve(r)},()=>{const e=`The control type ${p} is not available.`;g.error(e);n.reject(new Error(e))});return n.promise()};D.prototype.addActionButton=function(e,t,n,o,r){const i=this._sanitizeStates(r);let s=false;if(e==="sap.m.Button"){e="sap.ushell.ui.launchpad.ActionItem"}const a=e.replace(/\./g,"/");const l=sap.ui.require(a);if(l){s=true}else if(!w.get(e||"")){g.error(`Renderer.setFooterControl: the referenced control resource ${e} is not available.`,undefined,"sap.ushell.renderer.Renderer");return undefined}const p=this.createItem(t,o,t=>{if(e){if(s){return new l(t)}const n=w.get(e||"");return new n(t)}g.warning("You must specify control type in order to create it");return undefined});if(n){this.showActionButton(p.getId(),o,i)}return p};D.prototype.addFloatingButton=function(e){const n=new jQuery.Deferred;const o=this;let r;const i=e.controlType||"sap.m.Button";const s=e.oControlProperties;const a=e.bIsVisible;const l=e.bCurrentState;const p=e.aStates;if(!s){g.warning("You must specify control properties in order to create it");n.reject(new Error("You must specify control properties in order to create it"));return n.promise()}const c=i.replace(/\./g,"/");sap.ui.require([c],e=>{r=t.getElementById(s.id);if(!r){r=new e(s);R.addManagedControl(r.getId(),!l)}if(a){o.showFloatingActionButton(r.getId(),l,p)}n.resolve(r)});return n.promise()};D.prototype.addFloatingActionButton=function(e,t,n,o,r){const i=this._sanitizeStates(r);let s=false;if(!e){e="sap.m.Button"}const a=e.replace(/\./g,"/");const l=sap.ui.require(a);if(l){s=true}else if(!w.get(e||"")){g.error(`Renderer.setFooterControl: the referenced control resource ${e} is not available.`,undefined,"sap.ushell.renderer.Renderer");return undefined}const p=this.createItem(t,o,t=>{if(e){if(s){return new l(t)}const n=w.get(e||"");return new n(t)}g.warning("You must specify control type in order to create it");return undefined});if(n){this.showFloatingActionButton(p.getId(),o,i)}return p};D.prototype.addSidePaneContent=function(e){const n=new jQuery.Deferred;const o=this;let r;const i=e.controlType;const s=e.oControlProperties;const a=e.bIsVisible;const l=e.bCurrentState;const p=e.aStates;if(!i){g.warning("You must specify control type in order to create it");n.reject(new Error("You must specify control type in order to create it"));return n.promise()}if(!s){g.warning("You must specify control properties in order to create it");n.reject(new Error("You must specify control properties in order to create it"));return n.promise()}const c=i.replace(/\./g,"/");sap.ui.require([c],e=>{r=t.getElementById(s.id);if(!r){r=new e(s);R.addManagedControl(r.getId(),!l)}if(a){o.showLeftPaneContent(r.getId(),l,p)}n.resolve(r)});return n.promise()};D.prototype.addLeftPaneContent=function(e,t,n,o,r){const i=this._sanitizeStates(r);const s=e.replace(/\./g,"/");const a=sap.ui.require(s);let l;if(a){l=true}else if(!w.get(e||"")){g.error(`Renderer.setFooterControl: the referenced control resource ${e} is not available.`,undefined,"sap.ushell.renderer.Renderer");return undefined}const p=this.createItem(t,o,t=>{if(e){if(l){return new a(t)}const n=w.get(e||"");return new n(t)}g.warning("You must specify control type in order to create it");return undefined});if(n){this.showLeftPaneContent(p.getId(),o,i)}return p};D.prototype.addHeaderItem=function(e,t,n,o,i){if(typeof arguments[0]==="object"&&typeof arguments[1]==="boolean"){t=arguments[0];n=arguments[1];o=arguments[2];i=arguments[3]}else{g.error("sap.ushell.renderer.Renderer: The parameter 'controlType' of the function 'addHeaderItem' is deprecated. Usage will be ignored!")}const s=this._sanitizeStates(i);const a=this.createItem(t,o,e=>{if(r.last("/core/shellBar/enabled")){const t=sap.ui.require("sap/ushell/gen/ui5/webcomponents/dist/Button");e={...e,click:e.press};delete e.press;if(e.ariaHaspopup){e.accessibilityAttributes={...e.accessibilityAttributes||{},hasPopup:e.ariaHaspopup};delete e.ariaHaspopup}return new t(e)}return new A(e)});if(n){this.showHeaderItem(a.getId(),o,s)}return a};D.prototype.addRightFloatingContainerItem=function(e,t,n,o){const r=this._sanitizeStates(o);const i=this.createItem(e,n,e=>new v(e).addStyleClass("sapUshellNotificationsListItem"));if(t){this.showRightFloatingContainerItem(i.getId(),n,r)}return i};D.prototype.addToolAreaItem=function(e,t,n,r){const i=this._sanitizeStates(r);if(t!==null){e.visible=!!t}function s(e){return new o(e)}const a=this.createItem(e,n,s);if(t){this.showToolAreaItem([a.getId()],n,i);if(n){const e=R.getLaunchpadState();this.showToolArea(e,true)}else{i.forEach(e=>{this.showToolArea(e,true)})}}return a};D.prototype.addHeaderEndItem=function(e,t,n,o,i){if(typeof arguments[0]==="object"&&typeof arguments[1]==="boolean"){t=arguments[0];n=arguments[1];o=arguments[2];i=arguments[3]}const s=this._sanitizeStates(i);const a=this.createItem(t,o,e=>{if(r.last("/core/shellBar/enabled")){if(typeof e.press==="function"){e={...e,click:e.press}}delete e.press;delete e.ariaLabel;const t=sap.ui.require("sap/ushell/gen/ui5/webcomponents-fiori/dist/ShellBarItem");return new t(e)}return new A(e)});if(n){this.showHeaderEndItem(a.getId(),o,s)}return a};D.prototype.getModelConfiguration=function(){return this.shellCtrl.getModelConfiguration()};D.prototype.addEndUserFeedbackCustomUI=function(e,t){if(e||t){g.info("Application calls sap.ushell.Renderer.addEndUserFeedbackCustomUI. This function is deprecated. The call has no effect.")}};D.prototype.addUserPreferencesEntry=function(e){this.shellCtrl.addUserPreferencesEntry(e)};D.prototype.addUserPreferencesGroupedEntry=function(e){return this.shellCtrl.addUserPreferencesEntry(e,true)};D.prototype.setHeaderTitle=function(e){this.shellCtrl.setHeaderTitle(e)};D.prototype.setLeftPaneVisibility=function(e,t){if(!e){e=this.LaunchpadState.Home}R.updateBaseStates([e],"sidePane.visible",k.Set,t)};D.prototype.showToolArea=function(e,t){if(!e){e=this.LaunchpadState.Home}R.updateBaseStates([e],"toolArea.visible",k.Set,t)};D.prototype.setHeaderHiding=function(e){g.error("sap.ushell.Renderer.setHeaderHiding: Functionality was discontinued.")};D.prototype.setFloatingContainerContent=function(e,t,n){this._updateItemStates([e.getId()],t,n,"floatingContainer.items",k.Add)};D.prototype.setFloatingContainerVisibility=function(e){R.updateAllBaseStates("floatingContainer.visible",k.Set,e)};D.prototype.getFloatingContainerState=function(){return H.getModel().getProperty("/floatingContainer/state")};D.prototype.getFloatingContainerVisiblity=function(){return H.getModel().getProperty("/floatingContainer/visible")};D.prototype.getRightFloatingContainerVisibility=function(){return this.shellCtrl.getRightFloatingContainerVisibility()};D.prototype.setFloatingContainerDragSelector=function(e){R.updateAllBaseStates("floatingContainer.dragSelector",k.Set,e)};D.prototype.LaunchpadState={App:"app",Home:"home"};D.prototype.createTriggers=function(e,t,n){g.error("'createTriggers' was discontinued.")};D.prototype.convertButtonsToActions=function(e,n,o){const r=this._sanitizeStates(o);const i={};const s=this;e.forEach(e=>{const o=t.getElementById(e);i.id=o.getId();i.text=o.getText();i.icon=o.getIcon();i.tooltip=o.getTooltip();i.enabled=o.getEnabled();i.visible=o.getVisible();if(o.mEventRegistry&&o.mEventRegistry.press){i.press=o.mEventRegistry.press[0].fFunction}o.destroy();s.addActionButton("sap.ushell.ui.launchpad.ActionItem",i,i.visible,n,r)})};D.prototype.createItem=function(e,n,o){let r;if(e&&e.id){r=t.getElementById(e.id)}if(!r){r=o(e);R.addManagedControl(r.getId(),!n)}return r};D.prototype.addEntryInShellStates=function(){g.error("'addEntryInShellStates' was deprecated and discontinued.")};D.prototype.removeCustomItems=function(){g.error("'removeCustomItems' was deprecated and discontinued.")};D.prototype.addCustomItems=function(){g.error("'addCustomItems' was deprecated and discontinued.")};D.prototype.addRightViewPort=function(){};D.prototype.addLeftViewPort=function(){};D.prototype.getShellController=function(){return this.shellCtrl};D.prototype.getViewPortContainerCurrentState=function(){return"Center"};D.prototype.ViewPortContainerNavTo=function(e,t,n){this.shellCtrl.getNavContainer().navTo(t)};D.prototype.switchViewPortStateByControl=function(){};D.prototype.ViewPortContainerAttachAfterSwitchStateAnimationFinished=function(){};D.prototype.setUserActionsMenuSelected=function(e){this.shellCtrl.setUserActionsMenuSelected(e)};D.prototype.setNotificationsSelected=function(e){this.shellCtrl.setNotificationsSelected(e)};D.prototype.addShellDanglingControl=function(e){this.shellCtrl.getView().addDanglingControl(e)};D.prototype.getShellConfig=function(){return this.shellCtrl.getView().getViewData()?this.shellCtrl.getView().getViewData().config||{}:{}};D.prototype.getEndUserFeedbackConfiguration=function(){return{}};D.prototype.reorderUserPrefEntries=function(e){return this.shellCtrl._reorderUserPrefEntries(e)};D.prototype.logRecentActivity=function(e){if(!e.appType){e.appType=L.APP}if(!e.appId){e.appId=e.url}return this.shellCtrl._logRecentActivity(e)};D.prototype.setCurrentCoreView=function(e){this.currentCoreView=e};D.prototype.getCurrentCoreView=function(){return this.currentCoreView};D.prototype._isBuiltInIntent=function(e){if(!D._aBuiltInRoutes){const e=this.getManifestEntry("/sap.ui5/routing/routes");D._aBuiltInRoutes=e.reduce((e,t)=>e.concat(t.pattern),[])}if(!e||!e.semanticObject||!e.action){return false}const t=`${e.semanticObject}-${e.action}`;return D._aBuiltInRoutes.indexOf(t)!==-1};this.addTopHeaderPlaceHolder=function(){};this.removeTopHeaderPlaceHolder=function(){};D.prototype.updateHeaderItem=function(e,n){const o=t.getElementById(e);if(o&&n){if(n.hasOwnProperty("floatingNumber")){o.setFloatingNumber(n.floatingNumber)}}};D.prototype.destroyButton=function(e){if(!e){return}const n=Array.isArray(e)?e:[e];n.forEach(e=>{const n=t.getElementById(e);if(n){n.destroy()}})};D.prototype.waitForShellLayout=function(){return this.shellCtrl.getView().waitForShellLayout()};D.prototype.destroy=function(){const e=this.shellCtrl?this.shellCtrl.awaitPendingInitializations():Promise.resolve();return e.then(function(){return n.prototype.destroy.apply(this,arguments)}.bind(this)).then(()=>{P.destroyLayout()})};setTimeout(()=>{sap.ui.require(["sap/ushell/renderers/fiori2/Renderer"],()=>{})},0);return D});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/RendererManagedComponents", ["sap/ushell/Config"],e=>{"use strict";const n={Home:"Home",AppDiscovery:"AppDiscovery"};class o{#e;constructor(){this.#n()}#n(){this.#e=[{id:"home",componentName:"sap.ushell.components.homepage",componentInstanceId:"Shell-home-component",category:n.Home},{id:"pages",componentName:"sap.ushell.components.pages",componentInstanceId:"pages-component",category:n.Home},{id:"workPageRuntime",componentName:"sap.ushell.components.workPageRuntime",componentInstanceId:"workPageRuntime-component",category:n.Home},{id:"appFinder",componentName:"sap.ushell.components.appfinder",componentInstanceId:"Shell-appfinder-component",category:n.AppDiscovery},{id:"contentFinder",componentName:"sap.ushell.components.contentFinderStandalone",componentInstanceId:"Shell-appfinder-component",category:n.AppDiscovery},{id:"homeApp",componentName:e.last("/core/homeApp/component")?.name,componentInstanceId:"homeApp-component",category:n.Home},{id:"runtimeSwitcher",componentName:"sap.ushell.components.runtimeSwitcher",componentInstanceId:"runtimeSwitcher-component",category:n.Home},{id:"homeAppComponentWrapper",componentName:"sap.ushell.renderer.rendererTargetWrapper",componentInstanceId:"homeApp-component-wrapper",category:n.Home},{id:"ShellBar",componentName:"sap.ushell.components.shell.ShellBar",componentInstanceId:null,category:null}]}ComponentCategory=n;isManagedComponentName(e){if(!e){return false}return this.#e.some(n=>n.componentName===e)}isManagedComponentInstance(e,n=[]){let o;if(e.isA("sap.ui.core.ComponentContainer")){o=e.getComponentInstance()}else if(e.isA("sap.ui.core.Component")){o=e}if(!o){return false}return this.#e.filter(e=>{if(!n.length){return true}return n.includes(e.category)}).some(e=>o.getId().endsWith(e.componentInstanceId))}reset(){this.#n()}}return new o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/Shell.controller", ["sap/ushell/renderer/History","sap/base/Log","sap/base/util/extend","sap/m/InstanceManager","sap/ui/core/Component","sap/ui/core/Element","sap/ui/core/EventBus","sap/ui/core/library","sap/ui/core/mvc/Controller","sap/ui/core/routing/HashChanger","sap/ui/core/routing/History","sap/ui/Device","sap/ui/performance/trace/Interaction","sap/ui/thirdparty/hasher","sap/ui/thirdparty/jquery","sap/ushell/appIntegration/AppLifeCycle","sap/ushell/appIntegration/PostMessageManager","sap/ushell/ApplicationType/UrlPostProcessing","sap/ushell/bootstrap/SchedulingAgent","sap/ushell/components/SharedComponentUtils","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/library","sap/ushell/performance/FesrEnhancer","sap/ushell/renderer/LogonFrameProvider","sap/ushell/resources","sap/ushell/services/AppConfiguration","sap/ushell/utils","sap/ushell/utils/UrlParsing","sap/ushell/utils/WindowUtils","sap/ushell/renderer/ShellLayout","sap/ushell/Container","sap/ushell/state/modules/BackNavigation","sap/ushell/state/ShellModel","sap/ushell/state/StateManager","sap/ushell/renderers/fiori2/LogonFrameProvider","sap/ushell/renderers/fiori2/History","sap/ushell/renderer/RendererManagedComponents","sap/ushell/ui5service/ShellUIServiceFactory","sap/ushell/navigation/NavigationState"],(e,t,n,i,a,o,s,r,l,c,h,g,d,p,jQuery,u,f,y,v,m,w,S,b,C,_,A,I,H,N,E,T,P,M,F,D,R,L,x,U,B)=>{"use strict";const k=x.ComponentCategory;const O=T.ShellArea;const W=r.routing.HistoryDirection;const $=b.AppType;const V=D.LaunchpadState;const z=D.Operation;const j=D.ShellMode;const{Standalone:q,Embedded:K,Minimal:G}=j;let Q=true;let X=false;const Y={embedded:0,newWindowThenEmbedded:1,newWindow:1,replace:0};const J={embedded:"embedded",newWindowThenEmbedded:"newWindowThenEmbedded",newWindow:"newWindow",replace:"replace"};let Z={};C.init();const ee="Shell.controller";const te="[FesrFlp]";return l.extend("sap.ushell.renderer.Shell",{_aDoables:[],addDoable:function(e){this._aDoables.push(e)},_aDanglingControls:[],addDanglingControl:function(e){this._aDanglingControls.push(e)},_aDanglingBindings:[],addDanglingBinding:function(e){this._aDanglingBindings.push(e)},removeDanglingBinding:function(e){const t=this._aDanglingBindings.findIndex(t=>t===e);if(t>-1){this._aDanglingBindings.splice(t,1)}},_aPendingInitializations:[],addPendingInitialization:function(e){this._aPendingInitializations.push(e);return e},awaitPendingInitializations:function(){const e=this._aPendingInitializations.length;return Promise.allSettled(this._aPendingInitializations).then(()=>{const t=this._aPendingInitializations.length;if(e<t){return this.awaitPendingInitializations()}})},onComponentTargetDisplay:function(e){const t=e.getParameters();const n=t.control;const i=t.object;if(this.bRestorePreviousHash){this.bRestorePreviousHash=false}n.navTo(i.getId())},onInit:function(){const t=a.getOwnerComponentFor(this.getView())?.getRouter();t.getTarget("home").attachDisplay(this.onComponentTargetDisplay,this);t.getTarget("appfinder").attachDisplay(this.onComponentTargetDisplay,this);t.getTarget("contentfinder").attachDisplay(this.onComponentTargetDisplay,this);t.getTarget("pages").attachDisplay(this.onComponentTargetDisplay,this);t.getTarget("workpages").attachDisplay(this.onComponentTargetDisplay,this);t.getTarget("runtimeSwitcher").attachDisplay(this.onComponentTargetDisplay,this);t.getTarget("wzsearch").attachDisplay(this.onComponentTargetDisplay,this);if(w.last("/core/homeApp/enabled")){t.getTarget("homeapp").attachDisplay(this.onComponentTargetDisplay,this)}t.oHashChanger=c.getInstance();t.initialize(true);this.bEnableHashChange=true;Q=true;const n=this.getView();const i=n.getViewData()||{};const r=window.matchMedia("(min-width: 600px)");const l=i.config||{};n.setModel(this._getConfigModel(),"configModel");n.setModel(F.getModel(),"shellModel");this._bindTabTitle();this._bindContentDensity();w.emit("/core/shell/model/personalization",w.last("/core/shell/enablePersonalization"));function h(e){w.emit("/core/shell/model/isPhoneWidth",!e.matches)}if(r.addListener){r.addListener(h);h(r)}n.setModel(A.i18nModel,"i18n");s.getInstance().subscribe("externalSearch",this.externalSearchTriggered,this);s.getInstance().subscribe("sap.ushell","appOpened",this.onAppOpened,this);s.getInstance().subscribe("ESHSearchFinished",this._logSearchActivity,this);this._setConfigurationToModel();this._registerAndCreateEventHubDoables();U.attachBackNavigationChanged(this._onBackNavigationChanged,this);this.history=e;this.oNavContainer=o.getElementById("viewPortContainer");u.init(this.oNavContainer,l.disableHomeAppCache);Promise.all([P.getServiceAsync("ShellNavigationInternal"),P.getServiceAsync("AppLifeCycle")]).then(e=>{const n=e[0];this._oAppLifeCycleService=e[1];this._oAppLifeCycleService.init(this.oNavContainer);this._initShellNavigationInternal(n,this._oAppLifeCycleService,t)});P.setLogonFrameProvider(this._getLogonFrameProvider());if(g.system.desktop){sap.ui.require(["sap/ushell/renderer/AccessKeysHandler"],e=>{e.init()})}window.onbeforeunload=function(){if(P&&P.getDirtyFlag()&&!(g.browser.name===g.browser.BROWSER.INTERNET_EXPLORER&&u.getCurrentApplication().container.getApplicationType()==="NWBC")){return A.i18n.getText("dataLossExternalMessage")}return};if(Z.enableOnlineStatus){sap.ui.require(["sap/ushell/ui5service/UserStatus"],e=>{this.oUserStatus=new e({scopeObject:this.getOwnerComponent(),scopeType:"component"})})}if(!l.disableSignOut&&(l.sessionTimeoutTileStopRefreshIntervalInMinutes>0||l.sessionTimeoutReminderInMinutes>0)){this._createSessionHandler(l)}if(g.system.desktop){sap.ui.require(["sap/ushell/renderer/AccessKeysHandler"],e=>{n.waitForShellLayout().then(()=>{const t=document.getElementById(O.NavigationBar);t.addEventListener("focusin",()=>{e.bFocusOnShell=false;e.bFocusPassedToExternalHandlerFirstTime=false});t.addEventListener("focusout",()=>{e.bFocusOnShell=true;e.bFocusPassedToExternalHandlerFirstTime=true});const n=document.getElementById(O.RendererRootView);n.addEventListener("focusin",()=>{e.bFocusOnShell=false;e.bFocusPassedToExternalHandlerFirstTime=false});n.addEventListener("focusout",()=>{e.bFocusOnShell=true;e.bFocusPassedToExternalHandlerFirstTime=true})})})}},_initShellNavigationInternal:function(e,t,n){this.oShellNavigationInternal=e;this.oShellNavigationInternal.registerPrivateFilters(t);this.oShellNavigationInternal.registerExtraRouter(n);this.oShellNavigationInternal.registerNavigationFilter(this._handleEmptyHash.bind(this));this.oShellNavigationInternal.init(this.doHashChange.bind(this));this.oShellNavigationInternal.registerNavigationFilter(this._disableSourceAppRouter.bind(this));this.oShellNavigationInternal.registerNavigationFilter(this.handleDataLoss.bind(this));this.oShellNavigationInternal.registerNavigationFilter(this._unblockUI.bind(this));u.registerHandleHashChange(this.oShellNavigationInternal);S.emit("ShellNavigationInitialized",Date.now())},_bindContentDensity:function(){const e=F.getModel().bindProperty("/application/contentDensity");function t(){const t=e.getValue();const n=t==="compact";document.body.classList.toggle("sapUiSizeCompact",n);document.body.classList.toggle("sapUiSizeCozy",!n)}t.call(this);e.attachChange(t);this._aDanglingBindings.push(e)},_bindTabTitle:function(){const e=F.getModel().bindProperty("/application/title");const t=F.getModel().bindProperty("/application/titleAdditionalInformation");function n(){const e=this._calculateWindowTitle();if(e){I.setWindowTitle(e)}}n.call(this);e.attachChange(n.bind(this));t.attachChange(n.bind(this));this._aDanglingBindings.push(e);this._aDanglingBindings.push(t)},_calculateWindowTitle:function(){let e="";const t=F.getModel().getProperty("/application/title")||"";const n=F.getModel().getProperty("/application/titleAdditionalInformation");if(n?.searchTerm){if(n.searchScope){e=A.i18n.getText("titleWindowSearchTermWithScope",[n.searchTerm,n.searchScope])}else{e=A.i18n.getText("titleWindowSearchTerm",[n.searchTerm])}}else if(n?.headerText&&n?.additionalContext){e=A.i18n.getText("titleWindow",[n.headerText,n.additionalContext])}else{e=n?.headerText||n?.additionalContext||t}return e},_getConfigModel:function(){return F.getConfigModel()},getNavContainer:function(){return o.getElementById("viewPortContainer")},_registerAndCreateEventHubDoables:function(){[S.once("CenterViewPointContentRendered").do(this._loadCoreExt.bind(this)),S.once("PagesRuntimeRendered").do(this._loadCoreExt.bind(this)),S.once("AppRendered").do(this._loadCoreExtNonUI5.bind(this)),S.once("CoreResourcesComplementLoaded").do(this._onCoreResourcesComplementLoaded.bind(this)),S.once("loadRendererExtensions").do(this._loadRendererExtensionPlugins.bind(this)),S.once("loadWarmupPlugins").do(this._loadWarmupPlugins.bind(this)),S.once("loadTrackingActivitiesSetting").do(this._loadTrackingActivitiesSetting.bind(this)),S.once("initMessagePopover").do(this._initializeMessagePopover.bind(this))].forEach(e=>{this.addDoable(e)});this.addDoable(S.on("toggleContentDensity").do(this.toggleContentDensity.bind(this)))},_onBackNavigationChanged:async function(e){const t=e.getParameters().data;const n=D.getShellMode();const i=D.getLaunchpadState();if(t){M.setNavigateBack(t);if(i===V.App&&[G,q,K].includes(n)){P.getRendererInternal("fiori2").showHeaderItem("backBtn",true)}}else{M.resetNavigateBack()}},toggleContentDensity:function(e){const t=e.contentDensity==="compact";return f.sendRequestToAllApplications("sap.ushell.appRuntime.uiDensityChange",{isTouch:t?"0":"1"},false)},_handleEmptyHash:function(e){e=typeof e==="string"?e:"";e=e.split("?")[0];if(e.length===0){const e=this.getView()?this.getView().getViewData():{};Z=e.config||{};if(Z.migrationConfig){return this.oShellNavigationInternal.NavigationFilterStatus.Continue}if(Z.rootIntent){window.setTimeout(()=>{p.setHash(Z.rootIntent)},0);return this.oShellNavigationInternal.NavigationFilterStatus.Abandon}}return this.oShellNavigationInternal.NavigationFilterStatus.Continue},_unblockUI:function(){o.getElementById("shell-header")?.setBlocked?.(false);o.getElementById("menubar")?.setBlocked?.(false);return this.oShellNavigationInternal.NavigationFilterStatus.Continue},_notifyAsyncStep:function(){return d.notifyAsyncStep()},_setConfigurationToModel:function(){const e=this.getView().getViewData();if(e){Z=e.config||{}}if(Z){if(Z.states){t.error("The 'states' configuration was discontinued")}if(Z.enableSetTheme!==undefined){this._getConfigModel().setProperty("/setTheme",Z.enableSetTheme)}this._getConfigModel().setProperty("/contentDensity",Z.enableContentDensity===undefined?true:Z.enableContentDensity);if(Z.migrationConfig!==undefined){this._getConfigModel().setProperty("/migrationConfig",Z.migrationConfig)}if(Z.enableUserDefaultParameters!==undefined){this._getConfigModel().setProperty("/userDefaultParameters",Z.enableUserDefaultParameters)}if(Z.disableHomeAppCache!==undefined){this._getConfigModel().setProperty("/disableHomeAppCache",Z.disableHomeAppCache)}this._getConfigModel().setProperty("/enableHelp",w.last("/core/extension/enableHelp"));this._getConfigModel().setProperty("/searchAvailable",Z.enableSearch!==false);if(Z.title!==undefined){this.setHeaderTitle(Z.title)}}},_loadTrackingActivitiesSetting:async function(e){try{let t=await this._getPersData({container:"flp.settings.FlpSettings",item:"userActivitesTracking"});if(t===undefined){t=true}this._getConfigModel().setProperty("/enableTrackingActivity",t);S.emit("StepDone",e.stepName)}catch(n){t.error("Failed to load tracking activities state from the personalization, tracking activities is disabled",n,"sap.ushell.components.flp.settings.FlpSettings");this._getConfigModel().setProperty("/enableTrackingActivity",false);S.emit("StepDone",e.stepName)}},_getPreviousPageDirty:function(){return X},_setPreviousPageDirty:function(e){X=e},getModelConfiguration:function(){const e=this.getView().getViewData();let t;if(e){const i=e.config||{};t=n({},i)}delete t.applications;return t},_getLogonFrameProvider:function(){return _},onExit:function(){Q=true;this._aDoables.forEach(e=>{e.off()});this._aDoables=[];U.detachBackNavigationChanged(this._onBackNavigationChanged,this);this._aDanglingControls.forEach(e=>{e.destroy()});this._aDanglingControls=[];this._aDanglingBindings.forEach(e=>{e.destroy()});this._aDanglingBindings=[];s.getInstance().unsubscribe("externalSearch",this.externalSearchTriggered,this);s.getInstance().unsubscribe("ESHSearchFinished",this._logSearchActivity,this);s.getInstance().unsubscribe("sap.ushell","appOpened",this.onAppOpened,this);if(this.oShellNavigationInternal&&this.oShellNavigationInternal.hashChanger){this.oShellNavigationInternal.hashChanger.destroy()}sap.ui.require("sap/ushell/UserActivityLog")?.deactivate();D.destroy(true);u.reset?.()},_getCurrentAppRouter:function(){const e=this._oAppLifeCycleService;const t=e&&e.getCurrentApplication&&e.getCurrentApplication();const n=t&&t.componentInstance;if(n){return n.getRouter()}return null},_disableSourceAppRouter:function(e,t){if(!this.bEnableHashChange||this.bRestorePreviousHash){return this.oShellNavigationInternal.NavigationFilterStatus.Continue}const n=this.oShellNavigationInternal.hashChanger.isInnerAppNavigation(e,t);if(!n){const e=this._getCurrentAppRouter();if(e&&e.isInitialized()){e.stop()}}return this.oShellNavigationInternal.NavigationFilterStatus.Continue},_resumeAppRouterIgnoringCurrentHash:function(){const e=this._getCurrentAppRouter();if(e){e.initialize(true)}},handleDataLoss:function(e,t){const n=this.oShellNavigationInternal.hashChanger;const i=n.getReloadApplication();if(this.bReloadApplication!==null&&this.bReloadApplication!==undefined){n.setReloadApplication(this.bReloadApplication);this.bReloadApplication=null}if(t===""||p.disableBlueBoxHashChangeTrigger===true){return this.oShellNavigationInternal.NavigationFilterStatus.Continue}if(!this.bEnableHashChange&&!this.bRedoNavigation){this.bEnableHashChange=true;return this.oShellNavigationInternal.NavigationFilterStatus.Custom}if(this.bRestorePreviousHash){return this.oShellNavigationInternal.NavigationFilterStatus.Continue}if(this.bRedoNavigation){this.bRedoNavigation=false;this.bEnableHashChange=true;this.bExplaceNavigation=false;return this.oShellNavigationInternal.NavigationFilterStatus.Continue}const a=N.parseShellHash(e);const o=P.getRendererInternal()._isBuiltInIntent(a);const s=a.params["sap-ushell-navmode"];const r=s&&s[0];if(!o&&(this.bExplaceNavigation||r==="explace"||r==="frameless")){this.bExplaceNavigation=false;return this.oShellNavigationInternal.NavigationFilterStatus.Continue}const l=P.getDirtyFlag();const c=P.isAsyncDirtyStateProviderSet();if(!c&&!l){X=l;return this.oShellNavigationInternal.NavigationFilterStatus.Continue}const g=h.getInstance().getHistoryStateOffset()<0;this._oLastDataLossPromise=Promise.all([this._waitForHash(t),P.getServiceAsync("NavTargetResolutionInternal"),P.getDirtyFlagsAsync()]).then(async t=>{const n=t[1];const a=t[2];X=a;if(!a){this.bRedoNavigation=true;this._restoreHashUsingAction(e,"redo");return}if(o){if(this._handleDirtyStateUserConfirm()){this.bRedoNavigation=true;this._restoreHashUsingAction(e,"redo")}return}const s=`#${e}`;try{const t=await n.resolveHashFragment(s);const a=t.targetNavigationMode==="explace"||t.targetNavigationMode==="frameless";const o=g&&t.navigationMode===J.newWindowThenEmbedded;if(a&&!o){this.bExplaceNavigation=true;this.bRedoNavigation=true;this._restoreHashUsingAction(e,"redo")}else if(this._handleDirtyStateUserConfirm()){this.bRedoNavigation=true;this.bReloadApplication=i;this._restoreHashUsingAction(e,"redo")}}catch{this.bRedoNavigation=true;this._restoreHashUsingAction(e,"redo")}});return this._restoreHashUsingAction(t,"undo")},_waitForHash:function(e){const t=`#${e}`;return new Promise(e=>{function n(){const i=t===decodeURIComponent(window.location.hash);if(i){window.removeEventListener("hashchange",n);e()}}window.addEventListener("hashchange",n)})},_handleDirtyStateUserConfirm:function(){t.debug(`${te} Interaction Start`,"_handleDirtyStateUserConfirm",ee);const e=this._notifyAsyncStep();if(window.confirm(A.i18n.getText("dataLossInternalMessage"))){P.setDirtyFlag(false);t.debug(`${te} Interaction End`,"_handleDirtyStateUserConfirm",ee);e();X=true;return true}t.debug(`${te} Interaction End`,"_handleDirtyStateUserConfirm",ee);e();return false},_restoreHashUsingAction:function(e,t){const n=this.oShellNavigationInternal.wasHistoryEntryReplaced();const i=this._getRestoreHashStrategy(n,t);this._resumeAppRouterIgnoringCurrentHash();return this._restoreHash(i,e)},_getRestoreHashStrategy:function(e,t){if(e){return{strategy:"replaceHash",stepCount:0}}let n;let i=h.getInstance().getHistoryStateOffset();if(i===undefined||i>=0){i=1}else if(i<0){i=-1}if(t==="undo"){if(i<0){n="historyForward"}else{n="historyBack"}this.sLastUndoStrategy=n}else{switch(this.sLastUndoStrategy){case"historyBack":n="historyForward";break;case"historyForward":n="historyBack";break;default:n="replaceHash"}}return{strategy:n,stepCount:1}},_restoreHash:function(e,t){const n={status:this.oShellNavigationInternal.NavigationFilterStatus.Custom,hash:""};switch(e.strategy){case"historyBack":this.bEnableHashChange=false;this._windowHistoryBack(e.stepCount);break;case"historyForward":this.bEnableHashChange=false;this._windowHistoryForward(e.stepCount);break;case"replaceHash":this.bEnableHashChange=false;p.replaceHash(t);break;default:throw new Error("Cannot execute unknown navigation strategy")}return n},_setEnableHashChange:function(e){this.bEnableHashChange=e},_logRecentActivity:async function(e){if(!this.oInitialEnableTrackingPromise){if(w.last("/core/shell/model/enableTrackingActivity")!==undefined){this.oInitialEnableTrackingPromise=Promise.resolve()}else{this.oInitialEnableTrackingPromise=new Promise(e=>{w.once("/core/shell/model/enableTrackingActivity").do(e)})}}await this.oInitialEnableTrackingPromise;if(w.last("/core/shell/model/enableTrackingActivity")){const t=await P.getServiceAsync("UserRecents");return t.addActivity(e)}t.warning("Tracking is not enabled",null,"sap.ushell.renderer.Shell.controller");throw new Error("Tracking is not enabled")},doHashChange:function(e,n,i,a,o){t.debug(`${te} Interaction Start`,"doHashChange",ee);H.setPerformanceMark("FLP-ShellController-doHashChange-begin");m.toggleUserActivityLog();S.emit("trackHashChange",e);const s=new jQuery.Deferred;this._bWasHistoryEntryReplaced=this.oShellNavigationInternal.wasHistoryEntryReplaced();this.oShellNavigationInternal.resetHistoryEntryReplaced();if(!this.bEnableHashChange){this.bEnableHashChange=true;s.resolve();B.endNavigation();return s.promise()}if(this.bRestorePreviousHash){this.bRestorePreviousHash=false;s.resolve();B.endNavigation();return s.promise()}const r=N.ensureLeadingHash(e);const l=N.ensureLeadingHash(i);if(o){t.error(`Error when parsing the hash: '${r}'`,o);this.hashChangeFailure(this.history.getHistoryLength(),o.message,null,"sap.ushell.renderer.Shell.controller",false).then(s.resolve.bind(s)).catch(s.reject.bind(s));B.endNavigation();return s.promise()}const c=this._notifyAsyncStep();this._doHashChange(r,n,l).catch(()=>{S.emit("doHashChangeError",Date.now())}).finally(()=>{t.debug(`${te} Interaction End`,"doHashChange",ee);c();B.endNavigation();s.resolve()});return s.promise()},_doHashChange:async function(e,n,i){const a=this.history.getHistoryLength();this.history.hashChange(e,i);const o=I.getCurrentApplication();try{const s=await this._resolveHashFragment(e,n);if(!s&&window.QUnit!==undefined){return}const r=s.resolvedHashFragment;const l=s.parsedShellHash;if(r.navigationMode===null){if(H.isColdStart()){p.setHash("");return}this.bEnableHashChange=false;this.history.pop();this._windowHistoryBack(1);return}await u.storeAppExtensions();D.stallChanges();const c=await this._openAppViaNWBC(r,o);if(c===true){this.logOpenAppAction(r,n).catch(()=>{t.info("NWBC application was not logged.",undefined,"sap.ushell.renderer.Shell.controller")});D.applyStalledChanges();return}if(r.navigationMode===J.newWindow){this.logOpenAppAction(r,n).catch(()=>{t.info("Application in new window was not logged.",undefined,"sap.ushell.renderer.Shell.controller")});await this._openAppExplace(r,o);D.applyStalledChanges();return}const h=this._rewriteRootIntentForMigrationConfig(r,e);if(h){D.applyStalledChanges();return}try{const s=this.oShellNavigationInternal.isInitialNavigation();try{await this._openAppInplace(l,e,r,i,n,o)}catch(n){t.error(`Application initialization for intent "${e}" failed.`,n);const i=I.getMetadata(r);this.oShellNavigationInternal.setIsInitialNavigation(s);await this.hashChangeFailure(a,n.name,n.message,i?i.title:"",false)}}catch(n){t.error("Failed to open application",n,"sap.ushell.renderer.Shell.controller");const i=A.i18n.getText("cannot_load_ui5_component_details",[e]);const s=`Failed to load UI5 component for navigation intent "${e}"`;I.setCurrentApplication(o);await this.hashChangeFailure(a,{title:A.i18n.getText("error"),message:A.i18n.getText("failed_to_open_ui5_component"),technicalMessage:s},{info:i,technicalMessage:`${n.message}\n${n.stack}`},"sap.ushell.renderer.Shell.controller",false)}}catch(n){t.error("Hash change handling failed. Could not open app.",n,"sap.ushell.renderer.Shell.controller");const i=A.i18n.getText("cannot_resolve_navigation_target_details",[e]);const o=`Failed to resolve navigation target "${e}". This is most likely caused by an incorrect SAP Fiori launchpad content configuration or by missing role assignment.`;await this.hashChangeFailure(a,{title:A.i18n.getText("error"),message:A.i18n.getText("failed_to_open_app_missing_configuration_or_role_assignment"),technicalMessage:o},{info:i,fixedShellHash:e,technicalMessage:n.message},"sap.ushell.renderer.Shell.controller",false);throw n}},_rewriteRootIntentForMigrationConfig:function(e,t){if(w.last("/core/shell/model/migrationConfig")){Z.migrationConfig=false;this._getConfigModel().setProperty("/migrationConfig",false);if(e&&t==="#"){Z.rootIntent=""}else if(t==="#"){window.setTimeout(()=>{p.setHash(Z.rootIntent)},0);return true}}return false},_openAppExplace:async function(e,t){e.url=y.processUrl(e.url,e.applicationType,true,undefined);u.publishAppOpeningEvent(e);const n=E.openURL(e.url);if(!n&&!this._checkWindowLocationSearch("workzone-mobile-app=true")){const e=A.i18n.getText("fail_to_start_app_popup_blocker",[window.location.hostname]);this.delayedMessageError(e)}u.publishAppOpenedEvent(e);this._restorePreviousHashAfterOpenNewWindow(e,t)},_closeAllDialogs:function(){if(i&&Q){i.closeAllDialogs();i.closeAllPopovers()}Q=true},_resolveHashFragment:async function(e,n){const i=N.parseShellHash(e)||{};const a=this._getConfig();let o;if(window["sap-ushell-async-libs-promise-directstart"]){try{const e=await window["sap-ushell-async-libs-promise-directstart"];delete window["sap-ushell-async-libs-promise-directstart"];o=e.resolvedHashFragment}catch(e){delete window["sap-ushell-async-libs-promise-directstart"];throw e}}else{const t=await P.getServiceAsync("NavTargetResolutionInternal");o=await H.promisify(t.resolveHashFragment(e+(n??"")))}if(!o&&window.QUnit!==undefined&&!window._bTestNullNavigationMode){return}if(!o){o={navigationMode:null}}I.setCurrentApplication(o);const s=N.getBasicHash(e);if(a?.applications?.[s]){o.applicationConfiguration=a.applications[s]}o.sFixedShellHash=e;if(`${i.semanticObject}-${i.action}`===a.rootIntent){o.navigationMode=J.embedded}if(o.navigationMode!==null&&!o.navigationMode){t.error("Mandatory member 'navigationMode' is missing in the resolution result! Temporarily set to 'embedded' for further processing...","sap.ushell.renderer.Shell.controller");o.navigationMode=J.embedded}this._setEffectiveNavigationMode(o);H.setPerformanceMark("FLP-ShellController-resolveHashFragment-end");return{resolvedHashFragment:o,parsedShellHash:i}},_setEffectiveNavigationMode:function(e){if(!e){return}const t=e.navigationMode;if(t===J.newWindowThenEmbedded){if(H.isColdStart()||h.getInstance().getDirection()===W.Backwards){e.navigationMode=J.embedded}else{e.navigationMode=J.newWindow;if(!H.isNativeWebGuiNavigation(e)){e.applicationType="URL";e.url=this._getCurrentLocationHash()}}return}if(t===J.newWindow&&H.isColdStart()){if(this._hasAppCapabilitiesNavigationMode(e)&&e.appCapabilities.navigationMode===J.embedded){e.navigationMode=J.embedded;return}e.navigationMode=J.replace;return}if(t===J.newWindow&&this._hasAppCapabilitiesNavigationMode(e)&&e.appCapabilities.navigationMode===J.embedded){e.url=this._getCurrentLocationHash()}},_hasAppCapabilitiesNavigationMode:function(e){return H.isPlainObject(e.appCapabilities)&&e.appCapabilities.hasOwnProperty("navigationMode")},_openAppInplace:async function(e,n,i,a,o){if(i.replaceHashBeforeOpenAppInplace){p.replaceHash(i.replaceHashBeforeOpenAppInplace)}this._closeAllDialogs();const s=i.navigationMode;if(s===J.replace){this.oShellNavigationInternal.setIsInitialNavigation(false);this.bEnableHashChange=false;this._changeWindowLocation(i.url);return}if(s!==J.embedded){return this.hashChangeFailure(this.history.getHistoryLength(),`Navigation mode '${s}' was not recognized`,null,"sap.ushell.renderer.Shell.controller",false)}i.targetNavigationMode=H.isColdStart()?"explace":"inplace";if(!H.isColdStart()&&!this._bWasHistoryEntryReplaced){this.oShellNavigationInternal.setIsInitialNavigation(false)}u.resetGlobalShellUIService();const r=this._isFLPIntent(a);const l=await u.startApplication(e,i,o||"",r);const c=l.getNavigationRedirectHash();if(typeof c==="string"){t.warning(`Performing navigation redirect to hash "${c}"`);this.history.pop();const e=await P.getServiceAsync("ShellNavigationInternal");return e.toExternal({target:{shellHash:c}},undefined,false)}const h=this._getConfig();const g=N.getBasicHash(n);const d=n==="#"||h.rootIntent&&g===N.getBasicHash(h.rootIntent);await l.navTo(d);const f=I.getMetadata(i);S.emit("CloseFesrRecord",{time:Date.now(),technicalName:f.technicalName});return},_openAppViaNWBC:async function(e,n){const i=e&&(H.isNativeWebGuiNavigation(e)||e.nativeNWBCNavigation);if(!i){return false}const a=H.getPrivateEpcm();const o=Y[e.navigationMode];let s;if(H.hasNavigationModeCapability()){s=o||Y[J.embedded]}const r=await this._appendUserIdToUrl("sap-user",e.url);const l=await H.appendSapShellParam(r);const c=e.applicationType;const h=e?.appCapabilities?.appFrameworkId;let g;try{if(H.isSAPLegacyApplicationType(c,h)){const t=Object.create(null);const n=await P.getServiceAsync("Navigation");const i=H.getParamKeys(l);if(i.aAppStateNamesArray.length>0){const e=await n.getAppStateData(i.aAppStateKeysArray);i.aAppStateNamesArray.forEach((n,i)=>{if(e[i]){t[n]=e[i]}})}t["sap-flp-url"]=P.getFLPUrl(true);t["system-alias"]=e.systemAlias;g=[{name:"sap-flp-params",value:JSON.stringify(t)}]}}catch{}try{u.publishAppOpeningEvent(e);if(!a.doNavigate(l,s,undefined,undefined,undefined,undefined,undefined,g)){return false}u.publishAppOpenedEvent(e);await this._restoreAfterNwbcNavigation(e,n);if(this._oAppLifeCycleService.getCurrentApplication()&&this._oAppLifeCycleService.getCurrentApplication().homePage){this._setMenuVisible(true);this._setSideNavigationVisible(true)}return true}catch(n){t.error("Application initialization failed due to an Exception:",n);await this.hashChangeFailure(this.history.getHistoryLength(),n.name,n.message,e.text,false);return false}},_restoreAfterNwbcNavigation:async function(e,t){if(this.history.getHistoryLength()===1&&!this._oAppLifeCycleService.getCurrentApplication()){const e=await P.getServiceAsync("Navigation");e.navigate({target:{shellHash:"#"},writeHistory:false});return}this._restorePreviousHashAfterOpenNewWindow(e,t)},_appendUserIdToUrl:async function(e,t){const n=await P.getServiceAsync("UserInfo");const i=n.getUser().getId();const a=t.indexOf("?")>=0?"&":"?";return`${t+a+e}=${i}`},_restorePreviousHashAfterOpenNewWindow:function(e,t){this.history.pop();const n=e.componentHandle&&e.componentHandle.getInstance&&e.componentHandle.getInstance({});if(n){n.destroy()}this._resumeAppRouterIgnoringCurrentHash();this.bRestorePreviousHash=true;this._windowHistoryBack(1);I.setCurrentApplication(t);S.emit("openedAppInNewWindow",Date.now())},_isShellHomeIntent:function(e){return e==="#"||e===Z.rootIntent},hashChangeFailure:async function(e,t,n,i,a){D.discardStalledChanges();if(H.isPlainObject(t)){this.reportError(t.technicalMessage,n.technicalMessage,i);const e=await P.getServiceAsync("MessageInternal");e.show(e.Type.ERROR,t.message,{title:t.title,details:n})}else{this.reportError(t,n,i);this.delayedMessageError(A.i18n.getText("fail_to_start_app_try_later"))}Q=false;this._resumeAppRouterIgnoringCurrentHash();if(e===0){p.setHash("")}else if(new URLSearchParams(window.location.search).get("bFallbackToShellHome")){p.setHash("")}else{this.bEnableHashChange=a;P.setDirtyFlag(X);this._windowHistoryBack(1)}},reportError:function(e,n,i){t.error(e,n,i)},delayedMessageError:async function(e){try{await H.awaitTimeout(0);const t=await P.getServiceAsync("MessageInternal");t.error(e)}catch{}},_checkWindowLocationSearch:function(e){return window.location.search.indexOf(e)>-1},_windowHistoryBack:function(e){window.history.go(-1*e)},_windowHistoryForward:function(e){window.history.go(e)},_changeWindowLocation:function(e){window.location.href=e},_setMenuVisible:function(e){const t=document.getElementById(O.NavigationBar);if(!t){return}e=e||w.last("/core/menu/enabled")&&w.last("/core/menu/visibleInAllStates");t.classList.toggle("sapUshellShellHidden",!e)},_setSideNavigationVisible:function(e){const t=document.getElementById(O.SideNavigation);if(!t){return}e=e||w.last("/core/sideNavigation/enabled")&&w.last("/core/sideNavigation/mode")==="Docked";t.classList.toggle("sapUshellShellHidden",!e)},onAppOpened:function(e,n,i){if(i.targetNavigationMode!=="explace"&&i.targetNavigationMode!=="frameless"){this._setMenuVisible(false)}this._setSideNavigationVisible(true);const a=this.oShellNavigationInternal.hashChanger.getAppHash();const o=a?`&/${a}`:null;this.logOpenAppAction(i,o).catch(()=>{t.info("Opened application was not logged.",undefined,"sap.ushell.renderer.Shell.controller")});this._notifyUITracer(i)},externalSearchTriggered:function(e,t,n){w.emit("/core/shell/model/searchTerm",n.searchTerm);n.query=n.searchTerm},onBeforeNavigate:function(e){const t=e.getParameter("to");const n=x.isManagedComponentInstance(t,[k.Home]);this._setMenuVisible(n);this._setSideNavigationVisible(n)},onAfterNavigate:function(e){s.getInstance().publish("sap.ushell","navigated",{})},logOpenAppAction:async function(e,t){const n=w.last("/core/shell/enableRecentActivity")&&w.last("/core/shell/enableRecentActivityLogging");if(!n){throw new Error("Tracking of RecentActivity is disabled.")}const i=I.getMetadata(e);const a=e.sFixedShellHash||this._getCurrentLocationHash();const o={title:i.title,appType:$.APP,url:t?a+t:a};const s=N.parseShellHash(a);if(s){o.appId=`#${N.constructShellHash({semanticObject:s.semanticObject,action:s.action})}`}else{o.appId=a}if(a&&a.indexOf("#Action-search")===-1&&a.indexOf("#Shell-startIntent")===-1){await H.awaitTimeout(1500);await this._logRecentActivity(o);return}throw new Error("RecentActivity was not logged.")},_notifyUITracer:function(e){try{const t=e.reservedParameters?.["sap-fiori-id"]?.[0]||e.reservedParameters?.["sap-ui-app-id-hint"]?.[0]||e.ui5ComponentName;S.emit("UITracer.trace",{reason:"NavigateApp",source:"Intent",data:{applicationId:t||"",applicationType:e.applicationType||"",hash:e.sFixedShellHash||"",targetNavigationMode:e.targetNavigationMode||"",providerId:e.contentProviderId||"",targetUrl:e.url||""}})}catch(e){t.warning("Could not emit UITracer.trace event",e,"sap.ushell.renderer.Shell.controller")}},_logSearchActivity:function(){if(w.last("/core/shell/enableRecentActivity")&&w.last("/core/shell/enableRecentActivityLogging")){let e="";try{e=o.getElementById("searchFieldInShell-input").getModel().getLastSearchTerm()}catch(e){t.error("Shell: last search term is not available to log a recent activity",e)}this._logRecentActivity({appId:"#Action-search",appType:$.SEARCH,title:e,url:`#${p.getHash()}`}).catch(()=>{t.info("Search activity was not logged.",undefined,"sap.ushell.renderer.Shell.controller")})}},_loadCoreExtNonUI5:function(e){if(e&&e.applicationType!=="SAPUI5"){this._loadCoreExt()}},_onCoreResourcesComplementLoaded:function(){H.setPerformanceMark("SchedulingAgent-StartOfFlow");const e=this.getView();if(e){e.createPostCoreExtControls()}v._initialize();S.emit("startScheduler")},_loadRendererExtensionPlugins:async function(e){const t=new URLSearchParams(window.location.search);const n=t.get("sap-ushell-xx-pluginmode")==="delayed";const i=await P.getServiceAsync("PluginManager");if(n){await H.awaitTimeout(5e3)}i.loadPlugins("RendererExtensions").always(()=>{S.emit("StepDone",e.stepName)})},_loadWarmupPlugins:async function(e){const n=await P.getServiceAsync("PluginManager");n.loadPlugins("AppWarmup").always(()=>{t.debug("WARMUP plugins loaded",null,"sap.ushell.renderer.Shell");S.emit("StepDone",e.stepName);H.setPerformanceMark("SchedulingAgent-EndOfFlow");H.setPerformanceMeasure("SchedulingAgentTotalTime","SchedulingAgent-StartOfFlow","SchedulingAgent-EndOfFlow")})},_loadCoreExt:async function(){await P.getServiceAsync("Ui5ComponentLoader");S.emit("loadCoreResourcesComplement",Date.now())},getRightFloatingContainerVisibility:function(){const e=this.getView().getRightFloatingContainer();return e&&e.getVisible()},setHeaderTitle:function(e){D.updateAllBaseStates("header.secondTitle",z.Set,e||"")},setNavigationBar:function(e){e.placeAt(O.NavigationBar,"only");this.addDanglingControl(e)},setSideNavigation:function(e){e.placeAt(O.SideNavigation,"only");this.addDanglingControl(e)},setShellShapes:function(e){if(e.placeAt){e.placeAt(O.ShellShapes,"only");this.addDanglingControl(e)}else if(e instanceof Node){document.getElementById(O.ShellShapes).appendChild(e)}},setFooter:function(e){if(typeof e!=="object"||!e.getId){throw new Error("oFooter value is invalid")}const n=this.getFooterId();if(n){t.warning(`You can only set one footer. Replacing existing footer "${n}", with the new footer "${e.getId()}".`)}D.updateAllBaseStates("footer.content",z.Set,e.getId());e.placeAt(O.Footer,"only");this.addDanglingControl(e);if(e._applyContextClassFor){e._applyContextClassFor("footer")}},getFooterId:function(){return F.getModel().getProperty("/footer/content")},removeFooter:function(){const e=this.getFooterId();if(e){const t=o.getElementById(e);if(t&&t.destroy){t.destroy()}}D.updateAllBaseStates("footer.content",z.Set,"")},addUserPreferencesEntry:function(e,t){this._validateUserPrefEntryConfiguration(e,t);return this._updateUserPrefModel(e,t)},_validateUserPrefEntryConfiguration:function(e,t){if(!e||typeof e!=="object"){throw new Error("object oConfig was not provided")}if(!e.title){throw new Error("title was not provided")}if(!e.value){throw new Error("value was not provided")}if(typeof e.entryHelpID!=="undefined"){if(typeof e.entryHelpID!=="string"){throw new Error("entryHelpID type is invalid")}else if(e.entryHelpID===""){throw new Error("entryHelpID should not be an empty string")}}if(e.title&&typeof e.title!=="string"){throw new Error("title type is invalid")}if(typeof e.value!=="function"&&typeof e.value!=="string"&&typeof e.value!=="number"){throw new Error("value type is invalid")}["onSave","content","onCancel"].forEach(t=>{if(e[t]&&typeof e[t]!=="function"){throw new Error(`"${t}" type is "${typeof e[t]}" but should be a function`)}});if(t){[{name:"groupingId",type:"string"},{name:"groupingTabTitle",type:"string"},{name:"groupingTabHelpId",type:"string"}].forEach(t=>{if(!e[t.name]){throw new Error(`${t.name} is missing`)}else if(typeof e[t.name]!==t.type){throw new Error(`"${t.name}" type is "${typeof e[t.name]}" but should be a "${t.type}"`)}})}},_createSessionHandler:function(e){const t=2e4;sap.ui.require(["sap/ushell/SessionHandler"],n=>{this.oSessionHandler=new n;this.oSessionHandler.initLogout();window.setTimeout(()=>{this.oSessionHandler.init({sessionTimeoutReminderInMinutes:e.sessionTimeoutReminderInMinutes,sessionTimeoutIntervalInMinutes:e.sessionTimeoutIntervalInMinutes,sessionTimeoutTileStopRefreshIntervalInMinutes:e.sessionTimeoutTileStopRefreshIntervalInMinutes,enableAutomaticSignout:e.enableAutomaticSignout})},t)})},_getSessionHandler:function(){return this.oSessionHandler},_navBack:async function(){this.setUserActionsMenuSelected(false);M.navigateBack()},_updateUserPrefModel:function(e,t){const n=this._getModelEntryFromEntryObject(e);let i=w.last("/core/userPreferences/entries")||[];if(t){n.groupingEnablement=true;n.groupingId=e.groupingId;n.groupingTabTitle=e.groupingTabTitle;n.groupingTabHelpId=e.groupingTabHelpId}i.push(n);i=this._reorderUserPrefEntries(i);w.emit("/core/userPreferences/entries",i);return n.id},_getModelEntryFromEntryObject:function(e){return{id:H._getUid(),entryHelpID:e.entryHelpID,title:e.title,valueArgument:e.value,valueResult:null,onSave:e.onSave,onCancel:e.onCancel,contentFunc:e.content,contentResult:null,icon:e.icon,provideEmptyWrapper:e.provideEmptyWrapper}},_reorderUserPrefEntries:function(e){const t=[];const n=["userAccountEntry","themes","language","notificationsEntry","homepageEntry","spacesEntry","userActivitiesEntry","userDefaultEntry"];const i={};for(let t=e.length-1;t>=0;t--){if(n.indexOf(e[t].id)!==-1){const n=e.splice(t,1)[0];i[n.id]=n}}n.forEach(e=>{const n=i[e];if(n){t.push(n)}});return t.concat(e)},_getConfig:function(){return Z||{}},_getPersData:async function(e){const t=a.getOwnerComponentFor(this.getView());const n=await P.getServiceAsync("PersonalizationV2");const i={keyCategory:n.KeyCategory.FIXED_KEY,writeFrequency:n.WriteFrequency.LOW,clientStorageAllowed:true};const o=await n.getPersonalizer(e,i,t);return o.getPersData()},_getCurrentLocationHash:function(){return window.location.hash},setUserActionsMenuSelected:function(e){S.emit("showUserActionsMenu",e)},setNotificationsSelected:function(e){S.emit("showNotifications",e)},_isFLPIntent:function(e){const t=N.getBasicHash(e);const n=["Shell-home","Shell-appfinder","Launchpad-openFLPPage","Launchpad-openWorkPage"];return n.some(e=>t===e)},_usesNavigationRedirect:async function(e){if(!e){return false}const n=e.getInstance({});if(!n){return false}if(typeof n.navigationRedirect!=="function"){return false}const i=n.navigationRedirect();if(!i||typeof i.then!=="function"){return false}try{const e=await H.promisify(i);t.warning(`Performing navigation redirect to hash "${e}"`);n.destroy();this.history.pop();const a=await P.getServiceAsync("ShellNavigationInternal");a.toExternal({target:{shellHash:e}},undefined,false);return true}catch{return false}},_adaptIsUrlSupportedResultForMessagePopover:async function(e){const t=await P.getServiceAsync("Navigation");try{await t.isUrlSupported(e.url);e.promise.resolve({allowed:true,id:e.id})}catch{e.promise.resolve({allowed:false,id:e.id})}},_initializeMessagePopover:async function(e){const[t]=await H.requireAsync(["sap/m/MessagePopover"]);if(t?.setDefaultHandlers){t.setDefaultHandlers({asyncURLHandler:this._adaptIsUrlSupportedResultForMessagePopover})}S.emit("StepDone",e.stepName)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/ShellLayout", ["sap/base/Log","sap/ui/base/EventProvider","sap/ushell/EventHub","sap/ushell/state/ShellModel"],(e,t,a,o)=>{"use strict";const i={RootDomRef:"shellLayout",ShellHeader:"header-shellArea",RendererRootView:"canvas",SideNavigation:"sideNavigation-shellArea",SidePane:"sidePane-shellArea",Footer:"footer-shellArea",ToolArea:"toolArea-shellArea",SubHeader:"subHeader-shellArea",NavigationBar:"navigationBar-shellArea",FloatingActions:"floatingActions-shellArea",FloatingContainer:"floatingContainer-shellArea",FloatingContainerDockStart:"floatingContainerDockStart-shellArea",FloatingContainerDockEnd:"floatingContainerDockEnd-shellArea",RightFloatingContainer:"rightFloatingContainer-shellArea",BackgroundImage:"backgroundImage-shellArea",HelpContent:"helpContent-shellArea",WebComponents:"WebComponents-shellArea"};class n{#e=null;#t=false;#a=new t;#o=[];#i=[];#n=null;ShellArea=i;constructor(){this.#l()}#l(){this.#n=o.getModel();[this.#n.bindProperty("/sideNavigation/visible"),this.#n.bindProperty("/sidePane/visible"),this.#n.bindProperty("/toolArea/visible")].forEach(e=>{e.attachChange(()=>{this.#s()});this.#o.push(e)});this.#i.push(a.on("sideNavigationModeChanged").do(e=>{this.#e=e;this.#s()}));this.#t=this.hasAdjacentSideContentBeforeMain()}applyLayout(t){const a=document.getElementById(t);i.RendererRootView=t;const o=[`<div id='${i.RootDomRef}' class='sapUshellFlexRow'>`,`    <div id='${i.BackgroundImage}' data-sap-ui-root-content=true></div>`,`    <div id='${i.WebComponents}' data-sap-ui-root-content=true></div>`,"    <div id='sapUshellPopupWithinArea' class='sapUshellFlexGrowShrink sapUshellFlexRow'>",`        <div id='${i.FloatingContainerDockStart}' class='sapUshellFloatingContainerDock' data-sap-ui-root-content=true></div>`,"        <div class='sapUshellFlexGrowShrink sapUshellFlexColumn'>",`            <div id='${i.ShellHeader}' data-sap-ui-root-content=true></div>`,"            <div class='sapUshellFlexGrowShrink sapUshellFlexRow'>",`                <div id='${i.SideNavigation}' data-sap-ui-root-content=true></div>`,"                <div class='sapUshellFlexGrowShrink sapUshellFlexColumn'>",`                    <div id='${i.SubHeader}' data-sap-ui-root-content=true></div>`,"                    <div class='sapUshellFlexGrowShrink sapUshellFlexRow'>",`                        <div id='${i.ToolArea}' class='sapUshellPositionRelative' data-sap-ui-root-content=true></div>`,`                        <div id='${i.SidePane}' data-sap-ui-root-content=true></div>`,"                        <div class='sapUshellFlexGrowShrink sapUshellFlexColumn'>",`                            <div id='${i.NavigationBar}' data-sap-ui-root-content=true></div>`,"                            <div class='sapUshellFlexGrowShrink sapUshellPositionRelative sapUshellOverflowHidden sapUshellFlexColumn'>",`                                <div id='${i.RendererRootView}' class='sapUshellFlexGrowShrink sapUshellPositionRelative sapUshellShell' data-sap-ui-root-content=true></div>`,`                                <div id='${i.FloatingActions}' data-sap-ui-root-content=true></div>`,`                                <div id='${i.RightFloatingContainer}' data-sap-ui-root-content=true></div>`,"                            </div>","                        </div>","                    </div>","                </div>","            </div>",`            <footer id='${i.Footer}' class='sapUshellPositionStatic sapMPageFooter' data-sap-ui-root-content=true></footer>`,"        </div>",`        <div id='${i.FloatingContainerDockEnd}' class='sapUshellFloatingContainerDock' data-sap-ui-root-content=true></div>`,`        <div id='${i.FloatingContainer}' data-sap-ui-root-content=true></div>`,"    </div>",`    <div id='${i.HelpContent}' data-sap-ui-root-content=true></div>`,"</div>"].join("\n");const n=Object.keys(i).some(e=>{if(e==="RendererRootView"){return false}const t=i[e];return!!document.getElementById(t)});if(n){e.warning("Found a ShellArea element. Did not apply the layout","sap.ushell.renderer.ShellLayout");return}document.body.insertAdjacentHTML("afterbegin",`<div id='tmp'>${o}</div>`);const l=document.getElementById("tmp");a.replaceWith.apply(a,Array.from(l.childNodes));l.remove()}destroyLayout(){const e=document.getElementById(i.RootDomRef);if(e){document.getElementById(i.RootDomRef).remove()}}hasAdjacentSideContentBeforeMain(){const e=this.#n.getProperty("/sideNavigation/visible");const t=this.#n.getProperty("/sidePane/visible");const a=this.#n.getProperty("/toolArea/visible");if(t||a){return true}if(e&&this.#e==="Docked"){return true}return false}#s(){if(this.#t!==this.hasAdjacentSideContentBeforeMain()){this.#t=!this.#t;this.#a.fireEvent("adjacentSideContentBeforeMainChanged",{hasAdjacentContentBefore:this.#t})}}attachAdjacentSideContentBeforeMainChanged(...e){this.#a.attachEvent("adjacentSideContentBeforeMainChanged",...e)}detachAdjacentSideContentBeforeMainChanged(...e){this.#a.detachEvent("adjacentSideContentBeforeMainChanged",...e)}reset(){this.#o.forEach(e=>{e.destroy()});this.#o=[];this.#i.forEach(e=>{e.off()});this.#i=[];this.#l()}}return new n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/shellHeader/ShellHeader.controller", ["sap/m/library","sap/ui/core/Element","sap/ui/core/mvc/Controller","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ui/thirdparty/hasher","sap/ushell/api/NewExperience","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/library","sap/ushell/ui/shell/OverflowListItem","sap/ushell/Container","sap/ushell/state/modules/BackNavigation","sap/ushell/state/ShellModel","sap/ushell/state/StateManager"],(e,t,n,a,s,i,o,r,l,d,h,m,f,u,c)=>{"use strict";const p=e.ListType;const E=d.FloatingNumberType;const g=c.LaunchpadState;const I=c.Operation;const v="endItemsOverflowBtn";return n.extend("sap.ushell.renderer.shellHeader.ShellHeader",{onInit:function(){this.aDoables=[];this.aDoables.push(l.on("navigateBack").do(this.pressNavBackButton.bind(this)));this.aDoables.push(l.on("showEndItemOverflow").do(this.pressEndItemsOverflow.bind(this)));this.aDoables.push(l.on("navigateFromShellApplicationNavigationMenu").do(this.navigateFromShellApplicationNavigationMenu.bind(this)));this.aDoables.push(l.on("setHeaderCentralAreaElement").do(this._handleSetHeaderCentralAreaElement.bind(this)));this.aDoables.push(r.on("/core/shellHeader/homeUri").do(this._updateHomeUri.bind(this)));this._updateHomeUri(r.last("/core/shellHeader/homeUri"));this.aDoables.push(l.on("updateHeaderOverflowState").do(this._handleHeadEndItemsOverflow.bind(this)));a.media.attachHandler(this._handleHeadEndItemsOverflow,this,a.media.RANGESETS.SAP_STANDARD);this.oHeadEndBinding=u.getModel().bindList("/header/headEndItems");this.oHeadEndBinding.attachChange(this._handleHeadEndItemsOverflow,this);o.attachActiveChanged(this._handleHeadEndItemsOverflow,this)},_handleSetHeaderCentralAreaElement:function(e){const{id:t,currentState:n,states:a}=e;if(n){c.updateCurrentState("header.centralAreaElement",I.Set,t)}else if(Array.isArray(a)){c.updateBaseStates(a,"header.centralAreaElement",I.Set,t)}else{c.updateAllBaseStates("header.centralAreaElement",I.Set,t)}},_addHeadEndItem:function(e,t,n){this._updateHeadEndItems(e,I.Add,t,n)},_removeHeadEndItem:function(e,t,n){this._updateHeadEndItems(e,I.Remove,t,n)},_updateHeadEndItems:function(e,t,n,a){if(n){c.updateCurrentState("header.headEndItems",t,e)}else if(Array.isArray(a)&&a.length>0){c.updateBaseStates(a,"header.headEndItems",t,e)}else{c.updateAllBaseStates("header.headEndItems",t,e)}},_handleHeadEndItemsOverflow:function(){const e=u.getModel().getProperty("/header/headEndItems");const n=e.indexOf(v)>-1;const s=a.media.getCurrentRange(a.media.RANGESETS.SAP_STANDARD).name;if(s==="Phone"&&(o.isActive()||!n&&e.length>2)){this._addHeadEndItem(v,false,[g.Home,g.App]);this._moveNewExperienceToOverflow()}else if(s!=="Phone"&&n){const e=t.getElementById("headEndItemsOverflow");if(e){if(o.isActive()){const e=o.getOverflowItemControl();e.getParent()?.removeItem?.(e)}e.destroy()}this._removeHeadEndItem(v,false,[g.Home,g.App]);this._moveNewExperienceToShellHeader()}},_moveNewExperienceToOverflow:function(){if(o.isActive()){this._addHeadEndItem(o.getOverflowItemId(),false,[g.Home,g.App])}o.showInOverflow()},_moveNewExperienceToShellHeader:function(){if(o.isActive()){this._removeHeadEndItem(o.getOverflowItemId(),false,[g.Home,g.App])}o.showInShellHeader()},_updateHomeUri:function(e){const n=t.getElementById("shell-header");if(n){n.setHomeUri(e)}},pressNavBackButton:async function(){l.emit("showUserActionsMenu",false);f.navigateBack()},pressEndItemsOverflow:function(e){let n=t.getElementById("headEndItemsOverflow");const a=t.getElementById(e);let i=Promise.resolve();let o;if(!a){return}if(!n){i=new Promise((e,t)=>{sap.ui.require(["sap/ui/core/Fragment"],n=>{n.load({name:"sap.ushell.renderer.HeadEndItemsOverflowPopover",type:"XML",controller:this}).then(e).catch(t)},t)}).then(e=>{n=e;const a=t.getElementById("headEndItemsOverflowList");a.enhanceAccessibilityState=function(e,t){if(!e.isA("sap.ushell.ui.shell.OverflowListItem")){return t}if(e.getFloatingNumberType()!==E.None){t.describedby=e._oAriaDescribedbyText.getId()}return t};o=new s({headEndItems:u.getModel().getProperty("/header/headEndItems")});n.setModel(o)})}i.then(()=>{if(n.isOpen()){n.close()}else{if(t.getElementById("shellNotificationsPopover")){l.emit("showNotifications",false)}n.openBy(a)}})},headEndItemsOverflowItemFactory:function(e,n){if(o.isActive()&&n.getObject()===o.getOverflowItemId()){return o.getOverflowItemControl()}const a=t.getElementById(n.getObject());const s=a.getBindingPath("floatingNumber");const i=a.getText();const r=a.getTooltip();const l=new h({id:`${e}-${a.getId()}`,icon:a.getIcon(),iconInset:true,tooltip:r!==i?r:null,title:i,type:p.Active,floatingNumber:s?{path:s}:undefined,floatingNumberMaxValue:a.getFloatingNumberMaxValue(),floatingNumberType:a.getFloatingNumberType(),visible:a.getVisible(),press:function(){if(a){a.firePress();const e=a.getTarget();if(e){m.getServiceAsync("Navigation").then(t=>{t.navigate({target:{shellHash:e}})})}}const e=t.getElementById("headEndItemsOverflow");if(e.isOpen()){e.close()}}});if(a._oAriaLabel){l.addAriaLabelledBy(a._oAriaLabel)}if(s){l.setModel(a.getModel())}return l},destroyHeadEndItemsOverflow:function(e){if(o.isActive()){const e=o.getOverflowItemControl();e.getParent()?.removeItem?.(e)}e.getSource().destroy()},isHeadEndItemInOverflow:function(e){return e!=="ENDITEMSOVERFLOWBTN"&&!this.isHeadEndItemNotInOverflow(e)},isHeadEndItemNotInOverflow:function(e){const t=this.isHeadEndItemOverflow();const n=a.media.getCurrentRange(a.media.RANGESETS.SAP_STANDARD).name;if(e==="ENDITEMSOVERFLOWBTN"){return t}if(!t){return true}if(["USERACTIONSMENUHEADERBUTTON","BACKBTN"].indexOf(e)>-1){return true}if(n==="Phone"){return false}if(["SF","FLOATINGCONTAINERBUTTON"].indexOf(e)>-1){return true}if(n==="Desktop"&&e==="COPILOTBTN"){return true}return false},isHeadEndItemOverflow:function(){let e=0;let n;const s=u.getModel().getProperty("/header/headEndItems");if(s.indexOf("endItemsOverflowBtn")===-1){return false}const i=a.media.getCurrentRange(a.media.RANGESETS.SAP_STANDARD).name;let o=3;if(i==="Phone"){o=1}for(let a=0;a<s.length;a++){n=t.getElementById(s[a]);if(n&&n.getVisible()){e++}}if(t.getElementById("endItemsOverflowBtn").getVisible()){return e>o+1}return e>o},navigateFromShellApplicationNavigationMenu:function(e){if(i.getHash()!==e.substr(1)){l.emit("centerViewPort",Date.now());i.setHash(e)}const n=t.getElementById("shellAppTitle");if(n){n.close()}},onExit:function(){this.aDoables.forEach(e=>{e.off()});this.oHeadEndBinding.destroy();o.detachActiveChanged(this._handleHeadEndItemsOverflow,this)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/utils", ["sap/ui/core/EventBus","sap/ushell/EventHub"],(e,r)=>{"use strict";function n(n){setTimeout(()=>{e.getInstance().publish("sap.ushell","rendererLoaded",{rendererName:"fiori2"})},0);r.emit("RendererLoaded",{rendererName:"fiori2"})}function i(r,n){setTimeout(()=>{e.getInstance().publish("sap.ushell.renderers.fiori2.Renderer",r,n)},0)}return{publishExternalEvent:i,init:n}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderers/fiori2/History", ["sap/ushell/renderer/History"],e=>{"use strict";return e},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderers/fiori2/LogonFrameProvider", ["sap/ushell/renderer/LogonFrameProvider"],e=>{"use strict";return e},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderers/fiori2/Renderer", ["sap/ushell/renderer/Renderer"],t=>{"use strict";const o=t.extend("sap.ushell.renderers.fiori2.Renderer");o.prototype.showHeaderItem=function(o,e,p){t.prototype.showHeaderItem.apply(this,arguments)};o.prototype.showToolAreaItem=function(o,e,p){t.prototype.showToolAreaItem.apply(this,arguments)};o.prototype.showActionButton=function(o,e,p){t.prototype.showActionButton.apply(this,arguments)};o.prototype.showFloatingActionButton=function(o,e,p){t.prototype.showFloatingActionButton.apply(this,arguments)};o.prototype.showHeaderEndItem=function(o,e,p){t.prototype.showHeaderEndItem.apply(this,arguments)};o.prototype.setHeaderVisibility=function(o,e,p){t.prototype.setHeaderVisibility.apply(this,arguments)};o.prototype.showSubHeader=function(o,e,p){t.prototype.showSubHeader.apply(this,arguments)};o.prototype.setFooter=function(o){t.prototype.setFooter.apply(this,arguments)};o.prototype.setShellFooter=function(o){return t.prototype.setShellFooter.apply(this,arguments)};o.prototype.setFooterControl=function(o,e){return t.prototype.setFooterControl.apply(this,arguments)};o.prototype.hideHeaderItem=function(o,e,p){t.prototype.hideHeaderItem.apply(this,arguments)};o.prototype.removeToolAreaItem=function(o,e,p){t.prototype.removeToolAreaItem.apply(this,arguments)};o.prototype.hideActionButton=function(o,e,p){t.prototype.hideActionButton.apply(this,arguments)};o.prototype.hideLeftPaneContent=function(o,e,p){t.prototype.hideLeftPaneContent.apply(this,arguments)};o.prototype.hideFloatingActionButton=function(o,e,p){t.prototype.hideFloatingActionButton.apply(this,arguments)};o.prototype.hideHeaderEndItem=function(o,e,p){t.prototype.hideHeaderEndItem.apply(this,arguments)};o.prototype.hideSubHeader=function(o,e,p){t.prototype.hideSubHeader.apply(this,arguments)};o.prototype.removeFooter=function(){t.prototype.removeFooter.apply(this,arguments)};o.prototype.getCurrentViewportState=function(){return"Center"};o.prototype.addShellSubHeader=function(o){return t.prototype.addShellSubHeader.apply(this,arguments)};o.prototype.addSubHeader=function(o,e,p,r,n){return t.prototype.addSubHeader.apply(this,arguments)};o.prototype.addUserAction=function(o){return t.prototype.addUserAction.apply(this,arguments)};o.prototype.addActionButton=function(o,e,p,r,n){return t.prototype.addActionButton.apply(this,arguments)};o.prototype.addFloatingButton=function(o){return t.prototype.addFloatingButton.apply(this,arguments)};o.prototype.addFloatingActionButton=function(o,e,p,r,n){return t.prototype.addFloatingActionButton.apply(this,arguments)};o.prototype.addSidePaneContent=function(o){return t.prototype.addSidePaneContent.apply(this,arguments)};o.prototype.addLeftPaneContent=function(o,e,p,r,n){return t.prototype.addLeftPaneContent.apply(this,arguments)};o.prototype.addHeaderItem=function(o,e,p,r,n){return t.prototype.addHeaderItem.apply(this,arguments)};o.prototype.addToolAreaItem=function(o,e,p,r){return t.prototype.addToolAreaItem.apply(this,arguments)};o.prototype.addHeaderEndItem=function(o,e,p,r,n){return t.prototype.addHeaderEndItem.apply(this,arguments)};o.prototype.addEndUserFeedbackCustomUI=function(o,e){t.prototype.addEndUserFeedbackCustomUI.apply(this,arguments)};o.prototype.addUserPreferencesEntry=function(o){t.prototype.addUserPreferencesEntry.apply(this,arguments)};o.prototype.setHeaderTitle=function(o){t.prototype.setHeaderTitle.apply(this,arguments)};o.prototype.setLeftPaneVisibility=function(o,e){t.prototype.setLeftPaneVisibility.apply(this,arguments)};o.prototype.showToolArea=function(o,e){t.prototype.showToolArea.apply(this,arguments)};o.prototype.LaunchpadState=t.prototype.LaunchpadState;return o},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderers/fiori2/RendererExtensions", ["sap/base/Log","sap/ui/core/Element","sap/ushell/Container"],(e,r,n)=>{"use strict";function i(e,r,i){n.getRendererInternal("fiori2").hideHeaderItem(e.getId(),false,[r,i])}function t(e,r,i){n.getRendererInternal("fiori2").showActionButton(e.getId(),false,[r,i])}function s(e,r,i){n.getRendererInternal("fiori2").hideActionButton(e.getId(),false,[r,i])}function o(e,r,i){n.getRendererInternal("fiori2").showLeftPaneContent(e.getId(),false,[r,i])}function d(e,r){n.getRendererInternal("fiori2").hideLeftPaneContent(false,[e,r])}function a(e,r,i){n.getRendererInternal("fiori2").showFloatingActionButton(e.getId(),false,[r,i])}function l(e,r,i){n.getRendererInternal("fiori2").hideFloatingActionButton(e.getId(),false,[r,i])}function f(e,r,i){n.getRendererInternal("fiori2").showHeaderEndItem(e.getId(),false,[r,i])}function u(e,r,i){n.getRendererInternal("fiori2").hideHeaderEndItem(e.getId(),false,[r,i])}function h(){return n.getRendererInternal("fiori2").getModelConfiguration()}function c(){e.info("Application calls sap.ushell.Renderer.addEndUserFeedbackCustomUI. This function is deprecated. The call has no effect.")}function p(e){n.getRendererInternal("fiori2").addUserPreferencesEntry(e)}function g(e){n.getRendererInternal("fiori2").addUserPreferencesGroupedEntry(e)}function R(e){n.getRendererInternal("fiori2").setHeaderTitle(e)}function I(e,r){n.getRendererInternal("fiori2").setLeftPaneVisibility(e,r)}function E(e){n.getRendererInternal("fiori2").setHeaderHiding(e)}function P(e){n.getRendererInternal("fiori2").setFooter(e)}function C(){n.getRendererInternal("fiori2").removeFooter()}function m(){this.addHeaderItem=function(r,i,t){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");n.getRendererInternal("fiori2").showHeaderItem(r.getId(),false,[i,t])};this.setHeaderItemVisibility=function(i,t,s,o){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");const d=r.getElementById(i);if(o){n.getRendererInternal("fiori2").showHeaderItem(d.getId(),s,[t])}};this.addSubHeader=function(r,i,t){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");n.getRendererInternal("fiori2").showSubHeader(r.getId(),false,[i,t])};this.removeSubHeader=function(r,i,t){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");n.getRendererInternal("fiori2").hideSubHeader(r.getId(),false,[i,t])};this.addHeaderEndItem=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");f(...r)};this.removeHeaderItem=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");i(...r)};this.removeHeaderEndItem=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");u(...r)};this.addEndUserFeedbackCustomUI=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");c(...r)};this.addOptionsActionSheetButton=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");t(...r)};this.removeOptionsActionSheetButton=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");s(...r)};this.setFooter=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");P(...r)};this.removeFooter=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");C(...r)};this.addUserPreferencesEntry=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");p(...r)};this.addUserPreferencesGroupedEntry=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");g(...r)};this.setHeaderTitle=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");R(...r)};this.setHeaderHiding=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");E(...r)};this.LaunchpadState={App:"app",Home:"home"};this.addFloatingActionButton=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");a(...r)};this.removeFloatingActionButton=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");l(...r)};this.setLeftPaneContent=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");o(...r)};this.removeLeftPaneContent=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");d(...r)};this.setLeftPaneVisibility=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");I(...r)};this.getConfiguration=function(...r){e.error("'sap.ushell.renderers.fiori2.RendererExtensions' is deprecated. Please use 'sap.ushell.Container.getRenderer('fiori2')' instead.");return h(...r)}}const x=new m;return x},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderers/fiori2/Shell.controller", ["sap/ushell/renderer/Shell.controller"],e=>{"use strict";return e.extend("sap.ushell.renderers.fiori2.Shell")});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderers/fiori2/Shell.view", ["sap/base/Log","sap/m/Avatar","sap/m/library","sap/ushell/renderer/shellHeader/ShellHeader.controller","sap/ushell/ui/launchpad/AccessibilityCustomData","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/utils","sap/ui/core/mvc/XMLView","sap/ui/core/Core","sap/ui/core/Component","sap/ushell/Container","sap/ushell/renderer/ShellLayout","sap/ushell/state/ShellModel","sap/ushell/state/StateManager","sap/ushell/state/BindingHelper"],(e,t,n,i,o,l,a,r,s,d,h,c,g,u,p,f)=>{"use strict";const y=n.AvatarSize;const A=p.Operation;const M=g.ShellArea;const m={Property:"Property",List:"List"};sap.ui.jsview("sap.ushell.renderers.fiori2.Shell",{getControllerName:function(){return"sap.ushell.renderers.fiori2.Shell"},waitForShellLayout:function(){if(!this._oShellLayoutPromise){this._oShellLayoutPromise=new Promise(e=>{this.getController().addDoable(l.once("ShellLayoutApplied").do(e))})}return this._oShellLayoutPromise},getViewDataConfig:function(){const e=this.getViewData()||{};const t=e.config||{};return t},createContent:function(){this._createUserActionsMenuButton(u.getConfigModel());this._allowUpToThreeActionInShellHeader();p.init(this.getViewDataConfig());this.initBackgroundImage();this.createShellHeaderSync();this.setNavigationBarMinHeight();const e=this.createRendererRootViewSync();this.setDisplayBlock(true);r.setPerformanceMark("FLP - Shell.view rendering started!");return e},initBackgroundImage:function(){this.waitForShellLayout().then(()=>{const e=document.getElementById(M.BackgroundImage);const t=["<div class='sapUiShellBackgroundImage sapUiGlobalBackgroundImageForce sapContrastPlus'></div>","<div class='sapMShellBG sapUiGlobalBackgroundImage'></div>"].join("\n");e.insertAdjacentHTML("afterbegin",t)})},createRendererRootViewSync:function(){const e=this.getController();const t=sap.ui.xmlfragment("sap.ushell.renderer.RendererRootView",e);f.overrideUpdateAggregation(t);return t},createRendererRootViewSyncFallback:function(){const e=this.getController();const t=sap.ui.xmlfragment("sap.ushell.renderer.RendererRootViewFallback",e);f.overrideUpdateAggregation(t);return t},createShellHeaderSync:function(){const e=new i;const t=sap.ui.xmlfragment("sap.ushell.renderer.shellHeader.ShellHeader",e);f.overrideUpdateAggregation(t);t.setModel(u.getModel(),"shellModel");t.setModel(a.i18nModel,"i18n");this.addDanglingControl(t);this._oShellHeader=t;this.waitForShellLayout().then(()=>{t.placeAt(M.ShellHeader,"only");e.onInit()});return t},setNavigationBarMinHeight:function(){return sap.ushell.Container.getServiceAsync("Menu").then(e=>e.isMenuEnabled()).then(e=>{if(!e){return}this.waitForShellLayout().then(()=>{const e=document.getElementById(M.NavigationBar);e.classList.add("sapUshellMenuBarHeight")})}).catch(t=>{e.info("Could not apply min-height of the navigationBar",t)})},createRightFloatingContainer:function(){sap.ui.require(["sap/ushell/ui/shell/RightFloatingContainer"],e=>{const t=new e({id:"right-floating-container",top:"2",right:"2",hideItemsAfterPresentation:true,visible:"{shellModel>/rightFloatingContainer/visible}",floatingContainerItems:{path:"shellModel>/rightFloatingContainer/items",factory:f.factory}});f.overrideUpdateAggregation(t);t.setModel(u.getModel(),"shellModel");this.addDanglingControl(t);this._oRightFloatingContainer=t;this.waitForShellLayout().then(()=>{t.placeAt(M.RightFloatingContainer,"only")})})},createSubHeader:function(){sap.ui.require(["sap/ushell/ui/shell/SubHeader"],e=>{const t=new e({id:"subhdr",content:{path:"shellModel>/subHeader/items",factory:f.factory}});f.overrideUpdateAggregation(t);t.setModel(u.getModel(),"shellModel");this.addDanglingControl(t);this.waitForShellLayout().then(()=>{t.placeAt(M.SubHeader,"only")})})},createFloatingContainer:function(){return h.create({name:"sap.ushell.components.shell.FloatingContainer"})},createSidePane:function(){sap.ui.require(["sap/ushell/ui/shell/SidePane"],e=>{const t=new e({id:"shell-sidePane",visible:"{shellModel>/sidePane/visible}",content:{path:"shellModel>/sidePane/items",factory:f.factory}});f.overrideUpdateAggregation(t);t.setModel(u.getModel(),"shellModel");this.addDanglingControl(t);this.waitForShellLayout().then(()=>{t.placeAt(M.SidePane,"only")})})},createToolArea:function(){sap.ui.require(["sap/ushell/ui/shell/ToolArea"],e=>{const t=new e({id:"shell-toolArea",visible:"{shellModel>/toolArea/visible}",toolAreaItems:{path:"shellModel>/toolArea/items",factory:f.factory}});f.overrideUpdateAggregation(t);t.setModel(u.getModel(),"shellModel");this.addDanglingControl(t);this.waitForShellLayout().then(()=>{t.placeAt(M.ToolArea,"only")})})},createFloatingActions:function(){sap.ui.require(["sap/ushell/ui/shell/ShellFloatingActions"],e=>{const t=new e({id:"shell-floatingActions",floatingActions:{path:"shellModel>/floatingActions/items",factory:f.factory}});f.overrideUpdateAggregation(t);t.setModel(u.getModel(),"shellModel");this.addDanglingControl(t);this.waitForShellLayout().then(()=>{t.placeAt(M.FloatingActions,"only")})})},initAllMyAppsView:function(){return sap.ushell.Container.getServiceAsync("AllMyApps").then(e=>{if(e.isEnabled()){return this.createAllMyAppsView()}})},createAllMyAppsView:function(){return s.create({id:"allMyAppsView",viewName:"sap.ushell.renderer.allMyApps.AllMyApps"}).then(e=>{e.setModel(u.getConfigModel(),"configModel");e.setModel(a.i18nModel,"i18n");e.addCustomData(new o({key:"aria-label",value:a.i18n.getText("allMyApps_headerTitle"),writeToDom:true}));this.addDanglingControl(e);this.getShellHeader().getAppTitle().setAllMyApps(e)})},createPostCoreExtControls:function(){const e=u.getModel();sap.ui.require(["sap/ui/core/Popup"],e=>{e.setInitialZIndex(11)});this.bindFactory({model:e,factory:this.createFloatingContainer.bind(this),bindingPath:"/floatingContainer/items",bindingType:m.List,valueCheck:function(e){return!!e.length}});this.bindFactory({model:e,factory:this.createRightFloatingContainer.bind(this),bindingPath:"/rightFloatingContainer/visible",bindingType:m.Property,valueCheck:function(e){return!!e}});this.bindFactory({model:e,factory:this.createSubHeader.bind(this),bindingPath:"/subHeader/items",bindingType:m.List,valueCheck:function(e){return!!e.length}});this.bindFactory({model:e,factory:this.createToolArea.bind(this),bindingPath:"/toolArea/visible",bindingType:m.Property,valueCheck:function(e){return!!e}});this.bindFactory({model:e,factory:this.createSidePane.bind(this),bindingPath:"/sidePane/visible",bindingType:m.Property,valueCheck:function(e){return!!e}});this.bindFactory({model:e,factory:this.createFloatingActions.bind(this),bindingPath:"/floatingActions/items",bindingType:m.List,valueCheck:function(e){return!!e.length}});this.addPendingInitialization(this.initAllMyAppsView())},_allowUpToThreeActionInShellHeader:function(){const e=["moveAppFinderActionToShellHeader","moveUserSettingsActionToShellHeader","moveContactSupportActionToShellHeader","moveEditHomePageActionToShellHeader"];const t=this.getViewDataConfig();e.reduce((e,n)=>{if(t[n]){e++}else{t[n]=false}return e},0)},_createUserActionsMenuButton:function(e){const n=c.getUser();const i=a.i18n.getText("UserActionsMenuToggleButtonAria",[n.getFullName()||n.getId()]);const o=new t({id:"userActionsMenuHeaderButton",src:"{configModel>/userImage/personPlaceHolder}",initials:n.getInitials(),ariaHasPopup:"Menu",displaySize:y.XS,tooltip:i,press:function(){l.emit("showUserActionsMenu",Date.now())}});o.setModel(e,"configModel");this.addDanglingControl(o);p.updateAllBaseStates("header.headEndItems",A.Add,"userActionsMenuHeaderButton")},getShellHeader:function(){return this._oShellHeader},getRightFloatingContainer:function(){return this._oRightFloatingContainer},bindFactory:function(e){const t=e.model;const n=e.factory;const i=e.bindingPath;const o=e.bindingType;const l=e.valueCheck;let a=t.getProperty(i);if(l(a)){n()}else{let e;switch(o){case m.List:e=t.bindList(i);break;default:e=t.bindProperty(i)}this.addDanglingBinding(e);e.attachChange(function(){a=e.getModel().getProperty(e.getPath());if(l(a)){this.removeDanglingBinding(e);e.destroy();n()}},this)}},addDanglingBinding:function(e){this.getController().addDanglingBinding(e)},removeDanglingBinding:function(e){this.getController().removeDanglingBinding(e)},addDanglingControl:function(e){this.getController().addDanglingControl(e)},addPendingInitialization:function(e){return this.getController().addPendingInitialization(e)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/resources", ["sap/base/i18n/Localization","sap/ui/model/resource/ResourceModel"],(e,r)=>{"use strict";const t={};t.i18n=null;t.i18nModel=new r({bundleUrl:sap.ui.require.toUrl("sap/ushell/renderer/resources/resources.properties"),bundleLocale:e.getLanguage(),async:true});t._pResourceBundle=t.i18nModel.getResourceBundle().then(e=>{t.i18n=e});t.awaitResourceBundle=async function(){await t._pResourceBundle};t.getTranslationFromJSON=function(r){if(!r){return""}try{const t=JSON.parse(r);const n=e.getLanguage().toLowerCase();for(const[e,r]of Object.entries(t)){if(e.toLowerCase()===n){return r}}for(const[e,r]of Object.entries(t)){const t=e.toLowerCase();if(t.startsWith(n)||n.startsWith(t)){return r}}return t.default||""}catch{return r}};return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/AppConfiguration", ["sap/base/i18n/Localization","sap/base/i18n/ResourceBundle","sap/base/Log","sap/base/util/ObjectPath","sap/m/library","sap/ui/core/IconPool","sap/ui/thirdparty/hasher","sap/ui/thirdparty/jquery","sap/ui/util/Mobile","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/utils/UrlParsing","sap/ushell/utils","sap/ushell/Container","sap/ushell/Config"],(t,e,n,i,s,a,o,jQuery,r,c,p,l,u,h,f)=>{"use strict";const g=s.ButtonType;function d(){const s={};let d=true;let m=null;let y=[];const I=[];this._applicationOpenedHandler=function(){d=false;while(I.length>0){I.shift()()}};c.on("AppRendered").do(this._applicationOpenedHandler.bind(this));this.addActivity=function(t){const e=new jQuery.Deferred;h.getServiceAsync("UserRecents").then(e=>e.addActivity(t)).then(e.resolve).catch(e.reject);return e.promise()};this.setApplicationInInitMode=function(){d=true};this.getApplicationRequestQueue=function(){return I};this.getCurrentApplication=function(){return m};this.getCurrentAppliction=this.getCurrentApplication;this.getMetadata=function(t,e){if(!t){t=m}if(t){let n;if(e){n=e.slice(1)}else{n=o?.getHash?o.getHash():""}const i=this._getMemoizationKey(n);return this._getMetadata(t,i)}return{}};this._getMemoizationKey=function(t){const[e,n]=t.split("?");const i=this._processParams(n);if(i){return e+i}const s=l.parseShellHash(t);if(s){const{semanticObject:t,action:e}=s;return`${t}-${e}`}return""};this._processParams=function(t){if(!t){return""}const e={};t.split("&").forEach(t=>{const[n,i]=t.split("=");e[n]=i});const n=Object.keys(e).sort();const i=n.reduce((t,n,i)=>{const s=`${n}=${e[n]}`;return`${t}${i>0?"&":"?"}${s}`},"");return i};this._getMetadata=function(t,e){if(!s.hasOwnProperty(e)||!s[e].complete){this.addMetadata(t,e)}if(!s[e]){s[e]={complete:false}}if(!s[e].title){s[e].title=t.text||p.i18n.getText("default_app_title")}return s[e]};this.setCurrentApplication=function(t){if(m===t){return}m=t;I.splice(0)};this.setHeaderHiding=function(){n.warning("Application configuration headerHiding property is deprecated and has no effect")};this.addApplicationSettingsButtons=function(t){if(d){I.push(()=>{this._addApplicationSettingsButtons(t)})}else{this._addApplicationSettingsButtons(t)}};this._addApplicationSettingsButtons=function(t){const e=h.getRendererInternal("fiori2");const n=[];for(let e=0;e<t.length;e++){const i=t[e];n.push(i.getId());i.setIcon(i.getIcon()||a.getIconURI("customize"));if(p.i18n.getText("userSettings")===i.getProperty("text")){i.setProperty("text",p.i18n.getText("userAppSettings"))}i.setType(g.Unstyled)}if(e){if(y.length){e.hideActionButton(y,true)}y=n;e.showActionButton(n,true,undefined,true)}};this.setWindowTitle=function(e){const n=p.getTranslationFromJSON(f.last("/core/shell/windowTitleExtension"));if(n){if(t.getRTL()){e=`${n} - ${e}`}else{e=`${e} - ${n}`}}window.document.title=e};this.setIcons=function(t){r.setIcons(t)};this.setApplicationFullWidth=function(t){this.setApplicationFullWidthInternal(t)};this.setApplicationFullWidthInternal=function(t){c.emit("setApplicationFullWidth",{bValue:t,date:Date.now()})};this.getApplicationName=function(t){const e=t?.additionalInformation;if(e){const t=/^SAPUI5\.Component=(.+)$/i.exec(e);if(t){return t[1]}}return null};this.getApplicationUrl=function(t){let e=t?.url;const n="P_TCODE";if(e){if(t.applicationType==="NWBC"&&e.indexOf(n)){return e}const i=e.indexOf("?");if(i>=0){e=e.slice(0,i)}if(e.slice(-1)!=="/"){e+="/"}}return e};this._getPropertyValueFromConfig=function(t,e,n){const i=`${e}Resource`;if(n&&t.hasOwnProperty(i)){return n.getText(t[i])}if(t.hasOwnProperty(e)){return t[e]}};this._getPropertyValueFromManifest=function(t,e,n){const s=e[n].manifestEntryKey;const a=e[n].path||"";const o=t.getManifestEntry(s);return i.get(a,o)};this.addMetadata=function(i,a){try{const o=this.getApplicationName(i);const r=this.getApplicationUrl(i);const c={fullWidth:{manifestEntryKey:"sap.ui",path:"fullWidth"},hideLightBackground:{manifestEntryKey:"sap.ui",path:"hideLightBackground"},title:{manifestEntryKey:"sap.app",path:"title"},icon:{manifestEntryKey:"sap.ui",path:"icons.icon"},favIcon:{manifestEntryKey:"sap.ui",path:"icons.favIcon"},homeScreenIconPhone:{manifestEntryKey:"sap.ui",path:"icons.phone"},"homeScreenIconPhone@2":{manifestEntryKey:"sap.ui",path:"icons.phone@2"},homeScreenIconTablet:{manifestEntryKey:"sap.ui",path:"icons.tablet"},"homeScreenIconTablet@2":{manifestEntryKey:"sap.ui",path:"icons.tablet@2"},startupImage320x460:{manifestEntryKey:"sap.ui",path:"icons.startupImage640x920"},startupImage640x920:{manifestEntryKey:"sap.ui",path:"icons.startupImage640x920"},startupImage640x1096:{manifestEntryKey:"sap.ui",path:"icons.startupImage640x1096"},startupImage768x1004:{manifestEntryKey:"sap.ui",path:"icons.startupImage768x1004"},startupImage748x1024:{manifestEntryKey:"sap.ui",path:"icons.startupImage748x1024"},startupImage1536x2008:{manifestEntryKey:"sap.ui",path:"icons.startupImage1536x2008"},startupImage1496x2048:{manifestEntryKey:"sap.ui",path:"icons.startupImage1496x2048"},compactContentDensity:{manifestEntryKey:"sap.ui5",path:"contentDensities.compact"},cozyContentDensity:{manifestEntryKey:"sap.ui5",path:"contentDensities.cozy"}};const p=i?.componentHandle;if(!a){return}if(!s.hasOwnProperty(a)){s[a]={complete:false}}if(!s[a].complete){let l;let h;if(p){l=p.getInstance();h=p.getMetadata()}else if(o){n.warning(`No component handle available for '${o}'; SAPUI5 component metadata is incomplete`,null,"sap.ushell.services.AppConfiguration");return}if(l&&h){let n;const o=l._getManifestEntry("/sap.ui5/config",true);s[a].complete=true;if(o){let i=o.resourceBundle;if(i){if(i.slice(0,1)!=="/"){i=r+i}n=e.create({url:i,locale:t.getLanguage()})}}const p=!!l.getManifest();for(const t in c){if(c.hasOwnProperty(t)){if(p){s[a][t]=this._getPropertyValueFromManifest(l,c,t)}if(o&&s[a][t]===undefined){s[a][t]=this._getPropertyValueFromConfig(o,t,n)}}}s[a].version=l.getManifestEntry("/sap.app/applicationVersion/version");s[a].technicalName=h.getComponentName();this._setTitleFromNavResult(s[a],i)}else if(u.isApplicationTypeEmbeddedInIframe(i.applicationType)){const t="/~canvas;window=app/wda/";const e=i.url.indexOf(t);const n="/sap/bc/webdynpro/sap/";const o="/bc/gui/sap/its/webgui";const r=i.url.indexOf(o);if(e>=0){s[a].technicalName=i.url.substring(e+t.length,i.url.indexOf("/",e+t.length))}if(i.url.indexOf(n)>=0){s[a].technicalName=new RegExp(`${n}(.*)[?]`).exec(i.url)[1]}s[a].complete=true;if(r>=0){const t="etransaction=";const e=i.url.indexOf(t,r+o.length);const n=i.url.indexOf("&",e);const c=n>=0?n:i.url.length;s[a].technicalName=`${decodeURIComponent(i.url.substring(e+t.length,c))} (TCODE)`}}else{n.warning("No technical information for the given application could be determined",null,"sap.ushell.services.AppConfiguration")}}const l=["favIcon","homeScreenIconPhone","homeScreenIconPhone@2","homeScreenIconTablet","homeScreenIconTablet@2","startupImage320x460","startupImage640x920","startupImage640x1096","startupImage768x1004","startupImage748x1024","startupImage1536x2008","startupImage1496x2048"];const h=r?.[r.length-1]==="/"?r.substring(0,r.length-1):r;l.forEach(t=>{const e=s[a][t];let n=null;if(e){n=this._isUrlRelative(e)?`${h}/${e}`:e}s[a][t]=n})}catch(t){n.warning("Application configuration could not be parsed",t)}};this._isUrlRelative=function(t){if(!t){return false}if(t.match(/^https?:\/\/.*/)){return false}return t[0]!=="/"};this._setTitleFromNavResult=function(t,e){const n=e?.text;const i=t.technicalName;const s=f.last("/core/shell/useAppTitleFromNavTargetResolution")||[];if(n&&s.includes(i)){t.title=n}}}return new d},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/AppLifeCycle", ["sap/ui/base/EventProvider","sap/ui/core/Component","sap/ui/thirdparty/hasher","sap/ui/thirdparty/URI","sap/ushell/AppInfoParameters","sap/ushell/Config","sap/ushell/Container","sap/ushell/EventHub","sap/ushell/services/AppConfiguration","sap/ushell/TechnicalParameters","sap/ushell/renderer/RendererManagedComponents"],(e,t,n,p,i,o,a,r,s,l,c)=>{"use strict";const u="appLoaded";function h(t,n,p,i){this._oCurrentApplication=null;this._oCurrentApplicationContainer=null;this._oEventProvider=new e;if(window.QUnit===undefined&&a.inAppRuntime()===false){if(o.last("/core/shell/enableMessageBroker")){a.getServiceAsync("MessageBroker").then(async e=>{await e.connect(e.ClientAlias.FLP,()=>{});e.subscribe(e.ClientAlias.FLP,[{channelId:"flp-app-info",version:"1.0"}],this._handleIncomingMessageBrokerMessage.bind(this,e))})}}}h.prototype.init=function(e){e.attachAfterNavigate(this.onAfterNavigate.bind(this))};h.prototype._handleIncomingMessageBrokerMessage=function(e,t,n,p,i){if(n==="flp-app-info"&&p==="get-current-app-info"&&this._oCurrentApplication){this._oCurrentApplication.getAllAppInfo(true).then(n=>{e.publish("flp-app-info",e.ClientAlias.FLP,Date.now().toString(),p,[t],n)})}};h.prototype.onAfterNavigate=async function(e){let n=false;const p=e.getParameter("to");let i;if(p?.isA?.("sap.ushell.appIntegration.ApplicationContainer")){i=p}let o;if(i&&typeof i.getComponentHandle==="function"&&i.getComponentHandle()){o=i.getComponentHandle().getInstance()}else if(i){const e=i.getAggregation("child");if(e){o=e.getComponentInstance()}}else{o=t.getComponentById(p?.getComponent?.());if(o?.isA?.("sap.ushell.renderer.rendererTargetWrapper.Component")){o=await o.getComponentInstance()}}if(o){n=c.isManagedComponentInstance(o)}let a=i&&typeof i.getApplicationType==="function"&&i.getApplicationType();if((!a||a==="URL")&&o){a="UI5"}this._setCurrentApplicationObject(a,o,n,i)};h.prototype._getAppIntent=async function(e){const t=n.getHash();let i;if(!t){throw new Error("Could not identify current application hash")}const o=a.getServiceAsync("URLParsing");return o.then(n=>{i=n.parseShellHash(t);if(e===true&&this._oCurrentApplicationContainer&&typeof this._oCurrentApplicationContainer.getCurrentAppUrl==="function"){const e=this._oCurrentApplicationContainer.getCurrentAppUrl();if(e){const t=new p(e).search(true);if(t.hasOwnProperty("sap-remote-intent")){i.semanticObject=t["sap-remote-intent"].split("-")[0];i.action=t["sap-remote-intent"].split("-")[1];delete i.params["sap-shell-so"];delete i.params["sap-shell-action"]}}}return i})};h.prototype._setCurrentApplicationObject=function(e,t,n,p){this._oCurrentApplicationContainer=p;this._oCurrentApplication={applicationType:e,componentInstance:t,homePage:n,getTechnicalParameter:function(n){return l.getParameterValue(n,t,p,e)},getIntent:this._getAppIntent.bind(this),getInfo:function(e){return i.getInfo(e,this._oCurrentApplication,p)}.bind(this),getAllAppInfo:function(e){return i.getAllAppInfo(e,this._oCurrentApplication,t,p).then(t=>{if(e===true){t.applicationType=this._oCurrentApplication.applicationType;t.homePage=this._oCurrentApplication.homePage}else{t.applicationType={value:this._oCurrentApplication.applicationType};t.homePage={value:this._oCurrentApplication.homePage}}return t})}.bind(this),getSystemContext:function(){const e=s.getCurrentApplication()||{};const t=e.contentProviderId||"";return a.getServiceAsync("ClientSideTargetResolution").then(e=>e.getSystemContext(t))},disableKeepAliveAppRouterRetrigger:function(e){r.emit("disableKeepAliveRestoreRouterRetrigger",{disable:e,appId:this._oCurrentApplicationContainer?.getCurrentAppId(),componentId:this._oCurrentApplication.componentInstance?.oContainer?.sId,date:Date.now()})}.bind(this)};setTimeout(()=>{this._oEventProvider.fireEvent(u,this._oCurrentApplication);r.last("trackHashChange");this._oCurrentApplication.getInfo(["technicalAppComponentId"]).then(e=>{if(!c.isManagedComponentName(e?.technicalAppComponentId)){r.emit("FESRAppLoaded",{technicalName:e.technicalAppComponentId})}});if(window.QUnit===undefined&&a.inAppRuntime()===false){if(o.last("/core/shell/enableMessageBroker")){a.getServiceAsync("MessageBroker").then(e=>{this._oCurrentApplication.getAllAppInfo(true).then(t=>{e.publish("flp-app-info",e.ClientAlias.FLP,"new-app-info","*",t)})})}}},0)};h.prototype.getCurrentApplication=function(){return this._oCurrentApplication};h.prototype.attachAppLoaded=function(e,t,n){this._oEventProvider.attachEvent(u,e,t,n)};h.prototype.detachAppLoaded=function(e,t){this._oEventProvider.detachEvent(u,e,t)};h.prototype.prepareCurrentAppObject=function(e,t,n,p,i){this._setCurrentApplicationObject(e,t,n,p,i)};h.prototype.reloadCurrentApp=function(){const e=this.getCurrentApplication();r.emit("reloadCurrentApp",{sAppContainerId:this._oCurrentApplicationContainer?.getId?.(),sAppId:e.componentInstance?.getId?.(),sCurrentHash:n.getHash(),date:Date.now()})};h.prototype.setAppInfo=function(e,t){i.setCustomAttributes(e?.info);if(o.last("/core/shell/enableMessageBroker")){a.getServiceAsync("MessageBroker").then(e=>{this._oCurrentApplication.getAllAppInfo(true).then(n=>{e.publish("flp-app-info",e.ClientAlias.FLP,t===true?"new-app-info":"app-info-update","*",n)})})}};h.prototype.ApplicationType={UI5:"UI5",WDA:"WDA",NWBC:"NWBC",URL:"URL",TR:"TR"};h.prototype.AppInfoParameterName={productName:"productName",theme:"theme",languageTag:"languageTag",appIntent:"appIntent",appFrameworkId:"appFrameworkId",technicalAppComponentId:"technicalAppComponentId",appId:"appId",appVersion:"appVersion",appSupportInfo:"appSupportInfo",appFrameworkVersion:"appFrameworkVersion","abap.transaction":"abap.transaction"};h.hasNoAdapter=true;return h},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/AppState", ["sap/ui/base/Object","sap/ui/thirdparty/jquery","sap/ushell/services/appstate/AppState","sap/ushell/services/appstate/AppStatePersistencyMethod","sap/ushell/services/appstate/Sequentializer","sap/ushell/services/appstate/SequentializingAdapter","sap/ushell/services/appstate/WindowAdapter","sap/ushell/utils"],(e,jQuery,t,s,n,i,r,o)=>{"use strict";function p(e){return o.isDefined(e)&&o.isDefined(e.transient)?!!e.transient:true}function a(e,t,s,n){this._oConfig=n&&n.config;this._sSessionKey="";this._oAdapter=new i(e);this._oAdapter=new r(this,this._oAdapter,n)}a.prototype._getSessionKey=function(){if(!this._sSessionKey){this._sSessionKey=this._getGeneratedKey()}return this._sSessionKey};a.prototype.getAppState=function(e){const s=new jQuery.Deferred;let n;this._loadAppState(e).done((e,i,r,o)=>{n=new t(this,e,false,i,undefined,undefined,undefined,r,o);s.resolve(n)}).fail(()=>{n=new t(this,e);s.resolve(n)});return s.promise()};a.prototype._getGeneratedKey=function(e){let t=o.generateRandomKey();if(e){t=`TAS${t}`.substring(0,41)}else{t=`AS${t}`.substring(0,40)}return t};a.prototype.createEmptyAppState=function(n,i,r,o){let a="";let d="";const u=i||p(this._oConfig);const f=this._getGeneratedKey(u);if(r!==undefined&&!this.isPersistencyMethodSupported(r)){r=undefined}if(n){if(!e.isObjectA(n,"sap.ui.core.UIComponent")){throw new Error("oComponent passed must be a UI5 Component")}const t=n.getMetadata&&n.getMetadata();if(t){if(typeof n.getMetadata().getName==="function"){a=t.getName()||""}if(!a&&t.getComponentName){a=t.getComponentName()}if(typeof n.getManifest==="function"&&typeof n.getManifest()==="object"&&typeof n.getManifest()["sap.app"]==="object"){d=n.getManifest()["sap.app"].ach||""}}}if(u===true){r=undefined}else if(r===undefined&&this.isPersistencyMethodSupported(s.PersonalState)){r=s.PersonalState}return new t(this,f,true,undefined,a,d,u,r)};a.prototype.createEmptyUnmodifiableAppState=function(){const e=this._getGeneratedKey();const s=new t(this,e,false);return s};a.prototype._saveAppState=function(e,t,n,i,r,a,d){const u=this._getSessionKey();const f=o.isDefined(r)?r:p(this._oConfig);if(f){a=undefined;d=undefined}else if(a!==undefined){if(!this.isPersistencyMethodSupported(a)){if(this.isPersistencyMethodSupported(s.PersonalState)){a=s.PersonalState}else{a=undefined}d=undefined}}return this._oAdapter.saveAppState(e,u,t,n,i,f,a,d)};a.prototype._keyIsJson=function(e){if(typeof e==="string"&&e.indexOf("{")===0){try{JSON.parse(e);return true}catch{return false}}return false};a.prototype._loadAppState=function(e){if(this._keyIsJson(e)){return(new jQuery.Deferred).resolve(e,e).promise()}return this._oAdapter.loadAppState(e)};a.prototype.deleteAppState=function(e){return this._oAdapter.deleteAppState(e)};a._getSequentializer=function(){return new n};a.prototype.getSupportedPersistencyMethods=function(){if(this._oAdapter.getSupportedPersistencyMethods){return this._oAdapter.getSupportedPersistencyMethods()}return[]};a.prototype.isPersistencyMethodSupported=function(e){const t=this.getSupportedPersistencyMethods();if(t.length>0&&e!==undefined){return t.indexOf(e)>=0}return false};function d(e,t){const s=new RegExp(`(?:${t}=)([^&/]+)`);const n=s.exec(e);let i;if(n&&n.length===2){i=n[1]}return i}a.prototype.setAppStateToPublic=function(e){const t=d(e,"sap-xapp-state");const n=d(e,"sap-iapp-state");const i=new jQuery.Deferred;jQuery.when(t&&this.makeStatePersistent(t,s.PublicState),n&&this.makeStatePersistent(n,s.PublicState)).done((s,r)=>{if(t&&t!==s){e=e.replace(t,s)}if(n&&n!==r){e=e.replace(n,r)}i.resolve(e,t,n,s,r)}).fail(i.reject);return i.promise()};a.prototype.makeStatePersistent=function(e,t,s){const n=new jQuery.Deferred;if(this.getSupportedPersistencyMethods().length===0){return n.resolve(e)}if(this._keyIsJson(e)){return n.resolve(e)}if(this.isPersistencyMethodSupported(t)){this.getAppState(e).done(i=>{if(i._iPersistencyMethod!==t){i.bTransient=false;i._iPersistencyMethod=t;i._oPersistencySettings=s;if(e.startsWith("TAS")){e=e.substring(1,e.length)}this._saveAppState(e,i._sData,i._sAppName,i._sACHComponent,false,t,s).done(()=>{n.resolve(e)}).fail(n.reject)}else{n.resolve(e)}}).fail(n.reject)}else{n.reject(new Error(`AppState.makeStatePersistent - adapter does not support persistence method: ${t}`))}return n.promise()};a.prototype.getPersistentWhenShared=function(){return this._oConfig&&this._oConfig.persistentWhenShared===true?true:false};a.WindowAdapter=r;a.hasNoAdapter=false;return a},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ClientSideTargetResolution", ["sap/base/Log","sap/base/util/isPlainObject","sap/base/util/ObjectPath","sap/base/util/extend","sap/ushell/ApplicationType","sap/ushell/navigationMode","sap/ushell/services/ClientSideTargetResolution/Formatter","sap/ushell/services/ClientSideTargetResolution/InboundIndex","sap/ushell/services/ClientSideTargetResolution/InboundProvider","sap/ushell/services/ClientSideTargetResolution/ParameterMapping","sap/ushell/services/ClientSideTargetResolution/PrelaunchOperations","sap/ushell/services/ClientSideTargetResolution/Search","sap/ushell/services/ClientSideTargetResolution/StagedLogger","sap/ushell/services/ClientSideTargetResolution/SystemContext","sap/ushell/services/ClientSideTargetResolution/Utils","sap/ushell/services/ClientSideTargetResolution/VirtualInbounds","sap/ushell/services/ClientSideTargetResolution/XAppStateProcessing","sap/ui/thirdparty/jquery","sap/ushell/TechnicalParameters","sap/ushell/utils","sap/ushell/utils/UrlParsing","sap/ushell/Container"],(e,t,n,s,i,a,o,r,l,u,c,d,p,f,g,h,m,jQuery,b,y,v,S)=>{"use strict";function R(e,t,n,s){this._init.apply(this,arguments)}R.prototype._init=function(t,n,s,i){this._iLogId=0;if(!this._implementsServiceInterface(t)){e.error("Cannot get Inbounds","ClientSideTargetResolutionAdapter should implement getInbounds method","sap.ushell.services.ClientSideTargetResolution");return}this._oInboundProvider=new l(t.getInbounds.bind(t));this._oHaveEasyAccessSystemsDeferreds={userMenu:null,sapMenu:null};this._oServiceConfiguration=i;this._oAdapter=t};R.prototype._implementsServiceInterface=function(e){if(typeof e.getInbounds==="function"){return true}return false};R.prototype._extractInboundFilter=function(e){if(!this._oAdapter.hasSegmentedAccess){return undefined}if(typeof e!=="string"){return undefined}const t=e.indexOf("#")===0?e:`#${e}`;const n=v.parseShellHash(t);if(!n||!n.semanticObject||!n.action){return undefined}return[{semanticObject:n.semanticObject,action:n.action}]};R.prototype.resolveHashFragment=async function(e){const t=this._extractInboundFilter(e);const n=await this._oInboundProvider.getInbounds(t);const s=await this._resolveHashFragment(e,n);return s};R.prototype._resolveHashFragmentWithFallback=async function(t,n,s){if(typeof this._oAdapter.resolveHashFragmentFallback!=="function"){e.error("Cannot resolve hash fragment",`${t} has matched an inbound that cannot be resolved client side and no resolveHashFragmentFallback method was implemented in ClientSideTargetResolutionAdapter`,"sap.ushell.services.ClientSideTargetResolution");throw new Error("No fallback provided")}const i=await y.promisify(this._oAdapter.resolveHashFragmentFallback(t,n,s));return i};R.prototype.resolveTileIntent=async function(e){const t=this._extractInboundFilter(e);const n=await this._oInboundProvider.getInbounds(t);const s=await this._resolveTileIntent(e,n);return s};R.prototype.resolveTileIntentInContext=async function(e,t){const n=r.createIndex(e.concat(h.getInbounds()));const s=await this._resolveTileIntent(t,n);return s};R.prototype._resolveHashFragment=async function(t,n){const s=t.indexOf("#")===0?t:`#${t}`;const i=v.parseShellHash(s);if(i===undefined){e.error(`Could not parse shell hash '${t}'`,"please specify a valid shell hash","sap.ushell.services.ClientSideTargetResolution");throw new Error(`Could not parse shell hash '${t}'please specify a valid shell hash`)}i.formFactor=y.getFormFactor();let a=await this._getMatchingInbounds(i,n,{bExcludeTileInbounds:true});if(a.length===0){e.warning(`Could not resolve ${t}`,"rejecting promise","sap.ushell.services.ClientSideTargetResolution");throw new Error(`Could not resolve ${t}`)}a=this._applySapNavigationScopeFilter(a,i);const o=a[0];o.fullHash=s;function r(e,t){return this[e]===undefined?"<undefined>":t}function l(e,t){return e==="_original"?undefined:r.call(this,e,t)}if(e.getLevel()>=e.Level.DEBUG){const t=JSON.stringify(o,l,"   ");e.debug("The following target will now be resolved",t,"sap.ushell.services.ClientSideTargetResolution")}return this._resolveSingleMatchingTarget(o,s)};R.prototype._applySapNavigationScopeFilter=function(e,t){const s=t&&t.params&&t.params["sap-navigation-scope-filter"];if(!s){return e}const i=e.filter(e=>{const t=n.get("inbound.signature.parameters",e);const i=t&&t["sap-navigation-scope"];if(i){return s[0]===i.defaultValue.value}return undefined});return i.length>0?i:e};R.prototype._resolveSingleMatchingTarget=async function(t,s){const o=v.parseShellHash(s);const r=[o.semanticObject,o.action].join("-");const l=(t.inbound.resolutionResult||{}).applicationType;let d;if(this._oAdapter.resolveSystemAlias){d=(...e)=>{const t=new jQuery.Deferred;y.promisify(this._oAdapter.resolveSystemAlias.apply(this._oAdapter,e)).then(t.resolve).catch(t.reject);return t}}const p=!!t.inbound.templateContext;const f=i.getEasyAccessMenuResolver(r,l);if(f&&!p){const e=await f(o,t,d,i.WDA.enableWdaCompatibilityMode);const n=a.getNavigationMode(e,(t.intentParamsPlusAllDefaults["sap-ushell-navmode"]||[])[0],(t.intentParamsPlusAllDefaults["sap-ushell-next-navmode"]||[])[0]);y.shallowMergeObject(e,n);e.appId=t.inbound.resolutionResult.appId;e.inboundPermanentKey=t.inbound.permanentKey||t.inbound.id;return e}const g=this._getReservedParameters(t);u.mapParameterNamesAndRemoveObjects(t);const h=await S.getServiceAsync("AppState");t=await m.mixAppStateIntoResolutionResultAndRename(t,h);delete t.intentParamsPlusAllDefaults["sap-tag"];delete t.mappedIntentParamsPlusSimpleDefaults["sap-tag"];t.mappedDefaultedParamNames=t.mappedDefaultedParamNames.filter(e=>e!=="sap-tag");const b=n.get("inbound.resolutionResult.url",t);await c.executePrelaunchOperations(t,g["sap-prelaunch-operations"]);try{let n;if(i[l]){n=i[l].generateResolutionResult}else{n=()=>this._constructFallbackResolutionResult(t,s)}const o=await n(t,b,d);const r=a.getNavigationMode(o,(t.intentParamsPlusAllDefaults["sap-ushell-navmode"]||[])[0],(t.intentParamsPlusAllDefaults["sap-ushell-next-navmode"]||[])[0]);y.shallowMergeObject(o,r);o.reservedParameters=g;o.appId=t.inbound.resolutionResult.appId;o.inboundPermanentKey=t.inbound.permanentKey||t.inbound.id;if(t.inbound.resolutionResult?.appInfo){o.appInfo=t.inbound.resolutionResult.appInfo}e.debug("Intent was resolved to the following target",JSON.stringify(o,null,3),"sap.ushell.services.ClientSideTargetResolution");y.shallowMergeObject(t.resolutionResult,o);return t.resolutionResult}catch(e){if(typeof e.message==="string"&&e.message.indexOf("fallback:")>=0){const e=await this._constructFallbackResolutionResult(t,s);y.shallowMergeObject(t.resolutionResult,e);return t.resolutionResult}throw e}};R.prototype._getReservedParameters=function(e){const t=b.getParameters({injectFrom:"startupParameter"}).map(e=>e.name);const n=g.extractParameters(t,e.intentParamsPlusAllDefaults);b.getParameters({injectFrom:"inboundParameter"}).forEach(t=>{const s=t.name;const i=e.inbound&&e.inbound.signature&&e.inbound.signature.parameters;if(i&&Object.keys(i).length>0){const t=i[s];const a=t&&t.defaultValue&&t.defaultValue.hasOwnProperty("value");const o=t&&t.filter&&t.filter.hasOwnProperty("value");if(t&&(o||a)){if(a){n[s]=t.defaultValue.value}else{n[s]=t.filter.value}}else{delete n[s]}delete e.intentParamsPlusAllDefaults[s];const r=e.defaultedParamNames.indexOf(s);if(r>=0){e.defaultedParamNames.splice(r,1)}}});return n};R.prototype._resolveTileIntent=async function(t,n){const s=t.indexOf("#")===0?t:`#${t}`;const i=v.parseShellHash(s);if(i===undefined){e.error(`Could not parse shell hash '${t}'`,"please specify a valid shell hash","sap.ushell.services.ClientSideTargetResolution");throw new Error("Cannot parse shell hash")}i.formFactor=y.getFormFactor();const a=await this._getMatchingInbounds(i,n,{bExcludeTileInbounds:false});if(a.length===0){e.warning(`Could not resolve ${t}`,"no matching targets were found","sap.ushell.services.ClientSideTargetResolution");throw new Error("No matching targets found")}const o=a[0];return this._resolveSingleMatchingTileIntent(o,s)};R.prototype._resolveSingleMatchingTileIntent=async function(t,o){const r=(t.inbound.resolutionResult||{}).applicationType;let l;if(this._oAdapter.resolveSystemAlias){l=(...e)=>{const t=new jQuery.Deferred;y.promisify(this._oAdapter.resolveSystemAlias.apply(this._oAdapter,e)).then(t.resolve).catch(t.reject);return t}}u.mapParameterNamesAndRemoveObjects(t);const c=await S.getServiceAsync("AppState");t=await m.mixAppStateIntoResolutionResultAndRename(t,c);delete t.intentParamsPlusAllDefaults["sap-tag"];delete t.mappedIntentParamsPlusSimpleDefaults["sap-tag"];t.mappedDefaultedParamNames=t.mappedDefaultedParamNames.filter(e=>e!=="sap-tag");const d=n.get("inbound.resolutionResult.url",t);let p;if(i[r]){p=i[r].generateResolutionResult}else{p=()=>this._constructFallbackResolutionResult(t,o)}const f=await p(t,d,l);y.shallowMergeObject(t.resolutionResult,f);const g=s({},t.inbound.tileResolutionResult);g.startupParameters=t.effectiveParameters;const h=a.getNavigationMode(f,(t.intentParamsPlusAllDefaults["sap-ushell-navmode"]||[])[0],(t.intentParamsPlusAllDefaults["sap-ushell-next-navmode"]||[])[0]);y.shallowMergeObject(g,h);e.debug("Tile Intent was resolved to the following target",JSON.stringify(g,null,3),"sap.ushell.services.ClientSideTargetResolution");return g};R.prototype._constructFallbackResolutionResult=async function(t,n){const i={};Object.keys(t.intentParamsPlusAllDefaults).forEach(e=>{if(Array.isArray(t.intentParamsPlusAllDefaults[e])){i[e]=t.intentParamsPlusAllDefaults[e]}});const a=t.mappedDefaultedParamNames||t.defaultedParamNames;if(a.length>0){i["sap-ushell-defaultedParameterNames"]=[JSON.stringify(a)]}e.warning("Cannot resolve hash fragment client side",`${n} has matched an inbound that cannot be resolved client side. Using fallback logic`,"sap.ushell.services.ClientSideTargetResolution");const o=await this._resolveHashFragmentWithFallback(n,s({},t.inbound),i);const r={};["applicationType","additionalInformation","url","applicationDependencies","text"].forEach(e=>{if(o.hasOwnProperty(e)){r[e]=o[e]}});return r};R.prototype.getDistinctSemanticObjects=async function(){const e={};const t=await this._oInboundProvider.getInbounds();t.getAllInbounds().forEach(t=>{if(typeof t.semanticObject==="string"&&t.semanticObject!=="*"&&!t.hideIntentLink&&t.semanticObject.length>0){e[t.semanticObject]=true}});return Object.keys(e).sort()};R.prototype.getLinks=async function(n){let i;if(arguments.length===1&&t(arguments[0])){const e=arguments[0];i=s({},e);["action","semanticObject"].forEach(t=>{if(e.hasOwnProperty(t)){i[t]=e[t]}});if(i.appStateKey){i.params=i.params||{};i.params["sap-xapp-state"]=[i.appStateKey];delete i.appStateKey}}else if(arguments.length<=3){e.warning("Passing positional arguments to getLinks is deprecated","Please use nominal arguments instead","sap.ushell.services.ClientSideTargetResolution");const t=arguments[0];const n=arguments[1];const s=arguments[2];i={semanticObject:t,params:n,ignoreFormFactor:s}}else{throw new Error("Invalid arguments for getLinks")}const a=await this._oInboundProvider.getInbounds();const o=await this._getLinks(i,a);return o};R.prototype._validateGetSemanticObjectLinksArgs=function(t){const n=t.semanticObject;const s=t.action;const i=!t.hasOwnProperty("action");if(typeof n!=="undefined"||i){if(typeof n!=="string"){e.error("invalid input for _getLinks",`the semantic object must be a string, got ${Object.prototype.toString.call(n)} instead`,"sap.ushell.services.ClientSideTargetResolution");return"invalid semantic object"}if(i&&n.match(/^\s+$/)){e.error("invalid input for _getLinks",`the semantic object must be a non-empty string, got '${n}' instead`,"sap.ushell.services.ClientSideTargetResolution");return"invalid semantic object"}if(!i&&n.length===0){e.error("invalid input for _getLinks",`the semantic object must not be an empty string, got '${n}' instead`,"sap.ushell.services.ClientSideTargetResolution");return"invalid semantic object"}}if(typeof s!=="undefined"){if(typeof s!=="string"){e.error("invalid input for _getLinks",`the action must be a string, got ${Object.prototype.toString.call(s)} instead`,"sap.ushell.services.ClientSideTargetResolution");return"invalid action"}if(s.length===0){e.error("invalid input for _getLinks",`the action must not be an empty string, got '${s}' instead`,"sap.ushell.services.ClientSideTargetResolution");return"invalid action"}}return undefined};R.prototype._getLinks=async function(t,s){const i=t.semanticObject;const a=t.action;const o=t.params;const r=!!t.withAtLeastOneUsedParam;const l=!!t.treatTechHintAsFilter;const u=t.ignoreFormFactor;const c=t.hasOwnProperty("sortResultsBy")?t.sortResultsBy:"intent";if(t.hasOwnProperty("sortResultOnTexts")){e.warning("the parameter 'sortResultOnTexts' was experimental and is no longer supported",`getLinks results will be sorted by '${c}'`,"sap.ushell.services.ClientSideTargetResolution")}const d={bExcludeTileInbounds:true};const p=this._validateGetSemanticObjectLinksArgs(t);if(t.tags){d.tags=t.tags}if(p){throw new Error(p)}if(i==="*"){return[]}function f(e){const t=v.paramsToString(e);return t?`?${t}`:""}const h=y.getFormFactor();const m=v.parseParameters(f(o));const b={semanticObject:i===""?undefined:i,action:a,formFactor:u?undefined:h,params:m};if(l){b.treatTechHintAsFilter=true}const S=await this._getMatchingInbounds(b,s,d);const R={};const w=S.map(e=>{const s=i||e.inbound.semanticObject;const a=`#${s}-${e.inbound.action}`;let o;if(s==="*"){return undefined}if(e.inbound.action==="*"){return undefined}if(e.inbound&&e.inbound.hasOwnProperty("hideIntentLink")&&e.inbound.hideIntentLink===true){return undefined}if(!R.hasOwnProperty(a)){R[a]={matchingInbound:e.inbound,count:1};if(e.inbound.signature.additionalParameters==="ignored"){o=g.filterObjectKeys(m,t=>t.indexOf("sap-")===0||e.inbound.signature.parameters.hasOwnProperty(t),false)}else{o=m}if(r){const e=Object.keys(o).some(e=>e.indexOf("sap-")!==0);if(!e){R[a].hideReason="getLinks called with 'withAtLeastOneUsedParam = true', but the inbound had no business parameters defined.";return undefined}}const s=g.inboundSignatureMeetsParameterOptions(e.inbound.signature.parameters,t.paramsOptions||[]);if(!s){R[a].hideReason="inbound signature does not meet the requested parameter filter options";return undefined}const i={intent:a+f(o),text:e.inbound.title};if(e.inbound.icon){i.icon=e.inbound.icon}if(e.inbound.subTitle){i.subTitle=e.inbound.subTitle}if(e.inbound.shortTitle){i.shortTitle=e.inbound.shortTitle}const l=n.get("inbound.signature.parameters.sap-tag.defaultValue.value",e);if(l){i.tags=[l]}return i}R[a].count++;return undefined}).filter(e=>typeof e==="object");if(c!=="priority"){w.sort((e,t)=>e[c]<t[c]?-1:1)}if(w.length===0){e.debug("_getLinks returned no results")}else if(e.getLevel()>=e.Level.DEBUG){if(e.getLevel()>=e.Level.TRACE){const t=[];const n=[];w.forEach(e=>{const s=e.intent.split("?")[0];const i=R[s];let a="";if(i.hideReason){a=`(${i.hideReason})`}else if(i.count>1){a=`(${i.count-1} others matched)`}const o=`- ${s}${a}\n  text: ${e.text}\n  full intent: ${e.intent}`;if(i.hideReason){n.push(o)}else{t.push(o)}});e.debug("_getLinks filtered to the following unique intents:",`\n${t.join("\n")}`,"sap.ushell.services.ClientSideTargetResolution");e.debug("_getLinks would have also returned the following unique intents, but something prevented this:",n.join("\n"),"sap.ushell.services.ClientSideTargetResolution")}else{e.debug("_getLinks filtered to unique intents.",`Reporting histogram: \n - ${Object.keys(R).join("\n - ")}`,"sap.ushell.services.ClientSideTargetResolution")}}return w};R.prototype._getMatchingInbounds=async function(t,n,s){let i;let a;let r;let l;if(s){i=s.tags;r=s.bExcludeTileInbounds}if(e.getLevel()>=e.Level.DEBUG){a=++this._iLogId}p.begin(()=>{function e(e){const t=e.action||(typeof e.action==="undefined"?"<any>":"<invalid-value>");const n=e.semanticObject||(typeof e.semanticObject==="undefined"?"<any>":"<invalid-value>");return v.constructShellHash({semanticObject:n,action:t,params:e.params})}const n=e(t);return{logId:a,title:`Matching Intent '${n}' to inbounds (form factor: ${t.formFactor||"<any>"})`,moduleName:"sap.ushell.services.ClientSideTargetResolution",stages:["STAGE1: Find matching inbounds","STAGE2: Resolve references","STAGE3: Rematch with references","STAGE4: Sort matched targets"]}});function u(){p.end(()=>({logId:a}))}const c=t.semanticObject;const f=t.action;this._oShellHash=t;const g=i?n.getSegmentByTags(i):n.getSegment(c,f);if(r){l=g.filter(e=>!e.tileResolutionResult||!e.tileResolutionResult.isCustomTile)}else{l=g}let h=null;if(this._oAdapter.getContentProviderDataOriginsLookup){h=this._oAdapter.getContentProviderDataOriginsLookup.bind(this._oAdapter)}const m=await d.match(t,l,{},h,e.getLevel()>=e.Level.DEBUG);p.log(()=>({logId:a,stage:1,prefix:"",lines:Object.keys(m.noMatchReasons||{}).map(e=>`${e} ${m.noMatchReasons[e]}`)}));p.log(()=>{const e=m.matchResults.map(e=>o.formatInbound(e.inbound));return{logId:a,stage:1,prefix:e.length>0?"":"",lines:e.length>0?e:["No inbound was matched"]}});const b={};let y=false;let R=Object.keys(m.missingReferences);R.forEach(e=>{const t=Object.keys(m.missingReferences[e]);y=y||t.length>0;b[e]=t});R=R.filter(e=>{if(b[e].length>0){return true}delete b[e];return false});let w;if(y){try{R.forEach(e=>{p.log(()=>({logId:a,stage:2,line:`@ Must resolve the following references with contentProviderId = "${e}":`,prefix:"",lines:b[e]}))});const e=await S.getServiceAsync("ReferenceResolver");const t=await Promise.all(R.map(e=>this.getSystemContext(e)));const n=await Promise.all(R.map((n,s)=>e.resolveReferences(b[n],t[s])));const s={matchResults:m.matchResults,referencesToInclude:{}};R.forEach((e,t)=>{const i=n[t];s.referencesToInclude[e]=i;if(Object.keys(i).length>0){p.log(()=>({logId:a,stage:2,line:` resolved references with contentProviderId = "${e}" to the following values:`,prefix:"",lines:Object.keys(i).map(e=>`${e}: '${i[e]}'`)}))}});w=s}catch(e){p.log(()=>({logId:a,stage:2,prefix:"",line:`Failed to resolve references: ${e.message}`}));u();return[]}}else{p.log(()=>({logId:a,stage:2,prefix:"",line:"No need to resolve references"}));w={matchResults:m.matchResults,referencesToInclude:null}}let I;if(w.referencesToInclude){const e=w.matchResults;const n=e.map(e=>e.inbound);I=await d.match(t,n,w.referencesToInclude,h,0);p.log(()=>{const e=I.matchResults||[];if(e.length>=1){return{logId:a,stage:3,line:"The following inbounds re-matched:",lines:e.map(e=>o.formatInbound(e.inbound)),prefix:""}}return{logId:a,stage:3,line:"No inbounds re-matched",prefix:"-"}})}else{p.log(()=>({logId:a,stage:3,line:"rematch was skipped (no references to resolve)",prefix:""}));I=w}const P=I.matchResults||[];if(P.length<=1){p.log(()=>({logId:a,stage:4,line:"Nothing to sort"}));u();return P}const T=d.sortMatchingResultsDeterministic(I.matchResults||[]);p.log(()=>{const e=T.map(e=>`${o.formatInbound(e.inbound||{})+(e.matchesVirtualInbound?" (virtual)":"")}\n[ Sort Criteria ] `+`\n * 1 * sap-priority: '${e["sap-priority"]}'`+`\n * 2 * Sort string: '${e.priorityString}\n * 3 * Deterministic blob: '${d.serializeMatchingResult(e)}'`);return{logId:a,stage:4,line:"Sorted inbounds as follows:",lines:e,prefix:".",number:true}});u();return T};R.prototype._isIntentSupportedOne=async function(e,t){const n=v.parseShellHash(e);if(e==="#"){return true}if(n===undefined){throw new Error(`Could not parse shell hash '${e}'`)}n.formFactor=y.getFormFactor();const s=await this._getMatchingInbounds(n,t,{bExcludeTileInbounds:true});return s.length>0};R.prototype.isIntentSupported=async function(e){const t=await this._oInboundProvider.getInbounds();const n=await this._isIntentSupported(e,t);return n};R.prototype._isIntentSupported=async function(e,t){const n={};await Promise.all(e.map(async e=>{const s=await this._isIntentSupportedOne(e,t);n[e]={supported:s}}));return n};R.prototype.getUserDefaultParameterNames=async function(e){const t=await this._oInboundProvider.getInbounds();const n=await this._getUserDefaultParameterNames(t.getAllInbounds(),e);return n};R.prototype._getUserDefaultParameterNames=function(e,t){const n={simple:{},extended:{}};e=e.filter(e=>{if(e.contentProviderId===undefined&&t.id===""){return true}return e.contentProviderId===t.id});return S.getServiceAsync("ReferenceResolver").then(t=>{e.forEach(e=>{const s=e.signature&&e.signature.parameters||[];Object.keys(s).forEach(e=>{const i=s[e];let a;if(i){if(i.filter&&i.filter.format==="reference"){a=i.filter.value}else if(i.defaultValue&&i.defaultValue.format==="reference"){a=i.defaultValue.value}if(typeof a==="string"){const e=t.extractUserDefaultReferenceName(a);if(typeof e==="string"){n.simple[e]={}}const s=t.extractExtendedUserDefaultReferenceName(a);if(typeof s==="string"){n.extended[s]={}}}}})});return n})};R.prototype.getEasyAccessSystems=function(e){e=e||"sapMenu";if(!this._oHaveEasyAccessSystemsDeferreds[e]){this._oHaveEasyAccessSystemsDeferreds[e]=this._getEasyAccessSystems(e)}return this._oHaveEasyAccessSystemsDeferreds[e]};R.prototype._getEasyAccessSystems=async function(s){const a={};const r=i.getEasyAccessMenuDefinitions().reduce((e,t)=>{const n=t.easyAccessMenu.intent.split("-")[1];e[n]={appType:t.type,priority:t.easyAccessMenu.systemSelectionPriority};return e},{});let l;switch(s){case"userMenu":l=i.getEasyAccessMenuDefinitions().reduce((e,t)=>{const n=t.easyAccessMenu.intent;e[n]=t.easyAccessMenu.showSystemSelectionInUserMenu;return e},{});break;case"sapMenu":l=i.getEasyAccessMenuDefinitions().reduce((e,t)=>{const n=t.easyAccessMenu.intent;e[n]=t.easyAccessMenu.showSystemSelectionInSapMenu;return e},{});break;default:throw new Error(`Invalid menu type: '${s}'`)}const u=await this._oInboundProvider.getInbounds();const c={};const d=y.getFormFactor();u.getAllInbounds().filter(e=>{if(!e){return false}const t=[e.semanticObject,e.action].join("-");return l[t]&&e.deviceTypes&&d!==undefined&&e.deviceTypes[d]}).forEach(s=>{let i;if(t(s.signature.parameters["sap-system"])&&s.signature.parameters["sap-system"].hasOwnProperty("filter")){i=n.get("signature.parameters.sap-system.filter.value",s)}if(typeof i==="string"){const e=r[s.action].priority;const t=r[s.action].appType;if(!a[i]){c[i]=-1;a[i]={appType:{}}}if(c[i]<e){a[i].text=s.title;c[i]=e}a[i].appType[t]=true}else{e.warning(`Cannot extract sap-system from easy access menu inbound: ${o.formatInbound(s)}`,`This parameter is supposed to be a string. Got '${i}' instead.`,"sap.ushell.services.ClientSideTargetResolution")}});return a};R.prototype.getSystemContext=async function(e){const t=e===undefined?"":e;const n=await y.promisify(this._oAdapter.resolveSystemAlias(t));const s=f.createSystemContextFromSystemAlias(n);return s};R.hasNoAdapter=false;return R},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ClientSideTargetResolution/Formatter", [],()=>{"use strict";function e(e){const n=e||{};const t=n.parameters||{};const r={optional:"[FORMAT]",required:"FORMAT"};const o={regexp:"/VALUE/",reference:"@VALUE@",value:"VALUE",plain:"VALUE",_unknown:"?VALUE?"};const a={allowed:"<+>",notallowed:"<->",ignored:"<o>",_unknown:"<?>"};const u=t&&Object.prototype.toString.apply(t)==="[object Object]"&&Object.keys(t).length>0;if(!u){return`<no params>${a[n.additionalParameters]||a._unknown}`}const s=[];Object.keys(t).forEach(e=>{const n=t[e];const a=n.required?"required":"optional";const u=n.filter&&n.filter.value;const c=n.defaultValue&&n.defaultValue.value;const i=n.filter&&n.filter.format||"plain";const l=n.defaultValue&&n.defaultValue.format||"plain";const f=[];const p=o[i]||o._unknown;const d=o[l]||o._unknown;if(u){f.push(r.required.replace("FORMAT",p.replace("VALUE",u)))}if(c){f.push(r.optional.replace("FORMAT",d.replace("VALUE",c)))}s.push(r[a].replace("FORMAT",`${e}:${f.join("")}`))});return s.join(",")+(a[n.additionalParameters]||a._unknown)}function n(n){return`#${n.semanticObject}-${n.action}{${e(n.signature)}}`}function t(e){function n(e){const n=[{re:new RegExp(/^[/](.+)[/]$/),format:"regexp"},{re:new RegExp(/^[@](.+)[@]$/),format:"reference"},{re:new RegExp(/^[?](.+)[?]$/),format:"???"}].reduce((n,t)=>{const r=e.match(t.re);if(n){return n}if(!r){return null}return{format:t.format,value:r[1]}},null);if(n){return n}return{value:e}}function t(e){let t;let r;let o;const a="<no params>";const u="[^\\]\\[]";const s=`(${u}+?):(${u}*)(.*)`;const c=`\\[${s}\\]`;const i=`${a}|${c}|${s}`;const l=new RegExp(`^${i}$`);const f={success:false,name:null,value:{}};const p=e.match(l);if(!p){return f}const d=p.shift();while(p.length>0){o=p.shift();r=p.shift();t=p.shift();if(o){f.name=o;if(r){f.value.filter=n(r)}if(t){f.value.defaultValue=n(t.replace(/\[(.+)\]/,"$1"))}f.value.required=d.charAt(0)!=="["}}f.success=true;return f}function r(e){return[{"<+>":"allowed"},{"<->":"notallowed"},{"<o>":"ignored"}].reduce((n,t,r,o)=>{if(n){return n}const a=Object.keys(t)[0];if(e===a){return t[a]}return null},null)}function o(e){const n=[];e.split(":").reduce((e,t,r,o)=>{let a;let u;let s;if(r===0){return t}if(r<o.length-1){s=t.split(",");if(s.length>1){u=s.pop();a=s.join(",")}else{return`${e}:${t}`}}else{a=t}n.push([e,a].join(":"));return u},"");return n}const a={parameters:{}};const u=e.substr(e.length-3,3);const s=!!u.match(/<[?o+-]>/);let c=e;if(s){c=e.substr(0,e.length-3)}const i=o(c);i.forEach(n=>{const r=t(n);if(!r.success){throw new Error(`Cannot parse parameters from ${e}`)}if(r.name){a.parameters[r.name]=r.value}});if(s){const e=r(u);if(e){a.additionalParameters=r(u)}}else{a.additionalParameters="ignored"}return a}function r(e){const n=e.match(/^#(.+?)-(.+?)({(.+)})?$/);if(!n){throw new Error("Cannot parse inbound")}const r={semanticObject:n[1],action:n[2],signature:{parameters:{}}};if(!n[3]){return r}r.signature=t(n[4]);return r}return{formatInboundSignature:e,parseInboundSignature:t,parseInbound:r,formatInbound:n}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ClientSideTargetResolution/InboundIndex", ["sap/base/util/ObjectPath","sap/base/Log"],(e,n)=>{"use strict";function t(){return this.index.all}function i(e){if(e==="*"||e===undefined){return this.index.all}return(this.index.segment[e]||[]).concat(this.index.always)}function a(e){return e.map(function(e){return this.index.tag[e]||[]},this).reduce((e,n)=>{Array.prototype.push.apply(e,n.filter(e=>e.isAlreadyInUnion?false:e.isAlreadyInUnion=true));return e},[]).map(e=>{delete e.isAlreadyInUnion;return e})}const r={getSegment:i,getAllInbounds:t,getSegmentByTags:a};function s(n,t){const i=e.get("signature.parameters.sap-tag.defaultValue.value",n);if(!i){return}if(!t.tag[i]){t.tag[i]=[]}t.tag[i].push(n)}function u(e,n){const t=e.semanticObject;if(t==="*"){n.always.push(e)}else{if(!n.segment[t]){n.segment[t]=[]}n.segment[t].push(e)}}function d(e){const t={all:e,segment:{},always:[],tag:{}};e.forEach((e,i)=>{if(!e){n.warning("Void inbound provided to indexer","the inbound will be skipped");return}s(e,t);u(e,t)});r.index=t;return r}return{createIndex:d,private:{tagInbound:s,createIndex:d,segmentInbound:u}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ClientSideTargetResolution/InboundProvider", ["sap/ushell/services/ClientSideTargetResolution/VirtualInbounds","sap/ushell/services/ClientSideTargetResolution/InboundIndex","sap/ushell/utils"],(n,e,t)=>{"use strict";function i(){this._init.apply(this,arguments)}i.prototype._init=function(n){this._fnRetrieveInbounds=n;this._oInboundsRetrievalPromise=null};i.prototype.getInbounds=function(n){if(n){return this._getSomeInbounds(n)}return this._getAllInbounds()};i.prototype._getSomeInbounds=async function(i){const s=await t.promisify(this._fnRetrieveInbounds(i));return e.createIndex(s.concat(n.getInbounds()))};i.prototype._getAllInbounds=function(){if(!this._oInboundsRetrievalPromise){this._oInboundsRetrievalPromise=t.promisify(this._fnRetrieveInbounds()).then(t=>e.createIndex((t||[]).concat(n.getInbounds())))}return this._oInboundsRetrievalPromise};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ClientSideTargetResolution/ParameterMapping", ["sap/base/Log"],e=>{"use strict";function a(e,a,r){if(!r||!Array.isArray(r)){return e}if(a&&a.parameters&&a.parameters[e]&&a.parameters[e].renameTo){return a.parameters[e].renameTo}return e}function r(r){const t={};const s=r.intentParamsPlusAllDefaults;Object.keys(s).sort().forEach(n=>{const i=a(n,r.inbound.signature,s[n]);if(Array.isArray(r.intentParamsPlusAllDefaults[n])){if(t[i]){e.error(`collision of values during parameter mapping : "${n}" -> "${i}"`)}else{t[i]=r.intentParamsPlusAllDefaults[n]}}});r.mappedIntentParamsPlusSimpleDefaults=t}return{mapParameterNamesAndRemoveObjects:r,getRenameParameterName:a}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ClientSideTargetResolution/PrelaunchOperations", ["sap/base/Log","sap/base/util/deepExtend","sap/fe/navigation/SelectionVariant","sap/ushell/utils","sap/ushell/Container"],(e,t,r,a,n)=>{"use strict";const i="sap.ushell.services.ClientSideTargetResolution.PrelaunchOperations";async function s(e){if(!e){return null}return n.getServiceAsync("AppState").then(t=>new Promise((r,a)=>{t.getAppState(e).done(e=>{r(e)}).fail(e=>{a(e)})}))}async function o(e,t,r,i,s){if(e.startupParametersModified){t.mappedIntentParamsPlusSimpleDefaults=i}if(e.defaultedParameterNamesModified){t.mappedDefaultedParamNames=s}if(e.selectionVariantModified){const e=await n.getServiceAsync("AppState");const i=e.createEmptyAppState(undefined,true);i.setData({selectionVariant:r.toJSONObject()});await a.promisify(i.save());t.mappedIntentParamsPlusSimpleDefaults["sap-xapp-state"]=[i.getKey()]}return Promise.resolve(t)}function l(e){const t=e.type;switch(t){case"merge":case"split":return`${t} - source: ${e.source} & target: ${e.target}`;case"delete":return`${t} - target: ${e.target}`;default:return""}}function u(e,t){if(t.getSelectOption(e)){return t.getSelectOption(e)[0].Low}return undefined}function c(e,t){if(t.getSelectOption(e)){return t.getSelectOption(e)[0].High}return undefined}function d(e,t){if(t[e]){return t[e][0]}return undefined}function p(e,t,r){const a=e.source[0];const n=e.source[1];const i=u(a,t);const s=u(n,t);const o=d(a,r);const l=d(n,r);let c;let p;const f=e.target;function m(e,t){if(t===undefined||e===t){return e}return undefined}if(i&&s){c=m(i,o);p=m(s,l)}else if(o&&l){c=m(o,i);p=m(l,s)}if(c&&p&&!t.getSelectOption(f)&&!r.hasOwnProperty(f)){t.addSelectOption(f,"I","BT",c,p);return{selectionVariantModified:true,startupParametersModified:false,defaultedParameterNamesModified:false}}return{}}function f(t,r,a){const n=t.target;const i=t.source;if(!r.getSelectOption(i)){e.error(`Invalid split operation: ${i} does not exist in selection variant`);return false}if(r.getSelectOption(n[0])){e.error(`Invalid split operation: ${n[0]} already exists in selection variant`);return false}if(r.getSelectOption(n[1])){e.error(`Invalid split operation: ${n[1]} already exists in selection variant`);return false}if(a[n[0]]){e.error(`Invalid split operation: ${n[0]} already exists in startup parameters`);return false}if(a[n[1]]){e.error(`Invalid split operation: ${n[1]} already exists in startup parameters`);return false}return true}function m(e,t,r){const a=e.target;const n=e.source;const i=f(e,t,r);if(i){const e=u(n,t);const i=c(n,t);t.addSelectOption(a[0],"I","EQ",e,null);r[a[0]]=[e];t.addSelectOption(a[1],"I","EQ",i||e,null);r[a[1]]=[i||e];return{selectionVariantModified:true,startupParametersModified:true,defaultedParameterNamesModified:false}}return{}}function g(t,r,a,n){const i=t.target;const s={selectionVariantModified:false,startupParametersModified:false,defaultedParameterNamesModified:false};for(let t=0;t<i.length;t++){const o=i[t];if(o==="sap-xapp-state"){e.warning("Cannot execute delete: 'sap-xapp-state' is not allowed to be deleted");continue}if(r.getParameter(o)){r.removeParameter(o);s.selectionVariantModified=true}if(r.getSelectOption(o)){r.removeSelectOption(o);s.selectionVariantModified=true}if(a[o]){delete a[o];s.startupParametersModified=true}const l=n.indexOf(o);if(l>-1){n.splice(l,1);s.defaultedParameterNamesModified=true}}return s}function y(t){let r;if(t===""){return[]}t=t.replaceAll("",'"');t=t.replaceAll("",'"');try{r=JSON.parse(t)}catch(t){e.error("Cannot parse operation array: sap-prelaunch-operations should be in json format.",t);return[]}if(!Array.isArray(r)){e.error("Invalid operation array: sap-prelaunch-operations should be an array.");return[]}return r}function P(t){if(t.length===0){return null}const r={split:true,merge:true,delete:true};const a=t.filter(e=>!r[e.type]);if(a.length>0){e.error(`Invalid operation: the following sap-prelaunch-operations are invalid: ${a.join(", ")}`);return null}const n=t.some(e=>e.type==="split"&&e.target[0]===e.target[1]);if(n){e.error("Invalid operation: split operation contains the same target value. Use two different target values instead.");return null}const i=t.some(e=>{if(e.type==="split"){return!e.hasOwnProperty("source")||!e.hasOwnProperty("target")||typeof e.source!=="string"||!Array.isArray(e.target)||Object.keys(e).length!==3||Object.keys(e.target).length!==2}if(e.type==="merge"){return!e.hasOwnProperty("source")||!e.hasOwnProperty("target")||typeof e.target!=="string"||!Array.isArray(e.source)||Object.keys(e).length!==3||Object.keys(e.source).length!==2}if(e.type==="delete"){return!e.hasOwnProperty("target")||!Array.isArray(e.target)||Object.keys(e).length!==2}});if(i){e.error("Invalid operation: one or more operations are specified in an incorrect format.");return null}return t}function h(e){const t=y(e);return P(t)}function O(t,r,a,n){const s=e.getLevel()>=e.Level.DEBUG?[]:null;const o={selectionVariantModified:false,startupParametersModified:false};r.forEach(r=>{let i={};switch(r.type){case"split":i=m(r,t,a);break;case"merge":i=p(r,t,a);break;case"delete":i=g(r,t,a,n);break;default:e.error(`Invalid operation: ${r.type} prelaunch operation type is not supported`)}if(s){const e=Object.keys(i).length!==0?"":"";s.push(`${e} ${l(r)}`)}if(Object.keys(i).length===0){e.warning(`Cannot execute ${l(r)}`)}o.selectionVariantModified=o.selectionVariantModified||i.selectionVariantModified;o.startupParametersModified=o.startupParametersModified||i.startupParametersModified;o.defaultedParameterNamesModified=o.defaultedParameterNamesModified||i.defaultedParameterNamesModified});if(s){e.debug(`${i}\n${s.join("\n")}`)}return o}function v(e,a){if(!a){return Promise.resolve(e)}const n=e.mappedIntentParamsPlusSimpleDefaults;const i=e.mappedDefaultedParamNames;const l=n["sap-xapp-state"]&&n["sap-xapp-state"][0];const u=h(a);if(!u||u.length===0){return Promise.resolve(e)}return s(l).then(a=>{const s=a?a.getData():{};const l=t({},n);const c=t([],i);let d;if(s.selectionVariant){d=new r(JSON.stringify(s.selectionVariant))}else{d=new r}const p=O(d,u,l,c);return o(p,e,d,l,c)})}return{executePrelaunchOperations:v,parseAndValidateOperations:h}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ClientSideTargetResolution/Search", ["sap/ushell/utils","sap/ushell/services/ClientSideTargetResolution/Utils","sap/ushell/services/ClientSideTargetResolution/VirtualInbounds","sap/ushell/services/ClientSideTargetResolution/Formatter","sap/ushell/TechnicalParameters","sap/base/Log"],(e,t,n,r,a,i)=>{"use strict";const s=[undefined,"GUI","WDA","UI5"];function o(e,t){const n=e.inbound.resolutionResult;if(!n){return""}return["applicationType","ui5ComponentName","url","additionalInformation","text"].map(e=>{if(t){return n.hasOwnProperty(e)?`${e}:${n[e]}`:""}return n.hasOwnProperty(e)?n[e]:""}).join("")}function u(e){return e.sort((e,t)=>{if((e["sap-priority"]||0)-(t["sap-priority"]||0)!==0){return-((e["sap-priority"]||0)-(t["sap-priority"]||0))}if(e.priorityString<t.priorityString){return 1}if(e.priorityString>t.priorityString){return-1}const n=o(e);const r=o(t);if(n<r){return 1}else if(n>r){return-1}return 0})}function l(e,t){let n;if(e&&e["sap-priority"]&&e["sap-priority"][0]){n=parseInt(e["sap-priority"][0],10);if(!isNaN(n)){t["sap-priority"]=n}}return}function c(e,t,n,r){if(!t){return true}if(!e&&e!==""){return false}const a=t.value;if(t.format==="reference"){if(/UserDefault\.extended\./.test(a)){i.error(`Illegal inbound: extended user default '${a}' used as filter`);return false}if(n.hasOwnProperty(a)){return e===n[a]}r[a]=true;return true}if(t.format==="value"||t.format==="plain"||t.format===undefined){return e===t.value}else if(t.format==="regexp"){return!!e.match(`^${t.value}$`)}i.error("Illegal oFilter format");return false}function f(e){return e.inbound&&e.inbound.resolutionResult&&e.inbound.resolutionResult["sap.ui"]&&e.inbound.resolutionResult["sap.ui"].technology}function d(e){return e.inbound&&e.inbound.resolutionResult&&e.inbound.resolutionResult.appId}function p(e,t,n,r,a){const i={};const s={};Object.keys(e).forEach(t=>{if(t!=="sap-ushell-defaultedParameterNames"){i[t]=e[t]}});if(!t){return i}Object.keys(t).forEach(e=>{const a=t[e];let o;let u=false;if(!i[e]&&a.hasOwnProperty("defaultValue")){if(a.defaultValue.format&&a.defaultValue.format==="reference"){o=a.defaultValue.value;if(n.hasOwnProperty(o)){if(typeof n[o]==="string"){i[e]=[n[o]];u=true}else if(typeof n[o]==="object"){i[e]=n[o];u=true}}else{i[e]=[a.defaultValue];r.push(a.defaultValue.value)}}else{i[e]=[a.defaultValue.value];u=true}if(u){s[e]=true}}});Object.keys(s).sort().forEach(e=>{a.push(e)});return i}function m(e,t){e.resolutionResult={contentProviderId:t.contentProviderId};if(t&&t.resolutionResult&&t.resolutionResult.hasOwnProperty("sap.platform.runtime")){e.resolutionResult["sap.platform.runtime"]=t.resolutionResult["sap.platform.runtime"]}Object.keys(e.intentParamsPlusAllDefaults).slice(0).forEach(t=>{if(!Array.isArray(e.intentParamsPlusAllDefaults[t])){if(!e.resolutionResult.oNewAppStateMembers){e.resolutionResult.oNewAppStateMembers={}}e.resolutionResult.oNewAppStateMembers[t]=e.intentParamsPlusAllDefaults[t]}})}function h(e,t){e.forEach(e=>{t[e]=true})}function P(e){const t=e.intentParamsPlusAllDefaults["sap-ui-tech-hint"]&&e.intentParamsPlusAllDefaults["sap-ui-tech-hint"][0];const n=e.defaultedParamNames&&e.defaultedParamNames.indexOf("sap-ui-tech-hint")>=0;if(t&&f(e)===t){return n?1:2}return 0}function g(e){const t=e.intentParamsPlusAllDefaults["sap-ui-app-id-hint"]&&e.intentParamsPlusAllDefaults["sap-ui-app-id-hint"][0];if(t&&t===d(e)){return 1}return 0}function y(e){const t=f(e);const n=s.indexOf(t);return Math.max(0,n)}function b(e,t){function n(e){const t=`000${e}`;return t.substr(t.length-3)}return[`AIDM=${g(e)}`,`CURCP=${t.isCurrentContentProvider?"1":"0"}`,e.genericSO?"g":"x",`TECM=${P(e)}`,`MTCH=${n(t.countMatchingParams)}`,`MREQ=${n(t.countMatchingRequiredParams)}`,`NFIL=${n(t.countMatchingFilterParams)}`,`NDEF=${n(t.countDefaultedParams)}`,`POT=${n(t.countPotentiallyMatchingParams)}`,`RFRE=${n(999-t.countFreeInboundParams)}`,`TECP=${y(e)}`].join(" ")}function R(e,t){let n=false;if(e.signature.additionalParameters==="allowed"||e.signature.additionalParameters==="ignored"){return true}if(e.signature.additionalParameters==="notallowed"||e.signature.additionalParameters===undefined){n=Object.keys(t).every(t=>!(!e.signature.parameters[t]&&t.indexOf("sap-")!==0))}else{i.error("Unexpected value of inbound for signature.additionalParameters")}return n}function O(e,t,n,r,i){const s=e.signature.parameters;let o=0;let u=0;let l=0;let c=0;let f=false;const d={};function p(e){return!a.isTechnicalParameter(e)}const m=Object.keys(n).filter(p);const h=r.filter(p);Object.keys(s).filter(p).forEach(e=>{const r=t[e];const a=r&&r[0];const i=s[e];const f=n.hasOwnProperty(e);if(f){++o;if(i.filter){++l}if(i.required){++u}}else if(a===null||a===undefined){++c}});if(i){d.countPotentiallyMatchingParams=m.filter(e=>s.hasOwnProperty(e)).length}else{d.countPotentiallyMatchingParams=m.length}if(n&&n["sap-app-origin-hint"]&&(n["sap-app-origin-hint"][0]||n["sap-app-origin-hint"][0]==="")){const t=n["sap-app-origin-hint"][0];f=t===e.contentProviderId}d.countDefaultedParams=h.length;d.countMatchingParams=o;d.countMatchingRequiredParams=u;d.countMatchingFilterParams=l;d.countFreeInboundParams=c;d.isCurrentContentProvider=f;return d}function I(e,t,n,r,a,i){const s=Object.keys(e).every(n=>{const r=t[n];const s=r&&r[0];const o=e[n];if(o.required&&(s===null||s===undefined)){return false}if(o.filter){if(!c(s,o.filter,a,i)){return false}}return true});return s}function $(e,a,i,s,o){const u={inbound:a};function c(e,t,n){e.matches=false;e.noMatchReason=t;e.noMatchDebug=n;return e}function d(t){t.matches=true;t.matchesVirtualInbound=n.isVirtualInbound(a);t.parsedIntent=e;return t}const P=a.semanticObject==="*";u.genericSO=P;const g=e.semanticObject===undefined||e.semanticObject===a.semanticObject||P;if(!g){return c(u,`Semantic object "${e.semanticObject}" did not match`)}const y=e.action===undefined||e.action===a.action;if(!y){return c(u,`Action "${e.action}" did not match`)}const $=!a.deviceTypes||e.formFactor===undefined||a.deviceTypes[e.formFactor];if(!$){return c(u,`Form factor "${e.formFactor}" did not match`,`Inbound: [${Object.keys(a.deviceTypes).filter(e=>!!a.deviceTypes[e]).join(", ")}]`)}const M=e.params&&e.params["sap-ui-tech-hint"]&&e.params["sap-ui-tech-hint"][0];if(e.treatTechHintAsFilter&&M){const e=f({inbound:a});if(e!==M){return c(u,`Tech Hint as filter "${M}" did not match`,`Inbound: [${e}]`)}}const v=[];const D=[];const j=e.params||{};const A=p(j,a.signature&&a.signature.parameters,i,v,D);const w=A["sap-system"]&&A["sap-system"][0];const S=A["sap-app-origin"]&&A["sap-app-origin"][0];const T=a.contentProviderId;if(S&&S!==T){return c(u,`Content provider as filter "${S}" did not match`,`Inbound: [${T}]`)}if(w&&typeof T==="string"&&o&&!o[w]){return c(u,`Data origin "${w}" is not compatible with the content provider "${T}"`,`Inbound: [${Object.keys(o).join(", ")}]`)}u.intentParamsPlusAllDefaults=A;u.defaultedParamNames=D;l(A,u);const F=I(a.signature.parameters,A,j,D,i,s);if(!F){return c(u,"Inbound parameter signature did not match",r.formatInboundSignature(a.signature))}const C=t.constructParameterDominatorMap(a.signature.parameters);const N=t.findDominatedDefaultParameters(A,D,C);const x=D.filter(e=>!N[e]);const E=t.filterObjectKeys(A,e=>!N[e]);if(!R(a,E)){return c(u,"Additional parameters not allowed",r.formatInboundSignature(a.signature))}const k=a.signature.additionalParameters==="ignored";if(k){t.filterObjectKeys(E,e=>{if(e.indexOf("sap-")===0){return true}if(a.signature.parameters.hasOwnProperty(e)){return true}return false},true)}const V=O(a,A,j,D,k);m(u,a);u.intentParamsPlusAllDefaults=E;u.defaultedParamNames=x;u.priorityString=b(u,V);h(v,s);return d(u)}async function M(t,n,a,i,s){function o(e,t,n){const a=r.formatInbound(n);e[a]=t.noMatchReason+(t.noMatchDebug?`| DEBUG: ${t.noMatchDebug}`:"")}let u;if(i){u=await e.promisify(i())}const l=n.reduce((e,n)=>{const r=n.contentProviderId||"";const i=a[r]||{};if(!e.missingReferences[r]){e.missingReferences[r]={}}const l=$(t,n,i,e.missingReferences[r],u?u[r]:null);if(l.matches){e.matchResults.push(l)}else if(s){o(e.noMatchReasons,l,n)}return e},{matchResults:[],noMatchReasons:{},missingReferences:{}});return l}return{match:M,matchOne:$,sortMatchingResultsDeterministic:u,matchesFilter:c,checkAdditionalParameters:R,addDefaultParameterValues:p,extractSapPriority:l,serializeMatchingResult:o}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ClientSideTargetResolution/StagedLogger", ["sap/base/Log"],e=>{"use strict";const n={};function o(e){const o=e();if(!o.hasOwnProperty("logId")){throw new Error("'logId' argument was not provided in #begin method of StagedLogger.")}const t=o.logId;if(n[t]){throw new Error(`'cannot call #begin twice with same log id: '${t}'`)}else{n[t]={}}const l=n[t];l.title=o.title||null;l.moduleName=o.moduleName||null;function r(e,n){if(n===1){return e}return r(e,n-1)+e}l.stages=o.stages.map(e=>[e,r("-",e.length)]);return t}function t(e){let o;let t;const l=e();if(!l.hasOwnProperty("logId")){throw new Error("'logId' argument was not provided in #log method of StagedLogger.")}const r=l.logId;const g=l.stage;t=l.prefix;const i=l.lines;o=l.line;const s=l.number;if(!i&&o&&t){o=`${t} ${o}`}const a=n[r].stages[g-1];if(o){a.push(o)}if(i){if(t){t=(o?" ":"")+t}const e=i.map((e,n)=>(s?n+1:"")+(t?`${t} `:"")+e);a.push.apply(a,e)}}function l(o){const t=o();if(!t.hasOwnProperty("logId")){throw new Error("'logId' argument was not provided in #log method of StagedLogger.")}const l=t.logId;const r=n[l];if(typeof r!=="object"){throw new Error("Logger .end was called on an already ended logger")}const g=r.stages.map(e=>e.join("\n")).join("\n\n");e.debug(`[REPORT #${l}] ${r.title}`,`\n${g}\n`,r.moduleName);delete n[l]}function r(){return n}return{begin:function(){if(e.getLevel()>=e.Level.DEBUG){o.apply(null,arguments)}},log:function(){if(e.getLevel()>=e.Level.DEBUG){t.apply(null,arguments)}},end:function(){if(e.getLevel()>=e.Level.DEBUG){l.apply(null,arguments)}},_getLogs:r}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ClientSideTargetResolution/SystemContext", ["sap/base/util/ObjectPath","sap/ui/thirdparty/URI"],(t,e)=>{"use strict";const r={};r._getProtocol=function(){return new e(window.location.toString()).protocol()};r.createSystemContextFromSystemAlias=function(r){return{id:r.id,label:r.label||r.id,getFullyQualifiedXhrUrl:function(i){const n=new e(i).protocol();if(n==="http"||n==="https"){return i}const o=this._getProtocol();let s="";if(o==="https"){s=t.get("https.xhr.pathPrefix",r)||""}else if(o==="http"){s=t.get("http.xhr.pathPrefix",r)||""}if(s){if(i.indexOf("dynamic_dest")>-1){return i}return e.joinPaths(s,i).query(new e(i).query()).href()}return i}.bind(this),getProperty:function(e){const i=t.get("properties",r)||{};return i[e]}}};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ClientSideTargetResolution/Utils", ["sap/base/util/deepExtend"],e=>{"use strict";function t(e,t,n){const r={};t.forEach(o=>{const c=n[o].dominatedBy;const s=c.some(n=>{const r=!!e[n];const c=n!==o;const s=t.indexOf(n)===-1;return r&&s&&c});if(s){r[o]=true}});return r}function n(e){const t={};const n={};Object.keys(e).forEach(r=>{const o=e[r].renameTo||r;n[o]=n[o]||{renameTo:o,dominatedBy:[]};n[o].dominatedBy.push(r);n[o].dominatedBy=n[o].dominatedBy.sort();t[r]=n[o]});return t}function r(t,n,r){const o=r?t:e({},t);Object.keys(o).forEach(e=>{if(n(e)===false){delete o[e]}});return o}function o(e,t){const n=Object.keys(e).reduce((n,r)=>{const o=e[r];if(t(r,o)){n[r]=o}return n},{});return n}function c(e,t){return t.every(t=>{const n=t.name;const r=t.options;const o=e[n];return Object.keys(r).every(e=>{const t=r[e];if(e==="required"){return!!(o||{}).required===t}return false})})}function s(e,t){const n={};e.forEach(e=>{if(t[e]){n[e]=t[e];delete t[e]}});return n}return{inboundSignatureMeetsParameterOptions:c,filterObjectKeys:r,filterObject:o,constructParameterDominatorMap:n,findDominatedDefaultParameters:t,extractParameters:s}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ClientSideTargetResolution/VirtualInbounds", [],()=>{"use strict";const e={};const a=[{hideIntentLink:true,semanticObject:"Action",action:"search",deviceTypes:{desktop:true,tablet:true,phone:true},signature:{parameters:{},additionalParameters:"notallowed"},resolutionResult:{applicationType:"SAPUI5",ui5ComponentName:"sap.ushell.renderer.search.searchComponent",additionalInformation:"SAPUI5.Component=sap.ushell.renderer.search.searchComponent",url:sap.ui.require.toUrl("sap/ushell/renderer/search/searchComponent"),loadCoreExt:true,loadDefaultDependencies:false}},{hideIntentLink:true,semanticObject:"FLPPageTemplate",action:"manage",deviceTypes:{desktop:true,tablet:false,phone:false},signature:{parameters:{pageTemplateId:{required:false,defaultValue:{value:""}}},additionalParameters:"ignored"},resolutionResult:{applicationType:"URL",ui5ComponentName:"nw.core.flp.pagecomposer.conf",additionalInformation:"SAPUI5.Component=nw.core.flp.pagecomposer.conf",url:"/sap/bc/ui5_ui5/sap/sui_paget_man",applicationDependencies:{manifest:"/sap/bc/lrep/content/apps/nw.core.flp.pagecomposer.conf/app/sap/sui_paget_man/manifest.appdescr",name:"nw.core.flp.pagecomposer.conf",self:{name:"nw.core.flp.pagecomposer.conf",url:"/sap/bc/ui5_ui5/sap/sui_paget_man"},asyncHints:{libs:[{name:"nw.core.flp.transport.cust",url:{final:false,url:"/sap/bc/ui5_ui5/sap/sui_tr_cust"}}]}},async:true,loadDefaultDependencies:false}}];e.isVirtualInbound=function(e){return a.some(a=>a===e)};e.getInbounds=function(){return a};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ClientSideTargetResolution/XAppStateProcessing", ["sap/ushell/services/ClientSideTargetResolution/Utils","sap/base/util/ObjectPath","sap/base/util/isEmptyObject","sap/base/util/isPlainObject","sap/fe/navigation/SelectionVariant","sap/base/Log","sap/ushell/utils"],(e,t,a,n,r,s,i)=>{"use strict";function o(e){return e.oNewAppStateMembers&&!a(e.oNewAppStateMembers)}function u(e){return e.inbound&&e.inbound.signature&&e.inbound.signature.parameters&&Object.keys(e.inbound.signature.parameters).some(t=>!!e.inbound.signature.parameters[t].renameTo)}function l(e){e.defaultedParamNames=e.defaultedParamNames.filter(t=>{if(e.intentParamsPlusAllDefaults[t]&&!Array.isArray(e.intentParamsPlusAllDefaults[t])){if(!(e.resolutionResult.oNewAppStateMembers&&e.resolutionResult.oNewAppStateMembers[t])){return false}}return true})}function m(e){const a=t.get("inbound.signature.parameters",e)||{};const n={};e.defaultedParamNames.forEach(e=>{const t=a[e]&&a[e].renameTo||e;if(n[t]){s.error(`renaming of defaultedParamNames creates duplicates${e}->${t}`)}else{n[t]=true}});e.mappedDefaultedParamNames=Object.keys(n).sort()}function c(e){l(e);m(e);delete e.resolutionResult.oNewAppStateMembers}async function p(e,t){const a=await i.promisify(e.getAppState(t));return a.getData()}function d(e){return e===undefined||n(e)}function f(e,t){return Array.isArray(e)&&e.some(e=>t.indexOf(e)!==-1)}function g(e,t){if(e&&e.selectionVariant){const a=new r(JSON.stringify(e.selectionVariant));const n=a.getSelectOptionsPropertyNames()||[];const s=a.getParameterNames()||[];if(f(n,t)||f(s,t)){return true}}return false}function P(e,t,a,n){const i=new r;const o=e.getParameterNames()||[];const u=e.getSelectOptionsPropertyNames()||[];let l;let m;o.forEach(r=>{l=e.getParameter(r);if(n&&!a[r]){t.deleted=true;return}if(a[r]&&a[r].renameTo){if(i.getParameter(a[r].renameTo)===undefined&&i.getSelectOption(a[r].renameTo)===undefined){i.addParameter(a[r].renameTo,l);t.changed=true}else{s.error(`renaming of appstate creates duplicates ${r}->${a[r].renameTo}`)}}else if(i.getParameter(r)===undefined&&i.getSelectOption(r)===undefined){i.addParameter(r,l)}});u.forEach(r=>{m=e.getSelectOption(r);if(n&&!a[r]){t.deleted=true;return}if(a[r]&&a[r].renameTo){if(i.getSelectOption(a[r].renameTo)===undefined&&i.getParameter(a[r].renameTo)===undefined){i.massAddSelectOption(a[r].renameTo,m);t.changed=true}else{s.error(`renaming of appstate creates duplicates ${r}->${a[r].renameTo}`)}}else if(i.getSelectOption(r)===undefined&&i.getParameter(r)===undefined){i.massAddSelectOption(r,m)}});o.forEach(t=>{e.removeParameter(t)});u.forEach(t=>{e.removeSelectOption(t)});i.getParameterNames().forEach(t=>{e.addParameter(t,i.getParameter(t))});i.getSelectOptionsPropertyNames().forEach(t=>{e.massAddSelectOption(t,i.getSelectOption(t))});return e}async function S(e,t){const a=e.getData()||{};let n;const s={};const u=t.inbound.signature;const l=t.resolutionResult;if(a.selectionVariant){n=new r(JSON.stringify(a.selectionVariant))}else{n=new r}if(o(l)){Object.keys(l.oNewAppStateMembers).forEach(e=>{n.massAddSelectOption(e,l.oNewAppStateMembers[e].Ranges)})}const m=u.additionalParameters==="ignored";n=P(n,s,u.parameters,m);if(n.getParameterNames().length!==0||n.getSelectOptionsPropertyNames().length!==0||s.deleted){a.selectionVariant=n.toJSONObject()}if(!s.changed&&!s.deleted&&!o(l)){c(t);return}e.setData(a);await i.promisify(e.save());t.intentParamsPlusAllDefaults["sap-xapp-state"]=[e.getKey()];t.mappedIntentParamsPlusSimpleDefaults["sap-xapp-state"]=[e.getKey()];c(t)}async function b(t,a){let n;const r=t.resolutionResult;const s=t.inbound&&(t.inbound.signature||{});const i=o(r)||s.additionalParameters==="ignored"||u(t);if(!i){c(t);return t}const l=t.intentParamsPlusAllDefaults["sap-xapp-state"]&&t.intentParamsPlusAllDefaults["sap-xapp-state"][0];if(l){const i=await p(a,l);if(d(i)){if(o(r)){const t=e.constructParameterDominatorMap(s.parameters);Object.keys(r.oNewAppStateMembers).forEach(e=>{const a=t[e].dominatedBy;if(g(i,a)){delete r.oNewAppStateMembers[e]}})}const l=s.additionalParameters==="ignored";if(!o(r)&&!u(t)&&!l){c(t);return t}n=a.createEmptyAppState(undefined,true);if(n){n.setData(i);await S(n,t);return t}}else{delete r.oNewAppStateMembers;c(t);return t}}if(o(r)){const e=a.createEmptyAppState(undefined,true);await S(e,t);return t}c(t);return t}return{mixAppStateIntoResolutionResultAndRename:b,_hasRenameTo:u}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/CommonDataModel", ["sap/ushell/services/CommonDataModel/PersonalizationProcessor","sap/ushell/services/CommonDataModel/vizTypeDefaults/VizTypeDefaults","sap/base/util/ObjectPath","sap/ui/thirdparty/jquery","sap/base/util/isPlainObject","sap/ushell/services/CommonDataModel/SiteConverter","sap/base/util/isEmptyObject","sap/base/util/deepClone","sap/base/util/deepExtend","sap/base/util/extend","sap/base/util/Version","sap/ushell/Config","sap/base/util/values","sap/ushell/library","sap/ushell/utils","sap/ushell/adapters/cdm/v3/_LaunchPage/readApplications","sap/base/Log","sap/ushell/Container"],(e,t,i,jQuery,o,s,r,n,a,l,p,c,u,h,g,d,f,y)=>{"use strict";const P=h.DisplayFormat;const _=h.ContentNodeType;const m="sap.ushell.services.CommonDataModel";function z(t,i,o,r){this._oAdapter=t;this._oPersonalizationProcessor=new e;this._oSiteConverter=new s;this._oSiteDeferred=new jQuery.Deferred;this._oOriginalSite={};this._bPersonalizationLoadingFailed=false;this._oPersonalizedSiteForCDMVersion30={};this._bLoadPersonalizationForCDMVersion30Late=false;this._oPersonalizedPages={};this._oPersonalizationDeltasForCDMVersion31={};this._mGetPagesPromises={};this._pGetSiteFromAdapter=t.getSite().then(e=>{this._oOriginalSite=a({},e);const t=new p(e._version);if(t.compareTo("3.1.0")<0){const t=g.isFlpHomeIntent();if(t){this._loadAndApplyPersonalizationForCDMVersion30(e)}else{this._bLoadPersonalizationForCDMVersion30Late=true}}else{this._prepareSiteForCDMVersion31()}return e}).fail(e=>{this._oSiteDeferred.reject(e);this._bLoadPersonalizationForCDMVersion30Late=false})}z.prototype._loadAndApplyPersonalizationForCDMVersion30=async function(e){try{const t=await this._getPersonalization(e._version);this._oPersonalizedSiteForCDMVersion30=await this._triggerMixinPersonalizationInSite(e,t);this._oSiteDeferred.resolve(this._oPersonalizedSiteForCDMVersion30)}catch(e){this._oSiteDeferred.reject(e)}};z.prototype._prepareSiteForCDMVersion31=function(){this._ensureStandardVizTypesPresent(this._oOriginalSite).then(()=>{this._ensureProperDisplayFormats(this._oOriginalSite);this._oSiteDeferred.resolve(this._oOriginalSite)})};z.prototype._applyPagePersonalization=function(e,t){const i=e.identification.id;if(Object.keys(t).length){const e=t.classicHomePage;if(e&&e.version==="3.1.0"){Object.keys(e).forEach(i=>{if(!t[i]){t[i]=e[i]}});delete t.classicHomePage;t._version=t.version}const i=new p(t._version||t.version);if(i.compareTo("3.1.0")<0){t={classicHomePage:t,_version:"3.1.0",version:"3.1.0"}}}this._oPersonalizationDeltasForCDMVersion31=t;const o=n(t[i],20)||{};const s=this._oSiteConverter.convertTo("3.0.0",n(e,20));return this._triggerMixinPersonalizationInSite(s,o).then(e=>{this._oPersonalizedPages[i]=this._oSiteConverter.convertTo("3.1.0",n(e,20));return this._oPersonalizedPages[i]})};z.prototype._migratePersonalizedPages=async function(e){if(typeof this._oAdapter.migratePersonalizedPages!=="function"){return e}const t=await this._oAdapter.migratePersonalizedPages(e);if(t.length){await this.save(t)}return e};z.prototype._triggerMixinPersonalizationInSite=async function(e,t){const i=await g.promisify(this._oPersonalizationProcessor.mixinPersonalization(e,t));this._ensureCompleteSite(i);this._ensureGroupsOrder(i);await this._ensureStandardVizTypesPresent(i);this._ensureProperDisplayFormats(i);return i};z.prototype.getHomepageGroups=function(){const e=new jQuery.Deferred;this.getSite().then(t=>{const i=t&&t.site&&t.site.payload&&t.site.payload.groupsOrder?t.site.payload.groupsOrder:[];e.resolve(i)});return e.promise()};z.prototype.getGroups=function(){const e=new jQuery.Deferred;this.getSite().then(t=>{const i=[];Object.keys(t.groups).forEach(e=>{i.push(t.groups[e])});e.resolve(i)});return e.promise()};z.prototype.getGroup=function(e){const t=new jQuery.Deferred;this.getSite().then(i=>{const o=i.groups[e];if(o){t.resolve(o)}else{t.reject(new Error(`Group ${e} not found`))}});return t.promise()};z.prototype.getSite=function(){if(this._bLoadPersonalizationForCDMVersion30Late){this.getSiteWithoutPersonalization().then(e=>this._loadAndApplyPersonalizationForCDMVersion30(e));this._bLoadPersonalizationForCDMVersion30Late=false}return this._oSiteDeferred.promise()};z.prototype.getSiteWithoutPersonalization=function(){return this._pGetSiteFromAdapter};z.prototype.getPage=async function(e){const t=c.last("/core/shell/enablePersonalization");const i=c.last("/core/spaces/myHome/enabled");const o=c.last("/core/spaces/myHome/myHomePageId");await this._pGetSiteFromAdapter;if(this._oPersonalizedPages[e]){return this._oPersonalizedPages[e]}if(t||i&&e===o){let t;let i;let o;try{t=await this._getPageFromAdapter(e);i=await this._getPersonalization(this._oOriginalSite._version)}catch(t){f.error(`CommonDataModel Service: Cannot get page ${e}`,t);throw t}try{o=await this._applyPagePersonalization(t,i)}catch(e){f.error("CommonDataModel Service: Cannot mixin the personalization",e);throw e}const s=await this._migratePersonalizedPages([o]);return s[0]}return this._getPageFromAdapter(e)};z.prototype._getPageFromAdapter=async function(e){if(!this._oAdapter.getPage){return n(this._oOriginalSite.pages[e],20)}const t=await this._oAdapter.getPage(e);const i=await this.getCachedVisualizations();const o=await this.getCachedVizTypes();this._oOriginalSite.pages[e]=t;this._oOriginalSite.visualizations=i;this._oOriginalSite.vizTypes=o;return n(t,20)};z.prototype._filterForProperPages=function(e){return e.filter(e=>!!e)};z.prototype.getPages=function(e){const t=c.last("/core/shell/enablePersonalization");const i=c.last("/core/spaces/myHome/enabled");const o=c.last("/core/spaces/myHome/myHomePageId");let s;if(this._mGetPagesPromises[e.toString()]){s=this._mGetPagesPromises[e.toString()]}else{s=Promise.resolve(this._pGetSiteFromAdapter).then(()=>{if(t||i){return Promise.all([this._getPagesFromAdapter(e),this._getPersonalization(this._oOriginalSite._version)]).catch(e=>{f.error("CommonDataModel Service: Cannot get pages",e);throw new Error("CommonDataModel Service: Cannot get pages")}).then(e=>{const i=e[0];const s=e[1];return Promise.all(Object.keys(i).map(e=>{if(this._oPersonalizedPages[e]){return Promise.resolve(this._oPersonalizedPages[e])}if(!t&&e!==o){return Promise.resolve(i[e])}return this._applyPagePersonalization(i[e],s).catch(e=>{f.error("Personalization Processor: Cannot mixin the personalization.",e);throw new Error("Personalization Processor: Cannot mixin the personalization.")})})).then(e=>this._migratePersonalizedPages(e)).then(e=>this._filterForProperPages(e))})}return this._getPagesFromAdapter(e).then(e=>this._filterForProperPages(u(e)))});this._mGetPagesPromises[e.toString()]=s}return s};z.prototype._getPagesFromAdapter=async function(e){if(!this._oAdapter.getPages){const t={};for(const i in this._oOriginalSite.pages){if(e.includes(this._oOriginalSite.pages[i].identification.id)){t[i]=this._oOriginalSite.pages[i]}}return n(t,20)}const t=await this._oAdapter.getPages(e);const i=await this.getCachedVisualizations();const o=await this.getCachedVizTypes();this._oOriginalSite.visualizations=i;this._oOriginalSite.vizTypes=o;Object.keys(t).forEach(e=>{this._oOriginalSite.pages[e]=t[e]});return n(t,20)};z.prototype.getAllPages=async function(e){if(e&&e.personalizedPages){return this._getAllPersonalizedPages()}const t=await this._getAssignedPageIds();return this.getPages(t)};z.prototype._getAssignedPageIds=async function(){const e=await y.getServiceAsync("Menu");const t=await e.getContentNodes();const i=[];t.forEach(e=>{this._collectPageIds(e,i)});return i};z.prototype._collectPageIds=function(e,t){if(e.type===_.Page){if(t.indexOf(e.id)===-1){t.push(e.id)}}if(e.children!==undefined){e.children.forEach(e=>{this._collectPageIds(e,t)})}};z.prototype._getAllPersonalizedPages=async function(){await this._pGetSiteFromAdapter;const e=await this._getAssignedPageIds();const t=await this._getPersonalization(this._oOriginalSite._version);const i=[];Object.keys(t).forEach(o=>{if(o==="version"||o==="_version"){return}if(!e.includes(o)){return}const s=t[o];if(Object.keys(s).length>1){i.push(o)}});if(i.length>0){return this.getPages(i)}return[]};z.prototype.getApplications=function(){return new Promise((e,t)=>{this.getSite().then(i=>{const o=i.applications;if(o){e(o)}else{t(new Error("CDM applications not found."))}}).fail(t)})};z.prototype.getVizTypes=async function(){if(typeof this._oAdapter.getVizTypes==="function"){const e=await this._getSiteProperty("vizTypes");const t=await this._oAdapter.getVizTypes();return l(e,t)}return this.getCachedVizTypes()};z.prototype.getCachedVizTypes=async function(){let e;if(typeof this._oAdapter.getCachedVizTypes==="function"){e=await this._oAdapter.getCachedVizTypes()}const t=await this._getSiteProperty("vizTypes");return l(t,e)};z.prototype.getVizType=async function(e){let t;if(typeof this._oAdapter.getVizType==="function"){t=await this._oAdapter.getVizType(e)}const i=await this._getSiteProperty("vizTypes");if(t){i[e]=t}return i[e]};z.prototype.getVisualizations=async function(){if(typeof this._oAdapter.getVisualizations==="function"){const e=await this._getSiteProperty("visualizations");const t=await this._oAdapter.getVisualizations();return l(e,t)}return this.getCachedVisualizations()};z.prototype.getCachedVisualizations=async function(){let e;if(typeof this._oAdapter.getCachedVisualizations==="function"){e=await this._oAdapter.getCachedVisualizations()}const t=await this._getSiteProperty("visualizations");return l(t,e)};z.prototype._getSiteProperty=function(e){return new Promise((t,o)=>{this.getSite().then(s=>{const r=i.get(e,s);if(r){t(r)}else{const t=e.toString();o(new Error(`CDM ${t} not found.`))}}).fail(o)})};z.prototype.getGroupFromOriginalSite=function(e){const t=new jQuery.Deferred;if(typeof e==="string"&&this._oOriginalSite&&this._oOriginalSite.groups&&this._oOriginalSite.groups[e]){t.resolve(a({},this._oOriginalSite.groups[e]))}else{t.reject(new Error("Group does not exist in original site."))}return t.promise()};z.prototype.getOriginalPage=function(e){return n(this._oOriginalSite.pages[e],20)};z.prototype.save=function(e){const t=new jQuery.Deferred;if(this._bPersonalizationLoadingFailed){const e="Prior personalization loading failed, cancelling save to prevent data loss. Saving this personalization will only be possible after reloading the FLP again.";f.error(e,null,m);t.reject(new Error(e));return t.promise()}if(this._oOriginalSite._version==="3.1.0"){if(!e){return t.reject(new Error("No page id was provided")).promise()}if(typeof e==="string"){e=[e]}this._saveCdmVersion31(e).then(t.resolve).catch(t.reject)}else{this._saveCdmVersion30().then(t.resolve).catch(t.reject)}return t.promise()};z.prototype._saveCdmVersion30=function(){const e=this._oOriginalSite;const t=this._oPersonalizedSiteForCDMVersion30;return new Promise((i,o)=>{this._oPersonalizationProcessor.extractPersonalization(n(t,20),n(e,20)).done(i).fail(o)}).catch(e=>{f.error("Personalization Processor: Cannot extract personalization.",e,m);throw new Error("Personalization Processor: Cannot extract personalization.")}).then(e=>{if(r(e)){return Promise.resolve()}return this._setPersonalization(e)})};z.prototype._saveCdmVersion31=function(e){const t=e.map(e=>{const t=this._oSiteConverter.convertTo("3.0.0",this._oOriginalSite.pages[e]);const i=this._oSiteConverter.convertTo("3.0.0",this._oPersonalizedPages[e]);return new Promise((o,s)=>{this._oPersonalizationProcessor.extractPersonalization(n(i,20),n(t,20)).done(t=>{o({pageId:e,personalization:t})}).fail(t=>{f.error(`Cannot extract personalization of page ${e}:`,t,m);o()})})});return Promise.all(t).then(e=>{let t=false;e.forEach(e=>{if(!e){return}if(!r(e.personalization)){t=true;if(this._oPersonalizationDeltasForCDMVersion31.version===undefined||this._oPersonalizationDeltasForCDMVersion31._version===undefined){this._oPersonalizationDeltasForCDMVersion31.version=this._oOriginalSite._version;this._oPersonalizationDeltasForCDMVersion31._version=this._oOriginalSite._version}this._oPersonalizationDeltasForCDMVersion31[e.pageId]=e.personalization}});if(t){return this._setPersonalization(this._oPersonalizationDeltasForCDMVersion31)}return Promise.resolve()})};z.prototype._getPersonalization=function(e){return g.promisify(this._oAdapter.getPersonalization(e)).catch(e=>{f.error("Could not get page personalization",e,m);this._bPersonalizationLoadingFailed=true;return{}})};z.prototype._setPersonalization=function(e,t){if(this._oPendingPersonalizationDeferred){if(!this._oNextPersonalizationQuery){this._oNextPersonalizationQuery={fnNextCall:null,aPromiseResolvers:[]}}return new Promise((i,o)=>{this._oNextPersonalizationQuery.fnNextCall=this._setPersonalization.bind(this,e,t);this._oNextPersonalizationQuery.aPromiseResolvers.push({resolve:i,reject:o})})}this._oPendingPersonalizationDeferred=this._oAdapter.setPersonalization(e,t);return new Promise((e,t)=>{this._oPendingPersonalizationDeferred.then(e).fail(t).always(()=>{delete this._oPendingPersonalizationDeferred;if(this._oNextPersonalizationQuery){const e=this._oNextPersonalizationQuery.fnNextCall();this._cleanupPersonalizationQueuePromises(e,this._oNextPersonalizationQuery.aPromiseResolvers);delete this._oNextPersonalizationQuery}})})};z.prototype._cleanupPersonalizationQueuePromises=function(e,t){t.forEach(t=>{e.then(t.resolve).catch(t.reject)})};z.prototype.registerContentProvider=function(){f.error("CommonDataModel.registerContentProvider is obsolete and should not be used.")};z.prototype._ensureCompleteSite=function(e){if(!e.groups){return}const t=e.groups;Object.keys(t).forEach(e=>{if(!t[e]){delete t[e]}else{if(!t[e].payload){t[e].payload={}}if(!t[e].payload.links){t[e].payload.links=[]}if(!t[e].payload.tiles){t[e].payload.tiles=[]}if(!t[e].payload.groups){t[e].payload.groups=[]}}})};z.prototype._ensureGroupsOrder=function(e){const t=i.get("site.payload.groupsOrder",e);const o=e.groups;let s=0;if(!t){return}while(s<t.length){const e=t[s];if(!o[e]){t.splice(s,1)}else{s++}}};z.prototype.getPlugins=function(){function e(e,t){const o=Object.keys(t).length;if(o===0){return{}}if(o>1){f.warning(`Multiple inbounds are defined for plugin '${e}'`,"Plugin startup configuration will be determined using "+"the first signature inbound with semanticObject:Shell and action:plugin for plugin.",m)}const s=Object.values(t).find(e=>e&&e.semanticObject==="Shell"&&e.action==="plugin");if(s===undefined){f.error(`Cannot find inbound with semanticObject:Shell and action:plugin for plugin '${e}'`,"plugin startup configuration cannot be determined correctly",m);return{}}const r=i.get("signature.parameters",s)||{};return Object.keys(r).reduce((e,t)=>{const o=i.get(`${t}.defaultValue.value`,r);if(typeof o==="string"){e[t]=o}return e},{})}let t;return function(s){if(s!==undefined){t=s}if(t){return jQuery.when(t)}t={};return this.getSiteWithoutPersonalization().then(s=>{const r=s.applications||{};Object.keys(r).filter(function(e){return i.get("type",this[e]["sap.flp"])==="plugin"},r).forEach(function(s){const r=this[s];let n={};if(!o(r["sap.platform.runtime"])){f.error(`Cannot find 'sap.platform.runtime' section for plugin '${s}'`,"plugin might not be started correctly","sap.ushell.services.CommonDataModel")}else if(!o(r["sap.platform.runtime"].componentProperties)){f.error(`Cannot find 'sap.platform.runtime/componentProperties' section for plugin '${s}'`,"plugin might not be started correctly","sap.ushell.services.CommonDataModel")}else{n=r["sap.platform.runtime"].componentProperties}t[s]={url:n.url,component:r["sap.ui5"].componentName};const a=i.get("crossNavigation.inbounds",r["sap.app"])||{};const p=e(s,a);const c=l(n.config||{},p);if(c){t[s].config=c}if(n.asyncHints){t[s].asyncHints=n.asyncHints}const u=i.get("deviceTypes",r["sap.ui"]);if(u){t[s].deviceTypes=u}},r);return g.deepFreeze(t)})}}();z.prototype._mapDisplayFormats=function(e){const t={tile:P.Standard,standard:P.Standard,link:P.Compact,compact:P.Compact,flat:P.Flat,flatWide:P.FlatWide,tileWide:P.StandardWide,standardWide:P.StandardWide};const i=Object.keys(t).filter(t=>e.indexOf(t)>-1);return i.map(e=>t[e])};z.prototype._ensureProperDisplayFormats=function(e){if(e.vizTypes){Object.keys(e.vizTypes).forEach(t=>{if(e.vizTypes[t]["sap.flp"]&&e.vizTypes[t]["sap.flp"].vizOptions){const o=e.vizTypes[t];const s=i.get("vizOptions.displayFormats.supported",o["sap.flp"]);const r=i.get("vizOptions.displayFormats.default",o["sap.flp"]);if(s){e.vizTypes[t]["sap.flp"].vizOptions.displayFormats.supported=this._mapDisplayFormats(s)}if(r){e.vizTypes[t]["sap.flp"].vizOptions.displayFormats.default=this._mapDisplayFormats([r])[0]}}})}if(e.hasOwnProperty("pages")){Object.keys(e.pages).forEach(t=>{const i=e.pages[t];if(i.payload&&i.payload.sections){const e=i.payload.sections;Object.keys(e).forEach(t=>{const i=e[t];Object.keys(i.viz).forEach(e=>{const t=i.viz[e];if(t.displayFormatHint){const e=this._mapDisplayFormats([t.displayFormatHint])[0];t.displayFormatHint=e||t.displayFormatHint}})})}})}else if(e.hasOwnProperty("groups")){Object.keys(e.groups).forEach(t=>{const i=e.groups[t];i.payload.tiles.forEach(e=>{if(e.displayFormatHint){const t=this._mapDisplayFormats([e.displayFormatHint])[0];e.displayFormatHint=t||e.displayFormatHint}})})}};z.prototype._ensureStandardVizTypesPresent=async function(e){if(!(e._version&&e._version.startsWith("3."))){return}if(!e.vizTypes){e.vizTypes={}}const i=await t.getAll();Object.keys(i).forEach(t=>{e.vizTypes[t]=e.vizTypes[t]||i[t]})};z.prototype.getMenuEntries=async function(e){const t=await this.getSite();const o=i.get(`menus.${e}.payload.menuEntries`,t);return n(o)||[]};z.prototype.getContentProviderIds=async function(){const e=await this.getSite();const t=Object.keys(e.systemAliases);const i={};u(e.applications).forEach(e=>{const o=d.getContentProviderId(e);if(t.includes(o)){i[o]=true}});return Object.keys(i)};z.hasNoAdapter=false;return z},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/CommonDataModel/PersonalizationProcessor", ["sap/base/Log","sap/base/util/deepClone","sap/base/util/extend","sap/base/util/isEmptyObject","sap/base/util/ObjectPath","sap/ui/thirdparty/jquery"],(e,r,i,o,t,jQuery)=>{"use strict";function s(){}s.prototype._getItemIndex=function(e,r){let i;for(i=0;i<e.length;i++){if(e[i].id===r){break}}i=i>=e.length?-1:i;return i};s.prototype._applyRenameGroup=function(e,r,i){let o;let t=false;if(!r){return false}if(e&&i&&i.groups&&i.groups[e]){o=i.groups[e];if(o.identification&&o.identification.title){i.groups[e].identification.title=r;t=true}}return t};s.prototype._applyGroupVisibility=function(e,r,i){let o=false;if(r===undefined){return false}if(e&&i&&i.groups&&i.groups[e]){i.groups[e].identification.isVisible=r;o=true}return o};s.prototype.mixinPersonalization=function(e,r){const i=new jQuery.Deferred;const t=this;if(!r||o(r)){return i.resolve(e).promise()}if(r.groups){Object.keys(r.groups).forEach(i=>{const o=r.groups[i];if(e.groups[i]){if(o.identification){if(o.identification.title){t._applyRenameGroup(i,o.identification.title,e)}if(o.identification.hasOwnProperty("isVisible")&&o.identification.isVisible===false){t._applyGroupVisibility(i,false,e)}}}})}this._applyAddGroups(e,r);if(r.removedGroups&&Array.isArray(r.removedGroups)){r.removedGroups.forEach(r=>{t._applyRemoveGroup(e,r)})}this._applyMoveGroup(e,r);this._applyItemChanges(e,r);this._applyTileSettings(e,r);return i.resolve(e).promise()};s.prototype._applyAddGroups=function(e,i){const o=[];e.site=e.site||{};e.site.payload=e.site.payload||{};e.site.payload.groupsOrder=e.site.payload.groupsOrder||[];e.groups=e.groups||{};if(Array.isArray(i.groupOrder)){e.site.payload.groupsOrder.forEach(e=>{if(i.groupOrder.indexOf(e)===-1){if(i.removedGroups&&i.removedGroups.indexOf(e)===-1||!i.removedGroups){o.push(e)}}})}if(Array.isArray(i.groupOrder)&&i.addedGroups&&Object.keys(i.addedGroups).length>0){Object.keys(i.addedGroups).forEach(o=>{e.groups[o]=r(i.addedGroups[o],20);e.groups[o].payload.isPreset=false});e.site.payload.groupsOrder=i.groupOrder}o.forEach(r=>{e.site.payload.groupsOrder.push(r)})};s.prototype._checkRenameGroup=function(e,r,i,o){if(e&&r&&i){if(i[e]){if(r[e].identification.title!==i[e].identification.title){o=o||{};o.groups=o.groups||{};o.groups[e]=o.groups[e]||{};o.groups[e].identification=o.groups[e].identification||{};o.groups[e].identification.title=r[e].identification.title}}}return o};s.prototype._applyTileSettings=function(e,r){if(!r.modifiedTiles){return}const i=Object.keys(e.groups).map(function(e){return this[e]},e.groups);const o=Object.keys(r.modifiedTiles).map(function(e){return this[e]},r.modifiedTiles);i.some(e=>{["tiles","links"].forEach(r=>{if(e.payload[r]){e.payload[r].some(e=>{let r;o.some((i,o)=>{if(i.id===e.id){if(i.title!==undefined){e.title=i.title}if(i.subTitle!==undefined){e.subTitle=i.subTitle}if(i.info!==undefined){e.info=i.info}if(i.displayFormatHint!==undefined){e.displayFormatHint=i.displayFormatHint}r=o;return true}return false});if(r!==undefined){o.splice(r,1)}return o.length===0})}});return o.length===0})};s.prototype._checkGroupVisibility=function(e,r,i,o){if(e&&r&&i){if(i[e]){if(r[e].identification.isVisible!==i[e].identification.isVisible&&typeof r[e].identification.isVisible==="boolean"){o=o||{};o.groups=o.groups||{};o.groups[e]=o.groups[e]||{};o.groups[e].identification=o.groups[e].identification||{};o.groups[e].identification.isVisible=r[e].identification.isVisible}}}return o};s.prototype._addGroupToPersonalizationDelta=function(e,r,o){let t=false;let s;let a;if(e&&e.site&&e.site.payload&&e.site.payload.groupsOrder&&e.groups&&o&&e.groups[o]&&r){s=e.site.payload.groupsOrder;a=e.groups[o];r.addedGroups=r.addedGroups||{};r.addedGroups[o]={};r.addedGroups[o].identification=i({},a.identification);r.addedGroups[o].payload=i({},a.payload);r.addedGroups[o].payload.tiles=[];r.addedGroups[o].payload.links=[];r.groupOrder=s;t=true}return t};s.prototype.extractPersonalization=function(e,r){const i=new jQuery.Deferred;let t;const s={};let a;let l;const p=this;if(e&&e.groups&&r&&r.groups){t=e.groups;a=r.groups;l=this._getExtractHelperObject(r,e,s);Object.keys(a).forEach(i=>{p._checkRemoveGroup(e,s,i);p._extractFromOriginalSiteOneGroup(r,l,i,"tiles");p._extractFromOriginalSiteOneGroup(r,l,i,"links")});Object.keys(t).forEach(r=>{if(a[r]){p._checkRenameGroup(r,t,a,s);p._checkGroupVisibility(r,t,a,s)}else{p._addGroupToPersonalizationDelta(e,s,r)}p._extractFromPersonalizedSiteOneGroup(e,l,r,"tiles");p._extractFromPersonalizedSiteOneGroup(e,l,r,"links")});this._checkMoveGroup(e,r,s);this._cleanupRemovedGroups(r,s);if(l.oPersonalizationDelta.movedTiles&&o(l.oPersonalizationDelta.movedTiles)){delete l.oPersonalizationDelta.movedTiles}if(l.oPersonalizationDelta.movedLinks&&o(l.oPersonalizationDelta.movedLinks)){delete l.oPersonalizationDelta.movedLinks}}if(r._version){s._version=r._version}return i.resolve(s).promise()};s.prototype._checkRemoveGroup=function(e,r,i){let o=false;if(e&&e.groups&&r&&i){if(!e.groups[i]){r.removedGroups=r.removedGroups||[];r.groupOrder=r.groupOrder||[];if(r.removedGroups.indexOf(i)===-1){r.removedGroups.push(i)}if(e.site&&e.site.payload&&e.site.payload.groupsOrder&&Array.isArray(e.site.payload.groupsOrder)){r.groupOrder=e.site.payload.groupsOrder.slice(0)}}o=true}return o};s.prototype._applyRemoveGroup=function(e,r){let i;let o;let t;if(e&&e.groups&&e.site&&e.site.payload&&e.site.payload.groupsOrder&&r){i=e.groups;o=e.site.payload.groupsOrder;t=o.indexOf(r);if(!(t===-1)){o.splice(t,1);delete i[r];return true}}return false};s.prototype._checkMoveGroup=function(e,r,i){let o;let t;let s=false;let a=false;if(e.site&&e.site.payload&&Array.isArray(e.site.payload.groupsOrder)&&r.site&&r.site.payload&&Array.isArray(r.site.payload.groupsOrder)){o=e.site.payload.groupsOrder;t=r.site.payload.groupsOrder;if(o.length===t.length){s=function(){let e=false;let r;for(r=0;r<t.length;r++){if(t[r]!==o[r]){e=true;break}}return e}();if(s){i.groupOrder=o;a=true}}}return a};s.prototype._applyMoveGroup=function(e,r){let i=false;if(Array.isArray(r.groupOrder)){e.site=e.site||{};e.site.payload=e.site.payload||{};if(!Array.isArray(e.site.payload.groupsOrder)){e.site.payload.groupsOrder=[]}if(e.site.payload.groupsOrder.length===r.groupOrder.length){e.site.payload.groupsOrder=r.groupOrder;i=true}}return i};s.prototype._getHashedItemsFromSite=function(e){let r=null;if(e&&e.groups){if(Object.keys(e.groups).length>0){r={};Object.keys(e.groups).forEach(i=>{const o=e.groups[i];let t;r[i]={};if(o.payload){["tiles","links"].forEach(e=>{r[i][e]={};if(Array.isArray(o.payload[e])){t=o.payload[e];t.forEach((o,t)=>{let s;if(o&&o.id){s=o.id;r[i][e][s]={iIndex:t,sItemId:o}}})}})}})}}return r};s.prototype._getExtractHelperObject=function(e,r,i){let o=null;o={};o.oHashedItemsOriginal=this._getHashedItemsFromSite(e)||{};o.oHashedItemsPersonalized=this._getHashedItemsFromSite(r);o.oPersonalizationDelta=i;return o};s.prototype._extractFromOriginalSiteOneGroup=function(e,r,i,o){let t=false;let s;let a;let l="movedTiles";o=o||"tiles";if(o!=="tiles"){l="movedLinks"}function p(e,r){a[e]=a[e]?a[e]:{};a[e].fromGroup=r;a[e].toGroup=null}if(r&&r.oHashedItemsPersonalized&&r.oPersonalizationDelta&&e&&e.groups&&e.groups[i]&&e.groups[i].payload&&Array.isArray(e.groups[i].payload[o])){s=e.groups[i].payload[o];r.oPersonalizationDelta[l]=r.oPersonalizationDelta[l]?r.oPersonalizationDelta[l]:{};a=r.oPersonalizationDelta[l];if(r.oHashedItemsPersonalized[i]){s.forEach(e=>{if(!r.oHashedItemsPersonalized[i][o][e.id]){p(e.id,i)}});t=true}else{s.forEach(e=>{p(e.id,i)});t=true}}return t};s.prototype._extractPersonalizationDeltaForTile=function(e,r,i,s){const a=t.get(["oHashedItemsOriginal",i,s,e.id,"sItemId"],r);if(!a){return false}const l={};if(e.title!==a.title){l.title=e.title}if(e.subTitle!==a.subTitle){l.subTitle=e.subTitle}if(e.info!==a.info){l.info=e.info}if(e.displayFormatHint!==a.displayFormatHint&&!(e.displayFormatHint==="default"&&!a.displayFormatHint)){l.displayFormatHint=e.displayFormatHint}if(o(l)){return false}if(!r.oPersonalizationDelta.modifiedTiles){r.oPersonalizationDelta.modifiedTiles={}}const p=r.oPersonalizationDelta.modifiedTiles;l.id=e.id;p[e.id]=l;return true};s.prototype._extractFromPersonalizedSiteOneGroup=function(r,i,o,t){let s=false;let a;let l;let p=false;let n;const u=this;let d="movedTiles";t=t||"tiles";if(t!=="tiles"&&t!=="links"){return s}if(t!=="tiles"){d="movedLinks"}if(i&&i.oPersonalizationDelta&&r&&r.groups&&r.groups[o]&&r.groups[o].payload&&Array.isArray(r.groups[o].payload[t])){n=r.groups[o].payload[t];i.oPersonalizationDelta[d]=i.oPersonalizationDelta[d]?i.oPersonalizationDelta[d]:{};a=i.oPersonalizationDelta[d];l=[];n.forEach((r,s)=>{if(!r){return}l.push(r.id);if(i.oHashedItemsOriginal[o]&&i.oHashedItemsOriginal[o][t][r.id]){if(a[r.id]){e.error("Extract personalization failed",`The Tile ID ${r.id} is not unique in the site`,"PersonalizationProcessor");delete a[r.id]}if(i.oHashedItemsOriginal[o][t][r.id].iIndex!==s){p=true}u._extractPersonalizationDeltaForTile(r,i,o,t)}else{p=true;if(a[r.id]){if(a[r.id].fromGroup&&a[r.id].fromGroup!==o){if(!a[r.id].toGroup){a[r.id].toGroup=o;u._extractPersonalizationDeltaForTile(r,i,a[r.id].fromGroup,t)}}}else{a[r.id]={};a[r.id].fromGroup=null;a[r.id].toGroup=o;a[r.id].item=r}}});if(p){i.oPersonalizationDelta.groups=i.oPersonalizationDelta.groups||{};i.oPersonalizationDelta.groups[o]=i.oPersonalizationDelta.groups[o]||{};i.oPersonalizationDelta.groups[o].payload=i.oPersonalizationDelta.groups[o].payload||{};if(t==="tiles"){i.oPersonalizationDelta.groups[o].payload.tileOrder=l}else{i.oPersonalizationDelta.groups[o].payload.linkOrder=l}}s=true}return s};s.prototype._cleanupRemovedGroups=function(e,r){let i;let o;if(r.removedGroups&&r&&Array.isArray(r.removedGroups)&&r.removedGroups.length>0){r.removedGroups.forEach(t=>{if(e&&e.groups&&e.groups[t]&&e.groups[t].payload){[{sType:"tiles",sPersonalizationDeltaType:"movedTiles"},{sType:"links",sPersonalizationDeltaType:"movedLinks"}].forEach(s=>{if(Array.isArray(e.groups[t].payload[s.sType])){i=e.groups[t].payload[s.sType];i.forEach(e=>{if(r[s.sPersonalizationDeltaType]){o=r[s.sPersonalizationDeltaType][e.id];if(o&&o.fromGroup&&o.fromGroup===t&&!o.toGroup){delete r[s.sPersonalizationDeltaType][e.id]}}})}})}})}};s.prototype._setItemOrderOnSiteCollection=function(e,r){let i=true;const o=e.length;const t={};let s;let a;let l;let p;if(!Array.isArray(e)||!Array.isArray(e)||e.length!==r.length){return false}const n=e.splice(0,e.length);for(s=0;s<r.length;s++){l=r[s];a=n.shift();if(a&&l===a.id){e.push(a)}else if(t[l]){e.push(t[l]);delete t[l];if(a){t[a.id]=a}}else if(a){t[a.id]=a;p=false;while(n.length>0){a=n.shift();if(l===a.id){e.push(a);p=true;break}else{t[a.id]=a}}if(!p){i=false}}}if(e.length!==o){i=false}return i};s.prototype._setItemOrderOnSiteGroupForItemType=function(e,r,i){let o=true;let t;let s;if(i==="tiles"||i==="links"){s=i==="tiles"?"tileOrder":"linkOrder"}else{return false}if(r.payload&&Array.isArray(r.payload[s])&&r.payload[s].length>0){if(e.payload&&Array.isArray(e.payload[i])&&e.payload[i].length>0){t=this._setItemOrderOnSiteCollection(e.payload[i],r.payload[s]);if(!t){o=false}}else{o=false}}return o};s.prototype._setItemOrderOnSite=function(e,r){let i=true;let o;const t=this;if(e.groups&&r.groups){Object.keys(r.groups).forEach(s=>{if(r.groups[s]&&e.groups[s]){o=t._setItemOrderOnSiteGroupForItemType(e.groups[s],r.groups[s],"tiles");if(!o){i=false}o=t._setItemOrderOnSiteGroupForItemType(e.groups[s],r.groups[s],"links");if(!o){i=false}}})}return i};s.prototype._applyMoveItemsWithoutOrder=function(e,r,i){let t=true;let s;let a;let l="tileOrder";let p;let n;let u;let d=[];const f=this;function y(o,t){let s=true;if(e.groups[t]&&e.groups[t].payload&&r.groups&&r.groups[t]&&r.groups[t].payload&&Array.isArray(r.groups[t].payload[l])&&r.groups[t].payload[l].length>0){if(!Array.isArray(e.groups[t].payload[i])){e.groups[t].payload[i]=[]}e.groups[t].payload[i].push(o)}else{s=false}return s}if(i==="tiles"||i==="links"){a=i==="tiles"?"movedTiles":"movedLinks";l=i==="tiles"?"tileOrder":"linkOrder"}else{return false}if(!e||!e.groups||!e.site||!e.site.payload||!Array.isArray(e.site.payload.groupsOrder)||!r){return false}if(r[a]){Object.keys(r[a]).forEach(l=>{p=r[a][l];if(p.fromGroup){if(p.toGroup){if(p.fromGroup!==p.toGroup){if(e.groups[p.fromGroup]&&e.groups[p.fromGroup].payload&&Array.isArray(e.groups[p.fromGroup].payload[i])){d=e.groups[p.fromGroup].payload[i];n=f._getItemIndex(d,l);if(n>=0){u=d.splice(n,1);s=y(u[0],p.toGroup);if(!s){t=false}}else{t=false}}else{t=false}}else{t=false}}else if(e.groups[p.fromGroup]&&e.groups[p.fromGroup].payload&&Array.isArray(e.groups[p.fromGroup].payload[i])){d=e.groups[p.fromGroup].payload[i];n=f._getItemIndex(d,l);if(n>=0){d.splice(n,1)}else{t=false}}else{t=false}}else if(p.toGroup){if(p.item&&!o(p.item)){s=y(p.item,p.toGroup);if(!s){t=false}}else{t=false}}else{t=false}})}return t};s.prototype._applyItemChanges=function(e,r){let i=true;let o;o=this._applyMoveItemsWithoutOrder(e,r,"tiles");if(!o){i=false}o=this._applyMoveItemsWithoutOrder(e,r,"links");if(!o){i=false}if(r.groups){o=this._setItemOrderOnSite(e,r);if(!o){i=false}}return i};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/CommonDataModel/SiteConverter", ["sap/base/Log"],e=>{"use strict";function i(){}i.prototype.convertTo=function(i,t){if(t._version==="3.0.0"||t.identification&&t.payload){switch(i){case"3.0.0":return this._convertPageToSite(t);case"3.1.0":return this._convertSiteToPage(t);default:e.error("The received version for the site/page conversion is not supported");return{}}}else{e.error("The site converter did not receive a correct page/site object.");return{}}};i.prototype._convertPageToSite=function(e){const i={groups:{},_version:"3.0.0",site:{identification:e.identification,payload:{groupsOrder:e.payload.layout.sectionOrder}}};const t=e.payload.sections;for(let o=0;o<Object.keys(t).length;o++){const r=Object.keys(t)[o];const a=e.payload.sections[r];i.groups[r]={identification:{id:a.id,title:a.title},payload:{tiles:this._convertVizPayloadObjectToArray(a)}};if("visible"in a){i.groups[r].identification.isVisible=a.visible}if("preset"in a){i.groups[r].payload.isPreset=a.preset}if("locked"in a){i.groups[r].payload.locked=a.locked}if("default"in a){i.groups[r].payload.isDefaultGroup=a.default}}return i};i.prototype._convertSiteToPage=function(e){const i={identification:e.site.identification,payload:{layout:{sectionOrder:e.site.payload.groupsOrder},sections:{}}};const t=e.groups;let o;let r;let a;for(let n=0;n<Object.keys(t).length;n++){o=Object.keys(t)[n];r=e.groups[o];a=this._createVizPayloadObject(r.payload.tiles);i.payload.sections[o]={id:r.identification.id,title:r.identification.title,layout:a.layout,viz:a.viz};const s=i.payload.sections[o];if("isVisible"in r.identification){s.visible=r.identification.isVisible}if("isPreset"in r.payload){s.preset=r.payload.isPreset}if("locked"in r.payload){s.locked=r.payload.locked}if("isDefaultGroup"in r.payload){s.default=r.payload.isDefaultGroup}}return i};i.prototype._createVizPayloadObject=function(e){const i=[];const t={};const o=e.reduce((e,t)=>{i.push(t.id);e[t.id]=t;return e},{});t.layout={vizOrder:i};t.viz=o;return t};i.prototype._convertVizPayloadObjectToArray=function(e){return e.layout.vizOrder.reduce((i,t)=>{i.push(e.viz[t]);return i},[])};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/CommonDataModel/vizTypeDefaults/VizTypeDefaults", ["sap/base/Log","sap/ui/core/Manifest","sap/base/util/deepClone","sap/base/util/extend","sap/base/util/isEmptyObject","sap/base/util/ObjectPath"],(s,e,a,t,n,i)=>{"use strict";const l={STATIC_LAUNCHER:"sap.ushell.StaticAppLauncher",DYNAMIC_LAUNCHER:"sap.ushell.DynamicAppLauncher",CARD:"sap.ushell.Card"};class c{static#s=null;#e=null;static async getAll(){if(!c.#s){c.#s=new c}return c.#s._getAll()}async _getAll(){if(!this.#e){this.#e={};const s={};s[l.STATIC_LAUNCHER]="sap/ushell/components/tiles/cdm/applauncher/manifest.json";s[l.DYNAMIC_LAUNCHER]="sap/ushell/components/tiles/cdm/applauncherdynamic/manifest.json";s[l.CARD]="sap/ushell/services/CommonDataModel/vizTypeDefaults/cardManifest.json";await Promise.all(Object.keys(s).map(async e=>{const a=s[e];const t=await this._loadManifest(a);this.#e[e]=t}))}return this.#e}async _loadManifest(s){const t=sap.ui.require.toUrl(s);const n=await e.load({manifestUrl:t,async:true});return a(n.getRawJson())}}return c});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Container", ["sap/ushell/Container","sap/base/Log"],(e,s)=>{"use strict";s.warning("The use of sap/ushell/services/Container is deprecated. Please use sap/ushell/Container instead!");return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/LaunchPage", ["sap/ushell/Container"],e=>{"use strict";const t=["getGroups","getGroupsForBookmarks","getGroupTilesForSearch","getDefaultGroup","getGroupTitle","getGroupId","getGroupById","getGroupTiles","getTilesByGroupId","getLinkTiles","addGroupAt","addGroup","removeGroup","resetGroup","isGroupRemovable","isGroupLocked","isGroupFeatured","moveGroup","setGroupTitle","hideGroups","isGroupVisible","addTile","removeTile","moveTile","isLinkPersonalizationSupported","getTileId","getTileTitle","getTileType","getTileView","getCardManifest","getAppBoxPressHandler","getTileSize","getTileTarget","getTileDebugInfo","isTileIntentSupported","refreshTile","setTileVisible","registerTileActionsProvider","getTileActions","getCatalogs","isCatalogsValid","getCatalogData","getCatalogError","getCatalogId","getCatalogTitle","getCatalogTiles","getCatalogTileId","getCatalogTileContentProviderId","getStableCatalogTileId","getCatalogTileTitle","getCatalogTileSize","getCatalogTileViewControl","getCatalogTileView","getCatalogTileTargetURL","getCatalogTileTags","getCatalogTileKeywords","getCatalogTileTechnicalAttributes","getCatalogTilePreviewTitle","getCatalogTilePreviewInfo","getCatalogTilePreviewSubtitle","getCatalogTilePreviewIcon","addBookmark","addCustomBookmark","countBookmarks","countCustomBookmarks","deleteBookmarks","deleteCustomBookmarks","updateBookmarks","updateCustomBookmarks","onCatalogTileAdded","deleteURLStatesPersistentData"];function o(){this._oFlpLaunchPage=e.getService("FlpLaunchPage")}t.forEach(e=>{o.prototype[e]=function(...t){return this._oFlpLaunchPage[e](...t)}});o.hasNoAdapter=true;return o},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/NavTargetResolution", ["sap/base/Log","sap/ushell/Container","sap/ushell/services/NavTargetResolutionInternal"],(e,t)=>{"use strict";function n(n,r,s,a){e.error("NavTargetResolution service has been called, which is deprecated. Remove all dependencies!",null,"sap.ushell.services.NavTargetResolution");this._oNavTargetResolutionInternal=t.getService("NavTargetResolutionInternal");this.expandCompactHash=function(e){return this._oNavTargetResolutionInternal.expandCompactHash(e)};this.resolveTarget=function(e){return this._oNavTargetResolutionInternal.resolveTarget(e)};this.resolveHashFragment=function(e){return this._oNavTargetResolutionInternal.resolveHashFragment(e)};this.isIntentSupported=function(e){return this._oNavTargetResolutionInternal.isIntentSupported(e)};this.registerCustomResolver=function(e){return this._oNavTargetResolutionInternal.registerCustomResolver(e)};this.isNavigationSupported=function(e){return this._oNavTargetResolutionInternal.isNavigationSupported(e)}}n.hasNoAdapter=false;return n},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/NavTargetResolutionInternal", ["sap/ushell/utils","sap/ushell/utils/UrlParsing","sap/ushell/utils/UrlShortening","sap/ushell/utils/HttpClient","sap/ushell/navigationMode","sap/ui/thirdparty/jquery","sap/ui/performance/Measurement","sap/base/util/deepExtend","sap/base/util/isPlainObject","sap/base/Log","sap/ushell/Container"],(e,t,n,s,i,jQuery,r,a,o,l,c)=>{"use strict";function u(u,p,h,d){const f=d?.config;const g=function(e){const t=this._isClientSideTargetResolutionEnabled()?this._resolveHashFragmentClientSide(e):u.resolveHashFragment(e);return t}.bind(this);let m;const v=[{name:"DefaultAdapter",isApplicable:function(){return true},resolveHashFragment:g.bind(this)}];let S;const b=new s;this._isClientSideTargetResolutionEnabled=function(){return!!(f&&f.enableClientSideTargetResolution)};this._nextResolveHashFragment=function(e,t){const n=e.pop();if(n.isApplicable(t)){l.info(`NavTargetResolutionInternal: custom resolver ${n.name} resolves ${t}`);const s=this._nextResolveHashFragment.bind(this,e);return n.resolveHashFragment(t,s)}return this._nextResolveHashFragment(e,t)};this._resolveHashFragmentClientSide=function(e){const t=this._validateHashFragment(e);if(!t.success){return(new jQuery.Deferred).reject(new Error(`${e} is not a valid hash fragment`)).promise()}const n=t.hashFragmentWithoutHash;return this._resolveHashFragmentClientSideAndFixApplicationType(n)};this._resolveHashFragmentClientSideAndFixApplicationType=function(e){const t=new jQuery.Deferred;c.getServiceAsync("ClientSideTargetResolution").then(t=>t.resolveHashFragment(e)).then(e=>{if(e&&e.applicationType==="SAPUI5"){e.applicationType="URL"}t.resolve(e)}).catch(t.reject);return t.promise()};this._validateHashFragment=function(t){let n="";const s={success:false};if(t&&t.charAt(0)!=="#"){throw new e.Error("Hash fragment expected in _validateHashFragment","sap.ushell.services.NavTargetResolutionInternal")}n=t.substring(1);if(n){s.success=true}s.hashFragmentWithoutHash=n;return s};this.expandCompactHash=function(e){const s=new jQuery.Deferred;const i=t.parseShellHash(e);if(i&&i.params&&i.params["sap-intent-param"]){c.getServiceAsync("AppState").then(t=>{t.getAppState(i.params["sap-intent-param"][0]).done(t=>{const i=t.getData("sap-intent-param");let r=e;if(i){r=n.expandParamGivenRetrievalFunction(e,"sap-intent-param",()=>i)}s.resolve(r)}).fail(()=>{s.resolve(e)})}).catch(s.reject)}else{s.resolve(e)}return s.promise()};const R=["NWBC","WDA","TR"];this._adjustResolutionResultForUi5Components=function(e){if(typeof e!=="object"){return}delete e["sap.platform.runtime"];if(e&&e.applicationType&&e.applicationType==="SAPUI5"){e.applicationType="URL"}if(e.applicationType==="URL"){const t=/^SAPUI5\.Component=(.*)/.exec(e.additionalInformation);const n=t&&t[1];if(n){e.ui5ComponentName=n}}};this._getSapSystem=function(e,t){let n;if(t&&t["sap-system"]){return t["sap-system"]}if(t&&t.url){n=new URL(t.url,window.location.href).searchParams.get("sap-system");if(n){return n}}if(R.indexOf(t.applicationType)>=0&&e&&e.substring(1)){n=new URL(e.substring(1),window.location.href).searchParams.get("sap-system");if(n){return n}}return undefined};this.resolveTarget=function(n){const s=a({},n);const i=new jQuery.Deferred;r.average("sap.ushell.navigation.resolveTarget");e.storeSapSystemToLocalStorage(s);const o=t.constructShellHash(s);c.getServiceAsync("NavTargetResolutionInternal").then(e=>{e.resolveHashFragment(`#${o}`).done(e=>{r.end("sap.ushell.navigation.resolveTarget");i.resolve({url:e.url,text:e.text,externalNavigationMode:e.targetNavigationMode==="explace"})}).fail(i.reject)}).catch(i.reject);return i.promise()};this.resolveHashFragment=function(e){const t=new jQuery.Deferred;r.average("sap.ushell.navigation.resolveHashFragment");this.expandCompactHash(e).done(n=>{let s=jQuery.when();if(n.indexOf("sap-ushell-enc-test")>=0){const e=/sap-ushell-enc-test=([^&]*)(&.*)?$/.exec(n);if(e){const t=e[1];if(t!=="A%20B%2520C"){s=new jQuery.Deferred;c.getServiceAsync("MessageInternal").then(e=>{e.error("This navigation is flagged as erroneous because"+" (likely the calling procedure) generated a wrong encoded hash."+" Please track down the encoding error and make sure to use the CrossApplicationNavigation service for navigation.","Navigation encoding wrong");s.resolve()}).catch(s.reject)}n=n.replace(/sap-ushell-enc-test=([^&]*)&/,"");n=n.replace(/[&?]sap-ushell-enc-test=([^&]*)$/,"")}}let a=this._invokeResolveHashChain(n);if(typeof u.processPostResolution==="function"){a=u.processPostResolution(n,a)}jQuery.when(a,s).done(n=>{this._adjustResolutionResultForUi5Components(n);if(n&&n.navigationMode!==undefined){n.targetNavigationMode=i.getExternalNavigationMode(n.navigationMode)}else{l.error("Resolution Result doesn't contain mandatory navigationMode!","sap.ushell.services.NavTargetResolutionInternal")}if(o(n)&&!n.hasOwnProperty("sap-system")){const t=this._getSapSystem(e,n);if(t){n["sap-system"]=t}}r.end("sap.ushell.navigation.resolveHashFragment");t.resolve(n)}).fail(t.reject)}).fail(t.reject);return t.promise().done(t=>this._recordNavigation("resolveHashFragment",{sHashFragment:e},t))};this._invokeResolveHashChain=function(e){const t=v.map(e=>e);return this._nextResolveHashFragment(t,e).done(e=>{S=e})};this.baseResolveHashFragment=g.bind(this);this._getGetLinksResolver=function(e){let t;if(this._isClientSideTargetResolutionEnabled()){t=this._getLinksClientSide.bind(this);return{resolver:t,warning:undefined,isGetSemanticObjectLinksCall:false}}if(Object.prototype.toString.apply(e.paramsOptions)==="[object Array]"&&e.paramsOptions.length>0){l.warning("Parameter options supplied to #getLinks will be ignored because FLP is not configured to use sap.ushell.services.ClientSideTargetResolution for target resolution",`provided parameters options: ${JSON.stringify(e.paramsOptions,null,4)}`,"sap.ushell.services.NavTargetResolutionInternal")}t=u&&u.getLinks&&u.getLinks.bind(u);if(t){return{resolver:t,warning:undefined,isGetSemanticObjectLinksCall:false}}t=u&&u.getSemanticObjectLinks&&u.getSemanticObjectLinks.bind(u);if(t){return{resolver:t,warning:e.hasOwnProperty("action")?"the action argument was given, however, NavTargetResolutionAdapter does not implement getLinks method. Action will be ignored.":undefined,isGetSemanticObjectLinksCall:true}}return{resolver:undefined,warning:"Cannot determine resolver for getLinks method",isGetSemanticObjectLinksCall:undefined}};this.getLinks=function(e){const t=e.semanticObject;const n=e.params;const s=e.ignoreFormFactor;const i=e.ui5Component;const r=e.appStateKey;const a=e.compactIntents;const o=new jQuery.Deferred;if(/\?/.test(t)){throw new Error("Parameter must not be part of semantic object")}let u=n===undefined?undefined:JSON.parse(JSON.stringify(n));if(r){u=u||{};u["sap-xapp-state"]=encodeURIComponent(r)}const p=this._getGetLinksResolver(e);if(p.warning){l.warning("A problem occurred while determining the resolver for getLinks",p.warning,"sap.ushell.services.NavTargetResolutionInternal")}const h=p.resolver;if(h){const n=function(e){if(a){this._shortenGetSemanticObjectLinksResults(e,i).done(o.resolve)}else{o.resolve(e)}}.bind(this);if(p.isGetSemanticObjectLinksCall){const e={target:{semanticObject:t,action:"dummyAction"},params:u};c.getServiceAsync("ShellNavigationInternal").then(r=>{r.hrefForExternal(e,true,i).then(e=>{const i=e.params||u;h(t,i,s).then(n).catch(o.reject)}).catch(o.reject)})}else{h(e).done(n).fail(o.reject)}}else{o.resolve([])}return o.promise().done(t=>this._recordNavigation("getLinks",{oArgs:e},t))};this.getDistinctSemanticObjects=function(){const e=new jQuery.Deferred;if(this._isClientSideTargetResolutionEnabled()){c.getServiceAsync("ClientSideTargetResolution").then(e=>e.getDistinctSemanticObjects()).then(e.resolve).catch(e.reject);return e.promise().done(e=>this._recordNavigation("getDistinctSemanticObjects",{},e))}if(u&&u.getDistinctSemanticObjects){return u.getDistinctSemanticObjects()}l.error("Cannot execute getDistinctSemanticObjects method","ClientSideTargetResolution must be enabled or NavTargetResolutionAdapter must implement getDistinctSemanticObjects method","sap.ushell.services.NavTargetResolutionInternal");return e.reject(new Error("Cannot execute getDistinctSemanticObjects")).promise()};this._getLinksClientSide=function(e){const n=new jQuery.Deferred;const s=new jQuery.Deferred;if((e.params||{}).hasOwnProperty("sap-intent-param")){const i=`#${e.semanticObject}-dummyAction?${t.paramsToString(e.params)}`;this.expandCompactHash(i).done(e=>{const n=t.parseShellHash(e);s.resolve(n.params)}).fail(n.reject)}else{s.resolve(e.params)}s.done(()=>{c.getServiceAsync("ClientSideTargetResolution").then(t=>t.getLinks(e)).then(n.resolve).catch(n.reject)});return n.promise()};this._shortenGetSemanticObjectLinksResults=function(e,n){const s=[];let i=0;let r=e.length;const a=new jQuery.Deferred;c.getServiceAsync("ShellNavigationInternal").then(o=>{e.forEach(e=>{const c=t.parseShellHash(e.intent);const u=o.compactParams(c.params,undefined,n);s.push(u);s[i].done(((n,i)=>{s[n]={text:e.text,intent:`#${c.semanticObject}-${c.action}?${t.paramsToString(i)}`}}).bind(null,i)).fail(((t,n)=>{l.warning("Cannot shorten GetSemanticObjectLinks result, using expanded form",`Failure message: ${n}; intent had title ''${e.title}'' and link ''${e.intent}'`,"sap.ushell.services.NavTargetResolutionInternal");s[t]={text:e.text,intent:e.intent}}).bind(null,i)).always(()=>{r--;if(r===0){a.resolve(s)}});i++})}).catch(a.reject);return a.promise()};this.isIntentSupported=function(e){const t={};const n=new jQuery.Deferred;if(this._isClientSideTargetResolutionEnabled()){c.getServiceAsync("ClientSideTargetResolution").then(t=>t.isIntentSupported(e)).then(n.resolve).catch(n.reject);return n.promise()}if(u.isIntentSupported){return u.isIntentSupported(e)}e.forEach(e=>{t[e]={supported:undefined}});return n.resolve(t).promise()};this._isIntentSupported=function(e){const t={};const n=new jQuery.Deferred;if(this._isClientSideTargetResolutionEnabled()){c.getServiceAsync("ClientSideTargetResolution").then(t=>t.isIntentSupported(e)).then(n.resolve).catch(n.reject);return n.promise()}if(u.isIntentSupported){return u.isIntentSupported(e)}e.forEach(e=>{t[e]={supported:undefined}});return n.resolve(t).promise()};this.isNavigationSupported=function(e){const n=new jQuery.Deferred;let s=[];s=e.map(e=>{if(typeof e==="string"){return e}return`#${t.constructShellHash(e)}`});this._isIntentSupported(s).done(e=>{const t=s.map(t=>e[t]||{supported:false});n.resolve(t)}).fail(n.reject.bind(n));return n.promise().done(t=>this._recordNavigation("isNavigationSupported",{aIntents:e},t))};this._recordNavigation=function(e,t,n){const s=f?.usageRecorder||{};if(s.enabled){const i=s.serviceUrl||"/navigation/api/v2/record";b.post(i,{headers:{"content-type":"application/json; charset=utf-8"},data:{function:e,parameters:JSON.stringify(t),result:JSON.stringify(n)}})}return n};this.registerCustomResolver=function(e){if(typeof e.name!=="string"){l.error("NavTargetResolutionInternal: Custom Resolver must have name {string} member");return false}if(typeof e.isApplicable!=="function"){l.error("NavTargetResolutionInternal: Custom Resolver must have isApplicable member");return false}if(typeof e.resolveHashFragment!=="function"){l.error('NavTargetResolutionInternal: Custom Resolver must have "resolveHashFragment" member');return false}v.push(e);return true};if(f&&Array.isArray(f.resolveLocal)){m=f.resolveLocal.map(e=>e.linkId);this.registerCustomResolver({name:"localResolveNavigationResolver",cleanHash:function(e){if(e===""){return"#"}const n=t.parseShellHash(e.substring(1));if(!n){return"#"}e=`#${n.semanticObject}-${n.action}`;return e},_getIndex:function(e){const t=this.cleanHash(e);return m.indexOf(t.substring(1))},isApplicable:function(e){return this._getIndex(e)>=0},resolveHashFragment:function(e){const n=this._getIndex(e);const s=new jQuery.Deferred;const i=JSON.parse(JSON.stringify(f.resolveLocal[n].resolveTo));const r=t.parseShellHash(e);if(r&&r.params){const e=t.paramsToString(r.params);if(e){const t=i.url.indexOf("?")>=0;i.url=i.url+(t?"&":"?")+e}}s.resolve(i);return s.promise()}})}this.registerCustomResolver({name:"LocalResolver",aElement:undefined,cleanHash:function(e){if(e===""){return undefined}const n=t.parseShellHash(e.substring(1));if(!n){return undefined}e=`#${n.semanticObject}-${n.action}`;return e},isApplicable:function(e){e=this.cleanHash(e);if(!e){return false}return e==="#Test-url"||e==="#Test-local1"||e==="#Test-local2"||e==="#Test-config"||e==="#Test-clear"},parseUrl:function(e){if(!this.aElement){this.aElement=window.document.createElement("a")}this.aElement.href=e;return this.aElement},resolveHashFragment:function(t){const n=new jQuery.Deferred;const s=this;t=this.cleanHash(t);if(!t){return false}const i={"#Test-config":{applicationType:"URL",url:"/sap/bc/ui5_ui5/ui2/ushell/test-resources/sap/ushell/demoapps/FioriSandboxConfigApp",additionalInformation:"SAPUI5.Component=sap.ushell.demoapps.FioriSandboxConfigApp",navigationMode:"embedded"},none:{applicationType:"URL",url:"",additionalInformation:""}};function r(e){if(localStorage){return localStorage[e]}return undefined}function a(t){if(e.calculateOrigin(s.parseUrl(t))!==e.calculateOrigin(window.location)){return undefined}return t}function o(e){return new URLSearchParams(window.location.search).get(e)}function c(e,t){if(localStorage){localStorage[e]=t}}let u;if(i[t]){u=i[t]}else if(t==="#Test-clear"){c("sap.ushell.#Test-local1",undefined);c("sap.ushell.#Test-local2",undefined);l.info("NavTargetResolutionInternal: Local storage keys for #Test have been cleared");u=i["#Test-config"]}else if(t==="#Test-local1"||t==="#Test-local2"||t==="#Test-url"){u=r(`sap.ushell.${t}`);let e;if(!u||u==="undefined"){e={applicationType:"URL",navigationMode:"embedded"}}else{e=JSON.parse(u)}if(window.location.hostname==="localhost"||f&&f.allowTestUrlComponentConfig){const n=`sap-ushell-test-${t.substring(6)}`;const s=o(`${n}-additionalInformation`);if(s){e.additionalInformation=s}const i=o(`${n}-url`);if(i){e.url=a(i)}}if(!e.url){l.info(`NavTargetResolutionInternal: No configured app for ${t} found ( local storage or url params sap-ushell-test-local1-url  sap-ushell-test-local1-additionalInfo  not supplied? `);l.info("NavTargetResolutionInternal: Defaulting to config app ...\n");n.reject(new Error("URL is not resolvable"));return n.promise()}e.url=a(e.url);u=e}if(u.url===undefined){n.reject(new Error("URL is not resolvable"));return n.promise()}l.info(`NavTargetResolutionInternal: As URL:  http://localhost:8080/sap/bc/ui5_ui5/ui2/ushell/shells/abap/FioriLaunchpad.html?sap-ushell-test-local1-url=${encodeURIComponent(u&&u.url||"")}&sap-ushell-test-local1-additionalInformation=${encodeURIComponent(u&&u.additionalInfo||"")}#Test-local1`);l.info(`NavTargetResolutionInternal: Resolving ${t} to ${JSON.stringify(u)}`);n.resolve(u);return n.promise()}});this.getCurrentResolution=function(){return S}}u.hasNoAdapter=false;return u});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Navigation/compatibility", ["sap/base/util/isPlainObject","sap/ushell/Container","sap/ushell/services/Navigation/utils","sap/ushell/TechnicalParameters","sap/ushell/utils","sap/ushell/utils/type"],(t,e,a,n,s,r)=>{"use strict";const i={};i.getLinks=async function(a={}){const n=await e.getServiceAsync("Navigation");if(t(a)){const[t]=await n.getLinks([a]);return t}const s=a.reduce((t,[e])=>{t.push(e);return t},[]);const r=await n.getLinks(s);const i=r.reduce((t,e)=>{t.push([e]);return t},[]);return i};i.getAppStateData=async function(t){const a=await e.getServiceAsync("Navigation");if(typeof t==="string"){const[e]=await a.getAppStateData([t]);return e}const n=t.reduce((t,[e])=>{t.push(e);return t},[]);const s=await a.getAppStateData(n);const r=s.reduce((t,e)=>{t.push([e]);return t},[]);return r};i.getSemanticObjectLinks=async function(t,i,c,o,p,u){const g=await e.getServiceAsync("Navigation");const[l]=await s.requireAsync(["sap/ushell/appIntegration/AppLifeCycle"]);let m=await a.injectStickyParameters({args:{params:i},appLifeCycle:l,technicalParameters:n,type:r});m=g.getTargetWithCurrentSystem(m,o).params;m=g.amendTargetWithSapUshellEncTestParameter({params:m}).params;const y=await e.getServiceAsync("NavTargetResolutionInternal");if(!Array.isArray(t)){const e=y.getLinks({semanticObject:t,params:m,ignoreFormFactor:c,ui5Component:o,appStateKey:p,compactIntents:!!u});return s.promisify(e)}return Promise.all(t.map(async t=>{const[e,a,n,r,i,c]=t;const o=y.getLinks({ignoreFormFactor:!!n,compactIntents:!!c,semanticObject:e,params:a,ui5Component:r,appStateKey:i});const p=await s.promisify(o);return[p]}))};i.isIntentSupported=async function(t,a){const n=await e.getServiceAsync("Navigation");const r={};const i=t.map(t=>{const e=n.getTargetWithCurrentSystem(t,a);r[e]=t;return e});const c=await e.getServiceAsync("NavTargetResolutionInternal");const o=c.isNavigationSupported(i);const p=await s.promisify(o);return p.reduce((t,e,a)=>{const n=i[a];const s=r[n];t[s]=e;return t},{})};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Navigation/utils", ["sap/base/util/isPlainObject","sap/base/util/ObjectPath","sap/base/Log","sap/ushell/Container","sap/ushell/utils/UrlParsing"],(t,e,r,n,a)=>{"use strict";const s={};s.extractGetLinksParameterOptions=function(t){return s._parseGetLinksParameters(t).filter(t=>Object.keys(t.options).length>0).map(t=>({name:t.name,options:t.options}))};s.extractGetLinksParameterDefinition=function(t){return s._parseGetLinksParameters(t).reduce((t,e)=>{t[e.name]=e.value;return t},{})};s._parseGetLinksParameters=function(t){if(Object.prototype.toString.apply(t)!=="[object Object]"){return[]}const e=JSON.parse(JSON.stringify(t));return Object.keys(e).map(t=>{let r=e[t];let n={};if(Object.prototype.toString.apply(r)==="[object Object]"){r=r.value;delete e[t].value;n=e[t]}return{name:t,value:r,options:n}})};s._safeParseToObject=function(t){try{return JSON.parse(t)}catch(t){r.error("Cannot parse the given string to object",t)}return null};s._createAppStateFromData=function(t){return n.getServiceAsync("AppState").then(e=>{const r=e.createEmptyAppState(null);r.setData(t);r.save();return r.getKey()})};s._extractParameter=function(n,c){let i;let o=null;if(typeof n==="string"){if(n.indexOf(`${c}=`)===-1){return{intent:n,data:null}}const t=a.parseShellHash(n);if(!t){return{intent:n,data:null}}o=t.params[c];delete t.params[c];i=a.constructShellHash(t);return{intent:i,data:o}}if(t(n)){const t=e.get("target.shellHash",n);if(typeof t==="string"){const e=s._extractParameter(t,c);n.target.shellHash=e.intent;return{intent:n,data:e.data}}const r=n.params;if(r&&r[c]){const t=r[c];o=typeof t==="string"?[t]:t;delete r[c]}return{intent:n,data:o}}r.error("Invalid input parameter","expected string or object");return{intent:n}};s.addXAppStateFromParameter=function(t,e){const r=s._extractParameter(t,e);const n=r.intent;const a=r.data&&r.data[0];if(!a){return Promise.resolve()}const c=s._safeParseToObject(a);if(!c){return Promise.resolve()}return s._createAppStateFromData(c).then(t=>{s._injectParameter(n,"sap-xapp-state",t)})};s._injectParameter=function(t,r,n){if(typeof t==="string"){const e=a.parseShellHash(t);e.params[r]=n;return a.constructShellHash(e)}if(Object.prototype.toString.apply(t)==="[object Object]"){const a=e.get("target.shellHash",t);if(typeof a==="string"){t.target.shellHash=s._injectParameter(a,r,n);return t}if(!t.params){t.params={}}t.params[r]=n}return t};s.injectParameters=function(t){const e=t.inject;const r=t.injectEmptyString||{};const n=t.type;const a=t.args;function c(t,e){return t||t===""&&e}if(n.isPlainObject(a)){if(a.target&&a.target.shellHash){if(typeof a.target.shellHash==="string"){a.target.shellHash=s.injectParameters({inject:e,injectEmptyString:r,type:t.type,args:a.target.shellHash})}return a}const n=Object.keys(e).reduce((t,n)=>{const a=e[n];const s=r[n]===true;if(c(a,s)&&typeof t==="string"){const e=new RegExp(`[&]${n}`);const r=!e.test(t);if(r){const e=t?"&":"";t+=`${e+n}=${a}`}}else if(c(a,s)&&!t.hasOwnProperty(n)){t[n]=a}return t},a.params||{});if(n&&Object.keys(n).length>0){a.params=n}return a}let i=a;if(i){Object.keys(e).forEach(t=>{const n=e[t];const a=r[t]===true;const s=new RegExp(`[?&]${t}`);const o=!s.test(i);if(c(n,a)&&o){const e=i.indexOf("?")>-1?"&":"?";i+=`${e+t}=${n}`}})}return i};s.injectStickyParameters=function(t){return n.getServiceAsync("AppLifeCycle").then(e=>s._injectStickyParameters(t,e))};s._injectStickyParameters=function(t,e){if(!e||Object.keys(e).length<=0){return t.args}const r=e.getCurrentApplication();if(!r||Object.keys(r).length<=0){return t.args}const n=t.appLifeCycle;const a=t.technicalParameters;const c=a.getParameters({sticky:true}).reduce((t,e)=>{const s=e.name;const c=r.componentInstance;const i=r.applicationType;let o;if(i==="UI5"){o={}}else{o=n.getCurrentApplication().container}const p=a.getParameterValueSync(s,c,o,i);const l=e.stickyName||s;t[l]=p;return t},{});const i={type:t.type,inject:c,args:t.args};return s.injectParameters(i)};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PageBuilding", ["sap/ui/thirdparty/jquery"],jQuery=>{"use strict";function e(e,t){this.getFactory=function(){return e.getFactory()};this.getPage=function(t){return e.getFactory().createPage(t)};this.getPageSet=function(t){const r=new jQuery.Deferred;e.getFactory().createPageSet(t,r.resolve.bind(r),e=>{r.reject(new Error(e))});return r.promise()}}e.hasNoAdapter=false;return e},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Pages", ["sap/base/Log","sap/ushell/utils/RestrictedJSONModel","sap/base/util/deepClone","sap/base/util/extend","sap/base/util/deepExtend","sap/ushell/resources","sap/ushell/utils","sap/ushell/Config","sap/ushell/Container","sap/ushell/adapters/cdm/v3/utilsCdm","sap/ushell/adapters/cdm/v3/_LaunchPage/readUtils","sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations","sap/base/util/ObjectPath"],(t,e,i,a,o,s,n,r,c,l,d,h,u)=>{"use strict";function g(){this.COMPONENT_NAME="sap.ushell.services.Pages";this._oCdmServicePromise=c.getServiceAsync("CommonDataModel");this._oCSTRServicePromise=c.getServiceAsync("ClientSideTargetResolution");this._oPagesModel=new e({pages:[]});this._bImplicitSaveEnabled=true;this._aPagesToBeSaved=[]}g.prototype._generateId=function(t){const e=[];const i=this.getModel().getProperty(this.getPagePath(t));i.sections.forEach(t=>{e.push(t.id);t.visualizations.forEach(t=>{e.push(t.id)})});return n.generateUniqueId(e)};g.prototype.getModel=function(){return this._oPagesModel};g.prototype.enableImplicitSave=function(t){this._bImplicitSaveEnabled=t};g.prototype.getPageIndex=function(t){const e=this._oPagesModel.getProperty("/pages");for(let i=0;i<e.length;++i){if(e[i].id===t){return i}}return undefined};g.prototype.getPagePath=function(t){const e=this.getPageIndex(t);if(typeof e==="undefined"){return""}return`/pages/${e}`};g.prototype.loadPage=async function(e){const i=this.getPagePath(e);if(i){return i}n.setPerformanceMark(["FLP-Pages-Service-loadPage-start[",e,"]"].join(""));let a;try{a=await this._oCdmServicePromise}catch(e){t.error("Pages - loadPage: Couldn't resolve CDM Service.",e,this.COMPONENT_NAME);throw e}try{const t=await a.getPage(e);const i=await a.getCachedVisualizations();const o=await a.getApplications();const s=await a.getCachedVizTypes();const r=await this._getModelForPage(t,i,o,s);const c=this._oPagesModel.getProperty("/pages/").length;const l=`/pages/${c}`;this._oPagesModel._setProperty(l,r);n.setPerformanceMark(["FLP-Pages-Service-loadPage-end[",e,"]"].join(""));return l}catch(e){t.error("Pages - loadPage: Failed to gather site data.",e,this.COMPONENT_NAME);throw e}};g.prototype.loadPages=async function(e){let i;try{i=await this._oCdmServicePromise}catch(e){t.error("Pages - loadPages: Couldn't resolve CDM Service.",e,this.COMPONENT_NAME);throw e}await i.getPages(e);const a=await Promise.all(e.map(t=>this.loadPage(t)));const o={};e.forEach((t,e)=>{o[t]=a[e]});return o};g.prototype.findVisualization=async function(e,i,a,o){let s;try{s=await this._oCdmServicePromise}catch(e){t.error("Pages - findVisualization: Personalization cannot be saved: CDM Service cannot be retrieved.",e,this.COMPONENT_NAME);throw e}try{const t=await this.loadPage(e);await s.getCachedVisualizations();await s.getApplications();const n=this.getModel().getProperty(`${t}/sections`)||[];return n.reduce((t,s,n)=>{if(i&&s.id!==i){return t}const r=s.visualizations.reduce((t,e,i)=>{if(a&&e.vizId===a||o&&e.id===o){t.push(i)}return t},[]);if(r.length){t.push({pageId:e,sectionIndex:n,vizIndexes:r})}return t},[])}catch(e){t.error("Pages - findVisualization: Couldn't load page, get visualizations or applications.",e,this.COMPONENT_NAME);throw e}};g.prototype.moveVisualization=async function(e,a,o,s,n){if(a===s&&o===n){return Promise.resolve({visualizationIndex:n})}this.setPersonalizationActive(true);const r=this._oPagesModel.getProperty(`/pages/${e}`);const c=r.id;const l=r.sections;const d=l[a];const h=l[s];const u=d.id;const g=h.id;const p=d.visualizations[o];const P=p.id;d.visualizations=d.visualizations.concat([]);h.visualizations=h.visualizations.concat([]);d.visualizations.splice(o,1);if(n===-1){n=h.visualizations.length}h.visualizations.splice(n,0,p);let f;if(h.visualizations[n]){f=n-1}else{f=h.visualizations.length-2}let v;if(h.visualizations[f]){v=h.visualizations[f].id}if(d.default&&!d.visualizations.length){l.splice(a,1)}this._oPagesModel.refresh();let y;try{const t=await this._oCdmServicePromise;y=await t.getPage(c)}catch(e){this.setPersonalizationActive(false);t.error("Pages - moveVisualization: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",e,this.COMPONENT_NAME);throw e}try{const t=y.payload.sections[u];const e=t.layout.vizOrder;const o=t.viz;const s=y.payload.sections[g];const r=s.layout.vizOrder;const l=s.viz;const d=i(o[P]);const h=e.indexOf(P);e.splice(h,1);const p=v?r.indexOf(v)+1:0;r.splice(p,0,P);if(u!==g){delete o[P];l[P]=d}if(t.default&&!Object.keys(o).length){delete y.payload.sections[u];y.payload.layout.sectionOrder.splice(a,1)}await this._conditionalSavePersonalization(c);return{visualizationIndex:n}}catch(t){this.setPersonalizationActive(false);throw t}};g.prototype.deleteVisualization=async function(e,i,a){const o=this._oPagesModel.getProperty(`/pages/${e}`);const s=o.sections[i];if(s.default&&s.visualizations.length<2){return this.deleteSection(e,i)}this.setPersonalizationActive(true);const n=s.visualizations;const r=n[a];n.splice(a,1);this._oPagesModel.refresh();let c;try{const t=await this._oCdmServicePromise;c=await t.getPage(o.id)}catch(e){this.setPersonalizationActive(false);t.error("Pages - deleteVisualization: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",e,this.COMPONENT_NAME);throw e}try{const t=c.payload.sections[s.id].layout.vizOrder;const e=c.payload.sections[s.id].viz;const i=t.indexOf(r.id);delete e[r.id];if(i>-1){t.splice(i,1)}return await this._conditionalSavePersonalization(c.identification.id)}catch(t){this.setPersonalizationActive(false);throw t}};g.prototype._getSectionIndex=function(t,e){const i=this.getModel().getProperty(`${t}/sections`)||[];for(let t=0;t<i.length;t+=1){if(i[t].id===e){return t}}};g.prototype._getVisualizationData=async function(t,e,i,a,o,s,n){const r=a||{vizId:e};const c={applications:o,visualizations:i,vizTypes:s};const l=await d.getVizData(c,r,n);if(!l.id){l.id=this._generateId(t)}return l};g.prototype.addVisualization=async function(e,i,a,o){let n;try{n=await this._oCdmServicePromise}catch(e){t.error("Pages - addVisualization: Personalization cannot be saved: CDM Service cannot be retrieved.",e,this.COMPONENT_NAME);throw e}try{let r;try{r=await Promise.all([this.loadPage(e),n.getVisualizations(),n.getApplications(),n.getVizTypes()])}catch(e){t.error("Pages - addVisualization: Personalization cannot be saved: Failed to load page, get visualizations or get applications.",e,this.COMPONENT_NAME);throw e}const[c,l,d,h]=r;const u=this._getSectionIndex(c,i);const g=this.getModel().getProperty(`${c}/sections`)||[];const p=await this._getVisualizationData(e,a,l,null,d,h);if(o){p.displayFormatHint=o}let P;for(let t=0;t<g.length;t++){if(g[t].default){P=t}}if(u!==undefined||P!==undefined){this.setPersonalizationActive(true);const s=u!==undefined?u:P||0;const r=`${c}/sections/${s}/visualizations`;this.getModel().getProperty(r).push(p);this.getModel().refresh();let l;try{l=await n.getPage(e)}catch(e){t.error("Pages - addVisualization: Personalization cannot be saved: Failed to get page.",e,this.COMPONENT_NAME);throw e}const d=l.payload.sections[i||l.payload.layout.sectionOrder[0]];d.layout.vizOrder.push(p.id);d.viz[p.id]={id:p.id,vizId:a};if(o){d.viz[p.id].displayFormatHint=o}return this._conditionalSavePersonalization(e)}const f=parseInt(c.split("/")[2],10);return await this.addSection(f,0,{title:s.i18n.getText("DefaultSection.Title"),default:true,visualizations:[p]})}catch(t){this.setPersonalizationActive(false);throw t}};g.prototype.copyVisualization=function(t,e,i){const a=i.isBookmark;if(!a){return this.addVisualization(t,e,i.vizId,i.displayFormatHint)}return this.addBookmarkToPage(t,{title:i.title,subtitle:i.subtitle,url:i.targetURL,icon:i.icon,info:i.info,serviceUrl:i.indicatorDataSource?i.indicatorDataSource.path:"",serviceRefreshInterval:i.indicatorDataSource?i.indicatorDataSource.refresh:"",numberUnit:i.numberUnit,vizType:i.vizType,vizConfig:i.vizConfig},e)};g.prototype.moveSection=async function(e,i,a){if(i===a){return Promise.resolve()}this.setPersonalizationActive(true);const o=this._oPagesModel.getProperty(`/pages/${e}/id`);const s=this._oPagesModel.getProperty(`/pages/${e}/sections`);const n=this._oPagesModel.getProperty(`/pages/${e}/sections/${i}`);const r=n.id;s.splice(i,1);if(i<a){a--}s.splice(a,0,n);this._oPagesModel.refresh();let c;try{const t=await this._oCdmServicePromise;c=await t.getPage(o)}catch(e){this.setPersonalizationActive(false);t.error("Pages - moveSection: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",e,this.COMPONENT_NAME);throw e}try{const t=c.payload.layout.sectionOrder;t.splice(t.indexOf(r),1);t.splice(a,0,r);return await this._conditionalSavePersonalization(o)}catch(t){this.setPersonalizationActive(false);throw t}};g.prototype.addSection=async function(e,i,a){this.setPersonalizationActive(true);const o=a||{};const s=this._oPagesModel.getProperty(`/pages/${e}/sections`);const n=this._oPagesModel.getProperty(`/pages/${e}/id`);const r={id:o.id!==undefined?o.id:this._generateId(n),title:o.title!==undefined?o.title:"",visible:o.visible!==undefined?o.visible:true,preset:o.preset!==undefined?o.preset:false,locked:o.locked!==undefined?o.locked:false,default:o.default!==undefined?o.default:false,visualizations:o.visualizations!==undefined?o.visualizations:[]};s.splice(i,0,r);this._oPagesModel.refresh();let c;try{const t=await this._oCdmServicePromise;c=await t.getPage(n)}catch(e){this.setPersonalizationActive(false);t.error("Pages - addSection: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",e,this.COMPONENT_NAME);throw e}try{const t={id:r.id,title:r.title,visible:r.visible,preset:r.preset,locked:r.locked,default:r.default,layout:{vizOrder:[]},viz:{}};if(r.visualizations){let e;for(let i=0;i<r.visualizations.length;i++){e=r.visualizations[i];t.layout.vizOrder.push(e.id);if(e.isBookmark){t.viz[e.id]=d.getVizRef(e)}else{t.viz[e.id]={id:e.id,vizId:e.vizId};if(e.displayFormatHint){t.viz[e.id].displayFormatHint=e.displayFormatHint}}}}c.payload.layout.sectionOrder.splice(i,0,r.id);c.payload.sections[r.id]=t;return await this._conditionalSavePersonalization(n)}catch(t){this.setPersonalizationActive(false);throw t}};g.prototype.deleteSection=async function(e,i){this.setPersonalizationActive(true);const a=this._oPagesModel.getProperty(`/pages/${e}/id`);const o=this._oPagesModel.getProperty(`/pages/${e}/sections`);const s=o[i].id;o.splice(i,1);this._oPagesModel.refresh();let n;try{const t=await this._oCdmServicePromise;n=await t.getPage(a)}catch(e){this.setPersonalizationActive(false);t.error("Pages - deleteSection: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",e,this.COMPONENT_NAME);throw e}try{delete n.payload.sections[s];n.payload.layout.sectionOrder.splice(i,1);return await this._conditionalSavePersonalization(a)}catch(t){this.setPersonalizationActive(false);throw t}};g.prototype.setSectionVisibility=async function(e,i,a){this.setPersonalizationActive(true);const o=this._oPagesModel.getProperty(`/pages/${e}/id`);const s=this._oPagesModel.getProperty(`/pages/${e}/sections/${i}/id`);const n=this._oPagesModel.getProperty(`/pages/${e}/sections/${i}`);if(n.visible===a){return Promise.resolve()}n.visible=a;this._oPagesModel.refresh();let r;try{const t=await this._oCdmServicePromise;r=await t.getPage(o)}catch(e){this.setPersonalizationActive(false);t.error("Pages - setSectionVisibility: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",e,this.COMPONENT_NAME);throw e}try{r.payload.sections[s].visible=a;return await this._conditionalSavePersonalization(o)}catch(t){this.setPersonalizationActive(false);throw t}};g.prototype.renameSection=async function(e,i,a){this.setPersonalizationActive(true);const o=this._oPagesModel.getProperty(`/pages/${e}`);const s=o.sections[i];s.title=a;this._oPagesModel.refresh();let n;try{const t=await this._oCdmServicePromise;n=await t.getPage(o.id)}catch(e){this.setPersonalizationActive(false);t.error("Pages - renameSection: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",e,this.COMPONENT_NAME);throw e}try{n.payload.sections[s.id].title=a;return await this._conditionalSavePersonalization(n.identification.id)}catch(t){this.setPersonalizationActive(false);throw t}};g.prototype.resetSection=async function(e,a){this.setPersonalizationActive(true);const o=this._oPagesModel.getProperty(`/pages/${e}/id`);const s=this._oPagesModel.getProperty(`/pages/${e}/sections/${a}/id`);let n;let r;let c;let l;let d;try{const t=await this._oCdmServicePromise;n=await t.getCachedVisualizations();r=await t.getApplications();c=await t.getPage(o);l=await t.getOriginalPage(o);d=await t.getCachedVizTypes()}catch(e){this.setPersonalizationActive(false);t.error("Pages - resetSection: Personalization cannot be saved: Failed to gather data from CDM Service.",e,this.COMPONENT_NAME);throw e}try{const t=await this._getModelForPage(l,n,r,d);const h=i(t.sections.find(t=>t.id===s),20);const u=h.visualizations.map(t=>t.id);const g=this._oPagesModel.getProperty(`/pages/${e}`);g.sections.forEach(t=>{if(h.id!==t.id){t.visualizations.forEach(e=>{if(u.indexOf(e.id)!==-1){const a=this._generateId(o);const s=i(c.payload.sections[t.id].viz[e.id]);delete c.payload.sections[t.id].viz[e.id];const n=c.payload.sections[t.id].layout.vizOrder.indexOf(s.id);s.id=a;c.payload.sections[t.id].viz[a]=s;c.payload.sections[t.id].layout.vizOrder[n]=a;e.id=a}})}});this._oPagesModel._setProperty(`/pages/${e}/sections/${a}`,h);c.payload.sections[h.id]=l.payload.sections[h.id];return await this._conditionalSavePersonalization(c.identification.id)}catch(t){this.setPersonalizationActive(false);throw t}};g.prototype.resetPage=async function(e){this.setPersonalizationActive(true);const a=this._oPagesModel.getProperty(`/pages/${e}/id`);let o;let s;let n;let r;let c;try{const t=await this._oCdmServicePromise;o=await t.getCachedVisualizations();s=await t.getApplications();n=await t.getPage(a);r=await t.getOriginalPage(a);c=await t.getCachedVizTypes()}catch(e){this.setPersonalizationActive(false);t.error("Pages - resetPage: Personalization cannot be saved: Failed to gather data from CDM Service.",e,this.COMPONENT_NAME);throw e}try{const t=await this._getModelForPage(r,o,s,c);this._oPagesModel._setProperty(`/pages/${e}`,t);n.payload=i(r.payload);return await this._conditionalSavePersonalization(n.identification.id)}catch(t){this.setPersonalizationActive(false);throw t}};g.prototype.setPersonalizationActive=function(t){if(!this._bDirtyState&&t===true){this._bDirtyState=true;this._oCopiedModelData=i(this._oPagesModel.getProperty("/"),20)}else if(this._bDirtyState&&t===false){this._oPagesModel._setData(this._oCopiedModelData);this._bDirtyState=false}};g.prototype.savePersonalization=async function(e){let a;if(!e){a=i(this._aPagesToBeSaved)}else{a=[e]}try{const t=await this._oCdmServicePromise;await Promise.all(a.map(e=>{const i=this._aPagesToBeSaved.indexOf(e);this._aPagesToBeSaved.splice(i,1);return new Promise((i,a)=>{t.save(e).then(i).catch(a)}).catch(t=>{if(this._aPagesToBeSaved.indexOf(e)===-1){this._aPagesToBeSaved.push(e)}throw t})}));this._bDirtyState=false}catch(e){t.error("Pages - savePersonalization: Personalization cannot be saved: CDM Service cannot be retrieved or the save process encountered an error.",e,this.COMPONENT_NAME);throw e}};g.prototype._conditionalSavePersonalization=function(t){if(this._bImplicitSaveEnabled){return this.savePersonalization(t)}if(this._aPagesToBeSaved.indexOf(t)===-1){this._aPagesToBeSaved.push(t)}return Promise.resolve()};g.prototype._getModelForPage=async function(e,i,a,o){const c={id:e&&e.identification&&e.identification.id||"",title:e&&e.identification&&e.identification.title||"",description:"",sections:[]};n.setPerformanceMark(["FLP-Pages-Service-getModelForPage-start[",c.id,"]"].join(""));const l=await this._oCSTRServicePromise;const d=r.last("/core/catalog/enableHideGroups");for(const n of e.payload.layout.sectionOrder){const r=e.payload.sections[n];const h={id:r.id||"",title:r.default?s.i18n.getText("DefaultSection.Title"):r.title||"",visualizations:[],visible:!d||(r.visible!==undefined?r.visible:true),locked:r.locked!==undefined?r.locked:false,preset:r.preset!==undefined?r.preset:true,default:r.default!==undefined?r.default:false};c.sections.push(h);for(const s of r.layout.vizOrder){const n=r.viz[s];const c=n.vizId;const d=await l.getSystemContext(n.contentProviderId);const u=await this._getVisualizationData(e.identification.id,c,i,n,a,o,d);const g=await this._isIntentSupported(u,l);if(!g){t.warning(`The visualization with title '${u.title}' and ID '${u.vizId}' is filtered out, because intent '${u.targetURL}' is not supported.`,null,this.COMPONENT_NAME)}else{h.visualizations.push(u)}}}n.setPerformanceMark(["FLP-Pages-Service-getModelForPage-end[",c.id,"]"].join(""));return c};g.prototype.removeUnsupportedVisualizations=async function(t,e){const i=await this._oCSTRServicePromise;const a=this.getModel().getProperty(`/pages/${t}/sections/${e}/visualizations/`);const o=[];for(let t=a.length-1;t>=0;--t){o.push(this._isIntentSupported(a[t],i).then(((t,e)=>{if(!e){a.splice(t,1)}return e}).bind(this,t)))}const s=await Promise.all(o);if(s.indexOf(false)!==-1){this.getModel().refresh()}};g.prototype._isIntentSupported=async function(t,e){if(t.target===undefined){return false}if(t.target.type==="URL"){if(h.isStandardVizType(t.vizType)){return Promise.resolve(!!t.target.url)}return true}try{const i=await e.isIntentSupported([t.targetURL]);return i[t.targetURL].supported}catch{return false}};g.prototype.addBookmarkToPage=async function(e,i,a,o){if(!e){throw new Error("Pages - addBookmarkToPage: Adding bookmark tile failed: No page id is provided.")}const n=d.getBookmarkVizTypeIds(i);this.setPersonalizationActive(true);const[r,c]=await Promise.all([this._oCdmServicePromise,this._oCSTRServicePromise]);const h=await Promise.all(n.map(t=>r.getVizType(t)));const g={};h.forEach((t,e)=>{g[n[e]]=t;return g});let p;try{p=await Promise.all([this.loadPage(e),g,c.getSystemContext(o)])}catch(e){t.error("Pages - addBookmarkToPage: Personalization cannot be saved: Could not load page.",e,this.COMPONENT_NAME);throw e}const[P,f,v]=p;const y={id:this._generateId(e),vizType:i.vizType,title:i.title,subTitle:i.subtitle,icon:i.icon,info:i.info,numberUnit:i.numberUnit,target:l.toTargetFromHash(i.url),indicatorDataSource:{path:i.serviceUrl,refresh:i.serviceRefreshInterval},vizConfig:i.vizConfig,isBookmark:true};if(i.dataSource){y.dataSource={type:i.dataSource.type,settings:{odataVersion:u.get(["dataSource","settings","odataVersion"],i)}}}if(o){y.contentProviderId=o}const z=await this._getVisualizationData(e,undefined,{},y,{},f,v);const _=parseInt(/pages\/(\d+)/.exec(P)[1],10);const m=this._oPagesModel.getProperty(P);let w;if(a){w=m.sections.find(t=>t.id===a);if(!w){t.error("Pages - addBookmarkToPage: Adding bookmark tile failed: specified section was not found in the page.");throw new Error("Pages - addBookmarkToPage: Adding bookmark tile failed: specified section was not found in the page.")}}else{w=m.sections.find(t=>t.default);if(!w){return this.addSection(_,0,{title:s.i18n.getText("DefaultSection.Title"),default:true,visualizations:[z]})}}try{w.visualizations.push(z);this._oPagesModel.refresh();let i;try{i=await r.getPage(e)}catch(e){t.error("Pages - addBookmarkToPage: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",e,this.COMPONENT_NAME);throw e}const a=i.payload.sections[w.id];a.layout.vizOrder.push(z.id);a.viz[z.id]=d.getVizRef(z);return await this._conditionalSavePersonalization(e)}catch(t){this.setPersonalizationActive(false);throw t}};g.prototype._visitPages=async function(t){const e=await this._oCdmServicePromise;const i=await e.getAllPages()||[];i.forEach(e=>{t(e)})};g.prototype._visitSections=function(t){return this._visitPages(e=>{const i=e.payload&&e.payload.sections||{};Object.keys(i).forEach(a=>{t(i[a],e)})})};g.prototype._visitVizReferences=function(t){return this._visitSections((e,i)=>{const a=e.viz||{};Object.keys(a).forEach(o=>{t(a[o],e,i)})})};g.prototype._findBookmarks=async function(t){const e=[];let i=l.toTargetFromHash(t.url);i=d.harmonizeTarget(i);await this._visitVizReferences((a,o,s)=>{if(a.isBookmark&&t.vizType===a.vizType&&(a.contentProviderId||"")===(t.contentProviderId||"")&&l.isSameTarget(i,a.target)){e.push({vizRefId:a.id,sectionId:o.id,pageId:s.identification.id})}});return e};g.prototype.countBookmarks=async function(t){const e=await this._findBookmarks(t);return e.length};g.prototype.deleteBookmarks=async function(t,e,i){let a=0;const o=await this._findBookmarks(t);await o.reduce((t,o)=>{if(e&&o.pageId!==e){return t}if(i&&o.sectionId!==i){return t}return t.then(()=>this.findVisualization(o.pageId,o.sectionId,null,o.vizRefId)).then(t=>{const e=t[0];const i=this.getPageIndex(e.pageId);return this.deleteVisualization(i,e.sectionIndex,e.vizIndexes[0])}).then(()=>{a=a+1}).catch(()=>{})},Promise.resolve());return a};g.prototype.updateBookmarks=async function(e,i){if(!e||!e.url||typeof e.url!=="string"){t.error("Fail to update bookmark. No valid URL");throw new Error("Invalid URL provided")}if(!i||typeof i!=="object"){t.error(`Fail to update bookmark. No valid parameters, URL is: ${e.url}`);throw new Error("Missing parameters")}let a=0;const o=await Promise.all([this._findBookmarks(e)]);const s=o[0];await s.reduce((t,e)=>t.then(()=>this.findVisualization(e.pageId,e.sectionId,null,e.vizRefId)).then(t=>{const e=t[0];const a=this.getPageIndex(e.pageId);const o={subtitle:i.subtitle,icon:i.icon,info:i.info,numberUnit:i.numberUnit,indicatorDataSource:{path:i.serviceUrl,refresh:i.serviceRefreshInterval},vizConfig:i.vizConfig};if(i.title){o.title=i.title}if(i.url){o.target=d.harmonizeTarget(l.toTargetFromHash(i.url))}return this.updateVisualization(a,e.sectionIndex,e.vizIndexes[0],o)}).then(()=>{a=a+1}).catch(()=>{}),Promise.resolve());return a};g.prototype.updateVisualization=async function(t,e,s,n){const r=await this._oCdmServicePromise;const[c,h,u]=await Promise.all([r.getCachedVisualizations(),r.getApplications(),r.getCachedVizTypes()]);const g=this._oPagesModel.getProperty(`/pages/${t}`);const p=g.sections[e];const P=p.visualizations;let f=P[s];const v={};this.setPersonalizationActive(true);if(this._isPropertyChanged(f.title,n.title)){v.title=n.title}if(n.target&&!l.isSameTarget(f.target,n.target)){v.target=n.target}if(this._isPropertyChanged(f.subtitle,n.subtitle)){v.subtitle=n.subtitle}if(this._isPropertyChanged(f.icon,n.icon)){v.icon=n.icon}if(this._isPropertyChanged(f.info,n.info)){v.info=n.info}if(this._isPropertyChanged(f.numberUnit,n.numberUnit)){v.numberUnit=n.numberUnit}if(this._isPropertyChanged(f.displayFormatHint,n.displayFormatHint)){v.displayFormatHint=n.displayFormatHint}if(n.indicatorDataSource&&f.indicatorDataSource&&(this._isPropertyChanged(f.indicatorDataSource.path,n.indicatorDataSource.path)||this._isPropertyChanged(f.indicatorDataSource.refresh,n.indicatorDataSource.refresh))){v.indicatorDataSource=i(f.indicatorDataSource);a(v.indicatorDataSource,n.indicatorDataSource)}if(n.vizConfig){f.vizConfig=o({},f.vizConfig,n.vizConfig);v.vizConfig=f.vizConfig}a(f,v);const y=d.getVizRef(f);f=await this._getVisualizationData(g.id,y.vizId,c,y,h,u);P[s]=f;this._oPagesModel.refresh();await this._updateVisualizationCDMData(g.id,p.id,f.id,v);return{pageId:g.id,sectionId:p.id,vizRefId:f.id}};g.prototype._updateVisualizationCDMData=async function(e,i,o,s){let n;try{const t=await this._oCdmServicePromise;n=await t.getPage(e)}catch(e){this.setPersonalizationActive(false);t.error("Pages - updateVisualization: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",e,this.COMPONENT_NAME);throw e}try{const t=n.payload.sections[i].viz[o];const e=d.getVizRef(s);e.vizConfig=s.vizConfig;a(t,e);return await this._conditionalSavePersonalization(n.identification.id)}catch(t){this.setPersonalizationActive(false);throw t}};g.prototype._isPropertyChanged=function(t,e){if((e||e==="")&&t!==e){return true}return false};g.hasNoAdapter=true;return g},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Personalization", ["sap/base/Log","sap/ui/base/ManagedObject","sap/ui/base/Object","sap/ui/core/Core","sap/ui/thirdparty/jquery","sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/constants","sap/ushell/services/_Personalization/ContextContainer","sap/ushell/services/PersonalizationV2/WindowAdapter","sap/ushell/services/_Personalization/TransientPersonalizer","sap/ushell/services/_Personalization/PersonalizationContainer","sap/ushell/services/_Personalization/Personalizer","sap/ushell/services/personalization/VariantSetAdapter","sap/ushell/services/_Personalization/Variant","sap/ushell/services/_Personalization/VariantSet","sap/ushell/services/PersonalizationV2/WindowAdapterContainer"],(e,t,n,r,jQuery,a,i,o,s,p,d,c,l,u,f,h,_)=>{"use strict";function A(e,t,n,r){this._oConfig=r&&r.config||{};this._oAppVariantAdapterWithBackendAdapter=this._configureAppVariantStorage(this._oConfig.appVariantStorage);this._oAdapterWithBackendAdapter={lazy:false,instance:new p(this,e)};this._oAdapterWindowOnly={lazy:false,instance:new p(this,undefined)};this._oContainerMap=new a.Map;this._oPendingOperationsMap=new a.Map}A.prototype.SAVE_DEFERRED_DROPPED="Deferred save dropped (OK) - Data superseded by subsequent save";A.prototype.constants=o;A.prototype._configureAppVariantStorage=function(e){const t=this;const n="sap.ushell.adapters.AppVariantPersonalizationAdapter";if(!e){e={adapter:{module:n}}}if(Object.keys(e).length===0||e.enabled===false){return}const r=e.adapter&&e.adapter.module||n;const a=r.split(".").join("/");function i(){if(!t._oAppVariantAdapterLoadPromise){t._oAppVariantAdapterLoadPromise=new jQuery.Deferred;sap.ui.require([a],e=>{try{const n=new e;const r=new p(t,n);t._oAppVariantAdapterLoadPromise.resolve(r)}catch(e){t._oAppVariantAdapterLoadPromise.reject(e)}},e=>{t._oAppVariantAdapterLoadPromise.reject(e)})}return t._oAppVariantAdapterLoadPromise.promise()}return{lazy:true,create:i}};A.prototype.getGeneratedKey=function(){return a.generateRandomKey()};A.prototype.getPersonalizer=function(e,t,n){n=n||this._getApplicationComponent();return new l(this,this._oAdapterWithBackendAdapter.instance,e,t,n)};A.prototype._getApplicationComponent=function(){const e=t._sOwnerId;if(e){const t=r.getComponent(e);if(n.isA(t,"sap.ui.core.UIComponent")){return t}}return undefined};A.prototype.getTransientPersonalizer=function(){return new d};A.prototype.getContainer=function(e,t,n){n=n||this._getApplicationComponent();return this._createContainer(e,t,false,n)};A.prototype.createEmptyContainer=function(e,t,n){n=n||this._getApplicationComponent();return this._createContainer(e,t,true,n)};A.prototype._createContainer=function(e,t,n,r){const o=new jQuery.Deferred;if(typeof e!=="string"){throw new a.Error("sContainerKey is not a string: sap.ushell.services.Personalization"," ")}const p=!!(i.isAppVariant(r)&&(!t||!t.shared)&&this._oAppVariantAdapterWithBackendAdapter);const d=i.adjustScope(t);let c=i.addContainerPrefix(e);if(p){const e=r.getManifestObject();d.component=r;d.appVarId=e.getEntry("/sap.ui5/appVariantId");d.appVersion=e.getEntry("/sap.app/applicationVersion/version");c+=`#${e.getEntry("/sap.ui5/appVariantId")}`}const l=p?this._oAppVariantAdapterWithBackendAdapter:this._oAdapterWithBackendAdapter;const u=this._oAdapterWindowOnly;const f=i.pickAdapter(t,u,l);i.loadAdapter(f).then(e=>{let t;const a=new s(this,e,c,d,r);const i=e&&e.supportsGetWithoutSubsequentLoad===true;if(n&&i){t=new jQuery.Deferred;t.resolve(a)}else{t=a.load()}t.fail(e=>{o.reject(e)}).done(()=>{if(n||a._isExpired()){a.clear()}o.resolve(a)})}).catch(o.reject);return o.promise()};A.prototype.delContainer=function(e,t){let n={};let r="";t=this._adjustScope(t);r=i.addContainerPrefix(e);n=new jQuery.Deferred;const a=this._pendingContainerOperations_cancelAddNext(e,null);a.always(()=>{this.getContainer(e,t).fail(t=>{this._pendingContainerOperations_cancelAddNext(e,n);n.reject(t)}).done(()=>{this._pendingContainerOperations_cancelAddNext(e,n);const a=t.validity===0?this._oAdapterWindowOnly:this._oAdapterWithBackendAdapter;i.loadAdapter(a).then(e=>{e.delAdapterContainer(r,t).fail(n.reject).done(n.resolve)}).catch(n.reject)})});return n.promise()};A.prototype._pendingContainerOperations_flushAddNext=function(e,t){let n=this._oPendingOperationsMap.get(e);if(!n){n=new jQuery.Deferred;n.resolve()}if(t!==null){this._oPendingOperationsMap.put(e,t)}if(!n||n.state()!=="pending"){return n}clearTimeout(n._sapTimeoutId);n._sapTimeoutId=undefined;if(typeof n._sapFnSave==="function"){const e=n._sapFnSave;n._sapFnSave=undefined;e()}return n};A.prototype._pendingContainerOperations_cancelAddNext=function(e,t){let n=this._oPendingOperationsMap.get(e);if(!n){n=new jQuery.Deferred;n.resolve()}if(t!==null){this._oPendingOperationsMap.put(e,t)}if(!n||n.state()!=="pending"){return n}if(n._sapTimeoutId){clearTimeout(n._sapTimeoutId);n._sapTimeoutId=undefined;n.resolve(A.prototype.SAVE_DEFERRED_DROPPED)}return n};A.prototype.getPersonalizationContainer=function(e){if(typeof e!=="string"){throw new a.Error("sContainerKey is not a string: sap.ushell.services.Personalization"," ")}const t=i.addContainerPrefix(e);if(this._oContainerMap.containsKey(t)){return this._oContainerMap.get(t).promise()}const n=new jQuery.Deferred;const r=new c(this._oAdapterWithBackendAdapter.instance,t);r.done(n.resolve).fail(n.reject);this._oContainerMap.put(t,n);return n.promise()};A.prototype.delPersonalizationContainer=function(e){const t=i.addContainerPrefix(e);const n=new jQuery.Deferred;this.getPersonalizationContainer(e).fail(n.reject).done(()=>{this._oAdapterWithBackendAdapter.instance.delAdapterContainer(t).fail(n.reject).done(()=>{this._oContainerMap.remove(t);n.resolve()})});return n.promise()};A.prototype._getBackendAdapter=function(){return this._oAdapterWithBackendAdapter.instance._oBackendAdapter};A.prototype.resetEntirePersonalization=async function(){const e=this._getBackendAdapter();const t=await this.isResetEntirePersonalizationSupported();if(t){return e.resetEntirePersonalization()}throw new Error("Reset entire personalization is not supported")};A.prototype.isResetEntirePersonalizationSupported=async function(){const t=this._getBackendAdapter();if(typeof t.resetEntirePersonalization!=="function"){return false}if(typeof t.isResetEntirePersonalizationSupported==="function"){try{const e=await t.isResetEntirePersonalizationSupported();return e}catch(t){e.error(`isResetEntirePersonalizationSupported failed with error: ${t.toString()}`);throw t}}return true};A.prototype._adjustScope=i.adjustScope;A.hasNoAdapter=false;A.ContextContainer=s;A.Variant=f;A.VariantSet=h;A.VariantSetAdapter=u;A.WindowAdapter=p;A.WindowAdapterContainer=_;return A},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PersonalizationV2/WindowAdapter", ["sap/ui/thirdparty/jquery","sap/ushell/services/PersonalizationV2/WindowAdapterContainer"],(jQuery,e)=>{"use strict";function t(e,t){this._oBackendAdapter=t;if(t){this.supportsGetWithoutSubsequentLoad=t.supportsGetWithoutSubsequentLoad}}t.prototype.data={};t.prototype.getAdapterContainer=function(r,o,n){const a=this._oBackendAdapter&&this._oBackendAdapter.getAdapterContainer(r,o,n);return new e(r,o,a,t)};t.prototype.delAdapterContainer=function(e,r){const o=new jQuery.Deferred;delete t.prototype.data[e];if(this._oBackendAdapter){this._oBackendAdapter.delAdapterContainer(e,r).done(()=>{o.resolve()}).fail(e=>{o.reject(e)})}else{o.resolve()}return o.promise()};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PersonalizationV2/WindowAdapterContainer", ["sap/ushell/utils","sap/ushell/services/PersonalizationV2/utils","sap/ui/thirdparty/jquery"],(e,t,jQuery)=>{"use strict";function n(t,n,o,i){this._oBackendContainer=o;this._oItemMap=new e.Map;this._sContainerKey=t;this.WindowAdapter=i}function o(e){let t;const n=e.getItemKeys();for(t=0;t<n.length;t=t+1){e.delItem(n[t])}}n.prototype.load=function(){const e=new jQuery.Deferred;let n;let i;if(this.WindowAdapter.prototype.data[this._sContainerKey]){this._oItemMap.entries=t.clone(this.WindowAdapter.prototype.data[this._sContainerKey]);if(this._oBackendContainer){o(this._oBackendContainer);i=this.getItemKeys();for(n=0;n<i.length;n=n+1){this._oBackendContainer.setItemValue(i[n],this._oItemMap.get(i[n]))}}e.resolve()}else if(this._oBackendContainer){const o=this;this._oBackendContainer.load().done(()=>{i=o._oBackendContainer.getItemKeys();for(n=0;n<i.length;n=n+1){o.setItemValue(i[n],o._oBackendContainer.getItemValue(i[n]))}this.WindowAdapter.prototype.data[o._sContainerKey]=t.clone(o._oItemMap.entries);e.resolve()}).fail(t=>{e.reject(t)})}else{this.WindowAdapter.prototype.data[this._sContainerKey]={};e.resolve()}return e.promise()};n.prototype.save=function(){const e=new jQuery.Deferred;this.WindowAdapter.prototype.data[this._sContainerKey]=t.clone(this._oItemMap.entries);if(this._oBackendContainer){this._oBackendContainer.save().done(()=>{e.resolve()}).fail(t=>{e.reject(t)})}else{e.resolve()}return e.promise()};n.prototype.getItemKeys=function(){return this._oItemMap.keys()};n.prototype.containsItem=function(e){return this._oItemMap.containsKey(e)};n.prototype.getItemValue=function(e){return this._oItemMap.get(e)};n.prototype.setItemValue=function(e,t){this._oItemMap.put(e,t);if(this._oBackendContainer){this._oBackendContainer.setItemValue(e,t)}};n.prototype.delItem=function(e){this._oItemMap.remove(e);if(this._oBackendContainer){this._oBackendContainer.delItem(e)}};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PersonalizationV2/constants", [],()=>{"use strict";const E={FIXED_KEY:"FIXED_KEY",GENERATED_KEY:"GENERATED_KEY"};const e={HIGH:"HIGH",LOW:"LOW"};return{keyCategory:E,writeFrequency:e}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PersonalizationV2/constants.private", [],()=>{"use strict";return{S_CONTAINER_PREFIX:"sap.ushell.personalization#",S_ITEM_PREFIX:"ITEM#",S_VARIANT_PREFIX:"VARIANTSET#",S_ABAPTIMESTAMPFORMAT:"yyyyMMddHHmmss",S_ADMIN_PREFIX:"ADMIN#",S_ITEMKEY_SCOPE:"sap-ushell-container-scope",S_ITEMKEY_STORAGE:"sap-ushell-container-storageUTCTimestamp",S_ITEMKEY_EXPIRE:"sap-ushell-container-expireUTCTimestamp"}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PersonalizationV2/utils", ["sap/ushell/services/PersonalizationV2/constants","sap/ushell/services/PersonalizationV2/constants.private","sap/ushell/utils","sap/ui/thirdparty/jquery","sap/base/Log"],(e,t,n,jQuery,i)=>{"use strict";function r(e,t){let n;for(n in t){if(typeof t[n]!=="function"){if(t.hasOwnProperty(n)){if(n===e){return true}}}}return false}function a(e){if(e.length>40){i.error(`Personalization Service container key ("${e}") should be less than 40 characters [current :${e.length}]`)}return t.S_CONTAINER_PREFIX+e}function l(e,t,n){if(e&&e.validity===0){return t}return n}function o(t){const n={validity:Infinity,keyCategory:e.keyCategory.GENERATED_KEY,writeFrequency:e.writeFrequency.HIGH,clientStorageAllowed:false};if(t){n.validity=t.validity;if(n.validity===null||n.validity===undefined||typeof n.validity!=="number"){n.validity=Infinity}if(!(typeof n.validity==="number"&&(n.validity>=0&&n.validity<1e3||n.validity===Infinity))){n.liftime=Infinity}n.keyCategory=r(t.keyCategory,e.keyCategory)?t.keyCategory:n.keyCategory;n.writeFrequency=r(t.writeFrequency,e.writeFrequency)?t.writeFrequency:n.writeFrequency;if(typeof t.clientStorageAllowed==="boolean"&&(t.clientStorageAllowed===true||t.clientStorageAllowed===false)){n.clientStorageAllowed=t.clientStorageAllowed}}return n}async function u(e){if(!e.lazy){return n.promisify(jQuery.when(e.instance))}return n.promisify(e.create.call(null))}function f(e){if(!e){return false}const t=e.getManifestObject();if(!t){return false}const n=t.getEntry("/sap.ui5/appVariantId");if(!n){return false}const i=t.getComponentName();if(n===i){return false}return true}function y(e){if(e===undefined){return undefined}try{return JSON.parse(e)}catch{return undefined}}function s(e){if(e===undefined){return undefined}try{return JSON.parse(JSON.stringify(e))}catch{return undefined}}return{adjustScope:o,cloneToObject:y,clone:s,addContainerPrefix:a,pickAdapter:l,isAppVariant:f,loadAdapter:u}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PluginManager", ["sap/base/Log","sap/ui/thirdparty/jquery","sap/ushell/appIntegration/PostMessagePluginInterface","sap/ushell/services/PluginManager/Extensions","sap/ushell/UI5ComponentType","sap/ushell/utils","sap/ushell/Container","sap/ushell/services/PluginManager/SimpleExpression"],(e,jQuery,n,i,t,o,s,r)=>{"use strict";const l="sap.ushell.services.PluginManager";const a="sap-ushell-plugin-type";const u="RendererExtensions";const c="sap.ushell.components.shell.defaults";const g=[u,"UserDefaults","UserImage","AppWarmup"];function f(f,p,h){const d=this;this._oPluginCollection={};this._oCategoryLoadingProgress={};this._mInitializedComponentPromise={};this._sPluginAgentsNames="";this._oConfig=h&&h.config||{};if(this._oConfig.isBlueBox===undefined){this._oConfig.isBlueBox=false}g.forEach(e=>{d._oPluginCollection[e]={};d._oCategoryLoadingProgress[e]=new jQuery.Deferred});this._handlePluginCreation=async function(n,i,t,s){const r=d._oPluginCollection[n][i];o.setPerformanceMark(`FLP -- PluginManager.loadPlugin[${n}][${i}]`);try{if(r.hasOwnProperty("component")){if(d._mInitializedComponentPromise.hasOwnProperty(r.component)){d._mInitializedComponentPromise[r.component].catch(()=>{}).then(()=>{d._instantiateComponent(r,t,s)})}else{d._mInitializedComponentPromise[r.component]=d._instantiateComponent(r,t,s)}}else{e.error(`Invalid plugin configuration. The plugin ${i} must contain a <component> key`,l)}}catch(n){e.error(`Error while loading bootstrap plugin: ${r.component}`||"",l);if(t){t.reject(n)}}};this._getFileNameForXhrAuth=function(){return"Component-preload.js"};this._handleXhrAuthentication=function(n,i){let t;if(n&&["true",true,"X"].indexOf(n["sap-ushell-xhr-authentication"])>-1){if(!i){e.error(["Illegal state: configuration parameter 'sap-ushell-xhr-authentication-timeout' set, but no component URL specified.","XHR authentication request will not be sent. Please check the target mapping definitions for plug-ins","and the application index."].join(" "),undefined,l);return jQuery.when()}if(n.hasOwnProperty("sap-ushell-xhr-authentication-timeout")){t=parseInt(n["sap-ushell-xhr-authentication-timeout"],10);if(isNaN(t)){e.error(["Invalid value for configuration parameter 'sap-ushell-xhr-authentication-timeout' for plug-in component with URL '",i,"': '",n["sap-ushell-xhr-authentication-timeout"],"' is not a number. Timeout will be ignored."].join(""),undefined,l)}else{s.setXhrLogonTimeout(i,t)}}return jQuery.ajax(`${i}/${this._getFileNameForXhrAuth()}`,{dataType:"text"})}return jQuery.when()};this._instantiateComponent=function(n,o,r){const a=new jQuery.Deferred;const u=JSON.parse(JSON.stringify(n));const c={ui5ComponentName:u.component,url:u.url,getExtensions:i.bind(null,n.component)};function g(n){return function(i){n=n||`Cannot create UI5 plugin component: (componentId/appdescrId :${c.ui5ComponentName})\n${i} properties ${JSON.stringify(c)}\n This indicates a plugin misconfiguration, see e.g. Note 2316443.`;e.error(n,i,l);if(o){o.reject(i)}a.reject(i)}}u.name=u.component;delete u.component;c.applicationDependencies=u;if(u.config){c.applicationConfiguration=u.config;delete u.config}c.loadDefaultDependencies=false;if(r!==undefined){c.oPostMessageInterface=r}s.getServiceAsync("Ui5ComponentLoader").then(e=>{this._handleXhrAuthentication(c.applicationConfiguration,u.url).done(()=>{e.createComponent(c,{},[],t.Plugin).then(function(e){if(o){o.resolve(e)}a.resolve.apply(this,arguments)}).catch(g())}).fail(g("XHR logon for FLP plugin failed"))}).catch(g());return a.promise()};this.getSupportedPluginCategories=function(){return JSON.parse(JSON.stringify(g))};this.getRegisteredPlugins=function(){return JSON.parse(JSON.stringify(this._oPluginCollection))};this.isPluginConfigured=function(e,n=u){if(!this._oPluginCollection[n]){return false}const i=new URLSearchParams(window.location.search).get("sap-ushell-xx-pluginmode")||"";const t=this.filterPluginIds(Object.keys(this._oPluginCollection[n]),i,n);return t.includes(e)};this.registerPlugins=async function(n){let i;if(!n){return}if(this._oConfig.isBlueBox===true){i=new URLSearchParams(window.location.search).get("sap-plugins");if(i&&i.length>0){i=`,${i},`}else{i=undefined}}const t=await this._addPluginsIntoCollection(n,i);try{if(this._oConfig.isBlueBox!==true){this._buildNamesOfPluginsWithAgents()}}catch(n){e.error("failed to build plugin agents names list",n,"sap.ushell.services.PluginManager")}t.forEach(e=>{if(Object.hasOwn(this._oCategoryLoadingProgress,e)&&this._oCategoryLoadingProgress[e].state()==="resolved"){this.loadPlugins(e)}})};this._addPluginsIntoCollection=async function(n,i=""){const t=[];for(const s of Object.keys(n).sort()){const r=n[s]||{};const c=r.config||{};const f=c[a]||"";r.enabled??=true;if(r.enabled===false){continue}if(!this._isFormFactorSupported(r)){e.info(`Plugin '${s}' filtered from result: form factor not supported`);continue}if(this._oConfig.isBlueBox===true&&c["sap-plugin-agent"]===true){const e=c["sap-plugin-agent-id"]||s;if(!i.includes(`,${e},`)){continue}}if(Object.hasOwn(r,"module")){const n=(r.module||"").replace(/\./g,"/");e.error(`Plugin ${s} cannot get registered, because the module mechanism for plugins is not valid anymore. Plugins need to be defined as SAPUI5 components.`,l);try{await o.requireAsync([n])}catch(i){e.error(`Plugin module ${n} is not found.`,i)}continue}if(Object.hasOwn(c,a)){if(g.includes(f)){if(!t.includes(f)){t.push(f)}this._oPluginCollection[f][s]=JSON.parse(JSON.stringify(r))}else{e.warning(`Plugin ${s} will not be inserted into the plugin collection of the PluginManager, because of unsupported category ${f}`,l)}}else{this._oPluginCollection[u][s]=JSON.parse(JSON.stringify(r));if(!t.includes(u)){t.push(u)}}}return t};this._isFormFactorSupported=function(e){const n=e.deviceTypes;const i=o.getFormFactor();if(n&&n[i]===false){return false}return true};this.getPluginLoadingPromise=function(e){if(this._oCategoryLoadingProgress.hasOwnProperty(e)){return this._oCategoryLoadingProgress[e].promise()}};this.filterPluginIds=function(e,n,i){let t;if(n.startsWith("allow-filter-")){t="allowFilterPluginsAccordingToSimpleExpression"}else if(n.startsWith("discard")){t="discardAlmostAllPlugins"}else{t="unknownFilterMode"}switch(t){case"allowFilterPluginsAccordingToSimpleExpression":const t=n.replace("allow-filter-","");return r.filterByExpression(e,t);case"discardAlmostAllPlugins":return e.filter(e=>d._oPluginCollection[i][e].component===c);case"unknownFilterMode":default:return e}};this.loadPlugins=function(i){let t;o.setPerformanceMark(`FLP -- PluginManager.startLoadPlugins[${i}]`);if(i===u){t=n.getInterface()}if(g&&Array.prototype.indexOf.call(g,i)!==-1){if(d._oCategoryLoadingProgress[i].pluginLoadingTriggered===undefined){d._oCategoryLoadingProgress[i].pluginLoadingTriggered=true}if(Object.keys(d._oPluginCollection[i]).length>0){const e=[];let n=Object.keys(d._oPluginCollection[i]);const s=new URLSearchParams(window.location.search).get("sap-ushell-xx-pluginmode")||"";n=this.filterPluginIds(n,s,i,d);n.forEach(n=>{const o=d._oPluginCollection[i][n];if(!o.loaded){o.loaded=true;const s=new jQuery.Deferred;e.push(s.promise());d._handlePluginCreation(i,n,s,t)}});if(e.length>0){Promise.allSettled(e.map((e,i)=>new Promise(t=>{const o={pluginName:n[i],success:true};e.done(()=>{t(o)}).fail(e=>{o.success=false;o.error=e;t(o)})}))).then(e=>{o.setPerformanceMark(`FLP -- PluginManager.endLoadPlugins[${i}]`);d._oCategoryLoadingProgress[i].resolve(e.map(e=>e.value))})}}else{d._oCategoryLoadingProgress[i].resolve()}}else{e.error(`Plugins with category ${i} cannot be loaded by the PluginManager`,l);d._oCategoryLoadingProgress[i].reject(new Error(`Plugins with category ${i} cannot be loaded by the PluginManager`))}return d._oCategoryLoadingProgress[i].promise()};this._buildNamesOfPluginsWithAgents=function(){let e="";Object.keys(d._oPluginCollection).forEach(n=>{Object.keys(d._oPluginCollection[n]).forEach(i=>{const t=d._oPluginCollection[n][i];if(t&&t.enabled&&t.enabled===true){if(t.config&&t.config["sap-plugin-agent"]===true){e+=`${t.config["sap-plugin-agent-id"]||i},`}}})});if(e.endsWith(",")){e=e.slice(0,-1)}this._sPluginAgentsNames=e};this._getNamesOfPluginsWithAgents=function(){return this._sPluginAgentsNames}}f.hasNoAdapter=true;return f},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PluginManager/Extensions", ["sap/ushell/services/PluginManager/HeaderExtensions","sap/ushell/services/PluginManager/MenuExtensions"],(e,n)=>{"use strict";function r(e){return Promise.resolve(n(e))}function s(){return Promise.resolve(e)}const i={Header:s,Menu:r};async function t(e,n){const r=i[n];if(!r){throw new Error(`Unsupported extension: '${n}'`)}return r(e)}return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PluginManager/HeaderExtensions", ["sap/ushell/EventHub"],e=>{"use strict";function t(t,r,a){e.emit("setHeaderCentralAreaElement",{id:t,currentState:r,states:a})}return{setHeaderCentralAreaElement:t}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PluginManager/MenuExtensions", ["sap/ushell/Container"],e=>{"use strict";function n(n){return function r(t){return e.getServiceAsync("Menu").then(e=>e.getEntryProvider(n,t))}}return function(e){return{getMenuEntryProvider:n(e)}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PluginManager/SimpleExpression", [],()=>{"use strict";const e={};e.parseAndEvaluate=function(t,p){const s=p.split(" ");return e.evaluate(t,s)};e.evaluate=function(e,t){const p=[];let s;while(t.length){switch(s=t.shift()){case"includes":p.push(e.includes(p.pop()));break;case"not":p.push(!p.pop());break;case"and":p.push(p.pop()&&p.pop());break;case"or":p.push(p.pop()||p.pop());break;default:p.push(s)}}return p.pop()};e.filterByExpression=function(t,p){return t.filter(t=>e.parseAndEvaluate(t,p))};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ReferenceResolver", ["sap/base/Log","sap/base/i18n/Formatting","sap/base/i18n/date/CalendarType","sap/base/util/deepExtend","sap/base/util/isEmptyObject","sap/ui/core/Lib","sap/ui/core/Supportability","sap/ui/core/format/DateFormat","sap/ui/model/odata/ODataUtils","sap/ui/model/odata/v4/ODataUtils","sap/ushell/User","sap/ushell/utils","sap/ushell/Container"],(e,t,n,a,s,r,i,l,c,o,u,f,d)=>{"use strict";const m="sap.ushell.services.ReferenceResolver";function g(){this.getValue=async function(e){let n;if(e==="User.env.sap-ui-legacy-date-format"){n=t.getABAPDateFormat()}if(e==="User.env.sap-ui-legacy-number-format"){n=t.getABAPNumberFormat()}if(e==="User.env.sap-ui-legacy-time-format"){n=t.getABAPTimeFormat()}if(e==="User.env.sap-language"){n=d.getUser().getLanguage()}if(e==="User.env.sap-languagebcp47"){n=d.getUser().getLanguageBcp47()}if(e==="User.env.sap-accessibility"){n=d.getUser().getAccessibilityMode()?"X":undefined}if(e==="User.env.sap-statistics"){n=i.isStatisticsEnabled()?"true":undefined}if(e==="User.env.sap-theme"){n=d.getUser().getTheme(u.prototype.constants.themeFormat.THEME_NAME_PLUS_URL)}if(e==="User.env.sap-theme-name"){n=d.getUser().getTheme()}if(e==="User.env.sap-theme-NWBC"){n=d.getUser().getTheme(u.prototype.constants.themeFormat.NWBC)}return{value:n}}}function h(t,i,u){this._getUserEnvReferenceResolver=function(){if(!this.oUserEnvReferenceResolver){this.oUserEnvReferenceResolver=new g}return this.oUserEnvReferenceResolver};this.resolveReferences=async function(t,n){const a=[];let r=true;const i={};const l={};const c=t.map(t=>{let n;if(t.indexOf("User.env.")===0){n=t;l[n]=1}if(t.indexOf("UserDefault.")===0){n=this._extractAnyUserDefaultReferenceName(t);i[n]=1}if(typeof n!=="string"){r=false;e.error(`'${t}' is not a legal reference name`,null,m)}return{full:t,name:n}});if(!r){throw new Error("One or more references could not be resolved")}if(!n){const e=await d.getServiceAsync("ClientSideTargetResolution");n=await e.getSystemContext()}const o=await d.getServiceAsync("UserDefaultParameters");Object.keys(i).forEach(e=>{a.push(o.getValue(e,n))});const u=this._getUserEnvReferenceResolver();Object.keys(l).forEach(e=>{a.push(u.getValue(e))});const f=await Promise.all(a);const g={};let h=0;Object.keys(i).forEach(e=>{i[e]=f[h];h=h+1});Object.keys(l).forEach(e=>{l[e]=f[h];h=h+1});c.forEach(e=>{let t;if(e.full.indexOf("UserDefault.extended.")===0){t=this.mergeSimpleAndExtended(i[e.name]);if(!s(t)){g[e.full]=t}else{g[e.full]=undefined}}else if(e.full.indexOf("UserDefault.")===0){g[e.full]=i[e.name].value}else if(e.full.indexOf("User.env.")===0){g[e.full]=l[e.name].value}});return g};this._extractAnyUserDefaultReferenceName=function(e){const t=this.extractExtendedUserDefaultReferenceName(e);if(typeof t==="string"){return t}return this.extractUserDefaultReferenceName(e)};this.extractExtendedUserDefaultReferenceName=function(e){if(typeof e!=="string"||e.indexOf("UserDefault.extended.")!==0){return undefined}return e.replace(/^UserDefault[.]extended[.]/,"")};this.extractUserDefaultReferenceName=function(e){if(typeof e!=="string"||e.indexOf("UserDefault.")!==0||e.indexOf("UserDefault.extended.")===0){return undefined}return e.replace(/^UserDefault[.]/,"")};this.mergeSimpleAndExtended=function(e){const t=a({},e.extendedValue);if(typeof e.value==="string"){if(!Array.isArray(t.Ranges)){t.Ranges=[]}t.Ranges.push({Sign:"I",Option:"EQ",Low:e.value,High:null})}return t};function h(e){const t=/{([^}%]*%%[^%]+%%)}?/g;const n=/([^%]*)%%/;const a=/%%([^%]+)%%/;const s=[];let r=t.exec(e);while(r){const i=n.exec(r[1]);const l=a.exec(r[1]);s.push({edmType:i[1],name:l[1]});r=t.exec(e)}return s}this._extractUrlPlaceholders=function(e,t){let n=/[^(?]*/.exec(e);let a=n===null?[]:h(n[0]);const s=a.map(e=>e.name);n=/[(?][^]*/.exec(e);a=n===null?[]:h(n[0]);const r=a.filter(e=>{const n=e.name;if(t.test(n)){return true}s.push(n);return false});return{extractedReferences:r,ignoredReferences:s}};this._replaceUrlPlaceholders=function(e,t,n){let a=e;const s=[];const r=n?o.formatLiteral.bind(o):c.formatValue.bind(c);t.forEach(e=>{const t=e.name;let n=null;let i=false;while(n!==a){n=a;if(e.value!==undefined){const n=r(e.value,e.edmType);a=a.replace(`{${e.edmType}%%${t}%%}`,window.encodeURIComponent(n))}else{i=true;a=a.replace(`{${e.edmType}%%${t}%%}`,"")}}if(i){s.push(t)}});return{resolvedUrl:a,placeholdersWithoutValue:s}};this.resolveUserDefaultParameters=async function(e,t){const n=this._extractUrlPlaceholders(e,/^UserDefault\.(?!extended\.).+/);const a=n.extractedReferences;const s=n.ignoredReferences;if(a.length===0){return{url:e,defaultsWithoutValue:[],ignoredReferences:s}}const r=a.map(e=>e.name);const i=await this.resolveReferences(r,t);a.forEach(e=>{e.value=i[e.name]});const l=this._replaceUrlPlaceholders(e,a);return{url:l.resolvedUrl,defaultsWithoutValue:l.placeholdersWithoutValue,ignoredReferences:s}};this._loadDynamicDateRange=async function(){await r.load("sap.ui.unified");const[e]=await f.requireAsync(["sap/m/DynamicDateRange"]);return e};this._rSemanticDateRangeRegex=/^DynamicDate\..+/;this.resolveSemanticDateRanges=async function(t,n){const a=this._extractUrlPlaceholders(t,this._rSemanticDateRangeRegex);const s=a.extractedReferences;const r=a.ignoredReferences;if(s.length===0){return{url:t,hasSemanticDateRanges:false,invalidSemanticDates:[],ignoredReferences:r}}const i=["2.0","4.0"];if(!n||!i.includes(n)){throw new Error(`Invalid OData version: ${n}`)}const l=n==="4.0";const c=await this._resolveSemanticDateRanges(s,l);const o=this._replaceUrlPlaceholders(t,c,l);if(e.getLevel()>=e.Level.DEBUG){const a=c.filter(e=>"value"in e);e.debug("Resolving semantic date ranges \n"+`- OData Version: ${n}\n`+`- URL: ${t}\n`+`- ignoring references: ${JSON.stringify(r,null,4)}\n`+`- resolved semantic date ranges: ${JSON.stringify(a,null,4)}\n`+`- invalid semantic date ranges: ${JSON.stringify(o.placeholdersWithoutValue,null,4)}\n`+`- final URL: ${o.resolvedUrl}`,null,m)}return{url:o.resolvedUrl,hasSemanticDateRanges:s.length>0,invalidSemanticDates:o.placeholdersWithoutValue,ignoredReferences:r}};this._resolveSemanticDateRanges=async function(e,t){const n=this._getDateTimeFormatters();const a=await this._loadDynamicDateRange();return e.map(e=>{const s={name:e.name,edmType:e.edmType};const r=e.name.split(".");const i={operator:r[1],values:[]};let l;if(r.length===3){l=r[2]}else if(r.length===4){i.values.push(r[2]);l=r[3]}else if(r.length===5){i.values=r.slice(2,4);l=r[4]}let c;try{c=a.toDates(i)}catch(e){return s}if(r.length>=3&&l!=="start"&&l!=="end"){return s}let o;if(l==="end"){o=c[1]}else{o=c[0]}if(!o){return s}switch(e.edmType){case"Edm.String":s.value=n.string.format(o);break;case"Edm.Date":s.value=n.date.format(o);break;case"Edm.DateTime":o.setUTCFullYear(o.getFullYear(),o.getMonth(),o.getDate());o.setUTCHours(0,0,0,0);s.value=o;break;case"Edm.DateTimeOffset":if(t){s.value=n.dateTimeOffsetV4.format(o,true)}else{s.value=o}break;default:break}return s})};this._getDateTimeFormatters=function(){if(!this._oDateTimeFormatters){this._oDateTimeFormatters={string:l.getDateInstance({pattern:"yyyyMMdd",calendarType:n.Gregorian}),date:l.getDateInstance({pattern:"yyyy-MM-dd",calendarType:n.Gregorian}),dateTimeOffsetV4:l.getDateInstance({pattern:"yyyy-MM-dd'T'HH:mm:ss'.'SSS'Z'",calendarType:n.Gregorian})}}return this._oDateTimeFormatters};this.hasSemanticDateRanges=function(e){const t=this._extractUrlPlaceholders(e,this._rSemanticDateRangeRegex);return t.extractedReferences.length>0}}h.hasNoAdapter=true;return h},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ShellNavigation", ["sap/base/Log","sap/ushell/Container"],(t,e)=>{"use strict";function i(i,a,n){t.error("Deprecated service call. Please migrate any dependencies to this service.",null,"sap.ushell.services.ShellNavigation");this._oShellNavigationInternal=e.getService("ShellNavigationInternal");this.NavigationFilterStatus=this._oShellNavigationInternal.NavigationFilterStatus;this.hashChanger=this._oShellNavigationInternal.hashChanger}i.prototype.getNavigationContext=function(){return this._oShellNavigationInternal.getNavigationContext()};i.prototype.compactParams=function(t,e,i,a){return this._oShellNavigationInternal.compactParams(t,e,i,a)};i.prototype.init=function(t){return this._oShellNavigationInternal.init(t)};i.prototype.wasHistoryEntryReplaced=function(){return this._oShellNavigationInternal.wasHistoryEntryReplaced()};i.prototype.resetHistoryEntryReplaced=function(){this._oShellNavigationInternal.resetHistoryEntryReplaced()};i.prototype.replaceHashWithoutNavigation=function(t){this._oShellNavigationInternal.replaceHashWithoutNavigation(t)};i.prototype.registerNavigationFilter=function(t){this._oShellNavigationInternal.registerNavigationFilter(t)};i.prototype.unregisterNavigationFilter=function(t){this._oShellNavigationInternal.unregisterNavigationFilter(t)};i.hasNoAdapter=true;return i},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/SupportTicket", ["sap/ushell/Config"],e=>{"use strict";function t(t,i,n,r){this.createTicket=function(e){return t.createTicket(e)};this.isEnabled=function(){return e.last("/core/extension/SupportTicket")}}t.hasNoAdapter=false;return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/URLParsing", ["sap/base/Log","sap/ui/base/Object","sap/ushell/utils","sap/ushell/utils/UrlParsing","sap/ushell/Container"],(e,t,s,r,n)=>{"use strict";function a(){this.getShellHash=function(e){return r.getShellHash(e)};this.getHash=function(e){return r.getHash(e)};this.isIntentUrl=function(t){e.error("Deprecated API call of 'sap.ushell.URLParsing.isIntentUrl'. Please use 'isIntentUrlAsync' instead",null,"sap.ushell.services.URLParsing");return r.isIntentUrl(t)};this.isIntentUrlAsync=function(e){return r.isIntentUrlAsync(e)};this.parseParameters=function(e){return r.parseParameters(e)};this.paramsToString=function(e){return r.paramsToString(e)};this.removeParametersWithEmptyValue=function(e,t){r.removeParametersWithEmptyValue(e,t)};this.urlParametersToString=function(e,t,s){return r.urlParametersToString(e,t,s)};this.parseShellHash=function(e){return r.parseShellHash(e)};this.privstripLeadingHash=function(e){return r.privstripLeadingHash(e)};this.splitHash=function(e){return r.splitHash(e)};this.constructShellHash=function(e){return r.constructShellHash(e)};this.addSystemToServiceUrl=function(e,r){let a=r;if(!e||e.indexOf("/")!==0||e.indexOf("//")===0){throw new s.Error(`Invalid URL: ${e}`,"sap.ushell.services.URLParsing")}if(t.isA(r,"sap.ui.core.Component")){const e=typeof r.getComponentData==="function"&&r.getComponentData();a=e&&e.startupParameters&&e.startupParameters["sap-system"]&&e.startupParameters["sap-system"][0]}const i=n.getService("NavTargetResolutionInternal").getCurrentResolution();if(!a&&!r&&i&&i.url){a=new URL(i.url,window.location.href).searchParams.get("sap-system")}if(/^[^?]*(;mo([/;?]|$))/.test(e)){}else if(/^[^?]*(;o=([/;?]|$))/.test(e)){e=e.replace(/;o=([/;?]|$)/,`${a?`;o=${a}`:""}$1`)}else if(!/^[^?]*;o=/.test(e)&&a){e=e.replace(/(\/[^?]*?)(\/$|$|(\/?\?.*))/,`$1;o=${a}$2`)}n.addRemoteSystemForServiceUrl(e);return e}}a.hasNoAdapter=true;return a},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/URLShortening", ["sap/ushell/utils/UrlShortening"],e=>{"use strict";function a(){this.compactHash=e.compactHash.bind(e);this.checkHashLength=e.checkHashLength.bind(e);this.expandHash=e.expandHash.bind(e);this.expandParamGivenRetrievalFunction=e.expandParamGivenRetrievalFunction.bind(e)}a.hasNoAdapter=true;return a},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Ui5ComponentHandle", ()=>{"use strict";function t(t){this._oComponent=t}t.onBeforeApplicationInstanceCreated=function(){sap.ui.require(["sap/ushell/Fiori20AdapterTest"],()=>{})};t.prototype.getInstance=function(){return this._oComponent};t.prototype.getMetadata=function(){return this._oComponent.getMetadata()};t.prototype.getComponentName=function(){return this._oComponent.getMetadata().getComponentName()};t.prototype.destroy=function(){if(this._oComponent&&!this._oComponent.isDestroyed()){return this._oComponent.destroy()}};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Ui5ComponentLoader", ["sap/base/Log","sap/base/util/deepExtend","sap/ui/core/Component","sap/ui/core/Lib","sap/ui/core/util/AsyncHintsHelper","sap/ui/thirdparty/jquery","sap/ui/thirdparty/URI","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/services/Ui5ComponentHandle","sap/ushell/utils","sap/ushell/utils/UriParameters"],(e,t,o,n,r,jQuery,s,a,i,p,c,l)=>{"use strict";let u=["sap.ui.unified"];u=["sap.ca.scfld.md","sap.ca.ui","sap.me","sap.ui.unified"];function d(e,t,o,n){this._oServiceConfig=n&&n.config||{};this._oAdapter=e;i.once("loadCoreResourcesComplement").do(()=>{this.loadCoreResourcesComplement()})}d.prototype.modifyComponentProperties=async function(e,t){if(this._oAdapter.modifyComponentProperties){const o=await this._oAdapter.modifyComponentProperties(e.componentProperties,t);e.componentProperties=o}return e};d.prototype.createComponent=async function(t,o={},n,r){let s;try{s=await this.createComponentData(t,o,n);s=await this.modifyComponentProperties(s,r)}catch(o){e.error("Ui5ComponentLoader: Error while creating component data",o,"sap.ushell.services.Ui5ComponentLoader");return t}const a=await this.instantiateComponent(s);return a};d.prototype.createComponentData=async function(e={},t={},o){const n={};const r=e.applicationDependencies||{};this._logAnyApplicationDependenciesMessages(r.name,r.messages);if(!e.ui5ComponentName){throw new Error("Ui5ComponentLoader: ui5ComponentName is mandatory")}n.appPropertiesSafe=e;n.loadCoreExt=this._shouldLoadCoreExt(e);n.componentData=this._createComponentData(e);const s=a.last("/core/customPreload/enabled");const i=n.loadCoreExt&&s;const p=this._shouldLoadDefaultDependencies(e);const c=e.ui5ComponentId||this._constructAppComponentId(t);n.componentProperties=await this._createComponentProperties(c,e,o,i,p);delete n.appPropertiesSafe.loadCoreExt;delete n.appPropertiesSafe.loadDefaultDependencies;return n};d.prototype.instantiateComponent=async function(t){const o=t.componentProperties;o.componentData=t.componentData;p.onBeforeApplicationInstanceCreated.call(null,o);try{const e=await this._createUi5Component(o);const n=t.appPropertiesSafe;n.componentHandle=new p(e);const r=t.loadCoreExt;if(r){n.coreResourcesFullyLoaded=r;i.emit("CoreResourcesComplementLoaded",{status:"success"})}return n}catch(t){const n=o.name;const r=JSON.stringify(o,null,4);let s=`The issue is most likely caused by application ${n}`;let a=`Failed to load UI5 component with properties: '${r}'.`;if(t.stack){a+=` Error likely caused by:\n${t.stack}`}else{a+=` Error: '${t}'`}if(t.status==="parsererror"){s+=", as one or more of its resources could not be parsed"}s+=". Please create a support incident and assign it to the support component of the respective application.";e.error(s,a,n);throw t}};d.prototype.getCoreResourcesComplementBundle=function(){if(a.last("/core/customPreload/enabled")){return a.last("/core/customPreload/coreResourcesComplement")}return[]};d.prototype.loadCoreResourcesComplement=function(){if(!this.loadCoreResourcesComplementPromise){this.loadCoreResourcesComplementPromise=new Promise(async(e,t)=>{try{await this._loadBundle(this.getCoreResourcesComplementBundle());i.emit("CoreResourcesComplementLoaded",{status:"success"});e()}catch(e){i.emit("CoreResourcesComplementLoaded",{status:"failed"});t(e)}});this.loadCoreResourcesComplementPromise.finally(()=>{this.loadCoreResourcesComplementPromise=undefined})}return this.loadCoreResourcesComplementPromise};d.prototype._createUi5Component=function(e){if(e.manifest===undefined){e.manifest=false}return o.create(e)};d.prototype._shouldLoadCoreExt=function(e){let t=true;if(e.hasOwnProperty("loadCoreExt")){t=e.loadCoreExt}return t};d.prototype._shouldLoadDefaultDependencies=function(e){let t=true;if(e.hasOwnProperty("loadDefaultDependencies")){t=e.loadDefaultDependencies}if(this._oServiceConfig&&this._oServiceConfig.hasOwnProperty("loadDefaultDependencies")){t=t&&this._oServiceConfig.loadDefaultDependencies}return t};d.prototype._constructAppComponentId=function(e={}){const t=e.semanticObject||null;const o=e.action||null;if(!t||!o){return null}return`application-${t}-${o}-component`};d.prototype._removeCacheBusterTokenFromUrl=function(e){const t=new RegExp("[/]~[\\w-]+~[A-Z0-9]?");return e.replace(t,"")};d.prototype._removeParametersFromUrl=function(e){if(!e){return e}const t=e.indexOf("?");if(t>=0){return e.slice(0,t)}return e};d.prototype._getParameterMap=function(e){const t=l.fromURL(e||window.location.href).mParams;const o=t["sap-xapp-state"];const n=t["sap-xapp-state-data"];delete t["sap-xapp-state"];delete t["sap-xapp-state-data"];const r={startupParameters:t};if(n){r["sap-xapp-state"]=n}if(o){r["sap-xapp-state"]=o}return r};d.prototype._loadBundle=function(t){if(!Array.isArray(t)){e.error("Ui5ComponentLoader: loadBundle called with invalid arguments");return null}return Promise.all(t.map(e=>sap.ui.loader._.loadJSResourceAsync(e))).catch(o=>{e.error(`Ui5ComponentLoader: failed to load bundle resources: [${t.join(", ")}]`,o);throw o})};d.prototype._createComponentProperties=async function(o,i,p,l,d){const m=i.ui5ComponentName;const f=i.url;const C=i.applicationDependencies||{};const y=c.getParameterValueBoolean("sap-ushell-nocb");const h=t({},C);if(!h.asyncHints){h.asyncHints=d?{libs:u}:{}}if(l){const e=a.last("/core/customPreload/coreResourcesComplement");h.asyncHints.preloadBundles=[...h.asyncHints.preloadBundles||[],...e]}if(p){h.asyncHints.waitFor=p}if(!h.name){h.name=m}if(f){h.url=this._removeParametersFromUrl(f)}if(o){h.id=o}if(y&&h.asyncHints){r.modifyUrls(h.asyncHints,this._removeCacheBusterTokenFromUrl)}const P=h.manifest;if(typeof P==="string"&&P.length>0&&"sap.ui.fl"in n.all()){try{const[t]=await c.requireAsync(["sap/ui/fl/apply/api/FlexRuntimeInfoAPI"]);try{const e=t.getFlexVersion({reference:m});if(typeof e==="string"&&e.length>0){const t=new s(P);t.addQuery("version",e);h.manifest=t.toString()}return h}catch(t){e.error("Error when trying to get manifest version from 'sap.ui.fl.apply.api.FlexRuntimeInfoAPI'",t,"sap.ushell.services.Ui5ComponentLoader");return h}}catch(t){e.error("Error when trying to load 'sap/ui/fl/apply/api/FlexRuntimeInfoAPI'",t,"sap.ushell.services.Ui5ComponentLoader");return h}}return h};d.prototype._createComponentData=function(e){const o=e.componentData||{};const n=e.url;const r=e.applicationConfiguration;const s=e.reservedParameters;const a=t({startupParameters:{}},o);if(r){a.config=r}if(s){a.technicalParameters=s}const i=n&&n.indexOf("?")>=0;if(i){const e=this._getParameterMap(n);a.startupParameters=e.startupParameters;if(e["sap-xapp-state-data"]){a["sap-xapp-state"]=e["sap-xapp-state-data"]}if(e["sap-xapp-state"]){a["sap-xapp-state"]=e["sap-xapp-state"]}}if(e.getExtensions){a.getExtensions=e.getExtensions;delete e.getExtensions}if(e.oPostMessageInterface){a.oPostMessageInterface=e.oPostMessageInterface;delete e.oPostMessageInterface}return a};d.prototype._logAnyApplicationDependenciesMessages=function(t,o){if(!Array.isArray(o)){return}o.forEach(o=>{let n=String.prototype.toLowerCase.call(o.severity||"");n=["trace","debug","info","warning","error","fatal"].indexOf(n)!==-1?n:"error";e[n](o.text,o.details,t)})};d.prototype._setDefaultDependencies=function(e){u=e};d.hasNoAdapter=false;return d});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/UserDefaultParameterPersistence", ["sap/base/Log","sap/base/util/deepExtend","sap/base/util/ObjectPath","sap/ushell/Container","sap/ushell/utils"],(e,t,a,s,i)=>{"use strict";const r=["value","extendedValue","noEdit","alwaysAskPlugin","_shellData","pluginData"];function n(e,t,a,s){this._oAdapter=e;this._oData={}}n.prototype._cleanseValue=function(e){const a=t({},e);for(const e in a){if(a.hasOwnProperty(e)&&r.indexOf(e)<0){delete a[e]}}return a};n.prototype._getSystemContextFallback=async function(){e.warning("UserDefaultParameterPersistence: The systemContext was not provided, using defaultSystemContext as fallback");const t=await s.getServiceAsync("ClientSideTargetResolution");return t.getSystemContext()};n.prototype.loadParameterValue=async function(t,s){if(!s){s=await this._getSystemContextFallback()}const r=a.get([s.id,t],this._oData);if(r!==undefined){return r}const n=await i.promisify(this._oAdapter.loadParameterValue(t,s));const o=this._cleanseValue(n);a.set([s.id,t],o,this._oData);e.debug(`[UserDefaults] Fetched "${t}" for SystemContext=${s.id} from Persistence`,JSON.stringify(o,null,2));return o};n.prototype.saveParameterValue=async function(t,s,r){if(!r){r=await this._getSystemContextFallback()}if(!s){return i.promisify(this.deleteParameter(t,r))}const n=this._cleanseValue(s);if(s&&s.noStore===true){e.debug(`[UserDefaults] Skipped Save "${t}" for SystemContext=${r.id}`,"noStore=true");return}e.debug(`[UserDefaults] Saving "${t}" for SystemContext=${r.id} to Persistence`,JSON.stringify(n,null,2));a.set([r.id,t],n,this._oData);return i.promisify(this._oAdapter.saveParameterValue(t,n,r))};n.prototype.deleteParameter=async function(t,a){if(!a){a=await this._getSystemContextFallback()}if(this._oData[a.id]){e.debug(`[UserDefaults] Deleting "${t}" for SystemContext=${a.id} from Persistence`);delete this._oData[a.id][t]}return i.promisify(this._oAdapter.deleteParameter(t,a))};n.prototype.getStoredParameterNames=async function(e){if(!e){e=await this._getSystemContextFallback()}const t=await i.promisify(this._oAdapter.getStoredParameterNames(e));return t.sort()};n.hasNoAdapter=false;return n},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/UserDefaultParameters", ["sap/base/Log","sap/base/util/deepClone","sap/base/util/deepEqual","sap/base/util/deepExtend","sap/base/util/isEmptyObject","sap/ui/base/EventProvider","sap/ushell/utils","sap/ushell/Container"],(e,t,a,r,s,n,i,o)=>{"use strict";const u="valueStored";const l=["value","noEdit","noStore","extendedValue","alwaysAskPlugin"];function c(c,d,f,m){this._aPlugins=[];this._oUserDefaultParametersNames={};this._oWasParameterPersisted={};const h=new n;function g(e){const t=typeof e.getComponentData==="function"&&e.getComponentData()&&e.getComponentData().config&&e.getComponentData().config["sap-priority"]||0;if(typeof t!=="number"||isNaN(t)){return 0}return t}this._insertPluginOrdered=function(e,t){const a=g(t);for(let r=0;r<e.length&&t;++r){const s=g(e[r]);if(t&&a>s){e.splice(r,0,t);t=undefined}}if(t){e.push(t)}return e};this.registerPlugin=function(e){this._aPlugins=this._insertPluginOrdered(this._aPlugins,e)};this._getUserDefaultValueFromPlugin=async function(t,a,r,s){if(typeof t.getUserDefault==="function"){try{const n=await i.promisify(t.getUserDefault(a,s,r));const o=n||s;const u=this._getComponentNameOfPlugin(t);e.debug(`[UserDefaults] Fetched "${a}" for SystemContext="${r.id}" from Plugin="${u}"`,JSON.stringify(o,null,2));return o}catch{e.error(`invocation of getUserDefault("${a}") for plugin ${this._getComponentNameOfPlugin(t)} rejected.`,null,"sap.ushell.services.UserDefaultParameters")}}return s};this._iterateOverPluginsToGetDefaultValue=async function(e,t,a){await this._loadPlugins();return this._aPlugins.reduce(async(t,r)=>{const s=await t;return this._getUserDefaultValueFromPlugin(r,e,a,s)},Promise.resolve(t))};this._getStoreDate=function(){return(new Date).toString()};this._storeValue=async function(t,a,r,s){if(r&&a.extendedValue){try{const e=await o.getServiceAsync("ClientSideTargetResolution");const n=await e.getUserDefaultParameterNames(s);const i=this._extractKeyArrays(n);const u=i.extended.indexOf(t)<0;return this._saveParameterValue(t,a,r,u,s)}catch{e.error(`Cannot save value for ${t}. One or more plugins could not be loaded.`)}}return this._saveParameterValue(t,a,r,false,s)};this._saveParameterValue=async function(e,a,s,n,i){if(n){a.extendedValue=undefined}if(s&&this._valueIsEmpty(a)){a=undefined;this._oWasParameterPersisted[e]=false}else{a._shellData=r({storeDate:this._getStoreDate()},a._shellData)}try{const t=await o.getServiceAsync("UserDefaultParameterPersistence");await t.saveParameterValue(e,a,i)}catch{}const l={parameterName:e,parameterValue:t(a||{}),systemContext:i};h.fireEvent(u,l);return e};this._getPersistedValue=async function(e,t){const a=await o.getServiceAsync("UserDefaultParameterPersistence");return a.loadParameterValue(e,t)};this._valueIsEmpty=function(e){return!e||!e.value&&!e.extendedValue};this._haveSameMembersValue=function(e,t,r){return r.every(r=>e[r]===t[r]||a(e[r],t[r]))};this._getUserDefaultParameterNames=function(e){if(!this._oUserDefaultParametersNames[e.id]){this._oUserDefaultParametersNames[e.id]=new Promise(async t=>{const a=await o.getServiceAsync("ClientSideTargetResolution");const r=await a.getUserDefaultParameterNames(e);const s=this._extractKeyArrays(r);const n=s.extended;const i=s.allParameters;const u=this._arrayToObject(i);t({aAllParameterNames:i,aExtendedParameterNames:n,oMetadataObject:u})})}return this._oUserDefaultParametersNames[e.id]};this._isSupportedParameterName=async function(t,a){const r=await this._getUserDefaultParameterNames(a);if(!r.aAllParameterNames||r.aAllParameterNames.indexOf(t)===-1){e.error(`The given parameter "${t}" is not part of the list of parameters for the given system context.`);return false}return true};this.hasRelevantMaintainableParameters=async function(e){try{const t=await this._getUserDefaultParameterNames(e);if(!s(t)&&t.aAllParameterNames){const a=await Promise.all(t.aAllParameterNames.map(async t=>{try{const a=await this.getValue(t,e);if(a&&!a.hasOwnProperty("noEdit")){return true}}catch{}return false}));return a.some(e=>e)}}catch{}return false};this.getValue=async function(a,r){const s=await this._isSupportedParameterName(a,r);if(!s){return{value:undefined}}const n=await this._getPersistedValue(a,r).then(e=>{this._oWasParameterPersisted[a]=true;return e||{}}).catch(()=>({value:undefined}));const i=t(n);const o=!i._shellData&&this._valueIsEmpty(i)||i.noStore||i.alwaysAskPlugin;if(!o){return i}const u=await this._iterateOverPluginsToGetDefaultValue(a,n,r);if(!this._oWasParameterPersisted[a]||!this._haveSameMembersValue(i,u,l)){this._oWasParameterPersisted[a]=true;await this._storeValue(a,u,false,r).catch(t=>{e.error("Failed to store user default parameter: ",t)})}return u};this._addParameterValuesToParameters=async function(e,t,a){await Promise.all(t.map(async t=>{const r=await this.getValue(t,a);e[t].valueObject=r}));return e};this._arrayToObject=function(e){const t={};e.forEach(e=>{t[e]={}});return t};this._getComponentNameOfPlugin=function(e){try{return e.getMetadata().getComponentName()||""}catch(e){return"'name of plugin could not be determined'"}};this._getEditorDataAndValue=async function(t,a,s,n){const o=await Promise.all(this._aPlugins.map(async t=>{if(typeof t.getEditorMetadata==="function"){try{const e=t.getEditorMetadata(s,n);const a=await i.promisify(e);return a}catch(t){e.error("Error invoking getEditorMetaData on plugin:",t,"sap.ushell.services.UserDefaultParameters");return}}}));const u=[];const l=o.reverse().reduce((e,a)=>{t.forEach(t=>{if(a?.[t]?.editorMetadata){e[t].editorMetadata=a[t].editorMetadata}});return e},s);t.forEach(e=>{if(!(l[e]&&l[e].editorMetadata)){u.push(e)}});const c=await this._addParameterValuesToParameters(l,t,n);const d=r({},c);a.forEach(e=>{if(d[e]){d[e].editorMetadata=d[e].editorMetadata||{};d[e].editorMetadata.extendedUsage=true}});const f=Object.keys(d).splice(0);f.forEach(e=>{let t;if(d[e].valueObject&&d[e].valueObject.noEdit===true){delete d[e];t=u.indexOf(e);if(t>=0){u.splice(t,1)}}});if(u.length>0){e.error(`The following parameter names have no editor metadata and thus likely no configured plugin:\n"${u.join('",\n"')}".`)}return d};this.editorGetParameters=async function(e){const t=await this._getUserDefaultParameterNames(e);const{aAllParameterNames:a,aExtendedParameterNames:r,oMetadataObject:s}=t;if(s.length===0){return{}}await this._loadPlugins();return this._getEditorDataAndValue(a,r,s,e)};this._extractKeyArrays=function(e){const t={simple:e&&e.simple&&Object.keys(e.simple).sort()||[],extended:e&&e.extended&&Object.keys(e.extended).sort()||[]};const a=t.extended.filter(e=>t.simple.indexOf(e)<0);t.allParameters=t.simple.concat(a).sort();return t};this.editorSetValue=async function(e,t,a){await this._storeValue(e,t,true,a)};this.attachValueStored=function(e){h.attachEvent(u,e)};this.detachValueStored=function(e){h.detachEvent(u,e)};this._loadPlugins=async function(){const t=await o.getServiceAsync("PluginManager");try{await i.promisify(t.loadPlugins("UserDefaults"))}catch{e.error("One or more plugins could not be loaded");throw new Error("Initialization of plugins failed")}}}c.hasNoAdapter=true;return c},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/UserInfo", ["sap/base/Log","sap/ushell/User","sap/ushell/Container"],(e,t,i)=>{"use strict";const r={themeList:null,languageList:null,userSettingList:null};function s(t,s){this.getId=function(){return i.getUser().getId()};this.getFirstName=function(){return i.getUser().getFirstName()};this.getLastName=function(){return i.getUser().getLastName()};this.getFullName=function(){return i.getUser().getFullName()};this.getEmail=function(){return i.getUser().getEmail()};this.getUser=function(){return i.getUser()};this.getShellUserInfo=function(){return Promise.resolve({id:this.getId(),email:this.getEmail(),firstName:this.getFirstName(),lastName:this.getLastName(),fullName:this.getFullName()})};this.getCalendarWeekNumberingList=function(){return t.getCalendarWeekNumberingList?.()};this.getThemeList=function(){if(r.themeList){return r.themeList}const i=t.getThemeList();r.themeList=i;i.fail(()=>{e.error("getThemeList failed")});return i};this.updateThemeRoot=async function(e){if(t.getThemeRoot){const r=await t.getThemeRoot(e);if(r!==undefined){i.getUser().addThemeRootForTheme({id:e,root:r})}}};this.updateUserPreferences=function(){const r=t.updateUserPreferences(i.getUser());r.fail(t=>{e.error("updateAttributes failed:",t)});return r};this.getLanguageList=function(){if(r.languageList){return r.languageList}const i=t.getLanguageList();r.languageList=i;i.fail(()=>{e.error("getLanguageList failed")});return i};this.getUserSettingList=function(){if(r.userSettingList){return r.userSettingList}const i=t.getUserProfilePropertyValueLists();r.userSettingList=i;i.fail(()=>{e.error("getUserProfilePropertyValueLists failed")});return i};this.getUserSettingListEditSupported=function(){if(typeof t.getUserProfilePropertyValueLists!=="undefined"){return true}return false}}s.hasNoAdapter=false;return s},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/ContextContainer", ["sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/constants.private","sap/ui/core/format/DateFormat","sap/ui/core/UIComponent","sap/ui/thirdparty/jquery","sap/base/Log"],(e,t,n,i,o,jQuery,r)=>{"use strict";function a(){this._init.apply(this,arguments)}a.prototype._init=function(n,i,r,a,s){this._oService=n;this._sContainerKey=r;this._oAdapterContainer={};this._oScope=a||t.adjustScope(a);this._aLoadedKeys=[];this._oUnmodifiableContainer=undefined;let p;if(!(s instanceof o)&&s!==undefined){throw new Error("oComponent passed must be a UI5 Component or must be undefined")}if(s&&s.getMetadata&&s.getMetadata().getComponentName){p=s.getMetadata().getComponentName()}this.clear();if(!this._sContainerKey||typeof this._sContainerKey!=="string"){throw new e.Error("Invalid container key: sap.ushell.services.Personalization"," ")}this._oAdapterContainer=i.getAdapterContainer(this._sContainerKey,this._oScope,p);return this};a.prototype.getValidity=function(){return this._oScope.validity};a.prototype._getValidity=function(){return this._oScope.validity};a.prototype.clear=function(){this._oItemMap={};this._aLoadedItemKeys=[];this._clear=true;this._oItemMap=new e.Map};a.prototype.load=function(){let t={};const n=this;t=new jQuery.Deferred;if(!this._sContainerKey){throw new e.Error("Invalid container key: sap.ushell.services.Personalization"," ")}this.clear();const i=this._oService._pendingContainerOperations_flushAddNext(this._sContainerKey,t);i.always(()=>{n._oAdapterContainer.load().fail(e=>{t.reject(e)}).done(()=>{n._copyFromAdapter();if(n._isExpired()){n.clear()}t.resolve()})});return t.promise()};a.prototype._copyFromAdapter=function(){const e=this;const t=e._oAdapterContainer.getItemKeys().splice(0);t.forEach(t=>{e._oItemMap.put(t,JSON.stringify(e._oAdapterContainer.getItemValue(t)))});this._aLoadedItemKeys=e._oItemMap.keys().splice(0)};a.prototype._isExpired=function(){if(this._getValidity()===Infinity||this._getValidity()===0){return false}const e=this._getItemValueInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_EXPIRE);const t=i.getDateInstance({pattern:n.S_ABAPTIMESTAMPFORMAT});const o=t.format(this._getNow(),true);return e&&o>e};a.prototype._getNow=function(){return new Date};a.prototype._copyToAdapterUpdatingValidity=function(){let e=[];let o=[];const r=this;let a;let s;let p;let _;if(this._clear){e=this._oAdapterContainer.getItemKeys().splice(0);e.forEach(e=>{r._oAdapterContainer.delItem(e)});this._clear=false}if(this._getValidity()===Infinity||this._getValidity()===0){this._delItemInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_SCOPE);this._delItemInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_EXPIRE);this._delItemInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_STORAGE)}else{s=i.getDateInstance({pattern:n.S_ABAPTIMESTAMPFORMAT});a=this._getNow();_=s.format(a,true);p=s.format(new Date(a.getTime()+this._getValidity()*6e4),true);this._setItemValueInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_SCOPE,this._oScope);this._setItemValueInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_EXPIRE,p);this._setItemValueInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_STORAGE,_)}e=this._oItemMap.keys();e.forEach(e=>{r._oAdapterContainer.setItemValue(e,t.cloneToObject(r._oItemMap.get(e)))});o=this._aLoadedItemKeys.filter(t=>!(e.indexOf(t)>-1));o.forEach(e=>{r._oAdapterContainer.delItem(e)})};a.prototype.save=function(){const e=this;this._copyToAdapterUpdatingValidity();const t=new jQuery.Deferred;const n=this._oService._pendingContainerOperations_cancelAddNext(this._sContainerKey,t);n.always(()=>{try{e._oAdapterContainer.save().fail(e=>{t.reject(e)}).done(()=>{t.resolve()})}catch(e){t.reject(e)}});return t.promise()};a.prototype.saveDeferred=function(e){const t=this;this._copyToAdapterUpdatingValidity();const n=new jQuery.Deferred;const i=this._oService._pendingContainerOperations_cancelAddNext(this._sContainerKey,n);function o(){i.always(()=>{try{t._oAdapterContainer.save().fail(e=>{n.reject(e)}).done(()=>{n.resolve()})}catch(e){n.reject(e)}})}n._sapFnSave=o;n._sapTimeoutId=setTimeout(o,e);return n.promise()};a.prototype.flush=function(){this._copyToAdapterUpdatingValidity();const e=new jQuery.Deferred;const t=this._oService._pendingContainerOperations_flushAddNext(this._sContainerKey,e);t.fail(t=>{e.reject(t)}).done(()=>{e.resolve()});return e.promise()};a.prototype.getItemKeys=function(){const e=this._oItemMap.keys().filter(e=>e.indexOf(n.S_ITEM_PREFIX)===0);return e.map(e=>e.replace(n.S_ITEM_PREFIX,"",""))};a.prototype._getInternalKeys=function(){return this._oItemMap.keys().splice(0)};a.prototype.getItemValue=function(e){return this._getItemValueInternal(n.S_ITEM_PREFIX,e)};a.prototype._getItemValueInternal=function(e,n){if(typeof n!=="string"||typeof e!=="string"){return undefined}return t.cloneToObject(this._oItemMap.get(e+n))};a.prototype.containsItem=function(e){if(typeof e!=="string"){return undefined}return this._oItemMap.containsKey(n.S_ITEM_PREFIX+e)};a.prototype.setItemValue=function(e,t){this._setItemValueInternal(n.S_ITEM_PREFIX,e,t)};a.prototype._setItemValueInternal=function(t,n,i){if(typeof n!=="string"||typeof t!=="string"){throw new e.Error("Parameter value of sItemKey or sItemValue is not a string: sap.ushell.services.Personalization"," ")}if(n.length>40){r.error(`Personalization Service item key/variant set name ("${n}") should be less than 40 characters [current :${n.length}]`)}this._oItemMap.put(t+n,JSON.stringify(i))};a.prototype.delItem=function(e){this._delItemInternal(n.S_ITEM_PREFIX,e)};a.prototype._delItemInternal=function(e,t){if(typeof t!=="string"){return undefined}if(typeof e!=="string"){return undefined}this._oItemMap.remove(e+t)};a.prototype.getKey=function(){return this._sContainerKey.substring(n.S_CONTAINER_PREFIX.length)};a.prototype.getUnmodifiableContainer=function(){const t=this;if(!this._oUnmodifiableContainer){this._oUnmodifiableContainer=function(){const n={};["clear","delItem","flush","load","save","saveDeferred","setItemValue"].forEach(t=>{n[t]=function(t){throw new e.Error(`Function ${t} can't be called on unmodifiable container`,"ContextContainer"," ")}.bind(undefined,t)});["containsItem","getItemKeys","getItemValue","getUnmodifiableContainer"].forEach(e=>{if(t[e]){n[e]=t[e].bind(t)}});return n}()}return this._oUnmodifiableContainer};return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/PersonalizationContainer", ["sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/constants.private","sap/ushell/services/_Personalization/PersonalizationContainerVariantSet","sap/ui/thirdparty/jquery"],(e,t,a,n,jQuery)=>{"use strict";function i(t,a){this._sContainerKey=a;this._oAdapterContainer={};this._aLoadedVariantSetKeys=[];this._aLoadedItemKeys=[];let n={};const i=this;this._init();n=new jQuery.Deferred;if(!this._sContainerKey||typeof this._sContainerKey!=="string"){throw new e.Error("Invalid container key: sap.ushell.services.Personalization"," ")}this._oAdapterContainer=t.getAdapterContainer(this._sContainerKey);this.load().fail(e=>{n.reject(e)}).done(()=>{n.resolve(i)});return n.promise()}i.prototype._init=function(){this._oVariantSetMap={};this._oItemMap={};this._aLoadedVariantSetKeys=[];this._aLoadedItemKeys=[];this._oVariantSetMap=new e.Map;this._oItemMap=new e.Map};i.prototype.load=function(){let i={};let r=[];let o=[];let s=[];let p=[];const l=this;function _(e){let n=[];let i=[];n=e.filter(e=>e.indexOf(a.S_ITEM_PREFIX)!==0);if(n.length===0){return e}i=e.filter(e=>e.indexOf(a.S_ITEM_PREFIX)===0);n.forEach(e=>{let n={};let r="";r=a.S_ITEM_PREFIX+e;n=t.clone(l._oAdapterContainer.getItemValue(e));l._oAdapterContainer.setItemValue(r,n);l._oAdapterContainer.delItem(e);if(i&&Array.prototype.indexOf.call(i,r)===-1){i.push(r)}});return i}i=new jQuery.Deferred;if(!this._sContainerKey){throw new e.Error("Invalid container key: sap.ushell.services.Personalization"," ")}this._init();this._oAdapterContainer.load().fail(e=>{i.reject(e)}).done(()=>{r=l._oAdapterContainer.getItemKeys().splice(0);o=r.filter(e=>e.indexOf(a.S_VARIANT_PREFIX)===0);o.forEach(e=>{let t={};t=new n(e,l._oAdapterContainer);l._oVariantSetMap.put(e,t)});s=r.filter(e=>e.indexOf(a.S_VARIANT_PREFIX)!==0);p=_(s);p.forEach(e=>{l._oItemMap.put(e,t.clone(l._oAdapterContainer.getItemValue(e)))});l._aLoadedVariantSetKeys=l._oVariantSetMap.keys().splice(0);l._aLoadedItemKeys=l._oItemMap.keys().splice(0);i.resolve()});return i.promise()};i.prototype.save=function(){let e;this._serializeVariantSets();this._serializeItems();const t=new jQuery.Deferred;function a(){t.resolve()}function n(e){t.reject(e)}try{e=this._oAdapterContainer.save();e.fail(n);e.done(a)}catch(e){t.reject(e)}return t.promise()};i.prototype.getItemKeys=function(){return this._oItemMap.keys().map(e=>e.replace(a.S_ITEM_PREFIX,"",""))};i.prototype.getItemValue=function(e){if(typeof e!=="string"){return undefined}return this._oItemMap.get(a.S_ITEM_PREFIX+e)};i.prototype.containsItem=function(e){if(typeof e!=="string"){return undefined}return this._oItemMap.containsKey(a.S_ITEM_PREFIX+e)};i.prototype.setItemValue=function(t,n){if(typeof t!=="string"){throw new e.Error("Parameter value of sItemKey is not a string: sap.ushell.services.Personalization"," ")}this._oItemMap.put(a.S_ITEM_PREFIX+t,n)};i.prototype.delItem=function(e){if(typeof e!=="string"){return}if(this.containsItem(e)){this._oItemMap.remove(a.S_ITEM_PREFIX+e)}};i.prototype._serializeItems=function(){let e=[];let a=[];const n=this;e=this._oItemMap.keys();e.forEach(e=>{n._oAdapterContainer.setItemValue(e,t.clone(n._oItemMap.get(e)))});a=this._aLoadedItemKeys.filter(t=>!(e.indexOf(t)>-1));a.forEach(e=>{n._oAdapterContainer.delItem(e)})};i.prototype.getVariantSetKeys=function(){let e=[];let t=[];t=this._oVariantSetMap.keys();e=t.map(e=>e.replace(a.S_VARIANT_PREFIX,"",""));return e};i.prototype.containsVariantSet=function(e){return this._oVariantSetMap.containsKey(a.S_VARIANT_PREFIX+e)};i.prototype.getVariantSet=function(e){let t={};const n=a.S_VARIANT_PREFIX+e;t=this._oVariantSetMap.get(n);return t};i.prototype.addVariantSet=function(t){let i={};let r={};let o="";if(this.containsVariantSet(t)){throw new e.Error(`Container already contains a variant set with key '${t}': sap.ushell.services.Personalization`," ")}o=a.S_VARIANT_PREFIX+t;i={currentVariant:null,variants:{}};this._oAdapterContainer.setItemValue(o,i);r=new n(o,this._oAdapterContainer);this._oVariantSetMap.put(o,r);return r};i.prototype._serializeVariantSets=function(){let e=[];let a=[];const n=this;e=this._oVariantSetMap.keys();e.forEach(e=>{let a={};let i={};a=n._oVariantSetMap.get(e);i=a._serialize();n._oAdapterContainer.setItemValue(e,t.clone(i))});a=this._aLoadedVariantSetKeys.filter(t=>!(e.indexOf(t)>-1));a.forEach(e=>{n._oAdapterContainer.delItem(e)})};i.prototype.delVariantSet=function(e){let t="";t=a.S_VARIANT_PREFIX+e;this._oVariantSetMap.remove(t);return this._oAdapterContainer.delItem(t)};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/PersonalizationContainerVariant", ["sap/ushell/utils"],t=>{"use strict";function e(e,r,n){if(typeof e!=="string"){throw new t.Error("Parameter value of sVariantKey is not a string: sap.ushell.services.Personalization"," ")}if(typeof r!=="string"){throw new t.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ")}if(n&&typeof n!=="object"){throw new t.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ")}this._oVariantKey=e;this._oVariantName=r;this._oItemMap=new t.Map;this._oItemMap.entries=n||{}}e.prototype.getVariantKey=function(){return this._oVariantKey};e.prototype.getVariantName=function(){return this._oVariantName};e.prototype.getItemValue=function(t){if(typeof t!=="string"){return undefined}return this._oItemMap.get(t)};e.prototype.setItemValue=function(e,r){if(typeof e!=="string"){throw new t.Error("Parameter value of sItemKey is not a string: sap.ushell.services.Personalization"," ")}return this._oItemMap.put(e,r)};e.prototype.containsItem=function(t){if(typeof t!=="string"){return undefined}return this._oItemMap.containsKey(t)};e.prototype.getItemKeys=function(){return this._oItemMap.keys()};e.prototype.delItem=function(t){if(typeof t!=="string"){return undefined}return this._oItemMap.remove(t)};e.prototype._serialize=function(){let t=[];const e={};const r={};const n=this;e.name=this.getVariantName();t=this._oItemMap.keys();t.forEach(t=>{r[t]=n.getItemValue(t)});e.variantData=r;return e};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/PersonalizationContainerVariantSet", ["sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/PersonalizationContainerVariant"],(t,a,e)=>{"use strict";function r(r,n){let i;let s;let o;let p;this._sVariantSetKey=r;this._oAdapterContainer=n;this._oVariantNameMap=new t.Map;this._oVariantMap=new t.Map;const u=a.clone(this._oAdapterContainer.getItemValue(r));if(u.hasOwnProperty("currentVariant")){this._sCurrentVariantKey=u.currentVariant}else{throw new t.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ")}if(u.hasOwnProperty("variants")){for(i in u.variants){if(u.variants.hasOwnProperty(i)){s=u.variants[i].name;o=u.variants[i].variantData;if(this._oVariantNameMap.containsKey(s)){throw new t.Error("Variant name already exists: sap.ushell.services.Personalization"," ")}else{this._oVariantNameMap.put(s,i);p=new e(i,s,o);this._oVariantMap.put(i,p)}}}}else{throw new t.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ")}return this}r.prototype.getCurrentVariantKey=function(){return this._sCurrentVariantKey};r.prototype.setCurrentVariantKey=function(t){this._sCurrentVariantKey=t};r.prototype.getVariantKeys=function(){return this._oVariantMap.keys()};r.prototype.getVariantNamesAndKeys=function(){return JSON.parse(JSON.stringify(this._oVariantNameMap.entries))};r.prototype.getVariant=function(t){if(typeof t!=="string"){return undefined}return this._oVariantMap.get(t)};r.prototype.getVariantKeyByName=function(t){if(typeof t!=="string"){return undefined}return this._oVariantNameMap.get(t)};r.prototype.containsVariant=function(t){if(typeof t!=="string"){return undefined}return this._oVariantMap.containsKey(t)};r.prototype.addVariant=function(a){let r=0;let n="";let i={};r=parseInt(this._oVariantMap.keys().sort((t,a)=>t-a).reverse()[0],10);n=isNaN(r)?"0":(r+1).toString();if(this._oVariantMap.containsKey(n)){throw new t.Error(`Variant key '${n}' already exists in variant set${this._sVariantSetKey}': sap.ushell.services.Personalization`," ")}if(typeof a!=="string"){throw new t.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ")}if(this._oVariantNameMap.containsKey(a)){throw new t.Error(`Variant name '${a}' already exists in variant set '${this._sVariantSetKey}' (Old key: '${this._oVariantNameMap.get(a)}' New key: '${n}') ': sap.ushell.services.Personalization`," ")}i=new e(n,a);this._oVariantMap.put(n,i);this._oVariantNameMap.put(a,n);return i};r.prototype._serialize=function(){let t=[];const a={};const e={};const r=this;a.currentVariant=this._sCurrentVariantKey;t=this.getVariantKeys();t.forEach(t=>{let a={};a=r._oVariantMap.get(t);e[t]=a._serialize()});a.variants=e;return a};r.prototype.delVariant=function(t){const a=this._oVariantMap.get(t);if(a){this._oVariantNameMap.remove(a.getVariantName());this._oVariantMap.remove(t)}};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/Personalizer", ["sap/ushell/utils","sap/ui/thirdparty/jquery","sap/base/Log"],(e,jQuery,t)=>{"use strict";function r(t,r,i,s,o){this._sPersContainer="";this._sPersItem="";this._sPersVariant=null;this._oAdapter=r;this._oService=t;this._oScope=s;this._oComponent=o;if(!i||!i.container||!i.item||typeof i.container!=="string"||typeof i.item!=="string"){throw new e.Error("Invalid input for oPersId: sap.ushell.services.Personalization"," ")}this._sPersContainer=i.container;this._sPersItem=i.item}r.prototype._getContainer=function(e){if(!this._oGetContainerPromise){this._oGetContainerPromise=this._oService.getContainer(e,this._oScope,this._oComponent)}return this._oGetContainerPromise};r.prototype.getPersData=function(){let e={};const r=this;e=new jQuery.Deferred;this._getContainer(this._sPersContainer).fail(t=>{e.reject(t)}).done(t=>{e.resolve(t.getItemValue(r._sPersItem))});e.fail(()=>{t.error(`Failed to get personalization data for Personalizer container: ${r._sPersContainer}`)});return e.promise()};r.prototype.setPersData=function(e){let r={};const i=this;r=new jQuery.Deferred;this._getContainer(this._sPersContainer).fail(e=>{r.reject(e)}).done(t=>{t.setItemValue(i._sPersItem,e);t.save().fail(e=>{r.reject(e)}).done(()=>{r.resolve()})});r.fail(e=>{t.error(`Fail to set Personalization data for Personalizer container: ${i._sPersContainer}`,e)});return r.promise()};r.prototype.delPersData=function(){let e={};const r=this;e=new jQuery.Deferred;this._getContainer(this._sPersContainer).fail(t=>{e.reject(t)}).done(t=>{t.delItem(r._sPersItem);t.save().fail(t=>{e.reject(t)}).done(()=>{e.resolve()})});const i=e.promise();i.fail(e=>{t.error(`Fail to delete Personalization data for Personalizer container: ${this._sPersContainer}`,e)});return i};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/TransientPersonalizer", ["sap/ui/thirdparty/jquery"],jQuery=>{"use strict";function e(){this._oValue=undefined}e.prototype.getPersData=function(){const e=new jQuery.Deferred;e.resolve(this._oValue);return e.promise()};e.prototype.setPersData=function(e){const t=new jQuery.Deferred;this._oValue=e;t.resolve();return t.promise()};e.prototype.delPersData=function(){const e=new jQuery.Deferred;this._oValue=undefined;e.resolve();return e.promise()};e.prototype.setValue=function(e){this._oValue=e};e.prototype.getValue=function(){return this._oValue};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/Variant", ["sap/ushell/utils","sap/ushell/services/_Personalization/utils"],(t,a)=>{"use strict";function e(a,e,r){if(typeof e!=="string"){throw new t.Error("Parameter value of sVariantKey is not a string: sap.ushell.services.Personalization"," ")}if(typeof r!=="string"){throw new t.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ")}this._oVariantSet=a;this._sVariantKey=e;this._sVariantName=r}e.prototype.getVariantKey=function(){return this._sVariantKey};e.prototype.getVariantName=function(){return this._sVariantName};e.prototype.setVariantName=function(a){const e=this._oVariantSet._getVariantSet();let r;if(typeof a!=="string"){throw new t.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ")}if(this._oVariantSet.getVariantKeyByName(a)!==undefined){throw new t.Error(`Variant with name '${a}' already exists in variant set '${this._oVariantSet._sVariantSetKey}': sap.ushell.services.Personalization`," ")}if(Object.prototype.hasOwnProperty.call(e,"variants")&&Object.prototype.hasOwnProperty.call(e.variants,this._sVariantKey)){r=e.variants[this._sVariantKey];r.name=a;this._sVariantName=a;this._oVariantSet._serialize()}else{throw new t.Error("Variant does not longer exist"," ")}};e.prototype.getItemValue=function(t){if(typeof t!=="string"){return undefined}const e=this._oVariantSet._getVariantSet().variants[this._sVariantKey].variantData;if(!Object.prototype.hasOwnProperty.call(e,t)){return undefined}return a.clone(e[t])};e.prototype.setItemValue=function(e,r){if(typeof e!=="string"){throw new t.Error("Parameter value of sItemKey is not a string: sap.ushell.services.Personalization"," ")}const i=this._oVariantSet._getVariantSet().variants&&this._oVariantSet._getVariantSet().variants[this._sVariantKey];if(!i){throw new t.Error("Variant does not longer exist"," ")}if(!i.variantData){i.variantData={}}const n=i.variantData;n[e]=a.clone(r);this._oVariantSet._serialize()};e.prototype.containsItem=function(t){if(typeof t!=="string"){return undefined}const a=this._oVariantSet._getVariantSet().variants[this._sVariantKey].variantData;return Object.prototype.hasOwnProperty.call(a,t)};e.prototype.getItemKeys=function(){const t=this._oVariantSet._getVariantSet().variants[this._sVariantKey].variantData;let a;const e=[];for(a in t){if(Object.prototype.hasOwnProperty.call(t,a)){e.push(a)}}e.sort();return e};e.prototype.delItem=function(t){if(typeof t!=="string"){return}const a=this._oVariantSet._getVariantSet().variants[this._sVariantKey].variantData;delete a[t];this._oVariantSet._serialize()};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/VariantSet", ["sap/ushell/utils","sap/ushell/services/_Personalization/constants.private","sap/ushell/services/_Personalization/Variant"],(t,e,a)=>{"use strict";function r(a,r){let n;let i;let s;const o=new t.Map;this._oContextContainer=r;this._sVariantSetKey=a;this._oVariantSetData=this._oContextContainer._getItemValueInternal(e.S_VARIANT_PREFIX,this._sVariantSetKey);if(!Object.prototype.hasOwnProperty.call(this._oVariantSetData,"currentVariant")){throw new t.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ")}if(Object.prototype.hasOwnProperty.call(this._oVariantSetData,"variants")){for(n in this._oVariantSetData.variants){if(Object.prototype.hasOwnProperty.call(this._oVariantSetData.variants,n)){i=this._oVariantSetData.variants[n].name;s=this._oVariantSetData.variants[n].variantData;if(o.containsKey(i)){throw new t.Error("Variant name already exists: sap.ushell.services.Personalization"," ")}else{if(typeof n!=="string"){throw new t.Error("Parameter value of sVariantKey is not a string: sap.ushell.services.Personalization"," ")}if(typeof i!=="string"){throw new t.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ")}if(s&&typeof s!=="object"){throw new t.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ")}o.put(i,n)}}}}else{throw new t.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ")}return this}r.prototype._getVariantSet=function(){return this._oVariantSetData};r.prototype._serialize=function(){this._oContextContainer._setItemValueInternal(e.S_VARIANT_PREFIX,this._sVariantSetKey,this._oVariantSetData)};r.prototype.getCurrentVariantKey=function(){return this._getVariantSet().currentVariant};r.prototype.setCurrentVariantKey=function(t){this._getVariantSet().currentVariant=t;this._serialize()};r.prototype.getVariantKeys=function(){const e=new t.Map;const a=this._getVariantSet(this._sVariantSetKey);let r;if(Object.prototype.hasOwnProperty.call(a,"variants")){for(r in a.variants){if(Object.prototype.hasOwnProperty.call(a.variants,r)){e.put(r,"dummy")}}}else{throw new t.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ")}return e.keys()};r.prototype.getVariantNamesAndKeys=function(){const e=new t.Map;const a=new t.Map;const r=this._getVariantSet(this._sVariantSetKey);let n;let i;if(Object.prototype.hasOwnProperty.call(r,"variants")){for(n in r.variants){if(Object.prototype.hasOwnProperty.call(r.variants,n)){i=r.variants[n].name;if(e.containsKey(i)){throw new t.Error("Variant name already exists: sap.ushell.services.Personalization"," ")}else{e.put(i,n)}a.put(n,"dummy")}}}else{throw new t.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ")}return e.entries};r.prototype.getVariant=function(t){if(typeof t!=="string"){return undefined}const e=this._getVariantSet(this._sVariantSetKey);let r;let n;let i;if(Object.prototype.hasOwnProperty.call(e,"variants")&&Object.prototype.hasOwnProperty.call(e.variants,t)){r=e.variants[t].name;i=e.variants[t].variantData;n=new a(this,t,r,i);return n}return undefined};r.prototype.getVariantKeyByName=function(e){if(typeof e!=="string"){return undefined}const a=this._getVariantSet(this._sVariantSetKey);let r;if(Object.prototype.hasOwnProperty.call(a,"variants")){for(r in a.variants){if(Object.prototype.hasOwnProperty.call(a.variants,r)){if(e===a.variants[r].name){return r}}}}else{throw new t.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ")}return undefined};r.prototype.containsVariant=function(t){const e=this._getVariantSet();if(typeof t!=="string"){return undefined}return Object.prototype.hasOwnProperty.call(e,"variants")&&Object.prototype.hasOwnProperty.call(e.variants,t)};r.prototype.addVariant=function(e){let r=[];let n=0;let i="";let s={};r=this.getVariantKeys();n=parseInt(r.sort((t,e)=>t-e).reverse()[0],10);i=isNaN(n)?"0":(n+1).toString();if(r.indexOf(i)>=0){throw new t.Error(`Variant key '${i}' already exists in variant set${this._sVariantSetKey}': sap.ushell.services.Personalization`," ")}if(typeof e!=="string"){throw new t.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ")}if(this.getVariantKeyByName(e)!==undefined){throw new t.Error(`Variant name '${e}' already exists in variant set '${this._sVariantSetKey}' (Old key: '${this.getVariantKeyByName(e)}' New key: '${i}') ': sap.ushell.services.Personalization`," ")}s=new a(this,i,e);this._getVariantSet(this._sVariantSetKey).variants[i]={name:e,variantData:{}};this._serialize();return s};r.prototype.delVariant=function(t){if(typeof t!=="string"){return}const e=this._getVariantSet();if(e&&e.variants){delete this._oVariantSetData.variants[t]}this._serialize()};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/constants", [],()=>{"use strict";return{keyCategory:{FIXED_KEY:"FIXED_KEY",GENERATED_KEY:"GENERATED_KEY"},writeFrequency:{HIGH:"HIGH",LOW:"LOW"}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/constants.private", [],()=>{"use strict";return{S_CONTAINER_PREFIX:"sap.ushell.personalization#",S_ITEM_PREFIX:"ITEM#",S_VARIANT_PREFIX:"VARIANTSET#",S_ABAPTIMESTAMPFORMAT:"yyyyMMddHHmmss",S_ADMIN_PREFIX:"ADMIN#",S_ITEMKEY_SCOPE:"sap-ushell-container-scope",S_ITEMKEY_STORAGE:"sap-ushell-container-storageUTCTimestamp",S_ITEMKEY_EXPIRE:"sap-ushell-container-expireUTCTimestamp"}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/utils", ["sap/ushell/services/_Personalization/constants","sap/ushell/services/_Personalization/constants.private","sap/ui/thirdparty/jquery","sap/base/Log"],(e,t,jQuery,n)=>{"use strict";function r(e,t){let n;for(n in t){if(typeof t[n]!=="function"){if(t.hasOwnProperty(n)){if(n===e){return true}}}}return false}function i(e){if(e.length>40){n.error(`Personalization Service container key ("${e}") should be less than 40 characters [current :${e.length}]`)}return t.S_CONTAINER_PREFIX+e}function a(e,t,n){if(e&&e.validity===0){return t}return n}function l(t){const n={validity:Infinity,keyCategory:e.keyCategory.GENERATED_KEY,writeFrequency:e.writeFrequency.HIGH,clientStorageAllowed:false};if(t){n.validity=t.validity;if(n.validity===null||n.validity===undefined||typeof n.validity!=="number"){n.validity=Infinity}if(!(typeof n.validity==="number"&&(n.validity>=0&&n.validity<1e3||n.validity===Infinity))){n.liftime=Infinity}n.keyCategory=r(t.keyCategory,e.keyCategory)?t.keyCategory:n.keyCategory;n.writeFrequency=r(t.writeFrequency,e.writeFrequency)?t.writeFrequency:n.writeFrequency;if(typeof t.clientStorageAllowed==="boolean"&&(t.clientStorageAllowed===true||t.clientStorageAllowed===false)){n.clientStorageAllowed=t.clientStorageAllowed}}return n}function o(e){if(!e.lazy){return jQuery.when(e.instance)}try{return e.create.call(null)}catch(e){return(new jQuery.Deferred).reject(e).promise()}}function u(e){if(!e){return false}const t=e.getManifestObject();if(!t){return false}const n=t.getEntry("/sap.ui5/appVariantId");if(!n){return false}const r=t.getComponentName();if(n===r){return false}return true}function f(e){if(e===undefined){return undefined}try{return JSON.parse(e)}catch(e){return undefined}}function c(e){if(e===undefined){return undefined}try{return JSON.parse(JSON.stringify(e))}catch(e){return undefined}}return{adjustScope:l,cloneToObject:f,clone:c,addContainerPrefix:i,pickAdapter:a,isAppVariant:u,loadAdapter:o}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/appstate/AppState", ["sap/base/Log","sap/ui/thirdparty/jquery"],(t,jQuery)=>{"use strict";function e(){const t=new jQuery.Deferred;this._oServiceInstance._saveAppState(this._sKey,this._sData,this._sAppName,this._sACHComponent,this._bTransient,this._sPersistencyMethod,this._oPersistencySettings).done(()=>{t.resolve()}).fail(e=>{t.reject(e)});return t.promise()}function s(){const t=new jQuery.Deferred;this._oServiceInstance._deleteAppState(this._sKey).done(()=>{t.resolve()}).fail(e=>{t.reject(e)});return t.promise()}function i(i,n,r,a,o,h,c,p,_){this._oServiceInstance=i;this._sKey=n;this._sData=a;this._sAppName=o;this._sACHComponent=h;this._bTransient=c;this._bModifiable=r;this._sPersistencyMethod=p;this._oPersistencySettings=_;if(this._bModifiable){this.setData=function(e){try{this._sData=JSON.stringify(e)}catch(e){t.error("Data can not be serialized",e,"sap.ushell.services.AppState.AppState");this._sData=undefined}};this.save=e.bind(this);this.delete=s.bind(this)}}i.prototype.getData=function(){let e;if(this._sData===undefined||this._sData===""){return undefined}try{e=JSON.parse(this._sData)}catch(e){t.error(`Could not parse [${this._sData}]`,e)}return e};i.prototype.getPersistencyMethod=function(){return this._sPersistencyMethod};i.prototype.getPersistencySettings=function(){return this._oPersistencySettings};i.prototype.getKey=function(){return this._sKey};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/appstate/AppStatePersistencyMethod", [],()=>{"use strict";function t(){this.PersonalState="PersonalState";this.ACLProtectedState="ACLProtectedState";this.PublicState="PublicState";this.AuthorizationProtectedState="AuthorizationProtectedState"}return new t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/appstate/LimitedBuffer", [],()=>{"use strict";function t(t){this.index=-1;this.capacity=t;this.array=[]}t.prototype._clear=function(){this.array=[];this.index=-1};t.prototype.addAsHead=function(t,i,e,a){this.index=(this.index+1)%this.capacity;this.array[this.index]={key:t,value:i,persistencyMethod:e,persistencySettings:a}};t.prototype.getByKey=function(t){let i;let e;for(i=0;i<=this.capacity-1;i=i+1){e=(this.capacity+this.index-i)%this.capacity;if(this.array[e]&&this.array[e].key===t){return this.array[e]}}return undefined};t.prototype.deleteByKey=function(t){let i;let e;let a=false;for(i=0;i<=this.capacity-1;i=i+1){e=(this.capacity+this.index-i)%this.capacity;if(this.array[e]&&this.array[e].key===t){delete this.array[e];a=true}}return a};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/appstate/Sequentializer", ["sap/ui/thirdparty/jquery"],jQuery=>{"use strict";function e(){this.oLastPromise=new jQuery.Deferred;this.oLastPromise.resolve()}e.prototype.addToQueue=function(e){const t=new jQuery.Deferred;this.oLastPromise.always(()=>{const s=e();s.done(function(){t.resolve.apply(t,arguments)}).fail(function(){t.reject.apply(t,arguments)})});this.oLastPromise=t;return t.promise()};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/appstate/SequentializingAdapter", ["sap/ushell/services/appstate/Sequentializer"],e=>{"use strict";function t(t){this._oSequentializer=new e;this._oUnderlyingAdapter=t}t.prototype.saveAppState=function(e,t,r,n,i,p,d){const o=this._oUnderlyingAdapter.saveAppState.bind(this._oUnderlyingAdapter,e,t,r,n,i,p,d);return this._oSequentializer.addToQueue(o)};t.prototype.loadAppState=function(e){return this._oUnderlyingAdapter.loadAppState(e)};t.prototype.deleteAppState=function(e){if(this._oUnderlyingAdapter&&this._oUnderlyingAdapter.deleteAppState){return this._oUnderlyingAdapter.deleteAppState(e)}};t.prototype.getSupportedPersistencyMethods=function(){if(this._oUnderlyingAdapter&&this._oUnderlyingAdapter.getSupportedPersistencyMethods){return this._oUnderlyingAdapter.getSupportedPersistencyMethods()}return[]};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/appstate/WindowAdapter", ["sap/ushell/services/appstate/LimitedBuffer","sap/base/Log","sap/ui/thirdparty/jquery"],(e,t,jQuery)=>{"use strict";const o=500;const p=18;function r(){this._init.apply(this,arguments)}r.prototype._init=function(t,p,a){const n=a&&a.config&&a.config.initialAppStates||{};const s=a&&a.config&&a.config.initialAppStatesPromise;this._oServiceInstance=t;this._oBackendAdapter=p;if(!r.prototype.data){r.prototype.data=new e(o)}if(s){s.then(e=>{if(typeof e==="object"){Object.keys(e).forEach(t=>{r.prototype.data.addAsHead(t,e[t])})}})}Object.keys(n).forEach(e=>{r.prototype.data.addAsHead(e,n[e])})};r.prototype.saveAppState=function(e,t,o,p,a,n,s,i){this.sComponent=a;const d=new jQuery.Deferred;r.prototype.data.addAsHead(e,o,s,i);if(this._oBackendAdapter&&!n){return this._oBackendAdapter.saveAppState(e,t,o,p,a,s,i)}d.resolve();return d.promise()};r.prototype._checkIfTransient=function(e){return e.startsWith("TAS")};r.prototype.loadAppState=function(e){const o=new jQuery.Deferred;const a=r.prototype.data.getByKey(e);if(a){setTimeout(()=>{o.resolve(e,a.value,a.persistencyMethod,a.persistencySettings)},0);return o.promise()}try{if(window.opener&&window.opener.sap&&window.opener.sap.ushell){const t=window.opener.sap.ui.require("sap/ushell/services/AppState").WindowAdapter.prototype.data.getByKey(e);if(t){o.resolve(e,t.value);return o.promise()}}}catch(e){if(e.code===p){t.warning("AppState.js - loadAppState: Opener is not of the same origin and cannot be used for AppState resolving.")}else{t.warning("AppState.js - loadAppState: Opener is a FLP but AppState could not get resolved from there.")}}if(this._oBackendAdapter&&!this._checkIfTransient(e)){this._oBackendAdapter.loadAppState(e).done((e,t,p,a)=>{r.prototype.data.addAsHead(e,t);o.resolve(e,t,p,a)}).fail(o.reject.bind(o));return o.promise()}o.reject(new Error("AppState.js - loadAppState: Application State could not be loaded"));return o.promise()};r.prototype.deleteAppState=function(e){const t=new jQuery.Deferred;r.prototype.data.deleteByKey(e);if(this._oBackendAdapter&&this._oBackendAdapter.deleteAppState&&!this._checkIfTransient(e)){return this._oBackendAdapter.deleteAppState(e)}t.resolve();return t.promise()};r.prototype.getSupportedPersistencyMethods=function(){if(this._oBackendAdapter&&this._oBackendAdapter.getSupportedPersistencyMethods){return this._oBackendAdapter.getSupportedPersistencyMethods()}return[]};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/personalization/VariantSetAdapter", ["sap/ushell/services/_Personalization/constants.private","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/VariantSet"],(t,e,n)=>{"use strict";function a(t){this._oContextContainer=t}a.prototype.save=function(){return this._oContextContainer.save()};a.prototype.getVariantSetKeys=function(){const e=this._oContextContainer._getInternalKeys();let n=[];n=e.map(e=>e.replace(t.S_VARIANT_PREFIX,"",""));return n};a.prototype.containsVariantSet=function(t){return this.getVariantSetKeys().indexOf(t)>=0};a.prototype.getVariantSet=function(e){const a=this._oContextContainer._getItemValueInternal(t.S_VARIANT_PREFIX,e);if(!a){return undefined}return new n(e,this._oContextContainer)};a.prototype.addVariantSet=function(a){let i={};let r={};if(this.containsVariantSet(a)){throw new e.Error(`Container already contains a variant set with key '${a}': sap.ushell.services.Personalization`," ")}i={currentVariant:null,variants:{}};this._oContextContainer._setItemValueInternal(t.S_VARIANT_PREFIX,a,i);r=new n(a,this._oContextContainer);return r};a.prototype.delVariantSet=function(e){this._oContextContainer._delItemInternal(t.S_VARIANT_PREFIX,e)};return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/BaseState", ["sap/base/util/deepClone","sap/ushell/state/StrategyFactory","sap/ushell/state/StateManager/LaunchpadState"],(t,a,e)=>{"use strict";class s{#t={};constructor(a){Object.values(e).forEach(e=>{this.#t[e]=t(a)})}updateState(t,e,s,r){if(!t){Object.keys(this.#t).forEach(t=>{a.perform(this.#t[t],e,s,r)});return}a.perform(this.#t[t],e,s,r)}getStateData(a,e){const s=t(this.#t[e]);return s}}return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/BindingHelper", ["sap/ui/core/Element"],t=>{"use strict";class e{overrideUpdateAggregation(t){t.updateAggregation=this.#t}#t(t){const g=this.getBindingInfo(t).model;const i=[...this.getAggregation(t)||[]];i.forEach(e=>{this.removeAggregation(t,e,true)});this.getBinding(t).getCurrentContexts().forEach(i=>{const n=e.prototype.factory("",i);if(!n){return}n.setBindingContext(i,g);this.addAggregation(t,n,true)});this.invalidate()}factory(e,g){return t.getElementById(g.getObject())}}return new e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/ControlManager", ["sap/base/util/deepClone","sap/ui/core/Element"],(t,o)=>{"use strict";class r{#t=[];#o=[];#r=[];addManagedControl(t,o,r){if(!this.#t.includes(t)){this.#t.push(t)}if(r==="home"){o=false}const s=this.#r.includes(t);const e=this.#o.includes(t);if(o&&!e){this.#o.push(t)}else if(!o&&!s){this.#r.push(t)}}updateManagedControl(t,o){if(!this.#t.includes(t)){return}this.addManagedControl(t,o)}removeManagedControl(t){this.#t=this.#t.filter(o=>o!==t);this.#o=this.#o.filter(o=>o!==t);this.#r=this.#r.filter(o=>o!==t)}destroyManagedControls(){this.#o.forEach(t=>{if(this.#r.includes(t)){return}this.destroyManagedControl(t)});this.#o=[]}#s(){this.#t.forEach(t=>{this.destroyManagedControl(t)});this.#t=[]}destroyManagedControl(t){const r=o.getElementById(t);if(r){r.destroy()}}storeList(o={}){o.controlManager={currentControls:t(this.#o)}}restoreList(o={}){const{currentControls:r}=o.controlManager||{};if(r){this.#o=t(r)}else{this.#o=[]}}flushList(){this.#o=[]}destroyFromStorage(t={}){const{currentControls:o}=t.controlManager||{};if(Array.isArray(o)){o.forEach(t=>{this.destroyManagedControl(t)})}}reset(){this.destroy();this.#o=[];this.#r=[]}destroy(){this.#s()}}return new r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/CurrentState", ["sap/base/util/deepClone","sap/ui/base/EventProvider","sap/ushell/state/StrategyFactory"],(t,e,a)=>{"use strict";class s{#t=[];#e=new e;attachStateChange(...t){this.#e.attachEvent("stateChange",...t)}detachStateChange(...t){this.#e.detachEvent("stateChange",...t)}updateState(t,e,a){this.#t.push({path:t,value:a,operation:e})}flushState(){this.#t=[];this.#e.fireEvent("stateChange")}storeState(e){e.currentState={commandList:t(this.#t)}}restoreState(e){const{commandList:a}=e.currentState||{};if(a){this.#t=t(a)}else{this.#t=[]}this.#e.fireEvent("stateChange")}applyState(t){this.#t.forEach(({path:e,value:s,operation:i})=>{a.perform(t,e,i,s)})}reset(){this.destroy();this.#t=[];this.#e=new e}destroy(){this.#e.destroy()}}return new s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/KeepAlive", ["sap/ushell/state/ControlManager","sap/ushell/state/CurrentState"],(t,e)=>{"use strict";class s{store(s){e.storeState(s);t.storeList(s)}restore(s){e.restoreState(s);t.restoreList(s)}flush(){e.flushState();t.flushList()}destroy(e){t.destroyFromStorage(e)}}return new s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/ShellModel", ["sap/base/util/deepClone","sap/ui/model/json/JSONModel","sap/ushell/Config","sap/ushell/utils/RestrictedJSONModel"],(e,o,s,t)=>{"use strict";class l{#e=new t;#o=s.createModel("/core/shell/model",o);constructor(){this.#s(this.#e)}#s(e){const o=e.refresh.bind(e);e.refresh=function e(s){if(s){throw new Error("The shell model does not support force update.")}o()}}updateModel(o){const s=e(o);this.#e._setData(s)}getModel(){return this.#e}getConfigModel(){return this.#o}reset(){this.destroy();this.#e=new t;this.#o=s.createModel("/core/shell/model",o);this.#s(this.#e)}destroy(){this.#e.destroy();this.#o.destroy()}}return new l});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StateManager", ["sap/base/Log","sap/ushell/Config","sap/ushell/state/BaseState","sap/ushell/state/ControlManager","sap/ushell/state/CurrentState","sap/ushell/state/ShellModel","sap/ushell/state/StateRules","sap/ushell/state/StateManager/LaunchpadState","sap/ushell/state/StateManager/Operation","sap/ushell/state/StateManager/ShellMode","sap/ushell/utils"],(e,t,a,s,l,i,n,r,h,d,o)=>{"use strict";const{Default:u,Standalone:p,Lean:g,Minimal:S}=d;class c{#e=o.deepFreeze({sideNavigation:{visible:true},sidePane:{visible:false,items:[]},toolArea:{visible:false,items:[]},rightFloatingContainer:{visible:false,items:[]},floatingContainer:{visible:false,state:"floating",dragSelector:"",items:[]},userActions:{items:[]},floatingActions:{items:[]},header:{visible:true,logo:{src:undefined,alt:undefined},secondTitle:"",headItems:[],centralAreaElement:null,headEndItems:[]},subHeader:{items:[]},footer:{content:""},application:{title:"",titleAdditionalInformation:{headerText:"",additionalContext:"",searchTerm:"",searchScope:""},icon:"",contentDensity:"",subTitle:"",relatedApps:[],hierarchy:[]}});#t=false;#a=r.Home;#s=d.Default;#l=d.Default;#i=null;#n=l;#r=false;#h=false;#d=[];LaunchpadState=r;ShellMode=d;Operation=h;constructor(){this.#o()}#o(){const e=this.#u();this.#l=e;this.#s=e;this.#a=o.isFlpHomeIntent()?r.Home:r.App;this.#i=new a(this.#e);this.#n.attachStateChange(this.#p,this);this.#p()}init(e){if(this.#t){throw new Error("State Manager is already initialized!")}this.#t=true;n.setShellConfig(e);this.#p()}getShellMode(){return this.#l}getLaunchpadState(){return this.#a}switchState(e,t){this.#g(e);const a=t??this.#s;this.#S(a);this.#l=a;this.#a=e;this.#p()}updateBaseStates(e,t,a,s){this.#c(a);this.#f(e);if(this.#h){this.#d.push({handler:this.updateBaseStates.bind(this),args:arguments});return}e.forEach(e=>{this.#i.updateState(e,t,a,s)});this.#p()}updateAllBaseStates(e,t,a){this.updateBaseStates(Object.values(r),e,t,a)}updateCurrentState(e,t,a){this.#c(t);if(this.#h){this.#d.push({handler:this.updateCurrentState.bind(this),args:arguments});return}this.#n.updateState(e,t,a);this.#p()}refreshState(e){const t=i.getModel();const a=t.getBindings();const s=`/${e.replace(/\./g,"/")}`;const l=a.filter(e=>{const t=e.getResolvedPath();if(!t){return false}return t.startsWith(s)});l.forEach(e=>{e.refresh(true)})}addManagedControl(e,t){if(this.#h){this.#d.push({handler:this.addManagedControl.bind(this),flushHandler:(e,t)=>{s.destroyManagedControl(e)},args:arguments});return}s.addManagedControl(e,!t,this.#a)}updateManagedControl(e,t){if(this.#h){this.#d.push({handler:this.updateManagedControl.bind(this),args:arguments});return}s.updateManagedControl(e,!t)}removeManagedControl(e){if(this.#h){this.#d.push({handler:this.removeManagedControl.bind(this),args:arguments});return}s.removeManagedControl(e)}destroyManagedControls(){s.destroyManagedControls()}#p(){if(this.#h||this.#r){return}const e=this.#i.getStateData(this.#l,this.#a);this.#n.applyState(e);n.applyRules(e,this.#l,this.#a);i.updateModel(e)}#u(){let a;const s=new URLSearchParams(window.location.search);if(s.has("sap-ushell-config")){a=s.get("sap-ushell-config")}else{a=t.last("/core/state/shellMode");(()=>{if(s.has("appState")){a=s.get("appState");if(a){e.error("URL parameter 'appState' is given, but deprecated. Please use 'sap-ushell-config' instead!","sap.ushell.renderer.Renderer")}}else{a=t.last("/core/state/shellMode")}})()}a=a?.toLowerCase()??d.Default;try{this.#S(a)}catch(t){e.error(`Error occurred during validation: "${t.message}", Defaulting to default ShellMode`);a=d.Default}return a}stallChanges(){this.#h=true}applyStalledChanges(){this.#h=false;this.#r=true;this.#d.forEach(({handler:e,args:t})=>{e(...t)});this.#d=[];this.#r=false;this.#p()}discardStalledChanges(){this.#h=false;this.#d.forEach(({flushHandler:e,args:t})=>{if(e){e(...t)}});this.#d=[]}reset(){this.#n.detachStateChange(this.#p,this);this.#o();this.#t=false;this.#r=false;this.#h=false;this.#d=[]}resetAll(){n.reset();s.reset();i.reset();this.#n.reset();this.reset()}destroy(){this.#n.detachStateChange(this.#p,this);this.#n.destroy();i.destroy();s.destroy()}#S(e){if(!Object.values(d).includes(e)){throw new Error(`Invalid shell mode: ${e}`)}}#c(e){if(!Object.values(h).includes(e)){throw new Error(`Invalid operation: ${e}`)}}#g(e){if(!Object.values(r).includes(e)){throw new Error(`Invalid launchpad state: ${e}`)}}#f(e){if(!Array.isArray(e)){throw new Error("Launchpad states must be provided as an array!")}if(e.length===0){throw new Error("No launchpad states provided!")}e.forEach(e=>{this.#g(e)})}isLegacyHome(){if(this.getLaunchpadState()!==r.Home){return false}const e=[u,p,g,S];return e.includes(this.getShellMode())}}return new c});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StateManager/LaunchpadState", [],()=>{"use strict";const e={Home:"home",App:"app"};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StateManager/Operation", [],()=>{"use strict";const e={Add:"add",Remove:"remove",Set:"set"};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StateManager/ShellMode", [],()=>{"use strict";const e={Default:"",Standalone:"standalone",Embedded:"embedded",Merged:"merged",Headerless:"headerless",Lean:"lean",Blank:"blank",Minimal:"minimal"};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StateRules", ["sap/base/Log","sap/ushell/state/StateManager/LaunchpadState","sap/ushell/state/StateManager/Operation","sap/ushell/state/StateManager/ShellMode","sap/ushell/state/StrategyFactory"],(e,t,s,n,o)=>{"use strict";const{Default:i,Standalone:r,Embedded:l,Merged:a,Headerless:d,Lean:m,Blank:h,Minimal:f}=n;class u{#e=null;setShellConfig(e){this.#e=e}applyRules(e,t,s){this.#t(e,t,s);this.#s(e);this.#n(e);this.#o(e);this.#i(e)}#t(e,n,u){if(n===d){o.perform(e,"header.visible",s.Set,false)}if(n===d){o.perform(e,"sideNavigation.visible",s.Set,false)}let c;if(u===t.Home){c=![d,l,a].includes(n)}else{c=![d,r,l,a].includes(n)}if(!c){o.perform(e,"header.logo.src",s.Set,undefined)}if(!e.header.logo.src){o.perform(e,"header.logo.alt",s.Set,undefined)}if(u===t.Home){o.perform(e,"header.headItems",s.Remove,"backBtn")}else{const t=[i,r,l,a,m,f].includes(n);if(!t){o.perform(e,"header.headItems",s.Remove,"backBtn")}}const p=[i,r,f,l,m,h,a].includes(n);if(!p){o.perform(e,"header.headEndItems",s.Remove,"userActionsMenuHeaderButton")}let S;if(u===t.Home){S=[i,r,f,m].includes(n)}else{S=[i,f].includes(n)}if(!S){o.perform(e,"userActions.items",s.Remove,"openCatalogBtn")}let g;if(u===t.Home){g=[i,r,f,m].includes(n)}else{g=[i,f].includes(n)}if(!g){o.perform(e,"userActions.items",s.Remove,"userSettingsBtn")}let v;if(u===t.Home){v=[i,r,f,m].includes(n)}else{v=[i,f].includes(n)}if(!v){o.perform(e,"header.headEndItems",s.Remove,"NotificationsCountButton")}}#s(t){if(!this.#e){e.warning("StateRules not initialized: Cannot move UserAction ShellHeader");return}if(this.#e.moveEditHomePageActionToShellHeader){}if(this.#e.moveAppFinderActionToShellHeader){if(t.userActions.items.includes("openCatalogBtn")){o.perform(t,"userActions.items",s.Remove,"openCatalogBtn");o.perform(t,"header.headEndItems",s.Add,"openCatalogBtn")}}if(this.#e.moveUserSettingsActionToShellHeader){if(t.userActions.items.includes("userSettingsBtn")){o.perform(t,"userActions.items",s.Remove,"userSettingsBtn");o.perform(t,"header.headEndItems",s.Add,"userSettingsBtn")}}if(this.#e.moveContactSupportActionToShellHeader){if(t.userActions.items.includes("ContactSupportBtn")){o.perform(t,"userActions.items",s.Remove,"ContactSupportBtn");o.perform(t,"header.headEndItems",s.Add,"ContactSupportBtn")}}}#n(e){if(e.subHeader.items.length>1){const t=[...e.subHeader.items];for(let n=0;n<t.length-1;n++){const i=t[n];o.perform(e,"subHeader.items",s.Remove,i)}}}#o(e){if(e.sidePane.items.length>1){const t=[...e.sidePane.items];for(let n=0;n<t.length-1;n++){const i=t[n];o.perform(e,"sidePane.items",s.Remove,i)}}}#i(e){const t=3;const n=[...e.header.headItems];if(n.length>t){for(let i=t;i<n.length;i++){const t=n[i];o.perform(e,"header.headItems",s.Remove,t)}}}reset(){this.#e=null}}return new u});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StrategyFactory", ["sap/base/util/ObjectPath","sap/ushell/state/StateManager/Operation","sap/ushell/state/StrategyFactory/DefaultStrategy","sap/ushell/state/StrategyFactory/FloatingActionsStrategy","sap/ushell/state/StrategyFactory/FloatingContainerStrategy","sap/ushell/state/StrategyFactory/HeadItemsStrategy","sap/ushell/state/StrategyFactory/HeadEndItemsStrategy","sap/ushell/state/StrategyFactory/SidePaneStrategy","sap/ushell/state/StrategyFactory/SubHeaderStrategy","sap/ushell/state/StrategyFactory/UserActionsStrategy"],(t,e,a,r,s,i,n,o,l,y)=>{"use strict";class d{perform(t,a,r,s){const i=this.#t(a,r);if(r===e.Add||r===e.Remove){this.#e(t,a,s,i);return}this.#a(t,a,s,i)}#e(e,a,r,s){const i=t.get(a,e);if(!i){throw new Error(`Invalid path: ${a}`)}if(!Array.isArray(i)){throw new Error(`The path ${a} does not point to an array.`)}s(i,r)}#a(e,a,r,s){let i;let n;if(a.lastIndexOf(".")<0){i=a;n=e}else{i=a.substring(a.lastIndexOf(".")+1);const r=a.substring(0,a.lastIndexOf("."));n=t.get(r,e)}if(!n||!Object.hasOwn(n,i)){throw new Error(`Invalid path: ${a}`)}s(n,i,r)}#t(t,e){let d;switch(t){case"header.headItems":d=i[e]?.bind(i);break;case"header.headEndItems":d=n[e]?.bind(n);break;case"userActions.items":d=y[e]?.bind(y);break;case"floatingActions.items":d=r[e]?.bind(r);break;case"floatingContainer.items":d=s[e]?.bind(s);break;case"sidePane.items":d=o[e]?.bind(o);break;case"subHeader.items":d=l[e]?.bind(l);break;default:}if(!d){d=a[e]?.bind(a)}return d}}return new d});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StrategyFactory/DefaultStrategy", [],()=>{"use strict";class e{add(e,n){if(n===undefined||n===null){return}if(e.includes(n)){return}e.push(n)}remove(e,n){const i=e.indexOf(n);if(i===-1){return}e.splice(i,1)}set(e,n,i){e[n]=i}}return new e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StrategyFactory/FloatingActionsStrategy", ["sap/base/Log","sap/ui/core/Element"],(i,e)=>{"use strict";class n{add(n,t){if(!e.getElementById(t)){i.warning(`Failed to find control with id '${t}'`);return}if(n.includes(t)){this.#i(n,t)}this.#e(n,t)}#i(i,e){const n=i.indexOf(e);if(n===-1){return}i.splice(n,1)}#e(i,e){i.push(e)}}return new n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StrategyFactory/FloatingContainerStrategy", [],()=>{"use strict";class e{add(e,s){e.splice(0,e.length);e.push(s)}}return new e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StrategyFactory/HeadEndItemsStrategy", ["sap/base/Log","sap/ui/core/Element","sap/ushell/Config","sap/ushell/api/NewExperience"],(e,t,n,s)=>{"use strict";const l=10;class r{add(n,s){if(n.includes(s)){return}if(!t.getElementById(s)){e.warning(`Failed to find control with id '${s}'`);return}if(this.#e([...n,s])){e.error("The maximum number of head end items has been reached. The item could not be added.")}else{this.#t(n,s)}}#e(e){if(n.last("/core/shellBar/enabled")){return false}const t=[...new Set(e)];const s=["endItemsOverflowBtn"];const r=t.filter(e=>!s.includes(e)).length;return r>l}#t(e,t){e.push(t);const n={shellAppTitle:-7,shellBarSpacer:-4,sf:-3,"sap.das.webclientplugin.s4.shellitem":-2,"sap.das.webclientplugin.workzone.shellitem":-2,copilotBtn:-1,NotificationsCountButton:1,endItemsOverflowBtn:2,userActionsMenuHeaderButton:3,productSwitchBtn:4};n[s.getShellHeaderControl()?.getId()]=-5;n[s.getOverflowItemId()]=-6;e.sort((e,t)=>{const s=n[e]||0;const l=n[t]||0;if(s===l){return e.localeCompare(t)}return s-l})}}return new r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StrategyFactory/HeadItemsStrategy", ["sap/base/Log","sap/ui/core/Element"],(e,n)=>{"use strict";const t=3;class s{add(t,s){if(t.includes(s)){return}if(!n.getElementById(s)){e.warning(`Failed to find control with id '${s}'`);return}if(this.#e([...t,s])){e.error("The maximum number of head items has been reached. The item could not be added.")}else{this.#n(t,s)}}#e(e){const n=[...new Set(e)];const s=["backBtn","sideMenuExpandCollapseBtn"];const d=n.filter(e=>!s.includes(e)).length;return d>t}#n(e,n){e.push(n);const t={sideMenuExpandCollapseBtn:-2,backBtn:-1};e.sort((e,n)=>{const s=t[e]||0;const d=t[n]||0;return s-d})}}return new s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StrategyFactory/SidePaneStrategy", ["sap/base/Log","sap/ui/core/Element"],(e,i)=>{"use strict";class n{add(n,t){if(!i.getElementById(t)){e.warning(`Failed to find control with id '${t}'`);return}if(n.includes(t)){this.#e(n,t)}this.#i(n,t)}#e(e,i){const n=e.indexOf(i);if(n===-1){return}e.splice(n,1)}#i(e,i){e.push(i)}}return new n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StrategyFactory/SubHeaderStrategy", ["sap/base/Log","sap/ui/core/Element"],(e,d)=>{"use strict";class i{add(i,r){if(!d.getElementById(r)){e.warning(`Failed to find control with id '${r}'`);return}if(i.includes(r)){this.#e(i,r)}this.#d(i,r)}#e(e,d){const i=e.indexOf(d);if(i===-1){return}e.splice(i,1)}#d(e,d){e.push(d)}}return new i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StrategyFactory/UserActionsStrategy", [],()=>{"use strict";class t{add(t,n){if(t.includes(n)){return}t.push(n);const e={userSettingsBtn:-7,recentActivitiesBtn:-6,frequentActivitiesBtn:-5,openCatalogBtn:-4,ActionModeBtn:-3,EditModeBtn:-2,ContactSupportBtn:-1,dataPrivacyBtn:1,aboutBtn:2,logoutBtn:3};t.sort((t,n)=>{const i=e[t]||0;const s=e[n]||0;return i-s})}}return new t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/modules/BackNavigation", ["sap/ui/core/library","sap/ui/core/routing/History"],(t,i)=>{"use strict";const n=t.routing.HistoryDirection;function e(){let t;this.isBackNavigation=function(){return i.getInstance().getDirection()===n.Backwards};this.navigateBack=async function(){if(t){t();return}window.history.back()};this.setNavigateBack=function(i){t=i};this.resetNavigateBack=function(){t=undefined};this.restore=function(i){t=i.fnCustomBackNavigation};this.store=function(i){i.fnCustomBackNavigation=t};this.reset=function(){t=undefined}}return new e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/modules/ContentDensity", ["sap/ui/Device","sap/ushell/Container","sap/ushell/EventHub","sap/ushell/services/AppConfiguration","sap/ushell/state/StateManager"],(t,e,n,i,s)=>{"use strict";const a=s.Operation;class o{#t=()=>{throw new Error("ContentDensity is not initialized")};#e=false;#n=[];constructor(){this.#i()}async init(){if(this.#e){return}this.#e=true;this.#t=this.#s.bind(this);this.#n.push(n.on("toggleContentDensity").do(this.#t));const t=await e.getServiceAsync("AppLifeCycle");t?.attachAppLoaded(this.#t);await this.#s();s.refreshState("application.contentDensity")}#i(){const t=this.#a();const e=this.#o();if(t.length===1){s.updateAllBaseStates("application.contentDensity",a.Set,t[0]);s.updateCurrentState("application.contentDensity",a.Set,t[0]);return}s.updateAllBaseStates("application.contentDensity",a.Set,e);s.updateCurrentState("application.contentDensity",a.Set,e)}async resetContentDensity(){await this.#s()}async#s(){const t=await this.#c();const e=this.#p();const n=this.#a();const i=this.#o();if(n.length===1){s.updateAllBaseStates("application.contentDensity",a.Set,n[0]);s.updateCurrentState("application.contentDensity",a.Set,n[0]);return}const o=t||i;let c;if(e.length===1){c=e[0]}else{c=o}s.updateAllBaseStates("application.contentDensity",a.Set,o);s.updateCurrentState("application.contentDensity",a.Set,c)}#o(){if(t.support.touch){return"cozy"}return"compact"}#a(){if(!t.system.desktop&&!t.system.combi){return["cozy"]}return["cozy","compact"]}#p(){const t=i.getMetadata();const e=[];if(t.cozyContentDensity){e.push("cozy")}if(t.compactContentDensity){e.push("compact")}return e}async#c(){const t=await e.getServiceAsync("UserInfo");const n=t.getUser();return n?.getContentDensity()}async reset(){const t=await e.getServiceAsync("AppLifeCycle");t?.detachAppLoaded(this.#t);this.#n.forEach(t=>t.off());this.#t=()=>{throw new Error("Favicon is not initialized")};this.#e=false;this.#n=[]}}return new o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/modules/Favicon", ["sap/ui/core/Theming","sap/ui/util/Mobile","sap/ushell/Config","sap/ushell/utils"],(e,i,t,s)=>{"use strict";class a{#e=()=>{throw new Error("Favicon is not initialized")};#i=false;#t=[];init(){if(this.#i){return}this.#i=true;this.#e=this.#s.bind(this);e.attachApplied(this.#e);this.#t.push(t.on("/core/shell/favIcon").do(this.#e))}async#a(){let e;let i=false;const[a]=await s.getThemingParameters(["sapUiShellFavicon"]);if(a){const t=/url[\s]*\('?"?([^'")]*)'?"?\)/.exec(a);if(t){e=t[1];i=true}else if(a!=="''"&&a!=="none"){e=a}}const n=t.last("/core/shell/favIcon");if(!e&&n){e=n;i=true}if(!e){const i=sap.ui.require.toUrl("sap/ushell");e=`${i}/themes/base/img/launchpad_favicon.ico`}return{favicon:e,isCustomFavicon:i}}async#s(){const{favicon:e,isCustomFavicon:t}=await this.#a();let s;if(t){s={phone:e,"phone@2":e,tablet:e,"tablet@2":e,favicon:e,precomposed:false}}else{const i=sap.ui.require.toUrl("sap/ushell");s={phone:`${i}/themes/base/img/launchicons/phone-icon_120x120.png`,"phone@2":`${i}/themes/base/img/launchicons/phone-retina_180x180.png`,tablet:`${i}/themes/base/img/launchicons/tablet-icon_152x152.png`,"tablet@2":`${i}/themes/base/img/launchicons/tablet-retina_167x167.png`,favicon:e,precomposed:false}}i.setIcons(s)}reset(){e.detachApplied(this.#e);this.#t.forEach(e=>e.off());this.#e=()=>{throw new Error("Favicon is not initialized")};this.#i=false;this.#t=[]}}return new a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/modules/HeaderLogo", ["sap/base/i18n/Localization","sap/base/Log","sap/ui/core/Theming","sap/ushell/Config","sap/ushell/resources","sap/ushell/state/StateManager","sap/ushell/utils"],(t,e,o,s,i,a,n)=>{"use strict";const r=a.Operation;const l=sap.ui.require.toUrl("sap/ushell/themes/base/img/SAPLogo.svg");class c{#t=()=>{throw new Error("Favicon is not initialized")};#e=false;#o=[];init(){if(this.#e){return}this.#e=true;this.#t=this.#s.bind(this);o.attachApplied(this.#t);this.#o.push(s.on("/core/companyLogo/url").do(this.#t));this.#o.push(s.on("/core/companyLogo/accessibleText").do(this.#t))}async#i(){const t=s.last("/core/companyLogo/url");if(t){return t}const[e]=await n.getThemingParameters(["sapUiGlobalLogo"]);if(e){if(e==="none"){return l}const t=/url[\s]*\('?"?([^'")]*)'?"?\)/.exec(e);if(t){return t[1]}return""}return l}#a(o){if(!o){return""}if(o===l){return i.i18n.getText("sapLogoText")}const a=i.i18n.getText("SHELL_LOGO_TOOLTIP");let n;const r=s.last("/core/companyLogo/accessibleText");if(r){try{const e=JSON.parse(r);if(e){const o=t.getLanguage();n=e[o];if(!n){Object.keys(e).forEach(t=>{if(t.startsWith(o)){n=e[t]}})}if(!n){Object.keys(e).forEach(t=>{if(o.startsWith(t)){n=e[t]}})}if(!n){n=e.default}}}catch(t){e.warning(`Custom logo image ALT text is not a JSON string: '${r}'`,t);n=r}}return n||a}async#s(){const t=await this.#i();const e=this.#a(t);a.updateAllBaseStates("header.logo.src",r.Set,t);a.updateAllBaseStates("header.logo.alt",r.Set,e)}reset(){o.detachApplied(this.#t);this.#o.forEach(t=>t.off());this.#t=()=>{throw new Error("Favicon is not initialized")};this.#e=false;this.#o=[]}}return new c});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/footerbar/ContactSupportButton", ["sap/m/ButtonRenderer","sap/ushell/resources","sap/ushell/ui/launchpad/ActionItem"],(t,o,e)=>{"use strict";const a=e.extend("sap.ushell.ui.footerbar.ContactSupportButton",{metadata:{library:"sap.ushell"},renderer:t});a.prototype.init=function(){if(e.prototype.init){e.prototype.init.apply(this,arguments)}this.setIcon("sap-icon://email");this.setText(o.i18n.getText("contactSupportBtn"));this.attachPress(this.showContactSupportDialog)};a.prototype.showContactSupportDialog=function(){return new Promise(t=>{sap.ui.require(["sap/ushell/ui/footerbar/ContactSupportDialog.controller","sap/ui/core/Fragment"],async(o,e)=>{const a=await e.load({id:"contactSupportDialogFragment",name:"sap.ushell.ui.footerbar.ContactSupportDialog",type:"XML",controller:new o});a.attachAfterOpen(t);a.open()})})};return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/AccessibilityCustomData", ["sap/ui/core/ControlBehavior","sap/ui/core/CustomData"],(e,t)=>{"use strict";const i=t.extend("sap.ushell.ui.launchpad.AccessibilityCustomData",{metadata:{library:"sap.ushell"}});i.prototype._checkWriteToDom=function(){if(!e.isAccessibilityEnabled()){return null}const i=this.getKey();const a=t.prototype._checkWriteToDom.apply(this,arguments);if(a&&(i.indexOf("aria-")===0||i==="role"||i==="tabindex")){a.key=a.key.replace(/^data-/,"")}return a};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/ActionItem", ["sap/m/Button","sap/m/ButtonRenderer","sap/m/library"],(e,t,s)=>{"use strict";const r=s.ButtonType;const n=e.extend("sap.ushell.ui.launchpad.ActionItem",{metadata:{library:"sap.ushell",properties:{actionType:{type:"string",group:"Appearance",defaultValue:"standard"}},events:{press:{},afterRendering:{}}},renderer:t});n.prototype.setActionType=function(e){if(!this.sOrigType){this.sOrigType=this.getType()}this.setType(e==="action"?r.Unstyled:this.sOrigType||r.Standard);this.setProperty("actionType",e,true)};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/LoadingDialog", ["sap/m/Label","sap/ui/core/Control","sap/ui/core/Icon","sap/ui/core/Popup","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/AccessibilityCustomData","./LoadingDialogRenderer"],(e,t,i,s,o,a,l,n)=>{"use strict";const p=t.extend("sap.ushell.ui.launchpad.LoadingDialog",{metadata:{library:"sap.ushell",properties:{iconUri:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},text:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},loadAnimationWithInterval:{type:"boolean",group:"Appearance",defaultValue:true}}},renderer:n});p.prototype.init=function(){this._oPopup=new s;this._oPopup.restoreFocus=false;this._oPopup.setShadow(false);this._oPopup.setModal(true,"sapUshellLoadingDialog");this.oIcon=new i;this._oLabel=new e(`${this.getId()}loadingLabel`).addStyleClass("sapUshellLoadingDialogLabel");this.sState="idle";this.sLoadingString=a.i18n.getText("genericLoading").replace("..."," ")};p.prototype.exit=function(){this._oPopup.close();this._oPopup.destroy();this.oIcon.destroy();this._oLabel.destroy()};p.prototype.isOpen=function(){return this._oPopup.isOpen()};p.prototype.openLoadingScreen=function(){if(this.sState==="idle"){this.sState="busy"}if(this.getLoadAnimationWithInterval()){this.addStyleClass("sapUshellVisibilityHidden");this._iTimeoutId=setTimeout(()=>{this.removeStyleClass("sapUshellVisibilityHidden");this.focus()},3e3)}else{this.removeStyleClass("sapUshellVisibilityHidden");this.focus()}if(!this.getVisible()){this.setVisible(true);this.$().show()}if(!this.isOpen()){this._oPopup.setContent(this);this._oPopup.setPosition("center center","center center",document,"0 0","fit");this._oPopup.open()}};p.prototype.showAppInfo=function(e,t,i){this.setText(e);this.setIconUri(t);this.oIcon.setSrc(t);this._oLabel.setText(e);this._oLabel.addCustomData(new l({key:"aria-hidden",value:"true",writeToDom:true}));const s=this.getDomRef("accessibility-helper");if(s&&i){s.innerText=this.sLoadingString}};p.prototype.closeLoadingScreen=function(){if(this._iTimeoutId){clearTimeout(this._iTimeoutId)}if(this.getVisible()){this.sState="idle";this.setVisible(false);this.$().hide();this._oPopup.close()}};return p});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/LoadingDialogRenderer", [],()=>{"use strict";const e={apiVersion:2,render:function(e,t){const n=t.getTooltip_AsString();e.openStart("div",t);e.class("sapUshellLoadingDialogControl");if(n){e.attr("title",n)}e.openEnd();this.renderAppInfo(e,t);e.close("div")},renderAppInfo:function(e,t){e.openStart("div");e.class("sapUshellLoadingDialogAppData");e.openEnd();if(t.getIconUri()){e.renderControl(t.oIcon)}e.openStart("span",`${t.getId()}-accessibility-helper`);e.class("sapUshellAccessibilityHelper");e.attr("aria-live","rude");e.attr("aria-relevant","additions text");e.openEnd();e.close("span");e.renderControl(t._oLabel);e.close("div")}};return e},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/Tile", ["sap/base/Log","sap/m/Text","sap/ui/base/ManagedObject","sap/ui/core/Control","sap/ui/core/EventBus","sap/ui/core/Icon","sap/ui/thirdparty/jquery","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/AccessibilityCustomData","./TileRenderer"],(e,t,i,o,s,n,jQuery,l,a,r,c)=>{"use strict";const u=o.extend("sap.ushell.ui.launchpad.Tile",{metadata:{library:"sap.ushell",properties:{long:{type:"boolean",group:"Misc",defaultValue:false},uuid:{type:"string",group:"Misc",defaultValue:null},tileCatalogId:{type:"string",group:"Misc",defaultValue:null},tileCatalogIdStable:{type:"string",group:"Misc",defaultValue:null},isCustomTile:{type:"boolean",group:"Misc",defaultValue:false},target:{type:"string",group:"Misc",defaultValue:null},debugInfo:{type:"string",group:"Misc",defaultValue:null},rgba:{type:"string",group:"Misc",defaultValue:null},animationRendered:{type:"boolean",group:"Misc",defaultValue:false},isLocked:{type:"boolean",group:"Misc",defaultValue:false},showActionsIcon:{type:"boolean",group:"Misc",defaultValue:false},tileActionModeActive:{type:"boolean",group:"Misc",defaultValue:false},ieHtml5DnD:{type:"boolean",group:"Misc",defaultValue:false},navigationMode:{type:"string",group:"Misc",defaultValue:null},isDraggedInTabBarToSourceGroup:{type:"boolean",group:"Misc",defaultValue:false},noContainerMode:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{tileViews:{type:"sap.ui.core.Control",multiple:true,singularName:"tileView"},pinButton:{type:"sap.ui.core.Control",multiple:true,singularName:"pinButton"}},events:{press:{},coverDivPress:{},afterRendering:{},showActions:{},deletePress:{}}},renderer:c});u.prototype.init=function(){this.addDelegate({onkeyup:function(e){const t=e.originalEvent;const i=t.code==="Space"||e.keyCode===32;const o=t.code==="Enter"||e.keyCode===13;const s=t.altKey||t.shiftKey||t.ctrlKey||t.metaKey;if((i||o)&&!s){this._launchTileViaKeyboard(e)}}},this)};u.prototype.exit=function(){if(this.actionSheetIcon){this.actionSheetIcon.destroy()}if(this.actionIcon){this.actionIcon.destroy()}if(this.failedToLoadViewText){this.failedToLoadViewText.destroy()}};u.prototype.getFailedtoLoadViewText=function(){if(!this.failedToLoadViewText){this.failedToLoadViewText=new t({text:a.i18n.getText("Tile.failedToLoadView")})}return this.failedToLoadViewText};u.prototype.getActionSheetIcon=function(){if(!this.getTileActionModeActive()){return undefined}if(!this.actionSheetIcon){this.actionSheetIcon=new n({src:"sap-icon://overflow",tooltip:a.i18n.getText("configuration.category.tile_actions")}).addStyleClass("sapUshellTileActionIconDivBottomInner")}return this.actionSheetIcon};u.prototype.ontap=function(){e.info("Tile clicked:",this.getDebugInfo(),"sap.ushell.ui.launchpad.Tile");this.firePress()};u.prototype.destroy=function(e){this.destroyTileViews();o.prototype.destroy.call(this,e)};u.prototype.addTileView=function(e,t){e.setParent(null);i.prototype.addAggregation.call(this,"tileViews",e,t)};u.prototype.destroyTileViews=function(){if(this.mAggregations.tileViews){this.mAggregations.tileViews.length=0}};u.prototype.onBeforeRendering=function(){const e=this.getDomRef();if(e){const t=e.querySelector("a.sapUshellTileInner");if(t){t.onclick=null}if(document.activeElement===e){this.bFocused=true}this.sTabIndex=e.getAttribute("tabindex");if(this.sTabIndex){e.removeAttribute("tabindex")}}};u.prototype.onAfterRendering=function(){if(this.getIsDraggedInTabBarToSourceGroup()){const e=this.getParent();e.removeAggregation("tiles",this,false)}const e=this.getDomRef();if(e){if(this.sTabIndex){e.setAttribute("tabindex",this.sTabIndex);delete this.sTabIndex}if(this.bFocused){e.focus();delete this.bFocused}}this._redrawRGBA();this._disableInnerLink();this.fireAfterRendering()};u.prototype._disableInnerLink=function(){const e=this.getDomRef();const t=e.querySelector("a.sapUshellTileInner");if(t){t.onclick=function(e){e.preventDefault()}}};u.prototype._launchTileViaKeyboard=function(e){if(this.getTileActionModeActive()){this.fireCoverDivPress({id:this.getId()})}else{this._announceLoadingApplication();if(e.target.tagName!=="BUTTON"){let e=this.getTileViews()[0];let t=false;let i;let o;if(e.firePress){e.firePress({id:this.getId()})}else if(e.getComponentInstance){i=e.getComponentInstance();if(i._oController&&i._oController.oView.getContent()){o=i._oController.oView.getContent()[0];if(o&&o.firePress){o.firePress({id:this.getId()})}}}else{while(e.getContent&&!t){e=e.getContent()[0];if(e.firePress){e.firePress({id:this.getId()});t=true}}}}}};u.prototype.onfocusin=function(){const t=this.getDomRef();if(!t.classList.contains("sapUshellPlusTile")){const i=this.$().prevUntil("h3");let o;if(i.length>0){o=i[i.length-1].previousSibling}else{o=t.previousSibling}const s=t.querySelector(".sapUshellTileInner");if(s&&s.children&&s.children[0]){const i=[];if(o){i.push("sapUshellCatalogAccessibilityTileText")}else{i.push("sapUshellDashboardAccessibilityTileText")}const n=this.getNavigationMode();if(n){const t=a.i18n.getText(`${n}NavigationMode`);if(t){const e=`${this.getId()}-navigationMode`;if(!document.getElementById(e)){const i=document.createElement("div");i.setAttribute("id",e);i.style.display="none";i.innerText=t;s.appendChild(i)}i.push(e)}else{e.warning("The navigation mode is of a unkown mode, it can not be read!")}}i.push(s.children[0].getAttribute("id"));const l=t.querySelector(".sapUshellTileDeleteClickArea .sapUiIcon");if(l){i.push(l.id)}if(o){i.push(o.getAttribute("id"))}if(this.getTileActionModeActive()){i.push("sapUshellDashboardAccessibilityTileEditModeText")}t.setAttribute("aria-labelledby",i.join(" "))}}};u.prototype.onclick=function(e){if(this.getTileActionModeActive()){const t=e.originalEvent.srcElement;if(jQuery(t).closest(".sapUshellTileDeleteClickArea").length>0){this.fireDeletePress()}else{this.fireCoverDivPress({id:this.getId()})}}else{this._announceLoadingApplication()}};u.prototype._announceLoadingApplication=function(){const e=document.getElementById("sapUshellLoadingAccessibilityHelper-appInfo");const t=a.i18n.getText("screenReaderNavigationLoading");if(e){e.setAttribute("role","alert");e.innerText=t;setTimeout(()=>{e.removeAttribute("role");e.innerText=""},0)}};u.prototype._initDeleteAction=function(){const e=this;if(!this.deleteIcon){this.deleteIcon=new n({src:"sap-icon://decline",tooltip:a.i18n.getText("removeButtonTitle")});this.deleteIcon.addEventDelegate({onclick:function(t){e.fireDeletePress();t.stopPropagation()}});this.deleteIcon.addStyleClass("sapUshellTileDeleteIconInnerClass");this.deleteIcon.addCustomData(new r({key:"aria-label",value:a.i18n.getText("removeButtonLabel"),writeToDom:true}))}return this.deleteIcon};u.prototype.setShowActionsIcon=function(e){if(e){if(!this.actionIcon){this.actionIcon=new n({size:"1rem",src:"sap-icon://overflow",press:function(){this.fireShowActions();this.addStyleClass("showTileActionsIcon");const e=s.getInstance();function t(i,o,s){s.removeStyleClass("showTileActionsIcon");e.unsubscribe("dashboard","actionSheetClose",t)}e.subscribe("dashboard","actionSheetClose",t)}.bind(this)}).addStyleClass("sapUshellTileActionsIconClass")}}this.setProperty("showActionsIcon",e)};u.prototype.setIsDraggedInTabBarToSourceGroup=function(e){this.setProperty("isDraggedInTabBarToSourceGroup",e);this.setVisible(!e)};u.prototype.setRgba=function(e){this.setProperty("rgba",e);this._redrawRGBA()};u.prototype._redrawRGBA=function(){const e=this.getRgba();const t=this.$();if(e&&t){const i=this.getModel();t.css("background-color",e);t.off("mouseenter mouseleave");let o;const s=t.css("border").split("px")[0];if(s>0){o=t.css("border-color")}else{o=e}t.hover(()=>{if(i&&!i.getProperty("/tileActionModeActive")){const e=t.css("box-shadow");const i=e?e.split(") ")[1]:null;if(i){t.css("box-shadow",`${i} ${o}`)}}},()=>{t.css("box-shadow","")})}};return u});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileRenderer", ["sap/base/Log","sap/ushell/Config"],(e,l)=>{"use strict";const t={apiVersion:2};t.render=function(t,i){let n=null;try{n=i.getTileViews()[0]}catch(l){e.warning("Failed to load tile view: ",l);n=i.getFailedtoLoadViewText()}const o=i.getParent();if(!o){return}const s=i.getNoContainerMode();t.openStart(s?"div":"li",i);if(l.last("/core/shell/model/enableHelp")){t.attr("data-help-id",i.getTileCatalogId());if(i.getTileCatalogIdStable()){t.attr("data-help-id2",i.getTileCatalogIdStable())}}t.class("sapUshellTile");if(i.getTileActionModeActive()){t.class("sapUshellTileWrapper")}if(n&&n.getContent){const e=n.getContent();e.forEach(e=>{if(e.isA("sap.m.GenericTile")){t.class("sapUshellFeedTileBG")}})}if(i.getLong()){t.class("sapUshellLong")}if(!i.getVisible()){t.class("sapUshellHidden")}if(i.getIsLocked()){t.class("sapUshellLockedTile")}if(l.last("/core/home/sizeBehavior")==="Small"){t.class("sapUshellSmall")}const a=`${o.getId()}-titleText`;t.attr("aria-describedby",a);t.openEnd();if(i.getTileActionModeActive()){this.renderTileActionMode(t,i);this.renderTileView(t,i,n)}else{t.openStart("div");t.class("sapUshellTileWrapper");t.openEnd();this.renderTileView(t,i,n);if(i.getShowActionsIcon()){t.renderControl(i.actionIcon)}t.close("div");this.renderTileActionsContainer(t,n,i.getPinButton())}t.close(s?"div":"li")};t.renderTileActionsContainer=function(e,l,t){t=t.length?t[0]:undefined;if(t){t.addStyleClass("sapUshellActionButton");e.openStart("div");e.class("sapUshellTilePinButtonOverlay");if(l.getHeader){e.attr("role","toolbar");e.attr("aria-label",l.getHeader())}e.openEnd();e.renderControl(t);e.close("div")}};t.renderTileView=function(e,l,t){e.openStart("div");e.class("sapUshellTileInner");if(l.getTileActionModeActive()){e.class("sapUshellTileActionBG")}e.openEnd();e.renderControl(t);e.close("div")};t.renderTileActionMode=function(e,l){e.openStart("div");e.class("sapUshellTileActionLayerDiv");e.openEnd();if(!l.getIsLocked()){e.openStart("div");e.class("sapUshellTileDeleteClickArea");e.openEnd();e.openStart("div");e.class("sapUshellTileDeleteIconOuterClass");e.openEnd();e.renderControl(l._initDeleteAction());e.close("div");e.close("div")}e.openStart("div");e.class("sapUshellTileActionDivCenter");e.openEnd();e.close("div");e.openStart("div");e.class("sapUshellTileActionIconDivBottom");e.openEnd();e.openStart("div");e.class("sapUshellTileActionIconDivBottomInnerDiv");e.openEnd();e.renderControl(l.getActionSheetIcon());e.close("div");e.close("div");e.close("div")};return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileState", ["sap/ushell/ui/launchpad/TileStateInternal","./TileStateRenderer"],(e,t)=>{"use strict";const a=e.extend("sap.ushell.ui.launchpad.TileState",{metadata:{library:"sap.ushell",properties:{state:{type:"string",group:"Misc",defaultValue:"Loaded"}},events:{press:{}}},renderer:t});return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileStateInternal", ["sap/ui/core/Control","sap/ui/core/Icon","sap/ushell/resources","sap/ui/core/HTML","./TileStateInternalRenderer","sap/ushell/library"],(e,t,i,s,n)=>{"use strict";const o=e.extend("sap.ushell.ui.launchpad.TileStateInternal",{metadata:{library:"sap.ushell",properties:{state:{type:"string",group:"Misc",defaultValue:"Loaded"}},events:{press:{}}},renderer:n});o.prototype.init=function(){this._rb=i.i18n;this._sFailedToLoad=this._rb.getText("cannotLoadTile");this._oWarningIcon=new t(`${this.getId()}-warn-icon`,{src:"sap-icon://notification",size:"1.37rem"}).addStyleClass("sapSuiteGTFtrFldIcnMrk");this.attachPress(this._onPress)};o.prototype.onclick=function(){this.firePress()};o.prototype._onPress=function(e){if(this.getState()!=="Failed"){return}if(!this.FailedTileDialog){sap.ui.require(["sap/ushell/ui/launchpad/FailedTileDialog"],t=>{this.FailedTileDialog=new t;this._onPress(e)})}else{this.FailedTileDialog.openFor(this)}};o.prototype._getBusyContainer=function(){if(!this._oBusyContainer){this._oBusyContainer=new s({content:"<div class='sapUshellTileStateLoading'><div>"});this._oBusyContainer.setBusy(true)}return this._oBusyContainer};o.prototype.exit=function(){this._oWarningIcon.destroy();if(this._oBusyContainer){this._oBusyContainer.destroy()}};o.prototype.setState=function(e,t){this.setProperty("state",e,t);return this};return o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileStateInternalRenderer", [],()=>{"use strict";const e={apiVersion:2};e.render=function(e,t){e.openStart("div",t);e.class("sapUshellGT");e.openEnd();const a=t.getState();e.openStart("div",`${t.getId()}-overlay`);e.class("sapUshellOverlay");if(a==="Failed"){e.attr("title",t._sFailedToLoad)}e.openEnd();switch(a){case"Loading":const a=t._getBusyContainer();e.renderControl(a);break;case"Failed":e.openStart("div",`${t.getId()}-failed-ftr`);e.class("sapUshellTileStateFtrFld");e.openEnd();e.openStart("div",`${t.getId()}-failed-icon`);e.class("sapUshellTileStateFtrFldIcn");e.openEnd();e.renderControl(t._oWarningIcon);e.close("div");e.openStart("div",`${t.getId()}-failed-text`);e.class("sapUshellTileStateFtrFldTxt");e.openEnd();e.text(t._sFailedToLoad);e.close("div");e.close("div");break;default:}e.close("div");e.close("div")};return e},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileStateRenderer", ["sap/ushell/ui/launchpad/TileStateInternalRenderer"],e=>{"use strict";return e},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/OverflowListItem", ["sap/m/StandardListItem","sap/ui/core/CustomData","sap/ushell/library","sap/ushell/ui/shell/ShellHeadItem"],(e,t,a,o)=>{"use strict";const r=o.getMetadata().getProperties();const l=e.extend("sap.ushell.ui.shell.OverflowListItem",{metadata:{library:"sap.ushell",properties:{floatingNumber:{type:r.floatingNumber.type,group:r.floatingNumber.group,defaultValue:r.floatingNumber.defaultValue},floatingNumberMaxValue:{type:r.floatingNumberMaxValue.type,group:r.floatingNumberMaxValue.group,defaultValue:r.floatingNumberMaxValue.defaultValue},floatingNumberType:{type:r.floatingNumberType.type,group:r.floatingNumberType.group,defaultValue:r.floatingNumberType.defaultValue}}},renderer:{apiVersion:2}});l.prototype.init=o.prototype.init;l.prototype.onBeforeRendering=o.prototype.onBeforeRendering;l.prototype.tooltipFormatter=o.prototype.tooltipFormatter;l.prototype.floatingNumberFormatter=o.prototype.floatingNumberFormatter;l.prototype._getImage=function(){let a=this._oImage;if(!a){a=e.prototype._getImage.call(this)}if(this.getFloatingNumber()>0){a.addStyleClass("sapUshellShellHeadItmCounter");a.addCustomData(new t({key:"counter-content",value:this.floatingNumberFormatter(),writeToDom:true}))}else{a.removeStyleClass("sapUshellShellHeadItmCounter")}this._oImage=a;return this._oImage};return l},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/ShellHeadItem", ["sap/base/util/ObjectPath","sap/ui/core/Control","sap/ui/core/IconPool","sap/ui/core/InvisibleText","sap/ushell/library","sap/ushell/resources"],(e,t,a,i,o,n)=>{"use strict";const r=o.FloatingNumberType;const l=t.extend("sap.ushell.ui.shell.ShellHeadItem",{metadata:{library:"sap.ushell",properties:{startsSection:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},showSeparator:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},enabled:{type:"boolean",group:"Appearance",defaultValue:true},selected:{type:"boolean",group:"Appearance",defaultValue:false},showMarker:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},target:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},ariaLabel:{type:"string",group:"Accessibility",defaultValue:null},ariaHidden:{type:"boolean",group:"Accessibility",defaultValue:false},ariaHaspopup:{type:"string",group:"Accessibility",defaultValue:""},text:{type:"string",group:"Appearance",defaultValue:null},floatingNumber:{type:"int",group:"Appearance",defaultValue:null},floatingNumberMaxValue:{type:"int",group:"Appearance",defaultValue:999},floatingNumberType:{type:"sap.ushell.FloatingNumberType",group:"Appearance",defaultValue:r.None}},events:{press:{}}},renderer:{apiVersion:2,render:function(e,t){const i=t.getTarget();e.openStart("a",t);e.attr("tabindex","0");if(i){e.attr("href",i)}e.attr("role",i?"link":"button");const o=t.getAriaLabel();if(o){e.attr("aria-label",o)}const n=t.getAriaHidden();if(n){e.attr("aria-hidden",n)}const r=t.getAriaHaspopup();if(r){e.attr("aria-haspopup",r)}e.attr("aria-describedby",t._oAriaDescribedbyText.getId());if(t.getTooltip_AsString()){e.attr("title",t.getTooltip_AsString())}if(t.getFloatingNumber()>0){e.attr("data-counter-content",t.floatingNumberFormatter());e.class("sapUshellShellHeadItmCounter")}e.class("sapUshellShellHeadItm");if(!t.getEnabled()){e.class("sapUshellShellHeadItmDisabled")}if(t.getSelected()){e.class("sapUshellShellHeadItmSel")}const l=t.getText();const s=t.getTooltip_AsString();if(l||s){e.attr("title",s||l)}e.openEnd();e.openStart("span");e.class("sapUshellShellHeadItmCntnt");const u=t.getIcon();const p=a.isIconURI(u)&&a.getIconInfo(u);if(p){e.style("font-family",p.fontFamily);e.openEnd();e.text(p.content)}else{e.openEnd();e.voidStart("img");e.attr("id",`${t.getId()}-img-inner`);e.attr("src",u);e.voidEnd()}e.close("span");e.close("a")}}});l.prototype.init=function(){this._oAriaDescribedbyText=new i(`${this.getId()}-describedby`).toStatic();this.addDependent(this._oAriaDescribedbyText)};l.prototype.onBeforeRendering=function(){switch(this.getFloatingNumberType()){case r.None:this._oAriaDescribedbyText.setText("");break;default:const e=this.getFloatingNumber();if(!e){this._oAriaDescribedbyText.setText("")}else{const t=this.getFloatingNumberMaxValue();this._oAriaDescribedbyText.setText(e>t?n.i18n.getText("NotificationToggleButton.NewNotifications.MaxExceeded",[t]):n.i18n.getText("NotificationToggleButton.NewNotifications",[e]))}break}};l.prototype.tooltipFormatter=function(e){const t=typeof e!=="undefined"?e:this.getFloatingNumber();const a=this.getFloatingNumberMaxValue();switch(this.getFloatingNumberType()){case r.None:return"";case r.Notifications:if(!t){return n.i18n.getText("NotificationToggleButton.NoNewNotifications")}return t>a?n.i18n.getText("NotificationToggleButton.NewNotifications.MaxExceeded",[a]):n.i18n.getText("NotificationToggleButton.NewNotifications",[t]);case r.OverflowButton:let e=n.i18n.getText("shellHeaderOverflowBtn_tooltip");if(!t){return e}e+=` (${t>a?n.i18n.getText("NotificationToggleButton.NewNotifications.MaxExceeded",[a]):n.i18n.getText("NotificationToggleButton.NewNotifications",[t])})`;return e;default:}};l.prototype.floatingNumberFormatter=function(e){const t=typeof e!=="undefined"?e:this.getFloatingNumber();const a=this.getFloatingNumberMaxValue();return t>a?`${a}+`:t.toString()};l.prototype.onclick=function(e){if(this.getEnabled()){this.firePress();if(!this.getTarget()){e.preventDefault()}}};l.prototype.onkeyup=function(e){const t=e.originalEvent;const a=t.key;const i=t.shiftKey;if(["Enter"," "].includes(a)&&!i){this.onclick(e)}};e.set("sap.ui.unified.ShellHeadItem",l);return l},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/ToolAreaItem", ["sap/ui/thirdparty/jquery","sap/ui/core/Control","sap/ui/core/IconPool","sap/ushell/library"],(jQuery,e,t)=>{"use strict";const l=e.extend("sap.ushell.ui.shell.ToolAreaItem",{metadata:{library:"sap.ushell",properties:{icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},selected:{type:"boolean",group:"Appearance",defaultValue:false},text:{type:"string",group:"Appearance",defaultValue:null},ariaLabel:{type:"string",group:"Appearance",defaultValue:null},visible:{type:"boolean",group:"Appearance",defaultValue:true},expandable:{type:"boolean",group:"Appearance",defaultValue:false}},events:{press:{},expand:{}}},renderer:{apiVersion:2,render:function(e,l){let a;e.openStart("div",l);if(!l.getIcon()){e.class("sapUshellToolAreaItmTextOnly")}else{e.class("sapUshellToolAreaItm")}if(!l.getVisible()){e.class("sapUshellShellHidden")}if(l.getAriaLabel()){e.accessibilityState(l,{label:this.getAriaLabel(),role:"button"})}const s=l.getTooltip_AsString();if(s){e.attr("title",s)}e.attr("tabindex",0);e.openEnd();if(l.getIcon()){a=t.createControlByURI(l.getIcon());a.setUseIconTooltip(false);a.addStyleClass("sapUshellToolAreaItemIcon");e.renderControl(a)}if(l.getText()){e.openStart("span");e.class("sapUshellToolAreaItemText");e.openEnd();e.text(l.getText());e.close("span")}if(l.getExpandable()){this.renderExpandable(e)}e.close("div")},renderExpandable:function(e){const l=t.createControlByURI("sap-icon://icon-dropdown");l.addStyleClass("sapUshellToolAreaItemExpandable");e.renderControl(l)}}});l.prototype.onclick=function(e){if(this.$().parent().hasClass("sapUshellToolAreaItemSelected")){this.setSelected(false)}else{this.setSelected(true)}if(e.target.className.indexOf("sapUshellToolAreaItemExpandable")>0){this.fireExpand()}else{this.firePress()}};l.prototype.onsapenter=l.prototype.onclick;l.prototype.setExpandable=function(e){e=!!e;this.setProperty("expandable",e,true);this.$().toggleClass("sapUshellToolAreaItemExpandable",e)};l.prototype.setSelected=function(e){e=!!e;if(e){const e=jQuery(".sapUshellToolAreaItemSelected");e.each(function(){jQuery(this).removeClass("sapUshellToolAreaItemSelected")})}this.setProperty("selected",e,true);this.$().parent().toggleClass("sapUshellToolAreaItemSelected",e)};l.prototype.setVisible=function(e){const t=this.getParent()&&this.getParent().getDomRef();this.setProperty("visible",!!e,t);this.$().toggleClass("sapUshellShellHidden",!e)};l.prototype.setAriaLabel=function(e){this.setProperty("ariaLabel",e);return this};return l});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui5service/ShellUIService", ["sap/base/Log","sap/base/util/extend","sap/base/util/isPlainObject","sap/ui/base/EventProvider","sap/ui/core/service/Service","sap/ui/thirdparty/hasher","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/services/AppConfiguration","sap/ushell/state/ShellModel","sap/ushell/state/StateManager","sap/ushell/utils","sap/ushell/utils/UrlParsing"],(e,t,i,a,n,s,r,l,o,c,h,u,f,d)=>{"use strict";const p=u.LaunchpadState;const g=u.Operation;const _=u.ShellMode;const{Default:v,Embedded:y}=_;const A="backNavigationChanged";const b="serviceDestroyed";const S=n.extend("sap.ushell.ui5service.ShellUIService",{constructor:function(){n.apply(this,arguments);this._oEventProvider=new a;this._bIsActive=true;this._bDestroyed=false;this._bInitialized=false;this._sLastTitle=null;this._aLastHierarchy=null;this._aLastRelatedApps=null;this._fnLastBackNavigation=null;this._bEnableAutoTitle=false;this._bEnableAutoHierarchy=false},initService:function(e){if(!e){if(!this._sLastTitle){this._initTitle()}if(!this._aLastHierarchy){this.setHierarchy()}if(!this._aLastRelatedApps){this.setRelatedApps()}if(!this._fnLastBackNavigation){this.setBackNavigation()}}const t=this.getContext().scopeObject;if(this._shouldEnableAutoHierarchy(t)){this._enableAutoHierarchy(t)}if(this._shouldEnableAutoTitle(t)){this._enableAutoTitle(t)}this._bInitialized=true},resetService:function(){this._sLastTitle=null;this._aLastHierarchy=null;this._aLastRelatedApps=null;this._fnLastBackNavigation=null;this._bInitialized=false},_isCallAllowed:function(){if(this._bDestroyed){e.error("The ShellUIService has been destroyed and cannot be used anymore.",null,"sap.ushell.ui5service.ShellUIService");return false}if(!this._bIsActive){e.warning("The ShellUIService is currently inactive and calls will be ignored.",null,"sap.ushell.ui5service.ShellUIService");return false}return true},setHierarchy:function(e){this._preventOverrideOfAutoHierarchy();if(!this._isCallAllowed()){return}if(typeof e!=="undefined"){this._ensureArrayOfObjectOfStrings(e,"setHierarchy")}this._changeHierarchy(e)},_initTitle:function(){if(!this._isCallAllowed()){return}const e=s.getHash()||"";const t=e.startsWith("Shell-startIntent");this._changeTitleAdditionalInformation();this._changeTitle("",t)},setTitle:function(e,t){this._preventOverrideOfAutoTitle();if(!this._isCallAllowed()){return}if(typeof e!=="undefined"&&typeof e!=="string"){throw new Error("'setTitle' was called with invalid arguments. The parameter should be a string")}this._changeTitleAdditionalInformation(t);this._changeTitle(e)},setBackNavigation:function(e){if(!this._isCallAllowed()){return}if(typeof e!=="undefined"&&typeof e!=="function"){throw new Error("'setBackNavigation' was called with invalid arguments. The parameter should be a function")}const t=this.getContext().scopeObject;this._oEventProvider.fireEvent(A,{data:e,component:t});this._fnLastBackNavigation=e},getTitle:function(){if(!this._isCallAllowed()){return}return h.getModel().getProperty("/application/title")},setRelatedApps:function(e){if(!this._isCallAllowed()){return}if(typeof e!=="undefined"){this._ensureArrayOfObjectOfStrings(e,"setRelatedApps")}this._changeRelatedApps(e)},attachBackNavigationChanged:function(...e){this._oEventProvider.attachEvent(A,...e)},detachBackNavigationChanged:function(...e){this._oEventProvider.detachEvent(A,...e)},attachServiceDestroyed:function(...e){this._oEventProvider.attachEvent(b,...e)},detachServiceDestroyed:function(...e){this._oEventProvider.detachEvent(b,...e)},_changeHierarchy:function(e){let i=[];if(!e){e=[]}const a=this._getHierarchyDefaultValue();e.forEach((e,a)=>{i[a]=t({},e)});i=i.concat(a);if(u.isLegacyHome()){u.updateBaseStates([p.Home],"application.hierarchy",g.Set,i)}u.updateCurrentState("application.hierarchy",g.Set,i);this._aLastHierarchy=i},_changeRelatedApps:function(e){if(!e){e=[]}if(u.isLegacyHome()){u.updateBaseStates([p.Home],"application.relatedApps",g.Set,e)}u.updateCurrentState("application.relatedApps",g.Set,e);this._aLastRelatedApps=e},_changeTitle:function(e,t){if(!e&&!t){e=this._getTitleDefaultValue()}if(u.isLegacyHome()){u.updateBaseStates([p.Home],"application.title",g.Set,e)}u.updateCurrentState("application.title",g.Set,e);f.setPerformanceMark("FLP -- title change");l.emit("TitleChanged",e);this._sLastTitle=e},_changeTitleAdditionalInformation:function(e){const t={headerText:e?.headerText||"",additionalContext:e?.additionalContext||"",searchTerm:e?.searchTerm||"",searchScope:e?.searchScope||""};if(u.isLegacyHome()){u.updateBaseStates([p.Home],"application.titleAdditionalInformation",g.Set,t)}u.updateCurrentState("application.titleAdditionalInformation",g.Set,t);f.setPerformanceMark("FLP -- titleAdditionalInformation change");l.emit("TitleAdditionalInformationChanged",t)},_getTitleDefaultValue:function(){let e="";const t=c.getMetadata();if(t&&t.title){e=t.title}return e},_getHierarchyDefaultValue:function(){const e=[];const t=r.last("/core/shellHeader/rootIntent");const i=u.getLaunchpadState();const a=u.getShellMode();if(i===p.App&&[v,y].includes(a)){e.push({icon:"sap-icon://home",title:o.i18n.getText("actionHomePage"),intent:t?`#${t}`:"#"});const i=r.last("/core/spaces/currentSpaceAndPage");if(i!==undefined){e.splice(0,0,{icon:"sap-icon://space-navigation",title:i.pageTitle,subtitle:i.pageTitle!==i.spaceTitle?i.spaceTitle:undefined,intent:`#${i.hash}`})}}return e},_shouldEnableAutoHierarchy:function(e){if(typeof e.getManifestEntry!=="function"){return false}const t=e.getManifestEntry("/sap.ui5/services/ShellUIService/settings/setHierarchy");return t==="auto"},_enableAutoHierarchy:function(t){const i=t.getRouter&&t.getRouter();if(!i){e.error("Could not enable automatic setHierarchy on the current app","Router could not be obtained on the app root component via getRouter","sap.ushell.ui5service.ShellUIService");return}this._bEnableAutoHierarchy=true;i.attachTitleChanged(function(e){const t=e.getParameter("history");const i=this._getCurrentShellHashWithoutAppRoute();const a=t.reverse().map(e=>({title:e.title,intent:`${i}&/${e.hash}`}));this._bSkipAutoHierarchyCheck=true;this.setHierarchy(a)},this)},_preventOverrideOfAutoHierarchy:function(){if(!this._bInitialized){return}if(this._bSkipAutoHierarchyCheck){this._bSkipAutoHierarchyCheck=false;return}const e=this._shouldEnableAutoHierarchy(this.getContext().scopeObject);if(e){throw new Error("Cannot set hierarchy manually - Auto hierarchy is enabled")}},_shouldEnableAutoTitle:function(e){if(typeof e.getManifestEntry!=="function"){return false}const t=e.getManifestEntry("/sap.ui5/services/ShellUIService/settings/setTitle");return t==="auto"},_enableAutoTitle:function(t){const i=t.getRouter&&t.getRouter();if(!i){e.error("Could not enable automatic setTitle on the current app","Router could not be obtained on the app root component via getRouter","sap.ushell.ui5service.ShellUIService");return}this._bEnableAutoTitle=true;const a=i.getTitleHistory()[0];if(a&&a.title){setTimeout(()=>{this._bSkipAutoTitleCheck=true;this.setTitle(a.title)},0)}i.attachTitleChanged(function(e){const t=e.getParameter("title");this._bSkipAutoTitleCheck=true;this.setTitle(t)},this)},_preventOverrideOfAutoTitle:function(){if(!this._bInitialized){return}if(this._bSkipAutoTitleCheck){this._bSkipAutoTitleCheck=false;return}const e=this._shouldEnableAutoTitle(this.getContext().scopeObject);if(e){throw new Error("Cannot set title manually - Auto title is enabled")}},_getCurrentShellHashWithoutAppRoute:function(){const t=`#${s.getHash()}`;const i=d.getShellHash(t);if(!i){e.error("Cannot get the current shell hash",`UrlParsing service returned a falsy value for ${t}`,"sap.ushell.ui5service.ShellUIService");return""}return`#${i}`},_ensureArrayOfObjectOfStrings:function(e,t){const a=Array.isArray(e)&&e.every(e=>i(e)&&Object.keys(e).length>0&&Object.keys(e).every(t=>typeof e[t]==="string"));if(!a){throw new Error(`'${t}' was called with invalid parameters. An array of non-empty objects with string values is expected`)}},setApplicationFullWidth:function(e){if(!this._isCallAllowed()){return}c.setApplicationFullWidthInternal(e)},setActive:function(e){this._bIsActive=e},getActive:function(){return this._bIsActive},exit:function(){this._oEventProvider.fireEvent(b);this._oEventProvider.destroy();this._bDestroyed=true}});return S});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui5service/ShellUIServiceFactory", ["sap/base/util/Deferred","sap/ui/base/EventProvider","sap/ui/core/Component","sap/ui/core/service/ServiceFactory","sap/ushell/Container","sap/ushell/EventHub","sap/ushell/ui5service/ShellUIService","sap/ushell/utils"],(e,t,n,s,i,o,c,r)=>{"use strict";const a="backNavigationChanged";const l=s.extend("sap.ushell.ui5service.ShellUIServiceFactory",{constructor:function(){s.apply(this,arguments);this._mServiceInstances=new Map;this._oGlobalServiceInstance=null;this._oCurrentApplication=null;this._oEventProvider=new t;this._aDoables=[]},init:async function(){this._AppLifeCycle=await i.getServiceAsync("AppLifeCycle");this._AppLifeCycle.attachAppLoaded(this._handleAppOpened,this);const e=o.on("reloadCurrentApp").do(this._handleReloadCurrentApp.bind(this));this._aDoables.push(e);await this.createInstanceInternal()},_setInitialAppValues:function(){if(this._oCurrentApplication?.componentInstance){const e=this._mServiceInstances.get(this._oCurrentApplication.componentInstance.getId());if(e?.instance){return}}if(r.isFlpHomeIntent()){return}this._oGlobalServiceInstance.getContext().scopeObject=this._oCurrentApplication.componentInstance||{};this._oGlobalServiceInstance.initService()},_handleAppOpened:function(e){this._oCurrentApplication=e.getParameters();this._setServiceActive(null);if(this._oCurrentApplication?.componentInstance){const e=this._oCurrentApplication.componentInstance;this._setServiceActive(e);this._resolveServiceInstance(e)}this._setInitialAppValues()},restore:function(e){const t=e.app;if(!t){this._setServiceActive(null);return}this._oCurrentApplication={componentInstance:t};this._setServiceActive(this._oCurrentApplication.componentInstance)},_handleReloadCurrentApp:function(){this._oCurrentApplication=null},_handleServiceDestroyed:function(e,t){this._mServiceInstances.delete(t.id)},attachBackNavigationChanged:function(...e){this._oEventProvider.attachEvent(a,...e)},detachBackNavigationChanged:function(...e){this._oEventProvider.detachEvent(a,...e)},_handleBackNavigationChanged:function(e){const t=e.getParameters();this._oEventProvider.fireEvent(a,t)},createInstance:async function(t){if(!t||!t.scopeObject){throw new Error("No service context provided")}const n=t.scopeObject.getId();const s=this._mServiceInstances.get(n);if(s){return s.deferred.promise}t.settings=t.settings||{};t.settings.isGlobal=false;t.settings.id=n;const i=new c(t);i.attachBackNavigationChanged(this._handleBackNavigationChanged,this);i.attachServiceDestroyed({id:n},this._handleServiceDestroyed,this);const o={instance:i,scopeObject:t.scopeObject||{},deferred:new e,resolved:false};this._mServiceInstances.set(n,o);const r=this._getRootComponent(t.scopeObject);if(this._isComponentActive(r)){this._resolveServiceInstance(r)}return o.deferred.promise},_getRootComponent:function(e){if(!e){return null}const t=n.getOwnerComponentFor(e);if(!t){return e}if(t.isA("sap.ushell.renderer.Renderer")){return e}return this._getRootComponent(t)},_isComponentActive:function(e){const t=this._oCurrentApplication?.componentInstance;if(!t||!e){return false}return e===t},createInstanceInternal:async function(){if(this._oGlobalServiceInstance){return this._oGlobalServiceInstance}const e={scopeObject:{getId:function(){return""}},scopeType:"component",settings:{isGlobal:true}};this._oGlobalServiceInstance=new c(e);this._oGlobalServiceInstance.attachBackNavigationChanged(this._handleBackNavigationChanged,this);return this._oGlobalServiceInstance},_setServiceActive(e){this._mServiceInstances.forEach(t=>{const n=this._getRootComponent(t.scopeObject);if(!e){t.instance.setActive(false)}else if(n===e){t.instance.setActive(true)}else{t.instance.setActive(false)}})},_resolveServiceInstance(e){if(!e){return}this._mServiceInstances.forEach(t=>{const n=this._getRootComponent(t.scopeObject);const s=n===e;if(s&&!t.resolved){const n=this._hasResolvedInstances(e);t.instance.initService(n);t.resolved=true;t.deferred.resolve(t.instance)}})},_hasResolvedInstances(e){if(!e){return false}return Array.from(this._mServiceInstances.values()).some(t=>{const n=this._getRootComponent(t.scopeObject);const s=n===e;return s&&t.resolved})},destroy(){s.prototype.destroy.apply(this,arguments);this._aDoables.forEach(e=>{e.off()});this._AppLifeCycle?.detachAppLoaded?.(this._handleAppOpened,this);this._mServiceInstances.forEach(e=>{e.instance.destroy()});this._oGlobalServiceInstance?.destroy?.();this._oEventProvider.destroy();this._oGlobalServiceInstance=null;this._mServiceInstances=null;this._oCurrentApplication=null;this._AppLifeCycle=null;this._aDoables=null},reset(){this.destroy();this._mServiceInstances=new Map;this._oEventProvider=new t;this._aDoables=[]}});return new l});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils", ["sap/base/Log","sap/base/util/isPlainObject","sap/base/util/ObjectPath","sap/base/util/uid","sap/ui/Device","sap/ui/core/Element","sap/ui/core/EventBus","sap/ui/thirdparty/jquery","sap/ui/thirdparty/URI","sap/base/util/deepClone","sap/ushell/utils/objectOperations","sap/ushell/utils/type","sap/ushell/renderer/History","sap/ushell/renderers/fiori2/History"],(e,t,n,r,i,a,s,jQuery,o,l,c,u,p,f)=>{"use strict";const d={};d.isArray=u.isArray;d.isPlainObject=u.isPlainObject;d.isDefined=u.isDefined;d.clone=l;d.getMember=c.getMember;d.updateProperties=c.updateProperties;d.getNestedObjectProperty=c.getNestedObjectProperty;d.deepFreeze=function(e){Object.keys(e).filter(n=>{const r=e[n];return t(r)||Array.isArray(r)}).forEach(t=>{e[t]=this.deepFreeze(e[t])});return Object.freeze(e)};d.removeDuplicatedActions=function(e){if(Array.isArray(e)){const t=e.reduce((e,t)=>{if(e.indexOf(t)<0){e.push(t)}return e},[]);return t}return e};d.storeSapSystemData=function(t,n){let r;let i;let a;const s=[t.id];if(arguments.length>1){s.unshift(n)}try{a=JSON.stringify(t)}catch(t){e.error("Cannot stringify and store expanded system data:",t)}if(a){i=d.getLocalStorage();r=d.generateLocalStorageKey("sap-system-data",s);i.setItem(r,a)}};d.getLocalSystemInSidFormat=function(){const e=sap.ui.require("sap/ushell/Container");const t=e.getLogonSystem();const n=t.getSystemName();const r=t.getClient();return`sid(${n}.${r})`};d.matchesLocalSid=function(e){return d.getLocalSystemInSidFormat().toLowerCase()===e.toLowerCase()};d.storeSapSystemToLocalStorage=function(e){const t=(e||{}).params;if(!t||!t.hasOwnProperty("sap-system")){return}if(d.isPlainObject(t["sap-system"])){const e=t["sap-system"];const n=t["sap-system-src"];if(typeof n==="string"){d.storeSapSystemData(e,n);t["sap-system-src"]=n}else{d.storeSapSystemData(e)}t["sap-system"]=e.id}else if(d.matchesLocalSid(t["sap-system"])){delete t["sap-system"]}};d.setPerformanceMark=function(e,t){if(performance&&performance.mark){if(!t){t={}}if(t.bUseUniqueMark){if(t.bUseLastMark){performance.clearMarks(e)}else if(performance.getEntriesByName(e,"mark").length>0){return}}performance.mark(e)}};d.setPerformanceMeasure=function(e,t,n){if(performance&&performance.measure&&t&&n){performance.measure(e,t,n)}};d.Error=function(t,n){this.name="sap.ushell.utils.Error";this.message=t;e.error(t,null,n)};d.Error.prototype=new Error;d.localStorageSetItem=function(t,n,r){let i;try{localStorage.setItem(t,n);if(r){i=document.createEvent("StorageEvent");i.initStorageEvent("storage",false,false,t,"",n,"",localStorage);dispatchEvent(i)}}catch(t){e.warning("Error calling localStorage.setItem():",t,"sap.ushell.utils")}};d.getLocalStorage=function(){return window.localStorage};d.getLocalStorageItem=function(e){return window.localStorage.getItem(e)};d.generateUniqueId=function(e){let t;let n;let r;if(Array.isArray(e)){n=e;r=function(e){return n.indexOf(e)===-1}}else{r=e}do{t=d._getUid()}while(!r(t));return t};d._getUid=function(){return r()};d.reload=function(){location.reload()};d.calculateOrigin=function(e){let t;if(e.origin){return e.origin}if(e.protocol&&e.hostname){return`${e.protocol}//${e.hostname}${e.port?`:${e.port}`:""}`}if(e.href){t=new o(e.href);return`${t.protocol()}://${t.hostname()}${t.port()?`:${t.port()}`:""}`}return undefined};d.getPrivateEpcm=function(){if(window.external&&window.external&&typeof window.external.getPrivateEpcm!=="undefined"){return window.external.getPrivateEpcm()}return undefined};d.hasNativeNavigationCapability=function(){return d.isFeatureBitEnabled(1)};d.getShellType=function(){return d.isFeatureBitEnabled(1)?"NWBC":"FLP"};d.hasNativeLogoutCapability=function(){return d.isFeatureBitEnabled(2)};d.hasNavigationModeCapability=function(){return d.isFeatureBitEnabled(4)};d.hasFLPReadyNotificationCapability=function(){return d.isFeatureBitEnabled(8)};d.hasFLPReady2NotificationCapability=function(){return d.isFeatureBitEnabled(16)};d.isFeatureBitEnabled=function(t){let n="0";const r=d.getPrivateEpcm();if(r){try{n=r.getNwbcFeatureBits();e.debug(`Detected epcm getNwbcFeatureBits returned feature bits: ${n}`)}catch(t){e.error("failed to get feature bit vector via call getNwbcFeatureBits on private epcm object",t,"sap.ushell.utils")}}return(parseInt(n,16)&t)>0};d.isApplicationTypeEmbeddedInIframe=function(e,t){return e==="NWBC"||e==="TR"||e==="WCF"||t===true&&e==="WDA"};d.isSAPLegacyApplicationType=function(e,t,n){const r=n===true?["TR","GUI","NWBC"]:["TR","GUI","NWBC","WDA","WCF"];return r.includes(e)||r.includes(t)};d.isTRApplicationType=function(e,t){return e==="TR"||t==="TR"};d.getParamKeys=function(t){const n=[];const r=[];let i;if(t.indexOf("sap-intent-param=")>0){i=/(?:sap-intent-param=)([^&/]+)/.exec(t);if(i&&i.length===2){r.push("sap-intent-param-data");n.push(i[1])}}if(t.indexOf("sap-xapp-state=")>0){i=/(?:sap-xapp-state=)([^&/]+)/.exec(t);if(i&&i.length===2){r.push("sap-xapp-state-data");n.push(i[1])}}else if(t.indexOf("sap-xapp-state-data=")>0){i=/(?:sap-xapp-state-data=)([^&/]+)/.exec(t);if(i&&i.length===2){try{const e=decodeURIComponent(i[1]);r.push("sap-xapp-state-data");n.push(e)}catch(t){e.error("Invalid encoding of the sap-xapp-state-data parameter in the url: ",i[1])}}}if(t.indexOf("sap-iapp-state=")>0){i=/(?:sap-iapp-state=)([^&/]+)/.exec(t);if(i&&i.length===2){r.push("sap-iapp-state-data");n.push(i[1])}}return{aAppStateNamesArray:r,aAppStateKeysArray:n}};d.appendSapShellParamSync=function(e,t,n){const r=t==="TR"?"":"-NWBC";if(n){e+=e.indexOf("?")>=0?"&":"?";e+=`sap-shell=${encodeURIComponent(`FLP${n}${r}`)}`}return e};d.appendSapShellParam=async function(e,t){const n=t==="TR"?"":"-NWBC";const r=await d.getUi5Version();if(r){e+=e.indexOf("?")>=0?"&":"?";e+=`sap-shell=${encodeURIComponent(`FLP${r}${n}`)}`}return e};d.filterOutParamsFromLegacyAppURL=function(e){const t=["sap-ach","sap-fiori-id","sap-hide-intent-link","sap-priority","sap-tag","sap-ui-app-id-hint","sap-ui-debug","sap-ui-fl-control-variant-id","sap-ui-fl-max-layer","sap-ui-tech-hint","sap-ui2-tcode","sap-ui2-wd-app-id","sap-ui2-wd-conf-id","sap-ushell-cdm-site-url","sap-ushell-navmode","sap-ushell-next-navmode","sap-ushell-url","sap-app-origin-hint"];let n=new o(e);n=n.removeSearch(t);return n.toString()};d.getIframeFeaturePolicies=function(){return"autoplay;battery;camera;display-capture;geolocation;gyroscope;magnetometer;microphone;midi;clipboard-write;clipboard-read;fullscreen;serial;"};function g(e){const t=/\d+(\.\d+){0,2}/.exec(e);if(t&&t[0]){return t[0]}return undefined}d.getUi5Version=function(){return new Promise((t,n)=>{sap.ui.require(["sap/ui/VersionInfo"],n=>{n.load().then(e=>{t(g(e.version))}).catch(()=>{e.error("UI5 version could not be determined.");t("")})})})};d.isNativeWebGuiNavigation=function(e){const t=n.get("applicationType",e);const r=n.get("appCapabilities.nativeNWBCNavigation",e);if(this.hasNativeNavigationCapability()&&(t==="TR"||r)){return true}return false};d.Map=function(){this.entries={}};d.Map.prototype.put=function(e,t){const n=this.get(e);this.entries[e]=t;return n};d.Map.prototype.containsKey=function(e){if(typeof e!=="string"){throw new d.Error(`Not a string key: ${e}`,"sap.ushell.utils.Map")}return Object.prototype.hasOwnProperty.call(this.entries,e)};d.Map.prototype.get=function(e){if(this.containsKey(e)){return this.entries[e]}};d.Map.prototype.keys=function(){return Object.keys(this.entries)};d.Map.prototype.remove=function(e){delete this.entries[e]};d.Map.prototype.toString=function(){const e=["sap.ushell.utils.Map("];e.push(JSON.stringify(this.entries));e.push(")");return e.join("")};d.getParameterValueBoolean=function(e,t){const n=new URLSearchParams(t||window.location.search);const r=n.getAll(e);const i=["true","x"];const a=["false",""];if(!r||r.length===0){return undefined}const s=r[0].toLowerCase();if(i.indexOf(s)>=0){return true}if(a.indexOf(s)>=0){return false}return undefined};d.call=function(t,n,r){let i;if(r){setTimeout(()=>{d.call(t,n,false)},0);return}try{t()}catch(t){i=t.message||t.toString();e.error(`Call to success handler failed: ${i}`,t,"sap.ushell.utils");if(n){n(t)}}};d.handleTilesVisibility=function(){d.getVisibleTiles()};d.refreshTiles=function(){s.getInstance().publish("launchpad","refreshTiles")};d.setTilesNoVisibility=function(){s.getInstance().publish("launchpad","setTilesNoVisibility")};d.validHash=function(e){return e&&e.constructor===String&&e.trim()!==""};d.getFormFactor=function(){const e=i.system;if(e.desktop){return e.SYSTEMTYPE.DESKTOP}if(e.tablet){return e.SYSTEMTYPE.TABLET}if(e.phone){return e.SYSTEMTYPE.PHONE}return undefined};d.getVisibleTiles=function(){const e=document.body.clientHeight;const t=a.getElementById("dashboardGroups");const n=a.getElementById("viewPortContainer");const r=0;const i=[];const o=[];const l=s.getInstance();let c;let u;let p;let f;let g;let h;let m;let y;let b;let w;let S;let C;let T;let E;let P;let v;let x;if(window.document.hidden){l.publish("launchpad","onHiddenTab")}if(t&&t.getGroups()&&n){C=jQuery(t.getDomRef());T=C?C.is(":visible"):false;E=t.getGroups();for(c=0;c<E.length;c=c+1){f=E[c];g=f.getTiles();h=f.getLinks();P=[g,h];for(p=0;p<P.length;p++){v=P[p];if(v){for(u=0;u<v.length;u++){m=v[u];if(!T||window.document.hidden){i.push(m)}else{y=jQuery(m.getDomRef());b=y.offset();if(b){w=y.offset().top;S=w+y.height();x=f.getVisible()&&S>r-300&&w<e+300;if(x){o.push({oTile:d.getTileModel(m),iGroup:c,bIsExtanded:!(S>r)||!(w<e)})}else if(o.length>0){l.publish("launchpad","visibleTilesChanged",o);return i}i.push(m)}}}}}}}if(o.length>0){l.publish("launchpad","visibleTilesChanged",o)}return i};d.getTileModel=function(e){let t;if(e.isA("sap.ui.integration.widgets.Card")){t=e.getBindingContext("ushellCardModel")}else{t=e.getBindingContext()}return t.getObject()?t.getObject():null};d.getTileObject=function(e){let t;if(e.isA("sap.ui.integration.widgets.Card")){t=e.getBindingContext("ushellCardModel")}else{t=e.getBindingContext()}return t.getObject()?t.getObject().object:null};d.recalculateBottomSpace=function(){const e=jQuery("#dashboardGroups").find(".sapUshellTileContainer:visible");const t=e.last();const n=jQuery(".sapUshellShellHead > header").height();const r=t.parent().height();const i=parseInt(t.find(".sapUshellContainerTitle").css("margin-top"),10);const a=parseInt(jQuery(".sapUshellDashboardGroupsContainer").css("padding-bottom"),10);let s;if(e.length===1){s=0}else{s=jQuery(window).height()-n-r-i-a;s=s<0?0:s}jQuery(".sapUshellDashboardGroupsContainer").css("margin-bottom",`${s}px`)};d.calcVisibilityModes=function(e,t){let n=true;let r=true;const a=e.pendingLinks&&e.pendingLinks.length?e.pendingLinks:e.links;const s=d.groupHasVisibleTiles(e.tiles,a);if(!s&&(!t||e.isGroupLocked||e.isDefaultGroup||i.system.phone||i.system.tablet&&!i.system.desktop)){n=false}if(!s&&!t){r=false}return[n,r]};d.groupHasVisibleTiles=function(e,t){let n=false;let r;let i;let a=!e?[]:e;const s=!t?[]:t;a=a.concat(s);if(!a.length){return false}for(r=0;r<a.length;r=r+1){i=a[r];if(i.isTileIntentSupported){n=true;break}}return n};d.invokeUnfoldingArrayArguments=async function(t,n){if(!Array.isArray(n[0])){return d.promisify(t.apply(this,n))}const r=n[0];if(r.length===0){return[]}const i=r.map(async n=>{if(!Array.isArray(n)){const t="Expected Array as nTh Argument of multivalue invocation: "+"first Argument must be array of array of arguments: single valued f(p1,p2), f(p1_2,p2_2), f(p1_3,p2_3) : "+"multivalued : f([[p1,p2],[p1_2,p2_2],[p1_3,p2_3]]";e.error(t);throw new Error(t)}return d.promisify(t.apply(this,n)).then(e=>[e])});return Promise.all(i)};d._getCurrentDate=function(){return new Date};d._convertToUTC=function(e){return Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())};d.formatDate=function(e){const t=sap.ui.require("sap/ushell/resources");if(!t){throw new Error("sap/ushell/resources was not required before utils.formatDate usage!")}const n=d._convertToUTC(new Date(e));const r=d._convertToUTC(d._getCurrentDate());const i=r-n;const a=parseInt(i/(1e3*60*60*24),10);if(a>0){if(a===1){return t.i18n.getText("time_day",[a])}return t.i18n.getText("time_days",[a])}const s=parseInt(i/(1e3*60*60),10);if(s>0){if(s===1){return t.i18n.getText("time_hour",[s])}return t.i18n.getText("time_hours",[s])}const o=parseInt(i/(1e3*60),10);if(o>0){if(o===1){return t.i18n.getText("time_minute",[o])}return t.i18n.getText("time_minutes",[o])}return t.i18n.getText("just_now")};d.toExternalWithParameters=function(e,t,n){return new Promise(r=>{sap.ui.require(["sap/ushell/Container"],i=>Promise.all([i.getServiceAsync("URLParsing"),i.getServiceAsync("Navigation")]).then(i=>{const a=i[0];const s=i[1];const o={};const l=t.split("&/");if(l.length>1){o.appSpecificRoute=`&/${l[1]}`}o.target={semanticObject:e,action:l[0]};if(n&&n.length>0){o.params={};n.forEach(e=>{o.params[e.Key]=e.Value})}r(s.navigate({target:{shellHash:a.constructShellHash(o)}}))}))})};d.moveElementInsideOfArray=function(e,t,n){if(!d.isArray(e)||t===undefined||n===undefined){throw new Error("Incorrect input parameters passed")}if(t>=e.length||n>=e.length||n<0||t<0){throw new Error("Index out of bounds")}const r=e.splice(t,1)[0];e.splice(n,0,r);return e};d.shallowMergeObject=function(e){return Array.prototype.slice.call(arguments,1,arguments.length).map(e=>({sourceObject:e,properties:Object.keys(e)})).reduce((e,t)=>{t.properties.forEach(n=>{e[n]=t.sourceObject[n]});return e},e)};d.getLocationHref=function(){return window.location.href};d.getLocationSearch=function(){return window.location.search};d.windowLocationReload=function(){window.location.reload()};d.windowLocationAssign=function(e){window.location.assign(e)};d.generateLocalStorageKey=function(e,t){const n=t.length;if(n===0){throw new Error("At least one id should be provided when generating the local storage key")}let r="$";if(n===2){r="#"}else if(n>2){r=`@${n}@`}return e+r+t.join(":")};d.isRootIntent=function(e){if(typeof e!=="string"){throw new Error("The given intent must be a string")}const t="renderers.fiori2.componentData.config.rootIntent";const r=n.get(t,window["sap-ushell-config"])||"#Shell-home";const i=r.replace("#","");const a=e.replace("#","");return a===""||a===i};d.isFlpHomeIntent=function(e){if(!e){e=window.location.hash;if(!e){e=n.get("renderers.fiori2.componentData.config.rootIntent",window["sap-ushell-config"])||"Shell-home"}}else if(typeof e!=="string"){throw new Error("The given intent must be a string")}const t=e.replace("#","");return t.indexOf("Shell-home")===0||t.indexOf("Launchpad-openFLPPage")===0||t.indexOf("Launchpad-openWorkPage")===0};d.generateRandomKey=function(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let t="";const n=new window.Uint32Array(40);window.crypto.getRandomValues(n);function r(t){const r=n[t]%e.length;return e[r]}while(t.length<40){t+=r(t.length)}return t};d.copyToClipboard=function(e){let t;const n=document.createElement("textarea");try{n.contentEditable=true;n.readonly=false;n.textContent=e;document.documentElement.appendChild(n);n.select();document.execCommand("copy");t=true}catch(e){t=false}finally{n.parentNode.removeChild(n)}return t};d._getUserSettingPersContainer=function(){return new Promise(e=>{sap.ui.require(["sap/ushell/Container"],t=>t.getServiceAsync("PersonalizationV2").then(t=>{const n={container:"sap.ushell.usersettings.personalization",item:"data"};const r={validity:"Infinity",keyCategory:t.KeyCategory.GENERATED_KEY,writeFrequency:t.WriteFrequency.HIGH,clientStorageAllowed:false};e(t.getPersonalizer(n,r))}))})};d.getHideEmptySpacesEnabled=function(){return new Promise(e=>{sap.ui.require(["sap/ushell/Config"],t=>{e(t)})}).then(e=>{const t=e.last("/core/spaces/hideEmptySpaces/enabled");if(!t){return Promise.resolve(false)}return d._getUserSettingPersContainer().then(e=>e.getPersData()).then(t=>{const n=(t||{}).hideEmptySpaces!==false;if(e.last("/core/spaces/hideEmptySpaces/userEnabled")!==n){e.emit("/core/spaces/hideEmptySpaces/userEnabled",n)}return n})})};d.setHideEmptySpacesEnabled=function(e){return new Promise(e=>{sap.ui.require(["sap/ushell/Config"],t=>{e(t)})}).then(t=>{const n=t.last("/core/spaces/hideEmptySpaces/enabled");if(!n){return Promise.resolve()}return d._getUserSettingPersContainer().then(n=>n.getPersData().then(r=>{r=r||{};const i=r.hideEmptySpaces!==false;if(i===!!e){return Promise.resolve()}r.hideEmptySpaces=e;return n.setPersData(r).then(()=>{t.emit("/core/spaces/hideEmptySpaces/userEnabled",e)})}))})};d.sanitizeTimeoutDelay=function(e){if(typeof e!=="number"){throw new Error("Invalid type! Expected type 'number'.")}const t=2147483647;return e>t?t:e};d.promisify=function(t,n){if(typeof t==="object"){if(t.done){return new Promise((r,i)=>{t.done((...t)=>{if(n){r(t);return}if(t.length>1){e.warning("jQuery.Deferred provided multiple return values, but only single return values are supported!")}r(t[0])}).fail(i)})}if(t.then){return t}}return Promise.resolve(t)};d.toDeferred=function(e){const t=new jQuery.Deferred;const n=this.promisify(e);n.then(t.resolve.bind(t)).catch(t.reject.bind(t));return t.promise()};d.requireAsync=function(e){return new Promise((t,n)=>{sap.ui.require(e,(...e)=>{t(e)},n)})};d.awaitTimeout=function(e=0){return new Promise(t=>{setTimeout(t,e)})};d.getThemingParameters=async function(e){const t=await new Promise((t,n)=>{sap.ui.require(["sap/ui/core/theming/Parameters"],n=>{const r=n.get({name:e,callback:t});if(r){t(r)}})});return e.map(e=>{if(typeof t!=="object"){return t}return t[e]})};d.isColdStart=function(){const e=sap.ui.require("sap/ushell/Container");const t=e.getRendererInternal("fiori2");const n=!t||!t.getCurrentCoreView();if(p.getHistoryLength()<=1&&n){return true}return false};d.getDocumentUrl=function(){return document.URL};d.handleSideContent=function(e){const t=e.getParameters();const n=t.hasAdjacentContentBefore;d.applySideContent.call(this,n)};d.applySideContent=function(e){this.rootControlLoaded().then(t=>{t.toggleStyleClass("sapUshellFixedPadding",e)})};return d});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/CallbackQueue", ["sap/base/Log","sap/base/util/Deferred","sap/ushell/utils"],(e,s,t)=>{"use strict";class r{#e=Promise.resolve();#s=1;async push(r,i){const a=this.#e;const o=new s;this.#e=a.then(()=>o.promise);this.#e.index=this.#s++;await a;let l=false;let c;try{c=await t.promisify(r())}catch(s){e.error("Error occurred in CallbackQueue:",s);l=true;c=s;if(i){try{c=await t.promisify(i(s));l=false}catch(s){e.error("Error occurred in CallbackQueue:",s);l=true;c=s}}}o.resolve();if(l){throw c}return c}async waitAllSettled(){const e=this.#e;await e;if(e!==this.#e){return this.waitAllSettled()}}}return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/HttpClient", ["sap/ui/core/Supportability","sap/ui/thirdparty/URI","sap/ushell/utils","sap/ushell/utils/LaunchpadError"],(e,t,s,o)=>{"use strict";function n(e,s){this._oOngoingRequests={};this._oCSRFTokens={};this._oDefaultOptions={headers:s&&s.headers||{}};if(typeof e==="string"){this._oBasePath=new t(e)}else{this._oDefaultOptions={headers:e&&e.headers||{}}}}n.prototype.get=function(e,t){return this._executeRequest("GET",e,t)};n.prototype.put=function(e,t){return this._executeRequest("PUT",e,t)};n.prototype.post=function(e,t){return this._executeRequest("POST",e,t)};n.prototype.patch=function(e,t){return this._executeRequest("PATCH",e,t)};n.prototype.delete=function(e,t){return this._executeRequest("DELETE",e,t)};n.prototype.options=function(e,t){return this._executeRequest("OPTIONS",e,t)};n.prototype.abortAll=function(){Object.keys(this._oOngoingRequests).forEach(e=>{this._oOngoingRequests[e].abort()})};n.prototype._executeRequest=async function(n,r,i){const a={};const u=e.isStatisticsEnabled();if(u){a["sap-statistics"]=u}let h;const c=new t(r);if(!c.is("url")){throw new Error("The provided resource path is not a valid URL.")}if(this._oBasePath){h=c.absoluteTo(this._oBasePath)}else{h=c}const p=new XMLHttpRequest;p._sapUshellHttpClientId=s.generateUniqueId(Object.keys(this._oOngoingRequests));this._oOngoingRequests[p._sapUshellHttpClientId]=p;const d=Object.assign({},a,this._oDefaultOptions.headers,i&&i.headers);return this._getCSRFTokenHeader(n,h).then(e=>{Object.assign(d,e);return new Promise((e,t)=>{const s=h.href();p.onload=this._onLoad.bind(this,e,t,{xhr:p,method:n,url:s,data:i});p.onerror=function(){const e=this._getFormattedResponse(p);const s=new o(`Failed to execute HTTP request: ${e.status} (${e.status})`,e);t(s)}.bind(this);p.onabort=function(){p.bAborted=true;const e=this._getFormattedResponse(p);const s=new o(`Failed to execute HTTP request: ${e.status} (${e.status})`,e);t(s)}.bind(this);p.onloadend=function(){delete this._oOngoingRequests[p._sapUshellHttpClientId]}.bind(this);p.open(n,s);Object.keys(d).forEach(e=>{p.setRequestHeader(e,d[e])});let r=i&&i.data||"";if(typeof r!=="string"){r=JSON.stringify(r)}p.send(r)})})};n.prototype._getCSRFTokenHeader=function(e,t){let s="";let o="";switch(e){case"HEAD":case"GET":case"OPTIONS":return Promise.resolve({"x-csrf-token":"fetch"});case"POST":s=this._getCSRFTokenKey(t);if(this._oCSRFTokens[s]){return Promise.resolve({"x-csrf-token":this._oCSRFTokens[s]})}o=t.href();if(this._oBasePath){o=this._oBasePath.origin()+this._oBasePath.directory()}return this._executeRequest("HEAD",o).then(e=>{const t=this._getCSRFTokenFromHeader(e.responseHeaders);if(!t){throw new Error("CSRF Token couldn't be fetched.")}return{"x-csrf-token":t}});case"PATCH":case"PUT":case"DELETE":s=this._getCSRFTokenKey(t);if(this._oCSRFTokens[s]){return Promise.resolve({"x-csrf-token":this._oCSRFTokens[s]})}o=t.href();if(this._oBasePath){o=this._oBasePath.origin()+this._oBasePath.directory()}return this._executeRequest("OPTIONS",o).then(e=>{const t=this._getCSRFTokenFromHeader(e.responseHeaders);if(!t){throw new Error("CSRF Token couldn't be fetched.")}return{"x-csrf-token":t}});default:return Promise.resolve({})}};n.prototype._onLoad=function(e,s,n){const r=this._getFormattedResponse(n.xhr);const i=this._getCSRFTokenFromHeader(r.responseHeaders);if(i){const o=this._getCSRFTokenKey(new t(n.url));if(i.toLowerCase()==="required"&&r.status===403){delete this._oCSRFTokens[o];return this._executeRequest(n.method,n.url,n.data).then(e).catch(s)}this._oCSRFTokens[o]=i}if(r.status>=200&&r.status<300){return e(r)}const a=new o(`Failed to execute HTTP request: ${r.status} (${r.status})`,r);s(a)};n.prototype._getCSRFTokenKey=function(e){if(this._oBasePath){return this._oBasePath.origin()+this._oBasePath.directory()}return e.origin()+e.directory()};n.prototype._getCSRFTokenFromHeader=function(e){const t=e.filter(e=>e.name==="x-csrf-token")[0];return t&&t.value};n.prototype._getFormattedResponse=function(e){return{aborted:e.bAborted||false,status:e.status,statusText:e.statusText,responseText:e.responseText,responseHeaders:e.getAllResponseHeaders().split(/\r\n/g).filter(e=>e.length>0).map(e=>{const t=e.split(":");return{name:t[0].trim(),value:t[1].trim()}})}};return n},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/LaunchpadError", [],()=>{"use strict";class r extends Error{constructor(r,s,t){super(r);this.name="LaunchpadError";this.details=s;this.originalError=t}}return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/RestrictedJSONModel", ["sap/ui/model/json/JSONModel"],t=>{"use strict";function e(){throw new Error("sap.ushell.utils.RestrictedJSONModel : Function not supported")}return t.extend("sap.ushell.utils.RestrictedJSONModel",{metadata:{events:{dataChange:{parameters:{}}}},constructor:function(){t.prototype.constructor.apply(this,arguments);this.setDefaultBindingMode("OneWay");this.setDefaultBindingMode=e;this.setSizeLimit(1e3);this.setData=e;this.setJSON=e;this.setProperty=e;this.loadData=e},_setData:function(){t.prototype.setData.apply(this,arguments);this.fireEvent("dataChange")},_setJSON:function(){this.setData=t.prototype.setData;t.prototype.setJSON.apply(this,arguments);this.setData=e;this.fireEvent("dataChange")},_setProperty:function(){this.setData=t.prototype.setData;t.prototype.setProperty.apply(this,arguments);this.setData=e;this.fireEvent("dataChange")},refresh:function(){t.prototype.refresh.apply(this,arguments);this.fireEvent("dataChange")}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/UriParameters", ()=>{"use strict";function r(r){const e=r.indexOf("#");if(e>=0){r=r.slice(0,e)}const s=r.indexOf("?");if(s>=0){return r.slice(s+1)}return""}class e extends URLSearchParams{#r;constructor(e){super(r(e))}get mParams(){if(this.#r===null||this.#r===undefined){this.#r=Array.from(this.keys()).reduce((r,e)=>{r[e]=this.getAll(e);return r},Object.create(null))}return this.#r}static fromURL(r){return new e(r)}}return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/UrlParsing", ["sap/ui/thirdparty/URI","sap/base/Log","sap/base/util/deepEqual","sap/base/util/merge","sap/ushell/TechnicalParameters","sap/ushell/utils"],(e,t,n,a,r,s)=>{"use strict";const o={};const c=/^(([A-Za-z0-9_/]+)-([A-Za-z0-9_/-]+)(~([A-Z0-9a-z=+/]+))?)?([?]([^&]|(&[^/]))*&?)?$/;o.getShellHash=function(e){const t=/[^#]*#(([^&]|&[^/])*)(&\/.*)?/;const n=t.exec(e);if(n){return n[1]}return undefined};o.getHash=function(e){const t=/#(.*)/;const n=t.exec(e);if(n){return n[1]}return undefined};o.isIntentUrl=function(e){return this._isIntentUrl(e,window.location.href)};o.isIntentUrlAsync=async function(e){const[t]=await s.requireAsync(["sap/ushell/Container"]);const n=await t.getFLPUrlAsync(true);return this._isIntentUrl(e,n)};o._isIntentUrl=function(t,n){const a=/^#/;if(typeof t!=="string"){return false}if(!a.test(t)){const a=new e(t).normalize();const r=`${a.protocol()}://${a.host()}${a.pathname()}`;const s=new e(n).normalize();const o=`${s.protocol()}://${s.host()}${s.pathname()}`;if(r!==o){return false}}const r=o.getHash(t);if(!r){return false}const s=o.parseShellHash(r);if(s&&s.semanticObject&&s.action){return true}return false};o.parseParameters=function(e){try{const t=new URLSearchParams(e);const n=t.keys();let a=n.next();const r={};while(a.done===false){r[decodeURIComponent(a.value)]=t.getAll(a.value);a=n.next()}return r}catch(n){t.error(`URL parsing - malformed URL parameters string: ${e}`,n);return{}}};function i(e,t,n){let a="";t=t||"&";n=n||"=";let r="";const s=[];for(const t in e){if(e.hasOwnProperty(t)){s.push(t)}}s.sort();for(let o=0;o<s.length;o=o+1){const c=s[o];if(Array.isArray(e[c])){for(let s=0;s<e[c].length;s=s+1){a+=r+encodeURIComponent(c)+n+encodeURIComponent(e[c][s]);r=t}}else{a+=r+encodeURIComponent(c)+n+encodeURIComponent(e[c]);r=t}}return a}o.paramsToString=function(e){return i(e)};o.removeParametersWithEmptyValue=function(e,t){if(!e){return}Object.keys(e).forEach(n=>{if(t.includes(n)&&e[n].length===1&&e[n][0]===""){delete e[n]}})};o.urlParametersToString=function(e,t,n){return i(e,t,n)};o.addParamsToUrl=function(t,n){const a=new e(t);Object.keys(n).forEach(e=>{a.addSearch(e,n[e])});return a.toString()};o.addShellParamsToURL=function(t,n){const a=new e(t);const r=a.hash();const s=a.toString().replace(r,"");const c=o.parseShellHash(r)||{};Object.assign(c.params,n.params);const i=`#${o.constructShellHash(c)}`;return s+i};o.parseShellHash=function(e){const t=c;if(!e){return undefined}const n=o.splitHash(e);const a=t.exec(n.shellPart);if(a){const e=a[2];const t=a[3];const r=a[5];const s=a[6];const c=o.parseParameters(s);return{semanticObject:e,action:t,contextRaw:r,params:c,appSpecificRoute:n.appSpecificRoute}}if(n.appSpecificRoute){return{semanticObject:undefined,action:undefined,contextRaw:undefined,params:{},appSpecificRoute:n.appSpecificRoute}}return undefined};o.privstripLeadingHash=function(e){if(e[0]==="#"){return e.substring(1)}return e};o.ensureLeadingHash=function(e){if(!e){e="#"}else if(e.charAt(0)!=="#"){e=`#${e}`}return e};o.getBasicHash=function(e){const t=this.parseShellHash(e);if(!t){return""}return`${t.semanticObject}-${t.action}`};o.splitHash=function(e){const t=/^(?:#|)([\S\s]*?)(&\/[\S\s]*)?$/;if(e===undefined||e===null||e===""){return{}}const n=t.exec(e);const a=n[1];if(a!==""&&!c.test(a)){return{}}const r=n[2];if(a||r){return{shellPart:a,appSpecificRoute:r}}return{}};function u(e,t){if(t){return e+t}return e}o.constructShellHash=function(e){let n;if(!e){return""}if(!e.target){e.target={};e.target.semanticObject=e.semanticObject;e.target.action=e.action;e.target.contextRaw=e.contextRaw}if(e.target.shellHash||e.target.shellHash===""){const t=o.privstripLeadingHash(e.target.shellHash);return u(t,e.appSpecificRoute)}if(e.target.semanticObject&&e.target.action){n=`${e.target.semanticObject}-${e.target.action.replace(/[?].*/,"")}`}else{return u("",e.appSpecificRoute)}if(e.target.contextRaw){n+=`~${e.target.contextRaw}`}let a="?";const r=[];for(const t in e.params){if(e.params.hasOwnProperty(t)){r.push(t)}}const s=e.params&&JSON.parse(JSON.stringify(e.params))||{};if(e.appStateKey){r.push("sap-xapp-state");s["sap-xapp-state"]=e.appStateKey}r.sort();for(let e=0;e<r.length;e=e+1){const o=r[e];if(Array.isArray(s[o])){if(s[o].length>1){t.error("Array startup parameters violate the designed intent of the Unified Shell Intent, use only single-valued parameters!")}for(let e=0;e<s[o].length;e=e+1){n+=`${a+encodeURIComponent(o)}=${encodeURIComponent(s[o][e])}`;a="&"}}else{n+=`${a+encodeURIComponent(o)}=${encodeURIComponent(s[o])}`;a="&"}}return u(n,e.appSpecificRoute)};o.compareHashes=function(e,t){const n=this.parseShellHash(e)||{};const a=this.parseShellHash(t)||{};return{sameIntent:this.haveSameIntent(n,a),sameParameters:this.haveSameIntentParameters(n,a),sameAppSpecificRoute:n.appSpecificRoute===a.appSpecificRoute}};o.haveSameIntent=function(e,t){e=e||{};t=t||{};return e.semanticObject===t.semanticObject&&e.action===t.action&&e.contextRaw===t.contextRaw};o.haveSameIntentParameters=function(e,t){e=e||{};t=t||{};const n=a({},e.params);const r=a({},t.params);return!this._parametersChanged(this._removeNonIntentParameters(n),this._removeNonIntentParameters(r))};o.getStableIntent=function(e){const t=this.parseShellHash(e)||{};const n=this._removeNonIntentParameters(t.params);const a=Object.keys(n).sort().reduce((e,t)=>{const a=n[t];a.sort();e[t]=a;return e},{});return this.constructShellHash({target:{semanticObject:t.semanticObject,action:t.action,contextRaw:t.contextRaw},params:a})};o._removeNonIntentParameters=function(e){const t=r.getParameters({isIntentParameter:false});let n;if(e){for(let a=0;a<t.length;a++){n=t[a];if(e[n.name]){delete e[n.name]}}}return e||{}};o._parametersChanged=function(e,t){return!n(e,t)};return o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/UrlShortening", ["sap/base/Log","sap/ushell/utils/UrlParsing"],(t,e)=>{"use strict";function a(){const a=this;this.ABBREV_PARAM_NAME="sap-intent-param";this.URL_LENGTH_LIMIT=1023;this.URL_PARAMS_LENGTH_LIMIT=512;this._replaceSapXAppStateRawWithKeyIfRequired=function(e,a){let r;if(typeof e!=="string"||/^[A-Z0-9]{40,41}$/.test(e)){return e}try{r=JSON.parse(e)}catch(a){t.error("This cannot happen: sap-xapp-state parameter value is neither key nor JSON parseable");return e}const s=a&&a.getNextKey();this._storeValue(s,r,a);return s};this.compactHash=function(r,s,n){let i;const c=[this.ABBREV_PARAM_NAME,"sap-system","sap-xapp-state"];if(s){s.forEach(t=>{c.push(t)})}const p=e.parseShellHash(r);if(!p){t.error(`the URL ${r} is not compliant. It may break the product and cause unwanted navigation behavior.`);return{hash:r}}i="";if(r.charAt(0)==="#"){i="#"}const o=p&&p.params&&p.params["sap-xapp-state"]&&p.params["sap-xapp-state"][0];if(o){p.params["sap-xapp-state"]=[this._replaceSapXAppStateRawWithKeyIfRequired(o,n)];r=i+e.constructShellHash({target:{semanticObject:p.semanticObject,action:p.action,contextRaw:p.contextRaw},params:p.params,appSpecificRoute:p.appSpecificRoute})}if(typeof r!=="string"||r.length<a.URL_LENGTH_LIMIT){return{hash:r}}if(p&&(p.params&&p.params[a.ABBREV_PARAM_NAME])){return{hash:r}}const h=n&&n.getNextKey();const u=this._splitParameters(p.params,c,h);if(!u.key){return{hash:r}}const l=e.paramsToString(u.tailParams);this._storeValue(u.key,l,n);return{hash:i+e.constructShellHash({target:{semanticObject:p.semanticObject,action:p.action,contextRaw:p.contextRaw},params:u.headParams,appSpecificRoute:p.appSpecificRoute}),params:u.headParams,skippedParams:u.tailParams}};this.checkHashLength=function(r){let s;if(typeof r!=="string"||r.length<a.URL_LENGTH_LIMIT){return{hash:r}}const n=e.parseShellHash(r);s="";if(r.charAt(0)==="#"){s="#"}const i=this._splitParameters(n.params,[],"DummyKey");if(i.key){t.error(`Application startup parameter length exceeds ${a.URL_PARAMS_LENGTH_LIMIT} characters, truncation occured!`);delete i.headParams[this.ABBREV_PARAM_NAME];return{hash:s+e.constructShellHash({target:{semanticObject:n.semanticObject,action:n.action,contextRaw:n.contextRaw},params:i.headParams,appSpecificRoute:n.appSpecificRoute}),params:i.headParams,skippedParams:i.tailParams}}t.error("URL exceeds dangerous limits, arbitrary shortening or worse may occur!");return{hash:r}};this._findIndex=function(t,e){let a=t.indexOf(e);if(a>=0){return a}a=-1;t.every((t,r)=>{if(t.length>0&&t[t.length-1]==="*"&&t.substring(0,t.length-1)===e.substring(0,t.length-1)){a=r;return false}return true});return a};this._cmpByList=function(t,e,a){t=t||[];if(e===a){return 0}const r=this._findIndex(t,e);const s=this._findIndex(t,a);if(r>=0&&s>=0){if(r-s!==0){return r-s}if(e<a){return-1}if(e>a){return+1}return 0}if(r>=0){return-1}if(s>=0){return+1}if(e<a){return-1}return+1};this._sortByPriority=function(t,e){return t.sort(this._cmpByList.bind(this,e))};this._splitParameters=function(e,a,r){let s;let n;let i;const c={};const p={};let o=false;let h;let u;let l=0;let f;let m=[];if(!r||typeof r!=="string"){throw new Error("sap.ushell.services.URLShortening._splitParameters: key must be supplied!")}for(s in e){if(Object.prototype.hasOwnProperty.call(e,s)){m.push(s)}}m.sort();m=this._sortByPriority(m,a);for(i=0;i<m.length;i=i+1){s=m[i];h=e[s];if(h.length>1){t.error("Array startup parameters violate the designed intent of the Unified Shell Intent, use only single-valued parameters!")}for(n=0;n<h.length;n=n+1){u=e[s][n];f=s.length+u.length;if(f+l>this.URL_PARAMS_LENGTH_LIMIT){if(p[s]){p[s].push(u)}else{p[s]=[u]}o=true}else if(c[s]){c[s].push(u)}else{c[s]=[u]}l=l+f+1}}if(o){c[this.ABBREV_PARAM_NAME]=[r]}return{key:r,tailParams:p,headParams:c}};this.expandHash=function(t){function e(t){return a._retrieveValue(t)}return this.expandParamGivenRetrievalFunction(t,this.ABBREV_PARAM_NAME,e)};this.expandParamGivenRetrievalFunction=function(t,a,r){let s;if(typeof t!=="string"){return t}const n=e.parseShellHash(t);const i=n&&n.params&&n.params[a]&&n.params[a][0];if(!i){return t}s="";if(t.charAt(0)==="#"){s="#"}const c=r(i);if(!c){return t}const p=this._blendParameters(n.params,a,c);return s+e.constructShellHash({target:{semanticObject:n.semanticObject,action:n.action,contextRaw:n.contextRaw},params:p,appSpecificRoute:n.appSpecificRoute})};this._retrieveValue=function(){return undefined};this._storeValue=function(t,e,a){if(a&&typeof a.store==="function"){a.store(e)}};this._blendParameters=function(t,a,r){const s=e.parseParameters(`?${r}`);let n;delete t[a];for(n in s){if(Object.prototype.hasOwnProperty.call(s,n)){if(t[n]){t[n]=t[n].concat(s[n])}else{t[n]=s[n]}}}return t}}const r=new a;return r},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/WindowUtils", ["sap/base/Log","sap/ui/util/isCrossOriginURL","sap/ushell/utils","sap/ushell/utils/UrlParsing"],(n,e,o,t)=>{"use strict";const r={};r.hasInvalidProtocol=function(n){const e=document.createElement("a");e.setAttribute("href",n);if(e.protocol==="javascript:"){return true}return false};r.isCrossOriginUrl=function(n){return e(n)};r.openURL=function(e,o,t,r){const i=r===undefined?true:r;const s=this.isCrossOriginUrl(e);t=t||"";if(i&&this.hasInvalidProtocol(e)){n.fatal("Tried to open a URL with an invalid protocol",null,"sap/ushell/utils/WindowUtils");throw new Error("Tried to open a URL with an invalid protocol")}if(s){if(t.toLowerCase().indexOf("noopener")===-1){if(t!==""){t+=","}t+="noopener"}if(t.toLowerCase().indexOf("noreferrer")===-1){t+=",noreferrer"}window.open(e,o,t);return true}return window.open(e,o,t)};r.getLeanURL=function(e,o){const t=e||o;if(this.hasInvalidProtocol(t)){n.fatal("Tried to construct a lean URL for input containing an invalid protocol",null,"sap/ushell/utils/WindowUtils");return""}if((t||"").charAt(0)!=="#"){return t}let r=window.location.search;if(!r){r="?sap-ushell-config=lean"}else if(r.indexOf("sap-ushell-config=")>=-1){r+="&sap-ushell-config=lean"}return window.location.origin+window.location.pathname+r+t};r._adjustQueryString=function(n,e,o){if((!e||e.length===0)&&(!o||o.length===0)){return n}const r=new URLSearchParams(n);const i=Array.from(r.keys()).reduce((n,e)=>{n[e]=r.getAll(e);return n},{});if(e&&e.length>0){e.forEach(n=>{const e=Object.keys(n)[0];if(e){i[e]=n[e]}})}if(o&&o.length>0){o.forEach(n=>{delete i[n]})}const s=t.urlParametersToString(i);return s!==""?`?${s}`:""};r.refreshBrowser=function(n,e){const t=o.getLocationHref();const i=o.getLocationSearch();const s=r._adjustQueryString(i,n,e);if(i===s){o.windowLocationReload()}else{const n=t.replace(i,s);o.windowLocationAssign(n)}};r.clearSapUserContextCookie=function(){window.document.cookie="sap-usercontext=;Path=/;Max-Age=-1"};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/objectOperations", [],()=>{"use strict";const e={};e.getMember=function(e,r){const t=r.split(".");let n=e;if(!e){return undefined}t.forEach(e=>{if(typeof n!=="object"){return undefined}n=n[e.replace(/[|]/g,".")]});return n};e.updateProperties=function(e,r){Object.keys(e).forEach(t=>{if(r.hasOwnProperty(t)){e[t]=r[t]}})};e.getNestedObjectProperty=function(e,r,t){const n="Missing or invalid parameter";if(!e||!Array.isArray(e)||e.length===0||!r){throw new Error(n)}if(Array.isArray(r)&&r.length!==e.length){throw new Error(n)}let i=r;if(!Array.isArray(r)){i=Array.apply(null,Array(e.length)).map(()=>r)}const a=e.reduce((e,r,t)=>{if(e!==undefined){return e}return this.getMember(r,i[t])},undefined);return a!==undefined?a:t};return e},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/type", [],()=>{"use strict";function t(t){return Object.prototype.toString.apply(t)==="[object Array]"}function e(t){return Object.prototype.toString.apply(t)==="[object Object]"}function n(t){return typeof t!=="undefined"}return{isArray:t,isPlainObject:e,isDefined:n}},false);
sap.ui.require.preload({
	"sap/ui/thirdparty/jquery-mobile-custom.js":function(){
/*
* jQuery Mobile v1.3.1
* http://jquerymobile.com
*
* Copyright 2010, 2013 jQuery Foundation, Inc. and other contributors
* Released under the MIT license.
* http://jquery.org/license
*
*/
(function(e,t,n){if(typeof define==="function"&&define.amd){define(["jquery"],function(i){n(i,e,t);return i.mobile})}else{n(e.jQuery,e,t)}})(this,document,function(jQuery,e,t,n){
// About: License
// Copyright (c) 2010 "Cowboy" Ben Alman,
// Dual licensed under the MIT and GPL licenses.
// http://benalman.com/about/license/
(function(e,n,i){var o="hashchange",r=t,a,s=e.event.special,u=r.documentMode,l="on"+o in n&&(u===i||u>7);function c(e){e=e||location.href;return"#"+e.replace(/^[^#]*#?(.*)$/,"$1")}e.fn[o]=function(e){return e?this.on(o,e):this.trigger(o)};e.fn[o].delay=50;s[o]=e.extend(s[o],{setup:function(){if(l){return false}e(a.start)},teardown:function(){if(l){return false}e(a.stop)}});a=function(){var t={},r,a=c(),s=function(e){return e},u=s,l=s;t.start=function(){r||f()};t.stop=function(){r&&clearTimeout(r);r=i};function f(){var t=c(),i=l(a);if(t!==a){u(a=t,i);e(n).trigger(o)}else if(i!==a){location.href=location.href.replace(/#.*/,"")+i}r=setTimeout(f,e.fn[o].delay)}return t}()})(jQuery,this);(function(e){e.mobile={};jQuery.mobile.orientationChangeEnabled=true})(jQuery);(function(e,n,i){var o={};e.mobile=e.extend(e.mobile,{version:"1.3.1",ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:true,hashListeningEnabled:true,linkBindingEnabled:true,defaultPageTransition:"fade",maxTransitionWidth:false,minScrollBack:250,touchOverflowEnabled:false,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"e",phonegapNavigationEnabled:false,autoInitializePage:true,pushStateEnabled:true,ignoreContentEnabled:false,orientationChangeEnabled:true,buttonMarkup:{hoverDelay:200},window:e(n),document:e(t),keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},behaviors:{},silentScroll:function(t){if(typeof t!=="number"){t=e.mobile.defaultHomeScroll}e.event.special.scrollstart.enabled=false;setTimeout(function(){n.scrollTo(0,t);e.mobile.document.trigger("silentscroll",{x:0,y:t})},20);setTimeout(function(){e.event.special.scrollstart.enabled=true},150)},nsNormalizeDict:o,nsNormalize:function(t){if(!t){return}return o[t]||(o[t]=e.camelCase(e.mobile.ns+t))},getInheritedTheme:function(e,t){var n=e[0],i="",o=/ui-(bar|body|overlay)-([a-z])\b/,r,a;while(n){r=n.className||"";if(r&&(a=o.exec(r))&&(i=a[2])){break}n=n.parentNode}return i||t||"a"},closestPageData:function(e){return e.closest(':jqmData(role="page"), :jqmData(role="dialog")').data("mobile-page")},enhanceable:function(e){return this.haveParents(e,"enhance")},hijackable:function(e){return this.haveParents(e,"ajax")},haveParents:function(t,n){if(!e.mobile.ignoreContentEnabled){return t}var i=t.length,o=e(),r,a,s;for(var u=0;u<i;u++){a=t.eq(u);s=false;r=t[u];while(r){var l=r.getAttribute?r.getAttribute("data-"+e.mobile.ns+n):"";if(l==="false"){s=true;break}r=r.parentNode}if(!s){o=o.add(a)}}return o},getScreenHeight:function(){return n.innerHeight||e.mobile.window.height()}},e.mobile);e.fn.jqmData=function(t,n){var o;if(typeof t!=="undefined"){if(t){t=e.mobile.nsNormalize(t)}if(arguments.length<2||n===i){o=this.data(t)}else{o=this.data(t,n)}}return o};e.jqmData=function(t,n,i){var o;if(typeof n!=="undefined"){o=e.data(t,n?e.mobile.nsNormalize(n):n,i)}return o};e.fn.jqmRemoveData=function(t){return this.removeData(e.mobile.nsNormalize(t))};e.jqmRemoveData=function(t,n){return e.removeData(t,e.mobile.nsNormalize(n))};e.fn.removeWithDependents=function(){e.removeWithDependents(this)};e.removeWithDependents=function(t){var n=e(t);(n.jqmData("dependents")||e()).remove();n.remove()};e.fn.addDependents=function(t){e.addDependents(e(this),t)};e.addDependents=function(t,n){var i=e(t).jqmData("dependents")||e();e(t).jqmData("dependents",e.merge(i,n))};e.fn.getEncodedText=function(){return e("<div/>").text(e(this).text()).html()};e.fn.jqmEnhanceable=function(){return e.mobile.enhanceable(this)};e.fn.jqmHijackable=function(){return e.mobile.hijackable(this)};var r=e.find,a=/:jqmData\(([^)]*)\)/g;e.find=function(t,n,i,o){t=t.replace(a,"[data-"+(e.mobile.ns||"")+"$1]");return r.call(this,t,n,i,o)};e.extend(e.find,r)})(jQuery,this);(function(n,i){
/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas. Dual MIT/BSD license */
e.matchMedia=e.matchMedia||function(e,t){var n,i=e.documentElement,o=i.firstElementChild||i.firstChild,r=e.createElement("body"),a=e.createElement("div");a.id="mq-test-1";a.style.cssText="position:absolute;top:-100em";r.style.background="none";r.appendChild(a);return function(e){a.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>';i.insertBefore(r,o);n=a.offsetWidth===42;i.removeChild(r);return{matches:n,media:e}}}(t);n.mobile.media=function(t){return e.matchMedia(t).matches}})(jQuery);(function(n,i){var o={touch:"ontouchend"in t};if(e.sap&&sap.ui&&sap.ui.Device&&sap.ui.Device.support&&!(sap.ui.Device.browser.msie||sap.ui.Device.browser.edge)){o.touch=sap.ui.Device.support.touch}n.mobile.support=n.mobile.support||{};n.extend(n.support,o);n.extend(n.mobile.support,o)})(jQuery);(function(t,n){t.extend(t.support,{orientation:"orientation"in e&&"onorientationchange"in e})})(jQuery);(function(n,i){function o(e){var t=e.charAt(0).toUpperCase()+e.substr(1),n=(e+" "+s.join(t+" ")+t).split(" ");for(var o in n){if(a[n[o]]!==i){return true}}}var r=n("<body>").prependTo("html"),a=r[0].style,s=["Webkit","Moz","O"],u="palmGetResource"in e,l=e.opera,c=e.operamini&&{}.toString.call(e.operamini)==="[object OperaMini]",f=e.blackberry&&!o("-webkit-transform");function d(e,n,i){var o=t.createElement("div"),r=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},a=function(e){if(e===""){return""}else{return"-"+e.charAt(0).toLowerCase()+e.substr(1)+"-"}},u=function(t){var i=a(t)+e+": "+n+";",s=r(t),u=s+(s===""?e:r(e));o.style=i;if(!!o.style[u]){c=true}},l=i?i:s,c;for(var f=0;f<l.length;f++){u(l[f])}return!!c}function h(){var o="transform-3d",a=n.mobile.media("(-"+s.join("-"+o+"),(-")+"-"+o+"),("+o+")");if(a){return!!a}var u=t.createElement("div"),l={MozTransform:"-moz-transform",transform:"transform"};r.append(u);for(var c in l){if(u.style[c]!==i){u.style[c]="translate3d( 100px, 1px, 1px )";a=e.getComputedStyle(u).getPropertyValue(l[c])}}return!!a&&a!=="none"}function p(){var n=t.createElement("x"),i=t.documentElement,o=e.getComputedStyle,r=o&&o(n,""),a;if(!("pointerEvents"in n.style)){return false}n.style.pointerEvents="auto";n.style.pointerEvents="x";i.appendChild(n);a=r&&r.pointerEvents==="auto";i.removeChild(n);return!!a}function v(){var e=t.createElement("div");return typeof e.getBoundingClientRect!=="undefined"}n.extend(n.mobile,{browser:{}});n.mobile.browser.oldIE=function(){var e=3,n=t.createElement("div"),i=n.all||[];do{n.innerHTML="\x3c!--[if gt IE "+ ++e+"]><br><![endif]--\x3e"}while(i[0]);return e>4?e:!e}();function m(){var t=e,n=navigator.userAgent,i=navigator.platform,o=n.match(/AppleWebKit\/([0-9]+)/),r=!!o&&o[1],a=n.match(/Fennec\/([0-9]+)/),s=!!a&&a[1],u=n.match(/Opera Mobi\/([0-9]+)/),l=!!u&&u[1];if((i.indexOf("iPhone")>-1||i.indexOf("iPad")>-1||i.indexOf("iPod")>-1)&&r&&r<534||t.operamini&&{}.toString.call(t.operamini)==="[object OperaMini]"||u&&l<7458||n.indexOf("Android")>-1&&r&&r<533||s&&s<6||"palmGetResource"in e&&r&&r<534||n.indexOf("MeeGo")>-1&&n.indexOf("NokiaBrowser/8.5.0")>-1){return false}return true}n.extend(n.support,{cssTransitions:"WebKitTransitionEvent"in e||d("transition","height 100ms linear",["Webkit","Moz",""])&&!n.mobile.browser.oldIE&&!l,pushState:"pushState"in history&&"replaceState"in history&&!(e.navigator.userAgent.indexOf("Firefox")>=0&&e.top!==e)&&e.navigator.userAgent.search(/CriOS/)===-1,mediaquery:n.mobile.media("only all"),cssPseudoElement:!!o("content"),touchOverflow:!!o("overflowScrolling"),cssTransform3d:h(),boxShadow:!!o("boxShadow")&&!f,fixedPosition:m(),scrollTop:("pageXOffset"in e||"scrollTop"in t.documentElement||"scrollTop"in r[0])&&!u&&!c,dynamicBaseTag:true,cssPointerEvents:p(),boundingRect:v()});r.remove();var g=function(){var t=e.navigator.userAgent;return t.indexOf("Nokia")>-1&&(t.indexOf("Symbian/3")>-1||t.indexOf("Series60/5")>-1)&&t.indexOf("AppleWebKit")>-1&&t.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}();n.mobile.gradeA=function(){return(n.support.mediaquery||n.mobile.browser.oldIE&&n.mobile.browser.oldIE>=7)&&(n.support.boundingRect||n.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/)!==null)};n.mobile.ajaxBlacklist=e.blackberry&&!e.WebKitPoint||c||g;if(g){n(function(){n("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")})}if(!n.support.boxShadow){n("html").addClass("ui-mobile-nosupport-boxshadow")}})(jQuery);(function(e,t){var n=e.mobile.window,i,o;e.event.special.navigate=i={bound:false,pushStateEnabled:true,originalEventName:t,isPushStateEnabled:function(){return e.support.pushState&&e.mobile.pushStateEnabled===true&&this.isHashChangeEnabled()},isHashChangeEnabled:function(){return e.mobile.hashListeningEnabled===true},popstate:function(t){var i=new e.Event("navigate"),o=new e.Event("beforenavigate"),r=t.originalEvent.state||{},a=location.href;n.trigger(o);if(o.isDefaultPrevented()){return}if(t.historyState){e.extend(r,t.historyState)}i.originalEvent=t;setTimeout(function(){n.trigger(i,{state:r})},0)},hashchange:function(t,i){var o=new e.Event("navigate"),r=new e.Event("beforenavigate");n.trigger(r);if(r.isDefaultPrevented()){return}o.originalEvent=t;n.trigger(o,{state:t.hashchangeState||{}})},setup:function(e,t){if(i.bound){return}i.bound=true;if(i.isPushStateEnabled()){i.originalEventName="popstate";n.on("popstate.navigate",i.popstate)}else if(i.isHashChangeEnabled()){i.originalEventName="hashchange";n.on("hashchange.navigate",i.hashchange)}}}})(jQuery);(function(e){e.event.special.throttledresize={setup:function(){e(this).on("resize",n)},teardown:function(){e(this).off("resize",n)}};var t=250,n=function(){r=(new Date).getTime();a=r-i;if(a>=t){i=r;e(this).trigger("throttledresize")}else{if(o){clearTimeout(o)}o=setTimeout(n,t-a)}},i=0,o,r,a})(jQuery);(function(e,n){var i=e(n),o="orientationchange",r,a,s,u,l,c={0:true,180:true};if(e.support.orientation){var f=n.innerWidth||i.width(),d=n.innerHeight||i.height(),h=50;u=f>d&&f-d>h;l=c[n.orientation];if(u&&l||!u&&!l){c={"-90":true,90:true}}}e.event.special.orientationchange=e.extend({},e.event.special.orientationchange,{setup:function(){if(e.support.orientation&&!e.event.special.orientationchange.disabled){return false}s=a();i.on("throttledresize",p)},teardown:function(){if(e.support.orientation&&!e.event.special.orientationchange.disabled){return false}i.off("throttledresize",p)},add:function(e){var t=e.handler;e.handler=function(e){e.orientation=a();return t.apply(this,arguments)}}});function p(){var e=a();if(e!==s){s=e;i.trigger(o)}}e.event.special.orientationchange.orientation=a=function(){var i=true,o=t.documentElement;if(e.support.orientation){i=c[n.orientation]}else{i=o&&o.clientWidth/o.clientHeight<1.1}return i?"portrait":"landscape"};e.fn[o]=function(e){return e?this.on(o,e):this.trigger(o)};if(e.attrFn){e.attrFn[o]=true}})(jQuery,this);(function(e,t,n,i){var o="virtualMouseBindings",r="virtualTouchID",a="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),s="clientX clientY pageX pageY screenX screenY".split(" "),u=e.event.mouseHooks?e.event.mouseHooks.props:[],l=("altKey bubbles cancelable ctrlKey currentTarget detail eventPhase "+"metaKey relatedTarget shiftKey target timeStamp view which").split(" "),c=l.concat(u),f={},d=0,h=0,p=0,v=false,m=[],g=false,b=false,E="addEventListener"in n,w=e(n),D=1,T=0,y;e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};function x(e){while(e&&typeof e.originalEvent!=="undefined"){e=e.originalEvent}return e}function M(t,n){var o=t.type,r,a,u,f,d,h,p,v,m;t=e.Event(t);t.type=n;r=t.originalEvent;a=l;if(o.search(/^(mouse|click)/)>-1){a=c}if(r){for(p=a.length,f;p;){f=a[--p];t[f]=r[f]}}if(o.search(/mouse(down|up)|click/)>-1&&!t.which){t.which=1}if(o.search(/^touch/)!==-1){u=x(r);o=u.touches;d=u.changedTouches;h=o&&o.length?o[0]:d&&d.length?d[0]:i;if(h){for(v=0,m=s.length;v<m;v++){f=s[v];t[f]=h[f]}}}return t}function S(t){var n={},i,r;while(t){i=e.data(t,o);for(r in i){if(i[r]){n[r]=n.hasVirtualBinding=true}}t=t.parentNode}return n}function P(t,n){var i;while(t){i=e.data(t,o);if(i&&(!n||i[n])){return t}t=t.parentNode}return null}function C(){b=false}function N(){b=true}function A(){T=0;m.length=0;g=false;N()}function k(){C()}function O(){_();d=setTimeout(function(){d=0;A()},e.vmouse.resetTimerDuration)}function _(){if(d){clearTimeout(d);d=0}}function j(t,n,i){var o;if(i&&i[t]||!i&&P(n.target,t)){o=M(n,t);e(n.target).trigger(o)}return o}function L(t){var n=e.data(t.target,r);if(!g&&(!T||T!==n)){var i=j("v"+t.type,t);if(i){if(i.isDefaultPrevented()){t.preventDefault()}if(i.isPropagationStopped()){t.stopPropagation()}if(i.isImmediatePropagationStopped()){t.stopImmediatePropagation()}}}}function I(t){var n=x(t).touches,i,o;if(n&&n.length===1){i=t.target;o=S(i);if(o.hasVirtualBinding){T=D++;e.data(i,r,T);_();k();v=false;var a=x(t).touches[0];h=a.pageX;p=a.pageY;j("vmouseover",t,o);j("vmousedown",t,o)}}}function z(e){if(b){return}if(!v){j("vmousecancel",e,S(e.target))}v=true;O()}function q(t){if(b){return}var n=x(t).touches[0],i=v,o=e.vmouse.moveDistanceThreshold,r=S(t.target);v=v||(Math.abs(n.pageX-h)>o||Math.abs(n.pageY-p)>o);if(v&&!i){j("vmousecancel",t,r)}j("vmousemove",t,r);O()}function H(n){if(b){return}N();var i=S(n.target),o;j("vmouseup",n,i);if(!v){j("vclick",n,i);if(e.support.touch){o=x(n).changedTouches[0];m.push({touchID:T,x:o.clientX,y:o.clientY+t.scrollY,target:n.target});g=true}}j("vmouseout",n,i);v=false;O()}function W(t){var n=e.data(t,o),i;if(n){for(i in n){if(n[i]){return true}}}return false}function B(){}function R(t){var n=t.substr(1);return{setup:function(i,r){if(!W(this)){e.data(this,o,{})}var a=e.data(this,o);a[t]=true;f[t]=(f[t]||0)+1;if(f[t]===1){w.on(n,L)}e(this).on(n,B);if(E){f["touchstart"]=(f["touchstart"]||0)+1;if(f["touchstart"]===1){w.on("touchstart",I).on("touchend",H).on("touchmove",q)}}},teardown:function(i,r){--f[t];if(!f[t]){w.off(n,L)}if(E){--f["touchstart"];if(!f["touchstart"]){w.off("touchstart",I).off("touchmove",q).off("touchend",H).off("scroll",z)}}var a=e(this),s=e.data(this,o);if(s){s[t]=false}a.off(n,B);if(!W(this)){a.removeData(o)}}}}for(var U=0;U<a.length;U++){e.event.special[a[U]]=R(a[U])}if(E){function Y(n){var i=m.length,o=n.target,a,s,u,l,c,f;if(i){a=n.clientX;s=n.clientY+t.scrollY;y=e.vmouse.clickDistanceThreshold;u=o;while(u){for(l=0;l<i;l++){c=m[l];f=0;if(u===o&&Math.abs(c.x-a)<y&&Math.abs(c.y-s)<y||e.data(u,r)===c.touchID){if(!n.isSynthetic){n._sapui_delayedMouseEvent=true}if(o!==c.target){n.preventDefault();n.stopPropagation()}if(n.type==="click"){m.length=0}return}}u=u.parentNode}}}n.addEventListener("mousedown",Y,true);n.addEventListener("mouseup",Y,true);n.addEventListener("mouseover",Y,true);n.addEventListener("click",Y,true)}})(jQuery,e,t);(function(e,n,i){var o=e(t);e.each(("touchstart touchmove touchend "+"tap taphold "+"swipe swipeleft swiperight "+"scrollstart scrollstop").split(" "),function(t,n){e.fn[n]=function(e){return e?this.on(n,e):this.trigger(n)};if(e.attrFn){e.attrFn[n]=true}});var r=e.mobile.support.touch,a="touchmove scroll",s=r?"touchstart":"mousedown",u=r?"touchend touchcancel":"mouseup dragstart",l=r?"touchmove":"mousemove";function c(t,n,i){var o=i.type;i.type=n;e.event.dispatch.call(t,i);i.type=o}e.event.special.scrollstart={enabled:true,setup:function(){var t=this,n=e(t),i,o;function r(e,n){i=n;c(t,i?"scrollstart":"scrollstop",e)}n.on(a,function(t){if(!e.event.special.scrollstart.enabled){return}if(!i){r(t,true)}clearTimeout(o);o=setTimeout(function(){r(t,false)},50)})}};e.event.special.tap={tapholdThreshold:750,setup:function(){var t=this,n=e(t),i,r,a;function s(e){var t=e.target;var n=sap.ui.Device.browser;return n.edge&&n.version>=14&&(t.tagName.toLowerCase()==="button"&&t.contains(i)||i.tagName.toLowerCase()==="button"&&i.contains(t))}function u(){clearTimeout(a)}function l(){u();n.removeData("__tap_event_in_progress");n.off("vclick",d).off("vmouseup",u);o.off("vmousecancel",l).off("dragstart",l).off("vmouseup",f)}function f(t){if(t.target!==i&&!e.contains(i,t.target)&&!s(t)){l()}}function d(e){l();if(i===e.target||s(e)){c(t,"tap",e)}}n.on("vmousedown",function(s){if(s.which&&s.which!==1){return}i=s.target;r=s.originalEvent;if(n.data("__tap_event_in_progress")){l()}n.data("__tap_event_in_progress","X");n.on("vmouseup",u).on("vclick",d);o.on("vmousecancel",l).on("dragstart",l).on("vmouseup",f);a=setTimeout(function(){var n=e.event.fix(r);n.type="taphold";c(t,"taphold",n)},e.event.special.tap.tapholdThreshold)})}};e.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,start:function(t){var n=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0]:t;return{time:(new Date).getTime(),coords:[n.pageX,n.pageY],origin:e(t.target)}},stop:function(e){var t=e.originalEvent&&e.originalEvent.touches?e.originalEvent.touches[0]:e;return{time:(new Date).getTime(),coords:[t.pageX,t.pageY]}},handleSwipe:function(t,n){if(n.time-t.time<e.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-n.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-n.coords[1])<e.event.special.swipe.verticalDistanceThreshold){t.origin.trigger("swipe").trigger(t.coords[0]>n.coords[0]?"swipeleft":"swiperight")}},setup:function(){var t=this,o=e(t);o.on(s,function(t){if(t.isMarked("swipestartHandled")){return}t.setMarked("swipestartHandled");var r=e.event.special.swipe.start(t),a;function s(t){if(!r){return}a=e.event.special.swipe.stop(t);if(t.cancelable&&!n.getSelection().toString()&&Math.abs(r.coords[0]-a.coords[0])>e.event.special.swipe.scrollSupressionThreshold){t.preventDefault()}}function c(t){o.off(l,s).off(u,c);if(r&&a){e.event.special.swipe.handleSwipe(r,a)}r=a=i}o.on(l,s).on(u,c)})}};e.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(t,n){e.event.special[t]={setup:function(){e(this).on(n,e.noop)}}})})(jQuery,this)});
},
	"sap/ui/thirdparty/jquery.js":function(){
/*!
 * jQuery JavaScript Library v3.6.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2021-03-02T17:08Z
 */
(function(e,t){"use strict";if(typeof module==="object"&&typeof module.exports==="object"){module.exports=e.document?t(e,true):function(e){if(!e.document){throw new Error("jQuery requires a window with a document")}return t(e)}}else{t(e)}})(typeof window!=="undefined"?window:this,function(e,t){"use strict";var n=[];var r=Object.getPrototypeOf;var i=n.slice;var o=n.flat?function(e){return n.flat.call(e)}:function(e){return n.concat.apply([],e)};var a=n.push;var s=n.indexOf;var u={};var f=u.toString;var l=u.hasOwnProperty;var c=l.toString;var d=c.call(Object);var p={};var h=function e(t){return typeof t==="function"&&typeof t.nodeType!=="number"&&typeof t.item!=="function"};var g=function e(t){return t!=null&&t===t.window};var y=e.document;var m={type:true,src:true,nonce:true,noModule:true};function v(e,t,n){n=n||y;var r,i,o=n.createElement("script");o.text=e;if(t){for(r in m){i=t[r]||t.getAttribute&&t.getAttribute(r);if(i){o.setAttribute(r,i)}}}n.head.appendChild(o).parentNode.removeChild(o)}function x(e){if(e==null){return e+""}return typeof e==="object"||typeof e==="function"?u[f.call(e)]||"object":typeof e}var b="3.6.0",jQuery=function(e,t){return new jQuery.fn.init(e,t)};jQuery.fn=jQuery.prototype={jquery:b,constructor:jQuery,length:0,toArray:function(){return i.call(this)},get:function(e){if(e==null){return i.call(this)}return e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=jQuery.merge(this.constructor(),e);t.prevObject=this;return t},each:function(e){return jQuery.each(this,e)},map:function(e){return this.pushStack(jQuery.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(jQuery.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(jQuery.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice};jQuery.extend=jQuery.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,f=false;if(typeof a==="boolean"){f=a;a=arguments[s]||{};s++}if(typeof a!=="object"&&!h(a)){a={}}if(s===u){a=this;s--}for(;s<u;s++){if((e=arguments[s])!=null){for(t in e){r=e[t];if(t==="__proto__"||a===r){continue}if(f&&r&&(jQuery.isPlainObject(r)||(i=Array.isArray(r)))){n=a[t];if(i&&!Array.isArray(n)){o=[]}else if(!i&&!jQuery.isPlainObject(n)){o={}}else{o=n}i=false;a[t]=jQuery.extend(f,o,r)}else if(r!==undefined){a[t]=r}}}}return a};jQuery.extend({expando:"jQuery"+(b+Math.random()).replace(/\D/g,""),isReady:true,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;if(!e||f.call(e)!=="[object Object]"){return false}t=r(e);if(!t){return true}n=l.call(t,"constructor")&&t.constructor;return typeof n==="function"&&c.call(n)===d},isEmptyObject:function(e){var t;for(t in e){return false}return true},globalEval:function(e,t,n){v(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(w(e)){n=e.length;for(;r<n;r++){if(t.call(e[r],r,e[r])===false){break}}}else{for(r in e){if(t.call(e[r],r,e[r])===false){break}}}return e},makeArray:function(e,t){var n=t||[];if(e!=null){if(w(Object(e))){jQuery.merge(n,typeof e==="string"?[e]:e)}else{a.call(n,e)}}return n},inArray:function(e,t,n){return t==null?-1:s.call(t,e,n)},merge:function(e,t){var n=+t.length,r=0,i=e.length;for(;r<n;r++){e[i++]=t[r]}e.length=i;return e},grep:function(e,t,n){var r,i=[],o=0,a=e.length,s=!n;for(;o<a;o++){r=!t(e[o],o);if(r!==s){i.push(e[o])}}return i},map:function(e,t,n){var r,i,a=0,s=[];if(w(e)){r=e.length;for(;a<r;a++){i=t(e[a],a,n);if(i!=null){s.push(i)}}}else{for(a in e){i=t(e[a],a,n);if(i!=null){s.push(i)}}}return o(s)},guid:1,support:p});if(typeof Symbol==="function"){jQuery.fn[Symbol.iterator]=n[Symbol.iterator]}jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){u["[object "+t+"]"]=t.toLowerCase()});function w(e){var t=!!e&&"length"in e&&e.length,n=x(e);if(h(e)||g(e)){return false}return n==="array"||t===0||typeof t==="number"&&t>0&&t-1 in e}var T=
/*!
 * Sizzle CSS Selector Engine v2.3.6
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2021-02-16
 */
function(e){var t,n,r,i,o,a,s,u,f,l,c,d,p,h,g,y,m,v,x,b="sizzle"+1*new Date,w=e.document,T=0,C=0,k=ue(),E=ue(),S=ue(),j=ue(),A=function(e,t){if(e===t){c=true}return 0},N={}.hasOwnProperty,D=[],q=D.pop,L=D.push,H=D.push,O=D.slice,P=function(e,t){var n=0,r=e.length;for(;n<r;n++){if(e[n]===t){return n}}return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|"+"ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",F=":("+I+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|"+".*"+")\\)|)",B=new RegExp(M+"+","g"),_=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),$=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp(F),Q=new RegExp("^"+I+"$"),V={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},G=/HTML$/i,Y=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,n&1023|56320)},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){if(t){if(e==="\0"){return""}return e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" "}return"\\"+e},oe=function(){d()},ae=be(function(e){return e.disabled===true&&e.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{H.apply(D=O.call(w.childNodes),w.childNodes);D[w.childNodes.length].nodeType}catch(e){H={apply:D.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]){}e.length=n-1}}}function se(e,t,r,i){var o,s,f,l,c,h,m,v=t&&t.ownerDocument,w=t?t.nodeType:9;r=r||[];if(typeof e!=="string"||!e||w!==1&&w!==9&&w!==11){return r}if(!i){d(t);t=t||p;if(g){if(w!==11&&(c=Z.exec(e))){if(o=c[1]){if(w===9){if(f=t.getElementById(o)){if(f.id===o){r.push(f);return r}}else{return r}}else{if(v&&(f=v.getElementById(o))&&x(t,f)&&f.id===o){r.push(f);return r}}}else if(c[2]){H.apply(r,t.getElementsByTagName(e));return r}else if((o=c[3])&&n.getElementsByClassName&&t.getElementsByClassName){H.apply(r,t.getElementsByClassName(o));return r}}if(n.qsa&&!j[e+" "]&&(!y||!y.test(e))&&(w!==1||t.nodeName.toLowerCase()!=="object")){m=e;v=t;if(w===1&&(U.test(e)||z.test(e))){v=ee.test(e)&&me(t.parentNode)||t;if(v!==t||!n.scope){if(l=t.getAttribute("id")){l=l.replace(re,ie)}else{t.setAttribute("id",l=b)}}h=a(e);s=h.length;while(s--){h[s]=(l?"#"+l:":scope")+" "+xe(h[s])}m=h.join(",")}try{H.apply(r,v.querySelectorAll(m));return r}catch(t){j(e,true)}finally{if(l===b){t.removeAttribute("id")}}}}}return u(e.replace(_,"$1"),t,r,i)}function ue(){var e=[];function t(n,i){if(e.push(n+" ")>r.cacheLength){delete t[e.shift()]}return t[n+" "]=i}return t}function fe(e){e[b]=true;return e}function le(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return false}finally{if(t.parentNode){t.parentNode.removeChild(t)}t=null}}function ce(e,t){var n=e.split("|"),i=n.length;while(i--){r.attrHandle[n[i]]=t}}function de(e,t){var n=t&&e,r=n&&e.nodeType===1&&t.nodeType===1&&e.sourceIndex-t.sourceIndex;if(r){return r}if(n){while(n=n.nextSibling){if(n===t){return-1}}}return e?1:-1}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function he(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function ge(e){return function(t){if("form"in t){if(t.parentNode&&t.disabled===false){if("label"in t){if("label"in t.parentNode){return t.parentNode.disabled===e}else{return t.disabled===e}}return t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e}return t.disabled===e}else if("label"in t){return t.disabled===e}return false}}function ye(e){return fe(function(t){t=+t;return fe(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--){if(n[i=o[a]]){n[i]=!(r[i]=n[i])}}})})}function me(e){return e&&typeof e.getElementsByTagName!=="undefined"&&e}n=se.support={};o=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!G.test(t||n&&n.nodeName||"HTML")};d=se.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:w;if(a==p||a.nodeType!==9||!a.documentElement){return p}p=a;h=p.documentElement;g=!o(p);if(w!=p&&(i=p.defaultView)&&i.top!==i){if(i.addEventListener){i.addEventListener("unload",oe,false)}else if(i.attachEvent){i.attachEvent("onunload",oe)}}n.scope=le(function(e){h.appendChild(e).appendChild(p.createElement("div"));return typeof e.querySelectorAll!=="undefined"&&!e.querySelectorAll(":scope fieldset div").length});n.attributes=le(function(e){e.className="i";return!e.getAttribute("className")});n.getElementsByTagName=le(function(e){e.appendChild(p.createComment(""));return!e.getElementsByTagName("*").length});n.getElementsByClassName=K.test(p.getElementsByClassName);n.getById=le(function(e){h.appendChild(e).id=b;return!p.getElementsByName||!p.getElementsByName(b).length});if(n.getById){r.filter["ID"]=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}};r.find["ID"]=function(e,t){if(typeof t.getElementById!=="undefined"&&g){var n=t.getElementById(e);return n?[n]:[]}}}else{r.filter["ID"]=function(e){var t=e.replace(te,ne);return function(e){var n=typeof e.getAttributeNode!=="undefined"&&e.getAttributeNode("id");return n&&n.value===t}};r.find["ID"]=function(e,t){if(typeof t.getElementById!=="undefined"&&g){var n,r,i,o=t.getElementById(e);if(o){n=o.getAttributeNode("id");if(n&&n.value===e){return[o]}i=t.getElementsByName(e);r=0;while(o=i[r++]){n=o.getAttributeNode("id");if(n&&n.value===e){return[o]}}}return[]}}}r.find["TAG"]=n.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!=="undefined"){return t.getElementsByTagName(e)}else if(n.qsa){return t.querySelectorAll(e)}}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if(e==="*"){while(n=o[i++]){if(n.nodeType===1){r.push(n)}}return r}return o};r.find["CLASS"]=n.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!=="undefined"&&g){return t.getElementsByClassName(e)}};m=[];y=[];if(n.qsa=K.test(p.querySelectorAll)){le(function(e){var t;h.appendChild(e).innerHTML="<a id='"+b+"'></a>"+"<select id='"+b+"-\r\\' msallowcapture=''>"+"<option selected=''></option></select>";if(e.querySelectorAll("[msallowcapture^='']").length){y.push("[*^$]="+M+"*(?:''|\"\")")}if(!e.querySelectorAll("[selected]").length){y.push("\\["+M+"*(?:value|"+R+")")}if(!e.querySelectorAll("[id~="+b+"-]").length){y.push("~=")}t=p.createElement("input");t.setAttribute("name","");e.appendChild(t);if(!e.querySelectorAll("[name='']").length){y.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")")}if(!e.querySelectorAll(":checked").length){y.push(":checked")}if(!e.querySelectorAll("a#"+b+"+*").length){y.push(".#.+[+~]")}e.querySelectorAll("\\\f");y.push("[\\r\\n\\f]")});le(function(e){e.innerHTML="<a href='' disabled='disabled'></a>"+"<select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden");e.appendChild(t).setAttribute("name","D");if(e.querySelectorAll("[name=d]").length){y.push("name"+M+"*[*^$|!~]?=")}if(e.querySelectorAll(":enabled").length!==2){y.push(":enabled",":disabled")}h.appendChild(e).disabled=true;if(e.querySelectorAll(":disabled").length!==2){y.push(":enabled",":disabled")}e.querySelectorAll("*,:x");y.push(",.*:")})}if(n.matchesSelector=K.test(v=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector)){le(function(e){n.disconnectedMatch=v.call(e,"*");v.call(e,"[s!='']:x");m.push("!=",F)})}y=y.length&&new RegExp(y.join("|"));m=m.length&&new RegExp(m.join("|"));t=K.test(h.compareDocumentPosition);x=t||K.test(h.contains)?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&r.nodeType===1&&(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16))}:function(e,t){if(t){while(t=t.parentNode){if(t===e){return true}}}return false};A=t?function(e,t){if(e===t){c=true;return 0}var r=!e.compareDocumentPosition-!t.compareDocumentPosition;if(r){return r}r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1;if(r&1||!n.sortDetached&&t.compareDocumentPosition(e)===r){if(e==p||e.ownerDocument==w&&x(w,e)){return-1}if(t==p||t.ownerDocument==w&&x(w,t)){return 1}return l?P(l,e)-P(l,t):0}return r&4?-1:1}:function(e,t){if(e===t){c=true;return 0}var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o){return e==p?-1:t==p?1:i?-1:o?1:l?P(l,e)-P(l,t):0}else if(i===o){return de(e,t)}n=e;while(n=n.parentNode){a.unshift(n)}n=t;while(n=n.parentNode){s.unshift(n)}while(a[r]===s[r]){r++}return r?de(a[r],s[r]):a[r]==w?-1:s[r]==w?1:0};return p};se.matches=function(e,t){return se(e,null,null,t)};se.matchesSelector=function(e,t){d(e);if(n.matchesSelector&&g&&!j[t+" "]&&(!m||!m.test(t))&&(!y||!y.test(t))){try{var r=v.call(e,t);if(r||n.disconnectedMatch||e.document&&e.document.nodeType!==11){return r}}catch(e){j(t,true)}}return se(t,p,null,[e]).length>0};se.contains=function(e,t){if((e.ownerDocument||e)!=p){d(e)}return x(e,t)};se.attr=function(e,t){if((e.ownerDocument||e)!=p){d(e)}var i=r.attrHandle[t.toLowerCase()],o=i&&N.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):undefined;return o!==undefined?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null};se.escape=function(e){return(e+"").replace(re,ie)};se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};se.uniqueSort=function(e){var t,r=[],i=0,o=0;c=!n.detectDuplicates;l=!n.sortStable&&e.slice(0);e.sort(A);if(c){while(t=e[o++]){if(t===e[o]){i=r.push(o)}}while(i--){e.splice(r[i],1)}}l=null;return e};i=se.getText=function(e){var t,n="",r=0,o=e.nodeType;if(!o){while(t=e[r++]){n+=i(t)}}else if(o===1||o===9||o===11){if(typeof e.textContent==="string"){return e.textContent}else{for(e=e.firstChild;e;e=e.nextSibling){n+=i(e)}}}else if(o===3||o===4){return e.nodeValue}return n};r=se.selectors={cacheLength:50,createPseudo:fe,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(te,ne);e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne);if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if(e[1].slice(0,3)==="nth"){if(!e[3]){se.error(e[0])}e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd"));e[5]=+(e[7]+e[8]||e[3]==="odd")}else if(e[3]){se.error(e[0])}return e},PSEUDO:function(e){var t,n=!e[6]&&e[2];if(V["CHILD"].test(e[0])){return null}if(e[3]){e[2]=e[4]||e[5]||""}else if(n&&X.test(n)&&(t=a(n,true))&&(t=n.indexOf(")",n.length-t)-n.length)){e[0]=e[0].slice(0,t);e[2]=n.slice(0,t)}return e.slice(0,3)}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return e==="*"?function(){return true}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=k[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&k(e,function(e){return t.test(typeof e.className==="string"&&e.className||typeof e.getAttribute!=="undefined"&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=se.attr(r,e);if(i==null){return t==="!="}if(!t){return true}i+="";return t==="="?i===n:t==="!="?i!==n:t==="^="?n&&i.indexOf(n)===0:t==="*="?n&&i.indexOf(n)>-1:t==="$="?n&&i.slice(-n.length)===n:t==="~="?(" "+i.replace(B," ")+" ").indexOf(n)>-1:t==="|="?i===n||i.slice(0,n.length+1)===n+"-":false}},CHILD:function(e,t,n,r,i){var o=e.slice(0,3)!=="nth",a=e.slice(-4)!=="last",s=t==="of-type";return r===1&&i===0?function(e){return!!e.parentNode}:function(t,n,u){var f,l,c,d,p,h,g=o!==a?"nextSibling":"previousSibling",y=t.parentNode,m=s&&t.nodeName.toLowerCase(),v=!u&&!s,x=false;if(y){if(o){while(g){d=t;while(d=d[g]){if(s?d.nodeName.toLowerCase()===m:d.nodeType===1){return false}}h=g=e==="only"&&!h&&"nextSibling"}return true}h=[a?y.firstChild:y.lastChild];if(a&&v){d=y;c=d[b]||(d[b]={});l=c[d.uniqueID]||(c[d.uniqueID]={});f=l[e]||[];p=f[0]===T&&f[1];x=p&&f[2];d=p&&y.childNodes[p];while(d=++p&&d&&d[g]||(x=p=0)||h.pop()){if(d.nodeType===1&&++x&&d===t){l[e]=[T,p,x];break}}}else{if(v){d=t;c=d[b]||(d[b]={});l=c[d.uniqueID]||(c[d.uniqueID]={});f=l[e]||[];p=f[0]===T&&f[1];x=p}if(x===false){while(d=++p&&d&&d[g]||(x=p=0)||h.pop()){if((s?d.nodeName.toLowerCase()===m:d.nodeType===1)&&++x){if(v){c=d[b]||(d[b]={});l=c[d.uniqueID]||(c[d.uniqueID]={});l[e]=[T,x]}if(d===t){break}}}}}x-=i;return x===r||x%r===0&&x/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);if(i[b]){return i(t)}if(i.length>1){n=[e,e,"",t];return r.setFilters.hasOwnProperty(e.toLowerCase())?fe(function(e,n){var r,o=i(e,t),a=o.length;while(a--){r=P(e,o[a]);e[r]=!(n[r]=o[a])}}):function(e){return i(e,0,n)}}return i}},pseudos:{not:fe(function(e){var t=[],n=[],r=s(e.replace(_,"$1"));return r[b]?fe(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--){if(o=a[s]){e[s]=!(t[s]=o)}}}):function(e,i,o){t[0]=e;r(t,null,o,n);t[0]=null;return!n.pop()}}),has:fe(function(e){return function(t){return se(e,t).length>0}}),contains:fe(function(e){e=e.replace(te,ne);return function(t){return(t.textContent||i(t)).indexOf(e)>-1}}),lang:fe(function(e){if(!Q.test(e||"")){se.error("unsupported lang: "+e)}e=e.replace(te,ne).toLowerCase();return function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang")){n=n.toLowerCase();return n===e||n.indexOf(e+"-")===0}}while((t=t.parentNode)&&t.nodeType===1);return false}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(false),disabled:ge(true),checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeType<6){return false}}return true},parent:function(e){return!r.pseudos["empty"](e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()==="text")},first:ye(function(){return[0]}),last:ye(function(e,t){return[t-1]}),eq:ye(function(e,t,n){return[n<0?n+t:n]}),even:ye(function(e,t){var n=0;for(;n<t;n+=2){e.push(n)}return e}),odd:ye(function(e,t){var n=1;for(;n<t;n+=2){e.push(n)}return e}),lt:ye(function(e,t,n){var r=n<0?n+t:n>t?t:n;for(;--r>=0;){e.push(r)}return e}),gt:ye(function(e,t,n){var r=n<0?n+t:n;for(;++r<t;){e.push(r)}return e})}};r.pseudos["nth"]=r.pseudos["eq"];for(t in{radio:true,checkbox:true,file:true,password:true,image:true}){r.pseudos[t]=pe(t)}for(t in{submit:true,reset:true}){r.pseudos[t]=he(t)}function ve(){}ve.prototype=r.filters=r.pseudos;r.setFilters=new ve;a=se.tokenize=function(e,t){var n,i,o,a,s,u,f,l=E[e+" "];if(l){return t?0:l.slice(0)}s=e;u=[];f=r.preFilter;while(s){if(!n||(i=$.exec(s))){if(i){s=s.slice(i[0].length)||s}u.push(o=[])}n=false;if(i=z.exec(s)){n=i.shift();o.push({value:n,type:i[0].replace(_," ")});s=s.slice(n.length)}for(a in r.filter){if((i=V[a].exec(s))&&(!f[a]||(i=f[a](i)))){n=i.shift();o.push({value:n,type:a,matches:i});s=s.slice(n.length)}}if(!n){break}}return t?s.length:s?se.error(e):E(e,u).slice(0)};function xe(e){var t=0,n=e.length,r="";for(;t<n;t++){r+=e[t].value}return r}function be(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&o==="parentNode",s=C++;return t.first?function(t,n,i){while(t=t[r]){if(t.nodeType===1||a){return e(t,n,i)}}return false}:function(t,n,u){var f,l,c,d=[T,s];if(u){while(t=t[r]){if(t.nodeType===1||a){if(e(t,n,u)){return true}}}}else{while(t=t[r]){if(t.nodeType===1||a){c=t[b]||(t[b]={});l=c[t.uniqueID]||(c[t.uniqueID]={});if(i&&i===t.nodeName.toLowerCase()){t=t[r]||t}else if((f=l[o])&&f[0]===T&&f[1]===s){return d[2]=f[2]}else{l[o]=d;if(d[2]=e(t,n,u)){return true}}}}}return false}}function we(e){return e.length>1?function(t,n,r){var i=e.length;while(i--){if(!e[i](t,n,r)){return false}}return true}:e[0]}function Te(e,t,n){var r=0,i=t.length;for(;r<i;r++){se(e,t[r],n)}return n}function Ce(e,t,n,r,i){var o,a=[],s=0,u=e.length,f=t!=null;for(;s<u;s++){if(o=e[s]){if(!n||n(o,r,i)){a.push(o);if(f){t.push(s)}}}}return a}function ke(e,t,n,r,i,o){if(r&&!r[b]){r=ke(r)}if(i&&!i[b]){i=ke(i,o)}return fe(function(o,a,s,u){var f,l,c,d=[],p=[],h=a.length,g=o||Te(t||"*",s.nodeType?[s]:s,[]),y=e&&(o||!t)?Ce(g,d,e,s,u):g,m=n?i||(o?e:h||r)?[]:a:y;if(n){n(y,m,s,u)}if(r){f=Ce(m,p);r(f,[],s,u);l=f.length;while(l--){if(c=f[l]){m[p[l]]=!(y[p[l]]=c)}}}if(o){if(i||e){if(i){f=[];l=m.length;while(l--){if(c=m[l]){f.push(y[l]=c)}}i(null,m=[],f,u)}l=m.length;while(l--){if((c=m[l])&&(f=i?P(o,c):d[l])>-1){o[f]=!(a[f]=c)}}}}else{m=Ce(m===a?m.splice(h,m.length):m);if(i){i(null,a,m,u)}else{H.apply(a,m)}}})}function Ee(e){var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],u=a?1:0,l=be(function(e){return e===t},s,true),c=be(function(e){return P(t,e)>-1},s,true),d=[function(e,n,r){var i=!a&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r));t=null;return i}];for(;u<o;u++){if(n=r.relative[e[u].type]){d=[be(we(d),n)]}else{n=r.filter[e[u].type].apply(null,e[u].matches);if(n[b]){i=++u;for(;i<o;i++){if(r.relative[e[i].type]){break}}return ke(u>1&&we(d),u>1&&xe(e.slice(0,u-1).concat({value:e[u-2].type===" "?"*":""})).replace(_,"$1"),n,u<i&&Ee(e.slice(u,i)),i<o&&Ee(e=e.slice(i)),i<o&&xe(e))}d.push(n)}}return we(d)}function Se(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,u,l){var c,h,y,m=0,v="0",x=o&&[],b=[],w=f,C=o||i&&r.find["TAG"]("*",l),k=T+=w==null?1:Math.random()||.1,E=C.length;if(l){f=a==p||a||l}for(;v!==E&&(c=C[v])!=null;v++){if(i&&c){h=0;if(!a&&c.ownerDocument!=p){d(c);s=!g}while(y=e[h++]){if(y(c,a||p,s)){u.push(c);break}}if(l){T=k}}if(n){if(c=!y&&c){m--}if(o){x.push(c)}}}m+=v;if(n&&v!==m){h=0;while(y=t[h++]){y(x,b,a,s)}if(o){if(m>0){while(v--){if(!(x[v]||b[v])){b[v]=q.call(u)}}}b=Ce(b)}H.apply(u,b);if(l&&!o&&b.length>0&&m+t.length>1){se.uniqueSort(u)}}if(l){T=k;f=w}return x};return n?fe(o):o}s=se.compile=function(e,t){var n,r=[],i=[],o=S[e+" "];if(!o){if(!t){t=a(e)}n=t.length;while(n--){o=Ee(t[n]);if(o[b]){r.push(o)}else{i.push(o)}}o=S(e,Se(i,r));o.selector=e}return o};u=se.select=function(e,t,n,i){var o,u,f,l,c,d=typeof e==="function"&&e,p=!i&&a(e=d.selector||e);n=n||[];if(p.length===1){u=p[0]=p[0].slice(0);if(u.length>2&&(f=u[0]).type==="ID"&&t.nodeType===9&&g&&r.relative[u[1].type]){t=(r.find["ID"](f.matches[0].replace(te,ne),t)||[])[0];if(!t){return n}else if(d){t=t.parentNode}e=e.slice(u.shift().value.length)}o=V["needsContext"].test(e)?0:u.length;while(o--){f=u[o];if(r.relative[l=f.type]){break}if(c=r.find[l]){if(i=c(f.matches[0].replace(te,ne),ee.test(u[0].type)&&me(t.parentNode)||t)){u.splice(o,1);e=i.length&&xe(u);if(!e){H.apply(n,i);return n}break}}}}(d||s(e,p))(i,t,!g,n,!t||ee.test(e)&&me(t.parentNode)||t);return n};n.sortStable=b.split("").sort(A).join("")===b;n.detectDuplicates=!!c;d();n.sortDetached=le(function(e){return e.compareDocumentPosition(p.createElement("fieldset"))&1});if(!le(function(e){e.innerHTML="<a href='#'></a>";return e.firstChild.getAttribute("href")==="#"})){ce("type|href|height|width",function(e,t,n){if(!n){return e.getAttribute(t,t.toLowerCase()==="type"?1:2)}})}if(!n.attributes||!le(function(e){e.innerHTML="<input/>";e.firstChild.setAttribute("value","");return e.firstChild.getAttribute("value")===""})){ce("value",function(e,t,n){if(!n&&e.nodeName.toLowerCase()==="input"){return e.defaultValue}})}if(!le(function(e){return e.getAttribute("disabled")==null})){ce(R,function(e,t,n){var r;if(!n){return e[t]===true?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}})}return se}(e);jQuery.find=T;jQuery.expr=T.selectors;jQuery.expr[":"]=jQuery.expr.pseudos;jQuery.uniqueSort=jQuery.unique=T.uniqueSort;jQuery.text=T.getText;jQuery.isXMLDoc=T.isXML;jQuery.contains=T.contains;jQuery.escapeSelector=T.escape;var C=function(e,t,n){var r=[],i=n!==undefined;while((e=e[t])&&e.nodeType!==9){if(e.nodeType===1){if(i&&jQuery(e).is(n)){break}r.push(e)}}return r};var k=function(e,t){var n=[];for(;e;e=e.nextSibling){if(e.nodeType===1&&e!==t){n.push(e)}}return n};var E=jQuery.expr.match.needsContext;function S(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var j=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function A(e,t,n){if(h(t)){return jQuery.grep(e,function(e,r){return!!t.call(e,r,e)!==n})}if(t.nodeType){return jQuery.grep(e,function(e){return e===t!==n})}if(typeof t!=="string"){return jQuery.grep(e,function(e){return s.call(t,e)>-1!==n})}return jQuery.filter(t,e,n)}jQuery.filter=function(e,t,n){var r=t[0];if(n){e=":not("+e+")"}if(t.length===1&&r.nodeType===1){return jQuery.find.matchesSelector(r,e)?[r]:[]}return jQuery.find.matches(e,jQuery.grep(t,function(e){return e.nodeType===1}))};jQuery.fn.extend({find:function(e){var t,n,r=this.length,i=this;if(typeof e!=="string"){return this.pushStack(jQuery(e).filter(function(){for(t=0;t<r;t++){if(jQuery.contains(i[t],this)){return true}}}))}n=this.pushStack([]);for(t=0;t<r;t++){jQuery.find(e,i[t],n)}return r>1?jQuery.uniqueSort(n):n},filter:function(e){return this.pushStack(A(this,e||[],false))},not:function(e){return this.pushStack(A(this,e||[],true))},is:function(e){return!!A(this,typeof e==="string"&&E.test(e)?jQuery(e):e||[],false).length}});var N,D=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,q=jQuery.fn.init=function(e,t,n){var r,i;if(!e){return this}n=n||N;if(typeof e==="string"){if(e[0]==="<"&&e[e.length-1]===">"&&e.length>=3){r=[null,e,null]}else{r=D.exec(e)}if(r&&(r[1]||!t)){if(r[1]){t=t instanceof jQuery?t[0]:t;jQuery.merge(this,jQuery.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:y,true));if(j.test(r[1])&&jQuery.isPlainObject(t)){for(r in t){if(h(this[r])){this[r](t[r])}else{this.attr(r,t[r])}}}return this}else{i=y.getElementById(r[2]);if(i){this[0]=i;this.length=1}return this}}else if(!t||t.jquery){return(t||n).find(e)}else{return this.constructor(t).find(e)}}else if(e.nodeType){this[0]=e;this.length=1;return this}else if(h(e)){return n.ready!==undefined?n.ready(e):e(jQuery)}return jQuery.makeArray(e,this)};q.prototype=jQuery.fn;N=jQuery(y);var L=/^(?:parents|prev(?:Until|All))/,H={children:true,contents:true,next:true,prev:true};jQuery.fn.extend({has:function(e){var t=jQuery(e,this),n=t.length;return this.filter(function(){var e=0;for(;e<n;e++){if(jQuery.contains(this,t[e])){return true}}})},closest:function(e,t){var n,r=0,i=this.length,o=[],a=typeof e!=="string"&&jQuery(e);if(!E.test(e)){for(;r<i;r++){for(n=this[r];n&&n!==t;n=n.parentNode){if(n.nodeType<11&&(a?a.index(n)>-1:n.nodeType===1&&jQuery.find.matchesSelector(n,e))){o.push(n);break}}}}return this.pushStack(o.length>1?jQuery.uniqueSort(o):o)},index:function(e){if(!e){return this[0]&&this[0].parentNode?this.first().prevAll().length:-1}if(typeof e==="string"){return s.call(jQuery(e),this[0])}return s.call(this,e.jquery?e[0]:e)},add:function(e,t){return this.pushStack(jQuery.uniqueSort(jQuery.merge(this.get(),jQuery(e,t))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});function O(e,t){while((e=e[t])&&e.nodeType!==1){}return e}jQuery.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return C(e,"parentNode")},parentsUntil:function(e,t,n){return C(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return C(e,"nextSibling")},prevAll:function(e){return C(e,"previousSibling")},nextUntil:function(e,t,n){return C(e,"nextSibling",n)},prevUntil:function(e,t,n){return C(e,"previousSibling",n)},siblings:function(e){return k((e.parentNode||{}).firstChild,e)},children:function(e){return k(e.firstChild)},contents:function(e){if(e.contentDocument!=null&&r(e.contentDocument)){return e.contentDocument}if(S(e,"template")){e=e.content||e}return jQuery.merge([],e.childNodes)}},function(e,t){jQuery.fn[e]=function(n,r){var i=jQuery.map(this,t,n);if(e.slice(-5)!=="Until"){r=n}if(r&&typeof r==="string"){i=jQuery.filter(r,i)}if(this.length>1){if(!H[e]){jQuery.uniqueSort(i)}if(L.test(e)){i.reverse()}}return this.pushStack(i)}});var P=/[^\x20\t\r\n\f]+/g;function R(e){var t={};jQuery.each(e.match(P)||[],function(e,n){t[n]=true});return t}jQuery.Callbacks=function(e){e=typeof e==="string"?R(e):jQuery.extend({},e);var t,n,r,i,o=[],a=[],s=-1,u=function(){i=i||e.once;r=t=true;for(;a.length;s=-1){n=a.shift();while(++s<o.length){if(o[s].apply(n[0],n[1])===false&&e.stopOnFalse){s=o.length;n=false}}}if(!e.memory){n=false}t=false;if(i){if(n){o=[]}else{o=""}}},f={add:function(){if(o){if(n&&!t){s=o.length-1;a.push(n)}(function t(n){jQuery.each(n,function(n,r){if(h(r)){if(!e.unique||!f.has(r)){o.push(r)}}else if(r&&r.length&&x(r)!=="string"){t(r)}})})(arguments);if(n&&!t){u()}}return this},remove:function(){jQuery.each(arguments,function(e,t){var n;while((n=jQuery.inArray(t,o,n))>-1){o.splice(n,1);if(n<=s){s--}}});return this},has:function(e){return e?jQuery.inArray(e,o)>-1:o.length>0},empty:function(){if(o){o=[]}return this},disable:function(){i=a=[];o=n="";return this},disabled:function(){return!o},lock:function(){i=a=[];if(!n&&!t){o=n=""}return this},locked:function(){return!!i},fireWith:function(e,n){if(!i){n=n||[];n=[e,n.slice?n.slice():n];a.push(n);if(!t){u()}}return this},fire:function(){f.fireWith(this,arguments);return this},fired:function(){return!!r}};return f};function M(e){return e}function I(e){throw e}function W(e,t,n,r){var i;try{if(e&&h(i=e.promise)){i.call(e).done(t).fail(n)}else if(e&&h(i=e.then)){i.call(e,t,n)}else{t.apply(undefined,[e].slice(r))}}catch(e){n.apply(undefined,[e])}}jQuery.extend({Deferred:function(t){var n=[["notify","progress",jQuery.Callbacks("memory"),jQuery.Callbacks("memory"),2],["resolve","done",jQuery.Callbacks("once memory"),jQuery.Callbacks("once memory"),0,"resolved"],["reject","fail",jQuery.Callbacks("once memory"),jQuery.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){o.done(arguments).fail(arguments);return this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return jQuery.Deferred(function(t){jQuery.each(n,function(n,r){var i=h(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);if(e&&h(e.promise)){e.promise().progress(t.notify).done(t.resolve).fail(t.reject)}else{t[r[0]+"With"](this,i?[e]:arguments)}})});e=null}).promise()},then:function(t,r,i){var o=0;function a(t,n,r,i){return function(){var s=this,u=arguments,f=function(){var e,f;if(t<o){return}e=r.apply(s,u);if(e===n.promise()){throw new TypeError("Thenable self-resolution")}f=e&&(typeof e==="object"||typeof e==="function")&&e.then;if(h(f)){if(i){f.call(e,a(o,n,M,i),a(o,n,I,i))}else{o++;f.call(e,a(o,n,M,i),a(o,n,I,i),a(o,n,M,n.notifyWith))}}else{if(r!==M){s=undefined;u=[e]}(i||n.resolveWith)(s,u)}},l=i?f:function(){try{f()}catch(e){if(jQuery.Deferred.exceptionHook){jQuery.Deferred.exceptionHook(e,l.stackTrace)}if(t+1>=o){if(r!==I){s=undefined;u=[e]}n.rejectWith(s,u)}}};if(t){l()}else{if(jQuery.Deferred.getStackHook){l.stackTrace=jQuery.Deferred.getStackHook()}e.setTimeout(l)}}}return jQuery.Deferred(function(e){n[0][3].add(a(0,e,h(i)?i:M,e.notifyWith));n[1][3].add(a(0,e,h(t)?t:M));n[2][3].add(a(0,e,h(r)?r:I))}).promise()},promise:function(e){return e!=null?jQuery.extend(e,i):i}},o={};jQuery.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add;if(s){a.add(function(){r=s},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock)}a.add(t[3].fire);o[t[0]]=function(){o[t[0]+"With"](this===o?undefined:this,arguments);return this};o[t[0]+"With"]=a.fireWith});i.promise(o);if(t){t.call(o,o)}return o},when:function(e){var t=arguments.length,n=t,r=Array(n),o=i.call(arguments),a=jQuery.Deferred(),s=function(e){return function(n){r[e]=this;o[e]=arguments.length>1?i.call(arguments):n;if(! --t){a.resolveWith(r,o)}}};if(t<=1){W(e,a.done(s(n)).resolve,a.reject,!t);if(a.state()==="pending"||h(o[n]&&o[n].then)){return a.then()}}while(n--){W(o[n],s(n),a.reject)}return a.promise()}});var F=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;jQuery.Deferred.exceptionHook=function(t,n){if(e.console&&e.console.warn&&t&&F.test(t.name)){e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)}};jQuery.readyException=function(t){e.setTimeout(function(){throw t})};var B=jQuery.Deferred();jQuery.fn.ready=function(e){B.then(e).catch(function(e){jQuery.readyException(e)});return this};jQuery.extend({isReady:false,readyWait:1,ready:function(e){if(e===true?--jQuery.readyWait:jQuery.isReady){return}jQuery.isReady=true;if(e!==true&&--jQuery.readyWait>0){return}B.resolveWith(y,[jQuery])}});jQuery.ready.then=B.then;function _(){y.removeEventListener("DOMContentLoaded",_);e.removeEventListener("load",_);jQuery.ready()}if(y.readyState==="complete"||y.readyState!=="loading"&&!y.documentElement.doScroll){e.setTimeout(jQuery.ready)}else{y.addEventListener("DOMContentLoaded",_);e.addEventListener("load",_)}var $=function(e,t,n,r,i,o,a){var s=0,u=e.length,f=n==null;if(x(n)==="object"){i=true;for(s in n){$(e,t,s,n[s],true,o,a)}}else if(r!==undefined){i=true;if(!h(r)){a=true}if(f){if(a){t.call(e,r);t=null}else{f=t;t=function(e,t,n){return f.call(jQuery(e),n)}}}if(t){for(;s<u;s++){t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)))}}}if(i){return e}if(f){return t.call(e)}return u?t(e[0],n):o};var z=/^-ms-/,U=/-([a-z])/g;function X(e,t){return t.toUpperCase()}function Q(e){return e.replace(z,"ms-").replace(U,X)}var V=function(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType};function G(){this.expando=jQuery.expando+G.uid++}G.uid=1;G.prototype={cache:function(e){var t=e[this.expando];if(!t){t={};if(V(e)){if(e.nodeType){e[this.expando]=t}else{Object.defineProperty(e,this.expando,{value:t,configurable:true})}}}return t},set:function(e,t,n){var r,i=this.cache(e);if(typeof t==="string"){i[Q(t)]=n}else{for(r in t){i[Q(r)]=t[r]}}return i},get:function(e,t){return t===undefined?this.cache(e):e[this.expando]&&e[this.expando][Q(t)]},access:function(e,t,n){if(t===undefined||t&&typeof t==="string"&&n===undefined){return this.get(e,t)}this.set(e,t,n);return n!==undefined?n:t},remove:function(e,t){var n,r=e[this.expando];if(r===undefined){return}if(t!==undefined){if(Array.isArray(t)){t=t.map(Q)}else{t=Q(t);t=t in r?[t]:t.match(P)||[]}n=t.length;while(n--){delete r[t[n]]}}if(t===undefined||jQuery.isEmptyObject(r)){if(e.nodeType){e[this.expando]=undefined}else{delete e[this.expando]}}},hasData:function(e){var t=e[this.expando];return t!==undefined&&!jQuery.isEmptyObject(t)}};var Y=new G;var J=new G;var K=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Z=/[A-Z]/g;function ee(e){if(e==="true"){return true}if(e==="false"){return false}if(e==="null"){return null}if(e===+e+""){return+e}if(K.test(e)){return JSON.parse(e)}return e}function te(e,t,n){var r;if(n===undefined&&e.nodeType===1){r="data-"+t.replace(Z,"-$&").toLowerCase();n=e.getAttribute(r);if(typeof n==="string"){try{n=ee(n)}catch(e){}J.set(e,t,n)}else{n=undefined}}return n}jQuery.extend({hasData:function(e){return J.hasData(e)||Y.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}});jQuery.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(e===undefined){if(this.length){i=J.get(o);if(o.nodeType===1&&!Y.get(o,"hasDataAttrs")){n=a.length;while(n--){if(a[n]){r=a[n].name;if(r.indexOf("data-")===0){r=Q(r.slice(5));te(o,r,i[r])}}}Y.set(o,"hasDataAttrs",true)}}return i}if(typeof e==="object"){return this.each(function(){J.set(this,e)})}return $(this,function(t){var n;if(o&&t===undefined){n=J.get(o,e);if(n!==undefined){return n}n=te(o,e);if(n!==undefined){return n}return}this.each(function(){J.set(this,e,t)})},null,t,arguments.length>1,null,true)},removeData:function(e){return this.each(function(){J.remove(this,e)})}});jQuery.extend({queue:function(e,t,n){var r;if(e){t=(t||"fx")+"queue";r=Y.get(e,t);if(n){if(!r||Array.isArray(n)){r=Y.access(e,t,jQuery.makeArray(n))}else{r.push(n)}}return r||[]}},dequeue:function(e,t){t=t||"fx";var n=jQuery.queue(e,t),r=n.length,i=n.shift(),o=jQuery._queueHooks(e,t),a=function(){jQuery.dequeue(e,t)};if(i==="inprogress"){i=n.shift();r--}if(i){if(t==="fx"){n.unshift("inprogress")}delete o.stop;i.call(e,a,o)}if(!r&&o){o.empty.fire()}},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:jQuery.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}});jQuery.fn.extend({queue:function(e,t){var n=2;if(typeof e!=="string"){t=e;e="fx";n--}if(arguments.length<n){return jQuery.queue(this[0],e)}return t===undefined?this:this.each(function(){var n=jQuery.queue(this,e,t);jQuery._queueHooks(this,e);if(e==="fx"&&n[0]!=="inprogress"){jQuery.dequeue(this,e)}})},dequeue:function(e){return this.each(function(){jQuery.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=jQuery.Deferred(),o=this,a=this.length,s=function(){if(! --r){i.resolveWith(o,[o])}};if(typeof e!=="string"){t=e;e=undefined}e=e||"fx";while(a--){n=Y.get(o[a],e+"queueHooks");if(n&&n.empty){r++;n.empty.add(s)}}s();return i.promise(t)}});var ne=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source;var re=new RegExp("^(?:([+-])=|)("+ne+")([a-z%]*)$","i");var ie=["Top","Right","Bottom","Left"];var oe=y.documentElement;var ae=function(e){return jQuery.contains(e.ownerDocument,e)},se={composed:true};if(oe.getRootNode){ae=function(e){return jQuery.contains(e.ownerDocument,e)||e.getRootNode(se)===e.ownerDocument}}var ue=function(e,t){e=t||e;return e.style.display==="none"||e.style.display===""&&ae(e)&&jQuery.css(e,"display")==="none"};function fe(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return jQuery.css(e,t,"")},u=s(),f=n&&n[3]||(jQuery.cssNumber[t]?"":"px"),l=e.nodeType&&(jQuery.cssNumber[t]||f!=="px"&&+u)&&re.exec(jQuery.css(e,t));if(l&&l[3]!==f){u=u/2;f=f||l[3];l=+u||1;while(a--){jQuery.style(e,t,l+f);if((1-o)*(1-(o=s()/u||.5))<=0){a=0}l=l/o}l=l*2;jQuery.style(e,t,l+f);n=n||[]}if(n){l=+l||+u||0;i=n[1]?l+(n[1]+1)*n[2]:+n[2];if(r){r.unit=f;r.start=l;r.end=i}}return i}var le={};function ce(e){var t,n=e.ownerDocument,r=e.nodeName,i=le[r];if(i){return i}t=n.body.appendChild(n.createElement(r));i=jQuery.css(t,"display");t.parentNode.removeChild(t);if(i==="none"){i="block"}le[r]=i;return i}function de(e,t){var n,r,i=[],o=0,a=e.length;for(;o<a;o++){r=e[o];if(!r.style){continue}n=r.style.display;if(t){if(n==="none"){i[o]=Y.get(r,"display")||null;if(!i[o]){r.style.display=""}}if(r.style.display===""&&ue(r)){i[o]=ce(r)}}else{if(n!=="none"){i[o]="none";Y.set(r,"display",n)}}}for(o=0;o<a;o++){if(i[o]!=null){e[o].style.display=i[o]}}return e}jQuery.fn.extend({show:function(){return de(this,true)},hide:function(){return de(this)},toggle:function(e){if(typeof e==="boolean"){return e?this.show():this.hide()}return this.each(function(){if(ue(this)){jQuery(this).show()}else{jQuery(this).hide()}})}});var pe=/^(?:checkbox|radio)$/i;var he=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i;var ge=/^$|^module$|\/(?:java|ecma)script/i;(function(){var e=y.createDocumentFragment(),t=e.appendChild(y.createElement("div")),n=y.createElement("input");n.setAttribute("type","radio");n.setAttribute("checked","checked");n.setAttribute("name","t");t.appendChild(n);p.checkClone=t.cloneNode(true).cloneNode(true).lastChild.checked;t.innerHTML="<textarea>x</textarea>";p.noCloneChecked=!!t.cloneNode(true).lastChild.defaultValue;t.innerHTML="<option></option>";p.option=!!t.lastChild})();var ye={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ye.tbody=ye.tfoot=ye.colgroup=ye.caption=ye.thead;ye.th=ye.td;if(!p.option){ye.optgroup=ye.option=[1,"<select multiple='multiple'>","</select>"]}function me(e,t){var n;if(typeof e.getElementsByTagName!=="undefined"){n=e.getElementsByTagName(t||"*")}else if(typeof e.querySelectorAll!=="undefined"){n=e.querySelectorAll(t||"*")}else{n=[]}if(t===undefined||t&&S(e,t)){return jQuery.merge([e],n)}return n}function ve(e,t){var n=0,r=e.length;for(;n<r;n++){Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}}var xe=/<|&#?\w+;/;function be(e,t,n,r,i){var o,a,s,u,f,l,c=t.createDocumentFragment(),d=[],p=0,h=e.length;for(;p<h;p++){o=e[p];if(o||o===0){if(x(o)==="object"){jQuery.merge(d,o.nodeType?[o]:o)}else if(!xe.test(o)){d.push(t.createTextNode(o))}else{a=a||c.appendChild(t.createElement("div"));s=(he.exec(o)||["",""])[1].toLowerCase();u=ye[s]||ye._default;a.innerHTML=u[1]+jQuery.htmlPrefilter(o)+u[2];l=u[0];while(l--){a=a.lastChild}jQuery.merge(d,a.childNodes);a=c.firstChild;a.textContent=""}}}c.textContent="";p=0;while(o=d[p++]){if(r&&jQuery.inArray(o,r)>-1){if(i){i.push(o)}continue}f=ae(o);a=me(c.appendChild(o),"script");if(f){ve(a)}if(n){l=0;while(o=a[l++]){if(ge.test(o.type||"")){n.push(o)}}}}return c}var we=/^([^.]*)(?:\.(.+)|)/;function Te(){return true}function Ce(){return false}function ke(e,t){return e===Ee()===(t==="focus")}function Ee(){try{return y.activeElement}catch(e){}}function Se(e,t,n,r,i,o){var a,s;if(typeof t==="object"){if(typeof n!=="string"){r=r||n;n=undefined}for(s in t){Se(e,s,n,r,t[s],o)}return e}if(r==null&&i==null){i=n;r=n=undefined}else if(i==null){if(typeof n==="string"){i=r;r=undefined}else{i=r;r=n;n=undefined}}if(i===false){i=Ce}else if(!i){return e}if(o===1){a=i;i=function(e){jQuery().off(e);return a.apply(this,arguments)};i.guid=a.guid||(a.guid=jQuery.guid++)}return e.each(function(){jQuery.event.add(this,t,i,r,n)})}jQuery.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,f,l,c,d,p,h,g,y=Y.get(e);if(!V(e)){return}if(n.handler){o=n;n=o.handler;i=o.selector}if(i){jQuery.find.matchesSelector(oe,i)}if(!n.guid){n.guid=jQuery.guid++}if(!(u=y.events)){u=y.events=Object.create(null)}if(!(a=y.handle)){a=y.handle=function(t){return typeof jQuery!=="undefined"&&jQuery.event.triggered!==t.type?jQuery.event.dispatch.apply(e,arguments):undefined}}t=(t||"").match(P)||[""];f=t.length;while(f--){s=we.exec(t[f])||[];p=g=s[1];h=(s[2]||"").split(".").sort();if(!p){continue}c=jQuery.event.special[p]||{};p=(i?c.delegateType:c.bindType)||p;c=jQuery.event.special[p]||{};l=jQuery.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&jQuery.expr.match.needsContext.test(i),namespace:h.join(".")},o);if(!(d=u[p])){d=u[p]=[];d.delegateCount=0;if(!c.setup||c.setup.call(e,r,h,a)===false){if(e.addEventListener){e.addEventListener(p,a)}}}if(c.add){c.add.call(e,l);if(!l.handler.guid){l.handler.guid=n.guid}}if(i){d.splice(d.delegateCount++,0,l)}else{d.push(l)}jQuery.event.global[p]=true}},remove:function(e,t,n,r,i){var o,a,s,u,f,l,c,d,p,h,g,y=Y.hasData(e)&&Y.get(e);if(!y||!(u=y.events)){return}t=(t||"").match(P)||[""];f=t.length;while(f--){s=we.exec(t[f])||[];p=g=s[1];h=(s[2]||"").split(".").sort();if(!p){for(p in u){jQuery.event.remove(e,p+t[f],n,r,true)}continue}c=jQuery.event.special[p]||{};p=(r?c.delegateType:c.bindType)||p;d=u[p]||[];s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)");a=o=d.length;while(o--){l=d[o];if((i||g===l.origType)&&(!n||n.guid===l.guid)&&(!s||s.test(l.namespace))&&(!r||r===l.selector||r==="**"&&l.selector)){d.splice(o,1);if(l.selector){d.delegateCount--}if(c.remove){c.remove.call(e,l)}}}if(a&&!d.length){if(!c.teardown||c.teardown.call(e,h,y.handle)===false){jQuery.removeEvent(e,p,y.handle)}delete u[p]}}if(jQuery.isEmptyObject(u)){Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=jQuery.event.fix(e),f=(Y.get(this,"events")||Object.create(null))[u.type]||[],l=jQuery.event.special[u.type]||{};s[0]=u;for(t=1;t<arguments.length;t++){s[t]=arguments[t]}u.delegateTarget=this;if(l.preDispatch&&l.preDispatch.call(this,u)===false){return}a=jQuery.event.handlers.call(this,u,f);t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem;n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped()){if(!u.rnamespace||o.namespace===false||u.rnamespace.test(o.namespace)){u.handleObj=o;u.data=o.data;r=((jQuery.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s);if(r!==undefined){if((u.result=r)===false){u.preventDefault();u.stopPropagation()}}}}}if(l.postDispatch){l.postDispatch.call(this,u)}return u.result},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,f=e.target;if(u&&f.nodeType&&!(e.type==="click"&&e.button>=1)){for(;f!==this;f=f.parentNode||this){if(f.nodeType===1&&!(e.type==="click"&&f.disabled===true)){o=[];a={};for(n=0;n<u;n++){r=t[n];i=r.selector+" ";if(a[i]===undefined){a[i]=r.needsContext?jQuery(i,this).index(f)>-1:jQuery.find(i,this,null,[f]).length}if(a[i]){o.push(r)}}if(o.length){s.push({elem:f,handlers:o})}}}}f=this;if(u<t.length){s.push({elem:f,handlers:t.slice(u)})}return s},addProp:function(e,t){Object.defineProperty(jQuery.Event.prototype,e,{enumerable:true,configurable:true,get:h(t)?function(){if(this.originalEvent){return t(this.originalEvent)}}:function(){if(this.originalEvent){return this.originalEvent[e]}},set:function(t){Object.defineProperty(this,e,{enumerable:true,configurable:true,writable:true,value:t})}})},fix:function(e){return e[jQuery.expando]?e:new jQuery.Event(e)},special:{load:{noBubble:true},click:{setup:function(e){var t=this||e;if(pe.test(t.type)&&t.click&&S(t,"input")){je(t,"click",Te)}return false},trigger:function(e){var t=this||e;if(pe.test(t.type)&&t.click&&S(t,"input")){je(t,"click")}return true},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&S(t,"input")&&Y.get(t,"click")||S(t,"a")}},beforeunload:{postDispatch:function(e){if(e.result!==undefined&&e.originalEvent){e.originalEvent.returnValue=e.result}}}}};function je(e,t,n){if(!n){if(Y.get(e,t)===undefined){jQuery.event.add(e,t,Te)}return}Y.set(e,t,false);jQuery.event.add(e,t,{namespace:false,handler:function(e){var r,o,a=Y.get(this,t);if(e.isTrigger&1&&this[t]){if(!a.length){a=i.call(arguments);Y.set(this,t,a);r=n(this,t);this[t]();o=Y.get(this,t);if(a!==o||r){Y.set(this,t,false)}else{o={}}if(a!==o){e.stopImmediatePropagation();e.preventDefault();return o&&o.value}}else if((jQuery.event.special[t]||{}).delegateType){e.stopPropagation()}}else if(a.length){Y.set(this,t,{value:jQuery.event.trigger(jQuery.extend(a[0],jQuery.Event.prototype),a.slice(1),this)});e.stopImmediatePropagation()}}})}jQuery.removeEvent=function(e,t,n){if(e.removeEventListener){e.removeEventListener(t,n)}};jQuery.Event=function(e,t){if(!(this instanceof jQuery.Event)){return new jQuery.Event(e,t)}if(e&&e.type){this.originalEvent=e;this.type=e.type;this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&e.returnValue===false?Te:Ce;this.target=e.target&&e.target.nodeType===3?e.target.parentNode:e.target;this.currentTarget=e.currentTarget;this.relatedTarget=e.relatedTarget}else{this.type=e}if(t){jQuery.extend(this,t)}this.timeStamp=e&&e.timeStamp||Date.now();this[jQuery.expando]=true};jQuery.Event.prototype={constructor:jQuery.Event,isDefaultPrevented:Ce,isPropagationStopped:Ce,isImmediatePropagationStopped:Ce,isSimulated:false,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Te;if(e&&!this.isSimulated){e.preventDefault()}},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Te;if(e&&!this.isSimulated){e.stopPropagation()}},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Te;if(e&&!this.isSimulated){e.stopImmediatePropagation()}this.stopPropagation()}};jQuery.each({altKey:true,bubbles:true,cancelable:true,changedTouches:true,ctrlKey:true,detail:true,eventPhase:true,metaKey:true,pageX:true,pageY:true,shiftKey:true,view:true,char:true,code:true,charCode:true,key:true,keyCode:true,button:true,buttons:true,clientX:true,clientY:true,offsetX:true,offsetY:true,pointerId:true,pointerType:true,screenX:true,screenY:true,targetTouches:true,toElement:true,touches:true,which:true},jQuery.event.addProp);jQuery.each({focus:"focusin",blur:"focusout"},function(e,t){jQuery.event.special[e]={setup:function(){je(this,e,ke);return false},trigger:function(){je(this,e);return true},_default:function(){return true},delegateType:t}});jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){jQuery.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;if(!i||i!==r&&!jQuery.contains(r,i)){e.type=o.origType;n=o.handler.apply(this,arguments);e.type=t}return n}}});jQuery.fn.extend({on:function(e,t,n,r){return Se(this,e,t,n,r)},one:function(e,t,n,r){return Se(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj){r=e.handleObj;jQuery(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler);return this}if(typeof e==="object"){for(i in e){this.off(i,t,e[i])}return this}if(t===false||typeof t==="function"){n=t;t=undefined}if(n===false){n=Ce}return this.each(function(){jQuery.event.remove(this,e,n,t)})}});var Ae=/<script|<style|<link/i,Ne=/checked\s*(?:[^=]|=\s*.checked.)/i,De=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function qe(t,n){if(S(t,"table")&&S(n.nodeType!==11?n:n.firstChild,"tr")){var r=jQuery(t).children("tbody")[0];if(r){return r}else{if(e.sap&&e.sap.ui&&e.sap.ui._jQuery3Compat&&e.sap.ui._jQuery3Compat._migrateWarn){e.sap.ui._jQuery3Compat._migrateWarn("Trying to add a <tr> element to a <table> without a <tbody>. "+"At this point, jQuery version 2 would have inserted a <tbody> element for you. "+"Since jQuery version 3, jQuery does not automatically create a <tbody> element anymore. "+"Please add the <tbody> on your own, if your code or CSS expects it.")}return t}}return t}function Le(e){e.type=(e.getAttribute("type")!==null)+"/"+e.type;return e}function He(e){if((e.type||"").slice(0,5)==="true/"){e.type=e.type.slice(5)}else{e.removeAttribute("type")}return e}function Oe(e,t){var n,r,i,o,a,s,u;if(t.nodeType!==1){return}if(Y.hasData(e)){o=Y.get(e);u=o.events;if(u){Y.remove(t,"handle events");for(i in u){for(n=0,r=u[i].length;n<r;n++){jQuery.event.add(t,i,u[i][n])}}}}if(J.hasData(e)){a=J.access(e);s=jQuery.extend({},a);J.set(t,s)}}function Pe(e,t){var n=t.nodeName.toLowerCase();if(n==="input"&&pe.test(e.type)){t.checked=e.checked}else if(n==="input"||n==="textarea"){t.defaultValue=e.defaultValue}}function Re(e,t,n,r){t=o(t);var i,a,s,u,f,l,c=0,d=e.length,g=d-1,y=t[0],m=h(y);if(m||d>1&&typeof y==="string"&&!p.checkClone&&Ne.test(y)){return e.each(function(i){var o=e.eq(i);if(m){t[0]=y.call(this,i,o.html())}Re(o,t,n,r)})}if(d){i=be(t,e[0].ownerDocument,false,e,r);a=i.firstChild;if(i.childNodes.length===1){i=a}if(a||r){s=jQuery.map(me(i,"script"),Le);u=s.length;for(;c<d;c++){f=i;if(c!==g){f=jQuery.clone(f,true,true);if(u){jQuery.merge(s,me(f,"script"))}}n.call(e[c],f,c)}if(u){l=s[s.length-1].ownerDocument;jQuery.map(s,He);for(c=0;c<u;c++){f=s[c];if(ge.test(f.type||"")&&!Y.access(f,"globalEval")&&jQuery.contains(l,f)){if(f.src&&(f.type||"").toLowerCase()!=="module"){if(jQuery._evalUrl&&!f.noModule){jQuery._evalUrl(f.src,{nonce:f.nonce||f.getAttribute("nonce")},l)}}else{v(f.textContent.replace(De,""),f,l)}}}}}}return e}function Me(e,t,n){var r,i=t?jQuery.filter(t,e):e,o=0;for(;(r=i[o])!=null;o++){if(!n&&r.nodeType===1){jQuery.cleanData(me(r))}if(r.parentNode){if(n&&ae(r)){ve(me(r,"script"))}r.parentNode.removeChild(r)}}return e}jQuery.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(true),u=ae(e);if(!p.noCloneChecked&&(e.nodeType===1||e.nodeType===11)&&!jQuery.isXMLDoc(e)){a=me(s);o=me(e);for(r=0,i=o.length;r<i;r++){Pe(o[r],a[r])}}if(t){if(n){o=o||me(e);a=a||me(s);for(r=0,i=o.length;r<i;r++){Oe(o[r],a[r])}}else{Oe(e,s)}}a=me(s,"script");if(a.length>0){ve(a,!u&&me(e,"script"))}return s},cleanData:function(e){var t,n,r,i=jQuery.event.special,o=0;for(;(n=e[o])!==undefined;o++){if(V(n)){if(t=n[Y.expando]){if(t.events){for(r in t.events){if(i[r]){jQuery.event.remove(n,r)}else{jQuery.removeEvent(n,r,t.handle)}}}n[Y.expando]=undefined}if(n[J.expando]){n[J.expando]=undefined}}}}});if(/(?:\?|&)sap-ui-xx-self-closing-check=(?:x|X|true)/.exec(e.location.search)){var Ie=new RegExp("^(?:a|abbr|address|article|aside|audio|b|bdi|bdo|blockquote|body|button|canvas|caption|cite|code|colgroup|data|datalist|dd|del|details|dfn|dialog|div|dl|dt|em|fieldset"+"|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|head|header|hgroup|html|i|iframe|ins|kbd|label|legend|li|main|map|mark|menu|meter|nav|noscript|object|ol|optgroup|option"+"|output|p|picture|pre|progress|q|rp|rt|ruby|s|samp|script|section|select|slot|small|span|strong|style|sub|summary|sup|table|tbody|td|template|textarea|tfoot|th|thead|time"+"|title|tr|u|ul|var|video)$","i");var We=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi;jQuery.htmlPrefilter=function(e){e.replace(We,function(t,n,r){if(Ie.test(r)&&t.length<e.length){var i="<"+n+"></"+r+">";var o="https://launchpad.support.sap.com/#/notes/2944336";var a="https://github.com/UI5/openui5/blob/master/docs/self_closing_tags_fix_instructions.md";var s="jQuery incompatibility: non-void HTML tags must not use self-closing syntax.\n"+"HTML element used as self-closing tag: <"+n+"/>\n"+"HTML element should be closed correctly, such as: "+i+"\n"+"Please check the following note for more information:\n";var u=s+o+" or\n"+a;console.error(u);try{sap.ui.require(["sap/m/MessageBox","sap/m/FormattedText","sap/base/security/encodeXML"],function(e,t,n){var r=new t({htmlText:n(s).replace(/&#xa;/g,"<br>")+'<a href="'+o+'" target="_blank" rel="noopener noreferrer">'+o+"</a> or<br>"+'<a href="'+a+'" target="_blank" rel="noopener noreferrer">'+a+"</a>"});e.alert(r,{title:"Incompatibility detected"})},function(){console.error("Showing error with UI5 controls failed. Falling back to alert().");setTimeout(function(){alert(u)})})}catch(e){console.error("Exception in error handling: "+e+". Falling back to alert().");setTimeout(function(){alert(u)})}}});return e}}jQuery.fn.extend({detach:function(e){return Me(this,e,true)},remove:function(e){return Me(this,e)},text:function(e){return $(this,function(e){return e===undefined?jQuery.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.textContent=e}})},null,e,arguments.length)},append:function(){return Re(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=qe(this,e);t.appendChild(e)}})},prepend:function(){return Re(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=qe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Re(this,arguments,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this)}})},after:function(){return Re(this,arguments,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this.nextSibling)}})},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){if(e.nodeType===1){jQuery.cleanData(me(e,false));e.textContent=""}}return this},clone:function(e,t){e=e==null?false:e;t=t==null?e:t;return this.map(function(){return jQuery.clone(this,e,t)})},html:function(e){return $(this,function(e){var t=this[0]||{},n=0,r=this.length;if(e===undefined&&t.nodeType===1){return t.innerHTML}if(typeof e==="string"&&!Ae.test(e)&&!ye[(he.exec(e)||["",""])[1].toLowerCase()]){e=jQuery.htmlPrefilter(e);try{for(;n<r;n++){t=this[n]||{};if(t.nodeType===1){jQuery.cleanData(me(t,false));t.innerHTML=e}}t=0}catch(e){}}if(t){this.empty().append(e)}},null,e,arguments.length)},replaceWith:function(){var e=[];return Re(this,arguments,function(t){var n=this.parentNode;if(jQuery.inArray(this,e)<0){jQuery.cleanData(me(this));if(n){n.replaceChild(t,this)}}},e)}});jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){jQuery.fn[e]=function(e){var n,r=[],i=jQuery(e),o=i.length-1,s=0;for(;s<=o;s++){n=s===o?this:this.clone(true);jQuery(i[s])[t](n);a.apply(r,n.get())}return this.pushStack(r)}});var Fe=new RegExp("^("+ne+")(?!px)[a-z%]+$","i");var Be=function(t){var n=t.ownerDocument.defaultView;if(!n||!n.opener){n=e}return n.getComputedStyle(t)};var _e=function(e,t,n){var r,i,o={};for(i in t){o[i]=e.style[i];e.style[i]=t[i]}r=n.call(e);for(i in t){e.style[i]=o[i]}return r};var $e=new RegExp(ie.join("|"),"i");(function(){function t(){if(!l){return}f.style.cssText="position:absolute;left:-11111px;width:60px;"+"margin-top:1px;padding:0;border:0";l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;"+"margin:auto;border:1px;padding:1px;"+"width:60%;top:1%";oe.appendChild(f).appendChild(l);var t=e.getComputedStyle(l);r=t.top!=="1%";u=n(t.marginLeft)===12;l.style.right="60%";a=n(t.right)===36;i=n(t.width)===36;l.style.position="absolute";o=n(l.offsetWidth/3)===12;oe.removeChild(f);l=null}function n(e){return Math.round(parseFloat(e))}var r,i,o,a,s,u,f=y.createElement("div"),l=y.createElement("div");if(!l.style){return}l.style.backgroundClip="content-box";l.cloneNode(true).style.backgroundClip="";p.clearCloneStyle=l.style.backgroundClip==="content-box";jQuery.extend(p,{boxSizingReliable:function(){t();return i},pixelBoxStyles:function(){t();return a},pixelPosition:function(){t();return r},reliableMarginLeft:function(){t();return u},scrollboxSize:function(){t();return o},reliableTrDimensions:function(){var t,n,r,i;if(s==null){t=y.createElement("table");n=y.createElement("tr");r=y.createElement("div");t.style.cssText="position:absolute;left:-11111px;border-collapse:separate";n.style.cssText="border:1px solid";n.style.height="1px";r.style.height="9px";r.style.display="block";oe.appendChild(t).appendChild(n).appendChild(r);i=e.getComputedStyle(n);s=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===n.offsetHeight;oe.removeChild(t)}return s}})})();function ze(e,t,n){var r,i,o,a,s=e.style;n=n||Be(e);if(n){a=n.getPropertyValue(t)||n[t];if(a===""&&!ae(e)){a=jQuery.style(e,t)}if(!p.pixelBoxStyles()&&Fe.test(a)&&$e.test(t)){r=s.width;i=s.minWidth;o=s.maxWidth;s.minWidth=s.maxWidth=s.width=a;a=n.width;s.width=r;s.minWidth=i;s.maxWidth=o}}return a!==undefined?a+"":a}function Ue(e,t){return{get:function(){if(e()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}var Xe=["Webkit","Moz","ms"],Qe=y.createElement("div").style,Ve={};function Ge(e){var t=e[0].toUpperCase()+e.slice(1),n=Xe.length;while(n--){e=Xe[n]+t;if(e in Qe){return e}}}function Ye(e){var t=jQuery.cssProps[e]||Ve[e];if(t){return t}if(e in Qe){return e}return Ve[e]=Ge(e)||e}var Je=/^(none|table(?!-c[ea]).+)/,Ke=/^--/,Ze={position:"absolute",visibility:"hidden",display:"block"},et={letterSpacing:"0",fontWeight:"400"};function tt(e,t,n){var r=re.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function nt(e,t,n,r,i,o){var a=t==="width"?1:0,s=0,u=0;if(n===(r?"border":"content")){return 0}for(;a<4;a+=2){if(n==="margin"){u+=jQuery.css(e,n+ie[a],true,i)}if(!r){u+=jQuery.css(e,"padding"+ie[a],true,i);if(n!=="padding"){u+=jQuery.css(e,"border"+ie[a]+"Width",true,i)}else{s+=jQuery.css(e,"border"+ie[a]+"Width",true,i)}}else{if(n==="content"){u-=jQuery.css(e,"padding"+ie[a],true,i)}if(n!=="margin"){u-=jQuery.css(e,"border"+ie[a]+"Width",true,i)}}}if(!r&&o>=0){u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0}return u}function rt(e,t,n){var r=Be(e),i=!p.boxSizingReliable()||n,o=i&&jQuery.css(e,"boxSizing",false,r)==="border-box",a=o,s=ze(e,t,r),u="offset"+t[0].toUpperCase()+t.slice(1);if(Fe.test(s)){if(!n){return s}s="auto"}if((!p.boxSizingReliable()&&o||!p.reliableTrDimensions()&&S(e,"tr")||s==="auto"||!parseFloat(s)&&jQuery.css(e,"display",false,r)==="inline")&&e.getClientRects().length){o=jQuery.css(e,"boxSizing",false,r)==="border-box";a=u in e;if(a){s=e[u]}}s=parseFloat(s)||0;return s+nt(e,t,n||(o?"border":"content"),a,r,s)+"px"}jQuery.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=ze(e,"opacity");return n===""?"1":n}}}},cssNumber:{animationIterationCount:true,columnCount:true,fillOpacity:true,flexGrow:true,flexShrink:true,fontWeight:true,gridArea:true,gridColumn:true,gridColumnEnd:true,gridColumnStart:true,gridRow:true,gridRowEnd:true,gridRowStart:true,lineHeight:true,opacity:true,order:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{},style:function(e,t,n,r){if(!e||e.nodeType===3||e.nodeType===8||!e.style){return}var i,o,a,s=Q(t),u=Ke.test(t),f=e.style;if(!u){t=Ye(s)}a=jQuery.cssHooks[t]||jQuery.cssHooks[s];if(n!==undefined){o=typeof n;if(o==="string"&&(i=re.exec(n))&&i[1]){n=fe(e,t,i);o="number"}if(n==null||n!==n){return}if(o==="number"&&!u){n+=i&&i[3]||(jQuery.cssNumber[s]?"":"px")}if(!p.clearCloneStyle&&n===""&&t.indexOf("background")===0){f[t]="inherit"}if(!a||!("set"in a)||(n=a.set(e,n,r))!==undefined){if(u){f.setProperty(t,n)}else{f[t]=n}}}else{if(a&&"get"in a&&(i=a.get(e,false,r))!==undefined){return i}return f[t]}},css:function(e,t,n,r){var i,o,a,s=Q(t),u=Ke.test(t);if(!u){t=Ye(s)}a=jQuery.cssHooks[t]||jQuery.cssHooks[s];if(a&&"get"in a){i=a.get(e,true,n)}if(i===undefined){i=ze(e,t,r)}if(i==="normal"&&t in et){i=et[t]}if(n===""||n){o=parseFloat(i);return n===true||isFinite(o)?o||0:i}return i}});jQuery.each(["height","width"],function(e,t){jQuery.cssHooks[t]={get:function(e,n,r){if(n){return Je.test(jQuery.css(e,"display"))&&(!e.getClientRects().length||!e.getBoundingClientRect().width)?_e(e,Ze,function(){return rt(e,t,r)}):rt(e,t,r)}},set:function(e,n,r){var i,o=Be(e),a=!p.scrollboxSize()&&o.position==="absolute",s=a||r,u=s&&jQuery.css(e,"boxSizing",false,o)==="border-box",f=r?nt(e,t,r,u,o):0;if(u&&a){f-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-nt(e,t,"border",false,o)-.5)}if(f&&(i=re.exec(n))&&(i[3]||"px")!=="px"){e.style[t]=n;n=jQuery.css(e,t)}return tt(e,n,f)}}});jQuery.cssHooks.marginLeft=Ue(p.reliableMarginLeft,function(e,t){if(t){return(parseFloat(ze(e,"marginLeft"))||e.getBoundingClientRect().left-_e(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}});jQuery.each({margin:"",padding:"",border:"Width"},function(e,t){jQuery.cssHooks[e+t]={expand:function(n){var r=0,i={},o=typeof n==="string"?n.split(" "):[n];for(;r<4;r++){i[e+ie[r]+t]=o[r]||o[r-2]||o[0]}return i}};if(e!=="margin"){jQuery.cssHooks[e+t].set=tt}});jQuery.fn.extend({css:function(e,t){return $(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){r=Be(e);i=t.length;for(;a<i;a++){o[t[a]]=jQuery.css(e,t[a],false,r)}return o}return n!==undefined?jQuery.style(e,t,n):jQuery.css(e,t)},e,t,arguments.length>1)}});function it(e,t,n,r,i){return new it.prototype.init(e,t,n,r,i)}jQuery.Tween=it;it.prototype={constructor:it,init:function(e,t,n,r,i,o){this.elem=e;this.prop=n;this.easing=i||jQuery.easing._default;this.options=t;this.start=this.now=this.cur();this.end=r;this.unit=o||(jQuery.cssNumber[n]?"":"px")},cur:function(){var e=it.propHooks[this.prop];return e&&e.get?e.get(this):it.propHooks._default.get(this)},run:function(e){var t,n=it.propHooks[this.prop];if(this.options.duration){this.pos=t=jQuery.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration)}else{this.pos=t=e}this.now=(this.end-this.start)*t+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(n&&n.set){n.set(this)}else{it.propHooks._default.set(this)}return this}};it.prototype.init.prototype=it.prototype;it.propHooks={_default:{get:function(e){var t;if(e.elem.nodeType!==1||e.elem[e.prop]!=null&&e.elem.style[e.prop]==null){return e.elem[e.prop]}t=jQuery.css(e.elem,e.prop,"");return!t||t==="auto"?0:t},set:function(e){if(jQuery.fx.step[e.prop]){jQuery.fx.step[e.prop](e)}else if(e.elem.nodeType===1&&(jQuery.cssHooks[e.prop]||e.elem.style[Ye(e.prop)]!=null)){jQuery.style(e.elem,e.prop,e.now+e.unit)}else{e.elem[e.prop]=e.now}}}};it.propHooks.scrollTop=it.propHooks.scrollLeft={set:function(e){if(e.elem.nodeType&&e.elem.parentNode){e.elem[e.prop]=e.now}}};jQuery.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"};jQuery.fx=it.prototype.init;jQuery.fx.step={};var ot,at,st=/^(?:toggle|show|hide)$/,ut=/queueHooks$/;function ft(){if(at){if(y.hidden===false&&e.requestAnimationFrame){e.requestAnimationFrame(ft)}else{e.setTimeout(ft,jQuery.fx.interval)}jQuery.fx.tick()}}function lt(){e.setTimeout(function(){ot=undefined});return ot=Date.now()}function ct(e,t){var n,r=0,i={height:e};t=t?1:0;for(;r<4;r+=2-t){n=ie[r];i["margin"+n]=i["padding"+n]=e}if(t){i.opacity=i.width=e}return i}function dt(e,t,n){var r,i=(gt.tweeners[t]||[]).concat(gt.tweeners["*"]),o=0,a=i.length;for(;o<a;o++){if(r=i[o].call(n,t,e)){return r}}}function pt(e,t,n){var r,i,o,a,s,u,f,l,c="width"in t||"height"in t,d=this,p={},h=e.style,g=e.nodeType&&ue(e),y=Y.get(e,"fxshow");if(!n.queue){a=jQuery._queueHooks(e,"fx");if(a.unqueued==null){a.unqueued=0;s=a.empty.fire;a.empty.fire=function(){if(!a.unqueued){s()}}}a.unqueued++;d.always(function(){d.always(function(){a.unqueued--;if(!jQuery.queue(e,"fx").length){a.empty.fire()}})})}for(r in t){i=t[r];if(st.test(i)){delete t[r];o=o||i==="toggle";if(i===(g?"hide":"show")){if(i==="show"&&y&&y[r]!==undefined){g=true}else{continue}}p[r]=y&&y[r]||jQuery.style(e,r)}}u=!jQuery.isEmptyObject(t);if(!u&&jQuery.isEmptyObject(p)){return}if(c&&e.nodeType===1){n.overflow=[h.overflow,h.overflowX,h.overflowY];f=y&&y.display;if(f==null){f=Y.get(e,"display")}l=jQuery.css(e,"display");if(l==="none"){if(f){l=f}else{de([e],true);f=e.style.display||f;l=jQuery.css(e,"display");de([e])}}if(l==="inline"||l==="inline-block"&&f!=null){if(jQuery.css(e,"float")==="none"){if(!u){d.done(function(){h.display=f});if(f==null){l=h.display;f=l==="none"?"":l}}h.display="inline-block"}}}if(n.overflow){h.overflow="hidden";d.always(function(){h.overflow=n.overflow[0];h.overflowX=n.overflow[1];h.overflowY=n.overflow[2]})}u=false;for(r in p){if(!u){if(y){if("hidden"in y){g=y.hidden}}else{y=Y.access(e,"fxshow",{display:f})}if(o){y.hidden=!g}if(g){de([e],true)}d.done(function(){if(!g){de([e])}Y.remove(e,"fxshow");for(r in p){jQuery.style(e,r,p[r])}})}u=dt(g?y[r]:0,r,d);if(!(r in y)){y[r]=u.start;if(g){u.end=u.start;u.start=0}}}}function ht(e,t){var n,r,i,o,a;for(n in e){r=Q(n);i=t[r];o=e[n];if(Array.isArray(o)){i=o[1];o=e[n]=o[0]}if(n!==r){e[r]=o;delete e[n]}a=jQuery.cssHooks[r];if(a&&"expand"in a){o=a.expand(o);delete e[r];for(n in o){if(!(n in e)){e[n]=o[n];t[n]=i}}}else{t[r]=i}}}function gt(e,t,n){var r,i,o=0,a=gt.prefilters.length,s=jQuery.Deferred().always(function(){delete u.elem}),u=function(){if(i){return false}var t=ot||lt(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,o=1-r,a=0,u=f.tweens.length;for(;a<u;a++){f.tweens[a].run(o)}s.notifyWith(e,[f,o,n]);if(o<1&&u){return n}if(!u){s.notifyWith(e,[f,1,0])}s.resolveWith(e,[f]);return false},f=s.promise({elem:e,props:jQuery.extend({},t),opts:jQuery.extend(true,{specialEasing:{},easing:jQuery.easing._default},n),originalProperties:t,originalOptions:n,startTime:ot||lt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=jQuery.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);f.tweens.push(r);return r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i){return this}i=true;for(;n<r;n++){f.tweens[n].run(1)}if(t){s.notifyWith(e,[f,1,0]);s.resolveWith(e,[f,t])}else{s.rejectWith(e,[f,t])}return this}}),l=f.props;ht(l,f.opts.specialEasing);for(;o<a;o++){r=gt.prefilters[o].call(f,e,l,f.opts);if(r){if(h(r.stop)){jQuery._queueHooks(f.elem,f.opts.queue).stop=r.stop.bind(r)}return r}}jQuery.map(l,dt,f);if(h(f.opts.start)){f.opts.start.call(e,f)}f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always);jQuery.fx.timer(jQuery.extend(u,{elem:e,anim:f,queue:f.opts.queue}));return f}jQuery.Animation=jQuery.extend(gt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);fe(n.elem,e,re.exec(t),n);return n}]},tweener:function(e,t){if(h(e)){t=e;e=["*"]}else{e=e.match(P)}var n,r=0,i=e.length;for(;r<i;r++){n=e[r];gt.tweeners[n]=gt.tweeners[n]||[];gt.tweeners[n].unshift(t)}},prefilters:[pt],prefilter:function(e,t){if(t){gt.prefilters.unshift(e)}else{gt.prefilters.push(e)}}});jQuery.speed=function(e,t,n){var r=e&&typeof e==="object"?jQuery.extend({},e):{complete:n||!n&&t||h(e)&&e,duration:e,easing:n&&t||t&&!h(t)&&t};if(jQuery.fx.off){r.duration=0}else{if(typeof r.duration!=="number"){if(r.duration in jQuery.fx.speeds){r.duration=jQuery.fx.speeds[r.duration]}else{r.duration=jQuery.fx.speeds._default}}}if(r.queue==null||r.queue===true){r.queue="fx"}r.old=r.complete;r.complete=function(){if(h(r.old)){r.old.call(this)}if(r.queue){jQuery.dequeue(this,r.queue)}};return r};jQuery.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ue).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=jQuery.isEmptyObject(e),o=jQuery.speed(t,n,r),a=function(){var t=gt(this,jQuery.extend({},e),o);if(i||Y.get(this,"finish")){t.stop(true)}};a.finish=a;return i||o.queue===false?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop;t(n)};if(typeof e!=="string"){n=t;t=e;e=undefined}if(t){this.queue(e||"fx",[])}return this.each(function(){var t=true,i=e!=null&&e+"queueHooks",o=jQuery.timers,a=Y.get(this);if(i){if(a[i]&&a[i].stop){r(a[i])}}else{for(i in a){if(a[i]&&a[i].stop&&ut.test(i)){r(a[i])}}}for(i=o.length;i--;){if(o[i].elem===this&&(e==null||o[i].queue===e)){o[i].anim.stop(n);t=false;o.splice(i,1)}}if(t||!n){jQuery.dequeue(this,e)}})},finish:function(e){if(e!==false){e=e||"fx"}return this.each(function(){var t,n=Y.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=jQuery.timers,a=r?r.length:0;n.finish=true;jQuery.queue(this,e,[]);if(i&&i.stop){i.stop.call(this,true)}for(t=o.length;t--;){if(o[t].elem===this&&o[t].queue===e){o[t].anim.stop(true);o.splice(t,1)}}for(t=0;t<a;t++){if(r[t]&&r[t].finish){r[t].finish.call(this)}}delete n.finish})}});jQuery.each(["toggle","show","hide"],function(e,t){var n=jQuery.fn[t];jQuery.fn[t]=function(e,r,i){return e==null||typeof e==="boolean"?n.apply(this,arguments):this.animate(ct(t,true),e,r,i)}});jQuery.each({slideDown:ct("show"),slideUp:ct("hide"),slideToggle:ct("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){jQuery.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}});jQuery.timers=[];jQuery.fx.tick=function(){var e,t=0,n=jQuery.timers;ot=Date.now();for(;t<n.length;t++){e=n[t];if(!e()&&n[t]===e){n.splice(t--,1)}}if(!n.length){jQuery.fx.stop()}ot=undefined};jQuery.fx.timer=function(e){jQuery.timers.push(e);jQuery.fx.start()};jQuery.fx.interval=13;jQuery.fx.start=function(){if(at){return}at=true;ft()};jQuery.fx.stop=function(){at=null};jQuery.fx.speeds={slow:600,fast:200,_default:400};jQuery.fn.delay=function(t,n){t=jQuery.fx?jQuery.fx.speeds[t]||t:t;n=n||"fx";return this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})};(function(){var e=y.createElement("input"),t=y.createElement("select"),n=t.appendChild(y.createElement("option"));e.type="checkbox";p.checkOn=e.value!=="";p.optSelected=n.selected;e=y.createElement("input");e.value="t";e.type="radio";p.radioValue=e.value==="t"})();var yt,mt=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(e,t){return $(this,jQuery.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){jQuery.removeAttr(this,e)})}});jQuery.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(o===3||o===8||o===2){return}if(typeof e.getAttribute==="undefined"){return jQuery.prop(e,t,n)}if(o!==1||!jQuery.isXMLDoc(e)){i=jQuery.attrHooks[t.toLowerCase()]||(jQuery.expr.match.bool.test(t)?yt:undefined)}if(n!==undefined){if(n===null){jQuery.removeAttr(e,t);return}if(i&&"set"in i&&(r=i.set(e,n,t))!==undefined){return r}e.setAttribute(t,n+"");return n}if(i&&"get"in i&&(r=i.get(e,t))!==null){return r}r=jQuery.find.attr(e,t);return r==null?undefined:r},attrHooks:{type:{set:function(e,t){if(!p.radioValue&&t==="radio"&&S(e,"input")){var n=e.value;e.setAttribute("type",t);if(n){e.value=n}return t}}},style:{set:function(e,t){return e.style=t+""}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&e.nodeType===1){while(n=i[r++]){if(n==="style"){e.style=""}else{e.removeAttribute(n)}}}}});yt={set:function(e,t,n){if(t===false){jQuery.removeAttr(e,n)}else{e.setAttribute(n,n)}return n}};jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(e,t){var n=mt[t]||jQuery.find.attr;mt[t]=function(e,t,r){var i,o,a=t.toLowerCase();if(!r){o=mt[a];mt[a]=i;i=n(e,t,r)!=null?a:null;mt[a]=o}return i}});var vt=/^(?:input|select|textarea|button)$/i,xt=/^(?:a|area)$/i;jQuery.fn.extend({prop:function(e,t){return $(this,jQuery.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[jQuery.propFix[e]||e]})}});jQuery.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(o===3||o===8||o===2){return}if(o!==1||!jQuery.isXMLDoc(e)){t=jQuery.propFix[t]||t;i=jQuery.propHooks[t]}if(n!==undefined){if(i&&"set"in i&&(r=i.set(e,n,t))!==undefined){return r}return e[t]=n}if(i&&"get"in i&&(r=i.get(e,t))!==null){return r}return e[t]},propHooks:{tabIndex:{get:function(e){var t=jQuery.find.attr(e,"tabindex");if(t){return parseInt(t,10)}if(vt.test(e.nodeName)||xt.test(e.nodeName)&&e.href){return 0}return-1}}},propFix:{for:"htmlFor",class:"className"}});if(!p.optSelected){jQuery.propHooks.selected={get:function(e){var t=e.parentNode;if(t&&t.parentNode){t.parentNode.selectedIndex}return null},set:function(e){var t=e.parentNode;if(t){t.selectedIndex;if(t.parentNode){t.parentNode.selectedIndex}}}}}jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this});function bt(e){var t=e.match(P)||[];return t.join(" ")}function wt(e){return e.getAttribute&&e.getAttribute("class")||""}function Tt(e){if(Array.isArray(e)){return e}if(typeof e==="string"){return e.match(P)||[]}return[]}jQuery.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(h(e)){return this.each(function(t){jQuery(this).addClass(e.call(this,t,wt(this)))})}t=Tt(e);if(t.length){while(n=this[u++]){i=wt(n);r=n.nodeType===1&&" "+bt(i)+" ";if(r){a=0;while(o=t[a++]){if(r.indexOf(" "+o+" ")<0){r+=o+" "}}s=bt(r);if(i!==s){n.setAttribute("class",s)}}}}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(h(e)){return this.each(function(t){jQuery(this).removeClass(e.call(this,t,wt(this)))})}if(!arguments.length){return this.attr("class","")}t=Tt(e);if(t.length){while(n=this[u++]){i=wt(n);r=n.nodeType===1&&" "+bt(i)+" ";if(r){a=0;while(o=t[a++]){while(r.indexOf(" "+o+" ")>-1){r=r.replace(" "+o+" "," ")}}s=bt(r);if(i!==s){n.setAttribute("class",s)}}}}return this},toggleClass:function(e,t){var n=typeof e,r=n==="string"||Array.isArray(e);if(typeof t==="boolean"&&r){return t?this.addClass(e):this.removeClass(e)}if(h(e)){return this.each(function(n){jQuery(this).toggleClass(e.call(this,n,wt(this),t),t)})}return this.each(function(){var t,i,o,a;if(r){i=0;o=jQuery(this);a=Tt(e);while(t=a[i++]){if(o.hasClass(t)){o.removeClass(t)}else{o.addClass(t)}}}else if(e===undefined||n==="boolean"){t=wt(this);if(t){Y.set(this,"__className__",t)}if(this.setAttribute){this.setAttribute("class",t||e===false?"":Y.get(this,"__className__")||"")}}})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++]){if(n.nodeType===1&&(" "+bt(wt(n))+" ").indexOf(t)>-1){return true}}return false}});var Ct=/\r/g;jQuery.fn.extend({val:function(e){var t,n,r,i=this[0];if(!arguments.length){if(i){t=jQuery.valHooks[i.type]||jQuery.valHooks[i.nodeName.toLowerCase()];if(t&&"get"in t&&(n=t.get(i,"value"))!==undefined){return n}n=i.value;if(typeof n==="string"){return n.replace(Ct,"")}return n==null?"":n}return}r=h(e);return this.each(function(n){var i;if(this.nodeType!==1){return}if(r){i=e.call(this,n,jQuery(this).val())}else{i=e}if(i==null){i=""}else if(typeof i==="number"){i+=""}else if(Array.isArray(i)){i=jQuery.map(i,function(e){return e==null?"":e+""})}t=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!t||!("set"in t)||t.set(this,i,"value")===undefined){this.value=i}})}});jQuery.extend({valHooks:{option:{get:function(e){var t=jQuery.find.attr(e,"value");return t!=null?t:bt(jQuery.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a=e.type==="select-one",s=a?null:[],u=a?o+1:i.length;if(o<0){r=u}else{r=a?o:0}for(;r<u;r++){n=i[r];if((n.selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!S(n.parentNode,"optgroup"))){t=jQuery(n).val();if(a){return t}s.push(t)}}return s},set:function(e,t){var n,r,i=e.options,o=jQuery.makeArray(t),a=i.length;while(a--){r=i[a];if(r.selected=jQuery.inArray(jQuery.valHooks.option.get(r),o)>-1){n=true}}if(!n){e.selectedIndex=-1}return o}}}});jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(e,t){if(Array.isArray(t)){return e.checked=jQuery.inArray(jQuery(e).val(),t)>-1}}};if(!p.checkOn){jQuery.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value}}});var kt=/^(?:focusinfocus|focusoutblur)$/,Et=function(e){e.stopPropagation()};jQuery.extend(jQuery.event,{trigger:function(t,n,r,i){var o,a,s,u,f,c,d,p,m=[r||y],v=l.call(t,"type")?t.type:t,x=l.call(t,"namespace")?t.namespace.split("."):[];a=p=s=r=r||y;if(r.nodeType===3||r.nodeType===8){return}if(kt.test(v+jQuery.event.triggered)){return}if(v.indexOf(".")>-1){x=v.split(".");v=x.shift();x.sort()}f=v.indexOf(":")<0&&"on"+v;t=t[jQuery.expando]?t:new jQuery.Event(v,typeof t==="object"&&t);t.isTrigger=i?2:3;t.namespace=x.join(".");t.rnamespace=t.namespace?new RegExp("(^|\\.)"+x.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;t.result=undefined;if(!t.target){t.target=r}n=n==null?[t]:jQuery.makeArray(n,[t]);d=jQuery.event.special[v]||{};if(!i&&d.trigger&&d.trigger.apply(r,n)===false){return}if(!i&&!d.noBubble&&!g(r)){u=d.delegateType||v;if(!kt.test(u+v)){a=a.parentNode}for(;a;a=a.parentNode){m.push(a);s=a}if(s===(r.ownerDocument||y)){m.push(s.defaultView||s.parentWindow||e)}}o=0;while((a=m[o++])&&!t.isPropagationStopped()){p=a;t.type=o>1?u:d.bindType||v;c=(Y.get(a,"events")||Object.create(null))[t.type]&&Y.get(a,"handle");if(c){c.apply(a,n)}c=f&&a[f];if(c&&c.apply&&V(a)){t.result=c.apply(a,n);if(t.result===false){t.preventDefault()}}}t.type=v;if(!i&&!t.isDefaultPrevented()){if((!d._default||d._default.apply(m.pop(),n)===false)&&V(r)){if(f&&h(r[v])&&!g(r)){s=r[f];if(s){r[f]=null}jQuery.event.triggered=v;if(t.isPropagationStopped()){p.addEventListener(v,Et)}r[v]();if(t.isPropagationStopped()){p.removeEventListener(v,Et)}jQuery.event.triggered=undefined;if(s){r[f]=s}}}}return t.result},simulate:function(e,t,n){var r=jQuery.extend(new jQuery.Event,n,{type:e,isSimulated:true});jQuery.event.trigger(r,null,t)}});jQuery.fn.extend({trigger:function(e,t){return this.each(function(){jQuery.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n){return jQuery.event.trigger(e,t,n,true)}}});var St=e.location;var jt={guid:Date.now()};var At=/\?/;jQuery.parseXML=function(t){var n,r;if(!t||typeof t!=="string"){return null}try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){}r=n&&n.getElementsByTagName("parsererror")[0];if(!n||r){jQuery.error("Invalid XML: "+(r?jQuery.map(r.childNodes,function(e){return e.textContent}).join("\n"):t))}return n};var Nt=/\[\]$/,Dt=/\r?\n/g,qt=/^(?:submit|button|image|reset|file)$/i,Lt=/^(?:input|select|textarea|keygen)/i;function Ht(e,t,n,r){var i;if(Array.isArray(t)){jQuery.each(t,function(t,i){if(n||Nt.test(e)){r(e,i)}else{Ht(e+"["+(typeof i==="object"&&i!=null?t:"")+"]",i,n,r)}})}else if(!n&&x(t)==="object"){for(i in t){Ht(e+"["+i+"]",t[i],n,r)}}else{r(e,t)}}jQuery.param=function(e,t){var n,r=[],i=function(e,t){var n=h(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(n==null?"":n)};if(e==null){return""}if(Array.isArray(e)||e.jquery&&!jQuery.isPlainObject(e)){jQuery.each(e,function(){i(this.name,this.value)})}else{for(n in e){Ht(n,e[n],t,i)}}return r.join("&")};jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=jQuery.prop(this,"elements");return e?jQuery.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!jQuery(this).is(":disabled")&&Lt.test(this.nodeName)&&!qt.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=jQuery(this).val();if(n==null){return null}if(Array.isArray(n)){return jQuery.map(n,function(e){return{name:t.name,value:e.replace(Dt,"\r\n")}})}return{name:t.name,value:n.replace(Dt,"\r\n")}}).get()}});var Ot=/%20/g,Pt=/#.*$/,Rt=/([?&])_=[^&]*/,Mt=/^(.*?):[ \t]*([^\r\n]*)$/gm,It=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Wt=/^(?:GET|HEAD)$/,Ft=/^\/\//,Bt={},_t={},$t="*/".concat("*"),zt=y.createElement("a");zt.href=St.href;function Ut(e){return function(t,n){if(typeof t!=="string"){n=t;t="*"}var r,i=0,o=t.toLowerCase().match(P)||[];if(h(n)){while(r=o[i++]){if(r[0]==="+"){r=r.slice(1)||"*";(e[r]=e[r]||[]).unshift(n)}else{(e[r]=e[r]||[]).push(n)}}}}}function Xt(e,t,n,r){var i={},o=e===_t;function a(s){var u;i[s]=true;jQuery.each(e[s]||[],function(e,s){var f=s(t,n,r);if(typeof f==="string"&&!o&&!i[f]){t.dataTypes.unshift(f);a(f);return false}else if(o){return!(u=f)}});return u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function Qt(e,t){var n,r,i=jQuery.ajaxSettings.flatOptions||{};for(n in t){if(t[n]!==undefined){(i[n]?e:r||(r={}))[n]=t[n]}}if(r){jQuery.extend(true,e,r)}return e}function Vt(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while(u[0]==="*"){u.shift();if(r===undefined){r=e.mimeType||t.getResponseHeader("Content-Type")}}if(r){for(i in s){if(s[i]&&s[i].test(r)){u.unshift(i);break}}}if(u[0]in n){o=u[0]}else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}if(!a){a=i}}o=o||a}if(o){if(o!==u[0]){u.unshift(o)}return n[o]}}function Gt(e,t,n,r){var i,o,a,s,u,f={},l=e.dataTypes.slice();if(l[1]){for(a in e.converters){f[a.toLowerCase()]=e.converters[a]}}o=l.shift();while(o){if(e.responseFields[o]){n[e.responseFields[o]]=t}if(!u&&r&&e.dataFilter){t=e.dataFilter(t,e.dataType)}u=o;o=l.shift();if(o){if(o==="*"){o=u}else if(u!=="*"&&u!==o){a=f[u+" "+o]||f["* "+o];if(!a){for(i in f){s=i.split(" ");if(s[1]===o){a=f[u+" "+s[0]]||f["* "+s[0]];if(a){if(a===true){a=f[i]}else if(f[i]!==true){o=s[0];l.unshift(s[1])}break}}}}if(a!==true){if(a&&e.throws){t=a(t)}else{try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}}}}}return{state:"success",data:t}}jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:St.href,type:"GET",isLocal:It.test(St.protocol),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":JSON.parse,"text xml":jQuery.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(e,t){return t?Qt(Qt(e,jQuery.ajaxSettings),t):Qt(jQuery.ajaxSettings,e)},ajaxPrefilter:Ut(Bt),ajaxTransport:Ut(_t),ajax:function(t,n){if(typeof t==="object"){n=t;t=undefined}n=n||{};var r,i,o,a,s,u,f,l,c,d,p=jQuery.ajaxSetup({},n),h=p.context||p,g=p.context&&(h.nodeType||h.jquery)?jQuery(h):jQuery.event,m=jQuery.Deferred(),v=jQuery.Callbacks("once memory"),x=p.statusCode||{},b={},w={},T="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(f){if(!a){a={};while(t=Mt.exec(o)){a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2])}}t=a[e.toLowerCase()+" "]}return t==null?null:t.join(", ")},getAllResponseHeaders:function(){return f?o:null},setRequestHeader:function(e,t){if(f==null){e=w[e.toLowerCase()]=w[e.toLowerCase()]||e;b[e]=t}return this},overrideMimeType:function(e){if(f==null){p.mimeType=e}return this},statusCode:function(e){var t;if(e){if(f){C.always(e[C.status])}else{for(t in e){x[t]=[x[t],e[t]]}}}return this},abort:function(e){var t=e||T;if(r){r.abort(t)}k(0,t);return this}};m.promise(C);p.url=((t||p.url||St.href)+"").replace(Ft,St.protocol+"//");p.type=n.method||n.type||p.method||p.type;p.dataTypes=(p.dataType||"*").toLowerCase().match(P)||[""];if(p.crossDomain==null){u=y.createElement("a");try{u.href=p.url;u.href=u.href;p.crossDomain=zt.protocol+"//"+zt.host!==u.protocol+"//"+u.host}catch(e){p.crossDomain=true}}if(p.data&&p.processData&&typeof p.data!=="string"){p.data=jQuery.param(p.data,p.traditional)}Xt(Bt,p,n,C);if(f){return C}l=jQuery.event&&p.global;if(l&&jQuery.active++===0){jQuery.event.trigger("ajaxStart")}p.type=p.type.toUpperCase();p.hasContent=!Wt.test(p.type);i=p.url.replace(Pt,"");if(!p.hasContent){d=p.url.slice(i.length);if(p.data&&(p.processData||typeof p.data==="string")){i+=(At.test(i)?"&":"?")+p.data;delete p.data}if(p.cache===false){i=i.replace(Rt,"$1");d=(At.test(i)?"&":"?")+"_="+jt.guid+++d}p.url=i+d}else if(p.data&&p.processData&&(p.contentType||"").indexOf("application/x-www-form-urlencoded")===0){p.data=p.data.replace(Ot,"+")}if(p.ifModified){if(jQuery.lastModified[i]){C.setRequestHeader("If-Modified-Since",jQuery.lastModified[i])}if(jQuery.etag[i]){C.setRequestHeader("If-None-Match",jQuery.etag[i])}}if(p.data&&p.hasContent&&p.contentType!==false||n.contentType){C.setRequestHeader("Content-Type",p.contentType)}C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+(p.dataTypes[0]!=="*"?", "+$t+"; q=0.01":""):p.accepts["*"]);for(c in p.headers){C.setRequestHeader(c,p.headers[c])}if(p.beforeSend&&(p.beforeSend.call(h,C,p)===false||f)){return C.abort()}T="abort";v.add(p.complete);C.done(p.success);C.fail(p.error);r=Xt(_t,p,n,C);if(!r){k(-1,"No Transport")}else{C.readyState=1;if(l){g.trigger("ajaxSend",[C,p])}if(f){return C}if(p.async&&p.timeout>0){s=e.setTimeout(function(){C.abort("timeout")},p.timeout)}try{f=false;r.send(b,k)}catch(e){if(f){throw e}k(-1,e)}}function k(t,n,a,u){var c,d,y,b,w,T=n;if(f){return}f=true;if(s){e.clearTimeout(s)}r=undefined;o=u||"";C.readyState=t>0?4:0;c=t>=200&&t<300||t===304;if(a){b=Vt(p,C,a)}if(!c&&jQuery.inArray("script",p.dataTypes)>-1&&jQuery.inArray("json",p.dataTypes)<0){p.converters["text script"]=function(){}}b=Gt(p,b,C,c);if(c){if(p.ifModified){w=C.getResponseHeader("Last-Modified");if(w){jQuery.lastModified[i]=w}w=C.getResponseHeader("etag");if(w){jQuery.etag[i]=w}}if(t===204||p.type==="HEAD"){T="nocontent"}else if(t===304){T="notmodified"}else{T=b.state;d=b.data;y=b.error;c=!y}}else{y=T;if(t||!T){T="error";if(t<0){t=0}}}C.status=t;C.statusText=(n||T)+"";if(c){m.resolveWith(h,[d,T,C])}else{m.rejectWith(h,[C,T,y])}C.statusCode(x);x=undefined;if(l){g.trigger(c?"ajaxSuccess":"ajaxError",[C,p,c?d:y])}v.fireWith(h,[C,T]);if(l){g.trigger("ajaxComplete",[C,p]);if(! --jQuery.active){jQuery.event.trigger("ajaxStop")}}}return C},getJSON:function(e,t,n){return jQuery.get(e,t,n,"json")},getScript:function(e,t){return jQuery.get(e,undefined,t,"script")}});jQuery.each(["get","post"],function(e,t){jQuery[t]=function(e,n,r,i){if(h(n)){i=i||r;r=n;n=undefined}return jQuery.ajax(jQuery.extend({url:e,type:t,dataType:i,data:n,success:r},jQuery.isPlainObject(e)&&e))}});jQuery.ajaxPrefilter(function(e){var t;for(t in e.headers){if(t.toLowerCase()==="content-type"){e.contentType=e.headers[t]||""}}});jQuery._evalUrl=function(e,t,n){return jQuery.ajax({url:e,type:"GET",dataType:"script",cache:true,async:false,global:false,converters:{"text script":function(){}},dataFilter:function(e){jQuery.globalEval(e,t,n)}})};jQuery.fn.extend({wrapAll:function(e){var t;if(this[0]){if(h(e)){e=e.call(this[0])}t=jQuery(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){t.insertBefore(this[0])}t.map(function(){var e=this;while(e.firstElementChild){e=e.firstElementChild}return e}).append(this)}return this},wrapInner:function(e){if(h(e)){return this.each(function(t){jQuery(this).wrapInner(e.call(this,t))})}return this.each(function(){var t=jQuery(this),n=t.contents();if(n.length){n.wrapAll(e)}else{t.append(e)}})},wrap:function(e){var t=h(e);return this.each(function(n){jQuery(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){this.parent(e).not("body").each(function(){jQuery(this).replaceWith(this.childNodes)});return this}});jQuery.expr.pseudos.hidden=function(e){return!jQuery.expr.pseudos.visible(e)};jQuery.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)};jQuery.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Yt={0:200,1223:204},Jt=jQuery.ajaxSettings.xhr();p.cors=!!Jt&&"withCredentials"in Jt;p.ajax=Jt=!!Jt;jQuery.ajaxTransport(function(t){var n,r;if(p.cors||Jt&&!t.crossDomain){return{send:function(i,o){var a,s=t.xhr();s.open(t.type,t.url,t.async,t.username,t.password);if(t.xhrFields){for(a in t.xhrFields){s[a]=t.xhrFields[a]}}if(t.mimeType&&s.overrideMimeType){s.overrideMimeType(t.mimeType)}if(!t.crossDomain&&!i["X-Requested-With"]){i["X-Requested-With"]="XMLHttpRequest"}for(a in i){s.setRequestHeader(a,i[a])}n=function(e){return function(){if(n){n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null;if(e==="abort"){s.abort()}else if(e==="error"){if(typeof s.status!=="number"){o(0,"error")}else{o(s.status,s.statusText)}}else{o(Yt[s.status]||s.status,s.statusText,(s.responseType||"text")!=="text"||typeof s.responseText!=="string"?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders())}}}};s.onload=n();r=s.onerror=s.ontimeout=n("error");if(s.onabort!==undefined){s.onabort=r}else{s.onreadystatechange=function(){if(s.readyState===4){e.setTimeout(function(){if(n){r()}})}}}n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n){throw e}}},abort:function(){if(n){n()}}}}});jQuery.ajaxPrefilter(function(e){if(e.crossDomain){e.contents.script=false}});jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, "+"application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){jQuery.globalEval(e);return e}}});jQuery.ajaxPrefilter("script",function(e){if(e.cache===undefined){e.cache=false}if(e.crossDomain){e.type="GET"}});jQuery.ajaxTransport("script",function(e){if(e.crossDomain||e.scriptAttrs){var t,n;return{send:function(r,i){t=jQuery("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove();n=null;if(e){i(e.type==="error"?404:200,e.type)}});y.head.appendChild(t[0])},abort:function(){if(n){n()}}}}});var Kt=[],Zt=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Kt.pop()||jQuery.expando+"_"+jt.guid++;this[e]=true;return e}});jQuery.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==false&&(Zt.test(t.url)?"url":typeof t.data==="string"&&(t.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Zt.test(t.data)&&"data");if(s||t.dataTypes[0]==="jsonp"){i=t.jsonpCallback=h(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback;if(s){t[s]=t[s].replace(Zt,"$1"+i)}else if(t.jsonp!==false){t.url+=(At.test(t.url)?"&":"?")+t.jsonp+"="+i}t.converters["script json"]=function(){if(!a){jQuery.error(i+" was not called")}return a[0]};t.dataTypes[0]="json";o=e[i];e[i]=function(){a=arguments};r.always(function(){if(o===undefined){jQuery(e).removeProp(i)}else{e[i]=o}if(t[i]){t.jsonpCallback=n.jsonpCallback;Kt.push(i)}if(a&&h(o)){o(a[0])}a=o=undefined});return"script"}});p.createHTMLDocument=function(){var e=y.implementation.createHTMLDocument("").body;e.innerHTML="<form></form><form></form>";return e.childNodes.length===2}();jQuery.parseHTML=function(e,t,n){if(typeof e!=="string"){return[]}if(typeof t==="boolean"){n=t;t=false}var r,i,o;if(!t){if(p.createHTMLDocument){t=y.implementation.createHTMLDocument("");if(t.domain!==y.domain){t.domain=y.domain}r=t.createElement("base");r.href=y.location.href;t.head.appendChild(r)}else{t=y}}i=j.exec(e);o=!n&&[];if(i){return[t.createElement(i[1])]}i=be([e],t,o);if(o&&o.length){jQuery(o).remove()}return jQuery.merge([],i.childNodes)};jQuery.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");if(s>-1){r=bt(e.slice(s));e=e.slice(0,s)}if(h(t)){n=t;t=undefined}else if(t&&typeof t==="object"){i="POST"}if(a.length>0){jQuery.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments;a.html(r?jQuery("<div>").append(jQuery.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})})}return this};jQuery.expr.pseudos.animated=function(e){return jQuery.grep(jQuery.timers,function(t){return e===t.elem}).length};jQuery.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,f,l=jQuery.css(e,"position"),c=jQuery(e),d={};if(l==="static"){e.style.position="relative"}s=c.offset();o=jQuery.css(e,"top");u=jQuery.css(e,"left");f=(l==="absolute"||l==="fixed")&&(o+u).indexOf("auto")>-1;if(f){r=c.position();a=r.top;i=r.left}else{a=parseFloat(o)||0;i=parseFloat(u)||0}if(h(t)){t=t.call(e,n,jQuery.extend({},s))}if(t.top!=null){d.top=t.top-s.top+a}if(t.left!=null){d.left=t.left-s.left+i}if("using"in t){t.using.call(e,d)}else{c.css(d)}}};p.safeBoundingClientRect=function(){var e=y.createElement("div");try{return!!e.getBoundingClientRect()}catch(e){return false}finally{e=null}}();jQuery.fn.extend({offset:function(e){if(arguments.length){return e===undefined?this:this.each(function(t){jQuery.offset.setOffset(this,e,t)})}var t,n,r=this[0];if(!r){return}if(!p.safeBoundingClientRect&&!r.getClientRects().length){return{top:0,left:0}}t=r.getBoundingClientRect();n=r.ownerDocument.defaultView;return{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}},position:function(){if(!this[0]){return}var e,t,n,r=this[0],i={top:0,left:0};if(jQuery.css(r,"position")==="fixed"){t=r.getBoundingClientRect()}else{t=this.offset();n=r.ownerDocument;e=this.offsetParent()[0];while(e&&(e===n.body||e===n.documentElement)&&jQuery.css(e,"position")==="static"){e=e.parentNode}if(e&&e!==r&&e.nodeType===1){i=jQuery(e).offset();i.top+=jQuery.css(e,"borderTopWidth",true);i.left+=jQuery.css(e,"borderLeftWidth",true)}}return{top:t.top-i.top-jQuery.css(r,"marginTop",true),left:t.left-i.left-jQuery.css(r,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&jQuery.css(e,"position")==="static"){e=e.offsetParent}return e||oe})}});jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;jQuery.fn[e]=function(r){return $(this,function(e,r,i){var o;if(g(e)){o=e}else if(e.nodeType===9){o=e.defaultView}if(i===undefined){return o?o[t]:e[r]}if(o){o.scrollTo(!n?i:o.pageXOffset,n?i:o.pageYOffset)}else{e[r]=i}},e,r,arguments.length)}});jQuery.each(["top","left"],function(e,t){jQuery.cssHooks[t]=Ue(p.pixelPosition,function(e,n){if(n){n=ze(e,t);return Fe.test(n)?jQuery(e).position()[t]+"px":n}})});jQuery.each({Height:"height",Width:"width"},function(e,t){jQuery.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){jQuery.fn[r]=function(i,o){var a=arguments.length&&(n||typeof i!=="boolean"),s=n||(i===true||o===true?"margin":"border");return $(this,function(t,n,i){var o;if(g(t)){return r.indexOf("outer")===0?t["inner"+e]:t.document.documentElement["client"+e]}if(t.nodeType===9){o=t.documentElement;return Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])}return i===undefined?jQuery.css(t,n,s):jQuery.style(t,n,i,s)},t,a?i:undefined,a)}})});jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){jQuery.fn[t]=function(e){return this.on(t,e)}});jQuery.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});jQuery.each(("blur focus focusin focusout resize scroll click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup contextmenu").split(" "),function(e,t){jQuery.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}});var en=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;jQuery.proxy=function(e,t){var n,r,o;if(typeof t==="string"){n=e[t];t=e;e=n}if(!h(e)){return undefined}r=i.call(arguments,2);o=function(){return e.apply(t||this,r.concat(i.call(arguments)))};o.guid=e.guid=e.guid||jQuery.guid++;return o};jQuery.holdReady=function(e){if(e){jQuery.readyWait++}else{jQuery.ready(true)}};jQuery.isArray=Array.isArray;jQuery.parseJSON=JSON.parse;jQuery.nodeName=S;jQuery.isFunction=h;jQuery.isWindow=g;jQuery.camelCase=Q;jQuery.type=x;jQuery.now=Date.now;jQuery.isNumeric=function(e){var t=jQuery.type(e);return(t==="number"||t==="string")&&!isNaN(e-parseFloat(e))};jQuery.trim=function(e){return e==null?"":(e+"").replace(en,"")};if(typeof define==="function"&&define.amd){define("jquery",[],function(){return jQuery})}var tn=e.jQuery,nn=e.$;jQuery.noConflict=function(t){if(e.$===jQuery){e.$=nn}if(t&&e.jQuery===jQuery){e.jQuery=tn}return jQuery};if(typeof t==="undefined"){e.jQuery=e.$=jQuery}return jQuery});if(window.sap&&window.sap.ui&&window.sap.ui._jQuery3Compat){sap.ui._jQuery3Compat._factory(jQuery,window)}
},
	"sap/ui/thirdparty/jqueryui/jquery-ui-position.js":function(){
/*!
 * jQuery UI Position 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
(function(t,i){t.ui=t.ui||{};var e,o=Math.max,l=Math.abs,n=Math.round,f=/left|center|right/,s=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,r=/^\w+/,p=/%$/,c=t.fn.position;function d(t,i,e){return[parseFloat(t[0])*(p.test(t[0])?i/100:1),parseFloat(t[1])*(p.test(t[1])?e/100:1)]}function a(i,e){return parseInt(t.css(i,e),10)||0}function g(t){var i=t[0];if(i.nodeType===9){return{width:t.width(),height:t.height(),offset:{top:0,left:0}}}if(i.window===i){return{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}}if(i.preventDefault){return{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}}if(typeof window.SVGElement!=="undefined"&&i instanceof window.SVGElement||i.useClientRect){var e=i.getBoundingClientRect();return{width:e.width,height:e.height,offset:t.offset()}}return{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}t.position={scrollbarWidth:function(){if(e!==i){return e}var o,l,n=t("<div><div></div></div>"),f=n.children()[0];n[0].style="display:block;position:absolute;width:50px;height:50px;overflow:hidden;";f.style="height:100px;width:auto;";t("body").append(n);o=f.offsetWidth;n.css("overflow","scroll");l=f.offsetWidth;if(o===l){l=n[0].clientWidth}n.remove();return e=o-l},getScrollInfo:function(i){var e=i.isWindow||i.isDocument?"":i.element.css("overflow-x"),o=i.isWindow||i.isDocument?"":i.element.css("overflow-y"),l=e==="scroll"||e==="auto"&&i.width<i.element[0].scrollWidth,n=o==="scroll"||o==="auto"&&i.height<i.element[0].scrollHeight;return{width:n?t.position.scrollbarWidth():0,height:l?t.position.scrollbarWidth():0}},getWithinInfo:function(i){var e=t(i||window),o=!!e[0]&&e[0]===e[0].window,l=!!e[0]&&e[0].nodeType===9;return{element:e,isWindow:o,isDocument:l,offset:(o?null:e.offset())||{left:0,top:0},scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),width:o?e.width():e.outerWidth(),height:o?e.height():e.outerHeight()}}};t.fn.position=function(i){if(!i||!i.of){return c.apply(this,arguments)}i=t.extend({},i);var e,p,u,m,w,v,y=typeof i.of==="string"?t(document).find(i.of):t(i.of),W=t.position.getWithinInfo(i.within),b=t.position.getScrollInfo(W),H=(i.collision||"flip").split(" "),x={};v=g(y);if(y[0].preventDefault){i.at="left top"}p=v.width;u=v.height;m=v.offset;w=t.extend({},m);t.each(["my","at"],function(){var t=(i[this]||"").split(" "),e,o;if(t.length===1){t=f.test(t[0])?t.concat(["center"]):s.test(t[0])?["center"].concat(t):["center","center"]}t[0]=f.test(t[0])?t[0]:"center";t[1]=s.test(t[1])?t[1]:"center";e=h.exec(t[0]);o=h.exec(t[1]);x[this]=[e?e[0]:0,o?o[0]:0];i[this]=[r.exec(t[0])[0],r.exec(t[1])[0]]});if(H.length===1){H[1]=H[0]}if(i.at[0]==="right"){w.left+=p}else if(i.at[0]==="center"){w.left+=p/2}if(i.at[1]==="bottom"){w.top+=u}else if(i.at[1]==="center"){w.top+=u/2}e=d(x.at,p,u);w.left+=e[0];w.top+=e[1];return this.each(function(){var f,s,h=t(this),r=h.outerWidth(),c=h.outerHeight(),g=a(this,"marginLeft"),v=a(this,"marginTop"),T=r+g+a(this,"marginRight")+b.width,L=c+v+a(this,"marginBottom")+b.height,P=t.extend({},w),E=d(x.my,h.outerWidth(),h.outerHeight());if(i.my[0]==="right"){P.left-=r}else if(i.my[0]==="center"){P.left-=r/2}if(i.my[1]==="bottom"){P.top-=c}else if(i.my[1]==="center"){P.top-=c/2}P.left+=E[0];P.top+=E[1];if(!t.support.offsetFractions){P.left=n(P.left);P.top=n(P.top)}f={marginLeft:g,marginTop:v};t.each(["left","top"],function(o,l){if(t.ui.position[H[o]]){t.ui.position[H[o]][l](P,{targetWidth:p,targetHeight:u,elemWidth:r,elemHeight:c,collisionPosition:f,collisionWidth:T,collisionHeight:L,offset:[e[0]+E[0],e[1]+E[1]],my:i.my,at:i.at,within:W,elem:h})}});if(i.using){s=function(t){var e=m.left-P.left,n=e+p-r,f=m.top-P.top,s=f+u-c,d={target:{element:y,left:m.left,top:m.top,width:p,height:u},element:{element:h,left:P.left,top:P.top,width:r,height:c},horizontal:n<0?"left":e>0?"right":"center",vertical:s<0?"top":f>0?"bottom":"middle"};if(p<r&&l(e+n)<p){d.horizontal="center"}if(u<c&&l(f+s)<u){d.vertical="middle"}if(o(l(e),l(n))>o(l(f),l(s))){d.important="horizontal"}else{d.important="vertical"}i.using.call(this,t,d)}}h.offset(t.extend(P,{using:s}))})};t.ui.position={fit:{left:function(t,i){var e=i.within,l=e.isWindow?e.scrollLeft:e.offset.left,n=e.width,f=t.left-i.collisionPosition.marginLeft,s=l-f,h=f+i.collisionWidth-n-l,r;if(i.collisionWidth>n){if(s>0&&h<=0){r=t.left+s+i.collisionWidth-n-l;t.left+=s-r}else if(h>0&&s<=0){t.left=l}else{if(s>h){t.left=l+n-i.collisionWidth}else{t.left=l}}}else if(s>0){t.left+=s}else if(h>0){t.left-=h}else{t.left=o(t.left-f,t.left)}},top:function(t,i){var e=i.within,l=e.isWindow?e.scrollTop:e.offset.top,n=i.within.height,f=t.top-i.collisionPosition.marginTop,s=l-f,h=f+i.collisionHeight-n-l,r;if(i.collisionHeight>n){if(s>0&&h<=0){r=t.top+s+i.collisionHeight-n-l;t.top+=s-r}else if(h>0&&s<=0){t.top=l}else{if(s>h){t.top=l+n-i.collisionHeight}else{t.top=l}}}else if(s>0){t.top+=s}else if(h>0){t.top-=h}else{t.top=o(t.top-f,t.top)}}},flip:{left:function(t,i){var e=i.within,o=e.offset.left+e.scrollLeft,n=e.width,f=e.isWindow?e.scrollLeft:e.offset.left,s=t.left-i.collisionPosition.marginLeft,h=s-f,r=s+i.collisionWidth-n-f,p=i.my[0]==="left"?-i.elemWidth:i.my[0]==="right"?i.elemWidth:0,c=i.at[0]==="left"?i.targetWidth:i.at[0]==="right"?-i.targetWidth:0,d=-2*i.offset[0],a,g;if(h<0){a=t.left+p+c+d+i.collisionWidth-n-o;if(a<0||a<l(h)){t.left+=p+c+d}}else if(r>0){g=t.left-i.collisionPosition.marginLeft+p+c+d-f;if(g>0||l(g)<r){t.left+=p+c+d}}},top:function(t,i){var e=i.within,o=e.offset.top+e.scrollTop,n=e.height,f=e.isWindow?e.scrollTop:e.offset.top,s=t.top-i.collisionPosition.marginTop,h=s-f,r=s+i.collisionHeight-n-f,p=i.my[1]==="top",c=p?-i.elemHeight:i.my[1]==="bottom"?i.elemHeight:0,d=i.at[1]==="top"?i.targetHeight:i.at[1]==="bottom"?-i.targetHeight:0,a=-2*i.offset[1],g,u;if(h<0){u=t.top+c+d+a+i.collisionHeight-n-o;if(t.top+c+d+a>h&&(u<0||u<l(h))){t.top+=c+d+a}}else if(r>0){g=t.top-i.collisionPosition.marginTop+c+d+a-f;if(t.top+c+d+a>r&&(g>0||l(g)<r)){t.top+=c+d+a}}}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments);t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments);t.ui.position.fit.top.apply(this,arguments)}}};(function(){var i,e,o,l,n,f=document.getElementsByTagName("body")[0],s=document.createElement("div");i=document.createElement(f?"div":"body");o={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(f){t.extend(o,{position:"absolute",left:"-1000px",top:"-1000px"})}for(n in o){i.style[n]=o[n]}i.appendChild(s);e=f||document.documentElement;e.insertBefore(i,e.firstChild);s.style.cssText="position: absolute; left: 10.7432222px;";l=t(s).offset().left;t.support.offsetFractions=l>10&&l<11;i.innerHTML="";e.removeChild(i)})()})(jQuery);
},
	"sap/ui/thirdparty/signals.js":function(){
/** @license
 * JS Signals <http://millermedeiros.github.com/js-signals/>
 * Released under the MIT license
 * Author: Miller Medeiros
 * Version: 1.0.0 - Build: 268 (2012/11/29 05:48 PM)
 */
(function(i){function t(i,t,e,n,s){this._listener=t;this._isOnce=e;this.context=n;this._signal=i;this._priority=s||0}t.prototype={active:true,params:null,execute:function(i){var t,e;if(this.active&&!!this._listener){e=this.params?this.params.concat(i):i;t=this._listener.apply(this.context,e);if(this._isOnce){this.detach()}}return t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal;delete this._listener;delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}};function e(i,t){if(typeof i!=="function"){throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))}}function n(){this._bindings=[];this._prevParams=null;var i=this;this.dispatch=function(){n.prototype.dispatch.apply(i,arguments)}}n.prototype={VERSION:"1.0.0",memorize:false,_shouldPropagate:true,active:true,_registerListener:function(i,e,n,s){var r=this._indexOfListener(i,n),h;if(r!==-1){h=this._bindings[r];if(h.isOnce()!==e){throw new Error("You cannot add"+(e?"":"Once")+"() then add"+(!e?"":"Once")+"() the same listener without removing the relationship first.")}}else{h=new t(this,i,e,n,s);this._addBinding(h)}if(this.memorize&&this._prevParams){h.execute(this._prevParams)}return h},_addBinding:function(i){var t=this._bindings.length;do{--t}while(this._bindings[t]&&i._priority<=this._bindings[t]._priority);this._bindings.splice(t+1,0,i)},_indexOfListener:function(i,t){var e=this._bindings.length,n;while(e--){n=this._bindings[e];if(n._listener===i&&n.context===t){return e}}return-1},has:function(i,t){return this._indexOfListener(i,t)!==-1},add:function(i,t,n){e(i,"add");return this._registerListener(i,false,t,n)},addOnce:function(i,t,n){e(i,"addOnce");return this._registerListener(i,true,t,n)},remove:function(i,t){e(i,"remove");var n=this._indexOfListener(i,t);if(n!==-1){this._bindings[n]._destroy();this._bindings.splice(n,1)}return i},removeAll:function(){var i=this._bindings.length;while(i--){this._bindings[i]._destroy()}this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=false},dispatch:function(i){if(!this.active){return}var t=Array.prototype.slice.call(arguments),e=this._bindings.length,n;if(this.memorize){this._prevParams=t}if(!e){return}n=this._bindings.slice();this._shouldPropagate=true;do{e--}while(n[e]&&this._shouldPropagate&&n[e].execute(t)!==false)},forget:function(){this._prevParams=null},dispose:function(){this.removeAll();delete this._bindings;delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var s=n;s.Signal=n;if(typeof define==="function"&&define.amd){define(function(){return s})}else{i["signals"]=s}})(this);
},
	"sap/ushell/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.ushell","type":"library","embeds":["appRuntime/ui5/plugins/rtaAgent","appRuntime/ui5/plugins/rtaShell","components/appfinder","components/cepsearchresult/app","components/cepsearchresult/app/cards/searchresultwidget","components/contentFinder","components/contentFinder/dialog","components/contentFinderStandalone","components/homeApp/error","components/homepage","components/pages","components/runtimeSwitcher","components/shell/FloatingContainer","components/shell/MenuBar","components/shell/NavigationBarMenu","components/shell/Search","components/shell/SearchCEPNew","components/shell/Settings/userDefaults","components/shell/ShellBar","components/shell/SideNavigation","components/tiles/cdm/applauncher","components/tiles/cdm/applauncherdynamic","components/workPageBuilder","components/workPageRuntime","plugins/appwarmup","plugins/ghostapp","plugins/rta","plugins/rta-personalize","renderer/rendererTargetWrapper","renderer/search/searchComponent"],"applicationVersion":{"version":"1.141.1"},"title":"SAP library: sap.ushell","description":"SAP library: sap.ushell","ach":"CA-FLP-FE-UI","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_belize","sap_belize_base","sap_belize_hcb","sap_belize_hcw","sap_belize_plus","sap_bluecrystal","sap_bluecrystal_base","sap_fiori_3","sap_fiori_3_dark","sap_fiori_3_hcb","sap_fiori_3_hcw","sap_hcb","sap_horizon","sap_horizon_dark","sap_horizon_hcb","sap_horizon_hcw"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.141","libs":{"sap.f":{"minVersion":"1.141.1","lazy":true},"sap.m":{"minVersion":"1.141.1"},"sap.ui.core":{"minVersion":"1.141.1"},"sap.ui.layout":{"minVersion":"1.141.1","lazy":true},"sap.suite.ui.commons":{"minVersion":"1.141.0","lazy":true},"sap.suite.ui.microchart":{"minVersion":"1.141.1","lazy":true},"sap.ui.comp":{"minVersion":"1.141.1","lazy":true},"sap.ui.export":{"minVersion":"1.141.1","lazy":true},"sap.collaboration":{"minVersion":"1.141.0","lazy":true},"sap.ui.table":{"minVersion":"1.141.1","lazy":true},"sap.ui.integration":{"minVersion":"1.141.1","lazy":true},"sap.ui.generic.app":{"minVersion":"1.141.0","lazy":true},"sap.esh.search.ui":{"minVersion":"1.141.1","lazy":true}}},"library":{"i18n":false,"content":{"controls":["sap.ushell.appIntegration.ApplicationContainer","sap.ushell.appIntegration.IframeApplicationContainer","sap.ushell.appIntegration.UI5ApplicationContainer","sap.ushell.components.container.ApplicationContainer","sap.ushell.components.factsheet.controls.PictureTile","sap.ushell.components.factsheet.controls.PictureViewer","sap.ushell.components.factsheet.controls.PictureViewerItem","sap.ushell.components.shell.Settings.userDefaults.UserDefaultsForm","sap.ushell.components.tiles.sbtilecontent","sap.ushell.components.workPageBuilder.controls.WorkPage","sap.ushell.components.workPageBuilder.controls.WorkPageButton","sap.ushell.components.workPageBuilder.controls.WorkPageCell","sap.ushell.components.workPageBuilder.controls.WorkPageColumn","sap.ushell.components.workPageBuilder.controls.WorkPageColumnResizer","sap.ushell.components.workPageBuilder.controls.WorkPageRow","sap.ushell.renderer.NavContainer","sap.ushell.ui.launchpad.VizInstance","sap.ushell.ui.launchpad.VizInstanceBase","sap.ushell.ui.launchpad.VizInstanceAbap","sap.ushell.ui.launchpad.VizInstanceCdm","sap.ushell.ui.launchpad.VizInstanceLaunchPage","sap.ushell.ui.launchpad.VizInstanceLink","sap.ushell.ui.AppContainer","sap.ushell.ui.ContentNodeSelector","sap.ushell.ui.ContentNodeTreeItem","sap.ushell.ui.CustomGroupHeaderListItem","sap.ushell.ui.ShellHeader","sap.ushell.ui.appfinder.AppBox","sap.ushell.ui.appfinder.AppBoxInternal","sap.ushell.ui.appfinder.PinButton","sap.ushell.ui.footerbar.AboutButton","sap.ushell.ui.footerbar.AddBookmarkButton","sap.ushell.ui.footerbar.ContactSupportButton","sap.ushell.ui.footerbar.JamDiscussButton","sap.ushell.ui.footerbar.JamShareButton","sap.ushell.ui.footerbar.LogoutButton","sap.ushell.ui.footerbar.SendAsEmailButton","sap.ushell.ui.launchpad.ActionItem","sap.ushell.ui.launchpad.AnchorItem","sap.ushell.ui.launchpad.AnchorNavigationBar","sap.ushell.ui.launchpad.CatalogEntryContainer","sap.ushell.ui.launchpad.CatalogsContainer","sap.ushell.ui.launchpad.DashboardGroupsContainer","sap.ushell.ui.launchpad.GroupHeaderActions","sap.ushell.ui.launchpad.GroupListItem","sap.ushell.ui.launchpad.LinkTileWrapper","sap.ushell.ui.launchpad.LoadingDialog","sap.ushell.ui.launchpad.Page","sap.ushell.ui.launchpad.PlusTile","sap.ushell.ui.launchpad.Section","sap.ushell.ui.launchpad.Tile","sap.ushell.ui.launchpad.TileContainer","sap.ushell.ui.launchpad.TileState","sap.ushell.ui.launchpad.TileStateInternal","sap.ushell.ui.launchpad.section.CompactArea","sap.ushell.ui.shell.FloatingContainer","sap.ushell.ui.shell.NavigationMiniTile","sap.ushell.ui.shell.OverflowListItem","sap.ushell.ui.shell.RightFloatingContainer","sap.ushell.ui.shell.ShellAppTitle","sap.ushell.ui.shell.ShellFloatingAction","sap.ushell.ui.shell.ShellFloatingActions","sap.ushell.ui.shell.ShellHeadItem","sap.ushell.ui.shell.ShellNavigationMenu","sap.ushell.ui.shell.SidePane","sap.ushell.ui.shell.SubHeader","sap.ushell.ui.shell.SysInfoBar","sap.ushell.ui.shell.ToolArea","sap.ushell.ui.shell.ToolAreaItem","sap.ushell.ui.tile.DynamicTile","sap.ushell.ui.tile.ImageTile","sap.ushell.ui.tile.StaticTile","sap.ushell.ui.tile.TileBase"],"elements":["sap.ushell.ui.launchpad.AccessibilityCustomData"],"types":["sap.ushell.AllMyAppsState","sap.ushell.AllMyAppsProviderType","sap.ushell.AppTitleState","sap.ushell.ContentNodeType","sap.ushell.appIntegration.contracts.StatefulType","sap.ushell.components.container.ApplicationType","sap.ushell.DisplayFormat","sap.ushell.NavigationState","sap.ushell.ui.launchpad.ViewPortState","sap.ushell.ui.tile.State","sap.ushell.ui.tile.StateArrow","sap.ushell.VisualizationLoadState","sap.ushell.AppType","sap.ushell.FloatingNumberType"],"interfaces":["sap.ushell.renderer.INavContainerPage"]}}}}'
},"sap/ui/core/library-preload");
sap.ui.require(["sap/ui/core/Core"], (Core) => Core.boot?.());
//# sourceMappingURL=core-min-3.js.map
