//@ui5-bundle sap/fiori/flp-controls.js
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Layout", ["sap/base/i18n/Localization","sap/base/util/extend","sap/ui/Device","sap/ui/core/Element","sap/ui/core/EventBus","sap/ui/thirdparty/jquery","sap/ushell/Config","sap/ushell/Container"],(t,e,i,s,n,jQuery,o,r)=>{"use strict";function l(t){this.init(t)}l.prototype={settings:null,tileWidth:0,tileHeight:0,tileMargin:0,curTouchMatrixCords:null,tilesInRow:null,groupsList:null,item:null,matrix:null,tiles:null,collisionLeft:false,startGroup:null,currentGroup:null,endGroup:null,init:function(i){this.curTouchMatrixCords={column:null,row:null};this.endGroup=null;this.groupSwitched=false;this.item=null;this.matrix=null;this.tiles=null;this.collisionLeft=false;this.startArea=null;this.currentArea=null;this.endArea=undefined;this.startGroup=null;this.draggedTileDomRef=null;this.sDragStartGroupModelId=undefined;this.sDragTargetGroupModelId=undefined;this.currentGroup=null;this.groupsList=null;this.allGroups=null;this.settings=this.settings||i;e(this,this.settings);this.tileWidth=this.thisLayout.styleInfo.tileWidth;this.tileHeight=this.thisLayout.styleInfo.tileHeight;this.tileMargin=this.thisLayout.styleInfo.tileMarginWidth;this.aExcludedControlClass=this.aExcludedControlClass||[];this.reorderElementsCallback=this.reorderElementsCallback||function(){};this.rightToLeft=t.getRTL();this.tabBarArrowCollisionRight=false;this.tabBarArrowCollisionLeft=false;this.collidedLinkAreas=[];this.intersectedLink=null;this.aLinksBoundingRects=[];this.intersectedLinkPlaceHolder=undefined;this.isLinkPersonalizationSupported=this.thisLayout.oLaunchPageService?this.thisLayout.oLaunchPageService.isLinkPersonalizationSupported():null;this.isLinkMarkerShown=false;this.bIsTabBarCollision=false},moveDraggable:function(t,e,i){const s=this.getCollisionObject(t,e,i);let n;if(s){this._toggleAnchorItemHighlighting(false);if(s.collidedObjectType!=="TabBar"){this._toggleTabBarOverflowArrows(false);this.thisLayout.setOnTabBarElement(false);this._resetOverFlowButtonElements();this.bIsTabBarCollision=false}else{this.bIsTabBarCollision=true;this._toggleTabBarOverflowArrows(true);this.removePlaceHolders();this._handleTabBarCollision(t,i)}if(this.isLinkPersonalizationSupported&&s.collidedObjectType==="Group-link"){n=this._handleLinkAreaIntersection(s.collidedObject,t,e)}else if(s.collidedObjectType==="Group-tile"){n=this._handleTileAreaIntersection(s.collidedObject,t,e);this._toggleTileCloneHoverOpacity(false)}if(n||this.endAreaChanged){this.handlePlaceHolder(s.collidedObject)}}else{this._removeEmptyLinkAreaMark()}},_toggleAnchorItemHighlighting:function(t){if(this.targetGroup){this.targetGroup.classList.toggle("sapUshellAnchorItemDropCollision",t);this.targetGroup.firstElementChild.classList.toggle("sapUshellAnchorInnerMarker",t)}},removePlaceHolders:function(){this._removeLinkDropMarker();this._removeEmptyLinkAreaMark();this._handleChangedGroup(this.currentGroup)},handlePlaceHolder:function(t){if(this.endArea==="tiles"){if(this.endAreaChanged){this._removeLinkDropMarker()}this.handlePlaceholderChange()}else if(this.endArea==="links"&&this.intersectedLink){this._changeLinkPlaceholder(this.intersectedLink,t);if(this.endAreaChanged){this.handlePlaceholderChange()}}},switchLinkWithClone:function(t){if(t){this.intersectedLinkPlaceHolder=t.getDomRef().cloneNode(true);this.intersectedLinkPlaceHolder.setAttribute("id","sapUshellIntersectedLinkPlaceHolder");t.$().replaceWith(this.intersectedLinkPlaceHolder)}},_removeLinkDropMarker:function(){jQuery("#sapUshellLinkDropMarker").remove();this.isLinkMarkerShown=false},saveLinkBoundingRects:function(t){const e=s.getElementById(t.getAttribute("id"));this.draggedLinkBoundingRects=e.getBoundingRects()},_getMarkerOffset:function(t,e){const i=e.getDomRef().getElementsByClassName("sapUshellLineModeContainer")[0].getBoundingClientRect();const s=i.left;const n=i.top;const o=this.rightToLeft?20:-1;const r=this.rightToLeft?42:21;let l=t[t.length-1].offset.x-s+t[t.length-1].width-o;let a=t[this.rightToLeft?t.length-1:0].offset.x-s-r;let h=t[this.rightToLeft?t.length-1:0].offset.y-n;let u=t[this.rightToLeft?0:t.length-1].offset.y-n;if(document.body.classList.contains("sapUiSizeCompact")){h-=6;u-=6}if(this.rightToLeft){if(i.right-t[t.length-1].offset.x-t[t.length-1].width<16){l=l-8}}else if(a<16){a=0}return{right:l,left:a,topLeft:h,topRight:u}},_changeLinkPlaceholder:function(t,e){const i=this.aLinksBoundingRects[t.link.getId()];const s=i.left;const n=i.topLeft;const o=i.topRight;const r=i.right;if(!e.getDomRef().querySelector("#sapUshellLinkDropMarker")){this._removeLinkDropMarker();const t=e.getDomRef().getElementsByClassName("sapUshellLinksInnerContainer")[0];jQuery(t).prepend(this.LinkDropMarker)}this.LinkDropMarker.style.left=`${t.leftSide?s:r}px`;this.LinkDropMarker.style.top=`${t.leftSide?n:o}px`;this.isLinkMarkerShown=true},showTilePlaceholder:function(t,e,i){const s=this.curTouchMatrixCords.row;const n=this.curTouchMatrixCords.column;this.domRef=this.item.getDomRef()?this.item.getDomRef():this.domRef;this.domRef.style.display="";this.removeExcludedElementsFromMatrix(this.aExcludedControlClass);const o=this.tiles||this.thisLayout.getGroupTiles(this.endGroup).slice(0);if(this.matrix[s]&&typeof this.matrix[s][n]==="object"){this.handleMatrixCollision(o,t,e,i);return}this._handleMoveOutOfBorders(o,t)},removeTilePlaceholder:function(){this.domRef=this.item.getDomRef()||this.domRef;let t=this.thisLayout.getGroupTiles(this.currentGroup);t=t.slice(0);if(this.startArea!=="links"&&t.indexOf(this.item)>-1){t.splice(t.indexOf(this.item),1)}if(!this.domRef.parentNode.contains("sapUshellLinksInnerContainer")){this.domRef.style.display="none"}this.thisLayout.initGroupDragMode(this.endGroup);const e=this.thisLayout.organizeGroup(t);this.thisLayout.renderLayoutGroup(this.currentGroup,e)},handlePlaceholderChange:function(){const t=this.currentGroup;const e=this.endGroup!==this.currentGroup;const i=this.endAreaChanged&&this.endArea==="links";const s=this.thisLayout.isTabBarActive()&&this.groupSwitched;this.tiles=this.thisLayout.getGroupTiles(this.endGroup).slice(0);this.matrix=this.thisLayout.organizeGroup(this.tiles);if(s){this.handleTabBarSwitch(t)}if(e){this._handleChangedGroup(t)}else if(i){this.removeTilePlaceholder()}if(!i){this.showTilePlaceholder(t,e,i)}},handleMatrixCollision:function(t,e,i,s){let n=this.matrix[this.curTouchMatrixCords.row][this.curTouchMatrixCords.column];const o=t.indexOf(n);const r=t.indexOf(this.item);if(this.rightToLeft){this.collisionLeft=!this.collisionLeft}if(r>-1&&r<o){n=t[o+1]}if(n===this.item){if(i||s){t.splice(t.indexOf(this.item),1)}this._handleTileReplace(t,e);return}const l=this.changeTilesOrder(this.item,n,t,this.matrix);if(l&&!this.isLinkMarkerShown){this._handleTileReplace(l,e)}},handleTabBarSwitch:function(t){this._appendTargetGroupDomRefWithDraggedTile();if(!this.item.getDomRef()){this.endGroup.getInnerContainersDomRefs()[0].appendChild(this.draggedTileDomRef)}else{this.endGroup.getInnerContainersDomRefs()[0].appendChild(this.item.getDomRef())}this.currentGroup=this.endGroup;const e=this.thisLayout.getGroupTiles(t);this.thisLayout.initGroupDragMode(this.endGroup);const i=this.thisLayout.organizeGroup(e);this.thisLayout.renderLayoutGroup(t,i)},_handleMoveOutOfBorders:function(t,e){const i=this.findTileToPlaceAfter(this.matrix,t);if(t[i+1]===this.item){return}let s;if(t[i+1]){s=t[i+1]}else if(this.currentGroup.getShowPlaceholder()){s=t[0]}const n=this.changeTilesOrder(this.item,s,t,this.matrix);if(n){this._handleTileReplace(n,e)}},_handleChangedGroup:function(t){let e=this.thisLayout.getGroupTiles(this.currentGroup);if(this.currentGroup===this.startGroup&&(this.startArea==="tiles"||this.intersectedLinkPlaceHolder)){e=e.slice(0);if(e.indexOf(this.item)>-1){e.splice(e.indexOf(this.item),1)}}if(this.startGroup===this.endGroup&&this.startArea==="tiles"){this.tiles.splice(this.tiles.indexOf(this.item),1)}const i=this.item.getDomRef()||this.domRef;if(this.startArea==="links"&&!this.intersectedLinkPlaceHolder){this.switchLinkWithClone(this.item)}if(this.endArea==="tiles"){this.endGroup.getInnerContainersDomRefs()[0].appendChild(i)}if(!i.parentNode.contains("sapUshellLinksInnerContainer")){i.style.display="none"}this.currentGroup=this.endGroup;this.thisLayout.initGroupDragMode(this.endGroup);const s=this.thisLayout.organizeGroup(e);this.thisLayout.renderLayoutGroup(t,s)},_handleTileReplace:function(t,e){this.reorderElementsCallback({currentGroup:e,endGroup:this.endGroup,tiles:t,item:this.item});this.reorderTilesView(t,this.endGroup);this.reorderTilesInDom();this.thisLayout.renderLayoutGroup(this.endGroup,this.matrix)},_getIntersectedLink:function(t,e,i){const s=document.getElementsByClassName("sapUshellLinkTile")[0];if(!s){return}const n=t.getDomRef().querySelector(".sapUshellLineModeContainer").getBoundingClientRect();const o=!document.body.classList.contains("sapUiSizeCompact");let r=Math.floor((i-n.top)/(o?45:31));const l=this.collidedLinkAreas[t.getId()];let a;if(this.rightToLeft){a=Math.floor((n.right-e)/20)}else{a=Math.floor((e-n.left)/20)}if(r<l.length&&l[r]&&a<l[r].length){return l[r][a]}else if(l.length){const e=l.length;if(r>=e){r=e-1}if(!this.collidedLinkAreas[t.getId()][r]){return}a=this.collidedLinkAreas[t.getId()][r].length;return this.collidedLinkAreas[t.getId()][r][a-1]}},_mapGroupLinks:function(t){const e=t.getId();if(!this.collidedLinkAreas[e]||this.bElapseGroupLinksMap){this.bElapseGroupLinksMap=false;const i=t.getLinks();const s=[];let n;let o;let r=0;this.collidedLinkAreas.push(t.getId());i.forEach(e=>{o=this._getLinkBoundingRects(e,t);o.forEach(i=>{if(i.offset.y>n){r++}n=i.offset.y;this._addLinkToHashMap(s,t,i,r,e)})});this.collidedLinkAreas[e]=s}},_getLinkBoundingRects:function(t,e){let i=t.getBoundingRects();if(this.item&&this.item.getId()===t.getId()){i=this.draggedLinkBoundingRects}if(i.length){this.aLinksBoundingRects[t.getId()]=this._getMarkerOffset(i,e)}return i},_addLinkToHashMap:function(t,e,i,s,n){if(!t[s]){t[s]=[]}for(let e=0;e<=(i.width+20)/20;e++){const o={link:n,leftSide:!this.rightToLeft};if(e>(i.width+20)/20/2){o.leftSide=this.rightToLeft}t[s].push(o)}},_isLinkAreaIntersection:function(t,e,i){const s=t.getInnerContainersDomRefs();if(s[1]){return this._isElementCollideByGivenCordinates(s[1],e,i)}return false},_isLinksEquals:function(t,e){if(!t||!e){return false}if(t.link.getId()!==e.link.getId()){return false}return t.link.leftSide===e.link.leftSide},_toggleTileCloneHoverOpacity:function(t){const e=document.getElementsByClassName("sapUshellTile-clone");for(let i=0;i<e.length;++i){e[i].classList.toggle("sapUshellTileDragOpacity",t)}},_handleLinkAreaIntersection:function(t,e,i){if(this.isLinkPersonalizationSupported){this._toggleTileCloneHoverOpacity(true)}this._mapGroupLinks(t);this.matrix=this.matrix||this.thisLayout.organizeGroup(this.thisLayout.getGroupTiles(t));const s=this._getIntersectedLink(t,e,i);let n=false;if(s){n=this._isLinksEquals(this.intersectedLink,s);this.intersectedLink=s}else{this.removeTilePlaceholder()}this._markEmptyLinkArea(t);return n},_markEmptyLinkArea:function(t){if(!t.getLinks().length){const e=t.getDomRef();if(e){const t=e.getElementsByClassName("sapUshellLineModeContainer");for(let e=0;e<t.length;++e){t[e].classList.add("sapUshellEmptyLinkAreaHover")}}}},_removeEmptyLinkAreaMark:function(){const t=document.getElementsByClassName("sapUshellLineModeContainer");for(let e=0;e<t.length;++e){t[e].classList.remove("sapUshellEmptyLinkAreaHover")}},reorderTilesInDom:function(){const t=this.item.getDomRef()?this.item.getDomRef():this.domRef;const e=jQuery(t).index();const i=jQuery(t).closest(".sapUshellTilesContainer-sortable");const s=this.calcDestIndexInGroup();const n=jQuery(this.endGroup.getDomRef()).find(".sapUshellTilesContainer-sortable");let o=n.find(".sapUshellTile");if(this.startArea==="tiles"){i.find(o[e]).remove()}else if(!this.intersectedLinkPlaceHolder){this.switchLinkWithClone(this.item)}if(this.endArea!=="links"){o=n.find(".sapUshellTile");n[0].insertBefore(t,o[s])}},isLinkIntersected:function(){return this.intersectedLink!==undefined},calcDestIndexInGroup:function(){let t;let e=0;let i;let s;let n=false;for(i=0;i<this.matrix.length&&!n;i++){for(s=0;s<this.matrix[i].length;s++){if(this.matrix[i][s]!==undefined){if(this.item.sId!==this.matrix[i][s].sId){if(t!==this.matrix[i][s].sId){t=this.matrix[i][s].sId;e++}}else{n=true;break}}}}return e},layoutStartCallback:function(t){this.init();this.item=s.getElementById(t.getAttribute("id"));this.tilesInRow=this.thisLayout.getTilesInRow();this.groupsList=this.thisLayout.getGroups();this.allGroups=this.thisLayout.getAllGroups();this.startGroup=this.currentGroup=this.item.getParent();this.groupSwitched=false;this.startArea=this.isLinkPersonalizationSupported&&this.item.getMode&&this.item.getMode()==="LineMode"?"links":"tiles";this.currentArea=this.startArea;this.thisLayout.initDragMode();if(this.isLinkPersonalizationSupported){this.LinkDropMarker=this._getLinkDropMarkerElement()}},_getLinkDropMarkerElement:function(){const t=document.createElement("DIV");const e=document.createElement("DIV");const i=document.createElement("DIV");t.setAttribute("id","sapUshellLinkDropMarker");e.setAttribute("id","sapUshellLinkDropMarkerDot");i.setAttribute("id","sapUshellLinkDropMarkerLine");t.appendChild(e);t.appendChild(i);return t},isAreaChanged:function(){return this.currentArea&&this.endArea?this.currentArea!==this.endArea:false},isOriginalAreaChanged:function(){return this.startArea&&this.endArea?this.startArea!==this.endArea:false},_getDestinationIndex:function(t){if(t==="links"){if(this.intersectedLink){let t=this.endGroup.getLinks().indexOf(this.intersectedLink.link);const e=this.endGroup.getLinks().indexOf(this.item);if(this.intersectedLink.leftSide){t=this.rightToLeft?t+1:t-1}if(e<0||e>t){t=this.rightToLeft?t:t+1}return t}return this.endGroup.getLinks().length}return this._getDestinationTileIndex()},layoutEndCallback:function(){this._removeLinkDropMarker();if(this.endArea!=="links"&&!this.tiles){return{tile:this.item}}const t=this._getDragSourceGroup();if(!u.isTabBarActive()||!this.bIsTabBarCollision){this.targetGroup=""}const e=this._getDestGroupObject(this.targetGroup);const i={srcGroup:t,dstGroup:e,dstGroupData:this._getDropTargetGroup(),tile:this.item,dstTileIndex:this._getDestinationIndex(this.endArea),tileMovedFlag:true,srcArea:this.startArea,dstArea:this.bIsTabBarCollision?undefined:this.endArea};return i},_getDestGroupObject:function(t){return t?s.getElementById(t.getAttribute("id")):this.endGroup},_getDragSourceGroup:function(){let t;t=this.startGroup;if(this.thisLayout.isTabBarActive()&&this.groupSwitched===true){t={groupId:this.sDragStartGroupModelId}}return t},_getDropTargetGroup:function(){let t;if(this.thisLayout.isTabBarActive()&&this.thisLayout.isOnTabBarElement()){t={groupId:this.sDragTargetGroupModelId}}else{t=this.endGroup}return t},_getDestinationTileIndex:function(){let t;let e;if(this.thisLayout.isTabBarActive()&&this.thisLayout.isOnTabBarElement()){t=this._getDropTargetGroup().groupId;e=this._getModelGroupById(t);return e.tiles.length}return this.tiles.indexOf(this.item)},compareArrays:function(t,e){if(t.length!==e.length){return false}for(let i=0;i<t.length;i++){if(t[i]!==e[i]){return false}}return true},reorderTilesView:function(t){this.tiles=t;this.matrix=this.thisLayout.organizeGroup(t)},changeTilesOrder:function(t,e,i,s){const n=i.slice(0);const o=n.indexOf(t);let r;let l;let a;if(o>-1){n.splice(o,1)}if(e){n.splice(n.indexOf(e),0,this.item)}else{n.push(t)}if(this.currentGroup===this.endGroup){if(this.compareArrays(i,n)){return false}r=this.thisLayout.organizeGroup(n);l=this.thisLayout.getTilePositionInMatrix(t,s);a=this.thisLayout.getTilePositionInMatrix(t,r);if(l.row===a.row&&l.col===a.col){return false}}this.tiles=n;this.currentGroup=this.endGroup;return n},setMatrix:function(t){this.matrix=t},findTileToPlaceAfter:function(t,e){let i=this.thisLayout.rightToLeft?0:this.curTouchMatrixCords.column;const s=this.thisLayout.rightToLeft?1:-1;let n=0;let o;let r;let l;const a=t[0].length;for(o=this.curTouchMatrixCords.row;o>=0;o--){for(r=i;r>=0&&r<a;r+=s){if(!t[o]||typeof t[o][r]!=="object"){continue}l=e.indexOf(t[o][r]);n=l>n?l:n}i=t[0].length-1}return n||e.length-1},_isElementCollideByGivenCordinates:function(t,e,i){let s=t.getBoundingClientRect();let n=false;let o=false;if(s.height===0&&!t.classList.contains("sapUshellNoLinksAreaPresent")){s=t.parentNode.getBoundingClientRect()}n=s.right>=e&&s.left<=e;o=s.bottom>=i&&s.top<=i;return n&&o},_getMatrixCordinatesOfTouchedTile:function(t,i,s){let n=e({},this.curTouchMatrixCords);const o=t.getInnerContainersDomRefs()[0].getBoundingClientRect();this.matrix=this.matrix||this.thisLayout.organizeGroup(this.thisLayout.getGroupTiles(t));const r=this.rightToLeft?o.right+-1*i:o.left*-1+i;const l=(o.top*-1+s)/(this.tileHeight+this.tileMargin);const a=r/(this.tileWidth+this.tileMargin);n={row:Math.floor(l),column:Math.floor(a)};return n},_getCollidedGroup:function(t,e){for(let i=0;i<this.groupsList.length;i++){const s=this.groupsList[i];const n=s.getInnerContainersDomRefs();if(!n){continue}for(let o=0;o<n.length;o++){if(n[o]&&this._isElementCollideByGivenCordinates(n[o],t,e)){const t=!s.groupHasTiles();for(let e=this.groupsList.length-1;e>=i;e--){if(t){break}if(!this.groupsList[e].groupHasTiles()){const t=this.groupsList[e].getDomRef();if(!t||!t.classList.contains("sapUshellInDragMode")){continue}const i=t.getElementsByClassName("sapUshellInner");for(let t=0;t<i.length;t++){i[t].removeAttribute("style")}}}return s}}}},_handleTileAreaIntersection:function(t,i,s){const n=this._getMatrixCordinatesOfTouchedTile(t,i,s);if(t===this.endGroup&&n.column===this.curTouchMatrixCords.column&&n.row===this.curTouchMatrixCords.row){return false}if(this.rightToLeft){this.collisionLeft=this.curTouchMatrixCords.column-n.column>0}else{this.collisionLeft=n.column-this.curTouchMatrixCords.column>0}if(n.column===this.curTouchMatrixCords.column){this.collisionLeft=false}e(this.curTouchMatrixCords,n);return true},_getGroupCollisionObject:function(t,e){const i=this._getCollidedGroup(t,e);if(!i||i.getIsGroupLocked()){return undefined}const s=this._isLinkAreaIntersection(i,t,e);this.endGroup=i;if(!this.tiles){this.tiles=this.thisLayout.getGroupTiles(this.endGroup).slice(0)}this.endArea=s?"links":"tiles";this.endAreaChanged=this.isAreaChanged();this.currentArea=this.endArea;return{collidedObjectType:s?"Group-link":"Group-tile",collidedObject:i}},getCollisionObject:function(t,e){if(this.thisLayout.oTabBarItemClickTimer){clearTimeout(this.thisLayout.oTabBarItemClickTimer)}if(this.thisLayout.isTabBarActive()&&this._isTabBarCollision(e)){return{collidedObjectType:"TabBar"}}return this._getGroupCollisionObject(t,e)},_isTabBarScrollArea:function(t){const e=jQuery("#anchorNavigationBar").height()||0;const i=jQuery("#anchorNavigationBar").offset();const s=i?i.top:0;const n=e+s;return e>0&&t>n&&t<n+30},_cancelLongDropTimmer:function(){clearTimeout(this.thisLayout.oTabBarItemClickTimer)},_isTabBarCollision:function(t){const e=jQuery("#anchorNavigationBar").height()||0;const i=jQuery("#anchorNavigationBar").offset();const s=i?i.top:0;return t<e+s&&t>s},_handleTabBarCollision:function(t,e){const i=this._getTabBarHoverItem(t,e);if(u.isTabBarActive()){this._toggleTileCloneHoverOpacity(true)}this.lastHighlitedTabItem=i;this.thisLayout.setOnTabBarElement(true);const s=this._handleOverflowCollision(t);if(s){return}if(!i){return}this.targetGroup=i;this.sDragTargetGroupModelId=i.getAttribute("modelGroupId");const o=this._getTabBarGroupIndexByModelId(this.sDragTargetGroupModelId);if(this.thisLayout.oTabBarItemClickTimer){clearTimeout(this.thisLayout.oTabBarItemClickTimer)}const r=this._getModelGroupById(this._getDropTargetGroup().groupId);if(r.isGroupLocked){this._toggleTabBarOverflowArrows(false);this.thisLayout.setOnTabBarElement(false);this._resetOverFlowButtonElements();return}this._toggleAnchorItemHighlighting(true);if(!this.sDragStartGroupModelId){this.sDragStartGroupModelId=this.startGroup.getGroupId()}this.thisLayout.oTabBarItemClickTimer=setTimeout(()=>{const t=this._getSelectedTabBarItem();if(this.lastHighlitedTabItem===t){return}this.draggedTileModelPath=this.item.getBindingContext().getPath();this._prepareDomForDragAndDrop();this.startGroup.removeAggregation("tiles",this.item,true);const e=this.sDragStartGroupModelId===this.sDragTargetGroupModelId;this.item.getBindingContext().oModel.setProperty(`${this.draggedTileModelPath}/draggedInTabBarToSourceGroup`,e);this.groupSwitched=true;n.getInstance().publish("launchpad","switchTabBarItem",{iGroupIndex:o});const i=this.thisLayout.getGroups();this.endGroup=i[0];this.bElapseGroupLinksMap=true},800);if(this.tiles===null&&this.endGroup){this.tiles=this.thisLayout.getGroupTiles(this.endGroup).slice(0)}const l=document.getElementsByClassName("sapUshellTabBarHoverOn");for(let t=l.length-1;t>=0;--t){l[t].classList.remove("sapUshellTabBarHoverOn")}i.classList.add("sapUshellTabBarHoverOn");return true},_prepareDomForDragAndDrop:function(){const t=this.item.getDomRef();if(i.system.tablet){const e=t.cloneNode(true);const i=t.parentNode;this.origItemId=t.getAttribute("id");this.origItemDataSapUi=t.getAttribute("data-sap-ui");t.removeAttribute("id");t.removeAttribute("data-sap-ui");t.style.display="none";e.style.display="none";const s=document.getElementById("dashboardGroups");s.parentNode.appendChild(t);i.appendChild(e);this.draggedTileDomRef=t}else if(!this.draggedTileDomRef){this.draggedTileDomRef=t}},_appendTargetGroupDomRefWithDraggedTile:function(){const t=this.endGroup.getInnerContainerDomRefs()?this.endGroup.getInnerContainerDomRefs()[0]:null;if(!this.item.getDomRef()){if(i.system.tablet){this.draggedTileDomRef.setAttribute("id",this.origItemId);this.draggedTileDomRef.setAttribute("data-sap-ui",this.origItemDataSapUi);this.draggedTileDomRef.style.display=""}if(t){t.appendChild(this.draggedTileDomRef)}}else{if(t){t.appendChild(this.item.getDomRef())}if(i.system.tablet){this.item.getDomRef().style.display=""}}},_getSelectedTabBarItem:function(){return document.getElementsByClassName("sapUshellAnchorItemSelected")[0]},_getTabBarGroupIndexByModelId:function(t){let e;for(let i=0;i<this.allGroups.length;++i){e=this.allGroups[i].groupId;if(t===e){return i}}},_getModelGroupById:function(t){const e=this.thisLayout.getAllGroups();let i;let s;for(let n=0;n<e.length;++n){i=e[n];s=i.groupId;if(s===t){return i}}},_handleOverflowCollision:function(t){const e=s.getElementById("anchorNavigationBar");const i=this._calculateOverflowButtonSideCollision(t);if(i==="right"){if(!this.tabBarArrowCollisionRight){e._scrollToGroupByGroupIndex(e.anchorItems.length-1,5e3);this.tabBarArrowCollisionRight=true}return true}else if(i==="left"){if(!this.tabBarArrowCollisionLeft){e._scrollToGroupByGroupIndex(0,5e3);this.tabBarArrowCollisionLeft=true}return true}this._resetOverFlowButtonElements();return false},_calculateOverflowButtonSideCollision:function(t){const e=jQuery(".sapUshellAnchorRightOverFlowButton");const i=e.offset().left;const s=jQuery(".sapUshellAnchorItemOverFlow");const n=s.offset().left;const o=jQuery(".sapUshellAnchorLeftOverFlowButton");const r=o.offset().left;const l=32;const a=jQuery("#anchorNavigationBar");const h=a.offset().left;if(t>i&&t<n){return"right"}if(t>h&&t<r+l){return"left"}},_resetOverFlowButtonElements:function(){const t=i.system.tablet;const e=jQuery(t?".sapUshellAnchorNavigationBarItemsScroll":".sapUshellAnchorNavigationBarItems");e.stop();this.tabBarArrowCollisionRight=false;this.tabBarArrowCollisionLeft=false},_toggleTabBarOverflowArrows:function(t){const e=document.getElementsByClassName("sapUshellAnchorRightOverFlowButton");const i=document.getElementsByClassName("sapUshellAnchorLeftOverFlowButton");for(let i=0;i<e.length;++i){e[i].classList.toggle("sapUshellTabBarOverflowButton",t)}for(let e=0;e<i.length;++e){i[e].classList.toggle("sapUshellTabBarOverflowButton",t)}},_getTabBarHoverItem:function(t,e){const i=jQuery(".sapUshellAnchorItem:not(.sapUshellShellHidden)").eq(0).offset().left;if(t-i<=0){return}let s=Math.round((t-i)/10);if(s>=e.length){s=e.length-1}const n=e[s];const o=document.getElementsByClassName("sapUshellAnchorItem");return o[n]},removeExcludedElementsFromMatrix:function(t){if(!t.length){return}if(!this.matrix){return}const e=this.matrix.map(e=>e.map(e=>{const i=t.some(t=>e instanceof t);return i?undefined:e}));this.setMatrix(e)},setExcludedControl:function(t){if(t){this.aExcludedControlClass.push(t)}},setReorderTilesCallback:function(t){if(typeof t==="function"){this.reorderElementsCallback=t}}};function a(){}let h;a.prototype={_initDeferred:new Promise(t=>{h=t}),init:function(t){const e=function(){const t=this.container&&this.container.getAttribute("id")||"";if(t.includes("destroyed")){return}const i=this.getStyleInfo(this.container);if(i.tileWidth>0){this.isInited=true;this.reRenderGroupsLayout();this.layoutEngine=new l({thisLayout:this});h();return}setTimeout(e,100)}.bind(this);this.cfg=t||this.cfg;this.minTilesinRow=2;this.container=this.cfg.container||document.getElementById("dashboardGroups");this.oTabBarItemClickTimer=new Date;this.bTabBarModeActive=false;this.bOnTabBarElement=false;const i=r.getServiceAsync("FlpLaunchPage");if(i){i.then(t=>{this.oLaunchPageService=t;e()})}else{e()}n.getInstance().subscribe("launchpad","tabBarChange",this._onTabBarChange,this);return this.getInitPromise()},setOnTabBarElement:function(t){this.bOnTabBarElement=t},isOnTabBarElement:function(){return this.bOnTabBarElement},_onTabBarChange:function(t,e,i){if(i==="tabs"){this.bTabBarModeActive=true}else{this.bTabBarModeActive=false}},tabBarTileDropped:function(){if(this.oTabBarItemClickTimer){clearTimeout(this.oTabBarItemClickTimer)}},getInitPromise:function(){return this._initDeferred},getLayoutEngine:function(){return this.layoutEngine},getStyleInfo:function(t){const e=document.createElement("div");const i=t.getAttribute("id");t=i?document.getElementById(i):t;if(!t){return{}}e.className="sapUshellTile";const s=o.last("/core/home/sizeBehavior");if(s==="Small"){e.classList.add("sapUshellSmall")}e.style.position="absolute";e.style.visibility="hidden";t.appendChild(e);const n=window.getComputedStyle(e);const r=window.getComputedStyle(t);const l={tileMarginHeight:parseFloat(n.marginBottom,10)+parseFloat(n.marginTop,10),tileMarginWidth:parseFloat(n.marginLeft,10)+parseFloat(n.marginRight,10),tileWidth:e.offsetWidth,tileHeight:e.offsetHeight,containerWidth:r.width?parseInt(r.width,10):t.offsetWidth};t.removeChild(e);return l},getGroups:function(){return this.cfg.getGroups()},getAllGroups:function(){return this.cfg.getAllGroups?this.cfg.getAllGroups():[]},isTabBarActive:function(){return this.cfg.isTabBarActive?this.cfg.isTabBarActive():false},getTilesInRow:function(){return this.tilesInRow},setTilesInRow:function(t){this.tilesInRow=t},checkPlaceForTile:function(t,i,s,n,o){if(typeof i[s.y]==="undefined"){i.push(new Array(i[0].length))}if(typeof i[s.y+1]==="undefined"){i.push(new Array(i[0].length))}if(typeof i[s.y][s.x]!=="undefined"){return false}const r=e({},s);if(o||t&&t.getLong&&!t.getLong()){return[r]}const l=[r];if(t&&t.getLong&&t.getLong()){if(s.x+1>=i[0].length||typeof i[r.y][r.x+1]!=="undefined"){return false}l.push({y:r.y,x:r.x+1})}return l},placeTile:function(t,e,i){for(let s=0;s<i.length;s++){e[i[s].y][i[s].x]=t}},getTilePositionInMatrix:function(t,e){for(let i=0;i<e.length;i++){for(let s=0;s<e[i].length;s++){if(e[i][s]===t){return{row:i,col:s}}}}return false},fillRowsInLine:function(t,e,i,s){if(!e.length){return 0}let n;for(let o=0;o<t[0].length&&e.length;o++){n=this.checkPlaceForTile(e[0],t,{x:o,y:i},s);if(n){this.placeTile(e[0],t,n);e.shift()}}},organizeGroup:function(t,e){const i=t.slice(0);let s=[];let n=0;s.push(new Array(e?Math.floor(this.tilesInRow/2):this.tilesInRow));while(i.length){this.fillRowsInLine(s,i,n,e);n++}if(this.rightToLeft){for(let t=0;t<s.length;t++){s[t].reverse()}}s=this.cleanRows(s);return s},cleanRows:function(t){let e=false;for(let i=t.length-1;i>0&&!e;i--){for(let s=0;s<t[i].length&&!e;s++){if(typeof t[i][s]==="object"){e=true}}if(!e){t.pop()}}return t},setGroupsLayout:function(t,e){if(t.getIsGroupLocked()&&e.length>0){const e=t.getDomRef().parentElement;t.getDomRef().style.width="";e.style.width="";e.style.display=""}},calcTilesInRow:function(t,e,i){let s=Math.floor(t/(e+i));s=s<this.minTilesinRow?this.minTilesinRow:s;return s},getGroupTiles:function(t){const e=t.getTiles();if(t.getShowPlaceholder()){e.push(t.oPlusTile)}return e},reRenderGroupsLayout:function(t){if(!this.isInited){return}const e=this.getStyleInfo(this.container);if(!e.tileWidth){return}this.styleInfo=e;this.tilesInRow=this.calcTilesInRow(e.containerWidth,e.tileWidth,e.tileMarginWidth);t=t||this.getGroups();for(let e=0;e<t.length;e++){if(t[e].getDomRef&&!t[e].getDomRef()){continue}const i=this.getGroupTiles(t[e]);const s=this.organizeGroup(i);this.setGroupsLayout(t[e],s)}},initDragMode:function(){this.initGroupDragMode(this.layoutEngine.currentGroup)},endDragMode:function(){const t=this.getGroups();for(let e=0;e<t.length;e++){const i=t[e].getDomRef();if(!i||!i.classList.contains("sapUshellInDragMode")){continue}i.classList.remove("sapUshellInDragMode");const s=this.getGroupTiles(t[e]);for(let t=0;t<s.length;t++){s[t].getDomRef().removeAttribute("style")}const n=i.getElementsByClassName("sapUshellInner");for(let t=0;t<n.length;t++){n[t].removeAttribute("style")}}},initGroupDragMode:function(t){if(t.$().hasClass("sapUshellInDragMode")){return}const e=this.getGroupTiles(t);const i=this.organizeGroup(e);t.$().addClass("sapUshellInDragMode");this.renderLayoutGroup(t,i)},calcTranslate:function(t,e){let i=e*(this.styleInfo.tileWidth+this.styleInfo.tileMarginWidth);const s=t*(this.styleInfo.tileHeight+this.styleInfo.tileMarginHeight);if(this.layoutEngine.rightToLeft){i=-i}return{x:i,y:s}},renderLayoutGroup:function(t,e){let i;this.styleInfo=this.getStyleInfo(this.container);for(let t=0;t<e.length;t++){for(let s=0;s<e[t].length;s++){if(i===e[t][s]){continue}else{i=e[t][s]}if(typeof i==="undefined"){break}}}}};const u=new a;return u});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/UIActions", ["sap/ui/core/Element","sap/ui/thirdparty/jquery","sap/base/Log"],(e,jQuery,t)=>{"use strict";function l(){const e=document.activeElement?document.activeElement.tagName:"";return e==="INPUT"||e==="TEXTAREA"}function s(s){if(!s||!s.rootSelector||!s.containerSelector||!s.draggableSelector){throw new Error("No configuration object to initialize User Interaction module.")}this.captureStart=null;this.captureMove=null;this.captureEnd=null;this.clickCallback=null;this.clickEvent=null;this.clickHandler=null;this.clone=null;this.cloneClass=null;this.container=null;this.contextMenuEvent=null;this.debug=null;this.defaultMouseMoveEvent=null;this.deltaTop=0;this.disabledDraggableSelector=null;this.dragAndScrollCallback=null;this.dragAndScrollDuration=null;this.dragAndScrollTimer=null;this.draggable=null;this.placeHolderClass=null;this.draggableSelector=null;this.draggableSelectorExclude=null;this.doubleTapCallback=null;this.doubleTapDelay=null;this.element=null;this.endDragAndScrollCallback=null;this.endX=null;this.endY=null;this.isLayoutEngine=null;this.isTouch=null;this.isCombi=null;this.lastElement=null;this.lastTapTime=null;this.lockMode=null;this.log=null;this.mode=null;this.mouseDownEvent=null;this.mouseMoveEvent=null;this.mouseUpEvent=null;this.moveTolerance=null;this.moveX=null;this.moveY=null;this.noop=null;this.onDragStartUIHandler=null;this.onDragEndUIHandler=null;this.preventClickFlag=null;this.preventClickTimeoutId=null;this.scrollContainer=null;this.scrollContainerSelector=null;this.scrollEvent=null;this.scrollTimer=null;this.startX=null;this.startY=null;this.switchModeDelay=null;this.tapsNumber=null;this.timer=null;this.scrollHandler=null;this.touchCancelEvent=null;this.dragCallback=null;this.onBeforeCreateClone=null;this.endCallback=null;this.touchEndEvent=null;this.touchMoveEvent=null;this.startCallback=null;this.touchStartEvent=null;this.wrapper=null;this.wrapperRect=null;this.scrollCallback=null;this.draggableElement=null;this.offsetLeft=0;this.elementsToCapture=null;this.init=function(e){this.startX=-1;this.startY=-1;this.moveX=-1;this.moveY=-1;this.endX=-1;this.endY=-1;this.noop=function(){};this.isLayoutEngine=e.isLayoutEngine||false;if(this.isLayoutEngine){this.moveDraggable=this.noop}this.isTouch=e.isTouch?!!e.isTouch:false;this.isCombi=e.isCombi?!!e.isCombi:false;this.container=document.querySelector(e.containerSelector);this.scrollContainerSelector=e.scrollContainerSelector||e.containerSelector;this.switchModeDelay=e.switchModeDelay||1500;this.dragAndScrollDuration=e.dragAndScrollDuration||160;this.moveTolerance=e.moveTolerance===0?0:e.moveTolerance||16;this.draggableSelector=e.draggableSelector;this.draggableSelectorBlocker=e.draggableSelectorBlocker||e.rootSelector;this.draggableSelectorExclude=e.draggableSelectorExclude;this.mode="normal";this.debug=e.debug||false;this.root=document.querySelector(e.rootSelector)||document.querySelector("#canvas");this.tapsNumber=0;this.lastTapTime=0;this.log=this.debug?t.debug:this.noop;this.lockMode=false;this.placeHolderClass=e.placeHolderClass||"";this.cloneClass=e.cloneClass||"";this.deltaTop=e.deltaTop||0;this.wrapper=e.wrapperSelector?document.querySelector(e.wrapperSelector):this.container.parentNode;this.clickCallback=typeof e.clickCallback==="function"?e.clickCallback:this.noop;this.startCallback=typeof e.startCallback==="function"?e.startCallback:this.noop;this.doubleTapCallback=typeof e.doubleTapCallback==="function"?e.doubleTapCallback:this.noop;this.endCallback=typeof e.endCallback==="function"?e.endCallback:this.noop;this.dragCallback=typeof e.dragCallback==="function"?e.dragCallback:this.noop;this.onBeforeCreateClone=typeof e.onBeforeCreateClone==="function"?e.onBeforeCreateClone:this.noop;this.dragAndScrollCallback=typeof e.dragAndScrollCallback==="function"?e.dragAndScrollCallback:this.noop;this.endDragAndScrollCallback=typeof e.endDragAndScrollCallback==="function"?e.endDragAndScrollCallback:this.noop;this.scrollCallback=typeof e.scrollCallback==="function"?e.scrollCallback:this.noop;this.doubleTapDelay=e.doubleTapDelay||500;this.wrapperRect=this.wrapper.getBoundingClientRect();this.scrollEvent="scroll";this.touchStartEvent="touchstart";this.touchMoveEvent="touchmove";this.touchEndEvent="touchend";this.mouseDownEvent="mousedown";this.mouseMoveEvent="mousemove";this.mouseUpEvent="mouseup";this.contextMenuEvent="contextmenu";this.touchCancelEvent="touchcancel";this.defaultMouseMoveEvent="mousemove";this.clickEvent="click";this.isVerticalDragOnly=e.isVerticalDragOnly||false;this.draggableElement=e.draggableElement;this.offsetLeft=e.offsetLeft;this.elementsToCapture=e.elementToCapture?jQuery(e.elementToCapture):this.root;this.disabledDraggableSelector=e.disabledDraggableSelector;this.onDragStartUIHandler=typeof e.onDragStartUIHandler==="function"?e.onDragStartUIHandler:this.noop;this.onDragEndUIHandler=typeof e.onDragEndUIHandler==="function"?e.onDragEndUIHandler:this.noop;this.defaultMouseMoveHandler=e.defaultMouseMoveHandler||this.noop};this.forEach=function(e,t){return Array.prototype.forEach.call(e,t)};this.indexOf=function(e,t){return Array.prototype.indexOf.call(e,t)};this.insertBefore=function(e,t,l){const s=Array.prototype.splice;const i=this.indexOf(e,t);const n=this.indexOf(e,l);s.call(e,n-(i<n?1:0),0,s.call(e,i,1)[0])};this.getDraggableElement=function(e){let t;let l=false;let s=false;this.draggable=jQuery(this.draggableSelector,this.container);while(typeof t==="undefined"&&e!==this.root&&!jQuery(e).is(this.draggableSelectorBlocker)){l=l||jQuery(e).is(this.draggableElement)||this.draggableElement===undefined;if(!(jQuery(e).not(this.draggableSelectorExclude).length>0)){s=true}if(!s&&l&&this.indexOf(this.draggable,e)>=0){t=e}e=e.parentNode}return t};this.captureStart=function(e){let t;if(e.type==="touchstart"&&e.touches.length===1){t=e.touches[0]}else if(e.type==="mousedown"){t=e;if(e.which!==1){return}}if(t){this.element=this.getDraggableElement(t.target);this.startX=this.moveX=t.pageX;this.startY=this.moveY=t.pageY;this.lastMoveX=0;this.lastMoveY=0;if(this.lastTapTime&&this.lastElement&&this.element&&this.lastElement===this.element&&Math.abs(Date.now()-this.lastTapTime)<this.doubleTapDelay){this.lastTapTime=0;this.tapsNumber=2}else{this.lastTapTime=Date.now();this.tapsNumber=1;this.lastElement=this.element}this.log(`captureStart(${this.startX}, ${this.startY})`)}};this.startHandler=function(e){this.log("startHandler");if(this.isCombi&&!(e instanceof MouseEvent)){this.isTouchEvent=true}clearTimeout(this.timer);delete this.timer;this.captureStart(e);if(this.element){this.startCallback(e,this.element);if(this.lockMode===false){if(this.tapsNumber===2){this.mode="double-tap";return}if(this.isTouch||this.isTouchEvent){this.timer=setTimeout(()=>{if(!jQuery(this.element).hasClass(this.disabledDraggableSelector)){this.log("mode switched to drag");this.mode="drag";this.onBeforeCreateClone(e,this.element);this.createClone();this.dragCallback(e,this.element)}else{this.onDragStartUIHandler()}this.isTouchEvent=false},this.switchModeDelay)}}}}.bind(this);this.captureMove=function(e){let t;if(e.type==="touchmove"&&e.touches.length===1){t=e.touches[0]}else if(e.type==="mousemove"){t=e}if(t){this.moveX=t.pageX;this.moveY=t.pageY;this.log(`captureMove(${this.moveX}, ${this.moveY})`)}};this.moveHandler=function(e){if(l()){return}let t;this.log("moveHandler");this.captureMove(e);if(this.element&&e.type==="mousemove"&&e.buttons===0){this.endHandler(e);return}switch(this.mode){case"normal":if(Math.abs(this.startX-this.moveX)>this.moveTolerance||Math.abs(this.startY-this.moveY)>this.moveTolerance){if(this.isTouch||this.isTouchEvent){this.log("-> normal");clearTimeout(this.timer);delete this.timer}else if(this.element){this.onDragStartUIHandler();if(!jQuery(this.element).hasClass(this.disabledDraggableSelector)){this.log("mode switched to drag");this.mode="drag";this.onBeforeCreateClone(e,this.element);this.createClone()}else{this.preventClick();this.element=null}}}break;case"drag":e.preventDefault();this.onDragStartUIHandler();this.log("-> drag");if(this.isVerticalDragOnly){this.mode="vertical-drag"}else{this.mode="drag-and-scroll"}window.addEventListener(this.mouseUpEvent,this.endHandler,true);this.translateClone();this.scrollContainer=document.querySelector(this.scrollContainerSelector);this.dragAndScroll();if(!this.isTouch){this.dragCallback(e,this.element)}break;case"drag-and-scroll":e.stopPropagation();e.preventDefault();this.log("-> drag-and-scroll");t=this.dragAndScroll();this.translateClone();if(!t){this.moveDraggable()}this.dragAndScrollCallback({evt:e,clone:this.clone,isScrolling:t,moveX:this.moveX,moveY:this.moveY});break;case"vertical-drag":e.stopPropagation();e.preventDefault();t=this.dragAndScroll();this.translateClone();if(!t){this.moveDraggableVerticalOnly(this.moveX,this.moveY)}this.dragAndScrollCallback({evt:e,clone:this.clone,isScrolling:t,moveX:this.moveX,moveY:this.moveY});break;default:break}}.bind(this);this.captureEnd=function(e){let t;if((e.type==="touchend"||e.type==="touchcancel")&&e.changedTouches.length===1){t=e.changedTouches[0]}else if(e.type==="mouseup"){t=e}if(t){this.endX=t.pageX;this.endY=t.pageY;this.log(`captureEnd(${this.endX}, ${this.endY})`)}};this.contextMenuHandler=function(e){if(this.isTouch){e.preventDefault()}}.bind(this);this.clickHandler=function(e){if(this.preventClickFlag){this.preventClickFlag=false;e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();clearTimeout(this.preventClickTimeoutId)}this.clickCallback()}.bind(this);this.preventClick=function(){this.preventClickFlag=true;this.preventClickTimeoutId=setTimeout(()=>{this.preventClickFlag=false},100)};this.endCallbackAdapter=function(e,t,l){const s=this.endCallback.apply(null,arguments);jQuery.when(s).then(()=>{this.removeClone(t,l.clone);this.onDragEndUIHandler(e)});this.preventClick()};this.endHandler=function(e){this.log("endHandler");this.captureEnd(e);switch(this.mode){case"normal":this.onDragEndUIHandler(e);this.log("-> normal");break;case"drag":this.log("-> drag");this.endCallbackAdapter(e,this.element,{clone:this.clone});break;case"drag-and-scroll":this.log("-> drag-and-scroll");window.removeEventListener(this.mouseUpEvent,this.endHandler,true);this.endCallbackAdapter(e,this.element,{deltaX:this.moveX-this.startX,deltaY:this.moveY-this.startY,clone:this.clone});e.stopPropagation();e.preventDefault();break;case"vertical-drag":this.log("-> vertical-drag");window.removeEventListener(this.mouseUpEvent,this.endHandler,true);this.endCallbackAdapter(e,this.element,{clone:this.clone});e.stopPropagation();e.preventDefault();break;case"double-tap":this.log("-> double-tap");this.doubleTapCallback(e,this.element);break;default:break}clearTimeout(this.timer);delete this.timer;this.lastMoveX=0;this.lastMoveY=0;this.element=null;this.clone=null;this.mode="normal"}.bind(this);this.scrollHandler=function(){clearTimeout(this.scrollTimer);this.lockMode=true;this.scrollTimer=setTimeout(()=>{this.lockMode=false},500)}.bind(this);this.createClone=function(){let t;this.preventClickFlag=true;if(e.getElementById(this.element.id)&&e.getElementById(this.element.id).getBoundingRects){t=e.getElementById(this.element.id).getBoundingRects()[0];t.top=t.offset.y;t.left=t.offset.x;t.width+=5}else{t=this.element.getBoundingClientRect()}this.clone=this.element.cloneNode(true);this.clone.removeAttribute("id");this.clone.removeAttribute("data-sap-ui");this.clone.className+=` ${this.cloneClass}`;this.element.className+=` ${this.placeHolderClass}`;const l=this.clone.style;l.position="fixed";l.display="block";l.top=`${t.top+this.deltaTop}px`;l.left=`${t.left}px`;l.width=`${t.width}px`;l.zIndex="100";this.root.appendChild(this.clone);this.log("createClone")};this.removeClone=function(e,t){this.preventClick();e.className=e.className.split(` ${this.placeHolderClass}`).join(" ");t.parentElement.removeChild(t);this.log("removeClone")};this.translateClone=function(){const e=this.moveX-this.startX;const t=this.moveY-this.startY;this.clone.style.webkitTransform=`translate3d(${e}px, ${t}px, 0px)`;this.clone.style.mozTransform=`translate3d(${e}px, ${t}px, 0px)`;this.clone.style.msTransform=`translate(${e}px, ${t}px)`;this.clone.style.transform=`translate3d(${e}px, ${t}px, 0px)`;this.log(`translateClone (${e}, ${t})`)};this.dragAndScroll=function(){let e;let t;const l=this;function s(){let e;let t;if(l.clone){e=l.clone.getBoundingClientRect();t=l.wrapperRect.top-e.top;if(t>0){return t}t=l.wrapper.offsetTop+l.wrapper.offsetHeight-(e.top+l.clone.offsetHeight);if(t<0){return t}}return 0}function i(){if(l.endDragAndScrollCallback(l.moveY)){return false}if(e<0){return l.wrapper.getBoundingClientRect().top-(l.container.getBoundingClientRect().top+l.container.offsetHeight)+l.wrapper.offsetHeight<0}return l.container.getBoundingClientRect().top-(l.wrapper.getBoundingClientRect().top+l.container.offsetTop)<0}function n(){l.dragAndScrollTimer=setTimeout(()=>{l.wrapper.scrollTop-=e;l.dragAndScrollTimer=undefined;if((e=s())!==0&&i()){n()}l.scrollCallback()},t)}e=s();if(e!==0&&!this.dragAndScrollTimer&&i()){t=this.dragAndScrollDuration;this.scrollContainer=this.scrollContainer||document.querySelector(this.scrollContainerSelector);n()}this.log(`dragAndScroll (${e})`);return e!==0&&i()};this.moveDraggableVerticalOnly=function(){let e;let t;let l;let s=true;this.forEach(this.draggable,(i,n)=>{if(!e){l=i.getBoundingClientRect();t=!(l.bottom<this.moveY||l.top>this.moveY);if(t){e=i;if(l.top+l.height/2<this.moveY){s=false}}}});if(e&&this.element!==e){if(s){this.insertBefore(this.draggable,this.element,e);e.parentNode.insertBefore(this.element,e)}else{this.insertBefore(this.draggable,this.element,e.nextSibling);e.parentNode.insertBefore(this.element,e.nextSibling)}this.lastMoveX=this.moveX;this.lastMoveY=this.moveY}this.log("moveDraggableVerticalOnly")};this.moveDraggable=function(e,t){let l;let s;let i;let n;let o;let a;this.forEach(this.draggable,(e,t)=>{if(!s){a=e.getBoundingClientRect();n=!(a.right<this.moveX||a.left>this.moveX);o=!(a.bottom<this.moveY||a.top>this.moveY);if(n&&o){s=e;i=t}}});if(s&&this.element!==s){l=this.indexOf(this.draggable,this.element);if(Math.abs(this.lastMoveX-this.moveX)>=this.moveTolerance||Math.abs(this.lastMoveY-this.moveY)>=this.moveTolerance){if(i<=l){s.parentNode.insertBefore(this.element,s);this.insertBefore(this.draggable,this.element,s)}else if(i>l){s.parentNode.insertBefore(this.element,s.nextSibling);this.insertBefore(this.draggable,this.element,this.draggable[i+1])}this.lastMoveX=this.moveX;this.lastMoveY=this.moveY}}this.log("moveDraggable")};this.enable=function(){this.log("enable");this.root.addEventListener(this.touchMoveEvent,this.moveHandler,true);this.root.addEventListener(this.mouseMoveEvent,this.moveHandler,true);this.root.addEventListener(this.contextMenuEvent,this.contextMenuHandler,false);this.root.addEventListener(this.clickEvent,this.clickHandler,true);this.root.addEventListener(this.defaultMouseMoveEvent,this.defaultMouseMoveHandler,true);this.wrapper.addEventListener(this.scrollEvent,this.scrollHandler,false);if(this.elementsToCapture.length){const e=this;this.elementsToCapture.each(function(){this.addEventListener(e.touchStartEvent,e.startHandler,false);this.addEventListener(e.touchEndEvent,e.endHandler,false);this.addEventListener(e.touchCancelEvent,e.endHandler,false);this.addEventListener(e.mouseDownEvent,e.startHandler,false);this.addEventListener(e.mouseUpEvent,e.endHandler,false)})}else{this.elementsToCapture.addEventListener(this.touchStartEvent,this.startHandler,false);this.elementsToCapture.addEventListener(this.touchEndEvent,this.endHandler,false);this.elementsToCapture.addEventListener(this.touchCancelEvent,this.endHandler,false);this.elementsToCapture.addEventListener(this.mouseDownEvent,this.startHandler,false);this.elementsToCapture.addEventListener(this.mouseUpEvent,this.endHandler,false)}return this};this.delete=function(){this.log("delete");this.disable();this.dragCallback=null;this.onBeforeCreateClone=null;this.endCallback=null;this.startCallback=null;this.scrollCallback=null;this.doubleTapCallback=null;this.clickCallback=null;this.dragAndScrollCallback=null;delete this};this.disable=function(){this.log("disable");if(this.elementsToCapture.length){const e=this;this.elementsToCapture.each(function(){this.removeEventListener(e.touchStartEvent,e.startHandler,false);this.removeEventListener(e.touchEndEvent,e.endHandler,false);this.removeEventListener(e.touchCancelEvent,e.endHandler,false);this.removeEventListener(e.mouseDownEvent,e.startHandler,false);this.removeEventListener(e.mouseUpEvent,e.endHandler,false)})}else{this.elementsToCapture.removeEventListener(this.touchStartEvent,this.startHandler,false);this.elementsToCapture.removeEventListener(this.touchEndEvent,this.endHandler,false);this.elementsToCapture.removeEventListener(this.touchCancelEvent,this.endHandler,false);this.elementsToCapture.removeEventListener(this.mouseDownEvent,this.startHandler,false);this.elementsToCapture.removeEventListener(this.mouseUpEvent,this.endHandler,false)}this.root.removeEventListener(this.touchMoveEvent,this.moveHandler,true);this.root.removeEventListener(this.mouseMoveEvent,this.moveHandler,true);this.root.removeEventListener(this.contextMenuEvent,this.contextMenuHandler,false);this.root.removeEventListener(this.clickEvent,this.clickHandler,true);this.root.removeEventListener(this.defaultMouseMoveEvent,this.defaultMouseMoveHandler,true);this.wrapper.removeEventListener(this.scrollEvent,this.scrollHandler,false);return this};this.setElementsToCapture=function(e){this.elementsToCapture=jQuery(e)};this.init(s);this.getMove=function(){return{x:this.moveX,y:this.moveY}}}return s},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/applauncher/StaticTile.controller", ["sap/ui/core/mvc/Controller","sap/ushell/components/tiles/utils","sap/ushell/Config","sap/ushell/utils/WindowUtils","sap/m/library","sap/ushell/library","sap/ui/model/json/JSONModel","sap/base/Log","sap/ui/thirdparty/jquery","sap/ushell/utils/UrlParsing","sap/ushell/EventHub","sap/ushell/Container","sap/ushell/utils/LaunchpadError"],(e,t,i,a,s,o,n,r,jQuery,l,c,g,p)=>{"use strict";const _=s.GenericTileScope;const d=s.GenericTileMode;const f=o.AppType;return e.extend("sap.ushell.components.tiles.applauncher.StaticTile",{_aDoables:[],onInit:function(){const e=this.getView();const a=e.getViewData();const s=a.chip;const o=t.getAppLauncherConfig(s,s.configurationUi.isEnabled(),false);const r=this;let c=o.navigation_target_url;let g;const p=s.url.getApplicationSystem();if(p){if(l.isIntentUrl(c)){g=l.parseShellHash(c);if(!g.params){g.params={}}g.params["sap-system"]=p;c=`#${l.constructShellHash(g)}`}else{c+=`${c.indexOf("?")<0?"?":"&"}sap-system=${p}`}}this.navigationTargetUrl=c;const _=new n({sizeBehavior:i.last("/core/home/sizeBehavior"),wrappingType:i.last("/core/home/wrappingType"),config:o,mode:o.display_mode,nav:{navigation_target_url:s.configurationUi&&s.configurationUi.isEnabled()?"":c},search:{display_highlight_terms:[]}});e.setModel(_);this._aDoables.push(i.on("/core/home/sizeBehavior").do(e=>{_.setProperty("/sizeBehavior",e)}));if(s.types){s.types.attachSetType(e=>{if(r.tileType!==e){if(e==="link"){_.setProperty("/mode",d.LineMode)}else{_.setProperty("/mode",_.getProperty("/config/display_mode"))}r.tileType=e}})}if(!this.tileType){this.tileType="tile"}if(s.search){const t=e.getModel().getProperty("/config/display_search_keywords");const i=t.split(/[, ]+/).filter(e=>e&&e!=="");if(o.display_title_text&&o.display_title_text!==""&&i.indexOf(o.display_title_text)===-1){i.push(o.display_title_text)}if(o.display_subtitle_text&&o.display_subtitle_text!==""&&i.indexOf(o.display_subtitle_text)===-1){i.push(o.display_subtitle_text)}if(o.display_info_text&&o.display_info_text!==""&&i.indexOf(o.display_info_text)===-1){i.push(o.display_info_text)}s.search.setKeywords(i);s.search.attachHighlight(t=>{e.getModel().setProperty("/search/display_highlight_terms",t)})}if(s.bag&&s.bag.attachBagsUpdated){s.bag.attachBagsUpdated(i=>{if(i.indexOf("tileProperties")>-1){t._updateTilePropertiesTexts(e,s.bag.getBag("tileProperties"))}})}if(s.configuration&&s.configuration.attachConfigurationUpdated){s.configuration.attachConfigurationUpdated(i=>{if(i.indexOf("tileConfiguration")>-1){t._updateTileConfiguration(e,s.configuration.getParameterValueAsString("tileConfiguration"))}})}if(s.preview){s.preview.setTargetUrl(c);s.preview.setPreviewIcon(o.display_icon_url);s.preview.setPreviewTitle(o.display_title_text);if(s.preview.setPreviewSubtitle&&typeof s.preview.setPreviewSubtitle==="function"){s.preview.setPreviewSubtitle(o.display_subtitle_text)}}if(s.configurationUi.isEnabled()){s.configurationUi.setAsyncUiProvider(()=>t.getConfigurationUi(e,"sap.ushell.components.tiles.applauncher.Configuration").then(e=>{s.configurationUi.attachCancel(r.onCancelConfiguration.bind(null,e));s.configurationUi.attachSave(r.onSaveConfiguration.bind(null,e));return e}));this.getView().getContent()[0].setTooltip(t.getResourceBundle().getText("edit_configuration.tooltip"))}if(s.actions){let e=[];const a=o.actions;if(a){e=a.slice()}if(i.last("/core/shell/enablePersonalization")){const i=_.getProperty("/mode")===d.LineMode?"link":"tile";const a=t.getTileSettingsAction(_,this.onSaveRuntimeSettings.bind(this),i);e.push(a)}s.actions.setActionsProvider(()=>e)}},onExit:function(){this._aDoables.forEach(e=>{e.off()});this._aDoables=[]},onPress:function(e){const t=this.getView();const s=t.getViewData();const o=s.chip;const n=t.getModel().getProperty("/config");if(e.getSource().getScope&&e.getSource().getScope()===_.Display){if(o.configurationUi.isEnabled()){o.configurationUi.display()}else if(this.navigationTargetUrl){c.emit("UITracer.trace",{reason:"LaunchApp",source:"Tile",data:{targetUrl:this.navigationTargetUrl}});if(this.navigationTargetUrl[0]==="#"){hasher.setHash(this.navigationTargetUrl)}else{const e=i.last("/core/shell/enableRecentActivity")&&i.last("/core/shell/enableRecentActivityLogging");if(e){const e={title:n.display_title_text,appType:f.URL,url:n.navigation_target_url,appId:n.navigation_target_url};g.getRendererInternal("fiori2").logRecentActivity(e)}a.openURL(this.navigationTargetUrl,"_blank")}}}},onSaveRuntimeSettings:function(e){const t=e.getModel();const i=this.getView().getViewData().chip;const a=this.getView().getModel().getProperty("/config");a.display_title_text=t.getProperty("/title")||"";a.display_subtitle_text=t.getProperty("/subtitle")||"";a.display_info_text=t.getProperty("/info")||"";a.display_search_keywords=t.getProperty("/keywords")||"";const s=i.bag.getBag("tileProperties");s.setText("display_title_text",a.display_title_text);s.setText("display_subtitle_text",a.display_subtitle_text);s.setText("display_info_text",a.display_info_text);s.setText("display_search_keywords",a.display_search_keywords);s.save(()=>{r.debug("property bag 'tileProperties' saved successfully");this.getView().getModel().setProperty("/config/display_title_text",a.display_title_text);this.getView().getModel().setProperty("/config/display_subtitle_text",a.display_subtitle_text);this.getView().getModel().setProperty("/config/display_info_text",a.display_info_text);this.getView().getModel().setProperty("/config/display_search_keywords",a.display_search_keywords);this.getView().getModel().refresh()},(e,t)=>{const i=Object.keys(e)[0];const a=new p(`Bag save failed: ${e[i]}`,{info:t[i],otherMessages:e,otherInfo:t});r.error("Bag save failed",a,"sap.ushell.components.tiles.applauncher.StaticTile.controller")})},onSaveConfiguration:function(e){const i=new jQuery.Deferred;const a=e.getModel();const s=a.getProperty("/tileModel");const o=e.getViewData().chip;const l=t.tileActionsRows2TileActionsArray(a.getProperty("/config/tile_actions_rows"));const c={display_icon_url:a.getProperty("/config/display_icon_url"),navigation_use_semantic_object:a.getProperty("/config/navigation_use_semantic_object"),navigation_target_url:a.getProperty("/config/navigation_target_url"),navigation_semantic_object:(a.getProperty("/config/navigation_semantic_object")||"").trim(),navigation_semantic_action:(a.getProperty("/config/navigation_semantic_action")||"").trim(),navigation_semantic_parameters:(a.getProperty("/config/navigation_semantic_parameters")||"").trim(),display_search_keywords:a.getProperty("/config/display_search_keywords")};let g=t.checkInputOnSaveConfig(e);if(!g){g=t.checkTileActions(e)}if(g){i.reject(new Error("mandatory_fields_missing"));return i.promise()}if(c.navigation_use_semantic_object){c.navigation_target_url=t.getSemanticNavigationUrl(c);a.setProperty("/config/navigation_target_url",c.navigation_target_url)}const _=o.bag.getBag("tileProperties");_.setText("display_title_text",a.getProperty("/config/display_title_text"));_.setText("display_subtitle_text",a.getProperty("/config/display_subtitle_text"));_.setText("display_info_text",a.getProperty("/config/display_info_text"));_.setText("display_search_keywords",c.display_search_keywords);const d=o.bag.getBag("tileNavigationActions");t.populateTileNavigationActionsBag(d,l);function f(e,t){r.error(`property bag 'tileProperties' save failed: ${e}`,null,"sap.ushell.components.tiles.applauncher.StaticTile.controller");i.reject(new p(e,t))}o.writeConfiguration.setParameterValues({tileConfiguration:JSON.stringify(c)},()=>{const a=t.getAppLauncherConfig(o,false,false);const l=t.getAppLauncherConfig(o,true,false);const c=new n({config:a,nav:{navigation_target_url:""},tileModel:s});e.setModel(c);s.setData({config:l,nav:{navigation_target_url:""}},false);if(o.preview){o.preview.setTargetUrl(a.navigation_target_url);o.preview.setPreviewIcon(a.display_icon_url);o.preview.setPreviewTitle(a.display_title_text);if(o.preview.setPreviewSubtitle&&typeof o.preview.setPreviewSubtitle==="function"){o.preview.setPreviewSubtitle(a.display_subtitle_text)}}_.save(()=>{r.debug("property bag 'tileProperties' saved successfully");if(o.title){o.title.setTitle(a.display_title_text,()=>{i.resolve()},f)}else{i.resolve()}},(e,t)=>{const a=Object.keys(e)[0];const s=new p(`Bag save failed: ${e[a]}`,{info:t[a],otherMessages:e,otherInfo:t});r.error("Bag save failed",s,"sap.ushell.components.tiles.applauncher.StaticTile.controller");i.reject(s)});d.save(()=>{r.debug("property bag 'navigationProperties' saved successfully")},(e,t)=>{const a=Object.keys(e)[0];const s=new p(`Bag save failed: ${e[a]}`,{info:t[a],otherMessages:e,otherInfo:t});r.error("Bag save failed",s,"sap.ushell.components.tiles.applauncher.StaticTile.controller");i.reject(s)})},f);e.destroy();return i.promise()},onCancelConfiguration:function(e){const i=e.getViewData();const a=e.getModel();const s=a.getProperty("/tileModel");const o=i.chip;const n=t.getAppLauncherConfig(o,o.configurationUi.isEnabled(),false);e.getModel().setData({config:n,nav:{navigation_target_url:""},tileModel:s},false);e.destroy()},formatters:{leanURL:a.getLeanURL.bind(a)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/applauncher/StaticTile.view", ["sap/ui/core/mvc/View","sap/m/GenericTile","sap/m/ImageContent","sap/m/TileContent","sap/ushell/components/tiles/applauncher/StaticTile.controller"],(e,t,n,i)=>{"use strict";return e.extend("sap.ushell.components.tiles.applauncher.StaticTile",{getControllerName:function(){return"sap.ushell.components.tiles.applauncher.StaticTile"},createContent:function(){this.setHeight("100%");this.setWidth("100%");return this.getTileControl()},getTileControl:function(){const e=this.getController();if(this.getContent().length===1){return this.getContent()[0]}return new t({mode:"{= ${/mode} || (${/config/display_icon_url} ? 'ContentMode' : 'HeaderMode') }",header:"{/config/display_title_text}",subheader:"{/config/display_subtitle_text}",sizeBehavior:"{/sizeBehavior}",wrappingType:"{/wrappingType}",url:{parts:["/targetURL","/nav/navigation_target_url"],formatter:e.formatters.leanURL},tileContent:new i({footer:"{/config/display_info_text}",content:new n({src:"{/config/display_icon_url}"})}),press:[e.onPress,e]})},getMode:function(){return this.getModel().getProperty("/mode")||(this.getModel().getProperty("/config/display_icon_url")?"ContentMode":"HeaderMode")}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/applauncherdynamic/DynamicTile.controller", ["sap/ui/core/EventBus","sap/ushell/library","sap/ui/core/mvc/Controller","sap/ushell/components/tiles/utils","sap/ushell/Config","sap/ushell/utils/WindowUtils","sap/m/library","sap/ui/model/json/JSONModel","sap/ui/thirdparty/jquery","sap/base/Log","sap/ushell/utils/DynamicTileRequest","sap/ushell/utils/UrlParsing","sap/ushell/utils","sap/ushell/EventHub","sap/ushell/Container","sap/ushell/utils/LaunchpadError"],(e,t,i,s,a,r,n,o,jQuery,l,c,g,p,u,f,d)=>{"use strict";const _=n.GenericTileScope;const h=n.GenericTileMode;const y=t.AppType;const v="sap.ushell.components.tiles.applauncherdynamic.DynamicTile";return i.extend(v,{_aDoables:[],oDataRequest:null,sConfigNavigationTargetUrlOld:"",REFRESH_INTERVAL_MIN:10,constructTargetUrlWithSapSystem:function(e,t){let i;if(t){if(g.isIntentUrl(e)){i=g.parseShellHash(e);if(!i.params){i.params={}}i.params["sap-system"]=t;e=`#${g.constructShellHash(i)}`}else{e+=`${e.indexOf("?")<0?"?":"&"}sap-system=${t}`}}return e},onInit:function(){const t=this;const i=this.getView();const r=i.getViewData();const n=r.chip;const c=s.getAppLauncherConfig(n,n.configurationUi.isEnabled(),false);const g=c.navigation_target_url;const p=n.url.getApplicationSystem();this.sConfigNavigationTargetUrlOld=c.navigation_target_url;l.setLevel(2,v);this.bIsRequestCompleted=false;this.navigationTargetUrl=this.constructTargetUrlWithSapSystem(g,p);const u=new o({sizeBehavior:a.last("/core/home/sizeBehavior"),wrappingType:a.last("/core/home/wrappingType"),config:c,mode:c.display_mode||h.ContentMode,data:s.getDataToDisplay(c,{number:n.preview&&n.preview.isEnabled()?1234:"..."}),nav:{navigation_target_url:n.configurationUi&&n.configurationUi.isEnabled()?"":this.navigationTargetUrl},search:{display_highlight_terms:[]}});i.setModel(u);this._aDoables.push(a.on("/core/home/sizeBehavior").do(e=>{u.setProperty("/sizeBehavior",e)}));if(n.types){n.types.attachSetType(e=>{if(t.tileType!==e){if(e==="link"){u.setProperty("/mode",h.LineMode)}else{u.setProperty("/mode",u.getProperty("/config/display_mode")||h.ContentMode)}t.tileType=e}})}if(!this.tileType){this.tileType="tile"}if(n.search){const e=i.getModel().getProperty("/config/display_search_keywords");const t=e.split(/[, ]+/).filter((e,t)=>e&&e!=="");if(c.display_title_text&&c.display_title_text!==""&&t.indexOf(c.display_title_text)===-1){t.push(c.display_title_text)}if(c.display_subtitle_text&&c.display_subtitle_text!==""&&t.indexOf(c.display_subtitle_text)===-1){t.push(c.display_subtitle_text)}if(c.display_info_text&&c.display_info_text!==""&&t.indexOf(c.display_info_text)===-1){t.push(c.display_info_text)}if(c.display_number_unit&&c.display_number_unit!==""&&t.indexOf(c.display_number_unit)===-1){t.push(c.display_number_unit)}n.search.setKeywords(t);n.search.attachHighlight(e=>{i.getModel().setProperty("/search/display_highlight_terms",e)})}if(n.bag&&n.bag.attachBagsUpdated){n.bag.attachBagsUpdated(e=>{if(e.indexOf("tileProperties")>-1){s._updateTilePropertiesTexts(i,n.bag.getBag("tileProperties"))}})}if(n.configuration&&n.configuration.attachConfigurationUpdated){n.configuration.attachConfigurationUpdated(e=>{if(e.indexOf("tileConfiguration")>-1){s._updateTileConfiguration(i,n.configuration.getParameterValueAsString("tileConfiguration"))}})}if(n.preview){n.preview.setTargetUrl(this.navigationTargetUrl);n.preview.setPreviewIcon(c.display_icon_url);n.preview.setPreviewTitle(c.display_title_text);if(n.preview.setPreviewSubtitle&&typeof n.preview.setPreviewSubtitle==="function"){n.preview.setPreviewSubtitle(c.display_subtitle_text)}}if(n.configurationUi.isEnabled()){n.configurationUi.setAsyncUiProvider(()=>s.getConfigurationUi(i,"sap.ushell.components.tiles.applauncherdynamic.Configuration").then(e=>{n.configurationUi.attachCancel(t.onCancelConfiguration.bind(null,e));n.configurationUi.attachSave(t.onSaveConfiguration.bind(null,e));return e}));this.getView().getContent()[0].setTooltip(s.getResourceBundle().getText("edit_configuration.tooltip"))}else if(!n.preview||!n.preview.isEnabled()){if(!p){f.addRemoteSystemForServiceUrl(c.service_url)}this.bNeedsRefresh=true;this.iNrOfTimerRunning=0}if(n.refresh){n.refresh.attachRefresh(this.refreshHandler.bind(this))}if(n.visible){n.visible.attachVisible(this.visibleHandler.bind(this))}if(n.actions){let e;const t=c.actions;if(t){e=t.slice()}else{e=[]}if(a.last("/core/shell/enablePersonalization")){const t=u.getProperty("/mode")===h.LineMode?"link":"tile";const i=s.getTileSettingsAction(u,this.onSaveRuntimeSettings.bind(this),t);e.push(i)}n.actions.setActionsProvider(()=>e)}e.getInstance().subscribe("launchpad","sessionTimeout",this._clearRequest,this)},stopRequests:function(){if(this.oDataRequest){if(this.oDataRequest.abort()){this.bNeedsRefresh=true}}},_clearRequest:function(){this.stopRequests();clearTimeout(this.timer)},onExit:function(){if(this.oDataRequest){this._clearRequest();this.oDataRequest.destroy()}e.getInstance().unsubscribe("launchpad","sessionTimeout",this._clearRequest,this);this._aDoables.forEach(e=>{e.off()});this._aDoables=[]},onPress:function(e){const t=this.getView();const i=t.getViewData();const s=t.getModel();const n=s.getProperty("/nav/navigation_target_url");const o=i.chip;const l=s.getProperty("/config");if(e.getSource().getScope&&e.getSource().getScope()===_.Display){if(o.configurationUi.isEnabled()){o.configurationUi.display()}else if(n){u.emit("UITracer.trace",{reason:"LaunchApp",source:"Tile",data:{targetUrl:n}});if(n[0]==="#"){hasher.setHash(n)}else{const e=a.last("/core/shell/enableRecentActivity")&&a.last("/core/shell/enableRecentActivityLogging");if(e){const e={title:l.display_title_text,appType:y.URL,url:l.navigation_target_url,appId:l.navigation_target_url};f.getRendererInternal("fiori2").logRecentActivity(e)}r.openURL(n,"_blank")}}}},onSaveRuntimeSettings:function(e){const t=this.getView();const i=t.getModel();const s=t.getViewData().chip;const a=i.getProperty("/config");const r=e.getModel();a.display_title_text=r.getProperty("/title")||"";a.display_subtitle_text=r.getProperty("/subtitle")||"";a.display_info_text=r.getProperty("/info")||"";a.display_search_keywords=r.getProperty("/keywords")||"";const n=s.bag.getBag("tileProperties");n.setText("display_title_text",a.display_title_text);n.setText("display_subtitle_text",a.display_subtitle_text);n.setText("display_info_text",a.display_info_text);n.setText("display_search_keywords",a.display_search_keywords);n.save(()=>{l.debug("property bag 'tileProperties' saved successfully");i.setProperty("/config",a);i.setProperty("/data/display_title_text",a.display_title_text);i.setProperty("/data/display_subtitle_text",a.display_subtitle_text);i.setProperty("/data/display_info_text",a.display_info_text);i.refresh()},(e,t)=>{const i=Object.keys(e)[0];const s=new d(`Bag save failed: ${e[i]}`,{info:t[i],otherMessages:e,otherInfo:t});l.error("Bag save failed",s,v)})},onSaveConfiguration:function(e){const t=new jQuery.Deferred;const i=e.getModel();const a=i.getProperty("/tileModel");const r=e.getViewData().chip;const n=s.tileActionsRows2TileActionsArray(i.getProperty("/config/tile_actions_rows"));const c={display_icon_url:i.getProperty("/config/display_icon_url"),display_number_unit:i.getProperty("/config/display_number_unit"),service_url:i.getProperty("/config/service_url"),service_refresh_interval:i.getProperty("/config/service_refresh_interval"),navigation_use_semantic_object:i.getProperty("/config/navigation_use_semantic_object"),navigation_target_url:i.getProperty("/config/navigation_target_url"),navigation_semantic_object:(i.getProperty("/config/navigation_semantic_object")||"").trim(),navigation_semantic_action:(i.getProperty("/config/navigation_semantic_action")||"").trim(),navigation_semantic_parameters:(i.getProperty("/config/navigation_semantic_parameters")||"").trim(),display_search_keywords:i.getProperty("/config/display_search_keywords")};let g=s.checkInputOnSaveConfig(e);if(!g){g=s.checkTileActions(e)}if(g){t.reject(new Error("mandatory_fields_missing"));return t.promise()}if(c.navigation_use_semantic_object){c.navigation_target_url=s.getSemanticNavigationUrl(c);i.setProperty("/config/navigation_target_url",c.navigation_target_url)}const p=r.bag.getBag("tileProperties");p.setText("display_title_text",i.getProperty("/config/display_title_text"));p.setText("display_subtitle_text",i.getProperty("/config/display_subtitle_text"));p.setText("display_info_text",i.getProperty("/config/display_info_text"));p.setText("display_search_keywords",c.display_search_keywords);const u=r.bag.getBag("tileNavigationActions");s.populateTileNavigationActionsBag(u,n);function f(e,i){l.error(`property bag 'tileProperties' save failed: ${e}`,null,v);t.reject(new d(e,i))}r.writeConfiguration.setParameterValues({tileConfiguration:JSON.stringify(c)},()=>{const i=s.getAppLauncherConfig(r,false,false);const n=s.getAppLauncherConfig(r,true,false);const c=new o({config:i,tileModel:a});e.setModel(c);a.setData({data:n,nav:{navigation_target_url:""}},false);if(r.preview){r.preview.setTargetUrl(i.navigation_target_url);r.preview.setPreviewIcon(i.display_icon_url);r.preview.setPreviewTitle(i.display_title_text);if(r.preview.setPreviewSubtitle&&typeof r.preview.setPreviewSubtitle==="function"){r.preview.setPreviewSubtitle(i.display_subtitle_text)}}p.save(()=>{l.debug("property bag 'tileProperties' saved successfully");if(r.title){r.title.setTitle(i.display_title_text,()=>{t.resolve()},f)}else{t.resolve()}},(e,i)=>{const s=Object.keys(e)[0];const a=new d(`Bag save failed: ${e[s]}`,{info:i[s],otherMessages:e,otherInfo:i});l.error("Bag save failed",a,v);t.reject(a)});u.save(()=>{l.debug("property bag 'navigationProperties' saved successfully")},(e,i)=>{const s=Object.keys(e)[0];const a=new d(`Bag save failed: ${e[s]}`,{info:i[s],otherMessages:e,otherInfo:i});l.error("Bag save failed",a,v);t.reject(a)})},f);return t.promise()},successHandlerFn:function(e){const t=this.getView();const i=t.getModel();const a=i.getProperty("/config");const r=i.getProperty("/config/navigation_target_url");let n=i.getProperty("/config/service_refresh_interval");const o=i.getProperty("/config/service_url");const c=t.getViewData();const g=c.chip;const p=g.url.getApplicationSystem();if(c.properties&&c.properties.info){if(typeof e==="object"){e.info=c.properties.info}}const u=s.getDataToDisplay(a,e);i.setProperty("/data",u);if(this.sConfigNavigationTargetUrlOld!==r){this.navigationTargetUrl=this.constructTargetUrlWithSapSystem(r,p);this.sConfigNavigationTargetUrlOld=this.navigationTargetUrl}i.setProperty("/nav/navigation_target_url",s.addParamsToUrl(this.navigationTargetUrl,u));if(n>0){n=Math.max(n,this.REFRESH_INTERVAL_MIN);l.info(`Wait ${n} seconds before calling ${o} again`,null,v);this.refeshAfterInterval(n)}},errorHandlerFn:function(e,t){const i=this.getView();const s=i.getModel();const a=s.getProperty("/config/service_url");let r=e&&e.message?e.message:e;if(e.statusText==="Abort"||e.aborted===true){l.info(`Data request from service ${a} was aborted`,null,v)}else{if(e.response){r+=` - ${e.response.statusCode} ${e.response.statusText}`}const i=t?l.warning:l.error;i(`Failed to update data via service\n service URL: ${a}\n ${r}`,null,v);this._setTileIntoErrorState()}},_setTileIntoErrorState:function(){const e=s.getResourceBundle();const t=this.getView().getModel();const i=t.getProperty("/config");t.setProperty("/data",s.getDataToDisplay(i,{number:"???",info:e.getText("dynamic_data.error"),infoState:"Critical"}))},onCancelConfiguration:function(e){const t=e.getViewData();const i=e.getModel();const a=i.getProperty("/tileModel");const r=t.chip;const n=s.getAppLauncherConfig(r,false,false);i.setData({config:n,tileModel:a},false)},loadData:function(){const e=this.getView();const t=e.getViewData().chip;const i=e.getModel();let s=i.getProperty("/config/service_url");if(/;o=([;/?]|$)/.test(s)){s=t.url.addSystemToServiceUrl(s)}if(!s){l.error("No service URL given!",v);this._setTileIntoErrorState();return}if(!this.oDataRequest||this.oDataRequest.sUrl!==s){if(this.oDataRequest){this.oDataRequest.destroy()}this.sRequestUrl=s;const e={dataSource:i.getProperty("/config/data_source")};this.oDataRequest=new c(s,this.successHandlerFn.bind(this),this.errorHandlerFn.bind(this),"",e)}else if(this.oDataRequest){this.oDataRequest.refresh()}},refreshTile:function(){const e=this.getView();const t=e.getViewData();const i=t.chip.visible.isVisible();if(i&&this.bNeedsRefresh){this.bNeedsRefresh=false;this.loadData()}},refeshAfterInterval:function(e){this.iNrOfTimerRunning++;this.timer=window.setTimeout(()=>{this.iNrOfTimerRunning--;if(this.iNrOfTimerRunning===0){this.bNeedsRefresh=true;this.refreshTile()}},p.sanitizeTimeoutDelay(e*1e3))},refreshHandler:function(){this.bNeedsRefresh=true;this.refreshTile()},visibleHandler:function(e){if(e){this.refreshTile()}else{this.stopRequests()}},formatters:{leanURL:r.getLeanURL.bind(r)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/applauncherdynamic/DynamicTile.view", ["sap/ui/core/mvc/View","sap/m/GenericTile","sap/m/TileContent","sap/m/library","sap/m/NumericContent","sap/ushell/components/tiles/applauncherdynamic/DynamicTile.controller"],(t,e,a,n,r)=>{"use strict";const i=n.ValueColor;return t.extend("sap.ushell.components.tiles.applauncherdynamic.DynamicTile",{getControllerName:function(){return"sap.ushell.components.tiles.applauncherdynamic.DynamicTile"},createContent:function(){this.setHeight("100%");this.setWidth("100%");return this.getTileControl()},getTileControl:function(){const t=this.getController();if(this.getContent().length===1){return this.getContent()[0]}return new e({mode:"{/mode}",header:"{/data/display_title_text}",subheader:"{/data/display_subtitle_text}",sizeBehavior:"{/sizeBehavior}",wrappingType:"{/wrappingType}",url:{parts:["/targetURL","/nav/navigation_target_url"],formatter:t.formatters.leanURL},tileContent:[new a({footer:"{/data/display_info_text}",footerColor:{path:"/data/display_info_state",formatter:function(t){if(t==="Positive"){t=i.Good}if(t==="Negative"){t=i.Error}if(!i[t]){t=i.Neutral}return t}},unit:"{/data/display_number_unit}",content:[new r({scale:"{/data/display_number_factor}",value:"{/data/display_number_value}",truncateValueTo:5,indicator:"{/data/display_state_arrow}",valueColor:{path:"/data/display_number_state",formatter:function(t){if(!t||t==="Neutral"||!i[t]){return i.None}return t}},icon:"{/data/display_icon_url}",width:"100%",withMargin:false})]})],press:[t.onPress,t]})},getMode:function(){return this.getModel().getProperty("/mode")}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/cdm/applauncher/Component", ["sap/ui/core/mvc/XMLView","sap/ui/core/UIComponent"],(e,t)=>{"use strict";return t.extend("sap.ushell.components.tiles.cdm.applauncher.Component",{metadata:{interfaces:["sap.ui.core.IAsyncContentCreation"]},createContent:function(){const t=this.getComponentData();const o=t.properties.tilePersonalization||{};const n=t.startupParameters;if(n&&n["sap-system"]){o["sap-system"]=n["sap-system"][0]}return e.create({viewName:"sap.ushell.components.tiles.cdm.applauncher.StaticTile",viewData:{properties:t.properties,configuration:o}}).then(e=>{this._oController=e.getController();e.getContent()[0].bindTileContent({path:"/properties",factory:this._oController._getTileContent.bind(this._oController)});return e})},tileSetVisualProperties:function(e){if(this._oController){this._oController.updatePropertiesHandler(e)}},tileRefresh:function(){},tileSetVisible:function(e){},tileSetEditMode:function(e){if(this._oController){this._oController.editModeHandler(e)}},tileSetSizeBehavior:function(e){if(this._oController){this._oController.sizeBehaviorHandler(e)}},exit:function(){this._oController=null}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/cdm/applauncher/StaticTile.controller", ["sap/ushell/library","sap/ui/core/mvc/Controller","sap/ushell/Config","sap/ushell/utils/WindowUtils","sap/ui/model/json/JSONModel","sap/m/library","sap/base/Log","sap/ushell/utils/UrlParsing","sap/ushell/EventHub","sap/ushell/Container","sap/ushell/navigation/NavigationState"],(e,t,o,i,n,r,s,a,p,l,c)=>{"use strict";const g=r.GenericTileScope;const d=r.GenericTileMode;const h=e.DisplayFormat;const f=e.AppType;return t.extend("sap.ushell.components.tiles.cdm.applauncher.StaticTile",{_aDoables:[],_getConfiguration:function(){const e=this.getView().getViewData();e.properties.configSizeBehavior=o.last("/core/home/sizeBehavior");e.properties.wrappingType=o.last("/core/home/wrappingType");return e},onInit:function(){const e=this.getView();const t=new n;t.setData(this._getConfiguration());e.setModel(t);this._aDoables.push(o.on("/core/home/sizeBehavior").do(e=>{t.setProperty("/properties/configSizeBehavior",e)}));const i=this.getView().getViewData();const r=i.properties;r.mode=r.mode||(r.icon?"ContentMode":"HeaderMode");if(r.displayFormat===h.Compact&&r.title&&r.targetURL){t.setProperty("/properties/mode",d.LineMode)}switch(r.displayFormat){case h.Flat:t.setProperty("/properties/frameType","OneByHalf");break;case h.FlatWide:t.setProperty("/properties/frameType","TwoByHalf");break;case h.StandardWide:t.setProperty("/properties/frameType","TwoByOne");break;default:{t.setProperty("/properties/frameType","OneByOne")}}const s=o.last("/core/contentProviders/providerInfo/enabled");const a=o.last("/core/contentProviders/providerInfo/showContentProviderInfoOnVisualizations");t.setProperty("/properties/showContentProviderInfoInTooltip",s);t.setProperty("/properties/showContentProviderInfoOnVisualizations",s&&a);if(s){this._aDoables.push(o.on("/core/contentProviders/providerInfo/showContentProviderInfoOnVisualizations").do(e=>{t.setProperty("/properties/showContentProviderInfoOnVisualizations",e)}))}},onExit:function(){this._aDoables.forEach(e=>{e.off()});this._aDoables=[]},editModeHandler:function(e){const t=e?g.ActionMore:g.Display;this.getView().getModel().setProperty("/properties/scope",t)},sizeBehaviorHandler:function(e){this.getView().getModel().setProperty("/properties/customSizeBehavior",e)},onPress:function(e){if(c.isNavigationRunning()){return}const t=this.getView().getViewData().properties;if(e.getSource().getScope&&e.getSource().getScope()===g.Display){const e=this._createTargetUrl();if(!e){return}p.emit("UITracer.trace",{reason:"LaunchApp",source:"Tile",data:{targetUrl:e}});if(e[0]==="#"){hasher.setHash(e)}else{const n=o.last("/core/shell/enableRecentActivity")&&o.last("/core/shell/enableRecentActivityLogging");if(n){const e={title:t.title,appType:f.URL,url:t.targetURL,appId:t.targetURL};l.getRendererInternal("fiori2").logRecentActivity(e)}i.openURL(e,"_blank")}}},updatePropertiesHandler:function(e){const t=this.getView().getContent()[0];const o=t.getTileContent()[0];if(typeof e.title!=="undefined"){t.setHeader(e.title)}if(typeof e.subtitle!=="undefined"){t.setSubheader(e.subtitle)}if(typeof e.icon!=="undefined"){o.getContent().setSrc(e.icon)}if(typeof e.info!=="undefined"){o.setFooter(e.info)}},_createTargetUrl:function(){let e=this.getView().getViewData().properties.targetURL;const t=this.getView().getViewData().configuration["sap-system"];let o;if(e&&t){if(a.isIntentUrl(e)){o=a.parseShellHash(e);if(!o.params){o.params={}}o.params["sap-system"]=t;e=`#${a.constructShellHash(o)}`}else{e+=`${e.indexOf("?")<0?"?":"&"}sap-system=${t}`}}return e},_getLeanUrl:function(){return i.getLeanURL(this._createTargetUrl())},_getTileContent:function(e,t){const o=t.getPath().split("/");o.pop();const i=t.getProperty(o.join("/"));if(i!==this.oLastBindingObject||this.oTileContent&&this.oTileContent.bIsDestroyed){this.oLastBindingObject=i;this.oTileContent=this.getView().byId(i.icon?"imageTileContent":"standardTileContent").clone()}return this.oTileContent},_getCurrentProperties:function(){const e=this.getView().getContent()[0];const t=e.getTileContent()[0];const i=o.last("/core/home/sizeBehavior");return{title:e.getHeader(),subtitle:e.getSubheader(),info:t.getFooter(),icon:t.getContent().getSrc(),mode:e.getMode(),configSizeBehavior:i}}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/cdm/applauncher/StaticTile.view", ["sap/ui/core/mvc/View","sap/m/GenericTile","sap/m/ImageContent","sap/m/TileContent"],(e,t,r,i)=>{"use strict";return e.extend("sap.ushell.components.tiles.cdm.applauncher.StaticTile",{getControllerName:function(){return"sap.ushell.components.tiles.cdm.applauncher.StaticTile"},createContent:function(e){this.setHeight("100%");this.setWidth("100%");if(this.getContent().length===1){return this.getContent()[0]}return new t({mode:"{/properties/mode}",header:"{/properties/title}",scope:"{/properties/scope}",subheader:"{/properties/subtitle}",sizeBehavior:"{= ${/properties/customSizeBehavior} || ${/properties/configSizeBehavior}}",frameType:"{/properties/frameType}",wrappingType:"{/properties/wrappingType}",url:{path:"/properties/targetURL",formatter:e._getLeanUrl.bind(e)},tileContent:new i({footer:"{/properties/info}",content:new r({src:"{/properties/icon}"})}),press:[e.onPress,e],additionalTooltip:"{/properties/contentProviderLabel}"})}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/cdm/applauncherdynamic/Component", ["sap/ui/core/mvc/XMLView","sap/ui/core/UIComponent"],(e,t)=>{"use strict";return t.extend("sap.ushell.components.tiles.cdm.applauncherdynamic.Component",{metadata:{interfaces:["sap.ui.core.IAsyncContentCreation"]},createContent:function(){const t=this.getComponentData();const r=t.properties||{};const i=r.tilePersonalization||{};const o=r.indicatorDataSource;if(o&&o.path){i.serviceUrl=o.path;i.serviceRefreshInterval=o.refresh}else if(o&&o.url){i.serviceUrl=o.url;i.serviceRefreshInterval=o.refreshInterval}const s=t.startupParameters;if(s&&s["sap-system"]&&s["sap-system"][0]){i["sap-system"]=s["sap-system"][0]}if(i.serviceUrl&&i.serviceUrl.charAt(0)!=="/"&&r.dataSource&&r.dataSource.uri){let e=r.dataSource.uri;if(i["sap-system"]){if(e.charAt(e.length-1)==="/"){e=e.slice(0,e.length-1)}e+=`;o=${i["sap-system"]}`}if(e.charAt(e.length-1)!=="/"){e+="/"}e+=i.serviceUrl;i.serviceUrl=e}return e.create({viewName:"sap.ushell.components.tiles.cdm.applauncherdynamic.DynamicTile",viewData:{properties:r,configuration:i}}).then(e=>{this._oController=e.getController();this._oController.visibleHandler(this.bIsVisible);return e})},tileSetVisualProperties:function(e){if(this._oController){this._oController.updateVisualPropertiesHandler(e)}},tileRefresh:function(){if(this._oController){this._oController.refreshHandler()}},tileSetVisible:function(e){if(this._oController){this._oController.visibleHandler(e)}else{this.bIsVisible=e}},tileSetEditMode:function(e){if(this._oController){this._oController.editModeHandler(e)}},tileSetSizeBehavior:function(e){if(this._oController){this._oController.sizeBehaviorHandler(e)}},tileSetPreview:function(e){if(this._oController){this._oController.previewHandler(e)}},exit:function(){this._oController=null}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/cdm/applauncherdynamic/DynamicTile.controller", ["sap/ui/core/mvc/Controller","sap/ushell/components/tiles/utils","sap/ui/core/format/NumberFormat","sap/ushell/Config","sap/ushell/utils/WindowUtils","sap/ui/model/json/JSONModel","sap/m/library","sap/ushell/library","sap/base/Log","sap/base/util/merge","sap/ushell/utils/DynamicTileRequest","sap/ushell/utils","sap/ushell/utils/UrlParsing","sap/ushell/EventHub","sap/ushell/Container","sap/ushell/navigation/NavigationState"],(e,t,i,r,o,s,n,a,l,u,p,c,f,d,h,m)=>{"use strict";const g=n.GenericTileScope;const b=n.DeviationIndicator;const v=n.ValueColor;const y=n.FrameType;const _=a.DisplayFormat;const D=a.AppType;const R="sap.ushell.components.tiles.cdm.applauncherdynamic.DynamicTile";const w="<RESET>";const P={title:"",subtitle:"",icon:"",info:"",infoState:v.Neutral,targetURL:"",number_value:"...",number_unit:"",number_factor:"",number_state_arrow:b.None,number_value_state:v.Neutral};return e.extend(R,{_aDoables:[],timer:null,iLastTimeoutStart:0,oDataRequest:null,bShouldNotRefreshDataAfterInit:false,_getConfiguration:function(e){const t={};let i;t.configuration=e.configuration;t.properties=e.properties;t.properties.info=t.properties.info||P.info;t.properties.number_value=t.properties.preview?1234:P.number_value;t.properties.number_value_state=P.number_value_state;t.properties.number_state_arrow=P.number_state_arrow;t.properties.number_factor=P.number_factor;t.properties.number_unit=t.properties.numberUnit||P.number_unit;const o=t.configuration["sap-system"];let s=t.properties.targetURL;if(s&&o){if(f.isIntentUrl(s)){i=f.parseShellHash(s);if(!i.params){i.params={}}i.params["sap-system"]=o;s=`#${f.constructShellHash(i)}`}else{s+=`${s.indexOf("?")<0?"?":"&"}sap-system=${o}`}t.properties.targetURL=s}t.properties.configSizeBehavior=r.last("/core/home/sizeBehavior");t.properties.wrappingType=r.last("/core/home/wrappingType");switch(t.properties.displayFormat){case _.Flat:t.properties.frameType=y.OneByHalf;break;case _.FlatWide:t.properties.frameType=y.TwoByHalf;break;case _.StandardWide:t.properties.frameType=y.TwoByOne;break;default:{t.properties.frameType=y.OneByOne}}t.originalProperties=u({},e.properties);return t},onInit:function(){const e=this.getView();const t=new s;const i=e.getViewData();const o=i.properties;t.setData(this._getConfiguration(i));const n=r.last("/core/contentProviders/providerInfo/enabled");const a=r.last("/core/contentProviders/providerInfo/showContentProviderInfoOnVisualizations");t.setProperty("/properties/showContentProviderInfoInTooltip",n);t.setProperty("/properties/showContentProviderInfoOnVisualizations",n&&a);if(n){this._aDoables.push(r.on("/core/contentProviders/providerInfo/showContentProviderInfoOnVisualizations").do(e=>{t.setProperty("/properties/showContentProviderInfoOnVisualizations",e)}))}e.setModel(t);this._aDoables.push(r.on("/core/home/sizeBehavior").do(e=>{t.setProperty("/properties/configSizeBehavior",e)}));if(o.preview){this.previewHandler(true)}},refreshHandler:function(){this.loadData(0,true)},visibleHandler:function(e){if(e){if(!this.oDataRequest||this.timer===null){this.initRequestInterval()}}else{this.stopRequests()}},editModeHandler:function(e){const t=e?g.ActionMore:g.Display;this.getView().getModel().setProperty("/properties/scope",t)},sizeBehaviorHandler:function(e){this.getView().getModel().setProperty("/properties/customSizeBehavior",e)},previewHandler:function(e){const t=this.getView();const i=t.getModel();if(e){const e=t.getViewData();const r=u({},e,{properties:{preview:true}});const o=this._getConfiguration(r);const s=u({},o.properties,{customSizeBehavior:i.getProperty("/properties/customSizeBehavior"),configSizeBehavior:i.getProperty("/properties/configSizeBehavior")});i.setProperty("/properties",s);return}i.setProperty("/properties/preview",false)},updateVisualPropertiesHandler:function(e){const t=this.getView().getModel().getProperty("/properties");const i=this.getView().getModel().getProperty("/originalProperties");if(c.isDefined(e.title)){t.title=e.title;i.title=e.title}if(c.isDefined(e.subtitle)){t.subtitle=e.subtitle;i.subtitle=e.subtitle}if(c.isDefined(e.icon)){t.icon=e.icon;i.icon=e.icon}if(c.isDefined(e.targetURL)){t.targetURL=e.targetURL;i.targetURL=e.targetURL}if(c.isDefined(e.info)){t.info=e.info;i.info=e.info}this.getView().getModel().refresh()},stopRequests:function(){if(this.timer){clearTimeout(this.timer);this.timer=null}if(this.oDataRequest){this.oDataRequest.abort()}},onPress:function(e){if(m.isNavigationRunning()){return}if(e.getSource().getScope&&e.getSource().getScope()===g.Display){const e=this.getView().getModel().getProperty("/properties/targetURL");const t=this.getView().getModel().getProperty("/properties/title");if(!e){return}d.emit("UITracer.trace",{reason:"LaunchApp",source:"Tile",data:{targetUrl:e}});if(e[0]==="#"){hasher.setHash(e)}else{const i=r.last("/core/shell/enableRecentActivity")&&r.last("/core/shell/enableRecentActivityLogging");if(i){const i={title:t,appType:D.URL,url:e,appId:e};h.getRendererInternal("fiori2").logRecentActivity(i)}o.openURL(e,"_blank")}}},initRequestInterval:function(){const e=this.getView().getModel();let t=e.getProperty("/configuration/serviceRefreshInterval");if(!t||t==="0"){t=0;if(this.oDataRequest){this.bShouldNotRefreshDataAfterInit=true}}else if(t<10){const i=e.getProperty("/configuration/serviceUrl");l.warning(`Refresh Interval ${t} seconds for service URL ${i} is less than 10 seconds, which is not supported. Increased to 10 seconds automatically.`,null,R);t=10}this.loadData(t,false)},loadData:function(e,t){if(!t&&this.bShouldNotRefreshDataAfterInit){return}const i=this.getView().getModel();const r=i.getProperty("/properties/preview");const o=i.getProperty("/configuration/serviceUrl");if(r){l.info("Tile in preview mode",R);return}if(!o){l.error("No service URL given!",R);this._setTileIntoErrorState();return}const s=e*1e3-(Date.now()-this.iLastTimeoutStart);if(!t&&!this.timer&&s>0){l.info(`Started timeout to call ${o} again in ${Math.ceil(s/1e3)} seconds`,null,R);this.timer=setTimeout(this.loadData.bind(this,e,false),c.sanitizeTimeoutDelay(s));return}if(!this.oDataRequest||this.oDataRequest.sUrl!==o){if(this.oDataRequest){this.oDataRequest.destroy()}const e=i.getProperty("/properties/contentProviderId");const t={dataSource:i.getProperty("/properties/dataSource")};this.oDataRequest=new p(o,this.successHandlerFn.bind(this),this.errorHandlerFn.bind(this),e,t)}else if(this.oDataRequest){this.oDataRequest.refresh()}if(e>0){l.info(`Started timeout to call ${o} again in ${e} seconds`,null,R);this.iLastTimeoutStart=Date.now();this.timer=setTimeout(this.loadData.bind(this,e,false),c.sanitizeTimeoutDelay(e*1e3))}},successHandlerFn:function(e){this.updatePropertiesHandler(e)},errorHandlerFn:function(e){let t=e&&e.message?e.message:e;const i=this.getView().getModel().getProperty("/configuration/serviceUrl");if(e.statusText==="Abort"||e.aborted===true){l.info(`Data request from service ${i} was aborted`,null,R);this.bShouldNotRefreshDataAfterInit=false}else{if(e.response){t+=` - ${e.response.statusCode} ${e.response.statusText}`}l.error(`Failed to update data via service ${i}: ${t}`,null,R);this._setTileIntoErrorState()}},_setTileIntoErrorState:function(){const e=t.getResourceBundle();this.updatePropertiesHandler({number:"???",info:e.getText("dynamic_data.error")})},_normalizeNumber:function(e,t,r,o){let s;if(isNaN(e)){s=e}else{const t=i.getFloatInstance({maxFractionDigits:o});if(!r){const t=Math.abs(e);if(t>=1e9){r="B";e/=1e9}else if(t>=1e6){r="M";e/=1e6}else if(t>=1e3){r="K";e/=1e3}}s=t.format(e)}let n=s;const a=n[t-1];t-=a==="."||a===","?1:0;n=n.substring(0,t);return{displayNumber:n,numberFactor:r}},updatePropertiesHandler:function(e){const t=this.getView().getModel().getProperty("/originalProperties");const o=this.getView().getModel().getProperty("/properties");const s=[{dataField:"title",modelField:"title"},{dataField:"subtitle",modelField:"subtitle"},{dataField:"icon",modelField:"icon"},{dataField:"info",modelField:"info"},{dataField:"infoState",modelField:"infoState"},{dataField:"targetURL",modelField:"targetURL"},{dataField:"stateArrow",modelField:"number_state_arrow"},{dataField:"numberState",modelField:"number_value_state"},{dataField:"numberUnit",modelField:"number_unit"},{dataField:"numberFactor",modelField:"number_factor"}];s.forEach(i=>{const r=e[i.dataField];const s=!r;const n=P[i.modelField];if(s){o[i.modelField]=t[i.modelField]||n}else if(this._isResetValue(r)){o[i.modelField]=n}else{o[i.modelField]=r}});o.number_value=!isNaN(e.number)?e.number:P.number_value;o.number_digits=e.numberDigits>=0?e.numberDigits:4;const n=[];if(e.targetParams){n.push(e.targetParams)}if(e.results){let t;let i;let r=0;e.results.forEach(e=>{i=e.number||0;if(typeof i==="string"){i=parseFloat(i)}r+=i;t=e.targetParams;if(t){n.push(t)}});o.number_value=r}if(n.length>0){const e=o.targetURL.indexOf("?")!==-1?"&":"?";o.targetURL+=e+n.join("&")}if(!isNaN(e.number)){if(typeof e.number==="string"){e.number=e.number.trim()}const t=this._shouldProcessDigits(e.number,e.numberDigits);const r=o.icon?4:5;if(e.number&&e.number.toString().length>=r||t){const t=this._normalizeNumber(e.number,r,e.numberFactor,e.numberDigits);o.number_factor=t.numberFactor;o.number_value=t.displayNumber}else{const t=i.getFloatInstance({maxFractionDigits:r});o.number_value=t.format(e.number)}}o.configSizeBehavior=r.last("/core/home/sizeBehavior");this.getView().getModel().refresh()},_shouldProcessDigits:function(e,t){let i;e=typeof e!=="string"?e.toString():e;if(e.indexOf(".")!==-1){i=e.split(".")[1].length;if(i>t){return true}}return false},_getLeanUrl:function(e){return o.getLeanURL(e)},_formatValueColor:function(e){if(e==="Positive"){return v.Good}if(e==="Negative"){return v.Error}return v[e]||v.Neutral},_getValueColor:function(e){const t=this._formatValueColor(e);if(t===v.Neutral){return v.None}return t},_isResetValue:function(e){if(typeof e!=="string"){return false}return e===w},onExit:function(){if(this.oDataRequest){this.stopRequests();this.oDataRequest.destroy()}this._aDoables.forEach(e=>{e.off()});this._aDoables=[]}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/cdm/applauncherdynamic/DynamicTile.view", ["sap/ui/core/mvc/View","sap/m/GenericTile","sap/m/TileContent","sap/m/NumericContent","sap/m/library"],(e,t,r,i,o)=>{"use strict";const n=o.ValueColor;return e.extend("sap.ushell.components.tiles.cdm.applauncherdynamic.DynamicTile",{getControllerName:function(){return"sap.ushell.components.tiles.cdm.applauncherdynamic.DynamicTile"},createContent:function(e){this.setHeight("100%");this.setWidth("100%");if(this.getContent().length===1){return this.getContent()[0]}return new t({header:"{/properties/title}",scope:"{/properties/scope}",subheader:"{/properties/subtitle}",sizeBehavior:"{= ${/properties/customSizeBehavior} || ${/properties/configSizeBehavior}}",frameType:"{/properties/frameType}",wrappingType:"{/properties/wrappingType}",url:{parts:["/properties/targetURL"],formatter:e.formatters&&e.formatters.leanURL},tileContent:new r({footer:"{/properties/info}",footerColor:{path:"/properties/infoState",formatter:function(e){if(e==="Positive"){e=n.Good}if(e==="Negative"){e=n.Error}if(!n[e]){e=n.Neutral}return e}},unit:"{/properties/number_unit}",content:new i({truncateValueTo:5,scale:"{/properties/number_factor}",value:"{/properties/number_value}",indicator:"{/properties/number_state_arrow}",valueColor:{path:"/properties/number_value_state",formatter:function(e){if(!e||e==="Neutral"||!n[e]){return n.None}return e}},icon:"{/properties/icon}",withMargin:false,width:"100%"})}),additionalTooltip:"{/properties/contentProviderLabel}",press:[e.onPress,e]})}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/utils", ["sap/base/i18n/Localization","sap/ui/core/Element","sap/ui/core/Locale","sap/ushell/services/ClientSideTargetResolution/PrelaunchOperations","sap/ushell/resources","sap/ui/thirdparty/datajs","sap/ui/core/mvc/View","sap/ui/model/json/JSONModel","sap/ui/core/library","sap/m/library","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/core/IconPool","sap/ui/core/Icon","sap/m/SelectDialog","sap/m/StandardListItem","sap/m/Text","sap/m/TableSelectDialog","sap/m/Column","sap/m/ColumnListItem","sap/ui/core/CustomData","sap/ui/core/Item","sap/ui/core/message/MessageType","sap/m/Label","sap/ui/model/Sorter","sap/ui/thirdparty/jquery","sap/base/Log","sap/ui/core/format/NumberFormat"],(e,t,i,a,n,s,o,l,r,c,p,u,g,d,_,f,b,y,I,m,V,v,w,S,h,jQuery,x,T)=>{"use strict";const P=r.ValueState;const D=r.mvc.ViewType;const C=c.ButtonType;const A={};A.isInitial=function(e){return e==="App Launcher – Static"||e==="App Launcher – Dynamic"||e==="Target Mapping"};A.awaitResourceBundle=n.awaitResourceBundle;A.getResourceBundleModel=function(){return n.i18nModel};A.getResourceBundle=function(){return n.i18n};A.getEmptyRowObj=function(e){return{name:"",mandatory:false,value:"",isRegularExpression:false,defaultValue:"",valEnabled:false||!e,defValEnabled:true,editable:e}};A.getEmptyTileActionsRowObj=function(e){const t=A.getResourceBundle();return{menu_title:"",target_type:t.getText("configuration.tile_actions.table.target_type.url"),navigation_target:"",action:"",icon:"",isTargetTypeIntent:false,editable:e}};function R(e,t){const i={};const a=A.getResourceBundle();i.menu_title=e.text;i.icon=e.icon;if(e.targetURL.charAt(0)==="#"){i.target_type=a.getText("configuration.tile_actions.table.target_type.intent");const t=e.targetURL.split("-");i.navigation_target=t[0].substring(1,t[0].length);i.action=t[1];i.isTargetTypeIntent=true}else{i.target_type=a.getText("configuration.tile_actions.table.target_type.url");i.navigation_target=e.targetURL;i.action="";i.isTargetTypeIntent=false}i.editable=t;return i}A.getTileNavigationActionsRows=function(e,t){let i=[];let a=[];a=this.getTileNavigationActions(e);if(a.length){for(let e=0;e<a.length;e++){i.push(R(a[e],t))}}else{i=[this.getEmptyTileActionsRowObj(t)]}return i};A.getTileNavigationActions=function(e){let t=[];let i="";const a=e.bag.getBag("tileNavigationActions");if(a.getPropertyNames().indexOf("tile_navigation_actions")>=0){t=JSON.parse(a.getProperty("tile_navigation_actions"));for(let e=0;e<t.length;e++){if(t[e].text){if(a.getTextNames().indexOf(`action_tile_${e+1}`)>=0){i=a.getText(`action_tile_${e+1}`)}t[e].text=i}}}return t};function E(e){const t={};t.text=e.menu_title;t.icon=e.icon;if(e.action){t.targetURL=`#${e.navigation_target}-${e.action}`}else{t.targetURL=e.navigation_target}return t}A.tileActionsRows2TileActionsArray=function(e){const t=[];for(let i=0;i<e.length;i++){if(e[i].menu_title){t.push(E(e[i]))}}return t};A.populateTileNavigationActionsBag=function(e,t){e.setProperty("tile_navigation_actions",JSON.stringify(t));for(let i=0;i<t.length;i++){const a=t[i].text;e.setText(`action_tile_${i+1}`,a)}};A.getDefaultFormFactors=function(){return{appDefault:false,manual:{desktop:true,tablet:true,phone:true},defaultParam:true}};A.buildFormFactorsObject=function(e){return{appDefault:e.getProperty("/config/appFormFactor"),manual:{desktop:e.getProperty("/config/desktopChecked"),tablet:e.getProperty("/config/tabletChecked"),phone:e.getProperty("/config/phoneChecked")}}};A.tableHasDuplicateParameterNames=function(e){const t={};for(let i=0;i<e.length;i++){const a=e[i].name;if(a!==""){if(t[a]){return true}t[a]=true}}return false};A.tableHasInvalidSapPrelaunchOperationValue=function(e){for(let t=0;t<e.length;t++){if(e[t].name==="sap-prelaunch-operations"){if(a.parseAndValidateOperations(e[t].defaultValue)===null){return false}break}}return true};function k(e){let t="";if(e.mandatory){if(e.isRegularExpression){t=`{${e.name}=${encodeURIComponent(e.value)}}`}else{t=`${e.name}=${encodeURIComponent(e.value)}`}}else{t=`[${e.name}=${encodeURIComponent(e.defaultValue)}]`}return t}A.getMappingSignatureString=function(e,t){let i="";for(let t=0;t<e.length;t++){if(e[t].name){i+=`${k(e[t])}&`}}return t?`${i}*=*`:i.substring(0,i.length-1)};function L(e,t){const i={};if(e.charAt(0)==="["){i.mandatory=false;i.isRegularExpression=false;i.value="";e=e.substring(1,e.length-1);i.name=e.substring(0,e.indexOf("="));i.defaultValue=decodeURIComponent(e.substring(e.indexOf("=")+1))}else{i.mandatory=true;i.defaultValue="";if(e.charAt(0)==="{"){i.isRegularExpression=true;e=e.substring(1,e.length-1)}else{i.isRegularExpression=false}i.name=e.substring(0,e.indexOf("="));i.value=decodeURIComponent(e.substring(e.indexOf("=")+1))}i.editable=t;if(t){i.valEnabled=i.mandatory;i.defValEnabled=!i.mandatory}else{i.valEnabled=true;i.defValEnabled=true}return i}A.getMappingSignatureTableData=function(e,t){const i=[];const a=e.split("&");for(let e=0;e<a.length;e++){const n=a[e];if(n!=="*=*"){i.push(L(a[e],t))}}return i};A.getAllowUnknownParametersValue=function(e){if(e&&e.substring(e.length-3,e.length)==="*=*"){return true}return false};A.getMappingSignature=function(e,t){const i=t?"allowed":"ignored";const a=new RegExp("%%UserDefault[.].+%%");let n=[];const s={parameters:{},additional_parameters:i};e.forEach(e=>{s.parameters[e.name]={required:e.mandatory,rename_to:e.rename_to};if(e.defaultValue){n=a.exec(e.defaultValue);if(n){e.defaultValue=n[0]}s.parameters[e.name].defaultValue={value:e.defaultValue}}if(e.value){n=a.exec(e.value);if(n){e.value=n[0]}s.parameters[e.name].filter={value:e.value};if(e.isRegularExpression){s.parameters[e.name].filter.format="regexp"}}});return s};A.getSignatureTableData=function(e,t){const i=[];let a={};let n={};const s=e.parameters;for(const e in s){n=s[e];a={};a.editable=t;a.name=e;a.mandatory=n.required;if(n.rename_to){a.rename_to=n.rename_to}else{a.rename_to=n.renameTo}if(t){a.valEnabled=a.mandatory;a.defValEnabled=!a.mandatory}else{a.valEnabled=true;a.defValEnabled=true}if(n.filter){a.value=n.filter.value;if(n.filter.format&&n.filter.format==="regexp"){a.isRegularExpression=true}}if(n.defaultValue){a.defaultValue=n.defaultValue.value}i.push(a)}return i};A.getTranslatedTitle=function(e){if(e.bag){const t=e.bag.getBag("tileProperties");if(t.getTextNames().indexOf("display_title_text")>=0){return t.getText("display_title_text")}}if(e.title){return e.title.getTitle()}if(e.preview){return e.preview.getTitle()}return""};A.getTranslatedSubtitle=function(e,t){if(e.bag){const t=e.bag.getBag("tileProperties");if(t.getTextNames().indexOf("display_subtitle_text")>=0){return t.getText("display_subtitle_text")}}if(typeof t.display_subtitle_text==="string"){return t.display_subtitle_text}if(e.preview&&e.preview.getDescription&&e.preview.getDescription()){return e.preview.getDescription()}return""};A.getTranslatedProperty=function(e,t,i){if(e.bag){const t=e.bag.getBag("tileProperties");if(t.getTextNames().indexOf(i)>=0){return t.getText(i)}}return t[i]};A.getActionConfiguration=function(e,t){const i=e.configuration.getParameterValueAsString("tileConfiguration");const a=JSON.parse(i||"{}");let n;if(typeof t==="undefined"){t=e.configurationUi.isEnabled()}if(t){n=A.getResourceBundle()}a.semantic_object=a.semantic_object||(t?`[${n.getText("configuration.semantic_object")}]`:"");a.semantic_action=a.semantic_action||(t?`[${n.getText("configuration.semantic_action")}]`:"");a.navigation_provider=a.navigation_provider||"";a.navigation_provider_role=a.navigation_provider_role||"";a.navigation_provider_instance=a.navigation_provider_instance||"";a.target_application_id=a.target_application_id||"";a.target_application_alias=a.target_application_alias||"";a.display_info_text=a.display_info_text||"";a.editable=true;if(e.configurationUi&&e.configurationUi.isReadOnly){if(e.configurationUi.isReadOnly()){a.editable=false}}return a};A.getViewConfiguration=function(e){const t=e.getViewData();const i=t.chip;const a=A.getAppLauncherConfig(i,true,true);return a};A.getConfigurationUi=function(e,t){let i;let a;let n;let s;let r;const c=e.getViewData();const p=A.getViewConfiguration(e);const u=new l({config:p,tileModel:e.getModel()});return o.create({type:D.XML,viewData:c,viewName:t}).then(t=>{t.setModel(u);i=t.byId("navigation_semantic_objectInput")||t.byId("semantic_objectInput");if(i){i.getModel().setProperty("/enabled",p.navigation_use_semantic_object);i.getModel().setProperty("/value",p.semantic_object||p.navigation_semantic_object)}a=t.byId("navigation_provider_roleInput");if(a){a.getModel().setProperty("/value",p.navigation_provider_role)}n=t.byId("navigation_provider_instanceInput");if(n){n.getModel().setProperty("/value",p.navigation_provider_instance)}s=t.byId("target_application_aliasInput");if(s){s.getModel().setProperty("/value",p.target_application_alias)}r=t.byId("targetTypeInput");if(r){if(!t.getModel().getProperty("/config/transaction")){t.getModel().setProperty("/config/transaction",{})}if(!t.getModel().getProperty("/config/web_dynpro")){t.getModel().setProperty("/config/web_dynpro",{})}if(e.getModel().getProperty("/config/navigation_provider")==="LPD"){A.displayLpdCustApplicationTypeFields(t)}else if(e.getModel().getProperty("/config/navigation_provider")==="WCF"){r.setSelectedKey("WCF");A.displayWCFApplicationTypeFields(t)}else if(e.getModel().getProperty("/config/navigation_provider")==="SAPUI5"||e.getModel().getProperty("/config/navigation_provider")===""){r.setSelectedKey("SAPUI5");A.displaySapui5ApplicationTypeFields(t)}else if(e.getModel().getProperty("/config/navigation_provider")==="TR"){A.displayTransactionApplicationTypeFields(t)}else if(e.getModel().getProperty("/config/navigation_provider")==="WDA"){A.displayWebDynproApplicationTypeFields(t)}else if(e.getModel().getProperty("/config/navigation_provider")==="URL"){A.displayURLApplicationTypeFields(t)}else if(e.getModel().getProperty("/config/navigation_provider")==="URLT"){A.displayURLTApplicationTypeFields(t);u.setProperty("/config/editable",false);u.setProperty("/config/manualFormFactor",false)}}return t})};A._updateTilePropertiesTexts=function(e,t){const i=t.getTextNames();const a=e.getModel();i.forEach(e=>{a.setProperty(`/data/${e}`,t.getText(e));a.setProperty(`/config/${e}`,t.getText(e))})};A._updateTileConfiguration=function(e,t){const i=e.getModel();const a=JSON.parse(t);let n;Object.keys(a).forEach(e=>{n=a[e];i.setProperty(`/data/${e}`,n);i.setProperty(`/config/${e}`,n);if(e==="navigation_target_url"){i.setProperty(`/nav/${e}`,n)}})};A.aData=[];A.aActionData=[];A.aRoleData=[];A.aAliasData=[];A.objectSelectDoSearch=function(e){const t=e.getParameter("value");if(t!==undefined){e.getParameter("itemsBinding").filter(new p([new p("name",u.Contains,t),new p("obj",u.Contains,t)],false))}};A.actionSelectDoSearch=function(e){const t=e.getParameter("value");if(t!==undefined){e.getParameter("itemsBinding").filter(new p([new p("text",u.Contains,t)],false))}};A.roleSelectDoSearch=function(e){const t=e.getParameter("value");if(t!==undefined){e.getParameter("itemsBinding").filter(new p([new p("role",u.Contains,t),new p("instance",u.Contains,t)],false))}};A.instanceSelectDoSearch=function(e){const t=e.getParameter("value");if(t!==undefined){const i=[];if(t!==""){i.push(new p("instance",u.Contains,t))}const a=e.getSource().getCustomData();const n=a[0].getValue();if(n!==""){i.push(new p("role",u.EQ,n))}if(i.length>0){e.getParameter("itemsBinding").filter(new p(i,true))}}};A.instanceSuggest=function(e,t){const i=[];const a=t.getParameter("suggestValue");if(a!==""){i.push(new p("instance",u.Contains,a))}const n=e.getView();const s=n.byId("navigation_provider_roleInput");const o=s.getValue();if(o!==""){i.push(new p("role",u.EQ,o))}if(i.length>0){t.oSource.getBinding("suggestionItems").filter(new p(i,true))}};A.aliasSuggest=function(e,t){const i=[];const a=t.getParameter("suggestValue");if(a!==""){i.push(new p("alias",u.Contains,a))}const n=e.getView();const s=n.byId("navigation_provider_instanceInput");const o=s.getValue();if(o!==""){i.push(new p("instance",u.EQ,o))}if(i.length>0){t.oSource.getBinding("suggestionItems").filter(new p(i,true))}};A.aliasSelectDoSearch=function(e){const t=[];const i=e.getParameter("value");if(i!==undefined){if(i!==""){t.push(new p("alias",u.Contains,i))}const a=e.getSource().getCustomData();const n=a[0].getValue();t.push(new p("instance",u.EQ,n));e.getParameter("itemsBinding").filter(new p(t,true))}};A.objectSelectUpdateDialog=function(e,t){if(t!==undefined){e.getBinding("items").filter([new p("name",u.Contains,t)])}};A.actionSelectUpdateDialog=function(e,t){if(t!==undefined){e.getBinding("items").filter([new p("text",u.Contains,t)])}};A.roleSelectUpdateDialog=function(e,t){if(t!==undefined){e.getBinding("items").filter([new p("role",u.Contains,t)])}};A.instanceSelectUpdateDialog=function(e,t){const i=[];if(t!==undefined){i.push(new p("instance",u.Contains,t))}const a=e.getCustomData();const n=a[0].getValue();if(n!==""){i.push(new p("role",u.EQ,n))}if(i.length>0){e.getBinding("items").filter(i,true)}};A.aliasSelectUpdateDialog=function(e,t){const i=[];if(t!==undefined){i.push(new p("alias",u.Contains,t))}const a=e.getCustomData();const n=a[0].getValue();if(n!==""){i.push(new p("instance",u.EQ,n))}if(i.length>0){e.getBinding("items").filter(i,true)}};A.sSelectedColor=(jQuery(".sapMStdTileIconDiv").css("color")||"#007cc0").split(" ").join("");A.sDeselectedColor=(jQuery(".sapMLabel:not(.sapFioriDropZoneText )").css("color")||"#666666").split(" ").join("");A.iconSelect=function(e,t){e.setColor(t?A.sSelectedColor:A.sDeselectedColor);e.setActiveColor(t?A.sDeselectedColor:A.sSelectedColor)};A.onSelectIcon=function(e,t,i,a){const n=e.getView();const s=n.getModel();let o;if(t){o=s.getProperty("/config/tile_actions_selected_icon")}else{o=s.getProperty("/config/selected_icon")}if(o){A.iconSelect(o,false)}o=a.getSource();A.iconSelect(o,true);s.setProperty("/config/ok.enabled",true);if(t){s.setProperty("/config/tile_actions_selected_icon",o)}else{s.setProperty("/config/selected_icon",o)}n.byId("selectIconDialog").setTitle(o.getSrc())};A.onSelectIconClose=function(e){e.byId("selectIconDialog").close()};A.onSelectIconOk=function(e,t){let i=e.getModel().getProperty("/config/selected_icon");if(!t){e.getModel().setProperty("/config/display_icon_url",i.getSrc());e.byId("iconInput").setValueState(P.None)}else{i=e.getModel().getProperty("/config/tile_actions_selected_icon");if(i){t.setValue(i.getSrc());t.setValueState(P.None)}}A.onSelectIconClose(e)};A.iconSelectOnValueHelpRequest=function(e,i,a){const n=e.getView();const s=n.getModel();const o=n.byId("icons");let l=g.getIconCollectionNames();const r=n.byId("selectIconDialog");const c=n.byId("ok");let p;let u;let _;let f;let b=false;o.destroyContent();if(a){u=t.getElementById(i.getParameter("id"));p=u.getValue()}else{p=s.getProperty("/config/display_icon_url")}c.attachEventOnce("press",()=>{A.onSelectIconOk(n,u)});l.sort();l=l.filter(e=>{if(e==="BusinessSuiteInAppSymbols"){b=true;return false}return true});if(b){l.push("BusinessSuiteInAppSymbols")}for(let t=0;t<l.length;++t){_=g.getIconNames(l[t]);_.sort();for(let i=0;i<_.length;++i){f=g.getIconURI(_[i],l[t]);o.addContent(new d({height:"38px",press:A.onSelectIcon.bind(null,e,a,u),size:"2rem",src:f,tooltip:f,width:"38px"}))}}const y=o.getContent();s.setProperty("/config/ok.enabled",false);r.bindProperty("title",{model:"i18n",path:"configuration.select_icon"});for(let e=0;e<y.length;++e){if(y[e].getSrc()===p){if(a){s.setProperty("/config/tile_actions_selected_icon",y[e])}else{s.setProperty("/config/selected_icon",y[e])}A.iconSelect(y[e],true);s.setProperty("/config/ok.enabled",true);r.setTitle(p)}else{A.iconSelect(y[e],false)}}r.open()};A.objectSelectOnValueHelpRequest=function(e,i,a){const n=e.getView();const s=A.getResourceBundle().getText("configuration.semantic_object");let o;const r=new l;let c=new _("semantic_object_select_dialog",{title:s,search:A.objectSelectDoSearch,liveChange:A.objectSelectDoSearch});const p=new f({title:"{obj}"});if(a){o=t.getElementById(i.getParameter("id"))}else{o=n.byId("semantic_objectInput")||n.byId("navigation_semantic_objectInput")}const u=o.getValue();c.open(u);r.setData(e.aDefaultObjects.concat(A.aData));c.bindAggregation("items","/",p);c.setModel(r);A.objectSelectUpdateDialog(c,u);c.attachCancel(e=>{o.setValue(u);if(!a){o.fireChange()}c.destroy();c=null});c.attachConfirm(e=>{const t=e.getParameter("selectedItem");if(t){o.setValue(t.getTitle());if(!a){o.fireChange()}}c.destroy();c=null})};A.actionSelectOnValueHelpRequest=function(e,i,a){const n=e.getView();const s=A.getResourceBundle().getText("configuration.semantic_action");let o;const r=new l;let c=new _("semantic_action_select_dialog",{title:s,search:A.actionSelectDoSearch,liveChange:A.actionSelectDoSearch});const p=new f({title:"{text}"});if(a){o=t.getElementById(i.getParameter("id"))}else{o=n.byId("semantic_actionInput")||n.byId("navigation_semantic_actionInput")}const u=o.getValue();c.open(u);r.setData(A.aActionData);c.bindAggregation("items","/items",p);c.setModel(r);A.actionSelectUpdateDialog(c,u);c.attachCancel(e=>{o.setValue(u);if(!a){o.fireChange()}c.destroy();c=null});c.attachConfirm(e=>{const t=e.getParameter("selectedItem");if(t){o.setValue(t.getTitle());if(!a){o.fireChange();o.fireLiveChange({newValue:t.getTitle()})}}c.destroy();c=null})};A.roleSelectOnValueHelpRequest=function(e){const t=e.getView();const i=A.getResourceBundle().getText("configuration.navigation_provider_role");const a=new l;let n=new y("role_select_dialog",{title:i,search:A.roleSelectDoSearch,liveChange:A.roleSelectDoSearch,columns:[new I({header:[new b({text:A.getResourceBundle().getText("configuration.navigation_provider_role")})]}),new I({header:[new b({text:A.getResourceBundle().getText("configuration.navigation_provider_instance")})]})]});const s=new m({cells:[new b({text:"{role}"}),new b({text:"{instance}"})]});const o=t.byId("navigation_provider_roleInput");const r=t.byId("navigation_provider_instanceInput");const c=o.getValue();n.open(c);a.setData(e.aDefaultObjects.concat(A.aRoleData));n.bindAggregation("items","/",s);n.setModel(a);A.roleSelectUpdateDialog(n,c);n.attachCancel(e=>{o.setValue(c);o.fireChange();n.destroy();n=null});n.attachConfirm(e=>{const t=e.getParameter("selectedItem");if(t){o.setValue(t.getCells()[0].getText());r.setValue(t.getCells()[1].getText());o.fireChange();r.fireChange()}n.destroy();n=null})};A.instanceSelectOnValueHelpRequest=function(e){const t=e.getView();const i=A.getResourceBundle().getText("configuration.navigation_provider_instance");const a=new l;let n=new _("instance_select_dialog",{title:i,search:A.instanceSelectDoSearch,liveChange:A.instanceSelectDoSearch});const s=new f({title:"{instance}"});const o=t.byId("navigation_provider_instanceInput");const r=o.getValue();const c=t.byId("navigation_provider_roleInput").getValue();n.addCustomData(new V({key:"role",value:c}));n.open(r);a.setData(e.aDefaultObjects.concat(A.aRoleData));n.bindAggregation("items","/",s);n.setModel(a);A.instanceSelectUpdateDialog(n,r);n.attachCancel(e=>{o.setValue(r);o.fireChange();n.destroy();n=null});n.attachConfirm(e=>{const t=e.getParameter("selectedItem");if(t){o.setValue(t.getTitle());o.fireChange()}n.destroy();n=null})};A.applicationAliasSelectOnValueHelpRequest=function(e){const t=e.getView();const i=A.getResourceBundle().getText("configuration.target_application_alias");const a=new l;let n=new _("alias_select_dialog",{title:i,search:A.aliasSelectDoSearch,liveChange:A.aliasSelectDoSearch});const s=new f({title:"{alias}"});const o=t.byId("target_application_aliasInput");const r=o.getValue();const c=t.byId("navigation_provider_instanceInput").getValue();n.addCustomData(new V({key:"instance",value:c}));n.open(r);a.setData(e.aDefaultObjects.concat(A.aAliasData));n.bindAggregation("items","/",s);n.setModel(a);A.aliasSelectUpdateDialog(n,r);n.attachCancel(e=>{o.setValue(r);o.fireChange();n.destroy();n=null});n.attachConfirm(e=>{const t=e.getParameter("selectedItem");if(t){o.setValue(t.getTitle());o.fireChange()}n.destroy();n=null})};A.onTargetTypeChange=function(e){const i=e.getParameter("id");const a=t.getElementById(i).getParent().getCells();const n=e.getSource().getSelectedKey();if(n==="INT"){a[3].setEnabled(true);a[2].setShowValueHelp(true);a[2].setValue("")}else{a[2].setShowValueHelp(false);a[2].setValue("");a[3].setEnabled(false);a[3].setValue("")}};A.addTileActionsRow=function(e){const t=e.getModel();const i=t.getProperty("/config/tile_actions_rows");const a=this.getEmptyTileActionsRowObj();i.push(a);t.setProperty("/config/tile_actions_rows",i)};A.deleteTileActionsRow=function(e){const t=e.getModel();const i=t.getProperty("/config/tile_actions_rows");const a=e.byId("tileActions");const n=a.getSelectedIndices();const s=n.sort((e,t)=>t-e).slice();for(let e=0;e<s.length;e++){a.removeSelectionInterval(s[e],s[e]);i.splice(s[e],1)}t.setProperty("/config/tile_actions_rows",i)};A.checkInput=function(e,t){const i=A.getResourceBundle();const a=e.byId("iconInput");const n=e.byId("useLpdCheckbox");const s=e.byId("navigation_semantic_objectInput")||e.byId("semantic_objectInput");const o=e.byId("navigation_semantic_actionInput")||e.byId("semantic_actionInput");let l=P.None;let r=null;const c=String(t.getParameter("newValue")||"").trim();switch(t.getSource()){case a:if(c!==""&&c.substring(0,11)!=="sap-icon://"){l=P.Error;r=i.getText("configuration.display_icon_url.warning")}break;case n:if(!n.getSelected()){o.setValueState(P.None);s.setValueState(P.None)}break;case s:if(/[-#&? ]/.test(c)){l=P.Error;r=i.getText("configuration.semantic_object.error_invalid_chars")}else if(c===""){l=P.Error}break;case o:if(/[-#&? ]/.test(c)){l=P.Error;r=i.getText("configuration.semantic_action.error_invalid_chars")}else if(c===""){l=P.Error}break;default:break}if(l){t.getSource().setValueState(l);if(r!==null){t.getSource().setValueStateText(r||"")}}};A.checkInputOnSaveConfig=function(e){const t=e.byId("iconInput");const i=e.byId("navigation_semantic_objectInput");const a=e.byId("navigation_semantic_actionInput");const n=e.byId("useLpdCheckbox");const s=A.getResourceBundle();let o=false;if(t.getValue()!==""&&!A.isIconURIValid(t.getValue())){t.setValueState(P.Error);t.setValueStateText(s.getText("configuration.display_icon_url.warning"));o=true}if(n.getSelected()&&/[-#&? ]/.test(i.getValue())){i.setValueState(P.Error);i.setValueStateText(s.getText("configuration.semantic_object.error_invalid_chars"));o=true}else if(n.getSelected()&&i.getValue()===""){i.setValueState(P.Error);o=true}if(/[-#&? ]/.test(a.getValue())){a.setValueState(P.Error);a.setValueStateText(s.getText("configuration.semantic_action.error_invalid_chars"));o=true}else if(n.getSelected()&&a.getValue()===""){a.setValueState(P.Error);o=true}return o};A.checkTileActions=function(e){const t=e.getModel().getProperty("/config/tile_actions_rows");const i=A.getResourceBundle();let a=false;for(let e=0;e<t.length;e++){if(!t[e].menu_title&&(t[e].navigation_target||t.length>1)){t[e].valueState=P.Error;a=true}else{t[e].valueState=P.None}if(t[e].icon){if(!A.isIconURIValid(t[e].icon)){t[e].iconValueState=P.Error;t[e].iconValueStateText=i.getText("configuration.display_icon_url.warning");a=true}}}e.getModel().setProperty("/config/tile_actions_rows",t);return a};A.isIconURIValid=function(e){let t=[];let i="";let a="";let n="";t=/sap-icon:\/\/(.+)\//.exec(e);if(t){i=t[1];t=/\/\/.+\/(.+)/.exec(e);if(t){a=t[1]}else{a=""}n=g.getIconURI(a,i);if(n!==e){return false}}else{t=/sap-icon:\/\/(.+)/.exec(e);if(t){a=t[1];if(!g.getIconInfo(a)){return false}}else{return false}}return true};A.checkTMInput=function(e,t){const i=A.getResourceBundle();const a=e.byId("semantic_objectInput");const n=e.byId("semantic_actionInput");const s=e.byId("target_application_descriptionInput");const o=e.byId("target_application_urlInput");const l=e.byId("target_application_componentInput");const r=e.byId("navigation_provider_roleInput");const c=e.byId("navigation_provider_instanceInput");const p=e.byId("target_application_aliasInput");const u=e.byId("target_application_idInput");const g=String(t.getParameter("newValue")||"").trim();let d=P.None;let _=null;switch(t.getSource()){case a:if(/[-#&? ]/.test(g)){d=P.Error;_=i.getText("configuration.semantic_object.error_invalid_chars")}if(n.getValue()===""){n.setValueState(P.Error)}break;case n:if(/[-#&? ]/.test(g)){d=P.Error;_=i.getText("configuration.semantic_action.error_invalid_chars")}else if(g===""){d=P.Error}break;case s:if(g===""){d=P.Error}break;case o:if(g!==""&&!/^[-~+,;:?%&#=/.\w]+$/.test(g)){d=P.Error;_=i.getText("configuration.target_application.url.error_invalid_chars")}break;case l:if(g===""){d=P.Error}else if(g.substring(0,17)==="SAPUI5.Component="){d=P.Error;_=i.getText("configuration.target_application.component.error_invalid_input")}break;case r:if(g===""){d=P.Error}else if(!/^[\w/]+$/.test(g)){d=P.Error;_=i.getText("configuration.target_application.role.error_invalid_chars")}break;case c:if(g===""){d=P.Error}else if(!/^[\w/]+$/.test(g)){d=P.Error;_=i.getText("configuration.target_application.instance.error_invalid_chars")}break;case p:if(g===""&&u.getValue()===""){d=P.Error;_=i.getText("configuration.target_application.alias_id.warning")}else if(g!==""&&u.getValue()!==""){d=P.Error;_=i.getText("configuration.target_application.alias_id.warning");u.setValueState(d);u.setValueStateText(_)}else{u.setValueState(P.None)}break;case u:if(g===""&&p.getValue()===""){d=P.Error;_=i.getText("configuration.target_application.alias_id.warning")}else if(g!==""&&p.getValue()!==""){d=P.Error;_=i.getText("configuration.target_application.alias_id.warning");p.setValueState(d);p.setValueStateText(_)}else if(g!==""&&!/^[A-Fa-f0-9]+$/.test(g)){d=P.Error;_=i.getText("configuration.target_application.alias_id.error_invalid_chars")}else{p.setValueState(P.None)}break;default:break}if(d){t.getSource().setValueState(d);if(_!==null){t.getSource().setValueStateText(_||"")}}};A.checkTMInputOnSaveConfig=function(e){const t=A.getResourceBundle();const i=e.byId("semantic_objectInput");const a=e.byId("semantic_actionInput");const n=e.byId("target_application_descriptionInput");const s=e.byId("target_application_urlInput");const o=e.byId("target_application_componentInput");const l=e.byId("navigation_provider_roleInput");const r=e.byId("navigation_provider_instanceInput");const c=e.byId("target_application_aliasInput");const p=e.byId("target_application_idInput");const u=e.byId("targetTypeInput");const g=e.byId("target_transactionInput");const d=e.byId("target_web_dynpro_applicationInput");const _=e.byId("target_wcf_application_idInput");const f=e.byId("desktopCB");const b=e.byId("tabletCB");const y=e.byId("phoneCB");let I=false;i.setValue(i.getValue().trim());if(/[-#&? ]/.test(i.getValue())){i.setValueState(P.Error);i.setValueStateText(t.getText("configuration.semantic_object.error_invalid_chars"));I=true}a.setValue(a.getValue().trim());if(/[-#&? ]/.test(a.getValue())){a.setValueState(P.Error);a.setValueStateText(t.getText("configuration.semantic_action.error_invalid_chars"));I=true}else if(a.getValue()===""){a.setValueState(P.Error);I=true}const m=e.getModel().getProperty("/config/navigation_provider");let V;if(m==="SAPUI5"){if(n.getValue()===""){n.setValueState(P.Error);I=true}if(s.getValue()!==""&&!/^[-~+,;:?%&#=/.\w]+$/.test(s.getValue())){s.setValueState(P.Error);s.setValueStateText(t.getText("configuration.target_application.url.error_invalid_chars"));I=true}if(o.getValue()===""){o.setValueState(P.Error);I=true}else if(o.getValue().substring(0,17)==="SAPUI5.Component="){o.setValueState(P.Error);o.setValueStateText(t.getText("configuration.target_application.component.error_invalid_input"));I=true}}else if(m==="LPD"){if(l.getValue()===""){l.setValueState(P.Error);I=true}if(!/^[\w]+$/.test(l.getValue())){l.setValueState(P.Error);V=t.getText("configuration.target_application.role.error_invalid_chars");l.setValueStateText(V);I=true}if(r.getValue()===""){r.setValueState(P.Error);I=true}if(!/^[\w]+$/.test(r.getValue())){r.setValueState(P.Error);V=t.getText("configuration.target_application.instance.error_invalid_chars");r.setValueStateText(V);I=true}if(c.getValue()===""&&p.getValue()===""){V=t.getText("configuration.target_application.alias_id.warning");c.setValueState(P.Error);c.setValueStateText(V);p.setValueState(P.Error);p.setValueStateText(V);I=true}if(c.getValue()!==""&&p.getValue()!==""){V=t.getText("configuration.target_application.alias_id.warning");c.setValueState(P.Error);c.setValueStateText(V);p.setValueState(P.Error);p.setValueStateText(V);I=true}if(p.getValue()!==""&&!/^[A-Fa-f0-9]+$/.test(p.getValue())){p.setValueState(P.Error);p.setValueStateText(t.getText("configuration.target_application.alias_id.error_invalid_chars"));I=true}}else if(m==="TR"){if(g.getValue()===""){g.setValueState(P.Error);I=true}}else if(m==="WDA"){if(d.getValue()===""){d.setValueState(P.Error);I=true}}else if(m==="WCF"){if(_.getValue()===""){_.setValueState(P.Error);I=true}}else if(m==="URL"){if(s.getValue()===""){s.setValueState(P.Error);I=true}else if(!/^[-~+,;:?%&#=/.\w]+$/.test(s.getValue())){s.setValueState(P.Error);s.setValueStateText(t.getText("configuration.target_application.url.error_invalid_chars"));I=true}}else{u.setValueState(P.Error);u.setValueStateText(t.getText("configuration.navigation_provider.error_invalid_provider"));I=true}if(!f.getSelected()&&!b.getSelected()&&!y.getSelected()){V=t.getText("configuration.form_factor.warning");f.setValueState(P.Error);f.setValueStateText(V);b.setValueState(P.Error);b.setValueStateText(V);y.setValueState(P.Error);y.setValueStateText(V);I=true}return I};A.updateTooltipForDisabledProperties=function(e){const t=e.getModel();const i=t.getProperty("/config/isLocaleSuitable");if(!i){const i=A.getResourceBundle();const a=i.getText("edit_configuration.original_locale_not_fit_tooltip",[t.getProperty("/config/userLocale"),t.getProperty("/config/orgLocale")]);e.byId("titleInput").setTooltip(a);e.byId("subtitleInput").setTooltip(a);e.byId("keywordsInput").setTooltip(a);e.byId("infoInput").setTooltip(a)}};A.updateMessageStripForOriginalLanguage=function(e){const t=e.getModel();if(t.getProperty("/config/isLocaleSuitable")===false){const i=A.getResourceBundle().getText("edit_configuration.original_locale_not_fit_message",[t.getProperty("/config/orgLocale").toUpperCase(),t.getProperty("/config/userLocale").toUpperCase()]);const a=e.byId("messageStrip");a.setVisible(true);a.setText(i);a.setType(w.Warning)}};A.createSemanticObjectModel=function(e,t,i){const a=e.getView();const n="/sap/opu/odata/UI2/INTEROP/SemanticObjects";const o=[{obj:"",name:""},{obj:"*",name:"*"}];const r=(i||o).slice(0);const c=new l;c.setSizeLimit(999999);c.setProperty("/value","");c.setProperty("/enabled",true);t.bindAggregation("suggestionItems","suggest>/items",new v({text:"{suggest>obj}"}));t.setModel(c,"suggest");if(A.aData.length>0){setTimeout(()=>{c.setData({items:r.concat(A.aData)},true)},0);return}s.read({requestUri:n,headers:{Accept:"application/json"}},e=>{let t;let i;let a;for(a=0;a<e.results.length;a=a+1){t=e.results[a].id;i=e.results[a].text;A.aData.push({obj:t,name:i||t})}c.setData({items:r.concat(A.aData)},true)},e=>{let t=e&&e.message?e.message:e;if(e.response){t+=` - ${e.response.statusCode} ${e.response.statusText}`}x.error(`Could not fetch data: ${n}: ${t}`,null,a.getViewName()||"sap.ushell.components.tiles.utils")})};A.createRoleModel=function(e,t,i){const a=e.getView();const n="/sap/opu/odata/UI2/INTEROP/GetLPDInstances";const o=new l;const r=new l;o.setSizeLimit(999999);r.setSizeLimit(999999);o.setProperty("/value","");o.setProperty("/enabled",true);r.setProperty("/value","");r.setProperty("/enabled",true);const c=new m({cells:[new S({text:"{role}"}),new S({text:"{instance}"})]});t.bindAggregation("suggestionRows","/items",c);i.bindAggregation("suggestionItems","/items",new v({text:"{instance}"}));i.setModel(r);t.setModel(o);t.attachSuggestionItemSelected(e=>{i.setValue(e.getParameter("selectedRow").getCells()[1].getText());i.fireChange()});if(A.aRoleData.length>0){o.setData({items:A.aRoleData},false);r.setData({items:A.aRoleData},false);return}s.read({requestUri:n,headers:{Accept:"application/json"}},e=>{let t;let i;let a;for(a=0;a<e.results.length;a=a+1){t=e.results[a].lpdRole;i=e.results[a].instance;A.aRoleData.push({role:t,instance:i})}o.setData({items:A.aRoleData},true);r.setData({items:A.aRoleData},true)},e=>{let t=e&&e.message?e.message:e;if(e.response){t+=` - ${e.response.statusCode} ${e.response.statusText}`}x.error(`Could not fetch data: ${n}: ${t}`,null,a.getViewName()||"sap.ushell.components.tiles.utils")})};A.createAliasModel=function(e,t){const i=e.getView();let a="/sap/opu/odata/UI2/INTEROP/GetLPDAppAlias";const n=new l;n.setSizeLimit(999999);n.setProperty("/value","");n.setProperty("/enabled",true);t.bindAggregation("suggestionItems","/items",new v({text:"{alias}"}));t.setModel(n);const o=A.getAppLauncherConfig(i.oViewData.chip,true,true);if(o&&o.navigation_provider_role&&o.navigation_provider_instance){if(o.navigation_provider_role!==""&&o.navigation_provider_instance!==""){a=`${a}?role='${o.navigation_provider_role}'&instance='${o.navigation_provider_instance}'`}}s.read({requestUri:a,headers:{Accept:"application/json"}},e=>{let t;let i;let a;let s;let o;A.aAliasData=[];for(s=0;s<e.results.length;s=s+1){t=e.results[s].lpdApplicationAlias;i=e.results[s].lpdRole;a=e.results[s].lpdInstance;A.aAliasData.push({role:i,instance:a,alias:t})}o=n.getData();if(o){o.items=A.aAliasData}else{o={items:A.aAliasData}}n.setData(o,false)},e=>{let t=e&&e.message?e.message:e;if(e.response){t+=` - ${e.response.statusCode} ${e.response.statusText}`}x.error(`Could not fetch data: ${a}: ${t}`,null,i.getViewName()||"sap.ushell.components.tiles.utils")})};A.updateAliasModel=function(e,t){const i=t.getModel();const a=e.byId("navigation_provider_instanceInput").getValue();const n=e.byId("navigation_provider_roleInput").getValue();const o=`/sap/opu/odata/UI2/INTEROP/GetLPDAppAlias?role='${n}'&instance='${a}'`;s.read({requestUri:o,headers:{Accept:"application/json"}},e=>{let t;let a;let n;let s;A.aAliasData=[];for(let i=0;i<e.results.length;i=i+1){t=e.results[i].lpdApplicationAlias;n=e.results[i].lpdRole;s=e.results[i].lpdInstance;A.aAliasData.push({role:n,instance:s,alias:t})}a=i.getData();if(a){a.items=A.aAliasData}else{a={items:A.aAliasData}}i.setData(a,false)},t=>{let i=t&&t.message?t.message:t;if(t.response){i+=` - ${t.response.statusCode} ${t.response.statusText}`}x.error(`Could not fetch data: ${o}: ${i}`,null,e.getViewName()||"sap.ushell.components.tiles.utils")})};A.createActionModel=function(e,t){const i=new l;const a=e.getView();i.setData({items:[{text:"display"},{text:"approve"},{text:"displayFactSheet"},{text:"manage"},{text:"create"},{text:"monitor"},{text:"track"},{text:"change"},{text:"register"},{text:"release"},{text:"analyzeKPIDetails"},{text:"lookup"},{text:"manageLineItems"}]});A.aActionData=i.getData();const n=A.getAppLauncherConfig(a.oViewData.chip,true,true);const s=n.navigation_semantic_action||n.semantic_action;if(s){if(!i.getData().items.some(e=>e.text===s)){i.getData().items.push({text:s})}}t.bindAggregation("suggestionItems","items>/items",new v({text:"{items>text}"}));t.setModel(i,"items");t.getBinding("suggestionItems").sort(new h("text",false))};A.createNavigationProviderModel=function(e,t){const i=new l;const a=A.getResourceBundle();const n=[{key:"SAPUI5",text:a.getText("configuration.target_application.sapui5")},{key:"LPD",text:a.getText("configuration.target_application.lpd_cust")},{key:"TR",text:a.getText("configuration.target_application.transaction")},{key:"WDA",text:a.getText("configuration.target_application.web_dynpro")},{key:"URL",text:a.getText("configuration.target_application.url")}];const s=A.getViewConfiguration(e.getView()).navigation_provider;if(s==="WCF"){n.push({key:"WCF",text:a.getText("configuration.target_application.wcf")})}else if(s==="URLT"){n.push({key:"URLT",text:a.getText("configuration.target_application.urlt")})}i.setData({items:n});t.bindItems("items>/items",new v({key:"{items>key}",text:"{items>text}"}));t.setModel(i,"items");t.getBinding("items").sort(new h("text",false))};A.displayApplicationTypeFields=function(e,t){switch(e){case"LPD":A.displayLpdCustApplicationTypeFields(t);break;case"SAPUI5":A.displaySapui5ApplicationTypeFields(t);break;case"TR":A.displayTransactionApplicationTypeFields(t);break;case"WDA":A.displayWebDynproApplicationTypeFields(t);break;case"URL":A.displayURLApplicationTypeFields(t);break;case"WCF":A.displayWCFApplicationTypeFields(t);break;case"URLT":A.displayURLTApplicationTypeFields(t);break}};A.displayWCFApplicationTypeFields=function(e){e.byId("navigation_provider_role").setVisible(false);e.byId("navigation_provider_roleInput").setVisible(false);e.byId("navigation_provider_instance").setVisible(false);e.byId("navigation_provider_instanceInput").setVisible(false);e.byId("target_application_alias").setVisible(false);e.byId("target_application_aliasInput").setVisible(false);e.byId("target_application_id").setVisible(false);e.byId("target_application_idInput").setVisible(false);e.byId("application_description").setVisible(true);e.byId("target_application_descriptionInput").setVisible(true);e.byId("application_url").setVisible(false);e.byId("target_application_urlInput").setVisible(false);e.byId("application_component").setVisible(false);e.byId("target_application_componentInput").setVisible(false);e.byId("target_transaction").setVisible(false);e.byId("target_transactionInput").setVisible(false);e.byId("target_wcf_application_id").setVisible(true);e.byId("target_wcf_application_idInput").setVisible(true);e.byId("target_web_dynpro_application").setVisible(false);e.byId("target_web_dynpro_applicationInput").setVisible(false);e.byId("target_web_dynpro_configuration").setVisible(false);e.byId("target_web_dynpro_configurationInput").setVisible(false);e.byId("target_system_alias").setVisible(true);e.byId("target_system_aliasInput").setVisible(true);e.byId("urlt_application_component").setVisible(false);e.byId("urlt_application_componentInput").setVisible(false);e.byId("target_urlt_system_alias").setVisible(false);e.byId("target_urlt_system_aliasInput").setVisible(false);e.byId("application_type_deprecated").setVisible(false)};A.displaySapui5ApplicationTypeFields=function(e){e.byId("navigation_provider_role").setVisible(false);e.byId("navigation_provider_roleInput").setVisible(false);e.byId("navigation_provider_instance").setVisible(false);e.byId("navigation_provider_instanceInput").setVisible(false);e.byId("target_application_alias").setVisible(false);e.byId("target_application_aliasInput").setVisible(false);e.byId("target_application_id").setVisible(false);e.byId("target_application_idInput").setVisible(false);e.byId("application_description").setVisible(true);e.byId("target_application_descriptionInput").setVisible(true);e.byId("application_url").setVisible(true);e.byId("target_application_urlInput").setVisible(true);e.byId("application_component").setVisible(true);e.byId("target_application_componentInput").setVisible(true);e.byId("target_transaction").setVisible(false);e.byId("target_transactionInput").setVisible(false);e.byId("target_wcf_application_id").setVisible(false);e.byId("target_wcf_application_idInput").setVisible(false);e.byId("target_web_dynpro_application").setVisible(false);e.byId("target_web_dynpro_applicationInput").setVisible(false);e.byId("target_web_dynpro_configuration").setVisible(false);e.byId("target_web_dynpro_configurationInput").setVisible(false);e.byId("target_system_alias").setVisible(false);e.byId("target_system_aliasInput").setVisible(false);e.byId("urlt_application_component").setVisible(false);e.byId("urlt_application_componentInput").setVisible(false);e.byId("target_urlt_system_alias").setVisible(false);e.byId("target_urlt_system_aliasInput").setVisible(false);e.byId("application_type_deprecated").setVisible(false)};A.displayLpdCustApplicationTypeFields=function(e){e.byId("application_description").setVisible(false);e.byId("target_application_descriptionInput").setVisible(false);e.byId("application_url").setVisible(false);e.byId("target_application_urlInput").setVisible(false);e.byId("application_component").setVisible(false);e.byId("target_application_componentInput").setVisible(false);e.byId("navigation_provider_role").setVisible(true);e.byId("navigation_provider_roleInput").setVisible(true);e.byId("navigation_provider_instance").setVisible(true);e.byId("navigation_provider_instanceInput").setVisible(true);e.byId("target_application_alias").setVisible(true);e.byId("target_application_aliasInput").setVisible(true);e.byId("target_application_id").setVisible(true);e.byId("target_application_idInput").setVisible(true);e.byId("target_transaction").setVisible(false);e.byId("target_transactionInput").setVisible(false);e.byId("target_wcf_application_id").setVisible(false);e.byId("target_wcf_application_idInput").setVisible(false);e.byId("target_web_dynpro_application").setVisible(false);e.byId("target_web_dynpro_applicationInput").setVisible(false);e.byId("target_web_dynpro_configuration").setVisible(false);e.byId("target_web_dynpro_configurationInput").setVisible(false);e.byId("target_system_alias").setVisible(false);e.byId("target_system_aliasInput").setVisible(false);e.byId("urlt_application_component").setVisible(false);e.byId("urlt_application_componentInput").setVisible(false);e.byId("target_urlt_system_alias").setVisible(false);e.byId("target_urlt_system_aliasInput").setVisible(false);e.byId("application_type_deprecated").setVisible(true)};A.displayTransactionApplicationTypeFields=function(e){e.byId("application_description").setVisible(true);e.byId("target_application_descriptionInput").setVisible(true);e.byId("application_url").setVisible(false);e.byId("target_application_urlInput").setVisible(false);e.byId("application_component").setVisible(false);e.byId("target_application_componentInput").setVisible(false);e.byId("navigation_provider_role").setVisible(false);e.byId("navigation_provider_roleInput").setVisible(false);e.byId("navigation_provider_instance").setVisible(false);e.byId("navigation_provider_instanceInput").setVisible(false);e.byId("target_application_alias").setVisible(false);e.byId("target_application_aliasInput").setVisible(false);e.byId("target_application_id").setVisible(false);e.byId("target_application_idInput").setVisible(false);e.byId("target_transaction").setVisible(true);e.byId("target_transactionInput").setVisible(true);e.byId("target_wcf_application_id").setVisible(false);e.byId("target_wcf_application_idInput").setVisible(false);e.byId("target_web_dynpro_application").setVisible(false);e.byId("target_web_dynpro_applicationInput").setVisible(false);e.byId("target_web_dynpro_configuration").setVisible(false);e.byId("target_web_dynpro_configurationInput").setVisible(false);e.byId("target_system_alias").setVisible(true);e.byId("target_system_aliasInput").setVisible(true);e.byId("urlt_application_component").setVisible(false);e.byId("urlt_application_componentInput").setVisible(false);e.byId("target_urlt_system_alias").setVisible(false);e.byId("target_urlt_system_aliasInput").setVisible(false);e.byId("application_type_deprecated").setVisible(false)};A.displayWebDynproApplicationTypeFields=function(e){e.byId("application_description").setVisible(true);e.byId("target_application_descriptionInput").setVisible(true);e.byId("application_url").setVisible(false);e.byId("target_application_urlInput").setVisible(false);e.byId("application_component").setVisible(false);e.byId("target_application_componentInput").setVisible(false);e.byId("navigation_provider_role").setVisible(false);e.byId("navigation_provider_roleInput").setVisible(false);e.byId("navigation_provider_instance").setVisible(false);e.byId("navigation_provider_instanceInput").setVisible(false);e.byId("target_application_alias").setVisible(false);e.byId("target_application_aliasInput").setVisible(false);e.byId("target_application_id").setVisible(false);e.byId("target_application_idInput").setVisible(false);e.byId("target_transaction").setVisible(false);e.byId("target_transactionInput").setVisible(false);e.byId("target_wcf_application_id").setVisible(false);e.byId("target_wcf_application_idInput").setVisible(false);e.byId("target_web_dynpro_application").setVisible(true);e.byId("target_web_dynpro_applicationInput").setVisible(true);e.byId("target_web_dynpro_configuration").setVisible(true);e.byId("target_web_dynpro_configurationInput").setVisible(true);e.byId("target_system_alias").setVisible(true);e.byId("target_system_aliasInput").setVisible(true);e.byId("urlt_application_component").setVisible(false);e.byId("urlt_application_componentInput").setVisible(false);e.byId("target_urlt_system_alias").setVisible(false);e.byId("target_urlt_system_aliasInput").setVisible(false);e.byId("application_type_deprecated").setVisible(false)};A.displayURLApplicationTypeFields=function(e){e.byId("navigation_provider_role").setVisible(false);e.byId("navigation_provider_roleInput").setVisible(false);e.byId("navigation_provider_instance").setVisible(false);e.byId("navigation_provider_instanceInput").setVisible(false);e.byId("target_application_alias").setVisible(false);e.byId("target_application_aliasInput").setVisible(false);e.byId("target_application_id").setVisible(false);e.byId("target_application_idInput").setVisible(false);e.byId("application_description").setVisible(true);e.byId("target_application_descriptionInput").setVisible(true);e.byId("application_url").setVisible(true);e.byId("target_application_urlInput").setVisible(true);e.byId("application_component").setVisible(false);e.byId("target_application_componentInput").setVisible(false);e.byId("target_transaction").setVisible(false);e.byId("target_transactionInput").setVisible(false);e.byId("target_wcf_application_id").setVisible(false);e.byId("target_wcf_application_idInput").setVisible(false);e.byId("target_web_dynpro_application").setVisible(false);e.byId("target_web_dynpro_applicationInput").setVisible(false);e.byId("target_web_dynpro_configuration").setVisible(false);e.byId("target_web_dynpro_configurationInput").setVisible(false);e.byId("target_system_alias").setVisible(true);e.byId("target_system_aliasInput").setVisible(true);e.byId("urlt_application_component").setVisible(false);e.byId("urlt_application_componentInput").setVisible(false);e.byId("target_urlt_system_alias").setVisible(false);e.byId("target_urlt_system_aliasInput").setVisible(false);e.byId("application_type_deprecated").setVisible(false)};A.displayURLTApplicationTypeFields=function(e){e.byId("navigation_provider_role").setVisible(false);e.byId("navigation_provider_roleInput").setVisible(false);e.byId("navigation_provider_instance").setVisible(false);e.byId("navigation_provider_instanceInput").setVisible(false);e.byId("target_application_alias").setVisible(false);e.byId("target_application_aliasInput").setVisible(false);e.byId("target_application_id").setVisible(false);e.byId("target_application_idInput").setVisible(false);e.byId("application_description").setVisible(true);e.byId("target_application_descriptionInput").setVisible(true);e.byId("application_url").setVisible(false);e.byId("target_application_urlInput").setVisible(false);e.byId("application_component").setVisible(false);e.byId("target_application_componentInput").setVisible(false);e.byId("target_transaction").setVisible(false);e.byId("target_transactionInput").setVisible(false);e.byId("target_wcf_application_id").setVisible(false);e.byId("target_wcf_application_idInput").setVisible(false);e.byId("target_web_dynpro_application").setVisible(false);e.byId("target_web_dynpro_applicationInput").setVisible(false);e.byId("target_web_dynpro_configuration").setVisible(false);e.byId("target_web_dynpro_configurationInput").setVisible(false);e.byId("target_system_alias").setVisible(false);e.byId("target_system_aliasInput").setVisible(false);e.byId("urlt_application_component").setVisible(true);e.byId("urlt_application_componentInput").setVisible(true);e.byId("target_urlt_system_alias").setVisible(true);e.byId("target_urlt_system_aliasInput").setVisible(true);e.byId("application_type_deprecated").setVisible(false)};A.getAppLauncherConfig=function(t,a,n){let s;const o=t.configuration.getParameterValueAsString("tileConfiguration");let l;try{l=JSON.parse(o||"{}")}catch(e){x.error("Error while trying to parse tile configuration",e,"sap.ushell.components.tiles.utils");return{}}l.editable=true;if(t.configurationUi&&t.configurationUi.isReadOnly){if(t.configurationUi.isReadOnly()){l.editable=false}}const r=A.getTranslatedTitle(t);const c=A.getTranslatedSubtitle(t,l);const p=A.getTranslatedProperty(t,l,"display_info_text");const u=A.getTranslatedProperty(t,l,"display_search_keywords");if(a){s=A.getResourceBundle();if(n&&t.bag){const a=t.bag.getOriginalLanguage();const n=new i(e.getLanguageTag()).getSAPLogonLanguage();const s=e.getLanguage();l.isLocaleSuitable=a===""||a.toLowerCase()===n.toLowerCase()||a.toLowerCase()===s.toLowerCase();l.orgLocale=a;l.userLocale=n}}l.display_icon_url=l.display_icon_url||"";if(p!==undefined){l.display_info_text=p}else if(l.display_info_text===undefined){if(a&&!n){l.display_info_text=`[${s.getText("configuration.display_info_text")}]`}else{l.display_info_text=""}}l.navigation_semantic_object=l.navigation_semantic_object||"";l.navigation_semantic_action=l.navigation_semantic_action||"";l.navigation_semantic_parameters=l.navigation_semantic_parameters||"";l.display_number_unit=l.display_number_unit||"";l.display_number_factor=l.display_number_factor||"";l.service_refresh_interval=l.service_refresh_interval?parseInt(l.service_refresh_interval,10):0;l.service_url=l.service_url||"";l.navigation_target_url=l.navigation_target_url||"";if(a&&A.isInitial(r)){l.display_title_text=n?"":`[${s.getText("configuration.display_title_text")}]`;l.display_subtitle_text=n?"":`[${s.getText("configuration.display_subtitle_text")}]`}else{l.display_title_text=r||l.display_title_text||"";if(c!==undefined){l.display_subtitle_text=c}else if(l.display_subtitle_text===undefined){l.display_subtitle_text=""}}l.navigation_use_semantic_object=l.navigation_use_semantic_object!==false;l.display_search_keywords=u||l.display_search_keywords||"";if(a){l.display_number_value=l.display_number_value||1234}l.form_factors=l.form_factors?l.form_factors:A.getDefaultFormFactors();l.desktopChecked=l.form_factors.manual.desktop;l.tabletChecked=l.form_factors.manual.tablet;l.phoneChecked=l.form_factors.manual.phone;l.manualFormFactor=!l.form_factors.appDefault&&l.editable;l.appFormFactor=l.form_factors.appDefault;l.formFactorConfigDefault=!!l.form_factors.defaultParam;if(l.signature){l.rows=A.getSignatureTableData(l.signature,n&&l.editable)}else{l.rows=l.mapping_signature&&l.mapping_signature!=="*=*"?A.getMappingSignatureTableData(l.mapping_signature,n&&l.editable):[A.getEmptyRowObj(l.editable)]}if(l.signature){l.isUnknownAllowed=l.signature.additional_parameters==="allowed"||l.signature.additionalParameters==="allowed"}else{l.isUnknownAllowed=l.mapping_signature!==undefined?A.getAllowUnknownParametersValue(l.mapping_signature):true}if(a){l.tile_actions_rows=A.getTileNavigationActionsRows(t,l.editable)}else if(!l.actions){l.actions=A.getTileNavigationActions(t)}if(a){const e=t.bag.getBag("deprecationProperties");const i=e.getProperty("deprecation");let a=null;if(i){a=s.getText(i==="D"?"configuration.app_deprecated":"configuration.app_archived",[e.getProperty("successor")])}l.deprecation_text=a}return l};A.getDataToDisplay=function(e,t){let i=0;let a;let n;let s;let o;const l={display_icon_url:t.icon||e.display_icon_url||"",display_title_text:t.title||e.display_title_text||"",display_number_value:!isNaN(t.number)?t.number:"...",display_number_unit:t.numberUnit||e.display_number_unit||"",display_info_text:t.info||e.display_info_text||"",display_info_state:t.infoState||"Neutral",display_subtitle_text:t.subtitle||e.display_subtitle_text||"",display_state_arrow:t.stateArrow||"None",display_number_state:t.numberState||"None",display_number_digits:t.numberDigits>=0?t.numberDigits:4,display_number_factor:t.numberFactor||"",display_search_keyword:t.keywords||e.display_search_keyword||"",targetParams:[]};if(t.infoStatus){l.display_info_state=t.infoStatus}if(t.targetParams){l.targetParams.push(t.targetParams)}if(t.results){for(a=0,n=t.results.length;a<n;a=a+1){s=t.results[a].number||0;if(typeof s==="string"){s=parseFloat(s)}i=i+s;o=t.results[a].targetParams;if(o){l.targetParams.push(o)}}l.display_number_value=i}if(!isNaN(t.number)){if(typeof t.number==="string"){t.number=t.number.trim()}if(t.number===""){l.display_number_value="..."}else{const e=this._shouldProcessDigits(t.number,t.numberDigits);const i=l.display_icon_url?4:5;if(t.number&&t.number.toString().length>=i||e){const e=this._normalizeNumber(t.number,i,t.numberFactor,t.numberDigits);l.display_number_factor=e.numberFactor;l.display_number_value=e.displayNumber}else{const e=T.getFloatInstance({maxFractionDigits:i});l.display_number_value=e.format(t.number)}}}if(l&&l.display_number_state){switch(l.display_number_state){case"Positive":l.display_number_state="Good";break;case"Negative":l.display_number_state="Error";break}}return l};A._normalizeNumber=function(e,t,i,a){let n;if(isNaN(e)){n=e}else{const t=T.getFloatInstance({maxFractionDigits:a});if(!i){const t=Math.abs(e);if(t>=1e9){i="B";e/=1e9}else if(t>=1e6){i="M";e/=1e6}else if(t>=1e3){i="K";e/=1e3}}n=t.format(e)}let s=n;const o=s[t-1];t-=o==="."||o===","?1:0;s=s.substring(0,t);return{displayNumber:s,numberFactor:i}};A._shouldProcessDigits=function(e,t){let i;e=typeof e!=="string"?e.toString():e;if(e.indexOf(".")!==-1){i=e.split(".")[1].length;if(i>t){return true}}return false};A.getTileSettingsAction=function(e,t,i){const a=A.getResourceBundle();const n=!i||i==="tile"?"tileSettingsBtn":"linkSettingsBtn";return{id:n,text:a.getText(n),press:function(){return new Promise(n=>{sap.ui.require(["sap/m/Button","sap/m/Dialog","sap/ui/core/mvc/View","sap/ui/layout/form/SimpleForm","sap/ui/layout/library"],(s,o,r,c,p)=>{const u=p.form.SimpleFormLayout;const g={showGroupSelection:false,title:e.getProperty("/config/display_title_text"),subtitle:e.getProperty("/config/display_subtitle_text")};if(!i||i==="tile"){g.info=e.getProperty("/config/display_info_text");g.icon=e.getProperty("/config/display_icon_url");g.keywords=e.getProperty("/config/display_search_keywords")}else if(i==="link"){g.showInfo=false;g.showIcon=false;g.showPreview=false}r.create({viewName:"module:sap/ushell/ui/footerbar/SaveAsTile.view"}).then(e=>{const r=new l(g);e.setModel(r);const p=new c({id:"tileSettings",layout:u.GridLayout,content:[e]}).addStyleClass("sapUshellAddBookmarkForm");const d=new s("bookmarkOkBtn",{text:a.getText("okBtn"),type:C.Emphasized,press:function(){t(e);f.close()},enabled:true});const _=new s("bookmarkCancelBtn",{text:a.getText("cancelBtn"),press:function(){f.close()}});var f=new o({id:"settingsDialog",title:!i||i==="tile"?a.getText("tileSettingsDialogTitle"):a.getText("linkSettingsDialogTitle"),contentWidth:"400px",content:p,beginButton:d,endButton:_,horizontalScrolling:false,afterClose:function(){f.destroy()}}).addStyleClass("sapContrastPlus");function b(e){d.setEnabled(!!e.trim())}e.getTitleInput().attachLiveChange(function(){b(this.getValue())});f.open();n(f)})})})}}};A.getSemanticNavigationUrl=function(e){let t=`#${String(e.navigation_semantic_object||"").trim()}`;t+=`-${String(e.navigation_semantic_action||"").trim()}`;if(e.navigation_semantic_parameters&&String(e.navigation_semantic_parameters||"").trim().length>0){t+=`?${String(e.navigation_semantic_parameters||"").trim()}`}return t};A.addParamsToUrl=function(e,t){let i="";const a=e.indexOf("?")!==-1;const n=t.targetParams;let s;if(n&&n.length>0){for(s=0;s<n.length;s=s+1){i+=n[s];if(s<n.length-1){i+="&"}}}if(i.length>0){if(!a){e+="?"}else{e+="&"}e+=i}return e};return A},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/AccessibilityCustomData", ["sap/ui/core/ControlBehavior","sap/ui/core/CustomData"],(e,t)=>{"use strict";const i=t.extend("sap.ushell.ui.launchpad.AccessibilityCustomData",{metadata:{library:"sap.ushell"}});i.prototype._checkWriteToDom=function(){if(!e.isAccessibilityEnabled()){return null}const i=this.getKey();const a=t.prototype._checkWriteToDom.apply(this,arguments);if(a&&(i.indexOf("aria-")===0||i==="role"||i==="tabindex")){a.key=a.key.replace(/^data-/,"")}return a};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/AnchorItem", ["sap/ui/core/Control","sap/ushell/ui/launchpad/AnchorItemRenderer","sap/ushell/library"],(e,t)=>{"use strict";const i=e.extend("sap.ushell.ui.launchpad.AnchorItem",{metadata:{library:"sap.ushell",properties:{title:{type:"string",group:"Misc",defaultValue:null},selected:{type:"boolean",group:"Misc",defaultValue:false},groupId:{type:"string",group:"Misc",defaultValue:null},defaultGroup:{type:"boolean",group:"Misc",defaultValue:false},helpId:{type:"string",group:"Misc",defaultValue:null},index:{type:"int",group:"Misc",defaultValue:null},isGroupVisible:{type:"boolean",group:"Misc",defaultValue:true},isGroupRendered:{type:"boolean",group:"Misc",defaultValue:false},isGroupDisabled:{type:"boolean",group:"Misc",defaultValue:false},locked:{type:"boolean",group:"Misc",defaultValue:false},posinset:{type:"int",group:"Misc",defaultValue:0},setsize:{type:"int",group:"Misc",defaultValue:0}},events:{press:{},afterRendering:{},visibilityChanged:{}}},renderer:t});i.prototype.init=function(){this.addDelegate({onAfterRendering:this.fireAfterRendering.bind(this),onclick:this.firePress.bind(this),onsapenter:this.firePress.bind(this),onsapspace:function(e){e.preventDefault();this.firePress()}.bind(this)})};i.prototype.setVisible=function(e,t){this.setProperty("visible",e,t);this.fireVisibilityChanged();return this};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/AnchorItemRenderer", ()=>{"use strict";const e={apiVersion:2,render:function(e,t){const s=t.getGroupId();const a=t.getSelected();e.openStart("li",t);e.attr("modelGroupId",s);e.attr("role","tab");e.attr("aria-selected",a);e.class("sapUshellAnchorItem");if(t.getSetsize()){e.attr("aria-posinset",t.getPosinset());e.attr("aria-setsize",t.getSetsize())}if(t.getHelpId()){if(t.getDefaultGroup()){e.class("help-id-homeAnchorNavigationBarItem")}else{e.class("help-id-anchorNavigationBarItem")}e.attr("data-help-id",t.getHelpId())}if(a){e.attr("tabindex","0");e.class("sapUshellAnchorItemSelected")}if(!t.getVisible()||!t.getIsGroupVisible()){e.class("sapUshellShellHidden")}e.openEnd();e.openStart("div",`${t.getId()}-inner`);e.class("sapUshellAnchorItemInner");if(t.getIsGroupDisabled()){e.class("sapUshellAnchorItemDisabled")}e.openEnd();e.text(t.getTitle());e.close("div");e.close("li")}};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/AnchorNavigationBar", ["./AnchorNavigationBarRenderer","sap/base/i18n/Localization","sap/base/util/isEmptyObject","sap/m/Bar","sap/m/Button","sap/ui/core/Element","sap/ui/core/ResizeHandler","sap/ui/Device","sap/ui/thirdparty/jquery","sap/ushell/library","sap/ushell/resources"],(t,e,s,o,i,l,r,n,jQuery,h,a)=>{"use strict";const c=o.extend("sap.ushell.ui.launchpad.AnchorNavigationBar",{metadata:{library:"sap.ushell",properties:{accessibilityLabel:{type:"string",defaultValue:null},selectedItemIndex:{type:"int",group:"Misc",defaultValue:0},overflowEnabled:{type:"boolean",group:"Misc",defaultValue:true}},aggregations:{groups:{type:"sap.ushell.ui.launchpad.AnchorItem",multiple:true,singularName:"group"}},events:{afterRendering:{},itemPress:{}}},renderer:t});c.prototype.init=function(){this.bGroupWasPressed=false;this.bIsRtl=e.getRTL();this._bIsRenderedCompletely=false;this.fnNavigationBarItemsVisibility=this.setNavigationBarItemsVisibility.bind(this);this.fnAdjustVisibleAnchorItemsAccessibility=this.adjustVisibleAnchorItemsAccessibility.bind(this)};c.prototype.onBeforeRendering=function(){if(this._sResizeListenerId){r.deregister(this._sResizeListenerId);this._sResizeListenerId=null}const t=window.document.getElementsByClassName("sapUshellAnchorNavigationBarItemsScroll")[0];if(t){t.removeEventListener("scroll",this.fnNavigationBarItemsVisibility)}};c.prototype.onAfterRendering=function(){const t=this.getDomRef();if(this._bIsRenderedCompletely){this.reArrangeNavigationBarElements();this.adjustVisibleAnchorItemsAccessibility();const e=window.document.getElementsByClassName("sapUshellAnchorNavigationBarItemsScroll")[0];if(e){e.addEventListener("scroll",this.fnNavigationBarItemsVisibility)}if(t){this._sResizeListenerId=r.register(t,this.reArrangeNavigationBarElements.bind(this))}}};c.prototype.openOverflowPopup=function(){const t=jQuery(".sapUshellAnchorItemOverFlow").hasClass("sapUshellAnchorItemOverFlowOpen");if(this.oOverflowButton&&!t){this.oOverflowButton.firePress()}};c.prototype.closeOverflowPopup=function(){if(this.oPopover){this.oPopover.close()}};c.prototype.reArrangeNavigationBarElements=function(){this.anchorItems=this.getVisibleGroups();const t=this.getSelectedItemIndex()||0;if(this.anchorItems.length){this.adjustItemSelection(t)}if(n.system.phone&&this.anchorItems.length){this.anchorItems.forEach(t=>{t.setIsGroupVisible(false)});this.anchorItems[this.getSelectedItemIndex()].setIsGroupVisible(true)}else{setTimeout(()=>{if(this.isDestroyed()){return}this.setNavigationBarItemsVisibility()},200)}};c.prototype._scrollToGroupByGroupIndex=function(t,e){const s=n.system.tablet?".sapUshellAnchorNavigationBarItemsScroll":".sapUshellAnchorNavigationBarItems";const o=document.documentElement.querySelector(s);const i=this.anchorItems[t].getDomRef();if(o&&i){const t=o.getBoundingClientRect();const e=i.getBoundingClientRect();const s=jQuery(o);const l=this.bIsRtl?s.scrollLeftRTL():o.scrollLeft;let r;if(e.left<t.left){r=e.left-t.left-16}else if(e.right>t.right){r=e.right-t.right+16}if(r){if(this.bIsRtl){s.scrollLeftRTL(l+r)}else{o.scrollLeft=l+r}}this.setNavigationBarItemsVisibility()}};c.prototype.setNavigationBarItemsVisibility=function(){if(!n.system.phone){this.setNavigationBarItemsVisibilityOnDesktop()}else if(this.anchorItems&&this.anchorItems.length>0){this.oOverflowButton.removeStyleClass("sapUshellShellHidden");const t=this.getSelectedItemIndex()||0;if(this.oPopover){this.oPopover.setTitle(this.anchorItems[t].getTitle())}}};c.prototype.setNavigationBarItemsVisibilityOnDesktop=function(){if(this.anchorItems.length&&(!this.isMostRightAnchorItemVisible()||!this.isMostLeftAnchorItemVisible())){this.oOverflowButton.removeStyleClass("sapUshellShellHidden")}else if(this.oOverflowButton){this.oOverflowButton.addStyleClass("sapUshellShellHidden")}if(this.bIsRtl){if(this.anchorItems.length&&!this.isMostLeftAnchorItemVisible()){this.oOverflowRightButton.removeStyleClass("sapUshellShellHidden")}else if(this.oOverflowRightButton){this.oOverflowRightButton.addStyleClass("sapUshellShellHidden")}if(this.anchorItems.length&&!this.isMostRightAnchorItemVisible()){this.oOverflowLeftButton.removeStyleClass("sapUshellShellHidden")}else if(this.oOverflowLeftButton){this.oOverflowLeftButton.addStyleClass("sapUshellShellHidden")}}else{if(this.anchorItems.length&&!this.isMostLeftAnchorItemVisible()){this.oOverflowLeftButton.removeStyleClass("sapUshellShellHidden")}else if(this.oOverflowLeftButton){this.oOverflowLeftButton.addStyleClass("sapUshellShellHidden")}if(this.anchorItems.length&&!this.isMostRightAnchorItemVisible()){this.oOverflowRightButton.removeStyleClass("sapUshellShellHidden")}else if(this.oOverflowRightButton){this.oOverflowRightButton.addStyleClass("sapUshellShellHidden")}}};c.prototype.adjustItemSelection=function(t){setTimeout(()=>{if(this.anchorItems&&this.anchorItems.length){this.anchorItems.forEach(t=>{t.setSelected(false)});if(t>=0&&t<this.anchorItems.length){this.anchorItems[t].setSelected(true);this._scrollToGroupByGroupIndex(t)}}},50)};c.prototype.isMostRightAnchorItemVisible=function(){const t=jQuery(".sapUshellAnchorNavigationBarInner");const e=!s(t)?t.width():0;const o=!s(t)&&t.offset()?t.offset().left:0;const i=this.bIsRtl?this.anchorItems[0].getDomRef():this.anchorItems[this.anchorItems.length-1].getDomRef();let l=!s(i)?jQuery(i).width():0;if(l<0){l=80}const r=i&&jQuery(i).offset()?jQuery(i).offset().left:0;return Math.ceil(r)+l<=o+e};c.prototype.isMostLeftAnchorItemVisible=function(){const t=jQuery(".sapUshellAnchorNavigationBarInner");const e=!s(t)&&t.offset()&&t.offset().left||0;const o=this.bIsRtl?this.anchorItems[this.anchorItems.length-1].getDomRef():this.anchorItems[0].getDomRef();const i=!s(o)&&jQuery(o).offset()?jQuery(o).offset().left:0;return Math.ceil(i)>=e};c.prototype.setSelectedItemIndex=function(t){if(t!==undefined){this.setProperty("selectedItemIndex",t,true)}};c.prototype.setOverflowEnabled=function(t){this.setProperty("overflowEnabled",t);if(this.oOverflowButton){this.oOverflowButton.setEnabled(t)}};c.prototype._getOverflowLeftArrowButton=function(){if(!this.oOverflowLeftButton){this.oOverflowLeftButton=new i({icon:"sap-icon://slim-arrow-left",tooltip:a.i18n.getText("scrollToTop"),press:function(){this._scrollToGroupByGroupIndex(0)}.bind(this)}).addStyleClass("sapUshellShellHidden");this.oOverflowLeftButton._bExcludeFromTabChain=true}return this.oOverflowLeftButton};c.prototype._getOverflowRightArrowButton=function(){if(!this.oOverflowRightButton){this.oOverflowRightButton=new i({icon:"sap-icon://slim-arrow-right",tooltip:a.i18n.getText("scrollToEnd"),press:function(){this._scrollToGroupByGroupIndex(this.anchorItems.length-1)}.bind(this)}).addStyleClass("sapUshellShellHidden");this.oOverflowRightButton._bExcludeFromTabChain=true}return this.oOverflowRightButton};c.prototype._getOverflowButton=function(){if(!this.oOverflowButton){this.oOverflowButton=new i("sapUshellAnchorBarOverflowButton",{icon:"sap-icon://slim-arrow-down",tooltip:a.i18n.getText("more_groups"),enabled:this.getOverflowEnabled(),press:function(){this._togglePopover()}.bind(this)}).addStyleClass("sapUshellShellHidden")}return this.oOverflowButton};c.prototype._togglePopover=function(){sap.ui.require(["sap/m/Popover","sap/ui/model/Filter","sap/ushell/ui/launchpad/GroupListItem","sap/m/List","sap/m/library"],(t,s,o,i,r)=>{const n=r.ListMode;if(!this.oPopover){this.oList=new i({mode:n.SingleSelectMaster,rememberSelections:false,selectionChange:function(t){this.fireItemPress({group:t.getParameter("listItem")});this.oPopover.close()}.bind(this)});this.oPopover=new t("sapUshellAnchorBarOverflowPopover",{showArrow:false,showHeader:false,placement:"Left",content:[this.oList],horizontalScrolling:false,beforeOpen:function(){const t=jQuery(".sapUshellAnchorItemOverFlow");const s=e.getRTL();const o=s?-1*t.outerWidth():t.outerWidth();this.setOffsetX(o)},afterClose:function(){jQuery(".sapUshellAnchorItemOverFlow").removeClass("sapUshellAnchorItemOverFlowOpen");jQuery(".sapUshellAnchorItemOverFlow").toggleClass("sapUshellAnchorItemOverFlowPressed",false)}}).addStyleClass("sapUshellAnchorItemsPopover").addStyleClass("sapContrastPlus")}if(this.oPopover.isOpen()){this.oPopover.close()}else{this.anchorItems=this.getVisibleGroups();this.oList.setModel(this.getModel());const t=this.getModel().getProperty("/tileActionModeActive");const e=new s("","EQ","a");e.fnTest=function(e){if(!e.visibilityModes[t?1:0]){return false}return e.isGroupVisible||t};this.oList.bindItems({path:"/groups",template:new o({title:"{title}",groupId:"{groupId}",index:"{index}"}),filters:[e]});const i=jQuery(".sapUshellAnchorItemSelected").attr("id");const r=l.getElementById(i);this.oList.getItems().forEach(t=>{if(r.mProperties.groupId===t.mProperties.groupId){t.addStyleClass("sapUshellAnchorPopoverItemSelected")}else{t.addStyleClass("sapUshellAnchorPopoverItemNonSelected")}});jQuery(".sapUshellAnchorItemOverFlow").toggleClass("sapUshellAnchorItemOverFlowPressed",true);this.oPopover.openBy(this.oOverflowButton)}})};c.prototype.getVisibleGroups=function(){return this.getGroups().filter(t=>t.getVisible())};c.prototype._setRenderedCompletely=function(t){this._bIsRenderedCompletely=t};c.prototype.handleAnchorItemPress=function(t){this.bGroupWasPressed=true;this.fireItemPress({group:t.getSource(),manualPress:true})};c.prototype.adjustVisibleAnchorItemsAccessibility=function(){const t=this.getVisibleGroups();const e=t.length;t.forEach((t,s)=>{t.setPosinset(s+1);t.setSetsize(e)})};c.prototype.addGroup=function(t,e){t.attachVisibilityChanged(this.fnAdjustVisibleAnchorItemsAccessibility);return this.addAggregation("groups",t,e)};c.prototype.insertGroup=function(t,e,s){t.attachVisibilityChanged(this.fnAdjustVisibleAnchorItemsAccessibility);return this.insertAggregation("groups",t,e,s)};c.prototype.removeGroup=function(t,e){t.detachVisibilityChanged(this.fnAdjustVisibleAnchorItemsAccessibility);return this.removeAggregation("groups",t,e)};c.prototype.exit=function(){if(this.oOverflowLeftButton){this.oOverflowLeftButton.destroy()}if(this.oOverflowRightButton){this.oOverflowRightButton.destroy()}if(this.oOverflowButton){this.oOverflowButton.destroy()}if(this.oPopover){this.oPopover.destroy()}if(o.prototype.exit){o.prototype.exit.apply(this,arguments)}if(this._sResizeListenerId){r.deregister(this._sResizeListenerId);this._sResizeListenerId=null}};return c});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/AnchorNavigationBarRenderer", ["sap/ushell/resources","sap/ui/core/library"],(e,t)=>{"use strict";const r=t.AccessibleLandmarkRole;const a={apiVersion:2};a.render=function(t,a){t.openStart("div",a);t.attr("role",r.Navigation);t.attr("aria-label",e.i18n.getText("Dashboard.Page.Header.AriaLabel"));t.attr("data-sap-ui-customfastnavgroup","true");t.class("sapUshellAnchorNavigationBar");t.class("sapMPageHeader");t.class("sapMIBar-CTX");t.class("sapMHeader-CTX");t.openEnd();t.openStart("div");t.class("sapUshellAnchorNavigationBarInner");t.openEnd();if(a.getGroups().length>0){a._setRenderedCompletely(true);t.openStart("div");t.class("sapUshellAnchorLeftOverFlowButton");t.accessibilityState(a._getOverflowLeftArrowButton(),{hidden:true});t.openEnd();t.renderControl(a._getOverflowLeftArrowButton());t.close("div");t.openStart("div");t.class("sapUshellAnchorNavigationBarItems");t.openEnd();t.openStart("ul");t.class("sapUshellAnchorNavigationBarItemsScroll");t.accessibilityState(a,{role:"tablist",label:e.i18n.getText("AnchorNavigationBar_AriaLabel")});t.openEnd();this.renderAnchorNavigationItems(t,a);t.close("ul");t.close("div");t.openStart("div");t.class("sapUshellAnchorRightOverFlowButton");t.accessibilityState(a._getOverflowRightArrowButton(),{hidden:true});t.openEnd();t.renderControl(a._getOverflowRightArrowButton());t.close("div");t.openStart("div");t.class("sapUshellAnchorItemOverFlow");t.accessibilityState(a._getOverflowButton(),{hidden:true});t.openEnd();t.renderControl(a._getOverflowButton());t.close("div")}t.close("div");t.close("div")};a.renderAnchorNavigationItems=function(e,t){t.getGroups().forEach(t=>{e.renderControl(t)})};a.shouldAddIBarContext=function(){return false};return a},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/DashboardGroupsContainer", ["sap/ui/base/ManagedObject","sap/ui/core/Control","sap/ui/core/Core","sap/ui/core/InvisibleText","sap/ushell/Config","sap/ushell/library","sap/ushell/override","sap/ushell/resources","sap/ushell/utils","./DashboardGroupsContainerRenderer"],(e,t,o,s,i,r,n,l,a,p)=>{"use strict";const u=t.extend("sap.ushell.ui.launchpad.DashboardGroupsContainer",{metadata:{library:"sap.ushell",properties:{accessibilityLabel:{type:"string",defaultValue:null},displayMode:{type:"string",defaultValue:null}},aggregations:{groups:{type:"sap.ui.core.Control",multiple:true,singularName:"group"}},events:{afterRendering:{}}},renderer:p});u.prototype.init=function(){this.addInvisibleAccessabilityTexts()};u.prototype.exit=function(){if(this.oTileText){this.oTileText.destroy()}if(this.oTileEditModeText){this.oTileEditModeText.destroy()}t.prototype.exit.apply(this,arguments)};u.prototype.updateGroups=n.updateAggregatesFactory("groups");u.prototype.onAfterRendering=function(){const e=this;const t={bUseUniqueMark:true};a.setPerformanceMark("FLP-TimeToInteractive_tilesLoaded",t);e.fireAfterRendering()};u.prototype.getGroupControlByGroupId=function(e){try{const t=this.getGroups();for(let o=0,s=t.length;o<s;++o){if(t[o].getGroupId()===e){return t[o]}}}catch{}return null};u.prototype.addLinksToUnselectedGroups=function(){const t=this.getGroups();t.forEach((t,o)=>{if(!t.getIsGroupSelected()){e.prototype.updateAggregation.call(t,"links")}})};u.prototype.removeLinksFromAllGroups=function(){const e=this.getGroups();e.forEach((e,t)=>{const o=e.getLinks();if(o.length){if(o[0].getMetadata().getName()==="sap.m.GenericTile"){e.removeAllLinks()}else{for(let e=0;e<o.length;e++){o[e].destroy()}}}})};u.prototype.removeLinksFromUnselectedGroups=function(){const e=this.getGroups();e.forEach((e,t)=>{const o=e.getLinks();if(o.length&&!e.getIsGroupSelected()){if(o[0].getMetadata().getName()==="sap.m.GenericTile"){e.removeAllLinks()}else{for(let e=0;e<o.length;e++){o[e].destroy()}}}})};u.prototype.addInvisibleAccessabilityTexts=function(){this.oTileText=new s("sapUshellDashboardAccessibilityTileText",{text:l.i18n.getText("tile")}).toStatic();const e=o.getLibraryResourceBundle("sap.m");if(e){this.oTileEditModeText=new s("sapUshellDashboardAccessibilityTileEditModeText",{text:e.getText("LIST_ITEM_NAVIGATION")}).toStatic()}};return u});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/DashboardGroupsContainerRenderer", ["sap/ushell/utils"],e=>{"use strict";const s={apiVersion:2};s.render=function(s,t){s.openStart("div",t);s.attr("data-sap-ui-customfastnavgroup","true");s.class("sapUshellDashboardGroupsContainer");if(t.getAccessibilityLabel()){s.accessibilityState(t,{role:"navigation",label:t.getAccessibilityLabel()})}s.openEnd();const a=t.getGroups();let r;for(let e=0;e<a.length;e++){r=a[e];s.openStart("div");s.class("sapUshellDashboardGroupsContainerItem");if(r.getIsGroupLocked()||r.getDefaultGroup()){s.class("sapUshellDisableDragAndDrop")}s.openEnd();s.renderControl(r);s.close("div")}s.close("div");e.setPerformanceMark("FLP -- dashboardgroupscontainer renderer")};return s},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/ExtendedChangeDetection", ["sap/ui/base/ManagedObject","sap/ushell/Config"],(t,e)=>{"use strict";const n=t.extend("sap.ushell.ui.launchpad.ExtendedChangeDetection",{metadata:{library:"sap.ushell",events:{itemDeleted:{},itemAdded:{},itemsReordered:{}}},constructor:function(n,i,o){t.call(this);this._oAggregation=i.getMetadata().getAggregation(n);this._oControl=i;this._sAggregationName=n;this._aSiblingAggregationNames=o;const s=e.last("/core/spaces/extendedChangeDetection/enabled");if(s){this._oControl[this._oAggregation._sUpdater]=this._updateAggregation.bind(this);this._oControl.bUseExtendedChangeDetection=true}}});n.oUpdateFromSiblingCache={};n.prototype._updateAggregation=function(){const t=this._oControl.getBindingInfo(this._sAggregationName);const e=t.binding;const n=this._isUpdateFromSibling();const i=e.aLastContextData||[];const o=i.map(e=>{try{const n=JSON.parse(e);return n[t.key]}catch{return e}});const s=e.getContexts();const r=s.map(e=>e.getProperty(t.key));const g=s.diff;let a;const l=[];const d=[];const h={};let c=false;let f=false;if(g){for(a=0;a<g.length;a++){const t=g[a];if(t.type==="insert"){l.push({item:r[t.index],index:t.index})}if(t.type==="delete"){d.push({item:o[t.index-l.length],index:t.index-l.length});o.splice(t.index-l.length,1)}}for(a=0;a<d.length;a++){h[d[a].item]=this._oControl.removeAggregation(this._sAggregationName,d[a].index,true)}for(a=0;a<l.length;a++){const e=l[a];const n=h[e.item];if(n&&!(g.length>=2&&g[0].index===g[1].index)){this._oControl.insertAggregation(this._sAggregationName,n,e.index,true);delete h[e.item]}else{this._createAndInsertItem(s[e.index],t,e.index);f=true}}c=!!Object.keys(h).length;for(const t in h){h[t].destroy();delete h[t]}}else if(!(n&&r.length===0&&o.length===0)){this._createAndInsertItems(s,t);f=true}else{return}this._updateBindingContexts(s);if(s.length===0){this._oControl.invalidate()}if(c){this.fireItemDeleted()}if(f){this.fireItemAdded()}if(!c&&!f&&g){this.fireItemsReordered()}if(g&&g.length&&!n){this._refreshSiblingBindings()}};n.prototype._isUpdateFromSibling=function(){const t=`${this._oControl.getId()}:${this._sAggregationName}`;if(n.oUpdateFromSiblingCache[t]){delete n.oUpdateFromSiblingCache[t];return true}return false};n.prototype._refreshSiblingBindings=function(){if(this._aSiblingAggregationNames){for(let t=0;t<this._aSiblingAggregationNames.length;++t){const e=this._aSiblingAggregationNames[t];const i=`${this._oControl.getId()}:${e}`;const o=this._oControl.getBinding(e);n.oUpdateFromSiblingCache[i]=true;o.refresh(true)}}};n.prototype._createAndInsertItems=function(t,e){this._oAggregation.destroy(this._oControl);for(let n=0;n<t.length;n++){this._createAndInsertItem(t[n],e,n)}};n.prototype._createAndInsertItem=function(t,e,n){const i=e.factory(null,t);this._oControl.insertAggregation(this._sAggregationName,i,n,true)};n.prototype._updateBindingContexts=function(t){const e=this._oAggregation.get(this._oControl);for(let n=0;n<e.length;n++){e[n].setBindingContext(t[n])}};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/GroupHeaderActions", ["sap/m/Button","sap/m/library","sap/ui/core/Control","sap/ushell/library"],(t,e,o)=>{"use strict";const n=e.ButtonType;const i=e.PlacementType;const s=o.extend("sap.ushell.ui.launchpad.GroupHeaderActions",{metadata:{library:"sap.ushell",properties:{isOverflow:{type:"boolean",group:"Misc",defaultValue:false},tileActionModeActive:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}}},renderer:{apiVersion:2,render:function(t,e){t.openStart("div",e);t.openEnd();const o=e.getContent();if(e.getTileActionModeActive()){if(e.getIsOverflow()){const n=o.some(t=>t.getVisible());if(n){t.renderControl(e._getOverflowButton())}}else{o.forEach(e=>{t.renderControl(e)})}}t.close("div")}}});s.prototype.exit=function(){if(this._oOverflowButton){this._oOverflowButton.destroy()}if(this._oActionSheet){this._oActionSheet.destroy()}};s.prototype._getOverflowButton=function(){if(!this._oOverflowButton){this._oOverflowButton=new t({icon:"sap-icon://overflow",type:n.Transparent,enabled:"{= !${/editTitle}}",press:function(){sap.ui.require(["sap/m/ActionSheet"],t=>{if(!this._oActionSheet){this._oActionSheet=new t({placement:i.Auto})}this._oActionSheet.destroyButtons();this.getContent().forEach(t=>{const e=t.clone();e.setModel(t.getModel());e.setBindingContext(t.getBindingContext());this._oActionSheet.addButton(e)});this._oActionSheet.openBy(this._oOverflowButton)})}.bind(this)}).addStyleClass("sapUshellHeaderActionButton");this._oOverflowButton.setParent(this)}return this._oOverflowButton};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/GroupListItem", ["sap/m/ListItemBase","sap/ushell/library","sap/ushell/utils","./GroupListItemRenderer"],(e,t,r,i)=>{"use strict";const s=e.extend("sap.ushell.ui.launchpad.GroupListItem",{metadata:{library:"sap.ushell",properties:{title:{type:"string",group:"Misc",defaultValue:null},defaultGroup:{type:"boolean",group:"Misc",defaultValue:false},show:{type:"boolean",group:"Misc",defaultValue:true},groupId:{type:"string",group:"Misc",defaultValue:null},index:{type:"int",group:"Misc",defaultValue:null},numberOfTiles:{type:"int",group:"Misc",defaultValue:0},isGroupVisible:{type:"boolean",group:"Misc",defaultValue:true}},events:{press:{},afterRendering:{}}},renderer:i});s.prototype.exit=function(){e.prototype.exit.apply(this,arguments)};s.prototype.onAfterRendering=function(){this.fireAfterRendering()};s.prototype.groupHasVisibleTiles=function(){const e=this.getModel().getProperty(`/groups/${this.getIndex()}/tiles`);const t=this.getModel().getProperty(`/groups/${this.getIndex()}/links`);return r.groupHasVisibleTiles(e,t)};s.prototype.onclick=function(){this.firePress({id:this.getId()})};s.prototype.setGroupId=function(e){this.setProperty("groupId",e,true);return this};s.prototype.setTitle=function(e){this.setProperty("title",e);this.$().find(".sapMSLITitleOnly").text(e);return this};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/GroupListItemRenderer", ["sap/m/ListItemBaseRenderer","sap/ui/core/Renderer"],(e,s)=>{"use strict";const t=s.extend(e);t.apiVersion=2;t.renderLIAttributes=function(e){e.class("sapUshellGroupLI");e.class("sapUshellGroupListItem")};t.renderLIContent=function(e,s){e.openStart("div",s);e.class("sapMSLIDiv");e.class("sapMSLITitleDiv");if(!s.getVisible()){e.style("display","none")}e.openEnd();e.openStart("div",s);e.class("sapMSLITitleOnly");e.openEnd();e.text(s.getTitle());e.close("div");e.close("div")};return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/LinkTileWrapper", ["sap/base/Log","sap/ui/base/ManagedObject","sap/ui/core/Control","sap/ui/core/Core","sap/ui/thirdparty/jquery","sap/ushell/library","sap/ushell/ui/launchpad/AccessibilityCustomData","./LinkTileWrapperRenderer"],(e,t,i,s,jQuery,o,l,a)=>{"use strict";const r=i.extend("sap.ushell.ui.launchpad.LinkTileWrapper",{metadata:{library:"sap.ushell",properties:{uuid:{type:"string",group:"Misc",defaultValue:null},tileCatalogId:{type:"string",group:"Misc",defaultValue:null},tileCatalogIdStable:{type:"string",group:"Misc",defaultValue:null},target:{type:"string",group:"Misc",defaultValue:null},visible:{type:"boolean",group:"Misc",defaultValue:true},debugInfo:{type:"string",group:"Misc",defaultValue:null},animationRendered:{type:"boolean",group:"Misc",defaultValue:false},isLocked:{type:"boolean",group:"Misc",defaultValue:false},tileActionModeActive:{type:"boolean",group:"Misc",defaultValue:false},ieHtml5DnD:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{tileViews:{type:"sap.ui.core.Control",multiple:true,singularName:"tileView"},footItems:{type:"sap.ui.core.Control",multiple:true,singularName:"footItem"}},events:{press:{},coverDivPress:{},afterRendering:{},showActions:{}}},renderer:a});r.prototype.destroy=function(e){this.destroyTileViews();i.prototype.destroy.call(this,e)};r.prototype.addTileView=function(e,i){e.setParent(null);e.addCustomData(new l({key:"tabindex",value:"-1",writeToDom:true}));t.prototype.addAggregation.call(this,"tileViews",e,i)};r.prototype.destroyTileViews=function(){if(this.mAggregations.tileViews){this.mAggregations.tileViews.length=0}};r.prototype.onAfterRendering=function(){this.fireAfterRendering()};r.prototype.onclick=r.prototype._onPress;r.prototype.onsapenter=r.prototype._launchTileViaKeyboard;r.prototype.onsapspace=r.prototype._launchTileViaKeyboard;r.prototype._launchTileViaKeyboard=function(t){e.info("Tile pressed:",this.getDebugInfo(),"sap.ushell.ui.launchpad.LinkTileWrapper");s.getEventBus().publish("launchpad","dashboardTileLinkClick");if(this.getTileActionModeActive()){return}else if(this._getTileState()==="Failed"){this._onFailedStatePress()}else if(t.target.tagName!=="BUTTON"){let e=this.getTileViews()[0];let t=false;if(e.firePress){e.firePress()}else{while(e.getContent&&!t){e=e.getContent()[0];if(e.firePress){e.firePress();t=true}}}}};r.prototype._onPress=function(t){e.info("Tile pressed:",this.getDebugInfo(),"sap.ushell.ui.launchpad.LinkTileWrapper");s.getEventBus().publish("launchpad","dashboardTileLinkClick");if(!this.getTileActionModeActive()&&this._getTileState()==="Failed"){this._onFailedStatePress()}};r.prototype._onFailedStatePress=function(){if(!this.getTileActionModeActive()&&this._getTileState()==="Failed"){if(!this.FailedTileDialog){sap.ui.require(["sap/ushell/ui/launchpad/FailedTileDialog"],e=>{this.FailedTileDialog=new e;this._onFailedStatePress()})}else{this.FailedTileDialog.openFor(this)}return}};r.prototype._getTileState=function(){const e=this.getTileViews();let t;for(let i=0;i<e.length&&!t;++i){if(e[i].isA("sap.m.GenericTile")){t=e[i]}}if(!t){throw new Error("Could not find the wrapped Tile")}return t.getState()};r.prototype.setVisible=function(e){this.setProperty("visible",e,true);return this.toggleStyleClass("sapUshellHidden",!e)};r.prototype.setAnimationRendered=function(e){this.setProperty("animationRendered",e,true)};r.prototype._handleTileShadow=function(e,t){if(e.length){e.off("mouseenter mouseleave");let t;const i=e.css("border").split("px")[0];const s=this.getModel();if(i>0){t=e.css("border-color")}else{t=this.getRgba()}e.hover(function(){if(!s.getProperty("/tileActionModeActive")){const i=jQuery(e).css("box-shadow");const s=i?i.split(") ")[1]:null;let o;if(s){o=`${s} ${t}`;jQuery(this).css("box-shadow",o)}}},function(){jQuery(this).css("box-shadow","")})}};r.prototype.setUuid=function(e){this.setProperty("uuid",e,true);return this};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/LinkTileWrapperRenderer", ["sap/base/Log","sap/m/GenericTile","sap/m/library","sap/ushell/resources"],(e,t,a,i)=>{"use strict";const l=a.GenericTileMode;const n=a.LoadState;const s={apiVersion:2};s.render=function(a,s){let o=null;const d=s.getModel();function r(){o=new t({header:i.i18n.getText("cannotLoadTile"),mode:l.LineMode,state:n.Failed})}try{o=s.getTileViews()[0]}catch(t){e.warning("Failed to load tile view: ",t);r()}if(!o){e.warning("Failed to load tile view: the control has no tileViews");r()}a.openStart("div",s);if(d&&d.getProperty("/enableHelp")){a.attr("data-help-id",s.getTileCatalogId());if(s.getTileCatalogIdStable()){a.attr("data-help-id2",s.getTileCatalogIdStable())}}a.class("sapUshellLinkTile");if(!s.getVisible()){a.class("sapUshellHidden")}if(s.getIsLocked()){a.class("sapUshellLockedTile")}a.attr("tabindex","-1");a.openEnd();a.renderControl(o);a.close("div")};return s},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/Page", ["sap/m/Button","sap/m/library","sap/m/Menu","sap/m/MenuItem","sap/m/Text","sap/ui/core/Control","sap/ui/core/dnd/DragDropInfo","sap/ui/core/InvisibleMessage","sap/ui/core/library","sap/ushell/library","sap/ushell/resources","./PageRenderer"],(e,t,i,n,o,s,a,r,c,l,u,d)=>{"use strict";const p=t.ButtonType;const g=c.TextAlign;const h=c.InvisibleMessageMode;const f=l.DisplayFormat;const m=s.extend("sap.ushell.ui.launchpad.Page",{metadata:{library:"sap.ushell",properties:{edit:{type:"boolean",group:"Misc",defaultValue:false},enableSectionReordering:{type:"boolean",group:"Misc",defaultValue:false},dataHelpId:{type:"string",group:"Misc",defaultValue:""},noSectionsText:{type:"string",group:"Misc",defaultValue:""},showNoSectionsText:{type:"boolean",group:"Misc",defaultValue:true},showTitle:{type:"boolean",group:"Misc",defaultValue:false},title:{type:"string",group:"Misc",defaultValue:""}},defaultAggregation:"sections",aggregations:{sections:{type:"sap.ushell.ui.launchpad.Section",multiple:true,dnd:true},messageStrip:{type:"sap.m.MessageStrip",multiple:false},_addSectionButtons:{type:"sap.m.Button",multiple:true,visibility:"hidden"},_noSectionText:{type:"sap.m.Text",multiple:false,visibility:"hidden"}},events:{addSectionButtonPressed:{parameters:{index:{type:"int"}}},sectionDrop:{parameters:{draggedControl:{type:"sap.ushell.ui.launchpad.Section"},droppedControl:{type:"sap.ushell.ui.launchpad.Section"},dropPosition:{type:"string"}}}}},renderer:d});m.prototype.enhanceAccessibilityState=function(e,t){delete t.readonly};m.prototype.init=function(){this.setAggregation("_noSectionText",new o({text:u.i18n.getText("Page.NoSectionText"),width:"100%",textAlign:g.Center}));this._oDragDropInfo=new a({sourceAggregation:"sections",targetAggregation:"sections",dropPosition:"Between",dragStart:function(e){if(e.getParameter("target").getDefault()){e.preventDefault()}},dragEnter:function(e){if(e.getParameter("target").getDefault()){e.preventDefault()}},drop:function(e){this.fireSectionDrop(e.getParameters())}.bind(this)});this.addDelegate({onsappageup:this._handleKeyboardPageNavigation.bind(this),onsappagedown:this._handleKeyboardPageNavigation.bind(this),onsapdown:this._handleKeyboardArrowNavigation.bind(this,false),onsapdownmodifiers:this._handleKeyboardArrowNavigation.bind(this,true),onsapup:this._handleKeyboardArrowNavigation.bind(this,false),onsapupmodifiers:this._handleKeyboardArrowNavigation.bind(this,true),onsaphome:this._handleKeyboardHomeEndNavigation.bind(this),onsaphomemodifiers:this._handleKeyboardHomeEndNavigation.bind(this),onsapend:this._handleKeyboardHomeEndNavigation.bind(this),onsapendmodifiers:this._handleKeyboardHomeEndNavigation.bind(this),onfocusin:this._saveFocus.bind(this),onsapskipback:this._handleSkipBack.bind(this),onsapskipforward:this._handleSkipForward.bind(this),onBeforeFastNavigationFocus:this._handleBeforeFastNavigationFocus.bind(this)});this._oInvisibleMessageInstance=r.getInstance()};m.prototype._onSectionContextMenu=function(e,t){if(!this.getEdit()){return}for(let t=e.srcControl;!t.isA("sap.ushell.ui.launchpad.Section");t=t.getParent()){if(t.isA("sap.m.Input")||t.isA("sap.ushell.ui.launchpad.VizInstance")||t.isA("sap.ushell.ui.launchpad.VizInstanceLink")){return}}function o(e){const i=this.getSections();const n=i.indexOf(t);const o=i[e?n-1:n+1];this.fireSectionDrop({draggedControl:t,droppedControl:o,dropPosition:e?"Before":"After"})}const s=this.getEnableSectionReordering();const a=this.getSections().filter(e=>!e.getDefault());const r=a.indexOf(t);const c=new i("sapUshellSectionContextMenu",{items:[new n({text:"{i18n>Page.MoveSection.Up}",enabled:s&&r>0,press:o.bind(this,true)}),new n({text:"{i18n>Page.MoveSection.Down}",enabled:s&&r!==-1&&r<a.length-1,press:o.bind(this,false)})],closed:function(){setTimeout(this.destroy.bind(this))}}).setModel(u.i18nModel,"i18n");this.addDependent(c);e.preventDefault();c.openAsContextMenu(e,t)};m.prototype._saveFocus=function(e){const t=e.srcControl;if(t.isA("sap.ushell.ui.launchpad.Section")){if(t){if(t.indexOfVisualization(this._oLastFocusedViz)===-1){this._oLastFocusedViz=t.getVisualizations()[0];this._oLastFocusedSection=this._oLastFocusedViz?undefined:t}}else{this._oLastFocusedViz=undefined;this._oLastFocusedSection=undefined}}else if(t.isA("sap.f.GridContainer")){const i=t.getItems();this._oLastFocusedViz=i.find(t=>{const i=t.getDomRef();return i&&i.parentNode===e.target})}else if(t.isA("sap.ushell.ui.launchpad.VizInstanceLink")){this._oLastFocusedViz=t}};m.prototype._handleSkipBack=function(e){if(this.getEdit()){let t;const i=e.srcControl;if(i.isA("sap.f.GridContainer")||i.isA("sap.ushell.ui.launchpad.VizInstanceLink")){t=this._getAncestorSection(i)}if(t){e.preventDefault();t.focus()}}};m.prototype._handleSkipForward=function(e){let t;let i;const n=e.srcControl;if(n.isA("sap.ushell.ui.launchpad.Section")){i=n}if(i){if(i.indexOfVisualization(this._oLastFocusedViz)!==-1){t=this._oLastFocusedViz}else{t=i.getAllItems()[0]}}if(t){e.preventDefault();this._focusVisualization(t)}};m.prototype._handleBeforeFastNavigationFocus=function(e){const t=this.getSections();const i=this.getEdit();if(i&&this._oLastFocusedSection){this._oLastFocusedSection.focus()}else if(i&&e.forward&&this._oLastFocusedViz){this._getAncestorSection(this._oLastFocusedViz).focus()}else if(this._oLastFocusedViz&&this._oLastFocusedViz.getDomRef()){this._focusVisualization(this._oLastFocusedViz)}else if(i&&e.forward&&t.length>0){this._getFirstVisibleSection().focus()}else if(i&&!e.forward&&t.length>0){const e=t[0];if(e.getAllItems().length===0){e.focus()}else{this._focusVisualization(e.getAllItems()[0])}}else{const e=t.find(e=>e.getDomRef()&&e.getAllItems().length>0);this._focusVisualization(e.getAllItems()[0])}e.preventDefault()};m.prototype._getAncestorSection=function(e){if(!e){return null}if(e.isA("sap.ushell.ui.launchpad.Section")){return e}else if(e.getParent){return this._getAncestorSection(e.getParent())}return null};m.prototype.exit=function(){this._oDragDropInfo.destroy()};m.prototype.onBeforeRendering=function(){const t=this.getSections().length;const i=this.getAggregation("_addSectionButtons")||[];let n;for(let o=i.length;o<t+1;o++){n=new e({type:p.Transparent,icon:"sap-icon://add",text:u.i18n.getText("Page.Button.AddSection"),press:this.fireAddSectionButtonPressed.bind(this,{index:o})});n.addStyleClass("sapUshellPageAddSectionButton");this.addAggregation("_addSectionButtons",n)}};m.prototype.getFocusDomRef=function(){const e=this.getAggregation("_addSectionButtons")||[];if(!this.getSections().length&&e.length&&this.getEdit()){return e[0].getFocusDomRef()}return this.getDomRef()};m.prototype.setEnableSectionReordering=function(e){if(e===undefined||this.getEnableSectionReordering()===e){return this}this.setProperty("enableSectionReordering",!!e,true);if(e){this.addDragDropConfig(this._oDragDropInfo)}else{this.removeDragDropConfig(this._oDragDropInfo)}return this};m.prototype.setNoSectionsText=function(e){if(e===undefined||this.getNoSectionsText()===e){return this}this.setProperty("noSectionsText",e,true);const t=this.getAggregation("_noSectionText");t.setText(e||u.i18n.getText("Page.NoSectionText"));return this};m.prototype._focusVisualization=function(e){if(!e){return}else if(e.isA("sap.ushell.ui.launchpad.VizInstanceLink")){e.focus()}else{e.getDomRef().parentElement.focus()}};m.prototype._focusNextVisualization=function(e){const t=this.getSections();let i=this.indexOfSection(e.section);const n=e.event.getParameter?e.event.getParameter("event"):e.event;const o=n.target.firstElementChild;let s;let a;while(true){if(e.direction==="up"){i--}else{i++}s=t[i];if(!s){return}a=s.focusVisualization({keycode:n.keyCode,ref:o});if(a){n.preventDefault();return}}};m.prototype._handleKeyboardPageNavigation=function(e){if(this._isFocusInInput()){return}const t=this.getSections();for(let i=0;i<t.length;i++){const n=t[i].getDomRef();if(n.contains(window.document.activeElement)){this._focusNextVisualization({event:e,section:t[i],direction:e.type==="sappagedown"?"down":"up",prefIndex:0});return}}};m.prototype._handleKeyboardArrowNavigation=function(e,t){if(e&&!this.getEnableSectionReordering()||e&&!t.ctrlKey){return}const i=this.getSections();let n;let o;let s;for(let e=0;e<i.length;e++){n=i[e-1];o=i[e];s=i[e+1];if(window.document.activeElement===o.getFocusDomRef()){if(t.type==="sapup"&&n){n.focus()}else if(t.type==="sapdown"&&s){s.focus()}else if(t.type==="sapupmodifiers"&&n){if(n.getDefault()){return}this.fireSectionDrop({draggedControl:o,droppedControl:n,dropPosition:"Before"});t.preventDefault();t.stopPropagation()}else if(t.type==="sapdownmodifiers"&&s){if(o.getDefault()){return}this.fireSectionDrop({draggedControl:o,droppedControl:s,dropPosition:"After"});t.preventDefault();t.stopPropagation()}return}}};m.prototype._isFocusInInput=function(){const e=(document.activeElement||{}).tagName;return e==="INPUT"||e==="TEXTAREA"};m.prototype._handleKeyboardHomeEndNavigation=function(e){if(this._isFocusInInput()){return}let t;let i;let n=false;if(e.type==="saphome"){i=this._getSectionAreaItems(e.srcControl)}else if(e.type==="saphomemodifiers"){t=this._getFirstVisibleSection(true)}else if(e.type==="sapend"){i=this._getSectionAreaItems(e.srcControl);n=true}else if(e.type==="sapendmodifiers"){t=this._getLastVisibleSection(true);n=true}if(t){i=t.getAllItems()}if(n){this._focusVisualization(i[i.length-1])}else{this._focusVisualization(i[0])}e.preventDefault();e.stopPropagation()};m.prototype._getFirstVisibleSection=function(e){const t=this.getSections();return t.find(t=>this._isSectionVisible(t,e))};m.prototype._getLastVisibleSection=function(e){const t=this.getSections().reverse();return t.find(t=>this._isSectionVisible(t,e))};m.prototype._isSectionVisible=function(e,t){const i=t?false:this.getEdit();return i||e.getVisualizations().length>0&&e.getDomRef()&&e.getShowSection()};m.prototype._getSectionAreaItems=function(e){let t;let i;const n=e.getBindingContext();if(n){i=n.getProperty("displayFormatHint")}const o=this.getSections();const s=o.find(t=>{const i=t.getDomRef();return i&&i.contains(e.getDomRef())});if(s){switch(i){case f.Compact:return s.getCompactItems();case f.Standard:case f.StandardWide:return s.getDefaultItems();case f.Flat:case f.FlatWide:return s.getFlatItems();default:t=s.getDefaultItems();if(t.length>0){return t}t=s.getFlatItems();if(t.length>0){return t}t=s.getCompactItems();return t}}return[]};m.prototype._handleSectionBorderReached=function(e){this._focusNextVisualization(e.getParameters())};m.prototype.addAggregation=function(e,t){s.prototype.addAggregation.apply(this,arguments);if(e==="sections"){t.attachEvent("borderReached",this._handleSectionBorderReached.bind(this));t.addEventDelegate({oncontextmenu:e=>{this._onSectionContextMenu(e,t)}})}return this};m.prototype.insertAggregation=function(e,t){s.prototype.insertAggregation.apply(this,arguments);if(e==="sections"){t.attachEvent("borderReached",this._handleSectionBorderReached.bind(this));t.addEventDelegate({oncontextmenu:e=>{this._onSectionContextMenu(e,t)}})}return this};m.prototype.announceMove=function(){const e=u.i18n.getText("PageRuntime.Message.SectionMoved");this._oInvisibleMessageInstance.announce(e,h.Polite)};return m});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/PageRenderer", [],()=>{"use strict";const t={apiVersion:2};t.render=function(t,e){const o=e.getSections().filter(t=>e.getEdit()||t.getShowSection()&&t.getVisible());const i=o.length;const n=e.getDataHelpId();const a=e.getTitle();t.openStart("div",e);t.class("sapUshellPage");t.class("sapContrastPlus");t.attr("role","region");t.attr("aria-label",a);t.attr("data-sap-ui-customfastnavgroup","true");if(n){t.attr("data-help-id",n)}t.openEnd();if(e.getEdit()&&e.getAggregation("messageStrip")){t.renderControl(e.getAggregation("messageStrip"))}t.openStart("h2",`${e.getId()}-title`);t.class("sapMTitle");t.class("sapUshellPageTitle");if(!e.getShowTitle()){t.class("sapUiPseudoInvisibleText")}t.attr("aria-level","2");t.openEnd();t.text(a);t.close("h2");if(e.getEdit()&&!i){t.renderControl(e.getAggregation("_addSectionButtons")[0])}if(!i&&e.getShowNoSectionsText()){t.renderControl(e.getAggregation("_noSectionText"))}let s;let r;for(s=0;s<i;s++){r=o[s];t.openStart("div");t.class("sapUshellPageSection");t.openEnd();t.renderControl(r);if(e.getEdit()){t.renderControl(e.getAggregation("_addSectionButtons")[s+1])}t.close("div")}t.close("div")};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/PlusTile", ["sap/ui/core/Icon","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/PlusTileRenderer","sap/ushell/ui/launchpad/Tile"],(e,t,o,s,n)=>{"use strict";const i=n.extend("sap.ushell.ui.launchpad.PlusTile",{metadata:{library:"sap.ushell",properties:{groupId:{type:"string",group:"Misc",defaultValue:""},enableHelp:{type:"boolean",group:"Misc",defaultValue:false}},events:{press:{}}},renderer:s});i.prototype.init=function(){this.oIcon=new e({src:"sap-icon://add",tooltip:o.i18n.getText("openAppFinder_tooltip")})};i.prototype.exit=function(){if(this.oIcon){this.oIcon.destroy()}};i.prototype.onclick=function(){const e=this.getParent().getBindingContext().getObject();if(!e.object){return}this.firePress()};i.prototype.onsapspace=i.onclick;i.prototype.onsapenter=i.onclick;return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/PlusTileRenderer", ["sap/ushell/resources","sap/ushell/Config"],(l,s)=>{"use strict";const e={apiVersion:2,render:function(e,a){e.openStart("li",a);e.attr("tabindex","-1");e.class("sapUshellTile");e.class("sapUshellPlusTile");e.class("sapContrastPlus");e.class("sapMGT");if(s.last("/core/home/sizeBehavior")==="Small"){e.class("sapUshellSmall")}if(a.getEnableHelp()){e.class("help-id-plusTile")}e.attr("aria-label",l.i18n.getText("TilePlus_label"));e.openEnd();e.renderControl(a.oIcon);e.close("li")}};return e},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/Section", ["sap/base/Log","sap/base/util/deepClone","sap/f/dnd/GridDropInfo","sap/f/GridContainer","sap/f/GridContainerItemLayoutData","sap/f/GridContainerSettings","sap/m/Button","sap/m/Input","sap/m/Label","sap/m/library","sap/m/Text","sap/m/Title","sap/m/ToolbarSpacer","sap/m/OverflowToolbar","sap/m/OverflowToolbarLayoutData","sap/ui/core/Control","sap/ui/core/CustomData","sap/ui/core/Lib","sap/ui/core/dnd/DragInfo","sap/ui/core/dnd/DropInfo","sap/ui/core/InvisibleMessage","sap/ui/core/library","sap/ui/events/KeyCodes","sap/ui/model/Filter","sap/ushell/resources","sap/ushell/ui/launchpad/ExtendedChangeDetection","sap/ushell/library","sap/ushell/ui/launchpad/section/CompactArea","sap/ui/core/Element","sap/ushell/ui/launchpad/SectionRenderer"],(t,e,i,a,o,n,r,s,g,l,u,p,d,h,c,f,y,m,A,S,b,C,z,_,w,L,V,D,G,R)=>{"use strict";const I=l.ButtonType;const v=l.OverflowToolbarPriority;const x=l.TileSizeBehavior;const E=C.dnd.DropLayout;const T=C.dnd.DropPosition;const B=C.InvisibleMessageMode;const P=C.TextAlign;const F=C.TitleLevel;const X=V.DisplayFormat;function M(t,e,i){if(!Array.isArray(e)||!e.length){return null}if(t&&t.getDomRef){t=t.getDomRef()}if(!t){return e[i?e.length-1:0]}function a(t,e){const i=t.left+t.right-e.left-e.right;const a=t.top+t.bottom-e.top-e.bottom;return i*i+a*a}function o(t){const e=t.querySelector(".sapMGTLineStyleHelper");return(e||t).getBoundingClientRect()}const n=o(t);let r=null;let s=0;let g;let l;let u;for(let t=e.length-1;t>=0;t--){l=e[t].getDomRef();if(l){g=o(l);if(!g.width&&!g.height){continue}if(i&&g.top>=n.top||!i&&g.bottom<=n.bottom){continue}u=a(g,n);if(!r||u<s){r=e[t];s=u}}}return r}const N=f.extend("sap.ushell.ui.launchpad.Section",{metadata:{library:"sap.ushell",properties:{dataHelpId:{type:"string",group:"Misc",defaultValue:""},ariaLabel:{type:"string",group:"Misc",defaultValue:""},default:{type:"boolean",group:"Misc",defaultValue:false},editable:{type:"boolean",group:"Misc",defaultValue:false},enableAddButton:{type:"boolean",group:"Behavior",defaultValue:true},enableDeleteButton:{type:"boolean",group:"Behavior",defaultValue:true},enableGridBreakpoints:{type:"boolean",group:"Appearance",defaultValue:false},enableGridContainerQuery:{type:"boolean",group:"Appearance",defaultValue:false},enableResetButton:{type:"boolean",group:"Behavior",defaultValue:true},enableShowHideButton:{type:"boolean",group:"Behavior",defaultValue:true},enableVisualizationReordering:{type:"boolean",group:"Behavior",defaultValue:false},gridContainerGap:{type:"string",group:"Appearance",defaultValue:"0.5rem"},gridContainerGapXS:{type:"string",group:"Appearance",defaultValue:"0.475rem"},gridContainerGapS:{type:"string",group:"Appearance",defaultValue:"0.475rem"},gridContainerGapM:{type:"string",group:"Appearance",defaultValue:"0.5rem"},gridContainerGapL:{type:"string",group:"Appearance",defaultValue:"0.5rem"},gridContainerGapXL:{type:"string",group:"Appearance",defaultValue:"0.5rem"},gridContainerRowSize:{type:"string",group:"Appearance",defaultValue:"5.25rem"},gridContainerRowSizeXS:{type:"string",group:"Appearance",defaultValue:"4.375rem"},gridContainerRowSizeS:{type:"string",group:"Appearance",defaultValue:"5.25rem"},gridContainerRowSizeM:{type:"string",group:"Appearance",defaultValue:"5.25rem"},gridContainerRowSizeL:{type:"string",group:"Appearance",defaultValue:"5.25rem"},gridContainerRowSizeXL:{type:"string",group:"Appearance",defaultValue:"5.25rem"},noVisualizationsText:{type:"string",group:"Appearance",defaultValue:""},title:{type:"string",group:"Appearance",defaultValue:""},showNoVisualizationsText:{type:"boolean",group:"Behavior",defaultValue:false},showSection:{type:"boolean",group:"Misc",defaultValue:true},showLinks:{type:"boolean",group:"Behavior",defaultValue:true},sizeBehavior:{type:"sap.m.TileSizeBehavior",group:"Misc",defaultValue:x.Responsive}},defaultAggregation:"visualizations",aggregations:{visualizations:{type:"sap.ui.core.Control",bindable:"bindable",multiple:true},defaultItems:{type:"sap.ui.core.Control",multiple:true,forwarding:{idSuffix:"-defaultArea",aggregation:"items",forwardBinding:false},dnd:true},flatItems:{type:"sap.ui.core.Control",multiple:true,forwarding:{idSuffix:"-flatArea",aggregation:"items",forwardBinding:false},dnd:true},compactItems:{type:"sap.ui.core.Control",multiple:true,forwarding:{idSuffix:"-compactArea",aggregation:"items",forwardBinding:false},dnd:true},_title:{type:"sap.m.Title",multiple:false,hidden:true},_header:{type:"sap.m.OverflowToolbar",multiple:false,hidden:true},_noVisualizationsText:{type:"sap.m.Text",multiple:false,hidden:true},_defaultArea:{type:"sap.f.GridContainer",multiple:false,hidden:true},_flatArea:{type:"sap.f.GridContainer",multiple:false,hidden:true},_compactArea:{type:"sap.ushell.ui.launchpad.section.CompactArea",multiple:false,hidden:true}},events:{add:{},delete:{},reset:{},titleChange:{},visualizationDrop:{parameters:{draggedControl:{type:"sap.ui.core.Control"},droppedControl:{type:"sap.ui.core.Control"},dropPosition:{type:"string"}}},areaDragEnter:{parameters:{originalEvent:{type:"sap.ui.base.Event"},dragControl:{type:"sap.ui.core.Control"},sourceArea:{type:"string"},targetArea:{type:"string"}}},sectionVisibilityChange:{parameters:{visible:{type:"boolean"}}},borderReached:{parameters:{event:{type:"jQuery.Event"}}}}},renderer:R,resourceModel:w.i18nModel});function k(e){for(const t in X){if(e.displayFormatHint===X[t]){return X[t]}}if(e.displayFormatHint&&e.displayFormatHint!=="tile"){t.error(`DisplayFormat '${e.displayFormatHint}' not valid - 'standard' is used`)}return X.Standard}function O(){return new _({path:"",caseSensitive:true,test:function(t){const e=k(t);return e===X.Standard||e===X.StandardWide}})}function H(){return new _({path:"",caseSensitive:true,test:function(t){const e=k(t);return e===X.Flat||e===X.FlatWide}})}function W(){return new _({path:"",caseSensitive:true,test:function(t){return k(t)===X.Compact}})}N.prototype.bindAggregation=function(i,a){if(i==="visualizations"){if(a.filters){t.error("bind visualizations with pre-existing filters is not implemented.")}const i=e(a);i.filters=O();f.prototype.bindAggregation.call(this,"defaultItems",i);const o=e(a);o.filters=H();f.prototype.bindAggregation.call(this,"flatItems",o);const n=e(a);n.filters=W();f.prototype.bindAggregation.call(this,"compactItems",n)}else{f.prototype.bindAggregation.call(this,i,a)}return this};N.prototype.getAllItems=function(){return this.getDefaultItems().concat(this.getFlatItems(),this.getCompactItems())};N.prototype.getVisualizations=function(){const t=this.getAllItems();t.sort((e,i)=>{let a=e.getBindingContext().getPath();let o=parseInt(a.split("/").pop(),10);a=i.getBindingContext().getPath();let n=parseInt(a.split("/").pop(),10);if(o===n){o=t.indexOf(e);n=t.indexOf(i)}return o<n?-1:1});return t};N.prototype.filterVisualizations=function(t){const e=t?new _({filters:[O(),t],and:true}):O();const i=t?new _({filters:[H(),t],and:true}):H();const a=t?new _({filters:[W(),t],and:true}):W();this.getBinding("defaultItems").filter(e);this.getBinding("flatItems").filter(i);this.getBinding("compactItems").filter(a)};N.prototype.indexOfVisualization=function(t){return this.getVisualizations().indexOf(t)};N.prototype.addVisualization=function(e,i){t.error("Section.prototype.addVisualization should not be called");return this.addAggregation("visualizations",e,i)};N.prototype.insertVisualization=function(e,i,a){t.error("Section.prototype.insertVisualization should not be called");return this.insertAggregation("visualizations",e,i,a)};N.prototype.removeVisualization=function(e,i){t.error("Section.prototype.removeVisualization should not be called");return this.removeAggregation("visualizations",e,i)};N.prototype.onBorderReached=function(t){let e;const i=t.getParameter("event");const a=i.keyCode;const o=i.type;const n=G.closestTo(i.target.firstElementChild);switch(a){case z.ARROW_UP:e=this.getClosestVizualization(n,true);break;case z.ARROW_DOWN:e=this.getClosestVizualization(n,false);break;case z.ARROW_LEFT:e=this._getPreviousViz(n);break;case z.ARROW_RIGHT:e=this._getNextViz(n);break;default:return}if(e){this._focusItem(this.getItemPosition(e));i.preventDefault()}else{this.fireBorderReached({event:t,section:this,direction:o==="sapnext"?"down":"up"})}};N.prototype._getNextViz=function(t){const e=this.getAllItems();const i=e.indexOf(t);return i===-1?e[0]:e[i+1]};N.prototype._getPreviousViz=function(t){const e=this.getAllItems();const i=e.indexOf(t);return i===-1?e[e.length-1]:e[i-1]};N.prototype.handleEmptyContentAreas=function(){const t=!!this.getDefaultItems().length;const e=!!this.getFlatItems().length;const i=!!this.getCompactItems().length;const a=!t&&!i&&!e;this.toggleStyleClass("sapUshellSectionNoVisualizations",a);this.getAggregation("_defaultArea").toggleStyleClass("sapUshellSectionDefaultArea",t);this.getAggregation("_flatArea").toggleStyleClass("sapUshellSectionFlatArea",e);if(!t){this._removeTabIndexFromGridContainer(this.getAggregation("_defaultArea"))}if(!e){this._removeTabIndexFromGridContainer(this.getAggregation("_flatArea"))}const o=this.getDomRef();if(o){if(this.getEditable()&&this.getShowNoVisualizationsText()&&a){o.setAttribute("aria-describedBy",this.getAggregation("_noVisualizationsText").getId())}else{o.removeAttribute("aria-describedBy")}}};N.prototype._removeTabIndexFromGridContainer=function(t){const e=t.getFocusDomRef();if(e){e.setAttribute("tabindex","-1");for(let t=0;t<e.children.length;++t){e.children[t].setAttribute("tabindex","-1")}}};N.prototype.init=function(){this.setProperty("noVisualizationsText",w.i18n.getText("Section.NoVisualizationsText"),true);this.setAggregation("_title",new p({text:this.getTitle(),level:F.H3,visible:!this.getEditable()&&this.getShowSection()}).addStyleClass("sapUshellSectionTitle sapContrastPlus"));this._initHeaderAggregation();this.setAggregation("_noVisualizationsText",new u({text:this.getNoVisualizationsText(),textAlign:P.Center,visible:this.getEditable()&&this.getShowNoVisualizationsText()}).addStyleClass("sapUshellSectionNoVisualizationsText"));this._initGridContainerAggregation();this._initGridContainerAggregation(true);this._initCompactAreaAggregation(true);this._oInvisibleMessageInstance=b.getInstance();this._oDefaultItemsChangeDetection=new L("defaultItems",this,["flatItems","compactItems"]);this._oFlatItemsChangeDetection=new L("flatItems",this,["defaultItems","compactItems"]);this._oCompactItemsChangeDetection=new L("compactItems",this,["defaultItems","flatItems"]);this._fnGlobalDragStart=function(){const t=this.getAggregation("_flatArea").getDragDropConfig();const e=this.getAggregation("_compactArea").getDragDropConfig();t[0].setGroupName("Section");t[1].setGroupName("Section");e[0].setGroupName("Section");e[1].setGroupName("Section");e[2].setGroupName("Section")}.bind(this);this._fnGlobalDragEnd=function(){const t=this.getAggregation("_flatArea").getDragDropConfig();const e=this.getAggregation("_compactArea").getDragDropConfig();t[0].setGroupName("FlatArea");t[1].setGroupName("FlatArea");e[0].setGroupName("CompactArea");e[1].setGroupName("CompactArea");e[2].setGroupName("CompactArea")}.bind(this);document.addEventListener("dragstart",this._fnGlobalDragStart,false);document.addEventListener("dragend",this._fnGlobalDragEnd,false)};N.prototype._initHeaderAggregation=function(){const t=this.getTitle();const e=this.getDefault();const i=new s({maxLength:100,placeholder:w.i18n.getText("Section.TitlePlaceholder"),value:t,valueLiveUpdate:true,visible:!e,change:function(t){this.setTitle(t.getParameter("value"));this.fireTitleChange()}.bind(this),layoutData:new c({priority:v.NeverOverflow,shrinkable:true,minWidth:"9rem",maxWidth:"40rem"})});this.setAggregation("_header",new h({content:[new u({text:t,visible:e,layoutData:new c({priority:v.NeverOverflow})}),new g({text:w.i18n.getText("Section.Label.Title"),labelFor:i.getId(),showColon:true,visible:!e,layoutData:new c({priority:v.NeverOverflow})}),i,new d,new r({text:w.i18n.getText("Section.Button.AddVisualization"),type:I.Transparent,press:this.fireAdd.bind(this,{section:this}),visible:this.getEnableAddButton()&&!e}),new r({text:this.getShowSection()?w.i18n.getText("Section.Button.Hide"):w.i18n.getText("Section.Button.Show"),type:I.Transparent,press:function(){const t=!this.getShowSection();const e=m.getResourceBundleFor("sap.m");this._oInvisibleMessageInstance.announce([w.i18n.getText(t?"Section.nowBeingShown":"Section.nowBeingHidden"),w.i18n.getText("Section.ButtonLabelChanged"),w.i18n.getText(t?"Section.Button.Hide":"Section.Button.Show"),e.getText("ACC_CTR_TYPE_BUTTON")].join(" "),B.Polite);this.setShowSection(t);this.fireSectionVisibilityChange({visible:t})}.bind(this),visible:this.getEnableShowHideButton()&&!e}),new r({text:w.i18n.getText("Section.Button.Reset"),type:I.Transparent,press:this.fireReset.bind(this),visible:this.getEnableResetButton()&&!e}),new r({text:w.i18n.getText("Section.Button.Delete"),type:I.Transparent,press:this.fireDelete.bind(this),visible:this.getEnableDeleteButton()&&!e})],visible:this.getEditable()}).addStyleClass("sapUshellSectionHeader"))};N.prototype._initGridContainerAggregation=function(t){const e=new a({id:this.getId()+(t?"-flatArea":"-defaultArea"),containerQuery:this.getEnableGridContainerQuery(),minHeight:"0",visible:this.getEditable()||this.getShowSection(),customData:[new y({key:"default",value:this.getDefault()}),new y({key:"area",value:t?X.Flat:X.Standard})],layout:new n({rowSize:this.getGridContainerRowSize(),columnSize:this.getGridContainerRowSize(),gap:this.getGridContainerGap()}),layoutXS:new n({columns:0,rowSize:this.getGridContainerRowSizeXS(),columnSize:this.getGridContainerRowSizeXS(),gap:this.getGridContainerGapXS()}),layoutS:new n({columns:0,rowSize:this.getGridContainerRowSizeS(),columnSize:this.getGridContainerRowSizeS(),gap:this.getGridContainerGapS()}),layoutM:new n({columns:0,rowSize:this.getGridContainerRowSizeM(),columnSize:this.getGridContainerRowSizeM(),gap:this.getGridContainerGapM()}),layoutL:new n({columns:0,rowSize:this.getGridContainerRowSizeL(),columnSize:this.getGridContainerRowSizeL(),gap:this.getGridContainerGapL()}),layoutXL:new n({columns:0,rowSize:this.getGridContainerRowSizeXL(),columnSize:this.getGridContainerRowSizeXL(),gap:this.getGridContainerGapXL()}),dragDropConfig:[new A({enabled:this.getEnableVisualizationReordering(),groupName:t?"flatArea":"Section",sourceAggregation:"items"}),new i({enabled:this.getEnableVisualizationReordering(),groupName:t?"flatArea":"Section",dropLayout:E.Horizontal,dropPosition:T.Between,targetAggregation:"items",dropIndicatorSize:t?this._getFlatDropIndicatorSize.bind(this):this._getDefaultDropIndicatorSize.bind(this),dragEnter:this._onDragEnter.bind(this),drop:this._reorderVisualizations.bind(this)})]}).addStyleClass("sapUshellSectionGridContainer");if(this.getEnableGridBreakpoints()){const t=this.getSizeBehavior()==="Small";e.getLayoutXS().setColumns(4);e.getLayoutS().setColumns(4);e.getLayoutM().setColumns(6);e.getLayoutL().setColumns(t?12:10);e.getLayoutXL().setColumns(t?16:14)}e.addEventDelegate({onAfterRendering:this.handleEmptyContentAreas.bind(this)});e.attachBorderReached(this.onBorderReached.bind(this));this.setAggregation(t?"_flatArea":"_defaultArea",e)};N.prototype._initCompactAreaAggregation=function(){const t=new D({id:`${this.getId()}-compactArea`,enableLinkReordering:this.getEnableVisualizationReordering(),itemDrop:this._reorderVisualizations.bind(this),customData:[new y({key:"default",value:this.getDefault()}),new y({key:"area",value:X.Compact})],dragDropConfig:[new A({enabled:this.getEnableVisualizationReordering(),groupName:"CompactArea",sourceAggregation:"items"}),new S({enabled:this.getEnableVisualizationReordering(),groupName:"CompactArea",dropLayout:E.Horizontal,dropPosition:T.Between,targetAggregation:"items",dragEnter:this._onDragEnter.bind(this),drop:this._reorderVisualizations.bind(this)}),new S({enabled:this.getEnableVisualizationReordering(),groupName:"CompactArea",dragEnter:this._onDragEnter.bind(this),drop:this._reorderVisualizations.bind(this)})]}).addStyleClass("sapUshellSectionGridContainer");t.addEventDelegate({onAfterRendering:this.handleEmptyContentAreas.bind(this)});t.attachBorderReached(this.onBorderReached.bind(this));this.setAggregation("_compactArea",t)};N.prototype.setDefault=function(t){this.setProperty("default",t,true);const e=this.getAggregation("_header").getContent();e[0].setVisible(t);e[1].setVisible(!t);e[2].setVisible(!t);e[4].setVisible(this.getEnableAddButton()&&!t);e[5].setVisible(this.getEnableShowHideButton()&&!t);e[6].setVisible(this.getEnableResetButton()&&!t);e[7].setVisible(this.getEnableDeleteButton()&&!t);this.getAggregation("_defaultArea").getCustomData()[0].setValue(t);this.getAggregation("_flatArea").getCustomData()[0].setValue(t);this.getAggregation("_compactArea").getCustomData()[0].setValue(t);return this};N.prototype.setEditable=function(t){if(t===undefined||this.getEditable()===t){return this}this.setProperty("editable",t,true);this.toggleStyleClass("sapUshellSectionEdit",t);this.getAggregation("_title").setVisible(!t&&this.getShowSection());this.getAggregation("_header").setVisible(t);this.getAggregation("_noVisualizationsText").setVisible(t&&this.getShowNoVisualizationsText());this.getAggregation("_defaultArea").setVisible(t||this.getShowSection());this.getAggregation("_flatArea").setVisible(t||this.getShowSection());this.getAggregation("_compactArea").setVisible(t||this.getShowSection());const e=this.getDomRef();if(e){if(t){e.setAttribute("tabindex","0");if(this.getShowNoVisualizationsText()){e.setAttribute("aria-describedBy",this.getAggregation("_noVisualizationsText").getId())}else{e.removeAttribute("aria-describedBy")}}else{e.removeAttribute("tabindex")}}return this};N.prototype.setEnableAddButton=function(t){this.setProperty("enableAddButton",t,true);this.getAggregation("_header").getContent()[4].setVisible(t&&!this.getDefault());return this};N.prototype.setEnableDeleteButton=function(t){this.setProperty("enableDeleteButton",t,true);this.getAggregation("_header").getContent()[7].setVisible(t&&!this.getDefault());return this};N.prototype.setEnableGridBreakpoints=function(t){this.setProperty("enableGridBreakpoints",t,true);const e=this.getAggregation("_defaultArea");const i=this.getAggregation("_flatArea");if(t){const t=this.getSizeBehavior()==="Small";e.getLayoutXS().setColumns(4);e.getLayoutS().setColumns(4);e.getLayoutM().setColumns(6);e.getLayoutL().setColumns(t?12:10);e.getLayoutXL().setColumns(t?16:14);i.getLayoutXS().setColumns(4);i.getLayoutS().setColumns(4);i.getLayoutM().setColumns(6);i.getLayoutL().setColumns(t?12:10);i.getLayoutXL().setColumns(t?16:14)}else{e.getLayoutXS().setColumns(0);e.getLayoutS().setColumns(0);e.getLayoutM().setColumns(0);e.getLayoutL().setColumns(0);e.getLayoutXL().setColumns(0);i.getLayoutXS().setColumns(0);i.getLayoutS().setColumns(0);i.getLayoutM().setColumns(0);i.getLayoutL().setColumns(0);i.getLayoutXL().setColumns(0)}return this};N.prototype.setEnableGridContainerQuery=function(t){this.setProperty("enableGridContainerQuery",t,true);this.getAggregation("_defaultArea").setContainerQuery(t);this.getAggregation("_flatArea").setContainerQuery(t);return this};N.prototype.setEnableResetButton=function(t){this.setProperty("enableResetButton",t,true);this.getAggregation("_header").getContent()[6].setVisible(t&&!this.getDefault());return this};N.prototype.setEnableShowHideButton=function(t){this.setProperty("enableShowHideButton",t,true);this.getAggregation("_header").getContent()[5].setVisible(t&&!this.getDefault());return this};N.prototype.setEnableVisualizationReordering=function(t){this.setProperty("enableVisualizationReordering",t,true);const e=this.getAggregation("_compactArea");const i=this.getAggregation("_defaultArea").getDragDropConfig();const a=this.getAggregation("_flatArea").getDragDropConfig();const o=e.getDragDropConfig();e.setEnableLinkReordering(t);i[0].setEnabled(t);i[1].setEnabled(t);a[0].setEnabled(t);a[1].setEnabled(t);o[0].setEnabled(t);o[1].setEnabled(t);o[2].setEnabled(t);return this};N.prototype.setGridContainerGap=function(t){this.setProperty("gridContainerGap",t,true);this.getAggregation("_defaultArea").getLayout().setGap(t);this.getAggregation("_flatArea").getLayout().setGap(t);return this};N.prototype.setGridContainerGapXS=function(t){this.setProperty("gridContainerGapXS",t,true);this.getAggregation("_defaultArea").getLayoutXS().setGap(t);this.getAggregation("_flatArea").getLayoutXS().setGap(t);return this};N.prototype.setGridContainerGapS=function(t){this.setProperty("gridContainerGapS",t,true);this.getAggregation("_defaultArea").getLayoutS().setGap(t);this.getAggregation("_flatArea").getLayoutS().setGap(t);return this};N.prototype.setGridContainerGapM=function(t){this.setProperty("gridContainerGapM",t,true);this.getAggregation("_defaultArea").getLayoutM().setGap(t);this.getAggregation("_flatArea").getLayoutM().setGap(t);return this};N.prototype.setGridContainerGapL=function(t){this.setProperty("gridContainerGapL",t,true);this.getAggregation("_defaultArea").getLayoutL().setGap(t);this.getAggregation("_flatArea").getLayoutL().setGap(t);return this};N.prototype.setGridContainerGapXL=function(t){this.setProperty("gridContainerGapXL",t,true);this.getAggregation("_defaultArea").getLayoutXL().setGap(t);this.getAggregation("_flatArea").getLayoutXL().setGap(t);return this};N.prototype.setGridContainerRowSize=function(t){this.setProperty("gridContainerRowSize",t,true);const e=this.getAggregation("_defaultArea");const i=this.getAggregation("_flatArea");e.getLayout().setRowSize(t);e.getLayout().setColumnSize(t);i.getLayout().setRowSize(t);i.getLayout().setColumnSize(t);return this};N.prototype.setGridContainerRowSizeXS=function(t){this.setProperty("gridContainerRowSizeXS",t,true);const e=this.getAggregation("_defaultArea");const i=this.getAggregation("_flatArea");e.getLayoutXS().setRowSize(t);e.getLayoutXS().setColumnSize(t);i.getLayoutXS().setRowSize(t);i.getLayoutXS().setColumnSize(t);return this};N.prototype.setGridContainerRowSizeS=function(t){this.setProperty("gridContainerRowSizeS",t,true);const e=this.getAggregation("_defaultArea");const i=this.getAggregation("_flatArea");e.getLayoutS().setRowSize(t);e.getLayoutS().setColumnSize(t);i.getLayoutS().setRowSize(t);i.getLayoutS().setColumnSize(t);return this};N.prototype.setGridContainerRowSizeM=function(t){this.setProperty("gridContainerRowSizeM",t,true);const e=this.getAggregation("_defaultArea");const i=this.getAggregation("_flatArea");e.getLayoutM().setRowSize(t);e.getLayoutM().setColumnSize(t);i.getLayoutM().setRowSize(t);i.getLayoutM().setColumnSize(t);return this};N.prototype.setGridContainerRowSizeL=function(t){this.setProperty("gridContainerRowSizeL",t,true);const e=this.getAggregation("_defaultArea");const i=this.getAggregation("_flatArea");e.getLayoutL().setRowSize(t);e.getLayoutL().setColumnSize(t);i.getLayoutL().setRowSize(t);i.getLayoutL().setColumnSize(t);return this};N.prototype.setGridContainerRowSizeXL=function(t){this.setProperty("gridContainerRowSizeXL",t,true);const e=this.getAggregation("_defaultArea");const i=this.getAggregation("_flatArea");e.getLayoutXL().setRowSize(t);e.getLayoutXL().setColumnSize(t);i.getLayoutXL().setRowSize(t);i.getLayoutXL().setColumnSize(t);return this};N.prototype.setNoVisualizationsText=function(t){this.setProperty("noVisualizationsText",t,true);this.getAggregation("_noVisualizationsText").setText(t);return this};N.prototype.setTitle=function(t){this.setProperty("title",t,true);this.getAggregation("_title").setText(t);this.getAggregation("_header").getContent()[0].setText(t);this.getAggregation("_header").getContent()[2].setValue(t);const e=this.getDomRef();if(e){e.setAttribute("aria-label",this.getAriaLabel())}return this};N.prototype.setShowNoVisualizationsText=function(t){this.setProperty("showNoVisualizationsText",t,true);this.getAggregation("_noVisualizationsText").setVisible(this.getEditable()&&t);const e=this.getDomRef();if(e){if(this.getEditable()&&t){e.setAttribute("aria-describedBy",this.getAggregation("_noVisualizationsText").getId())}else{e.removeAttribute("aria-describedBy")}}return this};N.prototype.setShowSection=function(t){if(t===undefined||this.getShowSection()===t){return this}this.setProperty("showSection",t,true);this.toggleStyleClass("sapUshellSectionHidden",!t);this.getAggregation("_title").setVisible(!this.getEditable()&&t);this.getAggregation("_defaultArea").setVisible(this.getEditable()||t);this.getAggregation("_flatArea").setVisible(this.getEditable()||t);this.getAggregation("_compactArea").setVisible(this.getEditable()||t);this.getAggregation("_header").getContent()[5].setText(t?w.i18n.getText("Section.Button.Hide"):w.i18n.getText("Section.Button.Show"));return this};N.prototype.setSizeBehavior=function(t){this.setProperty("sizeBehavior",t,true);if(this.getEnableGridBreakpoints()){const e=this.getAggregation("_defaultArea");const i=this.getAggregation("_flatArea");e.getLayoutL().setColumns(t?12:10);e.getLayoutXL().setColumns(t?16:14);i.getLayoutL().setColumns(t?12:10);i.getLayoutXL().setColumns(t?16:14)}return this};N.prototype.destroy=function(){f.prototype.destroy.apply(this,arguments);this._oDefaultItemsChangeDetection.destroy();this._oFlatItemsChangeDetection.destroy();this._oCompactItemsChangeDetection.destroy();document.removeEventListener("dragstart",this._fnGlobalDragStart,false);document.removeEventListener("dragend",this._fnGlobalDragEnd,false);if(this._oInvisibleMessageInstance){this._oInvisibleMessageInstance.destroy()}};N.prototype.getTitleInput=function(){return this.getAggregation("_header").getContent()[2]};N.prototype._reorderVisualizations=function(t){this.fireVisualizationDrop(t.getParameters())};N.prototype.getClosestVizualization=function(t,e){const i=this.getAllItems();return M(t,i,e)};N.prototype.getClosestVizIndex=function(t,e){const i=this.getClosestVizualization(t,e);return i?this.indexOfVisualization(i):-1};N.prototype.getClosestCompactItemIndex=function(t,e){const i=M(t,this.getCompactItems(),e);if(i){return this.indexOfVisualization(i)}return e?this.getVisualizations().length:0};N.prototype._onDragEnter=function(t){const e=t.getParameter("dragSession");const i=e.getDragControl();const a=i.getParent();let o=e.getDropControl&&e.getDropControl();if(!o){return}if(!o.data("area")){o=o.getParent()}if(o.data("default")&&!a.data("default")){t.preventDefault()}this.fireAreaDragEnter({originalEvent:t,dragControl:i,sourceArea:a.data("area"),targetArea:o.data("area")})};N.prototype.addAggregation=function(t,e){if(t==="defaultItems"||t==="flatItems"){this._addVisualizationLayoutData(e)}f.prototype.addAggregation.apply(this,arguments);this.handleEmptyContentAreas();return this};N.prototype.insertAggregation=function(t,e){if(t==="defaultItems"||t==="flatItems"){this._addVisualizationLayoutData(e,t)}f.prototype.insertAggregation.apply(this,arguments);this.handleEmptyContentAreas();return this};N.prototype.getFocusDomRef=function(){if(this.getEditable()){return this.getDomRef()}if(this.getDefaultItems().length){return this.getAggregation("_defaultArea").getFocusDomRef()}if(this.getFlatItems().length){return this.getAggregation("_flatArea").getFocusDomRef()}return this.getAggregation("_compactArea").getFocusDomRef()};N.prototype._getVisualizationLayoutData=function(t){if(t.getLayout){return t.getLayout()}return{rows:2,columns:2}};N.prototype._getFlatVisualizationLayoutData=function(t){if(t.getLayout){return t.getLayout()}return{rows:1,columns:2}};N.prototype._addVisualizationLayoutData=function(t,e){if(!t.getLayoutData()){const i=e==="defaultItems"?this._getVisualizationLayoutData(t):this._getFlatVisualizationLayoutData(t);t.setLayoutData(new o(i))}};N.prototype._getDefaultDropIndicatorSize=function(t){return this._getDropIndicatorSize(t,X.Standard)};N.prototype._getFlatDropIndicatorSize=function(t){return this._getDropIndicatorSize(t,X.Flat)};N.prototype._getDropIndicatorSize=function(t,e){const i=t.getParent();const a=i&&i.data("area");if(e===a&&t.getLayoutData){const e=t.getLayoutData();return{rows:e.getRows(),columns:e.getColumns()}}const o={};let n=[];if(t.getSupportedDisplayFormats){n=t.getSupportedDisplayFormats()}if(e===X.Flat){o.rows=1;o.columns=2;if(!n.includes(X.Flat)&&n.includes(X.FlatWide)){o.columns=4}}else{o.rows=2;o.columns=2;if(!n.includes(X.Standard)&&n.includes(X.StandardWide)){o.columns=4}}return o};N.prototype.getItemPosition=function(t){if(isFinite(t)){t=this.getVisualizations()[t]}let e=this.getAggregation("_defaultArea").getItems().indexOf(t);if(e>=0){return{index:e,area:X.Standard}}e=this.getAggregation("_flatArea").getItems().indexOf(t);if(e>=0){return{index:e,area:X.Flat}}e=this.getAggregation("_compactArea").getItems().indexOf(t);if(e>=0){return{index:e,area:X.Compact}}return{index:-1,area:X.Standard}};N.prototype._focusItem=function(t){window.setTimeout(()=>{let e=t&&t.area?t.area:X.Standard;let i=t&&t.index?t.index:t;const a=this.getAggregation("_defaultArea").getItems().length;const o=this.getAggregation("_flatArea").getItems().length;const n=this.getAggregation("_compactArea").getItems().length;if(isNaN(i)||i<0){i=0}if(e===X.Standard&&a===0){e=X.Flat}if(e===X.Flat&&o===0){e=X.Compact}if(e===X.Compact&&n===0){e=X.Standard}if(a+o+n===0){e="section"}switch(e){case"section":this.focus();break;case X.Flat:if(i>=o){i=o-1}this.getAggregation("_flatArea").focusItem(i);break;case X.Compact:this.getAggregation("_compactArea").focusItem(i);break;default:if(i>=a){i=a-1}this.getAggregation("_defaultArea").focusItem(i);break}},0)};N.prototype.focusVisualization=function(t){let e;if(!this.getShowSection()&&!this.getEditable()){return false}const i=this.getAllItems();if(!i.length){return false}if(t&&t.area){this._focusItem(t);return true}if(t&&t.getMetadata){e=t}if(!e&&t&&t.keycode){switch(t.keycode){case z.ARROW_UP:e=this.getClosestVizualization(t.ref,true);break;case z.ARROW_DOWN:e=this.getClosestVizualization(t.ref,false);break;case z.ARROW_LEFT:t=-1;break;default:break}}if(!e&&t===-1){e=i[i.length-1]}if(!e){e=i[0]}this._focusItem(this.getItemPosition(e));return true};return N});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/Tile", ["sap/base/Log","sap/m/Text","sap/ui/base/ManagedObject","sap/ui/core/Control","sap/ui/core/EventBus","sap/ui/core/Icon","sap/ui/thirdparty/jquery","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/AccessibilityCustomData","./TileRenderer"],(e,t,i,o,s,n,jQuery,l,a,r,c)=>{"use strict";const u=o.extend("sap.ushell.ui.launchpad.Tile",{metadata:{library:"sap.ushell",properties:{long:{type:"boolean",group:"Misc",defaultValue:false},uuid:{type:"string",group:"Misc",defaultValue:null},tileCatalogId:{type:"string",group:"Misc",defaultValue:null},tileCatalogIdStable:{type:"string",group:"Misc",defaultValue:null},isCustomTile:{type:"boolean",group:"Misc",defaultValue:false},target:{type:"string",group:"Misc",defaultValue:null},debugInfo:{type:"string",group:"Misc",defaultValue:null},rgba:{type:"string",group:"Misc",defaultValue:null},animationRendered:{type:"boolean",group:"Misc",defaultValue:false},isLocked:{type:"boolean",group:"Misc",defaultValue:false},showActionsIcon:{type:"boolean",group:"Misc",defaultValue:false},tileActionModeActive:{type:"boolean",group:"Misc",defaultValue:false},ieHtml5DnD:{type:"boolean",group:"Misc",defaultValue:false},navigationMode:{type:"string",group:"Misc",defaultValue:null},isDraggedInTabBarToSourceGroup:{type:"boolean",group:"Misc",defaultValue:false},noContainerMode:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{tileViews:{type:"sap.ui.core.Control",multiple:true,singularName:"tileView"},pinButton:{type:"sap.ui.core.Control",multiple:true,singularName:"pinButton"}},events:{press:{},coverDivPress:{},afterRendering:{},showActions:{},deletePress:{}}},renderer:c});u.prototype.init=function(){this.addDelegate({onkeyup:function(e){const t=e.originalEvent;const i=t.code==="Space"||e.keyCode===32;const o=t.code==="Enter"||e.keyCode===13;const s=t.altKey||t.shiftKey||t.ctrlKey||t.metaKey;if((i||o)&&!s){this._launchTileViaKeyboard(e)}}},this)};u.prototype.exit=function(){if(this.actionSheetIcon){this.actionSheetIcon.destroy()}if(this.actionIcon){this.actionIcon.destroy()}if(this.failedToLoadViewText){this.failedToLoadViewText.destroy()}};u.prototype.getFailedtoLoadViewText=function(){if(!this.failedToLoadViewText){this.failedToLoadViewText=new t({text:a.i18n.getText("Tile.failedToLoadView")})}return this.failedToLoadViewText};u.prototype.getActionSheetIcon=function(){if(!this.getTileActionModeActive()){return undefined}if(!this.actionSheetIcon){this.actionSheetIcon=new n({src:"sap-icon://overflow",tooltip:a.i18n.getText("configuration.category.tile_actions")}).addStyleClass("sapUshellTileActionIconDivBottomInner")}return this.actionSheetIcon};u.prototype.ontap=function(){e.info("Tile clicked:",this.getDebugInfo(),"sap.ushell.ui.launchpad.Tile");this.firePress()};u.prototype.destroy=function(e){this.destroyTileViews();o.prototype.destroy.call(this,e)};u.prototype.addTileView=function(e,t){e.setParent(null);i.prototype.addAggregation.call(this,"tileViews",e,t)};u.prototype.destroyTileViews=function(){if(this.mAggregations.tileViews){this.mAggregations.tileViews.length=0}};u.prototype.onBeforeRendering=function(){const e=this.getDomRef();if(e){const t=e.querySelector("a.sapUshellTileInner");if(t){t.onclick=null}if(document.activeElement===e){this.bFocused=true}this.sTabIndex=e.getAttribute("tabindex");if(this.sTabIndex){e.removeAttribute("tabindex")}}};u.prototype.onAfterRendering=function(){if(this.getIsDraggedInTabBarToSourceGroup()){const e=this.getParent();e.removeAggregation("tiles",this,false)}const e=this.getDomRef();if(e){if(this.sTabIndex){e.setAttribute("tabindex",this.sTabIndex);delete this.sTabIndex}if(this.bFocused){e.focus();delete this.bFocused}}this._redrawRGBA();this._disableInnerLink();this.fireAfterRendering()};u.prototype._disableInnerLink=function(){const e=this.getDomRef();const t=e.querySelector("a.sapUshellTileInner");if(t){t.onclick=function(e){e.preventDefault()}}};u.prototype._launchTileViaKeyboard=function(e){if(this.getTileActionModeActive()){this.fireCoverDivPress({id:this.getId()})}else{this._announceLoadingApplication();if(e.target.tagName!=="BUTTON"){let e=this.getTileViews()[0];let t=false;let i;let o;if(e.firePress){e.firePress({id:this.getId()})}else if(e.getComponentInstance){i=e.getComponentInstance();if(i._oController&&i._oController.oView.getContent()){o=i._oController.oView.getContent()[0];if(o&&o.firePress){o.firePress({id:this.getId()})}}}else{while(e.getContent&&!t){e=e.getContent()[0];if(e.firePress){e.firePress({id:this.getId()});t=true}}}}}};u.prototype.onfocusin=function(){const t=this.getDomRef();if(!t.classList.contains("sapUshellPlusTile")){const i=this.$().prevUntil("h3");let o;if(i.length>0){o=i[i.length-1].previousSibling}else{o=t.previousSibling}const s=t.querySelector(".sapUshellTileInner");if(s&&s.children&&s.children[0]){const i=[];if(o){i.push("sapUshellCatalogAccessibilityTileText")}else{i.push("sapUshellDashboardAccessibilityTileText")}const n=this.getNavigationMode();if(n){const t=a.i18n.getText(`${n}NavigationMode`);if(t){const e=`${this.getId()}-navigationMode`;if(!document.getElementById(e)){const i=document.createElement("div");i.setAttribute("id",e);i.style.display="none";i.innerText=t;s.appendChild(i)}i.push(e)}else{e.warning("The navigation mode is of a unkown mode, it can not be read!")}}i.push(s.children[0].getAttribute("id"));const l=t.querySelector(".sapUshellTileDeleteClickArea .sapUiIcon");if(l){i.push(l.id)}if(o){i.push(o.getAttribute("id"))}if(this.getTileActionModeActive()){i.push("sapUshellDashboardAccessibilityTileEditModeText")}t.setAttribute("aria-labelledby",i.join(" "))}}};u.prototype.onclick=function(e){if(this.getTileActionModeActive()){const t=e.originalEvent.srcElement;if(jQuery(t).closest(".sapUshellTileDeleteClickArea").length>0){this.fireDeletePress()}else{this.fireCoverDivPress({id:this.getId()})}}else{this._announceLoadingApplication()}};u.prototype._announceLoadingApplication=function(){const e=document.getElementById("sapUshellLoadingAccessibilityHelper-appInfo");const t=a.i18n.getText("screenReaderNavigationLoading");if(e){e.setAttribute("role","alert");e.innerText=t;setTimeout(()=>{e.removeAttribute("role");e.innerText=""},0)}};u.prototype._initDeleteAction=function(){const e=this;if(!this.deleteIcon){this.deleteIcon=new n({src:"sap-icon://decline",tooltip:a.i18n.getText("removeButtonTitle")});this.deleteIcon.addEventDelegate({onclick:function(t){e.fireDeletePress();t.stopPropagation()}});this.deleteIcon.addStyleClass("sapUshellTileDeleteIconInnerClass");this.deleteIcon.addCustomData(new r({key:"aria-label",value:a.i18n.getText("removeButtonLabel"),writeToDom:true}))}return this.deleteIcon};u.prototype.setShowActionsIcon=function(e){if(e){if(!this.actionIcon){this.actionIcon=new n({size:"1rem",src:"sap-icon://overflow",press:function(){this.fireShowActions();this.addStyleClass("showTileActionsIcon");const e=s.getInstance();function t(i,o,s){s.removeStyleClass("showTileActionsIcon");e.unsubscribe("dashboard","actionSheetClose",t)}e.subscribe("dashboard","actionSheetClose",t)}.bind(this)}).addStyleClass("sapUshellTileActionsIconClass")}}this.setProperty("showActionsIcon",e)};u.prototype.setIsDraggedInTabBarToSourceGroup=function(e){this.setProperty("isDraggedInTabBarToSourceGroup",e);this.setVisible(!e)};u.prototype.setRgba=function(e){this.setProperty("rgba",e);this._redrawRGBA()};u.prototype._redrawRGBA=function(){const e=this.getRgba();const t=this.$();if(e&&t){const i=this.getModel();t.css("background-color",e);t.off("mouseenter mouseleave");let o;const s=t.css("border").split("px")[0];if(s>0){o=t.css("border-color")}else{o=e}t.hover(()=>{if(i&&!i.getProperty("/tileActionModeActive")){const e=t.css("box-shadow");const i=e?e.split(") ")[1]:null;if(i){t.css("box-shadow",`${i} ${o}`)}}},()=>{t.css("box-shadow","")})}};return u});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileContainer", ["sap/base/Log","sap/m/Input","sap/m/library","sap/m/Text","sap/ui/base/ManagedObject","sap/ui/core/Control","sap/ui/core/EventBus","sap/ui/core/Icon","sap/ushell/override","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/PlusTile","sap/ushell/utils","sap/ushell/ui/launchpad/TileContainerRenderer","sap/ushell/Container","sap/ui/dom/jquery/selectText"],(e,t,i,o,s,n,l,r,a,u,p,d,c,f,h)=>{"use strict";const g=i.HeaderLevel;const y=n.extend("sap.ushell.ui.launchpad.TileContainer",{metadata:{library:"sap.ushell",properties:{scrollType:{type:"string",group:"Misc",defaultValue:"item"},animationSpeed:{type:"int",group:"Misc",defaultValue:500},groupId:{type:"string",group:"Misc",defaultValue:null},showHeader:{type:"boolean",group:"Misc",defaultValue:true},showPlaceholder:{type:"boolean",group:"Misc",defaultValue:true},defaultGroup:{type:"boolean",group:"Misc",defaultValue:false},isLastGroup:{type:"boolean",group:"Misc",defaultValue:false},headerText:{type:"string",group:"Misc",defaultValue:null},headerLevel:{type:"sap.m.HeaderLevel",group:"Misc",defaultValue:g.H2},groupHeaderLevel:{type:"sap.m.HeaderLevel",group:"Misc",defaultValue:g.H4},showGroupHeader:{type:"boolean",group:"Misc",defaultValue:true},homePageGroupDisplay:{type:"string",defaultValue:null},visible:{type:"boolean",group:"Misc",defaultValue:true},sortable:{type:"boolean",group:"Misc",defaultValue:true},showNoData:{type:"boolean",group:"Misc",defaultValue:false},noDataText:{type:"string",group:"Misc",defaultValue:""},isGroupLocked:{type:"boolean",group:"Misc",defaultValue:null},isGroupSelected:{type:"boolean",group:"Misc",defaultValue:false},editMode:{type:"boolean",group:"Misc",defaultValue:false},showBackground:{type:"boolean",group:"Misc",defaultValue:false},icon:{type:"string",group:"Misc",defaultValue:"sap-icon://locked"},showIcon:{type:"boolean",group:"Misc",defaultValue:false},deluminate:{type:"boolean",group:"Misc",defaultValue:false},showMobileActions:{type:"boolean",group:"Misc",defaultValue:false},enableHelp:{type:"boolean",group:"Misc",defaultValue:false},tileActionModeActive:{type:"boolean",group:"Misc",defaultValue:false},ieHtml5DnD:{type:"boolean",group:"Misc",defaultValue:false},showEmptyLinksArea:{type:"boolean",group:"Misc",defaultValue:false},showEmptyLinksAreaPlaceHolder:{type:"boolean",group:"Misc",defaultValue:false},hidden:{type:"boolean",group:"Misc",defaultValue:false},transformationError:{type:"boolean",group:"Misc",defaultValue:false},supportLinkPersonalization:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{tiles:{type:"sap.ui.core.Control",multiple:true,singularName:"tile"},links:{type:"sap.ui.core.Control",multiple:true,singularName:"link"},beforeContent:{type:"sap.ui.core.Control",multiple:true,singularName:"beforeContent"},afterContent:{type:"sap.ui.core.Control",multiple:true,singularName:"afterContent"},headerActions:{type:"sap.ui.core.Control",multiple:true,singularName:"headerAction"}},events:{afterRendering:{},add:{},titleChange:{}}},renderer:f});y.prototype.init=function(){this.bIsFirstTitleChange=true;this.setProperty("noDataText",p.i18n.getText("noFilteredItems"),true);this._sDefaultValue=p.i18n.getText("new_group_name");this.oNoLinksText=new o({text:p.i18n.getText("emptyLinkContainerInEditMode")}).addStyleClass("sapUshellNoLinksAreaPresentTextInner");this.oTransformationErrorText=new o({text:p.i18n.getText("transformationErrorText")}).addStyleClass("sapUshellTransformationErrorText");this.oTransformationErrorIcon=new r({src:"sap-icon://message-error"}).addStyleClass("sapUshellTransformationErrorIcon");this.oIcon=new r({src:this.getIcon()}).addStyleClass("sapUshellContainerIcon");this.oPlusTile=new d({groupId:this.getGroupId(),enableHelp:this.getEnableHelp(),press:[this.fireAdd,this]}).setParent(this);const e=function(){this.getDomRef("groupheader").focus();this._stopEdit();const t=this.oEditInputField.getDomRef();if(t){t.removeEventListener("focusout",e)}}.bind(this);this.oEditInputField=new t({placeholder:this._sDefaultValue,value:this.getHeaderText()}).addEventDelegate({onBeforeRendering:function(){const t=this.oEditInputField.getDomRef();if(t){t.removeEventListener("focusout",e)}}.bind(this),onAfterRendering:function(){setTimeout(()=>{const t=this.oEditInputField.$("inner");t.focus();t.selectText(0,t.val().length);const i=this.oEditInputField.getDomRef();if(i){i.addEventListener("focusout",e)}},0)}.bind(this)}).addStyleClass("sapUshellTileContainerTitleInput");h.getServiceAsync("FlpLaunchPage").then(e=>{if(e.isLinkPersonalizationSupported()){y.prototype.isLinkPersonalizationOveride()}});this.fnTitleTextClickHandler=this._titleTextClickHandler.bind(this)};y.prototype.onBeforeRendering=function(){const e=this.getDomRef("titleText");if(e){e.removeEventListener("click",this.fnTitleTextClickHandler)}const t=this.getTiles();const i=this.getLinks();const o=t.concat(i);o.forEach(e=>{const t=e.getDomRef();if(t){const e=t.getAttribute("data-oldTabindex");if(e){t.setAttribute("tabindex",e);t.removeAttribute("data-oldTabindex")}else{t.removeAttribute("tabindex")}}})};y.prototype.onAfterRendering=function(){const e=this.getDomRef("titleText");if(e){e.addEventListener("click",this.fnTitleTextClickHandler)}const t=this.getTiles();const i=this.getLinks();const o=t.concat(i);o.forEach(e=>{const t=e.getDomRef();if(t){const e=t.getAttribute("tabindex");if(e){t.setAttribute("data-oldTabindex",e)}t.setAttribute("tabindex","-1")}});const s=t.filter(e=>e.isA("sap.ui.integration.widgets.Card"));this._resizeCards(s);l.getInstance().publish("launchpad","GroupHeaderVisibility");this.fireAfterRendering()};y.prototype._titleTextClickHandler=function(){const e=this.getModel()&&this.getModel().getProperty("/enableRenameLockedGroup");const t=(e||!this.getIsGroupLocked())&&!this.getDefaultGroup()&&this.getTileActionModeActive();this.setEditMode(t)};y.prototype.updateAggregation=a.updateAggregation;y.prototype.setGroupId=function(e,t){this.setProperty("groupId",e,t);this.oPlusTile.setGroupId(e,t);return this};y.prototype.setShowIcon=function(e,t){this.setProperty("showIcon",e,t);this.oIcon.toggleStyleClass("sapUshellContainerIconHidden",!e);return this};y.prototype.groupHasTiles=function(){let e="";let t=this.getTiles();const i=[];if(this.getBindingContext()){e=this.getBindingContext().sPath;t=this.getModel().getProperty(e).tiles}return c.groupHasVisibleTiles(t,i)};y.prototype.getInnerContainersDomRefs=function(){const e=this.getDomRef();if(!e){return null}return[e.querySelector(".sapUshellTilesContainer-sortable"),e.querySelector(".sapUshellLineModeContainer")]};y.prototype.isLinkPersonalizationOveride=function(){y.prototype.updateLinks=function(e){const t=this.getParent();const i=t&&t.getDisplayMode&&t.getDisplayMode()==="tabs";if(i&&!this.getTileActionModeActive()){t.removeLinksFromUnselectedGroups()}if(this.getLinks().length>0){this.removeAllLinks()}s.prototype.updateAggregation.call(this,"links")};y.prototype.destroyLinks=function(t){e.debug(`link is destroyed because: ${t}`,null,"sap.ushell.ui.launchpad.TileContainer")}};y.prototype._resizeCards=function(e){let t;let i;const o=5.5;const s=.4375;let n;let l;let r;let a;for(let u=0;u<e.length;u++){t=e[u];i=t.getManifest();n=i["sap.flp"].rows;l=i["sap.flp"].columns;r=`${l*o+(l-3)*s}rem`;a=`${n*o+(n-1)*s}rem`;t.setHeight(a);t.setWidth(r)}};y.prototype.setEditMode=function(e,t){this.setProperty("editMode",e,t);if(e){this.oEditInputField.setValue(this.getHeaderText())}const i=this.getModel();if(i){i.setProperty("/editTitle",e)}};y.prototype._stopEdit=function(){const e=this.getHeaderText();let t=this.oEditInputField.getValue();let i;t=t.substring(0,256).trim()||this._sDefaultValue;i=t!==e;if(this.bIsFirstTitleChange&&t===this.oEditInputField.getPlaceholder()){i=true}this.bIsFirstTitleChange=false;if(this.getModel()&&this.getModel().getProperty("/editTitle")){this.getModel().setProperty("/editTitle",false,false)}if(i){this.fireTitleChange({newTitle:t});this.setHeaderText(t)}this.setEditMode(false)};y.prototype.exit=function(){if(this.oNoLinksText){this.oNoLinksText.destroy()}if(this.oTransformationErrorText){this.oTransformationErrorText.destroy()}if(this.oTransformationErrorIcon){this.oTransformationErrorIcon.destroy()}if(this.oIcon){this.oIcon.destroy()}if(this.oPlusTile){this.oPlusTile.destroy()}if(this.oEditInputField){this.oEditInputField.destroy()}const e=this.getDomRef("titleText");if(e){e.removeEventListener("click",this.fnTitleTextClickHandler)}if(n.prototype.exit){n.prototype.exit.apply(this,arguments)}};return y});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileContainerRenderer", ["sap/ushell/resources","sap/ushell/utils","sap/ushell/bootstrap/common/common.load.model","sap/ushell/Config","sap/ushell/ui/launchpad/AccessibilityCustomData","sap/ui/core/CustomData"],(e,t,s,o,a,i)=>{"use strict";const l={apiVersion:2};l.oModel=s.getModel();l.render=function(s,o){const l=o.getHeaderActions();const n=o.getBeforeContent();const r=o.getAfterContent();const d=o.getLinks();const c=d.length;const p=this;s.openStart("div",o);s.class("sapUshellTileContainer");if(!o.getVisible()){s.class("sapUshellHidden")}if(o.getDeluminate()){s.class("sapUshellDisableLockedGroupDuringDrag")}if(o.getEditMode()){s.class("sapUshellEditing")}if(o.getHidden()){s.class("sapUshellTileContainerEditModeHidden")}if(!o.getShowEmptyLinksArea()){s.class("sapUshellLinksAreaHidden")}if(o.getShowEmptyLinksAreaPlaceHolder()){s.class("sapUshellTileContainerEditMode");s.class("sapUshellTileContainerTabsModeEmptyLinksArea")}else{s.class("sapUshellEmptyLinksAreaPlaceHolder")}s.openEnd();if(n.length&&o.getTileActionModeActive()){s.openStart("div");s.class("sapUshellTileContainerBeforeContent");s.class("sapContrastPlus");s.openEnd();n.forEach(e=>{s.renderControl(e)});s.close("div")}s.openStart("div");s.class("sapUshellTileContainerContent");if(o.getIsGroupLocked()){s.class("sapUshellTileContainerLocked")}if(o.getDefaultGroup()){s.class("sapUshellTileContainerDefault")}if(o.getShowBackground()){s.class("sapUshellTileContainerEditMode")}s.openEnd();if(o.getShowBackground()){s.openStart("div");s.class("sapUshellGroupBackgroundContainer");s.class("sapContrastPlus");s.openEnd();s.close("div")}if(o.getShowHeader()){s.openStart("div",`${o.getId()}-groupheader`);s.class("sapUshellTileContainerHeader");s.class("sapContrastPlus");if(!o.getShowGroupHeader()){s.class("sapUshellFirstGroupHeaderHidden");s.class("sapUiPseudoInvisibleText")}if(o.getTileActionModeActive()){s.attr("tabindex","0")}let t;if(o.getDefaultGroup()){t=e.i18n.getText("ariaLabelEditModeGroupDefault",[o.getHeaderText()])}else if(o.getIsGroupLocked()){t=e.i18n.getText("ariaLabelEditModeGroupLocked",[o.getHeaderText()])}else{t=e.i18n.getText("ariaLabelEditModeGroup",[o.getHeaderText()])}s.attr("aria-label",t);s.openEnd();s.openStart("div",`${o.getId()}-title`);s.class("sapUshellContainerTitleFlex");s.openEnd();if(o.getEditMode()){s.renderControl(o.oEditInputField)}else{const e=o.getHeaderLevel().toLowerCase();s.openStart(e,`${o.getId()}-titleText`);s.class("sapUshellContainerTitle");s.attr("title",o.getHeaderText());s.attr("role","region");if(o.getTileActionModeActive()&&!o.getIsGroupLocked()&&!o.getDefaultGroup()){s.attr("tabindex","0")}s.openEnd();s.text(o.getHeaderText());s.close(e)}if(o.getIsGroupLocked()){s.renderControl(o.oIcon)}else if(o.getTileActionModeActive()){s.openStart("div");s.class("sapUshellContainerHeaderActions");s.openEnd();l.forEach(e=>{s.renderControl(e)});s.close("div")}s.close("div");s.close("div")}s.openStart("ul");s.class("sapUshellTilesContainer-sortable");s.class("sapUshellInner");s.openEnd();let g=false;o.getTiles().forEach(e=>{if(e.getVisible()){g=true}if(p._isUserActivityCard(e)){p._updateUserActivityCardVisibility(e)}s.renderControl(e)});if(o.getShowPlaceholder()){s.renderControl(o.oPlusTile)}if(o.getShowNoData()){this.renderNoData(s,o,!g)}s.close("ul");const u=o.getSupportLinkPersonalization();if(c>0||u){s.openStart("div");s.class("sapUshellLineModeContainer");if(!c&&u){s.class("sapUshellNoLinksAreaPresent");if(o.getTransformationError()){s.class("sapUshellNoLinksAreaPresentError")}s.openEnd();s.openStart("div");s.class("sapUshellNoLinksAreaPresentText");s.openEnd();s.renderControl(o.oNoLinksText);s.close("div")}else{s.openEnd()}if(u){if(o.getTransformationError()){s.openStart("div");s.class("sapUshellTransformationError");if(!o.transformationError){s.style("display","none")}s.openEnd();s.openStart("div");s.class("sapUshellTransformationErrorInnerWrapper");s.openEnd();s.renderControl(o.oTransformationErrorIcon);s.renderControl(o.oTransformationErrorText);s.close("div");s.close("div")}s.openStart("div");s.class("sapUshellLinksInnerContainer");s.openEnd();let e;let t;let l;let n;d.forEach((r,d)=>{e=r.getCustomData();t=false;l=false;n=false;e.forEach(e=>{if(e.getKey()==="aria-posinset"){e.setValue((d+1).toString());e.setWriteToDom(true);t=true}else if(e.getKey()==="aria-setsize"){e.setValue(c.toString());e.setWriteToDom(true);l=true}else if(e.getKey()==="help-id"){e.setValue(r.getBindingContext()&&r.getBindingContext().getProperty("tileCatalogId"));e.setWriteToDom(true);n=true}else if(e.getKey()==="help-id2"){e.setValue(r.getBindingContext()&&r.getBindingContext().getProperty("tileCatalogIdStable"));e.setWriteToDom(true);n=true}});if(!t){r.addCustomData(new a({key:"aria-posinset",value:(d+1).toString(),writeToDom:true}))}if(!l){r.addCustomData(new a({key:"aria-setsize",value:c.toString(),writeToDom:true}))}if(r.getModel()&&r.getModel().getProperty("/enableHelp")&&!n){r.addCustomData(new i({key:"help-id",value:r.getBindingContext()&&r.getBindingContext().getProperty("tileCatalogId"),writeToDom:true}));r.addCustomData(new i({key:"help-id2",value:r.getBindingContext()&&r.getBindingContext().getProperty("tileCatalogIdStable"),writeToDom:true}))}r.addStyleClass("sapUshellLinkTile");if(o.getIsGroupLocked()){r.addStyleClass("sapUshellLockedTile")}s.renderControl(r)});s.close("div")}else{d.forEach(e=>{s.renderControl(e)})}s.close("div")}s.close("div");if(r.length&&o.getTileActionModeActive()){s.openStart("div");s.class("sapUshellTileContainerAfterContent");s.class("sapContrastPlus");s.openEnd();r.forEach(e=>{s.renderControl(e)});s.close("div")}s.close("div");t.setPerformanceMark("FLP -- tile container renderer")};l.renderNoData=function(e,t,s){e.openStart("div",`${t.getId()}-listNoData`);e.class("sapUshellNoFilteredItems");e.class("sapUiStrongBackgroundTextColor");e.openEnd();e.text(s?t.getNoDataText():"");e.close("div")};l._isUserActivityCard=function(t){if(typeof t.getManifest!=="function"){return false}const s=t.getManifest();const o=s&&s["sap.card"]&&s["sap.card"].header&&s["sap.card"].header.title;return o===e.i18n.getText("recentActivities")||o===e.i18n.getText("frequentActivities")};l._updateUserActivityCardVisibility=function(e){e.setVisible(o.last("/core/shell/model/enableTrackingActivity"));o.on("/core/shell/model/enableTrackingActivity").do(t=>{e.setVisible(t)})};return l},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileRenderer", ["sap/base/Log","sap/ushell/Config"],(e,l)=>{"use strict";const t={apiVersion:2};t.render=function(t,i){let n=null;try{n=i.getTileViews()[0]}catch(l){e.warning("Failed to load tile view: ",l);n=i.getFailedtoLoadViewText()}const o=i.getParent();if(!o){return}const s=i.getNoContainerMode();t.openStart(s?"div":"li",i);if(l.last("/core/shell/model/enableHelp")){t.attr("data-help-id",i.getTileCatalogId());if(i.getTileCatalogIdStable()){t.attr("data-help-id2",i.getTileCatalogIdStable())}}t.class("sapUshellTile");if(i.getTileActionModeActive()){t.class("sapUshellTileWrapper")}if(n&&n.getContent){const e=n.getContent();e.forEach(e=>{if(e.isA("sap.m.GenericTile")){t.class("sapUshellFeedTileBG")}})}if(i.getLong()){t.class("sapUshellLong")}if(!i.getVisible()){t.class("sapUshellHidden")}if(i.getIsLocked()){t.class("sapUshellLockedTile")}if(l.last("/core/home/sizeBehavior")==="Small"){t.class("sapUshellSmall")}const a=`${o.getId()}-titleText`;t.attr("aria-describedby",a);t.openEnd();if(i.getTileActionModeActive()){this.renderTileActionMode(t,i);this.renderTileView(t,i,n)}else{t.openStart("div");t.class("sapUshellTileWrapper");t.openEnd();this.renderTileView(t,i,n);if(i.getShowActionsIcon()){t.renderControl(i.actionIcon)}t.close("div");this.renderTileActionsContainer(t,n,i.getPinButton())}t.close(s?"div":"li")};t.renderTileActionsContainer=function(e,l,t){t=t.length?t[0]:undefined;if(t){t.addStyleClass("sapUshellActionButton");e.openStart("div");e.class("sapUshellTilePinButtonOverlay");if(l.getHeader){e.attr("role","toolbar");e.attr("aria-label",l.getHeader())}e.openEnd();e.renderControl(t);e.close("div")}};t.renderTileView=function(e,l,t){e.openStart("div");e.class("sapUshellTileInner");if(l.getTileActionModeActive()){e.class("sapUshellTileActionBG")}e.openEnd();e.renderControl(t);e.close("div")};t.renderTileActionMode=function(e,l){e.openStart("div");e.class("sapUshellTileActionLayerDiv");e.openEnd();if(!l.getIsLocked()){e.openStart("div");e.class("sapUshellTileDeleteClickArea");e.openEnd();e.openStart("div");e.class("sapUshellTileDeleteIconOuterClass");e.openEnd();e.renderControl(l._initDeleteAction());e.close("div");e.close("div")}e.openStart("div");e.class("sapUshellTileActionDivCenter");e.openEnd();e.close("div");e.openStart("div");e.class("sapUshellTileActionIconDivBottom");e.openEnd();e.openStart("div");e.class("sapUshellTileActionIconDivBottomInnerDiv");e.openEnd();e.renderControl(l.getActionSheetIcon());e.close("div");e.close("div");e.close("div")};return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileState", ["sap/ushell/ui/launchpad/TileStateInternal","./TileStateRenderer"],(e,t)=>{"use strict";const a=e.extend("sap.ushell.ui.launchpad.TileState",{metadata:{library:"sap.ushell",properties:{state:{type:"string",group:"Misc",defaultValue:"Loaded"}},events:{press:{}}},renderer:t});return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileStateRenderer", ["sap/ushell/ui/launchpad/TileStateInternalRenderer"],e=>{"use strict";return e},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/section/CompactArea", ["sap/ui/core/Control","sap/ui/events/KeyCodes","sap/ushell/library","./CompactAreaRenderer"],function(e,t,o,r){"use strict";const n=e.extend("sap.ushell.ui.launchpad.section.CompactArea",{metadata:{library:"sap.ushell",properties:{showEmptyLinksArea:{type:"boolean",group:"Misc",defaultValue:false},showEmptyLinksAreaPlaceHolder:{type:"boolean",group:"Misc",defaultValue:false},enableLinkReordering:{type:"boolean",group:"Behavior",defaultValue:false}},dnd:{draggable:false,droppable:true},aggregations:{items:{type:"sap.ui.core.Control",singularName:"item",multiple:true,dnd:true}},events:{borderReached:{parameters:{event:{type:"jQuery.Event"}}},itemDrop:{parameters:{draggedControl:{type:"sap.ui.core.Control"},droppedControl:{type:"sap.ui.core.Control"},dropPosition:{type:"string"}}}}},renderer:r});n.prototype.onBorderReached=this.fireBorderReached;n.prototype.onsapnext=function(e){e.stopImmediatePropagation(true);e.preventDefault();if(e.keyCode===t.ARROW_RIGHT){const e=this.getFocusedItemIndex();if(e>=0&&e<this.getItems().length-1){this.focusItem(e+1);return}}this.fireBorderReached({event:e})};n.prototype.onsapprevious=function(e){e.stopImmediatePropagation(true);e.preventDefault();if(e.keyCode===t.ARROW_LEFT){const e=this.getFocusedItemIndex();if(e>0){this.focusItem(e-1);return}}this.fireBorderReached({event:e})};n.prototype.onsapnextmodifiers=function(e){if(!this.getEnableLinkReordering()){return}const o=this.getFocusedItemIndex();const r=this.getItems();e.stopImmediatePropagation(true);e.preventDefault();if(e.keyCode===t.ARROW_RIGHT&&o>-1&&o<r.length-1){this.fireItemDrop({draggedControl:r[o],droppedControl:r[o+1],dropPosition:"After",browserEvent:e})}if(e.keyCode===t.ARROW_DOWN&&o>-1){this.fireItemDrop({draggedControl:r[o],droppedControl:null,dropPosition:"After",browserEvent:e})}};n.prototype.onsappreviousmodifiers=function(e){if(!this.getEnableLinkReordering()){return}const o=this.getFocusedItemIndex();const r=this.getItems();e.stopImmediatePropagation(true);e.preventDefault();if(e.keyCode===t.ARROW_LEFT&&o>0){this.fireItemDrop({draggedControl:r[o],droppedControl:r[o-1],dropPosition:"Before",browserEvent:e})}if(e.keyCode===t.ARROW_UP&&o>-1){this.fireItemDrop({draggedControl:r[o],droppedControl:null,dropPosition:"Before",browserEvent:e})}};n.prototype.focusItem=function(e){e=e||0;const t=this.getItems();if(e===-1||e>=t.length){e=t.length-1}if(e>=0){const o=t[e].getFocusDomRef()||t[e].getDomRef();(o.querySelector("a")||o).focus()}else{this.focus()}};n.prototype.onmousedown=function(e){const t=this.getDOMItemIndex(e.srcControl.getDomRef());let o=this.getFocusedItemIndex();if(o<0){o=0}if(t<0){window.setTimeout(()=>{this.focusItem(o)},0)}};n.prototype.getDOMItemIndex=function(e){let t=-1;this.getItems().forEach((o,r)=>{const n=o.getDomRef();if(n&&n.contains(e)){t=r}});return t};n.prototype.getFocusDomRef=function(){if(this.getItems().length){return this.getItems()[0].getFocusDomRef()}return this.getDomRef()};n.prototype.onfocusin=function(e){if(document.activeElement===this.getDomRef()){this.focusItem(0)}};n.prototype.getFocusedItemIndex=function(){return this.getDOMItemIndex(document.activeElement)};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/section/CompactAreaRenderer", ["sap/ushell/resources"],e=>{"use strict";const t={apiVersion:2};t.render=function(t,r){t.openStart("div",r);if(!r.getVisible()){t.style("display","none")}t.attr("role","group");t.attr("aria-label",e.i18n.getText("Section.CompactArea.Description"));t.style("width","100%");t.class("sapUshellSectionCompactArea");t.openEnd();r.getItems().forEach(t.renderControl);t.close("div")};return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/DynamicTile", ["sap/ushell/library","./TileBase","./DynamicTileRenderer"],(e,t,a)=>{"use strict";const u=e.ui.tile.State;const r=e.ui.tile.StateArrow;const l=t.extend("sap.ushell.ui.tile.DynamicTile",{metadata:{library:"sap.ushell",properties:{numberValue:{type:"string",group:"Data",defaultValue:"0.0"},numberState:{type:"sap.ushell.ui.tile.State",group:"Appearance",defaultValue:u.Neutral},numberUnit:{type:"string",group:"Data",defaultValue:null},numberDigits:{type:"int",group:"Appearance",defaultValue:0},stateArrow:{type:"sap.ushell.ui.tile.StateArrow",group:"Appearance",defaultValue:r.None},numberFactor:{type:"string",group:"Data",defaultValue:null}}},renderer:a});return l});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/DynamicTileRenderer", ["sap/ui/core/Renderer","sap/ui/core/format/NumberFormat","sap/ushell/library","sap/ushell/ui/tile/TileBaseRenderer","sap/ushell/resources"],(e,t,i,s,a)=>{"use strict";const l=i.ui.tile.State;const n=i.ui.tile.StateArrow;const r=e.extend(s);r.apiVersion=2;r.renderPart=function(e,i){const s=i.getNumberValue();let r=i.getNumberFactor();let o=s.toString();const c=i.getIcon()?4:5;const u=this._shouldProcessDigits(o,i);if(o.length>c||u){const e=this._normalizeNumber(s,c,r,i);r=e.numberFactor;o=e.displayNumber}else if(o!==""){const e=t.getFloatInstance({maxFractionDigits:c});o=e.format(s)}e.openStart("div");e.class("sapUshellDynamicTile");e.openEnd();e.openStart("div");e.class("sapUshellDynamicTileData");e.class(l[i.getNumberState()]?`sapUshellDynamicTileData${i.getNumberState()}`:`sapUshellDynamicTileData${l.Neutral}`);e.openEnd();e.openStart("div");e.class("sapUshellDynamicTileIndication");e.openEnd();if(n[i.getStateArrow()]){e.openStart("div");e.class("sapUshellDynamicTileStateArrow");e.class(`sapUshellDynamicTileData${n[i.getStateArrow()]}`);e.openEnd();e.close("div")}e.voidStart("br");e.voidEnd();e.openStart("div");e.class("sapUshellDynamicTileNumberFactor");e.accessibilityState(i,{label:a.i18n.getText("TileUnits_lable")+r});e.openEnd();e.text(r);e.close("div");e.close("div");e.openStart("div");e.class("sapUshellDynamicTileNumber");if(o&&o!==""){e.accessibilityState(i,{label:a.i18n.getText("TileValue_lable")+o});e.openEnd();e.text(o)}else{e.openEnd();e.text(i.getNumberValue())}e.close("div");e.close("div");e.close("div")};r._normalizeNumber=function(e,i,s,a){let l;if(isNaN(e)){l=e}else{const i=t.getFloatInstance({maxFractionDigits:a.getNumberDigits()});if(!s){const t=Math.abs(e);if(t>=1e9){s="B";e/=1e9}else if(t>=1e6){s="M";e/=1e6}else if(t>=1e3){s="K";e/=1e3}}l=i.format(e)}let n=l;const r=n[i-1];i-=r==="."||r===","?1:0;n=n.substring(0,i);return{displayNumber:n,numberFactor:s}};r._shouldProcessDigits=function(e,t){const i=t.getNumberDigits();let s;if(e.indexOf(".")!==-1){s=e.split(".")[1].length;if(s>i){return true}}return false};r.getInfoPrefix=function(e){return e.getNumberUnit()};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/StaticTile", ["sap/ushell/library","sap/ushell/ui/tile/TileBase","sap/ushell/ui/tile/StaticTileRenderer"],(e,l,i)=>{"use strict";const s=l.extend("sap.ushell.ui.tile.StaticTile",{metadata:{library:"sap.ushell"},renderer:i});return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/StaticTileRenderer", ["sap/ui/core/Renderer","./TileBaseRenderer"],(e,n)=>{"use strict";const s=e.extend(n);s.apiVersion=2;s.renderPart=function(e,n){e.openStart("span");e.class("sapUshellStaticTile");e.openEnd();e.close("span")};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/TileBase", ["sap/ushell/library","sap/ui/core/Control","sap/ushell/library","./TileBaseRenderer"],(e,t,a,l)=>{"use strict";const r=e.ui.tile.State;const u=t.extend("sap.ushell.ui.tile.TileBase",{metadata:{library:"sap.ushell",properties:{title:{type:"string",group:"Data",defaultValue:null},subtitle:{type:"string",group:"Data",defaultValue:null},icon:{type:"string",group:"Data",defaultValue:null},info:{type:"string",group:"Data",defaultValue:null},infoState:{type:"sap.ushell.ui.tile.State",defaultValue:r.Neutral},targetURL:{type:"string",group:"Behavior",defaultValue:null},highlightTerms:{type:"any",group:"Appearance",defaultValue:[]}},aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},events:{press:{}}},renderer:l});u.prototype.ontap=function(e){this.firePress({})};u.prototype.onsapenter=function(e){this.firePress({})};u.prototype.onsapspace=function(e){this.firePress({})};return u});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/TileBaseRenderer", ["sap/ushell/library","sap/ushell/resources","sap/base/security/encodeXML","sap/ui/core/Icon"],(e,t,l,i)=>{"use strict";const s=e.ui.tile.State;const a={apiVersion:2};a.highlight=function(e,t){let i;let s;let a=l(t).replace(/&#xa;/g,"<br>");if(e&&e.length&&e.length>0){for(i=0;i<e.length;i=i+1){s=new RegExp(`(${l(e[i]).replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")})`,"gi");a=a.replace(s,"<b>$1</b>")}}return a};a.render=function(e,l){let a;let n;e.openStart("div",l);if(l.getTargetURL()){e.attr("data-targeturl",l.getTargetURL())}e.class("sapUshellTileBase");e.openEnd();e.openStart("div");e.class("sapUshellTileBaseHeader");e.openEnd();e.openStart("h3");e.class("sapUshellTileBaseTitle");e.accessibilityState(l,{label:t.i18n.getText("tileTypeListItem")+t.i18n.getText("TileDetails_lable")+t.i18n.getText("TileTitle_lable")+l.getTitle(),level:"3"});e.openEnd();e.unsafeHtml(this.highlight(l.getHighlightTerms(),l.getTitle()||""));e.close("h3");if(l.getSubtitle()){e.openStart("h4");e.class("sapUshellTileBaseSubtitle");e.accessibilityState(l,{label:t.i18n.getText("TileSubTitle_lable")+l.getSubtitle(),level:"4"});e.openEnd();e.unsafeHtml(this.highlight(l.getHighlightTerms(),l.getSubtitle()));e.close("h4")}e.close("div");if(typeof this.renderPart==="function"){this.renderPart(e,l)}if(l.getIcon()){n=new i({src:l.getIcon()});n.addStyleClass("sapUshellTileBaseIcon");e.renderControl(n)}if(l.getInfo()||typeof this.getInfoPrefix==="function"&&this.getInfoPrefix(l)){e.openStart("div");e.class("sapUshellTileBaseInfo");e.class(l.getInfoState()?`sapUshellTileBase${l.getInfoState()}`:`sapUshellTileBase${s.Neutral}`);e.accessibilityState(l,{label:t.i18n.getText("TileInfo_lable")+l.getInfo()});e.openEnd();if(typeof this.getInfoPrefix==="function"){a=this.getInfoPrefix(l);e.text(a)}if(l.getInfo()){if(a){e.text(", ")}e.unsafeHtml(this.highlight(l.getHighlightTerms(),l.getInfo()))}e.close("div")}e.close("div")};return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/DynamicTileRequest", ["sap/base/i18n/Localization","sap/ushell/utils/HttpClient","sap/ui/thirdparty/URI","sap/base/util/isEmptyObject","sap/ushell/utils/UriParameters","sap/base/Log","sap/ui/core/Configuration","sap/base/util/ObjectPath","sap/ushell/EventHub","sap/ushell/Container"],(e,t,s,r,n,i,a,o,l,u)=>{"use strict";const c="sap.ushell.utils.DynamicTileRequest";class h{#e=()=>{};#t=()=>{};#s=null;#r=null;#n=null;#i=null;#a=null;#o=null;#l=null;#u=null;#c=null;#h=Promise.resolve();constructor(e,t,s,r,n){this.#e=t;this.#t=s;this.#s=e;this.#r=o.get(["dataSource","settings","odataVersion"],n);this.#n=true;this.#i=r;this.#h=this.#f(e,r).then(e=>{if(e){this.#a=e}}).catch(e=>{i.error("Was not able to create a DynamicTileRequest:",e,c)});this._oInitialRefreshPromise=this.#h.then(()=>{if(this.#a){return this.refresh()}})}set originalUrl(e){throw new Error("originalUrl is read-only!")}get originalUrl(){return this.#s}set oDataVersion(e){throw new Error("oDataVersion is read-only!")}get oDataVersion(){return this.#r}refresh(){if(!this.#o){this.#o=this.#h.then(this.#g.bind(this)).then(e=>{if(e){return this.#d(e)}})}return this.#o}async#g(){if(!this.#n){return this.#a}try{const e=await u.getServiceAsync("ReferenceResolver");const t=await e.resolveSemanticDateRanges(this.#a,this.#r);if(t.ignoredReferences&&t.ignoredReferences.length>0||t.invalidSemanticDates&&t.invalidSemanticDates.length>0){const e=[].concat(t.invalidSemanticDates||[],t.ignoredReferences||[]);i.error(`The service URL contains invalid Reference(s): ${e.join(", ")}`,"",c);return}this.#n=t.hasSemanticDateRanges;return t.url}catch(e){i.error("Could not resolve semantic date ranges:",e,c);throw e}}#d(r){let n=new s(r).escapeQuerySpace(false);const i=e.getSAPLogonLanguage();if(i&&!n.hasQuery("sap-language")){n.addQuery("sap-language",i)}let a=false;if(n.is("relative")){a=true;n=n.absoluteTo(location.href)}const o=this.#R(a);const l={headers:o};this.#c=n.origin();this.#u=n.href();this.#l=new t(this.#c,l);return this.#l.get(n.relativeTo(this.#c).href()).then(this.#U.bind(this)).catch(this.#m.bind(this))}abort(){if(this.#o&&this.#l){this.#l.abortAll();this.#l=null;this.#o=null;return true}return false}#U(e){l.emit("UITracer.trace",{source:"Tile",reason:"FetchData",data:{providerId:this.#i,targetUrl:this.#u,status:200}});let t;try{t=JSON.parse(e.responseText)}catch{throw new Error("Was not able to parse response of dynamic tile request")}this.#l=null;this.#o=null;let s;if(typeof t==="object"){t=t.d?t.d:t;const e=n.fromURL(this.#u);if(e.get("$inlinecount")==="allpages"){s={number:t.__count}}else if(e.get("$count")==="true"){s={number:t["@odata.count"]}}else{s=this.#v(t)}}else if(typeof t==="string"||typeof t==="number"){s={number:t}}this.#e(s)}#m(e){l.emit("UITracer.trace",{source:"Tile",reason:"FetchData",data:{providerId:this.#i,targetUrl:this.#u,status:e.status}});this.#l=null;this.#o=null;this.#t(e)}#v(e){const t=["results","icon","title","number","numberUnit","info","infoState","infoStatus","targetParams","subtitle","stateArrow","numberState","numberDigits","numberFactor"];const s=Object.keys(e).reduce((s,r)=>{if(t.indexOf(r)>-1){s[r]=e[r]}return s},{});if(!r(s)){return s}const n=Object.keys(e)[0];if(n!==undefined&&Object.keys(e).length===1){return Object.keys(e[n]).reduce((s,r)=>{if(t.indexOf(r)>-1){s[r]=e[n][r]}return s},{})}return{}}#R(t){const s={"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0","Accept-Language":e.getLanguage()||"",Accept:"application/json, text/plain"};const r=e.getSAPLogonLanguage();if(r){s["sap-language"]=r}if(t){const e=u.getLogonSystem();const t=e&&e.getClient();if(t){s["sap-client"]=t}}return s}async#f(e,t){const s=await u.getServiceAsync("ClientSideTargetResolution");const r=await u.getServiceAsync("ReferenceResolver");const n=await s.getSystemContext(t);const a=await r.resolveUserDefaultParameters(e,n);if(a.defaultsWithoutValue&&a.defaultsWithoutValue.length>0){i.error(`The service URL contains User Default(s) with no set value: ${a.defaultsWithoutValue.join(", ")}`,"",c);return}if(a.ignoredReferences&&a.ignoredReferences.length>0){const e=a.ignoredReferences.filter(e=>!e.startsWith("DynamicDate"));if(e.length>0){i.error(`The service URL contains invalid Reference(s): ${e.join(", ")}`,"",c);return}}return a.url}destroy(){this.abort();this.#t=null;this.#e=null}}return h});
sap.ui.require.preload({
	"sap/ushell/components/tiles/cdm/applauncher/StaticTile.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    controllerName="sap.ushell.components.tiles.cdm.applauncher.StaticTile"\n    height="100%"\n    width="100%"><GenericTile\n        additionalTooltip="{= ${/properties/showContentProviderInfoInTooltip} ? ${/properties/contentProviderLabel} : \'\'}"\n        systemInfo="{= ${/properties/showContentProviderInfoOnVisualizations} ? ${/properties/contentProviderLabel} : \'\'}"\n        frameType="{/properties/frameType}"\n        header="{/properties/title}"\n        mode="{/properties/mode}"\n        scope="{/properties/scope}"\n        sizeBehavior="{= ${/properties/customSizeBehavior} || ${/properties/configSizeBehavior}}"\n        subheader="{/properties/subtitle}"\n        url="{\n            path: \'/properties/targetURL\',\n            formatter: \'._getLeanUrl\'\n        }"\n        wrappingType="{/properties/wrappingType}"\n        press=".onPress"><dependents><TileContent id="standardTileContent" footer="{/properties/info}" /><TileContent id="imageTileContent" footer="{/properties/info}"><ImageContent src="{/properties/icon}" /></TileContent></dependents></GenericTile></mvc:View>\n',
	"sap/ushell/components/tiles/cdm/applauncher/manifest.json":'{"_version":"1.21.0","sap.flp":{"type":"tile","tileSize":"1x1","vizOptions":{"displayFormats":{"supported":["standard","standardWide","compact","flat","flatWide"],"default":"standard"}}},"sap.app":{"id":"sap.ushell.components.tiles.cdm.applauncher","type":"component","applicationVersion":{"version":"1.0.0"},"title":"","tags":{"keywords":[]},"ach":"CA-FE-FLP-COR"},"sap.ui":{"_version":"1.1.0","technology":"UI5","icons":{"icon":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"_version":"1.1.0","componentName":"sap.ushell.components.tiles.cdm.applauncher","dependencies":{"minUI5Version":"1.42","libs":{"sap.m":{}}},"rootView":{"viewName":"sap.ushell.components.tiles.cdm.applauncher.StaticTile","type":"XML"},"handleValidation":false,"contentDensities":{"compact":true,"cozy":true}}}',
	"sap/ushell/components/tiles/cdm/applauncherdynamic/manifest.json":'{"_version":"1.21.0","sap.flp":{"type":"tile","tileSize":"1x1","vizOptions":{"displayFormats":{"supported":["standard","standardWide","compact","flat","flatWide"],"default":"standard"}}},"sap.app":{"id":"sap.ushell.components.tiles.cdm.applauncherdynamic","_version":"1.0.0","type":"component","applicationVersion":{"version":"1.0.0"},"title":"","description":"","tags":{"keywords":[]},"ach":"CA-FLP-FE-COR"},"sap.ui":{"_version":"1.1.0","icons":{"icon":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"_version":"1.1.0","componentName":"sap.ushell.components.tiles.cdm.applauncherdynamic","dependencies":{"minUI5Version":"1.42","libs":{"sap.m":{}}},"rootView":{"viewName":"sap.ushell.components.tiles.cdm.applauncherdynamic.DynamicTile","type":"JS"},"handleValidation":false}}'
},"sap/ui/core/library-preload");
//# sourceMappingURL=flp-controls.js.map
