//@ui5-bundle sap/fiori/appruntimescube-min-3.js
window["sap-ui-optimized"] = true;
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/AppInfoParameters", ["sap/base/Log","sap/ushell/services/AppConfiguration","sap/ui/thirdparty/hasher","sap/base/util/deepClone","sap/base/util/isPlainObject","sap/base/util/restricted/_curry","sap/base/util/restricted/_zipObject","sap/ui/VersionInfo","sap/ushell/Container"],(t,e,r,a,n,i,s,o,p)=>{"use strict";const u="LAUNCHPAD";const c=["productName","theme","appIntent","url"];const l=["productName","theme","languageTag","appIntent","technicalAppComponentId","appId","appVersion","appSupportInfo","appFrameworkVersion","appFrameworkId","title","applicationParams","shellFrameworkVersion","url","abap.transaction"];class h{#t={theme:this.#e.bind(this,"User.env.sap-theme-NWBC"),languageTag:this.#e.bind(this,"User.env.sap-languagebcp47"),appIntent:this.#r.bind(this),appFrameworkId:this.#a.bind(this),appFrameworkVersion:this.#n.bind(this),appSupportInfo:this.#i.bind(this),technicalAppComponentId:this.#s.bind(this),appId:this.#o.bind(this),appVersion:this.#p.bind(this),productName:i(this.#u.bind(this))("productName"),applicationParams:this.#c.bind(this),url:this.#l.bind(this),"abap.transaction":this.#h.bind(this)};#m={};#f={};#d(t){let e=t.applicationType;if(e==="TR"){e="GUI"}return e}#g(){return e.getCurrentApplication()?.appCapabilities||{}}async#n(e){const r=this.#d(e);if(r==="UI5"){try{const t=await o.load();return`${t.version||""} (${t.buildTimestamp||""})`||""}catch(e){t.error("VersionInfo could not be loaded",e)}}}async#p(t){const e=t.componentInstance;if(e){const t=e.getManifestEntry("/sap.app/applicationVersion/version");return t}}async#i(t){const[e]=await t.getTechnicalParameter("sap-ach")||[];if(e){return e}return this.#g().appSupportInfo}async#s(t){const r=this.#d(t);const a=e.getMetadata();if(r==="UI5"){const e=t.componentInstance;if(e){let t=e.getManifestEntry("/sap.ui5/componentName");if(!t){t=e.getMetadata().getComponentName()}return t}return a.technicalName}if(r==="URL"){const t=e.getCurrentApplication();if(t.appCapabilities.technicalAppComponentId){return t.appCapabilities.technicalAppComponentId}}if(r==="GUI"){return(a.technicalName||"").replace(/ .*/,"").replace(/^\*/,"")}if(r==="WDA"||r==="NWBC"){return a.technicalName}}async#o(t){const[e]=await t.getTechnicalParameter("sap-fiori-id")||[];if(t.homePage){if(e){if(e!==""){return`${u} (${e})`}return u}return u}else if(e){return e}return this.#g().appId||t.inboundPermanentKey}async#e(t){const e=await p.getServiceAsync("ReferenceResolver");const r=await e.resolveReferences([t]);return r[t]}async#a(t){const r=e.getCurrentApplication();let a=this.#d(t);if(a==="URL"){a=r.appCapabilities&&r.appCapabilities.appFrameworkId}const n={NWBC:"WDA",TR:"GUI"};return n[a]||a}async#u(t,e){const r=await e.getSystemContext();return r.getProperty(t)}async#r(){const t=r.getHash();if(!t){throw new Error("Could not identify current application hash")}return t}async#c(t,e){let r={};if(e?.getCurrentAppTargetResolution?.().extendedInfo){r=e.getCurrentAppTargetResolution().extendedInfo.appParams}return r}async getAllAppInfo(t,e,r,a){const n={};const i=Object.keys(this.#t);const s=Object.keys(this.#m);const o=Array.from(new Set([...i,...s]));try{const r=await this.#A(o,e,a);for(const e in r){if(t){n[e]=r[e]}else{n[e]={value:r[e]}}}}catch{}const p=Object.keys(this.#f);try{const r=await this.#A(p,e,a);for(const e in r){if(t){n[e]=r[e].value}else{n[e]=r[e]}}}catch{}return n}async getInfo(t,e,r){if(!e){throw new Error("Parameter application missing")}return this.#A(["appFrameworkId"],e,r).then(()=>this.#A(t,e,r))}async#A(e,r,a){const n=e.map(async e=>{if(l.includes(e)){if(Object.hasOwn(this.#m,e)){return this.#m[e]}if(Object.hasOwn(this.#t,e)){return this.#t[e](r,a)}t.error(`value for parameter '${e}' is not set.`);return}if(Object.hasOwn(this.#f,e)){if(true){const t=this.#f[e];if(t.migrated){return t.value}}return this.#f[e]}if(e.includes(".")){return this.#u(e,r,a)}t.error(`'${e}' is not a valid app info parameter`)});return Promise.allSettled(n).then(t=>{for(let e=0;e<t.length;e++){if(t[e].status==="fulfilled"){t[e]=t[e].value}else{t[e]=undefined}}return s(e,t)})}setCustomAttributes(e){if(e===undefined||Object.keys(e).length===0){this.flush();return}let r=a(e);if(r.info&&Object.keys(r).length===1){t.error("The old interface for setting custom attributes is deprecated and will be removed in future.");r=r.info}const i={};for(const e in r){if(e==="customProperties"){continue}if(c.includes(e)){t.error(`Attribute '${e}' is restricted and will be ignored.`);continue}if(!l.includes(e)){if(true){t.error(`Attribute '${e}' is not supported and will be moved to customProperties instead. This migration will be removed in future.`);i[e]={value:r[e],showInAbout:false,migrated:true};continue}t.error(`Attribute '${e}' is not supported and will be ignored. It should be moved to the customProperties instead.`);continue}const a=r[e];if(typeof a!=="string"){t.error(`Attribute value for '${e}' is not a string and will be ignored.`);continue}this.#m[e]=a}const s={...i,...r.customProperties};for(const e in s){let r=s[e];if(l.includes(e)){this.#m[e]=r;continue}if(!n(r)){t.error(`Custom attribute '${e}' does not have the correct format. This property will be ignored in future.`);r={value:r,showInAbout:false,migrated:true}}if(!this.#b(e,r)){continue}this.#f[e]=r}}#b(e,r){if(!n(r)){t.error(`Custom attribute '${e}' does not have the correct format and will be ignored.`);return false}if(r.showInAbout===false){return true}r.showInAbout=true;if(!r.label){t.error(`Custom attribute '${e}' has no label and will be ignored.`);return false}return true}#l(){return p.getFLPUrl(true)}#h(t,e){return e?.getCurrentAppTargetResolution?.().appInfo?.["abap.transaction"]}store(t={}){t.appInfoParameters={appParameters:a(this.#m),customAppParameters:a(this.#f)}}restore(t={}){const{appParameters:e,customAppParameters:r}=t.appInfoParameters||{};this.#m=e?a(e):{};this.#f=r?a(r):{}}flush(){this.#m={};this.#f={}}}return new h},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ApplicationType", ["sap/ushell/Config"],e=>{"use strict";function t(e,t,n){const s=arguments;return new Promise((e,t)=>{sap.ui.require(["sap/ushell/ApplicationType/wdaResolution"],n=>{n.generateWDAResolutionResult.apply(n,s).then(e).catch(t)})})}function n(){const e=arguments;return new Promise((t,n)=>{sap.ui.require(["sap/ushell/ApplicationType/wdaResolution"],s=>{s.resolveEasyAccessMenuIntentWDA.apply(s,e).then(t).catch(n)})})}function s(e,t,n){return new Promise((s,u)=>{sap.ui.require(["sap/ushell/ApplicationType/guiResolution"],l=>{l.generateTRResolutionResult(e,t,n).then(s).catch(u)})})}function u(){const e=arguments;return new Promise((t,n)=>{sap.ui.require(["sap/ushell/ApplicationType/guiResolution"],s=>{s.resolveEasyAccessMenuIntentWebgui.apply(s,e).then(t).catch(n)})})}function l(e,t,n){const s=arguments;return new Promise((e,t)=>{sap.ui.require(["sap/ushell/ApplicationType/wcfResolution"],n=>{n.generateWCFResolutionResult.apply(n,s).then(e).catch(t)})})}function i(e,t,n){const s=arguments;return new Promise((e,t)=>{sap.ui.require(["sap/ushell/ApplicationType/ui5Resolution"],n=>{n.generateUI5ResolutionResult.apply(n,s).then(e).catch(t)})})}function o(e,t,n){const s=arguments;return new Promise((e,t)=>{sap.ui.require(["sap/ushell/ApplicationType/urlTemplateResolution"],n=>{n.generateURLTemplateResolutionResult.apply(n,s).then(e).catch(t)})})}function r(e,t,n){const s=arguments;return new Promise((e,t)=>{sap.ui.require(["sap/ushell/ApplicationType/urlResolution"],n=>{n.generateURLResolutionResult.apply(n,s).then(e).catch(t)})})}const a={URL:{type:"URL",defaultFullWidthSetting:true,generateResolutionResult:function(e){const t=e.inbound.hasOwnProperty("templateContext");return t?o.apply(null,arguments):r.apply(null,arguments)},easyAccessMenu:{intent:"Shell-startURL",resolver:null,showSystemSelectionInUserMenu:true,showSystemSelectionInSapMenu:false,systemSelectionPriority:1}},WDA:{type:"WDA",defaultFullWidthSetting:true,enableWdaCompatibilityMode:e.last("/core/navigation/enableWdaCompatibilityMode"),generateResolutionResult:t,easyAccessMenu:{intent:"Shell-startWDA",resolver:n,showSystemSelectionInUserMenu:true,showSystemSelectionInSapMenu:true,systemSelectionPriority:2}},TR:{type:"TR",defaultFullWidthSetting:true,generateResolutionResult:s,easyAccessMenu:{intent:"Shell-startGUI",resolver:u,showSystemSelectionInUserMenu:true,showSystemSelectionInSapMenu:true,systemSelectionPriority:3}},NWBC:{type:"NWBC",defaultFullWidthSetting:true},WCF:{type:"WCF",generateResolutionResult:l,defaultFullWidthSetting:true},SAPUI5:{type:"SAPUI5",generateResolutionResult:i,defaultFullWidthSetting:false}};function c(){return Object.keys(a).map(e=>a[e]).filter(e=>typeof e.easyAccessMenu==="object")}function p(){const e={};c().forEach(t=>{e[t.easyAccessMenu.intent]=t.easyAccessMenu.resolver});return function(t,n){if(e[t]&&(!n||n!=="SAPUI5")){return e[t]}return null}}function y(e){return!!a[e]&&a[e].defaultFullWidthSetting}Object.defineProperty(a,"enum",{value:Object.keys(a).reduce((e,t)=>{if(a[t].type){e[t]=a[t].type}return e},{})});const h={getEasyAccessMenuResolver:p(),getEasyAccessMenuDefinitions:c,getDefaultFullWidthSetting:y};Object.keys(h).forEach(e=>{Object.defineProperty(a,e,{value:h[e]})});return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Config", ["sap/ushell/EventHub","sap/ushell/bootstrap/common/common.create.configcontract.core","sap/ushell/Config/utils"],(e,t,n)=>{"use strict";let r=t.createConfigContract(window["sap-ushell-config"]);let o=e.createChannel(r);const c=Object.keys(o).reduce((t,n)=>{t[n]=function(){if(!o){o=e.createChannel(r)}return o[n].apply(o,arguments)};return t},{_reset:function(){o=null},_resetContract:function(){r=t.createConfigContract(window["sap-ushell-config"]);this._reset()},registerConfiguration:function(e,t){r=t},createModel:function(t,c){if(!o){o=e.createChannel(r)}return n.createModel(o,r,t,c)}});return c},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Container", ["sap/base/assert","sap/base/Log","sap/base/util/deepExtend","sap/base/util/extend","sap/base/util/uid","sap/ui/base/EventProvider","sap/ui/core/Control","sap/ui/core/EventBus","sap/ui/core/service/ServiceFactoryRegistry","sap/ui/performance/Measurement","sap/ui/thirdparty/jquery","sap/ui/thirdparty/URI","sap/ui/util/Mobile","sap/ushell/bootstrap/common/common.util","sap/ushell/EventHub","sap/ushell/System","sap/ushell/Ui5ServiceFactory","sap/ushell/utils","sap/ushell/utils/UrlParsing","sap/ushell/renderer/ShellLayout","sap/base/util/Deferred","sap/base/util/ObjectPath","sap/ushell/api/BootstrapObserver","sap/ushell/resources"],(e,t,n,r,i,o,s,a,l,u,jQuery,c,f,d,p,h,g,m,y,v,w,S,C,P)=>{"use strict";const D="sap.ushell.Container";const L="sap.ushell.Container.dirtyState.";const A={};let b;let I;const E=[];let R;const F=[];function M(){close()}function U(){document.location="about:blank"}function N(e){if(I&&I[e]){return I[e]}return`sap.ushell.adapters.${e}`}function T(e){const t=b.services;if(!t){return{}}if(e==="Notifications"||e==="NotificationsV2"){return t.Notifications||t.NotificationsV2||{}}return t[e]||{}}function O(e,t,n,r,i){const o=T(e).adapter||{};let s;async function a(e){let r;try{[r]=await m.requireAsync([e])}catch(t){if(e.endsWith("PersonalizationV2Adapter")){const t=e.replace("PersonalizationV2Adapter","PersonalizationAdapter");return a(t)}if(e.endsWith("FlpLaunchPageAdapter")){const t=e.replace("FlpLaunchPageAdapter","LaunchPageAdapter");return a(t)}throw t}const i=new r(t,n,{config:o.config||{}});return i}if(i===true){s=o.module;if(s===undefined){return r?Promise.resolve():undefined}}else{s=o.module||`${N(t.getPlatform())}.${e}Adapter`}const l=s.replace(/\./g,"/");function u(e){let r;try{r=sap.ui.requireSync(e)}catch(t){if(e.endsWith("PersonalizationV2Adapter")){const t=e.replace("PersonalizationV2Adapter","PersonalizationAdapter");r=sap.ui.requireSync(t)}else{throw t}}return new r(t,n,{config:o.config||{}})}if(!r){return u(l)}return a(l)}function _(e,t){e.forEach(e=>{const n=g.createServiceFactory(e,t);l.register(`sap.ushell.ui5service.${e}`,n)})}function $(){const l=new o;let d=false;let g=[];let N={};let $;const k={};let x;let q;let V=m.getLocalStorage();let Y=new m.Map;let B=new m.Map;let G;const H=this;let z;let K=false;let W=new w;function j(){if(typeof z.logoutRedirect==="function"){q=function(e){function t(){H._closeWindow();H._redirectWindow()}if(R!==H){return}if(e.key.indexOf($)===0&&e.newValue&&e.newValue!==V.getItem(e.key)){m.localStorageSetItem(e.key,e.newValue)}if(e.key===G){if(e.newValue==="pending"){H._suppressOData();if(l.fireEvent("Logout",true)){t()}else{setTimeout(t,1e3)}}}};window.addEventListener("storage",q)}}this.init=async function(e,t){S.set("sap.ushell.Container",R);const n=await Promise.all([this._init(e,t),P.awaitResourceBundle()]);z=n[0];$=`sap.ushell.Container.${z.getSystem().getPlatform()}.remoteSystem.`;G=`sap.ushell.Container.${z.getSystem().getPlatform()}.sessionTermination`;j();K=true;W.resolve();C.resolveBootstrappedContainer(this)};this.isInitialized=function(){return K};this.cancelLogon=function(){if(this.oFrameLogonManager){this.oFrameLogonManager.abortLogon()}};this.createRenderer=function(e,n){if(typeof e==="boolean"){n=e;e=undefined}const r={async:!!n};let i;u.start("FLP:Container.InitLoading","Initial Loading","FLP");m.setPerformanceMark("FLP - renderer created");e=e||b.defaultRenderer;if(!e){throw new Error("Missing renderer name")}const o=b&&b.renderers&&b.renderers[e]||{};i=o.module||(e.indexOf(".")<0?`sap.ushell.renderers.${e}.Renderer`:e);if(i==="sap.ushell.renderers.fiori2.Renderer"){i="sap.ushell.renderer.Renderer"}if(o.componentData&&o.componentData.config){r.config=o.componentData.config}function a(e){e.placeAt=function(e,t){let n=e;const r="canvas";const i=document.body;if(e===i.id){n=document.createElement("div");n.setAttribute("id",r);n.classList.add("sapUShellFullHeight");switch(t){case"first":if(i.firstChild){i.insertBefore(n,i.firstChild);break}case"only":i.innerHTML="";default:i.appendChild(n)}e=r;t=""}v.applyLayout(e);p.emit("ShellLayoutApplied",Date.now());s.prototype.placeAt.call(this,e,t)}}function c(e){const t=e.destroy;e.destroy=function(){if(e.isA("sap.ui.core.ComponentContainer")){return Promise.resolve(e.getComponentInstance().destroy()).then(function(){return t.apply(e,arguments)})}return Promise.resolve(t.apply(e,arguments))}}function f(t){const n=sap.ui.requireSync(t);const i=new n({componentData:r});let o;const u=sap.ui.requireSync("sap/ui/core/UIComponent");if(i instanceof u){const e=sap.ui.requireSync("sap/ui/core/ComponentContainer");o=new e({component:i,height:"100%",width:"100%"})}else{o=i}if(!(o instanceof s)){throw new Error(`Unsupported renderer type for name ${e}`)}a(o);c(o);N[e]=i;l.fireEvent("rendererCreated",{renderer:i});return o}function d(t){return new Promise((n,i)=>{sap.ui.require([t,"sap/ui/core/ComponentContainer","sap/ui/core/UIComponent","sap/ui/core/routing/Router"],(t,o,u)=>{const f=new t({componentData:r});if(f instanceof u){const t=new o({component:f,height:"100%",width:"100%",async:true});a(t);c(t);N[e]=f;f.rootControlLoaded().then(()=>{l.fireEvent("rendererCreated",{renderer:f});n(t)})}else if(f instanceof s){a(f);c(f);N[e]=f;l.fireEvent("rendererCreated",{renderer:f});n(f)}else{i(new Error("Unsupported renderer type!"))}})})}const h=i.replace(/\./g,"/");if(n){return d(h)}t.error("sap.ushell.Container.createRenderer() should always be called with bAsync:true.");return f(h)};this.createRendererInternal=async function(e){const t={async:true};let n;u.start("FLP:Container.InitLoading","Initial Loading","FLP");m.setPerformanceMark("FLP - renderer created");e=e||b.defaultRenderer;if(!e){throw new Error("Missing renderer name")}const r=b.renderers&&b.renderers[e]||{};n=r.module||(e.indexOf(".")<0?`sap.ushell.renderers.${e}.Renderer`:e);if(n==="sap.ushell.renderers.fiori2.Renderer"){n="sap.ushell.renderer.Renderer"}if(r.componentData&&r.componentData.config){t.config=r.componentData.config}function i(e){e.placeAt=function(e,t){let n=e;const r="canvas";const i=document.body;if(e===i.id){n=document.createElement("div");n.setAttribute("id",r);n.classList.add("sapUShellFullHeight");switch(t){case"first":if(i.firstChild){i.insertBefore(n,i.firstChild);break}case"only":i.innerHTML="";default:i.appendChild(n)}e=r;t=""}v.applyLayout(e);p.emit("ShellLayoutApplied",Date.now());s.prototype.placeAt.call(this,e,t)}}function o(e){const t=e.destroy;e.destroy=function(){if(e.isA("sap.ui.core.ComponentContainer")){return Promise.resolve(e.getComponentInstance().destroy()).then(function(){return t.apply(e,arguments)})}return Promise.resolve(t.apply(e,arguments))}}const a=n.replace(/\./g,"/");const[c,f,d]=await m.requireAsync([a,"sap/ui/core/ComponentContainer","sap/ui/core/UIComponent","sap/ui/core/routing/Router"]);const h=new c({componentData:t});if(h instanceof d){const t=new f({component:h,height:"100%",width:"100%",async:true});i(t);o(t);N[e]=h;await h.rootControlLoaded();l.fireEvent("rendererCreated",{renderer:h});return t}else if(h instanceof s){i(h);o(h);N[e]=h;l.fireEvent("rendererCreated",{renderer:h});return h}throw new Error("Unsupported renderer type!")};this.getRenderer=function(e){let n;e=e||b.defaultRenderer;if(e){n=N[e]}else{const e=Object.keys(N);if(e.length===1){n=N[e[0]]}else{t.warning("getRenderer() - cannot determine renderer, because no default renderer is configured and multiple instances exist.",null,D)}}if(n&&n.isA("sap.ui.core.ComponentContainer")){return n.getComponentInstance()}return n};this.getRendererInternal=function(e){let n;e=e||b.defaultRenderer;if(e){n=N[e]}else{const e=Object.keys(N);if(e.length===1){n=N[e[0]]}else{t.warning("getRendererInternal() - cannot determine renderer, because no default renderer is configured and multiple instances exist.",null,D)}}if(n&&n.isA("sap.ui.core.ComponentContainer")){return n.getComponentInstance()}return n};this.DirtyState={CLEAN:"CLEAN",DIRTY:"DIRTY",MAYBE_DIRTY:"MAYBE_DIRTY",PENDING:"PENDING",INITIAL:"INITIAL"};this.getGlobalDirty=function(){const e=new jQuery.Deferred;const n=i();let r=0;let o=this.DirtyState.CLEAN;function s(){if(r===0||o===H.DirtyState.DIRTY){e.resolve(o);t.debug(`getGlobalDirty() Resolving: ${o}`,null,"sap.ushell.Container")}}function a(e){if(e.key.indexOf(L)===0&&e.newValue!==H.DirtyState.INITIAL&&e.newValue!==H.DirtyState.PENDING){t.debug(`getGlobalDirty() Receiving event key: ${e.key} value: ${e.newValue}`,null,"sap.ushell.Container");if(e.newValue===H.DirtyState.DIRTY||e.newValue===H.DirtyState.MAYBE_DIRTY){o=e.newValue}r-=1;s()}}try{V.setItem(n,"CHECK");V.removeItem(n)}catch(n){t.warning("Error calling localStorage.setItem():",n,"sap.ushell.Container");return e.resolve(this.DirtyState.MAYBE_DIRTY).promise()}if(x){throw new Error("getGlobalDirty already called!")}x=e;window.addEventListener("storage",a);e.always(()=>{window.removeEventListener("storage",a);x=undefined});for(let e=V.length-1;e>=0;e-=1){const n=V.key(e);if(n.indexOf(L)===0){if(V.getItem(n)==="PENDING"){V.removeItem(n);t.debug(`getGlobalDirty() Cleanup of unresolved 'PENDINGS':${n}`,null,"sap.ushell.Container")}else{r+=1;m.localStorageSetItem(n,this.DirtyState.PENDING,true);t.debug(`getGlobalDirty() Requesting status for: ${n}`,null,"sap.ushell.Container")}}}s();setTimeout(()=>{if(e.state()!=="resolved"){e.resolve("MAYBE_DIRTY");t.debug("getGlobalDirty() Timeout reached, - resolved 'MAYBE_DIRTY'",null,"sap.ushell.Container")}},r*2e3);return e.promise()};this.getLogonSystem=function(){if(!z){t.error("getLogonSystem: Container is not yet initialized - system cannot be determined!")}return z.getSystem()};this.ready=function(){return W.promise};this.getUser=function(){return z.getUser()};this.getDirtyFlag=function(){let e=d;const t=this._oShellNavigationInternal.getNavigationContext();for(let n=0;n<g.length;n++){e=e||g[n](t)}return e};this.fnAsyncDirtyStateProvider=null;this.getDirtyFlagsAsync=function(){if(!this.fnAsyncDirtyStateProvider){return Promise.resolve(this.getDirtyFlag())}const e=this._oShellNavigationInternal.getNavigationContext();return this.fnAsyncDirtyStateProvider(e).then(e=>e||this.getDirtyFlag())};this.isAsyncDirtyStateProviderSet=function(){return typeof this.fnAsyncDirtyStateProvider==="function"};this.setAsyncDirtyStateProvider=function(e){this.fnAsyncDirtyStateProvider=e};this.setDirtyFlag=function(e){d=e};this.sessionKeepAlive=function(){if(z.sessionKeepAlive){z.sessionKeepAlive()}};this.extendSession=function(){p.emit("nwbcUserIsActive",Date.now())};this.registerDirtyStateProvider=function(e){if(typeof e!=="function"){throw new Error("fnDirty must be a function")}g.push(e)};this.deregisterDirtyStateProvider=function(e){if(typeof e!=="function"){throw new Error("fnDirty must be a function")}let t=-1;for(let n=g.length-1;n>=0;n--){if(g[n]===e){t=n;break}}if(t===-1){return}g.splice(t,1)};this.getService=function(e,t,n){return H._getServiceSync.apply(H,arguments)};this.getServiceAsync=function(e,t){return H._getServiceAsync(e,t)};this._getServiceSync=function(e,n,r){const i={};function o(t){if(!t){throw new Error("Missing system")}const r=O(e,t,n);R.addRemoteSystem(t);return m.toDeferred(r)}if(!e){throw new Error("Missing service name")}if(e.indexOf(".")>=0){throw new Error("Unsupported service name")}const s=T(e);const a=s.module||`sap.ushell.services.${e}`;const l=`${a}/${n||""}`;const u={config:s.config||{}};function c(e,t){i.createAdapter=o;return new e(t,i,n,u)}function f(t,r){let o;if(Y.containsKey(l)){o=Y.get(l)}else if(t.hasNoAdapter){o=new t(i,n,u)}else{const i=O(e,z.getSystem(),n,r,t.useConfiguredAdapterOnly);if(r){return i.then(e=>{const n=c(t,e);Y.put(l,n);return n})}o=c(t,i)}Y.put(l,o);return r?Promise.resolve(o):o}if(!Y.containsKey(l)){if(!r){t.error("Deprecated API call of 'sap.ushell.Container.getService'. Please use 'getServiceAsync' instead",null,"sap.ushell.Container");const e=sap.ui.requireSync(a.replace(/[.]/g,"/"));return f(e)}if(!B.containsKey(l)){const e=new Promise((e,t)=>{sap.ui.require([a.replace(/[.]/g,"/")],t=>{e(f(t,true))},t)});B.put(l,e);return e}return B.get(l)}if(r){return Promise.resolve(Y.get(l))}return Y.get(l)};this._getServiceAsync=function(e,t){const n={};function r(n){if(!n){throw new Error("Missing system")}const r=O(e,n,t);R.addRemoteSystem(n);return m.toDeferred(r)}if(!e){throw new Error("Missing service name")}if(e.indexOf(".")>=0){throw new Error("Unsupported service name")}const i=T(e);const o=i.module||`sap.ushell.services.${e}`;const s=`${o}/${t||""}`;const a={config:i.config||{}};function l(e,i){n.createAdapter=r;return new e(i,n,t,a)}function u(r){let i;if(Y.containsKey(s)){i=Y.get(s)}else if(r.hasNoAdapter){i=new r(n,t,a)}else{const n=O(e,z.getSystem(),t,true,r.useConfiguredAdapterOnly);return n.then(e=>{const t=l(r,e);Y.put(s,t);return t})}Y.put(s,i);return Promise.resolve(i)}if(!Y.containsKey(s)){if(!B.containsKey(s)){const e=new Promise((e,t)=>{sap.ui.require([o.replace(/[.]/g,"/")],t=>{e(u(t))},t)});B.put(s,e);return e}return B.get(s)}return Promise.resolve(Y.get(s))};function J(){for(let e=V.length-1;e>=0;e-=1){const t=V.key(e);if(t.indexOf($)===0){try{const e=t.substring($.length);const n=JSON.parse(V.getItem(t));k[e]=new h(n)}catch{V.removeItem(t)}}}return k}function X(){if(typeof OData==="undefined"){return}function e(e,n,r){t.warning(e,null,"sap.ushell.Container");if(r){setTimeout(r.bind(null,e),5e3)}return{abort:function(){return}}}OData.read=function(t,n,r){return e(`OData.read('${t&&t.Uri?t.requestUri:t}') disabled during logout processing`,n,r)};OData.request=function(t,n,r){return e(`OData.request('${t?t.requestUri:""}') disabled during logout processing`,n,r)}}this.addRemoteSystem=function(e){const n=e.getAlias();const r=k[n];if(this._isLocalSystem(e)){return}if(r){if(r.toString()===e.toString()){return}t.warning(`Replacing ${r} by ${e}`,null,"sap.ushell.Container")}else{t.debug(`Added ${e}`,null,"sap.ushell.Container")}k[n]=e;m.localStorageSetItem($+n,e)};this._isLocalSystem=function(e){const t=e.getAlias();if(t&&t.toUpperCase()==="LOCAL"){return true}const n=new c(m.getLocationHref());const r=this.getLogonSystem().getClient()||"";if(e.getBaseUrl()===n.origin()&&e.getClient()===r){return true}return false};this.addRemoteSystemForServiceUrl=function(e){const t={baseUrl:";o="};if(!e||e.charAt(0)!=="/"||e.indexOf("//")===0){return}const n=/^[^?]*;o=([^/;?]*)/.exec(e);if(n&&n.length>=2){t.alias=n[1]}e=e.replace(/;[^/?]*/g,"");if(/^\/sap\/(bi|hana|hba)\//.test(e)){t.platform="hana";t.alias=t.alias||"hana"}else if(/^\/sap\/opu\//.test(e)){t.platform="abap"}if(t.alias&&t.platform){this.addRemoteSystem(new h(t))}};this.attachLogoutEvent=function(t,n){let r=false;if(n===true){e(typeof t==="function","Container.attachLogoutEvent: fnFunction must be a function");for(let e=0;e<E.length;e++){if(E[e]===t){r=true;break}}if(!r){E.push(t)}}else{l.attachEvent("Logout",t)}};this.detachLogoutEvent=function(e){l.detachEvent("Logout",e);for(let t=0;t<E.length;t++){if(E[t]===e){E.splice(t,1);break}}};this.attachRendererCreatedEvent=function(e){l.attachEvent("rendererCreated",e)};this.detachRendererCreatedEvent=function(e){l.detachEvent("rendererCreated",e)};this.defaultLogout=function(){return this.callRegisteredLogoutHandlers().then(async()=>{async function e(){const e=new w;const t=[];if(E.length>0){for(let e=0;e<E.length;e++){t.push(E[e]())}Promise.all(t).then(e.resolve);setTimeout(e.resolve,4e3)}else{e.resolve()}return e.promise.then(()=>{if(l.fireEvent("Logout",true)){return}return m.awaitTimeout(1e3)}).then(()=>m.promisify(z.logout(true)))}async function n(){const n=[];if(q){window.removeEventListener("storage",q)}m.localStorageSetItem(G,"pending");H._suppressOData();const r=H._getRemoteSystems();Object.keys(r).forEach(e=>{try{n.push(m.promisify(O("Container",r[e]).logout(false)))}catch(n){t.warning(`Could not create adapter for ${e}`,n,"sap.ushell.Container")}V.removeItem($+e)});return Promise.allSettled(n).then(e).catch(()=>{}).then(()=>{V.removeItem(G)})}if(typeof z.addFurtherRemoteSystems==="function"){await m.promisify(z.addFurtherRemoteSystems()).catch(()=>{})}return n()})};this.logout=function(){return m.toDeferred(this.defaultLogout())};this.registerLogout=function(e){if(typeof e!=="function"){t.error("Container.registerLogout - Invalid logout handler function.");return false}if(F.includes(e)){t.warning("Container.registerLogout - This logout handler is already registered. Ignoring.");return false}F.push(e);return true};this.deRegisterLogout=function(e){const n=F.indexOf(e);if(n===-1){t.error("Container.deRegisterLogout - Attempted to de-register a logout handler that was not registered.");return false}F.splice(n,1);return true};this.isLogoutRegistered=function(e){return F.includes(e)};this.callRegisteredLogoutHandlers=async function(){if(F.length>0){for(const e of F){try{await m.promisify(e())}catch(e){t.error("Error executing logout handler:",e)}}}};this.setLogonFrameProvider=function(e){if(this.oFrameLogonManager){this.oFrameLogonManager.logonFrameProvider=e}};this.setXhrLogonTimeout=function(e,t){if(this.oFrameLogonManager){this.oFrameLogonManager.setTimeout(e,t)}};this.getFLPConfig=function(){const e=new Promise((e,t)=>{const n={URL:this.getFLPUrl()};if(A.CDMPromise){A.CDMPromise.then(t=>{t.getSiteWithoutPersonalization().then(t=>{n.scopeId=t.site.identification.id;e(n)})})}else{e(n)}});return e};this.getFLPUrl=function(e){const t=m.getLocationHref();const n=t.indexOf(y.getShellHash(t));if(n===-1||e===true){return t}return t.substr(0,n-1)};this.getFLPUrlAsync=function(e){return m.toDeferred(H.getFLPUrl(e))};this.inAppRuntime=function(){return false};this.runningInIframe=this.inAppRuntime;this._getAdapter=function(){return z};this.getFLPPlatform=function(e){if(e===true){return b.flpPlatform}return Promise.resolve(b.flpPlatform)};this._closeWindow=M;this._redirectWindow=U;this._getRemoteSystems=J;this._suppressOData=X;a.getInstance().subscribe("sap.ushell.Container","addRemoteSystemForServiceUrl",(e,t,n)=>{H.addRemoteSystemForServiceUrl(n)});this._init=function(e,i){const o=new Promise(o=>{f.init();b=r({},window["sap-ushell-config"]);I=i;if(typeof window["sap.ushell.bootstrap.callback"]==="function"){setTimeout(window["sap.ushell.bootstrap.callback"])}_(["Personalization","URLParsing","CrossApplicationNavigation"],true);_(["Configuration"],false);const s=new h({alias:"",platform:b.platform||e});function a(e){const t=e[0];const r=e[1];const i=r?r.getPlugins():jQuery.when({});i.then(e=>{const r=n({},b.bootstrapPlugins,e);t.registerPlugins(r)})}function l(){if(m.hasFLPReady2NotificationCapability()){sap.ui.require(["sap/ushell/NWBCInterface"],e=>{m.getPrivateEpcm().doEventFlpReady2(e)})}else if(m.hasFLPReadyNotificationCapability()){m.getPrivateEpcm().doEventFlpReady()}}function u(e){if(e.last("/core/darkMode/enabled")){R.getServiceAsync("DarkModeSupport").then(e=>{if(e&&e.setup){e.setup()}})}}function c(e){const t=!!new URLSearchParams(window.location.search).get("sap-ui-xx-ushell-UITraceEnabled");if(e.last("/core/uiTracer/enabled")||t){R.getServiceAsync("UITracer")}}function d(){l();sap.ui.require(["sap/ushell/Config"],e=>{u(e);c(e)})}O("Container",s,null,true).then(e=>{z=e;return z.load()}).then(()=>{function e(){const e=window["sap-ushell-config"];if(!e||!e.services){return false}const t=e.services.PluginManager;const n=t&&t.config;return n&&n.loadPluginsFromSite}const n=[this.getServiceAsync("PluginManager")];if(e()){A.CDMPromise=this.getServiceAsync("CommonDataModel");n.push(A.CDMPromise)}Promise.all(n).then(e=>{a(e)}).then(d);const r=[];if(b.preloadServices!==undefined&&Array.isArray(b.preloadServices)){b.preloadServices.forEach(e=>{r.push(this.getServiceAsync(e))});t.error("Ushell Config's preloadServices should not be used!")}const i=this.getServiceAsync("ShellNavigationInternal").then(e=>{this._oShellNavigationInternal=e});r.push(i);Promise.all(r).then(()=>{o(z)})})});return o};this._getFunctionsForUnitTest=function(){return{createAdapter:O}};this.resetServices=function(){Y=new m.Map;B=new m.Map};this.reset=function(){this.resetServices();V=m.getLocalStorage();d=false;g=[];N={};this.fnAsyncDirtyStateProvider=undefined;K=false;W=new w}}R=new $;sap.ushell.bootstrap=function(e,n){if(!window["sap-ushell-config-migration"]){if(e==="local"){t.error("Deprecated usage of the 'local' platform! Please replace it with the 'sandbox' scenario.",null,"sap.ushell.bootstrap")}else{t.error(`Deprecated API call of sap.ushell.bootstrap. Please adapt the platform '${e}' accordingly.`,null,"sap.ushell.bootstrap")}d.migrateV2ServiceConfig(window["sap-ushell-config"])}const r=R.init(e,n);return m.toDeferred(r)};return R});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/EventHub", ["sap/base/Log"],e=>{"use strict";function n(){return{nextKey:0,objectToKey:new window.WeakMap,keyToObject:{}}}const t={pendingEvents:{},subscribers:{},dispatchOperations:{},store:n()};function r(n,t,r){e.error(n,t,"sap.ushell.EventHub");return}function o(e){const n=`An exception was raised while executing a registered callback on event '${e.eventName}'`;let t=`Data passed to the event were: '${e.eventData}'`;if(e.error.stack){t+=` Error details: ${e.error.stack}`}r(n,t,e.fnCausedBy)}function s(e,n,t){let r;try{r=n(t)}catch(r){o({eventName:e,eventData:t,fnCausedBy:n,error:r})}return r}function c(e,n){if(e.store.objectToKey.has(n)){return e.store.objectToKey.get(n)}e.store.nextKey++;const t=`<${typeof n}>#${e.store.nextKey}`;e.store.keyToObject[t]=n;e.store.objectToKey.set(n,t);return t}function i(e){if(typeof arguments[2]==="function"){return c(e,arguments[2])}return arguments[2]}function u(e,n){return e.store.keyToObject[n]}function a(e){if(typeof arguments[2]==="string"&&arguments[2].indexOf("<function")===0){return u(e,arguments[2])}return arguments[2]}function f(e,n,t){if(typeof n==="object"||typeof n==="function"){try{const r=[n,i.bind(null,e)];if(t){r.push(3)}return JSON.stringify.apply(JSON,r)}catch(e){r("serialize failed:",e,f)}}return n}function l(e,n){try{return JSON.parse(n,a.bind(null,e))}catch(e){return n}}function p(e,n,t){if(!e.subscribers[n]){e.subscribers[n]=[]}e.subscribers[n].push(t)}function h(e,n,t){e.subscribers[n]=(e.subscribers[n]||[]).map(e=>e.filter(e=>e.fn!==t)).filter(e=>e.length>0)}function d(){let e;const n=new Promise(n=>{e=n});const t={dispatching:n,cancelled:false,cancel:function(){t.cancelled=true},complete:function(){e()}};return t}function b(e,n,t,r){const o=l(e,e.pendingEvents[n]);return Promise.resolve().then(()=>{if(t.called&&r.offed){return false}t.called=true;const c=r.offed;s(n,t.fn,o);const i=r.offed;if(i){h(e,n,t.fn)}return!c&&i})}function y(e,n,t,r,o){const s=t.length;const c=t.slice(o);return c.reduce((o,s)=>o.then(o=>{if(r.cancelled){if(o){h(e,n,s.fn)}return o}return b(e,n,s,t).then(e=>{if(e){r.cancelled=true}return e})}),Promise.resolve(false)).then(o=>{if(!o&&s<t.length){return y(e,n,t,r,s)}return o})}function v(e,n){if(!e.subscribers.hasOwnProperty(n)){return null}const t=d();const r=e.subscribers[n];const o=r.map(r=>y(e,n,r,t,0));Promise.all(o).finally(t.complete);return t}function m(e,n,t){return function(){t.forEach(t=>{h(e,n,t.fn)});t.offed=true;return{off:m(e,n,[])}}}function g(e,n,t){return function(r){const o={fn:r,called:false};t.push(o);if(e.pendingEvents.hasOwnProperty(n)){const r=e.dispatchOperations[n];if(!r){b(e,n,o,t)}else{r.dispatching.then(()=>{if(!o.called){b(e,n,o,t)}})}}return{do:g(e,n,t),off:m(e,n,t)}}}function O(e,n){const t=[];p(e,n,t);return{do:g(e,n,t),off:m(e,n,t)}}function w(e,n){const t=O(e,n);t.off();return t}function j(e,n,t,r){const o=f(e,t);if(!r&&e.pendingEvents.hasOwnProperty(n)&&e.pendingEvents[n]===o){return this}e.pendingEvents[n]=o;const s=e.dispatchOperations[n];if(s){s.cancel()}const c=v(e,n);e.dispatchOperations[n]=c;return this}function P(e,n){return l(e,e.pendingEvents[n])}function $(){const e=Array.prototype.slice.call(arguments);e.shift();let n=0;const t=new Array(e.length).join(",").split(",").map(()=>1);const r=[];const o={do:function(s){e.forEach((o,c)=>{o.do(((o,c)=>{r[o]=c;n+=t[o];t[o]=0;if(n===e.length){s.apply(null,r)}}).bind(null,c))});return{off:o.off}},off:function(){const n=e.reduce((e,n)=>n.off(),()=>{});return{off:n}}};return o}function E(e,n){const t=e.dispatchOperations[n];return t?t.dispatching:Promise.resolve()}function k(e){const t={};t.emit=j.bind(t,e);t.on=O.bind(null,e);t.once=w.bind(null,e);t.last=P.bind(null,e);t.join=$.bind(null,e);t.wait=E.bind(null,e);t._reset=function(e){e.pendingEvents={};e.subscribers={};e.dispatchOperations={};e.store=n()}.bind(null,e);return t}function x(e){const t={pendingEvents:{},subscribers:{},dispatchOperations:{},store:n()};const r=k(t);const o=l(t,f(t,e));function s(e){const n=e.charAt(0);if(n.match(/[a-zA-Z0-9]/)){throw new Error(`Invalid path separator '${n}'. Please ensure path starts with a non alphanumeric character`)}const t=e.split(n);t.shift();return t}function c(e,n){let t=e;let r="";if(arguments.length===2){t=n;r=e}return`${r}/${t.join("/")}`}function i(e){return Object.prototype.toString.apply(e)==="[object Array]"}function u(e){return Object(e)!==e}function a(e){return(i(e)?e.length:Object.keys(e).length)===0}function p(e,n,r,o){let s="";let a=e;const l=[];r.reduce((e,n,p)=>{s=c(s,[n]);a=a[n];if(p===r.length-1){if(!u(o)&&!u(a)&&Object.keys(a).length>0){let e;const n=Object.keys(a).reduce((e,n)=>{e[n]=true;return e},{});const r=Object.keys(o).some(t=>{e=t;const r=n.hasOwnProperty(t);delete n[t];const o=!u(a[t])&&Object.keys(a[t]).length>0;return!r||o});const i=Object.keys(n).length>0;const p=r||i;if(p){const c=r?`One or more values are not defined in the channel contract or are defined as a non-empty object/array, for example, check '${e}'.`:`Some keys are missing in the event data: ${Object.keys(n).join(", ")}.`;throw new Error(`Cannot write value '${f(t,o,true)}' to path '${s}'. ${c} All childrens in the value must appear in the channel contract and must have a simple value or should be defined as an empty complex value`)}const h=Object.keys(o).map(e=>({serializedPath:c(s,[e]),value:o[e]}));Array.prototype.push.apply(l,h)}e[n]=o}else if(!e.hasOwnProperty(n)){e[n]=i(a)?[]:{}}l.push({serializedPath:s,value:e[n]});return e[n]},n);return l}function h(e,n){let r="";const o=n.reduce((e,n)=>{r+=`/${n}`;if(i(e)&&!n.match(/^[0-9]+$/)){throw new Error(`Invalid array index '${n}' provided in path '${r}'`)}if(!e.hasOwnProperty(n)){throw new Error(`The item '${n}' from path ${r} cannot be accessed in the object: ${f(t,e)}`)}return e[n]},e);return o}function d(e,n,t){return n.reduce((e,r,o)=>{const s=o===n.length-1;if(e.hasOwnProperty(r)){return e[r]}return s?t:{}},e)}function b(e,n){n.pop();let t=e;const r=[];return n.reduce((e,n)=>{t=t[n];r.push(n);e.push({serializedPath:c(r),value:t});return e},[])}function y(e){return e.map(e=>{const n=e.serializedPath;if(!t.subscribers.hasOwnProperty(n)||t.subscribers[n].length===0){return null}return{path:n,value:e.value}}).filter(e=>!!e)}function v(n,t){const c=s(n);h(e,c);const i=p(e,o,c,t);i.forEach(e=>{r.emit(e.serializedPath,e.value)})}function m(n){const t=s(n);const r=h(e,t);return d(o,t,r)}function g(n){const o=s(n);const i=c(o);let p=r.last(i);const d=t.pendingEvents.hasOwnProperty(i);if(d){return r.on(i)}p=h(e,o);if(typeof p!=="undefined"&&(u(p)||!a(l(r,f(r,p))))){r.emit(i,p)}return r.on(i)}function O(e){const n=g(e);n.off();return n}function w(e){const n=s(e);const t=b(o,n);const c=y(t).map(e=>r.wait(e.path,e.value));return Promise.all(c.concat(r.wait(e)))}return{emit:v,on:g,once:O,last:m,wait:w,join:$.bind(null,r)}}const A=k(t);A.createChannel=x.bind(null);return A});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Fiori20Adapter", ["sap/ui/base/Object","sap/ui/core/Component","sap/ui/core/UIComponent","sap/ui/core/ComponentHooks","sap/ui/model/resource/ResourceModel","sap/m/Fiori20Adapter","sap/ui/thirdparty/hasher","sap/base/util/extend","sap/ushell/utils/CallbackQueue"],(e,t,i,n,o,r,s,a,c)=>{"use strict";n.onUIComponentInstanceDestroy.register(e=>{if(e._fioriAdapter){e._fioriAdapter.destroy()}if(e._oShellUIService){e._oShellUIService.destroy()}});const h=e.extend("AppInfo",{constructor:function(t){e.call(this);this._oComponent=t},getDefaultTitle:async function(){const e=this._oComponent.getManifestEntry("sap.app");if(e&&e.title){const t=e.title;if(this._isLocalizationKey(t)){const i=e.i18n||"i18n/i18n.properties";return this._getLocalized(t,i)}return t}const t=this._oComponent.getManifestEntry("sap.ui5");if(t?.config?.resourceBundle&&t.config.titleResource){const e=t.config.titleResource;const i=t.config.resourceBundle;return this._getLocalized(e,i)}},_getLocalized:async function(e,t){const i=new o({async:true,bundleUrl:`${sap.ui.require.toUrl(this._oComponent.getMetadata().getComponentName())}/${t}`});const n=await i.getResourceBundle();return n.getText(e.replace(/^{{/,"").replace(/}}$/,""))},_isLocalizationKey:function(e){return e.indexOf("{{")===0&&e.indexOf("}}")>0}});const l=e.extend("HeaderInfo",{constructor:function(t,i,n){e.call(this);this._oConfig=i;this._oAppInfo=n;this._oShellUIService=t._oShellUIService;this._aHierarchy=[];this._pInit=this._oAppInfo.getDefaultTitle().then(e=>{this._sDefaultTitle=e})},registerView:async function(e,t){if(this._oConfig.bMoveTitle===true){if(!e.oTitleInfo&&e.oSubTitleInfo){e.oTitleInfo=e.oSubTitleInfo}this._oCurrentViewInfo=e;const i=e.oTitleInfo?e.oTitleInfo.text:undefined;if(i!==this._oShellUIService.getTitle()){try{this._oShellUIService.setTitle(i)}catch{}}await this._updateHierarchy(e,t)}this._setBackNavigation(e.oBackButton,e.oAdaptOptions)},_setBackNavigation:function(e,t){if(t&&t.bHideBackButton===false){return}let i;if(e){i=e.firePress.bind(e)}this._oShellUIService.setBackNavigation(i)},_updateHierarchy:async function(e,t){if(this._oConfig.bHierarchy===false){return}await this._pInit;if(!e){return}let i=true;for(let n=this._aHierarchy.length-1;n>=0;n--){let o=this._aHierarchy[n];const r=o.id===e.sViewId;const s=o.intent===t;if(r||s){i=false;o=this._updateHierarchyEntry(o,e);this._aHierarchy[n]=o;this._aHierarchy=this._aHierarchy.slice(0,n+1);if(r){o.intent=t}break}}if(i){const i=this._createHierarchyEntry(e,t);this._aHierarchy.push(i)}const n=[];for(let e=this._aHierarchy.length-2;e>=0;e--){n.push(this._aHierarchy[e])}try{this._oShellUIService.setHierarchy(this._deleteUndefinedProperties(n))}catch{}},_createHierarchyEntry:function(e,t){return{id:e.sViewId,title:e.oTitleInfo?e.oTitleInfo.text:this._sDefaultTitle,subtitle:e.oSubTitleInfo?e.oSubTitleInfo.text:undefined,intent:t}},_updateHierarchyEntry:function(e,t){e.id=t.sViewId;e.title=t.oTitleInfo?t.oTitleInfo.text:this._sDefaultTitle;e.subtitle=t.oSubTitleInfo?t.oSubTitleInfo.text:undefined;return e},_deleteUndefinedProperties:function(e){e.forEach(e=>{for(const t in e){if(e.hasOwnProperty(t)&&!e[t]&&t!=="title"){delete e[t]}}});return e}});const f=e.extend("sap.ushell.Fiori20Adapter",{constructor:function(t,i){e.call(this);this._oComponent=t;this._oConfig=i;this._oHeaderInfo=new l(t,i,new h(t));if(r){r.attachViewChange(this._onViewChange,this)}this._oViewChangeQueue=new c},init:function(){if(!r){return}const e=a({},this._oConfig);r.traverse(this._oComponent.getAggregation("rootControl"),e)},destroy:function(){if(r){r.detachViewChange(this._onViewChange,this)}},_onViewChange:async function(e){const t=`#${s.getHash()}`;await this._oViewChangeQueue.push(async()=>{await this._oHeaderInfo.registerView(e.getParameters(),t)})}});f.applyTo=function(e,n,o,r){let s=e instanceof i?e:t.getOwnerComponentFor(e);if(!s){s=n}if(!s){return}s._oShellUIService=r;if(!s._fioriAdapter){s._fioriAdapter=new f(s,o);s._fioriAdapter.init()}};return f});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Fiori20AdapterTest", ["sap/base/Log","sap/base/util/isEmptyObject","sap/base/util/Version","sap/ui/core/Configuration","sap/ui/core/library","sap/ui/core/service/ServiceFactoryRegistry","sap/ui/core/UIComponent","sap/ui/core/ComponentHooks","sap/ushell/Fiori20Adapter"],(e,i,t,n,s,a,r,o,u)=>{"use strict";const c={I_DEFAULT_SEARCH_DEPTH:5,B_DEFAULT_LATE_ADAPTATION:false,S_FIORI20ADAPTER_URL_PARAM_NAME:"sap-ui-xx-fiori2Adaptation",S_FIORI20ADAPTER_METADATA_PARAM_NAME:"sapFiori2Adaptation",A_ALLOWLIST:["fin.*","ssuite.fin.*","fscm.*","sap.fin.*","cus.sd.*","cus.o2c.*","sap.apf.*","tl.ibp.*","ux.fnd.apf.o2c.*","fnd.apf.*","fnd.pob.o2c.*","fcg.sll.*","ux.fnd.generic-apf-application.*","hpa.cei.*","query.viewbrowser.s1.*","ssuite.vdm.viewbrowser.s1.*","ssuite.smartbusiness.kpi.s1.*","ssuite.smartbusiness.evaluation.s1.*","ssuite.smartbusiness.association.s1.*","ssuite.smartbusiness.drilldown.s1.*","ssuite.smartbusiness.tile.s1.*","ssuite.smartbusiness.tile.ce.s1.*","ssuite.smartbusiness.workspace.s1.*","ssuite.smartbusiness.runtime.s1.*","gs.fin.customersummarycn.display.*","gs.fin.financialstatement.structure.manage.*","gs.fin.financialstatement.display.*","uipsm.*","publicservices.her.*"],getConfiguration:function(e){let i;i=this._getURLParamConfiguration();if(!i){i=this._getMetadataConfiguration(e)}if(!i){i=this._getDefaultConfiguration(e)}i.iSearchDepth=i.iSearchDepth||c.I_DEFAULT_SEARCH_DEPTH;if(typeof i.iSearchDepth==="string"&&!isNaN(i.iSearchDepth)){i.iSearchDepth=parseInt(i.iSearchDepth,10)}return i},_getURLParamConfiguration:function(){if(!n||typeof n.getFiori2Adaptation!=="function"){return}const e=new URLSearchParams(window.location.search);if(!e.get(c.S_FIORI20ADAPTER_URL_PARAM_NAME)){return}const i=n.getFiori2Adaptation();let t;let s;if(typeof i==="boolean"){t=i}else if(i&&i.length>=1){s=i}if(!s&&t===undefined){return}return{bStylePage:s?s.indexOf("style")>-1:t,bMoveTitle:s?s.indexOf("title")>-1:t,bHideBackButton:s?s.indexOf("back")>-1:t,bCollapseHeader:s?s.indexOf("collapse")>-1:t,bHierarchy:s?s.indexOf("hierarchy")>-1:t}},_getMetadataConfiguration:function(e){const t=e.getManifestEntry("/sap.ui5/config")||{};const n=t[c.S_FIORI20ADAPTER_METADATA_PARAM_NAME];let s;let a;if(typeof n==="boolean"){s=n}else if(typeof n==="object"&&!i(n)){a=n}if(!a&&s===undefined){return}return{bStylePage:a?this._isSgnTrue(a.style):s,bMoveTitle:a?this._isSgnTrue(a.title):s,bHideBackButton:a?this._isSgnTrue(a.back):s,bCollapseHeader:a?this._isSgnTrue(a.collapse):s,bHierarchy:a?this._isSgnTrue(a.hierarchy):s,bLateAdaptation:a?this._isSgnTrue(a.lateAdaptation):c.B_DEFAULT_LATE_ADAPTATION}},_getDefaultConfiguration:function(e){const i=this._hasMinVersionSmallerThan(e,"1.42")&&this._isAllowed(e);return{bStylePage:i,bMoveTitle:i,bHideBackButton:i,bCollapseHeader:i,bHierarchy:i}},_isAllowed:function(e){const i=e.getMetadata().getName();for(let e=0;e<c.A_ALLOWLIST.length;e++){const t=c.A_ALLOWLIST[e].substring(0,c.A_ALLOWLIST[e].length-2);if(this._isPrefixedString(i,t)){return true}}return false},_isAdaptationRequired:function(e){for(const i in e){if(e[i]===true){return true}}return false},_isPrefixedString:function(e,i){return e&&i&&e.substring(0,i.length)===i},_hasMinVersionSmallerThan:function(e,i){const n=e.getManifestEntry("sap.ui5");let s=true;if(n&&n.dependencies&&n.dependencies.minUI5Version){const e=new t(n.dependencies.minUI5Version);s=e.compareTo(new t(i))<0}return s},_isSgnTrue:function(e){return e===true||e==="true"}};o.onUIComponentInstanceInitialized.register(i=>{const t=i.getAggregation("rootControl");if(!t||t.getId()==="navContainerFlp"||i.getId().indexOf("application-")!==0){return}const n=c.getConfiguration(i);if(!c._isAdaptationRequired(n)){return}if(!s.service||!a||typeof a.get!=="function"){e.warning("Fiori20Adapter not loaded because static FactoryRegistry is not available","sap.ui.core.service.ServiceFactoryRegistry should be a function","sap.ushell.Fiori20AdapterTest");return}const r={onBeforeRendering:function(){t.removeEventDelegate(r);const s=a.get("sap.ushell.ui5service.ShellUIService");const o=s&&s.createInstance({scopeObject:i,scopeType:"component"});if(!s||!o){e.warning("Fiori20Adapter not loaded because ShellUIService is not available","sap.ushell.ui5service.ShellUIService should be declared by configuration","sap.ushell.Fiori20AdapterTest");return}o.then(e=>u.applyTo(t,i,n,e)).catch(i=>{e.warning("Fiori20Adapter not loaded as ShellUIService is not available",i,"sap.ushell.Fiori20AdapterTest")})}};t.addEventDelegate(r)})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/System", [],()=>{"use strict";function t(t){this._oData=t}t.prototype.getAlias=function(){return this._oData.alias};t.prototype.getBaseUrl=function(){return this._oData.baseUrl};t.prototype.getClient=function(){return this._oData.client};t.prototype.getClientRole=function(){return this._oData.clientRole};t.prototype.getName=function(){return this._oData.system};t.prototype.getPlatform=function(){return this._oData.platform};t.prototype.getProductVersion=function(){return this._oData.productVersion};t.prototype.getProductName=function(){return this._oData.productName};t.prototype.getSystemName=function(){return this._oData.systemName};t.prototype.getSystemRole=function(){return this._oData.systemRole};t.prototype.getTenantRole=function(){return this._oData.tenantRole};t.prototype.isTrial=function(){return!!this._oData.isTrialSystem};t.prototype.getSysInfoBar=function(){return!!this._oData.sysInfoBar};t.prototype.getSysInfoBarColor=function(){return this._oData.sysInfoBarColor};t.prototype.getSysInfoBarMainText=function(){return this._oData.sysInfoBarMainText};t.prototype.getSysInfoBarSecondaryText=function(){return this._oData.sysInfoBarSecondaryText};t.prototype.getSysInfoBarIcon=function(){return this._oData.sysInfoBarIcon};t.prototype.adjustUrl=function(t){if(t.indexOf("/")!==0||t==="/"){throw new Error(`Invalid URL: ${t}`)}if(this._oData.baseUrl===";o="){if(this._oData.alias){t=`${t};o=${this._oData.alias}`}}else if(this._oData.baseUrl){t=this._oData.baseUrl.replace(/\/$/,"")+t}if(this._oData.client){t+=`${t.indexOf("?")>=0?"&":"?"}sap-client=${this._oData.client}`}return t};t.prototype.toString=function(){return JSON.stringify(this._oData)};return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/TechnicalParameters", ["sap/ushell/utils/type"],e=>{"use strict";async function t(e){throw new Error(`${e} is reserved for shell internal usage only`)}function r(e,t){if(t){const r=t.getComponentData()||{};const n=r.technicalParameters||{};return n[e]}return undefined}function n(t,r){let n=r.getManifestEntry(t);if(n&&!e.isArray(n)){n=[n]}return n}function a(e,t){const r=t.getReservedParameters();return r&&r[e]}const i={"sap-navigation-scope":{injectFrom:"inboundParameter",sticky:true,stickyName:"sap-navigation-scope-filter",isIntentParameter:true,getValue:function(e,t,n,i){return new Promise((s,u)=>{if(i==="UI5"){s(r(e,t))}else{s(a(e,n))}})}},"sap-fiori-id":{injectFrom:"startupParameter",isIntentParameter:true,getValue:function(e,t,i,s){return new Promise((u,o)=>{if(s==="UI5"){u(r(e,t)||n("/sap.fiori/registrationIds",t))}else{u(a(e,i))}})}},"sap-ui-fl-max-layer":{injectFrom:"startupParameter",isIntentParameter:true,getValue:function(e,t){return Promise.resolve().then(r.bind(null,e,t))}},"sap-ui-fl-control-variant-id":{injectFrom:"startupParameter",isIntentParameter:false,getValue:function(e,t){return Promise.resolve().then(r.bind(null,e,t))}},"sap-ui-fl-version":{injectFrom:"startupParameter",isIntentParameter:true,getValue:function(e,t){return Promise.resolve().then(r.bind(null,e,t))}},"sap-ui-app-id-hint":{injectFrom:"startupParameter",isIntentParameter:true,getValue:t},"sap-ach":{injectFrom:"startupParameter",isIntentParameter:true,getValue:function(e,t,i,s){return new Promise((u,o)=>{if(s==="UI5"){u(r(e,t)||n("/sap.app/ach",t))}else{u(a(e,i))}})}},"sap-prelaunch-operations":{injectFrom:"inboundParameter",isIntentParameter:true,getValue:t},"sap-app-origin-hint":{injectFrom:"startupParameter",isIntentParameter:false,getValue:t},"sap-app-origin":{injectFrom:"startupParameter",isIntentParameter:false,getValue:t}};async function s(e,t,r,n){if(!i[e]){throw new Error(`${e} is not a known technical parameter`)}return i[e].getValue(e,t,r,n)}function u(e){if(!e){e={}}return Object.keys(i).filter(t=>{const r=i[t];return Object.keys(e).every(t=>{const n=e[t];const a=r.hasOwnProperty(t);if(a){return r[t]===n}return false})}).map(e=>Object.keys(i[e]).reduce((t,r)=>{t[r]=i[e][r];return t},{name:e}))}function o(){return Object.keys(i)}function c(e){return i.hasOwnProperty(e)}function m(e,t,n,i){if(i==="UI5"){return r(e,t)}return a(e,n)}return{getParameterValue:s,getParameterValueSync:m,getParameters:u,getParameterNames:o,isTechnicalParameter:c}},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/UI5ComponentType", [],()=>{"use strict";return{Application:"Application",Plugin:"Plugin",Visualization:"Visualization"}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Ui5NativeServiceFactory", ["sap/ui/core/service/ServiceFactory"],e=>{"use strict";const r={_servicePromises:{},createServiceFactory:function(r){const i=this._servicePromises;const s=e.extend(`sap.ushell.ui5Service.${r}Factory`,{createInstance:function(){let e=i[r];if(!e){e=new Promise((e,i)=>{sap.ui.require([`sap/ushell/ui5service/${r}`],s=>{if(!s){i(new Error(`Failed to load UI5 service ${r}`))}const c=new s;e(c)},()=>{i(new Error(`Failed to load UI5 service ${r}`))})});i[r]=e}return e}});return new s}};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Ui5ServiceFactory", ["sap/ui/core/service/ServiceFactory","sap/ui/core/service/Service","sap/base/Log","sap/base/util/ObjectPath","sap/base/util/isPlainObject"],(e,t,n,r,c)=>{"use strict";let o;function i(e){o=e}function s(){return o}function u(e){return!!/^[^_].+/.test(e)}function a(e){let t;const n=[];for(t in e){n.push(t)}return n}function f(e,t,r){const c=t[r];t[r]=function(){let o;const i=s();if(!e||e.scopeObject.getId()!==i){n.warning(`Call to ${r} is not allowed`,`This may be caused by an app component other than the active '${i}' that tries to call the method`,"sap.ushell.Ui5ServiceFactory");return undefined}const u=new Array(arguments.length);for(o=0;o<u.length;++o){u[o]=arguments[o]}return c.apply(t,u)}}function p(e,t,n,r){a(e).filter(u).filter(n=>{const r=e[n];t[n]=r;return typeof r==="function"}).forEach(c=>{t[c]=t[c].bind(e);if(r){f(n,t,c)}})}function l(e){if(typeof e==="undefined"){return true}if(!c(e)){return false}if(!e.scopeType){return false}const t=r.get("scopeObject.getId",e);if(typeof t!=="function"){return false}return true}function h(e,t,n){const r={};if(n){n=typeof e==="object"}p(t,r,e,n);if(n&&e.scopeType==="component"&&e.scopeObject&&e.scopeObject.getId){i(e.scopeObject.getId())}return r}function y(e){return new Promise((t,n)=>{sap.ui.require(["sap/ushell/Container"],n=>{n.getServiceAsync(e).then(e=>{t(e)})})})}function b(r,c){const o=e.extend(`sap.ushell.ui5service.${r}Factory`,{createInstance:function(e){return new Promise((o,i)=>{y(r).then(s=>{if(!l(e)){n.error(`Invalid context for ${r} service interface`,"The context must be empty or an object like { scopeType: ..., scopeObject: ... }","sap.ushell.Ui5ServiceFactory");i(new Error(`Invalid Context for ${r} service`));return}const u=h(e,s,c);const a=t.extend(`sap.ushell.ui5service.${r}`,{getInterface:function(){return u}});const f=new a(e);o(f)}).catch(e=>{i(e)})})}});return new o}return{createServiceFactory:b}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/User", ["sap/base/Log","sap/base/i18n/Localization","sap/base/util/deepExtend","sap/ui/base/EventProvider","sap/ui/core/Locale","sap/ui/core/LocaleData","sap/ui/thirdparty/URI","sap/ushell/utils","sap/ui/core/Theming"],(e,t,n,i,o,r,s,a,h)=>{"use strict";function m(e){if(e===undefined){return undefined}return n({},e)}function u(e){let t;if(e.host&&typeof e.host==="function"&&e.host()){t=e.host();if(typeof e.protocol==="function"&&e.protocol()){t=`${e.protocol()}://${t}`}return t}return""}function c(e){return e.indexOf("sap_")===0}function g(m={}){let l=[];let p;let f;const d=new i;const T={};m.userProfile?.forEach?.(e=>{if(e.id&&e.editState){T[e.id]=e.editState}});let y=m.userProfile?.find?.(e=>e.id==="THEME_SET")?.value||"";this.getEditState=function(e){return T[e]};this.getEmail=function(){return m.email};this.getFirstName=function(){return m.firstName};this.getFullName=function(){return m.fullName};this.getTimeZone=function(){return m.timeZone};this.getLanguageAndRegionSettingsEntry=async()=>{if(m.getLanguageAndRegionSettingsEntry){const e=await m.getLanguageAndRegionSettingsEntry();return e}const[e]=await a.requireAsync(["sap/ushell/components/shell/Settings/userLanguageRegion/UserLanguageRegionEntry"]);return e};this.getInitials=function(){const e=m.fullName||"";let t="";let n=true;for(let i=0,o=e.length;i<o;++i){if(e[i]===" "){n=true}else if(n){n=false;t+=e[i]}}return t};this.getId=function(){return m.id};this.getLanguage=function(){return m.language};this.getLanguageBcp47=function(){return m.languageBcp47};this.getLanguageText=function(){const e=new o(t.getLanguageTag());const n=new r(e);const i=t.getLanguageTag().toString();return n.getLanguageName(i)||this.getLanguage()};this.getLastName=function(){return m.lastName};this.getImage=function(){return m.image};this.getCalendarWeekNumbering=function(){return m.calendarWeekNumbering||"Default"};this.setImage=function(e){m.image=e;d.fireEvent("onSetImage",e)};this.attachOnSetImage=function(e,t){d.attachEvent("onSetImage",e,t)};this.isJamActive=function(){return m.isJamActive===true};this.isLanguagePersonalized=function(){return m.isLanguagePersonalized===true};this.getTheme=function(e){if(e===g.prototype.constants.themeFormat.ORIGINAL_THEME){return f.originalTheme.theme}if(e===g.prototype.constants.themeFormat.THEME_NAME_PLUS_URL){return p.theme+(p.locationPath?`@${p.locationOrigin}${p.locationPath}`:"")}if(e===g.prototype.constants.themeFormat.NWBC){if(c(p.theme)){return p.theme}return this.getTheme(g.prototype.constants.themeFormat.THEME_NAME_PLUS_URL)}return p.theme};this.getThemeSet=function(){return y};this.getThemeRoot=function(e){if(m.ranges&&m.ranges.theme&&m.ranges.theme[e]&&m.ranges.theme[e].themeRoot){return m.ranges.theme[e].themeRoot}return""};this.addThemeRootForTheme=function(e){if(m.ranges.theme[e.id]){m.ranges.theme[e.id].themeRoot=e.root}else{m.ranges.theme[e.id].displayName="";m.ranges.theme[e.id].themeRoot=e.root}};this.setThemeSet=function(t){if(this.isSetThemePermitted()===false){const t="setThemeSet is not permitted";e.error(t);throw new Error(t)}if(t!==y){this.setChangedProperties({propertyName:"themeSet",name:"THEME_SET"},y,t);y=t}};this.setLanguage=function(e){if(e){this.setChangedProperties({propertyName:"language",name:"LANGUAGE"},m.language,e);m.language=e}};this.getAccessibilityMode=function(){return m.accessibility};this.setAccessibilityMode=function(t){if(this.isSetAccessibilityPermitted()===false){const t="setAccessibilityMode not permitted";e.error(t);throw new Error(t)}m.accessibility=t};this.isAdminUser=function(){return m.isAdminUser===true};this.isSetAccessibilityPermitted=function(){return m.setAccessibilityPermitted};this.isSetThemePermitted=function(){return m.setThemePermitted};this.getContentDensity=function(){return m.contentDensity};this.setContentDensity=function(t){if(this.isSetContentDensityPermitted()===false){const t="setContentDensity not permitted";e.error(t);throw new Error(t)}e.debug("[000] setContentDensity",t,"User");this.setChangedProperties({propertyName:"contentDensity",name:"CONTENT_DENSITY"},m.contentDensity,t);m.contentDensity=t};this.isSetContentDensityPermitted=function(){return m.setContentDensityPermitted};this.getChangedProperties=function(){e.debug("[000] user: getChangedProperties: aChangedProperties",JSON.stringify(l),"User");return n([],l)};this.setChangedProperties=function(t,n,i){e.debug("[000] setChangedProperties",[t.name,n,i],"User");l.push({propertyName:t.propertyName,name:t.name,oldValue:n,newValue:i})};this.resetChangedProperties=function(){e.debug("[000] resetChangedProperties","User");l=[]};this.resetChangedProperty=function(t){e.debug("[000] resetChangedProperty: sPropertyName:",t,"User");l=l.filter(e=>!(t===e.propertyName))};this.getTrackUsageAnalytics=function(){return m.trackUsageAnalytics};this.setTrackUsageAnalytics=function(e){this.setChangedProperties({propertyName:"trackUsageAnalytics",name:"TRACKING_USAGE_ANALYTICS"},m.trackUsageAnalytics,e);m.trackUsageAnalytics=e};this.setImageConsent=function(e){this.setChangedProperties({propertyName:"isImageConsent",name:"ISIMAGECONSENT"},m.isImageConsent,e);m.isImageConsent=e};this.getImageConsent=function(){return m.isImageConsent};this.getImportBookmarksFlag=function(){return m.importBookmarks||null};this.setImportBookmarksFlag=function(e){this.setChangedProperties({propertyName:"importBookmarks",name:"MYHOME_IMPORT_FROM_CLASSIC"},this.getImportBookmarksFlag()||"",e);m.importBookmarks=e};this.getShowMyHome=function(){return m.showMyHome!==false};this.setShowMyHome=function(e){e=!!e;this.setChangedProperties({propertyName:"showMyHome",name:"MYHOME_ENABLEMENT"},m.showMyHome,e);m.showMyHome=e};this.getDetectDarkMode=function(){return m.detectDarkMode!==false};this.setDetectDarkMode=function(e){e=!!e;this.setChangedProperties({propertyName:"detectDarkMode",name:"THEME_DARKMODE_AUTO_DETECTION"},m.detectDarkMode,e);m.detectDarkMode=e};const P={locationPathUi5:new s(sap.ui.require.toUrl("")).absoluteTo(document.location).pathname(),locationPathCustom:m.themeRoot||"",locationOrigin:u(new s(document.location))};if(!P.locationPathUi5){e.warning("User: Could not set UI5 location path")}if(!P.locationPathCustom){e.warning("User: Could not set location path for custom themes")}if(!P.locationOrigin){e.warning("User: Could not set front-end server location origin")}const E=m.bootTheme||{theme:"",root:""};p=this._amendTheme(E,P);f=p;this.setTheme=function(t){if(this.isSetThemePermitted()===false){const t="setTheme not permitted";e.error(t);throw new Error(t)}p=this._amendTheme({theme:t,root:this.getThemeRoot(t)},P);if(t!==f.originalTheme.theme){this.setChangedProperties({propertyName:"theme",name:"THEME"},f.originalTheme.theme,t);f=p}this.applyTheme(t)};this.applyTheme=function(e){const t=this._amendTheme({theme:e,root:this.getThemeRoot(e)},P);p=t;if(t.suppliedRoot){h.setThemeRoot(t.theme,`${t.suppliedRoot}/UI5/`)}else if(t.path){h.setThemeRoot(t.theme,`${t.path}/UI5/`)}h.setTheme(t.theme);sap.ui.require(["sap/ushell/appIntegration/PostMessageManager"],e=>{e.sendRequestToAllApplications("sap.ushell.appRuntime.themeChange",{currentThemeId:this.getTheme(g.prototype.constants.themeFormat.NWBC),themeServiceRoute:`${window.location.protocol}//${window.location.host}/comsapuitheming.runtime/themeroot/v1`},false)})}}g.prototype._amendTheme=function(e,t){if(!e||!e.theme||!t){return{originalTheme:{theme:"",root:""},theme:"",suppliedRoot:"",path:"",locationPath:"",locationOrigin:""}}function n(e,t){const n=new s(e);const i=u(n);return{locationOrigin:i||t.locationOrigin,locationPath:i?n.path():e}}const i={originalTheme:m(e)};let o;if(i.originalTheme.theme.indexOf("@")>0){const e=i.originalTheme.theme.split("@",2);i.theme=e[0];i.suppliedRoot=e[1];o=n(e[1],t);i.locationPath=o.locationPath;i.path=i.locationPath;i.locationOrigin=o.locationOrigin;return i}i.theme=i.originalTheme.theme;if(i.originalTheme.root){i.suppliedRoot=i.originalTheme.root;o=n(i.originalTheme.root,t);i.locationPath=o.locationPath;i.path=i.locationPath;i.locationOrigin=o.locationOrigin;return i}i.suppliedRoot="";if(c(i.theme)){i.locationOrigin=t.locationOrigin;i.locationPath=t.locationPathUi5;i.path="";return i}i.locationOrigin=t.locationOrigin;i.locationPath=t.locationPathCustom;i.path=i.locationPath;return i};g.prototype.constants={themeFormat:{ORIGINAL_THEME:"O",THEME_NAME_PLUS_URL:"N+U",NWBC:"NWBC"}};return g},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/ClientSideTargetResolutionAdapter", ["sap/base/util/Version","sap/ui/thirdparty/jquery","sap/base/util/deepExtend","sap/base/Log","sap/ushell/Container"],(e,jQuery,t,s,r)=>{"use strict";function i(i,o,n){this._oAdapterConfig=n&&n.config;let a="";if(r.isInitialized()){a=r.getLogonSystem().getProductName()||""}this._oLocalSystemAlias={http:{host:"",port:0,pathPrefix:"/sap/bc/"},https:{host:"",port:0,pathPrefix:"/sap/bc/"},rfc:{systemId:"",host:"",service:0,loginGroup:"",sncNameR3:"",sncQoPR3:""},id:"",label:"local",client:"",language:"",properties:{productName:a}};this.getInbounds=function(){const t=this;if(!this._getInboundsDeferred){this._getInboundsDeferred=new jQuery.Deferred;r.getServiceAsync("CommonDataModel").then(e=>e.getSiteWithoutPersonalization()).then(s=>{const r=s._version&&e(s._version).getMajor()===3?"sap/ushell/adapters/cdm/v3/utilsCdm":"sap/ushell/utils/utilsCdm";sap.ui.require([r],e=>{const r=e.formatSite(s)||[];t._getInboundsDeferred.resolve(r)})}).catch(e=>{t._getInboundsDeferred.reject(e)})}return this._getInboundsDeferred.promise()};this._createSIDMap=function(e){return Object.keys(e).sort().reduce((t,s)=>{const r=e[s];const i=`SID(${r.systemId}.${r.client})`;if(!t.hasOwnProperty(i)&&r.hasOwnProperty("systemId")&&r.hasOwnProperty("client")){t[i]=s}return t},{})};this._getSystemAliases=function(){const e=this;if(!this.oSystemAliasesDeferred){this.oSystemAliasesDeferred=new jQuery.Deferred;r.getServiceAsync("CommonDataModel").then(e=>e.getSiteWithoutPersonalization()).then(s=>{const r=t({},s.systemAliases||{});Object.keys(r).forEach(e=>{r[e].id=e});e.oSystemAliasesDeferred.resolve(r)}).catch(t=>{e.oSystemAliasesDeferred.reject(t)})}return this.oSystemAliasesDeferred.promise()};this.resolveSystemAlias=function(e){const r=new jQuery.Deferred;const i=this;this._getSystemAliases().done(o=>{let n;if(o.hasOwnProperty(e)){n=o[e];if(e===""){n.properties=t({},i._oLocalSystemAlias.properties,n.properties||{})}r.resolve(n);return}if(e===""){r.resolve(i._oLocalSystemAlias);return}e=e.toUpperCase(e);if(!i._oSIDMap){i._oSIDMap=i._createSIDMap(o)}if(i._oSIDMap.hasOwnProperty(e)){const t=o[i._oSIDMap[e]];r.resolve(t);return}const a=`Cannot resolve system alias ${e}`;s.warning(a,"The system alias cannot be found in the site response","sap.ushell.adapters.cdm.ClientSideTargetResolutionAdapter");r.reject(new Error(a))}).fail(e=>{r.reject(e)});return r.promise()};this.getContentProviderDataOriginsLookup=function(){const e=this;if(!this.oContentProviderDataOriginsDeferred){this.oContentProviderDataOriginsDeferred=new jQuery.Deferred;r.getServiceAsync("CommonDataModel").then(e=>e.getSiteWithoutPersonalization()).then(s=>{let r=null;if(s.contentProviderDataOrigins){r=t({},s.contentProviderDataOrigins)}e.oContentProviderDataOriginsDeferred.resolve(r)}).catch(t=>{e.oContentProviderDataOriginsDeferred.reject(t)})}return this.oContentProviderDataOriginsDeferred.promise()}}return i},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/v3/_LaunchPage/readApplications", ["sap/base/util/ObjectPath"],t=>{"use strict";const n={};n.getId=function(n){return t.get(["sap.app","id"],n)};n.getTitle=function(n){return t.get(["sap.app","title"],n)};n.getSubTitle=function(n){return t.get(["sap.app","subTitle"],n)};n.getIcon=function(n){return t.get(["sap.ui","icons","icon"],n)};n.getInfo=function(n){return t.get(["sap.app","info"],n)};n.getKeywords=function(n){return t.get(["sap.app","tags","keywords"],n)};n.getContentProviderId=function(n){return t.get(["sap.app","contentProviderId"],n)};n.getInbounds=function(n){return t.get(["sap.app","crossNavigation","inbounds"],n)};n.getInbound=function(n,e){return t.get(["sap.app","crossNavigation","inbounds",e],n)};n.getInboundTarget=function(n,e,i){const r=t.get([e],n)||{};const u=this.getInbound(r,i);if(!r||!u){return}return{semanticObject:u.semanticObject,action:u.action}};n.getTechnicalAttributes=function(n){return t.get(["sap.app","tags","technicalAttributes"],n)};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations", ["sap/ushell/utils","sap/base/util/ObjectPath","sap/base/util/deepClone"],(t,e,n)=>{"use strict";const i={};i.getMap=function(t){return t.visualizations};i.get=function(t,n){return e.get(["visualizations",n],t)};i.getTypeMap=function(t){return t.vizTypes};i.getType=function(t,n){return e.get(["vizTypes",n],t)};i.getTypeId=function(t){return e.get("vizType",t||{})};i.isStandardVizType=function(t){return t==="sap.ushell.StaticAppLauncher"||t==="sap.ushell.DynamicAppLauncher"};i.getSupportedDisplayFormats=function(t){return e.get(["sap.flp","vizOptions","displayFormats","supported"],t||{})};i.getDefaultDisplayFormat=function(t){return e.get(["sap.flp","vizOptions","displayFormats","default"],t||{})};i.getTileSize=function(t){return e.get(["sap.flp","tileSize"],t||{})};i.getConfig=function(t){return e.get("vizConfig",t||{})};i.getTarget=function(t){const n=this.getConfig(t);return e.get(["sap.flp","target"],n||{})};i.getAppId=function(t){const n=this.getTarget(t);return e.get("appId",n||{})};i.getInboundId=function(t){const n=this.getTarget(t);return e.get("inboundId",n||{})};i.getOutbound=function(t,e){const n={semanticObject:e.semanticObject,action:e.action,parameters:this.getTarget(t).parameters||{}};n.parameters["sap-ui-app-id-hint"]={value:{format:"plain",value:this.getAppId(t)}};return n};i.startsExternalUrl=function(t){const e=this.getTarget(t);return e&&e.type==="URL"};i.getAppDescriptor=function(t,n){return e.get(["applications",n],t)};i.getKeywords=function(e){const i=n(e,20);i.splice(2,1);i.splice(0,1);return t.getNestedObjectProperty(i,["sap|app.tags.keywords","sap|app.tags.keywords"])};i.getTitle=function(e){return t.getNestedObjectProperty(e,["title","sap|app.title","title","sap|app.title"])};i.getSubTitle=function(e){return t.getNestedObjectProperty(e,["subTitle","sap|app.subTitle","subTitle","sap|app.subTitle"])};i.getIcon=function(e){return t.getNestedObjectProperty(e,["icon","sap|ui.icons.icon","icon","sap|ui.icons.icon"])};i.getNumberUnit=function(e){const i=n(e,20);i.splice(2,2);return t.getNestedObjectProperty(i,["numberUnit","sap|flp.numberUnit"])};i.getInfo=function(e){return t.getNestedObjectProperty(e,["info","sap|app.info","info","sap|app.info"])};i.getShortTitle=function(e){const i=n(e,20);i.splice(0,1);return t.getNestedObjectProperty(i,["sap|app.shortTitle","shortTitle","sap|app.shortTitle"])};i.getInstantiationData=function(t){return e.get(["vizConfig","sap.flp","_instantiationData"],t)};i.getIndicatorDataSource=function(t){return e.get(["vizConfig","sap.flp","indicatorDataSource"],t)};i.getDataSource=function(e,i){const p=n(e,20);p.splice(2,1);p.splice(0,1);const r=t.getNestedObjectProperty(p,["sap|app.dataSources","sap|app.dataSources"])||{};return r[i]};i.getChipConfigFromVizReference=function(t){return e.get(["vizConfig","sap.flp","chipConfig"],t)};return i},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/v3/utilsCdm", ["sap/ushell/utils","sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations","sap/base/util/deepExtend","sap/base/util/isEmptyObject","sap/base/util/ObjectPath","sap/base/util/merge","sap/base/util/deepEqual","sap/ushell/adapters/cdm/v3/_LaunchPage/readApplications","sap/ushell/utils/UrlParsing","sap/base/Log"],(e,t,i,a,s,r,n,o,p,u)=>{"use strict";const c={};c.getMember=function(t,i){return e.getMember(t,i)};c.getNestedObjectProperty=function(t,i,a){return e.getNestedObjectProperty(t,i,a)};c.mapOne=function(e,s,n,p,u,c){let l=false;s=i({},s);n=i({},n);p=i({},p);u=i({},u);p=p||{};u=u||{};const m={};m.semanticObject=this.getMember(s,"semanticObject");m.action=this.getMember(s,"action");const f=t.getConfig(p);m.title=t.getTitle([undefined,f,s,n]);m.info=t.getInfo([undefined,f,s,n]);m.icon=t.getIcon([undefined,f,s,n]);m.subTitle=t.getSubTitle([undefined,f,s,n]);m.shortTitle=t.getShortTitle([undefined,f,s,n]);m.keywords=t.getKeywords([undefined,f,s,n]);m.numberUnit=t.getNumberUnit([undefined,f,undefined,undefined]);m.deviceTypes=this.getMember(n,"sap|ui.deviceTypes")||{};["desktop","tablet","phone"].forEach(e=>{if(Object.prototype.hasOwnProperty.call(this.getMember(s,"deviceTypes")||{},e)){m.deviceTypes[e]=s.deviceTypes[e]}if(!Object.prototype.hasOwnProperty.call(m.deviceTypes,e)){m.deviceTypes[e]=true}m.deviceTypes[e]=!!m.deviceTypes[e]});m.signature=this.getMember(s,"signature")||{};m.signature.parameters=this.getMember(m,"signature.parameters")||{};m.signature.additionalParameters=this.getMember(s,"signature.additionalParameters")||"allowed";const d=this.getMember(m,"signature.parameters.sap-hide-intent-link");if(d&&d.hasOwnProperty("defaultValue")){m.hideIntentLink=d.defaultValue.value==="true"}if(d&&!d.required&&d.hasOwnProperty("defaultValue")){delete m.signature.parameters["sap-hide-intent-link"]}const h=this.getMember(n,"sap|platform|runtime");m.resolutionResult=i({},h);if(h){m.resolutionResult["sap.platform.runtime"]=i({},h)}if(this.getMember(n,"sap|ui.technology")==="GUI"){m.resolutionResult["sap.gui"]=this.getMember(n,"sap|gui")}if(this.getMember(n,"sap|ui.technology")==="WDA"){m.resolutionResult["sap.wda"]=this.getMember(n,"sap|wda")}if(this.getMember(n,"sap|ui.technology")==="URL"){if(n["sap.url"]){m.resolutionResult["sap.platform.runtime"]=m.resolutionResult["sap.platform.runtime"]||{};m.resolutionResult.url=n["sap.url"].uri;m.resolutionResult["sap.platform.runtime"].url=n["sap.url"].uri}else if(h&&h.uri){m.resolutionResult["sap.platform.runtime"].url=h.uri;m.resolutionResult.url=h.uri}}if(!m.resolutionResult["sap.ui"]){m.resolutionResult["sap.ui"]={}}m.resolutionResult["sap.ui"].technology=this.getMember(n,"sap|ui.technology");m.resolutionResult.applicationType=this._formatApplicationType(m.resolutionResult,n);m.resolutionResult.systemAlias=m.resolutionResult.systemAlias||this.getMember(s,"systemAlias");m.resolutionResult.systemAliasSemantics="apply";m.resolutionResult.text=m.title;m.resolutionResult.appId=this.getMember(n,"sap|app.id");let g;let b;const y=this.getMember(p,"vizConfig.sap|flp.indicatorDataSource");let M={};if(!a(u)){const e=this.getMember(u,"sap|app.type");if(e==="card"){l=true;M=r({},u,p.vizConfig)}else{M.componentName=this.getMember(u,"sap|ui5.componentName");const e=this.getMember(u,"sap|platform|runtime.componentProperties");if(e){M.componentProperties=e}if(this.getMember(u,"sap|platform|runtime.includeManifest")){M.componentProperties=M.componentProperties||{};M.componentProperties.manifest=r({},u,p.vizConfig);delete M.componentProperties.manifest["sap.platform.runtime"]}}}if(this.getMember(n,"sap|app.type")==="plugin"||this.getMember(n,"sap|flp.type")==="plugin"){return undefined}const O=this.getNestedObjectProperty([f,n,u],"sap|flp.tileSize");const v=this.getNestedObjectProperty([f,n,u],"sap|app.description");if(this.getMember(n,"sap|ui.technology")==="GUI"&&this.getMember(n,"sap|gui.transaction")){g=this.getMember(n,"sap|gui.transaction")}if(this.getMember(n,"sap|ui.technology")==="WDA"&&this.getMember(n,"sap|wda.applicationId")){g=this.getMember(n,"sap|wda.applicationId")}const R=this.getNestedObjectProperty([f,n,u],"sap|app.dataSources");if(this.getMember(n,"sap|app.id")){b=this.getMember(n,"sap|app.id")}const T=o.getContentProviderId(n)||"";m.tileResolutionResult={appId:b,title:m.title,subTitle:m.subTitle,icon:m.icon,size:O,info:m.info,keywords:m.keywords,tileComponentLoadInfo:M,indicatorDataSource:y,dataSources:R,description:v,runtimeInformation:h,technicalInformation:g,deviceTypes:m.deviceTypes,isCard:l,contentProviderId:T,numberUnit:m.numberUnit};const P=this.getMember(n,"sap|integration.urlTemplateId");const j=this.getTemplatePayloadFromSite(P,c);if(j){m.templateContext={payload:j,site:c,siteAppSection:n}}return m};c.getTemplatePayloadFromSite=function(e,t){if(!t||typeof e!=="string"){return null}const i=e.replace(/[.]/g,"|");return this.getMember(t.urlTemplates,`${i}.payload`)};c._formatApplicationType=function(e,t){const i=e.applicationType;if(i){return i}const a=this.getMember(t,"sap|platform|runtime.componentProperties.name")||this.getMember(t,"sap|ui5.componentName");if(this.getMember(t,"sap|flp.appType")==="UI5"||this.getMember(t,"sap|ui.technology")==="UI5"){e.applicationType="SAPUI5";e.additionalInformation=`SAPUI5.Component=${a}`;e.url=this.getMember(t,"sap|platform|runtime.componentProperties.url");e.applicationDependencies=this.getMember(t,"sap|platform|runtime.componentProperties");return"SAPUI5"}if(this.getMember(t,"sap|ui.technology")==="GUI"){e.applicationType="TR";e["sap.gui"]=this.getMember(t,"sap|gui");e.systemAlias=this.getMember(t,"sap|app.destination.name");return"TR"}if(this.getMember(t,"sap|ui.technology")==="WDA"){e.applicationType="WDA";e["sap.wda"]=this.getMember(t,"sap|wda");e.systemAlias=this.getMember(t,"sap|app.destination.name");return"WDA"}if(this.getMember(t,"sap|ui.technology")==="URL"){e.applicationType="URL";e.systemAlias=this.getMember(t,"sap|app.destination.name")}return"URL"};c.formatSite=function(e){const t=this;if(!e){return[]}const i=[];try{const a=Object.keys(e.applications||{}).sort();a.forEach(a=>{try{const s=e.applications[a];const r=this.getMember(s,"sap|app.crossNavigation.inbounds");if(r){const a=Object.keys(r).sort();a.forEach(a=>{const n=r[a];const p=t.mapOne(a,n,s,undefined,undefined,e);if(p){p.contentProviderId=o.getContentProviderId(s)||"";i.push(p)}})}}catch(e){u.error(`Error in application ${a}:`,e)}})}catch(e){u.error("FormatSite failed",e);return[]}return i};c.toHashFromInbound=function(e,t){const i={target:{semanticObject:e.semanticObject,action:e.action},params:{}};if(t){i.params["sap-ui-app-id-hint"]=t}const a=s.get("signature.parameters",e)||{};Object.keys(a).forEach(e=>{if(a[e].filter&&Object.prototype.hasOwnProperty.call(a[e].filter,"value")&&(a[e].filter.format===undefined||a[e].filter.format==="plain")){i.params[e]=[a[e].filter.value]}if(a[e].launcherValue&&Object.prototype.hasOwnProperty.call(a[e].launcherValue,"value")&&(a[e].launcherValue.format===undefined||a[e].launcherValue.format==="plain")){i.params[e]=[a[e].launcherValue.value]}});const r=p.constructShellHash(i);if(!r){return undefined}return r};c.toHashFromOutbound=function(e){const t={target:{semanticObject:e.semanticObject,action:e.action},params:{}};const i=e.parameters||{};Object.keys(i).forEach(e=>{if(i.hasOwnProperty(e)&&typeof i[e].value==="object"){t.params[e]=[i[e].value.value]}});const a=p.constructShellHash(t);if(!a){return undefined}return a};c.toHashFromVizData=function(e,t){if(!e.target){return undefined}const i=e.target;if(i.type==="URL"){return i.url}const a=i.appId;const s=i.inboundId;let r;if(a&&s){const e=o.getInboundTarget(t,a,s);r={};if(e){r.semanticObject=e.semanticObject;r.action=e.action;r.parameters=i.parameters||{};r.parameters["sap-ui-app-id-hint"]={value:{value:a,format:"plain"}};r.appSpecificRoute=i.appSpecificRoute||""}}else if(i.semanticObject&&i.action){r=i}return c.toHashFromTarget(r)};c.toHashFromTargetIntent=function(e,t){try{if(t.type==="URL"){return t.url}const i={};i.semanticObject=e.semanticObject;i.action=e.action;i.parameters=t.parameters||{};i.parameters["sap-ui-app-id-hint"]={value:{value:e.businessAppId,format:"plain"}};i.appSpecificRoute=t.appSpecificRoute||"";return c.toHashFromTarget(i)}catch(e){return undefined}};c.toHashFromTarget=function(e){try{const t={};const i=s.get("parameters",e)||{};Object.keys(i).forEach(e=>{t[e]=Array.isArray(i[e].value.value)?i[e].value.value:[i[e].value.value]});const a={target:{semanticObject:e.semanticObject,action:e.action},params:t,appSpecificRoute:e.appSpecificRoute};return`#${p.constructShellHash(a)}`}catch(e){return undefined}};c.toTargetFromHash=function(e){let t=p.parseShellHash(e);if(t!==undefined){const e=t.params||{};if(Object.keys(e).length>0){t.parameters=[];Object.keys(e).forEach(i=>{const a=Array.isArray(e[i])?e[i]:[e[i]];a.forEach(e=>{const a={name:i,value:e};t.parameters.push(a)})})}delete t.params}else{t={type:"URL",url:e}}return t};c.isSameTarget=function(e,t){let i;if(e.type!==t.type){return false}if(e.type==="URL"){i=e.url===t.url}else{i=e.semanticObject===t.semanticObject&&e.action===t.action&&e.appSpecificRoute===t.appSpecificRoute&&n(e.parameters,t.parameters)}return i};return c});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/AppCommunicationMgr", ["sap/base/util/Deferred","sap/base/util/ObjectPath","sap/base/Log","sap/ui/thirdparty/jquery","sap/ushell/appIntegration/PostMessagePluginInterface","sap/ushell/utils"],(e,s,t,jQuery,n,i)=>{"use strict";const r="sap.ushell.appRuntime.ui5.AppCommunicationMgr";const a={};const o=[];let u=0;function d(){this.init=async function(e){this._fnHandleMessageEvent=this._handleMessageEvent.bind(this);addEventListener("message",this._fnHandleMessageEvent);if(e===true){this._sendMessageToOuterShell("sap.ushell.appRuntime.iframeIsValid");setInterval(()=>{this._sendMessageToOuterShell("sap.ushell.appRuntime.iframeIsValid")},2500)}n.init(this._sendMessageToOuterShell.bind(this),this.setRequestHandler.bind(this),()=>{},false)};this.destroy=function(){removeEventListener("message",this._fnHandleMessageEvent)};this.setRequestHandler=function(e,s){if(a[e]){t.error(`Request handler for service ${e} is already defined. Overwriting the existing handler.`)}a[e]={handler:s}};this._handleMessageResponse=function(e){if(e.request_id&&o[e.request_id]){const s=o[e.request_id];delete o[e.request_id];if(e.status==="success"){s.resolve(e.body.result)}else{let t;if(e?.body?.message){t=new Error(e.body.message)}else{t=new Error("Unknown error")}if(e?.body?.stack){t.stack=e.body.stack}s.reject(t)}}};this._handleMessageRequest=async function(e,n){const o=s.create("sap-ushell-config.services.PostMessage.config");let u=n&&n.service;let d;let l;let g;t.debug(`App Runtime received post message request from origin '${e.origin}': ${JSON.stringify(n)}`,null,r);if(!u){return}if(o&&o.enabled===false){t.warning(`App Runtime received message for ${l}, but this `+"feature is disabled. It can be enabled via launchpad configuration "+"property 'services.PostMessage.config.enabled: true'",undefined,r);return}if(!this._isTrustedPostMessageSource(e)){t.warning(`App Runtime received message from untrusted origin '${e.origin}': ${JSON.stringify(e.data)}`,null,r);return}if(u==="sap.ushell.services.MessageBroker"){u=u.concat("._execute")}if(u.indexOf(".")>0){d=u.split(".");g=d[d.length-1];l=u.substr(0,u.length-g.length-1)}else{t.warning(`App Runtime received message with invalid service name (${u}) :${JSON.stringify(e.data)}`,null,r);return}try{const s=a[`${l}.${g}`];if(!s||!s.handler){t.warning(`App Runtime received message with unknown service name (${n.service}) :${JSON.stringify(e.data)}`,null,r);return}try{await i.promisify(s.handler(n.body||{},e)).then(s=>{const t=s&&s.hasOwnProperty("_noresponse_")?true:false;if(!t){this.sendResponseMessage(e,n,"success",{result:s})}})}catch(s){let t;let i=s.toString();if(s instanceof Error){i=s.message;t=s.stack}this.sendResponseMessage(e,n,"error",{message:i,stack:t})}}catch(s){t.warning(`Error in processing message: ${s.message}) :${JSON.stringify(e.data)}`,null,r)}};this._getCFLPWindow=function(){return window.parent};this._isTrustedPostMessageSource=function(e){let s=false;const t=this._getCFLPWindow();if(t){s=e.source===t}return s};this.sendResponseMessage=function(e,s,n,i){const a=JSON.stringify({type:"response",service:s.service,request_id:s.request_id,status:n,body:i});t.debug(`Sending post message response to origin ' ${e.origin}': ${a}`,null,r);if(typeof e.source!=="object"||e.source===null){t.debug(`Cannot send response message to origin ' ${e.origin}`,"`source` member of request message is not an object",r);return}e.source.postMessage(a,e.origin)};this._getTargetWindow=function(){return window.parent};this.postMessage=function(e){let s;const n=this._getTargetWindow();if(e){try{if(e.type==="request"&&!e.request_id){e.request_id=this.getId()}s=JSON.stringify(e);n.postMessage(s,"*")}catch(s){t.error(`Message '${e}' cannot be posted:`,s,"sap.ui5Isolation.AppCommunicationMgr")}}};this._sendMessageToOuterShell=function(s,t,n,i,r){const a=new e;const u={type:"request",service:s,body:t||{},request_id:n};this.postMessage(u);o[u.request_id]=a;if(i){setTimeout(()=>{a.resolve(r)},i)}return a.promise};this.sendMessageToOuterShell=function(e,s,t,n,i){const r=new jQuery.Deferred;this._sendMessageToOuterShell(e,s,t,n,i).then(r.resolve.bind(r)).catch(r.reject.bind(r));return r.promise()};this.postMessageToFLP=function(e,s,t,n,i){return this._sendMessageToOuterShell(e,s,t,n,i)};this.getId=function(){return`SAPUI5_APPRUNTIME_MSGID_${++u}`}}d.prototype._handleMessageEvent=function(e){if(!e&&!e?.data){return}let s=e.data;if(typeof s==="string"){try{s=JSON.parse(e.data,this)}catch(s){t.debug(`Message received from origin '${e.origin}' cannot be parsed:`,s,r);return}}if(s.type==="request"){return this._handleMessageRequest(e,s)}else if(s.type==="response"){return this._handleMessageResponse(s)}};return new d});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/AppRuntimeContext", ["sap/base/assert","sap/ushell/utils/UrlParsing","sap/base/util/deepClone","sap/ushell/appRuntime/ui5/services/Container"],(e,t,s,n)=>{"use strict";function i(){let e=false;let i="";let a;this.setAppLifeCycleAgent=function(e){a=e};this.setIsScube=function(t){e=t};this.getIsScube=function(){return e};this.setRemoteSystemId=function(e){i=e};this.getRemoteSystemId=function(){return i};this.checkDataLossAndContinue=function(){return a?a.checkDataLossAndContinue():true};this.checkIntentsConversionForScube=function(e){const i=this;if(!this.getIsScube()||!e||e.length===0){return Promise.resolve(e)}return new Promise(a=>{const r=s(e);let o=[];let c;o=r.map(e=>({target:{shellHash:e.intent}}));n.getServiceAsync("Navigation").then(e=>{e.isNavigationSupported(o,undefined,true).then(e=>{for(let s=0;s<e.length;s++){if(!e[s].supported){c=t.parseShellHash(r[s].intent);c.params["sap-shell-so"]=c.semanticObject;c.params["sap-shell-action"]=c.action;c.params["sap-remote-system"]=i.getRemoteSystemId();c.semanticObject="Shell";c.action="startIntent";r[s].intent=`#${t.constructShellHash(c)}`}}a(r)})})})}}return new i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/SessionHandlerAgent", ["sap/ushell/appRuntime/ui5/services/Container","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ui/thirdparty/URI","sap/base/Log"],(e,t,n,s)=>{"use strict";function i(){this.init=function(){const e={"sap.ushell.sessionHandler.beforeApplicationHide":{async handler(e,t){}},"sap.ushell.sessionHandler.afterApplicationShow":{async handler(e,t){}},"sap.ushell.sessionHandler.logout":{async handler(e,t){return this.handleLogoutEvent()}},"sap.ushell.sessionHandler.extendSessionEvent":{async handler(e,t){return this.handleExtendSessionEvent()}}};Object.keys(e).forEach(n=>{t.setRequestHandler(n,e[n].handler)});this.attachUserEvents();this.userActivityHandler()};this.handleLogoutEvent=function(){return new Promise((t,n)=>{this.detachUserEvents();e.getFLPUrlAsync(true).then(s=>{if(this.isSameDomain(s,document.URL)===false){e.logout().then(t).catch(n)}else{t()}})})};this.isSameDomain=function(e,t){let i;let r;let a=false;if(e===undefined||t===undefined){return false}try{i=new n(e);r=new n(t);if(i.origin()===r.origin()){a=true}}catch(n){s.error(`Check for same domain of iframe and FLP failed: ${e} ${t}`,n,"sap.ushell.appRuntime.ui5.SessionHandlerAgent")}return a};this.handleExtendSessionEvent=function(){e.sessionKeepAlive();return Promise.resolve()};this.attachUserEvents=function(){document.addEventListener("mousedown",this.userActivityHandler);document.addEventListener("mousemove",this.userActivityHandler);document.addEventListener("keyup",this.userActivityHandler);document.addEventListener("touchstart",this.userActivityHandler)};this.detachUserEvents=function(){document.removeEventListener("mousedown",this.userActivityHandler);document.removeEventListener("mousemove",this.userActivityHandler);document.removeEventListener("keyup",this.userActivityHandler);document.removeEventListener("touchstart",this.userActivityHandler)};this.userActivityHandler=function(e){if(this.oUserActivityTimer!==undefined){return}this.oUserActivityTimer=setTimeout(()=>{t.postMessageToFLP("sap.ushell.sessionHandler.notifyUserActive",{});this.oUserActivityTimer=undefined},1e4)}}return new i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/performance/FesrEnhancer", ["sap/ui/performance/trace/FESR","sap/ui/performance/trace/Interaction","sap/ushell/utils/type"],(e,t,r)=>{"use strict";const n={_fnOriginalOnBeforeCreated:undefined,_currentAppShortId:undefined,init:function(){if(e.getActive()){this._fnOriginalOnBeforeCreated=e.onBeforeCreated;e.onBeforeCreated=this._onBeforeCreatedHandler.bind(this)}},_onBeforeCreatedHandler:function(e,t){if(this._currentAppShortId){e.appNameShort=this._currentAppShortId}if(e.interactionType===1&&(e.stepName==="undetermined_startup"||e.stepName==="undetermined_appruntime_app_startup")){e.stepName="APPRT@APP_START"}return e},reset:function(){if(e.getActive()){e.onBeforeCreated=this._fnOriginalOnBeforeCreated;this.setAppShortId()}},startInteraction:function(){if(e.getActive()){t.start("appruntime_app_startup")}},setAppShortId:function(t){function n(e,t){let n=e.getManifestEntry(t)||[];if(!r.isArray(n)){n=[n]}return typeof n[0]==="string"?n[0]:undefined}if(e.getActive()){try{if(t){const e=t.getInstance().getComponentData().technicalParameters||{};this._currentAppShortId=e["sap-fiori-id"]||n(t,"/sap.fiori/registrationIds")}else{this._currentAppShortId=undefined}}catch{this._currentAppShortId=undefined}}}};return n},true);
/* !
 * Copyright (c) 2009-2025 SAP SE, All Rights Reserved
 */
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils", [],()=>{"use strict";const e={getAppLifeCycleService:function(){const t=e.getContainer();return t.getServiceAsync("AppLifeCycle").catch(e=>{const t=`Error getting AppLifeCycle service from ushell container: ${e}`;throw new Error(t)})},getContainer:function(){const e=sap.ui.require("sap/ushell/Container");if(!e){throw new Error("Illegal state: shell container not available; this component must be executed in a unified shell runtime context.")}return e},getCurrentRunningApplication:function(){return e.getAppLifeCycleService().then(e=>e.getCurrentApplication())}};return e});
/* !
 * Copyright (c) 2009-2025 SAP SE, All Rights Reserved
 */
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/baseRta/BaseRTAPluginStatus", [],()=>{"use strict";return{STATUS_STARTING:"starting",STATUS_STARTED:"started",STATUS_STOPPING:"stopping",STATUS_STOPPED:"stopped"}},true);
/* !
 * Copyright (c) 2009-2025 SAP SE, All Rights Reserved
 */
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/baseRta/CheckConditions", ["sap/ui/core/Lib","sap/ui/Device","sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils"],(e,t,n)=>{"use strict";const i={_getAppDescriptor:function(e){if(e&&e.getMetadata){const t=e.getMetadata();if(t&&t.getManifest){return t.getManifest()}}return{}},checkRestartRTA:function(e){const t=new URLSearchParams(window.location.search);const n=t.get("sap-ui-layer");e=n||e;return!!window.sessionStorage.getItem(`sap.ui.rta.restart.${e}`)},checkRtaPrerequisites:async function(){await e.load("sap/ui/fl");const{promise:t,resolve:n,reject:i}=Promise.withResolvers();sap.ui.require(["sap/ui/fl/initial/api/InitialFlexAPI"],(...e)=>{n(e)},i);const[s]=await t;const a=await Promise.all([this.checkUI5App(),s.isKeyUser(),this.checkDesktopDevice()]);return a.every(e=>e)},checkUI5App:async function(){const e=await n.getCurrentRunningApplication();if(e){const t=e.applicationType==="UI5";if(t&&e.componentInstance&&e.componentInstance.getManifestEntry){const t=e.componentInstance.getManifestEntry("sap.app").type==="application";const n=e.componentInstance.getManifestEntry("sap.ui5")?.flexEnabled===false;return t&&!n}}return false},checkDesktopDevice:function(){return t.system.desktop}};return i},true);
/* !
 * Copyright (c) 2009-2025 SAP SE, All Rights Reserved
 */
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/baseRta/Renderer", ["sap/base/Log","sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils"],(e,n)=>{"use strict";const t={createActionButton:async function(t,i,o){const s=n.getContainer();const c=await s.getServiceAsync("FrameBoundExtension");try{const e=await c.createUserAction({id:t.mConfig.id,text:t.mConfig.i18n.getText(t.mConfig.text),icon:t.mConfig.icon,press:i},{controlType:"sap.ushell.ui.launchpad.ActionItem"});if(o){e.showForAllApps();e.showOnHome()}else{e.hideForAllApps();e.hideOnHome()}return e}catch(n){e.error(n,undefined,t.mConfig.sComponentName)}},exit:function(){}};return t},true);
/* !
 * Copyright (c) 2009-2025 SAP SE, All Rights Reserved
 */
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/baseRta/Trigger", ["sap/ui/thirdparty/hasher","sap/ui/core/BusyIndicator","sap/ui/core/EventBus","sap/ui/core/Lib","sap/ushell/appRuntime/ui5/plugins/baseRta/BaseRTAPluginStatus","sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils"],(t,i,s,e,o,n)=>{"use strict";const r=o.STATUS_STARTING;const a=o.STATUS_STARTED;const h=o.STATUS_STOPPING;const p=o.STATUS_STOPPED;function u(t){this.mConfig=t;this.sStatus=o.STATUS_STOPPED;this.oStartingPromise=null;this.oStoppingPromise=null;const i=n.getContainer();i.registerDirtyStateProvider(this._dirtyStateProvider.bind(this));this.oInitPromise=i.getServiceAsync("URLParsing").then(t=>{this.oURLParsingService=t}).catch(t=>{throw new Error(`Error during retrieval of URLParsing ushell service: ${t}`)})}function l(){return new Promise((t,i)=>{sap.ui.require(["sap/ui/rta/api/startAdaptation"],t,i)})}function c(){return n.getCurrentRunningApplication().then(t=>t.componentInstance)}u.prototype.getInitPromise=function(){return this.oInitPromise};u.prototype._onRtaFailed=function(t){i.hide();this._oRTA=t.getSource();this.mConfig.onErrorHandler()};u.prototype._startRta=function(){this.sStatus=r;s.getInstance().subscribe("sap.ushell.renderers.fiori2.Renderer","appClosed",this._onAppClosed,this);s.getInstance().subscribe("sap.ushell","appKeepAliveDeactivate",this._onAppClosed,this);i.show(0);let o;return c().then(t=>{o=t;return e.load({name:"sap.ui.rta"})}).then(l.bind(this)).then(i=>{this.sOldHash=t.getHash();const s={rootControl:o,flexSettings:{layer:this.mConfig.layer,developerMode:this.mConfig.developerMode}};return i(s,this.mConfig.loadPlugins,this.mConfig.onStartHandler,this._onRtaFailed.bind(this),this.mConfig.onStopHandler)}).then(t=>{i.hide();this._oRTA=t;this.sStatus=a}).catch(t=>{i.hide();if(t.reason==="flexEnabled"){this.handleFlexDisabledOnStart()}this.sStatus=p})};u.prototype._stopRta=function(){this.sStatus=h;return this._oRTA.stop.apply(this._oRTA,arguments).then(()=>{this.exitRta()})};u.prototype.triggerStartRta=function(){const t=this.sStatus;switch(t){case r:break;case a:this.oStartingPromise=Promise.resolve();break;case h:this.oStartingPromise=this.oStoppingPromise.then(()=>this._startRta());break;case p:this.oStartingPromise=this._startRta();break;default:}if(t!==r){this.oStartingPromise.then(()=>{this.oStartingPromise=null})}return this.oStartingPromise};u.prototype.triggerStopRta=function(){const t=this.sStatus;switch(t){case r:this.oStoppingPromise=this.oStartingPromise.then(function(){return this._stopRta.apply(this,arguments)}.bind(this));break;case a:this.oStoppingPromise=this._stopRta.apply(this,arguments);break;case h:break;case p:this.oStoppingPromise=Promise.resolve();break;default:}if(t!==h){this.oStoppingPromise.then(()=>{this.oStoppingPromise=null})}return this.oStoppingPromise};u.prototype.handleFlexDisabledOnStart=function(){sap.ui.require(["sap/ui/rta/util/showMessageBox","sap/m/MessageBox"],(t,i)=>{t(this.mConfig.i18n.getText("MSG_FLEX_DISABLED"),{icon:i.Icon.INFORMATION,title:this.mConfig.i18n.getText("HEADER_FLEX_DISABLED"),actions:[i.Action.OK],initialFocus:null,isCustomAction:false})})};u.prototype._dirtyStateProvider=function(){if(this._oRTA&&this.sStatus===a){const i=t.getHash();const s=this.oURLParsingService.parseShellHash(i);const e=this.oURLParsingService.parseShellHash(this.sOldHash);this.sOldHash=i;if(s.semanticObject===e.semanticObject&&s.action===e.action&&s.appSpecificRoute!==e.appSpecificRoute){return false}return this._oRTA.canSave()}return false};u.prototype.exitRta=function(){if(this._oRTA){this._oRTA.destroy();this.sStatus=p;this.oStartingPromise=null;this.oStoppingPromise=null;this._oRTA=null}s.getInstance().unsubscribe("sap.ushell.renderers.fiori2.Renderer","appClosed",this._onAppClosed,this);s.getInstance().unsubscribe("sap.ushell","appKeepAliveDeactivate",this._onAppClosed,this)};u.prototype._onAppClosed=function(){this.triggerStopRta(true,true)};return u},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/rtaAgent/Component", ["sap/base/Log","sap/ui/core/Component","sap/ui/core/EventBus","sap/ui/fl/initial/api/InitialFlexAPI","sap/ushell/api/RTA","sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils","sap/ushell/appRuntime/ui5/plugins/baseRta/CheckConditions","sap/ushell/appRuntime/ui5/plugins/baseRta/Trigger"],(e,t,i,n,s,r,a,o)=>{"use strict";let u;function p(){return{sComponentName:"sap.ushell.appRuntime.ui5.plugins.rtaAgent",layer:"CUSTOMER",developerMode:false}}function l(e){return new Promise((t,i)=>{u.postMessageToFlp("user.postapi.rtaPlugin","switchToolbarVisibility",{visible:e}).done(t).fail(i)})}function h(){return new Promise((e,t)=>{u.postMessageToFlp("user.postapi.rtaPlugin","activatePlugin").done(e).fail(t)})}function g(){return a.checkUI5App().then(e=>{if(e){u.postMessageToFlp("user.postapi.rtaPlugin","showAdaptUI").fail(e=>{throw new Error(e)})}})}function d(){u.postMessageToFlp("user.postapi.rtaPlugin","hideAdaptUI").fail(e=>{throw new Error(e)})}function c(){this.oTrigger.triggerStopRta(true,true)}return t.extend("sap.ushell.appRuntime.ui5.plugins.rtaAgent.Component",{metadata:{manifest:"json"},init:function(){this.mConfig=p();this._oPluginPromise=Promise.resolve();u=this.getComponentData().oPostMessageInterface;n.isKeyUser().then(e=>{if(e){return h()}return Promise.reject()}).then(()=>{this.mConfig.i18n=this.getModel("i18n").getResourceBundle();this.mConfig.onStartHandler=this._onStartHandler.bind(this);this.mConfig.onErrorHandler=this._onErrorHandler.bind(this);this.mConfig.onStopHandler=this._onStopHandler.bind(this);this.oTrigger=new o(this.mConfig);return this.oTrigger.getInitPromise()}).then(()=>{this._registerPostMessages();return this._restartRtaIfRequired()}).then(()=>r.getAppLifeCycleService()).then(e=>{e.attachAppLoaded(this._onAppLoaded,this)}).then(g).catch(t=>{if(t){e.error(t)}})},getPluginPromise:function(){return this._oPluginPromise},_registerPostMessages:function(){u.registerPostMessageAPIs({"user.postapi.rtaPlugin":{inCalls:{startUIAdaptation:{executeServiceCallFn:async function(){i.getInstance().subscribe("sap.ushell","appClosed",c.bind(this));s.addTopHeaderPlaceHolder();await this.oTrigger.triggerStartRta(this);return u.createPostMessageResult(this.oTrigger.sStatus)}.bind(this)}},outCalls:{activatePlugin:{},showAdaptUI:{}}}})},_restartRtaIfRequired:function(){return a.checkUI5App().then(e=>{if(e){if(a.checkRestartRTA(this.mConfig.layer)){return l(false).then(()=>{s.addTopHeaderPlaceHolder();return this.oTrigger.triggerStartRta(this)})}}return undefined})},_onAppLoaded:async function(){const e=await a.checkUI5App();if(e){await this._restartRtaIfRequired();return g()}return d()},_onStopHandler:function(){this._exitAdaptation()},_onStartHandler:function(){},_onErrorHandler:function(){this._exitAdaptation()},_exitAdaptation:function(){i.getInstance().unsubscribe("sap.ushell","appClosed",c.bind(this));l(true);this.oTrigger.exitRta();s.removeTopHeaderPlaceHolder()},exit:function(){i.getInstance().unsubscribe("sap.ushell","appClosed",c.bind(this));l(true);this._oPluginPromise=this._oPluginPromise.then(r.getAppLifeCycleService.bind(r)).then(e=>{e.detachAppLoaded(this._onAppLoaded,this)})}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/rtaShell/Component", ["sap/ui/core/Component","sap/ui/thirdparty/jquery","sap/ushell/api/RTA","sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils","sap/ushell/appRuntime/ui5/plugins/baseRta/Renderer"],(e,jQuery,t,i,s)=>{"use strict";let n;function a(){return{sComponentName:"sap.ushell.appRuntime.ui5.plugins.rtaShell",layer:"CUSTOMER",id:"RTA_AppRuntime_Plugin_ActionButton",text:"RTA_BUTTON_TEXT",icon:"sap-icon://wrench",visible:false}}function o(e){t.setShellHeaderVisibility(e,false)}function u(){return new Promise((e,t)=>{o(false);n.postMessageToApp("user.postapi.rtaPlugin","startUIAdaptation").done(t=>{if(t==="stopped"){o(true)}e(t)}).fail(()=>{o(true);t()})})}return e.extend("sap.ushell.appRuntime.ui5.plugins.rtaShell.Component",{metadata:{manifest:"json",library:"sap.ushell"},init:function(){this.mConfig=a();n=this.getComponentData().oPostMessageInterface;this._registerPostMessages()},_registerPostMessages:function(){n.registerPostMessageAPIs({"user.postapi.rtaPlugin":{inCalls:{activatePlugin:{executeServiceCallFn:function(){return n.createPostMessageResult(this._initPlugin())}.bind(this)},showAdaptUI:{executeServiceCallFn:async function(){await this._changeActionButtonVisibility(true);return n.createPostMessageResult()}.bind(this)},hideAdaptUI:{executeServiceCallFn:async function(){await this._changeActionButtonVisibility(false);return n.createPostMessageResult()}.bind(this)},switchToolbarVisibility:{executeServiceCallFn:function(e){const t=e.oMessageData.body.visible;o(t);return n.createPostMessageResult()}}},outCalls:{startUIAdaptation:{}}}})},_initPlugin:function(){if(this.bIsInitialized){return(new jQuery.Deferred).resolve()}this.bIsInitialized=true;this.mConfig.i18n=this.getModel("i18n").getResourceBundle();return new jQuery.Deferred(e=>{s.createActionButton(this,u.bind(undefined),this.mConfig.visible).then(e=>{this.oActionButton=e}).catch(e=>{this.bIsInitialized=false;return Promise.reject(e)}).then(e.resolve).catch(e.reject)}).promise()},_changeActionButtonVisibility:async function(e){if(!this.oActionButton){return}const t=await i.getAppLifeCycleService();if(e&&t.getCurrentApplication().applicationType==="URL"){this.oActionButton.showForAllApps()}else{this.oActionButton.hideForAllApps()}},exit:function(){o(false)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/scriptAgent/Component", ["sap/ui/core/Component","sap/ui/thirdparty/URI","sap/ui/thirdparty/jquery","sap/base/Log"],(e,t,jQuery,s)=>{"use strict";return e.extend("sap.ushell.appRuntime.ui5.plugins.scriptAgent.Component",{metadata:{version:"1.0.0",dependencies:{libs:["sap.m"],components:[]}},init:function(){const e=this.getComponentData();const a=(new t).search(true);let n;if(!e.hasOwnProperty("config")){return}if(e.config.hasOwnProperty("scube")){if(a.hasOwnProperty("sap-wa-debug")&&a["sap-wa-debug"]==="dev"){n="https://education3.hana.ondemand.com/education3/web_assistant/framework/FioriAgent.js"}else if(a.hasOwnProperty("sap-wa-debug")&&a["sap-wa-debug"]==="prev"){n="https://webassistant-outlook.enable-now.cloud.sap/web_assistant/framework/FioriAgent.js"}else{n="https://webassistant.enable-now.cloud.sap/web_assistant/framework/FioriAgent.js"}}else{n=e.config.url}try{jQuery.getScript(n)}catch(e){s.error(e)}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/renderers/fiori2/AccessKeysAgent", ["sap/ushell/appRuntime/ui5/AppCommunicationMgr"],e=>{"use strict";function t(){this.init=function(){document.addEventListener("keydown",t=>{let y=false;let i;if(t.altKey&&!t.ctrlKey&&!t.shiftKey){if(t.keyCode===65||t.keyCode===70||t.keyCode===72||t.keyCode===77||t.keyCode===78||t.keyCode===83){y=true}}else if(t.ctrlKey&&!t.altKey&&!t.shiftKey){if(t.keyCode===188||t.keyCode===112||t.keyCode===83){y=true}}else if(t.ctrlKey&&t.shiftKey&&!t.altKey){if(t.keyCode===70){y=true}}if(y){i={altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,keyCode:t.keyCode,key:t.key};if(t.keyCode===188){i.key=","}e.postMessageToFLP("sap.ushell.services.ShellUIService.processHotKey",i)}},true)}}return new t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/renderers/fiori2/Renderer", ["sap/base/util/uid","sap/base/util/ObjectPath","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/base/Log","sap/ui/thirdparty/jquery","sap/ushell/appRuntime/ui5/renderers/fiori2/RendererExtensions"],(e,t,s,r,jQuery,i)=>{"use strict";const n=[];function o(){const i=this;t.set("sap.ushell.renderers.fiori2.Renderer",i);["init","createContent","createExtendedShellState","applyExtendedShellState","showLeftPaneContent","showHeaderItem","showRightFloatingContainerItem","showRightFloatingContainer","showToolAreaItem","showFloatingActionButton","showHeaderEndItem","setHeaderVisibility","showSubHeader","showSignOutItem","showSettingsItem","setFooter","setShellFooter","setFooterControl","hideHeaderItem","removeToolAreaItem","removeRightFloatingContainerItem","hideLeftPaneContent","hideFloatingActionButton","hideSubHeader","removeFooter","getCurrentViewportState","addShellSubHeader","addSubHeader","addUserAction","addActionButton","addFloatingButton","addFloatingActionButton","addSidePaneContent","addLeftPaneContent","addHeaderItem","addRightFloatingContainerItem","addToolAreaItem","getModelConfiguration","addUserPreferencesEntry","addUserPreferencesGroupedEntry","setHeaderTitle","setLeftPaneVisibility","showToolArea","setHeaderHiding","setFloatingContainerContent","setFloatingContainerVisibility","getFloatingContainerVisiblity","getRightFloatingContainerVisibility","setFloatingContainerDragSelector","createTriggers","convertButtonsToActions","createItem","addEntryInShellStates","removeCustomItems","addCustomItems","addRightViewPort","addLeftViewPort","getShellController","getViewPortContainerCurrentState","ViewPortContainerNavTo","switchViewPortStateByControl","setUserActionsMenuSelected","getUserActionsMenuSelected","setNotificationsSelected","getNotificationsSelected","addShellDanglingControl","getShellConfig","reorderUserPrefEntries","logRecentActivity","setCurrentCoreView","getCurrentCoreView"].forEach(e=>{i[e]=function(){r.error(`'Renderer' api '${e}' is not supported when UI5 application is running inside an iframe (sap.ushell.appRuntime.ui5.renderers.fiori2.Renderer)`)}});this.LaunchpadState={App:"app",Home:"home"};this._addButtonHandler=function(e,t){n[e]=t};this.handleHeaderButtonClick=function(e){if(n[e]!==undefined){n[e]()}};this.addHeaderItem=function(e,t,s,r,i){if(typeof arguments[0]==="object"&&typeof arguments[1]==="boolean"){t=arguments[0];s=arguments[1];r=arguments[2];i=arguments[3]}this._addHeaderItem("sap.ushell.services.Renderer.addHeaderItem",t,s,r,i)};this.addHeaderEndItem=function(e,t,s,r,i){if(typeof arguments[0]==="object"&&typeof arguments[1]==="boolean"){t=arguments[0];s=arguments[1];r=arguments[2];i=arguments[3]}this._addHeaderItem("sap.ushell.services.Renderer.addHeaderEndItem",t,s,r,i)};this.showHeaderItem=function(e){s.postMessageToFLP("sap.ushell.services.Renderer.showHeaderItem",{aIds:e,bCurrentState:true,aStates:""})};this.showHeaderEndItem=function(e){s.postMessageToFLP("sap.ushell.services.Renderer.showHeaderEndItem",{aIds:e,bCurrentState:true,aStates:""})};this.hideHeaderItem=function(e){s.postMessageToFLP("sap.ushell.services.Renderer.hideHeaderItem",{aIds:e,bCurrentState:true,aStates:""})};this.hideHeaderEndItem=function(e){s.postMessageToFLP("sap.ushell.services.Renderer.hideHeaderEndItem",{aIds:e,bCurrentState:true,aStates:""})};this._addHeaderItem=function(t,r,i){if(!r.id){r.id=e()}if(r.click!==undefined){this._addButtonHandler(r.id,r.click)}else if(r.press!==undefined){this._addButtonHandler(r.id,r.press)}return s.postMessageToFLP(t,{sId:r.id,sTooltip:r.tooltip,sIcon:r.icon,iFloatingNumber:r.floatingNumber,bVisible:i,bCurrentState:true})};this.setHeaderTitle=function(e){s.postMessageToFLP("sap.ushell.services.Renderer.setHeaderTitle",{sTitle:e})};this.setHeaderVisibility=function(e,t,r){s.postMessageToFLP("sap.ushell.services.Renderer.setHeaderVisibility",{bVisible:e,bCurrentState:t,aStates:r})};this.createShellHeadItem=function(t){if(!t.id){t.id=e()}if(t.press!==undefined){this._addButtonHandler(t.id,t.press);delete t.press}return s.postMessageToFLP("sap.ushell.services.Renderer.createShellHeadItem",{params:t})};this.showActionButton=function(e,t,r){s.postMessageToFLP("sap.ushell.services.Renderer.showActionButton",{aIds:e,bCurrentState:t,aStates:r})};this.hideActionButton=function(e,t,r){s.postMessageToFLP("sap.ushell.services.Renderer.hideActionButton",{aIds:e,bCurrentState:t,aStates:r})};this.addUserAction=function(t){if(!t.oControlProperties.id){t.oControlProperties.id=e()}if(t.oControlProperties.press!==undefined){this._addButtonHandler(t.oControlProperties.id,t.oControlProperties.press);delete t.oControlProperties.press}return s.postMessageToFLP("sap.ushell.services.Renderer.addUserAction",{oParameters:t})};this.addTopHeaderPlaceHolder=function(){if(jQuery("#rmheader").length===0){jQuery("body").prepend("<div id='rmheader' class='sapUshellHeaderPlaceHolder'></div>");jQuery("body").find(".sapAppRuntimeBaseStyle").css("height","calc(100% - 2.75rem)")}};this.removeTopHeaderPlaceHolder=function(){jQuery("#rmheader").remove();jQuery("body").find(".sapAppRuntimeBaseStyle").css("height","100%")};this.updateHeaderItem=function(e,t){s.postMessageToFLP("sap.ushell.services.Renderer.updateHeaderItem",{sId:e,oControlProperties:t})};this.destroyButton=function(e){s.postMessageToFLP("sap.ushell.services.Renderer.destroyButton",{aIds:e})}}const a=new o;i.setRenderer(a);return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/renderers/fiori2/RendererExtensions", ["sap/base/util/uid","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/appRuntime/ui5/AppRuntimeContext"],(t,e,n)=>{"use strict";let i={};function o(t,e,n){}function s(t,e,n){}function r(t,e,n){}function u(t,e,n){}function a(n,o,s){const r=Array.isArray(n)?n:[n];const u=[o];const a=[];if(s!==undefined){u.push(s)}r.forEach(e=>{const n=`${t()}-apprt`;e.idAppRuntime=n;i._addButtonHandler(n,()=>{e.firePress()});a.push({id:n,text:e.getText(),icon:e.getIcon(),tooltip:e.getTooltip(),aStates:u})});return e.postMessageToFLP("sap.ushell.services.Renderer.addOptionsActionSheetButton",a)}function c(t,n,i){const o=Array.isArray(t)?t:[t];const s=[n];const r=[];if(i!==undefined){s.push(i)}o.forEach(t=>{r.push({id:t.idAppRuntime,aStates:s})});return e.postMessageToFLP("sap.ushell.services.Renderer.removeOptionsActionSheetButton",r)}function d(t,e,n){}function h(t,e){}function f(t,e,n){}function p(t,e,n){}function m(t,e,n){}function l(t,e,n){}function A(){if(n.getIsScube()){return{enablePersonalization:true}}return{}}function g(t,e,n,i){}function H(t,e){}function v(t){}function S(t){}function P(t){}function b(t,e){}function y(t){}function I(t){}function R(){}function B(t){i=t}function E(){this.addHeaderItem=r;this.setHeaderItemVisibility=g;this.addSubHeader=o;this.removeSubHeader=s;this.addHeaderEndItem=m;this.removeHeaderItem=u;this.removeHeaderEndItem=l;this.addEndUserFeedbackCustomUI=H;this.addOptionsActionSheetButton=a;this.removeOptionsActionSheetButton=c;this.setFooter=I;this.removeFooter=R;this.addUserPreferencesEntry=v;this.addUserPreferencesGroupedEntry=S;this.setHeaderTitle=P;this.setHeaderHiding=y;this.LaunchpadState={App:"app",Home:"home"};this.addFloatingActionButton=f;this.removeFloatingActionButton=p;this.setLeftPaneContent=d;this.removeLeftPaneContent=h;this.setLeftPaneVisibility=b;this.getConfiguration=A;this.setRenderer=B}return new E});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/AppConfiguration", ["sap/base/util/ObjectPath","sap/m/library","sap/ui/core/IconPool","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/EventHub","sap/ushell/appRuntime/ui5/renderers/fiori2/RendererExtensions","sap/ushell/resources","sap/ushell/services/AppConfiguration"],(t,e,i,s,n,o,l,p)=>{"use strict";const a=e.ButtonType;function u(){let e=[];let u=false;t.set("sap.ushell.services.AppConfiguration",this);p.constructor.call(this);n.on("appWidthChange").do(t=>{const e=document.body;e.classList.toggle("sapUShellApplicationContainerLimitedWidth",!t);e.classList.toggle("sapUShellApplicationContainer",!t)});n.on("setApplicationFullWidth").do(t=>{document.body.classList.toggle("sapUShellApplicationContainerLimitedWidth",!t.bValue);document.body.classList.toggle("sapUShellApplicationContainer",!t.bValue)});this.setApplicationFullWidth=function(t){if(u===true||u==="true"){n.emit("appWidthChange",t)}else{s.postMessageToFLP("sap.ushell.services.AppConfiguration.setApplicationFullWidth",{bValue:t})}};this.setFullWidthFromManifest=function(t){u=t};this.addApplicationSettingsButtons=function(t){for(let e=0;e<t.length;e++){const s=t[e];s.setIcon(s.getIcon()||i.getIconURI("customize"));if(l.i18n.getText("userSettings")===s.getProperty("text")){s.setProperty("text",l.i18n.getText("userAppSettings"))}s.setType(a.Unstyled)}o.removeOptionsActionSheetButton(e,"app").then(()=>{e=t;o.addOptionsActionSheetButton(e,"app")})}}return new u},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/AppLifeCycle", ["sap/base/Log","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/services/AppLifeCycle"],(e,p,r)=>{"use strict";function s(s,a,t){r.call(this,s,a,t);this.reloadCurrentApp=async function(){try{await p.postMessageToFLP("sap.ushell.services.AppLifeCycle.reloadCurrentApp",{})}catch(p){e.error("reloadCurrentApp failed: ",p)}}}s.prototype=r.prototype;s.hasNoAdapter=r.hasNoAdapter;return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/AppLifeCycleAgent", ["sap/base/Log","sap/base/util/extend","sap/base/util/UriParameters","sap/base/assert","sap/ui/core/EventBus","sap/ui/thirdparty/URI","sap/ui/Device","sap/ui/core/BusyIndicator","sap/ushell/EventHub","sap/ui/thirdparty/hasher","sap/ushell/utils","sap/ushell/utils/UrlParsing","sap/ushell/resources","sap/ushell/appRuntime/ui5/services/Container","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/appRuntime/ui5/performance/FesrEnhancer"],(e,t,s,n,a,r,p,i,o,u,l,c,d,h,f,A,g)=>{"use strict";function m(){const m=this;let y;let I;let C=true;const v={};let b;const S={};const w={};const R={};const P={};let L;let F;let H;let N;this.init=function(e,t,s,n,a,r){this.resetCurrentApp();y=e;b=t;F=s;if(n!==undefined){C=n}this.addAppInfoToCache(a,r);const p={"sap.ushell.services.appLifeCycle.create":{async handler(e,t){return m.create(e)}},"sap.ushell.services.appLifeCycle.destroy":{async handler(e,t){return m.destroy(e)}},"sap.ushell.services.appLifeCycle.store":{async handler(e,t){return m.store(e)}},"sap.ushell.services.appLifeCycle.restore":{async handler(e,t){return m.restore(e)}}};Object.keys(p).forEach(e=>{A.setRequestHandler(e,p[e].handler)});o.on("disableKeepAliveRestoreRouterRetrigger").do(e=>{if(e.componentId&&w[e.componentId]){w[e.componentId]=e.disable}});this._sendAppRuntimeSetup();N=d.i18n.getText("dataLossExternalMessage");window.onbeforeunload=function(){if(h.getDirtyFlag()){return N}return undefined}};this._sendAppRuntimeSetup=()=>{const e={isStateful:true,isKeepAlive:true,isIframeValid:true,session:{bLogoutSupport:true}};const t={session:{bLogoutSupport:true}};A.postMessageToFLP("sap.ushell.services.appLifeCycle.setup",window["sap-ushell-config"]?.ui5appruntime?.config?.stateful===false?t:e)};this.create=async function(e){let t;let o;let l;let d="";g.startInteraction();const h=e.sUrl;if(f.getIsScube()){o=s.fromURL(h).get("sap-remote-intent");n(typeof o==="string","AppLifeCycleAgent::create - sAppIntent must be string");if(e.sHash.indexOf("Shell-startIntent")===0){l=c.parseShellHash(e.sHash);d=`${l.params["sap-shell-so"]}-${l.params["sap-shell-action"]}`}}else{t=s.fromURL(h).get("sap-ui-app-id");n(typeof t==="string","AppLifeCycleAgent::create - sAppId must be string")}u.disableCFLPUpdate=true;u.replaceHash("");u.replaceHash(e.sHash);u.disableCFLPUpdate=false;if(p.browser.chrome){i.show(0)}if(H){H._resetBackNavigationCallback()}a.getInstance().publish("launchpad","appOpening",{});const A=await m.getAppInfo(t,h,o);const y=A.oResolvedHashFragment?.ui5ComponentName||A.oResolvedHashFragment?.name;const I=Object.keys(S).find(e=>{if(f.getIsScube()&&d.length>0){return S[e].sAppIntent===d&&S[e].ui5ComponentName===y}return S[e].ui5ComponentName&&S[e].ui5ComponentName===y});if(I){m.destroy({sCacheId:I},true)}const C=await m.expandSapIntentParams(new r(h).query(true));const v=await b(t,C,A.oResolvedHashFragment,o,A.oParsedHash);F(v);a.getInstance().publish("sap.ushell","appOpened",{});return{deletedKeepAliveId:I}};this.destroy=async function(t){function s(t){const s=t.sId||"<unknown>";try{t.destroy()}catch(t){e.error(`exception when trying to close sapui5 application with id '${s}' when running inside the appruntime iframe '${document.URL}'. This error must be fixed in order for the iframe to operate properly.\n`,t,"sap.ushell.appRuntime.ui5.services.AppLifeCycleAgent::destroy")}}const n=t.sCacheId;if(L.oApp===undefined&&n===undefined){A.postMessageToFLP("sap.ushell.appRuntime.isInvalidIframe",{bValue:true});return}if(n&&S[n]){if(S[n].oApp===L.oApp){this.resetCurrentApp()}delete w[S[n].oApp.sId];s(S[n].oApp);delete S[n]}else if(L.oApp){delete w[L.oApp.sId];s(L.oApp);this.resetCurrentApp()}h.cleanDirtyStateProviderArray();if(H){H._resetBackNavigationCallback()}g.setAppShortId();a.getInstance().publish("sap.ushell","appClosed",{})};this.store=async function(e){const t=e.sCacheId;const s=this.cloneCurrentAppEntry(L);if(L.oApp===undefined){A.postMessageToFLP("sap.ushell.appRuntime.isInvalidIframe",{bValue:true});return}S[t]=s;if(H){P[t]=H._getBackNavigationCallback()}const n=s.oApp.getComponentInstance();s.oApp.setVisible(false);R[t]=h.getAsyncDirtyStateProviders();h.cleanDirtyStateProviderArray();if(n){if(n.isKeepAliveSupported&&n.isKeepAliveSupported()===true){n.deactivate()}else{if(n.suspend){n.suspend()}if(n.getRouter&&n.getRouter()){n.getRouter().stop()}}}a.getInstance().publish("sap.ushell","appClosed",{})};this.restore=async function(e){const t=e.sCacheId;const s=S[t];const n=s.oApp.getComponentInstance();const r=w[s.oApp.sId];u.disableCFLPUpdate=true;u.replaceHash("");u.replaceHash(e.sHash);u.disableCFLPUpdate=false;a.getInstance().publish("launchpad","appOpening",{});s.oApp.setVisible(true);if(R[t]){h.setAsyncDirtyStateProviders(R[t])}if(H){H.setBackNavigation(P[t])}if(n){if(n.isKeepAliveSupported&&n.isKeepAliveSupported()===true){n.activate()}else{if(n.restore){n.restore()}if(n.getRouter&&n.getRouter()&&n.getRouter().initialize){if(r===false){n.getRouter().initialize()}else{n.getRouter().initialize(true)}}}L=this.cloneCurrentAppEntry(s)}a.getInstance().publish("sap.ushell","appOpened",{});setTimeout(()=>{A.postMessageToFLP("sap.ushell.services.AppLifeCycle.setNewAppInfo",{info:s.oAppAttributes})},500)};this.expandSapIntentParams=async function(e){if(e.hasOwnProperty("sap-intent-param")){const s=e["sap-intent-param"];try{const n=await A.postMessageToFLP("sap.ushell.services.CrossApplicationNavigation.getAppStateData",{sAppStateKey:s});delete e["sap-intent-param"];const a=t({},e,new r(`?${n}`).query(true),true);return a}catch{}}return e};this.addAppParamsToIntent=async function(e,t){const s=await m.expandSapIntentParams(new r(e).query(true));return m.getApplicationParameters(s)};this.getApplicationParameters=async function(e){let t;let s;let n;function a(e,t){let s="";if(e&&e.length>0){s=(e.startsWith("?")?"":"?")+e}if(t&&t.length>0){s+=(s.length>0?"&":"?")+t}return s}if(e.hasOwnProperty("sap-startup-params")){t=new r(`?${e["sap-startup-params"]}`).query(true);if(t.hasOwnProperty("sap-intent-param")){s=t["sap-intent-param"];delete t["sap-intent-param"]}n=new r("?").query(t).toString();if(s){try{const e=await A.postMessageToFLP("sap.ushell.services.CrossApplicationNavigation.getAppStateData",{sAppStateKey:s});return a(n,e)}catch{}}return a(n)}return""};this.getAppInfo=async function(e,t,s){async function n(){const s=await I.getAppInfo(e,t);m.addAppInfoToCache(e,s);return{oResolvedHashFragment:s}}if(s){let e=await m.addAppParamsToIntent(t,s);if(e.length>0){e=new r(e).removeSearch("sap-remote-system").removeSearch("sap-ushell-defaultedParameterNames").toString()}const n=await h.getServiceAsync("NavTargetResolutionInternal");const a=n.resolveHashFragmentLocal(`#${s}${e}`);const p=await l.promisify(a);const i=c.parseShellHash(`#${s}${e}`);return{oResolvedHashFragment:p,oParsedHash:i}}else if(C===true&&v[e]){return{oResolvedHashFragment:JSON.parse(JSON.stringify(v[e]))}}else if(I){return n()}const[a]=await l.requireAsync([y.replace(/\./g,"/")]);I=a;return n()};this.addAppInfoToCache=function(e,t){if(e&&t&&C===true&&v[e]===undefined){v[e]=JSON.parse(JSON.stringify(t))}};this.setCurrentApp=function(e,t,s){this.resetCurrentApp();L.oApp=e;L.sAppIntent=t;L.ui5ComponentName=s;if(L.oApp){w[L.oApp.sId]=true}};this.setCurrentAppAttributes=function(e){L.oAppAttributes=e};this.resetCurrentApp=function(){L={oApp:undefined,sAppIntent:undefined,ui5ComponentName:undefined,oAppAttributes:{}}};this.cloneCurrentAppEntry=function(e){return{oApp:e.oApp,sAppIntent:e.sAppIntent,ui5ComponentName:e.ui5ComponentName,oAppAttributes:e.oAppAttributes}};this.setShellUIService=function(e){H=e};this.checkDataLossAndContinue=function(){if(h.getDirtyFlag()){if(window.confirm(N)){h.setDirtyFlag(false);return true}return false}return true}}return new m},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/AppState", ["sap/ushell/services/AppState","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/services/appstate/AppState","sap/ui/thirdparty/jquery","sap/ushell/appRuntime/ui5/AppRuntimeContext"],(e,t,s,jQuery,a)=>{"use strict";function p(p,n,i,r){e.call(this,p,n,i,r);this.createEmptyAppStateOrig=this.createEmptyAppState;this.createEmptyAppState=function(e,t,s,p){if(a.getIsScube()){t=false}const n=this.createEmptyAppStateOrig(e,t,s,p);if(typeof t==="boolean"&&n._bTransient!==t){n._bTransient=t;n._sKey=this._getGeneratedKey(t)}return n};this.getAppState=function(e){const a=this;const p=new jQuery.Deferred;t.postMessageToFLP("sap.ushell.services.AppState.getAppState",{sKey:e}).then(e=>{const t=new s(a,e._sKey,e._bModifiable,e._sData,e._sAppName,e._sACHComponent,e._bTransient,e._iPersistencyMethod,e._oPersistencySettings);p.resolve(t)});return p.promise()};this._saveAppState=function(e,s,a,p,n,i,r){return t.sendMessageToOuterShell("sap.ushell.services.AppState._saveAppState",{sKey:e,sData:s,sAppName:a,sComponent:p,bTransient:n,iPersistencyMethod:i,oPersistencySettings:r})};e.prototype.deleteAppState=function(e){return t.sendMessageToOuterShell("sap.ushell.services.AppState.deleteAppState",{sKey:e})};this.getAppStateData=function(e){return t.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getAppStateData",{sAppStateKey:e})};this.createNewInAppState=function(e){return t.sendMessageToOuterShell("sap.ushell.services.AppState.createNewInAppState",{sData:e})};this.updateInAppStateData=function(e){return t.sendMessageToOuterShell("sap.ushell.services.AppState.updateInAppState",{sData:e})};this.getInAppStateData=function(){return t.sendMessageToOuterShell("sap.ushell.services.AppState.getInAppStateData")};this.makeStatePersistent=function(e,s,a){return t.sendMessageToOuterShell("sap.ushell.services.AppState.makeStatePersistent",{sKey:e,iPersistencyMethod:s,oPersistencySettings:a})}}p.prototype=e.prototype;p.hasNoAdapter=e.hasNoAdapter;p.WindowAdapter=e.WindowAdapter;return p},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/Bookmark", ["sap/ui/thirdparty/jquery","sap/ushell/services/Bookmark","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/appRuntime/ui5/AppRuntimeContext"],(jQuery,e,o,s)=>{"use strict";function t(t,r,a){e.call(this,t,r,a);this.addBookmark=function(e,t){const r=new jQuery.Deferred;function a(){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.addBookmarkUI5",{oParameters:e,vContainer:t})}if(e.url.startsWith("#")){s.checkIntentsConversionForScube([{intent:e.url}]).then(o=>{e.url=o[0].intent;a().then(r.resolve).catch(r.reject)})}else{a().then(r.resolve).catch(r.reject)}return r.promise()};this.getShellGroupIDs=function(){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.getShellGroupIDs")};this.addBookmarkByGroupId=function(e,s){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.addBookmark",{oParameters:e,groupId:s})};this.addCatalogTileToGroup=function(e,s,t){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.addCatalogTileToGroup",{sCatalogTileId:e,sGroupId:s,oCatalogData:t})};this.countBookmarks=function(e){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.countBookmarks",{sUrl:e})};this.deleteBookmarks=function(e){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.deleteBookmarks",{sUrl:e})};this.updateBookmarks=function(e,s){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.updateBookmarks",{sUrl:e,oParameters:s})};this.getContentNodes=function(){return o.postMessageToFLP("sap.ushell.services.Bookmark.getContentNodes")};this.addCustomBookmark=function(e,s,t){return o.postMessageToFLP("sap.ushell.services.Bookmark.addCustomBookmark",{sVizType:e,oConfig:s,vContentNodes:t})};this.countCustomBookmarks=function(e){return o.postMessageToFLP("sap.ushell.services.Bookmark.countCustomBookmarks",{oIdentifier:e})};this.updateCustomBookmarks=function(e,s){return o.postMessageToFLP("sap.ushell.services.Bookmark.updateCustomBookmarks",{oIdentifier:e,oConfig:s})};this.deleteCustomBookmarks=function(e){return o.postMessageToFLP("sap.ushell.services.Bookmark.deleteCustomBookmarks",{oIdentifier:e})};this.addBookmarkToPage=function(e,s){return o.postMessageToFLP("sap.ushell.services.Bookmark.addBookmarkToPage",{oParameters:e,sPageId:s})}}t.prototype=e.prototype;t.hasNoAdapter=e.hasNoAdapter;return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/BookmarkV2", ["sap/ushell/services/BookmarkV2","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/appRuntime/ui5/AppRuntimeContext"],(o,e,s)=>{"use strict";function t(t,r,a){o.call(this,t,r,a);this.addBookmark=function(o,t){function r(){return e.postMessageToFLP("sap.ushell.services.BookmarkV2.addBookmarkUI5",{oParameters:o,vContainer:t})}return new Promise((e,t)=>{if(o.url.startsWith("#")){s.checkIntentsConversionForScube([{intent:o.url}]).then(s=>{o.url=s[0].intent;r().then(e).catch(t)}).catch(t)}else{r().then(e).catch(t)}})};this.getShellGroupIDs=function(){return e.postMessageToFLP("sap.ushell.services.BookmarkV2.getShellGroupIDs")};this.addBookmarkByGroupId=function(o,s){return e.postMessageToFLP("sap.ushell.services.BookmarkV2.addBookmark",{oParameters:o,groupId:s})};this.countBookmarks=function(o){return e.postMessageToFLP("sap.ushell.services.BookmarkV2.countBookmarks",{sUrl:o})};this.deleteBookmarks=function(o){return e.postMessageToFLP("sap.ushell.services.BookmarkV2.deleteBookmarks",{sUrl:o})};this.updateBookmarks=function(o,s){return e.postMessageToFLP("sap.ushell.services.BookmarkV2.updateBookmarks",{sUrl:o,oParameters:s})};this.getContentNodes=function(){return e.postMessageToFLP("sap.ushell.services.BookmarkV2.getContentNodes")};this.addCustomBookmark=function(o,s,t){return e.postMessageToFLP("sap.ushell.services.BookmarkV2.addCustomBookmark",{sVizType:o,oConfig:s,vContentNodes:t})};this.countCustomBookmarks=function(o){return e.postMessageToFLP("sap.ushell.services.BookmarkV2.countCustomBookmarks",{oIdentifier:o})};this.updateCustomBookmarks=function(o,s){return e.postMessageToFLP("sap.ushell.services.BookmarkV2.updateCustomBookmarks",{oIdentifier:o,oConfig:s})};this.deleteCustomBookmarks=function(o){return e.postMessageToFLP("sap.ushell.services.BookmarkV2.deleteCustomBookmarks",{oIdentifier:o})};this.addBookmarkToPage=function(o,s){return e.postMessageToFLP("sap.ushell.services.BookmarkV2.addBookmarkToPage",{oParameters:o,sPageId:s})}}t.prototype=o.prototype;t.hasNoAdapter=o.hasNoAdapter;return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/CommonDataModel", ["sap/ushell/services/CommonDataModel","sap/ushell/appRuntime/ui5/AppCommunicationMgr"],(e,s)=>{"use strict";function t(t,a,o,p){e.call(this,t,a,o,p);this.getAllPages=function(){return s.postMessageToFLP("sap.ushell.services.CommonDataModel.getAllPages")}}t.prototype=e.prototype;t.hasNoAdapter=e.hasNoAdapter;return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/Container", ["sap/ushell/Container","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/utils","sap/base/assert"],function(t,e,n,r){"use strict";let i;let o;let u;let s=false;let a=[];let l=[];let c=[];let f=false;t.inAppRuntime=function(){return true};t.runningInIframe=this.inAppRuntime;t.getFLPUrl=function(t){return e.postMessageToFLP("sap.ushell.services.Container.getFLPUrl",{bIncludeHash:t})};t.getFLPUrlAsync=function(t){return n.toDeferred(this.getFLPUrl(t))};t.getRenderer=function(){return u};t.getRendererInternal=function(){return u};t.logout=function(){return i.logout()};t.getFLPPlatform=function(){return e.sendMessageToOuterShell("sap.ushell.services.Container.getFLPPlatform")};t.extendSession=function(){o?.userActivityHandler()};t.setDirtyFlag=function(t){s=t};t.getDirtyFlag=function(){return s||this.handleDirtyStateProvider()};t.registerDirtyStateProvider=function(t){if(typeof t!=="function"){throw new Error("fnDirty must be a function")}a.push(t)};t.handleDirtyStateProvider=function(t){let e=false;if(a.length>0){const n=t||this._oShellNavigationInternal.getNavigationContext();for(let t=0;t<a.length&&e===false;t++){e=e||(a[t](n)||false)}}return e};t.deregisterDirtyStateProvider=function(t){if(typeof t!=="function"){throw new Error("fnDirty must be a function")}let e=-1;for(let n=a.length-1;n>=0;n--){if(a[n]===t){e=n;break}}if(e>=0){a.splice(e,1)}};t.cleanDirtyStateProviderArray=function(){a=[];s=false};this.setAsyncDirtyStateProvider=function(){};t.getAsyncDirtyStateProviders=function(){return a};t.setAsyncDirtyStateProviders=function(t){a=t};function g(t,e){let n=false;for(let r=0;r<t.length;r++){if(t[r]===e){n=true;break}}if(!n){t.push(e)}}t.attachLogoutEvent=function(t,n){r(typeof t==="function","Container.attachLogoutEvent: fnFunction must be a function");if(n===true){g(l,t)}else{g(c,t)}if(!f){f=true;e.postMessageToFLP("sap.ushell.services.Container.attachLogoutEvent",{})}};t._getAsyncFunctionsArray=function(){return l};t._getSyncFunctionsArray=function(){return l};t.executeAsyncAndSyncLogoutFunctions=function(){return new Promise((t,e)=>{const n=[];if(c.length>0){for(let t=0;t<c.length;t++){c[t]()}}if(l.length>0){for(let t=0;t<l.length;t++){n.push(l[t]())}}Promise.all(n).then(t)})};function h(t,e){for(let n=0;n<t.length;n++){if(t[n]===e){t.splice(n,1);break}}}t.detachLogoutEvent=function(t){h(c,t);h(l,t)};t._getAsyncFunctionsArray=function(){return l};t._getSyncFunctionsArray=function(){return c};t._clearAsyncFunctionsArray=function(){l=[]};t._clearSyncFunctionsArray=function(){c=[]};const p=t.init.bind(t);t.init=function(e,n){return new Promise(r=>{sap.ui.require(["sap/ushell/appRuntime/ui5/SessionHandlerAgent","sap/ushell/appRuntime/ui5/renderers/fiori2/Renderer","sap/ushell/appRuntime/ui5/ui/UIProxy"],(s,a)=>{o=s;u=a;p(e,n).then(()=>{i=t._getAdapter();return t.getServiceAsync("ShellNavigationInternal")}).then(e=>{t._oShellNavigationInternal=e;r()})})})};return t},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/CrossApplicationNavigation", ["sap/ushell/services/CrossApplicationNavigation","sap/ushell/services/appstate/AppState","sap/ui/thirdparty/jquery","sap/base/Log","sap/ushell/appRuntime/ui5/services/Container","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/base/util/deepClone","sap/ushell/utils/UrlParsing"],(e,s,jQuery,t,i,n,a,r,o)=>{"use strict";function p(p,l,c){e.call(this,p,l,c);this.backToPreviousApp=function(){if(a.checkDataLossAndContinue()){return n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.backToPreviousApp")}};this.expandCompactHashLocal=this.expandCompactHash;this.expandCompactHash=function(e){if(a.getIsScube()){return this.expandCompactHashLocal(e)}return n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.expandCompactHash",{sHashFragment:e})};this.getDistinctSemanticObjectsLocal=this.getDistinctSemanticObjects;this.getDistinctSemanticObjects=function(){if(a.getIsScube()){return this.getDistinctSemanticObjectsLocal()}return n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getDistinctSemanticObjects")};this.getLinksLocal=this.getLinks;this._combineResults=function(e,s){const t=e.map(e=>e[0]);const i=s.map(e=>e[0]);const n=t.map((e,s)=>i[s].concat(t[s]));return n.map(e=>[e])};this.getLinks=function(e){const s=new jQuery.Deferred;function t(e){if(Array.isArray(e)){e.forEach(e=>{if(e[0]){delete e[0].ui5Component}})}else{delete(e||{}).ui5Component}}if(a.getIsScube()){this.getLinksLocal(e).then(i=>{t(e);n.postMessageToFLP("sap.ushell.services.CrossApplicationNavigation.getLinks",e).then(t=>{if(Array.isArray(e)){const e=this._combineResults(i,t);s.resolve(e)}else{s.resolve(t.concat(i))}})})}else{t(e);n.postMessageToFLP("sap.ushell.services.CrossApplicationNavigation.getLinks",e).then(s.resolve).catch(s.reject)}return s.promise()};this.getPrimaryIntent=function(e,s){return n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getPrimaryIntent",{sSemanticObject:e,mParameters:s})};this.getSemanticObjectLinks=function(e,s,t,i,a,r){return n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getSemanticObjectLinks",{sSemanticObject:e,mParameters:s,bIgnoreFormFactor:t,sAppStateKey:a,bCompactIntents:r})};this.historyBack=function(e){if(a.checkDataLossAndContinue()){n.postMessageToFLP("sap.ushell.services.CrossApplicationNavigation.historyBack",{iSteps:e})}};this.isIntentSupported=function(e,s){if(a.getIsScube()){const t=new jQuery.Deferred;i.getServiceAsync("NavTargetResolutionInternal").then(i=>{i.isIntentSupported(e,s).done(t.resolve,t.reject)});return t.promise()}return n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.isIntentSupported",{aIntents:e})};this.isNavigationSupported=function(e,s,t){function o(e){return n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.isNavigationSupported",{aIntents:e})}if(t===true){return o(e)}if(a.getIsScube()){const t=new jQuery.Deferred;const n=e.map(e=>{if(typeof e==="object"){let s=e;if(e.params&&e.params.hasOwnProperty("sap-app-origin")){s=r(e);delete s.params["sap-app-origin"]}return s}return e});i.getServiceAsync("NavTargetResolutionInternal").then(e=>{e.isNavigationSupported(n,s).done(t.resolve,t.reject)});return t.promise()}return o(e)};this.toExternal=function(e,s){if(a.getIsScube()){if(e.target&&e.target.shellHash){const s=o.parseShellHash(e.target.shellHash);if(s.params){delete s.params["sap-app-origin"];e.target.shellHash=o.constructShellHash(s)}}else if(e.params){delete e.params["sap-app-origin"]}i.getServiceAsync("ShellNavigationInternal").then(t=>{t.toExternal(e,s)})}else if(a.checkDataLossAndContinue()){n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.toExternal",{oArgs:e})}return(new jQuery.Deferred).resolve().promise()};this.getAppState=function(e,t){const a=new jQuery.Deferred;n.postMessageToFLP("sap.ushell.services.CrossApplicationNavigation.getAppState",{sAppStateKey:t}).then(e=>{i.getServiceAsync("AppState").then(t=>{const i=new s(t,e._sKey,e._bModifiable,e._sData,e._sAppName,e._sACHComponent,e._bTransient);a.resolve(i)})});return a.promise()};this.resolveIntentLocal=this.resolveIntent;this.resolveIntent=function(e){if(a.getIsScube()){return this.resolveIntentLocal(e)}return n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.resolveIntent",{sHashFragment:e})};this.hrefForExternalAsync=function(e){return n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.hrefForExternal",{oArgs:e})};this.hrefForAppSpecificHashAsync=function(e){return n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.hrefForAppSpecificHash",{sAppHash:e})};this.isInitialNavigation=function(){t.error("Deprecated API call of 'sap.ushell.CrossApplicationNavigation.isInitialNavigation'. Please use 'isInitialNavigationAsync' instead",null,"sap.ushell.services.CrossApplicationNavigation");return false};this.isInitialNavigationAsync=function(){return n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.isInitialNavigation",{})}}p.prototype=e.prototype;p.hasNoAdapter=e.hasNoAdapter;return p},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/Extension", ["sap/base/Log","sap/base/util/isPlainObject","sap/ui/core/Element","sap/ushell/appRuntime/ui5/services/Extension/Item","sap/ushell/appRuntime/ui5/AppCommunicationMgr"],(e,t,o,s,i)=>{"use strict";function r(){this._oItemMap={};const e={"sap.ushell.services.Extension.handleControlEvent":{handler:async(e,t)=>{const{itemId:o,eventName:s}=e;const i=this._oItemMap[o];if(i){i.handleEvent(s)}}}};Object.keys(e).forEach(t=>{i.setRequestHandler(t,e[t].handler)})}r.prototype._extractControlProperties=function(e){const o={primitive:{},complex:{},events:{}};Object.keys(e).forEach(s=>{const i=e[s];if(typeof i==="function"){o.events[s]=i}else if(typeof i==="object"){if(t(i)){o.primitive[s]=i}else{o.complex[s]=i}}else{o.primitive[s]=i}});return o};r.prototype.createHeaderItem=async function(t,r={}){if(t.id){if(o.getElementById(t.id)){throw new Error("The control id is not allowed for header items! The id will be generated automatically and must not be set by the application.")}e.error("The control id is not allowed for header items! The id will be generated automatically.");delete t.id}const n=this._extractControlProperties(t);if(Object.keys(n.complex).length>0){throw new Error("Complex properties (aggregations, controls, non plain objects) are not allowed for header items!")}const{itemId:a}=await i.postMessageToFLP("sap.ushell.services.Extension.createHeaderItem",{controlProperties:n.primitive,events:Object.keys(n.events),parameters:r});const l=new s(a,n.events);this._oItemMap[a]=l;return l};r.prototype.createUserAction=async function(t,r={}){if(t.id){if(o.getElementById(t.id)){throw new Error("The control id is not allowed for header items! The id will be generated automatically and must not be set by the application.")}e.error("The control id is not allowed for header items! The id will be generated automatically.");delete t.id}const n=this._extractControlProperties(t);if(Object.keys(n.complex).length>0){throw new Error("Complex properties (aggregations, controls, non plain objects) are not allowed for user actions!")}const{itemId:a}=await i.postMessageToFLP("sap.ushell.services.Extension.createUserAction",{controlProperties:n.primitive,events:Object.keys(n.events),parameters:r});const l=new s(a,n.events);this._oItemMap[a]=l;return l};r.prototype.setSecondTitle=function(e){return i.postMessageToFLP("sap.ushell.services.Extension.setSecondTitle",{title:e})};r.hasNoAdapter=true;return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/Extension/Item", ["sap/ushell/appRuntime/ui5/AppCommunicationMgr"],e=>{"use strict";class s{#e=null;#s=null;constructor(e,s){this.#e=e;this.#s=s}async destroy(){e.postMessageToFLP("sap.ushell.services.Extension.Item.destroy",{itemId:this.#e})}showForCurrentApp(){e.postMessageToFLP("sap.ushell.services.Extension.Item.showForCurrentApp",{itemId:this.#e});return this}hideForCurrentApp(){e.postMessageToFLP("sap.ushell.services.Extension.Item.hideForCurrentApp",{itemId:this.#e});return this}showForAllApps(){e.postMessageToFLP("sap.ushell.services.Extension.Item.showForAllApps",{itemId:this.#e});return this}hideForAllApps(){e.postMessageToFLP("sap.ushell.services.Extension.Item.hideForAllApps",{itemId:this.#e});return this}showOnHome(){e.postMessageToFLP("sap.ushell.services.Extension.Item.showOnHome",{itemId:this.#e});return this}hideOnHome(){e.postMessageToFLP("sap.ushell.services.Extension.Item.hideOnHome",{itemId:this.#e});return this}handleEvent(e){if(this.#s[e]){this.#s[e]()}}}return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/FlpLaunchPage", [],()=>{"use strict";function e(){throw new Error("The 'FlpLaunchPage' is not supported in the iframe environment.")}e.hasNoAdapter=true;return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/FrameBoundExtension", [],()=>{"use strict";function e(){throw new Error("The 'FrameBoundExtension' is not supported in the iframe environment.")}e.hasNoAdapter=true;return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/LaunchPage", ["sap/ushell/services/LaunchPage","sap/ushell/appRuntime/ui5/AppCommunicationMgr"],(e,s)=>{"use strict";function o(e,o,r){this.getGroupsForBookmarks=function(){return s.sendMessageToOuterShell("sap.ushell.services.LaunchPage.getGroupsForBookmarks")}}o.prototype=e.prototype;o.hasNoAdapter=e.hasNoAdapter;return o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/MessageBroker", ["sap/base/Log","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/appRuntime/ui5/services/MessageBroker/Client","sap/ushell/services/MessageBroker/ClientAlias","sap/ushell/utils/CallbackQueue"],(e,s,n,t,r)=>{"use strict";function a(){this._mClientData=new Map;this._oLogger=e.getLogger("sap.ushell.services.MessageBroker");this.oCallbackQueue=new r}a.prototype.connect=async function(e,t){return this.oCallbackQueue.push(async()=>{if(typeof e!=="string"||!e.length){throw new Error("Cannot connect client: Missing required parameter client id")}if(typeof t!=="function"){this._oLogger.error(`Missing required parameter 'fnClientConnectionCallback' for client '${e}'! It has to be provided as part of the connect() call`)}const r=new n(e);r.setClientConnectionCallback(t);await s.postMessageToFLP("sap.ushell.services.MessageBroker",{channelId:"sap.ushell.MessageBroker",clientId:e,messageName:"connect"});this._mClientData.set(e,r)})};a.prototype.disconnect=async function(e){return this.oCallbackQueue.push(async()=>{if(typeof e!=="string"||!e.length){throw new Error("Cannot disconnect client: Missing required parameter client id")}await s.postMessageToFLP("sap.ushell.services.MessageBroker",{channelId:"sap.ushell.MessageBroker",clientId:e,messageName:"disconnect"});this._mClientData.delete(e)})};a.prototype.subscribe=async function(e,n,t,r){return this.oCallbackQueue.push(async()=>{if(typeof e!=="string"||!e.length||!n.length||typeof t!=="function"){throw new Error(`Cannot subscribe client '${e}': Missing required parameter(s)`)}if(typeof r==="function"){this._oLogger.error(`The 'fnClientConnectionCallback' parameter was provided by client '${e}'. This parameter is deprecated and should be provided as part of the connect() call`)}const a=this._mClientData.get(e);if(!a){throw new Error(`Cannot subscribe client '${e}': Client is not connected`)}await s.postMessageToFLP("sap.ushell.services.MessageBroker",{channelId:"sap.ushell.MessageBroker",clientId:e,messageName:"subscribe",subscribedChannels:n});n.forEach(e=>a.subscribe(e.channelId,t));if(r){a.setClientConnectionCallback(r)}})};a.prototype.unsubscribe=async function(e,n){return this.oCallbackQueue.push(async()=>{if(typeof e!=="string"||!e.length||!Array.isArray(n)||!n.length){throw new Error(`Cannot unsubscribe client '${e}': Missing required parameter(s)`)}const t=this._mClientData.get(e);if(!t){throw new Error(`Cannot subscribe client '${e}': Client is not connected`)}await s.postMessageToFLP("sap.ushell.services.MessageBroker",{channelId:"sap.ushell.MessageBroker",clientId:e,messageName:"unsubscribe",subscribedChannels:n});n.forEach(e=>t.subscribe(e.channelId,undefined))})};a.prototype.publish=async function(e,n,r,a,i,o){return this.oCallbackQueue.push(async()=>{if(typeof a==="string"&&(Array.isArray(i)||i===t.AllClients)){this._oLogger.error(`The parameter 'sMessageId' was provided by client '${n}'. It is deprecated and should not be provided`)}else{o=i;i=a;a=r;r=undefined}let c;if(i===t.AllClients){c=[t.AllClients]}else{c=[...i]}s.postMessageToFLP("sap.ushell.services.MessageBroker",{clientId:n,channelId:e,targetClientIds:c,messageName:a,data:o})})};a.prototype.addAcceptedOrigin=function(e){};a.prototype.removeAcceptedOrigin=function(e){};a.prototype.getAcceptedOrigins=function(){};a.prototype.getAcceptedOrigins=function(){};a.prototype.handleMessage=async function(e){return this.oCallbackQueue.push(async()=>{const s=this._mClientData.get(e.targetClientId);if(!s){throw new Error(`Client '${e.targetClientId}' is not connected`)}if(["clientSubscribed","clientUnsubscribed"].includes(e.messageName)){s.callClientConnectionCallback(e.messageName,e.clientId,e.channels);return{_noresponse_:true}}const n=s.getMessageCallback(e.channelId);if(!n){throw new Error(`Client '${e.clientId}' is not subscribed to channel '${e.channelId}'`)}n(e.clientId,e.channelId,e.messageName,e.data);return{_noresponse_:true}})};a.hasNoAdapter=true;return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/MessageBroker/Client", [],()=>{"use strict";class n{#n;#t;#e=new Map;#l=[];constructor(n){this.#n=n}setClientConnectionCallback(n){this.#t=n}subscribe(n,t){this.#e.set(n,t)}unsubscribe(n){this.#e.delete(n)}getMessageCallback(n){return this.#e.get(n)}callClientConnectionCallback(...n){if(!this.#t){this.#l.push(n);return}this.#t(...n)}applyPreviousConnectionCalls(){if(!this.#t){return}this.#l.forEach(n=>{this.#t(...n)});this.#l=[]}}return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/NavTargetResolution", ["sap/ushell/services/NavTargetResolution","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/ui/thirdparty/jquery"],(e,t,s,jQuery)=>{"use strict";function n(n,i,r,a){e.call(this,n,i,r,a);this.getDistinctSemanticObjectsLocal=this.getDistinctSemanticObjects;this.getDistinctSemanticObjects=function(){const e=new jQuery.Deferred;const n=[];let i;n.push(s.getIsScube()?this.getDistinctSemanticObjectsLocal():Promise.resolve([]));n.push(t.postMessageToFLP("sap.ushell.services.NavTargetResolution.getDistinctSemanticObjects"));Promise.allSettled(n).then(t=>{i=t[0].status==="fulfilled"?t[0].value:[];i=i.concat(t[1].status==="fulfilled"?t[1].value:[]);i=i.filter((e,t,s)=>s.indexOf(e)===t).sort();e.resolve(i)});return e.promise()};this.expandCompactHash=function(e){if(e&&e.indexOf("sap-intent-param")>0){return t.sendMessageToOuterShell("sap.ushell.services.NavTargetResolution.expandCompactHash",{sHashFragment:e})}return(new jQuery.Deferred).resolve(e).promise()};this.resolveHashFragmentLocal=this.resolveHashFragment;this.resolveHashFragment=function(e){if(s.getIsScube()){const s=new jQuery.Deferred;this.resolveHashFragmentLocal(e).done(s.resolve).fail(()=>t.postMessageToFLP("sap.ushell.services.NavTargetResolution.resolveHashFragment",{sHashFragment:e}).then(s.resolve).catch(s.reject));return s.promise()}return t.sendMessageToOuterShell("sap.ushell.services.NavTargetResolution.resolveHashFragment",{sHashFragment:e})};this.isIntentSupportedLocal=this.isIntentSupported;this.isIntentSupported=function(e){const n=new jQuery.Deferred;const i=[];let r;let a;i.push(s.getIsScube()?this.isIntentSupportedLocal(e):Promise.resolve(undefined));i.push(t.postMessageToFLP("sap.ushell.services.NavTargetResolution.isIntentSupported",{aIntents:e}));Promise.allSettled(i).then(t=>{r=t[0].status==="fulfilled"?t[0].value:undefined;a=t[1].status==="fulfilled"?t[1].value:undefined;if(r&&a){Object.keys(r).forEach(e=>{r[e].supported=r[e].supported||a[e].supported})}else if(r||a){r=r||a}else{r={};e.forEach(e=>{r[e]={supported:undefined}})}n.resolve(r)});return n.promise()};this._isIntentSupportedLocal=this.isIntentSupportedLocal;this._isIntentSupported=this.isIntentSupported}n.prototype=e.prototype;n.hasNoAdapter=e.hasNoAdapter;return n},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/NavTargetResolutionInternal", ["sap/ushell/services/NavTargetResolutionInternal","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/ui/thirdparty/jquery"],(e,t,s,jQuery)=>{"use strict";function n(n,r,a,i){e.call(this,n,r,a,i);this.getDistinctSemanticObjectsLocal=this.getDistinctSemanticObjects;this.getDistinctSemanticObjects=function(){const e=new jQuery.Deferred;const n=[];let r;n.push(s.getIsScube()?this.getDistinctSemanticObjectsLocal():Promise.resolve([]));n.push(t.postMessageToFLP("sap.ushell.services.NavTargetResolutionInternal.getDistinctSemanticObjects"));Promise.allSettled(n).then(t=>{r=t[0].status==="fulfilled"?t[0].value:[];r=r.concat(t[1].status==="fulfilled"?t[1].value:[]);r=r.filter((e,t,s)=>s.indexOf(e)===t).sort();e.resolve(r)});return e.promise()};this.expandCompactHash=function(e){if(e&&e.indexOf("sap-intent-param")>0){return t.sendMessageToOuterShell("sap.ushell.services.NavTargetResolutionInternal.expandCompactHash",{sHashFragment:e})}return(new jQuery.Deferred).resolve(e).promise()};this.resolveHashFragmentLocal=this.resolveHashFragment;this.resolveHashFragment=function(e){if(s.getIsScube()){const s=new jQuery.Deferred;this.resolveHashFragmentLocal(e).done(s.resolve).fail(()=>t.postMessageToFLP("sap.ushell.services.NavTargetResolutionInternal.resolveHashFragment",{sHashFragment:e}).then(s.resolve).catch(s.reject));return s.promise()}return t.sendMessageToOuterShell("sap.ushell.services.NavTargetResolutionInternal.resolveHashFragment",{sHashFragment:e})};this.isIntentSupportedLocal=this.isIntentSupported;this.isIntentSupported=function(e){const n=new jQuery.Deferred;const r=[];let a;let i;r.push(s.getIsScube()?this.isIntentSupportedLocal(e):Promise.resolve(undefined));r.push(t.postMessageToFLP("sap.ushell.services.NavTargetResolutionInternal.isIntentSupported",{aIntents:e}));Promise.allSettled(r).then(t=>{a=t[0].status==="fulfilled"?t[0].value:undefined;i=t[1].status==="fulfilled"?t[1].value:undefined;if(a&&i){Object.keys(a).forEach(e=>{a[e].supported=a[e].supported||i[e].supported})}else if(a||i){a=a||i}else{a={};e.forEach(e=>{a[e]={supported:undefined}})}n.resolve(a)});return n.promise()};this._isIntentSupportedLocal=this.isIntentSupportedLocal;this._isIntentSupported=this.isIntentSupported}n.prototype=e.prototype;n.hasNoAdapter=e.hasNoAdapter;return n},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/Navigation", ["sap/ushell/services/Navigation","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/services/appstate/AppState","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/base/util/deepClone","sap/ushell/utils/UrlParsing","sap/ushell/appRuntime/ui5/services/Container"],(e,t,s,i,a,n,r)=>{"use strict";function o(o,p,u){e.call(this,o,p,u);this.getHref=function(e){return t.postMessageToFLP("sap.ushell.services.Navigation.getHref",{oTarget:e})};this.backToPreviousApp=function(){if(i.checkDataLossAndContinue()){return t.postMessageToFLP("sap.ushell.services.Navigation.backToPreviousApp")}return Promise.resolve()};this.historyBack=function(e){if(i.checkDataLossAndContinue()){t.postMessageToFLP("sap.ushell.services.Navigation.historyBack",{iSteps:e})}};this.isInitialNavigation=function(){return t.postMessageToFLP("sap.ushell.services.Navigation.isInitialNavigation",{})};this.navigate=function(e,s){if(i.getIsScube()){if(e.target&&e.target.shellHash){const t=n.parseShellHash(e.target.shellHash);if(t.params){delete t.params["sap-app-origin"];e.target.shellHash=n.constructShellHash(t)}}else if(e.params){delete e.params["sap-app-origin"]}return r.getServiceAsync("ShellNavigationInternal").then(t=>t.toExternal(e,s))}else if(i.checkDataLossAndContinue()){return t.postMessageToFLP("sap.ushell.services.Navigation.navigate",{oTarget:e})}return Promise.resolve()};this.getPrimaryIntent=async function(e,s){return t.postMessageToFLP("sap.ushell.services.Navigation.getPrimaryIntent",{sSemanticObject:e,oLinkFilter:s})};this._removeComponent=function(e){e.forEach(e=>{if(e){delete e.ui5Component}})};this.getLinksLocal=this.getLinks;this.getLinks=function(e=[]){if(!Array.isArray(e)){throw new Error("Unexpected Input: aLinkFilter has to be an array with plain objects!")}if(i.getIsScube()){return this.getLinksLocal(e).then(s=>{this._removeComponent(e);return t.postMessageToFLP("sap.ushell.services.Navigation.getLinks",e).then(e=>s.map((t,i)=>e[i].concat(s[i])))})}this._removeComponent(e);return t.postMessageToFLP("sap.ushell.services.Navigation.getLinks",e)};this.getSemanticObjectsLocal=this.getSemanticObjects;this.getSemanticObjects=function(){if(i.getIsScube()){return this.getSemanticObjectsLocal()}return t.postMessageToFLP("sap.ushell.services.Navigation.getSemanticObjects")};this.isNavigationSupported=function(e,s,n){function o(e){return t.postMessageToFLP("sap.ushell.services.Navigation.isNavigationSupported",{aTargets:e})}if(n===true){return o(e)}if(i.getIsScube()){const t=e.map(e=>{if(typeof e==="object"){let t=e;if(e.params&&e.params.hasOwnProperty("sap-app-origin")){t=a(e);delete t.params["sap-app-origin"]}return t}return e});return r.getServiceAsync("NavTargetResolutionInternal").then(e=>e.isNavigationSupported(t,s))}return o(e)};this.getAppState=function(e,i){return t.postMessageToFLP("sap.ushell.services.Navigation.getAppState",{sAppStateKey:i}).then(e=>r.getServiceAsync("AppState").then(t=>{const i=new s(t,e._sKey,e._bModifiable,e._sData,e._sAppName,e._sACHComponent,e._bTransient);return i}))};this.resolveIntentLocal=this.resolveIntent;this.resolveIntent=function(e){if(i.getIsScube()){return this.resolveIntentLocal(e)}return t.postMessageToFLP("sap.ushell.services.Navigation.resolveIntent",{sHashFragment:e})};this.isUrlSupported=function(e){return t.postMessageToFLP("sap.ushell.services.Navigation.isUrlSupported",{sUrl:e})}}o.prototype=e.prototype;o.hasNoAdapter=e.hasNoAdapter;return o},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/ReferenceResolver", ["sap/ushell/appRuntime/ui5/AppCommunicationMgr"],e=>{"use strict";function s(){this.resolveReferences=function(s,r){return e.sendMessageToOuterShell("sap.ushell.services.ReferenceResolver.resolveReferences",{aReferences:s})}}s.hasNoAdapter=true;return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/ShellNavigation", ["sap/ushell/services/ShellNavigation","sap/ushell/appRuntime/ui5/services/Container","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/ushell/utils/UrlParsing"],(e,t,s,a,n)=>{"use strict";function i(i,l,r){e.call(this,i,l,r);this.toExternal=function(e,i,l){if(!a.checkDataLossAndContinue()){return}if(a.getIsScube()){t.getServiceAsync("NavTargetResolutionInternal").then(t=>{const i=n.constructShellHash(e);t.isIntentSupportedLocal([i]).then(t=>{if(t[i].supported===true){if(e.target.shellHash){e=n.parseShellHash(e.target.shellHash);e.target={semanticObject:e.semanticObject,action:e.action};delete e.semanticObject;delete e.action}e.params["sap-shell-so"]=e.target.semanticObject;e.params["sap-shell-action"]=e.target.action;e.params["sap-remote-system"]=a.getRemoteSystemId();e.target.semanticObject="Shell";e.target.action="startIntent";return s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.toExternal",{oArgs:e})}s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.toExternal",{oArgs:e})})})}else{s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.toExternal",{oArgs:e})}};this.toAppHash=function(e,t){s.sendMessageToOuterShell("sap.ushell.services.ShellNavigationInternal.toExternal",{sAppHash:e,bWriteHistory:t})}}i.prototype=e.prototype;i.hasNoAdapter=e.hasNoAdapter;return i},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/ShellNavigationInternal", ["sap/ushell/services/ShellNavigationInternal","sap/ushell/appRuntime/ui5/services/Container","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/ushell/utils/UrlParsing"],(e,t,s,a,n)=>{"use strict";function i(i,r,l){e.call(this,i,r,l);this.toExternal=async function(e,i,r){if(!a.checkDataLossAndContinue()){return}if(a.getIsScube()){return t.getServiceAsync("NavTargetResolutionInternal").then(t=>{const i=n.constructShellHash(e);return t.isIntentSupportedLocal([i]).then(t=>{if(t[i].supported===true){if(e.target.shellHash){e=n.parseShellHash(e.target.shellHash);e.target={semanticObject:e.semanticObject,action:e.action};delete e.semanticObject;delete e.action}e.params["sap-shell-so"]=e.target.semanticObject;e.params["sap-shell-action"]=e.target.action;e.params["sap-remote-system"]=a.getRemoteSystemId();e.target.semanticObject="Shell";e.target.action="startIntent"}s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.toExternal",{oArgs:e})})})}s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.toExternal",{oArgs:e})};this.toAppHash=function(e,t){s.sendMessageToOuterShell("sap.ushell.services.ShellNavigationInternal.toExternal",{sAppHash:e,bWriteHistory:t})}}i.prototype=e.prototype;i.hasNoAdapter=e.hasNoAdapter;return i},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/ShellUIService", ["sap/ui/core/EventBus","sap/ui/core/service/ServiceFactoryRegistry","sap/ui/core/service/ServiceFactory","sap/ushell/ui5service/ShellUIService","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/ushell/services/AppConfiguration","sap/ui/thirdparty/jquery"],(e,s,t,i,a,n,l,jQuery)=>{"use strict";let r;let c=false;let u;const o=i.extend("sap.ushell.appRuntime.services.ShellUIService",{setTitle:function(e,s){if(typeof e!=="undefined"&&typeof e!=="string"){throw new Error("'setTitle' was called with invalid arguments. The parameter should be a string")}r=e===undefined?r:e;a.postMessageToFLP("sap.ushell.services.ShellUIService.setTitle",{sTitle:e,oAdditionalInformation:s})},getTitle:function(){return r},setHierarchy:function(e){return n.checkIntentsConversionForScube(e).then(e=>a.postMessageToFLP("sap.ushell.services.ShellUIService.setHierarchy",{aHierarchyLevels:e}))},setRelatedApps:function(e){return n.checkIntentsConversionForScube(e).then(e=>a.postMessageToFLP("sap.ushell.services.ShellUIService.setRelatedApps",{aRelatedApps:e}))},setBackNavigation:function(e){if(!c){c=true;const e={"sap.ushell.appRuntime.handleBackNavigation":{async handler(e,s){if(u){u()}else if(n.checkDataLossAndContinue()){window.history.back()}return(new jQuery.Deferred).resolve().promise()}}};Object.keys(e).forEach(s=>{a.setRequestHandler(s,e[s].handler)})}u=e;a.postMessageToFLP("sap.ushell.ui5service.ShellUIService.setBackNavigation",{callbackMessage:{service:"sap.ushell.appRuntime.handleBackNavigation"}})},_getBackNavigationCallback:function(){return u},_resetBackNavigationCallback:function(){this.setBackNavigation()},setApplicationFullWidth:function(e){l.setApplicationFullWidthInternal(e)}});o._resetTitle=function(){r=undefined};e.getInstance().subscribe("sap.ushell","appClosed",o._resetTitle);s.register("sap.ushell.ui5service.ShellUIService",new t(o));return o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/UserDefaultParameters", ["sap/ushell/services/UserDefaultParameters","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/base/util/ObjectPath"],(e,s,t)=>{"use strict";function a(t,a){e.call(this,t,a);this.getValue=function(e){return s.sendMessageToOuterShell("sap.ushell.services.UserDefaultParameters.getValue",{sParameterName:e})}}t.set("sap.ushell.services.UserDefaultParameters",a);a.prototype=e.prototype;a.hasNoAdapter=true;return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/UserInfo", ["sap/ui/thirdparty/jquery","sap/ushell/services/UserInfo","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/base/util/ObjectPath"],(jQuery,e,s,t)=>{"use strict";function r(t,r){e.call(this,t,r);this.getThemeList=function(){return s.sendMessageToOuterShell("sap.ushell.services.UserInfo.getThemeList")};this.updateUserPreferences=function(){const e=new jQuery.Deferred;sap.ui.require(["sap/ushell/appRuntime/ui5/services/Container"],t=>{s.postMessageToFLP("sap.ushell.services.UserInfo.updateUserPreferences",{language:t.getUser().getLanguage()}).then(e.resolve).catch(e.reject)});return e.promise()};this.getLanguageList=function(){return s.sendMessageToOuterShell("sap.ushell.services.UserInfo.getLanguageList")};this.getShellUserInfo=function(){return s.sendMessageToOuterShell("sap.ushell.services.UserInfo.getShellUserInfo")}}t.set("sap.ushell.services.UserInfo",r);r.prototype=e.prototype;r.hasNoAdapter=true;return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/adapters/ContainerAdapter", ["sap/base/Log","sap/base/i18n/Formatting","sap/base/util/deepExtend","sap/base/util/ObjectPath","sap/ui/thirdparty/jquery","sap/ushell/User"],(e,t,s,o,jQuery,r)=>{"use strict";function i(i,n,a){let u;let l;let d;let c;let p;let f;function m(e){if(e.sapDateFormat){t.setABAPDateFormat(e.sapDateFormat)}if(e.sapDateCalendarCustomizing){t.setCustomIslamicCalendarData(e.sapDateCalendarCustomizing)}if(e.sapNumberFormat){t.setABAPNumberFormat(e.sapNumberFormat)}if(e.sapTimeFormat){t.setABAPTimeFormat(e.sapTimeFormat)}if(typeof e.currencyFormats==="object"){t.addCustomCurrencies(e.currencyFormats)}}this.load=function(){l=o.get("config.systemProperties.logoutUrl",a);d=o.get("config.systemProperties.logoutMethod",a)||"GET";c=o.get("config.systemProperties.csrfTokenUrl",a);p=o.get("config.systemProperties.sessionKeepAlive.url",a);f=o.get("config.systemProperties.sessionKeepAlive.method",a);const e=s({id:""},o.get("config.userProfile.defaults",a));u=new r(e);m(e);return(new jQuery.Deferred).resolve().promise()};this.getSystem=function(){return i};this.getUser=function(){return u};this._getLogoutUrl=function(){return l};this._setWindowLocation=function(e){window.location.href=e};this.logout=function(){const t=new jQuery.Deferred;const s=this;if(d==="POST"){e.info("performing logout from system via POST",undefined,"sap.ushell.appRuntime.ui5.services.adapters.ContainerAdapter::logout");jQuery.ajax({type:"HEAD",url:c,headers:{"X-CSRF-Token":"Fetch"},success:function(o,r,i){jQuery.ajax({type:"POST",url:l,headers:{"X-CSRF-Token":i.getResponseHeader("X-CSRF-Token")},success:function(e){s._setWindowLocation(e);t.resolve()},error:function(){e.error("Logging out via POST failed",undefined,"sap.ushell.appRuntime.ui5.services.adapters.ContainerAdapter::logout");t.resolve()}})},error:function(){e.error(`fetching X-CSRF-Token for logout via POST failed for system: ${i.getAlias()}`,undefined,"sap.ushell.appRuntime.ui5.services.adapters.ContainerAdapter::logout");t.resolve()}})}else{try{if(typeof l==="string"&&l.length>0){this._logoutViaHiddenIFrame(t,l);setTimeout(t.resolve,4e3)}else{t.resolve()}}catch(s){e.error(`logout from iframe ${document.URL} failed`,s,"sap.ushell.appRuntime.ui5.SessionHandlerAgent");t.resolve()}}return t.promise()};this._logoutViaHiddenIFrame=function(e,t){const s=document.createElement("iframe");const o=t.replace(/"/g,'\\"');window.addEventListener("message",s=>{if((s.data&&s.data.url)===t){e.resolve()}});s.style.visibility="hidden";s.setAttribute("src",t);function r(){this.contentWindow.parent.postMessage({url:o,request_id:"dummy-logout-id"},"*")}s.addEventListener("load",r);s.addEventListener("error",r);document.body.appendChild(s)};this.sessionKeepAlive=function(){if(typeof p==="string"&&p.length>0&&typeof f==="string"&&f.length>0){const t=new XMLHttpRequest;t.open(f,p,true);t.onreadystatechange=function(){if(this.readyState===4){e.debug("Server session was extended")}};t.send()}}}return i},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/adapters/EmptyAdapter", ["sap/ui/thirdparty/jquery"],jQuery=>{"use strict";function e(){this.getSite=function(){return(new jQuery.Deferred).resolve({}).promise()};this.getInbounds=function(){return(new jQuery.Deferred).resolve([]).promise()}}return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/adapters/Ui5ComponentLoaderAdapter", [],()=>{"use strict";function e(){}return e},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/ui/UIProxy", ["sap/ushell/appRuntime/ui5/renderers/fiori2/Renderer","sap/m/Button","sap/base/util/ObjectPath"],(e,t,s)=>{"use strict";function n(){s.set("sap.ushell.ui.shell.ShellHeadItem",function(t){const s=this;Object.keys(t).forEach(e=>{s[e]=t[e];s[`get${e[0].toUpperCase()}${e.slice(1)}`]=function(){return t[e]}});e.createShellHeadItem(t)})}return new n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.constants", [],()=>{"use strict";return{uiDebugKey:"sap-ui-debug",bootScriptId:"sap-ui-bootstrap",bwcBootScriptId:"sap-ushell-bootstrap",configMetaPrefix:"sap.ushellConfig",ushellConfigNamespace:"sap-ushell-config"}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.create.configcontract.core", ["sap/base/util/ObjectPath","sap/ushell/bootstrap/common/common.debug.mode","sap/base/util/deepExtend"],(e,n,a)=>{"use strict";const o={};const s=new URLSearchParams(document.location.search);function i(i){const l={};function r(e,n){const a=n.split("/");const o=a.slice(0,a.length-1).join("/");const s=a.pop();if(e.hasOwnProperty(o)){return e[o][s]}const l=a.reduce((e,n)=>{if(!e||!e.hasOwnProperty(n)){return{}}return e[n]},i);e[o]=l;return l[s]}function t(e,n){const a=r(l,e);o[e]=n;return a!==undefined?a:n}function c(){return t("renderers/fiori2/componentData/config/enablePersonalization",t("renderers/fiori2/componentData/config/applications/Shell-home/enablePersonalization",true))}function u(){let e=t("renderers/fiori2/componentData/config/rootIntent","");if(e){e=`#${e}`}return e}function d(){return t("ushell/spaces/enabled",false)&&!!t("ushell/homeApp/component",false)}const p=t("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccess",true);const f={enableEasyAccessOnTablet:t("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessUserMenuOnTablet",false),enableEasyAccessSAPMenu:t("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessSAPMenu",p),enableEasyAccessSAPMenuSearch:t("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessSAPMenuSearch",true),enableEasyAccessUserMenu:t("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessUserMenu",p),enableEasyAccessUserMenuSearch:t("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessUserMenuSearch",true)};function h(e){if(p===true){return f[e]?f[`${e}Search`]:false}return false}function m(e){if(typeof e!=="string"){return[]}return e.split(",").map(e=>e.trim())}function g(){return{name:"sap.ushell.components.workPageRuntime",asyncHints:{preloadBundles:["sap/ushell/preload-bundles/workpage-rt-common.js","sap/ushell/preload-bundles/workpage-rt-0.js","sap/ushell/preload-bundles/workpage-rt-1.js","sap/ushell/preload-bundles/workpage-rt-2.js","sap/ushell/preload-bundles/workpage-rt-3.js"]}}}function b(){const n={};e.set("spaces.enabled",true,n);if(t("ushell/menu/position")==="Side"){e.set("spaces.selectable",false,n)}else{e.set("spaces.selectable",true,n);e.set("favorites.enabled",true,n)}if(t("ushell/sideNavigation/mode")==="Docked"||t("ushell/menu/position")==="Side"){e.set("spaces.defaultIcon","sap-icon://document-text",n)}return JSON.stringify(n)}function S(){return t("ushell/menu/personalization/enabled",false)}function v(){const n={};if(t("ushell/menu/position")!=="Side"){e.set("spaces.personalization.enabled",S(),n)}return JSON.stringify(n)}function A(){const e=t("ushell/spaces/enabled",false);if(!e){return false}return t("ushell/sideNavigation/enabled",false)||t("ushell/menu/position")==="Side"}const P={core:{site:{siteId:t("ushell/site/siteId",null),sapCdmVersion:t("ushell/site/sapCdmVersion",null)},extension:{dap:{pluginName:t("ushell/extension/dap/pluginName","DAP_PLUGIN"),enabled:t("ushell/extension/dap/enabled",true)},enableHelp:t("renderers/fiori2/componentData/config/enableHelp",false),SupportTicket:t("services/SupportTicket/config/enabled",false)},services:{allMyApps:{enabled:t("services/AllMyApps/config/enabled",true),showHomePageApps:t("services/AllMyApps/config/showHomePageApps",true),showCatalogApps:t("services/AllMyApps/config/showCatalogApps",true)}},navigation:{enableInPlaceForClassicUIs:{GUI:t("services/ClientSideTargetResolution/config/enableInPlaceForClassicUIs/GUI",false),WDA:t("services/ClientSideTargetResolution/config/enableInPlaceForClassicUIs/WDA",false),WCF:t("services/ClientSideTargetResolution/config/enableInPlaceForClassicUIs/WCF",true)},enableWebguiLocalResolution:true,enableWdaLocalResolution:true,flpURLDetectionPattern:t("services/ClientSideTargetResolution/config/flpURLDetectionPattern","[/]FioriLaunchpad.html[^#]+#[^-]+?-[^-]+"),enableWdaCompatibilityMode:t("ushell/navigation/wdaCompatibilityMode",false)},spaces:{enabled:t("ushell/spaces/enabled",false),configurable:t("ushell/spaces/configurable",false),myHome:{userEnabled:true,enabled:t("startupConfig/spacesMyhome",false)||d(),myHomeSpaceId:t("startupConfig/spacesMyhomeSpaceid",null),myHomePageId:t("startupConfig/spacesMyhomePageid",null),presetSectionId:"3WO90XZ1DX1AS32M7ZM9NBXEF"},hideEmptySpaces:{enabled:t("ushell/spaces/enabled",false)&&t("ushell/spaces/hideEmptySpaces/enabled",false),userEnabled:true},extendedChangeDetection:{enabled:t("ushell/spaces/extendedChangeDetection/enabled",true)},homeNavigationTarget:t("renderers/fiori2/componentData/config/homeNavigationTarget",undefined),currentSpaceAndPage:undefined},workPages:{enabled:t("ushell/spaces/enabled",false)&&t("ushell/workPages/enabled",false),defaultComponent:g(),component:t("ushell/workPages/component",a(g(),{addCoreResourcesComplement:false})),contentApiUrl:t("ushell/workPages/contentApiUrl","/cep/content"),tileCard:t("ushell/workPages/tileCard",!!s.get("sap-ushell-tilecard")),customTileCard:t("ushell/workPages/customTileCard",!!s.get("sap-ushell-customtilecard")),myHome:{pageId:t("ushell/spaces/myHome/myHomePageId",null)},runtimeSwitcher:t("ushell/workPages/runtimeSwitcher",t("ushell/spaces/myHome/myHomePageId",null)===null),contentFinderStandalone:t("core/workPages/contentFinderStandalone",true)&&t("ushell/workPages/enabled",false)},shellBar:{enabled:t("ushell/shellBar/enabled",false)},searchCEPNew:{enabled:t("ushell/searchCEPNew/enabled",false)},homeApp:{enabled:d(),component:t("ushell/homeApp/component",{})},sideNavigation:{enabled:A(),mode:t("ushell/sideNavigation/mode","Docked"),navigationListProvider:{modulePath:t("ushell/sideNavigation/navigationListProvider/modulePath",t("ushell/menu/position")==="Side"?"sap/ushell/components/shell/SideNavigation/modules/SpacesNavigationListProvider":"sap/ushell/components/shell/SideNavigation/modules/GenericNavigationListProvider"),configuration:t("ushell/sideNavigation/navigationListProvider/configuration",b())},fixedNavigationListProvider:{modulePath:t("ushell/sideNavigation/fixedNavigationListProvider/modulePath",t("ushell/menu/position")==="Side"?"":"sap/ushell/components/shell/SideNavigation/modules/GenericFixedNavigationListProvider"),configuration:t("ushell/sideNavigation/fixedNavigationListProvider/configuration",v())}},notifications:{enabled:t("ushell/notifications/enabled",false)},menu:{enabled:t("ushell/spaces/enabled",false)&&t("ushell/menu/enabled",!t("ushell/menu/position")||t("ushell/menu/position")==="Top"),personalization:{enabled:S(),showNavigationBarMenuButton:t("ushell/menu/personalization/showNavigationBarMenuButton",S()&&!A())},visibleInAllStates:t("ushell/menu/visibleInAllStates",false)},darkMode:{enabled:t("ushell/darkMode/enabled",false),supportedThemes:t("ushell/darkMode/supportedThemes",[{dark:"sap_fiori_3_dark",light:"sap_fiori_3"},{dark:"sap_fiori_3_hcb",light:"sap_fiori_3_hcw"},{dark:"sap_horizon_dark",light:"sap_horizon"},{dark:"sap_horizon_hcb",light:"sap_horizon_hcw"}])},contentProviders:{providerInfo:{enabled:t("ushell/contentProviders/providerInfo/enabled",false),userConfigurable:t("ushell/contentProviders/providerInfo/enabled",false)&&t("ushell/contentProviders/providerInfo/userConfigurable",false),showContentProviderInfoOnVisualizations:t("ushell/contentProviders/providerInfo/enabled",false)&&t("ushell/contentProviders/providerInfo/userConfigurable",false)}},productSwitch:{enabled:!!t("ushell/productSwitch/url",""),url:t("ushell/productSwitch/url","")},shellHeader:{rootIntent:t("renderers/fiori2/componentData/config/rootIntent",""),homeUri:u()},companyLogo:{accessibleText:t("ushell/companyLogo/accessibleText",""),url:t("ushell/companyLogo/url","")},userPreferences:{dialogTitle:"Settings",isDetailedEntryMode:false,activeEntryPath:null,entries:[],profiling:[]},userSettings:{displayUserId:t("renderers/fiori2/componentData/config/displayUserId",false)},userActionsMenu:{displayUserId:t("ushell/userActionsMenu/displayUserId",false),displayAvatar:t("ushell/userActionsMenu/displayAvatar",false)},shell:{cacheConfiguration:t("renderers/fiori2/componentData/config/cacheConfiguration",{}),enableAbout:t("renderers/fiori2/componentData/config/enableAbout",true),enablePersonalization:c(),enableRecentActivity:t("renderers/fiori2/componentData/config/enableRecentActivity",true),enableRecentActivityLogging:t("renderers/fiori2/componentData/config/enableRecentActivityLogging",true),enableFiori3:true,sessionTimeoutIntervalInMinutes:t("renderers/fiori2/componentData/config/sessionTimeoutIntervalInMinutes",-1),enableFeaturePolicyInIframes:t("renderers/fiori2/componentData/config/enableFeaturePolicyInIframes",true),enableOpenIframeWithPost:t("renderers/fiori2/componentData/config/enableOpenIframeWithPost",true),favIcon:t("renderers/fiori2/componentData/config/favIcon",undefined),enableMessageBroker:t("services/MessageBroker/config/enabled",true),enablePersistantAppstateWhenSharing:t("services/AppState/config/persistentWhenShared",false),homePageTitle:t("ushell/header/title/home",""),windowTitleExtension:t("ushell/window/title/extension",""),useAppTitleFromNavTargetResolution:m(t("ushell/useAppTitleFromNavTargetResolution")),intentNavigation:t("ushell/intentNavigation",false),model:{enableSAPCopilotWindowDocking:undefined,personalization:undefined,contentDensity:undefined,setTheme:undefined,userDefaultParameters:undefined,disableHomeAppCache:undefined,enableHelp:undefined,enableTrackingActivity:undefined,searchAvailable:false,searchFiltering:true,searchTerm:"",isPhoneWidth:false,enableNotifications:t("services/NotificationsV2/config/enabled",t("services/Notifications/config/enabled",false)),enableNotificationsUI:false,notificationsCount:0,currentViewPortState:"Center",migrationConfig:undefined,shellAppTitleState:"",allMyAppsMasterLevel:undefined,userStatus:undefined,userStatusUserEnabled:true,shellAppTitleData:{currentViewInPopover:"navigationMenu",enabled:false,showGroupsApps:false,showCatalogsApps:false,showExternalProvidersApps:false},userImage:{personPlaceHolder:null,account:"sap-icon://account"},showRecentActivity:true}},state:{shellMode:t("renderers/fiori2/componentData/config/appState","")},home:{disableSortedLockedGroups:t("renderers/fiori2/componentData/config/applications/Shell-home/disableSortedLockedGroups",false),draggedTileLinkPersonalizationSupported:true,editTitle:false,enableHomePageSettings:t("renderers/fiori2/componentData/config/applications/Shell-home/enableHomePageSettings",true),enableRenameLockedGroup:t("renderers/fiori2/componentData/config/applications/Shell-home/enableRenameLockedGroup",false),enableTileActionsIcon:t("renderers/fiori2/componentData/config/enableTileActionsIcon",t("renderers/fiori2/componentData/config/applications/Shell-home/enableTileActionsIcon",false)),enableTransientMode:t("ushell/home/enableTransientMode",false),featuredGroup:{enable:t("ushell/home/featuredGroup/enable",false),frequentCard:t("ushell/home/featuredGroup/frequentCard",true)&&t("ushell/home/featuredGroup/enable",false),recentCard:t("ushell/home/featuredGroup/recentCard",true)&&t("ushell/home/featuredGroup/enable",false)},homePageGroupDisplay:t("renderers/fiori2/componentData/config/applications/Shell-home/homePageGroupDisplay","scroll"),isInDrag:false,optimizeTileLoadingThreshold:t("renderers/fiori2/componentData/config/applications/Shell-home/optimizeTileLoadingThreshold",100),sizeBehavior:t("renderers/fiori2/componentData/config/sizeBehavior","Responsive"),sizeBehaviorConfigurable:t("renderers/fiori2/componentData/config/sizeBehaviorConfigurable",false),wrappingType:t("ushell/home/tilesWrappingType","Normal"),segments:t("renderers/fiori2/componentData/config/applications/Shell-home/segments",undefined),tileActionModeActive:false},catalog:{enabled:c()||t("renderers/fiori2/componentData/config/enableAppFinder",false),appFinderDisplayMode:t("renderers/fiori2/componentData/config/applications/Shell-home/AppFinderDisplayMode",t("renderers/fiori2/componentData/config/applications/Shell-home/appFinderDisplayMode",undefined)),easyAccessNumbersOfLevels:t("renderers/fiori2/componentData/config/applications/Shell-home/easyAccessNumbersOfLevels",undefined),enableCatalogSearch:t("renderers/fiori2/componentData/config/enableSearchFiltering",t("renderers/fiori2/componentData/config/applications/Shell-home/enableSearchFiltering",t("renderers/fiori2/componentData/config/applications/Shell-home/enableCatalogSearch",true))),enableCatalogSelection:t("renderers/fiori2/componentData/config/enableCatalogSelection",t("renderers/fiori2/componentData/config/applications/Shell-home/enableCatalogSelection",true)),enableCatalogTagFilter:t("renderers/fiori2/componentData/config/applications/Shell-home/enableTagFiltering",t("renderers/fiori2/componentData/config/applications/Shell-home/enableCatalogTagFilter",true)),enableEasyAccess:p,enableEasyAccessSAPMenu:p?f.enableEasyAccessSAPMenu:false,enableEasyAccessOnTablet:p?f.enableEasyAccessOnTablet:false,enableEasyAccessSAPMenuSearch:h("enableEasyAccessSAPMenu"),enableEasyAccessUserMenu:p?f.enableEasyAccessUserMenu:false,enableEasyAccessUserMenuSearch:h("enableEasyAccessUserMenu"),enableHideGroups:t("renderers/fiori2/componentData/config/enableHideGroups",t("renderers/fiori2/componentData/config/applications/Shell-home/enableHideGroups",true)),sapMenuServiceUrl:undefined,userMenuServiceUrl:t("renderers/fiori2/componentData/config/applications/Shell-home/userMenuServiceUrl",undefined)},esearch:{defaultSearchScopeApps:t("renderers/fiori2/componentData/config/esearch/defaultSearchScopeApps",false),searchBusinessObjects:t("renderers/fiori2/componentData/config/esearch/searchBusinessObjects",true),searchScopeWithoutAll:t("renderers/fiori2/componentData/config/esearch/searchScopeWithoutAll",false)},customPreload:{enabled:!n.isDebug()&&t("ushell/customPreload/enabled",false),coreResourcesComplement:t("ushell/customPreload/coreResourcesComplement",[])},ui5:{timeZoneFromServerInUI5:t("ui5/timeZoneFromServerInUI5",false)},uiTracer:{enabled:t("services/UITracer/config/enabled",false)}}};return P}function l(){return o}return{createConfigContract:i,getDefaultConfiguration:l}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.debug.mode", ["./common.constants"],t=>{"use strict";let e;let u=/[?&]sap-ui-debug=(true|x|X)(&|$)/.test(window.location.search);if(!u){try{e=window.localStorage.getItem(t.uiDebugKey);u=!!e&&/^(true|x|X)$/.test(e)}catch{}}return{isDebug:function(){return u}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/pages/controller/PagesAndSpaceId", ["sap/ui/thirdparty/hasher","sap/ushell/resources","sap/ushell/Config","sap/ushell/Container","sap/ushell/utils/LaunchpadError"],(e,t,n,a,s)=>{"use strict";function i(){}i.prototype.getPageAndSpaceId=function(t){return a.getServiceAsync("URLParsing").then(n=>{if(t===undefined){t=e.getHash()}const a=n.parseShellHash(t)||{};const s={semanticObject:a.semanticObject||"",action:a.action||""};const i=a.params||{};const r=i.pageId||[];const c=i.spaceId||[];return this._parsePageAndSpaceId(r,c,s)})};i.prototype._parsePageAndSpaceId=function(e,n,a){return new Promise((i,r)=>{this.getUserMyHomeEnablement().then(()=>{if(e.length<1&&n.length<1){const e=a.semanticObject==="Shell"&&a.action==="home";const n=a.semanticObject===""&&a.action==="";if(e||n){this._getUserDefaultSpaceAndPage().then(e=>{i(e)}).catch(e=>{r(e)});return}const c=t.i18n.getText("PageRuntime.NoPageIdAndSpaceIdProvided");r(new s(c,{translatedMessage:c}))}if(e.length===1&&n.length===0){const e=t.i18n.getText("PageRuntime.OnlyPageIdProvided");r(new s(e,{translatedMessage:e}))}if(e.length===0&&n.length===1){const e=t.i18n.getText("PageRuntime.OnlySpaceIdProvided");r(new s(e,{translatedMessage:e}))}if(e.length>1||n.length>1){const e=t.i18n.getText("PageRuntime.MultiplePageOrSpaceIdProvided");r(new s(e,{translatedMessage:e}))}if(e[0]===""){const e=t.i18n.getText("PageRuntime.InvalidPageId");r(new s(e,{translatedMessage:e}))}if(n[0]===""){const e=t.i18n.getText("PageRuntime.InvalidSpaceId");r(new s(e,{translatedMessage:e}))}i({pageId:e[0],spaceId:n[0]})})})};i.prototype.getUserMyHomeEnablement=function(){return new Promise((e,t)=>{const s=a.getUser().getShowMyHome();n.emit("/core/spaces/myHome/userEnabled",s);e(s)})};i.prototype._getUserDefaultSpaceAndPage=function(){return new Promise((e,n)=>{Promise.all([a.getServiceAsync("Menu"),this.getUserMyHomeEnablement()]).then(a=>{const i=a[0];i.getDefaultSpace().then(a=>{if(!a){const e=t.i18n.getText("PageRuntime.NoAssignedSpace");n(new s(e,{translatedMessage:e}));return}const i=a&&a.children&&a.children[0];if(!i){const e=t.i18n.getText("PageRuntime.NoAssignedPage");n(new s(e,{translatedMessage:e}));return}e({spaceId:a.id,pageId:i.id})})}).catch(e=>{n(e)})})};return new i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/iconfonts", ["sap/ui/core/IconPool"],F=>{"use strict";const E={};E.registerFiori2IconFont=function(){F.registerFont({fontFamily:"SAP-icons-TNT",collectionName:"SAP-icons-TNT",fontURI:sap.ui.require.toUrl("sap/tnt/themes/base/fonts/"),lazy:true});F.registerFont({fontFamily:"SAP-icons-TNT",collectionName:"TNTIcons",fontURI:sap.ui.require.toUrl("sap/tnt/themes/base/fonts/"),lazy:true});F.registerFont({fontFamily:"BusinessSuiteInAppSymbols",collectionName:"BusinessSuiteInAppSymbols",fontURI:sap.ui.require.toUrl("sap/ushell/themes/base/fonts/"),lazy:true});const E={fontFamily:"SAP-icons",collectionName:"Fiori2",icons:[["F0017","e05e"],["F0020","e0c3"],["F0021","e10d"],["F0392","e04f"],["F0394","e044"],["F0395","e132"],["F0396","e064"],["F0397","e0a4"],["F0398","e0a4"],["F0399","e044"],["F0401","e08d"],["F0402","e13e"],["F0403","e13e"],["F0404","e033"],["F0405","e0b3"],["F0406","e043"],["F0407","e043"],["F0408","e043"],["F0409","e075"],["F0410","e007"],["F0411","e075"]]};const e={fontFamily:"Fiori2",collectionName:"Fiori2",icons:[["F0002","E236"],["F0003","E202"],["F0004","E203"],["F0005","E204"],["F0006","E205"],["F0009","E206"],["F0010","E207"],["F0012","E208"],["F0014","E209"],["F0018","E200"],["F0019","E201"],["F0023","E20A"],["F0024","E20B"],["F0025","E20C"],["F0026","E20D"],["F0072","E23A"],["F0100","E23B"],["F0101","E23C"],["F0102","E23D"],["F0106","E20F"],["F0144","E210"],["F0190","E23E"],["F0194","E23F"],["F0210","E242"],["F0211","E243"],["F0212","E244"],["F0217","E211"],["F0220","E213"],["F0243","E215"],["F0244","E216"],["F0245","E217"],["F0248","E21A"],["F0249","E21B"],["F0252","E21E"],["F0257","E21F"],["F0281","E220"],["F0282","E221"],["F0283","E222"],["F0284","E223"],["F0292","E224"],["F0295","E225"],["F0296","E226"],["F0316","E227"],["F0317","E228"],["F0321","E229"],["F0339","E22A"],["F0340","E22B"],["F0341","E22C"],["F0342","E22D"],["F0365","E212"],["F0366","E22F"],["F0367","E230"],["F0368","E231"],["F0369","E235"],["F0370","E22E"],["F0372","E232"],["F0380","E233"],["F0381","E234"],["F0382","E246"],["F0390","E20E"],["F0412","E214"],["F0429","E2A6"],["F0013","E237"],["F0016","E238"],["F0028","E239"],["F0029","E283"],["F0030","E284"],["F0031","E285"],["F0032","E286"],["F0033","E287"],["F0034","E288"],["F0036","E289"],["F0038","E28A"],["F0039","E28B"],["F0041","E28C"],["F0044","E28D"],["F0293","E28E"],["F0294","E28F"],["F0297","E290"],["F0298","E291"],["F0299","E292"],["F0300","E293"],["F0301","E294"],["F0302","E295"],["F0303","E296"],["F0304","E297"],["F0305","E298"],["F0306","E299"],["F0323","E29A"],["F0324","E29B"],["F0326","E29C"],["F0327","E29D"],["F0328","E29E"],["F0329","E29F"],["F0331","E2A1"],["F0332","E2A2"],["F0343","E2A3"],["F0344","E2A4"],["F0345","E2A5"],["F0388","E2A7"],["F0391","E2A0"],["F0260","E2B4"],["FD10n","E2B5"],["FK10n","E2B6"],["FS10n","E2B7"],["FBL5n","E2B8"],["FBL1n","E2B9"],["FFS01","E2BA"],["FBL3n","E2BB"],["FCOA1","E2BC"]]};const o={fontFamily:"Fiori2",collectionName:"Fiori3",icons:[["F0246","E218"],["F0247","E219"],["F0250","E21C"],["F0251","E21D"],["F0263","E2A8"],["F0508","E2A9"],["F0509","E2AA"],["F0510","E2AB"],["F0533","E2AC"],["F0534","E2AD"],["F0535","E2AE"],["F0536","E2AF"],["F0537","E2B0"],["F0538","E2B1"],["Lumira001","E2B2"]]};const i={fontFamily:"Fiori2",collectionName:"Fiori4",icons:[["F0194","E2BD"],["F0260","E2B4"],["F0433","E2BE"],["F0499","E2BF"],["F0500","E2C0"],["F0501","E2C1"],["F0502","E2C2"],["F0503","E2C3"],["F0504","E2C4"],["F0507","E2C5"],["F0530","E2C6"],["F0531","E2C7"],["F0539","E2C8"],["F0544","E2C9"],["F0545","E2CA"],["F0547","E2CB"],["F0576","E2CC"],["F0578","E2CD"],["F0579","E2CE"],["F0580","E2CF"],["F0581","E2D0"],["F0582","E2D1"],["F0583","E2D2"],["F0584","E2D3"],["F0586","E2D4"],["F0587","E2D5"],["F0588","E2D6"],["F0589","E2D7"],["F0590","E2D8"],["F0591","E2D9"],["F0593","E2DA"],["F0594","E2DB"],["F0597","E2DC"],["F0603","E2DD"],["F0604","E2DE"],["F0605","E2DF"],["F0606","E2E0"],["F0607","E2E1"],["F0608","E2E2"],["F0609","E2E3"],["F0615","E2E4"],["F0616","E2E5"],["F0618","E2E6"],["F0617","E2E7"],["F0622","E2E8"],["F0623","E2E9"],["F0624","E2EA"],["F0625","E2EB"],["F0626","E2EC"],["F0627","E2ED"],["F0629","E2EE"],["F0630","E2EF"],["F0632","E2F0"],["F0633","E2F1"],["F0634","E2F2"],["F0635","E2F3"],["F0636","E2F4"],["F0638","E2F5"],["F0639","E2F6"],["F0643","E2F7"],["F0644","E2F8"],["F0645","E2F9"],["F0646","E2FA"],["F0648","E2FB"],["F0649","E2FC"],["F0650","E2FD"],["F0654","E2FE"],["F0655","E2FF"],["F0659","E300"],["F0660","E301"],["F0661","E302"],["F0665","E303"],["F0666","E304"],["F0667","E305"],["F0671","E306"],["F0672","E307"],["F0673","E308"],["F0675","E309"],["F0676","E30A"],["F0677","E30B"],// License Blocked Documents
["F0678","E30C"],["F0679","E30D"],["F0680","E30E"],["F0682","E30F"],["F0683","E310"],["F0684","E240"],["F0685","E312"],["F0686","E313"],["F0687","E314"],["F0690","E315"],["F0691","E316"],["F0692","E317"],["F0693","E318"],["F0694","E319"],["F0695","E31A"],["F0700","E31B"],["F0598","E31C"]]};const n={fontFamily:"Fiori2",collectionName:"Fiori5",icons:[["F2001","E31E"],["F0839","E320"],["F0263","E321"],["F0266","E322"],["F0270","E323"],["F0273","E324"],["F0439","E325"],["F0443","E326"],["F0549","E327"],["F0550","E328"],["F0551","E329"],["F0577","E32A"],["F0585","E32B"],["F0637","E32C"],["F0668","E32D"],["F0669","E32E"],["F0670","E330"],["F0688","E331"],["F0689","E332"],["F0701","E333"],["F0702","E334"],["F0703","E335"],["F0706","E336"],["F0707","E337"],["F0708","E338"],["F0711","E339"],["F0712","E33A"],["F0731","E33B"],["F0732","E33C"],["F0733","E33D"],["F0735","E33E"],["F0736","E340"],["F0737","E341"],["F0742","E342"],["F0743","E343"],["F0744","E344"],["F0745","E345"],["F0746","E346"],["F0747","E347"],["F0748","E348"],["F0749","E349"],["F0750","E34A"],["F0751","E34B"],["F0755","E34C"],["F0756","E34D"],["F0757","E34E"],["F0758","E350"],["F0759","E351"],["F0760","E352"],["F0761","E353"],["F0763","E354"],["F0764","E355"],["F0765","E356"],["F0768","E357"],["F0770","E358"],["F0771","E359"],["F0772","E35A"],["F0774","E35B"],["F0776","E35C"],["F0777","E35D"],["F0778","E35E"],["F0788","E360"],["F0789","E361"],["F0790","E362"],["F0791","E363"],["F0792","E364"],["F0793","E365"],["F0794","E366"],["F0806","E367"],["F0807","E368"],["F0808","E369"],["F0809","E36A"],["F0810","E36B"],["F0811","E36C"],["F0812","E36D"],["F0813","E36E"],["F0814","E370"],["F0815","E371"],["F0816","E372"],["F0817","E373"],["F0818","E374"],["F0819","E375"],["F0820","E376"],["F0821","E377"],["F0822","E378"],["F0823","E379"],["F0824","E37A"],["F0825","E37B"],["F0826","E37C"],["F0827","E37D"],["F0828","E37E"],["F0829","E380"],["F0830","E381"],["F0831","E382"],["F0717","E384"],["F0718","E383"],["F0241","E385"],["F0246","E386"],["F0250","E387"],["F0248","E388"],["F0252","E389"],["F0600","E38A"],["F0674","E38B"],["F0247","E38E"],["F0251","E390"]]};const t={fontFamily:"Fiori2",collectionName:"Fiori6",icons:[["F0670-1","E393"],["F0670-2","E394"],["F0670-3","E395"],["F0670-4","E396"],["F0795","E397"],["F0866","E3A0"],["F0865","E3A1"],["F0867","E3A2"],["F0868","E3A3"],["F0869","E3A4"],["F0870","E3A5"],["F0138","E3A6"],["F0752","E3A7"],["F0753","E3A8"],["F0773","E3A9"],["F0891","E3AA"],["F0892","E3AB"],["F1023","E3AC"],["F0767","E3AD"],["F0849","E3AE"]]};const s={fontFamily:"Fiori2",collectionName:"Fiori7",icons:[["F1079","E3B0"],["F0738","E3B1"],["F1301","E3B2"],["F1302","E3B3"],["F1303","E3B4"],["F1338","E3B5"],["F1263","E3B6"],["F1373","E3B7"],["F0863","E3B8"],["F0955","E3B9"],["F1068","E3BA"],["F1242","E3BB"],["F1405","E3BC"],["F1406","E3BD"],["F1407","E3BE"],["F1408","E3BF"],["F1409","E3C0"],["F1410","E3C1"],["F1411","E3C2"],["F1412","E3C3"],["F1413","E3C4"],["F1414","E3C5"],["F1415","E3C6"],["F1476","E3C7"],["F0797","E3C8"],["F0798","E3C9"],["F0800","E3CA"],["F0801","E3CB"],["F0804","E3CC"],["F0850","E3CD"],["F0890","E3CE"],["F1075","E3CF"],["F1394","E3D0"],["F1061","E3D1"],["F1062","E3D2"],["F1255","E3D3"],["F1077","E3D4"],["F0843","E3D5"],["F1076","E3D6"],["F0859","E3D7"],["F1060","E3D8"],["F1053","E3D9"],["F0900","E3DA"],["F0840","E3DB"],["F0842-1","E3A6"],["F0842-2","E22C"]]};const a={fontFamily:"Fiori2",collectionName:"Fiori8",icons:[["F1317","E3DC"],["F1318","E3DD"],["F1319","E3DE"],["F1369","E3DF"],["F1475","E3E0"],["F1345","E3E1"],["F1248","E3E2"],["F1067","E3E3"],["F1332","E3E4"],["F1333","E3E5"],["F1334","E3E6"],["F1335","E3E7"],["F1520","E3E8"],["F1457","E3E9"],["F1504","E3EA"],["F1505","E3EB"]]};const r={fontFamily:"Fiori2",collectionName:"Fiori9",icons:[["F1094","E3EC"],["F1096","E3ED"],["F1353","E3EE"],["F1354","E3EF"],["F1428","E3F0"],["F1492","E3F1"],["F1515","E3F2"],["F1516","E3F3"],["F0997","E400"],["F1512","E401"],["F1562","E402"],["F1564","E403"],["F1599","E404"],["F1596","E405"],["F1254","E406"],["F1618","E407"],["F1561","E408"],["learning-compass","E409"],["partner-enablement","E40A"]]};const c={fontFamily:"Fiori2",collectionName:"S4Hana",icons:[["S0001","E3F4"],["S0002","E3F5"],["S0003","E3F6"],["S0004","E3F7"],["S0005","E3F8"],["S0006","E3F9"],["S0007","E3FA"],["S0008","E3FB"],["S0009","E3FC"],["S0010","E3FD"],["S0011","E3FE"],["S0012","E3FF"]]};const l={fontFamily:"FioriInAppIcons",collectionName:"FioriInAppIcons",icons:[["Hierarchal Tree","e700"],["Open","e701"],["Blocked","e702"],["Partially Blocked","e703"],["Open1","e704"],["Partially Adopted","e705"],["Due","e706"],["Overdue","e707"],["Sort","e708"],["Missing Parts","e709"],["Fire","e70a"],["Dangerous Chemicals","e70b"],["Share","e70c"],["Entertainment","e70d"],["Gift","e70e"],["QR Code","e70f"],["Wifi-Online","e710"],["Wifi-Offline","e711"],["Sunrise","e712"],["Sunset","e713"],["Afternoon","e714"],["Night","e715"],["Loading Date","e715"],["Cloudy","e717"],["Rain","e718"],["Storm","e719"],["Partly Sunny","e71a"],["Heavy Rain","e71b"],["Foggy","e71c"],["Snow","e71d"],["Risk Assessment","e71e"],["Database","e71f"],["Marine","e720"],["Blister","e721"],["Pills","e722"],["Main-Sequence","e723"],["Parallel Sequence","e724"],["Alternative Sequence","e725"],["3D","e726"],["Presentation","e727"],["Mute","e728"],["Windy","e729"],["Oil Tank","e72a"],["Location Assets","e72b"],["Transport Systems","e72c"],["Field","e72d"],["Field Group","e72e"],["Record","e730"],["Record Group","e731"]]};const A={fontFamily:"Fiori2",collectionName:"FioriNonNative",icons:[["FN0001","E392"],["FN0002","E398"],["FN0003","E399"],["FN0004","E39A"],["FN0005","E39B"],["FN0006","E39C"],["FN0007","E39D"],["FN0008","E39E"],["FN0009","E39F"]]};this.registerFonts(e,E,o,i,n,t,s,a,r,l,A,c)};E.registerFonts=function(...E){E.forEach(E=>{E.icons.forEach(e=>{F.addIcon(e[0],E.collectionName,{fontFamily:E.fontFamily,content:e[1],overWrite:false,suppressMirroring:true})})})};return E},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/library", ["sap/ui/base/DataType","sap/ui/core/Lib","sap/ui/core/library","sap/m/library"],(e,a,l,t)=>{"use strict";const s=a.init({name:"sap.ushell",apiVersion:2,version:"1.141.1",dependencies:["sap.ui.core","sap.m"],types:["sap.ushell.AllMyAppsState","sap.ushell.AllMyAppsProviderType","sap.ushell.AppTitleState","sap.ushell.ContentNodeType","sap.ushell.appIntegration.contracts.StatefulType","sap.ushell.components.container.ApplicationType","sap.ushell.DisplayFormat","sap.ushell.NavigationState","sap.ushell.ui.launchpad.ViewPortState","sap.ushell.ui.tile.State","sap.ushell.ui.tile.StateArrow","sap.ushell.VisualizationLoadState","sap.ushell.AppType","sap.ushell.FloatingNumberType"],interfaces:["sap.ushell.renderer.INavContainerPage"],controls:["sap.ushell.appIntegration.ApplicationContainer","sap.ushell.appIntegration.IframeApplicationContainer","sap.ushell.appIntegration.UI5ApplicationContainer","sap.ushell.components.container.ApplicationContainer","sap.ushell.components.factsheet.controls.PictureTile","sap.ushell.components.factsheet.controls.PictureViewer","sap.ushell.components.factsheet.controls.PictureViewerItem","sap.ushell.components.shell.Settings.userDefaults.UserDefaultsForm","sap.ushell.components.tiles.sbtilecontent","sap.ushell.components.workPageBuilder.controls.WorkPage","sap.ushell.components.workPageBuilder.controls.WorkPageButton","sap.ushell.components.workPageBuilder.controls.WorkPageCell","sap.ushell.components.workPageBuilder.controls.WorkPageColumn","sap.ushell.components.workPageBuilder.controls.WorkPageColumnResizer","sap.ushell.components.workPageBuilder.controls.WorkPageRow","sap.ushell.renderer.NavContainer","sap.ushell.ui.launchpad.VizInstance","sap.ushell.ui.launchpad.VizInstanceBase","sap.ushell.ui.launchpad.VizInstanceAbap","sap.ushell.ui.launchpad.VizInstanceCdm","sap.ushell.ui.launchpad.VizInstanceLaunchPage","sap.ushell.ui.launchpad.VizInstanceLink","sap.ushell.ui.AppContainer","sap.ushell.ui.ContentNodeSelector","sap.ushell.ui.ContentNodeTreeItem","sap.ushell.ui.CustomGroupHeaderListItem","sap.ushell.ui.ShellHeader","sap.ushell.ui.appfinder.AppBox","sap.ushell.ui.appfinder.AppBoxInternal","sap.ushell.ui.appfinder.PinButton","sap.ushell.ui.footerbar.AboutButton","sap.ushell.ui.footerbar.AddBookmarkButton","sap.ushell.ui.footerbar.ContactSupportButton","sap.ushell.ui.footerbar.JamDiscussButton","sap.ushell.ui.footerbar.JamShareButton","sap.ushell.ui.footerbar.LogoutButton","sap.ushell.ui.footerbar.SendAsEmailButton","sap.ushell.ui.launchpad.ActionItem","sap.ushell.ui.launchpad.AnchorItem","sap.ushell.ui.launchpad.AnchorNavigationBar","sap.ushell.ui.launchpad.CatalogEntryContainer","sap.ushell.ui.launchpad.CatalogsContainer","sap.ushell.ui.launchpad.DashboardGroupsContainer","sap.ushell.ui.launchpad.GroupHeaderActions","sap.ushell.ui.launchpad.GroupListItem","sap.ushell.ui.launchpad.LinkTileWrapper","sap.ushell.ui.launchpad.LoadingDialog","sap.ushell.ui.launchpad.Page","sap.ushell.ui.launchpad.PlusTile","sap.ushell.ui.launchpad.Section","sap.ushell.ui.launchpad.Tile","sap.ushell.ui.launchpad.TileContainer","sap.ushell.ui.launchpad.TileState","sap.ushell.ui.launchpad.TileStateInternal","sap.ushell.ui.launchpad.section.CompactArea","sap.ushell.ui.shell.FloatingContainer","sap.ushell.ui.shell.NavigationMiniTile","sap.ushell.ui.shell.OverflowListItem","sap.ushell.ui.shell.RightFloatingContainer","sap.ushell.ui.shell.ShellAppTitle","sap.ushell.ui.shell.ShellFloatingAction","sap.ushell.ui.shell.ShellFloatingActions","sap.ushell.ui.shell.ShellHeadItem","sap.ushell.ui.shell.ShellNavigationMenu","sap.ushell.ui.shell.SidePane","sap.ushell.ui.shell.SubHeader","sap.ushell.ui.shell.SysInfoBar","sap.ushell.ui.shell.ToolArea","sap.ushell.ui.shell.ToolAreaItem","sap.ushell.ui.tile.DynamicTile","sap.ushell.ui.tile.ImageTile","sap.ushell.ui.tile.StaticTile","sap.ushell.ui.tile.TileBase"],elements:["sap.ushell.ui.launchpad.AccessibilityCustomData"],extensions:{"sap.ui.support":{diagnosticPlugins:["sap/ushell/support/plugins/flpConfig/FlpConfigurationPlugin"]}}});s.AllMyAppsState={FirstLevel:"FirstLevel",SecondLevel:"SecondLevel",Details:"Details",FirstLevelSpread:"FirstLevelSpread"};s.AllMyAppsProviderType={HOME:0,EXTERNAL:1,CATALOG:2};s.AppTitleState={ShellNavMenuOnly:"ShellNavMenuOnly",AllMyAppsOnly:"AllMyAppsOnly",ShellNavMenu:"ShellNavMenu",AllMyApps:"AllMyApps"};s.ContentNodeType={HomepageGroup:"HomepageGroup",Space:"Space",Page:"Page",Visualization:"Visualization"};s.appIntegration=s.appIntegration||{};s.appIntegration.contracts=s.appIntegration.contracts||{};s.appIntegration.contracts.StatefulType={NotSupported:"NotSupported",ContractV1:"ContractV1",ContractV2:"ContractV2"};e.registerEnum("sap.ushell.appIntegration.contracts.StatefulType",s.appIntegration.contracts.StatefulType);s.components=s.components||{};s.components.container=s.components.container||{};s.components.container.ApplicationType={NWBC:"NWBC",SAPUI5:"SAPUI5",TR:"TR",URL:"URL",WCF:"WCF",WDA:"WDA"};e.registerEnum("sap.ushell.components.container.ApplicationType",s.components.container.ApplicationType);s.DisplayFormat={Standard:"standard",Compact:"compact",Flat:"flat",FlatWide:"flatWide",StandardWide:"standardWide"};e.registerEnum("sap.ushell.DisplayFormat",s.DisplayFormat);s.NavigationState={InProgress:"InProgress",Finished:"Finished"};s.ui=s.ui||{};s.ui.launchpad=s.ui.launchpad||{};s.ui.launchpad.ViewPortState={Left:"Left",Center:"Center",Right:"Right",LeftCenter:"LeftCenter",CenterLeft:"CenterLeft",RightCenter:"RightCenter",CenterRight:"CenterRight"};s.ui.tile=s.ui.tile||{};s.ui.tile.State={Neutral:"Neutral",None:"None",Negative:"Negative",Error:"Error",Positive:"Positive",Success:"Success",Critical:"Critical",Warning:"Warning"};e.registerEnum("sap.ushell.ui.tile.State",s.ui.tile.State);s.ui.tile.StateArrow={None:"None",Up:"Up",Down:"Down"};e.registerEnum("sap.ushell.ui.tile.StateArrow",s.ui.tile.StateArrow);s.VisualizationLoadState={Loading:"Loading",Loaded:"Loaded",InsufficientRoles:"InsufficientRoles",OutOfRoleContext:"OutOfRoleContext",NoNavTarget:"NoNavTarget",Failed:"Failed",Disabled:"Disabled"};s.AppType={OVP:"OVP",SEARCH:"Search",FACTSHEET:"FactSheet",COPILOT:"Co-Pilot",URL:"External Link",APP:"Application"};s.FloatingNumberType={None:"None",Notifications:"Notifications",OverflowButton:"OverflowButton"};e.registerEnum("sap.ushell.FloatingNumberType",s.FloatingNumberType);s.NavigationBarMenuState={Button:"Button",Menu:"Menu"};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/navigationMode", ["sap/base/Log","sap/base/util/isPlainObject","sap/ushell/Config"],(e,n,a)=>{"use strict";const i={};function o(n){let a=true;if(n){if(typeof n!=="object"){a=false}else{Object.keys(n).forEach(e=>{if(["GUI","WDA","WCF"].indexOf(e)===-1){a=false}else if(typeof n[e]!=="boolean"){a=false}})}}if(!a){e.error("Invalid parameter: 'enableInPlaceForClassicUIs' must be an object; allowed properties: GUI|WDA, type boolean",`Actual parameter: ${JSON.stringify(n)}`,"sap.ushell.services.navigationMode")}}function t(e){switch(e){case"TR":return"GUI";case"WDA":return"WDA";case"WCF":return"WCF";default:return undefined}}i._isInplaceEnabledForApplicationType=function(e){const i=a.last("/core/navigation/enableInPlaceForClassicUIs");o(i);if(n(i)){return i[t(e)]}return false};i._getInternalNavigationMode=function(n,a){const i=a.applicationType;const o={SAPUI5:{inplace:"embedded",explace:"newWindowThenEmbedded",frameless:"newWindowThenEmbedded"},WDA:{inplace:"embedded",explace:"newWindowThenEmbedded",frameless:"newWindow"},TR:{inplace:"embedded",explace:"newWindowThenEmbedded",frameless:"newWindow"},URL:{inplace:"embedded",explace:"newWindow",frameless:"newWindow"},WCF:{inplace:"embedded",explace:"newWindowThenEmbedded",frameless:"newWindow"}};if(!o.hasOwnProperty(i)){e.error(`${i} is not a valid application type`,`expected one of ${Object.keys(o).join(", ")}`,"sap.ushell.navigationMode");return null}if(n!=="inplace"&&n!=="explace"&&n!=="frameless"){e.error(`${n} is not a valid external navigation mode`,"expected one of 'inplace', 'explace' or 'frameless'","sap.ushell.navigationMode");return null}if(i==="SAPUI5"&&n==="frameless"){e.error(`'${n}' is not a valid external navigation mode for application type '${i}'`,`falling back to internal navigation mode '${o.SAPUI5.frameless}'`,"sap.ushell.navigationMode")}if(i==="URL"){const i=a.appCapabilities?a.appCapabilities.templateNavigationMode:undefined;if(i){const a={embedded:{inplace:"embedded",explace:"newWindowThenEmbedded",frameless:"newWindowThenEmbedded"},standalone:{inplace:"newWindow",explace:"newWindow",frameless:"newWindow"}};if(i==="standalone"&&n==="inplace"){e.warning("Inplace navigation was requested for an app that supports only standalone mode! 'newWindow' used instead...","sap.ushell.navigationMode")}if(i==="embedded"&&n==="frameless"){e.warning("Frameless navigation was requested for an app that supports only embedded mode! 'newWindowThenEmbedded' used instead...","sap.ushell.navigationMode")}return a[i][n]}}return o[i][n]};i.getExternalNavigationMode=function(n){const a={embedded:"inplace",newWindowThenEmbedded:"explace",replace:"inplace",newWindow:"explace"};if(!a.hasOwnProperty(n)){e.error(`${n} is not a recognized internal navigation mode`,`expected one of ${Object.keys(a).join(",")}`,"sap.ushell.navigationMode");return null}return a[n]};const d=["NWBC","WDA","TR","WCF"];i.getNavigationMode=function(n,a,o){const t=n.additionalInformation;const l=n.applicationType;let s;let r;const p={navigationMode:undefined,explicitNavMode:false};if(["inplace","explace"].indexOf(o)>=0){p["sap-ushell-next-navmode"]=o}if(["inplace","explace","frameless"].indexOf(a)>=0){const o=i._getInternalNavigationMode(a,n);e.debug(`Navigation mode was forced to ${o} because sap-ushell-navmode parameter was set to ${a} for target`,"sap.ushell.navigationMode");p.navigationMode=o;p.explicitNavMode=true;return p}if(i._isInplaceEnabledForApplicationType(l)===true){p.navigationMode=i._getInternalNavigationMode("inplace",n)}if(n.appCapabilities&&n.appCapabilities.navigationMode){p.navigationMode=n.appCapabilities.navigationMode;return p}if((t===null||typeof t==="string"||typeof t==="undefined")&&(l==="URL"||l==="SAPUI5")){if(t&&t.indexOf("managed=")===0){if(t==="managed=FioriWave1"){p.navigationMode="embedded";return p}if(t==="managed="){p.navigationMode="newWindow";return p}return p}if(t&&t.indexOf("SAPUI5.Component=")===0){s="[a-zA-Z0-9_]+";r=["^SAPUI5.Component=",s,"([.]",s,")*$"].join("");if(!new RegExp(r).test(t)){e.warning(["The UI5 component name in",t,"is not valid.","Please use names satisfying",r].join(" "))}p.navigationMode="embedded";return p}p.navigationMode="newWindow";return p}if(p.navigationMode===undefined){if(d.indexOf(l)>-1){p.navigationMode="newWindowThenEmbedded"}else if(l==="SAPUI5"){p.navigationMode="embedded"}else{p.navigationMode="newWindow";e.error(`Invalid ApplicationType: ${l}`)}}return p};i.computeNavigationModeForHomepageTiles=function(e,n,a){const i={applicationType:e,additionalInformation:n};if(d.indexOf(e)>-1&&a){return"embedded"}return this.getNavigationMode(i).navigationMode};return i},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/resources", ["sap/base/i18n/Localization","sap/ui/model/resource/ResourceModel"],(e,r)=>{"use strict";const t={};t.i18n=null;t.i18nModel=new r({bundleUrl:sap.ui.require.toUrl("sap/ushell/renderer/resources/resources.properties"),bundleLocale:e.getLanguage(),async:true});t._pResourceBundle=t.i18nModel.getResourceBundle().then(e=>{t.i18n=e});t.awaitResourceBundle=async function(){await t._pResourceBundle};t.getTranslationFromJSON=function(r){if(!r){return""}try{const t=JSON.parse(r);const n=e.getLanguage().toLowerCase();for(const[e,r]of Object.entries(t)){if(e.toLowerCase()===n){return r}}for(const[e,r]of Object.entries(t)){const t=e.toLowerCase();if(t.startsWith(n)||n.startsWith(t)){return r}}return t.default||""}catch{return r}};return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/AppConfiguration", ["sap/base/i18n/Localization","sap/base/i18n/ResourceBundle","sap/base/Log","sap/base/util/ObjectPath","sap/m/library","sap/ui/core/IconPool","sap/ui/thirdparty/hasher","sap/ui/thirdparty/jquery","sap/ui/util/Mobile","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/utils/UrlParsing","sap/ushell/utils","sap/ushell/Container","sap/ushell/Config"],(t,e,n,i,s,a,o,jQuery,r,c,p,l,u,h,f)=>{"use strict";const g=s.ButtonType;function d(){const s={};let d=true;let m=null;let y=[];const I=[];this._applicationOpenedHandler=function(){d=false;while(I.length>0){I.shift()()}};c.on("AppRendered").do(this._applicationOpenedHandler.bind(this));this.addActivity=function(t){const e=new jQuery.Deferred;h.getServiceAsync("UserRecents").then(e=>e.addActivity(t)).then(e.resolve).catch(e.reject);return e.promise()};this.setApplicationInInitMode=function(){d=true};this.getApplicationRequestQueue=function(){return I};this.getCurrentApplication=function(){return m};this.getCurrentAppliction=this.getCurrentApplication;this.getMetadata=function(t,e){if(!t){t=m}if(t){let n;if(e){n=e.slice(1)}else{n=o?.getHash?o.getHash():""}const i=this._getMemoizationKey(n);return this._getMetadata(t,i)}return{}};this._getMemoizationKey=function(t){const[e,n]=t.split("?");const i=this._processParams(n);if(i){return e+i}const s=l.parseShellHash(t);if(s){const{semanticObject:t,action:e}=s;return`${t}-${e}`}return""};this._processParams=function(t){if(!t){return""}const e={};t.split("&").forEach(t=>{const[n,i]=t.split("=");e[n]=i});const n=Object.keys(e).sort();const i=n.reduce((t,n,i)=>{const s=`${n}=${e[n]}`;return`${t}${i>0?"&":"?"}${s}`},"");return i};this._getMetadata=function(t,e){if(!s.hasOwnProperty(e)||!s[e].complete){this.addMetadata(t,e)}if(!s[e]){s[e]={complete:false}}if(!s[e].title){s[e].title=t.text||p.i18n.getText("default_app_title")}return s[e]};this.setCurrentApplication=function(t){if(m===t){return}m=t;I.splice(0)};this.setHeaderHiding=function(){n.warning("Application configuration headerHiding property is deprecated and has no effect")};this.addApplicationSettingsButtons=function(t){if(d){I.push(()=>{this._addApplicationSettingsButtons(t)})}else{this._addApplicationSettingsButtons(t)}};this._addApplicationSettingsButtons=function(t){const e=h.getRendererInternal("fiori2");const n=[];for(let e=0;e<t.length;e++){const i=t[e];n.push(i.getId());i.setIcon(i.getIcon()||a.getIconURI("customize"));if(p.i18n.getText("userSettings")===i.getProperty("text")){i.setProperty("text",p.i18n.getText("userAppSettings"))}i.setType(g.Unstyled)}if(e){if(y.length){e.hideActionButton(y,true)}y=n;e.showActionButton(n,true,undefined,true)}};this.setWindowTitle=function(e){const n=p.getTranslationFromJSON(f.last("/core/shell/windowTitleExtension"));if(n){if(t.getRTL()){e=`${n} - ${e}`}else{e=`${e} - ${n}`}}window.document.title=e};this.setIcons=function(t){r.setIcons(t)};this.setApplicationFullWidth=function(t){this.setApplicationFullWidthInternal(t)};this.setApplicationFullWidthInternal=function(t){c.emit("setApplicationFullWidth",{bValue:t,date:Date.now()})};this.getApplicationName=function(t){const e=t?.additionalInformation;if(e){const t=/^SAPUI5\.Component=(.+)$/i.exec(e);if(t){return t[1]}}return null};this.getApplicationUrl=function(t){let e=t?.url;const n="P_TCODE";if(e){if(t.applicationType==="NWBC"&&e.indexOf(n)){return e}const i=e.indexOf("?");if(i>=0){e=e.slice(0,i)}if(e.slice(-1)!=="/"){e+="/"}}return e};this._getPropertyValueFromConfig=function(t,e,n){const i=`${e}Resource`;if(n&&t.hasOwnProperty(i)){return n.getText(t[i])}if(t.hasOwnProperty(e)){return t[e]}};this._getPropertyValueFromManifest=function(t,e,n){const s=e[n].manifestEntryKey;const a=e[n].path||"";const o=t.getManifestEntry(s);return i.get(a,o)};this.addMetadata=function(i,a){try{const o=this.getApplicationName(i);const r=this.getApplicationUrl(i);const c={fullWidth:{manifestEntryKey:"sap.ui",path:"fullWidth"},hideLightBackground:{manifestEntryKey:"sap.ui",path:"hideLightBackground"},title:{manifestEntryKey:"sap.app",path:"title"},icon:{manifestEntryKey:"sap.ui",path:"icons.icon"},favIcon:{manifestEntryKey:"sap.ui",path:"icons.favIcon"},homeScreenIconPhone:{manifestEntryKey:"sap.ui",path:"icons.phone"},"homeScreenIconPhone@2":{manifestEntryKey:"sap.ui",path:"icons.phone@2"},homeScreenIconTablet:{manifestEntryKey:"sap.ui",path:"icons.tablet"},"homeScreenIconTablet@2":{manifestEntryKey:"sap.ui",path:"icons.tablet@2"},startupImage320x460:{manifestEntryKey:"sap.ui",path:"icons.startupImage640x920"},startupImage640x920:{manifestEntryKey:"sap.ui",path:"icons.startupImage640x920"},startupImage640x1096:{manifestEntryKey:"sap.ui",path:"icons.startupImage640x1096"},startupImage768x1004:{manifestEntryKey:"sap.ui",path:"icons.startupImage768x1004"},startupImage748x1024:{manifestEntryKey:"sap.ui",path:"icons.startupImage748x1024"},startupImage1536x2008:{manifestEntryKey:"sap.ui",path:"icons.startupImage1536x2008"},startupImage1496x2048:{manifestEntryKey:"sap.ui",path:"icons.startupImage1496x2048"},compactContentDensity:{manifestEntryKey:"sap.ui5",path:"contentDensities.compact"},cozyContentDensity:{manifestEntryKey:"sap.ui5",path:"contentDensities.cozy"}};const p=i?.componentHandle;if(!a){return}if(!s.hasOwnProperty(a)){s[a]={complete:false}}if(!s[a].complete){let l;let h;if(p){l=p.getInstance();h=p.getMetadata()}else if(o){n.warning(`No component handle available for '${o}'; SAPUI5 component metadata is incomplete`,null,"sap.ushell.services.AppConfiguration");return}if(l&&h){let n;const o=l._getManifestEntry("/sap.ui5/config",true);s[a].complete=true;if(o){let i=o.resourceBundle;if(i){if(i.slice(0,1)!=="/"){i=r+i}n=e.create({url:i,locale:t.getLanguage()})}}const p=!!l.getManifest();for(const t in c){if(c.hasOwnProperty(t)){if(p){s[a][t]=this._getPropertyValueFromManifest(l,c,t)}if(o&&s[a][t]===undefined){s[a][t]=this._getPropertyValueFromConfig(o,t,n)}}}s[a].version=l.getManifestEntry("/sap.app/applicationVersion/version");s[a].technicalName=h.getComponentName();this._setTitleFromNavResult(s[a],i)}else if(u.isApplicationTypeEmbeddedInIframe(i.applicationType)){const t="/~canvas;window=app/wda/";const e=i.url.indexOf(t);const n="/sap/bc/webdynpro/sap/";const o="/bc/gui/sap/its/webgui";const r=i.url.indexOf(o);if(e>=0){s[a].technicalName=i.url.substring(e+t.length,i.url.indexOf("/",e+t.length))}if(i.url.indexOf(n)>=0){s[a].technicalName=new RegExp(`${n}(.*)[?]`).exec(i.url)[1]}s[a].complete=true;if(r>=0){const t="etransaction=";const e=i.url.indexOf(t,r+o.length);const n=i.url.indexOf("&",e);const c=n>=0?n:i.url.length;s[a].technicalName=`${decodeURIComponent(i.url.substring(e+t.length,c))} (TCODE)`}}else{n.warning("No technical information for the given application could be determined",null,"sap.ushell.services.AppConfiguration")}}const l=["favIcon","homeScreenIconPhone","homeScreenIconPhone@2","homeScreenIconTablet","homeScreenIconTablet@2","startupImage320x460","startupImage640x920","startupImage640x1096","startupImage768x1004","startupImage748x1024","startupImage1536x2008","startupImage1496x2048"];const h=r?.[r.length-1]==="/"?r.substring(0,r.length-1):r;l.forEach(t=>{const e=s[a][t];let n=null;if(e){n=this._isUrlRelative(e)?`${h}/${e}`:e}s[a][t]=n})}catch(t){n.warning("Application configuration could not be parsed",t)}};this._isUrlRelative=function(t){if(!t){return false}if(t.match(/^https?:\/\/.*/)){return false}return t[0]!=="/"};this._setTitleFromNavResult=function(t,e){const n=e?.text;const i=t.technicalName;const s=f.last("/core/shell/useAppTitleFromNavTargetResolution")||[];if(n&&s.includes(i)){t.title=n}}}return new d},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/AppLifeCycle", ["sap/ui/base/EventProvider","sap/ui/core/Component","sap/ui/thirdparty/hasher","sap/ui/thirdparty/URI","sap/ushell/AppInfoParameters","sap/ushell/Config","sap/ushell/Container","sap/ushell/EventHub","sap/ushell/services/AppConfiguration","sap/ushell/TechnicalParameters","sap/ushell/renderer/RendererManagedComponents"],(e,t,n,p,i,o,a,r,s,l,c)=>{"use strict";const u="appLoaded";function h(t,n,p,i){this._oCurrentApplication=null;this._oCurrentApplicationContainer=null;this._oEventProvider=new e;if(window.QUnit===undefined&&a.inAppRuntime()===false){if(o.last("/core/shell/enableMessageBroker")){a.getServiceAsync("MessageBroker").then(async e=>{await e.connect(e.ClientAlias.FLP,()=>{});e.subscribe(e.ClientAlias.FLP,[{channelId:"flp-app-info",version:"1.0"}],this._handleIncomingMessageBrokerMessage.bind(this,e))})}}}h.prototype.init=function(e){e.attachAfterNavigate(this.onAfterNavigate.bind(this))};h.prototype._handleIncomingMessageBrokerMessage=function(e,t,n,p,i){if(n==="flp-app-info"&&p==="get-current-app-info"&&this._oCurrentApplication){this._oCurrentApplication.getAllAppInfo(true).then(n=>{e.publish("flp-app-info",e.ClientAlias.FLP,Date.now().toString(),p,[t],n)})}};h.prototype.onAfterNavigate=async function(e){let n=false;const p=e.getParameter("to");let i;if(p?.isA?.("sap.ushell.appIntegration.ApplicationContainer")){i=p}let o;if(i&&typeof i.getComponentHandle==="function"&&i.getComponentHandle()){o=i.getComponentHandle().getInstance()}else if(i){const e=i.getAggregation("child");if(e){o=e.getComponentInstance()}}else{o=t.getComponentById(p?.getComponent?.());if(o?.isA?.("sap.ushell.renderer.rendererTargetWrapper.Component")){o=await o.getComponentInstance()}}if(o){n=c.isManagedComponentInstance(o)}let a=i&&typeof i.getApplicationType==="function"&&i.getApplicationType();if((!a||a==="URL")&&o){a="UI5"}this._setCurrentApplicationObject(a,o,n,i)};h.prototype._getAppIntent=async function(e){const t=n.getHash();let i;if(!t){throw new Error("Could not identify current application hash")}const o=a.getServiceAsync("URLParsing");return o.then(n=>{i=n.parseShellHash(t);if(e===true&&this._oCurrentApplicationContainer&&typeof this._oCurrentApplicationContainer.getCurrentAppUrl==="function"){const e=this._oCurrentApplicationContainer.getCurrentAppUrl();if(e){const t=new p(e).search(true);if(t.hasOwnProperty("sap-remote-intent")){i.semanticObject=t["sap-remote-intent"].split("-")[0];i.action=t["sap-remote-intent"].split("-")[1];delete i.params["sap-shell-so"];delete i.params["sap-shell-action"]}}}return i})};h.prototype._setCurrentApplicationObject=function(e,t,n,p){this._oCurrentApplicationContainer=p;this._oCurrentApplication={applicationType:e,componentInstance:t,homePage:n,getTechnicalParameter:function(n){return l.getParameterValue(n,t,p,e)},getIntent:this._getAppIntent.bind(this),getInfo:function(e){return i.getInfo(e,this._oCurrentApplication,p)}.bind(this),getAllAppInfo:function(e){return i.getAllAppInfo(e,this._oCurrentApplication,t,p).then(t=>{if(e===true){t.applicationType=this._oCurrentApplication.applicationType;t.homePage=this._oCurrentApplication.homePage}else{t.applicationType={value:this._oCurrentApplication.applicationType};t.homePage={value:this._oCurrentApplication.homePage}}return t})}.bind(this),getSystemContext:function(){const e=s.getCurrentApplication()||{};const t=e.contentProviderId||"";return a.getServiceAsync("ClientSideTargetResolution").then(e=>e.getSystemContext(t))},disableKeepAliveAppRouterRetrigger:function(e){r.emit("disableKeepAliveRestoreRouterRetrigger",{disable:e,appId:this._oCurrentApplicationContainer?.getCurrentAppId(),componentId:this._oCurrentApplication.componentInstance?.oContainer?.sId,date:Date.now()})}.bind(this)};setTimeout(()=>{this._oEventProvider.fireEvent(u,this._oCurrentApplication);r.last("trackHashChange");this._oCurrentApplication.getInfo(["technicalAppComponentId"]).then(e=>{if(!c.isManagedComponentName(e?.technicalAppComponentId)){r.emit("FESRAppLoaded",{technicalName:e.technicalAppComponentId})}});if(window.QUnit===undefined&&a.inAppRuntime()===false){if(o.last("/core/shell/enableMessageBroker")){a.getServiceAsync("MessageBroker").then(e=>{this._oCurrentApplication.getAllAppInfo(true).then(t=>{e.publish("flp-app-info",e.ClientAlias.FLP,"new-app-info","*",t)})})}}},0)};h.prototype.getCurrentApplication=function(){return this._oCurrentApplication};h.prototype.attachAppLoaded=function(e,t,n){this._oEventProvider.attachEvent(u,e,t,n)};h.prototype.detachAppLoaded=function(e,t){this._oEventProvider.detachEvent(u,e,t)};h.prototype.prepareCurrentAppObject=function(e,t,n,p,i){this._setCurrentApplicationObject(e,t,n,p,i)};h.prototype.reloadCurrentApp=function(){const e=this.getCurrentApplication();r.emit("reloadCurrentApp",{sAppContainerId:this._oCurrentApplicationContainer?.getId?.(),sAppId:e.componentInstance?.getId?.(),sCurrentHash:n.getHash(),date:Date.now()})};h.prototype.setAppInfo=function(e,t){i.setCustomAttributes(e?.info);if(o.last("/core/shell/enableMessageBroker")){a.getServiceAsync("MessageBroker").then(e=>{this._oCurrentApplication.getAllAppInfo(true).then(n=>{e.publish("flp-app-info",e.ClientAlias.FLP,t===true?"new-app-info":"app-info-update","*",n)})})}};h.prototype.ApplicationType={UI5:"UI5",WDA:"WDA",NWBC:"NWBC",URL:"URL",TR:"TR"};h.prototype.AppInfoParameterName={productName:"productName",theme:"theme",languageTag:"languageTag",appIntent:"appIntent",appFrameworkId:"appFrameworkId",technicalAppComponentId:"technicalAppComponentId",appId:"appId",appVersion:"appVersion",appSupportInfo:"appSupportInfo",appFrameworkVersion:"appFrameworkVersion","abap.transaction":"abap.transaction"};h.hasNoAdapter=true;return h},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/AppState", ["sap/ui/base/Object","sap/ui/thirdparty/jquery","sap/ushell/services/appstate/AppState","sap/ushell/services/appstate/AppStatePersistencyMethod","sap/ushell/services/appstate/Sequentializer","sap/ushell/services/appstate/SequentializingAdapter","sap/ushell/services/appstate/WindowAdapter","sap/ushell/utils"],(e,jQuery,t,s,n,i,r,o)=>{"use strict";function p(e){return o.isDefined(e)&&o.isDefined(e.transient)?!!e.transient:true}function a(e,t,s,n){this._oConfig=n&&n.config;this._sSessionKey="";this._oAdapter=new i(e);this._oAdapter=new r(this,this._oAdapter,n)}a.prototype._getSessionKey=function(){if(!this._sSessionKey){this._sSessionKey=this._getGeneratedKey()}return this._sSessionKey};a.prototype.getAppState=function(e){const s=new jQuery.Deferred;let n;this._loadAppState(e).done((e,i,r,o)=>{n=new t(this,e,false,i,undefined,undefined,undefined,r,o);s.resolve(n)}).fail(()=>{n=new t(this,e);s.resolve(n)});return s.promise()};a.prototype._getGeneratedKey=function(e){let t=o.generateRandomKey();if(e){t=`TAS${t}`.substring(0,41)}else{t=`AS${t}`.substring(0,40)}return t};a.prototype.createEmptyAppState=function(n,i,r,o){let a="";let d="";const u=i||p(this._oConfig);const f=this._getGeneratedKey(u);if(r!==undefined&&!this.isPersistencyMethodSupported(r)){r=undefined}if(n){if(!e.isObjectA(n,"sap.ui.core.UIComponent")){throw new Error("oComponent passed must be a UI5 Component")}const t=n.getMetadata&&n.getMetadata();if(t){if(typeof n.getMetadata().getName==="function"){a=t.getName()||""}if(!a&&t.getComponentName){a=t.getComponentName()}if(typeof n.getManifest==="function"&&typeof n.getManifest()==="object"&&typeof n.getManifest()["sap.app"]==="object"){d=n.getManifest()["sap.app"].ach||""}}}if(u===true){r=undefined}else if(r===undefined&&this.isPersistencyMethodSupported(s.PersonalState)){r=s.PersonalState}return new t(this,f,true,undefined,a,d,u,r)};a.prototype.createEmptyUnmodifiableAppState=function(){const e=this._getGeneratedKey();const s=new t(this,e,false);return s};a.prototype._saveAppState=function(e,t,n,i,r,a,d){const u=this._getSessionKey();const f=o.isDefined(r)?r:p(this._oConfig);if(f){a=undefined;d=undefined}else if(a!==undefined){if(!this.isPersistencyMethodSupported(a)){if(this.isPersistencyMethodSupported(s.PersonalState)){a=s.PersonalState}else{a=undefined}d=undefined}}return this._oAdapter.saveAppState(e,u,t,n,i,f,a,d)};a.prototype._keyIsJson=function(e){if(typeof e==="string"&&e.indexOf("{")===0){try{JSON.parse(e);return true}catch{return false}}return false};a.prototype._loadAppState=function(e){if(this._keyIsJson(e)){return(new jQuery.Deferred).resolve(e,e).promise()}return this._oAdapter.loadAppState(e)};a.prototype.deleteAppState=function(e){return this._oAdapter.deleteAppState(e)};a._getSequentializer=function(){return new n};a.prototype.getSupportedPersistencyMethods=function(){if(this._oAdapter.getSupportedPersistencyMethods){return this._oAdapter.getSupportedPersistencyMethods()}return[]};a.prototype.isPersistencyMethodSupported=function(e){const t=this.getSupportedPersistencyMethods();if(t.length>0&&e!==undefined){return t.indexOf(e)>=0}return false};function d(e,t){const s=new RegExp(`(?:${t}=)([^&/]+)`);const n=s.exec(e);let i;if(n&&n.length===2){i=n[1]}return i}a.prototype.setAppStateToPublic=function(e){const t=d(e,"sap-xapp-state");const n=d(e,"sap-iapp-state");const i=new jQuery.Deferred;jQuery.when(t&&this.makeStatePersistent(t,s.PublicState),n&&this.makeStatePersistent(n,s.PublicState)).done((s,r)=>{if(t&&t!==s){e=e.replace(t,s)}if(n&&n!==r){e=e.replace(n,r)}i.resolve(e,t,n,s,r)}).fail(i.reject);return i.promise()};a.prototype.makeStatePersistent=function(e,t,s){const n=new jQuery.Deferred;if(this.getSupportedPersistencyMethods().length===0){return n.resolve(e)}if(this._keyIsJson(e)){return n.resolve(e)}if(this.isPersistencyMethodSupported(t)){this.getAppState(e).done(i=>{if(i._iPersistencyMethod!==t){i.bTransient=false;i._iPersistencyMethod=t;i._oPersistencySettings=s;if(e.startsWith("TAS")){e=e.substring(1,e.length)}this._saveAppState(e,i._sData,i._sAppName,i._sACHComponent,false,t,s).done(()=>{n.resolve(e)}).fail(n.reject)}else{n.resolve(e)}}).fail(n.reject)}else{n.reject(new Error(`AppState.makeStatePersistent - adapter does not support persistence method: ${t}`))}return n.promise()};a.prototype.getPersistentWhenShared=function(){return this._oConfig&&this._oConfig.persistentWhenShared===true?true:false};a.WindowAdapter=r;a.hasNoAdapter=false;return a},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ClientSideTargetResolution", ["sap/base/Log","sap/base/util/isPlainObject","sap/base/util/ObjectPath","sap/base/util/extend","sap/ushell/ApplicationType","sap/ushell/navigationMode","sap/ushell/services/ClientSideTargetResolution/Formatter","sap/ushell/services/ClientSideTargetResolution/InboundIndex","sap/ushell/services/ClientSideTargetResolution/InboundProvider","sap/ushell/services/ClientSideTargetResolution/ParameterMapping","sap/ushell/services/ClientSideTargetResolution/PrelaunchOperations","sap/ushell/services/ClientSideTargetResolution/Search","sap/ushell/services/ClientSideTargetResolution/StagedLogger","sap/ushell/services/ClientSideTargetResolution/SystemContext","sap/ushell/services/ClientSideTargetResolution/Utils","sap/ushell/services/ClientSideTargetResolution/VirtualInbounds","sap/ushell/services/ClientSideTargetResolution/XAppStateProcessing","sap/ui/thirdparty/jquery","sap/ushell/TechnicalParameters","sap/ushell/utils","sap/ushell/utils/UrlParsing","sap/ushell/Container"],(e,t,n,s,i,a,o,r,l,u,c,d,p,f,g,h,m,jQuery,b,y,v,S)=>{"use strict";function R(e,t,n,s){this._init.apply(this,arguments)}R.prototype._init=function(t,n,s,i){this._iLogId=0;if(!this._implementsServiceInterface(t)){e.error("Cannot get Inbounds","ClientSideTargetResolutionAdapter should implement getInbounds method","sap.ushell.services.ClientSideTargetResolution");return}this._oInboundProvider=new l(t.getInbounds.bind(t));this._oHaveEasyAccessSystemsDeferreds={userMenu:null,sapMenu:null};this._oServiceConfiguration=i;this._oAdapter=t};R.prototype._implementsServiceInterface=function(e){if(typeof e.getInbounds==="function"){return true}return false};R.prototype._extractInboundFilter=function(e){if(!this._oAdapter.hasSegmentedAccess){return undefined}if(typeof e!=="string"){return undefined}const t=e.indexOf("#")===0?e:`#${e}`;const n=v.parseShellHash(t);if(!n||!n.semanticObject||!n.action){return undefined}return[{semanticObject:n.semanticObject,action:n.action}]};R.prototype.resolveHashFragment=async function(e){const t=this._extractInboundFilter(e);const n=await this._oInboundProvider.getInbounds(t);const s=await this._resolveHashFragment(e,n);return s};R.prototype._resolveHashFragmentWithFallback=async function(t,n,s){if(typeof this._oAdapter.resolveHashFragmentFallback!=="function"){e.error("Cannot resolve hash fragment",`${t} has matched an inbound that cannot be resolved client side and no resolveHashFragmentFallback method was implemented in ClientSideTargetResolutionAdapter`,"sap.ushell.services.ClientSideTargetResolution");throw new Error("No fallback provided")}const i=await y.promisify(this._oAdapter.resolveHashFragmentFallback(t,n,s));return i};R.prototype.resolveTileIntent=async function(e){const t=this._extractInboundFilter(e);const n=await this._oInboundProvider.getInbounds(t);const s=await this._resolveTileIntent(e,n);return s};R.prototype.resolveTileIntentInContext=async function(e,t){const n=r.createIndex(e.concat(h.getInbounds()));const s=await this._resolveTileIntent(t,n);return s};R.prototype._resolveHashFragment=async function(t,n){const s=t.indexOf("#")===0?t:`#${t}`;const i=v.parseShellHash(s);if(i===undefined){e.error(`Could not parse shell hash '${t}'`,"please specify a valid shell hash","sap.ushell.services.ClientSideTargetResolution");throw new Error(`Could not parse shell hash '${t}'please specify a valid shell hash`)}i.formFactor=y.getFormFactor();let a=await this._getMatchingInbounds(i,n,{bExcludeTileInbounds:true});if(a.length===0){e.warning(`Could not resolve ${t}`,"rejecting promise","sap.ushell.services.ClientSideTargetResolution");throw new Error(`Could not resolve ${t}`)}a=this._applySapNavigationScopeFilter(a,i);const o=a[0];o.fullHash=s;function r(e,t){return this[e]===undefined?"<undefined>":t}function l(e,t){return e==="_original"?undefined:r.call(this,e,t)}if(e.getLevel()>=e.Level.DEBUG){const t=JSON.stringify(o,l,"   ");e.debug("The following target will now be resolved",t,"sap.ushell.services.ClientSideTargetResolution")}return this._resolveSingleMatchingTarget(o,s)};R.prototype._applySapNavigationScopeFilter=function(e,t){const s=t&&t.params&&t.params["sap-navigation-scope-filter"];if(!s){return e}const i=e.filter(e=>{const t=n.get("inbound.signature.parameters",e);const i=t&&t["sap-navigation-scope"];if(i){return s[0]===i.defaultValue.value}return undefined});return i.length>0?i:e};R.prototype._resolveSingleMatchingTarget=async function(t,s){const o=v.parseShellHash(s);const r=[o.semanticObject,o.action].join("-");const l=(t.inbound.resolutionResult||{}).applicationType;let d;if(this._oAdapter.resolveSystemAlias){d=(...e)=>{const t=new jQuery.Deferred;y.promisify(this._oAdapter.resolveSystemAlias.apply(this._oAdapter,e)).then(t.resolve).catch(t.reject);return t}}const p=!!t.inbound.templateContext;const f=i.getEasyAccessMenuResolver(r,l);if(f&&!p){const e=await f(o,t,d,i.WDA.enableWdaCompatibilityMode);const n=a.getNavigationMode(e,(t.intentParamsPlusAllDefaults["sap-ushell-navmode"]||[])[0],(t.intentParamsPlusAllDefaults["sap-ushell-next-navmode"]||[])[0]);y.shallowMergeObject(e,n);e.appId=t.inbound.resolutionResult.appId;e.inboundPermanentKey=t.inbound.permanentKey||t.inbound.id;return e}const g=this._getReservedParameters(t);u.mapParameterNamesAndRemoveObjects(t);const h=await S.getServiceAsync("AppState");t=await m.mixAppStateIntoResolutionResultAndRename(t,h);delete t.intentParamsPlusAllDefaults["sap-tag"];delete t.mappedIntentParamsPlusSimpleDefaults["sap-tag"];t.mappedDefaultedParamNames=t.mappedDefaultedParamNames.filter(e=>e!=="sap-tag");const b=n.get("inbound.resolutionResult.url",t);await c.executePrelaunchOperations(t,g["sap-prelaunch-operations"]);try{let n;if(i[l]){n=i[l].generateResolutionResult}else{n=()=>this._constructFallbackResolutionResult(t,s)}const o=await n(t,b,d);const r=a.getNavigationMode(o,(t.intentParamsPlusAllDefaults["sap-ushell-navmode"]||[])[0],(t.intentParamsPlusAllDefaults["sap-ushell-next-navmode"]||[])[0]);y.shallowMergeObject(o,r);o.reservedParameters=g;o.appId=t.inbound.resolutionResult.appId;o.inboundPermanentKey=t.inbound.permanentKey||t.inbound.id;if(t.inbound.resolutionResult?.appInfo){o.appInfo=t.inbound.resolutionResult.appInfo}e.debug("Intent was resolved to the following target",JSON.stringify(o,null,3),"sap.ushell.services.ClientSideTargetResolution");y.shallowMergeObject(t.resolutionResult,o);return t.resolutionResult}catch(e){if(typeof e.message==="string"&&e.message.indexOf("fallback:")>=0){const e=await this._constructFallbackResolutionResult(t,s);y.shallowMergeObject(t.resolutionResult,e);return t.resolutionResult}throw e}};R.prototype._getReservedParameters=function(e){const t=b.getParameters({injectFrom:"startupParameter"}).map(e=>e.name);const n=g.extractParameters(t,e.intentParamsPlusAllDefaults);b.getParameters({injectFrom:"inboundParameter"}).forEach(t=>{const s=t.name;const i=e.inbound&&e.inbound.signature&&e.inbound.signature.parameters;if(i&&Object.keys(i).length>0){const t=i[s];const a=t&&t.defaultValue&&t.defaultValue.hasOwnProperty("value");const o=t&&t.filter&&t.filter.hasOwnProperty("value");if(t&&(o||a)){if(a){n[s]=t.defaultValue.value}else{n[s]=t.filter.value}}else{delete n[s]}delete e.intentParamsPlusAllDefaults[s];const r=e.defaultedParamNames.indexOf(s);if(r>=0){e.defaultedParamNames.splice(r,1)}}});return n};R.prototype._resolveTileIntent=async function(t,n){const s=t.indexOf("#")===0?t:`#${t}`;const i=v.parseShellHash(s);if(i===undefined){e.error(`Could not parse shell hash '${t}'`,"please specify a valid shell hash","sap.ushell.services.ClientSideTargetResolution");throw new Error("Cannot parse shell hash")}i.formFactor=y.getFormFactor();const a=await this._getMatchingInbounds(i,n,{bExcludeTileInbounds:false});if(a.length===0){e.warning(`Could not resolve ${t}`,"no matching targets were found","sap.ushell.services.ClientSideTargetResolution");throw new Error("No matching targets found")}const o=a[0];return this._resolveSingleMatchingTileIntent(o,s)};R.prototype._resolveSingleMatchingTileIntent=async function(t,o){const r=(t.inbound.resolutionResult||{}).applicationType;let l;if(this._oAdapter.resolveSystemAlias){l=(...e)=>{const t=new jQuery.Deferred;y.promisify(this._oAdapter.resolveSystemAlias.apply(this._oAdapter,e)).then(t.resolve).catch(t.reject);return t}}u.mapParameterNamesAndRemoveObjects(t);const c=await S.getServiceAsync("AppState");t=await m.mixAppStateIntoResolutionResultAndRename(t,c);delete t.intentParamsPlusAllDefaults["sap-tag"];delete t.mappedIntentParamsPlusSimpleDefaults["sap-tag"];t.mappedDefaultedParamNames=t.mappedDefaultedParamNames.filter(e=>e!=="sap-tag");const d=n.get("inbound.resolutionResult.url",t);let p;if(i[r]){p=i[r].generateResolutionResult}else{p=()=>this._constructFallbackResolutionResult(t,o)}const f=await p(t,d,l);y.shallowMergeObject(t.resolutionResult,f);const g=s({},t.inbound.tileResolutionResult);g.startupParameters=t.effectiveParameters;const h=a.getNavigationMode(f,(t.intentParamsPlusAllDefaults["sap-ushell-navmode"]||[])[0],(t.intentParamsPlusAllDefaults["sap-ushell-next-navmode"]||[])[0]);y.shallowMergeObject(g,h);e.debug("Tile Intent was resolved to the following target",JSON.stringify(g,null,3),"sap.ushell.services.ClientSideTargetResolution");return g};R.prototype._constructFallbackResolutionResult=async function(t,n){const i={};Object.keys(t.intentParamsPlusAllDefaults).forEach(e=>{if(Array.isArray(t.intentParamsPlusAllDefaults[e])){i[e]=t.intentParamsPlusAllDefaults[e]}});const a=t.mappedDefaultedParamNames||t.defaultedParamNames;if(a.length>0){i["sap-ushell-defaultedParameterNames"]=[JSON.stringify(a)]}e.warning("Cannot resolve hash fragment client side",`${n} has matched an inbound that cannot be resolved client side. Using fallback logic`,"sap.ushell.services.ClientSideTargetResolution");const o=await this._resolveHashFragmentWithFallback(n,s({},t.inbound),i);const r={};["applicationType","additionalInformation","url","applicationDependencies","text"].forEach(e=>{if(o.hasOwnProperty(e)){r[e]=o[e]}});return r};R.prototype.getDistinctSemanticObjects=async function(){const e={};const t=await this._oInboundProvider.getInbounds();t.getAllInbounds().forEach(t=>{if(typeof t.semanticObject==="string"&&t.semanticObject!=="*"&&!t.hideIntentLink&&t.semanticObject.length>0){e[t.semanticObject]=true}});return Object.keys(e).sort()};R.prototype.getLinks=async function(n){let i;if(arguments.length===1&&t(arguments[0])){const e=arguments[0];i=s({},e);["action","semanticObject"].forEach(t=>{if(e.hasOwnProperty(t)){i[t]=e[t]}});if(i.appStateKey){i.params=i.params||{};i.params["sap-xapp-state"]=[i.appStateKey];delete i.appStateKey}}else if(arguments.length<=3){e.warning("Passing positional arguments to getLinks is deprecated","Please use nominal arguments instead","sap.ushell.services.ClientSideTargetResolution");const t=arguments[0];const n=arguments[1];const s=arguments[2];i={semanticObject:t,params:n,ignoreFormFactor:s}}else{throw new Error("Invalid arguments for getLinks")}const a=await this._oInboundProvider.getInbounds();const o=await this._getLinks(i,a);return o};R.prototype._validateGetSemanticObjectLinksArgs=function(t){const n=t.semanticObject;const s=t.action;const i=!t.hasOwnProperty("action");if(typeof n!=="undefined"||i){if(typeof n!=="string"){e.error("invalid input for _getLinks",`the semantic object must be a string, got ${Object.prototype.toString.call(n)} instead`,"sap.ushell.services.ClientSideTargetResolution");return"invalid semantic object"}if(i&&n.match(/^\s+$/)){e.error("invalid input for _getLinks",`the semantic object must be a non-empty string, got '${n}' instead`,"sap.ushell.services.ClientSideTargetResolution");return"invalid semantic object"}if(!i&&n.length===0){e.error("invalid input for _getLinks",`the semantic object must not be an empty string, got '${n}' instead`,"sap.ushell.services.ClientSideTargetResolution");return"invalid semantic object"}}if(typeof s!=="undefined"){if(typeof s!=="string"){e.error("invalid input for _getLinks",`the action must be a string, got ${Object.prototype.toString.call(s)} instead`,"sap.ushell.services.ClientSideTargetResolution");return"invalid action"}if(s.length===0){e.error("invalid input for _getLinks",`the action must not be an empty string, got '${s}' instead`,"sap.ushell.services.ClientSideTargetResolution");return"invalid action"}}return undefined};R.prototype._getLinks=async function(t,s){const i=t.semanticObject;const a=t.action;const o=t.params;const r=!!t.withAtLeastOneUsedParam;const l=!!t.treatTechHintAsFilter;const u=t.ignoreFormFactor;const c=t.hasOwnProperty("sortResultsBy")?t.sortResultsBy:"intent";if(t.hasOwnProperty("sortResultOnTexts")){e.warning("the parameter 'sortResultOnTexts' was experimental and is no longer supported",`getLinks results will be sorted by '${c}'`,"sap.ushell.services.ClientSideTargetResolution")}const d={bExcludeTileInbounds:true};const p=this._validateGetSemanticObjectLinksArgs(t);if(t.tags){d.tags=t.tags}if(p){throw new Error(p)}if(i==="*"){return[]}function f(e){const t=v.paramsToString(e);return t?`?${t}`:""}const h=y.getFormFactor();const m=v.parseParameters(f(o));const b={semanticObject:i===""?undefined:i,action:a,formFactor:u?undefined:h,params:m};if(l){b.treatTechHintAsFilter=true}const S=await this._getMatchingInbounds(b,s,d);const R={};const w=S.map(e=>{const s=i||e.inbound.semanticObject;const a=`#${s}-${e.inbound.action}`;let o;if(s==="*"){return undefined}if(e.inbound.action==="*"){return undefined}if(e.inbound&&e.inbound.hasOwnProperty("hideIntentLink")&&e.inbound.hideIntentLink===true){return undefined}if(!R.hasOwnProperty(a)){R[a]={matchingInbound:e.inbound,count:1};if(e.inbound.signature.additionalParameters==="ignored"){o=g.filterObjectKeys(m,t=>t.indexOf("sap-")===0||e.inbound.signature.parameters.hasOwnProperty(t),false)}else{o=m}if(r){const e=Object.keys(o).some(e=>e.indexOf("sap-")!==0);if(!e){R[a].hideReason="getLinks called with 'withAtLeastOneUsedParam = true', but the inbound had no business parameters defined.";return undefined}}const s=g.inboundSignatureMeetsParameterOptions(e.inbound.signature.parameters,t.paramsOptions||[]);if(!s){R[a].hideReason="inbound signature does not meet the requested parameter filter options";return undefined}const i={intent:a+f(o),text:e.inbound.title};if(e.inbound.icon){i.icon=e.inbound.icon}if(e.inbound.subTitle){i.subTitle=e.inbound.subTitle}if(e.inbound.shortTitle){i.shortTitle=e.inbound.shortTitle}const l=n.get("inbound.signature.parameters.sap-tag.defaultValue.value",e);if(l){i.tags=[l]}return i}R[a].count++;return undefined}).filter(e=>typeof e==="object");if(c!=="priority"){w.sort((e,t)=>e[c]<t[c]?-1:1)}if(w.length===0){e.debug("_getLinks returned no results")}else if(e.getLevel()>=e.Level.DEBUG){if(e.getLevel()>=e.Level.TRACE){const t=[];const n=[];w.forEach(e=>{const s=e.intent.split("?")[0];const i=R[s];let a="";if(i.hideReason){a=`(${i.hideReason})`}else if(i.count>1){a=`(${i.count-1} others matched)`}const o=`- ${s}${a}\n  text: ${e.text}\n  full intent: ${e.intent}`;if(i.hideReason){n.push(o)}else{t.push(o)}});e.debug("_getLinks filtered to the following unique intents:",`\n${t.join("\n")}`,"sap.ushell.services.ClientSideTargetResolution");e.debug("_getLinks would have also returned the following unique intents, but something prevented this:",n.join("\n"),"sap.ushell.services.ClientSideTargetResolution")}else{e.debug("_getLinks filtered to unique intents.",`Reporting histogram: \n - ${Object.keys(R).join("\n - ")}`,"sap.ushell.services.ClientSideTargetResolution")}}return w};R.prototype._getMatchingInbounds=async function(t,n,s){let i;let a;let r;let l;if(s){i=s.tags;r=s.bExcludeTileInbounds}if(e.getLevel()>=e.Level.DEBUG){a=++this._iLogId}p.begin(()=>{function e(e){const t=e.action||(typeof e.action==="undefined"?"<any>":"<invalid-value>");const n=e.semanticObject||(typeof e.semanticObject==="undefined"?"<any>":"<invalid-value>");return v.constructShellHash({semanticObject:n,action:t,params:e.params})}const n=e(t);return{logId:a,title:`Matching Intent '${n}' to inbounds (form factor: ${t.formFactor||"<any>"})`,moduleName:"sap.ushell.services.ClientSideTargetResolution",stages:["STAGE1: Find matching inbounds","STAGE2: Resolve references","STAGE3: Rematch with references","STAGE4: Sort matched targets"]}});function u(){p.end(()=>({logId:a}))}const c=t.semanticObject;const f=t.action;this._oShellHash=t;const g=i?n.getSegmentByTags(i):n.getSegment(c,f);if(r){l=g.filter(e=>!e.tileResolutionResult||!e.tileResolutionResult.isCustomTile)}else{l=g}let h=null;if(this._oAdapter.getContentProviderDataOriginsLookup){h=this._oAdapter.getContentProviderDataOriginsLookup.bind(this._oAdapter)}const m=await d.match(t,l,{},h,e.getLevel()>=e.Level.DEBUG);p.log(()=>({logId:a,stage:1,prefix:"✘",lines:Object.keys(m.noMatchReasons||{}).map(e=>`${e} ${m.noMatchReasons[e]}`)}));p.log(()=>{const e=m.matchResults.map(e=>o.formatInbound(e.inbound));return{logId:a,stage:1,prefix:e.length>0?"✅":"✘",lines:e.length>0?e:["No inbound was matched"]}});const b={};let y=false;let R=Object.keys(m.missingReferences);R.forEach(e=>{const t=Object.keys(m.missingReferences[e]);y=y||t.length>0;b[e]=t});R=R.filter(e=>{if(b[e].length>0){return true}delete b[e];return false});let w;if(y){try{R.forEach(e=>{p.log(()=>({logId:a,stage:2,line:`@ Must resolve the following references with contentProviderId = "${e}":`,prefix:"•",lines:b[e]}))});const e=await S.getServiceAsync("ReferenceResolver");const t=await Promise.all(R.map(e=>this.getSystemContext(e)));const n=await Promise.all(R.map((n,s)=>e.resolveReferences(b[n],t[s])));const s={matchResults:m.matchResults,referencesToInclude:{}};R.forEach((e,t)=>{const i=n[t];s.referencesToInclude[e]=i;if(Object.keys(i).length>0){p.log(()=>({logId:a,stage:2,line:`✅ resolved references with contentProviderId = "${e}" to the following values:`,prefix:"•",lines:Object.keys(i).map(e=>`${e}: '${i[e]}'`)}))}});w=s}catch(e){p.log(()=>({logId:a,stage:2,prefix:"❌",line:`Failed to resolve references: ${e.message}`}));u();return[]}}else{p.log(()=>({logId:a,stage:2,prefix:"✅",line:"No need to resolve references"}));w={matchResults:m.matchResults,referencesToInclude:null}}let I;if(w.referencesToInclude){const e=w.matchResults;const n=e.map(e=>e.inbound);I=await d.match(t,n,w.referencesToInclude,h,0);p.log(()=>{const e=I.matchResults||[];if(e.length>=1){return{logId:a,stage:3,line:"The following inbounds re-matched:",lines:e.map(e=>o.formatInbound(e.inbound)),prefix:"✅"}}return{logId:a,stage:3,line:"No inbounds re-matched",prefix:"-"}})}else{p.log(()=>({logId:a,stage:3,line:"rematch was skipped (no references to resolve)",prefix:"✅"}));I=w}const P=I.matchResults||[];if(P.length<=1){p.log(()=>({logId:a,stage:4,line:"Nothing to sort"}));u();return P}const T=d.sortMatchingResultsDeterministic(I.matchResults||[]);p.log(()=>{const e=T.map(e=>`${o.formatInbound(e.inbound||{})+(e.matchesVirtualInbound?" (virtual)":"")}\n[ Sort Criteria ] `+`\n * 1 * sap-priority: '${e["sap-priority"]}'`+`\n * 2 * Sort string: '${e.priorityString}\n * 3 * Deterministic blob: '${d.serializeMatchingResult(e)}'`);return{logId:a,stage:4,line:"Sorted inbounds as follows:",lines:e,prefix:".",number:true}});u();return T};R.prototype._isIntentSupportedOne=async function(e,t){const n=v.parseShellHash(e);if(e==="#"){return true}if(n===undefined){throw new Error(`Could not parse shell hash '${e}'`)}n.formFactor=y.getFormFactor();const s=await this._getMatchingInbounds(n,t,{bExcludeTileInbounds:true});return s.length>0};R.prototype.isIntentSupported=async function(e){const t=await this._oInboundProvider.getInbounds();const n=await this._isIntentSupported(e,t);return n};R.prototype._isIntentSupported=async function(e,t){const n={};await Promise.all(e.map(async e=>{const s=await this._isIntentSupportedOne(e,t);n[e]={supported:s}}));return n};R.prototype.getUserDefaultParameterNames=async function(e){const t=await this._oInboundProvider.getInbounds();const n=await this._getUserDefaultParameterNames(t.getAllInbounds(),e);return n};R.prototype._getUserDefaultParameterNames=function(e,t){const n={simple:{},extended:{}};e=e.filter(e=>{if(e.contentProviderId===undefined&&t.id===""){return true}return e.contentProviderId===t.id});return S.getServiceAsync("ReferenceResolver").then(t=>{e.forEach(e=>{const s=e.signature&&e.signature.parameters||[];Object.keys(s).forEach(e=>{const i=s[e];let a;if(i){if(i.filter&&i.filter.format==="reference"){a=i.filter.value}else if(i.defaultValue&&i.defaultValue.format==="reference"){a=i.defaultValue.value}if(typeof a==="string"){const e=t.extractUserDefaultReferenceName(a);if(typeof e==="string"){n.simple[e]={}}const s=t.extractExtendedUserDefaultReferenceName(a);if(typeof s==="string"){n.extended[s]={}}}}})});return n})};R.prototype.getEasyAccessSystems=function(e){e=e||"sapMenu";if(!this._oHaveEasyAccessSystemsDeferreds[e]){this._oHaveEasyAccessSystemsDeferreds[e]=this._getEasyAccessSystems(e)}return this._oHaveEasyAccessSystemsDeferreds[e]};R.prototype._getEasyAccessSystems=async function(s){const a={};const r=i.getEasyAccessMenuDefinitions().reduce((e,t)=>{const n=t.easyAccessMenu.intent.split("-")[1];e[n]={appType:t.type,priority:t.easyAccessMenu.systemSelectionPriority};return e},{});let l;switch(s){case"userMenu":l=i.getEasyAccessMenuDefinitions().reduce((e,t)=>{const n=t.easyAccessMenu.intent;e[n]=t.easyAccessMenu.showSystemSelectionInUserMenu;return e},{});break;case"sapMenu":l=i.getEasyAccessMenuDefinitions().reduce((e,t)=>{const n=t.easyAccessMenu.intent;e[n]=t.easyAccessMenu.showSystemSelectionInSapMenu;return e},{});break;default:throw new Error(`Invalid menu type: '${s}'`)}const u=await this._oInboundProvider.getInbounds();const c={};const d=y.getFormFactor();u.getAllInbounds().filter(e=>{if(!e){return false}const t=[e.semanticObject,e.action].join("-");return l[t]&&e.deviceTypes&&d!==undefined&&e.deviceTypes[d]}).forEach(s=>{let i;if(t(s.signature.parameters["sap-system"])&&s.signature.parameters["sap-system"].hasOwnProperty("filter")){i=n.get("signature.parameters.sap-system.filter.value",s)}if(typeof i==="string"){const e=r[s.action].priority;const t=r[s.action].appType;if(!a[i]){c[i]=-1;a[i]={appType:{}}}if(c[i]<e){a[i].text=s.title;c[i]=e}a[i].appType[t]=true}else{e.warning(`Cannot extract sap-system from easy access menu inbound: ${o.formatInbound(s)}`,`This parameter is supposed to be a string. Got '${i}' instead.`,"sap.ushell.services.ClientSideTargetResolution")}});return a};R.prototype.getSystemContext=async function(e){const t=e===undefined?"":e;const n=await y.promisify(this._oAdapter.resolveSystemAlias(t));const s=f.createSystemContextFromSystemAlias(n);return s};R.hasNoAdapter=false;return R},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/CommonDataModel", ["sap/ushell/services/CommonDataModel/PersonalizationProcessor","sap/ushell/services/CommonDataModel/vizTypeDefaults/VizTypeDefaults","sap/base/util/ObjectPath","sap/ui/thirdparty/jquery","sap/base/util/isPlainObject","sap/ushell/services/CommonDataModel/SiteConverter","sap/base/util/isEmptyObject","sap/base/util/deepClone","sap/base/util/deepExtend","sap/base/util/extend","sap/base/util/Version","sap/ushell/Config","sap/base/util/values","sap/ushell/library","sap/ushell/utils","sap/ushell/adapters/cdm/v3/_LaunchPage/readApplications","sap/base/Log","sap/ushell/Container"],(e,t,i,jQuery,o,s,r,n,a,l,p,c,u,h,g,d,f,y)=>{"use strict";const P=h.DisplayFormat;const _=h.ContentNodeType;const m="sap.ushell.services.CommonDataModel";function z(t,i,o,r){this._oAdapter=t;this._oPersonalizationProcessor=new e;this._oSiteConverter=new s;this._oSiteDeferred=new jQuery.Deferred;this._oOriginalSite={};this._bPersonalizationLoadingFailed=false;this._oPersonalizedSiteForCDMVersion30={};this._bLoadPersonalizationForCDMVersion30Late=false;this._oPersonalizedPages={};this._oPersonalizationDeltasForCDMVersion31={};this._mGetPagesPromises={};this._pGetSiteFromAdapter=t.getSite().then(e=>{this._oOriginalSite=a({},e);const t=new p(e._version);if(t.compareTo("3.1.0")<0){const t=g.isFlpHomeIntent();if(t){this._loadAndApplyPersonalizationForCDMVersion30(e)}else{this._bLoadPersonalizationForCDMVersion30Late=true}}else{this._prepareSiteForCDMVersion31()}return e}).fail(e=>{this._oSiteDeferred.reject(e);this._bLoadPersonalizationForCDMVersion30Late=false})}z.prototype._loadAndApplyPersonalizationForCDMVersion30=async function(e){try{const t=await this._getPersonalization(e._version);this._oPersonalizedSiteForCDMVersion30=await this._triggerMixinPersonalizationInSite(e,t);this._oSiteDeferred.resolve(this._oPersonalizedSiteForCDMVersion30)}catch(e){this._oSiteDeferred.reject(e)}};z.prototype._prepareSiteForCDMVersion31=function(){this._ensureStandardVizTypesPresent(this._oOriginalSite).then(()=>{this._ensureProperDisplayFormats(this._oOriginalSite);this._oSiteDeferred.resolve(this._oOriginalSite)})};z.prototype._applyPagePersonalization=function(e,t){const i=e.identification.id;if(Object.keys(t).length){const e=t.classicHomePage;if(e&&e.version==="3.1.0"){Object.keys(e).forEach(i=>{if(!t[i]){t[i]=e[i]}});delete t.classicHomePage;t._version=t.version}const i=new p(t._version||t.version);if(i.compareTo("3.1.0")<0){t={classicHomePage:t,_version:"3.1.0",version:"3.1.0"}}}this._oPersonalizationDeltasForCDMVersion31=t;const o=n(t[i],20)||{};const s=this._oSiteConverter.convertTo("3.0.0",n(e,20));return this._triggerMixinPersonalizationInSite(s,o).then(e=>{this._oPersonalizedPages[i]=this._oSiteConverter.convertTo("3.1.0",n(e,20));return this._oPersonalizedPages[i]})};z.prototype._migratePersonalizedPages=async function(e){if(typeof this._oAdapter.migratePersonalizedPages!=="function"){return e}const t=await this._oAdapter.migratePersonalizedPages(e);if(t.length){await this.save(t)}return e};z.prototype._triggerMixinPersonalizationInSite=async function(e,t){const i=await g.promisify(this._oPersonalizationProcessor.mixinPersonalization(e,t));this._ensureCompleteSite(i);this._ensureGroupsOrder(i);await this._ensureStandardVizTypesPresent(i);this._ensureProperDisplayFormats(i);return i};z.prototype.getHomepageGroups=function(){const e=new jQuery.Deferred;this.getSite().then(t=>{const i=t&&t.site&&t.site.payload&&t.site.payload.groupsOrder?t.site.payload.groupsOrder:[];e.resolve(i)});return e.promise()};z.prototype.getGroups=function(){const e=new jQuery.Deferred;this.getSite().then(t=>{const i=[];Object.keys(t.groups).forEach(e=>{i.push(t.groups[e])});e.resolve(i)});return e.promise()};z.prototype.getGroup=function(e){const t=new jQuery.Deferred;this.getSite().then(i=>{const o=i.groups[e];if(o){t.resolve(o)}else{t.reject(new Error(`Group ${e} not found`))}});return t.promise()};z.prototype.getSite=function(){if(this._bLoadPersonalizationForCDMVersion30Late){this.getSiteWithoutPersonalization().then(e=>this._loadAndApplyPersonalizationForCDMVersion30(e));this._bLoadPersonalizationForCDMVersion30Late=false}return this._oSiteDeferred.promise()};z.prototype.getSiteWithoutPersonalization=function(){return this._pGetSiteFromAdapter};z.prototype.getPage=async function(e){const t=c.last("/core/shell/enablePersonalization");const i=c.last("/core/spaces/myHome/enabled");const o=c.last("/core/spaces/myHome/myHomePageId");await this._pGetSiteFromAdapter;if(this._oPersonalizedPages[e]){return this._oPersonalizedPages[e]}if(t||i&&e===o){let t;let i;let o;try{t=await this._getPageFromAdapter(e);i=await this._getPersonalization(this._oOriginalSite._version)}catch(t){f.error(`CommonDataModel Service: Cannot get page ${e}`,t);throw t}try{o=await this._applyPagePersonalization(t,i)}catch(e){f.error("CommonDataModel Service: Cannot mixin the personalization",e);throw e}const s=await this._migratePersonalizedPages([o]);return s[0]}return this._getPageFromAdapter(e)};z.prototype._getPageFromAdapter=async function(e){if(!this._oAdapter.getPage){return n(this._oOriginalSite.pages[e],20)}const t=await this._oAdapter.getPage(e);const i=await this.getCachedVisualizations();const o=await this.getCachedVizTypes();this._oOriginalSite.pages[e]=t;this._oOriginalSite.visualizations=i;this._oOriginalSite.vizTypes=o;return n(t,20)};z.prototype._filterForProperPages=function(e){return e.filter(e=>!!e)};z.prototype.getPages=function(e){const t=c.last("/core/shell/enablePersonalization");const i=c.last("/core/spaces/myHome/enabled");const o=c.last("/core/spaces/myHome/myHomePageId");let s;if(this._mGetPagesPromises[e.toString()]){s=this._mGetPagesPromises[e.toString()]}else{s=Promise.resolve(this._pGetSiteFromAdapter).then(()=>{if(t||i){return Promise.all([this._getPagesFromAdapter(e),this._getPersonalization(this._oOriginalSite._version)]).catch(e=>{f.error("CommonDataModel Service: Cannot get pages",e);throw new Error("CommonDataModel Service: Cannot get pages")}).then(e=>{const i=e[0];const s=e[1];return Promise.all(Object.keys(i).map(e=>{if(this._oPersonalizedPages[e]){return Promise.resolve(this._oPersonalizedPages[e])}if(!t&&e!==o){return Promise.resolve(i[e])}return this._applyPagePersonalization(i[e],s).catch(e=>{f.error("Personalization Processor: Cannot mixin the personalization.",e);throw new Error("Personalization Processor: Cannot mixin the personalization.")})})).then(e=>this._migratePersonalizedPages(e)).then(e=>this._filterForProperPages(e))})}return this._getPagesFromAdapter(e).then(e=>this._filterForProperPages(u(e)))});this._mGetPagesPromises[e.toString()]=s}return s};z.prototype._getPagesFromAdapter=async function(e){if(!this._oAdapter.getPages){const t={};for(const i in this._oOriginalSite.pages){if(e.includes(this._oOriginalSite.pages[i].identification.id)){t[i]=this._oOriginalSite.pages[i]}}return n(t,20)}const t=await this._oAdapter.getPages(e);const i=await this.getCachedVisualizations();const o=await this.getCachedVizTypes();this._oOriginalSite.visualizations=i;this._oOriginalSite.vizTypes=o;Object.keys(t).forEach(e=>{this._oOriginalSite.pages[e]=t[e]});return n(t,20)};z.prototype.getAllPages=async function(e){if(e&&e.personalizedPages){return this._getAllPersonalizedPages()}const t=await this._getAssignedPageIds();return this.getPages(t)};z.prototype._getAssignedPageIds=async function(){const e=await y.getServiceAsync("Menu");const t=await e.getContentNodes();const i=[];t.forEach(e=>{this._collectPageIds(e,i)});return i};z.prototype._collectPageIds=function(e,t){if(e.type===_.Page){if(t.indexOf(e.id)===-1){t.push(e.id)}}if(e.children!==undefined){e.children.forEach(e=>{this._collectPageIds(e,t)})}};z.prototype._getAllPersonalizedPages=async function(){await this._pGetSiteFromAdapter;const e=await this._getAssignedPageIds();const t=await this._getPersonalization(this._oOriginalSite._version);const i=[];Object.keys(t).forEach(o=>{if(o==="version"||o==="_version"){return}if(!e.includes(o)){return}const s=t[o];if(Object.keys(s).length>1){i.push(o)}});if(i.length>0){return this.getPages(i)}return[]};z.prototype.getApplications=function(){return new Promise((e,t)=>{this.getSite().then(i=>{const o=i.applications;if(o){e(o)}else{t(new Error("CDM applications not found."))}}).fail(t)})};z.prototype.getVizTypes=async function(){if(typeof this._oAdapter.getVizTypes==="function"){const e=await this._getSiteProperty("vizTypes");const t=await this._oAdapter.getVizTypes();return l(e,t)}return this.getCachedVizTypes()};z.prototype.getCachedVizTypes=async function(){let e;if(typeof this._oAdapter.getCachedVizTypes==="function"){e=await this._oAdapter.getCachedVizTypes()}const t=await this._getSiteProperty("vizTypes");return l(t,e)};z.prototype.getVizType=async function(e){let t;if(typeof this._oAdapter.getVizType==="function"){t=await this._oAdapter.getVizType(e)}const i=await this._getSiteProperty("vizTypes");if(t){i[e]=t}return i[e]};z.prototype.getVisualizations=async function(){if(typeof this._oAdapter.getVisualizations==="function"){const e=await this._getSiteProperty("visualizations");const t=await this._oAdapter.getVisualizations();return l(e,t)}return this.getCachedVisualizations()};z.prototype.getCachedVisualizations=async function(){let e;if(typeof this._oAdapter.getCachedVisualizations==="function"){e=await this._oAdapter.getCachedVisualizations()}const t=await this._getSiteProperty("visualizations");return l(t,e)};z.prototype._getSiteProperty=function(e){return new Promise((t,o)=>{this.getSite().then(s=>{const r=i.get(e,s);if(r){t(r)}else{const t=e.toString();o(new Error(`CDM ${t} not found.`))}}).fail(o)})};z.prototype.getGroupFromOriginalSite=function(e){const t=new jQuery.Deferred;if(typeof e==="string"&&this._oOriginalSite&&this._oOriginalSite.groups&&this._oOriginalSite.groups[e]){t.resolve(a({},this._oOriginalSite.groups[e]))}else{t.reject(new Error("Group does not exist in original site."))}return t.promise()};z.prototype.getOriginalPage=function(e){return n(this._oOriginalSite.pages[e],20)};z.prototype.save=function(e){const t=new jQuery.Deferred;if(this._bPersonalizationLoadingFailed){const e="Prior personalization loading failed, cancelling save to prevent data loss. Saving this personalization will only be possible after reloading the FLP again.";f.error(e,null,m);t.reject(new Error(e));return t.promise()}if(this._oOriginalSite._version==="3.1.0"){if(!e){return t.reject(new Error("No page id was provided")).promise()}if(typeof e==="string"){e=[e]}this._saveCdmVersion31(e).then(t.resolve).catch(t.reject)}else{this._saveCdmVersion30().then(t.resolve).catch(t.reject)}return t.promise()};z.prototype._saveCdmVersion30=function(){const e=this._oOriginalSite;const t=this._oPersonalizedSiteForCDMVersion30;return new Promise((i,o)=>{this._oPersonalizationProcessor.extractPersonalization(n(t,20),n(e,20)).done(i).fail(o)}).catch(e=>{f.error("Personalization Processor: Cannot extract personalization.",e,m);throw new Error("Personalization Processor: Cannot extract personalization.")}).then(e=>{if(r(e)){return Promise.resolve()}return this._setPersonalization(e)})};z.prototype._saveCdmVersion31=function(e){const t=e.map(e=>{const t=this._oSiteConverter.convertTo("3.0.0",this._oOriginalSite.pages[e]);const i=this._oSiteConverter.convertTo("3.0.0",this._oPersonalizedPages[e]);return new Promise((o,s)=>{this._oPersonalizationProcessor.extractPersonalization(n(i,20),n(t,20)).done(t=>{o({pageId:e,personalization:t})}).fail(t=>{f.error(`Cannot extract personalization of page ${e}:`,t,m);o()})})});return Promise.all(t).then(e=>{let t=false;e.forEach(e=>{if(!e){return}if(!r(e.personalization)){t=true;if(this._oPersonalizationDeltasForCDMVersion31.version===undefined||this._oPersonalizationDeltasForCDMVersion31._version===undefined){this._oPersonalizationDeltasForCDMVersion31.version=this._oOriginalSite._version;this._oPersonalizationDeltasForCDMVersion31._version=this._oOriginalSite._version}this._oPersonalizationDeltasForCDMVersion31[e.pageId]=e.personalization}});if(t){return this._setPersonalization(this._oPersonalizationDeltasForCDMVersion31)}return Promise.resolve()})};z.prototype._getPersonalization=function(e){return g.promisify(this._oAdapter.getPersonalization(e)).catch(e=>{f.error("Could not get page personalization",e,m);this._bPersonalizationLoadingFailed=true;return{}})};z.prototype._setPersonalization=function(e,t){if(this._oPendingPersonalizationDeferred){if(!this._oNextPersonalizationQuery){this._oNextPersonalizationQuery={fnNextCall:null,aPromiseResolvers:[]}}return new Promise((i,o)=>{this._oNextPersonalizationQuery.fnNextCall=this._setPersonalization.bind(this,e,t);this._oNextPersonalizationQuery.aPromiseResolvers.push({resolve:i,reject:o})})}this._oPendingPersonalizationDeferred=this._oAdapter.setPersonalization(e,t);return new Promise((e,t)=>{this._oPendingPersonalizationDeferred.then(e).fail(t).always(()=>{delete this._oPendingPersonalizationDeferred;if(this._oNextPersonalizationQuery){const e=this._oNextPersonalizationQuery.fnNextCall();this._cleanupPersonalizationQueuePromises(e,this._oNextPersonalizationQuery.aPromiseResolvers);delete this._oNextPersonalizationQuery}})})};z.prototype._cleanupPersonalizationQueuePromises=function(e,t){t.forEach(t=>{e.then(t.resolve).catch(t.reject)})};z.prototype.registerContentProvider=function(){f.error("CommonDataModel.registerContentProvider is obsolete and should not be used.")};z.prototype._ensureCompleteSite=function(e){if(!e.groups){return}const t=e.groups;Object.keys(t).forEach(e=>{if(!t[e]){delete t[e]}else{if(!t[e].payload){t[e].payload={}}if(!t[e].payload.links){t[e].payload.links=[]}if(!t[e].payload.tiles){t[e].payload.tiles=[]}if(!t[e].payload.groups){t[e].payload.groups=[]}}})};z.prototype._ensureGroupsOrder=function(e){const t=i.get("site.payload.groupsOrder",e);const o=e.groups;let s=0;if(!t){return}while(s<t.length){const e=t[s];if(!o[e]){t.splice(s,1)}else{s++}}};z.prototype.getPlugins=function(){function e(e,t){const o=Object.keys(t).length;if(o===0){return{}}if(o>1){f.warning(`Multiple inbounds are defined for plugin '${e}'`,"Plugin startup configuration will be determined using "+"the first signature inbound with semanticObject:Shell and action:plugin for plugin.",m)}const s=Object.values(t).find(e=>e&&e.semanticObject==="Shell"&&e.action==="plugin");if(s===undefined){f.error(`Cannot find inbound with semanticObject:Shell and action:plugin for plugin '${e}'`,"plugin startup configuration cannot be determined correctly",m);return{}}const r=i.get("signature.parameters",s)||{};return Object.keys(r).reduce((e,t)=>{const o=i.get(`${t}.defaultValue.value`,r);if(typeof o==="string"){e[t]=o}return e},{})}let t;return function(s){if(s!==undefined){t=s}if(t){return jQuery.when(t)}t={};return this.getSiteWithoutPersonalization().then(s=>{const r=s.applications||{};Object.keys(r).filter(function(e){return i.get("type",this[e]["sap.flp"])==="plugin"},r).forEach(function(s){const r=this[s];let n={};if(!o(r["sap.platform.runtime"])){f.error(`Cannot find 'sap.platform.runtime' section for plugin '${s}'`,"plugin might not be started correctly","sap.ushell.services.CommonDataModel")}else if(!o(r["sap.platform.runtime"].componentProperties)){f.error(`Cannot find 'sap.platform.runtime/componentProperties' section for plugin '${s}'`,"plugin might not be started correctly","sap.ushell.services.CommonDataModel")}else{n=r["sap.platform.runtime"].componentProperties}t[s]={url:n.url,component:r["sap.ui5"].componentName};const a=i.get("crossNavigation.inbounds",r["sap.app"])||{};const p=e(s,a);const c=l(n.config||{},p);if(c){t[s].config=c}if(n.asyncHints){t[s].asyncHints=n.asyncHints}const u=i.get("deviceTypes",r["sap.ui"]);if(u){t[s].deviceTypes=u}},r);return g.deepFreeze(t)})}}();z.prototype._mapDisplayFormats=function(e){const t={tile:P.Standard,standard:P.Standard,link:P.Compact,compact:P.Compact,flat:P.Flat,flatWide:P.FlatWide,tileWide:P.StandardWide,standardWide:P.StandardWide};const i=Object.keys(t).filter(t=>e.indexOf(t)>-1);return i.map(e=>t[e])};z.prototype._ensureProperDisplayFormats=function(e){if(e.vizTypes){Object.keys(e.vizTypes).forEach(t=>{if(e.vizTypes[t]["sap.flp"]&&e.vizTypes[t]["sap.flp"].vizOptions){const o=e.vizTypes[t];const s=i.get("vizOptions.displayFormats.supported",o["sap.flp"]);const r=i.get("vizOptions.displayFormats.default",o["sap.flp"]);if(s){e.vizTypes[t]["sap.flp"].vizOptions.displayFormats.supported=this._mapDisplayFormats(s)}if(r){e.vizTypes[t]["sap.flp"].vizOptions.displayFormats.default=this._mapDisplayFormats([r])[0]}}})}if(e.hasOwnProperty("pages")){Object.keys(e.pages).forEach(t=>{const i=e.pages[t];if(i.payload&&i.payload.sections){const e=i.payload.sections;Object.keys(e).forEach(t=>{const i=e[t];Object.keys(i.viz).forEach(e=>{const t=i.viz[e];if(t.displayFormatHint){const e=this._mapDisplayFormats([t.displayFormatHint])[0];t.displayFormatHint=e||t.displayFormatHint}})})}})}else if(e.hasOwnProperty("groups")){Object.keys(e.groups).forEach(t=>{const i=e.groups[t];i.payload.tiles.forEach(e=>{if(e.displayFormatHint){const t=this._mapDisplayFormats([e.displayFormatHint])[0];e.displayFormatHint=t||e.displayFormatHint}})})}};z.prototype._ensureStandardVizTypesPresent=async function(e){if(!(e._version&&e._version.startsWith("3."))){return}if(!e.vizTypes){e.vizTypes={}}const i=await t.getAll();Object.keys(i).forEach(t=>{e.vizTypes[t]=e.vizTypes[t]||i[t]})};z.prototype.getMenuEntries=async function(e){const t=await this.getSite();const o=i.get(`menus.${e}.payload.menuEntries`,t);return n(o)||[]};z.prototype.getContentProviderIds=async function(){const e=await this.getSite();const t=Object.keys(e.systemAliases);const i={};u(e.applications).forEach(e=>{const o=d.getContentProviderId(e);if(t.includes(o)){i[o]=true}});return Object.keys(i)};z.hasNoAdapter=false;return z},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Container", ["sap/ushell/Container","sap/base/Log"],(e,s)=>{"use strict";s.warning("The use of sap/ushell/services/Container is deprecated. Please use sap/ushell/Container instead!");return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/CrossApplicationNavigation", ["sap/ushell/services/AppConfiguration","sap/ushell/services/_CrossApplicationNavigation/utils","sap/ushell/utils/type","sap/ushell/TechnicalParameters","sap/ushell/appIntegration/AppLifeCycle","sap/base/util/deepExtend","sap/base/util/isPlainObject","sap/ui/thirdparty/jquery","sap/base/util/ObjectPath","sap/base/util/merge","sap/ushell/utils","sap/ushell/ApplicationType","sap/ushell/UI5ComponentType","sap/base/Log","sap/ushell/utils/UrlParsing","sap/base/util/deepClone","sap/ui/base/Object","sap/ushell/api/common/ComponentInstantiation","sap/ushell/Container"],(t,e,n,a,s,i,r,jQuery,o,p,c,l,u,h,f,g,m,y,d)=>{"use strict";function A(l,u,A){let v;if(A&&A.config){v=A.config}function S(a,s){let i;let o;let p;if(typeof a!=="string"&&!r(a)&&a!==undefined){h.error("Unexpected input type",null,"sap.ushell.services.CrossApplicationNavigation");return undefined}if(a===undefined){return undefined}const c=t.getCurrentApplication();if(s){if(typeof s.getComponentData!=="function"||!r(s.getComponentData())||!s.getComponentData().startupParameters||!r(s.getComponentData().startupParameters)){h.error("Cannot call getComponentData on component","the component should be an application root component","sap.ushell.services.CrossApplicationNavigation")}else{const t=s.getComponentData().startupParameters;if(t.hasOwnProperty("sap-system")){i=t["sap-system"][0]}if(t.hasOwnProperty("sap-ushell-next-navmode")){o=t["sap-ushell-next-navmode"][0]}}}else{if(c&&c["sap-system"]){i=c["sap-system"]}else if(c&&c.url){i=new URL(c.url,window.location.href).searchParams.get("sap-system")}if(c&&c["sap-ushell-next-navmode"]){o=c["sap-ushell-next-navmode"]}else if(c&&c.url){o=new URL(c.url,window.location.href).searchParams.get("sap-ushell-next-navmode")}}if(c){p=c.contentProviderId}const l=e._injectParameters({type:n,inject:{"sap-system":i,"sap-ushell-navmode":o,"sap-app-origin-hint":p},injectEmptyString:{"sap-app-origin-hint":true},args:a});return l}function C(t){if(localStorage&&localStorage["sap-ushell-enc-test"]==="false"){return t}if(!v||!v["sap-ushell-enc-test"]){if(localStorage&&localStorage["sap-ushell-enc-test"]!=="true"){return t}}if(typeof t!=="string"&&!r(t)&&t!==undefined){h.error("Unexpected input type",null,"sap.ushell.services.CrossApplicationNavigation");return undefined}if(t===undefined){return undefined}if(r(t)){const e=i({},t);if(e.target&&e.target.shellHash){if(typeof e.target.shellHash==="string"){if(e.target.shellHash!=="#"&&e.target.shellHash!==""){e.target.shellHash=C(e.target.shellHash)}}return e}e.params=e.params||{};e.params["sap-ushell-enc-test"]=["A B%20C"];return e}let e=t;if(!/[?&]sap-system=/.test(e)){const t=e.indexOf("?")>-1?"&":"?";e+=`${t}sap-ushell-enc-test=${encodeURIComponent("A B%20C")}`}return e}this._extractInnerAppRoute=function(t){if(typeof t==="string"){const e=t.split("&/");const n=e.shift();return{intent:n,innerAppRoute:e.length>0?`&/${e.join("&/")}`:""}}if(Object.prototype.toString.apply(t)==="[object Object]"){const e=o.get("target.shellHash",t);if(typeof e==="string"){const n=this._extractInnerAppRoute(e);t.target.shellHash=n.intent;return{intent:t,innerAppRoute:n.innerAppRoute}}if(t.hasOwnProperty("appSpecificRoute")){const e=t.appSpecificRoute;delete t.appSpecificRoute;const n=typeof e==="string"&&e.indexOf("&/")!==0&&e.length>0;return{innerAppRoute:n?`&/${e}`:e,intent:t}}return{intent:t,innerAppRoute:""}}h.error("Invalid input parameter","expected string or object","sap.ushell.services.CrossApplicationNavigation");return{intent:t}};this._injectInnerAppRoute=function(t,e){if(!e){return t}if(typeof t==="string"){return t+e}if(Object.prototype.toString.apply(t)==="[object Object]"){const n=o.get("target.shellHash",t);if(typeof n==="string"){t.target.shellHash=this._injectInnerAppRoute(n,e);return t}t.appSpecificRoute=e}return t};this.hrefForExternal=function(t,i,r){if(typeof i!=="object"&&i!==undefined&&i!==null){r=i;i=undefined}if(r){const e=this.hrefForExternalAsync(t,i);return c.toDeferred(e)}h.error("Deprecated option 'bAsync=false'. Please use 'bAsync=true' instead",null,"sap.ushell.services.CrossApplicationNavigation");let o=p({},t);const l=this._extractInnerAppRoute(o);const u=l.intent;e.addXAppStateFromParameter(u,"sap-xapp-state-data");o=S(u,i);o=e.injectStickyParameters({args:o,appLifeCycle:s,technicalParameters:a,type:n});o=C(o);o=this._injectInnerAppRoute(o,l.innerAppRoute);const f=d.getService("ShellNavigationInternal");if(!f){h.debug("Shell not available, no Cross App Navigation");return""}return f.hrefForExternalSync(o,undefined,i)};this.hrefForExternalAsync=async function(t,i){let r=p({},t);const o=this._extractInnerAppRoute(r);const l=o.intent;try{await e.addXAppStateFromParameterAsync(l,"sap-xapp-state-data");r=S(l,i);const t=await e.injectStickyParametersAsync({args:r,appLifeCycle:s,technicalParameters:a,type:n});r=t;r=C(r);r=this._injectInnerAppRoute(r,o.innerAppRoute);const p=await d.getServiceAsync("ShellNavigationInternal");const u=p.hrefForExternal(r,undefined,i);return c.promisify(u)}catch(t){h.debug("Shell not available, no Cross App Navigation");return""}};this.expandCompactHash=function(t){const e=Promise.resolve().then(async()=>{const e=await d.getServiceAsync("NavTargetResolutionInternal");const n=e.expandCompactHash(t);return c.promisify(n)});return c.toDeferred(e)};this.backToPreviousApp=async function(){const t=await this.isInitialNavigationAsync();if(t){return this.toExternal({target:{shellHash:"#"},writeHistory:false})}this.historyBack()};this.historyBack=function(t){let e=-1;if(t&&typeof t==="number"){if(t<=0){h.warning("historyBack called with an argument <= 0 and will result in a forward navigation or refresh","expected was an argument > 0","sap.ushell.services.CrossApplicationNavigation#historyBack")}e=t*-1}window.history.go(e)};this.isInitialNavigation=function(){h.error("Deprecated API call of 'sap.ushell.CrossApplicationNavigation.isInitialNavigation'. Please use 'isInitialNavigationAsync' instead",null,"sap.ushell.services.CrossApplicationNavigation");const t=d.getService("ShellNavigationInternal");if(!t){h.debug("ShellNavigationInternal service not available","This will be treated as the initial navigation","sap.ushell.services.CrossApplicationNavigation");return true}const e=t.isInitialNavigation();if(typeof e==="undefined"){return true}return e};this.isInitialNavigationAsync=async function(){try{const t=await d.getServiceAsync("ShellNavigationInternal");const e=t.isInitialNavigation();if(typeof e==="undefined"){return true}return e}catch(t){h.debug("ShellNavigationInternal service not available","This will be treated as the initial navigation","sap.ushell.services.CrossApplicationNavigation");return true}};this.toExternal=async function(t,i){const r=t.writeHistory;let o=p({},t);const c=p({},o);this._processShellHashWithParams(o);const l=this._extractInnerAppRoute(o);const u=l.intent;try{const t=await d.getServiceAsync("AppLifeCycle");const p=await d.getServiceAsync("ShellNavigationInternal");const h=t.getCurrentApplication();const f=h&&await h.getIntent();this._checkIfAppNeedsToBeReloaded(c,h,f,p.hashChanger);await e.addXAppStateFromParameterAsync(u,"sap-xapp-state-data");o=S(u,i);const g=await e.injectStickyParametersAsync({args:o,appLifeCycle:s,technicalParameters:a,type:n});o=g;o=C(o);delete o.writeHistory;o=this._injectInnerAppRoute(o,l.innerAppRoute);return await p.toExternal(o,i,r)}catch(t){h.error("CrossAppNavigation.toExternal failed",t,"sap.ushell.services.CrossApplicationNavigation")}};this._checkIfAppNeedsToBeReloaded=function(t,e,n,a){if(!e||!n||!t||!t.target){return}if(t.target.shellHash){const e=f.parseShellHash(t.target.shellHash)||{};t.target={semanticObject:e.semanticObject,action:e.action,contextRaw:e.contextRaw};t.appSpecificRoute=e.appSpecificRoute;t.params=Object.assign({},t.params,e.params)}if(t.appSpecificRoute){return}if(e.applicationType!=="UI5"){return}if(t.target.semanticObject!==n.semanticObject){return}if(t.target.action!==n.action){return}const s={params:{}};if(t.params){Object.keys(t.params).forEach(e=>{const n=t.params[e];const a=Array.isArray(n)?n:[n];s.params[e]=a.map(t=>t.toString())})}if(!f.haveSameIntentParameters(s,n)){return}a.setReloadApplication(true)};this.hrefForAppSpecificHash=function(t){h.error("Deprecated API call of 'sap.ushell.CrossApplicationNavigation.hrefForAppSpecificHash'. Please use 'hrefForAppSpecificHashAsync' instead",null,"sap.ushell.services.CrossApplicationNavigation");const e=d.getService("ShellNavigationInternal");if(e){return e.hrefForAppSpecificHash(t)}h.debug("Shell not available, no Cross App Navigation; fallback to app-specific part only");return`#${encodeURI(t)}`};this.hrefForAppSpecificHashAsync=async function(t){try{const e=await d.getServiceAsync("ShellNavigationInternal");return e.hrefForAppSpecificHash(t)}catch(e){h.debug("Shell not available, no Cross App Navigation; fallback to app-specific part only");return`#${encodeURI(t)}`}};this.getPrimaryIntent=function(t,e){const n={};let a;const s=/^#\w+-displayFactSheet(?:$|\?.)/;n.tags=["primaryAction"];n.semanticObject=t;if(e){n.params=e}return this.getLinks(n).then(t=>{if(t.length===0){delete n.tags;n.action="displayFactSheet";a=function(t,e){if(t.intent===e.intent){return 0}const n=s.test(t.intent)^s.test(e.intent);if(n){return s.test(t.intent)?-1:1}return t.intent<e.intent?-1:1};return this.getLinks(n)}a=function(t,e){if(t.intent===e.intent){return 0}return t.intent<e.intent?-1:1};return t}).then(t=>t.length===0?null:t.sort(a)[0])};this.getSemanticObjectLinks=function(t,i,r,o,p,l){const u=Promise.resolve().then(()=>e.injectStickyParametersAsync({args:{params:i},appLifeCycle:s,technicalParameters:a,type:n})).then(e=>{e=S(e,o).params;e=C({params:e}).params;let n;if(Array.isArray(t)){n=[];t.forEach(t=>{n.push([{semanticObject:t[0],params:t[1],ignoreFormFactor:!!t[2],ui5Component:t[3],appStateKey:t[4],compactIntents:!!t[5]}])})}else{n={semanticObject:t,params:e,ignoreFormFactor:r,ui5Component:o,appStateKey:p,compactIntents:!!l}}return Promise.all([d.getServiceAsync("NavTargetResolutionInternal"),n])}).then(t=>{const e=t[0];const n=t[1];return c.invokeUnfoldingArrayArguments(e.getLinks.bind(e),[n])});return c.toDeferred(u)};this.getLinks=function(t){const e=c.invokeUnfoldingArrayArguments(this._getLinks.bind(this),[t]);return c.toDeferred(e)};this._getLinks=async function(t){if(typeof t==="undefined"){t={}}let r=i({},t);r.compactIntents=!!r.compactIntents;r.action=r.action||undefined;r.paramsOptions=e.extractGetLinksParameterOptions(r.params);const o=await e.injectStickyParametersAsync({args:r,appLifeCycle:s,technicalParameters:a,type:n});r=o;let p;if(r.params){p=e.extractGetLinksParameterDefinition(r.params)}else{p=r.params}let l=S({params:p},r.ui5Component).params;l=C({params:l}).params;if(r.appStateKey){l["sap-xapp-state"]=[r.appStateKey];delete r.appStateKey}r.params=l;const u=await d.getServiceAsync("NavTargetResolutionInternal");const h=u.getLinks(r);return c.promisify(h)};this.getDistinctSemanticObjects=function(){const t=Promise.resolve().then(async()=>{const t=await d.getServiceAsync("NavTargetResolutionInternal");const e=t.getDistinctSemanticObjects();return c.promisify(e)});return c.toDeferred(t)};this.isIntentSupported=function(t,e){const n=Promise.resolve().then(async()=>{const n={};const a=t.map(t=>{const a=S(t,e);n[a]=t;return a});const s=await d.getServiceAsync("NavTargetResolutionInternal");const i=s.isIntentSupported(a);const r=await c.promisify(i);const o={};Object.keys(r).forEach(t=>{o[n[t]]=r[t]});return o});return c.toDeferred(n)};this.isNavigationSupported=function(t,e){const n=Promise.resolve().then(async()=>{const n=g(t).map(t=>{const n=this._extractInnerAppRoute(t);return S(n.intent,e)});const a=await d.getServiceAsync("NavTargetResolutionInternal");const s=a.isNavigationSupported(n);return c.promisify(s)});return c.toDeferred(n)};this.isUrlSupported=async function(t){if(typeof t!=="string"){throw new Error("Input is not a string")}if(!f.isIntentUrl(t)){return}const e=f.getHash(t);const n={target:{shellHash:e}};const a=this.isNavigationSupported([n]);const s=await c.promisify(a);if(s[0].supported){return}throw new Error("Navigation not supported")};this.createComponentInstance=function(t,e,n){const a=Promise.resolve().then(async()=>{const a=this._checkComponentConfig(e);if(a){throw new Error(a)}const s=e?.componentData;return y.createComponentInstance(t,s,n)});return c.toDeferred(a)};this.createComponentData=async function(t,e){const n=this._checkComponentConfig(e);if(n){throw new Error(n)}const a=e?.componentData;return y.createComponentInstantiationData(t,a)};this._checkComponentConfig=function(t){if(t){const e=Object.keys(t).length;if(e>1||e===1&&!t.componentData){return"`oConfig` argument should either be an empty object or contain only the `componentData` property."}}return null};this.createEmptyAppState=function(t,e,n,a){h.error("Deprecated API call of 'sap.ushell.CrossApplicationNavigation.createEmptyAppState'. Please use 'createEmptyAppStateAsync' instead",null,"sap.ushell.services.CrossApplicationNavigation");const s=d.getService("AppState");if(!m.isA(t,"sap.ui.core.UIComponent")){throw new Error("The passed oAppComponent must be a UI5 Component.")}return s.createEmptyAppState(t,e,n,a)};this.createEmptyAppStateAsync=async function(t,e,n,a){if(!m.isA(t,"sap.ui.core.UIComponent")){throw new Error("The passed oAppComponent must be a UI5 Component.")}const s=await d.getServiceAsync("AppState");return s.createEmptyAppState(t,e,n,a)};this.getStartupAppState=function(t){this._checkComponent(t);const e=t.getComponentData();const n=e&&e["sap-xapp-state"];const a=n&&n[0];return this.getAppState(t,a)};this._checkComponent=function(t){if(!m.isA(t,"sap.ui.core.UIComponent")){throw new Error("oComponent passed must be a UI5 Component")}};this.getAppState=function(t,e){const n=Promise.resolve().then(async()=>{this._checkComponent(t);const n=await d.getServiceAsync("AppState");if(typeof e!=="string"){if(e!==undefined){h.error("Illegal Argument sAppStateKey ")}await c.awaitTimeout(0);const a=n.createEmptyUnmodifiableAppState(t);return a}const a=n.getAppState(e);return c.promisify(a)});return c.toDeferred(n)};this.getAppStateData=function(t){const e=c.invokeUnfoldingArrayArguments(this._getAppStateData.bind(this),[t]);return c.toDeferred(e)};this._getAppStateData=function(t){const e=Promise.resolve().then(async()=>{const e=await d.getServiceAsync("AppState");if(typeof t!=="string"){if(t!==undefined){h.error("Illegal Argument sAppStateKey ")}await c.awaitTimeout(0);return}const n=e.getAppState(t);const a=await c.promisify(n);return a.getData()}).catch(()=>{});return c.toDeferred(e)};this.saveMultipleAppStates=function(t){const e=Promise.resolve().then(async()=>{const e=t.map(t=>t.save());return Promise.all(e)});return c.toDeferred(e)};this._processShellHashWithParams=function(t){if(t?.processParams===true&&t?.target?.shellHash&&t?.params){const e=f.parseShellHash(t.target.shellHash);t.target={semanticObject:e.semanticObject,action:e.action,contextRaw:e.contextRaw};t.appSpecificRoute=e.appSpecificRoute;t.params=Object.assign({},t.params,e.params)}};this.getSupportedAppStatePersistencyMethods=function(){h.error("Deprecated API call of 'sap.ushell.CrossApplicationNavigation.getSupportedAppStatePersistencyMethods'. Please use 'getSupportedAppStatePersistencyMethodsAsync' instead",null,"sap.ushell.services.CrossApplicationNavigation");const t=d.getService("AppState");return t.getSupportedPersistencyMethods()};this.getSupportedAppStatePersistencyMethodsAsync=async function(){const t=await d.getServiceAsync("AppState");return t.getSupportedPersistencyMethods()};this.makeStatePersistent=function(t,e,n){const a=Promise.resolve().then(async()=>{const a=await d.getServiceAsync("AppState");const s=a.makeStatePersistent(t,e,n);return c.promisify(s)});return c.toDeferred(a)};this.resolveIntent=function(t){const e=Promise.resolve().then(async()=>{const e=await d.getServiceAsync("NavTargetResolutionInternal");const n=e.resolveHashFragment(t);const a=await c.promisify(n);return{url:a.url}});return c.toDeferred(e)}}A.hasNoAdapter=true;return A},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/NavTargetResolution", ["sap/base/Log","sap/ushell/Container","sap/ushell/services/NavTargetResolutionInternal"],(e,t)=>{"use strict";function n(n,r,s,a){e.error("NavTargetResolution service has been called, which is deprecated. Remove all dependencies!",null,"sap.ushell.services.NavTargetResolution");this._oNavTargetResolutionInternal=t.getService("NavTargetResolutionInternal");this.expandCompactHash=function(e){return this._oNavTargetResolutionInternal.expandCompactHash(e)};this.resolveTarget=function(e){return this._oNavTargetResolutionInternal.resolveTarget(e)};this.resolveHashFragment=function(e){return this._oNavTargetResolutionInternal.resolveHashFragment(e)};this.isIntentSupported=function(e){return this._oNavTargetResolutionInternal.isIntentSupported(e)};this.registerCustomResolver=function(e){return this._oNavTargetResolutionInternal.registerCustomResolver(e)};this.isNavigationSupported=function(e){return this._oNavTargetResolutionInternal.isNavigationSupported(e)}}n.hasNoAdapter=false;return n},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Personalization", ["sap/base/Log","sap/ui/base/ManagedObject","sap/ui/base/Object","sap/ui/core/Core","sap/ui/thirdparty/jquery","sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/constants","sap/ushell/services/_Personalization/ContextContainer","sap/ushell/services/PersonalizationV2/WindowAdapter","sap/ushell/services/_Personalization/TransientPersonalizer","sap/ushell/services/_Personalization/PersonalizationContainer","sap/ushell/services/_Personalization/Personalizer","sap/ushell/services/personalization/VariantSetAdapter","sap/ushell/services/_Personalization/Variant","sap/ushell/services/_Personalization/VariantSet","sap/ushell/services/PersonalizationV2/WindowAdapterContainer"],(e,t,n,r,jQuery,a,i,o,s,p,d,c,l,u,f,h,_)=>{"use strict";function A(e,t,n,r){this._oConfig=r&&r.config||{};this._oAppVariantAdapterWithBackendAdapter=this._configureAppVariantStorage(this._oConfig.appVariantStorage);this._oAdapterWithBackendAdapter={lazy:false,instance:new p(this,e)};this._oAdapterWindowOnly={lazy:false,instance:new p(this,undefined)};this._oContainerMap=new a.Map;this._oPendingOperationsMap=new a.Map}A.prototype.SAVE_DEFERRED_DROPPED="Deferred save dropped (OK) - Data superseded by subsequent save";A.prototype.constants=o;A.prototype._configureAppVariantStorage=function(e){const t=this;const n="sap.ushell.adapters.AppVariantPersonalizationAdapter";if(!e){e={adapter:{module:n}}}if(Object.keys(e).length===0||e.enabled===false){return}const r=e.adapter&&e.adapter.module||n;const a=r.split(".").join("/");function i(){if(!t._oAppVariantAdapterLoadPromise){t._oAppVariantAdapterLoadPromise=new jQuery.Deferred;sap.ui.require([a],e=>{try{const n=new e;const r=new p(t,n);t._oAppVariantAdapterLoadPromise.resolve(r)}catch(e){t._oAppVariantAdapterLoadPromise.reject(e)}},e=>{t._oAppVariantAdapterLoadPromise.reject(e)})}return t._oAppVariantAdapterLoadPromise.promise()}return{lazy:true,create:i}};A.prototype.getGeneratedKey=function(){return a.generateRandomKey()};A.prototype.getPersonalizer=function(e,t,n){n=n||this._getApplicationComponent();return new l(this,this._oAdapterWithBackendAdapter.instance,e,t,n)};A.prototype._getApplicationComponent=function(){const e=t._sOwnerId;if(e){const t=r.getComponent(e);if(n.isA(t,"sap.ui.core.UIComponent")){return t}}return undefined};A.prototype.getTransientPersonalizer=function(){return new d};A.prototype.getContainer=function(e,t,n){n=n||this._getApplicationComponent();return this._createContainer(e,t,false,n)};A.prototype.createEmptyContainer=function(e,t,n){n=n||this._getApplicationComponent();return this._createContainer(e,t,true,n)};A.prototype._createContainer=function(e,t,n,r){const o=new jQuery.Deferred;if(typeof e!=="string"){throw new a.Error("sContainerKey is not a string: sap.ushell.services.Personalization"," ")}const p=!!(i.isAppVariant(r)&&(!t||!t.shared)&&this._oAppVariantAdapterWithBackendAdapter);const d=i.adjustScope(t);let c=i.addContainerPrefix(e);if(p){const e=r.getManifestObject();d.component=r;d.appVarId=e.getEntry("/sap.ui5/appVariantId");d.appVersion=e.getEntry("/sap.app/applicationVersion/version");c+=`#${e.getEntry("/sap.ui5/appVariantId")}`}const l=p?this._oAppVariantAdapterWithBackendAdapter:this._oAdapterWithBackendAdapter;const u=this._oAdapterWindowOnly;const f=i.pickAdapter(t,u,l);i.loadAdapter(f).then(e=>{let t;const a=new s(this,e,c,d,r);const i=e&&e.supportsGetWithoutSubsequentLoad===true;if(n&&i){t=new jQuery.Deferred;t.resolve(a)}else{t=a.load()}t.fail(e=>{o.reject(e)}).done(()=>{if(n||a._isExpired()){a.clear()}o.resolve(a)})}).catch(o.reject);return o.promise()};A.prototype.delContainer=function(e,t){let n={};let r="";t=this._adjustScope(t);r=i.addContainerPrefix(e);n=new jQuery.Deferred;const a=this._pendingContainerOperations_cancelAddNext(e,null);a.always(()=>{this.getContainer(e,t).fail(t=>{this._pendingContainerOperations_cancelAddNext(e,n);n.reject(t)}).done(()=>{this._pendingContainerOperations_cancelAddNext(e,n);const a=t.validity===0?this._oAdapterWindowOnly:this._oAdapterWithBackendAdapter;i.loadAdapter(a).then(e=>{e.delAdapterContainer(r,t).fail(n.reject).done(n.resolve)}).catch(n.reject)})});return n.promise()};A.prototype._pendingContainerOperations_flushAddNext=function(e,t){let n=this._oPendingOperationsMap.get(e);if(!n){n=new jQuery.Deferred;n.resolve()}if(t!==null){this._oPendingOperationsMap.put(e,t)}if(!n||n.state()!=="pending"){return n}clearTimeout(n._sapTimeoutId);n._sapTimeoutId=undefined;if(typeof n._sapFnSave==="function"){const e=n._sapFnSave;n._sapFnSave=undefined;e()}return n};A.prototype._pendingContainerOperations_cancelAddNext=function(e,t){let n=this._oPendingOperationsMap.get(e);if(!n){n=new jQuery.Deferred;n.resolve()}if(t!==null){this._oPendingOperationsMap.put(e,t)}if(!n||n.state()!=="pending"){return n}if(n._sapTimeoutId){clearTimeout(n._sapTimeoutId);n._sapTimeoutId=undefined;n.resolve(A.prototype.SAVE_DEFERRED_DROPPED)}return n};A.prototype.getPersonalizationContainer=function(e){if(typeof e!=="string"){throw new a.Error("sContainerKey is not a string: sap.ushell.services.Personalization"," ")}const t=i.addContainerPrefix(e);if(this._oContainerMap.containsKey(t)){return this._oContainerMap.get(t).promise()}const n=new jQuery.Deferred;const r=new c(this._oAdapterWithBackendAdapter.instance,t);r.done(n.resolve).fail(n.reject);this._oContainerMap.put(t,n);return n.promise()};A.prototype.delPersonalizationContainer=function(e){const t=i.addContainerPrefix(e);const n=new jQuery.Deferred;this.getPersonalizationContainer(e).fail(n.reject).done(()=>{this._oAdapterWithBackendAdapter.instance.delAdapterContainer(t).fail(n.reject).done(()=>{this._oContainerMap.remove(t);n.resolve()})});return n.promise()};A.prototype._getBackendAdapter=function(){return this._oAdapterWithBackendAdapter.instance._oBackendAdapter};A.prototype.resetEntirePersonalization=async function(){const e=this._getBackendAdapter();const t=await this.isResetEntirePersonalizationSupported();if(t){return e.resetEntirePersonalization()}throw new Error("Reset entire personalization is not supported")};A.prototype.isResetEntirePersonalizationSupported=async function(){const t=this._getBackendAdapter();if(typeof t.resetEntirePersonalization!=="function"){return false}if(typeof t.isResetEntirePersonalizationSupported==="function"){try{const e=await t.isResetEntirePersonalizationSupported();return e}catch(t){e.error(`isResetEntirePersonalizationSupported failed with error: ${t.toString()}`);throw t}}return true};A.prototype._adjustScope=i.adjustScope;A.hasNoAdapter=false;A.ContextContainer=s;A.Variant=f;A.VariantSet=h;A.VariantSetAdapter=u;A.WindowAdapter=p;A.WindowAdapterContainer=_;return A},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PluginManager", ["sap/base/Log","sap/ui/thirdparty/jquery","sap/ushell/appIntegration/PostMessagePluginInterface","sap/ushell/services/PluginManager/Extensions","sap/ushell/UI5ComponentType","sap/ushell/utils","sap/ushell/Container","sap/ushell/services/PluginManager/SimpleExpression"],(e,jQuery,n,i,t,o,s,r)=>{"use strict";const l="sap.ushell.services.PluginManager";const a="sap-ushell-plugin-type";const u="RendererExtensions";const c="sap.ushell.components.shell.defaults";const g=[u,"UserDefaults","UserImage","AppWarmup"];function f(f,p,h){const d=this;this._oPluginCollection={};this._oCategoryLoadingProgress={};this._mInitializedComponentPromise={};this._sPluginAgentsNames="";this._oConfig=h&&h.config||{};if(this._oConfig.isBlueBox===undefined){this._oConfig.isBlueBox=false}g.forEach(e=>{d._oPluginCollection[e]={};d._oCategoryLoadingProgress[e]=new jQuery.Deferred});this._handlePluginCreation=async function(n,i,t,s){const r=d._oPluginCollection[n][i];o.setPerformanceMark(`FLP -- PluginManager.loadPlugin[${n}][${i}]`);try{if(r.hasOwnProperty("component")){if(d._mInitializedComponentPromise.hasOwnProperty(r.component)){d._mInitializedComponentPromise[r.component].catch(()=>{}).then(()=>{d._instantiateComponent(r,t,s)})}else{d._mInitializedComponentPromise[r.component]=d._instantiateComponent(r,t,s)}}else{e.error(`Invalid plugin configuration. The plugin ${i} must contain a <component> key`,l)}}catch(n){e.error(`Error while loading bootstrap plugin: ${r.component}`||"",l);if(t){t.reject(n)}}};this._getFileNameForXhrAuth=function(){return"Component-preload.js"};this._handleXhrAuthentication=function(n,i){let t;if(n&&["true",true,"X"].indexOf(n["sap-ushell-xhr-authentication"])>-1){if(!i){e.error(["Illegal state: configuration parameter 'sap-ushell-xhr-authentication-timeout' set, but no component URL specified.","XHR authentication request will not be sent. Please check the target mapping definitions for plug-ins","and the application index."].join(" "),undefined,l);return jQuery.when()}if(n.hasOwnProperty("sap-ushell-xhr-authentication-timeout")){t=parseInt(n["sap-ushell-xhr-authentication-timeout"],10);if(isNaN(t)){e.error(["Invalid value for configuration parameter 'sap-ushell-xhr-authentication-timeout' for plug-in component with URL '",i,"': '",n["sap-ushell-xhr-authentication-timeout"],"' is not a number. Timeout will be ignored."].join(""),undefined,l)}else{s.setXhrLogonTimeout(i,t)}}return jQuery.ajax(`${i}/${this._getFileNameForXhrAuth()}`,{dataType:"text"})}return jQuery.when()};this._instantiateComponent=function(n,o,r){const a=new jQuery.Deferred;const u=JSON.parse(JSON.stringify(n));const c={ui5ComponentName:u.component,url:u.url,getExtensions:i.bind(null,n.component)};function g(n){return function(i){n=n||`Cannot create UI5 plugin component: (componentId/appdescrId :${c.ui5ComponentName})\n${i} properties ${JSON.stringify(c)}\n This indicates a plugin misconfiguration, see e.g. Note 2316443.`;e.error(n,i,l);if(o){o.reject(i)}a.reject(i)}}u.name=u.component;delete u.component;c.applicationDependencies=u;if(u.config){c.applicationConfiguration=u.config;delete u.config}c.loadDefaultDependencies=false;if(r!==undefined){c.oPostMessageInterface=r}s.getServiceAsync("Ui5ComponentLoader").then(e=>{this._handleXhrAuthentication(c.applicationConfiguration,u.url).done(()=>{e.createComponent(c,{},[],t.Plugin).then(function(e){if(o){o.resolve(e)}a.resolve.apply(this,arguments)}).catch(g())}).fail(g("XHR logon for FLP plugin failed"))}).catch(g());return a.promise()};this.getSupportedPluginCategories=function(){return JSON.parse(JSON.stringify(g))};this.getRegisteredPlugins=function(){return JSON.parse(JSON.stringify(this._oPluginCollection))};this.isPluginConfigured=function(e,n=u){if(!this._oPluginCollection[n]){return false}const i=new URLSearchParams(window.location.search).get("sap-ushell-xx-pluginmode")||"";const t=this.filterPluginIds(Object.keys(this._oPluginCollection[n]),i,n);return t.includes(e)};this.registerPlugins=async function(n){let i;if(!n){return}if(this._oConfig.isBlueBox===true){i=new URLSearchParams(window.location.search).get("sap-plugins");if(i&&i.length>0){i=`,${i},`}else{i=undefined}}const t=await this._addPluginsIntoCollection(n,i);try{if(this._oConfig.isBlueBox!==true){this._buildNamesOfPluginsWithAgents()}}catch(n){e.error("failed to build plugin agents names list",n,"sap.ushell.services.PluginManager")}t.forEach(e=>{if(Object.hasOwn(this._oCategoryLoadingProgress,e)&&this._oCategoryLoadingProgress[e].state()==="resolved"){this.loadPlugins(e)}})};this._addPluginsIntoCollection=async function(n,i=""){const t=[];for(const s of Object.keys(n).sort()){const r=n[s]||{};const c=r.config||{};const f=c[a]||"";r.enabled??=true;if(r.enabled===false){continue}if(!this._isFormFactorSupported(r)){e.info(`Plugin '${s}' filtered from result: form factor not supported`);continue}if(this._oConfig.isBlueBox===true&&c["sap-plugin-agent"]===true){const e=c["sap-plugin-agent-id"]||s;if(!i.includes(`,${e},`)){continue}}if(Object.hasOwn(r,"module")){const n=(r.module||"").replace(/\./g,"/");e.error(`Plugin ${s} cannot get registered, because the module mechanism for plugins is not valid anymore. Plugins need to be defined as SAPUI5 components.`,l);try{await o.requireAsync([n])}catch(i){e.error(`Plugin module ${n} is not found.`,i)}continue}if(Object.hasOwn(c,a)){if(g.includes(f)){if(!t.includes(f)){t.push(f)}this._oPluginCollection[f][s]=JSON.parse(JSON.stringify(r))}else{e.warning(`Plugin ${s} will not be inserted into the plugin collection of the PluginManager, because of unsupported category ${f}`,l)}}else{this._oPluginCollection[u][s]=JSON.parse(JSON.stringify(r));if(!t.includes(u)){t.push(u)}}}return t};this._isFormFactorSupported=function(e){const n=e.deviceTypes;const i=o.getFormFactor();if(n&&n[i]===false){return false}return true};this.getPluginLoadingPromise=function(e){if(this._oCategoryLoadingProgress.hasOwnProperty(e)){return this._oCategoryLoadingProgress[e].promise()}};this.filterPluginIds=function(e,n,i){let t;if(n.startsWith("allow-filter-")){t="allowFilterPluginsAccordingToSimpleExpression"}else if(n.startsWith("discard")){t="discardAlmostAllPlugins"}else{t="unknownFilterMode"}switch(t){case"allowFilterPluginsAccordingToSimpleExpression":const t=n.replace("allow-filter-","");return r.filterByExpression(e,t);case"discardAlmostAllPlugins":return e.filter(e=>d._oPluginCollection[i][e].component===c);case"unknownFilterMode":default:return e}};this.loadPlugins=function(i){let t;o.setPerformanceMark(`FLP -- PluginManager.startLoadPlugins[${i}]`);if(i===u){t=n.getInterface()}if(g&&Array.prototype.indexOf.call(g,i)!==-1){if(d._oCategoryLoadingProgress[i].pluginLoadingTriggered===undefined){d._oCategoryLoadingProgress[i].pluginLoadingTriggered=true}if(Object.keys(d._oPluginCollection[i]).length>0){const e=[];let n=Object.keys(d._oPluginCollection[i]);const s=new URLSearchParams(window.location.search).get("sap-ushell-xx-pluginmode")||"";n=this.filterPluginIds(n,s,i,d);n.forEach(n=>{const o=d._oPluginCollection[i][n];if(!o.loaded){o.loaded=true;const s=new jQuery.Deferred;e.push(s.promise());d._handlePluginCreation(i,n,s,t)}});if(e.length>0){Promise.allSettled(e.map((e,i)=>new Promise(t=>{const o={pluginName:n[i],success:true};e.done(()=>{t(o)}).fail(e=>{o.success=false;o.error=e;t(o)})}))).then(e=>{o.setPerformanceMark(`FLP -- PluginManager.endLoadPlugins[${i}]`);d._oCategoryLoadingProgress[i].resolve(e.map(e=>e.value))})}}else{d._oCategoryLoadingProgress[i].resolve()}}else{e.error(`Plugins with category ${i} cannot be loaded by the PluginManager`,l);d._oCategoryLoadingProgress[i].reject(new Error(`Plugins with category ${i} cannot be loaded by the PluginManager`))}return d._oCategoryLoadingProgress[i].promise()};this._buildNamesOfPluginsWithAgents=function(){let e="";Object.keys(d._oPluginCollection).forEach(n=>{Object.keys(d._oPluginCollection[n]).forEach(i=>{const t=d._oPluginCollection[n][i];if(t&&t.enabled&&t.enabled===true){if(t.config&&t.config["sap-plugin-agent"]===true){e+=`${t.config["sap-plugin-agent-id"]||i},`}}})});if(e.endsWith(",")){e=e.slice(0,-1)}this._sPluginAgentsNames=e};this._getNamesOfPluginsWithAgents=function(){return this._sPluginAgentsNames}}f.hasNoAdapter=true;return f},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ShellNavigation", ["sap/base/Log","sap/ushell/Container"],(t,e)=>{"use strict";function i(i,a,n){t.error("Deprecated service call. Please migrate any dependencies to this service.",null,"sap.ushell.services.ShellNavigation");this._oShellNavigationInternal=e.getService("ShellNavigationInternal");this.NavigationFilterStatus=this._oShellNavigationInternal.NavigationFilterStatus;this.hashChanger=this._oShellNavigationInternal.hashChanger}i.prototype.getNavigationContext=function(){return this._oShellNavigationInternal.getNavigationContext()};i.prototype.compactParams=function(t,e,i,a){return this._oShellNavigationInternal.compactParams(t,e,i,a)};i.prototype.init=function(t){return this._oShellNavigationInternal.init(t)};i.prototype.wasHistoryEntryReplaced=function(){return this._oShellNavigationInternal.wasHistoryEntryReplaced()};i.prototype.resetHistoryEntryReplaced=function(){this._oShellNavigationInternal.resetHistoryEntryReplaced()};i.prototype.replaceHashWithoutNavigation=function(t){this._oShellNavigationInternal.replaceHashWithoutNavigation(t)};i.prototype.registerNavigationFilter=function(t){this._oShellNavigationInternal.registerNavigationFilter(t)};i.prototype.unregisterNavigationFilter=function(t){this._oShellNavigationInternal.unregisterNavigationFilter(t)};i.hasNoAdapter=true;return i},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ShellNavigationHashChanger", ["sap/base/Log","sap/base/util/isEmptyObject","sap/ui/core/routing/HashChanger","sap/ui/performance/trace/Interaction","sap/ui/thirdparty/hasher","sap/ui/thirdparty/jquery","sap/ushell/Container","sap/ushell/navigation/NavigationState","sap/ushell/utils/UrlShortening","sap/ushell/utils/UrlParsing"],(t,e,a,n,i,jQuery,s,r,o,h)=>{"use strict";const p={HASH_SET:{name:"hashSet",historyEntry:true},HASH_REPLACED:{name:"hashReplaced",historyEntry:false},SHELL_HASH_CHANGED:{name:"shellHashChanged",historyEntry:true,usedByUi5HistoryDetection:true,ui5EventParameterNames:{oldHash:"oldAppSpecificRouteNoSeparator",newHash:"newAppSpecificRouteNoSeparator"},updateHashOnly:true},SHELL_HASH_PARAMETER_CHANGED:{name:"shellHashParameterChanged",historyEntry:null},HASH_CHANGED:{name:"hashChanged",historyEntry:false,usedByUi5HistoryDetection:true,ui5EventParameterNames:{newHash:"newHash",fullHash:"fullHash"}}};const l="ShellNavigationHashChanger";const c="[FesrFlp]";const u=a.extend("sap.ushell.services.ShellNavigationHashChanger",{constructor:function(t){this.oServiceConfig=t;this._oNavigationState={};a.apply(this);this._initializedByShellNav=false;this._bReloadApplication=false;this.privfnShellCallback=null;this.privappHashPrefix="&/";this.privhashPrefix="#";this.aNavigationFilters=[];this.NavigationFilterStatus={Continue:"Continue",Custom:"Custom",Abandon:"Abandon",Keep:"Keep"};this.getRelevantEventsInfo=function(){return this._getAllEvents().filter(t=>t.usedByUi5HistoryDetection).map(t=>{const e={name:t.name,paramMapping:t.ui5EventParameterNames};if(t.updateHashOnly!==undefined){e.updateHashOnly=t.updateHashOnly}return e})}}});u.prototype.privgetCurrentShellHash=function(){const t=this.privsplitHash(i.getHash());return{hash:`#${t?.shellPart||""}`}};u.prototype.privconstructHash=function(t){const e=this.privgetCurrentShellHash();e.hash+=t;return e};u.prototype.privconstructShellHash=function(t){return h.constructShellHash(t)};u.prototype.privsplitHash=function(t){if(t===undefined||t===null||t===""){return{shellPart:null,appSpecificRoute:null,intent:null,params:null}}const a=h.parseShellHash(t);if(a===undefined||a===null){return null}const n=a.params&&!e(a.params)?a.params:null;const i=a.appSpecificRoute;a.appSpecificRoute=undefined;return{shellPart:this.privstripLeadingHash(this.privconstructShellHash(a))||null,appSpecificRoute:i||null,intent:a.semanticObject&&a.action&&`${a.semanticObject}-${a.action}${a.contextRaw||""}`||null,params:n}};u.prototype.privsetHash=function(t,e,a){i.prependHash="";t=this.privstripLeadingHash(t);e=e||"";if(a===undefined){a=true}if(a){this.fireEvent(p.HASH_SET.name,{sHash:e});i.setHash(t)}else{this.fireEvent(p.HASH_REPLACED.name,{sHash:e});i.replaceHash(t)}};u.prototype.privstripLeadingHash=function(t){if(t[0]==="#"){return t.substring(1)}return t};u.prototype.registerNavigationFilter=function(t){if(typeof t!=="function"){throw new Error("fnFilter must be a function")}this.aNavigationFilters.push(t)};u.prototype.unregisterNavigationFilter=function(t){if(typeof t!=="function"){throw new Error("fnFilter must be a function")}this.aNavigationFilters=this.aNavigationFilters.filter(e=>e!==t)};function f(t,e,a){this.oAppState=undefined;this.oPromise=(new jQuery.Deferred).resolve();this.getNextKey=function(){this.oAppState=t.createEmptyAppState(e,a);return this.oAppState.getKey()};this.store=function(t){this.oAppState.setData(t);const e=this.oAppState.save();this.oPromise=jQuery.when(this.oPromise,e)};this.getPromise=function(){return this.oPromise}}u.prototype.compactParams=function(t,e,a,n){const i=new jQuery.Deferred;const r=h.constructShellHash({target:{semanticObject:"SO",action:"action"},params:t});if(t===undefined||Object.keys(t).length===0){return i.resolve(t).promise()}s.getServiceAsync("AppState").then(t=>{const s=new f(t,a,n);const p=o.compactHash(r,e,s);const l=h.parseParameters(p.hash.match(/\?.*/)[0]);s.getPromise().done(()=>{i.resolve(l)}).fail(i.reject)});return i.promise()};u.prototype.hrefForExternal=async function(t,e){let a=await this.hrefForExternalNoEncAsync(t,e);if(e){a.hash=encodeURI(a.hash)}else{a=encodeURI(a)}return a};u.prototype.hrefForExternalSync=function(t,e,a){let n=this.hrefForExternalNoEnc(t,e,a);if(e){n.hash=encodeURI(n.hash)}else{n=encodeURI(n)}return n};u.prototype.hrefForExternalNoEnc=function(e,a,n,i){t.error("Deprecated API call of 'sap.ushell.services.ShellNavigationHashChanger.hrefForExternalNoEnc'. Please use 'hrefForExternalNoEncAsync' instead",null,"sap.ushell.services.ShellNavigationHashChanger");if(i){const t=new jQuery.Deferred;this.hrefForExternalNoEncAsync(e,a).then(t.resolve).catch(t.reject);return t.promise()}const s=this.privhrefForExternalNoEnc(e);if(a){return{hash:s.hash,params:s.params,skippedParams:s.skippedParams}}return s.hash};u.prototype.hrefForExternalNoEncAsync=async function(t,e){let a;const n=this.privhrefForExternalNoEnc(t);if(e){a={hash:n.hash,params:n.params,skippedParams:n.skippedParams}}else{a=n.hash}return a};u.prototype.privhrefForExternalNoEnc=function(t){if(t===undefined){return this.privgetCurrentShellHash()}if(t&&t.target&&(typeof t.target.semanticObject==="string"||typeof t.target.shellHash==="string")){return{hash:`#${this.privconstructShellHash(t)}`}}return this.privgetCurrentShellHash()};u.prototype.privgetAppHash=function(t){let e;if(t&&t.target&&typeof t.target.shellHash==="string"){const a=h.parseShellHash(t.target.shellHash);e=a&&a.appSpecificRoute;e=e&&e.substring(2)}return e};u.prototype.hrefForAppSpecificHash=function(t){return encodeURI(this.privconstructHash(this.privappHashPrefix+t).hash)};u.prototype.toExternal=function(t,e,a){const n=this.privhrefForExternalNoEnc(t).hash;const i=this.privgetAppHash(t);this.privsetHash(n,i,a);return Promise.resolve()};u.prototype.toAppHash=function(t,e){const a=this.privconstructHash(this.privappHashPrefix+t).hash;this.privsetHash(a,t,e)};u.prototype.initShellNavigation=function(e){if(this._initializedByShellNav){t.info("initShellNavigation already called on this ShellNavigationHashChanger instance.");return false}this.privfnShellCallback=e;i.changed.add(this.treatHashChanged,this);if(!i.isActive()){i.initialized.addOnce(this.treatHashChanged,this);i.init()}else{this.treatHashChanged(i.getHash())}this._initializedByShellNav=true;return true};u.prototype.init=function(){if(this._initialized){t.info("init already called on this ShellNavigationHashChanger instance.");return false}const e=this.privsplitHash(i.getHash());const a=(e?.appSpecificRoute||"  ").substring(2);const n=a?"&/":"";const s=e?.shellPart||"";this.fireEvent(p.HASH_CHANGED.name,{newHash:a,fullHash:s+n+a});this._initialized=true;return true};u.prototype._removeInnerAppSeparator=function(t){return(t||"").replace("&/","")};u.prototype._startFesrInteraction=function(){if(!this._fnResolveFesrInteraction){t.debug(`${c} Interaction Start`,null,l);this._fnResolveFesrInteraction=n.notifyAsyncStep()}};u.prototype._endFesrInteraction=function(){if(this._fnResolveFesrInteraction){t.debug(`${c} Interaction End`,null,l);this._fnResolveFesrInteraction();this._fnResolveFesrInteraction=null}};u.prototype._trackNavigation=function(t,e){this._oNavigationState.newHash=t;this._oNavigationState.oldHash=e};u.prototype.getCurrentNavigationState=function(){return this._oNavigationState};u.prototype.treatHashChanged=function(e,a){r.startNavigation();this._trackNavigation(e,a);this._startFesrInteraction();if(this.inAbandonFlow){this._endFesrInteraction();this.setReloadApplication(false);r.endNavigation();return}let n;e=o.expandHash(e);a=o.expandHash(a);const s=this.privsplitHash(e);let l=this.privsplitHash(a);if(!s){const t=new Error(`Illegal new hash - cannot be parsed: '${e}'`);this.fireEvent(p.SHELL_HASH_CHANGED.name,{newShellHash:e,newAppSpecificRoute:null,fullHash:e,oldShellHash:l?l.shellPart:a,error:t});this.privfnShellCallback(e,null,l?l.shellPart:a,l?l.appSpecificRoute:null,t);this._endFesrInteraction();this.setReloadApplication(false);return}if(!l){l={shellPart:a,appSpecificRoute:null}}for(let s=0;s<this.aNavigationFilters.length;s++){try{let t;const r=this.aNavigationFilters[s].call(undefined,e,a);let o=r;if(typeof r!=="string"){o=r.status;t=r.hash}if(o===this.NavigationFilterStatus.Custom){if(t&&t.length>0){this.inAbandonFlow=true;i.replaceHash(t);this.inAbandonFlow=false}this._endFesrInteraction();this.setReloadApplication(false);return}if(o===this.NavigationFilterStatus.Abandon){this.inAbandonFlow=true;i.replaceHash(a);this.inAbandonFlow=false;this._endFesrInteraction();this.setReloadApplication(false);return}if(o===this.NavigationFilterStatus.Keep){n=true}}catch(e){t.error("Error while calling Navigation filter! ignoring filter...",e,"sap.ushell.services.ShellNavigationHashChanger")}}if(n){this.fireEvent(p.HASH_CHANGED.name,{newHash:e,oldHash:a,fullHash:e});this._endFesrInteraction();this.setReloadApplication(false);r.endNavigation();return}const c=a===undefined;const u=h.compareHashes(e,a);u.sameIntent=u.sameIntent&&!c;const f=u.sameIntent&&u.sameParameters&&u.sameAppSpecificRoute;if(f){t.info("Navigation happened but hash stayed the same",null,"sap.ushell.services.ShellNavigationHashChanger");this.fireEvent(p.HASH_CHANGED.name,{newHash:this._removeInnerAppSeparator(s.appSpecificRoute),oldHash:this._removeInnerAppSeparator(l.appSpecificRoute),fullHash:e});this._endFesrInteraction();this.setReloadApplication(false);return}const H=u.sameIntent&&u.sameParameters;if(H){if(this.getReloadApplication()){this.setReloadApplication(false)}else{const a=this._removeInnerAppSeparator(s.appSpecificRoute);const n=this._removeInnerAppSeparator(l.appSpecificRoute);t.info(`Inner App Hash changed from '${n}' to '${a}'`,null,"sap.ushell.services.ShellNavigationHashChanger");this.fireEvent(p.HASH_CHANGED.name,{newHash:a,oldHash:n,fullHash:e});this._endFesrInteraction();r.endNavigation();return}}if(u.sameIntent&&this.hasListeners(p.SHELL_HASH_PARAMETER_CHANGED.name)){const e=h.paramsToString(s.params);const a=h.paramsToString(l.params);t.info(`Shell hash parameters changed from '${a}' to '${e}'`,null,"sap.ushell.services.ShellNavigationHashChanger");this.fireEvent(p.SHELL_HASH_PARAMETER_CHANGED.name,{oNewParameters:s.params,oOldParameters:l.params});this._endFesrInteraction();this.setReloadApplication(false);r.endNavigation();return}t.info(`Outer shell hash changed from '${a}' to '${e}'`,null,"sap.ushell.services.ShellNavigationHashChanger");this.fireEvent(p.SHELL_HASH_CHANGED.name,{newShellHash:s.shellPart,newAppSpecificRoute:s.appSpecificRoute,fullHash:e,oldShellHash:l.shellPart,oldAppSpecificRoute:l.appSpecificRoute,error:"",oldAppSpecificRouteNoSeparator:this._removeInnerAppSeparator(l.appSpecificRoute),newAppSpecificRouteNoSeparator:this._removeInnerAppSeparator(s.appSpecificRoute)});this.privfnShellCallback(s.shellPart,s.appSpecificRoute,l.shellPart,l.appSpecificRoute);this._endFesrInteraction();this.setReloadApplication(false)};u.prototype.setHash=function(t){this.toAppHash(t,true)};u.prototype.replaceHash=function(t){this.toAppHash(t,false)};u.prototype.getHash=function(){return this.getAppHash()};u.prototype.getAppHash=function(){const t=this.privsplitHash(i.getHash());const e=(t?.appSpecificRoute||"  ").substring(2);return e};u.prototype.destroy=function(){i.changed.remove(this.treatHashChanged,this);a.prototype.destroy.apply(this,arguments)};u.prototype._getAllEvents=function(){return Object.keys(p).map(t=>p[t])};u.prototype.getReplaceHashEvents=function(){return this._getAllEvents().filter(t=>t.historyEntry===false).map(t=>t.name)};u.prototype.getSetHashEvents=function(){return this._getAllEvents().filter(t=>t.historyEntry===true).map(t=>t.name)};u.prototype.isInnerAppNavigation=function(t,e){const a=h.parseShellHash(t);const n=h.parseShellHash(e);const i=e===undefined;const s=h.haveSameIntent(a,n)&&!i;const r=h.haveSameIntentParameters(a,n);return s&&r};u.prototype.getReloadApplication=function(){return this._bReloadApplication};u.prototype.setReloadApplication=function(t){this._bReloadApplication=t};return u});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/URLParsing", ["sap/base/Log","sap/ui/base/Object","sap/ushell/utils","sap/ushell/utils/UrlParsing","sap/ushell/Container"],(e,t,s,r,n)=>{"use strict";function a(){this.getShellHash=function(e){return r.getShellHash(e)};this.getHash=function(e){return r.getHash(e)};this.isIntentUrl=function(t){e.error("Deprecated API call of 'sap.ushell.URLParsing.isIntentUrl'. Please use 'isIntentUrlAsync' instead",null,"sap.ushell.services.URLParsing");return r.isIntentUrl(t)};this.isIntentUrlAsync=function(e){return r.isIntentUrlAsync(e)};this.parseParameters=function(e){return r.parseParameters(e)};this.paramsToString=function(e){return r.paramsToString(e)};this.removeParametersWithEmptyValue=function(e,t){r.removeParametersWithEmptyValue(e,t)};this.urlParametersToString=function(e,t,s){return r.urlParametersToString(e,t,s)};this.parseShellHash=function(e){return r.parseShellHash(e)};this.privstripLeadingHash=function(e){return r.privstripLeadingHash(e)};this.splitHash=function(e){return r.splitHash(e)};this.constructShellHash=function(e){return r.constructShellHash(e)};this.addSystemToServiceUrl=function(e,r){let a=r;if(!e||e.indexOf("/")!==0||e.indexOf("//")===0){throw new s.Error(`Invalid URL: ${e}`,"sap.ushell.services.URLParsing")}if(t.isA(r,"sap.ui.core.Component")){const e=typeof r.getComponentData==="function"&&r.getComponentData();a=e&&e.startupParameters&&e.startupParameters["sap-system"]&&e.startupParameters["sap-system"][0]}const i=n.getService("NavTargetResolutionInternal").getCurrentResolution();if(!a&&!r&&i&&i.url){a=new URL(i.url,window.location.href).searchParams.get("sap-system")}if(/^[^?]*(;mo([/;?]|$))/.test(e)){}else if(/^[^?]*(;o=([/;?]|$))/.test(e)){e=e.replace(/;o=([/;?]|$)/,`${a?`;o=${a}`:""}$1`)}else if(!/^[^?]*;o=/.test(e)&&a){e=e.replace(/(\/[^?]*?)(\/$|$|(\/?\?.*))/,`$1;o=${a}$2`)}n.addRemoteSystemForServiceUrl(e);return e}}a.hasNoAdapter=true;return a},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/URLShortening", ["sap/ushell/utils/UrlShortening"],e=>{"use strict";function a(){this.compactHash=e.compactHash.bind(e);this.checkHashLength=e.checkHashLength.bind(e);this.expandHash=e.expandHash.bind(e);this.expandParamGivenRetrievalFunction=e.expandParamGivenRetrievalFunction.bind(e)}a.hasNoAdapter=true;return a},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Ui5ComponentHandle", ()=>{"use strict";function t(t){this._oComponent=t}t.onBeforeApplicationInstanceCreated=function(){sap.ui.require(["sap/ushell/Fiori20AdapterTest"],()=>{})};t.prototype.getInstance=function(){return this._oComponent};t.prototype.getMetadata=function(){return this._oComponent.getMetadata()};t.prototype.getComponentName=function(){return this._oComponent.getMetadata().getComponentName()};t.prototype.destroy=function(){if(this._oComponent&&!this._oComponent.isDestroyed()){return this._oComponent.destroy()}};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Ui5ComponentLoader", ["sap/base/Log","sap/base/util/deepExtend","sap/ui/core/Component","sap/ui/core/Lib","sap/ui/core/util/AsyncHintsHelper","sap/ui/thirdparty/jquery","sap/ui/thirdparty/URI","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/services/Ui5ComponentHandle","sap/ushell/utils","sap/ushell/utils/UriParameters"],(e,t,o,n,r,jQuery,s,a,i,p,c,l)=>{"use strict";let u=["sap.ui.unified"];u=["sap.ca.scfld.md","sap.ca.ui","sap.me","sap.ui.unified"];function d(e,t,o,n){this._oServiceConfig=n&&n.config||{};this._oAdapter=e;i.once("loadCoreResourcesComplement").do(()=>{this.loadCoreResourcesComplement()})}d.prototype.modifyComponentProperties=async function(e,t){if(this._oAdapter.modifyComponentProperties){const o=await this._oAdapter.modifyComponentProperties(e.componentProperties,t);e.componentProperties=o}return e};d.prototype.createComponent=async function(t,o={},n,r){let s;try{s=await this.createComponentData(t,o,n);s=await this.modifyComponentProperties(s,r)}catch(o){e.error("Ui5ComponentLoader: Error while creating component data",o,"sap.ushell.services.Ui5ComponentLoader");return t}const a=await this.instantiateComponent(s);return a};d.prototype.createComponentData=async function(e={},t={},o){const n={};const r=e.applicationDependencies||{};this._logAnyApplicationDependenciesMessages(r.name,r.messages);if(!e.ui5ComponentName){throw new Error("Ui5ComponentLoader: ui5ComponentName is mandatory")}n.appPropertiesSafe=e;n.loadCoreExt=this._shouldLoadCoreExt(e);n.componentData=this._createComponentData(e);const s=a.last("/core/customPreload/enabled");const i=n.loadCoreExt&&s;const p=this._shouldLoadDefaultDependencies(e);const c=e.ui5ComponentId||this._constructAppComponentId(t);n.componentProperties=await this._createComponentProperties(c,e,o,i,p);delete n.appPropertiesSafe.loadCoreExt;delete n.appPropertiesSafe.loadDefaultDependencies;return n};d.prototype.instantiateComponent=async function(t){const o=t.componentProperties;o.componentData=t.componentData;p.onBeforeApplicationInstanceCreated.call(null,o);try{const e=await this._createUi5Component(o);const n=t.appPropertiesSafe;n.componentHandle=new p(e);const r=t.loadCoreExt;if(r){n.coreResourcesFullyLoaded=r;i.emit("CoreResourcesComplementLoaded",{status:"success"})}return n}catch(t){const n=o.name;const r=JSON.stringify(o,null,4);let s=`The issue is most likely caused by application ${n}`;let a=`Failed to load UI5 component with properties: '${r}'.`;if(t.stack){a+=` Error likely caused by:\n${t.stack}`}else{a+=` Error: '${t}'`}if(t.status==="parsererror"){s+=", as one or more of its resources could not be parsed"}s+=". Please create a support incident and assign it to the support component of the respective application.";e.error(s,a,n);throw t}};d.prototype.getCoreResourcesComplementBundle=function(){if(a.last("/core/customPreload/enabled")){return a.last("/core/customPreload/coreResourcesComplement")}return[]};d.prototype.loadCoreResourcesComplement=function(){if(!this.loadCoreResourcesComplementPromise){this.loadCoreResourcesComplementPromise=new Promise(async(e,t)=>{try{await this._loadBundle(this.getCoreResourcesComplementBundle());i.emit("CoreResourcesComplementLoaded",{status:"success"});e()}catch(e){i.emit("CoreResourcesComplementLoaded",{status:"failed"});t(e)}});this.loadCoreResourcesComplementPromise.finally(()=>{this.loadCoreResourcesComplementPromise=undefined})}return this.loadCoreResourcesComplementPromise};d.prototype._createUi5Component=function(e){if(e.manifest===undefined){e.manifest=false}return o.create(e)};d.prototype._shouldLoadCoreExt=function(e){let t=true;if(e.hasOwnProperty("loadCoreExt")){t=e.loadCoreExt}return t};d.prototype._shouldLoadDefaultDependencies=function(e){let t=true;if(e.hasOwnProperty("loadDefaultDependencies")){t=e.loadDefaultDependencies}if(this._oServiceConfig&&this._oServiceConfig.hasOwnProperty("loadDefaultDependencies")){t=t&&this._oServiceConfig.loadDefaultDependencies}return t};d.prototype._constructAppComponentId=function(e={}){const t=e.semanticObject||null;const o=e.action||null;if(!t||!o){return null}return`application-${t}-${o}-component`};d.prototype._removeCacheBusterTokenFromUrl=function(e){const t=new RegExp("[/]~[\\w-]+~[A-Z0-9]?");return e.replace(t,"")};d.prototype._removeParametersFromUrl=function(e){if(!e){return e}const t=e.indexOf("?");if(t>=0){return e.slice(0,t)}return e};d.prototype._getParameterMap=function(e){const t=l.fromURL(e||window.location.href).mParams;const o=t["sap-xapp-state"];const n=t["sap-xapp-state-data"];delete t["sap-xapp-state"];delete t["sap-xapp-state-data"];const r={startupParameters:t};if(n){r["sap-xapp-state"]=n}if(o){r["sap-xapp-state"]=o}return r};d.prototype._loadBundle=function(t){if(!Array.isArray(t)){e.error("Ui5ComponentLoader: loadBundle called with invalid arguments");return null}return Promise.all(t.map(e=>sap.ui.loader._.loadJSResourceAsync(e))).catch(o=>{e.error(`Ui5ComponentLoader: failed to load bundle resources: [${t.join(", ")}]`,o);throw o})};d.prototype._createComponentProperties=async function(o,i,p,l,d){const m=i.ui5ComponentName;const f=i.url;const C=i.applicationDependencies||{};const y=c.getParameterValueBoolean("sap-ushell-nocb");const h=t({},C);if(!h.asyncHints){h.asyncHints=d?{libs:u}:{}}if(l){const e=a.last("/core/customPreload/coreResourcesComplement");h.asyncHints.preloadBundles=[...h.asyncHints.preloadBundles||[],...e]}if(p){h.asyncHints.waitFor=p}if(!h.name){h.name=m}if(f){h.url=this._removeParametersFromUrl(f)}if(o){h.id=o}if(y&&h.asyncHints){r.modifyUrls(h.asyncHints,this._removeCacheBusterTokenFromUrl)}const P=h.manifest;if(typeof P==="string"&&P.length>0&&"sap.ui.fl"in n.all()){try{const[t]=await c.requireAsync(["sap/ui/fl/apply/api/FlexRuntimeInfoAPI"]);try{const e=t.getFlexVersion({reference:m});if(typeof e==="string"&&e.length>0){const t=new s(P);t.addQuery("version",e);h.manifest=t.toString()}return h}catch(t){e.error("Error when trying to get manifest version from 'sap.ui.fl.apply.api.FlexRuntimeInfoAPI'",t,"sap.ushell.services.Ui5ComponentLoader");return h}}catch(t){e.error("Error when trying to load 'sap/ui/fl/apply/api/FlexRuntimeInfoAPI'",t,"sap.ushell.services.Ui5ComponentLoader");return h}}return h};d.prototype._createComponentData=function(e){const o=e.componentData||{};const n=e.url;const r=e.applicationConfiguration;const s=e.reservedParameters;const a=t({startupParameters:{}},o);if(r){a.config=r}if(s){a.technicalParameters=s}const i=n&&n.indexOf("?")>=0;if(i){const e=this._getParameterMap(n);a.startupParameters=e.startupParameters;if(e["sap-xapp-state-data"]){a["sap-xapp-state"]=e["sap-xapp-state-data"]}if(e["sap-xapp-state"]){a["sap-xapp-state"]=e["sap-xapp-state"]}}if(e.getExtensions){a.getExtensions=e.getExtensions;delete e.getExtensions}if(e.oPostMessageInterface){a.oPostMessageInterface=e.oPostMessageInterface;delete e.oPostMessageInterface}return a};d.prototype._logAnyApplicationDependenciesMessages=function(t,o){if(!Array.isArray(o)){return}o.forEach(o=>{let n=String.prototype.toLowerCase.call(o.severity||"");n=["trace","debug","info","warning","error","fatal"].indexOf(n)!==-1?n:"error";e[n](o.text,o.details,t)})};d.prototype._setDefaultDependencies=function(e){u=e};d.hasNoAdapter=false;return d});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/UserInfo", ["sap/base/Log","sap/ushell/User","sap/ushell/Container"],(e,t,i)=>{"use strict";const r={themeList:null,languageList:null,userSettingList:null};function s(t,s){this.getId=function(){return i.getUser().getId()};this.getFirstName=function(){return i.getUser().getFirstName()};this.getLastName=function(){return i.getUser().getLastName()};this.getFullName=function(){return i.getUser().getFullName()};this.getEmail=function(){return i.getUser().getEmail()};this.getUser=function(){return i.getUser()};this.getShellUserInfo=function(){return Promise.resolve({id:this.getId(),email:this.getEmail(),firstName:this.getFirstName(),lastName:this.getLastName(),fullName:this.getFullName()})};this.getCalendarWeekNumberingList=function(){return t.getCalendarWeekNumberingList?.()};this.getThemeList=function(){if(r.themeList){return r.themeList}const i=t.getThemeList();r.themeList=i;i.fail(()=>{e.error("getThemeList failed")});return i};this.updateThemeRoot=async function(e){if(t.getThemeRoot){const r=await t.getThemeRoot(e);if(r!==undefined){i.getUser().addThemeRootForTheme({id:e,root:r})}}};this.updateUserPreferences=function(){const r=t.updateUserPreferences(i.getUser());r.fail(t=>{e.error("updateAttributes failed:",t)});return r};this.getLanguageList=function(){if(r.languageList){return r.languageList}const i=t.getLanguageList();r.languageList=i;i.fail(()=>{e.error("getLanguageList failed")});return i};this.getUserSettingList=function(){if(r.userSettingList){return r.userSettingList}const i=t.getUserProfilePropertyValueLists();r.userSettingList=i;i.fail(()=>{e.error("getUserProfilePropertyValueLists failed")});return i};this.getUserSettingListEditSupported=function(){if(typeof t.getUserProfilePropertyValueLists!=="undefined"){return true}return false}}s.hasNoAdapter=false;return s},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_AppState/AppStatePersistencyMethod", ["sap/base/Log"],t=>{"use strict";function e(){this.PersonalState="PersonalState";this.ACLProtectedState="ACLProtectedState";this.PublicState="PublicState";this.AuthorizationProtectedState="AuthorizationProtectedState"}t.error("sap/ushell/services/_AppState/AppStatePersistencyMethod is deprecated and will be removed in an upcoming release!");return new e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_CrossApplicationNavigation/utils", ["sap/base/util/isPlainObject","sap/base/util/ObjectPath","sap/base/Log","sap/ushell/utils/UrlParsing"],(t,e,r,a)=>{"use strict";const n={};n.extractGetLinksParameterOptions=function(t){return n.parseGetLinksParameters(t).filter(t=>Object.keys(t.options).length>0).map(t=>({name:t.name,options:t.options}))};n.extractGetLinksParameterDefinition=function(t){return n.parseGetLinksParameters(t).reduce((t,e)=>{t[e.name]=e.value;return t},{})};n.parseGetLinksParameters=function(t){if(Object.prototype.toString.apply(t)!=="[object Object]"){return[]}const e=JSON.parse(JSON.stringify(t));return Object.keys(e).map(t=>{let r=e[t];let a={};if(Object.prototype.toString.apply(r)==="[object Object]"){r=r.value;delete e[t].value;a=e[t]}return{name:t,value:r,options:a}})};n.safeParseToObject=function(t){try{return JSON.parse(t)}catch(t){r.error("Cannot parse the given string to object",t)}return null};n.createAppStateFromData=function(t){r.error("Deprecated API call of '_CrossApplicationNavigation.utils.createAppStateFromData'. Please use 'createAppStateFromDataAsync' instead",null,"sap.ushell.services._CrossApplicationNavigation.utils");const e=sap.ushell.Container.getService("AppState");const a=e.createEmptyAppState(null);a.setData(t);a.save();return a.getKey()};n.createAppStateFromDataAsync=function(t){return sap.ushell.Container.getServiceAsync("AppState").then(e=>{const r=e.createEmptyAppState(null);r.setData(t);r.save();return r.getKey()})};n.extractParameter=function(s,c){let i;let o=null;if(typeof s==="string"){if(s.indexOf(`${c}=`)===-1){return{intent:s,data:null}}const t=a.parseShellHash(s);if(!t){return{intent:s,data:null}}o=t.params[c];delete t.params[c];i=a.constructShellHash(t);return{intent:i,data:o}}if(t(s)){const t=e.get("target.shellHash",s);if(typeof t==="string"){const e=n.extractParameter(t,c);s.target.shellHash=e.intent;return{intent:s,data:e.data}}const r=s.params;if(r&&r[c]){const t=r[c];o=typeof t==="string"?[t]:t;delete r[c]}return{intent:s,data:o}}r.error("Invalid input parameter","expected string or object");return{intent:s}};n.addXAppStateFromParameter=function(t,e){const r=n.extractParameter(t,e);const a=r.intent;const s=r.data&&r.data[0];if(!s){return}const c=n.safeParseToObject(s);if(!c){return}const i=n.createAppStateFromData(c);n.injectParameter(a,"sap-xapp-state",i)};n.addXAppStateFromParameterAsync=function(t,e){const r=n.extractParameter(t,e);const a=r.intent;const s=r.data&&r.data[0];if(!s){return Promise.resolve()}const c=n.safeParseToObject(s);if(!c){return Promise.resolve()}return n.createAppStateFromDataAsync(c).then(t=>{n.injectParameter(a,"sap-xapp-state",t)})};n.injectParameter=function(t,r,s){if(typeof t==="string"){const e=a.parseShellHash(t);e.params[r]=s;return a.constructShellHash(e)}if(Object.prototype.toString.apply(t)==="[object Object]"){const a=e.get("target.shellHash",t);if(typeof a==="string"){t.target.shellHash=n.injectParameter(a,r,s);return t}if(!t.params){t.params={}}t.params[r]=s}return t};n._injectParameters=function(t){const e=t.inject;const r=t.injectEmptyString||{};const a=t.type;const s=t.args;function c(t,e){return t||t===""&&e}if(a.isPlainObject(s)){if(s.target&&s.target.shellHash){if(typeof s.target.shellHash==="string"){s.target.shellHash=n._injectParameters({inject:e,injectEmptyString:r,type:t.type,args:s.target.shellHash})}return s}const a=Object.keys(e).reduce((t,a)=>{const n=e[a];const s=r[a]===true;if(c(n,s)&&typeof t==="string"){const e=new RegExp(`[&]${a}`);const r=!e.test(t);if(r){const e=t?"&":"";t+=`${e+a}=${n}`}}else if(c(n,s)&&!t.hasOwnProperty(a)){t[a]=n}return t},s.params||{});if(a&&Object.keys(a).length>0){s.params=a}return s}let i=s;if(i){Object.keys(e).forEach(t=>{const a=e[t];const n=r[t]===true;const s=new RegExp(`[?&]${t}`);const o=!s.test(i);if(c(a,n)&&o){const e=i.indexOf("?")>-1?"&":"?";i+=`${e+t}=${a}`}})}return i};n.injectStickyParameters=function(t){r.error("Deprecated API call of '_CrossApplicationNavigation.utils.injectStickyParameters'. Please use 'injectStickyParametersAsync' instead",null,"sap.ushell.services._CrossApplicationNavigation.utils");const e=sap.ushell.Container.getService("AppLifeCycle");return n._injectStickyParameters(t,e)};n.injectStickyParametersAsync=function(t){return sap.ushell.Container.getServiceAsync("AppLifeCycle").then(e=>n._injectStickyParameters(t,e))};n._injectStickyParameters=function(t,e){if(!e||Object.keys(e).length<=0){return t.args}const r=e.getCurrentApplication();if(!r||Object.keys(r).length<=0){return t.args}const a=t.appLifeCycle;const s=t.technicalParameters;const c=s.getParameters({sticky:true}).reduce((t,e)=>{const n=e.name;const c=r.componentInstance;const i=r.applicationType;let o;if(i==="UI5"){o={}}else{o=a.getCurrentApplication().container}const p=s.getParameterValueSync(n,c,o,i);const l=e.stickyName||n;t[l]=p;return t},{});const i={type:t.type,inject:c,args:t.args};return n._injectParameters(i)};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/ContextContainer", ["sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/constants.private","sap/ui/core/format/DateFormat","sap/ui/core/UIComponent","sap/ui/thirdparty/jquery","sap/base/Log"],(e,t,n,i,o,jQuery,r)=>{"use strict";function a(){this._init.apply(this,arguments)}a.prototype._init=function(n,i,r,a,s){this._oService=n;this._sContainerKey=r;this._oAdapterContainer={};this._oScope=a||t.adjustScope(a);this._aLoadedKeys=[];this._oUnmodifiableContainer=undefined;let p;if(!(s instanceof o)&&s!==undefined){throw new Error("oComponent passed must be a UI5 Component or must be undefined")}if(s&&s.getMetadata&&s.getMetadata().getComponentName){p=s.getMetadata().getComponentName()}this.clear();if(!this._sContainerKey||typeof this._sContainerKey!=="string"){throw new e.Error("Invalid container key: sap.ushell.services.Personalization"," ")}this._oAdapterContainer=i.getAdapterContainer(this._sContainerKey,this._oScope,p);return this};a.prototype.getValidity=function(){return this._oScope.validity};a.prototype._getValidity=function(){return this._oScope.validity};a.prototype.clear=function(){this._oItemMap={};this._aLoadedItemKeys=[];this._clear=true;this._oItemMap=new e.Map};a.prototype.load=function(){let t={};const n=this;t=new jQuery.Deferred;if(!this._sContainerKey){throw new e.Error("Invalid container key: sap.ushell.services.Personalization"," ")}this.clear();const i=this._oService._pendingContainerOperations_flushAddNext(this._sContainerKey,t);i.always(()=>{n._oAdapterContainer.load().fail(e=>{t.reject(e)}).done(()=>{n._copyFromAdapter();if(n._isExpired()){n.clear()}t.resolve()})});return t.promise()};a.prototype._copyFromAdapter=function(){const e=this;const t=e._oAdapterContainer.getItemKeys().splice(0);t.forEach(t=>{e._oItemMap.put(t,JSON.stringify(e._oAdapterContainer.getItemValue(t)))});this._aLoadedItemKeys=e._oItemMap.keys().splice(0)};a.prototype._isExpired=function(){if(this._getValidity()===Infinity||this._getValidity()===0){return false}const e=this._getItemValueInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_EXPIRE);const t=i.getDateInstance({pattern:n.S_ABAPTIMESTAMPFORMAT});const o=t.format(this._getNow(),true);return e&&o>e};a.prototype._getNow=function(){return new Date};a.prototype._copyToAdapterUpdatingValidity=function(){let e=[];let o=[];const r=this;let a;let s;let p;let _;if(this._clear){e=this._oAdapterContainer.getItemKeys().splice(0);e.forEach(e=>{r._oAdapterContainer.delItem(e)});this._clear=false}if(this._getValidity()===Infinity||this._getValidity()===0){this._delItemInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_SCOPE);this._delItemInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_EXPIRE);this._delItemInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_STORAGE)}else{s=i.getDateInstance({pattern:n.S_ABAPTIMESTAMPFORMAT});a=this._getNow();_=s.format(a,true);p=s.format(new Date(a.getTime()+this._getValidity()*6e4),true);this._setItemValueInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_SCOPE,this._oScope);this._setItemValueInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_EXPIRE,p);this._setItemValueInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_STORAGE,_)}e=this._oItemMap.keys();e.forEach(e=>{r._oAdapterContainer.setItemValue(e,t.cloneToObject(r._oItemMap.get(e)))});o=this._aLoadedItemKeys.filter(t=>!(e.indexOf(t)>-1));o.forEach(e=>{r._oAdapterContainer.delItem(e)})};a.prototype.save=function(){const e=this;this._copyToAdapterUpdatingValidity();const t=new jQuery.Deferred;const n=this._oService._pendingContainerOperations_cancelAddNext(this._sContainerKey,t);n.always(()=>{try{e._oAdapterContainer.save().fail(e=>{t.reject(e)}).done(()=>{t.resolve()})}catch(e){t.reject(e)}});return t.promise()};a.prototype.saveDeferred=function(e){const t=this;this._copyToAdapterUpdatingValidity();const n=new jQuery.Deferred;const i=this._oService._pendingContainerOperations_cancelAddNext(this._sContainerKey,n);function o(){i.always(()=>{try{t._oAdapterContainer.save().fail(e=>{n.reject(e)}).done(()=>{n.resolve()})}catch(e){n.reject(e)}})}n._sapFnSave=o;n._sapTimeoutId=setTimeout(o,e);return n.promise()};a.prototype.flush=function(){this._copyToAdapterUpdatingValidity();const e=new jQuery.Deferred;const t=this._oService._pendingContainerOperations_flushAddNext(this._sContainerKey,e);t.fail(t=>{e.reject(t)}).done(()=>{e.resolve()});return e.promise()};a.prototype.getItemKeys=function(){const e=this._oItemMap.keys().filter(e=>e.indexOf(n.S_ITEM_PREFIX)===0);return e.map(e=>e.replace(n.S_ITEM_PREFIX,"",""))};a.prototype._getInternalKeys=function(){return this._oItemMap.keys().splice(0)};a.prototype.getItemValue=function(e){return this._getItemValueInternal(n.S_ITEM_PREFIX,e)};a.prototype._getItemValueInternal=function(e,n){if(typeof n!=="string"||typeof e!=="string"){return undefined}return t.cloneToObject(this._oItemMap.get(e+n))};a.prototype.containsItem=function(e){if(typeof e!=="string"){return undefined}return this._oItemMap.containsKey(n.S_ITEM_PREFIX+e)};a.prototype.setItemValue=function(e,t){this._setItemValueInternal(n.S_ITEM_PREFIX,e,t)};a.prototype._setItemValueInternal=function(t,n,i){if(typeof n!=="string"||typeof t!=="string"){throw new e.Error("Parameter value of sItemKey or sItemValue is not a string: sap.ushell.services.Personalization"," ")}if(n.length>40){r.error(`Personalization Service item key/variant set name ("${n}") should be less than 40 characters [current :${n.length}]`)}this._oItemMap.put(t+n,JSON.stringify(i))};a.prototype.delItem=function(e){this._delItemInternal(n.S_ITEM_PREFIX,e)};a.prototype._delItemInternal=function(e,t){if(typeof t!=="string"){return undefined}if(typeof e!=="string"){return undefined}this._oItemMap.remove(e+t)};a.prototype.getKey=function(){return this._sContainerKey.substring(n.S_CONTAINER_PREFIX.length)};a.prototype.getUnmodifiableContainer=function(){const t=this;if(!this._oUnmodifiableContainer){this._oUnmodifiableContainer=function(){const n={};["clear","delItem","flush","load","save","saveDeferred","setItemValue"].forEach(t=>{n[t]=function(t){throw new e.Error(`Function ${t} can't be called on unmodifiable container`,"ContextContainer"," ")}.bind(undefined,t)});["containsItem","getItemKeys","getItemValue","getUnmodifiableContainer"].forEach(e=>{if(t[e]){n[e]=t[e].bind(t)}});return n}()}return this._oUnmodifiableContainer};return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/PersonalizationContainer", ["sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/constants.private","sap/ushell/services/_Personalization/PersonalizationContainerVariantSet","sap/ui/thirdparty/jquery"],(e,t,a,n,jQuery)=>{"use strict";function i(t,a){this._sContainerKey=a;this._oAdapterContainer={};this._aLoadedVariantSetKeys=[];this._aLoadedItemKeys=[];let n={};const i=this;this._init();n=new jQuery.Deferred;if(!this._sContainerKey||typeof this._sContainerKey!=="string"){throw new e.Error("Invalid container key: sap.ushell.services.Personalization"," ")}this._oAdapterContainer=t.getAdapterContainer(this._sContainerKey);this.load().fail(e=>{n.reject(e)}).done(()=>{n.resolve(i)});return n.promise()}i.prototype._init=function(){this._oVariantSetMap={};this._oItemMap={};this._aLoadedVariantSetKeys=[];this._aLoadedItemKeys=[];this._oVariantSetMap=new e.Map;this._oItemMap=new e.Map};i.prototype.load=function(){let i={};let r=[];let o=[];let s=[];let p=[];const l=this;function _(e){let n=[];let i=[];n=e.filter(e=>e.indexOf(a.S_ITEM_PREFIX)!==0);if(n.length===0){return e}i=e.filter(e=>e.indexOf(a.S_ITEM_PREFIX)===0);n.forEach(e=>{let n={};let r="";r=a.S_ITEM_PREFIX+e;n=t.clone(l._oAdapterContainer.getItemValue(e));l._oAdapterContainer.setItemValue(r,n);l._oAdapterContainer.delItem(e);if(i&&Array.prototype.indexOf.call(i,r)===-1){i.push(r)}});return i}i=new jQuery.Deferred;if(!this._sContainerKey){throw new e.Error("Invalid container key: sap.ushell.services.Personalization"," ")}this._init();this._oAdapterContainer.load().fail(e=>{i.reject(e)}).done(()=>{r=l._oAdapterContainer.getItemKeys().splice(0);o=r.filter(e=>e.indexOf(a.S_VARIANT_PREFIX)===0);o.forEach(e=>{let t={};t=new n(e,l._oAdapterContainer);l._oVariantSetMap.put(e,t)});s=r.filter(e=>e.indexOf(a.S_VARIANT_PREFIX)!==0);p=_(s);p.forEach(e=>{l._oItemMap.put(e,t.clone(l._oAdapterContainer.getItemValue(e)))});l._aLoadedVariantSetKeys=l._oVariantSetMap.keys().splice(0);l._aLoadedItemKeys=l._oItemMap.keys().splice(0);i.resolve()});return i.promise()};i.prototype.save=function(){let e;this._serializeVariantSets();this._serializeItems();const t=new jQuery.Deferred;function a(){t.resolve()}function n(e){t.reject(e)}try{e=this._oAdapterContainer.save();e.fail(n);e.done(a)}catch(e){t.reject(e)}return t.promise()};i.prototype.getItemKeys=function(){return this._oItemMap.keys().map(e=>e.replace(a.S_ITEM_PREFIX,"",""))};i.prototype.getItemValue=function(e){if(typeof e!=="string"){return undefined}return this._oItemMap.get(a.S_ITEM_PREFIX+e)};i.prototype.containsItem=function(e){if(typeof e!=="string"){return undefined}return this._oItemMap.containsKey(a.S_ITEM_PREFIX+e)};i.prototype.setItemValue=function(t,n){if(typeof t!=="string"){throw new e.Error("Parameter value of sItemKey is not a string: sap.ushell.services.Personalization"," ")}this._oItemMap.put(a.S_ITEM_PREFIX+t,n)};i.prototype.delItem=function(e){if(typeof e!=="string"){return}if(this.containsItem(e)){this._oItemMap.remove(a.S_ITEM_PREFIX+e)}};i.prototype._serializeItems=function(){let e=[];let a=[];const n=this;e=this._oItemMap.keys();e.forEach(e=>{n._oAdapterContainer.setItemValue(e,t.clone(n._oItemMap.get(e)))});a=this._aLoadedItemKeys.filter(t=>!(e.indexOf(t)>-1));a.forEach(e=>{n._oAdapterContainer.delItem(e)})};i.prototype.getVariantSetKeys=function(){let e=[];let t=[];t=this._oVariantSetMap.keys();e=t.map(e=>e.replace(a.S_VARIANT_PREFIX,"",""));return e};i.prototype.containsVariantSet=function(e){return this._oVariantSetMap.containsKey(a.S_VARIANT_PREFIX+e)};i.prototype.getVariantSet=function(e){let t={};const n=a.S_VARIANT_PREFIX+e;t=this._oVariantSetMap.get(n);return t};i.prototype.addVariantSet=function(t){let i={};let r={};let o="";if(this.containsVariantSet(t)){throw new e.Error(`Container already contains a variant set with key '${t}': sap.ushell.services.Personalization`," ")}o=a.S_VARIANT_PREFIX+t;i={currentVariant:null,variants:{}};this._oAdapterContainer.setItemValue(o,i);r=new n(o,this._oAdapterContainer);this._oVariantSetMap.put(o,r);return r};i.prototype._serializeVariantSets=function(){let e=[];let a=[];const n=this;e=this._oVariantSetMap.keys();e.forEach(e=>{let a={};let i={};a=n._oVariantSetMap.get(e);i=a._serialize();n._oAdapterContainer.setItemValue(e,t.clone(i))});a=this._aLoadedVariantSetKeys.filter(t=>!(e.indexOf(t)>-1));a.forEach(e=>{n._oAdapterContainer.delItem(e)})};i.prototype.delVariantSet=function(e){let t="";t=a.S_VARIANT_PREFIX+e;this._oVariantSetMap.remove(t);return this._oAdapterContainer.delItem(t)};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/PersonalizationContainerVariant", ["sap/ushell/utils"],t=>{"use strict";function e(e,r,n){if(typeof e!=="string"){throw new t.Error("Parameter value of sVariantKey is not a string: sap.ushell.services.Personalization"," ")}if(typeof r!=="string"){throw new t.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ")}if(n&&typeof n!=="object"){throw new t.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ")}this._oVariantKey=e;this._oVariantName=r;this._oItemMap=new t.Map;this._oItemMap.entries=n||{}}e.prototype.getVariantKey=function(){return this._oVariantKey};e.prototype.getVariantName=function(){return this._oVariantName};e.prototype.getItemValue=function(t){if(typeof t!=="string"){return undefined}return this._oItemMap.get(t)};e.prototype.setItemValue=function(e,r){if(typeof e!=="string"){throw new t.Error("Parameter value of sItemKey is not a string: sap.ushell.services.Personalization"," ")}return this._oItemMap.put(e,r)};e.prototype.containsItem=function(t){if(typeof t!=="string"){return undefined}return this._oItemMap.containsKey(t)};e.prototype.getItemKeys=function(){return this._oItemMap.keys()};e.prototype.delItem=function(t){if(typeof t!=="string"){return undefined}return this._oItemMap.remove(t)};e.prototype._serialize=function(){let t=[];const e={};const r={};const n=this;e.name=this.getVariantName();t=this._oItemMap.keys();t.forEach(t=>{r[t]=n.getItemValue(t)});e.variantData=r;return e};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/PersonalizationContainerVariantSet", ["sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/PersonalizationContainerVariant"],(t,a,e)=>{"use strict";function r(r,n){let i;let s;let o;let p;this._sVariantSetKey=r;this._oAdapterContainer=n;this._oVariantNameMap=new t.Map;this._oVariantMap=new t.Map;const u=a.clone(this._oAdapterContainer.getItemValue(r));if(u.hasOwnProperty("currentVariant")){this._sCurrentVariantKey=u.currentVariant}else{throw new t.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ")}if(u.hasOwnProperty("variants")){for(i in u.variants){if(u.variants.hasOwnProperty(i)){s=u.variants[i].name;o=u.variants[i].variantData;if(this._oVariantNameMap.containsKey(s)){throw new t.Error("Variant name already exists: sap.ushell.services.Personalization"," ")}else{this._oVariantNameMap.put(s,i);p=new e(i,s,o);this._oVariantMap.put(i,p)}}}}else{throw new t.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ")}return this}r.prototype.getCurrentVariantKey=function(){return this._sCurrentVariantKey};r.prototype.setCurrentVariantKey=function(t){this._sCurrentVariantKey=t};r.prototype.getVariantKeys=function(){return this._oVariantMap.keys()};r.prototype.getVariantNamesAndKeys=function(){return JSON.parse(JSON.stringify(this._oVariantNameMap.entries))};r.prototype.getVariant=function(t){if(typeof t!=="string"){return undefined}return this._oVariantMap.get(t)};r.prototype.getVariantKeyByName=function(t){if(typeof t!=="string"){return undefined}return this._oVariantNameMap.get(t)};r.prototype.containsVariant=function(t){if(typeof t!=="string"){return undefined}return this._oVariantMap.containsKey(t)};r.prototype.addVariant=function(a){let r=0;let n="";let i={};r=parseInt(this._oVariantMap.keys().sort((t,a)=>t-a).reverse()[0],10);n=isNaN(r)?"0":(r+1).toString();if(this._oVariantMap.containsKey(n)){throw new t.Error(`Variant key '${n}' already exists in variant set${this._sVariantSetKey}': sap.ushell.services.Personalization`," ")}if(typeof a!=="string"){throw new t.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ")}if(this._oVariantNameMap.containsKey(a)){throw new t.Error(`Variant name '${a}' already exists in variant set '${this._sVariantSetKey}' (Old key: '${this._oVariantNameMap.get(a)}' New key: '${n}') ': sap.ushell.services.Personalization`," ")}i=new e(n,a);this._oVariantMap.put(n,i);this._oVariantNameMap.put(a,n);return i};r.prototype._serialize=function(){let t=[];const a={};const e={};const r=this;a.currentVariant=this._sCurrentVariantKey;t=this.getVariantKeys();t.forEach(t=>{let a={};a=r._oVariantMap.get(t);e[t]=a._serialize()});a.variants=e;return a};r.prototype.delVariant=function(t){const a=this._oVariantMap.get(t);if(a){this._oVariantNameMap.remove(a.getVariantName());this._oVariantMap.remove(t)}};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/Personalizer", ["sap/ushell/utils","sap/ui/thirdparty/jquery","sap/base/Log"],(e,jQuery,t)=>{"use strict";function r(t,r,i,s,o){this._sPersContainer="";this._sPersItem="";this._sPersVariant=null;this._oAdapter=r;this._oService=t;this._oScope=s;this._oComponent=o;if(!i||!i.container||!i.item||typeof i.container!=="string"||typeof i.item!=="string"){throw new e.Error("Invalid input for oPersId: sap.ushell.services.Personalization"," ")}this._sPersContainer=i.container;this._sPersItem=i.item}r.prototype._getContainer=function(e){if(!this._oGetContainerPromise){this._oGetContainerPromise=this._oService.getContainer(e,this._oScope,this._oComponent)}return this._oGetContainerPromise};r.prototype.getPersData=function(){let e={};const r=this;e=new jQuery.Deferred;this._getContainer(this._sPersContainer).fail(t=>{e.reject(t)}).done(t=>{e.resolve(t.getItemValue(r._sPersItem))});e.fail(()=>{t.error(`Failed to get personalization data for Personalizer container: ${r._sPersContainer}`)});return e.promise()};r.prototype.setPersData=function(e){let r={};const i=this;r=new jQuery.Deferred;this._getContainer(this._sPersContainer).fail(e=>{r.reject(e)}).done(t=>{t.setItemValue(i._sPersItem,e);t.save().fail(e=>{r.reject(e)}).done(()=>{r.resolve()})});r.fail(e=>{t.error(`Fail to set Personalization data for Personalizer container: ${i._sPersContainer}`,e)});return r.promise()};r.prototype.delPersData=function(){let e={};const r=this;e=new jQuery.Deferred;this._getContainer(this._sPersContainer).fail(t=>{e.reject(t)}).done(t=>{t.delItem(r._sPersItem);t.save().fail(t=>{e.reject(t)}).done(()=>{e.resolve()})});const i=e.promise();i.fail(e=>{t.error(`Fail to delete Personalization data for Personalizer container: ${this._sPersContainer}`,e)});return i};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/TransientPersonalizer", ["sap/ui/thirdparty/jquery"],jQuery=>{"use strict";function e(){this._oValue=undefined}e.prototype.getPersData=function(){const e=new jQuery.Deferred;e.resolve(this._oValue);return e.promise()};e.prototype.setPersData=function(e){const t=new jQuery.Deferred;this._oValue=e;t.resolve();return t.promise()};e.prototype.delPersData=function(){const e=new jQuery.Deferred;this._oValue=undefined;e.resolve();return e.promise()};e.prototype.setValue=function(e){this._oValue=e};e.prototype.getValue=function(){return this._oValue};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/Variant", ["sap/ushell/utils","sap/ushell/services/_Personalization/utils"],(t,a)=>{"use strict";function e(a,e,r){if(typeof e!=="string"){throw new t.Error("Parameter value of sVariantKey is not a string: sap.ushell.services.Personalization"," ")}if(typeof r!=="string"){throw new t.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ")}this._oVariantSet=a;this._sVariantKey=e;this._sVariantName=r}e.prototype.getVariantKey=function(){return this._sVariantKey};e.prototype.getVariantName=function(){return this._sVariantName};e.prototype.setVariantName=function(a){const e=this._oVariantSet._getVariantSet();let r;if(typeof a!=="string"){throw new t.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ")}if(this._oVariantSet.getVariantKeyByName(a)!==undefined){throw new t.Error(`Variant with name '${a}' already exists in variant set '${this._oVariantSet._sVariantSetKey}': sap.ushell.services.Personalization`," ")}if(Object.prototype.hasOwnProperty.call(e,"variants")&&Object.prototype.hasOwnProperty.call(e.variants,this._sVariantKey)){r=e.variants[this._sVariantKey];r.name=a;this._sVariantName=a;this._oVariantSet._serialize()}else{throw new t.Error("Variant does not longer exist"," ")}};e.prototype.getItemValue=function(t){if(typeof t!=="string"){return undefined}const e=this._oVariantSet._getVariantSet().variants[this._sVariantKey].variantData;if(!Object.prototype.hasOwnProperty.call(e,t)){return undefined}return a.clone(e[t])};e.prototype.setItemValue=function(e,r){if(typeof e!=="string"){throw new t.Error("Parameter value of sItemKey is not a string: sap.ushell.services.Personalization"," ")}const i=this._oVariantSet._getVariantSet().variants&&this._oVariantSet._getVariantSet().variants[this._sVariantKey];if(!i){throw new t.Error("Variant does not longer exist"," ")}if(!i.variantData){i.variantData={}}const n=i.variantData;n[e]=a.clone(r);this._oVariantSet._serialize()};e.prototype.containsItem=function(t){if(typeof t!=="string"){return undefined}const a=this._oVariantSet._getVariantSet().variants[this._sVariantKey].variantData;return Object.prototype.hasOwnProperty.call(a,t)};e.prototype.getItemKeys=function(){const t=this._oVariantSet._getVariantSet().variants[this._sVariantKey].variantData;let a;const e=[];for(a in t){if(Object.prototype.hasOwnProperty.call(t,a)){e.push(a)}}e.sort();return e};e.prototype.delItem=function(t){if(typeof t!=="string"){return}const a=this._oVariantSet._getVariantSet().variants[this._sVariantKey].variantData;delete a[t];this._oVariantSet._serialize()};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/VariantSet", ["sap/ushell/utils","sap/ushell/services/_Personalization/constants.private","sap/ushell/services/_Personalization/Variant"],(t,e,a)=>{"use strict";function r(a,r){let n;let i;let s;const o=new t.Map;this._oContextContainer=r;this._sVariantSetKey=a;this._oVariantSetData=this._oContextContainer._getItemValueInternal(e.S_VARIANT_PREFIX,this._sVariantSetKey);if(!Object.prototype.hasOwnProperty.call(this._oVariantSetData,"currentVariant")){throw new t.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ")}if(Object.prototype.hasOwnProperty.call(this._oVariantSetData,"variants")){for(n in this._oVariantSetData.variants){if(Object.prototype.hasOwnProperty.call(this._oVariantSetData.variants,n)){i=this._oVariantSetData.variants[n].name;s=this._oVariantSetData.variants[n].variantData;if(o.containsKey(i)){throw new t.Error("Variant name already exists: sap.ushell.services.Personalization"," ")}else{if(typeof n!=="string"){throw new t.Error("Parameter value of sVariantKey is not a string: sap.ushell.services.Personalization"," ")}if(typeof i!=="string"){throw new t.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ")}if(s&&typeof s!=="object"){throw new t.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ")}o.put(i,n)}}}}else{throw new t.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ")}return this}r.prototype._getVariantSet=function(){return this._oVariantSetData};r.prototype._serialize=function(){this._oContextContainer._setItemValueInternal(e.S_VARIANT_PREFIX,this._sVariantSetKey,this._oVariantSetData)};r.prototype.getCurrentVariantKey=function(){return this._getVariantSet().currentVariant};r.prototype.setCurrentVariantKey=function(t){this._getVariantSet().currentVariant=t;this._serialize()};r.prototype.getVariantKeys=function(){const e=new t.Map;const a=this._getVariantSet(this._sVariantSetKey);let r;if(Object.prototype.hasOwnProperty.call(a,"variants")){for(r in a.variants){if(Object.prototype.hasOwnProperty.call(a.variants,r)){e.put(r,"dummy")}}}else{throw new t.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ")}return e.keys()};r.prototype.getVariantNamesAndKeys=function(){const e=new t.Map;const a=new t.Map;const r=this._getVariantSet(this._sVariantSetKey);let n;let i;if(Object.prototype.hasOwnProperty.call(r,"variants")){for(n in r.variants){if(Object.prototype.hasOwnProperty.call(r.variants,n)){i=r.variants[n].name;if(e.containsKey(i)){throw new t.Error("Variant name already exists: sap.ushell.services.Personalization"," ")}else{e.put(i,n)}a.put(n,"dummy")}}}else{throw new t.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ")}return e.entries};r.prototype.getVariant=function(t){if(typeof t!=="string"){return undefined}const e=this._getVariantSet(this._sVariantSetKey);let r;let n;let i;if(Object.prototype.hasOwnProperty.call(e,"variants")&&Object.prototype.hasOwnProperty.call(e.variants,t)){r=e.variants[t].name;i=e.variants[t].variantData;n=new a(this,t,r,i);return n}return undefined};r.prototype.getVariantKeyByName=function(e){if(typeof e!=="string"){return undefined}const a=this._getVariantSet(this._sVariantSetKey);let r;if(Object.prototype.hasOwnProperty.call(a,"variants")){for(r in a.variants){if(Object.prototype.hasOwnProperty.call(a.variants,r)){if(e===a.variants[r].name){return r}}}}else{throw new t.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ")}return undefined};r.prototype.containsVariant=function(t){const e=this._getVariantSet();if(typeof t!=="string"){return undefined}return Object.prototype.hasOwnProperty.call(e,"variants")&&Object.prototype.hasOwnProperty.call(e.variants,t)};r.prototype.addVariant=function(e){let r=[];let n=0;let i="";let s={};r=this.getVariantKeys();n=parseInt(r.sort((t,e)=>t-e).reverse()[0],10);i=isNaN(n)?"0":(n+1).toString();if(r.indexOf(i)>=0){throw new t.Error(`Variant key '${i}' already exists in variant set${this._sVariantSetKey}': sap.ushell.services.Personalization`," ")}if(typeof e!=="string"){throw new t.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ")}if(this.getVariantKeyByName(e)!==undefined){throw new t.Error(`Variant name '${e}' already exists in variant set '${this._sVariantSetKey}' (Old key: '${this.getVariantKeyByName(e)}' New key: '${i}') ': sap.ushell.services.Personalization`," ")}s=new a(this,i,e);this._getVariantSet(this._sVariantSetKey).variants[i]={name:e,variantData:{}};this._serialize();return s};r.prototype.delVariant=function(t){if(typeof t!=="string"){return}const e=this._getVariantSet();if(e&&e.variants){delete this._oVariantSetData.variants[t]}this._serialize()};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/VariantSetAdapter", ["sap/ushell/services/personalization/VariantSetAdapter","sap/base/Log"],(e,a)=>{"use strict";a.error("sap.ushell.services.Personalization.VariantSetAdapter has been deprecated. Please use sap.ushell.services.personalization.VariantSetAdapter instead");return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/WindowAdapter", ["sap/ushell/services/PersonalizationV2/WindowAdapter"],e=>{"use strict";return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/WindowAdapterContainer", ["sap/ushell/services/PersonalizationV2/WindowAdapterContainer"],e=>{"use strict";return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/constants", [],()=>{"use strict";return{keyCategory:{FIXED_KEY:"FIXED_KEY",GENERATED_KEY:"GENERATED_KEY"},writeFrequency:{HIGH:"HIGH",LOW:"LOW"}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/constants.private", [],()=>{"use strict";return{S_CONTAINER_PREFIX:"sap.ushell.personalization#",S_ITEM_PREFIX:"ITEM#",S_VARIANT_PREFIX:"VARIANTSET#",S_ABAPTIMESTAMPFORMAT:"yyyyMMddHHmmss",S_ADMIN_PREFIX:"ADMIN#",S_ITEMKEY_SCOPE:"sap-ushell-container-scope",S_ITEMKEY_STORAGE:"sap-ushell-container-storageUTCTimestamp",S_ITEMKEY_EXPIRE:"sap-ushell-container-expireUTCTimestamp"}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/utils", ["sap/ushell/services/_Personalization/constants","sap/ushell/services/_Personalization/constants.private","sap/ui/thirdparty/jquery","sap/base/Log"],(e,t,jQuery,n)=>{"use strict";function r(e,t){let n;for(n in t){if(typeof t[n]!=="function"){if(t.hasOwnProperty(n)){if(n===e){return true}}}}return false}function i(e){if(e.length>40){n.error(`Personalization Service container key ("${e}") should be less than 40 characters [current :${e.length}]`)}return t.S_CONTAINER_PREFIX+e}function a(e,t,n){if(e&&e.validity===0){return t}return n}function l(t){const n={validity:Infinity,keyCategory:e.keyCategory.GENERATED_KEY,writeFrequency:e.writeFrequency.HIGH,clientStorageAllowed:false};if(t){n.validity=t.validity;if(n.validity===null||n.validity===undefined||typeof n.validity!=="number"){n.validity=Infinity}if(!(typeof n.validity==="number"&&(n.validity>=0&&n.validity<1e3||n.validity===Infinity))){n.liftime=Infinity}n.keyCategory=r(t.keyCategory,e.keyCategory)?t.keyCategory:n.keyCategory;n.writeFrequency=r(t.writeFrequency,e.writeFrequency)?t.writeFrequency:n.writeFrequency;if(typeof t.clientStorageAllowed==="boolean"&&(t.clientStorageAllowed===true||t.clientStorageAllowed===false)){n.clientStorageAllowed=t.clientStorageAllowed}}return n}function o(e){if(!e.lazy){return jQuery.when(e.instance)}try{return e.create.call(null)}catch(e){return(new jQuery.Deferred).reject(e).promise()}}function u(e){if(!e){return false}const t=e.getManifestObject();if(!t){return false}const n=t.getEntry("/sap.ui5/appVariantId");if(!n){return false}const r=t.getComponentName();if(n===r){return false}return true}function f(e){if(e===undefined){return undefined}try{return JSON.parse(e)}catch(e){return undefined}}function c(e){if(e===undefined){return undefined}try{return JSON.parse(JSON.stringify(e))}catch(e){return undefined}}return{adjustScope:l,cloneToObject:f,clone:c,addContainerPrefix:i,pickAdapter:a,isAppVariant:u,loadAdapter:o}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/footerbar/AddBookmarkButton", ["sap/base/Log","sap/m/Button","sap/m/ButtonRenderer","sap/m/Dialog","sap/m/library","sap/m/MessageBox","sap/m/Text","sap/m/VBox","sap/ui/core/library","sap/ui/core/mvc/View","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ushell/Config","sap/ushell/library","sap/ushell/resources","sap/ushell/state/StateManager"],(e,t,o,s,i,r,a,n,l,u,p,c,d,h,g,f)=>{"use strict";const y=i.ButtonType;const m=l.ValueState;const b=l.mvc.ViewType;const M=f.LaunchpadState;const S=f.ShellMode;const{Headerless:k,Standalone:B,Embedded:T,Merged:P}=S;const D=t.extend("sap.ushell.ui.footerbar.AddBookmarkButton",{metadata:{library:"sap.ushell",properties:{beforePressHandler:{type:"function",group:"Misc",defaultValue:null},afterPressHandler:{type:"function",group:"Misc",defaultValue:null},title:{type:"string",group:"Misc",defaultValue:null},subtitle:{type:"string",group:"Misc",defaultValue:null},info:{type:"string",group:"Misc",defaultValue:null},tileIcon:{type:"string",group:"Appearance",defaultValue:null},numberUnit:{type:"string",group:"Appearance",defaultValue:null},keywords:{type:"string",group:"Misc",defaultValue:null},customUrl:{type:"any",group:"Misc",defaultValue:null},serviceUrl:{type:"any",group:"Misc",defaultValue:null},dataSource:{type:"any",group:"Misc",defaultValue:null},serviceRefreshInterval:{type:"string",group:"Misc",defaultValue:null},showGroupSelection:{type:"boolean",group:"Misc",defaultValue:true},showPageSelection:{type:"boolean",group:"Misc",defaultValue:true},appData:{type:"object",group:"Misc",defaultValue:null,deprecated:true}}},renderer:o});D.prototype.init=function(){if(t.prototype.init){t.prototype.init.apply(this,arguments)}this.bSpaceEnabled=d.last("/core/spaces/enabled");this.bMyHomeEnabled=d.last("/core/spaces/myHome/enabled");this.setIcon("sap-icon://add-favorite");this.bindProperty("text",{path:"i18n>addToHomePageBtn"});this.setEnabled();this.oModel=new c({showGroupSelection:true,showPageSelection:true,title:"",subtitle:"",numberValue:0,info:"",icon:"",numberUnit:"",keywords:""});this.setModel(g.i18nModel,"i18n");this.attachPress(()=>{const e=this.getBeforePressHandler();if(e){e()}this.showAddBookmarkDialog()})};D.prototype.exit=function(){if(this.oDialog){this.oDialog.destroy()}if(this.oModel){this.oModel.destroy()}if(t.prototype.exit){t.prototype.exit.apply(this,arguments)}};D.prototype.setBookmarkTileView=function(e){this.bookmarkTileView=e};D.prototype.getBookmarkTileView=function(){return this.bookmarkTileView};D.prototype.showAddBookmarkDialog=function(){const e=this.getAppData()||{};const t={serviceUrl:this.getServiceUrl()||e.serviceUrl,customUrl:this.getCustomUrl()||e.customUrl};this.oModel.setProperty("/serviceUrl",!!t.serviceUrl);let o;if(this.bSpaceEnabled){o=u.create({type:b.XML,viewName:"sap.ushell.ui.bookmark.SaveOnPage",viewData:t})}else{o=u.create({viewName:"module:sap/ushell/ui/footerbar/SaveAsTile.view",viewData:t})}return o.then(e=>{this.setBookmarkTileView(e);e.setModel(this.oModel);e.setModel(g.i18nModel,"i18n");return this._openDialog(e)})};D.prototype._openDialog=function(e){this.oDialog=new s({id:"bookmarkDialog",title:"{i18n>addToHomePageBtn}",contentWidth:"25rem",content:e,beginButton:new t("bookmarkOkBtn",{text:"{i18n>saveBtn}",type:y.Emphasized,press:[this._handleOKButtonPress,this]}),endButton:new t("bookmarkCancelBtn",{text:"{i18n>cancelBtn}",press:[this._handleCancelButtonPress,this]}),stretch:p.system.phone,horizontalScrolling:false,afterClose:function(){const e=this.getAfterPressHandler();if(e){e()}this._restoreDialogEditableValuesToDefault();this.oDialog.destroy();delete this.oDialog}.bind(this)}).addStyleClass("sapContrastPlus");this.oDialog.open();this.oDialog.setModel(g.i18nModel,"i18n");return this.oDialog};D.prototype._handleOKButtonPress=function(){if(this.oDialog.getBusy()){return}if(!this.bSpaceEnabled){this._handleOKButtonPressClassicMode();return}this._handleOKButtonPressSpacesMode()};D.prototype._handleCancelButtonPress=function(){if(!this.bSpaceEnabled){this._handleCancelButtonPressClassicMode();return}this._handleCancelButtonPressSpacesMode()};D.prototype.setTitle=function(e){this.setProperty("title",e,true);this.oModel.setProperty("/title",e);return this};D.prototype.setSubtitle=function(e){this.setProperty("subtitle",e,true);this.oModel.setProperty("/subtitle",e);return this};D.prototype.setInfo=function(e){this.setProperty("info",e,true);this.oModel.setProperty("/info",e);return this};D.prototype.setTileIcon=function(e){this.setProperty("tileIcon",e,true);this.oModel.setProperty("/icon",e);return this};D.prototype.setShowGroupSelection=function(e){this.setProperty("showGroupSelection",e,true);this.oModel.setProperty("/showGroupSelection",e);return this};D.prototype.setNumberUnit=function(e){this.setProperty("numberUnit",e,true);this.oModel.setProperty("/numberUnit",e);return this};D.prototype.setServiceRefreshInterval=function(e){this.setProperty("serviceRefreshInterval",e,true);this.oModel.setProperty("/serviceRefreshInterval",e);return this};D.prototype.setDataSource=function(e){this.setProperty("dataSource",e,true);this.oModel.setProperty("/dataSource",e);return this};D.prototype.setKeywords=function(e){this.setProperty("keywords",e,true);this.oModel.setProperty("/keywords",e);return this};D.prototype.setAppData=function(e){this.setProperty("appData",e,true);const t=["showGroupSelection","title","subtitle","info","icon","numberUnit","keywords","serviceRefreshInterval","dataSource"];const o=["showInfo","showPreview"];Object.keys(e).forEach(s=>{if(t.indexOf(s)>-1){const t=s==="icon"?"tileIcon":s;this.setProperty(t,e[s],true)}if(t.indexOf(s)>-1||o.indexOf(s)>-1){this.oModel.setProperty(`/${s}`,e[s])}});return this};D.prototype._restoreDialogEditableValuesToDefault=function(){if(this.oModel){this.oModel.setProperty("/title",this.getTitle());this.oModel.setProperty("/subtitle",this.getSubtitle());this.oModel.setProperty("/info",this.getInfo())}};D.prototype._handleCancelButtonPressSpacesMode=function(){const e=this.getBookmarkTileView().getController();const t=e.getBookmarkTileData();if(t.title||t.subtitle||t.info||t.contentNodes.length){const e=g.i18n.getText("SaveAsTileDialog.MessageBox.Action.Discard");const t=g.i18n.getText("SaveAsTileDialog.MessageBox.Message.Discard");const o=g.i18n.getText("SaveAsTileDialog.MessageBox.Title.Discard");r.show(t,{title:o,actions:[e,r.Action.CANCEL],emphasizedAction:e,onClose:function(t){if(t===e){this.oDialog.close()}}.bind(this)})}else{this.oDialog.close()}};D.prototype._handleOKButtonPressSpacesMode=function(){const t=this.getBookmarkTileView().getController();const o=t.getBookmarkTileData();let s=true;if(o.contentNodes.length===0){const e=t.byId("SelectedNodesComboBox");if(e){e.setValueState(m.Error);e.setValueStateText(g.i18n.getText("bookmarkPageSelectError"));s=false}}if(!o.title||o.title.length<1){const e=t.byId("bookmarkTitleInput");if(e){e.setValueState(m.Error);e.setValueStateText(g.i18n.getText("bookmarkTitleInputError"));s=false}}if(!s){sap.ushell.Container.getServiceAsync("MessageInternal").then(e=>{e.info(g.i18n.getText("SaveAsTileDialog.MessageToast.ValidationFailed"))});return}this.oDialog.setBusy(true);this.oDialog.close();const i=sap.ushell.Container.getServiceAsync("BookmarkV2");const r=o.contentNodes.map(t=>i.then(e=>e.addBookmark(o,t)).then(()=>({pageId:t.id,status:"resolved"})).catch(o=>{e.error("Failed to add one a bookmark: ",o,"sap.ushell.ui.footerbar.AddBookmarkButton");return{pageId:t.id,error:o.message,status:"failed"}}));Promise.all(r).then(e=>{sap.ushell.Container.getServiceAsync("MessageInternal").then(t=>{const s=e.filter(e=>e.status==="resolved").length;const i=e.filter(e=>e.status==="failed");if(s===1){t.info(g.i18n.getText("SaveAsTileDialog.MessageToast.TileCreatedInPage"))}else if(s>1){t.info(g.i18n.getText("SaveAsTileDialog.MessageToast.TileCreatedInPages"))}if(i.length){this._showErrorDialog(i,s,o.title)}})})};D.prototype._showErrorDialog=function(e,t,o){sap.ushell.Container.getServiceAsync("MessageInternal").then(s=>{let i;let r;if(e.length===1){if(t===0){i=g.i18n.getText("SaveAsTileDialog.MessageBox.SinglePageError")}else{i=g.i18n.getText("SaveAsTileDialog.MessageBox.OnePageError")}r=g.i18n.getText("SaveAsTileDialog.MessageBox.PageErrorDetail",[o,e[0].pageId])}else if(e.length>1){if(t===0){i=g.i18n.getText("SaveAsTileDialog.MessageBox.AllPagesError")}else{i=g.i18n.getText("SaveAsTileDialog.MessageBox.SomePagesError")}const s=e.map(e=>e.pageId).join("\n");r=g.i18n.getText("SaveAsTileDialog.MessageBox.PagesErrorDetail",[o,s])}const l=new n({items:[new a({text:r}).addStyleClass("sapUiSmallMarginBottom"),new a({text:e.map(e=>e.error).join("\n")}).addStyleClass("sapUiSmallMarginBottom"),new a({text:g.i18n.getText("SaveAsTileDialog.MessageBox.PageErrorSolution")})]});s.errorWithDetails(i,l)})};D.prototype._handleCancelButtonPressClassicMode=function(){this.oDialog.close()};D.prototype._handleOKButtonPressClassicMode=async function(){const t=this.getBookmarkTileView();const o=t.getController();const s=o.getBookmarkTileData();if(!s.title||s.title.length<1){const e=t.getTitleInput();if(e){e.setValueState(m.Error);e.setValueStateText(g.i18n.getText("bookmarkTitleInputError"));throw new Error("Invalid bookmark title")}}this.oDialog.setBusy(true);this.oDialog.close();const i=s.group?s.group.object:"";delete s.group;return Promise.all([sap.ushell.Container.getServiceAsync("BookmarkV2"),sap.ushell.Container.getServiceAsync("MessageInternal")]).then(t=>{const o=t[0];const r=t[1];return o.addBookmark(s,i).then(()=>{r.info(g.i18n.getText("tile_created_msg"))}).catch(t=>{e.error("Failed to add bookmark",t,"sap.ushell.ui.footerbar.AddBookmarkButton");r.error(g.i18n.getText("fail_to_add_tile_msg"))})})};D.prototype.setEnabled=function(o){let s=true;const i=f.getLaunchpadState();const r=f.getShellMode();if(sap.ushell.Container){const e=d.last("/core/shell/enablePersonalization");if(e!==undefined){s=e}if(!s&&this.bSpaceEnabled&&this.bMyHomeEnabled){s=true}}if(!s||i===M.App&&[k,B,T,P].includes(r)){o=false}if(!sap.ushell.Container){if(this.getEnabled()){e.warning("Disabling 'Save as Tile' button: unified shell container not initialized",null,"sap.ushell.ui.footerbar.AddBookmarkButton")}o=false}t.prototype.setEnabled.call(this,o);if(!o){this.addStyleClass("sapUshellAddBookmarkButton")}};return D});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/footerbar/SendAsEmailButton", ["sap/base/Log","sap/m/Button","sap/m/ButtonRenderer","sap/m/library","sap/ushell/resources","sap/ushell/Container","sap/ushell/state/ShellModel"],(e,t,s,i,n,l,r)=>{"use strict";const a=i.URLHelper;const o=t.extend("sap.ushell.ui.footerbar.SendAsEmailButton",{metadata:{library:"sap.ushell",properties:{beforePressHandler:{type:"function",group:"Misc",defaultValue:null},afterPressHandler:{type:"function",group:"Misc",defaultValue:null}}},renderer:s});o.prototype.init=function(){if(t.prototype.init){t.prototype.init.apply(this,arguments)}this.setIcon("sap-icon://email");this.setText(n.i18n.getText("sendEmailBtn"));this.setTooltip(n.i18n.getText("sendEmailBtn_tooltip"));this.attachPress(()=>{const e=this.getBeforePressHandler();if(e){e()}this.sendAsEmailPressed(this.getAfterPressHandler())})};o.prototype.sendAsEmailPressed=function(t){if(l.inAppRuntime()){sap.ui.require(["sap/ushell/appRuntime/ui5/AppCommunicationMgr"],e=>{e.sendMessageToOuterShell("sap.ushell.services.ShellUIService.sendEmailWithFLPButton",{bSetAppStateToPublic:true})})}else{const t=document.URL;const s=r.getModel().getProperty("/application/title");const i=s===undefined?n.i18n.getText("linkToApplication"):`${n.i18n.getText("linkTo")} '${s}'`;l.getServiceAsync("AppState").then(s=>{s.setAppStateToPublic(t).done(e=>{a.triggerEmail(null,i,e)}).fail(e.error)})}if(t){t()}};return o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/ActionItem", ["sap/m/Button","sap/m/ButtonRenderer","sap/m/library"],(e,t,s)=>{"use strict";const r=s.ButtonType;const n=e.extend("sap.ushell.ui.launchpad.ActionItem",{metadata:{library:"sap.ushell",properties:{actionType:{type:"string",group:"Appearance",defaultValue:"standard"}},events:{press:{},afterRendering:{}}},renderer:t});n.prototype.setActionType=function(e){if(!this.sOrigType){this.sOrigType=this.getType()}this.setType(e==="action"?r.Unstyled:this.sOrigType||r.Standard);this.setProperty("actionType",e,true)};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/utils", ["sap/ushell/EventHub","sap/ui/thirdparty/jquery"],(e,jQuery)=>{"use strict";function t(t){const s=new jQuery.Deferred;let n;let r=0;let i=0;let o=0;const l=[];const u=[];let f;const c={refresh:false};function a(e){if(e&&e.refresh===true){c.refresh=true}o++;s.notify()}function p(e){u.push({entry:f,message:e});i++;s.notify()}const h=e.last("UserSettingsOpened")||{};Object.keys(h).forEach(e=>{const s=parseInt(e,10);n=t[s].onSave();n.done(a);f=t[s].title;n.fail(p);l.push(n);r++});const d=jQuery.when.apply(null,l);d.done(()=>{e.emit("UserSettingsOpened",null);s.resolve(c)});s.progress(()=>{if(i>0&&i+o===r){s.reject(u)}});return s.promise()}return{saveUserPreferenceEntries:t}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui5service/UserStatus", ["sap/ui/core/service/ServiceFactoryRegistry","sap/ui/core/service/ServiceFactory","sap/ui/core/service/Service","sap/ui/base/EventProvider"],(e,t,s,a)=>{"use strict";const r={statusChanged:"statusChanged",serviceStateChanged:"serviceStateChanged"};const i=s.extend("sap.ushell.ui5service.UserStatus",{init:function(){i.prototype.isEnabled=false;e.register("sap.ushell.ui5service.UserStatus",new t(i));this.oEventProvider=new a;i.prototype.AvailableStatus={AVAILABLE:"AVAILABLE",AWAY:"AWAY",BUSY:"BUSY",APPEAR_OFFLINE:"APPEAR_OFFLINE"}},exit:function(){this.oEventProvider.destroy()}});i.prototype.setEnabled=function(e){this.oEventProvider.fireEvent(r.serviceStateChanged,{data:e});i.prototype.isEnabled=e;return};i.prototype.setStatus=function(e){if(!i.prototype.isEnabled){throw new Error("Unable to change status because the UserStatus service is disabled.")}if(!i.prototype.AvailableStatus[e]&&e!==null){throw new Error("Enter a valid status.")}this.oEventProvider.fireEvent(r.statusChanged,{data:e})};i.prototype.attachStatusChanged=function(e){this.oEventProvider.attachEvent(r.statusChanged,e)};i.prototype.detachStatusChanged=function(e){this.oEventProvider.detachEvent(r.statusChanged,e)};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils", ["sap/base/Log","sap/base/util/isPlainObject","sap/base/util/ObjectPath","sap/base/util/uid","sap/ui/Device","sap/ui/core/Element","sap/ui/core/EventBus","sap/ui/thirdparty/jquery","sap/ui/thirdparty/URI","sap/base/util/deepClone","sap/ushell/utils/objectOperations","sap/ushell/utils/type","sap/ushell/renderer/History","sap/ushell/renderers/fiori2/History"],(e,t,n,r,i,a,s,jQuery,o,l,c,u,p,f)=>{"use strict";const d={};d.isArray=u.isArray;d.isPlainObject=u.isPlainObject;d.isDefined=u.isDefined;d.clone=l;d.getMember=c.getMember;d.updateProperties=c.updateProperties;d.getNestedObjectProperty=c.getNestedObjectProperty;d.deepFreeze=function(e){Object.keys(e).filter(n=>{const r=e[n];return t(r)||Array.isArray(r)}).forEach(t=>{e[t]=this.deepFreeze(e[t])});return Object.freeze(e)};d.removeDuplicatedActions=function(e){if(Array.isArray(e)){const t=e.reduce((e,t)=>{if(e.indexOf(t)<0){e.push(t)}return e},[]);return t}return e};d.storeSapSystemData=function(t,n){let r;let i;let a;const s=[t.id];if(arguments.length>1){s.unshift(n)}try{a=JSON.stringify(t)}catch(t){e.error("Cannot stringify and store expanded system data:",t)}if(a){i=d.getLocalStorage();r=d.generateLocalStorageKey("sap-system-data",s);i.setItem(r,a)}};d.getLocalSystemInSidFormat=function(){const e=sap.ui.require("sap/ushell/Container");const t=e.getLogonSystem();const n=t.getSystemName();const r=t.getClient();return`sid(${n}.${r})`};d.matchesLocalSid=function(e){return d.getLocalSystemInSidFormat().toLowerCase()===e.toLowerCase()};d.storeSapSystemToLocalStorage=function(e){const t=(e||{}).params;if(!t||!t.hasOwnProperty("sap-system")){return}if(d.isPlainObject(t["sap-system"])){const e=t["sap-system"];const n=t["sap-system-src"];if(typeof n==="string"){d.storeSapSystemData(e,n);t["sap-system-src"]=n}else{d.storeSapSystemData(e)}t["sap-system"]=e.id}else if(d.matchesLocalSid(t["sap-system"])){delete t["sap-system"]}};d.setPerformanceMark=function(e,t){if(performance&&performance.mark){if(!t){t={}}if(t.bUseUniqueMark){if(t.bUseLastMark){performance.clearMarks(e)}else if(performance.getEntriesByName(e,"mark").length>0){return}}performance.mark(e)}};d.setPerformanceMeasure=function(e,t,n){if(performance&&performance.measure&&t&&n){performance.measure(e,t,n)}};d.Error=function(t,n){this.name="sap.ushell.utils.Error";this.message=t;e.error(t,null,n)};d.Error.prototype=new Error;d.localStorageSetItem=function(t,n,r){let i;try{localStorage.setItem(t,n);if(r){i=document.createEvent("StorageEvent");i.initStorageEvent("storage",false,false,t,"",n,"",localStorage);dispatchEvent(i)}}catch(t){e.warning("Error calling localStorage.setItem():",t,"sap.ushell.utils")}};d.getLocalStorage=function(){return window.localStorage};d.getLocalStorageItem=function(e){return window.localStorage.getItem(e)};d.generateUniqueId=function(e){let t;let n;let r;if(Array.isArray(e)){n=e;r=function(e){return n.indexOf(e)===-1}}else{r=e}do{t=d._getUid()}while(!r(t));return t};d._getUid=function(){return r()};d.reload=function(){location.reload()};d.calculateOrigin=function(e){let t;if(e.origin){return e.origin}if(e.protocol&&e.hostname){return`${e.protocol}//${e.hostname}${e.port?`:${e.port}`:""}`}if(e.href){t=new o(e.href);return`${t.protocol()}://${t.hostname()}${t.port()?`:${t.port()}`:""}`}return undefined};d.getPrivateEpcm=function(){if(window.external&&window.external&&typeof window.external.getPrivateEpcm!=="undefined"){return window.external.getPrivateEpcm()}return undefined};d.hasNativeNavigationCapability=function(){return d.isFeatureBitEnabled(1)};d.getShellType=function(){return d.isFeatureBitEnabled(1)?"NWBC":"FLP"};d.hasNativeLogoutCapability=function(){return d.isFeatureBitEnabled(2)};d.hasNavigationModeCapability=function(){return d.isFeatureBitEnabled(4)};d.hasFLPReadyNotificationCapability=function(){return d.isFeatureBitEnabled(8)};d.hasFLPReady2NotificationCapability=function(){return d.isFeatureBitEnabled(16)};d.isFeatureBitEnabled=function(t){let n="0";const r=d.getPrivateEpcm();if(r){try{n=r.getNwbcFeatureBits();e.debug(`Detected epcm getNwbcFeatureBits returned feature bits: ${n}`)}catch(t){e.error("failed to get feature bit vector via call getNwbcFeatureBits on private epcm object",t,"sap.ushell.utils")}}return(parseInt(n,16)&t)>0};d.isApplicationTypeEmbeddedInIframe=function(e,t){return e==="NWBC"||e==="TR"||e==="WCF"||t===true&&e==="WDA"};d.isSAPLegacyApplicationType=function(e,t,n){const r=n===true?["TR","GUI","NWBC"]:["TR","GUI","NWBC","WDA","WCF"];return r.includes(e)||r.includes(t)};d.isTRApplicationType=function(e,t){return e==="TR"||t==="TR"};d.getParamKeys=function(t){const n=[];const r=[];let i;if(t.indexOf("sap-intent-param=")>0){i=/(?:sap-intent-param=)([^&/]+)/.exec(t);if(i&&i.length===2){r.push("sap-intent-param-data");n.push(i[1])}}if(t.indexOf("sap-xapp-state=")>0){i=/(?:sap-xapp-state=)([^&/]+)/.exec(t);if(i&&i.length===2){r.push("sap-xapp-state-data");n.push(i[1])}}else if(t.indexOf("sap-xapp-state-data=")>0){i=/(?:sap-xapp-state-data=)([^&/]+)/.exec(t);if(i&&i.length===2){try{const e=decodeURIComponent(i[1]);r.push("sap-xapp-state-data");n.push(e)}catch(t){e.error("Invalid encoding of the sap-xapp-state-data parameter in the url: ",i[1])}}}if(t.indexOf("sap-iapp-state=")>0){i=/(?:sap-iapp-state=)([^&/]+)/.exec(t);if(i&&i.length===2){r.push("sap-iapp-state-data");n.push(i[1])}}return{aAppStateNamesArray:r,aAppStateKeysArray:n}};d.appendSapShellParamSync=function(e,t,n){const r=t==="TR"?"":"-NWBC";if(n){e+=e.indexOf("?")>=0?"&":"?";e+=`sap-shell=${encodeURIComponent(`FLP${n}${r}`)}`}return e};d.appendSapShellParam=async function(e,t){const n=t==="TR"?"":"-NWBC";const r=await d.getUi5Version();if(r){e+=e.indexOf("?")>=0?"&":"?";e+=`sap-shell=${encodeURIComponent(`FLP${r}${n}`)}`}return e};d.filterOutParamsFromLegacyAppURL=function(e){const t=["sap-ach","sap-fiori-id","sap-hide-intent-link","sap-priority","sap-tag","sap-ui-app-id-hint","sap-ui-debug","sap-ui-fl-control-variant-id","sap-ui-fl-max-layer","sap-ui-tech-hint","sap-ui2-tcode","sap-ui2-wd-app-id","sap-ui2-wd-conf-id","sap-ushell-cdm-site-url","sap-ushell-navmode","sap-ushell-next-navmode","sap-ushell-url","sap-app-origin-hint"];let n=new o(e);n=n.removeSearch(t);return n.toString()};d.getIframeFeaturePolicies=function(){return"autoplay;battery;camera;display-capture;geolocation;gyroscope;magnetometer;microphone;midi;clipboard-write;clipboard-read;fullscreen;serial;"};function g(e){const t=/\d+(\.\d+){0,2}/.exec(e);if(t&&t[0]){return t[0]}return undefined}d.getUi5Version=function(){return new Promise((t,n)=>{sap.ui.require(["sap/ui/VersionInfo"],n=>{n.load().then(e=>{t(g(e.version))}).catch(()=>{e.error("UI5 version could not be determined.");t("")})})})};d.isNativeWebGuiNavigation=function(e){const t=n.get("applicationType",e);const r=n.get("appCapabilities.nativeNWBCNavigation",e);if(this.hasNativeNavigationCapability()&&(t==="TR"||r)){return true}return false};d.Map=function(){this.entries={}};d.Map.prototype.put=function(e,t){const n=this.get(e);this.entries[e]=t;return n};d.Map.prototype.containsKey=function(e){if(typeof e!=="string"){throw new d.Error(`Not a string key: ${e}`,"sap.ushell.utils.Map")}return Object.prototype.hasOwnProperty.call(this.entries,e)};d.Map.prototype.get=function(e){if(this.containsKey(e)){return this.entries[e]}};d.Map.prototype.keys=function(){return Object.keys(this.entries)};d.Map.prototype.remove=function(e){delete this.entries[e]};d.Map.prototype.toString=function(){const e=["sap.ushell.utils.Map("];e.push(JSON.stringify(this.entries));e.push(")");return e.join("")};d.getParameterValueBoolean=function(e,t){const n=new URLSearchParams(t||window.location.search);const r=n.getAll(e);const i=["true","x"];const a=["false",""];if(!r||r.length===0){return undefined}const s=r[0].toLowerCase();if(i.indexOf(s)>=0){return true}if(a.indexOf(s)>=0){return false}return undefined};d.call=function(t,n,r){let i;if(r){setTimeout(()=>{d.call(t,n,false)},0);return}try{t()}catch(t){i=t.message||t.toString();e.error(`Call to success handler failed: ${i}`,t,"sap.ushell.utils");if(n){n(t)}}};d.handleTilesVisibility=function(){d.getVisibleTiles()};d.refreshTiles=function(){s.getInstance().publish("launchpad","refreshTiles")};d.setTilesNoVisibility=function(){s.getInstance().publish("launchpad","setTilesNoVisibility")};d.validHash=function(e){return e&&e.constructor===String&&e.trim()!==""};d.getFormFactor=function(){const e=i.system;if(e.desktop){return e.SYSTEMTYPE.DESKTOP}if(e.tablet){return e.SYSTEMTYPE.TABLET}if(e.phone){return e.SYSTEMTYPE.PHONE}return undefined};d.getVisibleTiles=function(){const e=document.body.clientHeight;const t=a.getElementById("dashboardGroups");const n=a.getElementById("viewPortContainer");const r=0;const i=[];const o=[];const l=s.getInstance();let c;let u;let p;let f;let g;let h;let m;let y;let b;let w;let S;let C;let T;let E;let P;let v;let x;if(window.document.hidden){l.publish("launchpad","onHiddenTab")}if(t&&t.getGroups()&&n){C=jQuery(t.getDomRef());T=C?C.is(":visible"):false;E=t.getGroups();for(c=0;c<E.length;c=c+1){f=E[c];g=f.getTiles();h=f.getLinks();P=[g,h];for(p=0;p<P.length;p++){v=P[p];if(v){for(u=0;u<v.length;u++){m=v[u];if(!T||window.document.hidden){i.push(m)}else{y=jQuery(m.getDomRef());b=y.offset();if(b){w=y.offset().top;S=w+y.height();x=f.getVisible()&&S>r-300&&w<e+300;if(x){o.push({oTile:d.getTileModel(m),iGroup:c,bIsExtanded:!(S>r)||!(w<e)})}else if(o.length>0){l.publish("launchpad","visibleTilesChanged",o);return i}i.push(m)}}}}}}}if(o.length>0){l.publish("launchpad","visibleTilesChanged",o)}return i};d.getTileModel=function(e){let t;if(e.isA("sap.ui.integration.widgets.Card")){t=e.getBindingContext("ushellCardModel")}else{t=e.getBindingContext()}return t.getObject()?t.getObject():null};d.getTileObject=function(e){let t;if(e.isA("sap.ui.integration.widgets.Card")){t=e.getBindingContext("ushellCardModel")}else{t=e.getBindingContext()}return t.getObject()?t.getObject().object:null};d.recalculateBottomSpace=function(){const e=jQuery("#dashboardGroups").find(".sapUshellTileContainer:visible");const t=e.last();const n=jQuery(".sapUshellShellHead > header").height();const r=t.parent().height();const i=parseInt(t.find(".sapUshellContainerTitle").css("margin-top"),10);const a=parseInt(jQuery(".sapUshellDashboardGroupsContainer").css("padding-bottom"),10);let s;if(e.length===1){s=0}else{s=jQuery(window).height()-n-r-i-a;s=s<0?0:s}jQuery(".sapUshellDashboardGroupsContainer").css("margin-bottom",`${s}px`)};d.calcVisibilityModes=function(e,t){let n=true;let r=true;const a=e.pendingLinks&&e.pendingLinks.length?e.pendingLinks:e.links;const s=d.groupHasVisibleTiles(e.tiles,a);if(!s&&(!t||e.isGroupLocked||e.isDefaultGroup||i.system.phone||i.system.tablet&&!i.system.desktop)){n=false}if(!s&&!t){r=false}return[n,r]};d.groupHasVisibleTiles=function(e,t){let n=false;let r;let i;let a=!e?[]:e;const s=!t?[]:t;a=a.concat(s);if(!a.length){return false}for(r=0;r<a.length;r=r+1){i=a[r];if(i.isTileIntentSupported){n=true;break}}return n};d.invokeUnfoldingArrayArguments=async function(t,n){if(!Array.isArray(n[0])){return d.promisify(t.apply(this,n))}const r=n[0];if(r.length===0){return[]}const i=r.map(async n=>{if(!Array.isArray(n)){const t="Expected Array as nTh Argument of multivalue invocation: "+"first Argument must be array of array of arguments: single valued f(p1,p2), f(p1_2,p2_2), f(p1_3,p2_3) : "+"multivalued : f([[p1,p2],[p1_2,p2_2],[p1_3,p2_3]]";e.error(t);throw new Error(t)}return d.promisify(t.apply(this,n)).then(e=>[e])});return Promise.all(i)};d._getCurrentDate=function(){return new Date};d._convertToUTC=function(e){return Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())};d.formatDate=function(e){const t=sap.ui.require("sap/ushell/resources");if(!t){throw new Error("sap/ushell/resources was not required before utils.formatDate usage!")}const n=d._convertToUTC(new Date(e));const r=d._convertToUTC(d._getCurrentDate());const i=r-n;const a=parseInt(i/(1e3*60*60*24),10);if(a>0){if(a===1){return t.i18n.getText("time_day",[a])}return t.i18n.getText("time_days",[a])}const s=parseInt(i/(1e3*60*60),10);if(s>0){if(s===1){return t.i18n.getText("time_hour",[s])}return t.i18n.getText("time_hours",[s])}const o=parseInt(i/(1e3*60),10);if(o>0){if(o===1){return t.i18n.getText("time_minute",[o])}return t.i18n.getText("time_minutes",[o])}return t.i18n.getText("just_now")};d.toExternalWithParameters=function(e,t,n){return new Promise(r=>{sap.ui.require(["sap/ushell/Container"],i=>Promise.all([i.getServiceAsync("URLParsing"),i.getServiceAsync("Navigation")]).then(i=>{const a=i[0];const s=i[1];const o={};const l=t.split("&/");if(l.length>1){o.appSpecificRoute=`&/${l[1]}`}o.target={semanticObject:e,action:l[0]};if(n&&n.length>0){o.params={};n.forEach(e=>{o.params[e.Key]=e.Value})}r(s.navigate({target:{shellHash:a.constructShellHash(o)}}))}))})};d.moveElementInsideOfArray=function(e,t,n){if(!d.isArray(e)||t===undefined||n===undefined){throw new Error("Incorrect input parameters passed")}if(t>=e.length||n>=e.length||n<0||t<0){throw new Error("Index out of bounds")}const r=e.splice(t,1)[0];e.splice(n,0,r);return e};d.shallowMergeObject=function(e){return Array.prototype.slice.call(arguments,1,arguments.length).map(e=>({sourceObject:e,properties:Object.keys(e)})).reduce((e,t)=>{t.properties.forEach(n=>{e[n]=t.sourceObject[n]});return e},e)};d.getLocationHref=function(){return window.location.href};d.getLocationSearch=function(){return window.location.search};d.windowLocationReload=function(){window.location.reload()};d.windowLocationAssign=function(e){window.location.assign(e)};d.generateLocalStorageKey=function(e,t){const n=t.length;if(n===0){throw new Error("At least one id should be provided when generating the local storage key")}let r="$";if(n===2){r="#"}else if(n>2){r=`@${n}@`}return e+r+t.join(":")};d.isRootIntent=function(e){if(typeof e!=="string"){throw new Error("The given intent must be a string")}const t="renderers.fiori2.componentData.config.rootIntent";const r=n.get(t,window["sap-ushell-config"])||"#Shell-home";const i=r.replace("#","");const a=e.replace("#","");return a===""||a===i};d.isFlpHomeIntent=function(e){if(!e){e=window.location.hash;if(!e){e=n.get("renderers.fiori2.componentData.config.rootIntent",window["sap-ushell-config"])||"Shell-home"}}else if(typeof e!=="string"){throw new Error("The given intent must be a string")}const t=e.replace("#","");return t.indexOf("Shell-home")===0||t.indexOf("Launchpad-openFLPPage")===0||t.indexOf("Launchpad-openWorkPage")===0};d.generateRandomKey=function(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let t="";const n=new window.Uint32Array(40);window.crypto.getRandomValues(n);function r(t){const r=n[t]%e.length;return e[r]}while(t.length<40){t+=r(t.length)}return t};d.copyToClipboard=function(e){let t;const n=document.createElement("textarea");try{n.contentEditable=true;n.readonly=false;n.textContent=e;document.documentElement.appendChild(n);n.select();document.execCommand("copy");t=true}catch(e){t=false}finally{n.parentNode.removeChild(n)}return t};d._getUserSettingPersContainer=function(){return new Promise(e=>{sap.ui.require(["sap/ushell/Container"],t=>t.getServiceAsync("PersonalizationV2").then(t=>{const n={container:"sap.ushell.usersettings.personalization",item:"data"};const r={validity:"Infinity",keyCategory:t.KeyCategory.GENERATED_KEY,writeFrequency:t.WriteFrequency.HIGH,clientStorageAllowed:false};e(t.getPersonalizer(n,r))}))})};d.getHideEmptySpacesEnabled=function(){return new Promise(e=>{sap.ui.require(["sap/ushell/Config"],t=>{e(t)})}).then(e=>{const t=e.last("/core/spaces/hideEmptySpaces/enabled");if(!t){return Promise.resolve(false)}return d._getUserSettingPersContainer().then(e=>e.getPersData()).then(t=>{const n=(t||{}).hideEmptySpaces!==false;if(e.last("/core/spaces/hideEmptySpaces/userEnabled")!==n){e.emit("/core/spaces/hideEmptySpaces/userEnabled",n)}return n})})};d.setHideEmptySpacesEnabled=function(e){return new Promise(e=>{sap.ui.require(["sap/ushell/Config"],t=>{e(t)})}).then(t=>{const n=t.last("/core/spaces/hideEmptySpaces/enabled");if(!n){return Promise.resolve()}return d._getUserSettingPersContainer().then(n=>n.getPersData().then(r=>{r=r||{};const i=r.hideEmptySpaces!==false;if(i===!!e){return Promise.resolve()}r.hideEmptySpaces=e;return n.setPersData(r).then(()=>{t.emit("/core/spaces/hideEmptySpaces/userEnabled",e)})}))})};d.sanitizeTimeoutDelay=function(e){if(typeof e!=="number"){throw new Error("Invalid type! Expected type 'number'.")}const t=2147483647;return e>t?t:e};d.promisify=function(t,n){if(typeof t==="object"){if(t.done){return new Promise((r,i)=>{t.done((...t)=>{if(n){r(t);return}if(t.length>1){e.warning("jQuery.Deferred provided multiple return values, but only single return values are supported!")}r(t[0])}).fail(i)})}if(t.then){return t}}return Promise.resolve(t)};d.toDeferred=function(e){const t=new jQuery.Deferred;const n=this.promisify(e);n.then(t.resolve.bind(t)).catch(t.reject.bind(t));return t.promise()};d.requireAsync=function(e){return new Promise((t,n)=>{sap.ui.require(e,(...e)=>{t(e)},n)})};d.awaitTimeout=function(e=0){return new Promise(t=>{setTimeout(t,e)})};d.getThemingParameters=async function(e){const t=await new Promise((t,n)=>{sap.ui.require(["sap/ui/core/theming/Parameters"],n=>{const r=n.get({name:e,callback:t});if(r){t(r)}})});return e.map(e=>{if(typeof t!=="object"){return t}return t[e]})};d.isColdStart=function(){const e=sap.ui.require("sap/ushell/Container");const t=e.getRendererInternal("fiori2");const n=!t||!t.getCurrentCoreView();if(p.getHistoryLength()<=1&&n){return true}return false};d.getDocumentUrl=function(){return document.URL};d.handleSideContent=function(e){const t=e.getParameters();const n=t.hasAdjacentContentBefore;d.applySideContent.call(this,n)};d.applySideContent=function(e){this.rootControlLoaded().then(t=>{t.toggleStyleClass("sapUshellFixedPadding",e)})};return d});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/HttpClient", ["sap/ui/core/Supportability","sap/ui/thirdparty/URI","sap/ushell/utils","sap/ushell/utils/LaunchpadError"],(e,t,s,o)=>{"use strict";function n(e,s){this._oOngoingRequests={};this._oCSRFTokens={};this._oDefaultOptions={headers:s&&s.headers||{}};if(typeof e==="string"){this._oBasePath=new t(e)}else{this._oDefaultOptions={headers:e&&e.headers||{}}}}n.prototype.get=function(e,t){return this._executeRequest("GET",e,t)};n.prototype.put=function(e,t){return this._executeRequest("PUT",e,t)};n.prototype.post=function(e,t){return this._executeRequest("POST",e,t)};n.prototype.patch=function(e,t){return this._executeRequest("PATCH",e,t)};n.prototype.delete=function(e,t){return this._executeRequest("DELETE",e,t)};n.prototype.options=function(e,t){return this._executeRequest("OPTIONS",e,t)};n.prototype.abortAll=function(){Object.keys(this._oOngoingRequests).forEach(e=>{this._oOngoingRequests[e].abort()})};n.prototype._executeRequest=async function(n,r,i){const a={};const u=e.isStatisticsEnabled();if(u){a["sap-statistics"]=u}let h;const c=new t(r);if(!c.is("url")){throw new Error("The provided resource path is not a valid URL.")}if(this._oBasePath){h=c.absoluteTo(this._oBasePath)}else{h=c}const p=new XMLHttpRequest;p._sapUshellHttpClientId=s.generateUniqueId(Object.keys(this._oOngoingRequests));this._oOngoingRequests[p._sapUshellHttpClientId]=p;const d=Object.assign({},a,this._oDefaultOptions.headers,i&&i.headers);return this._getCSRFTokenHeader(n,h).then(e=>{Object.assign(d,e);return new Promise((e,t)=>{const s=h.href();p.onload=this._onLoad.bind(this,e,t,{xhr:p,method:n,url:s,data:i});p.onerror=function(){const e=this._getFormattedResponse(p);const s=new o(`Failed to execute HTTP request: ${e.status} (${e.status})`,e);t(s)}.bind(this);p.onabort=function(){p.bAborted=true;const e=this._getFormattedResponse(p);const s=new o(`Failed to execute HTTP request: ${e.status} (${e.status})`,e);t(s)}.bind(this);p.onloadend=function(){delete this._oOngoingRequests[p._sapUshellHttpClientId]}.bind(this);p.open(n,s);Object.keys(d).forEach(e=>{p.setRequestHeader(e,d[e])});let r=i&&i.data||"";if(typeof r!=="string"){r=JSON.stringify(r)}p.send(r)})})};n.prototype._getCSRFTokenHeader=function(e,t){let s="";let o="";switch(e){case"HEAD":case"GET":case"OPTIONS":return Promise.resolve({"x-csrf-token":"fetch"});case"POST":s=this._getCSRFTokenKey(t);if(this._oCSRFTokens[s]){return Promise.resolve({"x-csrf-token":this._oCSRFTokens[s]})}o=t.href();if(this._oBasePath){o=this._oBasePath.origin()+this._oBasePath.directory()}return this._executeRequest("HEAD",o).then(e=>{const t=this._getCSRFTokenFromHeader(e.responseHeaders);if(!t){throw new Error("CSRF Token couldn't be fetched.")}return{"x-csrf-token":t}});case"PATCH":case"PUT":case"DELETE":s=this._getCSRFTokenKey(t);if(this._oCSRFTokens[s]){return Promise.resolve({"x-csrf-token":this._oCSRFTokens[s]})}o=t.href();if(this._oBasePath){o=this._oBasePath.origin()+this._oBasePath.directory()}return this._executeRequest("OPTIONS",o).then(e=>{const t=this._getCSRFTokenFromHeader(e.responseHeaders);if(!t){throw new Error("CSRF Token couldn't be fetched.")}return{"x-csrf-token":t}});default:return Promise.resolve({})}};n.prototype._onLoad=function(e,s,n){const r=this._getFormattedResponse(n.xhr);const i=this._getCSRFTokenFromHeader(r.responseHeaders);if(i){const o=this._getCSRFTokenKey(new t(n.url));if(i.toLowerCase()==="required"&&r.status===403){delete this._oCSRFTokens[o];return this._executeRequest(n.method,n.url,n.data).then(e).catch(s)}this._oCSRFTokens[o]=i}if(r.status>=200&&r.status<300){return e(r)}const a=new o(`Failed to execute HTTP request: ${r.status} (${r.status})`,r);s(a)};n.prototype._getCSRFTokenKey=function(e){if(this._oBasePath){return this._oBasePath.origin()+this._oBasePath.directory()}return e.origin()+e.directory()};n.prototype._getCSRFTokenFromHeader=function(e){const t=e.filter(e=>e.name==="x-csrf-token")[0];return t&&t.value};n.prototype._getFormattedResponse=function(e){return{aborted:e.bAborted||false,status:e.status,statusText:e.statusText,responseText:e.responseText,responseHeaders:e.getAllResponseHeaders().split(/\r\n/g).filter(e=>e.length>0).map(e=>{const t=e.split(":");return{name:t[0].trim(),value:t[1].trim()}})}};return n},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/UrlParsing", ["sap/ui/thirdparty/URI","sap/base/Log","sap/base/util/deepEqual","sap/base/util/merge","sap/ushell/TechnicalParameters","sap/ushell/utils"],(e,t,n,a,r,s)=>{"use strict";const o={};const c=/^(([A-Za-z0-9_/]+)-([A-Za-z0-9_/-]+)(~([A-Z0-9a-z=+/]+))?)?([?]([^&]|(&[^/]))*&?)?$/;o.getShellHash=function(e){const t=/[^#]*#(([^&]|&[^/])*)(&\/.*)?/;const n=t.exec(e);if(n){return n[1]}return undefined};o.getHash=function(e){const t=/#(.*)/;const n=t.exec(e);if(n){return n[1]}return undefined};o.isIntentUrl=function(e){return this._isIntentUrl(e,window.location.href)};o.isIntentUrlAsync=async function(e){const[t]=await s.requireAsync(["sap/ushell/Container"]);const n=await t.getFLPUrlAsync(true);return this._isIntentUrl(e,n)};o._isIntentUrl=function(t,n){const a=/^#/;if(typeof t!=="string"){return false}if(!a.test(t)){const a=new e(t).normalize();const r=`${a.protocol()}://${a.host()}${a.pathname()}`;const s=new e(n).normalize();const o=`${s.protocol()}://${s.host()}${s.pathname()}`;if(r!==o){return false}}const r=o.getHash(t);if(!r){return false}const s=o.parseShellHash(r);if(s&&s.semanticObject&&s.action){return true}return false};o.parseParameters=function(e){try{const t=new URLSearchParams(e);const n=t.keys();let a=n.next();const r={};while(a.done===false){r[decodeURIComponent(a.value)]=t.getAll(a.value);a=n.next()}return r}catch(n){t.error(`URL parsing - malformed URL parameters string: ${e}`,n);return{}}};function i(e,t,n){let a="";t=t||"&";n=n||"=";let r="";const s=[];for(const t in e){if(e.hasOwnProperty(t)){s.push(t)}}s.sort();for(let o=0;o<s.length;o=o+1){const c=s[o];if(Array.isArray(e[c])){for(let s=0;s<e[c].length;s=s+1){a+=r+encodeURIComponent(c)+n+encodeURIComponent(e[c][s]);r=t}}else{a+=r+encodeURIComponent(c)+n+encodeURIComponent(e[c]);r=t}}return a}o.paramsToString=function(e){return i(e)};o.removeParametersWithEmptyValue=function(e,t){if(!e){return}Object.keys(e).forEach(n=>{if(t.includes(n)&&e[n].length===1&&e[n][0]===""){delete e[n]}})};o.urlParametersToString=function(e,t,n){return i(e,t,n)};o.addParamsToUrl=function(t,n){const a=new e(t);Object.keys(n).forEach(e=>{a.addSearch(e,n[e])});return a.toString()};o.addShellParamsToURL=function(t,n){const a=new e(t);const r=a.hash();const s=a.toString().replace(r,"");const c=o.parseShellHash(r)||{};Object.assign(c.params,n.params);const i=`#${o.constructShellHash(c)}`;return s+i};o.parseShellHash=function(e){const t=c;if(!e){return undefined}const n=o.splitHash(e);const a=t.exec(n.shellPart);if(a){const e=a[2];const t=a[3];const r=a[5];const s=a[6];const c=o.parseParameters(s);return{semanticObject:e,action:t,contextRaw:r,params:c,appSpecificRoute:n.appSpecificRoute}}if(n.appSpecificRoute){return{semanticObject:undefined,action:undefined,contextRaw:undefined,params:{},appSpecificRoute:n.appSpecificRoute}}return undefined};o.privstripLeadingHash=function(e){if(e[0]==="#"){return e.substring(1)}return e};o.ensureLeadingHash=function(e){if(!e){e="#"}else if(e.charAt(0)!=="#"){e=`#${e}`}return e};o.getBasicHash=function(e){const t=this.parseShellHash(e);if(!t){return""}return`${t.semanticObject}-${t.action}`};o.splitHash=function(e){const t=/^(?:#|)([\S\s]*?)(&\/[\S\s]*)?$/;if(e===undefined||e===null||e===""){return{}}const n=t.exec(e);const a=n[1];if(a!==""&&!c.test(a)){return{}}const r=n[2];if(a||r){return{shellPart:a,appSpecificRoute:r}}return{}};function u(e,t){if(t){return e+t}return e}o.constructShellHash=function(e){let n;if(!e){return""}if(!e.target){e.target={};e.target.semanticObject=e.semanticObject;e.target.action=e.action;e.target.contextRaw=e.contextRaw}if(e.target.shellHash||e.target.shellHash===""){const t=o.privstripLeadingHash(e.target.shellHash);return u(t,e.appSpecificRoute)}if(e.target.semanticObject&&e.target.action){n=`${e.target.semanticObject}-${e.target.action.replace(/[?].*/,"")}`}else{return u("",e.appSpecificRoute)}if(e.target.contextRaw){n+=`~${e.target.contextRaw}`}let a="?";const r=[];for(const t in e.params){if(e.params.hasOwnProperty(t)){r.push(t)}}const s=e.params&&JSON.parse(JSON.stringify(e.params))||{};if(e.appStateKey){r.push("sap-xapp-state");s["sap-xapp-state"]=e.appStateKey}r.sort();for(let e=0;e<r.length;e=e+1){const o=r[e];if(Array.isArray(s[o])){if(s[o].length>1){t.error("Array startup parameters violate the designed intent of the Unified Shell Intent, use only single-valued parameters!")}for(let e=0;e<s[o].length;e=e+1){n+=`${a+encodeURIComponent(o)}=${encodeURIComponent(s[o][e])}`;a="&"}}else{n+=`${a+encodeURIComponent(o)}=${encodeURIComponent(s[o])}`;a="&"}}return u(n,e.appSpecificRoute)};o.compareHashes=function(e,t){const n=this.parseShellHash(e)||{};const a=this.parseShellHash(t)||{};return{sameIntent:this.haveSameIntent(n,a),sameParameters:this.haveSameIntentParameters(n,a),sameAppSpecificRoute:n.appSpecificRoute===a.appSpecificRoute}};o.haveSameIntent=function(e,t){e=e||{};t=t||{};return e.semanticObject===t.semanticObject&&e.action===t.action&&e.contextRaw===t.contextRaw};o.haveSameIntentParameters=function(e,t){e=e||{};t=t||{};const n=a({},e.params);const r=a({},t.params);return!this._parametersChanged(this._removeNonIntentParameters(n),this._removeNonIntentParameters(r))};o.getStableIntent=function(e){const t=this.parseShellHash(e)||{};const n=this._removeNonIntentParameters(t.params);const a=Object.keys(n).sort().reduce((e,t)=>{const a=n[t];a.sort();e[t]=a;return e},{});return this.constructShellHash({target:{semanticObject:t.semanticObject,action:t.action,contextRaw:t.contextRaw},params:a})};o._removeNonIntentParameters=function(e){const t=r.getParameters({isIntentParameter:false});let n;if(e){for(let a=0;a<t.length;a++){n=t[a];if(e[n.name]){delete e[n.name]}}}return e||{}};o._parametersChanged=function(e,t){return!n(e,t)};return o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/UrlShortening", ["sap/base/Log","sap/ushell/utils/UrlParsing"],(t,e)=>{"use strict";function a(){const a=this;this.ABBREV_PARAM_NAME="sap-intent-param";this.URL_LENGTH_LIMIT=1023;this.URL_PARAMS_LENGTH_LIMIT=512;this._replaceSapXAppStateRawWithKeyIfRequired=function(e,a){let r;if(typeof e!=="string"||/^[A-Z0-9]{40,41}$/.test(e)){return e}try{r=JSON.parse(e)}catch(a){t.error("This cannot happen: sap-xapp-state parameter value is neither key nor JSON parseable");return e}const s=a&&a.getNextKey();this._storeValue(s,r,a);return s};this.compactHash=function(r,s,n){let i;const c=[this.ABBREV_PARAM_NAME,"sap-system","sap-xapp-state"];if(s){s.forEach(t=>{c.push(t)})}const p=e.parseShellHash(r);if(!p){t.error(`the URL ${r} is not compliant. It may break the product and cause unwanted navigation behavior.`);return{hash:r}}i="";if(r.charAt(0)==="#"){i="#"}const o=p&&p.params&&p.params["sap-xapp-state"]&&p.params["sap-xapp-state"][0];if(o){p.params["sap-xapp-state"]=[this._replaceSapXAppStateRawWithKeyIfRequired(o,n)];r=i+e.constructShellHash({target:{semanticObject:p.semanticObject,action:p.action,contextRaw:p.contextRaw},params:p.params,appSpecificRoute:p.appSpecificRoute})}if(typeof r!=="string"||r.length<a.URL_LENGTH_LIMIT){return{hash:r}}if(p&&(p.params&&p.params[a.ABBREV_PARAM_NAME])){return{hash:r}}const h=n&&n.getNextKey();const u=this._splitParameters(p.params,c,h);if(!u.key){return{hash:r}}const l=e.paramsToString(u.tailParams);this._storeValue(u.key,l,n);return{hash:i+e.constructShellHash({target:{semanticObject:p.semanticObject,action:p.action,contextRaw:p.contextRaw},params:u.headParams,appSpecificRoute:p.appSpecificRoute}),params:u.headParams,skippedParams:u.tailParams}};this.checkHashLength=function(r){let s;if(typeof r!=="string"||r.length<a.URL_LENGTH_LIMIT){return{hash:r}}const n=e.parseShellHash(r);s="";if(r.charAt(0)==="#"){s="#"}const i=this._splitParameters(n.params,[],"DummyKey");if(i.key){t.error(`Application startup parameter length exceeds ${a.URL_PARAMS_LENGTH_LIMIT} characters, truncation occured!`);delete i.headParams[this.ABBREV_PARAM_NAME];return{hash:s+e.constructShellHash({target:{semanticObject:n.semanticObject,action:n.action,contextRaw:n.contextRaw},params:i.headParams,appSpecificRoute:n.appSpecificRoute}),params:i.headParams,skippedParams:i.tailParams}}t.error("URL exceeds dangerous limits, arbitrary shortening or worse may occur!");return{hash:r}};this._findIndex=function(t,e){let a=t.indexOf(e);if(a>=0){return a}a=-1;t.every((t,r)=>{if(t.length>0&&t[t.length-1]==="*"&&t.substring(0,t.length-1)===e.substring(0,t.length-1)){a=r;return false}return true});return a};this._cmpByList=function(t,e,a){t=t||[];if(e===a){return 0}const r=this._findIndex(t,e);const s=this._findIndex(t,a);if(r>=0&&s>=0){if(r-s!==0){return r-s}if(e<a){return-1}if(e>a){return+1}return 0}if(r>=0){return-1}if(s>=0){return+1}if(e<a){return-1}return+1};this._sortByPriority=function(t,e){return t.sort(this._cmpByList.bind(this,e))};this._splitParameters=function(e,a,r){let s;let n;let i;const c={};const p={};let o=false;let h;let u;let l=0;let f;let m=[];if(!r||typeof r!=="string"){throw new Error("sap.ushell.services.URLShortening._splitParameters: key must be supplied!")}for(s in e){if(Object.prototype.hasOwnProperty.call(e,s)){m.push(s)}}m.sort();m=this._sortByPriority(m,a);for(i=0;i<m.length;i=i+1){s=m[i];h=e[s];if(h.length>1){t.error("Array startup parameters violate the designed intent of the Unified Shell Intent, use only single-valued parameters!")}for(n=0;n<h.length;n=n+1){u=e[s][n];f=s.length+u.length;if(f+l>this.URL_PARAMS_LENGTH_LIMIT){if(p[s]){p[s].push(u)}else{p[s]=[u]}o=true}else if(c[s]){c[s].push(u)}else{c[s]=[u]}l=l+f+1}}if(o){c[this.ABBREV_PARAM_NAME]=[r]}return{key:r,tailParams:p,headParams:c}};this.expandHash=function(t){function e(t){return a._retrieveValue(t)}return this.expandParamGivenRetrievalFunction(t,this.ABBREV_PARAM_NAME,e)};this.expandParamGivenRetrievalFunction=function(t,a,r){let s;if(typeof t!=="string"){return t}const n=e.parseShellHash(t);const i=n&&n.params&&n.params[a]&&n.params[a][0];if(!i){return t}s="";if(t.charAt(0)==="#"){s="#"}const c=r(i);if(!c){return t}const p=this._blendParameters(n.params,a,c);return s+e.constructShellHash({target:{semanticObject:n.semanticObject,action:n.action,contextRaw:n.contextRaw},params:p,appSpecificRoute:n.appSpecificRoute})};this._retrieveValue=function(){return undefined};this._storeValue=function(t,e,a){if(a&&typeof a.store==="function"){a.store(e)}};this._blendParameters=function(t,a,r){const s=e.parseParameters(`?${r}`);let n;delete t[a];for(n in s){if(Object.prototype.hasOwnProperty.call(s,n)){if(t[n]){t[n]=t[n].concat(s[n])}else{t[n]=s[n]}}}return t}}const r=new a;return r},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/WindowUtils", ["sap/base/Log","sap/ui/util/isCrossOriginURL","sap/ushell/utils","sap/ushell/utils/UrlParsing"],(n,e,o,t)=>{"use strict";const r={};r.hasInvalidProtocol=function(n){const e=document.createElement("a");e.setAttribute("href",n);if(e.protocol==="javascript:"){return true}return false};r.isCrossOriginUrl=function(n){return e(n)};r.openURL=function(e,o,t,r){const i=r===undefined?true:r;const s=this.isCrossOriginUrl(e);t=t||"";if(i&&this.hasInvalidProtocol(e)){n.fatal("Tried to open a URL with an invalid protocol",null,"sap/ushell/utils/WindowUtils");throw new Error("Tried to open a URL with an invalid protocol")}if(s){if(t.toLowerCase().indexOf("noopener")===-1){if(t!==""){t+=","}t+="noopener"}if(t.toLowerCase().indexOf("noreferrer")===-1){t+=",noreferrer"}window.open(e,o,t);return true}return window.open(e,o,t)};r.getLeanURL=function(e,o){const t=e||o;if(this.hasInvalidProtocol(t)){n.fatal("Tried to construct a lean URL for input containing an invalid protocol",null,"sap/ushell/utils/WindowUtils");return""}if((t||"").charAt(0)!=="#"){return t}let r=window.location.search;if(!r){r="?sap-ushell-config=lean"}else if(r.indexOf("sap-ushell-config=")>=-1){r+="&sap-ushell-config=lean"}return window.location.origin+window.location.pathname+r+t};r._adjustQueryString=function(n,e,o){if((!e||e.length===0)&&(!o||o.length===0)){return n}const r=new URLSearchParams(n);const i=Array.from(r.keys()).reduce((n,e)=>{n[e]=r.getAll(e);return n},{});if(e&&e.length>0){e.forEach(n=>{const e=Object.keys(n)[0];if(e){i[e]=n[e]}})}if(o&&o.length>0){o.forEach(n=>{delete i[n]})}const s=t.urlParametersToString(i);return s!==""?`?${s}`:""};r.refreshBrowser=function(n,e){const t=o.getLocationHref();const i=o.getLocationSearch();const s=r._adjustQueryString(i,n,e);if(i===s){o.windowLocationReload()}else{const n=t.replace(i,s);o.windowLocationAssign(n)}};r.clearSapUserContextCookie=function(){window.document.cookie="sap-usercontext=;Path=/;Max-Age=-1"};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/objectOperations", [],()=>{"use strict";const e={};e.getMember=function(e,r){const t=r.split(".");let n=e;if(!e){return undefined}t.forEach(e=>{if(typeof n!=="object"){return undefined}n=n[e.replace(/[|]/g,".")]});return n};e.updateProperties=function(e,r){Object.keys(e).forEach(t=>{if(r.hasOwnProperty(t)){e[t]=r[t]}})};e.getNestedObjectProperty=function(e,r,t){const n="Missing or invalid parameter";if(!e||!Array.isArray(e)||e.length===0||!r){throw new Error(n)}if(Array.isArray(r)&&r.length!==e.length){throw new Error(n)}let i=r;if(!Array.isArray(r)){i=Array.apply(null,Array(e.length)).map(()=>r)}const a=e.reduce((e,r,t)=>{if(e!==undefined){return e}return this.getMember(r,i[t])},undefined);return a!==undefined?a:t};return e},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/type", [],()=>{"use strict";function t(t){return Object.prototype.toString.apply(t)==="[object Array]"}function e(t){return Object.prototype.toString.apply(t)==="[object Object]"}function n(t){return typeof t!=="undefined"}return{isArray:t,isPlainObject:e,isDefined:n}},false);
sap.ui.require.preload({
	"sap/ushell/appRuntime/ui5/AppRuntime.js":function(){
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
function _migrateV2ServiceConfig(e){"use strict";const t=sap.ui.require("sap/base/util/ObjectPath");[{from:"services.Bookmark",to:"services.BookmarkV2"},{from:"services.CrossApplicationNavigation",to:"services.Navigation"},{from:"services.Notifications",to:"services.NotificationsV2"},{from:"services.Personalization",to:"services.PersonalizationV2"},{from:"services.LaunchPage",to:"services.FlpLaunchPage"},{from:"services.ShellNavigation",to:"services.ShellNavigationInternal"},{from:"services.NavTargetResolution",to:"services.NavTargetResolutionInternal"}].forEach(s=>{const i=s.from.split(".")[1];const a=t.get(s.from,e);const n=t.get(s.to,e);if(a&&!n){const n={...a};if(n.module===`sap.ushell.services.${i}`){delete n.module}t.set(s.to,n,e)}})}function prepareUshellConfig(){"use strict";const e=sap.ui.require("sap/base/util/ObjectPath");let t={};const s=document.querySelector("meta[name='sap.ushellConfig.ui5appruntime']");if(s){t=JSON.parse(s.content)}const i=new URLSearchParams(window.location.search);if(i.has("sap-spaces")&&i.get("sap-spaces")==="true"){e.set("ushell.spaces.enabled",true,t)}if(i.has("sap-personalization")&&i.get("sap-personalization")==="false"){e.set("renderers.fiori2.componentData.config.enablePersonalization",false,t)}window["sap-ushell-config"]=t;_migrateV2ServiceConfig(window["sap-ushell-config"])}function prepareModules(){"use strict";sap.ui.require(["sap/ui/core/BusyIndicator"],e=>{try{if(apprtBIdiv){document.body.classList.remove("apprtBIbg");apprtBIdiv.parentNode.removeChild(apprtBIdiv);apprtBIstyle.parentNode.removeChild(apprtBIstyle)}e.show(0)}catch{e.show(0)}});if(document.URL.indexOf("ui5appruntime")>0){sap.ui.define("sap/ushell/URLTemplateProcessor",[],()=>({}));sap.ui.define("sap/ushell/ApplicationType/wdaResolution",[],()=>({}));sap.ui.define("sap/ushell/ApplicationType/guiResolution",[],()=>({}));if(document.URL.indexOf("sap-ui-app-id=")>0){sap.ui.define("sap/ushell/ApplicationType",[],()=>({URL:{type:"URL"},WDA:{type:"WDA"},TR:{type:"TR"},NWBC:{type:"NWBC"},WCF:{type:"WCF"},SAPUI5:{type:"SAPUI5"}}))}sap.ui.define("sap/ushell/components/applicationIntegration/AppLifeCycle",[],()=>({}));sap.ui.define("sap/ushell/appIntegration/AppLifeCycle",[],()=>({}));sap.ui.define("sap/ushell/services/appstate/WindowAdapter",[],()=>function(){});sap.ui.define("sap/ushell/services/appstate/SequentializingAdapter",[],()=>function(){});sap.ui.define("sap/ushell/services/appstate/Sequentializer",[],()=>function(){});sap.ui.define("sap/ushell/services/Configuration",[],()=>{function e(){this.attachSizeBehaviorUpdate=function(){};this.hasNoAdapter=true}e.hasNoAdapter=true;return e});sap.ui.define("sap/ushell/services/PluginManager/Extensions",[],()=>function(){});sap.ui.define("sap/ushell/services/MessageBroker/MessageBrokerEngine",[],()=>function(){});sap.ui.define("sap/ushell/bootstrap/common/common.load.core-min",[],()=>({loaded:false,load:function(e){}}))}}prepareUshellConfig();prepareModules();sap.ui.define(["sap/base/i18n/Formatting","sap/base/i18n/Localization","sap/base/Log","sap/base/util/ObjectPath","sap/base/util/deepExtend","sap/base/util/isEmptyObject","sap/m/library","sap/ui/core/BusyIndicator","sap/ui/core/ComponentContainer","sap/ui/core/Lib","sap/ui/core/routing/History","sap/ui/thirdparty/hasher","sap/ui/thirdparty/jquery","sap/ui/thirdparty/URI","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/appRuntime/ui5/performance/FesrEnhancer","sap/ushell/appRuntime/ui5/renderers/fiori2/AccessKeysAgent","sap/ushell/appRuntime/ui5/services/AppConfiguration","sap/ushell/appRuntime/ui5/services/AppLifeCycleAgent","sap/ushell/appRuntime/ui5/services/ShellUIService","sap/ushell/appRuntime/ui5/SessionHandlerAgent","sap/ushell/EventHub","sap/ushell/iconfonts","sap/ushell/UI5ComponentType","sap/ushell/ui5service/UserStatus","sap/ushell/utils/UrlParsing","sap/ushell/utils/WindowUtils","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/ushell/renderer/utils","sap/ushell/appRuntime/ui5/renderers/fiori2/Renderer"],(e,t,s,i,a,n,p,r,o,l,u,c,jQuery,h,d,m,f,g,y,v,R,A,C,b,I,P,S,U,w,L)=>{"use strict";const H=p.URLHelper;m.init();let F;let N;const T=(new h).search(true);let E=false;let k;let D=false;let M=false;let O=false;let B=false;let _;function x(){return{services:{CrossApplicationNavigation:{module:"sap.ushell.appRuntime.ui5.services.CrossApplicationNavigation",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},Navigation:{module:"sap.ushell.appRuntime.ui5.services.Navigation",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},NavTargetResolution:{module:"sap.ushell.appRuntime.ui5.services.NavTargetResolution",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},NavTargetResolutionInternal:{module:"sap.ushell.appRuntime.ui5.services.NavTargetResolutionInternal",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},ShellNavigation:{module:"sap.ushell.appRuntime.ui5.services.ShellNavigation",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},ShellNavigationInternal:{module:"sap.ushell.appRuntime.ui5.services.ShellNavigationInternal",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},ClientSideTargetResolution:{adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},AppConfiguration:{module:"sap.ushell.appRuntime.ui5.services.AppConfiguration"},Bookmark:{module:"sap.ushell.appRuntime.ui5.services.Bookmark",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},BookmarkV2:{module:"sap.ushell.appRuntime.ui5.services.BookmarkV2",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},Extension:{module:"sap.ushell.appRuntime.ui5.services.Extension"},FrameBoundExtension:{module:"sap.ushell.appRuntime.ui5.services.FrameBoundExtension"},LaunchPage:{module:"sap.ushell.appRuntime.ui5.services.LaunchPage",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},FlpLaunchPage:{module:"sap.ushell.appRuntime.ui5.services.FlpLaunchPage"},UserInfo:{module:"sap.ushell.appRuntime.ui5.services.UserInfo",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},UserDefaultParameters:{module:"sap.ushell.appRuntime.ui5.services.UserDefaultParameters",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},AppState:{module:"sap.ushell.appRuntime.ui5.services.AppState",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},AppLifeCycle:{module:"sap.ushell.appRuntime.ui5.services.AppLifeCycle",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},PluginManager:{config:{isBlueBox:true}},CommonDataModel:{module:"sap.ushell.appRuntime.ui5.services.CommonDataModel",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},ReferenceResolver:{module:"sap.ushell.appRuntime.ui5.services.ReferenceResolver"},MessageBroker:{module:"sap.ushell.appRuntime.ui5.services.MessageBroker"},Ui5ComponentLoader:{config:{loadDefaultDependencies:false}},Container:{adapter:{config:{userProfile:{defaults:{setThemePermitted:true}}}}}},ushell:{customPreload:{enabled:false}}}}function W(){this.main=function(){let e=Promise.resolve();const t=F._getURI();jQuery("body").css("height","100%").css("width","100%");d.init(true);this.getPageConfig(t);F.setModulePaths();const i=F.loadAdditionalLibs();if(t.hasOwnProperty("sap-remote-intent")){e=d.postMessageToFLP("sap.ushell.services.UserInfo.getLocaleData",undefined,undefined,3e3,{})}U.setAppLifeCycleAgent(y);y.expandSapIntentParams(F._getURI()).then(t=>{let a;let n;if(t.hasOwnProperty("sap-remote-intent")===true){U.setIsScube(true);n=t["sap-remote-intent"];if(n===undefined){s.error("Application cannot be opened. 'sAppIntent' is undefined")}U.setRemoteSystemId(t["sap-remote-system"]);F.adjustIframeURL()}else{a=t["sap-ui-app-id"]}F.init();const p=new Promise(e=>{sap.ui.require(["sap/ushell/appRuntime/ui5/services/UserInfo"],e)});i.push(F.initServicesContainer());Promise.all(i).then(()=>{F.initPostMessages();if(U.getIsScube()===true){N.getServiceAsync("CommonDataModel")}Promise.all([F.getAppInfo(a,n),p,e]).then(e=>{const s=e[0].oResolvedHashFragment;const i=e[0].oParsedHash;const p=e[2]||{};F._setUI5LocaleAttributes(p);R.init();f.init();F._setInitialAppRoute();F.createApplication(a,t,s,n,i).then(e=>{F.renderApplication(e)})})})})};this._setUI5LocaleAttributes=function(s){if(Object.keys(s).length>0){if(s.calendarType){e.setCalendarType(s.calendarType)}if(s.dateFormatShort){e.setDatePattern("short",s.dateFormatShort)}if(s.dateFormatMedium){e.setDatePattern("medium",s.dateFormatMedium)}if(s.numberFormatGroup){e.setNumberSymbol("group",s.numberFormatGroup)}if(s.numberFormatDecimal){e.setNumberSymbol("decimal",s.numberFormatDecimal)}if(s.timeFormatShort){e.setTimePattern("short",s.timeFormatShort)}if(s.timeFormatMedium){e.setTimePattern("medium",s.timeFormatMedium)}if(s.calendarMapping){e.setCustomIslamicCalendarData(s.calendarMapping)}if(s.timeZone){t.setTimezone(s.timeZone)}if(s.currencyFormats){e.setCustomCurrencies(s.currencyFormats)}}};this._setInitialAppRoute=function(){const e=P.parseShellHash(c.getHash());if(e&&e.appSpecificRoute&&e.appSpecificRoute.length>0){d.postMessageToFLP("sap.ushell.services.CrossApplicationNavigation.setInnerAppRoute",{appSpecificRoute:e.appSpecificRoute})}};this._getURI=function(){return(new h).query(true)};this.init=function(){C.registerFiori2IconFont();B=this._getURIParams()["sap-manifest-width"];g.setFullWidthFromManifest(B)};this.initPostMessages=function(){const e={"sap.ushell.appRuntime.hashChange":{async handler(e,t){const s=e.sHash;if(typeof s==="string"){const e=P.parseShellHash(s);const t=P.parseShellHash(c.getHash());if(e&&t&&e.semanticObject===t.semanticObject&&e.action===t.action){c.replaceHash(s)}}}},"sap.ushell.appRuntime.innerAppRouteChange":{async handler(e,t){const s=e.oHash?.fullHash;if(typeof s==="string"){c.replaceHash(s)}}},"sap.ushell.appRuntime.setDirtyFlag":{async handler(e,t){const s=e.bIsDirty;if(s!==N.getDirtyFlag()){N.setDirtyFlag(s)}}},"sap.ushell.appRuntime.getDirtyFlag":{async handler(e,t){return N.getDirtyFlag()}},"sap.ushell.appRuntime.themeChange":{async handler(e,t){const s=e.currentThemeId;N.getUser().setTheme(s)}},"sap.ushell.appRuntime.buttonClick":{async handler(e,t){L.handleHeaderButtonClick(e.buttonId)}},"sap.ushell.appRuntime.executeLogoutFunctions":{async handler(e,t){await N.executeAsyncAndSyncLogoutFunctions()}},"sap.ushell.appRuntime.uiDensityChange":{async handler(e,t){const s=e.isTouch;jQuery("body").toggleClass("sapUiSizeCompact",s==="0").toggleClass("sapUiSizeCozy",s==="1")}},"sap.ushell.appRuntime.handleDirtyStateProvider":{async handler(e,t){return N.handleDirtyStateProvider(e.oNavigationContext)}},"sap.ushell.services.MessageBroker._execute":{async handler(e,t){const s=await N.getServiceAsync("MessageBroker");await s.handleMessage(e)}}};Object.keys(e).forEach(t=>{d.setRequestHandler(t,e[t].handler)})};this.handleLinkElementOpen=function(e,t){try{if(t.isDefaultPrevented&&t.isDefaultPrevented()===true){return}const s=t.target;if(s&&s.tagName==="A"&&s.href&&s.href.indexOf("#")>0){if(s.target==="_blank"){const i=s.href.split("#");if(i[0].length===0||i[0]===document.URL.split("#")[0]){F.rebuildNewAppUrl(s.href,e).then(e=>{S.openURL(e)});t.preventDefault()}}else if(s.target===undefined||s.target===""||s.target==="_top"||s.target==="_self"){const e=s.href.split("#");const i=document.URL.split("#");if(e[0]===i[0]){const s=e[1]&&e[1].split("&/");const a=i[1]&&i[1].split("&/");if(typeof s[0]==="string"&&typeof a[0]==="string"&&s[0]!==a[0]){N.getServiceAsync("Navigation").then(t=>{t.navigate({target:{shellHash:e[1]}})});t.preventDefault()}}}}}catch(e){}};this.rebuildNewAppUrl=async function(e,t){const s=e.split("#");if(s[0].length===0||s[0]===document.URL.split("#")[0]){if(U.getIsScube()){const e=await U.checkIntentsConversionForScube([{intent:`#${s[1]}`}]);return t+e[0].intent}return`${t}#${s[1]}`}return e};this.getPageConfig=function(e){window["sap-ushell-config"]=a({},x(),window["sap-ushell-config"]);if(e.hasOwnProperty("sap-remote-intent")){const e=window["sap-ushell-config"].bootstrapPlugins;if(e&&e.hasOwnProperty("WAPluginAgent")&&e.WAPluginAgent.hasOwnProperty("config")){delete e.WAPluginAgent.config["sap-plugin-agent"]}}};this.setModulePaths=function(){if(window["sap-ushell-config"].modulePaths){const e=Object.keys(window["sap-ushell-config"].modulePaths);let t;for(const s in e){t=e[s];(function(e){const t={};t[e.replace(/\./g,"/")]=window["sap-ushell-config"].modulePaths[e];sap.ui.loader.config({paths:t})})(t)}}};this.loadAdditionalLibs=function(){const e=i.get("ui5.libs",window["sap-ushell-config"])||{};const t=[];Object.keys(e).forEach(s=>{if(e[s]===true){t.push(l.load(s))}});return t};this.adjustIframeURL=function(){};this.initServicesContainer=function(){return new Promise(e=>{sap.ui.require(["sap/ushell/appRuntime/ui5/services/Container"],t=>{N=t;N.init("apprt",{apprt:"sap.ushell.appRuntime.ui5.services.adapters"}).then(()=>{N.getFLPUrlAsync().then(e=>{jQuery(document).on("click.appruntime",F.handleLinkElementOpen.bind(F,e));jQuery(document).on("keydown.appruntime",t=>{if(t.code==="Enter"){return F.handleLinkElementOpen(e,t)}})});N.getServiceAsync("ShellNavigationInternal").then(t=>{_=t;_.init(()=>{});F._enableHistoryEntryReplacedDetection();e()})})})})};this._enableHistoryEntryReplacedDetection=function(){this._fnOriginalSetHash=c.setHash;this._fnOriginalReplaceHash=c.replaceHash;c.setHash=function(){if(c.disableCFLPUpdate===true){return this._fnOriginalSetHash.apply(c,arguments)}if(U.checkDataLossAndContinue()){return this._fnOriginalSetHash.apply(c,arguments)}}.bind(this);c.replaceHash=function(){if(c.disableCFLPUpdate===true){return this._fnOriginalReplaceHash.apply(c,arguments)}if(U.checkDataLossAndContinue()){return this._fnOriginalReplaceHash.apply(c,arguments)}}.bind(this)};this._getURIParams=function(){return T};this.getAppInfo=function(e,t){let s;let i;let a;if(e){s=window["sap-ushell-config"].ui5appruntime.config.appIndex.data;i=window["sap-ushell-config"].ui5appruntime.config.appIndex.module;a=window["sap-ushell-config"].ui5appruntime.config.appIndex.enableCache}return new Promise(p=>{if(e&&s&&!n(s)){y.init(i,F.createApplication.bind(F),F.renderApplication.bind(F),a,e,s);p({oResolvedHashFragment:s})}else{y.init(i,F.createApplication.bind(F),F.renderApplication.bind(F),a);y.getAppInfo(e,document.URL,t).then(p)}})};this.setHashChangedCallback=function(){if(M===true){return}c.changed.add(this._treatHashChanged.bind(this),this);M=true};this._treatHashChanged=async function(e,t){if(c.disableCFLPUpdate===true){return}if(e&&typeof e==="string"&&e.length>0){if(t&&typeof t==="string"&&t.length>0){const s=P.compareHashes(e,t);if(!s.sameIntent||!s.sameParameters){N.getServiceAsync("Navigation").then(t=>{t.navigate({target:{shellHash:e}})});return}}d.postMessageToFLP("sap.ushell.appRuntime.hashChange",{newHash:e,direction:u.getInstance().getDirection()})}};this.createApplication=function(e,t,i,a,n){const p=P.getHash(window.location.href);return new Promise(r=>{let l="";if(t.hasOwnProperty("sap-history-dir")){l=t["sap-history-dir"];_.hashChanger.fireEvent("hashReplaced",{hash:_.hashChanger.getHash(),direction:l});s.debug("AppRuntime.createApplication :: Informed by the FLP, to change the History direction "+`property in the Iframe to: ${l}`)}const u=new o({id:`${U.getIsScube()===true?a:e}-content`,width:"100%",height:"100%"});u.addStyleClass("sapAppRuntimeBaseStyle");let c="0";if(T.hasOwnProperty("sap-touch")){c=T["sap-touch"];if(c!=="0"&&c!=="1"){c="0"}}jQuery("body").toggleClass("sapUiSizeCompact",c==="0").toggleClass("sapUiSizeCozy",c==="1");if(O===false){const e=new v({scopeObject:u,scopeType:"component"});e.setBackNavigation();new I({scopeObject:u,scopeType:"component"});y.setShellUIService(e);w.init();O=true}(U.getIsScube()?Promise.resolve(""):y.getApplicationParameters(t)).then(s=>{i.url+=s;F.setHashChangedCallback();Promise.all([N.getServiceAsync("Ui5ComponentLoader"),N.getServiceAsync("AppLifeCycle")]).then(s=>{const o=s[0];const l=s[1];if(i.asyncHints&&Array.isArray(i.asyncHints.libs)){i.asyncHints.libs=i.asyncHints.libs.filter(e=>e.name!=="sap.ushell")}let c;let h;if(U.getIsScube()===true){c=i;h=n}else{c={ui5ComponentName:e,applicationDependencies:i,url:i.url};h=P.parseShellHash(p)}o.createComponent(c,h,[],b.Application).then(e=>{let s;if(U.getIsScube()===true){try{if(p&&p.indexOf("Shell-startIntent")===0){s=e.componentHandle.getInstance().getManifestEntry("/sap.app/title");if(typeof s==="string"){setTimeout(()=>{d.postMessageToFLP("sap.ushell.services.ShellUIService.setTitle",{sTitle:s})},2e3)}}}catch(e){}}u.setComponent(e.componentHandle.getInstance());m.setAppShortId(e.componentHandle);l.prepareCurrentAppObject("UI5",e.componentHandle.getInstance(),false,undefined);F.getCurrentAppInfo(l,t,c,s);F.considerChangingTheDefaultFullWidthVal(e);F.overrideUrlHelperFuncs();r({oComponentContainer:u,oResolutionResultWithComponentHandle:e,sAppIntent:a||"",ui5ComponentName:c.ui5ComponentName})})})})})};this.getCurrentAppInfo=function(e,t,s,i){const a=["appFrameworkVersion","appVersion"];if(!t["sap-startup-params"]||t["sap-startup-params"].indexOf("sap-fiori-id")===-1){a.push("appId")}if(!t["sap-startup-params"]||t["sap-startup-params"].indexOf("sap-ach")===-1){a.push("appSupportInfo")}const n=e.getCurrentApplication();n.getInfo(a).then(e=>{for(const t in e){if(e[t]===undefined||e[t]===""){delete e[t]}}e.appFrameworkId="UI5";e.technicalAppComponentId=s.ui5ComponentName;if(typeof i==="string"){e.appTitle=i}y.setCurrentAppAttributes(e);setTimeout(()=>{d.postMessageToFLP("sap.ushell.services.AppLifeCycle.updateCurrentAppInfo",{info:e})},500)})};this.considerChangingTheDefaultFullWidthVal=function(e){if(B===true||B==="true"){A.emit("appWidthChange",false)}const t=e.componentHandle.getInstance();const s=t.getMetadata();if(s){const e=t.getManifestEntry("/sap.ui/fullWidth");const s=t.getManifestEntry("/sap.ui5/config/fullWidth");if(e===true||e==="true"||s===true||s==="true"){A.emit("appWidthChange",true)}else if(e===false||e==="false"||s===false||s==="false"){A.emit("appWidthChange",false)}}};this.overrideUrlHelperFuncs=function(){if(E===true){return}E=true;if(H){H.triggerEmail=function(e,t,s,i,a){d.postMessageToFLP("sap.ushell.services.ShellUIService.sendEmail",{sTo:e,sSubject:t,sBody:s,sCc:i,sBcc:a,sIFrameURL:document.URL,bSetAppStateToPublic:true})};k=H.redirect;H.redirect=function(e,t){if(e&&t===true&&e.indexOf("#")>=0){N.getFLPUrlAsync().then(s=>{F.rebuildNewAppUrl(e,s).then(e=>{k.call(H,e,t)})})}else{k.call(H,e,t)}}}};function p(e){e.registerPlugins({RTAPluginAgent:{component:"sap.ushell.appRuntime.ui5.plugins.rtaAgent",url:sap.ui.require.toUrl("sap/ushell/appRuntime/ui5/plugins/rtaAgent"),config:{"sap-plugin-agent":true}}})}function W(e){e.registerPlugins({WAPluginAgent:{component:"sap.ushell.appRuntime.ui5.plugins.scriptAgent",url:sap.ui.require.toUrl("sap/ushell/appRuntime/ui5/plugins/scriptAgent"),config:{"sap-plugin-agent":true,scube:false}}})}this.loadPlugins=function(){if(D===true){return}D=true;N.getServiceAsync("PluginManager").then(e=>{p(e);if(U.getIsScube()===false){W(e)}e.loadPlugins("RendererExtensions")})};this.renderApplication=function(e){e.oComponentContainer.placeAt("content");r.hide();setTimeout(()=>{if(e.oResolutionResultWithComponentHandle.componentHandle.getInstance().active){e.oResolutionResultWithComponentHandle.componentHandle.getInstance().active()}F.loadPlugins()},0);y.setCurrentApp(e.oComponentContainer,e.sAppIntent,e.ui5ComponentName)}}const j=new W;j._prepareUshellConfig=prepareUshellConfig;F=j;j.main();return j});
this._migrateV2ServiceConfig=_migrateV2ServiceConfig;
this.prepareUshellConfig=prepareUshellConfig;
this.prepareModules=prepareModules;
}
},"sap/ushell/appruntimescube-min-preload");
sap.ui.require(["sap/ui/core/Core"], (Core) => Core.boot?.());
//# sourceMappingURL=appruntimescube-min-3.js.map
