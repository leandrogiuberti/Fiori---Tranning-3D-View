/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/ui/thirdparty/jquery","../library","./SvgBase","sap/ui/base/ManagedObject","sap/ui/core/theming/Parameters","sap/m/library","sap/ui/core/RenderManager","./Utils"],function(jQuery,t,e,r,i,o,s,n){"use strict";const a=o.ValueCSSColor;const u=t.networkgraph.ElementStatus,l=t.networkgraph.HeaderCheckboxState,c=t.SemanticColorType;var h=e.extend("sap.suite.ui.commons.networkgraph.ElementBase",{metadata:{library:"sap.suite.ui.commons",properties:{title:{type:"string",group:"Misc",defaultValue:null},description:{type:"string",group:"Misc",defaultValue:null},status:{type:"string",group:"Appearance",defaultValue:u.Standard}},aggregations:{attributes:{type:"sap.suite.ui.commons.networkgraph.ElementAttribute",multiple:true,singularName:"attribute"}}},renderer:null});h.prototype.scrollToElement=function(){var t=this.getParent();if(t){t._scrollToElement(this)}};h.prototype._afterRenderingBase=function(){var t=this.getParent();var e=t&&t._isUseNodeHtml()&&this.isA("sap.suite.ui.commons.networkgraph.Node"),r=this.isA("sap.suite.ui.commons.networkgraph.Group");var i=new s;if(!e&&!r){var o=this._render({renderManager:i});if(o){this.$()[0].outerHTML=o}else{i.flush(this.$()[0],true,false);i.destroy()}}this._afterRendering()};h.prototype._removeFromInvalidatedControls=function(){try{this.getUIArea()._onControlRendered(this)}catch(t){}};h.prototype._setFocus=function(t){var e=t?"addClass":"removeClass";this.$()[e](this.FOCUS_CLASS)};h.prototype._replaceId=function(t,e){if(t.attr("id")){t.attr("id",t.attr("id")+e)}t.removeAttr("data-sap-ui");var r=t.children();if(r.length===0){return}r.each(function(t,r){this._replaceId(jQuery(r),e)}.bind(this))};h.prototype._useInLayout=function(){return true};h.prototype._hasFocus=function(){return this.$().hasClass(this.FOCUS_CLASS)};h.prototype._hasDefaultStatus=function(t){t=t||this.getStatus();return t===u.Error||t===u.Information||t===u.Warning||t===u.Success};h.prototype._hasCustomStatus=function(t){t=t||this.getStatus();if(t===u.Standard||this._hasDefaultStatus(t)){return false}return!!t};h.prototype._isCustomStatusColor=function(t){return t!==h.ColorType.BorderWidth&&t!==h.ColorType.BorderStyle};h.prototype._getElementId=function(t){return t?this.getId()+t:this.getId()};h.prototype._getColor=function(t,e){var r=this.getParent(),o,s,n="";var u=function(){if(typeof this.getSelected==="function"&&this.getSelected()){if(t===h.ColorType.Background||t===h.ColorType.Content||t===h.ColorType.Border){t="Selected"+t}if(t==h.ColorType.HeaderContent&&this._isBox()){t=h.ColorType.Content}}}.bind(this);e=e||this.getStatus();if(!this._hasCustomStatus(e)){return""}if(!r||!t){return""}s=r._oStatuses[e];if(s){if(t.indexOf("Focus")!==-1){if(!s.getUseFocusColorAsContentColor()){return""}t=t.replace("Focus","Content")}u();o="get"+t+"Color";var l=s[o]?.();if(c.hasOwnProperty(l)){n=l}else{{if(l){var n=i.get(l);if(!n&&a.isValid(l)){n=l}}}}}return n?n:""};h.prototype._getStatusValue=function(t,e){var r=this.getParent(),i;e=e||this.getStatus();if(!this._hasCustomStatus(e)){return""}if(!r||!t){return""}i=r._oStatuses[e];if(i){return i["get"+t]()}return""};h.prototype._getStatusStyle=function(t,e){let r="",i="";if(!this._hasCustomStatus()){return{style:"",class:""}}Object.keys(t).forEach(function(e){let o=this._isCustomStatusColor(t[e])?this._getColor(t[e]):this._getStatusValue(t[e]);let s=t[e]?.toLowerCase()==="border"?"Background":t[e];o=this._isCustomStatusColor(s)?this._getColor(s):this._getStatusValue(s);if(c.hasOwnProperty(o)){let t=n.SEMANTIC_CLASS_NAME[e.toUpperCase()];i+=t?t+o+" ":""}else{if(o){if(r){r+=";"}r+=e+":"+o}}},this);if(e&&r){r='style="'+r+'"'}return{style:r,class:i}};h.prototype._checkForProcessData=function(){var t=this.getParent();if(t&&t._bRequiresDataProcessing){t._processData()}};h.prototype.getStyleObject=function(t){var e={};if(t){var r=t.split(";");for(var i=0;i<r.length;i++){if(r[i]){var o=r[i].split(":");e[o.splice(0,1)[0]]=o.join(":")}}}return e};h.prototype.applyStyles=function(t,e){Object.keys(e).forEach(function(r){t.style(r,e[r])})};h.prototype.getVisibleAttributes=function(){return this.getAttributes().filter(function(t){return t.getVisible()})};h.prototype.setProperty=function(t,e,i){var o=Object.getPrototypeOf(this).aProcessRequiredProperties;r.prototype.setProperty.call(this,t,e,i);if(o&&o.indexOf(t)!==-1&&this.getParent()){this.getParent()._bRequiresDataProcessing=true}};h.prototype.toString=function(){return this.getMetadata()._sClassName+" - "+this.getTitle()};h.prototype._correctTitle=function(t){if(this.getTitle()){var e=this.$().find("."+t);if(e[0]){var r=e[0].getBBox().width,i=parseInt(e.attr("maxwidth"),10);if(r>i){this._createText(e[0],{text:this.getTitle(),hCenter:true})}}}};h.prototype._renderTitle=function(t){var e=10;t=t||{};var r=t.renderManager;if(!r){var i=this._renderControl("g",{"clip-path":"url(#"+this.getId()+"-title-clip)"},false);i+=this._renderText({attributes:{style:t.style,class:t.class,x:t.x,y:t.y,maxWidth:t.maxWidth},text:t.title,height:e});i+="</g>";return i}this._renderControl("g",{"clip-path":"url(#"+this.getId()+"-title-clip)"},false,r);this._renderText({attributes:{style:t.style,class:t.class,x:t.x,y:t.y,maxWidth:t.maxWidth},text:t.title,height:e,renderManager:r});r.close("g")};h.prototype._renderClipPath=function(t){t=t||{};var e=t.renderManager;if(!e){var r=this._renderControl("clipPath",{id:t.id},false);r+=this._renderControl("rect",{x:t.x,y:t.y,width:t.width||this._iWidth,height:t.height||this._iHeight,direction:t.direction||""});r+="</clipPath>";return r}else{this._renderControl("clipPath",{id:t.id},false,e);this._renderControl("rect",{x:t.x,y:t.y,width:t.width||this._iWidth,height:t.height||this._iHeight,direction:t.direction||""},null,e);e.close("clipPath")}};h.prototype._renderClonedControl=function(t,e){if(t.mapRender){var r=e.$().clone();this._replaceId(r,t.idSufix);t.renderManager.unsafeHtml(r[0].outerHTML)}else{t.renderManager.renderControl(e)}};h.prototype._appendActionButton=function(t,e){var r=t.id?'id="'+t.id+'"':"";var i="<div "+r+' title="'+t.title+'"class="sapSuiteUiCommonsNetworkGraphDivActionButtonBackground">';i+='<div class="sapSuiteUiCommonsNetworkGraphDivActionButton ';if(!t.enable){i+='sapSuiteUiCommonsNetworkGraphDivActionButtonDisabled"';i+='style = " display: none'}i+='">';i+=this._renderHtmlIcon(t.icon,t.class||"");i+="</div>";i+='<div class="sapSuiteUiCommonsNetworkActionButtonFocusCircle"></div>';i+="</div>";var o=jQuery(i);if(t.enable&&t.click){o.on("click",t.click);o.on("click",function(t){if(this.getParent()){this.getParent().setFocus({item:this,button:o[0]},true)}}.bind(this))}e.append(o)};h._isRectOnScreen=function(t,e,r,i,o,s,n,a){return Math.max(t,e)>o&&Math.min(t,e)<s&&Math.max(r,i)>n&&Math.min(r,i)<a};h.prototype._isOnScreen=function(t,e,r,i){return false};h.prototype._setHeaderCheckBoxState=function(t){if(t!==l.Hidden){this._getHeaderCheckbox().setSelected(t===l.Checked);this._getHeaderCheckbox().setVisible(true)}else if(this.getAggregation("_checkBox")){this._getHeaderCheckbox().setVisible(false)}this.setProperty("headerCheckBoxState",t)};h.prototype.setVisible=function(t){var e=this.getParent();this.setProperty("visible",t);if(e){e.setFocus(null);e._setupKeyboardNavigation()}return this};h.prototype.setStatus=function(t){var e=this.getParent();this.setProperty("status",t);if(e&&e._bIsLayedOut){e.updateLegend()}return this};h.ColorType=Object.freeze({BorderStyle:"BorderStyle",BorderWidth:"BorderWidth",Background:"Background",Border:"Border",Content:"Content",HeaderContent:"HeaderContent",SelectedBorder:"SelectedBorder",SelectedBackground:"SelectedBackground",SelectedContent:"SelectedContent",HoverBackground:"HoverBackground",HoverBorder:"HoverBorder",HoverContent:"HoverContent",Focus:"Focus",HoverFocus:"HoverFocus",SelectedFocus:"SelectedFocus"});return h});
//# sourceMappingURL=ElementBase.js.map