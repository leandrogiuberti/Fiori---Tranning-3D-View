/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/suite/ui/commons/library","sap/ui/core/Control","sap/ui/core/IconPool","sap/ui/Device","sap/base/security/encodeXML","sap/base/i18n/Localization"],function(t,e,r,n,o,i){"use strict";var s=t.networkgraph.ElementStatus;var a="http://www.w3.org/2000/svg";var f=e.extend("sap.suite.ui.commons.networkgraph.SvgBase",{metadata:{library:"sap.suite.ui.commons"},renderer:null});f.prototype.HIGHLIGHT_CLASS="sapSuiteUiCommonsNetworkElementHighlight";f.prototype.SELECT_CLASS="sapSuiteUiCommonsNetworkElementSelected";f.prototype.VISIBLE_ACTIONS_BUTTONS_CLASS="sapSuiteUiCommonsNetworkNodeActionButtonsVisible";f.prototype.FOCUS_CLASS="sapSuiteUiCommonsNetworkElementFocus";f.prototype.LINEBUTTONSID="divlinebuttons";f.prototype._createElement=function(t,e){var r=document.createElementNS(a,t);return this._setAttributes(r,e)};f.prototype._setAttributes=function(t,e){e=e||{};Object.keys(e).forEach(function(r){t.setAttribute(r,e[r])});return t};f.prototype._getStatusClass=function(t){var e=t||this.getStatus();switch(e){case s.Warning:return" sapSuiteUiCommonsNetworkElementWarning ";case s.Error:return" sapSuiteUiCommonsNetworkElementError ";case s.Success:return" sapSuiteUiCommonsNetworkElementSuccess ";case s.Information:return" sapSuiteUiCommonsNetworkElementInformation ";default:return""}};f.prototype._getAccessibilityLabel=function(){throw new Error("To be implemented by an extending class.")};f.prototype._renderRoundRect=function(t){t=t||{};var e=t.renderManager;if(!e){return this._renderControl("path",{d:this._renderRoundRectPath(t),style:t.style,class:t.class,id:t.id})}else{this._renderControl("path",{d:this._renderRoundRectPath(t),style:t.style,class:t.class,id:t.id},null,e)}};f.prototype._renderRoundRectPath=function(t){t.topRight=t.topRight||0;t.topLeft=t.topLeft||0;t.bottomRight=t.bottomRight||0;t.bottomLeft=t.bottomLeft||0;var e=t.x+t.width,r=t.y+t.height,n="",o=function(t,e,r){n+=" A"+t+","+t+" 0 0,1 "+e+","+r},i=function(t,e){n+=" L"+t+","+e};n="M"+(t.x+t.topLeft)+","+t.y;i(e-t.topRight,t.y);if(t.topRight){o(t.topRight,e,t.y+t.topRight)}i(e,r-t.bottomRight);if(t.bottomRight){o(t.bottomRight,e-t.bottomRight,r)}i(t.x+t.bottomLeft,r);if(t.bottomLeft){o(t.bottomLeft,t.x,r-t.bottomLeft)}i(t.x,t.y+t.topLeft);if(t.topLeft){o(t.topLeft,t.x+t.topLeft,t.y)}return n};f.prototype._appendTextAnchor=function(t){var e=i.getRTL();if(e&&this._isMSBrowser()){t["text-anchor"]="end"}};f.prototype._renderText=function(t){t=t||{};var e=t.renderManager;if(t.height&&this._isMSBrowser()){t.attributes.dy=t.height/2}this._appendTextAnchor(t.attributes);if(!e){var r;r=this._renderControl("text",t.attributes,false);r+=t.text?o(t.text):"";if(t.close!==false){r+="</text>"}return r}else{this._renderControl("text",t.attributes,false,e);if(!!t.text){e.text(t.text)}if(t.close!==false){e.close("text")}}};f.prototype._renderSpanText=function(t,e,r){t=t||{};var n=t.renderManager;if(r&&this._isMSBrowser()){t.dy=r/2}if(!n){var i=this._renderControl("text",t,false);i+=this._renderControl("tspan",{},false);i+=o(e);i+="</tspan></text>";return i}else{this._renderControl("text",t,false,n);this._renderControl("tspan",{},false,n);n.text(e);n.close("tspan");n.close("text")}};f.prototype._cannotAppendInnerHtml=function(){return this._isMSBrowser()||n.browser.safari};f.prototype._isMSBrowser=function(){return n.browser.edge||n.browser.msie};f.prototype._renderIcon=function(t){t=t||{};var e=t.renderManager;var n=r.getIconInfo(t.icon);if(!e){if(n){return this._renderText({attributes:t.attributes,text:n.content,height:t.height})}return""}else{if(n){this._renderText({attributes:t.attributes,text:n.content,height:t.height,renderManager:e})}}};f.prototype._renderControl=function(t,e,r,n){if(!n){var o="<"+t+" ";e=e||{};Object.keys(e).forEach(function(t){if(typeof e[t]!=="undefined"){o+=t;o+="=";o+='"'+e[t]+'"'}});o+=">";r=r!==false;if(r){o+="</"+t+">"}return o}else{delete e["renderManager"];var i=["img","br","input","area","hr","col","link"];var s=i.indexOf(t)!==-1;n=s?n.voidStart(t):n.openStart(t);if(e){Object.keys(e).forEach(function(t){var r=e[t];if(typeof r!=="undefined"&&r!==""){switch(t){case"id":n.attr(t,r);break;case"class":r.split(" ").forEach(function(t){if(t){n.class(t)}});break;case"style":this.applyStyles(n,this.getStyleObject(r));break;default:n.attr(t,r)}}}.bind(this))}n=s?n.voidEnd():n.openEnd();r=r!==false;if(r&&!s){n.close(t)}}};f.prototype.getStyleObject=function(t){var e={};if(t){var r=t.split(";");for(var n=0;n<r.length;n++){if(r[n]){var o=r[n].split(":");e[o.splice(0,1)[0]]=o.join(":")}}}return e};f.prototype.applyStyles=function(t,e){Object.keys(e).forEach(function(r){t.style(r,e[r])})};f.prototype._createText=function(t,e){var r=t.firstChild,n=e.text.length,o=e.dots!==false,i=e.text,s=true,a=false,f=parseInt(t.getAttribute("maxwidth"),10)||e.width,l=parseFloat(t.getAttribute("x")),c=e.suffix?e.suffix:"",p=e.centerWidth?e.centerWidth:f,u="..."+c,h,d;e.trim=e.trim!==false;r.textContent=e.text+c;if(e.trim&&f>0){d=t.getBBox().width;if(d>f){a=true;while(true){n/=2;h=i.length+(s?-1:1)*Math.ceil(n);i=e.text.substring(0,h);r.textContent=i+(o?u:"");d=t.getBBox().width;s=d>f;if(n<.5&&!s){if(d>f){i=e.text.substring(0,i.length-Math.ceil(n*2));r.textContent=i+ +(o?u:"")}break}}}}if(e.hCenter&&!a){t.setAttribute("text-anchor","middle");t.setAttribute("x",l+p/2)}return a};f.prototype._createIcon=function(t,e,n){var o=r.getIconInfo(e),i;if(o){if(n&&this._isMSBrowser()){t.dy=n/2}i=this._createElement("text",t);i.textContent=o.content;return i}return null};f.prototype._getDomId=function(t){var e=this.getId();if(t){e+="-"+t}return e};f.prototype._convertToSvg=function(t){var e;var r=function(t){var e={},r;if(t.attributes){for(var n=0;n<t.attributes.length;n++){r=t.attributes[n];e[r.name]=r.value}}return e};var n=function(t,e){var o,i,s="";if(t.childNodes.length===1&&!t.childNodes[0].localName){e.textContent=t.childNodes[0].textContent;return}for(var a=0;a<t.childNodes.length;a++){o=t.childNodes[a];s=o.localName;if(s==="clippath"){s="clipPath"}i=this._createElement(s,r(o));e.appendChild(i);if(o.childNodes){n(o,i)}}}.bind(this);e=this._createElement(t[0].localName,r(t[0]));n(t[0],e);return e};f.prototype._convertToStyle=function(t,e,r){var n="";if(t){Object.keys(t).forEach(function(e){var r=t[e];if(typeof r!=="undefined"&&r!==""){n+=e;n+=":";n+=t[e]+";"}});n=n+(e||"");if(!r&&n){n='style="'+n+'"'}}return n};f.prototype._renderHtmlElement=function(t,e,r,n){if(!n){var o="";o+="<"+t+" ";o+=this._convertToStyle(e);if(r){Object.keys(r).forEach(function(t){var e=r[t];if(typeof e!=="undefined"&&e!==""){o+=t;o+="=";o+='"'+e+'"'}})}o+=">";return o}else{n=t==="img"?n.voidStart("img"):n.openStart(t);var i=this._convertToStyle(e,undefined,true);this.applyStyles(n,this.getStyleObject(i));if(r){Object.keys(r).forEach(function(t){var e=r[t];if(typeof e!=="undefined"&&e!==""){if(t==="class"){e.split(" ").forEach(function(t){if(t){n.class(t)}})}else if(t==="style"){this.applyStyles(n,this.getStyleObject(e))}else{n.attr(t,e)}}}.bind(this))}n=t==="img"?n.voidEnd():n.openEnd()}};f.prototype._renderHtmlIcon=function(t,e,n,i,s,a){var f=r.getIconInfo(t),l="",c="";if(!a){n=n?'id="'+this.getId()+"-"+n+'"':"";e=e||"";if(f){if(f.fontFamily){c='style="font-family:'+o(f.fontFamily)+'"'}l=s?' aria-label="'+o(s)+'" ':"";s=s?' title="'+o(s)+'" ':"";return"<div "+n+s+l+" "+(i||"")+'class="sapSuiteUiCommonsNetworkGraphIcon '+e+'"><span '+c+">"+o(f.content)+"</span></div>"}return""}else{if(f){a.openStart("div");if(n){a.attr("id",this.getId()+"-"+n)}if(s){a.attr("title",s)}if(s){a.attr("aria-label",s)}a.class("sapSuiteUiCommonsNetworkGraphIcon");if(e){e.split(" ").forEach(function(t){if(t){a.class(t)}})}this.applyStyles(a,this.getStyleObject(i));a.openEnd();a.openStart("span");if(f.fontFamily){a.style("font-family",o(f.fontFamily))}a.openEnd().text(f.content).close("span");a.close("div")}}};return f});
//# sourceMappingURL=SvgBase.js.map