/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/ui/thirdparty/jquery","sap/suite/ui/commons/library","./ElementBase","./ElementAttribute","sap/ui/core/IconPool","sap/ui/Device","sap/base/security/encodeXML","sap/base/security/sanitizeHTML","sap/m/CheckBox","sap/m/Text","./NodeRenderer","sap/ui/core/Core","sap/ui/core/Theming","sap/ui/core/Lib","./Utils"],function(jQuery,t,e,i,s,r,n,o,a,h,l,d,p,u,c){"use strict";var g=t.networkgraph.NodeShape,_=t.networkgraph.ActionButtonPosition,S=t.networkgraph.HeaderCheckboxState,f=t.SemanticColorType;var C=32,m=5,y=160,T=4;var I={Circle:{WIDTH:96,HEIGHT:64},Box:{WIDTH:160,HEIGHT:32},Attributes:{LINE:16,OFFSET:8},ActionButtons:{RADIUS:13,MARGIN:8,OFFSET:4},Title:{LINESIZE:15,OFFSET:8,ICON_SIZE:16,INFO_BOX_SIZE:20,ICON_X_OFFSET:6,IMAGE_OFFSET_Y:6},Description:{LINESIZE:15},Image:{Box:16,Circle:32}};var v={EXPANDED:"Expanded",COLLAPSED:"Collapsed",PARTIAL:"Partial"};var N={EXPAND:"sys-add",COLLAPSE:"sys-minus",PARTIAL:"overlay"};var A=s.getIconInfo(N.EXPAND),x=s.getIconInfo(N.COLLAPSE),E=s.getIconInfo(N.PARTIAL);A=A&&A.content;x=x&&x.content;E=E&&E.content;var b=u.getResourceBundleFor("sap.suite.ui.commons");var w=t.networkgraph.ElementStatus;var k={[w.Success]:"sap-icon://sys-enter-2",[w.Error]:"sap-icon://error",[w.Warning]:"sap-icon://status-critical",[w.Information]:"sap-icon://information"};var L=e.extend("sap.suite.ui.commons.networkgraph.Node",{metadata:{library:"sap.suite.ui.commons",properties:{headerCheckBoxState:{type:"sap.suite.ui.commons.networkgraph.HeaderCheckboxState",group:"Misc",defaultValue:S.Hidden},collapsed:{type:"boolean",group:"Misc",defaultValue:false},selected:{type:"boolean",group:"Misc",defaultValue:false},group:{type:"string",group:"Misc",defaultValue:null},key:{type:"string",group:"Misc",defaultValue:null},shape:{type:"sap.suite.ui.commons.networkgraph.NodeShape",groups:"Behavior",defaultValue:g.Circle},icon:{type:"string",group:"Appearance",defaultValue:null},statusIcon:{type:"string",group:"Appearance",defaultValue:null},width:{type:"int",group:"Misc",defaultValue:undefined},height:{type:"int",group:"Misc",defaultValue:undefined},maxWidth:{type:"int",group:"Misc",defaultValue:undefined},x:{type:"float",group:"Misc",defaultValue:0},y:{type:"float",group:"Misc",defaultValue:0},showExpandButton:{type:"boolean",defaultValue:true},showActionLinksButton:{type:"boolean",defaultValue:true},showDetailButton:{type:"boolean",defaultValue:true},titleLineSize:{type:"int",defaultValue:1},descriptionLineSize:{type:"int",defaultValue:-1},iconSize:{type:"int",group:"Appearance",defaultValue:undefined},coreNodeSize:{type:"int",group:"Appearance",defaultValue:0},visible:{type:"boolean",group:"Appearance",defaultValue:true},altText:{type:"string",group:"Appearance",defaultValue:null},nodeTitleBackground:{type:"boolean",group:"Appearance",defaultValue:false}},aggregations:{actionLinks:{type:"sap.ui.core.Control",multiple:true,singularName:"actionLink"},actionButtons:{type:"sap.suite.ui.commons.networkgraph.ActionButton",multiple:true,singularName:"actionButton"},image:{type:"sap.suite.ui.commons.networkgraph.NodeImage",multiple:false,singularName:"nodeImage"},content:{type:"sap.ui.core.Control",multiple:false},_checkBox:{type:"sap.m.CheckBox",multiple:false,visibility:"hidden"}},events:{headerCheckBoxPress:{parameters:{checked:"boolean"}},press:{},hover:{},collapseExpand:{}}},onAfterRendering:function(){this._afterRenderingBase()}});L.prototype.aProcessRequiredProperties=["key","group"];L.prototype.init=function(t){this._bThemeApplied=false;d.ready(this._handleCoreInitialized.bind(this));this._oExpandState=v.EXPANDED;this._oGroup=null;this._iWidth=0;this._iHeight=0;this._iLabelAttrWidth=0;this._iValueAttrWidth=0;this._aTitleLines=[[]];this._aDescriptionLines=[[]];this._bIsHidden=false;this._bActionButtonsRendered=false;this._iCircleSize=0;this._iGroupIndex=-1;this._clearChildren()};L.prototype._handleCoreInitialized=function(){p.attachApplied(function(){this._bThemeApplied=true;this.invalidate()}.bind(this))};L.prototype._clearChildren=function(){this.aChildren=[];this.aParents=[];this.aLines=[];this.aParentLines=[]};L.prototype._afterRendering=function(){var t=this.$();if(this._isInCollapsedGroup()){return}this._correctTitle("sapSuiteUiCommonsNetworkNodeTitle");this._setupEvents();if(this._bIsHidden){t.hide()}if(!this.getVisible()||this._oGroup&&!this._oGroup.getVisible()){t.hide()}if(this._oExpandState===v.COLLAPSED){t.addClass("sapSuiteUiCommonsNetworkNodeCollapsed")}if(this._oExpandState===v.PARTIAL){t.addClass("sapSuiteUiCommonsNetworkNodePartialCollapsed")}this.$(this.getId()+"actionbuttons").detach();this._bActionButtonsRendered=false;this._removeFromInvalidatedControls();if(this._isHtml()&&!L.hasNativeLineClamp){this._setTextHeight(t.find(".sapSuiteUiCommonsNetworkGraphDivNodeTitle"),this.getTitleLineSize());this._setTextHeight(t.find(".sapSuiteUiCommonsNetworkGraphDivNodeDescription"),this.getDescriptionLineSize())}if(this.getSelected()){this.showActionButtons(true)}if(this._isInteractiveNode()){this.addStyleClass("sapMPointer")}else{this.removeStyleClass("sapMPointer")}};L.prototype._isInteractiveNode=function(){var t=this.getShowExpandButton()&&this._hasVisibleChildren(),e=this.getShowDetailButton()&&(this._hasDetailData()||this.getTitle()),i=this.getShowActionLinksButton()&&this._hasActionLinks(),s=this.getActionButtons(),r=s&&s.length>0,n=this.mEventRegistry.press;return t||e||i||r||n};L.prototype._render=function(t){var e=this.getParent(),i=e&&e._isUseNodeHtml();if(this._isIgnored()){return""}t=t||{};if(t.mapRender){if(this._oGroup&&!this._oGroup.getVisible()||!this.getVisible()){return""}}return i?this._renderHtml(t):this._renderSvg(t)};L.prototype._renderHtmlInfoIcon=function(t,e){t=t||{};e=e||{};var i=this.getStatusIcon(),s=this._convertToStyle(t,undefined,true),r=e.renderManager;r.openStart("div");r.attr("id",this._getElementId(e.idSufix)+"-statusiconwrapper");r.attr("title",b.getText("NETWORK_GRAPH_COLLAPSED"));this.applyStyles(r,this.getStyleObject(s));r.class("sapSuiteUiCommonsNetworkNodeDivInfoWrapper").class("sapSuiteUiCommonsNetworkNodeInfoWrapper");r.openEnd();r.openStart("div").class("sapSuiteUiCommonsNetworkNodeDivInfoIcon").class("sapSuiteUiCommonsNetworkGraphDivNodeIcon").openEnd();this._renderHtmlIcon(i||"sap-icon://hint",null,null,null,null,r);r.close("div");r.close("div")};L.prototype._renderHtmlText=function(t,e,i,s,r){var n=()=>{r.openStart("span");if(this.getNodeTitleBackground()){r.class("sapNodeTitleBackground")}r.openEnd();r.text(t);r.close("span");r.close("div")};if(f.hasOwnProperty(s)){var o=c.SEMANTIC_CLASS_NAME.TEXT+s;this._renderHtmlElement("div",{"-webkit-line-clamp":e===0?"":e},{class:"sapSuiteUiCommonsNetworkGraphDivNodeText "+(i||"")+(e===1?" sapSuiteUiCommonsNetworkGraphDivTextBreakAll ":" ")+o},r);n()}else if(!s){this._renderHtmlElement("div",{"-webkit-line-clamp":e===0?"":e,color:s},{class:"sapSuiteUiCommonsNetworkGraphDivNodeText "+(i||"")+(e===1?" sapSuiteUiCommonsNetworkGraphDivTextBreakAll ":"")},r);n()}else{{this._renderHtmlElement("div",{"-webkit-line-clamp":e===0?"":e,color:s},{class:"sapSuiteUiCommonsNetworkGraphDivNodeText "+(i||"")+(e===1?" sapSuiteUiCommonsNetworkGraphDivTextBreakAll ":"")},r);n()}}};L.prototype._renderHtmlTitle=function(t,e){var i=this.getTitle();var s=i?i:this.getAltText();if(s){this._renderHtmlText(s,this.getTitleLineSize(),"sapSuiteUiCommonsNetworkGraphDivNodeTitleText sapSuiteUiCommonsNetworkGraphDivNodeTitle",t,e);e.openStart("div").style("clear","both").openEnd().close("div")}};L.prototype._renderHtmlDescription=function(t,e){var i=this.getDescriptionLineSize(),s=this.getDescription();if(s&&i!=-1){this._renderHtmlText(s,i,"sapSuiteUiCommonsNetworkGraphDivNodeDescription",t,e)}};L.prototype._renderHtmlTitleAndDescription=function(t){this._renderHtmlTitle(null,t);this._renderHtmlDescription(null,t)};L.prototype._renderHtmlAttributes=function(t){var e=this.getVisibleAttributes();if(!t.renderManager){return}if(e.length>0){t.renderManager.openStart("div").class("sapSuiteUiCommonsNetworkGraphDivNodeAttributes").openEnd();e.forEach(function(e){this._renderClonedControl(t,e)}.bind(this));t.renderManager.close("div")}};L.prototype._showDivActionButtons=function(t){var e=this,i=this.$("rightdivbuttons"),s=this.$("leftdivbuttons");if(t&&!this._bActionButtonsRendered){i.html("");s.html("");var r=0,n=0;if(this.getShowExpandButton()){this._appendActionButton({class:"sapSuiteUiCommonsNetworkNodeActionCollapseIcon",icon:this._getExpandIcon(true),enable:this._hasVisibleChildren(),title:this._oExpandState===v.EXPANDED?b.getText("NETWORK_GRAPH_EXPANDED"):b.getText("NETWORK_GRAPH_COLLAPSED"),id:this._getDomId("actionCollapse"),click:this._expandClick.bind(this)},i);r++}if(this.getShowDetailButton()){var o=this.getTitle();this._appendActionButton({icon:"sap-icon://menu2",enable:this._hasDetailData()||(o?o:this.getAltText()),id:this._getDomId("actionDetail"),title:b.getText("NETWORK_GRAPH_NODE_DETAILS"),click:function(t){this._detailClick(t.target)}.bind(this)},i);if(document.getElementById(this._getDomId("actionDetail"))){document.getElementById(this._getDomId("actionDetail")).setAttribute("aria-haspopup","dialog")}r++}if(this.getShowActionLinksButton()){this._appendActionButton({icon:"sap-icon://chain-link",enable:this._hasActionLinks(),title:b.getText("NETWORK_GRAPH_NODE_LINKS"),id:this._getDomId("actionLinks"),click:function(t){this._linksClick(t.target)}.bind(this)},i);if(document.getElementById(this._getDomId("actionLinks"))){document.getElementById(this._getDomId("actionLinks")).setAttribute("aria-haspopup","dialog")}r++}for(var a=0;r+n<T*2&&a<this.getActionButtons().length;a++){(function(t){var o=t.getPosition(),a=o===_.Right?r:n;if(a>=T){o=o===_.Left?_.Right:_.Left}var h=o===_.Right?i:s;e._appendActionButton({icon:t.getIcon(),enable:t.getEnabled(),title:t.getTitle(),id:t.getId(),click:function(i){t.firePress({buttonElement:i.target});setTimeout(function(){if(t&&t.getDomRef()){e.getParent().setFocus({item:t.getParent(),button:t.getDomRef()})}},0)}},h)})(this.getActionButtons()[a])}this._bActionButtonsRendered=true}var h=t?"addClass":"removeClass";this.$().find(".sapSuiteUiCommonsNetworkGraphDivActionButtons")[h](this.VISIBLE_ACTIONS_BUTTONS_CLASS)};L.prototype._getCorrectWidth=function(){var t=this._iWidth||this.getWidth()||"auto",e="";if(this.getMaxWidth()){e=this.getMaxWidth()+"px"}if(t!==""&&t!=="auto"){t+="px"}return{width:t,maxWidth:e}};L.prototype._renderHtml=function(t){var e=this._getElementId(t.idSufix),i=this._isCircle(),s=this._getCorrectWidth(),r=this._getNodeClass(),n={id:e,"data-sap-ui":e,class:r};if(r.includes("sapSuiteUiCommonsNetworkBox")&&this.getTooltip_AsString()){n["title"]=this.getTooltip_AsString()}this._renderHtmlElement("div",{width:i?s.width:"","max-width":i?s.maxWidth:"",top:!this._bMainRender&&this.getY()?this.getY()+"px":"",left:!this._bMainRender&&this.getX()?this.getX()+"px":"","min-width":y+"px"},n,t.renderManager);this.renderContent(t);t.renderManager.close("div")};L.prototype._renderHtmlContent=function(t){t=t||{};var i=this._getElementId(t.idSufix),s=this._iHeight||this.getHeight()||I.Circle.HEIGHT,r=this._isCircle();var n=function(){var e=this.getContent();if(e){t.renderManager.openStart("div",this.getId()+"-contentwrapper");t.renderManager.openEnd();this._renderClonedControl(t,e);t.renderManager.close("div")}else{this.renderItemContent(t)}}.bind(this);let o=(t="",e)=>{(t.split(" ")||[]).forEach(t=>{e.class(t)})};let{style:a,class:h}=this._getStatusStyle({"border-color":e.ColorType.Focus},false);if(r){this._iCircleSize=this._iCircleSize||s;let{style:r,class:n}=this._getStatusStyle({"border-color":e.ColorType.Border});var l=this._convertToStyle({width:this._iCircleSize+"px",height:this._iCircleSize+"px"},r,true);let{style:d,class:p}=this._getStatusStyle({"border-color":e.ColorType.Background},false);let{style:u,class:c}=this._getStatusStyle({"border-color":e.ColorType.Border,"background-color":this.getSelected()?e.ColorType.SelectedBackground:"","border-width":e.ColorType.BorderWidth,"border-style":e.ColorType.BorderStyle},false);t.renderManager.openStart("div",i+"-wrapperwithbuttons");t.renderManager.class("sapSuiteUiCommonsNetworkGraphDivInnerWrapper");o(n,t.renderManager);this.applyStyles(t.renderManager,this.getStyleObject(l));t.renderManager.openEnd();this.renderHtmlActionButtons(t);t.renderManager.openStart("div",i+"-wrapper");this.applyStyles(t.renderManager,this.getStyleObject(u));t.renderManager.class("sapSuiteUiCommonsNetworkGraphDivInner");o(c,t.renderManager);t.renderManager.openEnd();t.renderManager.openStart("div");if(this.getTooltip_AsString()){t.renderManager.attr("title",this.getTooltip_AsString())}t.renderManager.class("sapSuiteUiCommonsNetworkDivCircleWrapper");t.renderManager.openEnd();this._renderHtmlInfoIcon({},t);t.renderManager.openStart("div",i+"-focus");this.applyStyles(t.renderManager,this.getStyleObject(a));t.renderManager.class("sapSuiteUiCommonsNetworkDivFocus");o(h,t.renderManager);t.renderManager.openEnd();t.renderManager.openStart("div",i+"-status");this.applyStyles(t.renderManager,this.getStyleObject(d));t.renderManager.class("sapSuiteUiCommonsNetworkDivCircleStatus");o(p,t.renderManager);t.renderManager.openEnd();this.renderItemContent(t);t.renderManager.close("div");t.renderManager.close("div");t.renderManager.close("div");t.renderManager.close("div");t.renderManager.close("div");this._renderHtmlTitleAndDescription(t.renderManager)}else{var d=this._getCorrectWidth();let{style:s,class:r}=this._getStatusStyle({"border-color":e.ColorType.Border,"background-color":this.getSelected()?e.ColorType.SelectedBackground:"","border-width":e.ColorType.BorderWidth,"border-style":e.ColorType.BorderStyle});var l=this._convertToStyle({width:d.width,"max-width":d.maxWidth?d.maxWidth:"inherit","min-width":y+"px"},s,true);this.renderHtmlActionButtons(t);t.renderManager.openStart("div",i+"-wrapper");this.applyStyles(t.renderManager,this.getStyleObject(l));t.renderManager.class("sapSuiteUiCommonsNetworkGraphDivInner");o(r,t.renderManager);t.renderManager.openEnd();t.renderManager.openStart("div",i+"-focus");this.applyStyles(t.renderManager,this.getStyleObject(a));t.renderManager.class("sapSuiteUiCommonsNetworkDivFocus");o(h,t.renderManager);t.renderManager.openEnd();t.renderManager.close("div");let{style:u,class:c}=this._getStatusStyle({"background-color":e.ColorType.Background},false);var p=this._getColor(this.getSelected()?e.ColorType.Content:e.ColorType.HeaderContent);t.renderManager.openStart("div",i+"-header");this.applyStyles(t.renderManager,this.getStyleObject(u));t.renderManager.class("sapSuiteUiCommonsNetworkGraphDivHeader");o(c,t.renderManager);if(this._hasHeaderContent()){t.renderManager.class("sapSuiteUiCommonsNetworkGraphDivHeaderColor")}if(!this._hasAdditionalContent()){t.renderManager.class("sapSuiteUiCommonsNetworkGraphDivHeaderOnly")}t.renderManager.openEnd();if(this._showHeaderCheckBox()){this._renderClonedControl(t,this._getHeaderCheckbox())}this._renderHtmlTitleIcon("sapSuiteUiCommonsNetworkGraphDivNodeIconTitle",t.renderManager);this._renderHtmlTitle(p,t.renderManager);this._renderHtmlStatusIcon("sapSuiteUiCommonsNetworkGraphDivNodeIconStatus",t.renderManager);t.renderManager.close("div");n();t.renderManager.close("div");this._renderHtmlInfoIcon({},t)}};L.prototype._getHeaderCheckbox=function(){var t=this.getAggregation("_checkBox"),e=this;if(!t){t=new a(this.getId()+"-checkbox").addStyleClass("sapSuiteUiCommonsNetworkGraphHeaderCheckboxInner");t.addEventDelegate({onAfterRendering:function(){t.$().on("mousedown",function(i){var s=!t.getSelected();t.setSelected(s);e.fireHeaderCheckBoxPress({checked:s});i.stopPropagation()})}});this.setAggregation("_checkBox",t,true)}return t};L.prototype._renderHtmlStatusIcon=function(t,i){var s=k[this.getStatus()],r=this.getIconSize()?'style="font-size:'+this.getIconSize()+'px"':"",{style:n,class:o}=this._getStatusStyle({color:this._isBox()?e.ColorType.HeaderContent:e.ColorType.Content},false);if(s){t=t+" "+o;i.openStart("div");this.applyStyles(i,this.getStyleObject(n));t.split(" ").forEach(function(t){if(t){i.class(t)}});i.openEnd();this._renderHtmlIcon(s,this.getStatus(),null,r,null,i);i.close("div")}};L.prototype._renderHtmlTitleIcon=function(t,i){var s=this.getIcon(),r=this.getImage(),n=this.getIconSize()?'style="font-size:'+this.getIconSize()+'px"':"",o;var{style:a,class:h}=this._getStatusStyle({color:this._isBox()?e.ColorType.HeaderContent:e.ColorType.Content},false);t=(t||"")+" sapSuiteUiCommonsNetworkGraphDivNodeTitleText sapSuiteUiCommonsNetworkGraphDivNodeIcon "+h;if(r){o=this._getImageSize();this._renderHtmlElement("img",{width:o.width+"px",height:o.height+"px"},{src:r.getSrc(),class:"sapSuiteUiCommonsNetworkGraphDivNodeImage"},i)}else if(s){i.openStart("div");this.applyStyles(i,this.getStyleObject(a));t.split(" ").forEach(function(t){if(t){i.class(t)}});i.openEnd();this._renderHtmlIcon(s,null,null,n,null,i);i.close("div")}};L.prototype._renderHtmlBoxContent=function(t){var i=this._hasAdditionalContent(),s=this._getElementId(t.idSufix);if(i){t.renderManager.openStart("div",s+"-additionalwarpper");t.renderManager.class("sapSuiteUiCommonsNetworkGraphDivAdditionalContent").openEnd();var r=this._getColor(e.ColorType.Content);this._renderHtmlDescription(r,t.renderManager);this._renderHtmlAttributes(t);t.renderManager.close("div")}};L.prototype._renderHtmlCircleContent=function(t){this._renderHtmlTitleIcon("sapSuiteUiCommonsNetworkGraphDivNodeCircleIcon",t.renderManager)};L.prototype._renderSvg=function(t){t=t||{};var e=t.renderManager,i=this._getElementId(t.idSufix),s=this._getNodeClass(),r={id:i,"data-sap-ui":i,nodeid:n(this.getKey()),class:s};if(s.includes("sapSuiteUiCommonsNetworkBox")&&this.getTooltip_AsString()){r["title"]=this.getTooltip_AsString()}if(!e){var o=this._renderControl("g",r,false);o+=this._renderControl("g",{id:i+"-wrapper",class:"sapSuiteUiCommonsNetworkNodeShape"},false);o+=this._renderContent(t);o+="</g>";o+="</g>";return o}this._renderControl("g",r,false,e);this._renderControl("g",{id:i+"-wrapper",class:"sapSuiteUiCommonsNetworkNodeShape"},false,e);var a=this._renderContent(t);e.close("g");e.close("g");if(a&&typeof a==="string"){return a}};L.prototype._renderSvgContent=function(t){t=t||{};var e=t.renderManager;var i=this.getParent()._bIsRtl,s,r;if(this._isCircle()){var n=this._iCircleSize/8,o=this._iCircleSize/5.3;s=i?this._getCirclePosition().x+this._iCircleSize-n:this._getCirclePosition().x+n;r=this.getY()+o}else{s=this.getX();r=this.getY()}if(!e){var a=this._isBox()?this._renderBox(t):this._renderCircle(t);a+=this.renderStatusIcon({x:s-this.getX(),y:r-this.getY()});return a}var h=this._isBox()?this._renderBox(t):this._renderCircle(t);this.renderStatusIcon({x:s-this.getX(),y:r-this.getY(),renderManager:e});if(h&&typeof h==="string"){return h}};L.prototype._renderContent=function(t){return this.renderContent(t)};L.prototype._renderCircleContent=function(t){var i=this._iCircleSize,s=this.getParent()._bIsRtl,r=this.getImage(),n,a=this.getX(),h=this.getY();var l,d,p,u,c,g,_,S;t=t||{};var f=t.renderManager;d=this.getTitle();p=d?d:this.getAltText();if(this._displayImage(r)){n=this._getImageSize();l={"xlink:href":r.getSrc(),x:a+this._iWidth/2-n.width/2,y:h+i/2-n.height/2,width:n.width,height:n.height}}else if(this.getIcon()){var{style:C,class:m}=this._getStatusStyle({fill:e.ColorType.Content});u={attributes:{class:"sapSuiteUiCommonsNetworkGraphIcon sapSuiteUiCommonsNetworkCircleNodeIcon sapSuiteUiCommonsNetworkStatusText "+m,style:(this.getIconSize()?"font-size:"+this.getIconSize()+"px;":"")+C,x:a+this._iWidth/2,y:h+i/2},icon:this.getIcon(),height:this.getIconSize()?this.getIconSize()-2:22}}if(p){if(!this._aTitleLines||this._aTitleLines.length===1){c={class:"sapSuiteUiCommonsNetworkNodeTitle sapSuiteUiCommonsNetworkNodeText",x:a+this._iWidth/2,y:h+i+I.Title.OFFSET,title:o(p),maxWidth:this._iWidth-5};g={id:this.getId()+"-title-clip",x:a,y:h+i+I.Title.OFFSET-10,height:I.Title.LINESIZE*2}}else{_={x:a+this._iWidth/2,y:h+i+I.Title.OFFSET*2}}}if(this._displayDescription()){S={x:s?a+this._iWidth-I.Title.OFFSET:a+I.Title.OFFSET,y:h+this._getTitleHeight()+i+I.Title.OFFSET*2+I.Title.OFFSET/2}}if(!f){var y="";if(this._displayImage(r)){y+=this._renderControl("image",l)}else if(this.getIcon()){y+=this._renderIcon(u)}if(p){if(!this._aTitleLines||this._aTitleLines.length===1){y+=this._renderClipPath(g);y+=this._renderTitle(c)}else{y+=this._renderMultilineTitle(_)}}if(this._displayDescription()){y+=this._renderDescription(S)}return y}if(this._displayImage(r)){this._renderControl("image",l,null,f)}else if(this.getIcon()){u.renderManager=f;this._renderIcon(u)}if(p){if(!this._aTitleLines||this._aTitleLines.length===1){g.renderManager=f;c.renderManager=f;this._renderClipPath(g);this._renderTitle(c)}else{_.renderManager=f;this._renderMultilineTitle(_)}}if(this._displayDescription()){S.renderManager=f;this._renderDescription(S)}};L.prototype._renderCircle=function(t){var i=this.getX(),s=this.getY(),r=2,n=this._iCircleSize;t=t||{};var o=t.renderManager;var{style:a,class:h}=this._getStatusStyle({stroke:e.ColorType.Border});var l={id:this.getId()+"-innerBox",cx:i+this._iWidth/2,cy:s+n/2,style:a,r:n/2,class:"sapSuiteUiCommonsNetworkInnerCircle "+h};var{style:d,class:p}=this._getStatusStyle({stroke:e.ColorType.Focus});var u={id:this.getId()+"-focusCircle",cx:i+this._iWidth/2,cy:s+n/2,style:d,r:n/2+r,class:"sapSuiteUiCommonsNetworkCircleFocus "+p};if(!o){var c="";c+=this._renderControl("circle",l);c+=this._renderControl("circle",u);c+=this.renderItemContent();return c}this._renderControl("circle",l,null,o);this._renderControl("circle",u,null,o);return this.renderItemContent({renderManager:o})};L.prototype._renderBoxContent=function(t){var i=C/2,s=I.Title.ICON_X_OFFSET,r=this.getParent()._bIsRtl,n=this.getImage(),a=this.getY(),h=this.getX(),l,d=this._getImageSize();var p,u,c,g,_,S;t=t||{};var f=t.renderManager;var y=this.getTitle();var T=y?y:this.getAltText();if(this._displayImage(n)){d=this._getImageSize();p={"xlink:href":n.getSrc(),x:r?h+this._iWidth-I.Title.ICON_X_OFFSET-d.width:h+I.Title.ICON_X_OFFSET,y:a+I.Title.IMAGE_OFFSET_Y,width:d.width,height:d.height};s+=d.width+I.Title.ICON_X_OFFSET}else if(this.getIcon()){var{style:v,class:N}=this._getStatusStyle({fill:e.ColorType.Content});u={attributes:{style:v,class:"sapSuiteUiCommonsNetworkGraphIcon sapSuiteUiCommonsNetworkNodeTitleIcon sapSuiteUiCommonsNetworkStatusText "+N,x:r?h+this._iWidth-I.Title.ICON_X_OFFSET:h+I.Title.ICON_X_OFFSET,y:a+i},icon:this.getIcon(),height:I.Title.LINESIZE};s+=I.Title.ICON_SIZE+I.Title.ICON_X_OFFSET}if(T){l=this._iWidth-s-m;if(l>0){if(!this._aTitleLines||this._aTitleLines.length===1){c={id:this.getId()+"-title-clip",x:h,y:a,height:C};var{style:A,class:x}=this._getStatusStyle({fill:e.ColorType.Content});g={class:"sapSuiteUiCommonsNetworkNodeTitle sapSuiteUiCommonsNetworkNodeText sapSuiteUiCommonsNetworkStatusText "+x,style:A,x:r?h+this._iWidth-s:h+s,y:a+i,maxWidth:l,title:o(T)}}else{_={x:r?h+this._iWidth-s:h+s,y:a+I.Title.OFFSET*2}}}}if(this._displayDescription()){S={x:r?h+this._iWidth-I.Title.OFFSET:h+I.Title.OFFSET-I.Title.OFFSET/3,y:a+this._getTitleHeight()+(this._hasMultiLineTitle()?I.Title.OFFSET*2+I.Title.OFFSET/2:I.Title.OFFSET*4)}}if(!f){var E="";if(this._displayImage(n)){d=this._getImageSize();E+=this._renderControl("image",p)}else if(this.getIcon()){E+=this._renderIcon(u)}if(T){if(l>0){if(!this._aTitleLines||this._aTitleLines.length===1){E+=this._renderClipPath(c);E+=this._renderTitle(g)}else{E+=this._renderMultilineTitle(_)}}}if(this._displayDescription()){E+=this._renderDescription(S)}if(this._displayAttributes()){E+=t.sizeDetermination?this._renderAttributesForSize():this._renderAttributes({y:this.getY()+this._getDescriptionHeight()+this._getTitleHeight()+I.Title.OFFSET+(!this._hasMultiLineTitle()?I.Attributes.OFFSET:0)})}return E}if(this._displayImage(n)){this._renderControl("image",p,null,f)}else if(this.getIcon()){u.renderManager=f;this._renderIcon(u)}if(T){if(l>0){if(!this._aTitleLines||this._aTitleLines.length===1){c.renderManager=f;g.renderManager=f;this._renderClipPath(c);this._renderTitle(g)}else{_.renderManager=f;this._renderMultilineTitle(_)}}}if(this._displayDescription()){S.renderManager=f;this._renderDescription(S)}if(this._displayAttributes()){t.sizeDetermination?this._renderAttributesForSize({renderManager:f}):this._renderAttributes({y:this.getY()+this._getDescriptionHeight()+this._getTitleHeight()+I.Title.OFFSET+(!this._hasMultiLineTitle()?I.Attributes.OFFSET:0),renderManager:f})}};L.prototype._renderBox=function(t){var i=6,s=4,r=(this._iTitleHeight||this._getTitleHeight())+i,n=3;var o=this.getY(),a=this.getX();var h=this._iHeight===C;t=t||{};var l=t.renderManager;var{style:d,class:p}=this._getStatusStyle({stroke:e.ColorType.Border});var u={id:this.getId()+"-innerBox",x:a,y:o,style:d,class:"sapSuiteUiCommonsNetworkInnerRect "+p,rx:n,ry:n,width:this._iWidth,height:this._iHeight,"pointer-events":"fill"};var{style:c,class:g}=this._getStatusStyle({fill:e.ColorType.Background});var _={id:this.getId()+"-innerStatusBox",x:a,y:o,style:c,class:"sapSuiteUiCommonsNetworkNodeBoxStatus "+g,topRight:n,topLeft:n,bottomRight:h?n:0,bottomLeft:h?n:0,width:this._iWidth,height:Math.max(r,C),"pointer-events":"fill"};var{style:S,class:f}=this._getStatusStyle({stroke:e.ColorType.Focus});var m={id:this.getId()+"-focusCircle",x:a-s,y:o-s,class:"sapSuiteUiCommonsNetworkBoxFocus "+f,style:S,rx:5,ry:5,width:this._iWidth+s*2,height:this._iHeight+s*2};if(!l){var y=this._renderControl("rect",u);y+=this._renderRoundRect(_);y+=this._renderControl("rect",m);y+=this.renderItemContent(t);return y}this._renderControl("rect",u,null,l);_.renderManager=l;this._renderRoundRect(_);this._renderControl("rect",m,null,l);var T=this.renderItemContent(t);if(T&&typeof T==="string"){return T}};L.prototype._renderInfoIcon=function(t,e,i,s,r){var n=this.getStatusIcon(),o=n?"sapSuiteUiCommonsNetworkNodeInfoWrapperCustomIcon":"";var a={class:"sapSuiteUiCommonsNetworkNodeInfoBox",cx:t,cy:e,r:i||I.Title.INFO_BOX_SIZE/2};var h={attributes:{id:this.getId()+"-statusicon",class:"sapSuiteUiCommonsNetworkNodeInfoIcon sapSuiteUiCommonsNetworkGraphIcon",x:t+I.Title.INFO_BOX_SIZE/2-10,y:e,style:s?"font-size:"+s:""},icon:n||"sap-icon://hint",height:I.Title.INFO_BOX_SIZE/2+2.5};if(!r){var l='<g id="'+this.getId()+"-statusiconwrapper"+'" class="sapSuiteUiCommonsNetworkNodeInfoWrapper '+o+'">';l+=this._renderControl("circle",a,false);l+="<title>"+b.getText("NETWORK_GRAPH_COLLAPSED")+"</title>";l+="</circle>";l+=this._renderIcon(h);l+="</g>";return l}r.openStart("g",this.getId()+"-statusiconwrapper");r.class("sapSuiteUiCommonsNetworkNodeInfoWrapper");r.class(o);r.openEnd();this._renderControl("circle",a,false,r);r.openStart("title");r.openEnd();r.text(b.getText("NETWORK_GRAPH_COLLAPSED"));r.close("title");r.close("circle");h.renderManager=r;this._renderIcon(h);r.close("g")};L.prototype._getNodeClass=function(){var t=this.getSelected()?this.SELECT_CLASS:"",e=this._hasCustomStatus()?" sapSuiteUiCommonsNetworkNodeCustomStatus ":"",i="";if(this.aCustomStyleClasses){i=this.aCustomStyleClasses.join(" ")}return(this.getParent()._isUseNodeHtml()?"sapSuiteUiCommonsNetworkGraphDivNode ":"sapSuiteUiCommonsNetworkNode ")+t+e+(this._isBox()?" sapSuiteUiCommonsNetworkBox ":" sapSuiteUiCommonsNetworkNodeCircle ")+this._getStatusClass()+i};L.prototype._renderAttributesForSize=function(t){t=t||{};var e=t.renderManager;if(!e){var i="",s="";this.getVisibleAttributes().forEach(function(t){i+=this._renderText({attributes:{class:"sapSuiteUiCommonsNetworkGraphAttribute",x:this.getX(),y:this.getY()},text:t.getLabel()});s+=this._renderText({attributes:{class:"sapSuiteUiCommonsNetworkGraphAttribute",x:this.getX(),y:this.getY()},text:t.getValue()})},this);i='<g id="'+this.getId()+'-attrLabel">'+i+"</g>";s='<g id="'+this.getId()+'-attrValue">'+s+"</g>";return i+s}e.openStart("g",this.getId()+"-attrLabel");e.openEnd();this.getVisibleAttributes().forEach(function(t){this._renderText({attributes:{class:"sapSuiteUiCommonsNetworkGraphAttribute",x:this.getX(),y:this.getY()},text:t.getLabel(),renderManager:e})},this);e.close("g");e.openStart("g",this.getId()+"-attrValue");e.openEnd();this.getVisibleAttributes().forEach(function(t){this._renderText({attributes:{class:"sapSuiteUiCommonsNetworkGraphAttribute",x:this.getX(),y:this.getY()},text:t.getValue(),renderManager:e})},this);e.close("g")};L.prototype._getAttributeColor=function(t,e,i){var s=e+"Status",r=t["get"+s]()||this.getStatus();return this._getColor(i,r)};L.prototype._getAttributeColorString=function(t,e,i){var s=this._getAttributeColor(t,e,i);if(f.hasOwnProperty(s)){return c.SEMANTIC_CLASS_NAME.FILL+s}else{return s?"fill:"+s:""}};L.prototype._renderAttributes=function(t){t=t||{};var s=t.renderManager;var r=2,n=6,o=12;var a=this.getParent()._bIsRtl,h=a?this.getX()+this._iWidth-n:this.getX()+n,l=this._iLabelAttrWidth?this._iLabelAttrWidth:this._iWidth/2-o,d=a?h-l-o:h+l+o,p=a?d-this.getX()-n:this.getX()+this._iWidth-d-n;var u=t.y;if(!s){var c=this._renderControl("g",{"clip-path":"url(#"+this.getId()+"-clip-attr-value)",id:this.getId()+"-attrValue"},false),g=this._renderControl("g",{"clip-path":"url(#"+this.getId()+"-clip-attr-label)",id:this.getId()+"-attrLabel"},false),_=this._renderClipPath({id:this.getId()+"-clip-attr-label",x:a?h-l-n+r:h-r,y:u,width:r*2+(a?l+n:l)});_+=this._renderClipPath({id:this.getId()+"-clip-attr-value",x:a?this.getX()+n+r:d-r,y:u,width:r*2+(a?p+n:p)});this.getVisibleAttributes().forEach(function(t,s){var r=u+I.Attributes.LINE*(s+1);let n=this._getAttributeColorString(t,i.Type.Label,e.ColorType.Content);g+=this._renderText({attributes:{style:n.includes("fill")?n:"",class:"sapSuiteUiCommonsNetworkGraphAttribute sapSuiteUiCommonsNetworkStatusText "+n.includes("fill")?"":n,x:h,id:t.getId()+"-label",y:r},text:t.getLabel()});let o=this._getAttributeColorString(t,i.Type.Value,e.ColorType.Content);c+=this._renderText({attributes:{style:o.includes("fill")?o:"",class:"sapSuiteUiCommonsNetworkGraphAttribute sapSuiteUiCommonsNetworkGraphAttributeValue sapSuiteUiCommonsNetworkStatusText "+o.includes("fill")?"":o,x:d,y:r,id:t.getId()+"-value"},text:t.getValue()})},this);c+="</g>";g+="</g>";return _+g+c}this._renderClipPath({id:this.getId()+"-clip-attr-label",x:a?h-l-n+r:h-r,y:u,width:r*2+(a?l+n:l),renderManager:s});this._renderClipPath({id:this.getId()+"-clip-attr-value",x:a?this.getX()+n+r:d-r,y:u,width:r*2+(a?p+n:p),renderManager:s});this._renderControl("g",{"clip-path":"url(#"+this.getId()+"-clip-attr-label)",id:this.getId()+"-attrLabel"},false,s);this.getVisibleAttributes().forEach(function(t,r){var n=u+I.Attributes.LINE*(r+1);let o=this._getAttributeColorString(t,i.Type.Label,e.ColorType.Content);this._renderText({attributes:{style:o.includes("fill")?o:"",class:"sapSuiteUiCommonsNetworkGraphAttribute sapSuiteUiCommonsNetworkStatusText "+o.includes("fill")?"":o,x:h,id:t.getId()+"-label",y:n},text:t.getLabel(),renderManager:s})},this);s.close("g");this._renderControl("g",{"clip-path":"url(#"+this.getId()+"-clip-attr-value)",id:this.getId()+"-attrValue"},false,s);this.getVisibleAttributes().forEach(function(t,r){var n=u+I.Attributes.LINE*(r+1);let o=this._getAttributeColorString(t,i.Type.Value,e.ColorType.Content);this._renderText({attributes:{style:o.includes("fill")?o:"",class:"sapSuiteUiCommonsNetworkGraphAttribute sapSuiteUiCommonsNetworkGraphAttributeValue sapSuiteUiCommonsNetworkStatusText "+o.includes("fill")?"":o,x:d,y:n,id:t.getId()+"-value"},text:t.getValue(),renderManager:s})},this);s.close("g")};L.prototype._detailClick=function(t){t=t||this;t.useClientRect=true;this.getParent()._tooltip.openDetail({item:this,opener:t})};L.prototype._linksClick=function(t){t=t||this;this.getParent()._tooltip.openLink({item:this,opener:t})};L.prototype._expandClick=function(){var t=this.fireEvent("collapseExpand",{},true);if(t){this.setCollapsed(this._oExpandState!==v.COLLAPSED)}this._invalidateSharedParents(this)};L.prototype._setupMaxWidth=function(){var t=this.getMaxWidth();if(t){this._iWidth=t}};L.prototype._invalidateSharedParents=function(t,e=t,i=new Set){if(i.has(t)){return}i.add(t);t.getParentNodes().forEach(t=>{if(t!==e){t._bActionButtonsRendered=false}});t.getChildNodes().forEach(t=>{this._invalidateSharedParents(t,e,i)})};L.prototype._setTextHeight=function(t,e){if(t[0]&&e>0){var i=this.$().find(".sapSuiteUiCommonsNetworkGraphDivNodeIcon.sapSuiteUiCommonsNetworkGraphDivNodeIconTitle");i.hide();var s=t.height();t.css("white-space","nowrap");var r=t.height();if(r!==0&&s!==0){t.height(Math.min(s,e*r))}t.css("white-space","");i.show()}};L.prototype._applyMaxWidth=function(){var t=30,e=10;var i,s,r,n=0,o=0,a=0,h,l=this.getMaxWidth();if(this._oGroup&&this._oGroup.getCollapsed()){return}if(!this.getWidth()&&this.getMaxWidth()){s=this.$("attrLabel");r=this.$("attrValue");if(s[0]){o=s[0].getBBox().width}if(r[0]){n=r[0].getBBox().width}a=n+o+t;i=Math.max(this.$()[0].getBBox().width+e,a);this._iWidth=Math.max(Math.min(i,l),80);if(n&&o){h=Math.max(o,n);if(h*2+t/2<this._iWidth){return}if(a>this._iWidth){if(n<l/2){this._iLabelAttrWidth=this._iWidth-n-t}if(o<this._iWidth/2){this._iLabelAttrWidth=o+t/4}}else{this._iLabelAttrWidth=this._iWidth-n-t}}}};L.prototype._resetDimensions=function(){this._iWidth=0;this._iHeight=0;this._iCircleSize=0;this._iTitleHeight=0};L.prototype._setupDivDimensions=function(){var t=this.$();this._iWidth=t.width();this._iHeight=t.height()};L.prototype._setupWidthAndHeight=function(t){var e=this._isBox()?"Box":"Circle",i=this._getTitleHeight(),s=this.getTitle()||this._hasDetailData()?I.Title.LINESIZE:0,r=this._getDescriptionHeight();r=r?r+5:0;var n=function(){var t=this._iHeight||this.getHeight();if(this._isBox()&&!t){t=r+(this._hasMultiLineTitle()?i+I.Title.OFFSET:Math.max(i+s,I.Box.HEIGHT));if(this._displayAttributes()){t+=this.getVisibleAttributes().length*I.Attributes.LINE+I.Attributes.OFFSET}}if(this._isCircle()&&!this._iHeight){t=t?t:I[e].HEIGHT;this._iCircleSize=t;t+=i+r}return Math.max(t,30)}.bind(this);var o=function(){var t=Math.max(this._iWidth||this.getWidth()||I[e].WIDTH,30);if(this._isCircle()&&t<this._iCircleSize){t=this._iCircleSize}return t}.bind(this);this._iHeight=n();this._iWidth=o()};L.prototype._getTitleHeight=function(){var t=0,e=this._getImageSize();if(this._hasMultiLineTitle()){t=(this.getTitleLineSize()>0?Math.min(this._aTitleLines.length,this.getTitleLineSize()):this._aTitleLines.length)*I.Title.LINESIZE}else{t=this._isBox()||this.getTitle()?I.Title.LINESIZE:0}return Math.max(e.height,t)};L.prototype._getDescriptionHeight=function(){var t=this.getDescriptionLineSize();if(t===-1||!this._aDescriptionLines||!this.getDescription()){return 0}return(t>0?Math.min(t,this._aDescriptionLines.length):this._aDescriptionLines.length)*I.Description.LINESIZE};L.prototype._setupEvents=function(){var t=this.$("wrapper");t.off("mouseover");t.off("mouseout");t.off("click");t.on("mouseover",function(t){this._mouseOver()}.bind(this));t.on("mouseout",function(t){this._mouseOut()}.bind(this));t.on("click",function(t){if(t.which===1){this._onClick(t.ctrlKey)}t.preventDefault()}.bind(this))};L.prototype._mouseOut=function(){this.$().removeClass(this.HIGHLIGHT_CLASS);if(!this.getSelected()){this._setStatusColors("")}};L.prototype._mouseOver=function(){var t=this.fireEvent("hover",{},true);if(t){if(!this.getSelected()){this._setStatusColors("Hover")}this.$().addClass(this.HIGHLIGHT_CLASS)}};L.prototype._onClick=function(t){var e=this.fireEvent("press",{},true);this.getParent()._selectNode({element:this,forceFocus:true,renderActionButtons:e&&!this.getSelected(),preventDeselect:t});if(!this.getSelected()){this.$().addClass(this.HIGHLIGHT_CLASS);this._setStatusColors("Hover")}};L.prototype._deselect=function(){var t=this.$("innerBox");let i=this._getColor(e.ColorType.Background),s=this._getColor(e.ColorType.Border);if(f.hasOwnProperty(i)){t.addClass(c.SEMANTIC_CLASS_NAME.STROKE+i);t.addClass(c.SEMANTIC_CLASS_NAME.FILL+i)}else{if(i||s){t.css("stroke",s);t.css("fill",i)}}};L.prototype._getExpandIcon=function(t){switch(this._oExpandState){case v.PARTIAL:return t?N.PARTIAL:E;case v.EXPANDED:return t?N.COLLAPSE:x;case v.COLLAPSED:return t?N.EXPAND:A;default:return t?N.EXPAND:A}};L.prototype._createLineText=function(t,e,i,s){var r=[[]],n=0,o,a,h,l,d,p,u=this._createElement("tspan");if(!t||e<0){return r}l=t.split(/\s+/).reverse();i.appendChild(u);while(l.length>0){a=l.pop();if(a){h=r[n];h.push(a);u.textContent=r[n].join(" ");if(u.getComputedTextLength()>e){if(h.length>1&&s!==1){l.push(h.pop())}if(h.length===1){p=this._createText(i,{text:h[0],width:e,dots:false});if(p){d=u.textContent;h.pop();h.push(d);o=a.substring(d.length);l.push(o)}}n++;if(s>0&&n>=s){break}r[n]=[]}}}if(s>0&&l.length>0){r[r.length-1].push("...")}if(r.length>0){p=this._createText(i,{text:r[r.length-1].join(" "),width:e,dots:true});if(p){r[s-1]=[u.textContent]}}return r};L.prototype._createDescription=function(){var t,e=this._iWidth-I.Title.OFFSET,i=this.$();if(this._displayDescription()&&i[0]){t=this._createElement("text");t.setAttribute("class","sapSuiteUiCommonsNetworkNodeDescription");i[0].appendChild(t);this._aDescriptionLines=this._createLineText(this.getDescription(),e,t,this.getDescriptionLineSize())}};L.prototype._createMultilineTitle=function(){var t=function(){if(this._isBox()){if(this._displayImage()){return this._iWidth-this._getImageSize().width-I.Title.ICON_X_OFFSET*2}if(this.getIcon()){return this._iWidth-I.Title.ICON_SIZE-I.Title.ICON_X_OFFSET*2}return this._iWidth-I.Title.OFFSET*2}return this._iWidth}.bind(this);var e,i=t(),s=this.$();if(this.getTitleLineSize()!==1&&s[0]&&i>0){e=this._createElement("text");e.setAttribute("class","sapSuiteUiCommonsNetworkNodeTitle sapSuiteUiCommonsNetworkNodeMultipleLineTitle");s[0].appendChild(e);this._aTitleLines=this._createLineText(this.getTitle(),i,e,this.getTitleLineSize())}};L.prototype.getFocusDomRef=function(){return this.getDomRef("wrapper")};L.prototype._renderMultilineText=function(t){var i=this._isBox()&&t.useCustomstyle;t=t||{};var s=t.renderManager;if(!t.lines){return""}if(!s){var r="";for(var n=0;n<t.lines.length;n++){var{style:o,class:a}=this._getStatusStyle({fill:e.ColorType.Content});r+=this._renderText({attributes:{style:i?o:"",class:t.class+(i?" sapSuiteUiCommonsNetworkStatusText "+a+" ":""),x:t.x,y:t.y+n*t.lineSize},close:false});r+=t.lines[n].join(" ");r+="</text>"}return r}for(var h=0;h<t.lines.length;h++){var{style:o,class:a}=this._getStatusStyle({fill:e.ColorType.Content});this._renderText({attributes:{style:i?o:"",class:t.class+(i?" sapSuiteUiCommonsNetworkStatusText "+a+" ":""),x:t.x,y:t.y+h*t.lineSize},close:false,renderManager:s});s.text(t.lines[h].join(" "));s.close("text")}};L.prototype._renderDescription=function(t){t=t||{};t.class=" sapSuiteUiCommonsNetworkNodeTitle sapSuiteUiCommonsNetworkNodeMultipleLineTitle";var e=t.renderManager;var i={lines:this._aDescriptionLines,maxLineSize:this.getDescriptionLineSize(),lineSize:I.Description.LINESIZE,class:" sapSuiteUiCommonsNetworkNodeDescription ",x:t.x,y:t.y};if(!e){return this._renderMultilineText(i)}i.renderManager=e;this._renderMultilineText(i)};L.prototype._sanitizeTitleLines=function(t){for(var e=0;e<t.length;e++){t[e]=[o(t[e])]}return t};L.prototype._renderMultilineTitle=function(t){t=t||{};var e=t.renderManager;var i=this._sanitizeTitleLines(this._aTitleLines);var s={useCustomStyle:true,lines:i,maxLineSize:this.getTitleLineSize(),lineSize:I.Title.LINESIZE,class:" sapSuiteUiCommonsNetworkNodeTitle sapSuiteUiCommonsNetworkNodeMultipleLineTitle",x:t.x,y:t.y,trim:this._aTitleLines.length>this.getTitleLineSize()&&this.getTitleLineSize()!==0};if(!e){return this._renderMultilineText(s)}s.renderManager=e;this._renderMultilineText(s)};L.prototype._processHideShowParents=function(t,e,i){var s=this._oGroup&&this._oGroup.getCollapsed();var r=function(t){if(t._bIsHidden){return}var i=false,s;if(t.getKey()!==e){if(t.aChildren.length>0){s=t.aChildren[0]._bIsHidden;t.aChildren.forEach(function(t){if(s!==t._bIsHidden){i=true}});t._oExpandState=i?v.PARTIAL:s?v.COLLAPSED:v.EXPANDED;if(t._oExpandState===v.COLLAPSED){t.$().addClass("sapSuiteUiCommonsNetworkNodeCollapsed")}else{t.$().removeClass("sapSuiteUiCommonsNetworkNodeCollapsed")}if(t._oExpandState===v.PARTIAL){t.$().addClass("sapSuiteUiCommonsNetworkNodePartialCollapsed")}else{t.$().removeClass("sapSuiteUiCommonsNetworkNodePartialCollapsed")}}}};r(this);this.aParents.forEach(function(t){if(!i[t.getKey()]){r(t)}});if(s){if(this._oGroup._bNeedParentProcessing){this._oGroup.aNodes.forEach(function(t){t.aParents.forEach(function(t){if(!i[t.getKey()]){r(t)}})});this._oGroup._bNeedParentProcessing=false}}};L.prototype._getAllChildren=function(t,e,i){var s=function(t){if(!i[t]){i[t]=this;return true}return false}.bind(this);if(e===this.getKey()){return}if(this._bIsHidden===t){return}if(!s(this.getKey())){return}if(this._oGroup&&this._oGroup.getCollapsed()){this._oGroup.aNodes.forEach(function(s){s._getAllChildren(t,e,i)})}if(this._oExpandState!==v.COLLAPSED){this.aChildren.forEach(function(s){s._getAllChildren(t,e,i)})}};L.prototype._hideShow=function(t){var e=t?"hide":"show",i;this._bIsHidden=t;this.aLines.forEach(function(e){e._hideShow(t)});this.aParentLines.forEach(function(e){e._hideShow(t)});if(this._oGroup&&!this._oGroup._bIsSwimLane){if(this._oGroup.getCollapsed()){this._oGroup._hideShow(t)}else{i=this._oGroup._hasVisibleNodes();if(i&&!t||!i&&t){this._oGroup._hideShow(t)}}}if(this._isInCollapsedGroup()&&this._isHtml()){return}if(this.$()){this.$()[e]()}};L.prototype._setActionButtonFocus=function(t,e){this.$().removeClass(this.FOCUS_CLASS);this.$().find("."+this.FOCUS_CLASS).removeClass(this.FOCUS_CLASS);var i=e?"addClass":"removeClass";jQuery(t)[i](this.FOCUS_CLASS)};L.prototype._getActionButtonTitle=function(t,e){var i=e?e:this.getParent();if(i.getRenderType()==="Html"){var t=jQuery(t);var s=jQuery(t).attr("title");var r=t.parent();var n=null;if(r&&r.attr("id")){n=r.attr("id").includes("leftdivbuttons")?b.getText("NETWORK_GRAPH_ACCESSIBILITY_ACTION_BUTTONS_LEFT")+" ":b.getText("NETWORK_GRAPH_ACCESSIBILITY_ACTION_BUTTONS_RIGHT")+" "}return(n?n:"")+(s?s+" ":"")+b.getText("NETWORK_GRAPH_ACCESSIBILITY_ACTION_BUTTON")}else{var o=jQuery(t).find("title")[0];return(o?o.textContent+" ":"")+b.getText("NETWORK_GRAPH_ACCESSIBILITY_ACTION_BUTTON")}};L.prototype._getAccessibilityLabel=function(t){var e=t?t:this.getParent();var i=this.getTitle();var s=i?i:this.getAltText();var r=b.getText("NETWORK_GRAPH_NODE")+" "+s;if(this.getDescription()){r+=" "+b.getText("NETWORK_GRAPH_NODE_DESCRIPTION")+" "+this.getDescription()}if(this._isBox(e)){this.getVisibleAttributes().forEach(function(t){r+=" "+t.getLabel()+" "+t.getValue()})}if(this.getStatus()&&this.getStatus()!=""){var n=this.getStatus();if(e._oStatuses[n]){r+=" "+b.getText("PF_ARIA_STATUS")+" "+e._oStatuses[n].getTitle()}else{r+=" "+b.getText("PF_ARIA_STATUS")+" "+this.getStatus()}}if(this.getSelected()){r+=" "+b.getText("NETWORK_GRAPH_SELECTED_NODE")}return r+"."+b.getText("NETWORK_GRAPH_ACCESSIBILITY_TOGGLE_STATE")};L.prototype._setStatusColors=function(t){var i=function(i,n){if(n&&i){var o=this._getColor(e.ColorType[t+"Content"],n),a=s?"color":"fill";if(f.hasOwnProperty(o)){let t=a==="color"?c.SEMANTIC_CLASS_NAME.TEXT+o:c.SEMANTIC_CLASS_NAME.FILL+o;jQuery(i).addClass(t)}else{jQuery(i).css(a,o||r)}}}.bind(this);var s=this.getParent()&&this.getParent()._isUseNodeHtml();if(this._hasCustomStatus()){var r=this._getColor(e.ColorType[t+"Content"]),n=this._getColor(e.ColorType[t+"Background"]),o=this._getColor(e.ColorType[t+"Border"]);var a=t==="Selected"||t==="Hover";if(!s){var h=this.$("innerBox"),l=d?this.$("statusCircle"):this.$("innerStatusBox"),d=this._isCircle();if(f.hasOwnProperty(n)){l.addClass((d?c.SEMANTIC_CLASS_NAME.STROKE:c.SEMANTIC_CLASS_NAME.FILL)+(a?"None":n));h.addClass(c.SEMANTIC_CLASS_NAME.FILL+(a?n:""));h.addClass(c.SEMANTIC_CLASS_NAME.STROKE+n)}else{{l.css(d?"stroke":"fill",a?"none":n);h.css("fill",a?n:"");h.css("stroke",o)}}if(f.hasOwnProperty(r)){this.$().find(".sapSuiteUiCommonsNetworkStatusText").addClass(c.SEMANTIC_CLASS_NAME.FILL+r)}else{this.$().find(".sapSuiteUiCommonsNetworkStatusText").css("fill",r)}let i=this._getColor(e.ColorType[t+"Focus"]);if(f.hasOwnProperty(i)){this.$("focusCircle").addClass(c.SEMANTIC_CLASS_NAME.STROKE+i)}else{this.$("focusCircle").css("stroke",i)}}else{var p=this.$("wrapper"),u=this.$().find(".sapSuiteUiCommonsNetworkGraphDivNodeTitleText");if(f.hasOwnProperty(n)){p.addClass(c.SEMANTIC_CLASS_NAME.BORDER+n)}else{p.css("border-color",o)}let i=this._getColor(e.ColorType[t+"Focus"]);if(f.hasOwnProperty(i)){this.$("focus").addClass(c.SEMANTIC_CLASS_NAME.BORDER+i)}else{this.$("focus").css("border-color",i)}if(this._isBox()){if(f.hasOwnProperty(r)){this.$().find(".sapSuiteUiCommonsNetworkGraphDivNodeText").addClass(c.SEMANTIC_CLASS_NAME.TEXT+r)}else{this.$().find(".sapSuiteUiCommonsNetworkGraphDivNodeText").css("color",r)}if(f.hasOwnProperty(n)){this.$("header").addClass(c.SEMANTIC_CLASS_NAME.BACKGROUND+a&&!n?"":n)}else{this.$("header").css("background-color",a&&!n?"":n)}let t=a?r:this._getColor(e.ColorType.HeaderContent);if(f.hasOwnProperty(t)){u.addClass(c.SEMANTIC_CLASS_NAME.BORDER+t)}else{u.css("color",t)}if(f.hasOwnProperty(n)){p.addClass(c.SEMANTIC_CLASS_NAME.BACKGROUND+a&&n?n:"")}else{p.css("background-color",a&&n?n:"")}}else{if(f.hasOwnProperty(n)){this.$("status").addClass(c.SEMANTIC_CLASS_NAME.BORDER+n);p.addClass(c.SEMANTIC_CLASS_NAME.BACKGROUND,a&&n?n:"")}else{{this.$("status").css("border-color",n);p.css("background-color",a&&n?n:"")}}if(f.hasOwnProperty(r)){this.$().find(".sapSuiteUiCommonsNetworkGraphDivNodeCircleIcon").addClass(c.SEMANTIC_CLASS_NAME.TEXT+r)}else{this.$().find(".sapSuiteUiCommonsNetworkGraphDivNodeCircleIcon").css("color",r)}}}}this.getAttributes().forEach(function(t){if(t&&t.getVisible()){var e=t.getLabelStatus(),s=t.getValueStatus();if(e){i(t.$("icon"),e);i(t.$("label"),e)}if(s){i(t.$("value"),s)}}})};L.prototype._setNodeOpacity=function(t){if(this._isCircle()){this.$("wrapper").css("opacity",t?.3:"");this.$().find(".sapSuiteUiCommonsNetworkGraphDivNodeTitleText").css("opacity",t?.3:"");if(t){this.$("wrapperwithbuttons").append(jQuery("<div></div>",{class:"sapSuiteUiCommonsNetworkGraphDivInnerCloned sapSuiteUiCommonsNetworkGraphDivInner"}))}else{this.$("wrapperwithbuttons").find(".sapSuiteUiCommonsNetworkGraphDivInnerCloned").detach()}return}this.$().css("opacity",t?.3:"")};L.prototype._getContentRect=function(){var t=this._getCirclePosition(),e=this._isCircle();var i=e?t.x:this.getX(),s=e?t.y:this.getY(),r=e?this._iCircleSize:this._iHeight,n=e?this._iCircleSize:this._iWidth;return{p1:{x:i,y:s},p2:{x:i+n,y:s+r}}};L.prototype._setFocus=function(t){e.prototype._setFocus.apply(this,arguments);var i=t?"Selected":"";let s=this._getColor(e.ColorType[i+"Focus"]);if(f.hasOwnProperty(s)){this.$("focus").addClass(c.SEMANTIC_CLASS_NAME.BORDER+s)}else{this.$("focus").css("border-color",s)}};L.prototype.getHeaderCheckbox=function(){return this._getHeaderCheckbox()};L.prototype.computeTextDimensions=function(t){var e=this.getDomRef(),i,s,r;if(e){i=this._createElement("text",t.attributes);e.appendChild(i);try{s=this._createLineText(t.text,t.width,i,t.maxLines);r=i.getBBox().height}catch(t){}jQuery(i).detach();return{text:s,lineHeight:r}}};L.prototype.renderText=function(t){var e=16;var i=t.lines;if(!i){if(t.text){i=[t.text.split(" ")]}else{return""}}if(t&&t.renderManager){var s=t.renderManager;for(var r=0;r<i.length;r++){this._renderText({attributes:Object.assign({x:t.x+this.getX(),y:this.getY()+t.y+r*(t.lineSize||e)},t.attributes),close:false,renderManager:s});s.text(i[r].join(" "));s.close("text")}}else{var n="";for(var o=0;o<i.length;o++){n+=this._renderText({attributes:Object.assign({x:t.x+this.getX(),y:this.getY()+t.y+o*(t.lineSize||e)},t.attributes),close:false});n+=i[o].join(" ");n+="</text>"}return n}};L.prototype.renderIcon=function(t){t.attributes=t.attributes||{};Object.assign(t.attributes,{"font-family":"SAP-icons"});t.attributes.x=this.getX()+(t.x||0);t.attributes.y=this.getY()+(t.y||0);if(t&&t.renderManager){return this._renderIcon({attributes:t.attributes,icon:t.icon,renderManager:t.renderManager})}return this._renderIcon({attributes:t.attributes,icon:t.icon})};L.prototype.renderHtmlIcon=function(t,e){if(e&&e.renderManager){this._renderHtmlIcon(t,"sapSuiteUiCommonsNetworkGraphDivNodeIcon",null,null,null,e.renderManager)}else{return this._renderHtmlIcon(t,"sapSuiteUiCommonsNetworkGraphDivNodeIcon")}};L.prototype.renderHtmlActionButtons=function(t){t=t||{};var e=this._getElementId(t.idSufix)+"-rightdivbuttons",i=this._getElementId(t.idSufix)+"-leftdivbuttons",s=t.renderManager;s.openStart("div").attr("id",i).class("sapSuiteUiCommonsNetworkGraphDivActionButtons").class("sapSuiteUiCommonsNetworkGraphDivActionButtonsLeft").openEnd().close("div");s.openStart("div").attr("id",e).class("sapSuiteUiCommonsNetworkGraphDivActionButtons").class("sapSuiteUiCommonsNetworkGraphDivActionButtonsRight").openEnd().close("div")};L.prototype.renderHtmlInfoIcon=function(t,e){return this._renderHtmlInfoIcon(t,e)};L.prototype.renderContent=function(t){return this._isHtml()?this._renderHtmlContent(t):this._renderSvgContent(t)};L.prototype.renderItemContent=function(t){if(this._isHtml()){return this._isBox()?this._renderHtmlBoxContent(t):this._renderHtmlCircleContent(t)}return this._isBox()?this._renderBoxContent(t):this._renderCircleContent(t)};L.prototype.calculateSizes=function(){this._setupMaxWidth();this._createMultilineTitle();this._createDescription();this._resetDimensions();this._applyMaxWidth()};L.prototype.renderElement=function(t,e,i){if(e&&e.renderManager){return this._renderControl(t,e,i,e.renderManager)}return this._renderControl(t,e,i)};L.prototype.renderStatusIcon=function(t){if(t&&t.renderManager){return this._renderInfoIcon(this.getX()+t.x,this.getY()+t.y,t.size,t.iconSize,t.renderManager)}return this._renderInfoIcon(this.getX()+t.x,this.getY()+t.y,t.size,t.iconSize)};L.prototype.setSize=function(t){if(t){if(t.width){this._iWidth=t.width}if(t.height){this._iHeight=t.height}if(t.titleHeight){this._iTitleHeight=t.titleHeight}}};L.prototype.hasVisibleActionButtons=function(){return this.$("actionButtons").hasClass(this.VISIBLE_ACTIONS_BUTTONS_CLASS)||this.$().find(".sapSuiteUiCommonsNetworkGraphDivActionButtons").hasClass(this.VISIBLE_ACTIONS_BUTTONS_CLASS)};L.prototype.getEnabledActionButtons=function(){return this.$().find(".sapSuiteUiCommonsNetworkNodeActionButton, .sapSuiteUiCommonsNetworkGraphDivActionButton:not(.sapSuiteUiCommonsNetworkGraphDivActionButtonDisabled)").parent().toArray()};L.prototype.showActionButtons=function(t){if(!this.getParent()){return}var e,i,s=this,r=0,n=0,o=this.getParent()._bIsRtl,a,h,l,d,p,u,c;if(this._isHtml()){this._showDivActionButtons(t);return}var g=function(){var t=this.getParent()._bIsRtl?-I.ActionButtons.RADIUS-I.ActionButtons.MARGIN:I.ActionButtons.RADIUS+I.ActionButtons.MARGIN,i=I.ActionButtons.RADIUS,s=[[t,i]];for(var r=1;r<e;r++){s.push([t,i+I.ActionButtons.RADIUS*2*r+I.ActionButtons.OFFSET*r])}return s}.bind(this);var S=function(){var t=this.getActionButtons().length;if(this.getShowExpandButton()){t++}if(this.getShowDetailButton()){t++}if(this.getShowActionLinksButton()){t++}return t}.bind(this);var f=function(t){var e=13,i=2,s=t.position&&t.position===_.Left,h=s&&!o||!s&&o;t.x=t.x+(h?d:l);var p={cx:t.x,cy:t.y,id:t.id+"-circle",class:"sapSuiteUiCommonsNetworkNodeActionButton",r:I.ActionButtons.RADIUS},u={class:"sapSuiteUiCommonsNetworkGraphIcon sapSuiteUiCommonsNetworkNodeActionIcon "+(t.class?t.class:""),x:t.x,y:t.y},c,g,S,f,C,m;if(!t.enable){p.class="sapSuiteUiCommonsNetworkNodeActionButtonDisabledBackground";a.appendChild(this._createElement("circle",p));p.class="sapSuiteUiCommonsNetworkNodeActionButtonDisabled";u.class+=" sapSuiteUiCommonsNetworkNodeActionButtonDisabled"}C=this._createElement("g",{id:t.id});c=this._createElement("circle",{id:t.id+"-circle",cx:t.x,cy:t.y,r:I.ActionButtons.RADIUS+i,class:"sapSuiteUiCommonsNetworkActionButtonFocusCircle"});S=this._createElement("circle",p);f=this._createIcon(u,t.icon,e);if(t.title){g=this._createElement("title");g.textContent=t.title;S.appendChild(g)}C.appendChild(S);C.appendChild(f);C.appendChild(c);a.appendChild(C);m=jQuery(S);if(t.enable){m.on("click",function(){this._setActionButtonFocus(C,true);this._setFocus(false);if(this.getParent()){this.getParent().setFocus({item:this,button:C})}}.bind(this));jQuery(S).on("click",t.click)}s?n++:r++;return{icon:f,wrapper:S}}.bind(this);e=S();i=g();if(e===0){return}if(t&&!this._bActionButtonsRendered){p=this.getY();if(this._isCircle()){l=this.getX()+(this._iWidth/2+this._iCircleSize/2);d=this.getX()+(this._iWidth/2-this._iCircleSize/2)}else{l=this.getX()+this._iWidth;d=this.getX()}var a=this.$("actionButtons")[0];if(!a){a=this._createElement("g",{class:"sapSuiteUiCommonsNetworkNodeActionButtonWrapper",id:this._getDomId("actionButtons")})}else{jQuery(a).children().remove()}if(this.getParent()._isUseNodeHtml()){this.getParent().$("actiionbuttons")[0].appendChild(a)}else{this.$()[0].appendChild(a)}if(this.getShowExpandButton()){h=f({x:i[r][0],y:p+i[r][1],icon:this._getExpandIcon(true),class:"sapSuiteUiCommonsNetworkNodeActionCollapseIcon",enable:this._hasVisibleChildren(),title:this._oExpandState===v.EXPANDED?b.getText("NETWORK_GRAPH_EXPANDED"):b.getText("NETWORK_GRAPH_COLLAPSED"),id:this._getDomId("actionCollapse"),click:this._expandClick.bind(this)});this._expandIcon=h.icon}if(this.getShowDetailButton()){var C=this.getTitle();u=f({x:i[r][0],y:p+i[r][1],icon:"sap-icon://menu2",enable:this._hasDetailData()||(C?C:this.getAltText()),id:this._getDomId("actionDetail"),title:b.getText("NETWORK_GRAPH_NODE_DETAILS"),click:function(){this._detailClick(u.wrapper)}.bind(this)})}if(this.getShowActionLinksButton()){c=f({x:i[r][0],y:p+i[r][1],icon:"sap-icon://chain-link",enable:this._hasActionLinks(),title:b.getText("NETWORK_GRAPH_NODE_LINKS"),id:this._getDomId("actionLinks"),click:function(){this._linksClick(c.wrapper)}.bind(this)})}for(var m=0;r+n<T*2&&m<this.getActionButtons().length;m++){(function(t){var e=t.getPosition(),s=e===_.Right?r:n;if(s>=T){e=e===_.Left?_.Right:_.Left;s=e===_.Right?r:n}var o=f({x:i[s][0],y:p+i[s][1],icon:t.getIcon(),title:t.getTitle(),id:t.getId(),click:function(e){t.firePress({buttonElement:o.wrapper})},enable:t.getEnabled(),position:e})})(this.getActionButtons()[m])}this._bActionButtonsRendered=true}else if(this._expandIcon){this._expandIcon.textContent=s._getExpandIcon();this.$().find("."+this.FOCUS_CLASS).removeClass(this.FOCUS_CLASS)}var y=t?"addClass":"removeClass";this.$("actionButtons")[y](this.VISIBLE_ACTIONS_BUTTONS_CLASS)};L.prototype.getChildNodes=function(){this._checkForProcessData();return this.aChildren};L.prototype.getChildLines=function(){this._checkForProcessData();return this.aLines};L.prototype.getParentNodes=function(){this._checkForProcessData();return this.aParents};L.prototype.getParentLines=function(){this._checkForProcessData();return this.aParentLines};L.prototype.isHidden=function(){return this._bIsHidden};L.prototype.setHidden=function(t){var e=this;var i=function(i){i.forEach(function(i){var s=i.getFromNode()===e?i.getToNode():i.getFromNode();i.setHidden(t||s.isHidden())})};i(this.getChildLines());i(this.getParentLines());this.$()[t?"hide":"show"]();this._bIsHidden=t;if(this._oGroup){this._oGroup.setHidden(!this._oGroup._hasVisibleNodes())}};L.prototype.getCenterPosition=function(){var t,e;if(this._isBox()){return{x:this.getX()+this._iWidth/2,y:this.getY()+this._iHeight/2}}t=this._getCirclePosition();e=this._getCircleSize()/2;return{x:t.x+e,y:t.y+e}};L.prototype.setHeaderCheckBoxState=function(t){this._setHeaderCheckBoxState(t);return this};L.prototype.setX=function(t){this.setProperty("x",t,true);return this};L.prototype.setY=function(t){this.setProperty("y",t,true);return this};L.prototype.setSelected=function(t){var e=this.getParent(),i=t?"addClass":"removeClass",s=this.getKey();this.setProperty("selected",t,true);if(e){this._setStatusColors(t?"Selected":"");this.$()[i](this.SELECT_CLASS);if(t){e._mSelectedNodes[s]=this}else{delete e._mSelectedNodes[s]}}return this};L.prototype.setCollapsed=function(t){var e={},i,s,r=t?"addClass":"removeClass",n=this.$().find(".sapSuiteUiCommonsNetworkGraphDivActionButtons, .sapSuiteUiCommonsNetworkNodeActionButtonWrapper").find(".sapSuiteUiCommonsNetworkNodeActionCollapseIcon"),o=n[0]?.parentElement?.parentElement;this.setProperty("collapsed",t,true);this._oExpandState=t?v.COLLAPSED:v.EXPANDED;this.aChildren.forEach(function(i){i._getAllChildren(t,this.getKey(),e)},this);i=Object.keys(e);i.forEach(function(i){e[i]._hideShow(t,this.getKey())},this);i.forEach(function(i){e[i]._processHideShowParents(t,this.getKey(),e)},this);this.aLines.forEach(function(e){e._hideShow(t)});if(n[0]){n[0].textContent=this._getExpandIcon();if(o&&o.title){o.title=this._oExpandState===v.EXPANDED?b.getText("NETWORK_GRAPH_EXPANDED"):b.getText("NETWORK_GRAPH_COLLAPSED")}}this.$().removeClass("sapSuiteUiCommonsNetworkNodePartialCollapsed");this.$()[r]("sapSuiteUiCommonsNetworkNodeCollapsed");s=this.getParent();if(s){s._setupKeyboardNavigation();if(t&&!(s.getFocus()&&s.getFocus().item===this)){s.setFocus({item:this})}}return this};L.prototype.setGroup=function(t){this.setProperty("group",t,true);this._invalidateParent();return this};L.prototype.setShape=function(t){this.setProperty("shape",t,true);this._invalidateParent();return this};L.prototype.setWidth=function(t){this.setProperty("width",t,true);if(this.getParent()&&this.getParent()._bPreventInvalidation){this._iWidth=t}else{this._iWidth=0}this._invalidateParent();return this};L.prototype.setHeight=function(t){this.setProperty("height",t,true);if(this.getParent()&&this.getParent()._bPreventInvalidation){this._iHeight=t}else{this._iHeight=0}this._invalidateParent();return this};L.prototype.setMaxWidth=function(t){this.setProperty("maxWidth",t,true);this._invalidateParent();return this};L.prototype.setTitleLineSize=function(t){this.setProperty("titleLineSize",t,true);this._invalidateParent();return this};L.prototype.addAttribute=function(){e.prototype.addAttribute.apply(this,arguments);this._invalidateParent();return this};L.prototype.insertAttribute=function(){e.prototype.insertAttribute.apply(this,arguments);this._invalidateParent();return this};L.prototype.removeAllAttributes=function(){e.prototype.removeAllAttributes.apply(this,arguments);this._invalidateParent();return this};L.prototype.removeAttribute=function(){e.prototype.removeAttribute.apply(this,arguments);this._invalidateParent();return this};L.prototype.addAttribute=function(){e.prototype.addAttribute.apply(this,arguments);this._invalidateParent();return this};L.prototype.insertAttribute=function(){e.prototype.insertAttribute.apply(this,arguments);this._invalidateParent();return this};L.prototype.removeAllAttributes=function(){e.prototype.removeAllAttributes.apply(this,arguments);this._invalidateParent()};L.prototype.removeAttribute=function(){e.prototype.removeAttribute.apply(this,arguments);this._invalidateParent()};L.prototype.getHeaderCheckBoxState=function(){if(this.getProperty("headerCheckBoxState")===S.Hidden){return S.Hidden}return this.getHeaderCheckbox().getSelected()?S.Checked:S.Unchecked};L.prototype._hasAdditionalContent=function(){return this._displayAttributes()||this._displayDescription()||this.getContent()};L.prototype._hasHeaderContent=function(){return this.getIcon()||this.getTitle()||this.getImage()};L.hasNativeLineClamp=typeof document.documentElement.style.webkitLineClamp!="undefined"&&r.browser.chrome;L.prototype._invalidateParent=function(){var t=this.getParent();if(t){t.invalidate()}};L.prototype._isIgnored=function(){var t=this.getParent(),e=t&&t._isSwimLane(),i=this._isInCollapsedGroup();if(e&&this._isHtml()){i=false}return i||this._isInIgnoredGroup()||!this._useInLayout()};L.prototype._getImageSize=function(){var t=function(t,e){return{width:t?parseInt(t,10):0,height:e?parseInt(e,10):0}};var e=this._isBox()?"Box":"Circle",i=this.getImage();if(!this._displayImage(i)){return t()}return t(i.getWidth()?i.getWidth():I.Image[e],i.getHeight()?i.getHeight():I.Image[e])};L.prototype._displayImage=function(t){t=t||this.getImage();return t&&t.getSrc()};L.prototype._isHtml=function(){return this.getParent()&&this.getParent()._isUseNodeHtml()};L.prototype._isInCollapsedGroup=function(){return this._oGroup&&this._oGroup._isCollapsed()};L.prototype._isInIgnoredGroup=function(){return this._oGroup&&this._oGroup._isIgnored()};L.prototype._displayAttributes=function(){return this.getVisibleAttributes().length!==0&&this._isBox()};L.prototype._displayDescription=function(){return this.getDescriptionLineSize()!==-1&&this.getDescription()};L.prototype._hasTitle=function(){return this.getTitle()||this.getIcon()};L.prototype._isBox=function(t){var e=t?t:this.getParent();return this.getShape()===g.Box&&e._isLayered()};L.prototype._isCircle=function(){return this.getShape()===g.Circle};L.prototype._isCustom=function(){return this.getShape()===g.Custom};L.prototype._hasChildren=function(){return this.aChildren.length>0};L.prototype._showHeaderCheckBox=function(){return this.getHeaderCheckBoxState()!==S.Hidden&&this._isBox()};L.prototype._hasVisibleChildren=function(){return this.aChildren.some(function(t){return!(t._oGroup&&!t._oGroup.getVisible())&&t.getVisible()})};L.prototype._hasDetailData=function(){return this.getDescription()||this.getAttributes().length>0};L.prototype._hasActionLinks=function(){return this.getActionLinks().some(function(t){return t.getVisible()})};L.prototype._useAutomaticSize=function(){return!this.getWidth()&&this.getMaxWidth()>0};L.prototype._getShapeSize=function(t){if(this._isCircle()){return this._getCircleSize()}var e=this._isCustom()?this.getCoreNodeSize():0;return e||(t?this._iWidth:this._iHeight)};L.prototype._getCircleSize=function(){return this._isBox()?undefined:this._iCircleSize};L.prototype._hasMultiLineTitle=function(){return this._aTitleLines&&this._aTitleLines.length>1};L.prototype._getCirclePosition=function(){return this._isBox()?undefined:{x:this.getX()+(this._iWidth-this._getCircleSize())/2,y:this.getY()}};L.prototype._isOnScreen=function(t,i,s,r){var n=this.getX(),o=this.getY();return e._isRectOnScreen(n,n+this._iWidth,o,o+this._iHeight,t,i,s,r)};L.prototype.getFocusDomRef=function(){return this.getDomRef("wrapper")};L.prototype.setVisible=function(t){this.setProperty("visible",t);var e=this.getParent();if(e&&e._bIsLayedOut){this.getParentNodes().forEach(function(t){t._bActionButtonsRendered=false})}return this};L.prototype.setStatusIcon=function(t){var e=this.$("statusicon")[0],i=s.getIconInfo(t),r=i&&i.content;this.$("statusiconwrapper")[t?"addClass":"removeClass"]("sapSuiteUiCommonsNetworkNodeInfoWrapperCustomIcon");e&&(e.textContent=r);this.setProperty("statusIcon",t,true);return this};return L});
//# sourceMappingURL=Node.js.map