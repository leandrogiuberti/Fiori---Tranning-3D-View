{"version":3,"file":"TeamsHelperService.js","names":["sap","ui","define","Log","Core","URLListValidator","CollaborationHelper","BaseHelperService","Element","ContactHelper","Device","CollaborationCardHelper","Fragment","MessageBox","Library","Popover","HBox","VBox","MessageStrip","Button","CollaborationContactInfoHelper","sapMLibrary","FlexBox","Localization","CollaborationManagerService","FlexItemData","TeamsHelperService","extend","constructor","oProviderConfig","this","_providerConfig","shareAsLinkUrl","_getShareAsTabUrl","then","sShareAsTabUrl","shareAsTabUrl","bind","COLLABORATION_MSTEAMS_APPID","oLogger","getLogger","CARD_URL_PREFIX","oResourceBundle","getResourceBundleFor","PARAM_SAP_CARD_INFO","oBusyDialog","iBusyDialogTimeoutId","AUTO_CLOSE_BUSY_DIALOG_TIME","oTeamsParams","windowWidthAndHeight","validDomains","prototype","getOptions","oParams","isShareAsLinkEnabled","isShareAsTabEnabled","isShareAsCardEnabled","aOptions","aFinalOptions","system","desktop","push","text","getText","key","icon","fesrStepName","info","bIsShareAsCardEnabled","CARD_OBJECT","length","type","subOptions","share","oOption","url","error","validate","_shareAsChat","_shareAsTab","_shareAsCard","newWindow","window","open","sMessage","appTitle","subTitle","opener","minifyUrlForChat","compactHash","async","sShortURL","sModifiedUrl","_modifyUrlForNavigationContext","location","encodeURIComponent","_modifyUrlForShareAsTab","sUrl","sAppUri","iIndexOfHash","indexOf","sUriForHeaderLess","substring","iIndexOfQuestionMark","sParam","_addNavmodeInUrl","oData","subEntityId","mode","sURL","JSON","stringify","m","URLHelper","redirect","sNavMode","UshellContainer","require","getServiceAsync","oURLParsing","oHashPartOfUri","parseShellHash","params","sHashOfUri","constructShellHash","Promise","resolve","originalUrl","iParamsCount","Object","keys","oUrl","URL","searchParams","has","set","delete","toString","cardId","cardManifest","isFeatureFlagEnabled","_updateUrl","oCardData","oDialog","load","name","controller","setTimeout","close","destroy","err","message","_buildCardInfo","warn","rtl","getRTL","postCardResponse","postCard","card_id","version","code","sCardVersion","parse","atob","e","href","_getModifiedUrlForSharing","sUrlForTab","_closeBusyDialogAndOpenTeamsDialog","sShortURLTab","sStageViewHash","split","_closeBusyDialog","clearTimeout","_generateShareAsCardUrl","_wildcardToRegExp","pattern","RegExp","map","part","replace","join","_isValidDomain","domain","hostname","some","test","_getCardInfoUrl","isValid","sAppTitle","_generateCardUnfurlingUrl","sCardInfoUrl","cardUrl","infoFields","filter","Boolean","_getApplicationID","sTeamsAppID","_getCurrentUrl","sCurrentUrl","sBeforeHashURL","oParsedUrl","parseParameters","isContactsCollaborationSupported","enableContactsCollaboration","sEmail","isTeamMode","isTeamsModeActive","isContactServiceAvailable","fetchServiceStatus","value","FetchContacts","oContactHelper","isDirectCommunicationEnabled","loadContactPopover","reject","loadMinimalContactPopover","getTeamsContactCollabOptions","getTeamsContactOptions","getTeamsContactStatus","getCollaborationPopover","oSource","isLink","oCollaborationOptionsConfig","data","undefined","trim","oCollaborationOptionsCfg","shareToTeams","shareToEmail","shareToCM","oCollaborationManager","oCMOption","_shareData","oCollaborationPopover","_getPopover","openBy","showHeader","placement","verticalScrolling","horizontalScrolling","content","_getPopoverContent","oMainFBox","items","direction","FlexDirection","Column","oOptionFBox","sFormat","Row","justifyContent","FlexJustifyContent","SpaceAround","forEach","button","width","press","oEvent","getSource","getParent","addStyleClass","addItem","oCopyLinkFlexbox","Center","SpaceBetween","alignItems","FlexAlignItems","_writeToClipBoard","insertItem","showIcon","setHeight","sText","navigator","clipboard","writeText","oShareDataLink","title","oShareDataSummary","showPreview","_shareSummary","triggerEmail","triggerH2HChat"],"sources":["TeamsHelperService-dbg.js"],"mappings":"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","ignoreList":[]}