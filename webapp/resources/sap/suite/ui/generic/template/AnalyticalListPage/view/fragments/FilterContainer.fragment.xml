<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:l="sap.ui.layout" xmlns:vfb="sap.suite.ui.generic.template.AnalyticalListPage.control.visualfilterbar"
	xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1">

	<!-- //TODO-DPL - addStyleClass as per the spec -->
	<l:VerticalLayout class="sapSmartTemplatesAnalyticalListPageFilterContainer" id="template::FilterContainer"
		core:require="{ALPFilterUtil: 'sap/suite/ui/generic/template/AnalyticalListPage/util/FilterUtil'}">
		<VBox id="template::CompactFilterContainer" visible="{= ${_templPriv>/alp/filterMode} === 'compact'}">
			<core:Fragment fragmentName="sap.suite.ui.generic.template.AnalyticalListPage.view.fragments.SmartFilterBar" type="XML"/>
		</VBox>
		<template:if test="{= ${parameter>/settings/hideVisualFilter} !== true }">
			<FlexBox id="template::VisualFilterContainer" visible="{= ${_templPriv>/alp/filterMode} === 'visual'}" direction="{= ${device>/system/phone} ? 'ColumnReverse' : 'Column'}">
				<items>
					<vfb:SmartVisualFilterBar
						id="template::VisualFilterBar"
						smartVariant="template::PageVariant"
						persistencyKey="visualFilterPersistencyKey"
						lazyLoadVisualFilter="{parameter>/settings/lazyLoadVisualFilter}"
						allFiltersAsInParameters="{parameter>/settings/allFiltersAsInParameters}"
						showDividers="false"/>
					<template:if test="{= ${parameter>/settings/showGoButtonOnFilterBar} || ${device>/system/phone}}">
						<FlexBox alignItems="End" justifyContent="End">
							<items>
								<Button id="template::GoFilters" text="{i18n>GO_FILTERS}" type="Emphasized" press="cmd:VisualFilterSearch"/>
								<Button class="sapUiCompFilterBarPaddingRightBtn"
									id="template::VisualFilterDialogButton"
									type="Transparent"
									text="{parts: [{path: 'i18n>VISUAL_FILTER_FILTERS'}, {path: 'i18n>VISUAL_FILTER_FILTERS_WITH_COUNT'}, {path:'_templPriv>/alp/filtersLink'}], formatter: 'ALPFilterUtil.formatFiltersLink'}"
									tooltip="{parts: [{path: 'i18n>VISUAL_FILTER_FILTERS'}, {path: 'i18n>VISUAL_FILTER_FILTERS_WITH_COUNT'}, {path:'_templPriv>/alp/filtersLink'}], formatter: 'ALPFilterUtil.formatFiltersLink'}"
									ariaHasPopup="Dialog" press="._templateEventHandlers.onFilterPress"/>
							</items>
						</FlexBox>
					</template:if>
				</items>
			</FlexBox>
		</template:if>
	</l:VerticalLayout>
</core:FragmentDefinition>
