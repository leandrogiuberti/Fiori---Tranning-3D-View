sap.ui.define(["sap/suite/ui/generic/template/genericUtilities/FeError"],function(e){"use strict";var t="genericUtilities.metadataAnalyser";function r(e,t){return e.SourceProperties.find(function(e){return e.PropertyPath===t})}return{getPropertyOfEntitySet:function(r,a){if(!r||!r.getMetaModel){throw new e(t,"OData Model needs to be passed as an argument")}var n=r.getMetaModel();var i=n.getODataEntitySet(a);var o=n.getODataEntityType(i.entityType);return o.property?Array.from(o.property):[]},getParametersByEntitySet:function(r,a){if(!r||!r.getMetaModel){throw new e(t,"OData Model needs to be passed as an argument")}var n=r.getMetaModel();var i={entitySetName:null,parameters:[],navPropertyName:null};var o=n.getODataEntitySet(a);var y=n.getODataEntityType(o.entityType);var s=y.navigationProperty;if(!s){return i}s.filter(function(e){var t=n.getODataAssociationEnd(y,e.name);var r=n.getODataEntityType(t.type);if(r&&r["sap:semantics"]==="parameters"&&r.key){i.entitySetName=n.getODataAssociationSetEnd(y,e.name).entitySet;for(var a=0;a<r.key.propertyRef.length;a++){i.parameters.push(r.key.propertyRef[a].name)}var s=r.navigationProperty;var p=s.some(function(e){var t=n.getODataAssociationEnd(r,e.name).type;t===o.entityType?i.navPropertyName=e.name:Function.prototype();return i.navPropertyName});return p&&i.navPropertyName&&i.entitySetName}return false});return i},isContentIdReferencingAllowed:function(e){var t=e.getMetaModel();var r=t.getODataEntityContainer();var a=r["Org.OData.Capabilities.V1.BatchSupport"];if(a&&a.ReferencesAcrossChangeSetsSupported&&a.ReferencesAcrossChangeSetsSupported.Bool){return a.ReferencesAcrossChangeSetsSupported.Bool==="true"}return false},getNavigationPropertyRelationship:function(e,t,r){var a=e.getODataEntityType(e.getODataEntitySet(t).entityType);return a.navigationProperty.find(function(e){return e.name===r})},getFieldSourcePropertiesType:function(e,t,a){var n=t.getODataEntityType(a);var i,o=false,y=false;for(var s in n){if(s.startsWith("com.sap.vocabularies.Common.v1.SideEffects")){i=n[s];if(i.SourceProperties){if(!o&&i.SourceProperties.length===1){o=i.SourceProperties[0].PropertyPath===e}else if(!y&&i.SourceProperties.length>1){y=!!r(i,e)}}}}if(o){return y?"SingleAndMultipleSource":"OnlySingleSource"}else if(y){return"OnlyMultipleSource"}return"NoSideEffect"},checkAnalyticalParameterisedEntitySet:function(e,t){if(!e||!e.getMetaModel){throw new Error("OData Model needs to be passed as an argument")}var r=e.getMetaModel();var a=r.getODataEntitySet(t);if(a&&a.entityType){var n=r.getODataEntityType(a.entityType);if(n["sap:semantics"]&&n["sap:semantics"]==="aggregate"){return true}}return false},getEntityTypeNameFromEntitySetName:function(e,t){var r,a;r=t.getODataEntitySet(e);if(r){a=r.entityType}return a},getFullyQualifiedNameForEntity:function(e,t){if(!e){return undefined}if(e.indexOf(".")>-1){return e}var r,a;var n=t.getProperty("/");var i=n.dataServices.schema[0];r=i&&i.namespace;a=(r?r+".":"")+e;return a},getEntitySetNameFromEntityTypeName:function(e,t){if(e){var r=this.getFullyQualifiedNameForEntity(e,t);var a=r&&t.getODataEntityContainer();if(a){var n=a.entitySet;var i=n.find(function(e){return e.entityType===r});if(i){return i.name}}}return null},getPropertyMetadata:function(e,t,r){var a=e.getODataEntityType(t);var n=r.split("/");for(var i=0;i<n.length-1;i++){var o=e.getODataAssociationEnd(a,n[i]);a=e.getODataEntityType(o.type)}r=n[n.length-1];var y=e.getODataProperty(a,r);return y},hasPropertyInSideEffect:r}});
//# sourceMappingURL=metadataAnalyser.js.map