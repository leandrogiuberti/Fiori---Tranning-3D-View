sap.ui.define([],function(){"use strict";function t(t,e,a,n){var r,i,o;var c=new Promise(function(t){i=t});if(typeof t!=="string"){f(t)}n.managedControlWrappers=n.managedControlWrappers.map(a.getSuppressChangeEventWhenApplyingWrapper);n.managedControlWrappers.forEach(function(t){if(!t.bVMConnection){t.attachStateChanged(function(){r.currentVariantSetModified(true)})}});function f(t){r=t;i(r)}var d=n.managedControlWrappers.find(function(t){return t.setSVMWrapperCallbacks});if(d){d.setSVMWrapperCallbacks({getManagedControlStates:function(){var t=Object.create(null);n.managedControlWrappers.forEach(function(e){if(!e.bVMConnection){t[e.getLocalId()]=e.getState()}});return t},setManagedControlStates:function(t){n.managedControlWrappers.forEach(function(e){if(!e.bVMConnection){e.setState(t[e.getLocalId()])}})},setHeaderState:function(t){n.dynamicPageWrapper.setHeaderState(e,t)}})}function u(t){if(d){d.suppressSelection(true)}var a=n.managedControlWrappers[0].getLocalId();var i=e.getView().byId(a);if(i&&i.isA("sap.ui.comp.smarttable.SmartTable")){i.attachAfterVariantInitialise(function(){if(t!=="*standard*"&&t!==""){if(i.getCurrentVariantId&&i.getCurrentVariantId()!==t){i.setCurrentVariantId(t)}r.setModified(false)}})}r.setCurrentVariantId(t);if(d){d.suppressSelection(false)}}function s(t){n.managedControlWrappers.forEach(function(e){e.setState(t.managedControlStates[e.getLocalId()])})}function l(){if(!r){return o}var t=Object.create(null);n.managedControlWrappers.forEach(function(e){t[e.getLocalId()]=e.getState()});return{variantId:r.getCurrentVariantId(),modified:r.currentVariantGetModified(),managedControlStates:t}}function p(t){o=t;c.then(function(){if(!o){u(r.getDefaultVariantId());return}if(o.modified){u("");r.currentVariantSetModified(true);s(o)}else{u(o.variantId);if(o.managedControlStates){if(d){d.setState(o.managedControlStates[d.getLocalId()])}if(o.variantId!==r.getCurrentVariantId()){r.currentVariantSetModified(true)}}}})}function g(t){c.then(function(){r.attachSelect(t);r.attachAfterSave(t);n.managedControlWrappers.forEach(function(e){e.attachStateChanged(t)})})}return{getState:l,setState:p,setControl:f,attachStateChanged:g}}return t});
//# sourceMappingURL=SmartVariantManagementWrapper.js.map