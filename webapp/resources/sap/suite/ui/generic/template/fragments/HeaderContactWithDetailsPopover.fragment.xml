<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:fe="sap.suite.ui.generic.template.genericUtilities"
	xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"
	template:require="{AH: 'sap/suite/ui/generic/template/js/AnnotationHelper', AHModel: 'sap/ui/model/odata/AnnotationHelper'}">

	<VBox id="header::{path: 'headerFacet>', formatter: 'AH.getStableIdPartFromFacet'}::ContactWithDetails"
		  visible="{path: 'headerFacet>', formatter: 'AH.getBindingForHiddenPath'}"
		  displayInline="true"  binding="{parts: [{path: 'headerFacet>Target'}, {path: 'entitySet>'}], formatter: 'AH.getNavigationPathWithExpand'}"
		  class="sapSmartTemplatesObjectPageHeaderForm sapSmartTemplatesObjectPageHeaderContact sapMShowEmpty-CTX">
		<template:if test="{headerFacet>Label}">
			<Title id="header::{path: 'headerFacet>', formatter: 'AH.getStableIdPartFromFacet'}::Label"
				   text="{path: 'headerFacet>Label', formatter: 'AHModel.format'}"
				   class="sapSmartTemplatesObjectPageHeaderContactLabel"
				   level="H3"/>
		</template:if>
		<HBox>
			<core:Icon id="header::{path: 'headerFacet>', formatter: 'AH.getStableIdPartFromFacet'}::Link::Icon"
					   src="sap-icon://person-placeholder" tooltip="{i18n>CONTACT_INFO}"
					   visible="false"
					   class="sapUiTinyMarginEnd sapSmartTemplatesObjectPageHeaderContactLinkIcon" />
			<fe:Link id="header::{path: 'headerFacet>', formatter: 'AH.getStableIdPartFromFacet'}::Link"
 				  text="{path: 'contact>fn', formatter: 'AHModel.format'}"
 				  press="._templateEventHandlers.onContactDetails"
				  ariaLabelledBy="header::{path: 'headerFacet>', formatter: 'AH.getStableIdPartFromFacet'}::Label"
				  class="sapSmartTemplatesObjectPageHeaderContactLink">
				<fe:customData>
					<core:CustomData key="Location" value="Header"/>
					<core:CustomData key="contactDetails" value="{= ${path: 'contact>', formatter: 'AH.getCustomDataForContactPopup'}}"/>
				</fe:customData>
			</fe:Link>
		</HBox>
		<HBox>
			<core:Icon id="header::{path: 'headerFacet>', formatter: 'AH.getStableIdPartFromFacet'}::LinkSmall::Icon"
					   src="sap-icon://person-placeholder" tooltip="{i18n>CONTACT_INFO}"
					   visible="false"
					   class="sapUiTinyMarginEnd sapSmartTemplatesObjectPageHeaderFormLabel" />
			<fe:Link id="header::{path: 'headerFacet>', formatter: 'AH.getStableIdPartFromFacet'}::LinkSmall"
				  text="{path: 'contact>fn', formatter: 'AHModel.format'}"
				  press="._templateEventHandlers.onContactDetails"
				  ariaLabelledBy="header::{path: 'headerFacet>', formatter: 'AH.getStableIdPartFromFacet'}::Label"
				  visible="false"
				  class="sapSmartTemplatesObjectPageHeaderFormField sapSmartTemplatesObjectPageHeaderContactLink">
				<fe:customData>
					<core:CustomData key="Location" value="Header"/>
				</fe:customData>
			</fe:Link>
		</HBox>
		<HBox>
			<core:Icon id="header::{path: 'headerFacet>', formatter: 'AH.getStableIdPartFromFacet'}::Fn::Icon"
					   src="sap-icon://person-placeholder" tooltip="{i18n>CONTACT_INFO}"
					   visible="false"
					   class="sapUiTinyMarginEnd sapSmartTemplatesObjectPageHeaderFormLabel" />
			<Text id="header::{path: 'headerFacet>', formatter: 'AH.getStableIdPartFromFacet'}::Fn"
				  text="{path: 'contact>fn', formatter: 'AHModel.format'}"
				  visible="false"
				  class="sapSmartTemplatesObjectPageHeaderFormField"/>
		</HBox>
		<template:if test="{= !!${contact>title}}">
			<Text id="header::{path: 'headerFacet>', formatter: 'AH.getStableIdPartFromFacet'}::Title"
				  text="{path: 'contact>title', formatter: 'AHModel.format'}"
				  visible="false"
				  class="sapSmartTemplatesObjectPageHeaderFormField"/>
		</template:if>
		<template:if test="{= !!${contact>org}}">
			<Text id="header::{path: 'headerFacet>', formatter: 'AH.getStableIdPartFromFacet'}::Org"
				  text="{path: 'contact>org', formatter: 'AHModel.format'}"
				  visible="false"
				  class="sapSmartTemplatesObjectPageHeaderFormField"/>
		</template:if>
		<template:if test="{= !!${path: 'contact>email/[${type/EnumMember}.indexOf(\'ContactInformationType/work\')>=0]/address', formatter: 'AHModel.format'} }">
			<HBox>
				<core:Icon id="header::{path: 'headerFacet>', formatter: 'AH.getStableIdPartFromFacet'}::Email::Work::Icon"
						   src="sap-icon://email" tooltip="{i18n>CONTACT_EMAIL}"
						   visible="false"
						   class="sapUiTinyMarginEnd sapSmartTemplatesObjectPageHeaderFormLabel" />
				<fe:Link id="header::{path: 'headerFacet>', formatter: 'AH.getStableIdPartFromFacet'}::Email::Work"
					  text="{path: 'contact>email/[${type/EnumMember}.indexOf(\'ContactInformationType/work\')>=0]/address', formatter: 'AHModel.format'}"
					  href="mailto:{path: 'contact>email/[${type/EnumMember}.indexOf(\'ContactInformationType/work\')>=0]/address', formatter: 'AHModel.format'}"
					  visible="false"
					  ariaLabelledBy="header::{path: 'headerFacet>', formatter: 'AH.getStableIdPartFromFacet'}::Label"
					  class="sapSmartTemplatesObjectPageHeaderFormField"/>
			</HBox>
		</template:if>
		<template:if test="{= !!${path: 'contact>tel/[${type/EnumMember}.indexOf(\'PhoneType/work\')>=0]/uri'} }">
			<HBox>
				<core:Icon id="header::{path: 'headerFacet>', formatter: 'AH.getStableIdPartFromFacet'}::Phone::Work::Icon"
						   src="sap-icon://phone" tooltip="{i18n>CONTACT_PHONE}"
						   visible="false"
						   class="sapUiTinyMarginEnd sapSmartTemplatesObjectPageHeaderFormLabel" />
				<fe:Link id="header::{path: 'headerFacet>', formatter: 'AH.getStableIdPartFromFacet'}::Phone::Work"
					  text="{= ${path: 'contact>tel/[${type/EnumMember}.indexOf(\'PhoneType/work\')>=0]/uri', formatter: 'AHModel.format'}.replace('tel:','') }"
					  href="tel:{= ${path: 'contact>tel/[${type/EnumMember}.indexOf(\'PhoneType/work\')>=0]/uri', formatter: 'AHModel.format'}.replace('tel:','') }"
					  visible="false"
					  ariaLabelledBy="header::{path: 'headerFacet>', formatter: 'AH.getStableIdPartFromFacet'}::Label"
					  class="sapSmartTemplatesObjectPageHeaderFormField"/>
			</HBox>
		</template:if>
		<template:if test="{= !!${path: 'contact>tel/[${type/EnumMember}.indexOf(\'PhoneType/cell\')>=0]/uri'} }">
			<HBox>
				<core:Icon id="header::{path: 'headerFacet>', formatter: 'AH.getStableIdPartFromFacet'}::Cell::Work::Icon"
						   src="sap-icon://iphone" tooltip="{i18n>CONTACT_MOBILE}"
						   visible="false"
						   class="sapUiTinyMarginEnd sapSmartTemplatesObjectPageHeaderFormLabel" />
				<fe:Link id="header::{path: 'headerFacet>', formatter: 'AH.getStableIdPartFromFacet'}::Cell::Work"
					  text="{= ${path: 'contact>tel/[${type/EnumMember}.indexOf(\'PhoneType/cell\')>=0]/uri', formatter: 'AHModel.format'}.replace('tel:','') }"
					  href="tel:{= ${path: 'contact>tel/[${type/EnumMember}.indexOf(\'PhoneType/cell\')>=0]/uri', formatter: 'AHModel.format'}.replace('tel:','') }"
					  visible="false"
					  ariaLabelledBy="header::{path: 'headerFacet>', formatter: 'AH.getStableIdPartFromFacet'}::Label"
					  class="sapSmartTemplatesObjectPageHeaderFormField"/>
			</HBox>
		</template:if>
		<template:if test="{= !!${path: 'contact>tel/[${type/EnumMember}.indexOf(\'PhoneType/fax\')>=0]/uri'} }">
			<HBox>
				<core:Icon id="header::{path: 'headerFacet>', formatter: 'AH.getStableIdPartFromFacet'}::Fax::Work::Icon"
						   src="sap-icon://fax-machine" tooltip="{i18n>CONTACT_FAX}"
						   visible="false"
						   class="sapUiTinyMarginEnd sapSmartTemplatesObjectPageHeaderFormLabel" />
				<Text id="header::{path: 'headerFacet>', formatter: 'AH.getStableIdPartFromFacet'}::Fax::Work"
					  text="{= ${path: 'contact>tel/[${type/EnumMember}.indexOf(\'PhoneType/fax\')>=0]/uri', formatter: 'AHModel.format'}.replace('tel:','') }"
					  visible="false"
					  ariaLabelledBy="header::{path: 'headerFacet>', formatter: 'AH.getStableIdPartFromFacet'}::Label"
					  class="sapSmartTemplatesObjectPageHeaderFormField"/>
			</HBox>
		</template:if>
		<template:if test="{= !!${contact>adr}}">
			<HBox>
				<Label text="{i18n>CONTACT_ADDRESS}"/>
				<template:if test="{= !!${path: 'contact>adr/[${type/EnumMember}.indexOf(\'ContactInformationType\')>=0]/label'} }">
					<template:then>
						<Text text="{path: 'contact>adr/[${type/EnumMember}.indexOf(\'ContactInformationType\')>=0]/label', formatter: 'AHModel.format'}"
							wrapping="true"/>
					</template:then>
					<template:else>
						<Text text="{path: 'contact>adr', formatter: 'AH.getFormattedAddress'}"
							wrapping="true"/>
					</template:else>
				</template:if>
			</HBox>
		</template:if>
	</VBox>

</core:FragmentDefinition>
