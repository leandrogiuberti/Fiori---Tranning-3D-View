<core:FragmentDefinition
		xmlns="sap.m"
		xmlns:core="sap.ui.core">
	<MessagePopover groupItems="true" items="{msg>/}" activeTitlePress="titlePressed" beforeOpen="beforeOpen" afterClose="afterClose" >
		<MessageItem  type="{msg>type}"  title="{msg>message}"
					subtitle="{parts:[{path: 'msg>id'}, {path: 'msg>controlIds'}, {path: 'msg>additionalText'}, {path: 'helper>/isPopoverOpen'}, {path: 'helper>/heartBeat'}], formatter: '.getSubtitle'}"
					description="{parts:[{path: 'msg>id'}, {path: 'msg>controlIds'}, {path: 'msg>description'}, {path: 'helper>/isPopoverOpen'}, {path: 'helper>/heartBeat'}], formatter: '.getDescription'}"
					longtextUrl="{msg>descriptionUrl}"
					markupDescription="{= ${helper>/isAIErrorExplanationEnabled} }"
					activeTitle="{parts:[{path: 'msg>id'}, {path: 'msg>controlIds'}, {path: 'helper>/isPopoverOpen'}], formatter: '.isPositionable'}"
					groupName="{= ${helper>/messageToGroupName}[${msg>id}] }">
					<Link
						text="{i18n>ST_AI_EE_BUTTON_LABEL}"
						icon="sap-icon://ai"
						visible="{= ${helper>/isAIErrorExplanationEnabled} }"
						press="generateErrorExplanation">
						<customData>
							<core:CustomData key="message" value="{msg>message}" />
							<core:CustomData key="description" value="{msg>description}" />
							<core:CustomData key="descriptionUrl" value="{msg>descriptionUrl}" />
							<core:CustomData key="code" value="{msg>code}" />
						</customData>
					</Link>
		</MessageItem>
	</MessagePopover>
</core:FragmentDefinition>
