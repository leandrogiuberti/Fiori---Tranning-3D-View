sap.ui.define(["sap/ui/base/Object","sap/base/util/extend"],function(t,e){"use strict";function n(t,e,n,r){var i;r.isInitialised()?s():r.attachInitialized(s);var a=null;var o=new Promise(function(t){a=t});function u(){return o}function s(){r.getChartAsync().then(function(t){i=t;if(a){a()}})}function c(){return r.getAvailableChartTypes()}function l(){return i.getBinding("data")}function g(){return i}function f(){return r.getChartBindingPath()}function d(){return r.getItems()}function p(){var t=[];r.getChartAsync().then(function(n){var r=n;if(r&&r.getMetadata().getName()==="sap.chart.Chart"){var i=false;var a=r.getSelectionBehavior();var o=e.getSelectionPoints(r,a);if(o&&o.count>0){if(a==="DATAPOINT"){i=true}var u=o.dataPoints;var s=[];for(var c=0;c<u.length;c++){if(i){if(u[c].context){t.push(u[c].context)}}else{s.push(u[c].dimensions)}}if(!i){t[0]=s}}}});return t}function h(){return r.getModel()}function v(){return e.setEnabledToolbarButtons(r)}function C(){return e.setEnabledFooterButtons(r)}function y(t){r.attachAfterVariantInitialise(function(){r.setCurrentVariantId(t)});r.setCurrentVariantId(t)}function b(){r.rebindChart()}function I(t){var e=r.getModel().getMetaModel();var n=e.getODataEntitySet(r&&r.getEntitySet());var i=e.getODataEntityType(n.entityType);var a=i.property;return a.some(function(e){return e.name===t.Property})}function P(t){var e=r.getUiState();var n=e.getPresentationVariant();var i=t.filter(function(t){return I(t)});var a=n&&n.SortOrder?i.concat(n.SortOrder):i;n.SortOrder=a;e.setPresentationVariant(n);r.setUiState(e)}function m(){return r.getToolbar()}return{getBinding:l,getBindingPath:f,getInnerChart:g,getAvailableChartTypes:c,getItems:d,getSelectedContexts:p,getCurrentContexts:Function.prototype,getVisibleProperties:Function.prototype,getBindingInfo:Function.prototype,getModel:h,setEnabledToolbarButtons:v,setEnabledFooterButtons:C,setCurrentVariantId:y,setCurrentTableVariantId:Function.prototype,setCurrentChartVariantId:y,refresh:Function.prototype,rebind:b,applyNavigationSortOrder:P,getToolbar:m,scrollToSelectedItemAsPerChildContext:Function.prototype,getPressedItemParameter:Function.prototype,getInitializationPromise:u}}return t.extend("sap.suite.ui.generic.template.lib.presentationControl.SmartChartHandler",{constructor:function(t,r,i,a){e(this,n(t,r,i,a))}})});
//# sourceMappingURL=SmartChartHandler.js.map