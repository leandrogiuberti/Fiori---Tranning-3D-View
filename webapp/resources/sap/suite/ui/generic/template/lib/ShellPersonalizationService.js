sap.ui.define(["sap/ui/base/Object","sap/base/util/extend","sap/suite/ui/generic/template/genericUtilities/testableHelper","sap/suite/ui/generic/template/genericUtilities/FeLogger"],function(e,t,i,n){"use strict";function a({oAppComponent:e}){var t;var a={};var r="lib.ShellPersonalizationService";var s=new n(r).getLogger();async function o(e,i,n){if(!f()){s.error("Personalization service is not initialized");return}i={keyCategory:t.constants.keyCategory.FIXED_KEY,writeFrequency:t.constants.writeFrequency.LOW,clientStorageAllowed:false,validity:Infinity,...i};return t.getPersonalizer(e,i,n)}function c(){var t=`App#${e.getManifest()["sap.app"].id}`;return t}async function l(t){if(!a[t]){a[t]=o({container:c(),item:t},{},e)}return a[t]}async function u(e){var t=await l(e);var i=await(t?.getPersData());return i}async function p(e,t){var i=await l(e);i.setPersData(t)}function f(){return!!t}function g(){var e=sap.ui.require("sap/ushell/Container");if(f()||!e){return Promise.resolve()}return e.getServiceAsync("PersonalizationV2").then(e=>{v(e)})}function v(e){t=e}var v=i.testable(v,"setShellPersonalizationService");return{init:g,hasInitialized:f,getApplicationPersonalizationData:u,setApplicationPersonalizationData:p}}return e.extend("sap.suite.ui.generic.template.lib.ShellPersonalizationService",{constructor:function(e){t(this,a(e))}})});
//# sourceMappingURL=ShellPersonalizationService.js.map