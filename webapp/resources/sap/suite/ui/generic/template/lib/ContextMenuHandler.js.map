{"version":3,"file":"ContextMenuHandler.js","names":["sap","ui","define","extend","ObjectPath","MessageBox","ServiceContainer","controlHelper","FeLogger","BaseObject","Event","oLogger","getLogger","MAX_RECORDS_OPEN_IN_NEW_TAB","MAX_RECORDS_SHARE_TO_CM","aToolbarContentsToBeOmitted","getMethods","oController","oTemplateUtils","oState","oSourceControl","oConfiguration","oView","getView","oTemplatePrivateModel","getModel","oCommonUtils","oComponentUtils","sModelPathPrefix","getLocalId","getId","getProperty","setProperty","sModelPath","sItemsPath","items","oPresentationControlHandler","oServices","oPresentationControlHandlerFactory","getPresentationControlHandler","bNavigationSupported","canNavigateToSubEntitySet","getEntitySet","mHandlers","iCreatedMenuItemsCounter","sOutboundNavigationTarget","getTable","getContextMenu","data","oOutbound","fnGetOutboundInfoFromManifest","oCollaborationManager","fnAddMenuItem","sPathToItems","aItems","sText","sIcon","bStartsSection","oHandlerPromise","aChildren","sKey","iPosition","length","then","fnHandler","aHandlerPromisesForChildren","map","oMenuItem","handlerPromise","Promise","all","aHandlersForChildren","bParentEnabled","forEach","iIndex","push","text","icon","key","enabled","startsSection","children","fnAddMainMenuItem","bind","fnExecuteCustomAction","oFocusInfo","oBreakoutControlData","oToolbarControl","smartControlId","command","fnExecuteCustomActionByCommand","fnExecuteCustomActionByPressEvent","oCommandExecution","getDependents","find","oDependent","isA","fireExecute","sPressHandlerName","press","fnEventHandler","startsWith","sPressHandlerPath","substring","create","oEventSource","oPressEvent","apply","getHandlePromiseForStandardAction","oToolbarControlData","oButton","getHandler","bEnabled","executeAction","oEnablementInfo","getToolbarActionEnablementInfo","applicableContexts","enabledPromise","resolve","getHandlePromiseForBreakoutAction","excludeFromContextMenu","requiresSelection","isBreakoutActionEnabled","fnAddToolbarButtonToContextMenu","oToolbarControlsData","bStartsNewSection","sButtonLocalId","oHandlePromise","oStandardControlData","standardActions","oControlData","ID","findBreakoutActionByLocalId","breakoutActions","getText","getIcon","fnAddMenuButtonToContextMenu","oMenuButton","aMenuItems","getMenu","getItems","aChildContextMenuEntries","bStartsSectionOnSubMenu","getStartsSection","oChildContextMenuEntry","fnAddToolbarButtonsToContextMenu","aStandardActions","getToolbarCustomData","mBreakoutActions","getBreakoutActions","aBreakoutActions","Object","values","oToolbar","getToolbar","aToolbarContent","getContent","bFirst","oToolbarEntry","getVisible","bIgnoreToolbarEntry","some","sControlToBeOmitted","includes","isButton","isMenuButton","fnIsContextNavigable","oContext","bIsEmptyRow","isInactive","oManifestEntry","getOwnerComponent","getAppComponent","getManifestEntry","crossNavigation","outbounds","fnCrossAppNavErrorHandler","oError","error","getPath","fnOpenNavigableContextsInNewTab","aNavigableContexts","sWarningMessage","warning","oSynchronizeDraftPromise","hasPendingChanges","oApplicationController","synchronizeDraftAsync","fnHandleError","oCommonEventHandlers","navigateIntentOnNewTab","oSmartFilterbar","openContextInNewTabFromListItem","getHandlePromiseForOpenInNewTab","bDirectEdit","oApplication","getEditFlowOfRoot","bOnListNavigationExtensionFound","hasOwnProperty","UshellContainer","require","filter","fnAddOpenInNewTabToContextMenu","fnInitToCollaborationManager","promise","reject","withResolvers","getCollaborationServices","mResults","oCMHelperService","oCMOptions","getOptions","getSharePromiseForCollaborationManager","oActiveEntity","getObject","bIsDraftSupported","isDraftEnabled","bIsDraft","IsActiveEntity","bHasActiveEntity","HasActiveEntity","bIsOwnDraftChild","focussedBindingContext","sPath","sDeepPath","sAppTitle","getAppTitle","oBusyHelper","getBusyHelper","isBusy","oSiblingContextPromise","createDraftSiblingPromise","oModel","URLParser","ushell","services","URLParsing","setBusy","oSiblingContext","document","URL","split","getHash","getShellHash","sSiblingURL","replace","publishData","sCurrentURL","sTargetURLPromise","getTargetIdentityForContext","sTargetURL","fnAddShareToCollaborationManager","oSharePromise","catch","getContextMenuItems","oEvent","getFocusInfoForContextMenuEvent","aRet","fnBeforeOpenContextMenu","aContextMenuItems","preventDefault","onContextMenu","getSource","getKey","beforeOpenContextMenu","constructor","this"],"sources":["ContextMenuHandler-dbg.js"],"mappings":"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","ignoreList":[]}