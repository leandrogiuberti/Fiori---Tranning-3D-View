sap.ui.define(["sap/ui/base/Object","sap/base/util/extend","sap/suite/ui/generic/template/genericUtilities/controlHelper","sap/suite/ui/generic/template/genericUtilities/FeLogger"],function(e,t,o,r){"use strict";var n="lib.FocusHelper";var i=new r(n);var s=i.getLogger();function c(e){function t(){var t=e.oNavigationControllerProxy&&e.oNavigationControllerProxy.getCurrentIdentity();var r={activeComponents:e.oNavigationControllerProxy?e.oNavigationControllerProxy.getActiveComponents():[],currentKeys:t&&t.keys};r.currentFocus=r.activeComponents.length>0&&o.getControlWithFocus();if(r.currentFocus){var n=r.currentFocus.getId();for(var i=r.activeComponents.length-1;i>=0;i--){var s=r.activeComponents[i];var c=e.componentRegistry[s];var a=c.oController&&c.oController.getView();if(a&&o.isElementVisibleOnView(n,a)){r.currentFocusComponent=s;c.lastFocus=r.currentFocus;break}}}return r}function r(t,o){var r=e.oNavigationControllerProxy.getActiveComponents();var n=r[r.length-1];var i=n&&e.componentRegistry[n];if(i&&i.methods.setFocus){i.methods.setFocus(t,o)}}var n={getBeforeData:t,fallback:r};e.mBusyTopics.focus=n;function i(e){if(n.oneTimer){s.warning("Existing focus oneTimer replaced")}else{s.info("Set focus oneTimer")}n.oneTimer=e}return{setNextFocus:i}}return e.extend("sap.suite.ui.generic.template.lib.FocusHelper",{constructor:function(e){t(this,c(e))}})});
//# sourceMappingURL=FocusHelper.js.map