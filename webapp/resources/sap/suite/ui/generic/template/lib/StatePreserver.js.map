{"version":3,"file":"StatePreserver.js","names":["sap","ui","define","BaseObject","routingHelper","testableHelper","FeLogger","extend","deepExtend","isEmptyObject","oLogger","getLogger","getMethods","oTemplateContract","oSettings","oCrossAppNavServicePromise","getCrossAppNavServicePromise","oRegistryEntry","componentRegistry","oComponent","getId","bIsRoot","viewLevel","sRealizedAppStateKey","oAppStateIsSetPromise","Promise","resolve","fnNotifyRealizedAppStateConsistent","oAppStateCleanPromise","fnAppStateCleanResolve","oStoringInformation","sAppStateKeyInUrl","sLastAppKey","sLastBindingPath","oCurrentAnalyzedState","Object","create","oLastPermanentKeys","oLastSessionKeys","fnInitializeCurrentAnalyzedState","permanentEntries","sessionEntries","pageEntries","allEntries","fnTransferStateToAnalyzedState","oState","sKey","oEntry","oLifecycle","lifecycle","permanent","session","page","pagination","fnMoveKeyInfoToFront","oLastKeys","oPredecessor","oNext","next","getKeyForStatePromise","bPermanent","appStateKey","sSerialize","JSON","stringify","iCount","oLast","serialize","oAppStatePromise","then","oCrossAppNavService","createEmptyAppState","getAppComponent","undefined","oAppState","oNewLast","getKey","setData","oAppStateSavePromise","save","fnTransferAnalyzedStateToUrlPromise","oSessionAppStateKeyPromise","oSessionAppStateKey","oStorage","sessionAppStateKey","oPermanentAppStateKeyPromise","oPermanentAppStateKey","oNavigationPromise","utils","isComponentActive","oNavigationControllerProxy","navigateByExchangingQueryParam","appStateName","oBusyHelper","getUnbusy","fnStoreCurrentAppStateAndAdjustURLPromise","getCurrentState","getLastPath","aKeys","sRet","sRoute","route","i","length","oTreeNode","mRoutingTree","sOdataReference","entitySet","navigationProperty","parentRoute","getUrlParameterInfo","sPath","bAlreadyVisible","oRet","stateChanged","bStateHandlingSuspended","setTimeout","fnAdaptRealizedAppStateKey","fnTransferEntries","oTarget","mEntries","bUnconditional","async","fnRealizeStatePromise","bIsSameAsLast","oNewState","data","applyState","fnAddKeyToLastKeys","sAppStateKey","fnAdaptToFullAppStatePromise","oPermanentState","sSessionAppStateKey","oSessionState","hidePlaceholder","fnAdaptToUrlAppState","oRetrievedState","permanentState","getAppStateFromShell","catch","Function","prototype","bind","getSameAsLastPromise","sBindingPath","oHeaderDataPromise","getHeaderDataAvailablePromise","oApplicationProxy","areTwoKnownPathesIdentical","fnExecuteWithSameAsLast","fnExecute","fnApplyAppState","bIsComponentCurrentlyActive","callAlways","sAppStateKeyToConsider","fnLeaveApp","isStateChange","mAppStates","Array","isArray","sort","a","b","localeCompare","error","getAsStateChanger","leaveApp","setState","bToInitial","oInitialState","getInitialState","applyAppState","constructor","this"],"sources":["StatePreserver-dbg.js"],"mappings":"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","ignoreList":[]}