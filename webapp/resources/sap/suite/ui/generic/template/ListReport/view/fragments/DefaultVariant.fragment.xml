<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:f="sap.f" xmlns:variants="sap.ui.comp.smartvariants"
	xmlns:fesr="http://schemas.sap.com/sapui5/extension/sap.ui.core.FESR/1"
	xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"
	template:require="{AH: 'sap/suite/ui/generic/template/js/AnnotationHelper'}">

	<f:heading>
			<!--if worklist, then hide execute on select/apply automatically option in variant management-->
			<variants:SmartVariantManagement id="template::PageVariant" persistencyKey="{= ${parameter>/settings/smartVariantManagement} ? '_ST_SmartVariantManagement' : 'searchListReportVariant'}"
				showShare="true" showExecuteOnSelection="{= !${parameter>/settings/isWorklist} }" displayTextForExecuteOnSelectionForStandardVariant="{= (${parameter>/settings/dataLoadSettings/loadDataOnAppLaunch} === 'ifAnyFilterExist' || ${parameter>/settings/dataLoadSettings/loadDataOnAppLaunch} === undefined) ? '{i18n>ST_LIST_DISPLAY_TEXT_FOR_EXECUTE_ON_SELECTION}' : undefined}" headerLevel="H2"/>
	</f:heading>
	<f:actions>
		<ToolbarSpacer/>
		<!-- global breakout actions-->
		<template:repeat list="{parameter>/manifest/sap.ui5/extends/extensions/sap.ui.controllerExtensions/sap.suite.ui.generic.template.ListReport.view.ListReport/sap.ui.generic.app}" var="tmpEntitySet">
			<core:Fragment fragmentName="sap.suite.ui.generic.template.fragments.GlobalActions" type="XML"/>
		</template:repeat>
		<!--Enable the filter switch only if the easy filter is enabled-->
		<FlexBox renderType="Bare" visible="{= ${_templPriv>/listReport/isHeaderExpanded} &amp;&amp; ${_templPrivGlobal>/generic/fioriAI/isEasyFilterEnabled} }">
				<SegmentedButton id = "template::FilterSwitchButton"
					selectedKey="{_templPriv>/listReport/filterMode}"
					selectionChange="._templateEventHandlers.onFilterSwitch">
					<layoutData>
						<OverflowToolbarLayoutData priority="NeverOverflow"/>
					</layoutData>
					<items>
						<SegmentedButtonItem   icon="sap-icon://filter-fields" tooltip="{i18n>ST_MANUAL_FILTER}" key="classic"/>
						<SegmentedButtonItem  icon="sap-icon://ai" tooltip="{i18n>ST_EASY_FILTER}" key="easyFilter"/>
					</items>
				</SegmentedButton>
			</FlexBox>
		<MenuButton id="{= ${parameter>/stableId}.getStableId({type: 'ListReportAction', subType: 'Share'}) }"
				icon="sap-icon://action"
				type="Transparent"
				visible="{path: 'appSettings>/flexibleColumnLayout', formatter: 'AH.getShareOptionVisibility'}"
				tooltip="{i18n>SHARE} (Shift+Ctrl+S)"
				fesr:press="fe:share"
				text="">
				<layoutData>
					<OverflowToolbarLayoutData priority="NeverOverflow"/>
				</layoutData>
		</MenuButton>
	</f:actions>
	<f:snappedContent>
		<Text id="template::FilterText" class="sapSmartTemplatesListReportFilterSummary" visible="{= !${parameter>/settings/isWorklist} }" />
	</f:snappedContent>
</core:FragmentDefinition>
