sap.ui.define(["sap/ui/base/Object","sap/base/util/deepExtend","sap/base/util/extend","sap/base/util/Version","sap/fe/navigation/SelectionVariant","sap/suite/ui/generic/template/genericUtilities/testableHelper"],function(t,a,e,r,o,i){"use strict";var n="sap.suite.ui.generic.template.customData",s="sap.suite.ui.generic.template.extensionData",c="sap.suite.ui.generic.template.genericData";function u(t){if(t.version){var a=r(t.version);if(a.getSuffix()){return a.getPatch()?r(a.getMajor(),a.getMinor(),a.getPatch()-1):r(a.getMajor(),a.getMinor()-1)}return t.version}if(t.customData&&t.customData[c]&&t.customData[c].variantDirty!==undefined){return"1.86.0"}if(t.customData&&t.customData[c]&&t.customData[c].activeStateFilter){return"1.60.1"}if(t.customData&&t.customData[s]){return"1.58.0"}if(t.customData&&t.customData[c]&&(t.customData[c].visibleCustomFields||t.customData[c].suppressDataSelection!==undefined)){return"1.44.7"}if(t.customData&&t.customData[n]&&t.customData[c]){return"1.36.0"}return"1.28.0"}function l(t,a){return r(a).compareTo(u(t))<0}function m(t){function r(t){if(l(t,"1.34.0")){return t}var a={};a[n]=t.customData||{};a[c]={};if(t.customData&&t.customData._editStateFilter){a[c].editStateFilter=t.customData._editStateFilter}delete a[n]._editStateFilter;t.customData=a;return t}function u(t){if(l(t,"1.44.6")){return t}t.customData[c].visibleCustomFields=[];return t}function m(t){if(l(t,"1.60.0")){return t}t.customData[c].activeStateFilter=false;return t}function D(t){if(l(t,"1.85.0")){return t}t.customData[c].variantDirty=true;return t}function p(e){if(l(e,"1.89.0")){return e}a(e,{version:"1.90.0",controlStates:{}});if(e.tableVariantId){e.controlStates[t.getView().getId()+"--listReport"]={sVariantId:e.tableVariantId};delete e.tableVariantId}return e}function d(e){if(l(e,"1.93.0")){return e}a(e,{version:"1.94.0",controlStates:{}});var r=t.getView();for(var i in e.controlStates){var n=r.getLocalId(i);if(n){e.controlStates[n]=e.controlStates[i];delete e.controlStates[i]}}e.controlStates["template::PageVariant"]=e.controlStates["template::PageVariant"]||{variantId:new o(e.selectionVariant).getID(),modified:e.customData[c].variantDirty};delete e.customData[c].variantDirty;return e}function f(t){if(l(t,"1.94.0")){return t}a(t,{version:"1.95.0"});if(t.customData[c].Worklist){if(t.customData[c].tableTabData){e(t.customData[c].tableTabData,{controlStates:{}});t.customData[c].tableTabData.controlStates["Table::Toolbar::SearchField-"+t.customData[c].tableTabData.selectedTab]={searchString:t.customData[c].Worklist.searchString}}else{a(t,{controlStates:{}});t.controlStates["Table::Toolbar::SearchField"]={searchString:t.customData[c].Worklist.searchString}}delete t.customData[c].Worklist}return t}function S(t){if(l(t,"1.97.0")){return t}a(t,{version:"1.98.0"});if(t.customData[c].editStateFilter==="0"&&t.customData[c].activeStateFilter){t.customData[c].editStateFilter="5"}return t}function b(t){if(l(t,"1.98.0")){return t}a(t,{version:"1.99.0"});if(t.controlStates&&t.controlStates["template::PageVariant"]){t.controlStates["template::PageVariant"].managedControlStates={listReport:t.controlStates.listReport}}return t}function g(t){if(l(t,"1.99.0")){return t}a(t,{version:"1.100.0"});var e=t.selectionVariant&&typeof t.selectionVariant==="string"?JSON.parse(t.selectionVariant):t.selectionVariant;if(t.controlStates&&t.controlStates["template::PageVariant"]){t.controlStates["template::PageVariant"].managedControlStates.listReportFilter=t.controlStates["template::PageVariant"].managedControlStates.listReportFilter||{selectOptions:e&&e.SelectOptions,parameters:e&&e.Parameters,semanticDates:t.semanticDates,addedFilterItems:t.customData["sap.suite.ui.generic.template.genericData"].visibleCustomFields,removedFilterItems:[]}}delete t.selectionVariant;delete t.semanticDates;return t}function F(t){if(l(t,"1.101.0")){return t}a(t,{version:"1.102.0"});delete t.customData[c].activeStateFilter;if(t.customData[c].tableTabData){delete t.customData[c].tableTabData.mEditButtonState}return t}function v(t){if(l(t,"1.102.0")){return t}a(t,{version:"1.103.0"});t.controlStates["template::PageVariant"].managedControlStates.listReportFilter.customFilters=e(t.controlStates["template::PageVariant"].managedControlStates.listReportFilter.customFilters,{editState:t.customData&&t.customData[c].editStateFilter,appExtension:t.customData&&t.customData[n],adaptationExtensions:t.customData&&t.customData[s]});var r=t.customData&&t.customData[c].tableTabData;var o=t.customData&&t.customData[c].suppressDataSelection;delete t.customData;if(r||o!==undefined){t.customData=Object.create(null);t.customData[c]={tableTabData:r,suppressDataSelection:o}}return t}function V(t){if(l(t,"1.104.0")){return t}a(t,{version:"1.105.0"});if(t.controlStates["$dataLoaded"]===undefined){t.controlStates["$dataLoaded"]=!(t.customData&&t.customData[c].suppressDataSelection)}var e=t.customData&&t.customData[c].tableTabData;delete t.customData;if(e){t.customData=Object.create(null);t.customData[c]={tableTabData:e}}return t}function _(t){return[r,u,m,D,p,d,f,S,b,g,F,v,V].reduce(function(t,a){return a(t)},a({},t))}i.testable(r,"mapFrom1_34");i.testable(u,"mapFrom1_44_6");i.testable(m,"mapFrom1_60_0");i.testable(D,"mapFrom1_85");i.testable(p,"mapFrom1_89");i.testable(d,"mapFrom1_93");i.testable(f,"mapFrom1_94");i.testable(S,"mapFrom1_97");i.testable(b,"mapFrom1_98");i.testable(g,"mapFrom1_99");i.testable(F,"mapFrom1_101");i.testable(v,"mapFrom1_102");i.testable(V,"mapFrom1_104");return{getStateInCurrentFormat:_}}return t.extend("sap.suite.ui.generic.template.ListReport.controller.LegacyStateHandler",{constructor:function(t){e(this,m(t))}})});
//# sourceMappingURL=LegacyStateHandler.js.map