sap.ui.define(["sap/ui/base/Object","sap/base/util/extend","sap/suite/ui/generic/template/genericUtilities/controlHelper","sap/suite/ui/generic/template/genericUtilities/oDataModelHelper","sap/suite/ui/generic/template/genericUtilities/testableHelper"],function(e,t,a,n,i){"use strict";function o(e,i,o,r){var s=o.oComponentUtils.getTemplatePrivateModel();var l=o.oComponentUtils.getTemplatePrivateGlobalModel();function c(){var t=o.oComponentUtils.getPaginatorInfo();var a=!!t&&!t.suppressButtons&&(!e.fclInfo.isContainedInFCL||l.getProperty("/generic/FCL/isVisuallyFullScreen"));var n=a&&t.objectPageNavigationContexts.length;var i=a&&t.selectedRelativeIndex!==n-1;var r=a&&t.selectedRelativeIndex>0;s.setProperty("/objectPage/navButtons/navUpEnabled",r);s.setProperty("/objectPage/navButtons/navDownEnabled",i)}function g(e,t,n){var s=e.objectPageNavigationContexts[t];e.selectedRelativeIndex=t;if(s){if(n){o.oServices.oApplication.setNextFocus(function(e,t){setTimeout(function(){if(!n.getEnabled()){var e=n.getParent();var i=e.getItems();n=i.find(function(e){return e.getEnabled()});if(!n){t();return}}a.focusUI5Control(n)},0)})}var l=i.getView().getModel("ui").getProperty("/editable");e.paginate(s,r,l)}else{r.navigateUp()}}function v(e,t){var a=o.oComponentUtils.getPaginatorInfo();if(t&&o.oComponentUtils.isDraftEnabled()&&o.oComponentUtils.getViewLevel()===1){o.oCommonUtils.fnProcessDataLossOrDraftDiscardConfirmation(function(){u(e,a,t)},Function.prototype)}else{u(e,a,t)}}function u(e,t,a){var i=t.listBinding;var r=t.selectedRelativeIndex+e;var s=t.objectPageNavigationContexts;var l=o.oServices.oApplication.getBusyHelper();var c=t.selectedRelativeIndex;var v=n.analyseContext(s[c]);var u=s[c].getModel().getMetaModel().getODataEntitySet(v.entitySet);var p=u["Org.OData.Capabilities.V1.UpdateRestrictions"]&&u["Org.OData.Capabilities.V1.UpdateRestrictions"].Updatable;while(r<s.length&&!a){if(p&&p.Path){if(s[r].getModel().getProperty(p.Path,s[r])){break}r++;continue}}if(s&&s[r]){g(t,r,a)}else{var d=new Promise(function(e,n){var l=t.growingThreshold||Math.ceil(i.getLength()/5);var c=s?s.length:r;var v=c+l;var u=function(n){var s=n.getSource().getContexts(0,v);var l=o.oCommonUtils.filterActiveContexts(s);t.objectPageNavigationContexts=l;i.detachDataReceived(u);g(t,r,a);e()};i.attachDataReceived(u);i.loadData(0,v)});l.setBusy(d)}}function p(e){f(1,e)}function d(e){f(-1,e)}function f(e,t){var a=t.getSource();o.oServices.oDataLossHandler.performIfNoDataLoss(function(){v(e,a)},Function.prototype,"LeavePage")}s.setProperty("/objectPage/navButtons",t({navDownEnabled:false,navUpEnabled:false},{navDownTooltip:o.oCommonUtils.getText("T_PAGINATOR_CONTROL_PAGINATOR_TOOLTIP_DOWN"),navUpTooltip:o.oCommonUtils.getText("T_PAGINATOR_CONTROL_PAGINATOR_TOOLTIP_UP")}));if(e.fclInfo.isContainedInFCL){var P=l.bindProperty("/generic/FCL/isVisuallyFullScreen");P.attachChange(c)}function b(){v(1)}return{computeAndSetVisibleParamsForNavigationBtns:c,handleShowNextObject:p,handleShowPrevObject:d,switchToNextObject:b}}return e.extend("sap.suite.ui.generic.template.detailTemplates.PaginatorButtonsHelper",{constructor:function(e,a,n,r){t(this,i.testableStatic(o,"PaginatorButtonsHelper")(e,a,n,r))}})});
//# sourceMappingURL=PaginatorButtonsHelper.js.map