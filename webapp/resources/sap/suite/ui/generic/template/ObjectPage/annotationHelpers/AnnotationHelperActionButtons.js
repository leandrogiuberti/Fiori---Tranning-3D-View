sap.ui.define(["sap/suite/ui/generic/template/js/AnnotationHelper","sap/ui/Device"],function(e,t){"use strict";function i(e){if(!e.startsWith("{")){return e}if(e.startsWith("{=")){var t=e.slice(2,-1).trim();return t.indexOf(" ")<0?t:"("+t+")"}return"$"+e}function r(e,t,r,a){var n=false;var l=t.filter(function(e){n=n||e===a;return e!==""&&e!==r});if(n){return a}if(l.length===0){return r}if(l.length===1&&l[0].indexOf("${")<0){return l[0]}return"{= "+l.map(i).join(" "+e+" ")+" }"}function a(){return r("&&",Array.from(arguments),"true","false")}function n(t,i,r,a,n){var l=r&&r[a];var o=l&&l.Path;if(o){e._actionControlExpand(t,o,i.entityType);return"{= !!${"+n.specificModelName+">"+o+"}}"}return""}function l(t,i,r,a){var n=r&&r[a];var l=n&&n.Path;if(l){e._actionControlExpand(t,l,i.entityType);return"!!${"+l+"}"}return""}function o(e,i,r){var a=!i.isDraft&&i.children.length&&!t.system.phone&&e.getFlexibleColumnLayout();if(a&&i.fCLLevel<(a.maxColumnsCount||3)-1){return"${_templPrivGlobal>/generic/FCL/highestViewLevel} === "+i.level}if(r==="Edit"&&i.isDraft&&i.level>1&&e.getFlexibleColumnLayout()){return"${_templPrivGlobal>/generic/FCL/isVisuallyFullScreen}"}return""}function s(t,i,r,a,n,l){var o=l&&n.some(function(i){if(i.level>0){var r=i.entitySetDefinition;var n=r&&r["Org.OData.Capabilities.V1.UpdateRestrictions"];var l=e.areBooleanRestrictionsValidAndPossible(t,n,r,"Updatable",undefined,a);return n&&!l}});return!o&&e.areBooleanRestrictionsValidAndPossible(t,i,r,"Updatable",undefined,a)}s.requiresIContext=true;function u(t,i,r,s,u,f,v){var c=v==="true"?"{_templPrivGlobal>/generic/fioriAI/isEasyFillEnabled}":"!${ui>/editable}";var d="";if(u.isDraft&&u.level===1){d="!${DraftAdministrativeData/DraftIsCreatedByMe}";e.formatWithExpandSimple(t,{Path:"DraftAdministrativeData/DraftIsCreatedByMe"},r)}var p=o(s,u,"Edit");var D=l(t,r,i,"Updatable");var b=[],g="";if(u.isDraft){f.forEach(function(e){if(e.level>0){var i=e.entitySetDefinition;var r=i&&i["Org.OData.Capabilities.V1.UpdateRestrictions"];b.push(n(t,i,r,"Updatable",e));if(e.level===1){d="!${"+e.specificModelName+">DraftAdministrativeData/DraftIsCreatedByMe}"}}});g=a.apply(null,b)}return a(c,d,p,D,g)}u.requiresIContext=true;function f(e,t,i,r,s,u){var f="{_templPrivGlobal>/generic/fioriAI/isEasyFillEnabled}";var v=o(r,s,"Edit");var c=l(e,i,t,"Updatable");var d=[],p="";if(s.isDraft){u.forEach(function(t){if(t.level>0){var i=t.entitySetDefinition;var r=i&&i["Org.OData.Capabilities.V1.UpdateRestrictions"];d.push(n(e,i,r,"Updatable",t))}});p=a.apply(null,d)}return a(f,v,c,p)}f.requiresIContext=true;function v(e,t,i,r,n){var s="";if(n.level>1){var u=e.getInterface(0).getModel();var f=u.getODataEntitySet(n.parent);var v=f["Org.OData.Capabilities.V1.NavigationRestrictions"];if(v&&v.RestrictedProperties){var c=v.RestrictedProperties;for(var d in c){var p=c[d];var D=p.NavigationProperty.NavigationPropertyPath;if(D===n.navigationProperty){if(p?.DeleteRestrictions?.Deletable?.Bool==="false"){return false}if(p?.DeleteRestrictions?.Deletable?.Path){s="${"+p?.DeleteRestrictions?.Deletable?.Path+"}"}}}}}var b;if(n.isDraft){b=n.level===1?"!${ui>/editable}":"{ui>/editable}"}else{b="!${ui>/createMode}"}var g=o(r,n,"Delete");var m=l(e,i,t,"Deletable");return a(b,g,m,s)}v.requiresIContext=true;function c(e){return!e||"{path: '"+e+"'}"}function d(e,t){var i=e.Action.String;var r=e.InvocationGrouping&&e.InvocationGrouping.EnumMember||"";var a=e["com.sap.vocabularies.UI.v1.IsCopyAction"]&&e["com.sap.vocabularies.UI.v1.IsCopyAction"].Bool==="true"||false;return"._templateEventHandlers.onCallAction('"+i+"', '"+t+"', '"+r+"', "+a+")"}function p(t,i,r,n,l){var o=l?"":"!${ui>/createMode}";var s="";if(n["com.sap.vocabularies.UI.v1.Hidden"]){var u=e.getBindingForHiddenPath(n);s=u.toString()}else if(i){e._actionControlExpand(t,i,r);s="{"+i+"}"}return a(o,s)}p.requiresIContext=true;function D(e){if(e.length===1){return function(e){return"${DraftAdministrativeData/"+e+"}"}}var t=e[1];var i=t.specificModelName;return function(e){return"${"+i+">DraftAdministrativeData/"+e+"}"}}return{isEditButtonRequired:s,getEditActionButtonVisibility:u,getDeleteActionButtonVisibility:v,getActionControlBreakoutVisibility:c,getCallAction:d,getDatafieldForActionVisibility:p,getDraftAdminDataAccess:D,getEasyFillButtonVisibility:f}},true);
//# sourceMappingURL=AnnotationHelperActionButtons.js.map