sap.ui.define(["sap/suite/ui/generic/template/support/lib/CommonMethods","sap/ui/core/Element","sap/ui/Global","sap/suite/ui/generic/template/genericUtilities/polyFill"],function(e,t){"use strict";var n={UNKNOWN:"Unknown",LISTREPORT:"sap.suite.ui.generic.template.ListReport",ANALYTICALLISTPAGE:"sap.suite.ui.generic.template.AnalyticalListPage",OVERVIEWPAGE:"sap.ovp"};var i={UNKNOWN:"CA-UI5-ST",LISTREPORT:"CA-UI5-ST",ANALYTICALLISTPAGE:"CA-UI5-ST-ALP",OVERVIEWPAGE:"CA-UI5-ST-OVP"};function r(e){return e&&e["sap.app"]&&e["sap.app"].ach?e["sap.app"].ach:""}function a(e){if(e&&e["sap.app"]&&e["sap.app"].id){if(e["sap.app"].id==="${project"+".artifactId}"){return u()}return e["sap.app"].id}return""}function p(e){return e&&e["sap.fiori"]&&e["sap.fiori"].registrationIds&&e["sap.fiori"].registrationIds.length>0?e["sap.fiori"].registrationIds:[]}function s(e,t){for(var n=0;n<e.length;n++){if(e[n]&&e[n].id&&e[n].id.indexOf(t)!==-1){return e[n].id.split("::")[0]}}return""}function o(){var n=document.querySelectorAll(".sapUiXMLView"),i=document.querySelectorAll(".ovpWrapper"),r="::sap.suite.ui.generic.template",a;if(i&&i.length&&i.length>0){n=[];i.forEach(function(e){if(e.closest(".sapUiXMLView")){n.push(e.closest(".sapUiXMLView"))}});if(n?.[0]?.id&&t.getElementById(n[0].id)?.getController()?.getOwnerComponent()?.getManifest()){a=t.getElementById(n[0].id).getController().getOwnerComponent().getManifest()}else{return undefined}}else if(n&&n.length&&n.length>0){for(var p=0;p<n.length;p++){if(n[p].id.indexOf(r)!==-1){if(t.getElementById(n[p].id)?.getController()?.getOwnerComponent()?.getAppComponent()?.getManifest()){a=t.getElementById(n[p].id).getController().getOwnerComponent().getAppComponent().getManifest();break}}}if(!a||!e.hasObjectContent(a)){return undefined}if(a&&e.hasObjectContent(a)&&a["sap.app"]&&a["sap.app"].id&&a["sap.app"].id==="${project"+".artifactId}"){a["sap.app"].id=s(n,r)}}else{return undefined}return a}function u(){var t=o(),n,i,r="::sap.suite.ui.generic.template";if(t&&e.hasObjectContent(t)&&t["sap.app"]&&t["sap.app"].id){n=document.querySelectorAll(".sapUiXMLView");i=document.querySelectorAll(".ovpWrapper");if(i&&i.length&&i.length>0){n=[];i.forEach(function(e){if(e.closest(".sapUiXMLView")){n.push(e.closest(".sapUiXMLView"))}})}if(n&&n.length&&n.length>0){return s(n,r)}}return""}function f(e){if(!e){return""}return sap.ui.require.toUrl(e)+"/manifest.json"}function l(e,t,n){if(!e||!n){return""}if(n.indexOf("./")===0||n.indexOf("../")===0){if(!t){return""}return e+t.substring(0,t.lastIndexOf("/")+1)+n}if(n.indexOf("/")===0){return e+n}return""}function c(e){if(e){return e.replace("manifest.json","")}return""}function g(e){if(!e){return false}for(var t in n){if(!n.hasOwnProperty(t)){continue}if(n[t]===e){return true}}return false}function A(e){if(e===n.UNKNOWN){return i.UNKNOWN}else if(e===n.LISTREPORT){return i.LISTREPORT}else if(e===n.ANALYTICALLISTPAGE){return i.ANALYTICALLISTPAGE}else if(e===n.OVERVIEWPAGE){return i.OVERVIEWPAGE}else{return i.UNKNOWN}}function d(e){return e&&e.hasOwnProperty("sap.ovp")&&Object.keys(e["sap.ovp"]).length!==0}function m(e){if(!(e&&e["sap.ui.generic.app"]&&e["sap.ui.generic.app"].pages&&e["sap.ui.generic.app"].pages!==[])){return false}var t=e["sap.ui.generic.app"].pages;for(var n in t){if(t.hasOwnProperty(n)){if(t[n]&&t[n].component&&t[n].component.name&&t[n].component.name==="sap.suite.ui.generic.template.ListReport"){return true}}}return false}function I(e){if(!(e&&e["sap.ui.generic.app"]&&e["sap.ui.generic.app"].pages&&e["sap.ui.generic.app"].pages!==[])){return false}var t=e["sap.ui.generic.app"].pages;for(var n in t){if(t.hasOwnProperty(n)){if(t[n]&&t[n].component&&t[n].component.name&&t[n].component.name==="sap.suite.ui.generic.template.AnalyticalListPage"){return true}}}return false}function L(e){if(e){if(d(e)){return n.OVERVIEWPAGE}else if(m(e)){return n.LISTREPORT}else if(I(e)){return n.ANALYTICALLISTPAGE}}return n.UNKNOWN}function O(){return d(o())}function E(){return m(o())}function P(){return I(o())}function y(){var e=o();if(d(e)){return n.OVERVIEWPAGE}else if(m(e)){return n.LISTREPORT}else if(I(e)){return n.ANALYTICALLISTPAGE}return n.UNKNOWN}return{mFloorplans:n,mTicketComponents:i,getApplicationComponentByManifest:r,getApplicationIDByManifest:a,getRegistrationIDsByManifest:p,getComponentIDByStructure:u,getManifestByStructure:o,getManifestPath:f,getManifestURL:l,getRootPath:c,isValidFloorplan:g,getTicketComponentForFloorplan:A,isOverviewPageByManifest:d,isListReportByManifest:m,isAnalyticalListPageByManifest:I,getFloorplanByManifest:L,isOverviewPageByStructure:O,isListReportByStructure:E,isAnalyticalListPageByStructure:P,getFloorplanByStructure:y}});
//# sourceMappingURL=CommonChecks.js.map