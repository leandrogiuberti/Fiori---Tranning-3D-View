sap.ui.define(["sap/suite/ui/generic/template/genericUtilities/FeLogger"],function(e){"use strict";var r=new e("manifestMerger.MergerUil").getLogger();var t="sap.suite.ui.generic.template";function a(e){var r={};e.forEach(function(e){var t=e.component.name.split(".").pop();var n=t+"|"+e.entitySet;r[n]=e;if(e.pages){e.pages=a(e.pages)}});return r}var n={transformPagesToMapStructure:function(e){var r=e;if(Array.isArray(e)){try{r=a(e)}catch(e){throw new Error("Manifest should have sap.ui.generic.app.pages as Object structure and not array ")}}return r},iterateAndFind:function e(t,a,n,i,o){var p;if(Array.isArray(t)){throw new Error("Manifest should have sap.ui.generic.app.pages as Object structure and not array ")}for(var d in t){if(d==="entitySet"&&t.entitySet===a){if(t.component&&t.component.name===n){if(t.pages){var s=Object.keys(t.pages);f(s)}r.info(t);return t}}else if(typeof t[d]==="object"&&!Array.isArray(t[d])){if(p){break}if(d==="pages"||o==="pages"){p=e(t[d],a,n,i,d)}}else if(d==="pages"&&Array.isArray(t[d])){throw new Error("Manifest should have sap.ui.generic.app.pages as Object structure and not array ")}}function f(e){if(e.length){e.filter(function(e){if(e===i){throw new Error("Adding duplicate pageKey "+i+" is not supported.")}})}}return p},consistencyCheck:function(e,r,a){if(!e["parentPage"]){throw new Error("Mandatory 'parentPage' parameter is not provided.")}if(!e.parentPage.component){throw new Error("Mandatory 'parentPage.component' parameter is not provided.")}if(!e.parentPage.entitySet&&e.parentPage.component!==t){throw new Error("Mandatory 'parentPage.entitySet' parameter is not provided.")}if(r==="ADD"){if(!e.childPage.id){throw new Error(" Add mandatory parameter 'childPage.id' ")}if(!e.childPage.definition){throw new Error("Mandatory 'childPageDefinition' are not provided. Add 'childPage.definition' to add the new page. ")}var n=Object.keys(e.childPage.definition);n.forEach(function(e){if(!a.includes(e)){throw new Error("Changing "+e+" is not supported. The supported 'propertyPath' is: "+a.join(","))}});var i=a.filter(function(e){return!n.includes(e)});if(i.length){throw new Error("Mandatory parameter "+i+" is not defined.")}}else if(r==="MODIFY"){if(!e.entityPropertyChange){throw new Error('Changes for "'+e["pageId"]+'" are not provided.')}else{var o=e.entityPropertyChange;if(!o.propertyPath){throw new Error("Invalid change format: The mandatory 'propertyPath' is not defined. Please define the mandatory property 'propertyPath'")}if(!o.operation||o.operation!=="UPSERT"){throw new Error("Invalid change format: The mandatory 'operation' is not defined or is not valid type. Please define the mandatory property 'operation' with type 'UPSERT")}if(o.propertyValue===undefined){throw new Error("Invalid change format: The mandatory 'propertyValue' is not defined. Please define the mandatory property 'propertyValue'")}}}}};return n});
//# sourceMappingURL=MergerUtil.js.map