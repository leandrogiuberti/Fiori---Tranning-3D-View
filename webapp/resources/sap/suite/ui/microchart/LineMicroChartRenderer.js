/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
sap.ui.define(["./library","sap/ui/core/theming/Parameters","sap/suite/ui/microchart/MicroChartRenderUtils"],function(e,t,s){"use strict";var i={apiVersion:2};var o=e.LineType;const a=e.MicroChartColorType;i.QUALITATIVE_COLOR_CLASS="sapChart_Sequence_";i.QUALITATIVE_CLASS="Sequence";i.QUALITATIVE_MAX=13;i.render=function(e,t){if(t._hasData()){e.openStart("div",t);this._writeMainProperties(e,t);if(t._bSemanticMode){e.class("sapSuiteLMCSemanticMode")}if(t._bFocusMode){e.class("sapSuiteLMCFocusMode")}if(t._bNoBottomLabels||!t.getShowBottomLabels()){e.class("sapSuiteLMCNoBottomLabels")}if(t._bNoTopLabels||!t.getShowTopLabels()){e.class("sapSuiteLMCNoTopLabels")}e.openEnd();e.openStart("div");e.class("sapSuiteLMCVerticalAlignmentContainer");e.openEnd();this._renderLabelsTop(e,t);e.openStart("div");e.class("sapSuiteLMCContentWrapper");e.openEnd();this._renderCanvas(e,t);this._renderThresholdLabel(e,t);e.close("div");this._renderLabelsBottom(e,t);e.close("div");e.close("div")}else{this._renderNoData(e,t)}};i._writeMainProperties=function(e,t){var s=t.hasListeners("press");this._renderActiveProperties(e,t);var i=t.getTooltip_AsString(s);e.attr("role","figure");if(t.getAriaLabelledBy().length){e.accessibilityState(t)}else{e.attr("aria-label",i)}e.class("sapSuiteLMC");e.class("sapSuiteLMCSize"+t.getSize());e.style("width",t.getWidth());e.style("height",t.getHeight())};i._renderCanvas=function(e,t){var s;var i;e.openStart("div");e.class("sapSuiteLMCSvgCanvas");e.openEnd();if(t._bScalingValid){e.openStart("svg",t.getId()+"-sapSuiteLMCSvgElement");e.attr("focusable","false");e.class("sapSuiteLMCSvgElement");e.openEnd();this._renderThresholdLine(e,t);t._getLines().forEach(function(s,o){e.openStart("g",s);e.openEnd();i=s._getPoints().length;for(var a=1;a<i;a++){this._renderLine(e,t,o,s._aNormalizedPoints[a-1].x,s._aNormalizedPoints[a-1].y,s._aNormalizedPoints[a].x,s._aNormalizedPoints[a].y)}e.close("g")},this);e.close("svg");e.openStart("div",t.getId()+"-sapSuiteLMCPointsContainer");e.class("sapSuiteLMCPointsContainer");e.openEnd();t._getLines().forEach(function(o,a){s=o._getPoints();i=s.length;var l=o.getShowPoints(),r,n;if(o._bFocusMode||l){for(var h=0;h<i;h++){r=s[h];n=this._isPointEmphasized(r);if(!o._bFocusMode&&l||o._bFocusMode&&n&&r.getShow()){this._renderPoint(e,t,a,r,h,n)}}}},this);e.close("div")}e.close("div")};i._renderThresholdLabel=function(e,t){var s=t.getThresholdDisplayValue();if(this._isThresholdValue(t)&&t.getShowThresholdLine()&&t.getShowThresholdValue()){e.openStart("div");e.class("sapSuiteLMCThresholdLabelWrapper");e.openEnd();e.openStart("div");e.class("sapSuiteLMCThresholdLabel");e.openEnd();s=s?s:t.getThreshold();e.text(s);e.close("div");e.close("div")}};i._renderPoint=function(e,t,s,i,l,r){var n=t._getLines()[s],h=n.getType(),d=n._aNormalizedPoints[l],L=n.getColor(),u,c,p=false;if(d.x<0||d.x>100||d.y<0||d.y>100){return}e.openStart("div");e.style("left",d.x+"%");e.style("top",100-d.y+"%");c=h===o.Dotted?"border-color":"background-color";e.class("sapSuiteLMCPoint"+h);if(n._bFocusMode&&n._bSemanticMode){u=i.getColor();if(a.hasOwnProperty(u)){e.class("sapSuiteLMCPoint"+u)}else{e.style(c,this._getHexColor(u))}}else if(!n._bFocusMode&&n._bSemanticMode){if(i.getY()>=t.getThreshold()){if(a.hasOwnProperty(L.above)){e.class("sapSuiteLMCPoint"+L.above)}else{e.style(c,this._getHexColor(L.above))}}else if(a.hasOwnProperty(L.below)){e.class("sapSuiteLMCPoint"+L.below)}else{e.style(c,this._getHexColor(L.below))}}else if(!n._bSemanticMode&&typeof L==="string"){if(n.getColor()==="Neutral"){if(this._getQualitativeColor){e.style(c,this._getQualitativeColor(s+1));p=true}if(!p){e.class(this._getQualitativeColorClass(s+1,c))}}else if(a.hasOwnProperty(L)){e.class("sapSuiteLMCPoint"+L)}else{e.style(c,this._getHexColor(L))}}else{if(this._getQualitativeColor){e.style(c,this._getQualitativeColor(s+1));p=true}if(!p){e.class(this._getQualitativeColorClass(s+1,c))}}e.class("sapSuiteLMCPoint");if(r&&i.getShow()){e.class("sapSuiteLMCPointEmphasized")}e.openEnd();e.close("div")};i._renderThresholdLine=function(e,t){if(this._isThresholdValue(t)&&t.getShowThresholdLine()){e.openStart("line");e.attr("x1","0%");e.attr("y1",100-t._fNormalizedThreshold+"%");e.attr("x2","100%");e.attr("y2",100-t._fNormalizedThreshold+"%");e.class("sapSuiteLMCLineThreshold");e.openEnd();e.close("line")}};i._isThresholdValue=function(e){return e._fNormalizedThreshold>=0&&e._fNormalizedThreshold<=100&&!e._bThresholdNull};i._renderLine=function(e,t,s,i,o,a,l){if(this._isDimensionLineOutsideCanvas(t,i,a,"X")||this._isDimensionLineOutsideCanvas(t,o,l,"Y")){return}var r,n,h=a-i,d=l-o;if((o-t._fNormalizedThreshold)*(l-t._fNormalizedThreshold)<0){r=i+(t._fNormalizedThreshold-o)*h/d;this._renderLine(e,t,s,i,o,r,t._fNormalizedThreshold);this._renderLine(e,t,s,r,t._fNormalizedThreshold,a,l)}else if(o*l<0){r=i-o*h/d;this._renderLine(e,t,s,i,o,r,0);this._renderLine(e,t,s,r,0,a,l)}else if((o-100)*(l-100)<0){r=i+(100-o)*h/d;this._renderLine(e,t,s,i,o,r,100);this._renderLine(e,t,s,r,100,a,l)}else if(i*a<0){n=o-i*d/h;this._renderLine(e,t,s,i,o,0,n);this._renderLine(e,t,s,0,n,a,l)}else if((i-100)*(a-100)<0){n=o+(100-i)*d/h;this._renderLine(e,t,s,i,o,100,n);this._renderLine(e,t,s,100,n,a,l)}else{this._displayLine(e,t,s,i,o,a,l)}};i._displayLine=function(e,t,s,i,o,l,r){var n=t._getLines()[s],h=n.getColor(),d=false;e.openStart("line");e.attr("x1",i+"%");e.attr("y1",100-o+"%");e.attr("x2",l+"%");e.attr("y2",100-r+"%");e.class("sapSuiteLMCLine");e.class("sapSuiteLMCLine"+n.getType());if(n._bSemanticMode&&n._bFocusMode){e.class("sapSuiteLMCLineNeutral")}else if(n._bSemanticMode&&!n._bFocusMode){if(o>=t._fNormalizedThreshold&&r>=t._fNormalizedThreshold){if(a.hasOwnProperty(h.above)){e.class("sapSuiteLMCLine"+h.above)}else{e.style("stroke",this._getHexColor(h.above))}}else if(a.hasOwnProperty(h.below)){e.class("sapSuiteLMCLine"+h.below)}else{e.style("stroke",this._getHexColor(h.below))}}else if(!n._bSemanticMode&&typeof h==="string"){if(h==="Neutral"){if(this._getQualitativeColor){e.style("stroke",this._getQualitativeColor(s+1));d=true}if(!d){e.class(this._getQualitativeColorClass(s+1))}}else if(a.hasOwnProperty(h)){e.class("sapSuiteLMCLine"+h)}else{e.style("stroke",this._getHexColor(h))}}else{if(this._getQualitativeColor){e.style("stroke",this._getQualitativeColor(s+1));d=true}if(!d){e.class(this._getQualitativeColorClass(s+1))}}e.openEnd();e.close("line")};i._getQualitativeColor=function(e){return this._getHexColor(this.QUALITATIVE_COLOR_CLASS+e%this.QUALITATIVE_MAX)};i._getQualitativeColorClass=function(e,t){if(t=="border-color"){return"sapSuiteLMCBorder"+this.QUALITATIVE_CLASS+e%this.QUALITATIVE_MAX}else if(t=="background-color"){return"sapSuiteLMCBackground"+this.QUALITATIVE_CLASS+e%this.QUALITATIVE_MAX}else{return"sapSuiteLMCStroke"+this.QUALITATIVE_CLASS+e%this.QUALITATIVE_MAX}};i._renderLabelsBottom=function(e,t){var s=t.getLeftBottomLabel(),i=t.getRightBottomLabel();if(!t.getShowBottomLabels()||!s&&!i){return}e.openStart("div");e.class("sapSuiteLMCLabels");e.class("sapSuiteLMCLabelsBottom");e.openEnd();if(s&&s.length>0||i&&i.length>0){e.openStart("div");e.class("sapSuiteLMCLeftBottomLabel");e.class("sapSuiteLMCLabel");e.openEnd();e.text(s);e.close("div");e.openStart("div");e.class("sapSuiteLMCRightBottomLabel");e.class("sapSuiteLMCLabel");e.openEnd();e.text(i);e.close("div")}e.close("div")};i._renderLabelsTop=function(e,t){var s=t.getLeftTopLabel(),i=t.getRightTopLabel(),o=t._getLines()[0];if(!t.getShowTopLabels()||!s&&!i){return}var l="",r="",n="",h="",d,L,u,c,p;var _=function(t){e.style("color",t)};var S=function(e,t){var s="",i="";if(this._isPointEmphasized(e)&&e.getShow()){p=e.getColor();if(a.hasOwnProperty(p)){s="sapSuiteLMCLabel"+p}else{i=this._getHexColor(p)}}else{s="sapSuiteLMCLabelNeutral"}if(t){h=i;r=s}else{n=i;l=s}}.bind(this);if(o&&o._getPoints().length>1){d=o._getPoints();L=d.length;u=d[0];c=d[L-1];var f=o.getColor();if(o._bFocusMode&&o._bSemanticMode&&t._bScalingValid){S(u,false);S(c,true)}else if(!o._bFocusMode&&o._bSemanticMode&&t._bScalingValid&&o.getShowPoints()&&a.hasOwnProperty(f.above)&&a.hasOwnProperty(f.below)){if(u.getY()>=t.getThreshold()){l="sapSuiteLMCLabel"+f.above}else{l="sapSuiteLMCLabel"+f.below}if(c.getY()>=t.getThreshold()){r="sapSuiteLMCLabel"+f.above}else{r="sapSuiteLMCLabel"+f.below}}else{l="sapSuiteLMCLabelNeutral";r="sapSuiteLMCLabelNeutral"}}e.openStart("div");e.class("sapSuiteLMCLabels");e.class("sapSuiteLMCLabelsTop");e.openEnd();if(s&&s.length>0||i&&i.length>0){e.openStart("div");e.class("sapSuiteLMCLeftTopLabel");e.class("sapSuiteLMCLabel");e.class(l);if(n){_(n)}e.openEnd();e.text(s);e.close("div");e.openStart("div");e.class("sapSuiteLMCRightTopLabel");e.class("sapSuiteLMCLabel");e.class(r);if(h){_(h)}e.openEnd();e.text(t.getRightTopLabel());e.close("div")}e.close("div")};i._isPointEmphasized=function(e){return e&&e.getMetadata().getName()==="sap.suite.ui.microchart.LineMicroChartEmphasizedPoint"};i._getHexColor=function(e){var s=t.get({name:e,callback:function(e){s=e}});return s||e};i._isDimensionLineOutsideCanvas=function(e,t,s,i){var o=100,a=0;if(i==="X"&&e._minXScale===e._maxXScale){o=50;a=50}else if(i==="Y"&&e._minYScale===e._maxYScale){o=50;a=50}return t>=o&&s>=o&&!(t===o&&s===o)||t<=a&&s<=a&&!(t===a&&s===a)};s.extendMicroChartRenderer(i);return i},true);
//# sourceMappingURL=LineMicroChartRenderer.js.map