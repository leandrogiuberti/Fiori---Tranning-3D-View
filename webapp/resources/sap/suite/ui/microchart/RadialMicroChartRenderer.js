/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
sap.ui.define(["sap/ui/Device","sap/m/library","./library","sap/base/Log","sap/suite/ui/microchart/MicroChartRenderUtils","sap/ui/core/theming/Parameters"],function(e,t,r,i,a,n){"use strict";var s=r.MicroChartColorType;var o={apiVersion:2};o.FORM_RATIO=100;o.BACKGROUND_CIRCLE_BORDER_WIDTH=1;o.BACKGROUND_CIRCLE_RADIUS=o.FORM_RATIO/2-o.BACKGROUND_CIRCLE_BORDER_WIDTH/2;o.RING_WIDTH=8.75;o.RING_CORE_RADIUS=o.BACKGROUND_CIRCLE_RADIUS-o.RING_WIDTH/2-o.BACKGROUND_CIRCLE_BORDER_WIDTH;o.SVG_VIEWBOX_CENTER_FACTOR="50%";o.X_ROTATION=0;o.SWEEP_FLAG=1;o.PADDING_WIDTH=.22;o.NUMBER_FONT_SIZE=23.5;o.EDGE_CASE_SIZE_USE_SMALL_FONT=54;o.EDGE_CASE_SIZE_SHOW_TEXT=46;o.EDGE_CASE_SIZE_MICRO_CHART=24;o.render=function(e,t){if(!t._bThemeApplied){return}if(t._hasData()){this._writeDivStartElement(t,e);this._writeOuterContainerElement(t,e);e.close("div")}else{this._renderNoData(e,t)}};o._writeOuterContainerElement=function(e,t){this._writeDivVerticalContainerElement(e,t);this._writeDivInnerContainerElement(e,t);if(this._renderingOfInnerContentIsRequired(e)){this._writeLabelInside(e,t)}this._writeSVGStartElement(e,t);this._writeBackground(t);if(this._renderingOfInnerContentIsRequired(e)){this._writeBorders(t);if(this._innerCircleRequired(e)){this._writeCircle(e,t)}else{this._writeCircleWithPathElements(e,t)}}t.close("svg");t.close("div");if(this._renderingOfInnerContentIsRequired(e)){this._writeLabelOutside(e,t)}t.close("div")};o._writeMainProperties=function(e,t){var r=t.hasListeners("press");this._renderActiveProperties(e,t);var i=t.getTooltip_AsString(r);e.attr("role","figure");if(t.getAriaLabelledBy().length){e.accessibilityState(t)}else{e.attr("aria-label",i)}e.class("sapSuiteRMC");e.class("sapSuiteRMCSize"+t.getSize());e.style("width",t.getWidth());e.style("height",t.getHeight())};o._writeDivStartElement=function(e,t){t.openStart("div",e);this._writeMainProperties(t,e);t.openEnd()};o._writeDivVerticalContainerElement=function(e,t){t.openStart("div");t.class("sapSuiteRMCVerticalAlignmentContainer");t.class("sapSuiteRMCAlign"+e.getAlignContent());t.openEnd()};o._writeDivInnerContainerElement=function(e,t){t.openStart("div");t.class("sapSuiteRMCInnerContainer");t.openEnd()};o._writeSVGStartElement=function(e,t){t.openStart("svg");t.class("sapSuiteRMCSvg");t.attr("focusable",false);t.attr("viewBox","0 0 "+o.FORM_RATIO+" "+o.FORM_RATIO);t.attr("version","1.1");t.attr("xmlns","http://www.w3.org/2000/svg");t.openEnd()};o._writeBackground=function(e){e.openStart("circle");e.class("sapSuiteRMCCircleBackground");e.attr("cx",o.SVG_VIEWBOX_CENTER_FACTOR);e.attr("cy",o.SVG_VIEWBOX_CENTER_FACTOR);e.attr("r",o.BACKGROUND_CIRCLE_RADIUS);e.attr("stroke-width",this.BACKGROUND_CIRCLE_BORDER_WIDTH);e.openEnd().close("circle")};o._writeBorders=function(e){var t=o.RING_CORE_RADIUS+o.RING_WIDTH/2-o.BACKGROUND_CIRCLE_BORDER_WIDTH/2,r=o.RING_CORE_RADIUS-o.RING_WIDTH/2+o.BACKGROUND_CIRCLE_BORDER_WIDTH/2;e.openStart("circle");e.class("sapSuiteRMCRing");e.attr("cx",o.SVG_VIEWBOX_CENTER_FACTOR);e.attr("cy",o.SVG_VIEWBOX_CENTER_FACTOR);e.attr("r",t);e.attr("stroke-width",o.BACKGROUND_CIRCLE_BORDER_WIDTH);e.openEnd().close("circle");e.openStart("circle");e.class("sapSuiteRMCRing");e.attr("cx",o.SVG_VIEWBOX_CENTER_FACTOR);e.attr("cy",o.SVG_VIEWBOX_CENTER_FACTOR);e.attr("r",r);e.attr("stroke-width",o.BACKGROUND_CIRCLE_BORDER_WIDTH);e.openEnd().close("circle")};o._writeCircle=function(e,t){var r=this._getFullCircleColor(e);t.openStart("circle");if(e._isValueColorValid()||r==="sapSuiteRMCRemainingCircle"){t.class(r)}else{t.attr("stroke",n.get(r)||r)}t.attr("cx",o.SVG_VIEWBOX_CENTER_FACTOR);t.attr("cy",o.SVG_VIEWBOX_CENTER_FACTOR);t.attr("r",o.RING_CORE_RADIUS);t.attr("fill","transparent");t.attr("stroke-width","7px");t.openEnd().close("circle")};o._writeCircleWithPathElements=function(e,t){var r=e.getPercentage()>50?1:0;var i=this._getPercentageForCircleRendering(e)-o.PADDING_WIDTH;var a=this._calculatePathCoordinates(e,i,false);this._writePath1(r,a,e,t);i=this._getPercentageForCircleRendering(e)+o.PADDING_WIDTH;a=this._calculatePathCoordinates(e,i,true);this._writePath2(r,a,e,t)};o._writePath1=function(e,t,r,i){var a="M"+t[0]+" "+t[1]+" A "+o.RING_CORE_RADIUS+" "+o.RING_CORE_RADIUS+", "+o.X_ROTATION+", "+e+", "+o.SWEEP_FLAG+", "+t[2]+" "+t[3];var s=this._getPathColor(r);i.openStart("path");i.class("sapSuiteRMCPath");if(r._isValueColorValid()||s==="sapSuiteRMCRemainingCircle"){i.class(s)}else{i.attr("stroke",n.get(s)||s)}i.attr("d",a);i.attr("fill","transparent");i.attr("stroke-width","7px");i.openEnd().close("path")};o._writePath2=function(e,t,r,i){var a="M"+t[2]+" "+t[3]+" A "+o.RING_CORE_RADIUS+" "+o.RING_CORE_RADIUS+", "+o.X_ROTATION+", "+(1-e)+", "+o.SWEEP_FLAG+", "+t[0]+" "+t[1];i.openStart("path");i.class("sapSuiteRMCPath");i.class("sapSuiteRMCRemainingCircle");i.attr("d",a);i.attr("fill","transparent");i.attr("stroke-width","7px");i.openEnd().close("path")};o._writeLabelInside=function(e,t){t.openStart("div");t.class("sapSuiteRMCInsideLabel");t.class("sapSuiteRMCFont");t.class(this._getTextColorClass(e));t.openEnd();t.unsafeHtml(this._generateTextContent(e));t.close("div")};o._writeLabelOutside=function(e,t){t.openStart("div");t.class("sapSuiteRMCOutsideLabel");t.class("sapSuiteRMCFont");t.class("sapSuiteRMCLabelHide");t.class(this._getTextColorClass(e));t.openEnd();t.unsafeHtml(this._generateTextContent(e));t.close("div")};o._renderingOfInnerContentIsRequired=function(e){return e._hasData()};o._getVerticalViewboxCenterFactorForText=function(){if(e.browser.mozilla){return"57%"}else{return"51%"}};o._innerCircleRequired=function(e){return e.getPercentage()>=100||e.getPercentage()<=0};o._calculatePathCoordinates=function(e,t,r){var i=[];var a=0;var n=o.FORM_RATIO/2;if(r){a=2*o.PADDING_WIDTH/100*2*Math.PI}i.push(n+o.RING_CORE_RADIUS*Math.cos(-Math.PI/2-a));i.push(n+o.RING_CORE_RADIUS*Math.sin(-Math.PI/2-a));i.push(n+o.RING_CORE_RADIUS*Math.cos(-Math.PI/2+t/100*2*Math.PI));i.push(n+o.RING_CORE_RADIUS*Math.sin(-Math.PI/2+t/100*2*Math.PI));return i};o._getPercentageForCircleRendering=function(e){var t=e.getPercentage();var r=t;if(t>99-o.PADDING_WIDTH){r=99-o.PADDING_WIDTH}if(t<1+o.PADDING_WIDTH){r=1+o.PADDING_WIDTH}return r};o._getTextColorClass=function(e){const t={[s.Good]:"sapSuiteRMCTextColorGood",[s.Error]:"sapSuiteRMCTextColorError",[s.Critical]:"sapSuiteRMCTextColorCritical"};const r=e.getValueColor();if(t[r]){return t[r]}for(let e=1;e<=12;e++){if(r.toLowerCase()===s[`Sequence${e}`].toLowerCase()){return`sapSuiteRMCTextColorSequence${e}`}}return"sapSuiteRMCTextColorNeutral"};o._getFullCircleColor=function(e){if(e.getPercentage()>=100){return this._getPathColor(e)}if(e.getPercentage()<=0){return"sapSuiteRMCRemainingCircle"}};o._getPathColor=function(e){var t=e.getValueColor();if(e._isValueColorValid()){const t={[s.Good]:"sapSuiteRMCPathGood",[s.Error]:"sapSuiteRMCPathError",[s.Critical]:"sapSuiteRMCPathCritical"};const r=e.getValueColor();if(t[r]){return t[r]}for(let e=1;e<=12;e++){if(r.toLowerCase()===s[`Sequence${e}`].toLowerCase()){return`sapSuiteRMCPathSequence${e}`}}return"sapSuiteRMCPathNeutral"}else{return t}};o._generateTextContent=function(e){var t="RADIALMICROCHART_PERCENTAGE_TEXT";if(!e.getShowPercentageSymbol()){t="RADIALMICROCHART_PERCENTAGE_SYMBOL"}if(e.getPercentage()===100){return e._oRb.getText(t,[100])}if(e.getPercentage()===0){return e._oRb.getText(t,[0])}if(e.getPercentage()>=100){i.error("Values over 100%("+e.getPercentage()+"%) are not supported");return e._oRb.getText(t,[100])}if(e.getPercentage()<=0){i.error("Values below 0%("+e.getPercentage()+"%) are not supported");return e._oRb.getText(t,[0])}return e._oRb.getText(t,[e.getPercentage()])};a.extendMicroChartRenderer(o);return o},true);
//# sourceMappingURL=RadialMicroChartRenderer.js.map