/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
sap.ui.define(["./library","sap/base/i18n/Localization","sap/m/library","sap/suite/ui/microchart/MicroChartRenderUtils"],function(e,a,t,l){"use strict";var s={apiVersion:2};s.render=function(l,s){if(!s._bThemeApplied){return}if(s._hasData()&&!isNaN(s.getAggregation("actual").getValue())){var i=s._calculateChartData();var r=+i.forecastValuePct;var o;if(s._isResponsive()){o="sapSuiteBMCResponsive"}else{o="sapSuiteBMCSize"+s.getSize()}var c=s.getScale();var u=a.getRTL()?"right":"left";var d="sapSuiteBMCModeType"+s.getMode();var n=s.getMode()===e.BulletMicroChartModeType.Delta?s._calculateDeltaValue():0;var p=s.getActual()&&s.getActual()._isValueSet;var S=s.getShowActualValue()&&s.getSize()!==t.Size.XS&&s.getMode()===e.BulletMicroChartModeType.Actual;var g=s.getShowActualValueInDeltaMode()&&s.getSize()!==t.Size.XS&&s.getMode()===e.BulletMicroChartModeType.Delta;var v=s.getShowDeltaValue()&&s.getSize()!==t.Size.XS&&s.getMode()===e.BulletMicroChartModeType.Delta;var M=s.getShowTargetValue()&&s.getSize()!==t.Size.XS;var h=s.getShowThresholds();var C=s.getActualValueLabel();var B=s.getDeltaValueLabel();var V=s.getTargetValueLabel();var f=s.getThresholds();var T;if(p){T="sapSuiteBMCSemanticColor"+s.getActual().getColor()}l.openStart("div",s);this._writeMainProperties(l,s);l.openEnd();l.openStart("div");l.class("sapSuiteBMCVerticalAlignmentContainer");l.openEnd();l.openStart("div",s.getId()+"-bc-chart");l.class("sapSuiteBMCChart");l.class(o);l.openEnd();if(p&&(S||g)||p&&s._isTargetValueSet&&v){var b="";l.openStart("div");l.class("sapSuiteBMCTopLabel");l.openEnd();if(p&&(S||g)){var y=C?C:""+s.getActual().getValue();b=y+c;l.openStart("div",s.getId()+"-bc-item-value");l.class("sapSuiteBMCItemValue");l.class(T);l.class(o);l.openEnd();l.text(b);l.close("div")}else if(p&&s._isTargetValueSet&&v){var E=B?B:""+n;b=E+c;l.openStart("div",s.getId()+"-bc-item-value");l.class("sapSuiteBMCItemValue");l.class(T);l.class(o);l.openEnd();l.text("Î”");l.text(b);l.close("div")}l.close("div")}l.openStart("div");l.class("sapSuiteBMCChartCanvas");l.openEnd();if(h){for(var _=0;_<i.thresholdsPct.length;_++){if(f[_]._isValueSet){this.renderThreshold(l,s,i.thresholdsPct[_],o)}}}l.openStart("div",s.getId()+"-chart-bar");l.class("sapSuiteBMCBar");l.class(o);l.class("sapSuiteBMCScaleColor"+s.getScaleColor());l.openEnd();l.close("div");if(p){if(s._isForecastValueSet&&s.getMode()===e.BulletMicroChartModeType.Actual){l.openStart("div",s.getId()+"-forecast-bar-value");l.class("sapSuiteBMCForecastBarValue");l.class(T);l.class(o);l.style("width",r+"%");l.openEnd();l.close("div")}l.openStart("div",s.getId()+"-bc-bar-value-marker");l.class("sapSuiteBMCBarValueMarker");l.class(d);if(!s.getShowValueMarker()){l.class("sapSuiteBMCBarValueMarkerHidden")}l.class(T);l.class(o);l.style(u,parseFloat(i.actualValuePct)+parseFloat(1)+"%");if(s.getMode()===e.BulletMicroChartModeType.Delta&&i.actualValuePct<=i.targetValuePct){l.style("margin","0")}l.openEnd();l.close("div");if(s.getMode()===e.BulletMicroChartModeType.Actual&&i.actualValuePct!==0){l.openStart("div",s.getId()+"-bc-bar-value");l.class("sapSuiteBMCBarValue");l.class(T);l.class(o);if(s._isForecastValueSet){l.class("sapSuiteBMCForecast")}l.style("width",i.actualValuePct+"%");l.openEnd();l.close("div")}else if(s._isTargetValueSet&&s.getMode()===e.BulletMicroChartModeType.Delta){l.openStart("div",s.getId()+"-bc-bar-value");l.class("sapSuiteBMCBarValue");l.class(T);l.class(o);l.style("width",Math.abs(i.actualValuePct-i.targetValuePct)+"%");l.style(u,1+Math.min(i.actualValuePct,i.targetValuePct)+"%");l.openEnd();l.close("div")}}if(s._isTargetValueSet){l.openStart("div",s.getId()+"-bc-target-bar-value");l.class("sapSuiteBMCTargetBarValue");l.class(o);l.style(u,parseFloat(i.targetValuePct).toFixed(2)+"%");l.openEnd();l.close("div");l.close("div");if(M){l.openStart("div");l.class("sapSuiteBMCBottomLabel");l.openEnd();var P=V?V:""+s.getTargetValue();var m=P+c;l.openStart("div",s.getId()+"-bc-target-value");l.class("sapSuiteBMCTargetValue");l.class(o);l.openEnd();l.text(m);l.close("div");l.close("div")}}else{l.close("div")}l.close("div");l.openStart("div",s.getId()+"-info");l.attr("aria-hidden","true");l.style("display","none");l.openEnd();l.close("div");l.close("div");l.close("div")}else{this._renderNoData(l,s)}};s._writeMainProperties=function(e,a){var t=a.hasListeners("press");this._renderActiveProperties(e,a);var l=a.getTooltip_AsString(t);e.attr("role","figure");if(a.getAriaLabelledBy().length){e.accessibilityState(a)}else{e.attr("aria-label",l)}e.class("sapSuiteBMC");e.class("sapSuiteBMCContent");e.class(a._isResponsive()?"sapSuiteBMCResponsive":"sapSuiteBMCSize"+a.getSize());e.style("width",a.getWidth());e.style("height",a.getHeight())};s.renderThreshold=function(e,l,s,i){var r=a.getRTL()?"right":"left",o=.98*s.valuePct+1,c="sapSuiteBMCSemanticColor"+s.color;if(c==="sapSuiteBMCSemanticColor"+t.ValueColor.Error){e.openStart("div");e.class("sapSuiteBMCDiamond");e.class(i);e.class(c);e.style(r,o+"%");e.openEnd();e.close("div")}e.openStart("div");e.class("sapSuiteBMCThreshold");e.class(i);e.class(c);e.style(r,o+"%");e.openEnd();e.close("div")};l.extendMicroChartRenderer(s);return s},true);
//# sourceMappingURL=BulletMicroChartRenderer.js.map